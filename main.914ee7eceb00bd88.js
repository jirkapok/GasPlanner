(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[179],{217:(Ka,v,pe)=>{"use strict";function J(n){return"function"==typeof n}function s(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const g=s(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function p(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class c{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const a of t)a.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(J(r))try{r()}catch(a){e=a instanceof g?a.errors:[a]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const a of i)try{d(a)}catch(o){e=e??[],o instanceof g?e=[...e,...o.errors]:e.push(o)}}if(e)throw new g(e)}}add(e){var t;if(e&&e!==this)if(this.closed)d(e);else{if(e instanceof c){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&p(t,e)}remove(e){const{_finalizers:t}=this;t&&p(t,e),e instanceof c&&e._removeParent(this)}}c.EMPTY=(()=>{const n=new c;return n.closed=!0,n})();const l=c.EMPTY;function m(n){return n instanceof c||n&&"closed"in n&&J(n.remove)&&J(n.add)&&J(n.unsubscribe)}function d(n){J(n)?n():n.unsubscribe()}const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},u={setTimeout(n,e,...t){const{delegate:r}=u;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=u;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function C(n){u.setTimeout(()=>{const{onUnhandledError:e}=h;if(!e)throw n;e(n)})}function b(){}const M=A("C",void 0,void 0);function A(n,e,t){return{kind:n,value:e,error:t}}let k=null;function H(n){if(h.useDeprecatedSynchronousErrorHandling){const e=!k;if(e&&(k={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=k;if(k=null,t)throw r}}else n()}class I extends c{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,m(e)&&e.add(this)):this.destination=X}static create(e,t,r){return new S(e,t,r)}next(e){this.isStopped?z(function N(n){return A("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?z(function w(n){return A("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?z(M,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const D=Function.prototype.bind;function E(n,e){return D.call(n,e)}class P{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){R(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){R(r)}else R(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){R(t)}}}class S extends I{constructor(e,t,r){let i;if(super(),J(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let a;this&&h.useDeprecatedNextContext?(a=Object.create(e),a.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&E(e.next,a),error:e.error&&E(e.error,a),complete:e.complete&&E(e.complete,a)}):i=e}this.destination=new P(i)}}function R(n){h.useDeprecatedSynchronousErrorHandling?function L(n){h.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=n)}(n):C(n)}function z(n,e){const{onStoppedNotification:t}=h;t&&u.setTimeout(()=>t(n,e))}const X={closed:!0,next:b,error:function G(n){throw n},complete:b},W="function"==typeof Symbol&&Symbol.observable||"@@observable";function Z(n){return n}function te(n){return 0===n.length?Z:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let oe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const a=function Q(n){return n&&n instanceof I||function ie(n){return n&&J(n.next)&&J(n.error)&&J(n.complete)}(n)&&m(n)}(t)?t:new S(t,r,i);return H(()=>{const{operator:o,source:_}=this;a.add(o?o.call(a,_):_?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Ce(r))((i,a)=>{const o=new S({next:_=>{try{t(_)}catch(V){a(V),o.unsubscribe()}},error:a,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[W](){return this}pipe(...t){return te(t)(this)}toPromise(t){return new(t=Ce(t))((r,i)=>{let a;this.subscribe(o=>a=o,o=>i(o),()=>r(a))})}}return n.create=e=>new n(e),n})();function Ce(n){var e;return null!==(e=n??h.Promise)&&void 0!==e?e:Promise}const le=s(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let j=(()=>{class n extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new $(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new le}next(t){H(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){H(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){H(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:a}=this;return r||i?l:(this.currentObservers=null,a.push(t),new c(()=>{this.currentObservers=null,p(a,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:a}=this;r?t.error(i):a&&t.complete()}asObservable(){const t=new oe;return t.source=this,t}}return n.create=(e,t)=>new $(e,t),n})();class $ extends j{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:l}}function se(n){return J(n?.lift)}function ee(n){return e=>{if(se(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function F(n,e,t,r,i){return new O(n,e,t,r,i)}class O extends I{constructor(e,t,r,i,a,o){super(e),this.onFinalize=a,this.shouldUnsubscribe=o,this._next=t?function(_){try{t(_)}catch(V){e.error(V)}}:super._next,this._error=i?function(_){try{i(_)}catch(V){e.error(V)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(_){e.error(_)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Y(n,e){return ee((t,r)=>{let i=0;t.subscribe(F(r,a=>{r.next(n.call(e,a,i++))}))})}function Se(n){return this instanceof Se?(this.v=n,this):new Se(n)}function Te(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(je){r[je]&&(i[je]=function(ct){return new Promise(function(Ht,$t){a.push([je,ct,Ht,$t])>1||_(je,ct)})})}function _(je,ct){try{!function V(je){je.value instanceof Se?Promise.resolve(je.value.v).then(q,de):ze(a[0][2],je)}(r[je](ct))}catch(Ht){ze(a[0][3],Ht)}}function q(je){_("next",je)}function de(je){_("throw",je)}function ze(je,ct){je(ct),a.shift(),a.length&&_(a[0][0],a[0][1])}}function Oe(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function tt(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=n[a]&&function(o){return new Promise(function(_,V){!function i(a,o,_,V){Promise.resolve(V).then(function(q){a({value:q,done:_})},o)}(_,V,(o=n[a](o)).done,o.value)})}}}const gt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function xt(n){return J(n?.then)}function bt(n){return J(n[W])}function Ot(n){return Symbol.asyncIterator&&J(n?.[Symbol.asyncIterator])}function wt(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ge=function Be(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function vt(n){return J(n?.[Ge])}function Pt(n){return Te(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Se(t.read());if(i)return yield Se(void 0);yield yield Se(r)}}finally{t.releaseLock()}})}function Jt(n){return J(n?.getReader)}function tn(n){if(n instanceof oe)return n;if(null!=n){if(bt(n))return function Kt(n){return new oe(e=>{const t=n[W]();if(J(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(gt(n))return function qt(n){return new oe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(xt(n))return function Nt(n){return new oe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,C)})}(n);if(Ot(n))return _e(n);if(vt(n))return function ge(n){return new oe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Jt(n))return function We(n){return _e(Pt(n))}(n)}throw wt(n)}function _e(n){return new oe(e=>{(function Je(n,e){var t,r,i,a;return function ke(n,e,t,r){return new(t||(t=Promise))(function(a,o){function _(de){try{q(r.next(de))}catch(ze){o(ze)}}function V(de){try{q(r.throw(de))}catch(ze){o(ze)}}function q(de){de.done?a(de.value):function i(a){return a instanceof t?a:new t(function(o){o(a)})}(de.value).then(_,V)}q((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Oe(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(a=t.return)&&(yield a.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ft(n,e,t,r=0,i=!1){const a=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(a),!i)return a}function et(n,e,t=1/0){return J(e)?et((r,i)=>Y((a,o)=>e(r,a,i,o))(tn(n(r,i))),t):("number"==typeof e&&(t=e),ee((r,i)=>function st(n,e,t,r,i,a,o,_){const V=[];let q=0,de=0,ze=!1;const je=()=>{ze&&!V.length&&!q&&e.complete()},ct=$t=>q<r?Ht($t):V.push($t),Ht=$t=>{a&&e.next($t),q++;let un=!1;tn(t($t,de++)).subscribe(F(e,Cn=>{i?.(Cn),a?ct(Cn):e.next(Cn)},()=>{un=!0},void 0,()=>{if(un)try{for(q--;V.length&&q<r;){const Cn=V.shift();o?ft(e,o,()=>Ht(Cn)):Ht(Cn)}je()}catch(Cn){e.error(Cn)}}))};return n.subscribe(F(e,ct,()=>{ze=!0,je()})),()=>{_?.()}}(r,i,n,t)))}function ut(n=1/0){return et(Z,n)}const St=new oe(n=>n.complete());function an(n){return n&&J(n.schedule)}function Tt(n){return n[n.length-1]}function Wt(n){return J(Tt(n))?n.pop():void 0}function dn(n){return an(Tt(n))?n.pop():void 0}function zt(n,e=0){return ee((t,r)=>{t.subscribe(F(r,i=>ft(r,n,()=>r.next(i),e),()=>ft(r,n,()=>r.complete(),e),i=>ft(r,n,()=>r.error(i),e)))})}function sn(n,e=0){return ee((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function wn(n,e){if(!n)throw new Error("Iterable cannot be null");return new oe(t=>{ft(t,e,()=>{const r=n[Symbol.asyncIterator]();ft(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ln(n,e){return e?function Sn(n,e){if(null!=n){if(bt(n))return function Qt(n,e){return tn(n).pipe(sn(e),zt(e))}(n,e);if(gt(n))return function en(n,e){return new oe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(xt(n))return function jt(n,e){return tn(n).pipe(sn(e),zt(e))}(n,e);if(Ot(n))return wn(n,e);if(vt(n))return function Ft(n,e){return new oe(t=>{let r;return ft(t,e,()=>{r=n[Ge](),ft(t,e,()=>{let i,a;try{({value:i,done:a}=r.next())}catch(o){return void t.error(o)}a?t.complete():t.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}(n,e);if(Jt(n))return function bn(n,e){return wn(Pt(n),e)}(n,e)}throw wt(n)}(n,e):tn(n)}function Wn(...n){const e=dn(n),t=function At(n,e){return"number"==typeof Tt(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?tn(r[0]):ut(t)(Ln(r,e)):St}function Xt(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new S({next:()=>{r.unsubscribe(),n()}});return tn(e(...t)).subscribe(r)}function It(n){for(let e in n)if(n[e]===It)return e;throw Error("Could not find renamed property on target object.")}function nn(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function gn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(gn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function cn(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Fn=It({__forward_ref__:It});function An(n){return n.__forward_ref__=An,n.toString=function(){return gn(this())},n}function _n(n){return r2(n)?n():n}function r2(n){return"function"==typeof n&&n.hasOwnProperty(Fn)&&n.__forward_ref__===An}function g2(n){return n&&!!n.\u0275providers}const h2="https://g.co/ng/security#xss";class Yt extends Error{constructor(e,t){super(function Yn(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function Bn(n){return"string"==typeof n?n:null==n?"":String(n)}function Rn(n,e){throw new Yt(-201,!1)}function j2(n,e){null==n&&function G2(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function Nn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function e1(n){return{providers:n.providers||[],imports:n.imports||[]}}function Br(n){return j1(n,Ps)||j1(n,U3)}function j1(n,e){return n.hasOwnProperty(e)?n[e]:null}function wl(n){return n&&(n.hasOwnProperty(fo)||n.hasOwnProperty(Zo))?n[fo]:null}const Ps=It({\u0275prov:It}),fo=It({\u0275inj:It}),U3=It({ngInjectableDef:It}),Zo=It({ngInjectorDef:It});var H2=(()=>((H2=H2||{})[H2.Default=0]="Default",H2[H2.Host=1]="Host",H2[H2.Self=2]="Self",H2[H2.SkipSelf=4]="SkipSelf",H2[H2.Optional=8]="Optional",H2))();let tr;function Ar(n){const e=tr;return tr=n,e}function $4(n,e,t){const r=Br(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&H2.Optional?null:void 0!==e?e:void Rn(gn(n))}const m1=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),hs={},Qo="__NG_DI_FLAG__",Ii="ngTempTokenPath",W4=/\n/gm,ps="__source";let Qa;function pi(n){const e=Qa;return Qa=n,e}function j3(n,e=H2.Default){if(void 0===Qa)throw new Yt(-203,!1);return null===Qa?$4(n,void 0,e):Qa.get(n,e&H2.Optional?null:void 0,e)}function ln(n,e=H2.Default){return(function G4(){return tr}()||j3)(_n(n),e)}function $2(n,e=H2.Default){return ln(n,Is(e))}function Is(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function q4(n){const e=[];for(let t=0;t<n.length;t++){const r=_n(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Yt(900,!1);let i,a=H2.Default;for(let o=0;o<r.length;o++){const _=r[o],V=m6(_);"number"==typeof V?-1===V?i=_.token:a|=V:i=_}e.push(ln(i,a))}else e.push(ln(r))}return e}function Os(n,e){return n[Qo]=e,n.prototype[Qo]=e,n}function m6(n){return n[Qo]}function Ja(n){return{toString:n}.toString()}var mi=(()=>((mi=mi||{})[mi.OnPush=0]="OnPush",mi[mi.Default=1]="Default",mi))(),Oi=(()=>{return(n=Oi||(Oi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Oi;var n})();const ha={},k1=[],pa=It({\u0275cmp:It}),Jo=It({\u0275dir:It}),Y4=It({\u0275pipe:It}),G3=It({\u0275mod:It}),ma=It({\u0275fac:It}),po=It({__NG_ELEMENT_ID__:It});let Sl=0;function L2(n){return Ja(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===mi.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||k1,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Oi.Emulated,id:"c"+Sl++,styles:n.styles||k1,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},a=n.dependencies,o=n.features;return i.inputs=go(n.inputs,r),i.outputs=go(n.outputs),o&&o.forEach(_=>_(i)),i.directiveDefs=a?()=>("function"==typeof a?a():a).map(mo).filter(X4):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(ii).filter(X4):null,i})}function mo(n){return E1(n)||fr(n)}function X4(n){return null!==n}function W1(n){return Ja(()=>({type:n.type,bootstrap:n.bootstrap||k1,declarations:n.declarations||k1,imports:n.imports||k1,exports:n.exports||k1,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function go(n,e){if(null==n)return ha;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),t[i]=r,e&&(e[i]=a)}return t}const f2=L2;function Q1(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function E1(n){return n[pa]||null}function fr(n){return n[Jo]||null}function ii(n){return n[Y4]||null}function qr(n,e){const t=n[G3]||null;if(!t&&!0===e)throw new Error(`Type ${gn(n)} does not have '\u0275mod' property.`);return t}function X2(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ji(n){return Array.isArray(n)&&!0===n[1]}function Y3(n){return 0!=(4&n.flags)}function ms(n){return n.componentOffset>-1}function n3(n){return 1==(1&n.flags)}function ea(n){return null!==n.template}function ec(n){return 0!=(256&n[2])}function ys(n,e){return n.hasOwnProperty(ma)?n[ma]:null}class ac{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function M1(){return Cr}function Cr(n){return n.type.prototype.ngOnChanges&&(n.setInput=Hl),sc}function sc(){const n=oc(this),e=n?.current;if(e){const t=n.previous;if(t===ha)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Hl(n,e,t,r){const i=this.declaredInputs[t],a=oc(n)||function Q3(n,e){return n[vi]=e}(n,{previous:ha,current:null}),o=a.current||(a.current={}),_=a.previous,V=_[i];o[i]=new ac(V&&V.currentValue,e,_===ha),n[r]=e}M1.ngInherit=!0;const vi="__ngSimpleChanges__";function oc(n){return n[vi]||null}function pr(n){for(;Array.isArray(n);)n=n[0];return n}function J3(n,e){return pr(e[n])}function _i(n,e){return pr(e[n.index])}function Ll(n,e){return n.data[e]}function Co(n,e){return n[e]}function Ur(n,e){const t=e[n];return X2(t)?t:t[0]}function _s(n){return 64==(64&n[2])}function Zr(n,e){return null==e?null:n[e]}function xo(n){n[18]=0}function Nr(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Gn={lFrame:Hn(null),bindingsEnabled:!0};function e4(){return Gn.bindingsEnabled}function Tn(){return Gn.lFrame.lView}function n1(){return Gn.lFrame.tView}function s2(n){return Gn.lFrame.contextLView=n,n[8]}function o2(n){return Gn.lFrame.contextLView=null,n}function Hr(){let n=kl();for(;null!==n&&64===n.type;)n=n.parent;return n}function kl(){return Gn.lFrame.currentTNode}function y(n,e){const t=Gn.lFrame;t.currentTNode=n,t.isParent=e}function T(){return Gn.lFrame.isParent}function U(){Gn.lFrame.isParent=!1}function ye(){const n=Gn.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Le(){return Gn.lFrame.bindingIndex}function De(){return Gn.lFrame.bindingIndex++}function Ie(n){const e=Gn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Ct(n,e){const t=Gn.lFrame;t.bindingIndex=t.bindingRootIndex=n,pt(e)}function pt(n){Gn.lFrame.currentDirectiveIndex=n}function lt(){return Gn.lFrame.currentQueryIndex}function Rt(n){Gn.lFrame.currentQueryIndex=n}function Dt(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function mt(n,e,t){if(t&H2.SkipSelf){let i=e,a=n;for(;!(i=i.parent,null!==i||t&H2.Host||(i=Dt(a),null===i||(a=a[15],10&i.type))););if(null===i)return!1;e=i,n=a}const r=Gn.lFrame=on();return r.currentTNode=e,r.lView=n,!0}function rn(n){const e=on(),t=n[1];Gn.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function on(){const n=Gn.lFrame,e=null===n?null:n.child;return null===e?Hn(n):e}function Hn(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Vn(){const n=Gn.lFrame;return Gn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const $n=Vn;function Zn(){const n=Vn();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function _2(){return Gn.lFrame.selectedIndex}function w1(n){Gn.lFrame.selectedIndex=n}function B2(){const n=Gn.lFrame;return Ll(n.tView,n.selectedIndex)}function N1(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const a=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:_,ngAfterViewInit:V,ngAfterViewChecked:q,ngOnDestroy:de}=a;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),_&&((n.contentHooks||(n.contentHooks=[])).push(t,_),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,_)),V&&(n.viewHooks||(n.viewHooks=[])).push(-t,V),q&&((n.viewHooks||(n.viewHooks=[])).push(t,q),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,q)),null!=de&&(n.destroyHooks||(n.destroyHooks=[])).push(t,de)}}function l1(n,e,t){lr(n,e,3,t)}function cr(n,e,t,r){(3&n[2])===t&&lr(n,e,t,r)}function xr(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function lr(n,e,t,r){const a=r??-1,o=e.length-1;let _=0;for(let V=void 0!==r?65535&n[18]:0;V<o;V++)if("number"==typeof e[V+1]){if(_=e[V],null!=r&&_>=r)break}else e[V]<0&&(n[18]+=65536),(_<a||-1==a)&&(Er(n,t,e,V),n[18]=(4294901760&n[18])+V+2),V++}function Er(n,e,t,r){const i=t[r]<0,a=t[r+1],_=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{a.call(_)}finally{}}}else try{a.call(_)}finally{}}class Mr{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Ci(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const a=t[r++],o=t[r++],_=t[r++];n.setAttribute(e,o,_,a)}else{const a=i,o=t[++r];cc(a)?n.setProperty(e,a,o):n.setAttribute(e,a,o),r++}}return r}function wo(n){return 3===n||4===n||6===n}function cc(n){return 64===n.charCodeAt(0)}function lc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||n4(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function n4(n,e,t,r,i){let a=0,o=n.length;if(-1===e)o=-1;else for(;a<n.length;){const _=n[a++];if("number"==typeof _){if(_===e){o=-1;break}if(_>e){o=a-1;break}}}for(;a<n.length;){const _=n[a];if("number"==typeof _)break;if(_===t){if(null===r)return void(null!==i&&(n[a+1]=i));if(r===n[a+1])return void(n[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==o&&(n.splice(o,0,e),a=o+1),n.splice(a++,0,t),null!==r&&n.splice(a++,0,r),null!==i&&n.splice(a++,0,i)}function L5(n){return-1!==n}function Vl(n){return 32767&n}function uc(n,e){let t=function z6(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let H6=!0;function Al(n){const e=H6;return H6=n,e}let e9=0;const Ia={};function fc(n,e){const t=dc(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,El(r.data,n),El(e,null),El(r.blueprint,null));const i=D6(n,e),a=n.injectorIndex;if(L5(i)){const o=Vl(i),_=uc(i,e),V=_[1].data;for(let q=0;q<8;q++)e[a+q]=_[o+q]|V[o+q]}return e[a+8]=i,a}function El(n,e){n.push(0,0,0,0,0,0,0,0,e)}function dc(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function D6(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=ya(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Pl(n,e,t){!function D5(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(po)&&(r=t[po]),null==r&&(r=t[po]=e9++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function k5(n,e,t){if(t&H2.Optional||void 0!==n)return n;Rn()}function T6(n,e,t,r){if(t&H2.Optional&&void 0===r&&(r=null),!(t&(H2.Self|H2.Host))){const i=n[9],a=Ar(void 0);try{return i?i.get(e,r,t&H2.Optional):$4(e,r,t&H2.Optional)}finally{Ar(a)}}return k5(r,0,t)}function V5(n,e,t,r=H2.Default,i){if(null!==n){if(1024&e[2]){const o=function t9(n,e,t,r,i){let a=n,o=e;for(;null!==a&&null!==o&&1024&o[2]&&!(256&o[2]);){const _=Il(a,o,t,r|H2.Self,Ia);if(_!==Ia)return _;let V=a.parent;if(!V){const q=o[21];if(q){const de=q.get(t,Ia,r);if(de!==Ia)return de}V=ya(o),o=o[15]}a=V}return i}(n,e,t,r,Ia);if(o!==Ia)return o}const a=Il(n,e,t,r,Ia);if(a!==Ia)return a}return T6(e,t,r,i)}function Il(n,e,t,r,i){const a=function k6(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(po)?n[po]:void 0;return"number"==typeof e?e>=0?255&e:hc:e}(t);if("function"==typeof a){if(!mt(e,n,r))return r&H2.Host?k5(i,0,r):T6(e,t,r,i);try{const o=a(r);if(null!=o||r&H2.Optional)return o;Rn()}finally{$n()}}else if("number"==typeof a){let o=null,_=dc(n,e),V=-1,q=r&H2.Host?e[16][6]:null;for((-1===_||r&H2.SkipSelf)&&(V=-1===_?D6(n,e):e[_+8],-1!==V&&N5(r,!1)?(o=e[1],_=Vl(V),e=uc(V,e)):_=-1);-1!==_;){const de=e[1];if(h1(a,_,de.data)){const ze=A5(_,e,t,o,r,q);if(ze!==Ia)return ze}V=e[_+8],-1!==V&&N5(r,e[1].data[_+8]===q)&&h1(a,_,e)?(o=de,_=Vl(V),e=uc(V,e)):_=-1}}return i}function A5(n,e,t,r,i,a){const o=e[1],_=o.data[n+8],de=r4(_,o,t,null==r?ms(_)&&H6:r!=o&&0!=(3&_.type),i&H2.Host&&a===_);return null!==de?o3(e,o,de,_):Ia}function r4(n,e,t,r,i){const a=n.providerIndexes,o=e.data,_=1048575&a,V=n.directiveStart,de=a>>20,je=i?_+de:n.directiveEnd;for(let ct=r?_:_+de;ct<je;ct++){const Ht=o[ct];if(ct<V&&t===Ht||ct>=V&&Ht.type===t)return ct}if(i){const ct=o[V];if(ct&&ea(ct)&&ct.type===t)return V}return null}function o3(n,e,t,r){let i=n[t];const a=e.data;if(function Cs(n){return n instanceof Mr}(i)){const o=i;o.resolving&&function On(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Yt(-200,`Circular dependency in DI detected for ${n}${t}`)}(function n2(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Bn(n)}(a[t]));const _=Al(o.canSeeViewProviders);o.resolving=!0;const V=o.injectImpl?Ar(o.injectImpl):null;mt(n,r,H2.Default);try{i=n[t]=o.factory(void 0,a,n,r),e.firstCreatePass&&t>=r.directiveStart&&function b1(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:a}=e.type.prototype;if(r){const o=Cr(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),a&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,a),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,a))}(t,a[t],e)}finally{null!==V&&Ar(V),Al(_),o.resolving=!1,$n()}}return i}function h1(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function N5(n,e){return!(n&H2.Self||n&H2.Host&&e)}class i4{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return V5(this._tNode,this._lView,e,Is(r),t)}}function hc(){return new i4(Hr(),Tn())}function Xr(n){return Ja(()=>{const e=n.prototype.constructor,t=e[ma]||V6(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const a=i[ma]||V6(i);if(a&&a!==t)return a;i=Object.getPrototypeOf(i)}return a=>new a})}function V6(n){return r2(n)?()=>{const e=V6(_n(n));return e&&e()}:ys(n)}function ya(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const So="__parameters__";function _a(n,e,t){return Ja(()=>{const r=function Ri(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...a){if(this instanceof i)return r.apply(this,a),this;const o=new i(...a);return _.annotation=o,_;function _(V,q,de){const ze=V.hasOwnProperty(So)?V[So]:Object.defineProperty(V,So,{value:[]})[So];for(;ze.length<=de;)ze.push(null);return(ze[de]=ze[de]||[]).push(o),V}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class l2{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Nn({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function zo(n,e){n.forEach(t=>Array.isArray(t)?zo(t,e):e(t))}function R5(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function mc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function a4(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function bi(n,e,t){let r=u3(n,e);return r>=0?n[1|r]=t:(r=~r,function o9(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Ho(n,e){const t=u3(n,e);if(t>=0)return n[1|t]}function u3(n,e){return function B5(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const a=r+(i-r>>1),o=n[a<<t];if(e===o)return a<<t;o>e?i=a:r=a+1}return~(i<<t)}(n,e,1)}const f3=Os(_a("Inject",n=>({token:n})),-1),Lo=Os(_a("Optional"),8),_c=Os(_a("SkipSelf"),4);var ra=(()=>((ra=ra||{})[ra.Important=1]="Important",ra[ra.DashCase=2]="DashCase",ra))();const F6=new Map;let p9=0;const Ul="__ngContext__";function ai(n,e){X2(e)?(n[Ul]=e[20],function nf(n){F6.set(n[20],n)}(e)):n[Ul]=e}function G6(n,e){return undefined(n,e)}function wc(n){const e=n[3];return Ji(e)?e[3]:e}function jl(n){return $6(n[13])}function Gl(n){return $6(n[4])}function $6(n){for(;null!==n&&!Ji(n);)n=n[4];return n}function f4(n,e,t,r,i){if(null!=r){let a,o=!1;Ji(r)?a=r:X2(r)&&(o=!0,r=r[0]);const _=pr(r);0===n&&null!==t?null==i?mf(e,t,_):Zs(e,t,_,i||null,!0):1===n&&null!==t?Zs(e,t,_,i||null,!0):2===n?function K6(n,e,t){const r=Wl(n,e);r&&function T9(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,_,o):3===n&&e.destroyNode(_),null!=a&&function J6(n,e,t,r,i){const a=t[7];a!==pr(t)&&f4(e,n,r,a,i);for(let _=10;_<t.length;_++){const V=t[_];Sc(V[1],V,n,e,r,a)}}(e,n,a,t,i)}}function q6(n,e,t){return n.createElement(e,t)}function ff(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Nr(i,-1)),t.splice(r,1)}function Y6(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&ff(i,r),e>0&&(n[t-1][4]=r[4]);const a=mc(n,10+e);!function M9(n,e){Sc(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=a[19];null!==o&&o.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function df(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Sc(n,e,t,3,null,null),function z9(n){let e=n[13];if(!e)return $l(n[1],n);for(;e;){let t=null;if(X2(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)X2(e)&&$l(e[1],e),e=e[3];null===e&&(e=n),X2(e)&&$l(e[1],e),t=e&&e[4]}e=t}}(e)}}function $l(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function D9(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Mr)){const a=t[r+1];if(Array.isArray(a))for(let o=0;o<a.length;o+=2){const _=i[a[o]],V=a[o+1];try{V.call(_)}finally{}}else try{a.call(i)}finally{}}}}(n,e),function L9(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let a=0;a<t.length-1;a+=2)if("string"==typeof t[a]){const o=t[a+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),a+=2}else{const o=r[i=t[a+1]];t[a].call(o)}if(null!==r){for(let a=i+1;a<r.length;a++)(0,r[a])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Ji(e[3])){t!==e[3]&&ff(t,e);const r=e[19];null!==r&&r.detachView(n)}!function g9(n){F6.delete(n[20])}(e)}}function hf(n,e,t){return function pf(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:a}=n.data[r.directiveStart+i];if(a===Oi.None||a===Oi.Emulated)return null}return _i(r,t)}}(n,e.parent,t)}function Zs(n,e,t,r,i){n.insertBefore(e,t,r,i)}function mf(n,e,t){n.appendChild(e,t)}function gf(n,e,t,r,i){null!==r?Zs(n,e,t,r,i):mf(n,e,t)}function Wl(n,e){return n.parentNode(e)}function vf(n,e,t){return _f(n,e,t)}let Zl,d4,Xl,_f=function yf(n,e,t){return 40&n.type?_i(n,t):null};function ql(n,e,t,r){const i=hf(n,r,e),a=e[11],_=vf(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let V=0;V<t.length;V++)gf(a,i,t[V],_,!1);else gf(a,i,t,_,!1)}function Yl(n,e){if(null!==e){const t=e.type;if(3&t)return _i(e,n);if(4&t)return X6(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Yl(n,r);{const i=n[e.index];return Ji(i)?X6(-1,i):pr(i)}}if(32&t)return G6(e,n)()||pr(n[e.index]);{const r=bf(n,e);return null!==r?Array.isArray(r)?r[0]:Yl(wc(n[16]),r):Yl(n,e.next)}}return null}function bf(n,e){return null!==e?n[16][6].projection[e.projection]:null}function X6(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Yl(r,i)}return e[7]}function Q6(n,e,t,r,i,a,o){for(;null!=t;){const _=r[t.index],V=t.type;if(o&&0===e&&(_&&ai(pr(_),r),t.flags|=2),32!=(32&t.flags))if(8&V)Q6(n,e,t.child,r,i,a,!1),f4(e,n,i,_,a);else if(32&V){const q=G6(t,r);let de;for(;de=q();)f4(e,n,i,de,a);f4(e,n,i,_,a)}else 16&V?xf(n,e,r,t,i,a):f4(e,n,i,_,a);t=o?t.projectionNext:t.next}}function Sc(n,e,t,r,i,a){Q6(t,r,n.firstChild,e,i,a,!1)}function xf(n,e,t,r,i,a){const o=t[16],V=o[6].projection[r.projection];if(Array.isArray(V))for(let q=0;q<V.length;q++)f4(e,n,i,V[q],a);else Q6(n,e,V,o[3],i,a,!0)}function wf(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Sf(n,e,t){const{mergedAttrs:r,classes:i,styles:a}=t;null!==r&&Ci(n,e,r),null!==i&&wf(n,e,i),null!==a&&function A9(n,e,t){n.setAttribute(e,"style",t)}(n,e,a)}function v3(n){return function e8(){if(void 0===Zl&&(Zl=null,m1.trustedTypes))try{Zl=m1.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zl}()?.createHTML(n)||n}function t8(){if(void 0===Xl&&(Xl=null,m1.trustedTypes))try{Xl=m1.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Xl}function Hf(n){return t8()?.createHTML(n)||n}function Df(n){return t8()?.createScriptURL(n)||n}class y3{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${h2})`}}class F9 extends y3{getTypeName(){return"HTML"}}class R9 extends y3{getTypeName(){return"Style"}}class B9 extends y3{getTypeName(){return"Script"}}class U9 extends y3{getTypeName(){return"URL"}}class j9 extends y3{getTypeName(){return"ResourceURL"}}function ba(n){return n instanceof y3?n.changingThisBreaksApplicationSecurity:n}function xs(n,e){const t=function G9(n){return n instanceof y3&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${h2})`)}return t===e}class Kl{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(v3(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class Y9{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=v3(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=v3(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const X9=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Ql(n){return(n=String(n)).match(X9)?n:"unsafe:"+n}function Xs(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function zc(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Af=Xs("area,br,col,hr,img,wbr"),Nf=Xs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ef=Xs("rp,rt"),r8=zc(Af,zc(Nf,Xs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zc(Ef,Xs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zc(Ef,Nf)),Jl=Xs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),i8=zc(Jl,Xs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),If=Xs("script,style,template");class Of{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!r8.hasOwnProperty(t))return this.sanitizedSomething=!0,!If.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const a=r.item(i),o=a.name,_=o.toLowerCase();if(!i8.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let V=a.value;Jl[_]&&(V=Ql(V)),this.buf.push(" ",o,'="',Rf(V),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();r8.hasOwnProperty(t)&&!Af.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Rf(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Ff=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Q9=/([^\#-~ |!])/g;function Rf(n){return n.replace(/&/g,"&amp;").replace(Ff,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Q9,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let e0;function Hc(n,e){let t=null;try{e0=e0||function Vf(n){const e=new Y9(n);return function Z9(){try{return!!(new window.DOMParser).parseFromString(v3(""),"text/html")}catch{return!1}}()?new Kl(e):e}(n);let r=e?String(e):"";t=e0.getInertBodyElement(r);let i=5,a=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=a,a=t.innerHTML,t=e0.getInertBodyElement(r)}while(r!==a);return v3((new Of).sanitizeChildren(h4(t)||t))}finally{if(t){const r=h4(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function h4(n){return"content"in n&&function J9(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var J1=(()=>((J1=J1||{})[J1.NONE=0]="NONE",J1[J1.HTML=1]="HTML",J1[J1.STYLE=2]="STYLE",J1[J1.SCRIPT=3]="SCRIPT",J1[J1.URL=4]="URL",J1[J1.RESOURCE_URL=5]="RESOURCE_URL",J1))();function t0(n){const e=Dc();return e?Hf(e.sanitize(J1.HTML,n)||""):xs(n,"HTML")?Hf(ba(n)):Hc(function zf(){return void 0!==d4?d4:typeof document<"u"?document:void 0}(),Bn(n))}function Lc(n){const e=Dc();return e?e.sanitize(J1.URL,n)||"":xs(n,"URL")?ba(n):Ql(Bn(n))}function Uf(n){const e=Dc();if(e)return Df(e.sanitize(J1.RESOURCE_URL,n)||"");if(xs(n,"ResourceURL"))return Df(ba(n));throw new Yt(904,!1)}function Dc(){const n=Tn();return n&&n[12]}const n0=new l2("ENVIRONMENT_INITIALIZER"),Gf=new l2("INJECTOR",-1),Ra=new l2("INJECTOR_DEF_TYPES");class $f{get(e,t=hs){if(t===hs){const r=new Error(`NullInjectorError: No provider for ${gn(e)}!`);throw r.name="NullInjectorError",r}return t}}function _3(...n){return{\u0275providers:r1(0,n),\u0275fromNgModule:!0}}function r1(n,...e){const t=[],r=new Set;let i;return zo(e,a=>{const o=a;Mi(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&Wf(i,t),t}function Wf(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];a8(i,a=>{e.push(a)})}}function Mi(n,e,t,r){if(!(n=_n(n)))return!1;let i=null,a=wl(n);const o=!a&&E1(n);if(a||o){if(o&&!o.standalone)return!1;i=n}else{const V=n.ngModule;if(a=wl(V),!a)return!1;i=V}const _=r.has(i);if(o){if(_)return!1;if(r.add(i),o.dependencies){const V="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const q of V)Mi(q,e,t,r)}}else{if(!a)return!1;{if(null!=a.imports&&!_){let q;r.add(i);try{zo(a.imports,de=>{Mi(de,e,t,r)&&(q||(q=[]),q.push(de))})}finally{}void 0!==q&&Wf(q,e)}if(!_){const q=ys(i)||(()=>new i);e.push({provide:i,useFactory:q,deps:k1},{provide:Ra,useValue:i,multi:!0},{provide:n0,useValue:()=>ln(i),multi:!0})}const V=a.providers;null==V||_||a8(V,de=>{e.push(de)})}}return i!==n&&void 0!==n.providers}function a8(n,e){for(let t of n)g2(t)&&(t=t.\u0275providers),Array.isArray(t)?a8(t,e):e(t)}const Vo=It({provide:String,useValue:It});function s8(n){return null!==n&&"object"==typeof n&&Vo in n}function C3(n){return"function"==typeof n}const Tc=new l2("Set Injector scope."),r0={},Ks={};let a0;function b3(){return void 0===a0&&(a0=new $f),a0}class B1{}class gr extends B1{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,x3(e,o=>this.processProvider(o)),this.records.set(Gf,p4(void 0,this)),i.has("environment")&&this.records.set(B1,p4(void 0,this));const a=this.records.get(Tc);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(Ra.multi,k1,H2.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=pi(this),r=Ar(void 0);try{return e()}finally{pi(t),Ar(r)}}get(e,t=hs,r=H2.Default){this.assertNotDestroyed(),r=Is(r);const i=pi(this),a=Ar(void 0);try{if(!(r&H2.SkipSelf)){let _=this.records.get(e);if(void 0===_){const V=function Xf(n){return"function"==typeof n||"object"==typeof n&&n instanceof l2}(e)&&Br(e);_=V&&this.injectableDefInScope(V)?p4(s0(e),r0):null,this.records.set(e,_)}if(null!=_)return this.hydrate(e,_)}return(r&H2.Self?b3():this.parent).get(e,t=r&H2.Optional&&t===hs?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Ii]=o[Ii]||[]).unshift(gn(e)),i)throw o;return function g6(n,e,t,r){const i=n[Ii];throw e[ps]&&i.unshift(e[ps]),n.message=function v6(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=gn(e);if(Array.isArray(e))i=e.map(gn).join(" -> ");else if("object"==typeof e){let a=[];for(let o in e)if(e.hasOwnProperty(o)){let _=e[o];a.push(o+":"+("string"==typeof _?JSON.stringify(_):gn(_)))}i=`{${a.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(W4,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Ii]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Ar(a),pi(i)}}resolveInjectorInitializers(){const e=pi(this),t=Ar(void 0);try{const r=this.get(n0.multi,k1,H2.Self);for(const i of r)i()}finally{pi(e),Ar(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(gn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Yt(205,!1)}processProvider(e){let t=C3(e=_n(e))?e:_n(e&&e.provide);const r=function sp(n){return s8(n)?p4(void 0,n.useValue):p4(Zf(n),r0)}(e);if(C3(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=p4(void 0,r0,!0),i.factory=()=>q4(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===r0&&(t.value=Ks,t.value=t.factory()),"object"==typeof t.value&&t.value&&function cp(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=_n(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function s0(n){const e=Br(n),t=null!==e?e.factory:ys(n);if(null!==t)return t;if(n instanceof l2)throw new Yt(204,!1);if(n instanceof Function)return function ap(n){const e=n.length;if(e>0)throw a4(e,"?"),new Yt(204,!1);const t=function Ml(n){const e=n&&(n[Ps]||n[U3]);if(e){const t=function Yo(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Yt(204,!1)}function Zf(n,e,t){let r;if(C3(n)){const i=_n(n);return ys(i)||s0(i)}if(s8(n))r=()=>_n(n.useValue);else if(function Yf(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...q4(n.deps||[]));else if(function qf(n){return!(!n||!n.useExisting)}(n))r=()=>ln(_n(n.useExisting));else{const i=_n(n&&(n.useClass||n.provide));if(!function op(n){return!!n.deps}(n))return ys(i)||s0(i);r=()=>new i(...q4(n.deps))}return r}function p4(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function x3(n,e){for(const t of n)Array.isArray(t)?x3(t,e):t&&g2(t)?x3(t.\u0275providers,e):e(t)}class o8{}class Kf{}class m4{resolveComponentFactory(e){throw function Qf(n){const e=Error(`No component factory found for ${gn(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Ao=(()=>{class n{}return n.NULL=new m4,n})();function lp(){return g4(Hr(),Tn())}function g4(n,e){return new ir(_i(n,e))}let ir=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=lp,n})();function up(n){return n instanceof ir?n.nativeElement:n}class v4{}let Ir=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function u1(){const n=Tn(),t=Ur(Hr().index,n);return(X2(t)?t:n)[11]}(),n})(),Jf=(()=>{class n{}return n.\u0275prov=Nn({token:n,providedIn:"root",factory:()=>null}),n})();class wi{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const e7=new wi("15.1.1"),c8={};function o0(n){return n.ngOriginalError}class Qs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&o0(e);for(;t&&o0(t);)t=o0(t);return t||null}}function t7(n){return n.ownerDocument.defaultView}function Js(n){return n instanceof Function?n():n}function l0(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const a=e.length;if(i+a===r||n.charCodeAt(i+a)<=32)return i}t=i+1}}const n7="ng-template";function Cp(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==l0(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function r7(n){return 4===n.type&&n.value!==n7}function Qr(n,e,t){return e===(4!==n.type||t?n.value:n7)}function ia(n,e,t){let r=4;const i=n.attrs||[],a=function xp(n){for(let e=0;e<n.length;e++)if(wo(n[e]))return e;return n.length}(i);let o=!1;for(let _=0;_<e.length;_++){const V=e[_];if("number"!=typeof V){if(!o)if(4&r){if(r=2|1&r,""!==V&&!Qr(n,V,t)||""===V&&1===e.length){if(as(r))return!1;o=!0}}else{const q=8&r?V:e[++_];if(8&r&&null!==n.attrs){if(!Cp(n.attrs,q,t)){if(as(r))return!1;o=!0}continue}const ze=bp(8&r?"class":V,i,r7(n),t);if(-1===ze){if(as(r))return!1;o=!0;continue}if(""!==q){let je;je=ze>a?"":i[ze+1].toLowerCase();const ct=8&r?je:null;if(ct&&-1!==l0(ct,q,0)||2&r&&q!==je){if(as(r))return!1;o=!0}}}}else{if(!o&&!as(r)&&!as(V))return!1;if(o&&as(V))continue;o=!1,r=V|1&r}}return as(r)||o}function as(n){return 0==(1&n)}function bp(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let a=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){let _=e[++i];for(;"string"==typeof _;)_=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function Mp(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function i7(n,e,t=!1){for(let r=0;r<e.length;r++)if(ia(n,e[r],t))return!0;return!1}function wp(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function l8(n,e){return n?":not("+e.trim()+")":e}function Sp(n){let e=n[0],t=1,r=2,i="",a=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const _=n[++t];i+="["+o+(_.length>0?'="'+_+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!as(o)&&(e+=l8(a,i),i=""),r=o,a=a||!as(r);t++}return""!==i&&(e+=l8(a,i)),e}const K2={};function Ve(n){s7(n1(),Tn(),_2()+n,!1)}function s7(n,e,t,r){if(!r)if(3==(3&e[2])){const a=n.preOrderCheckHooks;null!==a&&l1(e,a,t)}else{const a=n.preOrderHooks;null!==a&&cr(e,a,0,t)}w1(t)}function u8(n,e=null,t=null,r){const i=f8(n,e,t,r);return i.resolveInjectorInitializers(),i}function f8(n,e=null,t=null,r,i=new Set){const a=[t||k1,_3(n)];return r=r||("object"==typeof n?void 0:gn(n)),new gr(a,e||b3(),r||null,i)}let Ui=(()=>{class n{static create(t,r){if(Array.isArray(t))return u8({name:""},r,t,"");{const i=t.name??"";return u8({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=hs,n.NULL=new $f,n.\u0275prov=Nn({token:n,providedIn:"any",factory:()=>ln(Gf)}),n.__NG_ELEMENT_ID__=-1,n})();function yt(n,e=H2.Default){const t=Tn();return null===t?ln(n,e):V5(Hr(),t,_n(n),e)}function ji(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const a=t[r+1];if(-1!==a){const o=n.data[a];Rt(t[r]),o.contentQueries(2,e[a],a)}}}function h0(n,e,t,r,i,a,o,_,V,q,de){const ze=e.blueprint.slice();return ze[0]=i,ze[2]=76|r,(null!==de||n&&1024&n[2])&&(ze[2]|=1024),xo(ze),ze[3]=ze[15]=n,ze[8]=t,ze[10]=o||n&&n[10],ze[11]=_||n&&n[11],ze[12]=V||n&&n[12]||null,ze[9]=q||n&&n[9]||null,ze[6]=a,ze[20]=function m9(){return p9++}(),ze[21]=de,ze[16]=2==e.type?n[16]:ze,ze}function C4(n,e,t,r,i){let a=n.data[e];if(null===a)a=function v8(n,e,t,r,i){const a=kl(),o=T(),V=n.data[e]=function w8(n,e,t,r,i,a){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=V),null!==a&&(o?null==a.child&&null!==V.parent&&(a.child=V):null===a.next&&(a.next=V)),V}(n,e,t,r,i),function at(){return Gn.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=t,a.value=r,a.attrs=i;const o=function s3(){const n=Gn.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();a.injectorIndex=null===o?-1:o.injectorIndex}return y(a,!0),a}function w3(n,e,t,r){if(0===t)return-1;const i=e.length;for(let a=0;a<t;a++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function y8(n,e,t){rn(e);try{const r=n.viewQuery;null!==r&&N2(1,r,t);const i=n.template;null!==i&&m7(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ji(n,e),n.staticViewQueries&&N2(2,n.viewQuery,t);const a=n.components;null!==a&&function qp(n,e){for(let t=0;t<e.length;t++)zn(n,e[t])}(e,a)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Zn()}}function b4(n,e,t,r){const i=e[2];if(128!=(128&i)){rn(e);try{xo(e),function He(n){return Gn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&m7(n,e,t,2,r);const o=3==(3&i);if(o){const q=n.preOrderCheckHooks;null!==q&&l1(e,q,null)}else{const q=n.preOrderHooks;null!==q&&cr(e,q,0,null),xr(e,0)}if(function Et(n){for(let e=jl(n);null!==e;e=Gl(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r];512&i[2]||Nr(i[3],1),i[2]|=512}}}(e),function Lt(n){for(let e=jl(n);null!==e;e=Gl(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];_s(r)&&b4(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&ji(n,e),o){const q=n.contentCheckHooks;null!==q&&l1(e,q)}else{const q=n.contentHooks;null!==q&&cr(e,q,1),xr(e,1)}!function Wp(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)w1(~i);else{const a=i,o=t[++r],_=t[++r];Ct(o,a),_(2,e[a])}}}finally{w1(-1)}}(n,e);const _=n.components;null!==_&&function g8(n,e){for(let t=0;t<e.length;t++)Zt(n,e[t])}(e,_);const V=n.viewQuery;if(null!==V&&N2(2,V,r),o){const q=n.viewCheckHooks;null!==q&&l1(e,q)}else{const q=n.viewHooks;null!==q&&cr(e,q,2),xr(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Nr(e[3],-1))}finally{Zn()}}}function m7(n,e,t,r,i){const a=_2(),o=2&r;try{w1(-1),o&&e.length>22&&s7(n,e,22,!1),t(r,i)}finally{w1(a)}}function _8(n,e,t){if(Y3(e)){const i=e.directiveEnd;for(let a=e.directiveStart;a<i;a++){const o=n.data[a];o.contentQueries&&o.contentQueries(1,t[a],a)}}}function C8(n,e,t){e4()&&(function tm(n,e,t,r){const i=t.directiveStart,a=t.directiveEnd;ms(t)&&function f(n,e,t){const r=_i(e,n),i=x8(t),a=n[10],o=Kn(n,h0(n,i,null,t.onPush?32:16,r,e,a,a.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||fc(t,e),ai(r,e);const o=t.initialInputs;for(let _=i;_<a;_++){const V=n.data[_],q=o3(e,n,_,t);ai(q,e),null!==o&&we(0,_-i,q,V,0,o),ea(V)&&(Ur(t.index,e)[8]=o3(e,n,_,t))}}(n,e,t,_i(t,e)),64==(64&t.flags)&&C7(n,e,t))}function b8(n,e,t=_i){const r=e.localNames;if(null!==r){let i=e.index+1;for(let a=0;a<r.length;a+=2){const o=r[a+1],_=-1===o?t(e,n):n[o];n[i++]=_}}}function x8(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=M8(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function M8(n,e,t,r,i,a,o,_,V,q){const de=22+r,ze=de+i,je=function Yp(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:K2);return t}(de,ze),ct="function"==typeof q?q():q;return je[1]={type:n,blueprint:je,template:t,queries:null,viewQuery:_,declTNode:e,data:je.slice().fill(null,de),bindingStartIndex:de,expandoStartIndex:ze,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:V,consts:ct,incompleteFirstPass:!1}}function p0(n,e,t,r){const i=D1(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&aa(n).push(r,i.length-1))}function g7(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const a=n[i];null===r?v7(t,e,i,a):r.hasOwnProperty(i)&&v7(t,e,r[i],a)}return t}function v7(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function xa(n,e,t,r,i,a,o,_){const V=_i(e,t);let de,q=e.inputs;!_&&null!=q&&(de=q[r])?(vr(n,t,de,r,i),ms(e)&&y7(t,e.index)):3&e.type&&(r=function Kp(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,a.setProperty(V,r,i))}function y7(n,e){const t=Ur(e,n);16&t[2]||(t[2]|=32)}function S8(n,e,t,r){let i=!1;if(e4()){const a=null===r?null:{"":-1},o=function rm(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let a=0;a<t.length;a++){const o=t[a];if(i7(e,o.selectors,!1))if(r||(r=[]),ea(o))if(null!==o.findHostDirectiveDefs){const _=[];i=i||new Map,o.findHostDirectiveDefs(o,_,i),r.unshift(..._,o),z8(n,e,_.length)}else r.unshift(o),z8(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let _,V;null===o?_=V=null:[_,V]=o,null!==_&&(i=!0,_7(n,e,t,_,a,V)),a&&function im(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const a=t[e[i+1]];if(null==a)throw new Yt(-301,!1);r.push(e[i],a)}}}(t,r,a)}return t.mergedAttrs=lc(t.mergedAttrs,t.attrs),i}function _7(n,e,t,r,i,a){for(let q=0;q<r.length;q++)Pl(fc(t,e),n,r[q].type);!function sm(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let q=0;q<r.length;q++){const de=r[q];de.providersResolver&&de.providersResolver(de)}let o=!1,_=!1,V=w3(n,e,r.length,null);for(let q=0;q<r.length;q++){const de=r[q];t.mergedAttrs=lc(t.mergedAttrs,de.hostAttrs),om(n,t,e,V,de),am(V,de,i),null!==de.contentQueries&&(t.flags|=4),(null!==de.hostBindings||null!==de.hostAttrs||0!==de.hostVars)&&(t.flags|=64);const ze=de.type.prototype;!o&&(ze.ngOnChanges||ze.ngOnInit||ze.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),o=!0),!_&&(ze.ngOnChanges||ze.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),_=!0),V++}!function Xp(n,e,t){const i=e.directiveEnd,a=n.data,o=e.attrs,_=[];let V=null,q=null;for(let de=e.directiveStart;de<i;de++){const ze=a[de],je=t?t.get(ze):null,Ht=je?je.outputs:null;V=g7(ze.inputs,de,V,je?je.inputs:null),q=g7(ze.outputs,de,q,Ht);const $t=null===V||null===o||r7(e)?null:Ee(V,de,o);_.push($t)}null!==V&&(V.hasOwnProperty("class")&&(e.flags|=8),V.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=_,e.inputs=V,e.outputs=q}(n,t,a)}function C7(n,e,t){const r=t.directiveStart,i=t.directiveEnd,a=t.index,o=function kt(){return Gn.lFrame.currentDirectiveIndex}();try{w1(a);for(let _=r;_<i;_++){const V=n.data[_],q=e[_];pt(_),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&nm(V,q)}}finally{w1(-1),pt(o)}}function nm(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function z8(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function am(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ea(e)&&(t[""]=n)}}function om(n,e,t,r,i){n.data[r]=i;const a=i.factory||(i.factory=ys(i.type)),o=new Mr(a,ea(i),yt);n.blueprint[r]=o,t[r]=o,function Jp(n,e,t,r,i){const a=i.hostBindings;if(a){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const _=~e.index;(function em(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=_&&o.push(_),o.push(t,r,a)}}(n,e,r,w3(n,t,i.hostVars,K2),i)}function x(n,e,t,r,i,a){const o=_i(n,e);!function K(n,e,t,r,i,a,o){if(null==a)n.removeAttribute(e,i,t);else{const _=null==o?Bn(a):o(a,r||"",i);n.setAttribute(e,i,_,t)}}(e[11],o,a,n.value,t,r,i)}function we(n,e,t,r,i,a){const o=a[e];if(null!==o){const _=r.setInput;for(let V=0;V<o.length;){const q=o[V++],de=o[V++],ze=o[V++];null!==_?r.setInput(t,ze,q,de):t[de]=ze}}}function Ee(n,e,t){let r=null,i=0;for(;i<t.length;){const a=t[i];if(0!==a)if(5!==a){if("number"==typeof a)break;if(n.hasOwnProperty(a)){null===r&&(r=[]);const o=n[a];for(let _=0;_<o.length;_+=2)if(o[_]===e){r.push(a,o[_+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function it(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function Zt(n,e){const t=Ur(e,n);if(_s(t)){const r=t[1];48&t[2]?b4(r,t,r.template,t[8]):t[5]>0&&xn(t)}}function xn(n){for(let r=jl(n);null!==r;r=Gl(r))for(let i=10;i<r.length;i++){const a=r[i];if(_s(a))if(512&a[2]){const o=a[1];b4(o,a,o.template,a[8])}else a[5]>0&&xn(a)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Ur(t[r],n);_s(i)&&i[5]>0&&xn(i)}}function zn(n,e){const t=Ur(e,n),r=t[1];(function En(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),y8(r,t,t[8])}function Kn(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function v2(n){for(;n;){n[2]|=32;const e=wc(n);if(ec(n)&&!e)return n;n=e}return null}function V2(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{b4(n,e,n.template,t)}catch(o){throw r&&sa(e,o),o}finally{i.end&&i.end()}}function N2(n,e,t){Rt(0),e(n,t)}function D1(n){return n[7]||(n[7]=[])}function aa(n){return n.cleanup||(n.cleanup=[])}function sa(n,e){const t=n[9],r=t?t.get(Qs,null):null;r&&r.handleError(e)}function vr(n,e,t,r,i){for(let a=0;a<t.length;){const o=t[a++],_=t[a++],V=e[o],q=n.data[o];null!==q.setInput?q.setInput(V,i,r,_):V[_]=i}}function jr(n,e,t){const r=J3(e,n);!function lf(n,e,t){n.setValue(e,t)}(n[11],r,t)}function Ua(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,a=0;if(null!==e)for(let o=0;o<e.length;o++){const _=e[o];"number"==typeof _?a=_:1==a?i=cn(i,_):2==a&&(r=cn(r,_+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Vc(n,e,t,r,i=!1){for(;null!==t;){const a=e[t.index];if(null!==a&&r.push(pr(a)),Ji(a))for(let _=10;_<a.length;_++){const V=a[_],q=V[1].firstChild;null!==q&&Vc(V[1],V,q,r)}const o=t.type;if(8&o)Vc(n,e,t.child,r);else if(32&o){const _=G6(t,e);let V;for(;V=_();)r.push(V)}else if(16&o){const _=bf(e,t);if(Array.isArray(_))r.push(..._);else{const V=wc(e[16]);Vc(V[1],V,_,r,!0)}}t=i?t.projectionNext:t.next}return r}class H8{get rootNodes(){const e=this._lView,t=e[1];return Vc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Ji(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Y6(e,r),mc(t,r))}this._attachedToViewContainer=!1}df(this._lView[1],this._lView)}onDestroy(e){p0(this._lView[1],this._lView,null,e)}markForCheck(){v2(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){V2(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Yt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function S9(n,e){Sc(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Yt(902,!1);this._appRef=e}}class MO extends H8{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;V2(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class DC extends Ao{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=E1(e);return new L8(t,this.ngModule)}}function TC(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class SO{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Is(r);const i=this.injector.get(e,c8,r);return i!==c8||t===c8?i:this.parentInjector.get(e,t,r)}}class L8 extends Kf{get inputs(){return TC(this.componentDef.inputs)}get outputs(){return TC(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function zp(n){return n.map(Sp).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let a=(i=i||this.ngModule)instanceof B1?i:i?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const o=a?new SO(e,a):e,_=o.get(v4,null);if(null===_)throw new Yt(407,!1);const V=o.get(Jf,null),q=_.createRenderer(null,this.componentDef),de=this.componentDef.selectors[0][0]||"div",ze=r?function Zp(n,e,t){return n.selectRootElement(e,t===Oi.ShadowDom)}(q,r,this.componentDef.encapsulation):q6(q,de,function wO(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(de)),je=this.componentDef.onPush?288:272,ct=M8(0,null,null,1,0,null,null,null,null,null),Ht=h0(null,ct,null,je,null,null,_,q,V,o,null);let $t,un;rn(Ht);try{const Cn=this.componentDef;let In,pn=null;Cn.findHostDirectiveDefs?(In=[],pn=new Map,Cn.findHostDirectiveDefs(Cn,In,pn),In.push(Cn)):In=[Cn];const Jn=function HO(n,e){const t=n[1];return n[22]=e,C4(t,22,2,"#host",null)}(Ht,ze),Z2=function LO(n,e,t,r,i,a,o,_){const V=i[1];!function DO(n,e,t,r){for(const i of n)e.mergedAttrs=lc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Ua(e,e.mergedAttrs,!0),null!==t&&Sf(r,t,e))}(r,n,e,o);const q=a.createRenderer(e,t),de=h0(i,x8(t),null,t.onPush?32:16,i[n.index],n,a,q,_||null,null,null);return V.firstCreatePass&&z8(V,n,r.length-1),Kn(i,de),i[n.index]=de}(Jn,ze,Cn,In,Ht,_,q);un=Ll(ct,22),ze&&function kO(n,e,t,r){if(r)Ci(n,t,["ng-version",e7.full]);else{const{attrs:i,classes:a}=function Hp(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let a=n[r];if("string"==typeof a)2===i?""!==a&&e.push(a,n[++r]):8===i&&t.push(a);else{if(!as(i))break;i=a}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Ci(n,t,i),a&&a.length>0&&wf(n,t,a.join(" "))}}(q,Cn,ze,r),void 0!==t&&function VO(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const a=t[i];r.push(null!=a?Array.from(a):null)}}(un,this.ngContentSelectors,t),$t=function TO(n,e,t,r,i,a){const o=Hr(),_=i[1],V=_i(o,i);_7(_,i,o,t,null,r);for(let de=0;de<t.length;de++)ai(o3(i,_,o.directiveStart+de,o),i);C7(_,i,o),V&&ai(V,i);const q=o3(i,_,o.directiveStart+o.componentOffset,o);if(n[8]=i[8]=q,null!==a)for(const de of a)de(q,e);return _8(_,o,n),q}(Z2,Cn,In,pn,Ht,[AO]),y8(ct,Ht,null)}finally{Zn()}return new zO(this.componentType,$t,g4(un,Ht),Ht,un)}}class zO extends o8{constructor(e,t,r,i,a){super(),this.location=r,this._rootLView=i,this._tNode=a,this.instance=t,this.hostView=this.changeDetectorRef=new MO(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const a=this._rootLView;vr(a[1],a,i,e,t),y7(a,this._tNode.index)}}get injector(){return new i4(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function AO(){const n=Hr();N1(Tn()[1],n)}function p1(n){let e=function kC(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(ea(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Yt(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=cm(n.inputs),o.declaredInputs=cm(n.declaredInputs),o.outputs=cm(n.outputs);const _=i.hostBindings;_&&IO(n,_);const V=i.viewQuery,q=i.contentQueries;if(V&&EO(n,V),q&&PO(n,q),nn(n.inputs,i.inputs),nn(n.declaredInputs,i.declaredInputs),nn(n.outputs,i.outputs),ea(i)&&i.data.animation){const de=n.data;de.animation=(de.animation||[]).concat(i.data.animation)}}const a=i.features;if(a)for(let o=0;o<a.length;o++){const _=a[o];_&&_.ngInherit&&_(n),_===p1&&(t=!1)}}e=Object.getPrototypeOf(e)}!function NO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=lc(i.hostAttrs,t=lc(t,i.hostAttrs))}}(r)}function cm(n){return n===ha?{}:n===k1?[]:n}function EO(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function PO(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,a)=>{e(r,i,a),t(r,i,a)}:e}function IO(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let b7=null;function Ac(){if(!b7){const n=m1.Symbol;if(n&&n.iterator)b7=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(b7=r)}}}return b7}function x7(n){return!!lm(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ac()in n)}function lm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function No(n,e,t){return n[e]=t}function oa(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Nc(n,e,t,r){const i=oa(n,e,t);return oa(n,e+1,r)||i}function Ms(n,e,t,r,i,a){const o=Nc(n,e,t,r);return Nc(n,e+2,i,a)||o}function Ma(n,e,t,r){const i=Tn();return oa(i,De(),e)&&(n1(),x(B2(),i,n,e,t,r)),Ma}function g0(n,e,t,r){return oa(n,De(),t)?e+Bn(t)+r:K2}function y0(n,e,t,r,i,a,o,_){const q=function M7(n,e,t,r,i){const a=Nc(n,e,t,r);return oa(n,e+2,i)||a}(n,Le(),t,i,o);return Ie(3),q?e+Bn(t)+r+Bn(i)+a+Bn(o)+_:K2}function mn(n,e,t,r,i,a,o,_){const V=Tn(),q=n1(),de=n+22,ze=q.firstCreatePass?function qO(n,e,t,r,i,a,o,_,V){const q=e.consts,de=C4(e,n,4,o||null,Zr(q,_));S8(e,t,de,Zr(q,V)),N1(e,de);const ze=de.tViews=M8(2,de,r,i,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,q);return null!==e.queries&&(e.queries.template(e,de),ze.queries=e.queries.embeddedTView(de)),de}(de,q,V,e,t,r,i,a,o):q.data[de];y(ze,!1);const je=V[11].createComment("");ql(q,V,je,ze),ai(je,V),Kn(V,V[de]=it(je,V,je,ze)),n3(ze)&&C8(q,V,ze),null!=o&&b8(V,ze,_)}function um(n){return Co(function re(){return Gn.lFrame.contextLView}(),22+n)}function dt(n,e,t){const r=Tn();return oa(r,De(),e)&&xa(n1(),B2(),r,n,e,r[11],t,!1),dt}function fm(n,e,t,r,i){const o=i?"class":"style";vr(n,t,e.inputs[o],o,r)}function Ae(n,e,t,r){const i=Tn(),a=n1(),o=22+n,_=i[11],V=i[o]=q6(_,e,function c1(){return Gn.lFrame.currentNamespace}()),q=a.firstCreatePass?function ZO(n,e,t,r,i,a,o){const _=e.consts,q=C4(e,n,2,i,Zr(_,a));return S8(e,t,q,Zr(_,o)),null!==q.attrs&&Ua(q,q.attrs,!1),null!==q.mergedAttrs&&Ua(q,q.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,q),q}(o,a,i,0,e,t,r):a.data[o];return y(q,!0),Sf(_,V,q),32!=(32&q.flags)&&ql(a,i,V,q),0===function Dl(){return Gn.lFrame.elementDepthCount}()&&ai(V,i),function ns(){Gn.lFrame.elementDepthCount++}(),n3(q)&&(C8(a,i,q),_8(a,q,i)),null!==r&&b8(i,q),Ae}function Ne(){let n=Hr();T()?U():(n=n.parent,y(n,!1));const e=n;!function S6(){Gn.lFrame.elementDepthCount--}();const t=n1();return t.firstCreatePass&&(N1(t,n),Y3(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function rs(n){return 0!=(8&n.flags)}(e)&&fm(t,e,Tn(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function bs(n){return 0!=(16&n.flags)}(e)&&fm(t,e,Tn(),e.stylesWithoutHost,!1),Ne}function Pn(n,e,t,r){return Ae(n,e,t,r),Ne(),Pn}function Z1(n,e,t){const r=Tn(),i=n1(),a=n+22,o=i.firstCreatePass?function XO(n,e,t,r,i){const a=e.consts,o=Zr(a,r),_=C4(e,n,8,"ng-container",o);return null!==o&&Ua(_,o,!0),S8(e,t,_,Zr(a,i)),null!==e.queries&&e.queries.elementStart(e,_),_}(a,i,r,e,t):i.data[a];y(o,!0);const _=r[a]=r[11].createComment("");return ql(i,r,_,o),ai(_,r),n3(o)&&(C8(i,r,o),_8(i,o,r)),null!=t&&b8(r,o),Z1}function X1(){let n=Hr();const e=n1();return T()?U():(n=n.parent,y(n,!1)),e.firstCreatePass&&(N1(e,n),Y3(n)&&e.queries.elementEnd(n)),X1}function v1(){return Tn()}function T8(n){return!!n&&"function"==typeof n.then}const dm=function $C(n){return!!n&&"function"==typeof n.subscribe};function vn(n,e,t,r){const i=Tn(),a=n1(),o=Hr();return function qC(n,e,t,r,i,a,o){const _=n3(r),q=n.firstCreatePass&&aa(n),de=e[8],ze=D1(e);let je=!0;if(3&r.type||o){const $t=_i(r,e),un=o?o($t):$t,Cn=ze.length,In=o?Jn=>o(pr(Jn[r.index])):r.index;let pn=null;if(!o&&_&&(pn=function KO(n,e,t,r){const i=n.cleanup;if(null!=i)for(let a=0;a<i.length-1;a+=2){const o=i[a];if(o===t&&i[a+1]===r){const _=e[7],V=i[a+2];return _.length>V?_[V]:null}"string"==typeof o&&(a+=2)}return null}(n,e,i,r.index)),null!==pn)(pn.__ngLastListenerFn__||pn).__ngNextListenerFn__=a,pn.__ngLastListenerFn__=a,je=!1;else{a=ZC(r,e,de,a,!1);const Jn=t.listen(un,i,a);ze.push(a,Jn),q&&q.push(i,In,Cn,Cn+1)}}else a=ZC(r,e,de,a,!1);const ct=r.outputs;let Ht;if(je&&null!==ct&&(Ht=ct[i])){const $t=Ht.length;if($t)for(let un=0;un<$t;un+=2){const Z2=e[Ht[un]][Ht[un+1]].subscribe(a),x1=ze.length;ze.push(a,Z2),q&&q.push(i,r.index,x1,-(x1+1))}}}(a,i,i[11],o,n,e,r),vn}function YC(n,e,t,r){try{return!1!==t(r)}catch(i){return sa(n,i),!1}}function ZC(n,e,t,r,i){return function a(o){if(o===Function)return r;v2(n.componentOffset>-1?Ur(n.index,e):e);let V=YC(e,0,r,o),q=a.__ngNextListenerFn__;for(;q;)V=YC(e,0,q,o)&&V,q=q.__ngNextListenerFn__;return i&&!1===V&&(o.preventDefault(),o.returnValue=!1),V}}function Ut(n=1){return function b2(n){return(Gn.lFrame.contextLView=function qn(n,e){for(;n>0;)e=e[15],n--;return e}(n,Gn.lFrame.contextLView))[8]}(n)}function QO(n,e){let t=null;const r=function a7(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const a=e[i];if("*"!==a){if(null===r?i7(n,a,!0):wp(r,a))return i}else t=i}return t}function w0(n){const e=Tn()[16][6];if(!e.projection){const r=e.projection=a4(n?n.length:1,null),i=r.slice();let a=e.child;for(;null!==a;){const o=n?QO(a,n):0;null!==o&&(i[o]?i[o].projectionNext=a:r[o]=a,i[o]=a),a=a.next}}}function x4(n,e=0,t){const r=Tn(),i=n1(),a=C4(i,22+n,16,null,t||null);null===a.projection&&(a.projection=e),U(),32!=(32&a.flags)&&function V9(n,e,t){xf(e[11],0,e,t,hf(n,t,e),vf(t.parent||e[6],t,e))}(i,r,a)}function hm(n,e,t){return G1(n,"",e,"",t),hm}function G1(n,e,t,r,i){const a=Tn(),o=g0(a,e,t,r);return o!==K2&&xa(n1(),B2(),a,n,o,a[11],i,!1),G1}function w7(n,e){return n<<17|e<<2}function M4(n){return n>>17&32767}function pm(n){return 2|n}function Ec(n){return(131068&n)>>2}function mm(n,e){return-131069&n|e<<2}function gm(n){return 1|n}function ib(n,e,t,r,i){const a=n[t+1],o=null===e;let _=r?M4(a):Ec(a),V=!1;for(;0!==_&&(!1===V||o);){const de=n[_+1];iF(n[_],e)&&(V=!0,n[_+1]=r?gm(de):pm(de)),_=r?M4(de):Ec(de)}V&&(n[t+1]=r?pm(a):gm(a))}function iF(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&u3(n,e)>=0}const si={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ab(n){return n.substring(si.key,si.keyEnd)}function sb(n,e){const t=si.textEnd;return t===e?-1:(e=si.keyEnd=function cF(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,si.key=e,t),S0(n,e,t))}function S0(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function k8(n,e,t){return eo(n,e,t,!1),k8}function u2(n,e){return eo(n,e,null,!0),u2}function Po(n,e){for(let t=function sF(n){return function cb(n){si.key=0,si.keyEnd=0,si.value=0,si.valueEnd=0,si.textEnd=n.length}(n),sb(n,S0(n,0,si.textEnd))}(e);t>=0;t=sb(e,t))bi(n,ab(e),!0)}function eo(n,e,t,r){const i=Tn(),a=n1(),o=Ie(2);a.firstUpdatePass&&db(a,n,o,r),e!==K2&&oa(i,o,e)&&pb(a,a.data[_2()],i,i[11],n,i[o+1]=function _F(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=gn(ba(n)))),n}(e,t),r,o)}function fb(n,e){return e>=n.expandoStartIndex}function db(n,e,t,r){const i=n.data;if(null===i[t+1]){const a=i[_2()],o=fb(n,t);gb(a,r)&&null===e&&!o&&(e=!1),e=function hF(n,e,t,r){const i=function Mt(n){const e=Gn.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let a=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=V8(t=vm(null,n,e,t,r),e.attrs,r),a=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=vm(i,n,e,t,r),null===a){let V=function pF(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ec(r))return n[M4(r)]}(n,e,r);void 0!==V&&Array.isArray(V)&&(V=vm(null,n,e,V[1],r),V=V8(V,e.attrs,r),function mF(n,e,t,r){n[M4(t?e.classBindings:e.styleBindings)]=r}(n,e,r,V))}else a=function gF(n,e,t){let r;const i=e.directiveEnd;for(let a=1+e.directiveStylingLast;a<i;a++)r=V8(r,n[a].hostAttrs,t);return V8(r,e.attrs,t)}(n,e,r)}return void 0!==a&&(r?e.residualClasses=a:e.residualStyles=a),t}(i,a,e,r),function nF(n,e,t,r,i,a){let o=a?e.classBindings:e.styleBindings,_=M4(o),V=Ec(o);n[r]=t;let de,q=!1;if(Array.isArray(t)?(de=t[1],(null===de||u3(t,de)>0)&&(q=!0)):de=t,i)if(0!==V){const je=M4(n[_+1]);n[r+1]=w7(je,_),0!==je&&(n[je+1]=mm(n[je+1],r)),n[_+1]=function eF(n,e){return 131071&n|e<<17}(n[_+1],r)}else n[r+1]=w7(_,0),0!==_&&(n[_+1]=mm(n[_+1],r)),_=r;else n[r+1]=w7(V,0),0===_?_=r:n[V+1]=mm(n[V+1],r),V=r;q&&(n[r+1]=pm(n[r+1])),ib(n,de,r,!0),ib(n,de,r,!1),function rF(n,e,t,r,i){const a=i?n.residualClasses:n.residualStyles;null!=a&&"string"==typeof e&&u3(a,e)>=0&&(t[r+1]=gm(t[r+1]))}(e,de,n,r,a),o=w7(_,V),a?e.classBindings=o:e.styleBindings=o}(i,a,e,t,o,r)}}function vm(n,e,t,r,i){let a=null;const o=t.directiveEnd;let _=t.directiveStylingLast;for(-1===_?_=t.directiveStart:_++;_<o&&(a=e[_],r=V8(r,a.hostAttrs,i),a!==n);)_++;return null!==n&&(t.directiveStylingLast=_),r}function V8(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let a=0;a<e.length;a++){const o=e[a];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),bi(n,o,!!t||e[++a]))}return void 0===n?null:n}function pb(n,e,t,r,i,a,o,_){if(!(3&e.type))return;const V=n.data,q=V[_+1],de=function tF(n){return 1==(1&n)}(q)?mb(V,e,t,i,Ec(q),o):void 0;S7(de)||(S7(a)||function JO(n){return 2==(2&n)}(q)&&(a=mb(V,null,t,i,_,o)),function Mf(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let a=-1===r.indexOf("-")?void 0:ra.DashCase;null==i?n.removeStyle(t,r,a):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),a|=ra.Important),n.setStyle(t,r,i,a))}}(r,o,J3(_2(),t),i,a))}function mb(n,e,t,r,i,a){const o=null===e;let _;for(;i>0;){const V=n[i],q=Array.isArray(V),de=q?V[1]:V,ze=null===de;let je=t[i+1];je===K2&&(je=ze?k1:void 0);let ct=ze?Ho(je,r):de===r?je:void 0;if(q&&!S7(ct)&&(ct=Ho(V,r)),S7(ct)&&(_=ct,o))return _;const Ht=n[i+1];i=o?M4(Ht):Ec(Ht)}if(null!==e){let V=a?e.residualClasses:e.residualStyles;null!=V&&(_=Ho(V,r))}return _}function S7(n){return void 0!==n}function gb(n,e){return 0!=(n.flags&(e?8:16))}function _t(n,e=""){const t=Tn(),r=n1(),i=n+22,a=r.firstCreatePass?C4(r,i,1,e,null):r.data[i],o=t[i]=function W6(n,e){return n.createText(e)}(t[11],e);ql(r,t,o,a),y(a,!1)}function y1(n){return jn("",n,""),y1}function jn(n,e,t){const r=Tn(),i=g0(r,n,e,t);return i!==K2&&jr(r,_2(),i),jn}function ss(n,e,t,r,i){const a=Tn(),o=function v0(n,e,t,r,i,a){const _=Nc(n,Le(),t,i);return Ie(2),_?e+Bn(t)+r+Bn(i)+a:K2}(a,n,e,t,r,i);return o!==K2&&jr(a,_2(),o),ss}function S3(n,e,t,r,i,a,o){const _=Tn(),V=y0(_,n,e,t,r,i,a,o);return V!==K2&&jr(_,_2(),V),S3}function ym(n,e,t,r,i,a,o,_,V){const q=Tn(),de=function _0(n,e,t,r,i,a,o,_,V,q){const ze=Ms(n,Le(),t,i,o,V);return Ie(4),ze?e+Bn(t)+r+Bn(i)+a+Bn(o)+_+Bn(V)+q:K2}(q,n,e,t,r,i,a,o,_,V);return de!==K2&&jr(q,_2(),de),ym}function _m(n,e,t){!function to(n,e,t,r){const i=n1(),a=Ie(2);i.firstUpdatePass&&db(i,null,a,r);const o=Tn();if(t!==K2&&oa(o,a,t)){const _=i.data[_2()];if(gb(_,r)&&!fb(i,a)){let V=r?_.classesWithoutHost:_.stylesWithoutHost;null!==V&&(t=cn(V,t||"")),fm(i,_,o,t,r)}else!function yF(n,e,t,r,i,a,o,_){i===K2&&(i=k1);let V=0,q=0,de=0<i.length?i[0]:null,ze=0<a.length?a[0]:null;for(;null!==de||null!==ze;){const je=V<i.length?i[V+1]:void 0,ct=q<a.length?a[q+1]:void 0;let $t,Ht=null;de===ze?(V+=2,q+=2,je!==ct&&(Ht=ze,$t=ct)):null===ze||null!==de&&de<ze?(V+=2,Ht=de):(q+=2,Ht=ze,$t=ct),null!==Ht&&pb(n,e,t,r,Ht,$t,o,_),de=V<i.length?i[V]:null,ze=q<a.length?a[q]:null}}(i,_,o,o[11],o[a+1],o[a+1]=function vF(n,e,t){if(null==t||""===t)return k1;const r=[],i=ba(t);if(Array.isArray(i))for(let a=0;a<i.length;a++)n(r,i[a],!0);else if("object"==typeof i)for(const a in i)i.hasOwnProperty(a)&&n(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,a)}}(bi,Po,g0(Tn(),n,e,t),!0)}function Cm(n,e,t){const r=Tn();return oa(r,De(),e)&&xa(n1(),B2(),r,n,e,r[11],t,!0),Cm}const Pc=void 0;var OF=["en",[["a","p"],["AM","PM"],Pc],[["AM","PM"],Pc,Pc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pc,"{1} 'at' {0}",Pc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function IF(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let z0={};function wa(n){const e=function FF(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=Ab(e);if(t)return t;const r=e.split("-")[0];if(t=Ab(r),t)return t;if("en"===r)return OF;throw new Yt(701,!1)}function Ab(n){return n in z0||(z0[n]=m1.ng&&m1.ng.common&&m1.ng.common.locales&&m1.ng.common.locales[n]),z0[n]}var a2=(()=>((a2=a2||{})[a2.LocaleId=0]="LocaleId",a2[a2.DayPeriodsFormat=1]="DayPeriodsFormat",a2[a2.DayPeriodsStandalone=2]="DayPeriodsStandalone",a2[a2.DaysFormat=3]="DaysFormat",a2[a2.DaysStandalone=4]="DaysStandalone",a2[a2.MonthsFormat=5]="MonthsFormat",a2[a2.MonthsStandalone=6]="MonthsStandalone",a2[a2.Eras=7]="Eras",a2[a2.FirstDayOfWeek=8]="FirstDayOfWeek",a2[a2.WeekendRange=9]="WeekendRange",a2[a2.DateFormat=10]="DateFormat",a2[a2.TimeFormat=11]="TimeFormat",a2[a2.DateTimeFormat=12]="DateTimeFormat",a2[a2.NumberSymbols=13]="NumberSymbols",a2[a2.NumberFormats=14]="NumberFormats",a2[a2.CurrencyCode=15]="CurrencyCode",a2[a2.CurrencySymbol=16]="CurrencySymbol",a2[a2.CurrencyName=17]="CurrencyName",a2[a2.Currencies=18]="Currencies",a2[a2.Directionality=19]="Directionality",a2[a2.PluralCase=20]="PluralCase",a2[a2.ExtraData=21]="ExtraData",a2))();const H0="en-US";let Nb=H0;function Mm(n,e,t,r,i){if(n=_n(n),Array.isArray(n))for(let a=0;a<n.length;a++)Mm(n[a],e,t,r,i);else{const a=n1(),o=Tn();let _=C3(n)?n:_n(n.provide),V=Zf(n);const q=Hr(),de=1048575&q.providerIndexes,ze=q.directiveStart,je=q.providerIndexes>>20;if(C3(n)||!n.multi){const ct=new Mr(V,i,yt),Ht=Sm(_,e,i?de:de+je,ze);-1===Ht?(Pl(fc(q,o),a,_),wm(a,n,e.length),e.push(_),q.directiveStart++,q.directiveEnd++,i&&(q.providerIndexes+=1048576),t.push(ct),o.push(ct)):(t[Ht]=ct,o[Ht]=ct)}else{const ct=Sm(_,e,de+je,ze),Ht=Sm(_,e,de,de+je),un=Ht>=0&&t[Ht];if(i&&!un||!i&&!(ct>=0&&t[ct])){Pl(fc(q,o),a,_);const Cn=function PR(n,e,t,r,i){const a=new Mr(n,t,yt);return a.multi=[],a.index=e,a.componentProviders=0,ax(a,i,r&&!t),a}(i?ER:NR,t.length,i,r,V);!i&&un&&(t[Ht].providerFactory=Cn),wm(a,n,e.length,0),e.push(_),q.directiveStart++,q.directiveEnd++,i&&(q.providerIndexes+=1048576),t.push(Cn),o.push(Cn)}else wm(a,n,ct>-1?ct:Ht,ax(t[i?Ht:ct],V,!i&&r));!i&&r&&un&&t[Ht].componentProviders++}}}function wm(n,e,t,r){const i=C3(e),a=function ip(n){return!!n.useClass}(e);if(i||a){const V=(a?_n(e.useClass):e).prototype.ngOnDestroy;if(V){const q=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const de=q.indexOf(t);-1===de?q.push(t,[r,V]):q[de+1].push(r,V)}else q.push(t,V)}}}function ax(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Sm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function NR(n,e,t,r){return zm(this.multi,[])}function ER(n,e,t,r){const i=this.multi;let a;if(this.providerFactory){const o=this.providerFactory.componentProviders,_=o3(t,t[1],this.providerFactory.index,r);a=_.slice(0,o),zm(i,a);for(let V=o;V<_.length;V++)a.push(_[V])}else a=[],zm(i,a);return a}function zm(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function er(n,e=[]){return t=>{t.providersResolver=(r,i)=>function AR(n,e,t){const r=n1();if(r.firstCreatePass){const i=ea(n);Mm(t,r.data,r.blueprint,i,!0),Mm(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class L0{}class sx{}class ox extends L0{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new DC(this);const r=qr(e);this._bootstrapComponents=Js(r.bootstrap),this._r3Injector=f8(e,t,[{provide:L0,useValue:this},{provide:Ao,useValue:this.componentFactoryResolver}],gn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Hm extends sx{constructor(e){super(),this.moduleType=e}create(e){return new ox(this.moduleType,e)}}class OR extends L0{constructor(e,t,r){super(),this.componentFactoryResolver=new DC(this),this.instance=null;const i=new gr([...e,{provide:L0,useValue:this},{provide:Ao,useValue:this.componentFactoryResolver}],t||b3(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function T7(n,e,t=null){return new OR(n,e,t).injector}let FR=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=r1(0,t.type),i=r.length>0?T7([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Nn({token:n,providedIn:"environment",factory:()=>new n(ln(B1))}),n})();function Lm(n){n.getStandaloneInjector=e=>e.get(FR).getOrCreateStandaloneInjector(n)}function Tm(n,e,t,r){return function mx(n,e,t,r,i,a){const o=e+t;return oa(n,o,i)?No(n,o+1,a?r.call(a,i):r(i)):O8(n,o+1)}(Tn(),ye(),n,e,t,r)}function Io(n,e,t,r,i){return gx(Tn(),ye(),n,e,t,r,i)}function O8(n,e){const t=n[e];return t===K2?void 0:t}function gx(n,e,t,r,i,a,o){const _=e+t;return Nc(n,_,i,a)?No(n,_+2,o?r.call(o,i,a):r(i,a)):O8(n,_+2)}function O2(n,e){const t=n1();let r;const i=n+22;t.firstCreatePass?(r=function tB(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const a=r.factory||(r.factory=ys(r.type)),o=Ar(yt);try{const _=Al(!1),V=a();return Al(_),function YO(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,Tn(),i,V),V}finally{Ar(o)}}function F2(n,e,t,r){const i=n+22,a=Tn(),o=Co(a,i);return function F8(n,e){return n[1].data[e].pure}(a,i)?gx(a,ye(),e,o.transform,t,r,o):o.transform(t,r)}function km(n){return e=>{setTimeout(n,void 0,e)}}const a1=class sB extends j{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,a=t||(()=>null),o=r;if(e&&"object"==typeof e){const V=e;i=V.next?.bind(V),a=V.error?.bind(V),o=V.complete?.bind(V)}this.__isAsync&&(a=km(a),i&&(i=km(i)),o&&(o=km(o)));const _=super.subscribe({next:i,error:a,complete:o});return e instanceof c&&e.add(_),_}};function oB(){return this._results[Ac()]()}class Vm{get changes(){return this._changes||(this._changes=new a1)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ac(),r=Vm.prototype;r[t]||(r[t]=oB)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Ca(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function s9(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],a=e[r];if(t&&(i=t(i),a=t(a)),a!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Gi=(()=>{class n{}return n.__NG_ELEMENT_ID__=uB,n})();const cB=Gi,lB=class extends cB{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=h0(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),y8(r,i,e),new H8(i)}};function uB(){return k7(Hr(),Tn())}function k7(n,e){return 4&n.type?new lB(e,n,g4(n,e)):null}let Sa=(()=>{class n{}return n.__NG_ELEMENT_ID__=fB,n})();function fB(){return xx(Hr(),Tn())}const dB=Sa,Cx=class extends dB{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return g4(this._hostTNode,this._hostLView)}get injector(){return new i4(this._hostTNode,this._hostLView)}get parentInjector(){const e=D6(this._hostTNode,this._hostLView);if(L5(e)){const t=uc(e,this._hostLView),r=Vl(e);return new i4(t[1].data[r+8],t)}return new i4(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=bx(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,a;"number"==typeof r?i=r:null!=r&&(i=r.index,a=r.injector);const o=e.createEmbeddedView(t||{},a);return this.insert(o,i),o}createComponent(e,t,r,i,a){const o=e&&!function pc(n){return"function"==typeof n}(e);let _;if(o)_=t;else{const ze=t||{};_=ze.index,r=ze.injector,i=ze.projectableNodes,a=ze.environmentInjector||ze.ngModuleRef}const V=o?e:new L8(E1(e)),q=r||this.parentInjector;if(!a&&null==V.ngModule){const je=(o?q:this.parentInjector).get(B1,null);je&&(a=je)}const de=V.create(q,i,void 0,a);return this.insert(de.hostView,_),de}insert(e,t){const r=e._lView,i=r[1];if(function Ze(n){return Ji(n[3])}(r)){const de=this.indexOf(e);if(-1!==de)this.detach(de);else{const ze=r[3],je=new Cx(ze,ze[6],ze[3]);je.detach(je.indexOf(e))}}const a=this._adjustIndex(t),o=this._lContainer;!function H9(n,e,t,r){const i=10+r,a=t.length;r>0&&(t[i-1][4]=e),r<a-10?(e[4]=t[i],R5(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function Fa(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const _=e[19];null!==_&&_.insertView(n),e[2]|=64}(i,r,o,a);const _=X6(a,o),V=r[11],q=Wl(V,o[7]);return null!==q&&function w9(n,e,t,r,i,a){r[0]=i,r[6]=e,Sc(n,r,t,1,i,a)}(i,o[6],V,r,q,_),e.attachToViewContainerRef(),R5(Am(o),a,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=bx(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Y6(this._lContainer,t);r&&(mc(Am(this._lContainer),t),df(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Y6(this._lContainer,t);return r&&null!=mc(Am(this._lContainer),t)?new H8(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function bx(n){return n[8]}function Am(n){return n[8]||(n[8]=[])}function xx(n,e){let t;const r=e[n.index];if(Ji(r))t=r;else{let i;if(8&n.type)i=pr(r);else{const a=e[11];i=a.createComment("");const o=_i(n,e);Zs(a,Wl(a,o),i,function k9(n,e){return n.nextSibling(e)}(a,o),!1)}e[n.index]=t=it(r,e,i,n),Kn(e,t)}return new Cx(t,n,e)}class Nm{constructor(e){this.queryList=e,this.matches=null}clone(){return new Nm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Em{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let a=0;a<r;a++){const o=t.getByIndex(a);i.push(this.queries[o.indexInDeclarationView].clone())}return new Em(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Hx(e,t).matches&&this.queries[t].setDirty()}}class Mx{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Pm{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,a=this.getByIndex(r).embeddedTView(e,i);a&&(a.indexInDeclarationView=r,null!==t?t.push(a):t=[a])}return null!==t?new Pm(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Im{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Im(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const a=r[i];this.matchTNodeWithReadOption(e,t,hB(t,a)),this.matchTNodeWithReadOption(e,t,r4(t,e,a,!1,!1))}else r===Gi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,r4(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ir||i===Sa||i===Gi&&4&t.type)this.addMatch(t.index,-2);else{const a=r4(t,e,i,!1,!1);null!==a&&this.addMatch(t.index,a)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function hB(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function mB(n,e,t,r){return-1===t?function pB(n,e){return 11&n.type?g4(n,e):4&n.type?k7(n,e):null}(e,n):-2===t?function gB(n,e,t){return t===ir?g4(e,n):t===Gi?k7(e,n):t===Sa?xx(e,n):void 0}(n,e,r):o3(n,n[1],t,e)}function wx(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const a=n.data,o=t.matches,_=[];for(let V=0;V<o.length;V+=2){const q=o[V];_.push(q<0?null:mB(e,a[q],o[V+1],t.metadata.read))}i.matches=_}return i.matches}function Om(n,e,t,r){const i=n.queries.getByIndex(t),a=i.matches;if(null!==a){const o=wx(n,e,i,t);for(let _=0;_<a.length;_+=2){const V=a[_];if(V>0)r.push(o[_/2]);else{const q=a[_+1],de=e[-V];for(let ze=10;ze<de.length;ze++){const je=de[ze];je[17]===je[3]&&Om(je[1],je,q,r)}if(null!==de[9]){const ze=de[9];for(let je=0;je<ze.length;je++){const ct=ze[je];Om(ct[1],ct,q,r)}}}}}return r}function ja(n){const e=Tn(),t=n1(),r=lt();Rt(r+1);const i=Hx(t,r);if(n.dirty&&function bo(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const a=i.crossesNgTemplate?Om(t,e,r,[]):wx(t,e,i,r);n.reset(a,up),n.notifyOnChanges()}return!0}return!1}function R8(n,e,t){const r=n1();r.firstCreatePass&&(zx(r,new Mx(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),Sx(r,Tn(),e)}function Oo(n,e,t,r){const i=n1();if(i.firstCreatePass){const a=Hr();zx(i,new Mx(e,t,r),a.index),function yB(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}Sx(i,Tn(),t)}function Ga(){return function vB(n,e){return n[19].queries[e].queryList}(Tn(),lt())}function Sx(n,e,t){const r=new Vm(4==(4&t));p0(n,e,r,r.destroy),null===e[19]&&(e[19]=new Em),e[19].queries.push(new Nm(r))}function zx(n,e,t){null===n.queries&&(n.queries=new Pm),n.queries.track(new Im(e,t))}function Hx(n,e){return n.queries.getByIndex(e)}function Lx(n,e){return k7(n,e)}function A7(...n){}const U8=new l2("Application Initializer");let N7=(()=>{class n{constructor(t){this.appInits=t,this.resolve=A7,this.reject=A7,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const a=this.appInits[i]();if(T8(a))t.push(a);else if(dm(a)){const o=new Promise((_,V)=>{a.subscribe({complete:_,error:V})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(ln(U8,8))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const j8=new l2("AppId",{providedIn:"root",factory:function qx(){return`${jm()}${jm()}${jm()}`}});function jm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Yx=new l2("Platform Initializer"),G8=new l2("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Zx=new l2("appBootstrapListener"),Gm=new l2("AnimationModuleType");let OB=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const z3=new l2("LocaleId",{providedIn:"root",factory:()=>$2(z3,H2.Optional|H2.SkipSelf)||function FB(){return typeof $localize<"u"&&$localize.locale||H0}()});class BB{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Xx=(()=>{class n{compileModuleSync(t){return new Hm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),a=Js(qr(t).declarations).reduce((o,_)=>{const V=E1(_);return V&&o.push(new L8(V)),o},[]);return new BB(r,a)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GB=(()=>Promise.resolve(0))();function $m(n){typeof Zone>"u"?GB.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class I1{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new a1(!1),this.onMicrotaskEmpty=new a1(!1),this.onStable=new a1(!1),this.onError=new a1(!1),typeof Zone>"u")throw new Yt(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function $B(){let n=m1.requestAnimationFrame,e=m1.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function YB(n){const e=()=>{!function qB(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(m1,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,qm(n),n.isCheckStableRunning=!0,Wm(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),qm(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,a,o,_)=>{try{return Jx(n),t.invokeTask(i,a,o,_)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||n.shouldCoalesceRunChangeDetection)&&e(),eM(n)}},onInvoke:(t,r,i,a,o,_,V)=>{try{return Jx(n),t.invoke(i,a,o,_,V)}finally{n.shouldCoalesceRunChangeDetection&&e(),eM(n)}},onHasTask:(t,r,i,a)=>{t.hasTask(i,a),r===i&&("microTask"==a.change?(n._hasPendingMicrotasks=a.microTask,qm(n),Wm(n)):"macroTask"==a.change&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(t,r,i,a)=>(t.handleError(i,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!I1.isInAngularZone())throw new Yt(909,!1)}static assertNotInAngularZone(){if(I1.isInAngularZone())throw new Yt(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const a=this._inner,o=a.scheduleEventTask("NgZoneEvent: "+i,e,WB,A7,A7);try{return a.runTask(o,t,r)}finally{a.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const WB={};function Wm(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function qm(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Jx(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function eM(n){n._nesting--,Wm(n)}class ZB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new a1,this.onMicrotaskEmpty=new a1,this.onStable=new a1,this.onError=new a1}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const tM=new l2(""),E7=new l2("");let Xm,Ym=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Xm||(function XB(n){Xm=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{I1.assertNotInAngularZone(),$m(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$m(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==a),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:a,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(ln(I1),ln(Zm),ln(E7))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})(),Zm=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Xm?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),w4=null;const nM=new l2("AllowMultipleToken"),Km=new l2("PlatformDestroyListeners");class rM{constructor(e,t){this.name=e,this.token=t}}function aM(n,e,t=[]){const r=`Platform: ${e}`,i=new l2(r);return(a=[])=>{let o=Qm();if(!o||o.injector.get(nM,!1)){const _=[...t,...a,{provide:i,useValue:!0}];n?n(_):function JB(n){if(w4&&!w4.get(nM,!1))throw new Yt(400,!1);w4=n;const e=n.get(oM);(function iM(n){const e=n.get(Yx,null);e&&e.forEach(t=>t())})(n)}(function sM(n=[],e){return Ui.create({name:e,providers:[{provide:Tc,useValue:"platform"},{provide:Km,useValue:new Set([()=>w4=null])},...n]})}(_,r))}return function tU(n){const e=Qm();if(!e)throw new Yt(401,!1);return e}()}}function Qm(){return w4?.get(oM)??null}let oM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function lM(n,e){let t;return t="noop"===n?new ZB:("zone.js"===n?void 0:n)||new I1(e),t}(r?.ngZone,function cM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),a=[{provide:I1,useValue:i}];return i.run(()=>{const o=Ui.create({providers:a,parent:this.injector,name:t.moduleType.name}),_=t.create(o),V=_.injector.get(Qs,null);if(!V)throw new Yt(402,!1);return i.runOutsideAngular(()=>{const q=i.onError.subscribe({next:de=>{V.handleError(de)}});_.onDestroy(()=>{P7(this._modules,_),q.unsubscribe()})}),function uM(n,e,t){try{const r=t();return T8(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(V,i,()=>{const q=_.injector.get(N7);return q.runInitializers(),q.donePromise.then(()=>(function Eb(n){j2(n,"Expected localeId to be defined"),"string"==typeof n&&(Nb=n.toLowerCase().replace(/_/g,"-"))}(_.injector.get(z3,H0)||H0),this._moduleDoBootstrap(_),_))})})}bootstrapModule(t,r=[]){const i=fM({},r);return function KB(n,e,t){const r=new Hm(t);return Promise.resolve(r)}(0,0,t).then(a=>this.bootstrapModuleFactory(a,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ic);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Yt(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Yt(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Km,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(ln(Ui))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function fM(n,e){return Array.isArray(e)?e.reduce(fM,n):{...n,...e}}let Ic=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new oe(_=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{_.next(this._stable),_.complete()})}),o=new oe(_=>{let V;this._zone.runOutsideAngular(()=>{V=this._zone.onStable.subscribe(()=>{I1.assertNotInAngularZone(),$m(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,_.next(!0))})})});const q=this._zone.onUnstable.subscribe(()=>{I1.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{_.next(!1)}))});return()=>{V.unsubscribe(),q.unsubscribe()}});this.isStable=Wn(a,o.pipe(function kn(n={}){const{connector:e=(()=>new j),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return a=>{let o,_,V,q=0,de=!1,ze=!1;const je=()=>{_?.unsubscribe(),_=void 0},ct=()=>{je(),o=V=void 0,de=ze=!1},Ht=()=>{const $t=o;ct(),$t?.unsubscribe()};return ee(($t,un)=>{q++,!ze&&!de&&je();const Cn=V=V??e();un.add(()=>{q--,0===q&&!ze&&!de&&(_=Xt(Ht,i))}),Cn.subscribe(un),!o&&q>0&&(o=new S({next:In=>Cn.next(In),error:In=>{ze=!0,je(),_=Xt(ct,t,In),Cn.error(In)},complete:()=>{de=!0,je(),_=Xt(ct,r),Cn.complete()}}),tn($t).subscribe(o))})(a)}}()))}bootstrap(t,r){const i=t instanceof Kf;if(!this._injector.get(N7).done)throw!i&&function vo(n){const e=E1(n)||fr(n)||ii(n);return null!==e&&e.standalone}(t),new Yt(405,false);let o;o=i?t:this._injector.get(Ao).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const _=function QB(n){return n.isBoundToModule}(o)?void 0:this._injector.get(L0),q=o.create(Ui.NULL,[],r||o.selector,_),de=q.location.nativeElement,ze=q.injector.get(tM,null);return ze?.registerApplication(de),q.onDestroy(()=>{this.detachView(q.hostView),P7(this.components,q),ze?.unregisterApplication(de)}),this._loadComponent(q),q}tick(){if(this._runningTick)throw new Yt(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;P7(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Zx,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>P7(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Yt(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(ln(I1),ln(B1),ln(Qs))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function P7(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let L3=(()=>{class n{}return n.__NG_ELEMENT_ID__=rU,n})();function rU(n){return function iU(n,e,t){if(ms(n)&&!t){const r=Ur(n.index,e);return new H8(r,r)}return 47&n.type?new H8(e[16],e):null}(Hr(),Tn(),16==(16&n))}class gM{constructor(){}supports(e){return x7(e)}create(e){return new uU(e)}}const lU=(n,e)=>e;class uU{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||lU}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,a=null;for(;t||r;){const o=!r||t&&t.currentIndex<yM(r,i,a)?t:r,_=yM(o,i,a),V=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{a||(a=[]);const q=_-i,de=V-i;if(q!=de){for(let je=0;je<q;je++){const ct=je<a.length?a[je]:a[je]=0,Ht=ct+je;de<=Ht&&Ht<q&&(a[je]=ct+1)}a[o.previousIndex]=de-q}}_!==V&&e(o,_,V)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!x7(e))throw new Yt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,a,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let _=0;_<this.length;_++)a=e[_],o=this._trackByFn(_,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,_)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,_),r=!0),t=t._next}else i=0,function GO(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Ac()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,_=>{o=this._trackByFn(i,_),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,_,o,i)),Object.is(t.item,_)||this._addIdentityChange(t,_)):(t=this._mismatch(t,_,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let a;return null===e?a=this._itTail:(a=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,a,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,a,i)):e=this._addAfter(new fU(t,r),a,i),e}_verifyReinsertion(e,t,r,i){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==a?e=this._reinsertAfter(a,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,a=e._nextRemoved;return null===i?this._removalsHead=a:i._nextRemoved=a,null===a?this._removalsTail=i:a._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new vM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class fU{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dU{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class vM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new dU,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yM(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class _M{constructor(){}supports(e){return e instanceof Map||lm(e)}create(){return new hU}}class hU{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||lm(e)))throw new Yt(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const a=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,a)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const a=i._prev,o=i._next;return a&&(a._next=o),o&&(o._prev=a),i._next=null,i._prev=null,i}const r=new pU(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class pU{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function CM(){return new F7([new gM])}let F7=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||CM()),deps:[[n,new _c,new Lo]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Yt(901,!1)}}return n.\u0275prov=Nn({token:n,providedIn:"root",factory:CM}),n})();function bM(){return new $8([new _M])}let $8=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||bM()),deps:[[n,new _c,new Lo]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Yt(901,!1)}}return n.\u0275prov=Nn({token:n,providedIn:"root",factory:bM}),n})();const vU=aM(null,"core",[]);let yU=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(ln(Ic))},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({}),n})();function k0(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let rg=null;function Fo(){return rg}class bU{}const $1=new l2("DocumentToken");let ig=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:function(){return function xU(){return ln(xM)}()},providedIn:"platform"}),n})();const MU=new l2("Location Initialized");let xM=(()=>{class n extends ig{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fo().getBaseHref(this._doc)}onPopState(t){const r=Fo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Fo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){MM()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){MM()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(ln($1))},n.\u0275prov=Nn({token:n,factory:function(){return function wU(){return new xM(ln($1))}()},providedIn:"platform"}),n})();function MM(){return!!window.history.pushState}function ag(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function wM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function D3(n){return n&&"?"!==n[0]?"?"+n:n}let Fc=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:function(){return $2(zM)},providedIn:"root"}),n})();const SM=new l2("appBaseHref");let zM=(()=>{class n extends Fc{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??$2($1).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ag(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+D3(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const o=this.prepareExternalUrl(i+D3(a));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,a){const o=this.prepareExternalUrl(i+D3(a));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ln(ig),ln(SM,8))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SU=(()=>{class n extends Fc{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ag(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let o=this.prepareExternalUrl(i+D3(a));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,a){let o=this.prepareExternalUrl(i+D3(a));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ln(ig),ln(SM,8))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})(),W8=(()=>{class n{constructor(t){this._subject=new a1,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function LU(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(wM(HM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+D3(r))}normalize(t){return n.stripTrailingSlash(function HU(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,HM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+D3(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+D3(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=D3,n.joinWithSlash=ag,n.stripTrailingSlash=wM,n.\u0275fac=function(t){return new(t||n)(ln(Fc))},n.\u0275prov=Nn({token:n,factory:function(){return function zU(){return new W8(ln(Fc))}()},providedIn:"root"}),n})();function HM(n){return n.replace(/\/index.html$/,"")}var $a=(()=>(($a=$a||{})[$a.Decimal=0]="Decimal",$a[$a.Percent=1]="Percent",$a[$a.Currency=2]="Currency",$a[$a.Scientific=3]="Scientific",$a))(),Gr=(()=>((Gr=Gr||{})[Gr.Format=0]="Format",Gr[Gr.Standalone=1]="Standalone",Gr))(),V1=(()=>((V1=V1||{})[V1.Narrow=0]="Narrow",V1[V1.Abbreviated=1]="Abbreviated",V1[V1.Wide=2]="Wide",V1[V1.Short=3]="Short",V1))(),Dr=(()=>((Dr=Dr||{})[Dr.Short=0]="Short",Dr[Dr.Medium=1]="Medium",Dr[Dr.Long=2]="Long",Dr[Dr.Full=3]="Full",Dr))(),R2=(()=>((R2=R2||{})[R2.Decimal=0]="Decimal",R2[R2.Group=1]="Group",R2[R2.List=2]="List",R2[R2.PercentSign=3]="PercentSign",R2[R2.PlusSign=4]="PlusSign",R2[R2.MinusSign=5]="MinusSign",R2[R2.Exponential=6]="Exponential",R2[R2.SuperscriptingExponent=7]="SuperscriptingExponent",R2[R2.PerMille=8]="PerMille",R2[R2.Infinity=9]="Infinity",R2[R2.NaN=10]="NaN",R2[R2.TimeSeparator=11]="TimeSeparator",R2[R2.CurrencyDecimal=12]="CurrencyDecimal",R2[R2.CurrencyGroup=13]="CurrencyGroup",R2))();function R7(n,e){return Ss(wa(n)[a2.DateFormat],e)}function B7(n,e){return Ss(wa(n)[a2.TimeFormat],e)}function U7(n,e){return Ss(wa(n)[a2.DateTimeFormat],e)}function ws(n,e){const t=wa(n),r=t[a2.NumberSymbols][e];if(typeof r>"u"){if(e===R2.CurrencyDecimal)return t[a2.NumberSymbols][R2.Decimal];if(e===R2.CurrencyGroup)return t[a2.NumberSymbols][R2.Group]}return r}function DM(n){if(!n[a2.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[a2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ss(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function og(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const BU=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,q8={},UU=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var oi=(()=>((oi=oi||{})[oi.Short=0]="Short",oi[oi.ShortGMT=1]="ShortGMT",oi[oi.Long=2]="Long",oi[oi.Extended=3]="Extended",oi))(),W2=(()=>((W2=W2||{})[W2.FullYear=0]="FullYear",W2[W2.Month=1]="Month",W2[W2.Date=2]="Date",W2[W2.Hours=3]="Hours",W2[W2.Minutes=4]="Minutes",W2[W2.Seconds=5]="Seconds",W2[W2.FractionalSeconds=6]="FractionalSeconds",W2[W2.Day=7]="Day",W2))(),_1=(()=>((_1=_1||{})[_1.DayPeriods=0]="DayPeriods",_1[_1.Days=1]="Days",_1[_1.Months=2]="Months",_1[_1.Eras=3]="Eras",_1))();function jU(n,e,t,r){let i=function QU(n){if(VM(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,o=1]=n.split("-").map(_=>+_);return j7(i,a-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(BU))return function JU(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,_=Number(n[5]||0)-r,V=Number(n[6]||0),q=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,o,_,V,q),e}(r)}const e=new Date(n);if(!VM(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=T3(t,e)||e;let _,o=[];for(;e;){if(_=UU.exec(e),!_){o.push(e);break}{o=o.concat(_.slice(1));const de=o.pop();if(!de)break;e=de}}let V=i.getTimezoneOffset();r&&(V=kM(r,V),i=function KU(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function XU(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(kM(e,i)-i))}(i,r,!0));let q="";return o.forEach(de=>{const ze=function ZU(n){if(lg[n])return lg[n];let e;switch(n){case"G":case"GG":case"GGG":e=ur(_1.Eras,V1.Abbreviated);break;case"GGGG":e=ur(_1.Eras,V1.Wide);break;case"GGGGG":e=ur(_1.Eras,V1.Narrow);break;case"y":e=ei(W2.FullYear,1,0,!1,!0);break;case"yy":e=ei(W2.FullYear,2,0,!0,!0);break;case"yyy":e=ei(W2.FullYear,3,0,!1,!0);break;case"yyyy":e=ei(W2.FullYear,4,0,!1,!0);break;case"Y":e=q7(1);break;case"YY":e=q7(2,!0);break;case"YYY":e=q7(3);break;case"YYYY":e=q7(4);break;case"M":case"L":e=ei(W2.Month,1,1);break;case"MM":case"LL":e=ei(W2.Month,2,1);break;case"MMM":e=ur(_1.Months,V1.Abbreviated);break;case"MMMM":e=ur(_1.Months,V1.Wide);break;case"MMMMM":e=ur(_1.Months,V1.Narrow);break;case"LLL":e=ur(_1.Months,V1.Abbreviated,Gr.Standalone);break;case"LLLL":e=ur(_1.Months,V1.Wide,Gr.Standalone);break;case"LLLLL":e=ur(_1.Months,V1.Narrow,Gr.Standalone);break;case"w":e=cg(1);break;case"ww":e=cg(2);break;case"W":e=cg(1,!0);break;case"d":e=ei(W2.Date,1);break;case"dd":e=ei(W2.Date,2);break;case"c":case"cc":e=ei(W2.Day,1);break;case"ccc":e=ur(_1.Days,V1.Abbreviated,Gr.Standalone);break;case"cccc":e=ur(_1.Days,V1.Wide,Gr.Standalone);break;case"ccccc":e=ur(_1.Days,V1.Narrow,Gr.Standalone);break;case"cccccc":e=ur(_1.Days,V1.Short,Gr.Standalone);break;case"E":case"EE":case"EEE":e=ur(_1.Days,V1.Abbreviated);break;case"EEEE":e=ur(_1.Days,V1.Wide);break;case"EEEEE":e=ur(_1.Days,V1.Narrow);break;case"EEEEEE":e=ur(_1.Days,V1.Short);break;case"a":case"aa":case"aaa":e=ur(_1.DayPeriods,V1.Abbreviated);break;case"aaaa":e=ur(_1.DayPeriods,V1.Wide);break;case"aaaaa":e=ur(_1.DayPeriods,V1.Narrow);break;case"b":case"bb":case"bbb":e=ur(_1.DayPeriods,V1.Abbreviated,Gr.Standalone,!0);break;case"bbbb":e=ur(_1.DayPeriods,V1.Wide,Gr.Standalone,!0);break;case"bbbbb":e=ur(_1.DayPeriods,V1.Narrow,Gr.Standalone,!0);break;case"B":case"BB":case"BBB":e=ur(_1.DayPeriods,V1.Abbreviated,Gr.Format,!0);break;case"BBBB":e=ur(_1.DayPeriods,V1.Wide,Gr.Format,!0);break;case"BBBBB":e=ur(_1.DayPeriods,V1.Narrow,Gr.Format,!0);break;case"h":e=ei(W2.Hours,1,-12);break;case"hh":e=ei(W2.Hours,2,-12);break;case"H":e=ei(W2.Hours,1);break;case"HH":e=ei(W2.Hours,2);break;case"m":e=ei(W2.Minutes,1);break;case"mm":e=ei(W2.Minutes,2);break;case"s":e=ei(W2.Seconds,1);break;case"ss":e=ei(W2.Seconds,2);break;case"S":e=ei(W2.FractionalSeconds,1);break;case"SS":e=ei(W2.FractionalSeconds,2);break;case"SSS":e=ei(W2.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=$7(oi.Short);break;case"ZZZZZ":e=$7(oi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$7(oi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=$7(oi.Long);break;default:return null}return lg[n]=e,e}(de);q+=ze?ze(i,t,V):"''"===de?"'":de.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),q}function j7(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function T3(n,e){const t=function DU(n){return wa(n)[a2.LocaleId]}(n);if(q8[t]=q8[t]||{},q8[t][e])return q8[t][e];let r="";switch(e){case"shortDate":r=R7(n,Dr.Short);break;case"mediumDate":r=R7(n,Dr.Medium);break;case"longDate":r=R7(n,Dr.Long);break;case"fullDate":r=R7(n,Dr.Full);break;case"shortTime":r=B7(n,Dr.Short);break;case"mediumTime":r=B7(n,Dr.Medium);break;case"longTime":r=B7(n,Dr.Long);break;case"fullTime":r=B7(n,Dr.Full);break;case"short":const i=T3(n,"shortTime"),a=T3(n,"shortDate");r=G7(U7(n,Dr.Short),[i,a]);break;case"medium":const o=T3(n,"mediumTime"),_=T3(n,"mediumDate");r=G7(U7(n,Dr.Medium),[o,_]);break;case"long":const V=T3(n,"longTime"),q=T3(n,"longDate");r=G7(U7(n,Dr.Long),[V,q]);break;case"full":const de=T3(n,"fullTime"),ze=T3(n,"fullDate");r=G7(U7(n,Dr.Full),[de,ze])}return r&&(q8[t][e]=r),r}function G7(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function ro(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),a+o}function ei(n,e,t=0,r=!1,i=!1){return function(a,o){let _=function $U(n,e){switch(n){case W2.FullYear:return e.getFullYear();case W2.Month:return e.getMonth();case W2.Date:return e.getDate();case W2.Hours:return e.getHours();case W2.Minutes:return e.getMinutes();case W2.Seconds:return e.getSeconds();case W2.FractionalSeconds:return e.getMilliseconds();case W2.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||_>-t)&&(_+=t),n===W2.Hours)0===_&&-12===t&&(_=12);else if(n===W2.FractionalSeconds)return function GU(n,e){return ro(n,3).substring(0,e)}(_,e);const V=ws(o,R2.MinusSign);return ro(_,e,V,r,i)}}function ur(n,e,t=Gr.Format,r=!1){return function(i,a){return function WU(n,e,t,r,i,a){switch(t){case _1.Months:return function VU(n,e,t){const r=wa(n),a=Ss([r[a2.MonthsFormat],r[a2.MonthsStandalone]],e);return Ss(a,t)}(e,i,r)[n.getMonth()];case _1.Days:return function kU(n,e,t){const r=wa(n),a=Ss([r[a2.DaysFormat],r[a2.DaysStandalone]],e);return Ss(a,t)}(e,i,r)[n.getDay()];case _1.DayPeriods:const o=n.getHours(),_=n.getMinutes();if(a){const q=function PU(n){const e=wa(n);return DM(e),(e[a2.ExtraData][2]||[]).map(r=>"string"==typeof r?og(r):[og(r[0]),og(r[1])])}(e),de=function IU(n,e,t){const r=wa(n);DM(r);const a=Ss([r[a2.ExtraData][0],r[a2.ExtraData][1]],e)||[];return Ss(a,t)||[]}(e,i,r),ze=q.findIndex(je=>{if(Array.isArray(je)){const[ct,Ht]=je,$t=o>=ct.hours&&_>=ct.minutes,un=o<Ht.hours||o===Ht.hours&&_<Ht.minutes;if(ct.hours<Ht.hours){if($t&&un)return!0}else if($t||un)return!0}else if(je.hours===o&&je.minutes===_)return!0;return!1});if(-1!==ze)return de[ze]}return function TU(n,e,t){const r=wa(n),a=Ss([r[a2.DayPeriodsFormat],r[a2.DayPeriodsStandalone]],e);return Ss(a,t)}(e,i,r)[o<12?0:1];case _1.Eras:return function AU(n,e){return Ss(wa(n)[a2.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function $7(n){return function(e,t,r){const i=-1*r,a=ws(t,R2.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case oi.Short:return(i>=0?"+":"")+ro(o,2,a)+ro(Math.abs(i%60),2,a);case oi.ShortGMT:return"GMT"+(i>=0?"+":"")+ro(o,1,a);case oi.Long:return"GMT"+(i>=0?"+":"")+ro(o,2,a)+":"+ro(Math.abs(i%60),2,a);case oi.Extended:return 0===r?"Z":(i>=0?"+":"")+ro(o,2,a)+":"+ro(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function TM(n){return j7(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function cg(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+a)/7)}else{const a=TM(t),o=function YU(n){const e=j7(n,0,1).getDay();return j7(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),_=a.getTime()-o.getTime();i=1+Math.round(_/6048e5)}return ro(i,n,ws(r,R2.MinusSign))}}function q7(n,e=!1){return function(t,r){return ro(TM(t).getFullYear(),n,ws(r,R2.MinusSign),e)}}const lg={};function kM(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function VM(n){return n instanceof Date&&!isNaN(n.valueOf())}const ej=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function hg(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}const mg=/\s+/,PM=[];let Rc=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this.initialClasses=PM,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(mg):PM}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(mg):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(mg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(yt(F7),yt($8),yt(ir),yt(Ir))},n.\u0275dir=f2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class hj{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k3=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new hj(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===a?void 0:a);else if(null!==a){const _=r.get(a);r.move(_,o),FM(_,i)}});for(let i=0,a=r.length;i<a;i++){const _=r.get(i).context;_.index=i,_.count=a,_.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{FM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(yt(Sa),yt(Gi),yt(F7))},n.\u0275dir=f2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function FM(n,e){n.context.$implicit=e.item}let $r=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new mj,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){RM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){RM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(yt(Sa),yt(Gi))},n.\u0275dir=f2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class mj{constructor(){this.$implicit=null,this.ngIf=null}}function RM(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${gn(e)}'.`)}let UM=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:a,ngTemplateOutletInjector:o}=this;this._viewRef=r.createEmbeddedView(i,a,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(yt(Sa))},n.\u0275dir=f2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[M1]}),n})();function io(n,e){return new Yt(2100,!1)}const Tj=new l2("DATE_PIPE_DEFAULT_TIMEZONE"),kj=new l2("DATE_PIPE_DEFAULT_OPTIONS");let yg=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,a){if(null==t||""===t||t!=t)return null;try{return jU(t,r??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw io()}}}return n.\u0275fac=function(t){return new(t||n)(yt(z3,16),yt(Tj,24),yt(kj,24))},n.\u0275pipe=Q1({name:"date",type:n,pure:!0,standalone:!0}),n})(),Ha=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function _g(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function sj(n,e,t){return function fg(n,e,t,r,i,a,o=!1){let _="",V=!1;if(isFinite(n)){let q=function cj(n){let r,i,a,o,_,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(i<0&&(i=a),i+=+e.slice(a+1),e=e.substring(0,a)):i<0&&(i=e.length),a=0;"0"===e.charAt(a);a++);if(a===(_=e.length))r=[0],i=1;else{for(_--;"0"===e.charAt(_);)_--;for(i-=a,r=[],o=0;a<=_;a++,o++)r[o]=Number(e.charAt(a))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(q=function oj(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(q));let de=e.minInt,ze=e.minFrac,je=e.maxFrac;if(a){const In=a.match(ej);if(null===In)throw new Error(`${a} is not a valid digit info`);const pn=In[1],Jn=In[3],Z2=In[5];null!=pn&&(de=hg(pn)),null!=Jn&&(ze=hg(Jn)),null!=Z2?je=hg(Z2):null!=Jn&&ze>je&&(je=ze)}!function lj(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const a=Math.min(Math.max(e,i),t);let o=a+n.integerLen,_=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let ze=o;ze<r.length;ze++)r[ze]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=a+1),r[0]=0;for(let ze=1;ze<o;ze++)r[ze]=0}if(_>=5)if(o-1<0){for(let ze=0;ze>o;ze--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,a);i++)r.push(0);let V=0!==a;const q=e+n.integerLen,de=r.reduceRight(function(ze,je,ct,Ht){return Ht[ct]=(je+=ze)<10?je:je-10,V&&(0===Ht[ct]&&ct>=q?Ht.pop():V=!1),je>=10?1:0},0);de&&(r.unshift(de),n.integerLen++)}(q,ze,je);let ct=q.digits,Ht=q.integerLen;const $t=q.exponent;let un=[];for(V=ct.every(In=>!In);Ht<de;Ht++)ct.unshift(0);for(;Ht<0;Ht++)ct.unshift(0);Ht>0?un=ct.splice(Ht,ct.length):(un=ct,ct=[0]);const Cn=[];for(ct.length>=e.lgSize&&Cn.unshift(ct.splice(-e.lgSize,ct.length).join(""));ct.length>e.gSize;)Cn.unshift(ct.splice(-e.gSize,ct.length).join(""));ct.length&&Cn.unshift(ct.join("")),_=Cn.join(ws(t,r)),un.length&&(_+=ws(t,i)+un.join("")),$t&&(_+=ws(t,R2.Exponential)+"+"+$t)}else _=ws(t,R2.Infinity);return _=n<0&&!V?e.negPre+_+e.negSuf:e.posPre+_+e.posSuf,_}(n,function dg(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],a=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],_=o[0],V=o[1]||"";t.posPre=_.substring(0,_.indexOf("#"));for(let de=0;de<V.length;de++){const ze=V.charAt(de);"0"===ze?t.minFrac=t.maxFrac=de+1:"#"===ze?t.maxFrac=de+1:t.posSuf+=ze}const q=_.split(",");if(t.gSize=q[1]?q[1].length:0,t.lgSize=q[2]||q[1]?(q[2]||q[1]).length:0,a){const de=i.length-t.posPre.length-t.posSuf.length,ze=a.indexOf("#");t.negPre=a.substring(0,ze).replace(/'/g,""),t.negSuf=a.slice(ze+de).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function sg(n,e){return wa(n)[a2.NumberFormats][e]}(e,$a.Decimal),ws(e,R2.MinusSign)),e,R2.Group,R2.Decimal,t)}(function Cg(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(a){throw io()}}}return n.\u0275fac=function(t){return new(t||n)(yt(z3,16))},n.\u0275pipe=Q1({name:"number",type:n,pure:!0,standalone:!0}),n})();let V0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({}),n})();const GM="browser";function bg(n){return n===GM}let jj=(()=>{class n{}return n.\u0275prov=Nn({token:n,providedIn:"root",factory:()=>new Gj(ln($1),window)}),n})();class Gj{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function $j(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const o=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=$M(this.window.history)||$M(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $M(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class _G extends bU{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class wg extends _G{static makeCurrent(){!function CU(n){rg||(rg=n)}(new wg)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function CG(){return X8=X8||document.querySelector("base"),X8?X8.getAttribute("href"):null}();return null==t?null:function bG(n){X7=X7||document.createElement("a"),X7.setAttribute("href",n);const e=X7.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){X8=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function fj(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let X7,X8=null;const KM=new l2("TRANSITION_ID"),MG=[{provide:U8,useFactory:function xG(n,e,t){return()=>{t.get(N7).donePromise.then(()=>{const r=Fo(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[KM,$1,Ui],multi:!0}];let SG=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();const K7=new l2("EventManagerPlugins");let Q7=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const o=i[a];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(ln(K7),ln(I1))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();class QM{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Fo().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let JM=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})(),K8=(()=>{class n extends JM{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const o=this._doc.createElement("style");o.textContent=a,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ew),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ew))}}return n.\u0275fac=function(t){return new(t||n)(ln($1))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();function ew(n){Fo().remove(n)}const Sg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zg=/%COMP%/g;function Hg(n,e){return e.flat(100).map(t=>t.replace(zg,n))}function rw(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let J7=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Lg(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Oi.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new kG(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case Oi.ShadowDom:return new VG(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Hg(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(ln(Q7),ln(K8),ln(j8))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();class Lg{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Sg[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(aw(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(aw(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Sg[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Sg[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ra.DashCase|ra.Important)?e.style.setProperty(t,r,i&ra.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ra.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,rw(r)):this.eventManager.addEventListener(e,t,rw(r))}}function aw(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class kG extends Lg{constructor(e,t,r,i){super(e),this.component=r;const a=Hg(i+"-"+r.id,r.styles);t.addStyles(a),this.contentAttr=function LG(n){return"_ngcontent-%COMP%".replace(zg,n)}(i+"-"+r.id),this.hostAttr=function DG(n){return"_nghost-%COMP%".replace(zg,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class VG extends Lg{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Hg(i.id,i.styles);for(let o=0;o<a.length;o++){const _=document.createElement("style");_.textContent=a[o],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let AG=(()=>{class n extends QM{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(ln($1))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();const sw=["alt","control","meta","shift"],NG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EG={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let PG=(()=>{class n extends QM{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),o=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fo().onAndCancel(t,a.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let o="",_=r.indexOf("code");if(_>-1&&(r.splice(_,1),o="code."),sw.forEach(q=>{const de=r.indexOf(q);de>-1&&(r.splice(de,1),o+=q+".")}),o+=a,0!=r.length||0===a.length)return null;const V={};return V.domEventName=i,V.fullKey=o,V}static matchEventFullKeyCode(t,r){let i=NG[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),sw.forEach(o=>{o!==i&&(0,EG[o])(t)&&(a+=o+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(ln($1))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();const RG=aM(vU,"browser",[{provide:G8,useValue:GM},{provide:Yx,useValue:function IG(){wg.makeCurrent()},multi:!0},{provide:$1,useFactory:function FG(){return function O9(n){d4=n}(document),document},deps:[]}]),lw=new l2(""),uw=[{provide:E7,useClass:class wG{addToWindow(e){m1.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},m1.getAllAngularTestabilities=()=>e.getAllTestabilities(),m1.getAllAngularRootElements=()=>e.getAllRootElements(),m1.frameworkStabilizers||(m1.frameworkStabilizers=[]),m1.frameworkStabilizers.push(r=>{const i=m1.getAllAngularTestabilities();let a=i.length,o=!1;const _=function(V){o=o||V,a--,0==a&&r(o)};i.forEach(function(V){V.whenStable(_)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Fo().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:tM,useClass:Ym,deps:[I1,Zm,E7]},{provide:Ym,useClass:Ym,deps:[I1,Zm,E7]}],fw=[{provide:Tc,useValue:"root"},{provide:Qs,useFactory:function OG(){return new Qs},deps:[]},{provide:K7,useClass:AG,multi:!0,deps:[$1,I1,G8]},{provide:K7,useClass:PG,multi:!0,deps:[$1]},{provide:J7,useClass:J7,deps:[Q7,K8,j8]},{provide:v4,useExisting:J7},{provide:JM,useExisting:K8},{provide:K8,useClass:K8,deps:[$1]},{provide:Q7,useClass:Q7,deps:[K7,I1]},{provide:class Wj{},useClass:SG,deps:[]},[]];let dw=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:j8,useValue:t.appId},{provide:KM,useExisting:j8},MG]}}}return n.\u0275fac=function(t){return new(t||n)(ln(lw,12))},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({providers:[...fw,...uw],imports:[V0,yU]}),n})(),hw=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(ln($1))},n.\u0275prov=Nn({token:n,factory:function(t){let r=null;return r=t?new t:function UG(){return new hw(ln($1))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let gw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:function(t){let r=null;return r=t?new(t||n):ln(vw),r},providedIn:"root"}),n})(),vw=(()=>{class n extends gw{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case J1.NONE:return r;case J1.HTML:return xs(r,"HTML")?ba(r):Hc(this._doc,String(r)).toString();case J1.STYLE:return xs(r,"Style")?ba(r):r;case J1.SCRIPT:if(xs(r,"Script"))return ba(r);throw new Error("unsafe value used in a script context");case J1.URL:return xs(r,"URL")?ba(r):Ql(String(r));case J1.RESOURCE_URL:if(xs(r,"ResourceURL"))return ba(r);throw new Error(`unsafe value used in a resource URL context (see ${h2})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${h2})`)}}bypassSecurityTrustHtml(t){return function Tf(n){return new F9(n)}(t)}bypassSecurityTrustStyle(t){return function kf(n){return new R9(n)}(t)}bypassSecurityTrustScript(t){return function $9(n){return new B9(n)}(t)}bypassSecurityTrustUrl(t){return function W9(n){return new U9(n)}(t)}bypassSecurityTrustResourceUrl(t){return function q9(n){return new j9(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(ln($1))},n.\u0275prov=Nn({token:n,factory:function(t){let r=null;return r=t?new t:function ZG(n){return new vw(n.get($1))}(ln(Ui)),r},providedIn:"root"}),n})();const{isArray:XG}=Array,{getPrototypeOf:KG,prototype:QG,keys:JG}=Object;function yw(n){if(1===n.length){const e=n[0];if(XG(e))return{args:e,keys:null};if(function e$(n){return n&&"object"==typeof n&&KG(n)===QG}(e)){const t=JG(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:t$}=Array;function kg(n){return Y(e=>function n$(n,e){return t$(e)?n(...e):n(e)}(n,e))}function _w(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Cw=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(yt(Ir),yt(ir))},n.\u0275dir=f2({type:n}),n})(),Bc=(()=>{class n extends Cw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xr(n)))(r||n)}}(),n.\u0275dir=f2({type:n,features:[p1]}),n})();const Ro=new l2("NgValueAccessor"),a$={provide:Ro,useExisting:An(()=>$i),multi:!0},o$=new l2("CompositionEventMode");let $i=(()=>{class n extends Cw{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function s$(){const n=Fo()?Fo().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(yt(Ir),yt(ir),yt(o$,8))},n.\u0275dir=f2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&vn("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[er([a$]),p1]}),n})();function z4(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function xw(n){return null!=n&&"number"==typeof n.length}const ca=new l2("NgValidators"),H4=new l2("NgAsyncValidators"),l$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Uc{static min(e){return Mw(e)}static max(e){return ww(e)}static required(e){return Sw(e)}static requiredTrue(e){return function zw(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Hw(n){return z4(n.value)||l$.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Lw(n){return e=>z4(e.value)||!xw(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Dw(n){return e=>xw(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Tw(n){if(!n)return ed;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(z4(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Pw(e)}static composeAsync(e){return Iw(e)}}function Mw(n){return e=>{if(z4(e.value)||z4(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function ww(n){return e=>{if(z4(e.value)||z4(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Sw(n){return z4(n.value)?{required:!0}:null}function ed(n){return null}function kw(n){return null!=n}function Vw(n){return T8(n)?Ln(n):n}function Aw(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Nw(n,e){return e.map(t=>t(n))}function Ew(n){return n.map(e=>function u$(n){return!n.validate}(e)?e:t=>e.validate(t))}function Pw(n){if(!n)return null;const e=n.filter(kw);return 0==e.length?null:function(t){return Aw(Nw(t,e))}}function Vg(n){return null!=n?Pw(Ew(n)):null}function Iw(n){if(!n)return null;const e=n.filter(kw);return 0==e.length?null:function(t){return function r$(...n){const e=Wt(n),{args:t,keys:r}=yw(n),i=new oe(a=>{const{length:o}=t;if(!o)return void a.complete();const _=new Array(o);let V=o,q=o;for(let de=0;de<o;de++){let ze=!1;tn(t[de]).subscribe(F(a,je=>{ze||(ze=!0,q--),_[de]=je},()=>V--,void 0,()=>{(!V||!ze)&&(q||a.next(r?_w(r,_):_),a.complete())}))}});return e?i.pipe(kg(e)):i}(Nw(t,e).map(Vw)).pipe(Y(Aw))}}function Ag(n){return null!=n?Iw(Ew(n)):null}function Ow(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Fw(n){return n._rawValidators}function Rw(n){return n._rawAsyncValidators}function Ng(n){return n?Array.isArray(n)?n:[n]:[]}function td(n,e){return Array.isArray(n)?n.includes(e):n===e}function Bw(n,e){const t=Ng(e);return Ng(n).forEach(i=>{td(t,i)||t.push(i)}),t}function Uw(n,e){return Ng(e).filter(t=>!td(n,t))}class jw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Vg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ag(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class La extends jw{get formDirective(){return null}get path(){return null}}class L4 extends jw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gw{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Da=(()=>{class n extends Gw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(yt(L4,2))},n.\u0275dir=f2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u2("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[p1]}),n})(),la=(()=>{class n extends Gw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(yt(La,10))},n.\u0275dir=f2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u2("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[p1]}),n})();const Q8="VALID",rd="INVALID",A0="PENDING",J8="DISABLED";function Og(n){return(id(n)?n.validators:n)||null}function Fg(n,e){return(id(e)?e.asyncValidators:n)||null}function id(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Ww(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new Yt(1e3,"");if(!r[t])throw new Yt(1001,"")}function qw(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new Yt(1002,"")})}class ad{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Q8}get invalid(){return this.status===rd}get pending(){return this.status==A0}get disabled(){return this.status===J8}get enabled(){return this.status!==J8}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Bw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Bw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Uw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Uw(e,this._rawAsyncValidators))}hasValidator(e){return td(this._rawValidators,e)}hasAsyncValidator(e){return td(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=A0,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=J8,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Q8,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Q8||this.status===A0)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?J8:Q8}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=A0,this._hasOwnPendingAsyncValidator=!0;const t=Vw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a1,this.statusChanges=new a1}_calculateStatus(){return this._allControlsDisabled()?J8:this.errors?rd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(A0)?A0:this._anyControlsHaveStatus(rd)?rd:Q8}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){id(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function v$(n){return Array.isArray(n)?Vg(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function y$(n){return Array.isArray(n)?Ag(n):n||null}(this._rawAsyncValidators)}}class eu extends ad{constructor(e,t,r){super(Og(t),Fg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){qw(this,0,e),Object.keys(e).forEach(r=>{Ww(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Yw extends eu{}const N0=new l2("CallSetDisabledState",{providedIn:"root",factory:()=>sd}),sd="always";function od(n,e){return[...e.path,n]}function tu(n,e,t=sd){Rg(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function C$(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Zw(n,e)})}(n,e),function x$(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function b$(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Zw(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function _$(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function cd(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ud(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ld(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Rg(n,e){const t=Fw(n);null!==e.validator?n.setValidators(Ow(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Rw(n);null!==e.asyncValidator?n.setAsyncValidators(Ow(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();ld(e._rawValidators,i),ld(e._rawAsyncValidators,i)}function ud(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Fw(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(o=>o!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=Rw(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(o=>o!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return ld(e._rawValidators,r),ld(e._rawAsyncValidators,r),t}function Zw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Qw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Jw(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ru=class extends ad{constructor(e=null,t,r){super(Og(t),Fg(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),id(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Jw(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Qw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Qw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Jw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let eS=(()=>{class n extends La{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return od(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xr(n)))(r||n)}}(),n.\u0275dir=f2({type:n,features:[p1]}),n})(),V3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const k$={provide:Ro,useExisting:An(()=>Ta),multi:!0};let Ta=(()=>{class n extends Bc{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xr(n)))(r||n)}}(),n.\u0275dir=f2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&vn("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[er([k$]),p1]}),n})();const V$={provide:Ro,useExisting:An(()=>$g),multi:!0};let iS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({}),n})(),A$=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:iS}),n})(),$g=(()=>{class n extends Bc{constructor(t,r,i,a){super(t,r),this._registry=i,this._injector=a,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(L4),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(t){return new(t||n)(yt(Ir),yt(ir),yt(A$),yt(Ui))},n.\u0275dir=f2({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,r){1&t&&vn("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[er([V$]),p1]}),n})();const Wg=new l2("NgModelWithFormControlWarning"),P$={provide:La,useExisting:An(()=>zi)};let zi=(()=>{class n extends La{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a1,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ud(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return tu(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){cd(t.control||null,t,!1),function z$(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Kw(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(cd(r||null,t),(n=>n instanceof ru)(i)&&(tu(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Xw(n,e){Rg(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function M$(n,e){return ud(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Rg(this.form,this),this._oldForm&&ud(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(yt(ca,10),yt(H4,10),yt(N0,8))},n.\u0275dir=f2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&vn("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[er([P$]),p1,M1]}),n})();const I$={provide:La,useExisting:An(()=>iu)};let iu=(()=>{class n extends eS{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){oS(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(yt(La,13),yt(ca,10),yt(H4,10))},n.\u0275dir=f2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[er([I$]),p1]}),n})();const O$={provide:La,useExisting:An(()=>au)};let au=(()=>{class n extends La{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return od(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){oS(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(yt(La,13),yt(ca,10),yt(H4,10))},n.\u0275dir=f2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[er([O$]),p1]}),n})();function oS(n){return!(n instanceof iu||n instanceof zi||n instanceof au)}const F$={provide:L4,useExisting:An(()=>ua)};let ua=(()=>{class n extends L4{set isDisabled(t){}constructor(t,r,i,a,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new a1,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function jg(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===$i?t=a:function S$(n){return Object.getPrototypeOf(n.constructor)===Bc}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){this._added||this._setUpControl(),function Ug(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return od(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(yt(La,13),yt(ca,10),yt(H4,10),yt(Ro,10),yt(Wg,8))},n.\u0275dir=f2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[er([F$]),p1,M1]}),n})();function fS(n){return"number"==typeof n?n:parseFloat(n)}let jc=(()=>{class n{constructor(){this._validator=ed}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ed,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f2({type:n,features:[M1]}),n})();const W$={provide:ca,useExisting:An(()=>ka),multi:!0};let ka=(()=>{class n extends jc{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>fS(t),this.createValidator=t=>ww(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xr(n)))(r||n)}}(),n.\u0275dir=f2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Ma("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[er([W$]),p1]}),n})();const q$={provide:ca,useExisting:An(()=>Va),multi:!0};let Va=(()=>{class n extends jc{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>fS(t),this.createValidator=t=>Mw(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xr(n)))(r||n)}}(),n.\u0275dir=f2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Ma("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[er([q$]),p1]}),n})();const Y$={provide:ca,useExisting:An(()=>zs),multi:!0};let zs=(()=>{class n extends jc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=k0,this.createValidator=t=>Sw}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xr(n)))(r||n)}}(),n.\u0275dir=f2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&Ma("required",r._enabled?"":null)},inputs:{required:"required"},features:[er([Y$]),p1]}),n})(),vS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({imports:[iS]}),n})();class yS extends ad{constructor(e,t,r){super(Og(t),Fg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){qw(this,0,e),e.forEach((r,i)=>{Ww(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function _S(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let eW=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return _S(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new eu(i,a)}record(t,r=null){const i=this._reduceControls(t);return new Yw(i,r)}control(t,r,i){let a={};return this.useNonNullable?(_S(r)?a=r:(a.validators=r,a.asyncValidators=i),new ru(t,{...a,nonNullable:!0})):new ru(t,r,i)}array(t,r,i){const a=t.map(o=>this._createControl(o));return new yS(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof ru||t instanceof ad?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Aa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:function(){return $2(eW).nonNullable},providedIn:"root"}),n})(),tW=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:N0,useValue:t.callSetDisabledState??sd}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({imports:[vS]}),n})(),nW=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Wg,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:N0,useValue:t.callSetDisabledState??sd}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({imports:[vS]}),n})();function fd(n){return new oe(e=>{tn(n()).subscribe(e)})}function E0(n,e){const t=J(n)?n:()=>n,r=i=>i.error(t());return new oe(e?i=>e.schedule(r,0,i):r)}const rW=["addListener","removeListener"],iW=["addEventListener","removeEventListener"],aW=["on","off"];function Hs(n,e,t,r){if(J(t)&&(r=t,t=void 0),r)return Hs(n,e,t).pipe(kg(r));const[i,a]=function cW(n){return J(n.addEventListener)&&J(n.removeEventListener)}(n)?iW.map(o=>_=>n[o](e,_,t)):function sW(n){return J(n.addListener)&&J(n.removeListener)}(n)?rW.map(CS(n,e)):function oW(n){return J(n.on)&&J(n.off)}(n)?aW.map(CS(n,e)):[];if(!i&&gt(n))return et(o=>Hs(o,e,t))(tn(n));if(!i)throw new TypeError("Invalid event target");return new oe(o=>{const _=(...V)=>o.next(1<V.length?V:V[0]);return i(_),()=>a(_)})}function CS(n,e){return t=>r=>n[t](e,r)}function A2(...n){return Ln(n,dn(n))}function P0(...n){return function lW(){return ut(1)}()(Ln(n,dn(n)))}const D4=new oe(b);function Hi(n,e){return ee((t,r)=>{let i=0;t.subscribe(F(r,a=>n.call(e,a,i++)&&r.next(a)))})}function Na(n,e){return ee((t,r)=>{let i=null,a=0,o=!1;const _=()=>o&&!i&&r.complete();t.subscribe(F(r,V=>{i?.unsubscribe();let q=0;const de=a++;tn(n(V,de)).subscribe(i=F(r,ze=>r.next(e?e(V,ze,de,q++):ze),()=>{i=null,_()}))},()=>{o=!0,_()}))})}function Zg(){return ee((n,e)=>{let t=null;n._refCount++;const r=F(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Xg extends oe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,se(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new c;const t=this.getSubject();e.add(this.source.subscribe(F(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=c.EMPTY)}return e}refCount(){return Zg()(this)}}const fW={connector:()=>new j};function bS(n,e=fW){const{connector:t}=e;return ee((r,i)=>{const a=t();tn(n(function uW(n){return new oe(e=>n.subscribe(e))}(a))).subscribe(i),i.add(r.subscribe(a))})}function Li(n){return n<=0?()=>St:ee((e,t)=>{let r=0;e.subscribe(F(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Wi(n,e,t){const r=J(n)||e||t?{next:n,error:e,complete:t}:n;return r?ee((i,a)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let _=!0;i.subscribe(F(a,V=>{var q;null===(q=r.next)||void 0===q||q.call(r,V),a.next(V)},()=>{var V;_=!1,null===(V=r.complete)||void 0===V||V.call(r),a.complete()},V=>{var q;_=!1,null===(q=r.error)||void 0===q||q.call(r,V),a.error(V)},()=>{var V,q;_&&(null===(V=r.unsubscribe)||void 0===V||V.call(r)),null===(q=r.finalize)||void 0===q||q.call(r)}))}):Z}class pW extends c{constructor(e,t){super()}schedule(e,t=0){return this}}const dd={setInterval(n,e,...t){const{delegate:r}=dd;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=dd;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Kg extends pW{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(a,this.id,t),this}requestAsyncId(e,t,r=0){return dd.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&dd.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(a){r=!0,i=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,p(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const xS={now:()=>(xS.delegate||Date).now(),delegate:void 0};class su{constructor(e,t=su.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}su.now=xS.now;class Qg extends su{constructor(e,t=su.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const hd=new Qg(Kg),mW=hd;function MS(n){return Y(()=>n)}function wS(n,e){return e?t=>P0(e.pipe(Li(1),function gW(){return ee((n,e)=>{n.subscribe(F(e,b))})}()),t.pipe(wS(n))):et((t,r)=>tn(n(t,r)).pipe(Li(1),MS(t)))}function SS(n=0,e,t=mW){let r=-1;return null!=e&&(an(e)?t=e:r=e),new oe(i=>{let a=function vW(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},a)})}const ou="Service workers are disabled or not supported by this browser";class pd{constructor(e){if(this.serviceWorker=e,e){const r=Hs(e,"controllerchange").pipe(Y(()=>e.controller)),a=P0(fd(()=>A2(e.controller)),r);this.worker=a.pipe(Hi(de=>!!de)),this.registration=this.worker.pipe(Na(()=>e.getRegistration()));const q=Hs(e,"message").pipe(Y(de=>de.data)).pipe(Hi(de=>de&&de.type)).pipe(function hW(n){return n?e=>bS(n)(e):e=>function dW(n,e){const t=J(n)?n:()=>n;return J(e)?bS(e,{connector:t}):r=>new Xg(r,t)}(new j)(e)}());q.connect(),this.events=q}else this.worker=this.events=this.registration=function _W(n){return fd(()=>E0(new Error(n)))}(ou)}postMessage(e,t){return this.worker.pipe(Li(1),Wi(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),a=this.postMessage(e,t);return Promise.all([a,i]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Hi(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Li(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Hi(t=>t.nonce===e),Li(1),Y(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let CW=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.subscriptionChanges=new j,!t.isEnabled)return this.messages=D4,this.notificationClicks=D4,void(this.subscription=D4);this.messages=this.sw.eventsOfType("PUSH").pipe(Y(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Y(i=>i.data)),this.pushManager=this.sw.registration.pipe(Y(i=>i.pushManager));const r=this.pushManager.pipe(Na(i=>i.getSubscription()));this.subscription=Wn(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(ou));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return r.applicationServerKey=a,this.pushManager.pipe(Na(o=>o.subscribe(r)),Li(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Li(1),Na(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ou))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(ln(pd))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})(),bW=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=D4,this.available=D4,this.activated=D4,void(this.unrecoverable=D4);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Hi(r=>"VERSION_READY"===r.type),Y(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ou));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ou));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(ln(pd))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();class Jg{}const zS=new l2("NGSW_REGISTER_SCRIPT");function xW(n,e,t,r){return()=>{if(!bg(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[o,..._]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":i=A2(null);break;case"registerWithDelay":i=HS(+_[0]||0);break;case"registerWhenStable":i=_[0]?Wn(LS(n),HS(+_[0])):LS(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(I1).runOutsideAngular(()=>i.pipe(Li(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function HS(n){return A2(null).pipe(function yW(n,e=hd){const t=SS(n,e);return wS(()=>t)}(n))}function LS(n){return n.get(Ic).isStable.pipe(Hi(t=>t))}function MW(n,e){return new pd(bg(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let wW=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:zS,useValue:t},{provide:Jg,useValue:r},{provide:pd,useFactory:MW,deps:[Jg,G8]},{provide:U8,useFactory:xW,deps:[Ui,zS,Jg,G8],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({providers:[CW,bW]}),n})();class DS{}class SW{}const A3="*";function TS(n,e){return{type:7,name:n,definitions:e,options:{}}}function ev(n,e=null){return{type:4,styles:e,timings:n}}function kS(n,e=null){return{type:2,steps:n,options:e}}function Gc(n){return{type:6,styles:n,offset:null}}function VS(n,e,t){return{type:0,name:n,styles:e,options:t}}function tv(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function HW(n,e=null){return{type:8,animation:n,options:e}}function LW(n,e=null){return{type:10,animation:n,options:e}}function AS(n){Promise.resolve().then(n)}class cu{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){AS(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class NS{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?AS(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==a&&this._onFinish()}),o.onDestroy(()=>{++r==a&&this._onDestroy()}),o.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((o,_)=>Math.max(o,_.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function ES(n){return new Yt(3e3,!1)}function lq(){return typeof window<"u"&&typeof window.document<"u"}function rv(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function T4(n){switch(n.length){case 0:return new cu;case 1:return n[0];default:return new NS(n)}}function PS(n,e,t,r,i=new Map,a=new Map){const o=[],_=[];let V=-1,q=null;if(r.forEach(de=>{const ze=de.get("offset"),je=ze==V,ct=je&&q||new Map;de.forEach((Ht,$t)=>{let un=$t,Cn=Ht;if("offset"!==$t)switch(un=e.normalizePropertyName(un,o),Cn){case"!":Cn=i.get($t);break;case A3:Cn=a.get($t);break;default:Cn=e.normalizeStyleValue($t,un,Cn,o)}ct.set(un,Cn)}),je||_.push(ct),q=ct,V=ze}),o.length)throw function KW(n){return new Yt(3502,!1)}();return _}function iv(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&av(t,"start",n)));break;case"done":n.onDone(()=>r(t&&av(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&av(t,"destroy",n)))}}function av(n,e,t){const a=sv(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(a._data=o),a}function sv(n,e,t,r,i="",a=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!o}}function os(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function IS(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let ov=(n,e)=>!1,OS=(n,e,t)=>[],FS=null;function cv(n){const e=n.parentNode||n.host;return e===FS?null:e}(rv()||typeof Element<"u")&&(lq()?(FS=(()=>document.documentElement)(),ov=(n,e)=>{for(;e;){if(e===n)return!0;e=cv(e)}return!1}):ov=(n,e)=>n.contains(e),OS=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let $c=null,RS=!1;const BS=ov,US=OS;let jS=(()=>{class n{validateStyleProperty(t){return function fq(n){$c||($c=function dq(){return typeof document<"u"?document.body:null}()||{},RS=!!$c.style&&"WebkitAppearance"in $c.style);let e=!0;return $c.style&&!function uq(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in $c.style,!e&&RS&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in $c.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return BS(t,r)}getParentElement(t){return cv(t)}query(t,r,i){return US(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,o,_=[],V){return new cu(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})(),lv=(()=>{class n{}return n.NOOP=new jS,n})();const uv="ng-enter",md="ng-leave",gd="ng-trigger",vd=".ng-trigger",$S="ng-animating",fv=".ng-animating";function N3(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:dv(parseFloat(e[1]),e[2])}function dv(n,e){return"s"===e?1e3*n:n}function yd(n,e,t){return n.hasOwnProperty("duration")?n:function mq(n,e,t){let i,a=0,o="";if("string"==typeof n){const _=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return e.push(ES()),{duration:0,delay:0,easing:""};i=dv(parseFloat(_[1]),_[2]);const V=_[3];null!=V&&(a=dv(parseFloat(V),_[4]));const q=_[5];q&&(o=q)}else i=n;if(!t){let _=!1,V=e.length;i<0&&(e.push(function DW(){return new Yt(3100,!1)}()),_=!0),a<0&&(e.push(function TW(){return new Yt(3101,!1)}()),_=!0),_&&e.splice(V,0,ES())}return{duration:i,delay:a,easing:o}}(n,e,t)}function lu(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function WS(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function k4(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function YS(n,e,t){return t?e+":"+t+";":""}function ZS(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=YS(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=YS(0,_q(t),n.style[t]));n.setAttribute("style",e)}function Bo(n,e,t){n.style&&(e.forEach((r,i)=>{const a=pv(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),rv()&&ZS(n))}function Wc(n,e){n.style&&(e.forEach((t,r)=>{const i=pv(r);n.style[i]=""}),rv()&&ZS(n))}function uu(n){return Array.isArray(n)?1==n.length?n[0]:kS(n):n}const hv=new RegExp("{{\\s*(.+?)\\s*}}","g");function XS(n){let e=[];if("string"==typeof n){let t;for(;t=hv.exec(n);)e.push(t[1]);hv.lastIndex=0}return e}function fu(n,e,t){const r=n.toString(),i=r.replace(hv,(a,o)=>{let _=e[o];return null==_&&(t.push(function VW(n){return new Yt(3003,!1)}()),_=""),_.toString()});return i==r?n:i}function _d(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const yq=/-+([a-z0-9])/g;function pv(n){return n.replace(yq,(...e)=>e[1].toUpperCase())}function _q(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function cs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function AW(n){return new Yt(3004,!1)}()}}function KS(n,e){return window.getComputedStyle(n)[e]}function Sq(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function zq(n,e,t){if(":"==n[0]){const V=function Hq(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function qW(n){return new Yt(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof V)return void e.push(V);n=V}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function WW(n){return new Yt(3015,!1)}()),e;const i=r[1],a=r[2],o=r[3];e.push(QS(i,o));"<"==a[0]&&!("*"==i&&"*"==o)&&e.push(QS(o,i))}(r,t,e)):t.push(n),t}const Md=new Set(["true","1"]),wd=new Set(["false","0"]);function QS(n,e){const t=Md.has(n)||wd.has(n),r=Md.has(e)||wd.has(e);return(i,a)=>{let o="*"==n||n==i,_="*"==e||e==a;return!o&&t&&"boolean"==typeof i&&(o=i?Md.has(n):wd.has(n)),!_&&r&&"boolean"==typeof a&&(_=a?Md.has(e):wd.has(e)),o&&_}}const Lq=new RegExp("s*:selfs*,?","g");function mv(n,e,t,r){return new Dq(n).build(e,t,r)}class Dq{constructor(e){this._driver=e}build(e,t,r){const i=new Vq(t);return this._resetContextStyleTimingState(i),cs(this,uu(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function EW(){return new Yt(3006,!1)}()),e.definitions.forEach(_=>{if(this._resetContextStyleTimingState(t),0==_.type){const V=_,q=V.name;q.toString().split(/\s*,\s*/).forEach(de=>{V.name=de,a.push(this.visitState(V,t))}),V.name=q}else if(1==_.type){const V=this.visitTransition(_,t);r+=V.queryCount,i+=V.depCount,o.push(V)}else t.errors.push(function PW(){return new Yt(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,o=i||{};r.styles.forEach(_=>{_ instanceof Map&&_.forEach(V=>{XS(V).forEach(q=>{o.hasOwnProperty(q)||a.add(q)})})}),a.size&&(_d(a.values()),t.errors.push(function IW(n,e){return new Yt(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=cs(this,uu(e.animation),t);return{type:1,matchers:Sq(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:qc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>cs(this,r,t)),options:qc(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(o=>{t.currentTime=r;const _=cs(this,o,t);return i=Math.max(i,t.currentTime),_});return t.currentTime=i,{type:3,steps:a,options:qc(e.options)}}visitAnimate(e,t){const r=function Nq(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return gv(yd(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=gv(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=yd(t,e);return gv(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Gc({});if(5==a.type)i=this.visitKeyframes(a,t);else{let o=e.styles,_=!1;if(!o){_=!0;const q={};r.easing&&(q.easing=r.easing),o=Gc(q)}t.currentTime+=r.duration+r.delay;const V=this.visitStyle(o,t);V.isEmptyStep=_,i=V}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let _ of i)"string"==typeof _?_===A3?r.push(_):t.errors.push(new Yt(3002,!1)):r.push(WS(_));let a=!1,o=null;return r.forEach(_=>{if(_ instanceof Map&&(_.has("easing")&&(o=_.get("easing"),_.delete("easing")),!a))for(let V of _.values())if(V.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((_,V)=>{const q=t.collectedStyles.get(t.currentQuerySelector),de=q.get(V);let ze=!0;de&&(a!=i&&a>=de.startTime&&i<=de.endTime&&(t.errors.push(function FW(n,e,t,r,i){return new Yt(3010,!1)}()),ze=!1),a=de.startTime),ze&&q.set(V,{startTime:a,endTime:i}),t.options&&function vq(n,e,t){const r=e.params||{},i=XS(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function kW(n){return new Yt(3001,!1)}())})}(_,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function RW(){return new Yt(3011,!1)}()),r;let a=0;const o=[];let _=!1,V=!1,q=0;const de=e.steps.map(Cn=>{const In=this._makeStyleAst(Cn,t);let pn=null!=In.offset?In.offset:function Aq(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(In.styles),Jn=0;return null!=pn&&(a++,Jn=In.offset=pn),V=V||Jn<0||Jn>1,_=_||Jn<q,q=Jn,o.push(Jn),In});V&&t.errors.push(function BW(){return new Yt(3012,!1)}()),_&&t.errors.push(function UW(){return new Yt(3200,!1)}());const ze=e.steps.length;let je=0;a>0&&a<ze?t.errors.push(function jW(){return new Yt(3202,!1)}()):0==a&&(je=1/(ze-1));const ct=ze-1,Ht=t.currentTime,$t=t.currentAnimateTimings,un=$t.duration;return de.forEach((Cn,In)=>{const pn=je>0?In==ct?1:je*In:o[In],Jn=pn*un;t.currentTime=Ht+$t.delay+Jn,$t.duration=Jn,this._validateStyleAst(Cn,t),Cn.offset=pn,r.styles.push(Cn)}),r}visitReference(e,t){return{type:8,animation:cs(this,uu(e.animation),t),options:qc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:qc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:qc(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,o]=function Tq(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Lq,"")),n=n.replace(/@\*/g,vd).replace(/@\w+/g,t=>vd+"-"+t.slice(1)).replace(/:animating/g,fv),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,os(t.collectedStyles,t.currentQuerySelector,new Map);const _=cs(this,uu(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:_,originalSelector:e.selector,options:qc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function GW(){return new Yt(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:yd(e.timings,t.errors,!0);return{type:12,animation:cs(this,uu(e.animation),t),timings:r,options:null}}}class Vq{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function qc(n){return n?(n=lu(n)).params&&(n.params=function kq(n){return n?lu(n):null}(n.params)):n={},n}function gv(n,e,t){return{duration:n,delay:e,easing:t}}function vv(n,e,t,r,i,a,o=null,_=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:o,subTimeline:_}}class Sd{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Iq=new RegExp(":enter","g"),Fq=new RegExp(":leave","g");function yv(n,e,t,r,i,a=new Map,o=new Map,_,V,q=[]){return(new Rq).buildKeyframes(n,e,t,r,i,a,o,_,V,q)}class Rq{buildKeyframes(e,t,r,i,a,o,_,V,q,de=[]){q=q||new Sd;const ze=new _v(e,t,q,i,a,de,[]);ze.options=V;const je=V.delay?N3(V.delay):0;ze.currentTimeline.delayNextStep(je),ze.currentTimeline.setStyles([o],null,ze.errors,V),cs(this,r,ze);const ct=ze.timelines.filter(Ht=>Ht.containsAnimation());if(ct.length&&_.size){let Ht;for(let $t=ct.length-1;$t>=0;$t--){const un=ct[$t];if(un.element===t){Ht=un;break}}Ht&&!Ht.allowOnlyTimelineStyles()&&Ht.setStyles([_],null,ze.errors,V)}return ct.length?ct.map(Ht=>Ht.buildKeyframes()):[vv(t,[],[],[],0,je,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);a!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const o="number"==typeof a?a:N3(fu(a,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const o=null!=r.duration?N3(r.duration):null,_=null!=r.delay?N3(r.delay):null;return 0!==o&&e.forEach(V=>{const q=t.appendInstructionToTimeline(V,o,_);a=Math.max(a,q.duration+q.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),cs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=zd);const o=N3(a.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>cs(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?N3(e.options.delay):0;e.steps.forEach(o=>{const _=t.createSubContext(e.options);a&&_.delayNextStep(a),cs(this,o,_),i=Math.max(i,_.currentTimeline.currentTime),r.push(_.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return yd(t.params?fu(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,_=t.createSubContext().currentTimeline;_.easing=r.easing,e.styles.forEach(V=>{_.forwardTime((V.offset||0)*a),_.setStyles(V.styles,V.easing,t.errors,t.options),_.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(_),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?N3(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=zd);let o=r;const _=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=_.length;let V=null;_.forEach((q,de)=>{t.currentQueryIndex=de;const ze=t.createSubContext(e.options,q);a&&ze.delayNextStep(a),q===t.element&&(V=ze.currentTimeline),cs(this,e.animation,ze),ze.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,ze.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),V&&(t.currentTimeline.mergeTimelineCollectedStyles(V),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,o=Math.abs(a.duration),_=o*(t.currentQueryTotal-1);let V=o*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":V=_-V;break;case"full":V=r.currentStaggerTime}const de=t.currentTimeline;V&&de.delayNextStep(V);const ze=de.currentTime;cs(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-ze+(i.startTime-r.currentTimeline.startTime)}}const zd={};class _v{constructor(e,t,r,i,a,o,_,V){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=o,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=V||new Hd(this._driver,t,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=N3(r.duration)),null!=r.delay&&(i.delay=N3(r.delay));const a=r.params;if(a){let o=i.params;o||(o=this.options.params={}),Object.keys(a).forEach(_=>{(!t||!o.hasOwnProperty(_))&&(o[_]=fu(a[_],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new _v(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=zd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new Bq(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,o){let _=[];if(i&&_.push(this.element),e.length>0){e=(e=e.replace(Iq,"."+this._enterClassName)).replace(Fq,"."+this._leaveClassName);let q=this._driver.query(this.element,e,1!=r);0!==r&&(q=r<0?q.slice(q.length+r,q.length):q.slice(0,r)),_.push(...q)}return!a&&0==_.length&&o.push(function $W(n){return new Yt(3014,!1)}()),_}}class Hd{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Hd(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||A3),this._currentKeyframe.set(t,A3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},o=function Uq(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,A3)}else k4(i,t)}),t}(e,this._globalTimelineStyles);for(let[_,V]of o){const q=fu(V,a,r);this._pendingStyles.set(_,q),this._localTimelineStyles.has(_)||this._backFill.set(_,this._globalTimelineStyles.get(_)??A3),this._updateStyle(_,q)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((_,V)=>{const q=k4(_,new Map,this._backFill);q.forEach((de,ze)=>{"!"===de?e.add(ze):de===A3&&t.add(ze)}),r||q.set("offset",V/this.duration),i.push(q)});const a=e.size?_d(e.values()):[],o=t.size?_d(t.values()):[];if(r){const _=i[0],V=new Map(_);_.set("offset",0),V.set("offset",1),i=[_,V]}return vv(this.element,i,a,o,this.duration,this.startTime,this.easing,!1)}}class Bq extends Hd{constructor(e,t,r,i,a,o,_=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=_,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],o=r+t,_=t/o,V=k4(e[0]);V.set("offset",0),a.push(V);const q=k4(e[0]);q.set("offset",tz(_)),a.push(q);const de=e.length-1;for(let ze=1;ze<=de;ze++){let je=k4(e[ze]);const ct=je.get("offset");je.set("offset",tz((t+ct*r)/o)),a.push(je)}r=o,t=0,i="",e=a}return vv(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function tz(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Cv{}const jq=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Gq extends Cv{normalizePropertyName(e,t){return pv(e)}normalizeStyleValue(e,t,r,i){let a="";const o=r.toString().trim();if(jq.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const _=r.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&i.push(function NW(n,e){return new Yt(3005,!1)}())}return o+a}}function nz(n,e,t,r,i,a,o,_,V,q,de,ze,je){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:o,timelines:_,queriedElements:V,preStyleProps:q,postStyleProps:de,totalTime:ze,errors:je}}const bv={};class rz{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function $q(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,o,_,V,q,de){const ze=[],je=this.ast.options&&this.ast.options.params||bv,Ht=this.buildStyles(r,_&&_.params||bv,ze),$t=V&&V.params||bv,un=this.buildStyles(i,$t,ze),Cn=new Set,In=new Map,pn=new Map,Jn="void"===i,Z2={params:Wq($t,je),delay:this.ast.options?.delay},x1=de?[]:yv(e,t,this.ast.animation,a,o,Ht,un,Z2,q,ze);let Sr=0;if(x1.forEach(Ni=>{Sr=Math.max(Ni.duration+Ni.delay,Sr)}),ze.length)return nz(t,this._triggerName,r,i,Jn,Ht,un,[],[],In,pn,Sr,ze);x1.forEach(Ni=>{const uo=Ni.element,_O=os(In,uo,new Set);Ni.preStyleProps.forEach(bl=>_O.add(bl));const z5=os(pn,uo,new Set);Ni.postStyleProps.forEach(bl=>z5.add(bl)),uo!==t&&Cn.add(uo)});const fs=_d(Cn.values());return nz(t,this._triggerName,r,i,Jn,Ht,un,x1,fs,In,pn,Sr)}}function Wq(n,e){const t=lu(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class qq{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=lu(this.defaultParams);return Object.keys(e).forEach(a=>{const o=e[a];null!==o&&(i[a]=o)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((o,_)=>{o&&(o=fu(o,i,t));const V=this.normalizer.normalizePropertyName(_,t);o=this.normalizer.normalizeStyleValue(_,V,o,t),r.set(_,o)})}),r}}class Zq{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new qq(i.style,i.options&&i.options.params||{},r))}),iz(this.states,"true","1"),iz(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new rz(e,i,this.states))}),this.fallbackTransition=function Xq(n,e,t){return new rz(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,_)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function iz(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Kq=new Sd;class Qq{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=mv(this._driver,t,r,[]);if(r.length)throw function QW(n){return new Yt(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=PS(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let o;const _=new Map;if(a?(o=yv(this._driver,t,a,uv,md,new Map,new Map,r,Kq,i),o.forEach(de=>{const ze=os(_,de.element,new Map);de.postStyleProps.forEach(je=>ze.set(je,null))})):(i.push(function JW(){return new Yt(3300,!1)}()),o=[]),i.length)throw function eq(n){return new Yt(3504,!1)}();_.forEach((de,ze)=>{de.forEach((je,ct)=>{de.set(ct,this._driver.computeStyle(ze,ct,A3))})});const q=T4(o.map(de=>{const ze=_.get(de.element);return this._buildPlayer(de,new Map,ze)}));return this._playersById.set(e,q),q.onDestroy(()=>this.destroy(e)),this.players.push(q),q}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function tq(n){return new Yt(3301,!1)}();return t}listen(e,t,r,i){const a=sv(t,"","","");return iv(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const az="ng-animate-queued",xv="ng-animate-disabled",rY=[],sz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},iY={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ls="__ng_removed";class Mv{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function cY(n){return n??null}(r?e.value:e),r){const a=lu(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const du="void",wv=new Mv(du);class aY{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ds(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function nq(n,e){return new Yt(3302,!1)}();if(null==r||0==r.length)throw function rq(n){return new Yt(3303,!1)}();if(!function lY(n){return"start"==n||"done"==n}(r))throw function iq(n,e){return new Yt(3400,!1)}();const a=os(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};a.push(o);const _=os(this._engine.statesByElement,e,new Map);return _.has(t)||(Ds(e,gd),Ds(e,gd+"-"+t),_.set(t,wv)),()=>{this._engine.afterFlush(()=>{const V=a.indexOf(o);V>=0&&a.splice(V,1),this._triggers.has(t)||_.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function aq(n){return new Yt(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),o=new Sv(this.id,t,e);let _=this._engine.statesByElement.get(e);_||(Ds(e,gd),Ds(e,gd+"-"+t),this._engine.statesByElement.set(e,_=new Map));let V=_.get(t);const q=new Mv(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&V&&q.absorbOptions(V.options),_.set(t,q),V||(V=wv),q.value!==du&&V.value===q.value){if(!function dY(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(V.params,q.params)){const $t=[],un=a.matchStyles(V.value,V.params,$t),Cn=a.matchStyles(q.value,q.params,$t);$t.length?this._engine.reportError($t):this._engine.afterFlush(()=>{Wc(e,un),Bo(e,Cn)})}return}const je=os(this._engine.playersByElement,e,[]);je.forEach($t=>{$t.namespaceId==this.id&&$t.triggerName==t&&$t.queued&&$t.destroy()});let ct=a.matchTransition(V.value,q.value,e,q.params),Ht=!1;if(!ct){if(!i)return;ct=a.fallbackTransition,Ht=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:ct,fromState:V,toState:q,player:o,isFallbackTransition:Ht}),Ht||(Ds(e,az),o.onStart(()=>{I0(e,az)})),o.onDone(()=>{let $t=this.players.indexOf(o);$t>=0&&this.players.splice($t,1);const un=this._engine.playersByElement.get(e);if(un){let Cn=un.indexOf(o);Cn>=0&&un.splice(Cn,1)}}),this.players.push(o),je.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,vd,!0);r.forEach(i=>{if(i[Ls])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),o=new Map;if(a){const _=[];if(a.forEach((V,q)=>{if(o.set(q,V.value),this._triggers.has(q)){const de=this.trigger(e,q,du,i);de&&_.push(de)}}),_.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&T4(_).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const o=a.name;if(i.has(o))return;i.add(o);const V=this._triggers.get(o).fallbackTransition,q=r.get(o)||wv,de=new Mv(du),ze=new Sv(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:V,fromState:q,toState:de,player:ze,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ls];(!a||a===sz)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ds(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,o=this._elementListeners.get(a);o&&o.forEach(_=>{if(_.name==r.triggerName){const V=sv(a,r.triggerName,r.fromState.value,r.toState.value);V._data=e,iv(r.player,_.phase,V,_.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==a||0==o?a-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class sY{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new aY(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,_=this.driver.getParentElement(t);for(;_;){const V=i.get(_);if(V){const q=r.indexOf(V);r.splice(q+1,0,e),o=!0;break}_=this.driver.getParentElement(_)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(Ld(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ld(t))return;const a=t[Ls];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ds(e,xv)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),I0(e,xv))}removeNode(e,t,r,i){if(Ld(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Ls]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return Ld(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,vd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,fv,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return T4(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ls];if(t&&t.setForRemoval){if(e[Ls]=sz,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(xv)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ds(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?T4(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function sq(n){return new Yt(3402,!1)}()}_flushAnimations(e,t){const r=new Sd,i=[],a=new Map,o=[],_=new Map,V=new Map,q=new Map,de=new Set;this.disabledNodes.forEach(C2=>{de.add(C2);const I2=this.driver.query(C2,".ng-animate-queued",!0);for(let q2=0;q2<I2.length;q2++)de.add(I2[q2])});const ze=this.bodyNode,je=Array.from(this.statesByElement.keys()),ct=lz(je,this.collectedEnterElements),Ht=new Map;let $t=0;ct.forEach((C2,I2)=>{const q2=uv+$t++;Ht.set(I2,q2),C2.forEach(U1=>Ds(U1,q2))});const un=[],Cn=new Set,In=new Set;for(let C2=0;C2<this.collectedLeaveElements.length;C2++){const I2=this.collectedLeaveElements[C2],q2=I2[Ls];q2&&q2.setForRemoval&&(un.push(I2),Cn.add(I2),q2.hasAnimation?this.driver.query(I2,".ng-star-inserted",!0).forEach(U1=>Cn.add(U1)):In.add(I2))}const pn=new Map,Jn=lz(je,Array.from(Cn));Jn.forEach((C2,I2)=>{const q2=md+$t++;pn.set(I2,q2),C2.forEach(U1=>Ds(U1,q2))}),e.push(()=>{ct.forEach((C2,I2)=>{const q2=Ht.get(I2);C2.forEach(U1=>I0(U1,q2))}),Jn.forEach((C2,I2)=>{const q2=pn.get(I2);C2.forEach(U1=>I0(U1,q2))}),un.forEach(C2=>{this.processLeaveNode(C2)})});const Z2=[],x1=[];for(let C2=this._namespaceList.length-1;C2>=0;C2--)this._namespaceList[C2].drainQueuedTransitions(t).forEach(q2=>{const U1=q2.player,Ei=q2.element;if(Z2.push(U1),this.collectedEnterElements.length){const da=Ei[Ls];if(da&&da.setForMove){if(da.previousTriggersValues&&da.previousTriggersValues.has(q2.triggerName)){const xl=da.previousTriggersValues.get(q2.triggerName),Es=this.statesByElement.get(q2.element);if(Es&&Es.has(q2.triggerName)){const Jh=Es.get(q2.triggerName);Jh.value=xl,Es.set(q2.triggerName,Jh)}}return void U1.destroy()}}const qo=!ze||!this.driver.containsElement(ze,Ei),ds=pn.get(Ei),j4=Ht.get(Ei),kr=this._buildInstruction(q2,r,j4,ds,qo);if(kr.errors&&kr.errors.length)return void x1.push(kr);if(qo)return U1.onStart(()=>Wc(Ei,kr.fromStyles)),U1.onDestroy(()=>Bo(Ei,kr.toStyles)),void i.push(U1);if(q2.isFallbackTransition)return U1.onStart(()=>Wc(Ei,kr.fromStyles)),U1.onDestroy(()=>Bo(Ei,kr.toStyles)),void i.push(U1);const xO=[];kr.timelines.forEach(da=>{da.stretchStartingKeyframe=!0,this.disabledNodes.has(da.element)||xO.push(da)}),kr.timelines=xO,r.append(Ei,kr.timelines),o.push({instruction:kr,player:U1,element:Ei}),kr.queriedElements.forEach(da=>os(_,da,[]).push(U1)),kr.preStyleProps.forEach((da,xl)=>{if(da.size){let Es=V.get(xl);Es||V.set(xl,Es=new Set),da.forEach((Jh,nC)=>Es.add(nC))}}),kr.postStyleProps.forEach((da,xl)=>{let Es=q.get(xl);Es||q.set(xl,Es=new Set),da.forEach((Jh,nC)=>Es.add(nC))})});if(x1.length){const C2=[];x1.forEach(I2=>{C2.push(function oq(n,e){return new Yt(3505,!1)}())}),Z2.forEach(I2=>I2.destroy()),this.reportError(C2)}const Sr=new Map,fs=new Map;o.forEach(C2=>{const I2=C2.element;r.has(I2)&&(fs.set(I2,I2),this._beforeAnimationBuild(C2.player.namespaceId,C2.instruction,Sr))}),i.forEach(C2=>{const I2=C2.element;this._getPreviousPlayers(I2,!1,C2.namespaceId,C2.triggerName,null).forEach(U1=>{os(Sr,I2,[]).push(U1),U1.destroy()})});const Ni=un.filter(C2=>fz(C2,V,q)),uo=new Map;cz(uo,this.driver,In,q,A3).forEach(C2=>{fz(C2,V,q)&&Ni.push(C2)});const z5=new Map;ct.forEach((C2,I2)=>{cz(z5,this.driver,new Set(C2),V,"!")}),Ni.forEach(C2=>{const I2=uo.get(C2),q2=z5.get(C2);uo.set(C2,new Map([...Array.from(I2?.entries()??[]),...Array.from(q2?.entries()??[])]))});const bl=[],CO=[],bO={};o.forEach(C2=>{const{element:I2,player:q2,instruction:U1}=C2;if(r.has(I2)){if(de.has(I2))return q2.onDestroy(()=>Bo(I2,U1.toStyles)),q2.disabled=!0,q2.overrideTotalTime(U1.totalTime),void i.push(q2);let Ei=bO;if(fs.size>1){let ds=I2;const j4=[];for(;ds=ds.parentNode;){const kr=fs.get(ds);if(kr){Ei=kr;break}j4.push(ds)}j4.forEach(kr=>fs.set(kr,Ei))}const qo=this._buildAnimation(q2.namespaceId,U1,Sr,a,z5,uo);if(q2.setRealPlayer(qo),Ei===bO)bl.push(q2);else{const ds=this.playersByElement.get(Ei);ds&&ds.length&&(q2.parentPlayer=T4(ds)),i.push(q2)}}else Wc(I2,U1.fromStyles),q2.onDestroy(()=>Bo(I2,U1.toStyles)),CO.push(q2),de.has(I2)&&i.push(q2)}),CO.forEach(C2=>{const I2=a.get(C2.element);if(I2&&I2.length){const q2=T4(I2);C2.setRealPlayer(q2)}}),i.forEach(C2=>{C2.parentPlayer?C2.syncPlayerEvents(C2.parentPlayer):C2.destroy()});for(let C2=0;C2<un.length;C2++){const I2=un[C2],q2=I2[Ls];if(I0(I2,md),q2&&q2.hasAnimation)continue;let U1=[];if(_.size){let qo=_.get(I2);qo&&qo.length&&U1.push(...qo);let ds=this.driver.query(I2,fv,!0);for(let j4=0;j4<ds.length;j4++){let kr=_.get(ds[j4]);kr&&kr.length&&U1.push(...kr)}}const Ei=U1.filter(qo=>!qo.destroyed);Ei.length?uY(this,I2,Ei):this.processLeaveNode(I2)}return un.length=0,bl.forEach(C2=>{this.players.push(C2),C2.onDone(()=>{C2.destroy();const I2=this.players.indexOf(C2);this.players.splice(I2,1)}),C2.play()}),bl}elementContainsData(e,t){let r=!1;const i=t[Ls];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let o=[];if(t){const _=this.playersByQueriedElement.get(e);_&&(o=_)}else{const _=this.playersByElement.get(e);if(_){const V=!a||a==du;_.forEach(q=>{q.queued||!V&&q.triggerName!=i||o.push(q)})}}return(r||i)&&(o=o.filter(_=>!(r&&r!=_.namespaceId||i&&i!=_.triggerName))),o}_beforeAnimationBuild(e,t,r){const a=t.element,o=t.isRemovalTransition?void 0:e,_=t.isRemovalTransition?void 0:t.triggerName;for(const V of t.timelines){const q=V.element,de=q!==a,ze=os(r,q,[]);this._getPreviousPlayers(q,de,o,_,t.toState).forEach(ct=>{const Ht=ct.getRealPlayer();Ht.beforeDestroy&&Ht.beforeDestroy(),ct.destroy(),ze.push(ct)})}Wc(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,o){const _=t.triggerName,V=t.element,q=[],de=new Set,ze=new Set,je=t.timelines.map(Ht=>{const $t=Ht.element;de.add($t);const un=$t[Ls];if(un&&un.removedBeforeQueried)return new cu(Ht.duration,Ht.delay);const Cn=$t!==V,In=function fY(n){const e=[];return uz(n,e),e}((r.get($t)||rY).map(Sr=>Sr.getRealPlayer())).filter(Sr=>!!Sr.element&&Sr.element===$t),pn=a.get($t),Jn=o.get($t),Z2=PS(0,this._normalizer,0,Ht.keyframes,pn,Jn),x1=this._buildPlayer(Ht,Z2,In);if(Ht.subTimeline&&i&&ze.add($t),Cn){const Sr=new Sv(e,_,$t);Sr.setRealPlayer(x1),q.push(Sr)}return x1});q.forEach(Ht=>{os(this.playersByQueriedElement,Ht.element,[]).push(Ht),Ht.onDone(()=>function oY(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Ht.element,Ht))}),de.forEach(Ht=>Ds(Ht,$S));const ct=T4(je);return ct.onDestroy(()=>{de.forEach(Ht=>I0(Ht,$S)),Bo(V,t.toStyles)}),ze.forEach(Ht=>{os(i,Ht,[]).push(ct)}),ct}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new cu(e.duration,e.delay)}}class Sv{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new cu,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>iv(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){os(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ld(n){return n&&1===n.nodeType}function oz(n,e){const t=n.style.display;return n.style.display=e??"none",t}function cz(n,e,t,r,i){const a=[];t.forEach(V=>a.push(oz(V)));const o=[];r.forEach((V,q)=>{const de=new Map;V.forEach(ze=>{const je=e.computeStyle(q,ze,i);de.set(ze,je),(!je||0==je.length)&&(q[Ls]=iY,o.push(q))}),n.set(q,de)});let _=0;return t.forEach(V=>oz(V,a[_++])),o}function lz(n,e){const t=new Map;if(n.forEach(_=>t.set(_,[])),0==e.length)return t;const i=new Set(e),a=new Map;function o(_){if(!_)return 1;let V=a.get(_);if(V)return V;const q=_.parentNode;return V=t.has(q)?q:i.has(q)?1:o(q),a.set(_,V),V}return e.forEach(_=>{const V=o(_);1!==V&&t.get(V).push(_)}),t}function Ds(n,e){n.classList?.add(e)}function I0(n,e){n.classList?.remove(e)}function uY(n,e,t){T4(t).onDone(()=>n.processLeaveNode(e))}function uz(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof NS?uz(r.players,e):e.push(r)}}function fz(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class Dd{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new sY(e,t,r),this._timelineEngine=new Qq(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const o=e+"-"+i;let _=this._triggerCache[o];if(!_){const V=[],de=mv(this._driver,a,V,[]);if(V.length)throw function XW(n,e){return new Yt(3404,!1)}();_=function Yq(n,e,t){return new Zq(n,e,t)}(i,de,this._normalizer),this._triggerCache[o]=_}this._transitionEngine.registerTrigger(t,i,_)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,o]=IS(r);this._timelineEngine.command(a,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[o,_]=IS(r);return this._timelineEngine.listen(o,t,_,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let pY=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Bo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bo(this._element,this._initialStyles),this._endStyles&&(Bo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Wc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wc(this._element,this._endStyles),this._endStyles=null),Bo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function zv(n){let e=null;return n.forEach((t,r)=>{(function mY(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class dz{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:KS(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class gY{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return BS(e,t)}getParentElement(e){return cv(e)}query(e,t,r){return US(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,o=[]){const V={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(V.easing=a);const q=new Map,de=o.filter(ct=>ct instanceof dz);(function Cq(n,e){return 0===n||0===e})(r,i)&&de.forEach(ct=>{ct.currentSnapshot.forEach((Ht,$t)=>q.set($t,Ht))});let ze=function gq(n){return n.length?n[0]instanceof Map?n:n.map(e=>WS(e)):[]}(t).map(ct=>k4(ct));ze=function bq(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,o)=>{r.has(o)||i.push(o),r.set(o,a)}),i.length)for(let a=1;a<e.length;a++){let o=e[a];i.forEach(_=>o.set(_,KS(n,_)))}}return e}(e,ze,q);const je=function hY(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=zv(e[0]),e.length>1&&(r=zv(e[e.length-1]))):e instanceof Map&&(t=zv(e)),t||r?new pY(n,t,r):null}(e,ze);return new dz(e,ze,V,je)}}let vY=(()=>{class n extends DS{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Oi.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?kS(t):t;return hz(this._renderer,null,r,"register",[i]),new yY(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(ln(v4),ln($1))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();class yY extends SW{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new _Y(this._id,e,t||{},this._renderer)}}class _Y{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return hz(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function hz(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const pz="@.disabled";let CY=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,o)=>{const _=o?.parentNode(a);_&&o.removeChild(_,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let de=this._rendererCache.get(a);return de||(de=new mz("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,de)),de}const o=r.id,_=r.id+"-"+this._currentId;this._currentId++,this.engine.register(_,t);const V=de=>{Array.isArray(de)?de.forEach(V):this.engine.registerTrigger(o,_,t,de.name,de)};return r.data.animation.forEach(V),new bY(this,_,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[o,_]=a;o(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(ln(v4),ln(Dd),ln(I1))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();class mz{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==pz?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class bY extends mz{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==pz?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function xY(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),o="";return"@"!=a.charAt(0)&&([a,o]=function MY(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,o,_=>{this.factory.scheduleListenerCallback(_._data||-1,r,_)})}return this.delegate.listen(e,t,r)}}const gz=[{provide:DS,useClass:vY},{provide:Cv,useFactory:function SY(){return new Gq}},{provide:Dd,useClass:(()=>{class n extends Dd{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(ln($1),ln(lv),ln(Cv),ln(Ic))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})()},{provide:v4,useFactory:function zY(n,e,t){return new CY(n,e,t)},deps:[J7,Dd,I1]}],Hv=[{provide:lv,useFactory:()=>new gY},{provide:Gm,useValue:"BrowserAnimations"},...gz],vz=[{provide:lv,useClass:jS},{provide:Gm,useValue:"NoopAnimations"},...gz];let HY=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?vz:Hv}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({providers:Hv,imports:[dw]}),n})();function yz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function d2(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?yz(Object(t),!0).forEach(function(r){li(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function kd(n){return(kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function _z(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function li(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Lv(n,e){return function VY(n){if(Array.isArray(n))return n}(n)||function NY(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var o,_,r=[],i=!0,a=!1;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(V){a=!0,_=V}finally{try{!i&&null!=t.return&&t.return()}finally{if(a)throw _}}return r}}(n,e)||Cz(n,e)||function PY(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pu(n){return function kY(n){if(Array.isArray(n))return Dv(n)}(n)||function AY(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Cz(n)||function EY(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cz(n,e){if(n){if("string"==typeof n)return Dv(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Dv(n,e)}}function Dv(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var bz=function(){},Tv={},xz={},Mz=null,wz={mark:bz,measure:bz};try{typeof window<"u"&&(Tv=window),typeof document<"u"&&(xz=document),typeof MutationObserver<"u"&&(Mz=MutationObserver),typeof performance<"u"&&(wz=performance)}catch{}var Nd,Ed,Pd,Id,Od,Sz=(Tv.navigator||{}).userAgent,zz=void 0===Sz?"":Sz,V4=Tv,yr=xz,Hz=Mz,Ad=wz,E3=!!yr.documentElement&&!!yr.head&&"function"==typeof yr.addEventListener&&"function"==typeof yr.createElement,Lz=~zz.indexOf("MSIE")||~zz.indexOf("Trident/"),P3="___FONT_AWESOME___",Tz="svg-inline--fa",Yc="data-fa-i2svg",Vv="data-fa-pseudo-element",Av="data-prefix",Nv="data-icon",kz="fontawesome-i2svg",RY=["HTML","HEAD","STYLE","SCRIPT"],Vz=function(){try{return!0}catch{return!1}}(),_r="classic",Fr="sharp",Ev=[_r,Fr];function mu(n){return new Proxy(n,{get:function(t,r){return r in t?t[r]:t[_r]}})}var gu=mu((li(Nd={},_r,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),li(Nd,Fr,{fa:"solid",fass:"solid","fa-solid":"solid"}),Nd)),vu=mu((li(Ed={},_r,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),li(Ed,Fr,{solid:"fass"}),Ed)),yu=mu((li(Pd={},_r,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),li(Pd,Fr,{fass:"fa-solid"}),Pd)),BY=mu((li(Id={},_r,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),li(Id,Fr,{"fa-solid":"fass"}),Id)),UY=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,Az="fa-layers-text",jY=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,GY=mu((li(Od={},_r,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),li(Od,Fr,{900:"fass"}),Od)),Nz=[1,2,3,4,5,6,7,8,9,10],$Y=Nz.concat([11,12,13,14,15,16,17,18,19,20]),WY=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],_u=new Set;Object.keys(vu[_r]).map(_u.add.bind(_u)),Object.keys(vu[Fr]).map(_u.add.bind(_u));var qY=[].concat(Ev,pu(_u),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(Nz.map(function(n){return"".concat(n,"x")})).concat($Y.map(function(n){return"w-".concat(n)})),Cu=V4.FontAwesomeConfig||{};yr&&"function"==typeof yr.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=Lv(n,2),r=e[1],i=function ZY(n){return""===n||"false"!==n&&("true"===n||n)}(function YY(n){var e=yr.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(Cu[r]=i)});var Ez={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:Tz,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Cu.familyPrefix&&(Cu.cssPrefix=Cu.familyPrefix);var O0=d2(d2({},Ez),Cu);O0.autoReplaceSvg||(O0.observeMutations=!1);var x2={};Object.keys(Ez).forEach(function(n){Object.defineProperty(x2,n,{enumerable:!0,set:function(t){O0[n]=t,bu.forEach(function(r){return r(x2)})},get:function(){return O0[n]}})}),Object.defineProperty(x2,"familyPrefix",{enumerable:!0,set:function(e){O0.cssPrefix=e,bu.forEach(function(t){return t(x2)})},get:function(){return O0.cssPrefix}}),V4.FontAwesomeConfig=x2;var bu=[],Uo={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function xu(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function F0(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function Pv(n){return n.classList?F0(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function Pz(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Fd(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function Iv(n){return n.size!==Uo.size||n.x!==Uo.x||n.y!==Uo.y||n.rotate!==Uo.rotate||n.flipX||n.flipY}function Iz(){var n="fa",e=Tz,t=x2.cssPrefix,r=x2.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(t!==n||r!==e){var a=new RegExp("\\.".concat(n,"\\-"),"g"),o=new RegExp("\\--".concat(n,"\\-"),"g"),_=new RegExp("\\.".concat(e),"g");i=i.replace(a,".".concat(t,"-")).replace(o,"--".concat(t,"-")).replace(_,".".concat(r))}return i}var Oz=!1;function Ov(){x2.autoAddCss&&!Oz&&(function QY(n){if(n&&E3){var e=yr.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=yr.head.childNodes,r=null,i=t.length-1;i>-1;i--){var a=t[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}yr.head.insertBefore(e,r)}}(Iz()),Oz=!0)}var iZ={mixout:function(){return{dom:{css:Iz,insertCss:Ov}}},hooks:function(){return{beforeDOMElementCreation:function(){Ov()},beforeI2svg:function(){Ov()}}}},I3=V4||{};I3[P3]||(I3[P3]={}),I3[P3].styles||(I3[P3].styles={}),I3[P3].hooks||(I3[P3].hooks={}),I3[P3].shims||(I3[P3].shims=[]);var ao=I3[P3],Fz=[],Rd=!1;function sZ(n){E3&&(Rd?setTimeout(n,0):Fz.push(n))}function Mu(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,i=n.children,a=void 0===i?[]:i;return"string"==typeof n?Pz(n):"<".concat(e," ").concat(function eZ(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(Pz(n[t]),'" ')},"").trim()}(r),">").concat(a.map(Mu).join(""),"</").concat(e,">")}function Rz(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}E3&&((Rd=(yr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(yr.readyState))||yr.addEventListener("DOMContentLoaded",function n(){yr.removeEventListener("DOMContentLoaded",n),Rd=1,Fz.map(function(e){return e()})}));var Fv=function(e,t,r,i){var V,q,de,a=Object.keys(e),o=a.length,_=void 0!==i?function(e,t){return function(r,i,a,o){return e.call(t,r,i,a,o)}}(t,i):t;for(void 0===r?(V=1,de=e[a[0]]):(V=0,de=r);V<o;V++)de=_(de,e[q=a[V]],q,e);return de};function Rv(n){var e=function cZ(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var a=n.charCodeAt(t++);56320==(64512&a)?e.push(((1023&i)<<10)+(1023&a)+65536):(e.push(i),t--)}else e.push(i)}return e}(n);return 1===e.length?e[0].toString(16):null}function Bz(n){return Object.keys(n).reduce(function(e,t){var r=n[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function Bv(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,i=void 0!==r&&r,a=Bz(e);"function"!=typeof ao.hooks.addPack||i?ao.styles[n]=d2(d2({},ao.styles[n]||{}),a):ao.hooks.addPack(n,Bz(e)),"fas"===n&&Bv("fa",e)}var Bd,Ud,jd,R0=ao.styles,uZ=ao.shims,fZ=(li(Bd={},_r,Object.values(yu[_r])),li(Bd,Fr,Object.values(yu[Fr])),Bd),Uv=null,Uz={},jz={},Gz={},$z={},Wz={},dZ=(li(Ud={},_r,Object.keys(gu[_r])),li(Ud,Fr,Object.keys(gu[Fr])),Ud);function pZ(n,e){var t=e.split("-"),r=t[0],i=t.slice(1).join("-");return r!==n||""===i||function hZ(n){return~qY.indexOf(n)}(i)?null:i}var qz=function(){var e=function(a){return Fv(R0,function(o,_,V){return o[V]=Fv(_,a,{}),o},{})};Uz=e(function(i,a,o){return a[3]&&(i[a[3]]=o),a[2]&&a[2].filter(function(V){return"number"==typeof V}).forEach(function(V){i[V.toString(16)]=o}),i}),jz=e(function(i,a,o){return i[o]=o,a[2]&&a[2].filter(function(V){return"string"==typeof V}).forEach(function(V){i[V]=o}),i}),Wz=e(function(i,a,o){var _=a[2];return i[o]=o,_.forEach(function(V){i[V]=o}),i});var t="far"in R0||x2.autoFetchSvg,r=Fv(uZ,function(i,a){var o=a[0],_=a[1],V=a[2];return"far"===_&&!t&&(_="fas"),"string"==typeof o&&(i.names[o]={prefix:_,iconName:V}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:_,iconName:V}),i},{names:{},unicodes:{}});Gz=r.names,$z=r.unicodes,Uv=Gd(x2.styleDefault,{family:x2.familyDefault})};function jv(n,e){return(Uz[n]||{})[e]}function Xc(n,e){return(Wz[n]||{})[e]}function Yz(n){return Gz[n]||{prefix:null,iconName:null}}function N4(){return Uv}function Gd(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.family,r=void 0===t?_r:t,i=gu[r][n],a=vu[r][n]||vu[r][i],o=n in ao.styles?n:null;return a||o||null}(function KY(n){bu.push(n)})(function(n){Uv=Gd(n.styleDefault,{family:x2.familyDefault})}),qz();var Zz=(li(jd={},_r,Object.keys(yu[_r])),li(jd,Fr,Object.keys(yu[Fr])),jd);function $d(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.skipLookups,i=void 0!==r&&r,a=(li(e={},_r,"".concat(x2.cssPrefix,"-").concat(_r)),li(e,Fr,"".concat(x2.cssPrefix,"-").concat(Fr)),e),o=null,_=_r;(n.includes(a[_r])||n.some(function(q){return Zz[_r].includes(q)}))&&(_=_r),(n.includes(a[Fr])||n.some(function(q){return Zz[Fr].includes(q)}))&&(_=Fr);var V=n.reduce(function(q,de){var ze=pZ(x2.cssPrefix,de);if(R0[de]?(de=fZ[_].includes(de)?BY[_][de]:de,o=de,q.prefix=de):dZ[_].indexOf(de)>-1?(o=de,q.prefix=Gd(de,{family:_})):ze?q.iconName=ze:de!==x2.replacementClass&&de!==a[_r]&&de!==a[Fr]&&q.rest.push(de),!i&&q.prefix&&q.iconName){var je="fa"===o?Yz(q.iconName):{},ct=Xc(q.prefix,q.iconName);je.prefix&&(o=null),q.iconName=je.iconName||ct||q.iconName,q.prefix=je.prefix||q.prefix,"far"===q.prefix&&!R0.far&&R0.fas&&!x2.autoFetchSvg&&(q.prefix="fas")}return q},{prefix:null,iconName:null,rest:[]});return(n.includes("fa-brands")||n.includes("fab"))&&(V.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(V.prefix="fad"),!V.prefix&&_===Fr&&(R0.fass||x2.autoFetchSvg)&&(V.prefix="fass",V.iconName=Xc(V.prefix,V.iconName)||V.iconName),("fa"===V.prefix||"fa"===o)&&(V.prefix=N4()||"fas"),V}var vZ=function(){function n(){(function LY(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function DY(n,e,t){e&&_z(n.prototype,e),t&&_z(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(_){t.definitions[_]=d2(d2({},t.definitions[_]||{}),o[_]),Bv(_,o[_]);var V=yu[_r][_];V&&Bv(V,o[_]),qz()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(a){var o=i[a],_=o.prefix,V=o.iconName,q=o.icon,de=q[2];t[_]||(t[_]={}),de.length>0&&de.forEach(function(ze){"string"==typeof ze&&(t[_][ze]=q)}),t[_][V]=q}),t}}]),n}(),Xz=[],B0={},U0={},yZ=Object.keys(U0);function $v(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var a=B0[n]||[];return a.forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Kc(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=B0[n]||[];i.forEach(function(a){a.apply(null,t)})}function O3(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return U0[n]?U0[n].apply(null,e):void 0}function Wv(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||N4();if(e)return e=Xc(t,e)||e,Rz(Kz.definitions,t,e)||Rz(ao.styles,t,e)}var Kz=new vZ,bZ={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E3?(Kc("beforeI2svg",e),O3("pseudoElements2svg",e),O3("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===x2.autoReplaceSvg&&(x2.autoReplaceSvg=!0),x2.observeMutations=!0,sZ(function(){MZ({autoReplaceSvgRoot:t}),Kc("watch",e)})}},ls={noAuto:function(){x2.autoReplaceSvg=!1,x2.observeMutations=!1,Kc("noAuto")},config:x2,dom:bZ,parse:{icon:function(e){if(null===e)return null;if("object"===kd(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Xc(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=Gd(e[0]);return{prefix:r,iconName:Xc(r,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(x2.cssPrefix,"-"))>-1||e.match(UY))){var i=$d(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||N4(),iconName:Xc(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var a=N4();return{prefix:a,iconName:Xc(a,e)||e}}}},library:Kz,findIconDefinition:Wv,toHtml:Mu},MZ=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,r=void 0===t?yr:t;(Object.keys(ao.styles).length>0||x2.autoFetchSvg)&&E3&&x2.autoReplaceSvg&&ls.dom.i2svg({node:r})};function Wd(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return Mu(r)})}}),Object.defineProperty(n,"node",{get:function(){if(E3){var r=yr.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function qv(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,a=n.iconName,o=n.transform,_=n.symbol,V=n.title,q=n.maskId,de=n.titleId,ze=n.extra,je=n.watchable,ct=void 0!==je&&je,Ht=r.found?r:t,$t=Ht.width,un=Ht.height,Cn="fak"===i,In=[x2.replacementClass,a?"".concat(x2.cssPrefix,"-").concat(a):""].filter(function(Ni){return-1===ze.classes.indexOf(Ni)}).filter(function(Ni){return""!==Ni||!!Ni}).concat(ze.classes).join(" "),pn={children:[],attributes:d2(d2({},ze.attributes),{},{"data-prefix":i,"data-icon":a,class:In,role:ze.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat($t," ").concat(un)})},Jn=Cn&&!~ze.classes.indexOf("fa-fw")?{width:"".concat($t/un*16*.0625,"em")}:{};ct&&(pn.attributes[Yc]=""),V&&(pn.children.push({tag:"title",attributes:{id:pn.attributes["aria-labelledby"]||"title-".concat(de||xu())},children:[V]}),delete pn.attributes.title);var Z2=d2(d2({},pn),{},{prefix:i,iconName:a,main:t,mask:r,maskId:q,transform:o,symbol:_,styles:d2(d2({},Jn),ze.styles)}),x1=r.found&&t.found?O3("generateAbstractMask",Z2)||{children:[],attributes:{}}:O3("generateAbstractIcon",Z2)||{children:[],attributes:{}},fs=x1.attributes;return Z2.children=x1.children,Z2.attributes=fs,_?function SZ(n){var t=n.iconName,r=n.children,i=n.attributes,a=n.symbol,o=!0===a?"".concat(n.prefix,"-").concat(x2.cssPrefix,"-").concat(t):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:d2(d2({},i),{},{id:o}),children:r}]}]}(Z2):function wZ(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,a=n.styles,o=n.transform;if(Iv(o)&&t.found&&!r.found){var q={x:t.width/t.height/2,y:.5};i.style=Fd(d2(d2({},a),{},{"transform-origin":"".concat(q.x+o.x/16,"em ").concat(q.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(Z2)}function Qz(n){var e=n.content,t=n.width,r=n.height,i=n.transform,a=n.title,o=n.extra,_=n.watchable,V=void 0!==_&&_,q=d2(d2(d2({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});V&&(q[Yc]="");var de=d2({},o.styles);Iv(i)&&(de.transform=function nZ(n){var e=n.transform,t=n.width,i=n.height,a=void 0===i?16:i,o=n.startCentered,_=void 0!==o&&o,V="";return V+=_&&Lz?"translate(".concat(e.x/16-(void 0===t?16:t)/2,"em, ").concat(e.y/16-a/2,"em) "):_?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(V+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:t,height:r}),de["-webkit-transform"]=de.transform);var ze=Fd(de);ze.length>0&&(q.style=ze);var je=[];return je.push({tag:"span",attributes:q,children:[e]}),a&&je.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),je}function zZ(n){var e=n.content,t=n.title,r=n.extra,i=d2(d2(d2({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),a=Fd(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),t&&o.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),o}var Yv=ao.styles;function Zv(n){var e=n[0],t=n[1],a=Lv(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(a)?{tag:"g",attributes:{class:"".concat(x2.cssPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(x2.cssPrefix,"-").concat("secondary"),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(x2.cssPrefix,"-").concat("primary"),fill:"currentColor",d:a[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:a}}}}var HZ={found:!1,width:512,height:512};function Xv(n,e){var t=e;return"fa"===e&&null!==x2.styleDefault&&(e=N4()),new Promise(function(r,i){if(O3("missingIconAbstract"),"fa"===t){var o=Yz(n)||{};n=o.iconName||n,e=o.prefix||e}if(n&&e&&Yv[e]&&Yv[e][n])return r(Zv(Yv[e][n]));(function LZ(n,e){!Vz&&!x2.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),r(d2(d2({},HZ),{},{icon:x2.showMissingIcons&&n&&O3("missingIconAbstract")||{}}))})}var Jz=function(){},Kv=x2.measurePerformance&&Ad&&Ad.mark&&Ad.measure?Ad:{mark:Jz,measure:Jz},wu='FA "6.2.1"',Qv_begin=function(e){return Kv.mark("".concat(wu," ").concat(e," begins")),function(){return function(e){Kv.mark("".concat(wu," ").concat(e," ends")),Kv.measure("".concat(wu," ").concat(e),"".concat(wu," ").concat(e," begins"),"".concat(wu," ").concat(e," ends"))}(e)}},qd=function(){};function tH(n){return"string"==typeof(n.getAttribute?n.getAttribute(Yc):null)}function AZ(n){return yr.createElementNS("http://www.w3.org/2000/svg",n)}function NZ(n){return yr.createElement(n)}function nH(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.ceFn,r=void 0===t?"svg"===n.tag?AZ:NZ:t;if("string"==typeof n)return yr.createTextNode(n);var i=r(n.tag);Object.keys(n.attributes||[]).forEach(function(o){i.setAttribute(o,n.attributes[o])});var a=n.children||[];return a.forEach(function(o){i.appendChild(nH(o,{ceFn:r}))}),i}var Yd={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(i){t.parentNode.insertBefore(nH(i),t)}),null===t.getAttribute(Yc)&&x2.keepOriginalSource){var r=yr.createComment(function EZ(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(e){var t=e[0],r=e[1];if(~Pv(t).indexOf(x2.replacementClass))return Yd.replace(e);var i=new RegExp("".concat(x2.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var a=r[0].attributes.class.split(" ").reduce(function(_,V){return V===x2.replacementClass||V.match(i)?_.toSvg.push(V):_.toNode.push(V),_},{toNode:[],toSvg:[]});r[0].attributes.class=a.toSvg.join(" "),0===a.toNode.length?t.removeAttribute("class"):t.setAttribute("class",a.toNode.join(" "))}var o=r.map(function(_){return Mu(_)}).join("\n");t.setAttribute(Yc,""),t.innerHTML=o}};function rH(n){n()}function iH(n,e){var t="function"==typeof e?e:qd;if(0===n.length)t();else{var r=rH;"async"===x2.mutateApproach&&(r=V4.requestAnimationFrame||rH),r(function(){var i=function VZ(){return!0===x2.autoReplaceSvg?Yd.replace:Yd[x2.autoReplaceSvg]||Yd.replace}(),a=Qv_begin("mutate");n.map(i),a(),t()})}}var Jv=!1;function aH(){Jv=!0}function ey(){Jv=!1}var Zd=null;function sH(n){if(Hz&&x2.observeMutations){var e=n.treeCallback,t=void 0===e?qd:e,r=n.nodeCallback,i=void 0===r?qd:r,a=n.pseudoElementsCallback,o=void 0===a?qd:a,_=n.observeMutationsRoot,V=void 0===_?yr:_;Zd=new Hz(function(q){if(!Jv){var de=N4();F0(q).forEach(function(ze){if("childList"===ze.type&&ze.addedNodes.length>0&&!tH(ze.addedNodes[0])&&(x2.searchPseudoElements&&o(ze.target),t(ze.target)),"attributes"===ze.type&&ze.target.parentNode&&x2.searchPseudoElements&&o(ze.target.parentNode),"attributes"===ze.type&&tH(ze.target)&&~WY.indexOf(ze.attributeName))if("class"===ze.attributeName&&function TZ(n){var e=n.getAttribute?n.getAttribute(Av):null,t=n.getAttribute?n.getAttribute(Nv):null;return e&&t}(ze.target)){var je=$d(Pv(ze.target)),Ht=je.iconName;ze.target.setAttribute(Av,je.prefix||de),Ht&&ze.target.setAttribute(Nv,Ht)}else(function kZ(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(x2.replacementClass)})(ze.target)&&i(ze.target)})}}),E3&&Zd.observe(V,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function IZ(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(r,i){var a=i.split(":"),o=a[0],_=a.slice(1);return o&&_.length>0&&(r[o]=_.join(":").trim()),r},{})),t}function OZ(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",i=$d(Pv(n));return i.prefix||(i.prefix=N4()),e&&t&&(i.prefix=e,i.iconName=t),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function mZ(n,e){return(jz[n]||{})[e]}(i.prefix,n.innerText)||jv(i.prefix,Rv(n.innerText))),!i.iconName&&x2.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=n.firstChild.data)),i}function FZ(n){var e=F0(n.attributes).reduce(function(i,a){return"class"!==i.name&&"style"!==i.name&&(i[a.name]=a.value),i},{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return x2.autoA11y&&(t?e["aria-labelledby"]="".concat(x2.replacementClass,"-title-").concat(r||xu()):(e["aria-hidden"]="true",e.focusable="false")),e}function oH(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=OZ(n),r=t.iconName,i=t.prefix,a=t.rest,o=FZ(n),_=$v("parseNodeAttributes",{},n),V=e.styleParser?IZ(n):[];return d2({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:Uo,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:V,attributes:o}},_)}var BZ=ao.styles;function cH(n){var e="nest"===x2.autoReplaceSvg?oH(n,{styleParser:!1}):oH(n);return~e.extra.classes.indexOf(Az)?O3("generateLayersText",n,e):O3("generateSvgReplacementMutation",n,e)}var E4=new Set;function lH(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!E3)return Promise.resolve();var t=yr.documentElement.classList,r=function(ze){return t.add("".concat(kz,"-").concat(ze))},i=function(ze){return t.remove("".concat(kz,"-").concat(ze))},a=x2.autoFetchSvg?E4:Ev.map(function(de){return"fa-".concat(de)}).concat(Object.keys(BZ));a.includes("fa")||a.push("fa");var o=[".".concat(Az,":not([").concat(Yc,"])")].concat(a.map(function(de){return".".concat(de,":not([").concat(Yc,"])")})).join(", ");if(0===o.length)return Promise.resolve();var _=[];try{_=F0(n.querySelectorAll(o))}catch{}if(!(_.length>0))return Promise.resolve();r("pending"),i("complete");var V=Qv_begin("onTree"),q=_.reduce(function(de,ze){try{var je=cH(ze);je&&de.push(je)}catch(ct){Vz||"MissingIcon"===ct.name&&console.error(ct)}return de},[]);return new Promise(function(de,ze){Promise.all(q).then(function(je){iH(je,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),V(),de()})}).catch(function(je){V(),ze(je)})})}function UZ(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;cH(n).then(function(t){t&&iH([t],e)})}Ev.map(function(n){E4.add("fa-".concat(n))}),Object.keys(gu[_r]).map(E4.add.bind(E4)),Object.keys(gu[Fr]).map(E4.add.bind(E4)),E4=pu(E4);var GZ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.transform,i=void 0===r?Uo:r,a=t.symbol,o=void 0!==a&&a,_=t.mask,V=void 0===_?null:_,q=t.maskId,de=void 0===q?null:q,ze=t.title,je=void 0===ze?null:ze,ct=t.titleId,Ht=void 0===ct?null:ct,$t=t.classes,un=void 0===$t?[]:$t,Cn=t.attributes,In=void 0===Cn?{}:Cn,pn=t.styles,Jn=void 0===pn?{}:pn;if(e){var Z2=e.prefix,x1=e.iconName,Sr=e.icon;return Wd(d2({type:"icon"},e),function(){return Kc("beforeDOMElementCreation",{iconDefinition:e,params:t}),x2.autoA11y&&(je?In["aria-labelledby"]="".concat(x2.replacementClass,"-title-").concat(Ht||xu()):(In["aria-hidden"]="true",In.focusable="false")),qv({icons:{main:Zv(Sr),mask:V?Zv(V.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Z2,iconName:x1,transform:d2(d2({},Uo),i),symbol:o,title:je,maskId:de,titleId:Ht,extra:{attributes:In,styles:Jn,classes:un}})})}},$Z={mixout:function(){return{icon:(n=GZ,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:Wv(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:Wv(i||{})),n(r,d2(d2({},t),{},{mask:i}))})};var n},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=lH,t.nodeCallback=UZ,t}}},provides:function(e){e.i2svg=function(t){var r=t.node,a=t.callback;return lH(void 0===r?yr:r,void 0===a?function(){}:a)},e.generateSvgReplacementMutation=function(t,r){var i=r.iconName,a=r.title,o=r.titleId,_=r.prefix,V=r.transform,q=r.symbol,de=r.mask,ze=r.maskId,je=r.extra;return new Promise(function(ct,Ht){Promise.all([Xv(i,_),de.iconName?Xv(de.iconName,de.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function($t){var un=Lv($t,2);ct([t,qv({icons:{main:un[0],mask:un[1]},prefix:_,iconName:i,transform:V,symbol:q,maskId:ze,title:a,titleId:o,extra:je,watchable:!0})])}).catch(Ht)})},e.generateAbstractIcon=function(t){var q,r=t.children,i=t.attributes,a=t.main,o=t.transform,V=Fd(t.styles);return V.length>0&&(i.style=V),Iv(o)&&(q=O3("generateAbstractTransformGrouping",{main:a,transform:o,containerWidth:a.width,iconWidth:a.width})),r.push(q||a.icon),{children:r,attributes:i}}}},WZ={mixout:function(){return{layer:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,a=void 0===i?[]:i;return Wd({type:"layer"},function(){Kc("beforeDOMElementCreation",{assembler:t,params:r});var o=[];return t(function(_){Array.isArray(_)?_.map(function(V){o=o.concat(V.abstract)}):o=o.concat(_.abstract)}),[{tag:"span",attributes:{class:["".concat(x2.cssPrefix,"-layers")].concat(pu(a)).join(" ")},children:o}]})}}}},qZ={mixout:function(){return{counter:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,a=void 0===i?null:i,o=r.classes,_=void 0===o?[]:o,V=r.attributes,q=void 0===V?{}:V,de=r.styles,ze=void 0===de?{}:de;return Wd({type:"counter",content:t},function(){return Kc("beforeDOMElementCreation",{content:t,params:r}),zZ({content:t.toString(),title:a,extra:{attributes:q,styles:ze,classes:["".concat(x2.cssPrefix,"-layers-counter")].concat(pu(_))}})})}}}},YZ={mixout:function(){return{text:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,a=void 0===i?Uo:i,o=r.title,_=void 0===o?null:o,V=r.classes,q=void 0===V?[]:V,de=r.attributes,ze=void 0===de?{}:de,je=r.styles,ct=void 0===je?{}:je;return Wd({type:"text",content:t},function(){return Kc("beforeDOMElementCreation",{content:t,params:r}),Qz({content:t,transform:d2(d2({},Uo),a),title:_,extra:{attributes:ze,styles:ct,classes:["".concat(x2.cssPrefix,"-layers-text")].concat(pu(q))}})})}}},provides:function(e){e.generateLayersText=function(t,r){var i=r.title,a=r.transform,o=r.extra,_=null,V=null;if(Lz){var q=parseInt(getComputedStyle(t).fontSize,10),de=t.getBoundingClientRect();_=de.width/q,V=de.height/q}return x2.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([t,Qz({content:t.innerHTML,width:_,height:V,transform:a,title:i,extra:o,watchable:!0})])}}},ZZ=new RegExp('"',"ug"),uH=[1105920,1112319];function fH(n,e){var t="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==n.getAttribute(t))return r();var o=F0(n.children).filter(function(Sr){return Sr.getAttribute(Vv)===e})[0],_=V4.getComputedStyle(n,e),V=_.getPropertyValue("font-family").match(jY),q=_.getPropertyValue("font-weight"),de=_.getPropertyValue("content");if(o&&!V)return n.removeChild(o),r();if(V&&"none"!==de&&""!==de){var ze=_.getPropertyValue("content"),je=~["Sharp"].indexOf(V[2])?Fr:_r,ct=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(V[2])?vu[je][V[2].toLowerCase()]:GY[je][q],Ht=function XZ(n){var e=n.replace(ZZ,""),t=function lZ(n,e){var i,t=n.length,r=n.charCodeAt(e);return r>=55296&&r<=56319&&t>e+1&&(i=n.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=t>=uH[0]&&t<=uH[1],i=2===e.length&&e[0]===e[1];return{value:Rv(i?e[0]:e),isSecondary:r||i}}(ze),$t=Ht.value,un=Ht.isSecondary,Cn=V[0].startsWith("FontAwesome"),In=jv(ct,$t),pn=In;if(Cn){var Jn=function gZ(n){var e=$z[n],t=jv("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}($t);Jn.iconName&&Jn.prefix&&(In=Jn.iconName,ct=Jn.prefix)}if(!In||un||o&&o.getAttribute(Av)===ct&&o.getAttribute(Nv)===pn)r();else{n.setAttribute(t,pn),o&&n.removeChild(o);var Z2=function RZ(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Uo,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),x1=Z2.extra;x1.attributes[Vv]=e,Xv(In,ct).then(function(Sr){var fs=qv(d2(d2({},Z2),{},{icons:{main:Sr,mask:{prefix:null,iconName:null,rest:[]}},prefix:ct,iconName:pn,extra:x1,watchable:!0})),Ni=yr.createElement("svg");"::before"===e?n.insertBefore(Ni,n.firstChild):n.appendChild(Ni),Ni.outerHTML=fs.map(function(uo){return Mu(uo)}).join("\n"),n.removeAttribute(t),r()}).catch(i)}}else r()})}function KZ(n){return Promise.all([fH(n,"::before"),fH(n,"::after")])}function QZ(n){return!(n.parentNode===document.head||~RY.indexOf(n.tagName.toUpperCase())||n.getAttribute(Vv)||n.parentNode&&"svg"===n.parentNode.tagName)}function dH(n){if(E3)return new Promise(function(e,t){var r=F0(n.querySelectorAll("*")).filter(QZ).map(KZ),i=Qv_begin("searchPseudoElements");aH(),Promise.all(r).then(function(){i(),ey(),e()}).catch(function(){i(),ey(),t()})})}var hH=!1,pH=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var a=i.toLowerCase().split("-"),o=a[0],_=a.slice(1).join("-");if(o&&"h"===_)return r.flipX=!0,r;if(o&&"v"===_)return r.flipY=!0,r;if(_=parseFloat(_),isNaN(_))return r;switch(o){case"grow":r.size=r.size+_;break;case"shrink":r.size=r.size-_;break;case"left":r.x=r.x-_;break;case"right":r.x=r.x+_;break;case"up":r.y=r.y-_;break;case"down":r.y=r.y+_;break;case"rotate":r.rotate=r.rotate+_}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},ty={x:0,y:0,width:"100%",height:"100%"};function mH(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}!function _Z(n,e){var t=e.mixoutsTo;Xz=n,B0={},Object.keys(U0).forEach(function(r){-1===yZ.indexOf(r)&&delete U0[r]}),Xz.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(t[o]=i[o]),"object"===kd(i[o])&&Object.keys(i[o]).forEach(function(_){t[o]||(t[o]={}),t[o][_]=i[o][_]})}),r.hooks){var a=r.hooks();Object.keys(a).forEach(function(o){B0[o]||(B0[o]=[]),B0[o].push(a[o])})}r.provides&&r.provides(U0)})}([iZ,$Z,WZ,qZ,YZ,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=dH,t}}},provides:function(e){e.pseudoElements2svg=function(t){var r=t.node;x2.searchPseudoElements&&dH(void 0===r?yr:r)}}},{mixout:function(){return{dom:{unwatch:function(){aH(),hH=!0}}}},hooks:function(){return{bootstrap:function(){sH($v("mutationObserverCallbacks",{}))},noAuto:function(){!function PZ(){Zd&&Zd.disconnect()}()},watch:function(t){var r=t.observeMutationsRoot;hH?ey():sH($v("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(t){return pH(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-transform");return i&&(t.transform=pH(i)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var r=t.main,i=t.transform,o=t.iconWidth,_={transform:"translate(".concat(t.containerWidth/2," 256)")},V="translate(".concat(32*i.x,", ").concat(32*i.y,") "),q="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),de="rotate(".concat(i.rotate," 0 0)"),ct={outer:_,inner:{transform:"".concat(V," ").concat(q," ").concat(de)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:d2({},ct.outer),children:[{tag:"g",attributes:d2({},ct.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:d2(d2({},r.icon.attributes),ct.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-mask"),a=i?$d(i.split(" ").map(function(o){return o.trim()})):{prefix:null,iconName:null,rest:[]};return a.prefix||(a.prefix=N4()),t.mask=a,t.maskId=r.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var n,r=t.children,i=t.attributes,a=t.main,o=t.mask,_=t.maskId,de=a.icon,je=o.icon,ct=function tZ(n){var e=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},a="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),_="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(_)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:t.transform,containerWidth:o.width,iconWidth:a.width}),Ht={tag:"rect",attributes:d2(d2({},ty),{},{fill:"white"})},$t=de.children?{children:de.children.map(mH)}:{},un={tag:"g",attributes:d2({},ct.inner),children:[mH(d2({tag:de.tag,attributes:d2(d2({},de.attributes),ct.path)},$t))]},Cn={tag:"g",attributes:d2({},ct.outer),children:[un]},In="mask-".concat(_||xu()),pn="clip-".concat(_||xu()),Jn={tag:"mask",attributes:d2(d2({},ty),{},{id:In,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[Ht,Cn]},Z2={tag:"defs",children:[{tag:"clipPath",attributes:{id:pn},children:(n=je,"g"===n.tag?n.children:[n])},Jn]};return r.push(Z2,{tag:"rect",attributes:d2({fill:"currentColor","clip-path":"url(#".concat(pn,")"),mask:"url(#".concat(In,")")},ty)}),{children:r,attributes:i}}}},{provides:function(e){var t=!1;V4.matchMedia&&(t=V4.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:d2(d2({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=d2(d2({},a),{},{attributeName:"opacity"}),_={tag:"circle",attributes:d2(d2({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||_.children.push({tag:"animate",attributes:d2(d2({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:d2(d2({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(_),r.push({tag:"path",attributes:d2(d2({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:d2(d2({},o),{},{values:"1;0;0;0;0;1;"})}]}),t||r.push({tag:"path",attributes:d2(d2({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:d2(d2({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-symbol");return t.symbol=null!==i&&(""===i||i),t}}}}],{mixoutsTo:ls});var oX=ls.parse,cX=ls.icon;const lX=["*"],dX=n=>{const e={[`fa-${n.animation}`]:null!=n.animation&&!n.animation.startsWith("spin"),"fa-spin":"spin"===n.animation||"spin-reverse"===n.animation,"fa-spin-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-spin-reverse":"spin-reverse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let mX=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gX=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...t){for(const r of t){const i=Object.keys(r).map(a=>r[a]);this.addIcons(...i)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vX=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[M1]}),n})(),yX=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(yt(Ir),yt(ir))},n.\u0275cmp=L2({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[M1],ngContentSelectors:lX,decls:1,vars:0,template:function(t,r){1&t&&(w0(),x4(0))},encapsulation:2}),n})(),qi=(()=>{class n{constructor(t,r,i,a,o){this.sanitizer=t,this.config=r,this.iconLibrary=i,this.stackItem=a,this.classes=[],null!=o&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}set spin(t){this.animation=t?"spin":void 0}set pulse(t){this.animation=t?"spin-pulse":void 0}ngOnChanges(t){if(null!=this.icon||null!=this.config.fallbackIcon){if(t){const i=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=i){const a=this.buildParams();this.renderIcon(i,a)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:"string"==typeof n?{prefix:e,iconName:n}:{prefix:n[0],iconName:n[1]})(t,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?oX.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...dX(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const i=cX(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(yt(gw),yt(mX),yt(gX),yt(vX,8),yt(yX,8))},n.\u0275cmp=L2({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(Cm("innerHTML",r.renderedIconHTML,t0),Ma("title",r.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[M1],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),_X=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({}),n})();const CX=new l2("WindowToken",typeof window<"u"&&window.document?{providedIn:"root",factory:()=>window}:{providedIn:"root",factory:()=>{}});let bX=(()=>{class n{constructor(t,r,i){this.ngZone=t,this.document=r,this.window=i,this.copySubject=new j,this.copyResponse$=this.copySubject.asObservable(),this.config={}}configure(t){this.config=t}copy(t){if(!this.isSupported||!t)return this.pushCopyResponse({isSuccess:!1,content:t});const r=this.copyFromContent(t);return this.pushCopyResponse(r?{content:t,isSuccess:r}:{isSuccess:!1,content:t})}get isSupported(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}isTargetValid(t){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){if(t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}copyFromInputElement(t,r=!0){try{this.selectTarget(t);const i=this.copyText();return this.clearSelection(r?t:void 0,this.window),i&&this.isCopySuccessInIE11()}catch{return!1}}isCopySuccessInIE11(){const t=this.window.clipboardData;return!(t&&t.getData&&!t.getData("Text"))}copyFromContent(t,r=this.document.body){if(this.tempTextArea&&!r.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{r.appendChild(this.tempTextArea)}catch{throw new Error("Container should be a Dom element")}}this.tempTextArea.value=t;const i=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),i}destroy(t=this.document.body){this.tempTextArea&&(t.removeChild(this.tempTextArea),this.tempTextArea=void 0)}selectTarget(t){return t.select(),t.setSelectionRange(0,t.value.length),t.value.length}copyText(){return this.document.execCommand("copy")}clearSelection(t,r){t&&t.focus(),r.getSelection()?.removeAllRanges()}createTempTextArea(t,r){const i="rtl"===t.documentElement.getAttribute("dir");let a;return a=t.createElement("textarea"),a.style.fontSize="12pt",a.style.border="0",a.style.padding="0",a.style.margin="0",a.style.position="absolute",a.style[i?"right":"left"]="-9999px",a.style.top=(r.pageYOffset||t.documentElement.scrollTop)+"px",a.setAttribute("readonly",""),a}pushCopyResponse(t){this.copySubject.observers.length>0&&this.ngZone.run(()=>{this.copySubject.next(t)})}pushCopyReponse(t){this.pushCopyResponse(t)}}return n.\u0275fac=function(t){return new(t||n)(ln(I1),ln($1),ln(CX,8))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({imports:[[V0]]}),n})(),ny=(()=>{class n{constructor(t,r){this._elementRef=t,this._renderer=r,this.collapseClass=!0,this.collapseShow=new a1,this.collapseShown=new a1,this.collapseHide=new a1,this.collapseHidden=new a1,this._collapsed=!0,this._isTransitioning=!1}set collapsed(t){t!==this._collapsed&&(t?this.hide():this.show(),this._collapsed=t)}get collapsed(){return this._collapsed}get host(){return this._elementRef.nativeElement}show(){if(this._isTransitioning||!this.collapsed)return;this.collapseShow.emit(this),this._renderer.removeClass(this.host,"collapse"),this._renderer.addClass(this.host,"collapsing"),this._renderer.setStyle(this.host,"height","0px"),this._isTransitioning=!0;const t=this.host.scrollHeight;Hs(this.host,"transitionend").pipe(Li(1)).subscribe(()=>{this._isTransitioning=!1,this.collapsed=!1,this._renderer.removeClass(this.host,"collapsing"),this._renderer.addClass(this.host,"collapse"),this._renderer.addClass(this.host,"show"),this._renderer.removeStyle(this.host,"height"),this.collapseShown.emit(this)}),this._emulateTransitionEnd(this.host,350),this._renderer.setStyle(this.host,"height",`${t}px`)}hide(){if(this._isTransitioning||this.collapsed)return;this.collapseHide.emit(this);const t=this.host.getBoundingClientRect().height;this._renderer.setStyle(this.host,"height",`${t}px`),this._reflow(this.host),this._renderer.addClass(this.host,"collapsing"),this._renderer.removeClass(this.host,"collapse"),this._renderer.removeClass(this.host,"show"),this._isTransitioning=!0,Hs(this.host,"transitionend").pipe(Li(1)).subscribe(()=>{this._renderer.removeClass(this.host,"collapsing"),this._renderer.addClass(this.host,"collapse"),this._isTransitioning=!1,this.collapsed=!0,this.collapseHidden.emit(this)}),this._renderer.removeStyle(this.host,"height"),this._emulateTransitionEnd(this.host,350)}toggle(){this._isTransitioning||(this.collapsed=!this.collapsed,this.collapsed?this.hide():this.show())}_reflow(t){return t.offsetHeight}_emulateTransitionEnd(t,r){let i=!1;const o=r+5;Hs(t,"transitionend").pipe(Li(1)).subscribe(()=>{i=!0}),setTimeout(()=>{i||t.dispatchEvent(new Event("transitionend"))},o)}}return n.\u0275fac=function(t){return new(t||n)(yt(ir),yt(Ir))},n.\u0275dir=f2({type:n,selectors:[["","mdbCollapse",""]],hostVars:2,hostBindings:function(t,r){2&t&&u2("collapse",r.collapseClass)},inputs:{collapsed:"collapsed"},outputs:{collapseShow:"collapseShow",collapseShown:"collapseShown",collapseHide:"collapseHide",collapseHidden:"collapseHidden"},exportAs:["mdbCollapse"]}),n})(),vH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({}),n})();function so(n){return null!=n&&"false"!=`${n}`}function Xd(n){return Array.isArray(n)?n:[n]}function ti(n){return null==n?"":"string"==typeof n?n:`${n}px`}const Su={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Su;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new c(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Su;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Su;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},HX=new class zX extends Qg{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class SX extends Kg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Su.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(Su.cancelAnimationFrame(t),e._scheduled=void 0)}});let ry,LX=1;const Kd={};function yH(n){return n in Kd&&(delete Kd[n],!0)}const DX={setImmediate(n){const e=LX++;return Kd[e]=!0,ry||(ry=Promise.resolve()),ry.then(()=>yH(e)&&n()),e},clearImmediate(n){yH(n)}},{setImmediate:TX,clearImmediate:kX}=DX,Qd={setImmediate(...n){const{delegate:e}=Qd;return(e?.setImmediate||TX)(...n)},clearImmediate(n){const{delegate:e}=Qd;return(e?.clearImmediate||kX)(n)},delegate:void 0},NX=new class AX extends Qg{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class VX extends Kg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Qd.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(Qd.clearImmediate(t),e._scheduled=void 0)}});function iy(n,e=hd){return function EX(n){return ee((e,t)=>{let r=!1,i=null,a=null,o=!1;const _=()=>{if(a?.unsubscribe(),a=null,r){r=!1;const q=i;i=null,t.next(q)}o&&t.complete()},V=()=>{a=null,o&&t.complete()};e.subscribe(F(t,q=>{r=!0,i=q,a||tn(n(q)).subscribe(a=F(t,_,V))},()=>{o=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>SS(n,e))}function K1(n){return ee((e,t)=>{tn(n).subscribe(F(t,()=>t.complete(),b)),!t.closed&&e.subscribe(t)})}function Jd(...n){const e=dn(n);return ee((t,r)=>{(e?P0(n,t,e):P0(n,t)).subscribe(r)})}let ay;try{ay=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ay=!1}let eh,Jc,Qc=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?bg(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ay)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(ln(G8))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CH(){if(null==Jc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Jc=!1,Jc;if("scrollBehavior"in document.documentElement.style)Jc=!0;else{const n=Element.prototype.scrollTo;Jc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Jc}function Hu(){if("object"!=typeof document||!document)return 0;if(null==eh){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),eh=0,0===n.scrollLeft&&(n.scrollLeft=1,eh=0===n.scrollLeft?1:2),n.remove()}return eh}function bH(n){return n.composedPath?n.composedPath()[0]:n.target}function xH(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const OX=new l2("cdk-dir-doc",{providedIn:"root",factory:function FX(){return $2($1)}}),RX=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let th=(()=>{class n{constructor(t){this.value="ltr",this.change=new a1,t&&(this.value=function BX(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?RX.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(ln(OX,8))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({}),n})();const UX=["contentWrapper"],jX=["*"],GX=new l2("VIRTUAL_SCROLL_STRATEGY");let nh=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new j,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new oe(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(iy(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):A2()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Hi(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=function wX(n){return n instanceof ir?n.nativeElement:n}(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Hs(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(ln(I1),ln(Qc),ln($1,8))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MH=(()=>{class n{constructor(t,r,i,a){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=a,this._destroyed=new j,this._elementScrolled=new oe(o=>this.ngZone.runOutsideAngular(()=>Hs(this.elementRef.nativeElement,"scroll").pipe(K1(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=Hu()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==Hu()?t.left=t.right:1==Hu()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;CH()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?i:r:"end"==t&&(t=o?r:i),o&&2==Hu()?t==r?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:o&&1==Hu()?t==r?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==r?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(yt(ir),yt(nh),yt(I1),yt(th,8))},n.\u0275dir=f2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),cy=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new j,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(iy(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(ln(Qc),ln(I1),ln($1,8))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wH=new l2("VIRTUAL_SCROLLABLE");let qX=(()=>{class n extends MH{constructor(t,r,i,a){super(t,r,i,a)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(yt(ir),yt(nh),yt(I1),yt(th,8))},n.\u0275dir=f2({type:n,features:[p1]}),n})();const ZX=typeof requestAnimationFrame<"u"?HX:NX;let XX=(()=>{class n extends qX{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=so(t)}constructor(t,r,i,a,o,_,V,q){super(t,_,i,o),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=a,this.scrollable=q,this._platform=$2(Qc),this._detachedSubject=new j,this._renderedRangeSubject=new j,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new oe(de=>this._scrollStrategy.scrolledIndexChange.subscribe(ze=>Promise.resolve().then(()=>this.ngZone.run(()=>de.next(ze))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=c.EMPTY,this._viewportChanges=V.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Jd(null),iy(0,ZX)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(K1(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function YX(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const a="horizontal"==this.orientation,o=a?"X":"Y";let V=`translate${o}(${Number((a&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(V+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=V&&(this._renderedContentTransform=V,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",a="right",o="rtl"==this.dir?.value;r="start"==t?o?a:i:"end"==t?o?i:a:t||("horizontal"===this.orientation?"left":"top");const _=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-_}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(yt(ir),yt(L3),yt(I1),yt(GX,8),yt(th,8),yt(nh),yt(cy),yt(wH,8))},n.\u0275cmp=L2({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&R8(UX,7),2&t){let i;ja(i=Ga())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&u2("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[er([{provide:MH,useFactory:(e,t)=>e||t,deps:[[new Lo,new f3(wH)],n]}]),p1,Lm],ngContentSelectors:jX,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(w0(),Ae(0,"div",0,1),x4(2),Ne(),Pn(3,"div",2)),2&t&&(Ve(3),k8("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),SH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({}),n})(),zH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({imports:[oy,SH,XX,oy,SH]}),n})();class ly{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class KX extends ly{constructor(e,t,r,i,a){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=a}}class rh extends ly{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class QX extends ly{constructor(e){super(),this.element=e instanceof ir?e.nativeElement:e}}class HH{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof KX?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof rh?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof QX?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class JX extends HH{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const _=o.element,V=this._document.createComment("dom-portal");_.parentNode.insertBefore(V,_),this.outletElement.appendChild(_),this._attachedPortal=o,super.setDisposeFn(()=>{V.parentNode&&V.parentNode.replaceChild(_,V)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Ui.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let LH=(()=>{class n extends HH{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new a1,this.attachDomPortal=a=>{const o=a.element,_=this._document.createComment("dom-portal");a.setAttachedHost(this),o.parentNode.insertBefore(_,o),this._getRootNode().appendChild(o),this._attachedPortal=a,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(o,_)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(a,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(yt(Ao),yt(Sa),yt($1))},n.\u0275dir=f2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[p1]}),n})(),DH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({}),n})();const TH=CH();class eK{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ti(-this._previousScrollPosition.left),e.style.top=ti(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),TH&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),TH&&(r.scrollBehavior=a,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class tK{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class kH{enable(){}disable(){}attach(){}}function uy(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function VH(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class nK{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();uy(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let rK=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new kH,this.close=o=>new tK(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new eK(this._viewportRuler,this._document),this.reposition=o=>new nK(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(ln(nh),ln(cy),ln(I1),ln($1))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class AH{constructor(e){if(this.scrollStrategy=new kH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class iK{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let NH=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(ln($1))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aK=(()=>{class n extends NH{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let o=a.length-1;o>-1;o--)if(a[o]._keydownEvents.observers.length>0){const _=a[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>_.next(i)):_.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(ln($1),ln(I1,8))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sK=(()=>{class n extends NH{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=bH(a)},this._clickListener=a=>{const o=bH(a),_="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const V=this._attachedOverlays.slice();for(let q=V.length-1;q>-1;q--){const de=V[q];if(de._outsidePointerEvents.observers.length<1||!de.hasAttached())continue;if(de.overlayElement.contains(o)||de.overlayElement.contains(_))break;const ze=de._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ze.next(a)):ze.next(a)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(ln($1),ln(Qc),ln(I1,8))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EH=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||xH()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),xH()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(ln($1),ln(Qc))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class oK{constructor(e,t,r,i,a,o,_,V,q,de=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=o,this._document=_,this._location=V,this._outsideClickDispatcher=q,this._animationsDisabled=de,this._backdropElement=null,this._backdropClick=new j,this._attachments=new j,this._detachments=new j,this._locationChanges=c.EMPTY,this._backdropClickHandler=ze=>this._backdropClick.next(ze),this._backdropTransitionendHandler=ze=>{this._disposeBackdrop(ze.target)},this._keydownEvents=new j,this._outsidePointerEvents=new j,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Li(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ti(this._config.width),e.height=ti(this._config.height),e.minWidth=ti(this._config.minWidth),e.minHeight=ti(this._config.minHeight),e.maxWidth=ti(this._config.maxWidth),e.maxHeight=ti(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=Xd(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(K1(Wn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const PH="cdk-overlay-connected-position-bounding-box",cK=/([A-Za-z%]+)$/;class lK{get positions(){return this._preferredPositions}constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new j,this._resizeSubscription=c.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(PH),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let o;for(let _ of this._preferredPositions){let V=this._getOriginPoint(e,i,_),q=this._getOverlayPoint(V,t,_),de=this._getOverlayFit(q,t,r,_);if(de.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(_,V);this._canFitWithFlexibleDimensions(de,q,r)?a.push({position:_,origin:V,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(V,_)}):(!o||o.overlayFit.visibleArea<de.visibleArea)&&(o={overlayFit:de,overlayPoint:q,originPoint:V,position:_,overlayRect:t})}if(a.length){let _=null,V=-1;for(const q of a){const de=q.boundingBoxRect.width*q.boundingBoxRect.height*(q.position.weight||1);de>V&&(V=de,_=q)}return this._isPushed=!1,void this._applyPosition(_.position,_.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&el(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(PH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,_=this._isRtl()?e.left:e.right;i="start"==r.originX?o:_}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=OH(t);let{x:o,y:_}=e,V=this._getOffset(i,"x"),q=this._getOffset(i,"y");V&&(o+=V),q&&(_+=q);let je=0-_,ct=_+a.height-r.height,Ht=this._subtractOverflows(a.width,0-o,o+a.width-r.width),$t=this._subtractOverflows(a.height,je,ct),un=Ht*$t;return{visibleArea:un,isCompletelyWithinViewport:a.width*a.height===un,fitsInViewportVertically:$t===a.height,fitsInViewportHorizontally:Ht==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,o=IH(this._overlayRef.getConfig().minHeight),_=IH(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=_&&_<=a)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=OH(t),a=this._viewportRect,o=Math.max(e.x+i.width-a.width,0),_=Math.max(e.y+i.height-a.height,0),V=Math.max(a.top-r.top-e.y,0),q=Math.max(a.left-r.left-e.x,0);let de=0,ze=0;return de=i.width<=a.width?q||-o:e.x<this._viewportMargin?a.left-r.left-e.x:0,ze=i.height<=a.height?V||-_:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:de,y:ze},{x:e.x+de,y:e.y+ze}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new iK(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,o,_,de,ze,je;if("top"===t.overlayY)o=e.y,a=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)_=r.height-e.y+2*this._viewportMargin,a=r.height-_+this._viewportMargin;else{const ct=Math.min(r.bottom-e.y+r.top,e.y),Ht=this._lastBoundingBoxSize.height;a=2*ct,o=e.y-ct,a>Ht&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-Ht/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)je=r.width-e.x+this._viewportMargin,de=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)ze=e.x,de=r.right-e.x;else{const ct=Math.min(r.right-e.x+r.left,e.x),Ht=this._lastBoundingBoxSize.width;de=2*ct,ze=e.x-ct,de>Ht&&!this._isInitialRender&&!this._growAfterOpen&&(ze=e.x-Ht/2)}return{top:o,left:ze,bottom:_,right:je,width:de,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=ti(r.height),i.top=ti(r.top),i.bottom=ti(r.bottom),i.width=ti(r.width),i.left=ti(r.left),i.right=ti(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=ti(a)),o&&(i.maxWidth=ti(o))}this._lastBoundingBoxSize=r,el(this._boundingBox.style,i)}_resetBoundingBoxStyles(){el(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){el(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const de=this._viewportRuler.getViewportScrollPosition();el(r,this._getExactOverlayY(t,e,de)),el(r,this._getExactOverlayX(t,e,de))}else r.position="static";let _="",V=this._getOffset(t,"x"),q=this._getOffset(t,"y");V&&(_+=`translateX(${V}px) `),q&&(_+=`translateY(${q}px)`),r.transform=_.trim(),o.maxHeight&&(i?r.maxHeight=ti(o.maxHeight):a&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=ti(o.maxWidth):a&&(r.maxWidth="")),el(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=ti(a.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=ti(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:VH(e,r),isOriginOutsideView:uy(e,r),isOverlayClipped:VH(t,r),isOverlayOutsideView:uy(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Xd(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof ir)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function el(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function IH(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(cK);return t&&"px"!==t?null:parseFloat(e)}return n||null}function OH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const FH="cdk-global-overlay-wrapper";class uK{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(FH),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:o,maxHeight:_}=r,V=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),q=!("100%"!==a&&"100vh"!==a||_&&"100%"!==_&&"100vh"!==_),de=this._xPosition,ze=this._xOffset,je="rtl"===this._overlayRef.getConfig().direction;let ct="",Ht="",$t="";V?$t="flex-start":"center"===de?($t="center",je?Ht=ze:ct=ze):je?"left"===de||"end"===de?($t="flex-end",ct=ze):("right"===de||"start"===de)&&($t="flex-start",Ht=ze):"left"===de||"start"===de?($t="flex-start",ct=ze):("right"===de||"end"===de)&&($t="flex-end",Ht=ze),e.position=this._cssPosition,e.marginLeft=V?"0":ct,e.marginTop=q?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=V?"0":Ht,t.justifyContent=$t,t.alignItems=q?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(FH),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let RH=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new uK}flexibleConnectedTo(t){return new lK(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(ln(cy),ln($1),ln(Qc),ln(EH))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fK=0,fy=(()=>{class n{constructor(t,r,i,a,o,_,V,q,de,ze,je,ct){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=o,this._injector=_,this._ngZone=V,this._document=q,this._directionality=de,this._location=ze,this._outsideClickDispatcher=je,this._animationsModuleType=ct}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),o=new AH(t);return o.direction=o.direction||this._directionality.value,new oK(a,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+fK++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Ic)),new JX(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(ln(rK),ln(EH),ln(Ao),ln(RH),ln(aK),ln(Ui),ln(I1),ln($1),ln(th),ln(W8),ln(sK),ln(Gm,8))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pK={provide:new l2("cdk-connected-overlay-scroll-strategy"),deps:[fy],useFactory:function hK(n){return()=>n.scrollStrategies.reposition()}};let mK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({providers:[fy,pK],imports:[oy,DH,zH,zH]}),n})();function dy(...n){const e=dn(n),t=Wt(n),{args:r,keys:i}=yw(n);if(0===r.length)return Ln([],e);const a=new oe(function gK(n,e,t=Z){return r=>{BH(e,()=>{const{length:i}=n,a=new Array(i);let o=i,_=i;for(let V=0;V<i;V++)BH(e,()=>{const q=Ln(n[V],e);let de=!1;q.subscribe(F(r,ze=>{a[V]=ze,de||(de=!0,_--),_||r.next(t(a.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>_w(i,o):Z));return t?a.pipe(kg(t)):a}function BH(n,e,t){n?ft(t,n,e):e()}const UH=new Set;let G0,_K=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):bK}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function CK(n){if(!UH.has(n))try{G0||(G0=document.createElement("style"),G0.setAttribute("type","text/css"),document.head.appendChild(G0)),G0.sheet&&(G0.sheet.insertRule(`@media ${n} {body{ }}`,0),UH.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(ln(Qc))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bK(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let xK=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new j}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return jH(Xd(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=dy(jH(Xd(t)).map(o=>this._registerQuery(o).observable));return a=P0(a.pipe(Li(1)),a.pipe(function vK(n){return Hi((e,t)=>n<=t)}(1),function yK(n,e=hd){return ee((t,r)=>{let i=null,a=null,o=null;const _=()=>{if(i){i.unsubscribe(),i=null;const q=a;a=null,r.next(q)}};function V(){const q=o+n,de=e.now();if(de<q)return i=this.schedule(void 0,q-de),void r.add(i);_()}t.subscribe(F(r,q=>{a=q,o=e.now(),i||(i=e.schedule(V,n),r.add(i))},()=>{_(),r.complete()},void 0,()=>{a=i=null}))})}(0))),a.pipe(Y(o=>{const _={matches:!1,breakpoints:{}};return o.forEach(({matches:V,query:q})=>{_.matches=_.matches||V,_.breakpoints[q]=V}),_}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new oe(o=>{const _=V=>this._zone.run(()=>o.next(V));return r.addListener(_),()=>{r.removeListener(_)}}).pipe(Jd(r),Y(({matches:o})=>({query:t,matches:o})),K1(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(ln(_K),ln(I1))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jH(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const MK=["dropdownTemplate"],wK=["mdbDropdown",""];function SK(n,e){if(1&n){const t=v1();Ae(0,"div"),vn("@fade.done",function(i){return s2(t),o2(Ut().onAnimationEnd(i))}),x4(1,2),Ne()}if(2&n){const t=Ut();dt("@fade",t._animationState)("@.disabled",!t.animation)}}const zK=["*",[["",8,"dropdown-toggle"]],[["",8,"dropdown-menu"]]],HK=["*",".dropdown-toggle",".dropdown-menu"];let F3=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f2({type:n,selectors:[["","mdbDropdownToggle",""]],exportAs:["mdbDropdownToggle"]}),n})(),R3=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f2({type:n,selectors:[["","mdbDropdownMenu",""]],exportAs:["mdbDropdownMenu"]}),n})(),P4=(()=>{class n{constructor(t,r,i,a,o,_){this._overlay=t,this._overlayPositionBuilder=r,this._elementRef=i,this._vcr=a,this._breakpointObserver=o,this._cdRef=_,this._animation=!0,this.offset=0,this.closeOnOutsideClick=!0,this.closeOnItemClick=!0,this.closeOnEsc=!0,this.withPush=!1,this.dropdownShow=new a1,this.dropdownShown=new a1,this.dropdownHide=new a1,this.dropdownHidden=new a1,this._open=!1,this._breakpoints={isSm:this._breakpointObserver.isMatched("(min-width: 576px)"),isMd:this._breakpointObserver.isMatched("(min-width: 768px)"),isLg:this._breakpointObserver.isMatched("(min-width: 992px)"),isXl:this._breakpointObserver.isMatched("(min-width: 1200px)"),isXxl:this._breakpointObserver.isMatched("(min-width: 1400px)")},this._destroy$=new j,this._animationState="hidden"}get animation(){return this._animation}set animation(t){this._animation=so(t)}ngAfterContentInit(){this._bindDropdownToggleClick()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.detach(),this._overlayRef.dispose()),this._destroy$.next(),this._destroy$.complete()}_bindDropdownToggleClick(){Hs(this._dropdownToggle.nativeElement,"click").pipe(K1(this._destroy$)).subscribe(()=>this.toggle())}_createOverlayConfig(){return new AH({hasBackdrop:!1,scrollStrategy:this._overlay.scrollStrategies.reposition(),positionStrategy:this._createPositionStrategy()})}_createOverlay(){this._overlayRef=this._overlay.create(this._createOverlayConfig())}_createPositionStrategy(){return this._overlayPositionBuilder.flexibleConnectedTo(this._dropdownToggle).withPositions(this._getPosition()).withFlexibleDimensions(!1).withPush(this.withPush)}_getPosition(){this._isDropUp=this._elementRef.nativeElement.classList.contains("dropup"),this._isDropStart=this._elementRef.nativeElement.classList.contains("dropstart"),this._isDropEnd=this._elementRef.nativeElement.classList.contains("dropend"),this._isDropdownMenuEnd=this._dropdownMenu.nativeElement.classList.contains("dropdown-menu-end"),this._xPosition=this._isDropdownMenuEnd?"end":"start";const t=new RegExp(/dropdown-menu-(sm|md|lg|xl|xxl)-(start|end)/,"g"),r=this._dropdownMenu.nativeElement.className.match(t);if(r){this._subscribeBrakpoints();const q=new RegExp(/start|end/,"g"),de=new RegExp(/(sm|md|lg|xl|xxl)/,"g"),ze=q.exec(r)[0],je=de.exec(r)[0];switch(!0){case"xxl"===je&&this._breakpoints.isXxl:case"xl"===je&&this._breakpoints.isXl:case"lg"===je&&this._breakpoints.isLg:case"md"===je&&this._breakpoints.isMd:case"sm"===je&&this._breakpoints.isSm:this._xPosition=ze}}let i;const a={originX:this._xPosition,originY:"top",overlayX:this._xPosition,overlayY:"bottom",offsetY:-this.offset},o={originX:this._xPosition,originY:"bottom",overlayX:this._xPosition,overlayY:"top",offsetY:this.offset},_={originX:"start",originY:"top",overlayX:"end",overlayY:"top",offsetX:this.offset},V={originX:"end",originY:"top",overlayX:"start",overlayY:"top",offsetX:-this.offset};switch(!0){case this._isDropEnd:i=[V,_];break;case this._isDropStart:i=[_,V];break;case this._isDropUp:i=[a,o];break;default:i=[o,a]}return i}_listenToEscKeyup(t){return Hs(document,"keyup").pipe(Hi(r=>"Escape"===r.key),K1(t.detachments()))}_listenToClick(t,r){return Hs(document,"click").pipe(Hi(i=>{const a=i.target,o=this._dropdownMenu.nativeElement.contains(a),_=!this._dropdownToggle.nativeElement.contains(a),V=!o||a.classList&&a.classList.contains("dropdown-item");return a!==r&&_&&V}),K1(t.detachments()))}onAnimationEnd(t){"visible"===t.fromState&&"hidden"===t.toState&&(this._overlayRef.detach(),this._open=!1,this.dropdownHidden.emit(this)),"hidden"===t.fromState&&"visible"===t.toState&&this.dropdownShown.emit(this)}_subscribeBrakpoints(){const t=["(min-width: 576px)","(min-width: 768px)","(min-width: 992px)","(min-width: 1200px)","(min-width: 1400px)"];this._breakpointSubscription=this._breakpointObserver.observe(t).pipe(K1(this._destroy$)).subscribe(r=>{Object.keys(this._breakpoints).forEach((i,a)=>{const _=r.breakpoints[t[a]];_!==this._breakpoints[i]&&(this._breakpoints[i]=_,this._open&&this._overlayRef.updatePositionStrategy(this._createPositionStrategy()))})})}show(){this._cdRef.markForCheck(),!this._open&&(this._overlayRef||this._createOverlay(),this._portal=new rh(this._template,this._vcr),this.dropdownShow.emit(this),this._open=!0,this._overlayRef.attach(this._portal),this._listenToEscKeyup(this._overlayRef).subscribe(t=>{t&&this.closeOnEsc&&this.hide()}),this._overlayRef.keydownEvents().pipe(K1(this._overlayRef.detachments())).subscribe(t=>{this._handleKeyboardNavigation(t)}),this._listenToClick(this._overlayRef,this._dropdownToggle.nativeElement).subscribe(t=>{const r=t.target,i=r.classList&&r.classList.contains("dropdown-item");this.closeOnItemClick&&i?this.hide():!this.closeOnOutsideClick||i||this.hide()}),this._animationState="visible")}_handleKeyboardNavigation(t){const r=Array.from(this._dropdownMenu.nativeElement.querySelectorAll(".dropdown-item")),i=t.key;if(0===r.length)return;let o=r.indexOf(this._dropdownMenu.nativeElement.ownerDocument.activeElement);switch(i){case"ArrowDown":t.preventDefault(),o=Math.min(o+1,r.length-1);break;case"ArrowUp":if(t.preventDefault(),-1===o){o=r.length-1;break}o=Math.max(o-1,0)}const _=r[o];_&&_.focus()}hide(){this._cdRef.markForCheck(),this._open&&(this.dropdownHide.emit(this),this._animationState="hidden")}toggle(){this._cdRef.markForCheck(),this._open?this.hide():this.show()}}return n.\u0275fac=function(t){return new(t||n)(yt(fy),yt(RH),yt(ir),yt(Sa),yt(xK),yt(L3))},n.\u0275cmp=L2({type:n,selectors:[["","mdbDropdown",""]],contentQueries:function(t,r,i){if(1&t&&(Oo(i,F3,5,ir),Oo(i,R3,5,ir)),2&t){let a;ja(a=Ga())&&(r._dropdownToggle=a.first),ja(a=Ga())&&(r._dropdownMenu=a.first)}},viewQuery:function(t,r){if(1&t&&R8(MK,5),2&t){let i;ja(i=Ga())&&(r._template=i.first)}},inputs:{animation:"animation",offset:"offset",closeOnOutsideClick:"closeOnOutsideClick",closeOnItemClick:"closeOnItemClick",closeOnEsc:"closeOnEsc",withPush:"withPush"},outputs:{dropdownShow:"dropdownShow",dropdownShown:"dropdownShown",dropdownHide:"dropdownHide",dropdownHidden:"dropdownHidden"},attrs:wK,ngContentSelectors:HK,decls:4,vars:0,consts:[["dropdownTemplate",""]],template:function(t,r){1&t&&(w0(zK),x4(0),x4(1,1),mn(2,SK,2,2,"ng-template",null,0,Lx))},encapsulation:2,data:{animation:[TS("fade",[VS("visible",Gc({opacity:1})),VS("hidden",Gc({opacity:0})),tv("visible => hidden",ev("150ms linear")),tv("hidden => visible",[Gc({opacity:0}),ev("150ms linear")])])]},changeDetection:0}),n})(),LK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({imports:[V0,mK]}),n})(),Ts=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f2({type:n,selectors:[["","mdbLabel",""]],exportAs:["mdbLabel"]}),n})(),DK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({imports:[V0,tW]}),n})();function TK(n,e){1&n&&x4(0)}const kK=["*"];function VK(n,e){}function AK(n,e){1&n&&mn(0,VK,0,0,"ng-template",6),2&n&&dt("cdkPortalOutlet",Ut().$implicit.titleContent)}function NK(n,e){1&n&&_t(0),2&n&&y1(Ut().$implicit.title)}function EK(n,e){if(1&n){const t=v1();Ae(0,"li",3),vn("click",function(){const a=s2(t).index;return o2(Ut().setActiveTab(a))}),Ae(1,"a",4),mn(2,AK,1,1,"ng-template",5),mn(3,NK,1,1,"ng-template",5),Ne()()}if(2&n){const t=e.$implicit;Ve(1),u2("active",t.active)("disabled",t.disabled),Ve(1),dt("ngIf",t.titleContent),Ve(1),dt("ngIf",!t.titleContent)}}function PK(n,e){}const IK=function(n,e){return{show:n,active:e}};function OK(n,e){if(1&n){const t=v1();Z1(0),Ae(1,"div",7),vn("@fadeIn.done",function(){return s2(t),o2(Ut().onAnimationDone())}),mn(2,PK,0,0,"ng-template",8),Ne(),X1()}if(2&n){const t=e.$implicit,r=Ut();Ve(1),dt("@fadeIn",r.animationState)("ngClass",Io(3,IK,t.active,t.active)),Ve(1),dt("tab",t)}}const FK=function(n,e,t,r,i,a){return{"nav-pills":n,"nav-tabs":e,"nav-fill":t,"nav-justified":r,"flex-column":i,"text-center":a}},RK=new l2("MdbTabContentDirective"),GH=new l2("MdbTabTitleDirective");let BK=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(yt(Gi))},n.\u0275dir=f2({type:n,selectors:[["","mdbTabTitle",""]],features:[er([{provide:GH,useExisting:n}])]}),n})(),hy=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._renderer=r,this._vcr=i,this.activeStateChange$=new j,this._disabled=!1,this._fade=!0,this._contentPortal=null,this._titlePortal=null,this._active=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=so(t)}get fade(){return this._fade}set fade(t){this._fade=so(t)}get active(){return this._active}get content(){return this._contentPortal}get titleContent(){return this._titlePortal}get shouldAttach(){return void 0===this._lazyContent}set active(t){t?(this._renderer.addClass(this._elementRef.nativeElement,"show"),this._renderer.addClass(this._elementRef.nativeElement,"active")):(this._renderer.removeClass(this._elementRef.nativeElement,"show"),this._renderer.removeClass(this._elementRef.nativeElement,"active")),this._active=t,this.activeStateChange$.next(t)}ngOnInit(){this._createContentPortal(),this._titleContent&&this._createTitlePortal()}_createContentPortal(){this._contentPortal=new rh(this._lazyContent||this._content,this._vcr)}_createTitlePortal(){this._titlePortal=new rh(this._titleContent,this._vcr)}}return n.\u0275fac=function(t){return new(t||n)(yt(ir),yt(Ir),yt(Sa))},n.\u0275cmp=L2({type:n,selectors:[["mdb-tab"]],contentQueries:function(t,r,i){if(1&t&&(Oo(i,RK,7,Gi),Oo(i,GH,7,Gi)),2&t){let a;ja(a=Ga())&&(r._lazyContent=a.first),ja(a=Ga())&&(r._titleContent=a.first)}},viewQuery:function(t,r){if(1&t&&R8(Gi,7),2&t){let i;ja(i=Ga())&&(r._content=i.first)}},inputs:{disabled:"disabled",fade:"fade",title:"title"},ngContentSelectors:kK,decls:1,vars:0,template:function(t,r){1&t&&(w0(),mn(0,TK,1,0,"ng-template"))},encapsulation:2}),n})();function UK(){return TS("fadeIn",[tv("0 => 1",[LW(HW([ev("500ms 0ms",(n=[Gc({opacity:0,offset:0}),Gc({opacity:1,offset:1})],{type:5,steps:n}))],{delay:0}))])]);var n}let jK=(()=>{class n extends LH{constructor(t,r,i){super(t,r,i),this._destroy$=new j}ngOnInit(){super.ngOnInit(),!this.tab.shouldAttach&&!this.tab.active||this.hasAttached()?this.tab.activeStateChange$.pipe(K1(this._destroy$)).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this.tab.content)}):this.attach(this.tab.content)}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(yt(Ao),yt(Sa),yt($1))},n.\u0275dir=f2({type:n,selectors:[["","mdbTabPortalOutlet",""]],inputs:{tab:"tab"},features:[p1]}),n})();class GK{}let $H=(()=>{class n{constructor(){this._destroy$=new j,this._fill=!1,this._justified=!1,this._pills=!1,this._vertical=!1,this.navColumnClass="col-3",this.contentColumnClass="col-9",this.animationState=!1,this.activeTabChange=new a1}get fill(){return this._fill}set fill(t){this._fill=so(t)}get justified(){return this._justified}set justified(t){this._justified=so(t)}get pills(){return this._pills}set pills(t){this._pills=so(t)}get vertical(){return this._vertical}set vertical(t){this._vertical=so(t)}get navColClass(){return this.vertical?this.navColumnClass:""}get contentColClass(){return this.vertical?this.contentColumnClass:""}onAnimationDone(){this.animationState=!1}ngAfterContentInit(){const t=this.tabs.toArray().findIndex(r=>!r.disabled);this.setActiveTab(t),this.tabs.changes.pipe(K1(this._destroy$)).subscribe(()=>{if(!this.tabs.find(i=>i.active)){const i=this._getClosestTabIndex(this._selectedIndex);-1!==i&&this.setActiveTab(i)}})}_runAnimation(){this.animationState=!1,setTimeout(()=>{this.animationState=!0},0)}setActiveTab(t){const r=this.tabs.toArray()[t];if(!r||r&&r.disabled)return;this.tabs.forEach(a=>a.active=a===r),r.fade&&this._selectedIndex!==t&&this._runAnimation(),this._selectedIndex=t;const i=this._getTabChangeEvent(t,r);this.activeTabChange.emit(i)}_getTabChangeEvent(t,r){const i=new GK;return i.index=t,i.tab=r,i}_getClosestTabIndex(t){const r=this.tabs.toArray(),i=r.length;if(!i)return-1;for(let a=1;a<=i;a+=1){const o=t-a,_=t+a;if(r[o]&&!r[o].disabled)return o;if(r[_]&&!r[_].disabled)return _}return-1}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=L2({type:n,selectors:[["mdb-tabs"]],contentQueries:function(t,r,i){if(1&t&&Oo(i,hy,4),2&t){let a;ja(a=Ga())&&(r.tabs=a)}},hostVars:2,hostBindings:function(t,r){2&t&&u2("row",r.vertical)},inputs:{fill:"fill",justified:"justified",pills:"pills",vertical:"vertical",navColumnClass:"navColumnClass",contentColumnClass:"contentColumnClass"},outputs:{activeTabChange:"activeTabChange"},decls:4,vars:16,consts:[["role","tablist",3,"ngClass"],["class","nav-item","role","presentation",3,"click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["role","presentation",1,"nav-item",3,"click"],["href","javascript:void(0)","role","tab",1,"nav-link"],[3,"ngIf"],[3,"cdkPortalOutlet"],[1,"tab-pane",3,"ngClass"],["mdbTabPortalOutlet","",3,"tab"]],template:function(t,r){1&t&&(Ae(0,"ul",0),mn(1,EK,4,6,"li",1),Ne(),Ae(2,"div"),mn(3,OK,3,6,"ng-container",2),Ne()),2&t&&(_m("nav mb-3 flex-column ",r.navColClass,""),dt("ngClass",function px(n,e,t,r,i,a,o,_,V){const q=ye()+n,de=Tn(),ze=Ms(de,q,t,r,i,a);return Nc(de,q+4,o,_)||ze?No(de,q+6,V?e.call(V,t,r,i,a,o,_):e(t,r,i,a,o,_)):function D8(n,e){return n[e]}(de,q+6)}(9,FK,r.pills,!r.pills,r.fill,r.justified,r.vertical,r.vertical)),Ve(1),dt("ngForOf",r.tabs),Ve(1),_m("tab-content ",r.contentColClass,""),Ve(1),dt("ngForOf",r.tabs))},dependencies:[Rc,k3,$r,LH,jK],encapsulation:2,data:{animation:[UK()]}}),n})(),$K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({imports:[V0,DH]}),n})();function WK(n,e){}function qK(n,e){1&n&&mn(0,WK,0,0,"ng-template",5),2&n&&dt("ngTemplateOutlet",Ut()._headerTemplate)}function YK(n,e){}function ZK(n,e){1&n&&mn(0,YK,0,0,"ng-template",5),2&n&&dt("ngTemplateOutlet",Ut()._bodyTemplate)}const XK=["*"],WH=new l2("MdbAccordionItemBodyDirective");let qH=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(yt(Gi))},n.\u0275dir=f2({type:n,selectors:[["","mdbAccordionItemBody",""]],features:[er([{provide:WH,useExisting:n}])]}),n})();const YH=new l2("MdbAccordionItemHeaderDirective");let ZH=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(yt(Gi))},n.\u0275dir=f2({type:n,selectors:[["","mdbAccordionItemHeader",""]],features:[er([{provide:YH,useExisting:n}])]}),n})(),KK=0,QK=0,py=(()=>{class n{constructor(t){this._cdRef=t,this.id="mdb-accordion-item-"+QK++,this._headerId="mdb-accordion-item-header-"+KK++,this._isInitialized=!1,this._shouldOpenOnInit=!1,this.itemShow=new a1,this.itemShown=new a1,this.itemHide=new a1,this.itemHidden=new a1,this.accordionItem=!0,this.accordionItemDisplayBlock=!0,this.show$=new j,this._collapsed=!0,this._addCollapsedClass=!0}set collapsed(t){this._isInitialized?t?this.hide():this.show():t||(this._shouldOpenOnInit=!0)}ngOnInit(){this._isInitialized=!0,this._shouldOpenOnInit&&this.show()}toggle(){this.collapse.toggle()}show(){this.collapse.show(),this._cdRef.markForCheck()}hide(){this.collapse.hide(),this._cdRef.markForCheck()}onShow(){this._addCollapsedClass=!1,this.itemShow.emit(this),this.show$.next(this)}onHide(){this._addCollapsedClass=!0,this.itemHide.emit(this)}onShown(){this._collapsed=!1,this.itemShown.emit(this)}onHidden(){this._collapsed=!0,this.itemHidden.emit(this)}}return n.\u0275fac=function(t){return new(t||n)(yt(L3))},n.\u0275cmp=L2({type:n,selectors:[["mdb-accordion-item"]],contentQueries:function(t,r,i){if(1&t&&(Oo(i,YH,7,Gi),Oo(i,WH,7,Gi)),2&t){let a;ja(a=Ga())&&(r._headerTemplate=a.first),ja(a=Ga())&&(r._bodyTemplate=a.first)}},viewQuery:function(t,r){if(1&t&&R8(ny,7),2&t){let i;ja(i=Ga())&&(r.collapse=i.first)}},hostVars:4,hostBindings:function(t,r){2&t&&u2("accordion-item",r.accordionItem)("d-block",r.accordionItemDisplayBlock)},inputs:{header:"header",collapsed:"collapsed",id:"id"},outputs:{itemShow:"itemShow",itemShown:"itemShown",itemHide:"itemHide",itemHidden:"itemHidden"},decls:7,vars:10,consts:[[1,"accordion-header",3,"id"],["type","button",1,"accordion-button",3,"click"],[4,"ngIf"],["mdbCollapse","",3,"collapseShow","collapseHide","collapseShown","collapseHidden"],[1,"accordion-body"],[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&(Ae(0,"h2",0)(1,"button",1),vn("click",function(){return r.toggle()}),_t(2),mn(3,qK,1,1,null,2),Ne()(),Ae(4,"div",3),vn("collapseShow",function(){return r.onShow()})("collapseHide",function(){return r.onHide()})("collapseShown",function(){return r.onShown()})("collapseHidden",function(){return r.onHidden()}),Ae(5,"div",4),mn(6,ZK,1,1,null,2),Ne()()),2&t&&(dt("id",r._headerId),Ve(1),u2("collapsed",r._addCollapsedClass),Ma("aria-expanded",!r._collapsed)("aria-controls",r.id),Ve(1),jn(" ",r.header," "),Ve(1),dt("ngIf",r._headerTemplate),Ve(1),Ma("id",r.id)("aria-labelledby",r._headerId),Ve(2),dt("ngIf",r._bodyTemplate))},dependencies:[$r,UM,ny],encapsulation:2,changeDetection:0}),n})(),XH=(()=>{class n{constructor(){this._borderless=!1,this._flush=!1,this._multiple=!1,this.accordion=!0}get borderless(){return this._borderless}set borderless(t){this._borderless=so(t)}get flush(){return this._flush}set flush(t){this._flush=so(t)}get multiple(){return this._multiple}set multiple(t){this._multiple=so(t)}get addBorderlessClass(){return this.borderless}get addFlushClass(){return this.flush}ngAfterContentInit(){this.items.changes.pipe(Jd(this.items),Na(t=>Wn(...t.map(r=>r.show$)))).subscribe(t=>this._handleMultipleItems(t))}_handleMultipleItems(t){this.multiple||this.items.filter(i=>i!==t&&!i._collapsed).forEach(i=>i.hide())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=L2({type:n,selectors:[["mdb-accordion"]],contentQueries:function(t,r,i){if(1&t&&Oo(i,py,4),2&t){let a;ja(a=Ga())&&(r.items=a)}},hostVars:6,hostBindings:function(t,r){2&t&&u2("accordion",r.accordion)("accordion-borderless",r.addBorderlessClass)("accordion-flush",r.addFlushClass)},inputs:{borderless:"borderless",flush:"flush",multiple:"multiple"},ngContentSelectors:XK,decls:1,vars:0,template:function(t,r){1&t&&(w0(),x4(0))},encapsulation:2,changeDetection:0}),n})(),JK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({imports:[V0,vH]}),n})();class ks extends j{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const ih=s(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ah(n){return ee((e,t)=>{let r=!1;e.subscribe(F(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function KH(n=eQ){return ee((e,t)=>{let r=!1;e.subscribe(F(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function eQ(){return new ih}function I4(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hi((i,a)=>n(i,a,r)):Z,Li(1),t?ah(e):KH(()=>new ih))}function tl(n,e){return J(e)?et(n,e,1):et(n,1)}function O4(n){return ee((e,t)=>{let a,r=null,i=!1;r=e.subscribe(F(t,void 0,void 0,o=>{a=tn(n(o,O4(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function tQ(n,e,t,r,i){return(a,o)=>{let _=t,V=e,q=0;a.subscribe(F(o,de=>{const ze=q++;V=_?n(V,de,ze):(_=!0,de),r&&o.next(V)},i&&(()=>{_&&o.next(V),o.complete()})))}}function QH(n,e){return ee(tQ(n,e,arguments.length>=2,!0))}function gy(n){return n<=0?()=>St:ee((e,t)=>{let r=[];e.subscribe(F(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function JH(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hi((i,a)=>n(i,a,r)):Z,gy(1),t?ah(e):KH(()=>new ih))}function vy(n){return ee((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const S1="primary",Lu=Symbol("RouteTitle");class rQ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function $0(n){return new rQ(n)}function iQ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const o=r[a],_=n[a];if(o.startsWith(":"))i[o.substring(1)]=_;else if(o!==_.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function jo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!eL(n[i],e[i]))return!1;return!0}function eL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function tL(n){return Array.prototype.concat.apply([],n)}function nL(n){return n.length>0?n[n.length-1]:null}function Yi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function F4(n){return dm(n)?n:T8(n)?Ln(Promise.resolve(n)):A2(n)}const sh=!1,sQ={exact:function aL(n,e,t){if(!rl(n.segments,e.segments)||!oh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!aL(n.children[r],e.children[r],t))return!1;return!0},subset:sL},rL={exact:function oQ(n,e){return jo(n,e)},subset:function cQ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>eL(n[t],e[t]))},ignored:()=>!0};function iL(n,e,t){return sQ[t.paths](n.root,e.root,t.matrixParams)&&rL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function sL(n,e,t){return oL(n,e,e.segments,t)}function oL(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!rl(i,t)||e.hasChildren()||!oh(i,t,r))}if(n.segments.length===t.length){if(!rl(n.segments,t)||!oh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!sL(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(rl(n.segments,i)&&oh(n.segments,i,r)&&n.children[S1])&&oL(n.children[S1],e,a,r)}}function oh(n,e,t){return e.every((r,i)=>rL[t](n[i].parameters,r.parameters))}class nl{constructor(e=new T1([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$0(this.queryParams)),this._queryParamMap}toString(){return fQ.serialize(this)}}class T1{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Yi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ch(this)}}class Du{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=$0(this.parameters)),this._parameterMap}toString(){return uL(this)}}function rl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Tu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:function(){return new yy},providedIn:"root"}),n})();class yy{parse(e){const t=new CQ(e);return new nl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ku(e.root,!0)}`,r=function pQ(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${lh(t)}=${lh(i)}`).join("&"):`${lh(t)}=${lh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function dQ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const fQ=new yy;function ch(n){return n.segments.map(e=>uL(e)).join("/")}function ku(n,e){if(!n.hasChildren())return ch(n);if(e){const t=n.children[S1]?ku(n.children[S1],!1):"",r=[];return Yi(n.children,(i,a)=>{a!==S1&&r.push(`${a}:${ku(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function uQ(n,e){let t=[];return Yi(n.children,(r,i)=>{i===S1&&(t=t.concat(e(r,i)))}),Yi(n.children,(r,i)=>{i!==S1&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===S1?[ku(n.children[S1],!1)]:[`${i}:${ku(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[S1]?`${ch(n)}/${t[0]}`:`${ch(n)}/(${t.join("//")})`}}function cL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lh(n){return cL(n).replace(/%3B/gi,";")}function _y(n){return cL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uh(n){return decodeURIComponent(n)}function lL(n){return uh(n.replace(/\+/g,"%20"))}function uL(n){return`${_y(n.path)}${function hQ(n){return Object.keys(n).map(e=>`;${_y(e)}=${_y(n[e])}`).join("")}(n.parameters)}`}const mQ=/^[^\/()?;=#]+/;function fh(n){const e=n.match(mQ);return e?e[0]:""}const gQ=/^[^=?&#]+/,yQ=/^[^&#]+/;class CQ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new T1([],{}):new T1([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[S1]=new T1(e,t)),r}parseSegment(){const e=fh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Yt(4009,sh);return this.capture(e),new Du(uh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=fh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=fh(this.remaining);i&&(r=i,this.capture(r))}e[uh(t)]=uh(r)}parseQueryParam(e){const t=function vQ(n){const e=n.match(gQ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function _Q(n){const e=n.match(yQ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=lL(t),a=lL(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Yt(4010,sh);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=S1);const o=this.parseChildren();t[a]=1===Object.keys(o).length?o[S1]:new T1([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Yt(4011,sh)}}function Cy(n){return n.segments.length>0?new T1([],{[S1]:n}):n}function dh(n){const e={};for(const r of Object.keys(n.children)){const a=dh(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function bQ(n){if(1===n.numberOfChildren&&n.children[S1]){const e=n.children[S1];return new T1(n.segments.concat(e.segments),e.children)}return n}(new T1(n.segments,e))}function il(n){return n instanceof nl}function wQ(n,e,t,r,i){if(0===t.length)return W0(e.root,e.root,e.root,r,i);const a=function hL(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new dL(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,o)=>{if("object"==typeof a&&null!=a){if(a.outlets){const _={};return Yi(a.outlets,(V,q)=>{_[q]="string"==typeof V?V.split("/"):V}),[...i,{outlets:_}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===o?(a.split("/").forEach((_,V)=>{0==V&&"."===_||(0==V&&""===_?t=!0:".."===_?e++:""!=_&&i.push(_))}),i):[...i,a]},[]);return new dL(t,e,r)}(t);return a.toRoot()?W0(e.root,e.root,new T1([],{}),r,i):function o(V){const q=function zQ(n,e,t,r){if(n.isAbsolute)return new q0(e.root,!0,0);if(-1===r)return new q0(t,t===e.root,0);return function pL(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Yt(4005,!1);i=r.segments.length}return new q0(r,!1,i-a)}(t,r+(Vu(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,V),de=q.processChildren?Nu(q.segmentGroup,q.index,a.commands):xy(q.segmentGroup,q.index,a.commands);return W0(e.root,q.segmentGroup,de,r,i)}(n.snapshot?._lastPathIndex)}function Vu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Au(n){return"object"==typeof n&&null!=n&&n.outlets}function W0(n,e,t,r,i){let o,a={};r&&Yi(r,(V,q)=>{a[q]=Array.isArray(V)?V.map(de=>`${de}`):`${V}`}),o=n===e?t:fL(n,e,t);const _=Cy(dh(o));return new nl(_,a,i)}function fL(n,e,t){const r={};return Yi(n.children,(i,a)=>{r[a]=i===e?t:fL(i,e,t)}),new T1(n.segments,r)}class dL{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Vu(r[0]))throw new Yt(4003,!1);const i=r.find(Au);if(i&&i!==nL(r))throw new Yt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class q0{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function xy(n,e,t){if(n||(n=new T1([],{})),0===n.segments.length&&n.hasChildren())return Nu(n,e,t);const r=function LQ(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const o=n.segments[i],_=t[r];if(Au(_))break;const V=`${_}`,q=r<t.length-1?t[r+1]:null;if(i>0&&void 0===V)break;if(V&&q&&"object"==typeof q&&void 0===q.outlets){if(!gL(V,q,o))return a;r+=2}else{if(!gL(V,{},o))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new T1(n.segments.slice(0,r.pathIndex),{});return a.children[S1]=new T1(n.segments.slice(r.pathIndex),n.children),Nu(a,0,i)}return r.match&&0===i.length?new T1(n.segments,{}):r.match&&!n.hasChildren()?My(n,e,t):r.match?Nu(n,0,i):My(n,e,t)}function Nu(n,e,t){if(0===t.length)return new T1(n.segments,{});{const r=function HQ(n){return Au(n[0])?n[0].outlets:{[S1]:n}}(t),i={};return Yi(r,(a,o)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[o]=xy(n.children[o],e,a))}),Yi(n.children,(a,o)=>{void 0===r[o]&&(i[o]=a)}),new T1(n.segments,i)}}function My(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Au(a)){const V=DQ(a.outlets);return new T1(r,V)}if(0===i&&Vu(t[0])){r.push(new Du(n.segments[e].path,mL(t[0]))),i++;continue}const o=Au(a)?a.outlets[S1]:`${a}`,_=i<t.length-1?t[i+1]:null;o&&_&&Vu(_)?(r.push(new Du(o,mL(_))),i+=2):(r.push(new Du(o,{})),i++)}return new T1(r,{})}function DQ(n){const e={};return Yi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=My(new T1([],{}),0,t))}),e}function mL(n){const e={};return Yi(n,(t,r)=>e[r]=`${t}`),e}function gL(n,e,t){return n==t.path&&jo(e,t.parameters)}const Eu="imperative";class Go{constructor(e,t){this.id=e,this.url=t}}class wy extends Go{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class al extends Go{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hh extends Go{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vL extends Go{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class yL extends Go{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class TQ extends Go{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kQ extends Go{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VQ extends Go{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class AQ extends Go{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NQ extends Go{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EQ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class PQ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class IQ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OQ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FQ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RQ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _L{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let UQ=(()=>{class n{createUrlTree(t,r,i,a,o,_){return wQ(t||r.root,i,a,o,_)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})(),jQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:function(e){return UQ.\u0275fac(e)},providedIn:"root"}),n})();class CL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Sy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Sy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=zy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return zy(e,this._root).map(t=>t.value)}}function Sy(n,e){if(n===e.value)return e;for(const t of e.children){const r=Sy(n,t);if(r)return r}return null}function zy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=zy(n,t);if(r.length)return r.unshift(e),r}return[]}class B3{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Y0(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class bL extends CL{constructor(e,t){super(e),this.snapshot=t,Hy(this,e)}toString(){return this.snapshot.toString()}}function xL(n,e){const t=function GQ(n,e){const o=new ph([],{},{},"",{},S1,e,null,n.root,-1,{});return new wL("",new B3(o,[]))}(n,e),r=new ks([new Du("",{})]),i=new ks({}),a=new ks({}),o=new ks({}),_=new ks(""),V=new Z0(r,i,o,_,a,S1,e,t.root);return V.snapshot=t.root,new bL(new B3(V,[]),t)}class Z0{constructor(e,t,r,i,a,o,_,V){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=o,this.component=_,this.title=this.data?.pipe(Y(q=>q[Lu]))??A2(void 0),this._futureSnapshot=V}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Y(e=>$0(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Y(e=>$0(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ML(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function $Q(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ph{get title(){return this.data?.[Lu]}constructor(e,t,r,i,a,o,_,V,q,de,ze){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=o,this.component=_,this.routeConfig=V,this._urlSegment=q,this._lastPathIndex=de,this._resolve=ze}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wL extends CL{constructor(e,t){super(t),this.url=e,Hy(this,t)}toString(){return SL(this._root)}}function Hy(n,e){e.value._routerState=n,e.children.forEach(t=>Hy(n,t))}function SL(n){const e=n.children.length>0?` { ${n.children.map(SL).join(", ")} } `:"";return`${n.value}${e}`}function Ly(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,jo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),jo(e.params,t.params)||n.params.next(t.params),function aQ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!jo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),jo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Dy(n,e){const t=jo(n.params,e.params)&&function lQ(n,e){return rl(n,e)&&n.every((t,r)=>jo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Dy(n.parent,e.parent))}function Pu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function qQ(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Pu(n,r,i);return Pu(n,r)})}(n,e,t);return new B3(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const o=a.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(_=>Pu(n,_)),o}}const r=function YQ(n){return new Z0(new ks(n.url),new ks(n.params),new ks(n.queryParams),new ks(n.fragment),new ks(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Pu(n,a));return new B3(r,i)}}const Ty="ngNavigationCancelingError";function zL(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=il(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=HL(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function HL(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Ty]=!0,r.cancellationCode=e,t&&(r.url=t),r}function LL(n){return DL(n)&&il(n.url)}function DL(n){return n&&n[Ty]}class ZQ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Iu,this.attachRef=null}}let Iu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ZQ,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mh=!1;let ky=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=S1,this.activateEvents=new a1,this.deactivateEvents=new a1,this.attachEvents=new a1,this.detachEvents=new a1,this.parentContexts=$2(Iu),this.location=$2(Sa),this.changeDetector=$2(L3),this.environmentInjector=$2(B1)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Yt(4012,mh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Yt(4012,mh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Yt(4012,mh);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Yt(4013,mh);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,_=this.parentContexts.getOrCreateContext(this.name).children,V=new XQ(t,_,i.injector);if(r&&function KQ(n){return!!n.resolveComponentFactory}(r)){const q=r.resolveComponentFactory(o);this.activated=i.createComponent(q,i.length,V)}else this.activated=i.createComponent(o,{index:i.length,injector:V,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[M1]}),n})();class XQ{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Z0?this.route:e===Iu?this.childContexts:this.parent.get(e,t)}}let Vy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=L2({type:n,selectors:[["ng-component"]],standalone:!0,features:[Lm],decls:1,vars:0,template:function(t,r){1&t&&Pn(0,"router-outlet")},dependencies:[ky],encapsulation:2}),n})();function TL(n,e){return n.providers&&!n._injector&&(n._injector=T7(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ny(n){const e=n.children&&n.children.map(Ny),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==S1&&(t.component=Vy),t}function Vs(n){return n.outlet||S1}function kL(n,e){const t=n.filter(r=>Vs(r)===e);return t.push(...n.filter(r=>Vs(r)!==e)),t}function Ou(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class nJ{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ly(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Y0(t);e.children.forEach(a=>{const o=a.value.outlet;this.deactivateRoutes(a,i[o],r),delete i[o]}),Yi(i,(a,o)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Y0(e);for(const o of Object.keys(a))this.deactivateRouteAndItsChildren(a[o],i);if(r&&r.outlet){const o=r.outlet.detach(),_=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:_})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Y0(e);for(const o of Object.keys(a))this.deactivateRouteAndItsChildren(a[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Y0(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new RQ(a.value.snapshot))}),e.children.length&&this.forwardEvent(new OQ(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Ly(i),i===a)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const _=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(_.contexts),o.attachRef=_.componentRef,o.route=_.route.value,o.outlet&&o.outlet.attach(_.componentRef,_.route.value),Ly(_.route.value),this.activateChildRoutes(e,null,o.children)}else{const _=Ou(i.snapshot),V=_?.get(Ao)??null;o.attachRef=null,o.route=i,o.resolver=V,o.injector=_,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class VL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class gh{constructor(e,t){this.component=e,this.route=t}}function rJ(n,e,t){const r=n._root;return Fu(r,e?e._root:null,t,[r.value])}function X0(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function t1(n){return null!==Br(n)}(n)?e.get(n):n:r}function Fu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Y0(e);return n.children.forEach(o=>{(function aJ(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,o=e?e.value:null,_=t?t.getContext(n.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){const V=function sJ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!rl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!rl(n.url,e.url)||!jo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dy(n,e)||!jo(n.queryParams,e.queryParams);default:return!Dy(n,e)}}(o,a,a.routeConfig.runGuardsAndResolvers);V?i.canActivateChecks.push(new VL(r)):(a.data=o.data,a._resolvedData=o._resolvedData),Fu(n,e,a.component?_?_.children:null:t,r,i),V&&_&&_.outlet&&_.outlet.isActivated&&i.canDeactivateChecks.push(new gh(_.outlet.component,o))}else o&&Ru(e,_,i),i.canActivateChecks.push(new VL(r)),Fu(n,null,a.component?_?_.children:null:t,r,i)})(o,a[o.value.outlet],t,r.concat([o.value]),i),delete a[o.value.outlet]}),Yi(a,(o,_)=>Ru(o,t.getContext(_),i)),i}function Ru(n,e,t){const r=Y0(n),i=n.value;Yi(r,(a,o)=>{Ru(a,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new gh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Bu(n){return"function"==typeof n}function Ey(n){return n instanceof ih||"EmptyError"===n?.name}const vh=Symbol("INITIAL_VALUE");function K0(){return Na(n=>dy(n.map(e=>e.pipe(Li(1),Jd(vh)))).pipe(Y(e=>{for(const t of e)if(!0!==t){if(t===vh)return vh;if(!1===t||t instanceof nl)return t}return!0}),Hi(e=>e!==vh),Li(1)))}function AL(n){return function ne(...n){return te(n)}(Wi(e=>{if(il(e))throw zL(0,e)}),Y(e=>!0===e))}const Py={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NL(n,e,t,r,i){const a=Iy(n,e,t);return a.matched?function MJ(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?A2(i.map(o=>{const _=X0(o,n);return F4(function dJ(n){return n&&Bu(n.canMatch)}(_)?_.canMatch(e,t):n.runInContext(()=>_(e,t)))})).pipe(K0(),AL()):A2(!0)}(r=TL(e,r),e,t).pipe(Y(o=>!0===o?a:{...Py})):A2(a)}function Iy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Py}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||iQ)(t,n,e);if(!i)return{...Py};const a={};Yi(i.posParams,(_,V)=>{a[V]=_.path});const o=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function yh(n,e,t,r){if(t.length>0&&function zJ(n,e,t){return t.some(r=>_h(n,e,r)&&Vs(r)!==S1)}(n,t,r)){const a=new T1(e,function SJ(n,e,t,r){const i={};i[S1]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Vs(a)!==S1){const o=new T1([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Vs(a)]=o}return i}(n,e,r,new T1(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function HJ(n,e,t){return t.some(r=>_h(n,e,r))}(n,t,r)){const a=new T1(n.segments,function wJ(n,e,t,r,i){const a={};for(const o of r)if(_h(n,t,o)&&!i[Vs(o)]){const _=new T1([],{});_._sourceSegment=n,_._segmentIndexShift=e.length,a[Vs(o)]=_}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new T1(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function _h(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function EL(n,e,t,r){return!!(Vs(n)===r||r!==S1&&_h(e,t,n))&&("**"===n.path||Iy(e,n,t).matched)}function PL(n,e,t){return 0===e.length&&!n.children[t]}const Ch=!1;class bh{constructor(e){this.segmentGroup=e||null}}class IL{constructor(e){this.urlTree=e}}function Uu(n){return E0(new bh(n))}function OL(n){return E0(new IL(n))}class kJ{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=yh(this.urlTree.root,[],[],this.config).segmentGroup,t=new T1(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,S1).pipe(Y(a=>this.createUrlTree(dh(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(O4(a=>{if(a instanceof IL)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof bh?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,S1).pipe(Y(i=>this.createUrlTree(dh(i),e.queryParams,e.fragment))).pipe(O4(i=>{throw i instanceof bh?this.noMatchError(i):i}))}noMatchError(e){return new Yt(4002,Ch)}createUrlTree(e,t,r){const i=Cy(e);return new nl(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Y(a=>new T1([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return Ln(i).pipe(tl(a=>{const o=r.children[a],_=kL(t,a);return this.expandSegmentGroup(e,_,o,a).pipe(Y(V=>({segment:V,outlet:a})))}),QH((a,o)=>(a[o.outlet]=o.segment,a),{}),JH())}expandSegment(e,t,r,i,a,o){return Ln(r).pipe(tl(_=>this.expandSegmentAgainstRoute(e,t,r,_,i,a,o).pipe(O4(q=>{if(q instanceof bh)return A2(null);throw q}))),I4(_=>!!_),O4((_,V)=>{if(Ey(_))return PL(t,i,a)?A2(new T1([],{})):Uu(t);throw _}))}expandSegmentAgainstRoute(e,t,r,i,a,o,_){return EL(i,t,a,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,o):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,o):Uu(t):Uu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?OL(a):this.lineralizeSegments(r,a).pipe(et(o=>{const _=new T1(o,{});return this.expandSegment(e,_,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,o){const{matched:_,consumedSegments:V,remainingSegments:q,positionalParamSegments:de}=Iy(t,i,a);if(!_)return Uu(t);const ze=this.applyRedirectCommands(V,i.redirectTo,de);return i.redirectTo.startsWith("/")?OL(ze):this.lineralizeSegments(i,ze).pipe(et(je=>this.expandSegment(e,t,r,je.concat(q),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=TL(r,e),r.loadChildren?(r._loadedRoutes?A2({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Y(_=>(r._loadedRoutes=_.routes,r._loadedInjector=_.injector,new T1(i,{})))):A2(new T1(i,{}))):NL(t,r,i,e).pipe(Na(({matched:o,consumedSegments:_,remainingSegments:V})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(et(de=>{const ze=de.injector??e,je=de.routes,{segmentGroup:ct,slicedSegments:Ht}=yh(t,_,V,je),$t=new T1(ct.segments,ct.children);if(0===Ht.length&&$t.hasChildren())return this.expandChildren(ze,je,$t).pipe(Y(pn=>new T1(_,pn)));if(0===je.length&&0===Ht.length)return A2(new T1(_,{}));const un=Vs(r)===a;return this.expandSegment(ze,$t,je,Ht,un?S1:a,!0).pipe(Y(In=>new T1(_.concat(In.segments),In.children)))})):Uu(t)))}getChildConfig(e,t,r){return t.children?A2({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?A2({routes:t._loadedRoutes,injector:t._loadedInjector}):function xJ(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?A2(!0):A2(i.map(o=>{const _=X0(o,n);return F4(function cJ(n){return n&&Bu(n.canLoad)}(_)?_.canLoad(e,t):n.runInContext(()=>_(e,t)))})).pipe(K0(),AL())}(e,t,r).pipe(et(i=>i?this.configLoader.loadChildren(e,t).pipe(Wi(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function DJ(n){return E0(HL(Ch,3))}())):A2({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return A2(r);if(i.numberOfChildren>1||!i.children[S1])return E0(new Yt(4e3,Ch));i=i.children[S1]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new nl(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Yi(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const _=i.substring(1);r[a]=t[_]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let o={};return Yi(t.children,(_,V)=>{o[V]=this.createSegmentGroup(e,_,r,i)}),new T1(a,o)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Yt(4001,Ch);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class AJ{}class PJ{constructor(e,t,r,i,a,o,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=o,this.urlSerializer=_}recognize(){const e=yh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,S1).pipe(Y(t=>{if(null===t)return null;const r=new ph([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},S1,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new B3(r,t),a=new wL(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=ML(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return Ln(Object.keys(r.children)).pipe(tl(i=>{const a=r.children[i],o=kL(t,i);return this.processSegmentGroup(e,o,a,i)}),QH((i,a)=>i&&a?(i.push(...a),i):null),function nQ(n,e=!1){return ee((t,r)=>{let i=0;t.subscribe(F(r,a=>{const o=n(a,i++);(o||e)&&r.next(a),!o&&r.complete()}))})}(i=>null!==i),ah(null),JH(),Y(i=>{if(null===i)return null;const a=RL(i);return function IJ(n){n.sort((e,t)=>e.value.outlet===S1?-1:t.value.outlet===S1?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return Ln(t).pipe(tl(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,a)),I4(o=>!!o),O4(o=>{if(Ey(o))return PL(r,i,a)?A2([]):A2(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!EL(t,r,i,a))return A2(null);let o;if("**"===t.path){const _=i.length>0?nL(i).parameters:{},V=UL(r)+i.length;o=A2({snapshot:new ph(i,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jL(t),Vs(t),t.component??t._loadedComponent??null,t,BL(r),V,GL(t)),consumedSegments:[],remainingSegments:[]})}else o=NL(r,t,i,e).pipe(Y(({matched:_,consumedSegments:V,remainingSegments:q,parameters:de})=>{if(!_)return null;const ze=UL(r)+V.length;return{snapshot:new ph(V,de,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jL(t),Vs(t),t.component??t._loadedComponent??null,t,BL(r),ze,GL(t)),consumedSegments:V,remainingSegments:q}}));return o.pipe(Na(_=>{if(null===_)return A2(null);const{snapshot:V,consumedSegments:q,remainingSegments:de}=_;e=t._injector??e;const ze=t._loadedInjector??e,je=function OJ(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:ct,slicedSegments:Ht}=yh(r,q,de,je.filter(un=>void 0===un.redirectTo));if(0===Ht.length&&ct.hasChildren())return this.processChildren(ze,je,ct).pipe(Y(un=>null===un?null:[new B3(V,un)]));if(0===je.length&&0===Ht.length)return A2([new B3(V,[])]);const $t=Vs(t)===a;return this.processSegment(ze,je,ct,Ht,$t?S1:a).pipe(Y(un=>null===un?null:[new B3(V,un)]))}))}}function FJ(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function RL(n){const e=[],t=new Set;for(const r of n){if(!FJ(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=RL(r.children);e.push(new B3(r.value,i))}return e.filter(r=>!t.has(r))}function BL(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function UL(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function jL(n){return n.data||{}}function GL(n){return n.resolve||{}}function $L(n){return"string"==typeof n.title||null===n.title}function Oy(n){return Na(e=>{const t=n(e);return t?Ln(t).pipe(Y(()=>e)):A2(e)})}const Q0=new l2("ROUTES");let Fy=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return A2(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=F4(t.loadComponent()).pipe(Y(qL),Wi(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),vy(()=>{this.componentLoaders.delete(t)})),i=new Xg(r,()=>new j).pipe(Zg());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return A2({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Y(_=>{this.onLoadEndListener&&this.onLoadEndListener(r);let V,q,de=!1;Array.isArray(_)?q=_:(V=_.create(t).injector,q=tL(V.get(Q0,[],H2.Self|H2.Optional)));return{routes:q.map(Ny),injector:V}}),vy(()=>{this.childrenLoaders.delete(r)})),o=new Xg(a,()=>new j).pipe(Zg());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return F4(t()).pipe(Y(qL),et(i=>i instanceof sx||Array.isArray(i)?A2(i):Ln(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(ln(Ui),ln(Xx))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qL(n){return function YJ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Mh=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new j,this.configLoader=$2(Fy),this.environmentInjector=$2(B1),this.urlSerializer=$2(Tu),this.rootContexts=$2(Iu),this.navigationId=0,this.afterPreactivation=()=>A2(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new PQ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new EQ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new ks({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Eu,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Hi(r=>0!==r.id),Y(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Na(r=>{let i=!1,a=!1;return A2(r).pipe(Wi(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Na(o=>{const _=t.browserUrlTree.toString(),V=!t.navigated||o.extractedUrl.toString()!==_||_!==t.currentUrlTree.toString();if(!V&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const de="";return this.events.next(new vL(o.id,t.serializeUrl(r.rawUrl),de,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),St}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return YL(o.source)&&(t.browserUrlTree=o.extractedUrl),A2(o).pipe(Na(de=>{const ze=this.transitions?.getValue();return this.events.next(new wy(de.id,this.urlSerializer.serialize(de.extractedUrl),de.source,de.restoredState)),ze!==this.transitions?.getValue()?St:Promise.resolve(de)}),function VJ(n,e,t,r){return Na(i=>function TJ(n,e,t,r,i){return new kJ(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Y(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Wi(de=>{this.currentNavigation={...this.currentNavigation,finalUrl:de.urlAfterRedirects},r.urlAfterRedirects=de.urlAfterRedirects}),function BJ(n,e,t,r,i){return et(a=>function EJ(n,e,t,r,i,a,o="emptyOnly"){return new PJ(n,e,t,r,i,o,a).recognize().pipe(Na(_=>null===_?function NJ(n){return new oe(e=>e.error(n))}(new AJ):A2(_)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe(Y(o=>({...a,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Wi(de=>{if(r.targetSnapshot=de.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!de.extras.skipLocationChange){const je=t.urlHandlingStrategy.merge(de.urlAfterRedirects,de.rawUrl);t.setBrowserUrl(je,de)}t.browserUrlTree=de.urlAfterRedirects}const ze=new TQ(de.id,this.urlSerializer.serialize(de.extractedUrl),this.urlSerializer.serialize(de.urlAfterRedirects),de.targetSnapshot);this.events.next(ze)}));if(V&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:de,extractedUrl:ze,source:je,restoredState:ct,extras:Ht}=o,$t=new wy(de,this.urlSerializer.serialize(ze),je,ct);this.events.next($t);const un=xL(ze,this.rootComponentType).snapshot;return A2(r={...o,targetSnapshot:un,urlAfterRedirects:ze,extras:{...Ht,skipLocationChange:!1,replaceUrl:!1}})}{const de="";return this.events.next(new vL(o.id,t.serializeUrl(r.extractedUrl),de,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),St}}),Wi(o=>{const _=new kQ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(_)}),Y(o=>r={...o,guards:rJ(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function pJ(n,e){return et(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:o}}=t;return 0===o.length&&0===a.length?A2({...t,guardsResult:!0}):function mJ(n,e,t,r){return Ln(n).pipe(et(i=>function bJ(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?A2(a.map(_=>{const V=Ou(e)??i,q=X0(_,V);return F4(function fJ(n){return n&&Bu(n.canDeactivate)}(q)?q.canDeactivate(n,e,t,r):V.runInContext(()=>q(n,e,t,r))).pipe(I4())})).pipe(K0()):A2(!0)}(i.component,i.route,t,e,r)),I4(i=>!0!==i,!0))}(o,r,i,n).pipe(et(_=>_&&function oJ(n){return"boolean"==typeof n}(_)?function gJ(n,e,t,r){return Ln(e).pipe(tl(i=>P0(function yJ(n,e){return null!==n&&e&&e(new IQ(n)),A2(!0)}(i.route.parent,r),function vJ(n,e){return null!==n&&e&&e(new FQ(n)),A2(!0)}(i.route,r),function CJ(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(o=>function iJ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>fd(()=>A2(o.guards.map(V=>{const q=Ou(o.node)??t,de=X0(V,q);return F4(function uJ(n){return n&&Bu(n.canActivateChild)}(de)?de.canActivateChild(r,n):q.runInContext(()=>de(r,n))).pipe(I4())})).pipe(K0())));return A2(a).pipe(K0())}(n,i.path,t),function _J(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return A2(!0);const i=r.map(a=>fd(()=>{const o=Ou(e)??t,_=X0(a,o);return F4(function lJ(n){return n&&Bu(n.canActivate)}(_)?_.canActivate(e,n):o.runInContext(()=>_(e,n))).pipe(I4())}));return A2(i).pipe(K0())}(n,i.route,t))),I4(i=>!0!==i,!0))}(r,a,n,e):A2(_)),Y(_=>({...t,guardsResult:_})))})}(this.environmentInjector,o=>this.events.next(o)),Wi(o=>{if(r.guardsResult=o.guardsResult,il(o.guardsResult))throw zL(0,o.guardsResult);const _=new VQ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(_)}),Hi(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Oy(o=>{if(o.guards.canActivateChecks.length)return A2(o).pipe(Wi(_=>{const V=new AQ(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(V)}),Na(_=>{let V=!1;return A2(_).pipe(function UJ(n,e){return et(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return A2(t);let a=0;return Ln(i).pipe(tl(o=>function jJ(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!$L(i)&&(a[Lu]=i.title),function GJ(n,e,t,r){const i=function $J(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return A2({});const a={};return Ln(i).pipe(et(o=>function WJ(n,e,t,r){const i=Ou(e)??r,a=X0(n,i);return F4(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[o],e,t,r).pipe(I4(),Wi(_=>{a[o]=_}))),gy(1),MS(a),O4(o=>Ey(o)?St:E0(o)))}(a,n,e,r).pipe(Y(o=>(n._resolvedData=o,n.data=ML(n,t).resolve,i&&$L(i)&&(n.data[Lu]=i.title),null)))}(o.route,r,n,e)),Wi(()=>a++),gy(1),et(o=>a===i.length?A2(t):St))})}(t.paramsInheritanceStrategy,this.environmentInjector),Wi({next:()=>V=!0,complete:()=>{V||(t.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),Wi(_=>{const V=new NQ(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(V)}))}),Oy(o=>{const _=V=>{const q=[];V.routeConfig?.loadComponent&&!V.routeConfig._loadedComponent&&q.push(this.configLoader.loadComponent(V.routeConfig).pipe(Wi(de=>{V.component=de}),Y(()=>{})));for(const de of V.children)q.push(..._(de));return q};return dy(_(o.targetSnapshot.root)).pipe(ah(),Li(1))}),Oy(()=>this.afterPreactivation()),Y(o=>{const _=function WQ(n,e,t){const r=Pu(n,e._root,t?t._root:void 0);return new bL(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:_}}),Wi(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>Y(r=>(new nJ(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),Wi({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new al(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),vy(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),O4(o=>{if(a=!0,DL(o)){LL(o)||(t.navigated=!0,t.restoreHistory(r,!0));const _=new hh(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(_),LL(o)){const V=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),q={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||YL(r.source)};t.scheduleNavigation(V,Eu,null,q,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const _=new yL(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(_);try{r.resolve(t.errorHandler(o))}catch(V){r.reject(V)}}return St}))}))}cancelNavigationTransition(t,r,i){const a=new hh(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YL(n){return n!==Eu}let ZL=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===S1);return r}getResolvedTitleForRoute(t){return t.data[Lu]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:function(){return $2(ZJ)},providedIn:"root"}),n})(),ZJ=(()=>{class n extends ZL{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(ln(hw))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:function(){return $2(QJ)},providedIn:"root"}),n})();class KJ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let QJ=(()=>{class n extends KJ{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xr(n)))(r||n)}}(),n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wh=new l2("",{providedIn:"root",factory:()=>({})});let eee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:function(){return $2(tee)},providedIn:"root"}),n})(),tee=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nee(n){throw n}function ree(n,e,t){return e.parse("/")}const iee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=$2(OB),this.isNgZoneEnabled=!1,this.options=$2(wh,{optional:!0})||{},this.errorHandler=this.options.errorHandler||nee,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ree,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=$2(eee),this.routeReuseStrategy=$2(XJ),this.urlCreationStrategy=$2(jQ),this.titleStrategy=$2(ZL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=tL($2(Q0,{optional:!0})??[]),this.navigationTransitions=$2(Mh),this.urlSerializer=$2(Tu),this.location=$2(W8),this.isNgZoneEnabled=$2(I1)instanceof I1&&I1.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new nl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xL(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Eu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const V={...i};delete V.navigationId,delete V.\u0275routerPageId,0!==Object.keys(V).length&&(a.state=V)}const _=this.parseUrl(t);this.scheduleNavigation(_,r,o,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Ny),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:o,queryParamsHandling:_,preserveFragment:V}=r,q=V?this.currentUrlTree.fragment:o;let de=null;switch(_){case"merge":de={...this.currentUrlTree.queryParams,...a};break;case"preserve":de=this.currentUrlTree.queryParams;break;default:de=a||null}return null!==de&&(de=this.removeEmptyProps(de)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,de,q??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=il(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,Eu,null,r)}navigate(t,r={skipLocationChange:!1}){return function see(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new Yt(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...iee}:!1===r?{...aee}:r,il(t))return iL(this.currentUrlTree,t,i);const a=this.parseUrl(t);return iL(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,o){if(this.disposed)return Promise.resolve(!1);let _,V,q,de;return o?(_=o.resolve,V=o.reject,q=o.promise):q=new Promise((ze,je)=>{_=ze,V=je}),de="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:de,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:_,reject:V,promise:q,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),q.catch(ze=>Promise.reject(ze))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sh=(()=>{class n{constructor(t,r,i,a,o,_){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=o,this.locationStrategy=_,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new j;const V=o.nativeElement.tagName;this.isAnchorElement="A"===V||"AREA"===V,this.isAnchorElement?this.subscription=t.events.subscribe(q=>{q instanceof al&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=k0(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=k0(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=k0(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function jf(n,e,t){return function rp(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?Uf:Lc}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(yt(Zi),yt(Z0),function Ol(n){return function T5(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const a=t[i];if(wo(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(a===e)return t[i+1];i+=2}}}return null}(Hr(),n)}("tabindex"),yt(Ir),yt(ir),yt(Fc))},n.\u0275dir=f2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&vn("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&Ma("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[M1]}),n})();class KL{}let lee=(()=>{class n{constructor(t,r,i,a,o){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Hi(t=>t instanceof al),tl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=T7(a.providers,t,`Route: ${a.path}`));const o=a._injector??t,_=a._loadedInjector??o;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(o,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(_,a.children??a._loadedRoutes))}return Ln(i).pipe(ut())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):A2(null);const a=i.pipe(et(o=>null===o?A2(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Ln([a,this.loader.loadComponent(r)]).pipe(ut()):a})}}return n.\u0275fac=function(t){return new(t||n)(ln(Zi),ln(Xx),ln(B1),ln(KL),ln(Fy))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ry=new l2("");let QL=(()=>{class n{constructor(t,r,i,a,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof al&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _L&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _L(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function p7(){throw new Error("invalid")}()},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();function sl(n,e){return{\u0275kind:n,\u0275providers:e}}function eD(){const n=$2(Ui);return e=>{const t=n.get(Ic);if(e!==t.components[0])return;const r=n.get(Zi),i=n.get(tD);1===n.get(Uy)&&r.initialNavigation(),n.get(nD,null,H2.Optional)?.setUpPreloading(),n.get(Ry,null,H2.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const tD=new l2("",{factory:()=>new j}),Uy=new l2("",{providedIn:"root",factory:()=>1});const nD=new l2("");function pee(n){return sl(0,[{provide:nD,useExisting:lee},{provide:KL,useExisting:n}])}const rD=new l2("ROUTER_FORROOT_GUARD"),mee=[W8,{provide:Tu,useClass:yy},Zi,Iu,{provide:Z0,useFactory:function JL(n){return n.routerState.root},deps:[Zi]},Fy,[]];function gee(){return new rM("Router",Zi)}let iD=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[mee,[],{provide:Q0,multi:!0,useValue:t},{provide:rD,useFactory:Cee,deps:[[Zi,new Lo,new _c]]},{provide:wh,useValue:r||{}},r?.useHash?{provide:Fc,useClass:SU}:{provide:Fc,useClass:zM},{provide:Ry,useFactory:()=>{const n=$2(jj),e=$2(I1),t=$2(wh),r=$2(Mh),i=$2(Tu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new QL(i,r,n,e,t)}},r?.preloadingStrategy?pee(r.preloadingStrategy).\u0275providers:[],{provide:rM,multi:!0,useFactory:gee},r?.initialNavigation?bee(r):[],[{provide:aD,useFactory:eD},{provide:Zx,multi:!0,useExisting:aD}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Q0,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(ln(rD,8))},n.\u0275mod=W1({type:n}),n.\u0275inj=e1({imports:[Vy]}),n})();function Cee(n){return"guarded"}function bee(n){return["disabled"===n.initialNavigation?sl(3,[{provide:U8,multi:!0,useFactory:()=>{const e=$2(Zi);return()=>{e.setUpLocationChangeListener()}}},{provide:Uy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?sl(2,[{provide:Uy,useValue:0},{provide:U8,multi:!0,deps:[Ui],useFactory:e=>{const t=e.get(MU,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const a=e.get(Zi),o=e.get(tD);(function r(i){e.get(Zi).events.pipe(Hi(o=>o instanceof al||o instanceof hh||o instanceof yL),Y(o=>o instanceof al||o instanceof hh&&(0===o.code||1===o.code)&&null),Hi(o=>null!==o),Li(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(Mh).afterPreactivation=()=>(i(!0),o.closed?A2(void 0):o),a.initialNavigation()}))}}]).\u0275providers:[]]}const aD=new l2("");function sD(n,e,t,r,i,a,o){try{var _=n[a](o),V=_.value}catch(q){return void t(q)}_.done?e(V):Promise.resolve(V).then(r,i)}function zh(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var a=n.apply(e,t);function o(V){sD(a,r,i,o,_,"next",V)}function _(V){sD(a,r,i,o,_,"throw",V)}o(void 0)})}}var CD={prefix:"far",iconName:"flag",icon:[448,512,[127988,61725],"f024","M48 24C48 10.7 37.3 0 24 0S0 10.7 0 24V64 350.5 400v88c0 13.3 10.7 24 24 24s24-10.7 24-24V388l80.3-20.1c41.1-10.3 84.6-5.5 122.5 13.4c44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30V66.1c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0c-35.1-17.6-75.4-22-113.5-12.5L48 52V24zm0 77.5l96.6-24.2c27-6.7 55.5-3.6 80.4 8.8c54.9 27.4 118.7 29.7 175 6.8V334.7l-24.4 9.1c-33.7 12.6-71.2 10.7-103.4-5.4c-48.2-24.1-103.3-30.1-155.6-17.1L48 338.5v-237z"]};class Xi{constructor(e,t,r,i,a,o){this._n2HalfTime=e,this._n2A=t,this._n2B=r,this._heHalfTime=i,this._heA=a,this._heB=o}get n2HalfTime(){return this._n2HalfTime}get n2A(){return this._n2A}get n2B(){return this._n2B}get heHalfTime(){return this._heHalfTime}get heA(){return this._heA}get heB(){return this._heB}}class Zy{}Zy.Buhlmann_ZHL16C=[new Xi(5,1.1696,.5578,1.88,1.6189,.477),new Xi(8,1,.6514,3.02,1.383,.5747),new Xi(12.5,.8618,.7222,4.72,1.1919,.6527),new Xi(18.5,.7562,.7826,6.99,1.0458,.7223),new Xi(27,.62,.8125,10.21,.922,.7582),new Xi(38.3,.5043,.8434,14.48,.8205,.7957),new Xi(54.3,.441,.8693,20.53,.7305,.8279),new Xi(77,.4,.891,29.11,.6502,.8553),new Xi(109,.375,.9092,41.2,.595,.8757),new Xi(146,.35,.9222,55.19,.5545,.8903),new Xi(187,.3295,.9319,70.69,.5333,.8997),new Xi(239,.3065,.9403,90.34,.5189,.9073),new Xi(305,.2835,.9477,115.29,.5181,.9122),new Xi(390,.261,.9544,147.42,.5176,.9171),new Xi(498,.248,.9602,188.24,.5172,.9217),new Xi(635,.2327,.9653,240.03,.5119,.9267)];class Dn{static fix(e){return Number(e.toFixed(10))}static roundTwoDecimals(e){return Dn.round(e,2)}static round(e,t=0){return Dn.adapt(Math.round,e,t)}static floorTwoDecimals(e){return Dn.floor(e,2)}static floor(e,t=0){return Dn.adapt(Math.floor,e,t)}static ceilTwoDecimals(e){return Dn.ceil(e,2)}static ceil(e,t=0){return Dn.adapt(Math.ceil,e,t)}static ceilDistance(e,t){return Dn.adaptDistance(Math.ceil,e,t)}static roundDistance(e,t){return Dn.adaptDistance(Math.round,e,t)}static floorDistance(e,t){return Dn.adaptDistance(Math.floor,e,t)}static adapt(e,t,r){const i=Math.pow(10,r);return e(t*i)/i}static adaptDistance(e,t,r){return e(t/r)*r}}var Wa=(()=>{return(n=Wa||(Wa={}))[n.fresh=1]="fresh",n[n.brackish=2]="brackish",n[n.salt=3]="salt",Wa;var n})();let Lh=(()=>{class n{}return n.fresh=1e3,n.brackish=1020,n.salt=1030,n})(),AT=(()=>{class n{}return n.standard=9.80665,n})(),Dh=(()=>{class n{static pascalToBar(t){return t/n.coefficient}static barToPascal(t){return t*n.coefficient}}return n.coefficient=1e5,n})(),k2e=(()=>{class n{static atAltitude(t){return Dh.barToPascal(this.standard)*Math.pow(288.15/(288.15+-.0065*t),.0289644*AT.standard/-.05404308)}}return n.standard=1.01325,n})();class Gu{constructor(e){this.options=e}create(){switch(this.options.salinity){case Wa.salt:return qa.forSaltWater(this.options.altitude);case Wa.brackish:return qa.forBrackishWater(this.options.altitude);default:return qa.forFreshWater(this.options.altitude)}}}class qa{constructor(e,t){this.density=e,this._gravity=AT.standard;const r=k2e.atAltitude(t);this._surfacePressure=Dh.pascalToBar(r)}get surfacePressure(){return this._surfacePressure}static forSaltWater(e=0){return new qa(Lh.salt,e)}static forBrackishWater(e=0){return new qa(Lh.brackish,e)}static forFreshWater(e=0){return new qa(Lh.fresh,e)}static simple(){const e=new qa(Lh.fresh,0);return e._surfacePressure=1,e._gravity=10,e}toBar(e){return Dh.pascalToBar(e*(this.density*this._gravity))+this._surfacePressure}fromBar(e){if(e<this._surfacePressure)throw new Error("Lower pressure than altitude isn`t convertible to depth.");const t=this.density*this._gravity;return Dh.barToPascal(e-this._surfacePressure)/t}}var us=(()=>{return(n=us||(us={}))[n.never=1]="never",n[n.auto=2]="auto",n[n.always=3]="always",us;var n})();class c2{static setMediumConservatism(e){e.gfLow=c2.gfLow,e.gfHigh=c2.gfHigh}static useGeneralRecommended(e){e.safetyStop=c2.safetyStopRecre,e.roundStopsToMinutes=c2.roundStopsToMinutes,e.gasSwitchDuration=c2.gasSwitchDuration,e.oxygenNarcotic=c2.oxygenNarcotic}}c2.altitude=0,c2.saltWater=Wa.salt,c2.roundStopsToMinutes=!1,c2.gasSwitchDuration=2,c2.problemSolvingDuration=1,c2.lastStopDepth=3,c2.lastStopDepthRecre=5,c2.safetyStopRecre=us.auto,c2.decoStopDistance=3,c2.minimumAutoStopDepth=10,c2.addSafetyStop=!0,c2.maxEND=30,c2.oxygenNarcotic=!0,c2.ascentSpeed6m=3,c2.ascentSpeed50percTo6m=6,c2.ascentSpeed50perc=9,c2.descentSpeed=18,c2.gfLow=.4,c2.gfHigh=.85,c2.maxPpO2=1.4,c2.maxDecoPpO2=1.6;class Th{constructor(e=c2.gfLow,t=c2.gfHigh,r=c2.maxPpO2,i=c2.maxDecoPpO2,a=c2.saltWater){this.gfLow=e,this.gfHigh=t,this.maxPpO2=r,this.maxDecoPpO2=i,this.salinity=a,this.altitude=c2.altitude,this.roundStopsToMinutes=c2.roundStopsToMinutes,this.gasSwitchDuration=c2.gasSwitchDuration,this.safetyStop=c2.safetyStopRecre,this.lastStopDepth=c2.lastStopDepth,this.decoStopDistance=c2.decoStopDistance,this.minimumAutoStopDepth=c2.minimumAutoStopDepth,this.maxEND=c2.maxEND,this.oxygenNarcotic=!0,this.ascentSpeed6m=c2.ascentSpeed6m,this.ascentSpeed50percTo6m=c2.ascentSpeed50percTo6m,this.ascentSpeed50perc=c2.ascentSpeed50perc,this.descentSpeed=c2.descentSpeed,this.problemSolvingDuration=c2.problemSolvingDuration,this.gfLow=e||c2.gfLow,this.gfHigh=t||c2.gfHigh,this.maxPpO2=r||c2.maxPpO2,this.maxDecoPpO2=i||c2.maxDecoPpO2,this.salinity=a||c2.saltWater}loadFrom(e){this.gfLow=e.gfLow||this.gfLow,this.gfHigh=e.gfHigh||this.gfHigh,this.maxPpO2=e.maxPpO2||this.maxPpO2,this.maxDecoPpO2=e.maxDecoPpO2||this.maxDecoPpO2,this.oxygenNarcotic=!!e.oxygenNarcotic,this.salinity=e.salinity||this.salinity,this.altitude=e.altitude||0===e.altitude?e.altitude:this.altitude,this.roundStopsToMinutes=!!e.roundStopsToMinutes,this.gasSwitchDuration=e.gasSwitchDuration||this.gasSwitchDuration,this.problemSolvingDuration=e.problemSolvingDuration||this.problemSolvingDuration,this.lastStopDepth=e.lastStopDepth||this.lastStopDepth,this.decoStopDistance=e.decoStopDistance||this.decoStopDistance,this.minimumAutoStopDepth=e.minimumAutoStopDepth||this.minimumAutoStopDepth,this.safetyStop=e.safetyStop||this.safetyStop,this.maxEND=e.maxEND||this.maxEND,this.ascentSpeed6m=e.ascentSpeed6m||this.ascentSpeed6m,this.ascentSpeed50percTo6m=e.ascentSpeed50percTo6m||this.ascentSpeed50percTo6m,this.ascentSpeed50perc=e.ascentSpeed50perc||this.ascentSpeed50perc,this.descentSpeed=e.descentSpeed||this.descentSpeed}}class kh{constructor(e,t){this.depthConverter=e,this.options=t}toDecoStop(e){const t=this.depthConverter.fromBar(e);return Dn.roundDistance(t,this.options.decoStopDistance)}nextStop(e){if(e<=this.options.lastStopDepth)return 0;const t=Dn.floorDistance(e,this.options.decoStopDistance);if(t!==e)return t;const r=e-this.options.decoStopDistance;return r<=this.options.lastStopDepth?this.options.lastStopDepth:r}addSafetyStop(e,t){return(this.options.safetyStop===us.always||this.options.safetyStop===us.auto&&t>this.options.minimumAutoStopDepth)&&e===this.options.lastStopDepth}}var q1=(()=>{return(n=q1||(q1={}))[n.noAction=0]="noAction",n[n.error=1]="error",n[n.gasSwitch=2]="gasSwitch",n[n.reachedNoDeco=3]="reachedNoDeco",n[n.lowPpO2=4]="lowPpO2",n[n.highPpO2=5]="highPpO2",n[n.highAscentSpeed=6]="highAscentSpeed",n[n.highDescentSpeed=7]="highDescentSpeed",n[n.brokenCeiling=8]="brokenCeiling",n[n.maxEndExceeded=9]="maxEndExceeded",n[n.switchToHigherN2=10]="switchToHigherN2",n[n.highGasDensity=11]="highGasDensity",q1;var n})();class Ya{constructor(e,t,r,i,a){this.timeStamp=e,this.depth=t,this.type=r,this.message=i,this.gas=a}static create(e,t,r,i){return new Ya(t,r,e,"",i)}static createError(e){return new Ya(0,0,q1.error,e)}}class Za{static createError(e){return Ya.createError(e)}static createGasSwitch(e,t,r){return Ya.create(q1.gasSwitch,e,t,r)}static createLowPpO2(e,t){return Ya.create(q1.lowPpO2,e,t)}static createHighPpO2(e,t){return Ya.create(q1.highPpO2,e,t)}static createHighAscentSpeed(e,t){return Ya.create(q1.highAscentSpeed,e,t)}static createHighDescentSpeed(e,t){return Ya.create(q1.highDescentSpeed,e,t)}static createBrokenCeiling(e,t){return Ya.create(q1.brokenCeiling,e,t)}static createMaxEndExceeded(e,t,r){return Ya.create(q1.maxEndExceeded,e,t,r)}static createSwitchToHigherN2(e,t,r){return Ya.create(q1.switchToHigherN2,e,t,r)}static createHighDensity(e,t,r){return Ya.create(q1.highGasDensity,e,t,r)}}class NT{constructor(){this.items=[]}add(e){this.items.push(e)}}class V2e{constructor(e,t){this.time=e,this.depth=t}get notAtSurface(){return this.depth>0}static isDecoDive(e){for(const t of e)if(t.notAtSurface)return!0;return!1}}class e6{constructor(e,t,r){this.seg=e,this.ceil=t,this.err=r}get segments(){return this.seg}get ceilings(){return this.ceil}get errors(){return this.err}static fromErrors(e,t){return new e6(e,[],t)}static fromProfile(e,t){return new e6(e,t,[])}}class A2e{static validate(e,t,r){const i=[];if(!e.hasBottomGas){const a=Za.createError("At least one bottom gas has to be defined.");return i.push(a),i}return i}}class N2e{constructor(e,t){this.gases=e,this.depthConverter=qa.simple(),this.depthLevels=new kh(this.depthConverter,t)}bestGas(e){const t=this.depthConverter.toBar(e.currentDepth),r=this.depthConverter.toBar(e.maxEnd);let i=e.currentGas;return this.gases.all.forEach(a=>{const o=a.mod(e.maxDecoPpO2),_=this.depthLevels.toDecoStop(o),V=a.end(t,e.oxygenNarcotic);e.currentDepth<=_&&V<=r&&(!i||i.fO2<a.fO2)&&(i=a)}),i}}class ol{constructor(){this.bottomGases=[]}get all(){return this.bottomGases.slice()}get hasBottomGas(){return this.bottomGases.length>=1}static fromTanks(e){const t=new ol;return e.forEach(r=>{t.add(r.gas)}),t}add(e){this.bottomGases.push(e)}isRegistered(e){return this.bottomGases.includes(e)}}class As{static partialPressure(e,t){return e*t}static mod(e,t){return e/t}static bestMix(e,t,r){const a=e/r.toBar(t);return a>1?1:a}static ead(e,t,r=M2.o2InAir){const a=1-r;return As.end(t,1-e)/a}static end(e,t,r=0){return e*this.narcoticIndex(r,t)}static mnd(e,t,r=0){return e/this.narcoticIndex(r,t)}static ceiling(e,t){const a=.18/e*t;return a<t?t:a}static narcoticIndex(e,t=0){return t+e}}class Di{constructor(e,t){if(this._fO2=e,this._fHe=t,this.contentExceeds100percent())throw new Error("O2 + He can't exceed 100 %")}get fN2(){return 1-this._fO2-this._fHe}get fO2(){return this._fO2}get fHe(){return this._fHe}get name(){return M2.nameFor(this.fO2,this.fHe)}set fO2(e){this._fO2=e>1?1:e,this.contentExceeds100percent()&&(this._fHe=this.countRemaining(this._fO2))}set fHe(e){this._fHe=e>.99?.99:e,this.contentExceeds100percent()&&(this._fO2=this.countRemaining(this._fHe))}copy(){return new Di(this._fO2,this._fHe)}mod(e){return As.mod(e,this._fO2)}end(e,t){return As.end(e,this.fN2,t?this._fO2:0)}mnd(e,t){return As.mnd(e,this.fN2,t?this._fO2:0)}ceiling(e){return As.ceiling(this._fO2,e)}compositionEquals(e){return!!e&&this._fO2===e._fO2&&this._fHe===e._fHe}contentCode(){return Dn.round(1e4*this._fO2*1e4)+Dn.round(1e4*this._fHe)}contentExceeds100percent(){return this._fO2+this._fHe>1}countRemaining(e){return Dn.round(1-e,5)}}class M2{static nitroxNames(){return M2.allNames().slice(0,6)}static allNames(){return Array.from(M2.map.keys())}static nameFor(e,t=0){const i=Dn.round(100*e),a=Dn.round(100*t);return i<=0?"":a<=0?i>=100?M2.oxygenName:21===i?M2.airName:"EAN"+i.toString():`${i>=21?"Helitrox":"Trimix"} ${i.toString()}/${a.toString()}`}static byName(e){if(M2.map.has(e))return M2.map.get(e)??null;const t=M2.namesRegEx.exec(e);if(t){if(t[1]){const r=Number(t[1])/100;if(r>0)return new Di(r,0)}if(t[2]&&t[3]){const r=Number(t[2])/100,i=Number(t[3])/100;if(r>0&&i>0)return new Di(r,i)}}return null}}M2.o2InAir=.209,M2.nitroxInAir=1-M2.o2InAir,M2.oxygen=new Di(1,0),M2.ean50=new Di(.5,0),M2.ean38=new Di(.38,0),M2.ean36=new Di(.36,0),M2.ean32=new Di(.32,0),M2.trimix3525=new Di(.35,.25),M2.trimix2525=new Di(.25,.25),M2.air=new Di(M2.o2InAir,0),M2.trimix2135=new Di(.21,.35),M2.trimix1845=new Di(.18,.45),M2.trimix1555=new Di(.15,.55),M2.trimix1260=new Di(.12,.6),M2.trimix1070=new Di(.1,.7),M2.airName="Air",M2.oxygenName="Oxygen",M2.namesRegEx=/[EAN](?<fO2>\d{2})|(?<fO2b>\d{2})\/(?<fHe>\d{2})/i,M2.map=new Map([[M2.airName,M2.air],["EAN32",M2.ean32],["EAN36",M2.ean36],["EAN38",M2.ean38],["EAN50",M2.ean50],[M2.oxygenName,M2.oxygen],["Helitrox 35/25",M2.trimix3525],["Helitrox 25/25",M2.trimix2525],["Helitrox 21/35",M2.trimix2135],["Trimix 18/45",M2.trimix1845],["Trimix 15/55",M2.trimix1555],["Trimix 12/60",M2.trimix1260],["Trimix 10/70",M2.trimix1070]]);class Xy extends Xi{constructor(e,t){super(e.n2HalfTime,e.n2A,e.n2B,e.heHalfTime,e.heA,e.heB),this._pN2=0,this._pHe=0,this._pTotal=0,this._a=0,this._b=0,this._pN2=As.partialPressure(t,.79)-.0627,this._pHe=0,this._pTotal=this.pN2+this.pHe}get pN2(){return this._pN2}get pHe(){return this._pHe}get pTotal(){return this._pTotal}get a(){return this._a}get b(){return this._b}copy(){const e=new Xy(this,1);return e._pN2=this._pN2,e._pHe=this._pHe,e._pTotal=this._pTotal,e._a=this._a,e._b=this._b,e}ceiling(e){return(this.pTotal-this.a*e)/(e/this.b+1-e)}load(e,t){this._pN2=this.loadGas(e,t.fN2,this.pN2,this.n2HalfTime),this._pHe=this.loadGas(e,t.fHe,this.pHe,this.heHalfTime);const r=this.pTotal;return this._pTotal=this.pN2+this.pHe,this._a=(this.n2A*this.pN2+this.heA*this.pHe)/this.pTotal,this._b=(this.n2B*this.pN2+this.heB*this.pHe)/this.pTotal,this.pTotal-r}loadGas(e,t,r,i){return this.schreinerEquation(r,e.startPressure*t,e.duration,i,e.speed*t)}schreinerEquation(e,t,r,i,a){const _=.01155245301/i;return t+a*(r-1/_)-(t-e-a/_)*Math.exp(-_*r)}}class cl{constructor(){this.compartments=[]}static createFromOther(e){const t=new cl;return t.compartments=cl.copy(e),t}static createFromSurfacePressure(e){const t=new cl;for(let r=0;r<Zy.Buhlmann_ZHL16C.length;r++){const a=new Xy(Zy.Buhlmann_ZHL16C[r],e);t.compartments.push(a)}return t}static copy(e){const t=[];for(let r=0;r<e.length;r++){const i=e[r].copy();t.push(i)}return t}ceiling(e){let t=0;for(let r=0;r<this.compartments.length;r++){const i=this.compartments[r].ceiling(e);i>t&&(t=i)}return t}load(e,t){let r=0;for(let i=0;i<this.compartments.length;i++)r+=this.compartments[i].load(e,t);return r}}class U2{static toSeconds(e){return e*U2.oneMinute}static toMinutes(e){return e/U2.oneMinute}static toDate(e){return new Date(1970,1,1,0,0,e,0)}static secondsFromDate(e){const t=new Date(e);let r=t.getSeconds();return r+=t.getMinutes()*U2.oneMinute,r+=t.getHours()*Math.pow(U2.oneMinute,2),r}}U2.oneSecond=1,U2.oneMinute=60,U2.oneDay=1440*U2.oneMinute;class Ky{static validate(e,t){const r=[];if(!e.any()){const i=Za.createError("There needs to be at least one segment at depth.");r.push(i)}return e.withAll(i=>{Ky.validateRegisteredGas(r,t,i)}),r}static validateRegisteredGas(e,t,r){if(!t.isRegistered(r.gas)){const a=Za.createError(`Segment ${r.startDepth}-${r.endDepth} has gas not registered in gases.`);e.push(a)}}}class Xa{constructor(e,t,r,i){this.startDepth=e,this.endDepth=t,this._gas=r,this.duration=i}get gas(){return this._gas}get tank(){return this._tank}get speed(){return Xa.speed(this.startDepth,this.endDepth,this.duration)}get averageDepth(){return(this.startDepth+this.endDepth)/2}set tank(e){this._tank=e,e&&(this._gas=e.gas)}static from(e){const t=new Xa(e.startDepth,e.endDepth,e._gas,e.duration);return t.tank=e.tank,t}static speed(e,t,r){return(t-e)/r}static depthAt(e,t,r){return e+t*r}static timeAt(e,t,r){return Math.abs(r-e)/t}contentEquals(e){return this.speed===e.speed&&this._gas===e._gas}depthAt(e){return Xa.depthAt(this.startDepth,this.speed,e)}mergeFrom(e){this.duration+=e.duration,this.endDepth=e.endDepth}}class ui{constructor(){this.segments=[],this._maxDepth=0}get startAscentIndex(){return this.deepestPart().length}get startAscentTime(){const e=this.deepestPart();return ui.duration(e)}get length(){return this.segments.length}get items(){return this.segments.slice()}get maxDepth(){return this._maxDepth}get currentDepth(){return this.any()?this.last().endDepth:0}get duration(){return ui.duration(this.segments)}static from(e){return ui.fromCollection(e.segments)}static fromCollection(e){const t=new ui;return e.forEach(r=>{const i=Xa.from(r);t.segments.push(i),t.updateMaxDepth(i)}),t}static duration(e){let t=0;for(const r of e)t+=r.duration;return t}static averageDepth(e){if(e.length<=0)return 0;let t=0,r=0;return e.forEach(i=>{if(i.duration>0){const a=i.averageDepth*i.duration+r*t;r+=i.duration,t=a/r}}),t}add(e,t,r,i){const a=new Xa(e,t,r,i);return this.segments.push(a),this.updateMaxDepth(a),a}addFlat(e,t,r){return this.add(e,e,t,r)}addChangeTo(e,t,r){return this.add(this.currentDepth,e,t,r)}mergeFlat(e=0){if(e<0)return this.items;const t=[];for(let r=this.segments.length-1;r>e;r--){const i=this.segments[r-1],a=this.segments[r];i.contentEquals(a)&&(i.mergeFrom(a),t.push(a))}return this.segments=this.segments.filter(r=>!t.includes(r)),this.items}remove(e){this.segments=this.segments.filter(t=>t!==e),this.fixStartDepths()}cutDown(e){this.segments=this.segments.slice(0,this.segments.length-e),this.fixStartDepths()}withAll(e){for(let t=0;t<this.segments.length;t++)e(this.segments[t])}any(){return 0!==this.segments.length}last(){return this.segments[this.segments.length-1]}copy(){return ui.from(this)}fixStartDepths(){this.any()&&(this.segments[0].startDepth=0);for(let e=0;e<this.segments.length-1;e++){const r=this.segments[e+1];r.startDepth=this.segments[e].endDepth,this.updateMaxDepth(r)}}deepestPart(){for(let e=this.segments.length-1;e>=0;e--)if(this.segments[e].endDepth===this.maxDepth)return this.items.slice(0,e+1);return[]}updateMaxDepth(e){e.endDepth>this._maxDepth&&(this._maxDepth=e.endDepth)}}class $u{static createForPlan(e,t,r,i){const a=new ui,o=$u.descentDuration(e,i);a.add(0,e,r.gas,o).tank=r;let V=U2.toSeconds(t)-o;return V=V<0?0:V,a.addFlat(e,r.gas,V).tank=r,a}static descentDuration(e,t){let r=e/t.descentSpeed;return r=Dn.ceil(r,1),r=U2.toSeconds(r),Dn.ceil(r)}}class E2e{constructor(e,t,r){this.depthConverter=e,this.options=t,this.tissues=r,this.lowestCeiling=0,this.lowestCeiling=this.depthConverter.surfacePressure+1}ceiling(){let e=this.tolerated();return e<this.depthConverter.surfacePressure&&(e=this.depthConverter.surfacePressure),this.depthConverter.fromBar(e)}toleratedTissues(e,t,r,i){const a=this.tissues.compartments;let o=0;for(let _=0;_<a.length;_++){const V=a[_];let q=o;(e/V.b+V.a-e)*r+e<(t/V.b+V.a-t)*i+t&&(q=(-V.a*V.b*(r*t-i*e)-(1-V.b)*(r-i)*t*e+V.b*(t-e)*V.pTotal)/(-V.a*V.b*(r-i)+(1-V.b)*(i*t-r*e)+V.b*(t-e))),q>=o&&(o=q)}return o}tolerated(){const e=this.options.gfLow,t=this.options.gfHigh,r=this.depthConverter.surfacePressure,i=this.tissues.ceiling(e);return i>this.lowestCeiling&&(this.lowestCeiling=i),this.toleratedTissues(r,this.lowestCeiling,t,e)}}let ET=(()=>{class n{constructor(t){this.options=t,this.averageDepth=0}markAverageDepth(t){const r=t.deepestPart();this.averageDepth=ui.averageDepth(r)}ascent(t){return t>n.sixMeters?t>this.averageDepth/2?this.options.ascentSpeed50perc:this.options.ascentSpeed50percTo6m:this.options.ascentSpeed6m}}return n.sixMeters=6,n})(),PT=(()=>{class n{constructor(){}search(t){if(t.maxValue<t.initialValue)throw Error("Max value cant be smaller than initial value");if(t.estimationStep>t.maxValue-t.initialValue)throw Error("Step cant be larger than range");const r=this.findInitialLimit(t);return this.searchInsideInterval(t,r)}searchInsideInterval(t,r){for(;r.right-r.left>n.minimalStep;){let i=r.left+(r.right-r.left)/2;i=Math.round(i),t.doWork(i),t.meetsCondition()?r.left=i:r.right=i}return r.left}findInitialLimit(t){let r=t.initialValue;for(t.doWork(r);t.meetsCondition()&&r<=t.maxValue;)r+=t.estimationStep,t.doWork(r);let i=r-t.estimationStep;return i=i<t.initialValue?t.initialValue:i,{left:i,right:r>t.maxValue?t.maxValue:r}}}return n.minimalStep=1,n})();class IT{constructor(e,t,r,i){this.gases=e,this.segments=t,this.options=r,this.depthConverter=i,this.ceilings=[],this.runTime=0,this.tissues=cl.createFromSurfacePressure(i.surfacePressure),this.gradients=new E2e(i,r,this.tissues);const a=t.last();this.currentGas=a.gas,this.bestGasOptions={currentDepth:this.currentDepth,maxDecoPpO2:this.options.maxDecoPpO2,oxygenNarcotic:this.options.oxygenNarcotic,maxEnd:this.options.maxEND,currentGas:this.currentGas},this.speeds=new ET(this.options),this.levels=new kh(i,r),this.gasSource=new N2e(e,r)}get ascentSpeed(){return this.speeds.ascent(this.currentDepth)}get currentDepth(){return this.segments.currentDepth}get ambientPressure(){return this.depthConverter.toBar(this.currentDepth)}get addSafetyStop(){return this.levels.addSafetyStop(this.currentDepth,this.segments.maxDepth)}get decoStopDuration(){return this.options.roundStopsToMinutes?U2.oneMinute:U2.oneSecond}get isAtSurface(){return 0===this.segments.last().endDepth}markAverageDepth(){this.speeds.markAverageDepth(this.segments)}addCeiling(){const e=this.ceiling(),t=new V2e(this.runTime,e);this.ceilings.push(t)}ceiling(){return this.gradients.ceiling()}bestDecoGas(){return this.bestGasOptions.currentDepth=this.currentDepth,this.bestGasOptions.currentGas=this.currentGas,this.gasSource.bestGas(this.bestGasOptions)}createMemento(){return{runTime:this.runTime,tissues:cl.copy(this.tissues.compartments),ceilings:this.ceilings.length,segments:this.segments.length,lowestCeiling:this.gradients.lowestCeiling}}restore(e){this.tissues.compartments=cl.copy(e.tissues),this.gradients.lowestCeiling=e.lowestCeiling,this.runTime=e.runTime,this.ceilings=this.ceilings.slice(0,e.ceilings),this.segments.cutDown(this.segments.length-e.segments)}nextStop(e){return this.levels.nextStop(e)}shouldSwitchTo(e){return e&&!this.currentGas.compositionEquals(e)}addGasSwitchSegment(){return this.addStopSegment(this.options.gasSwitchDuration*U2.oneMinute)}addDecoStopSegment(){return this.addStopSegment(0)}addSafetyStopSegment(){return this.addStopSegment(3*U2.oneMinute)}addAscentSegment(e,t){return this.segments.add(this.currentDepth,e,this.currentGas,t)}addStopSegment(e){return this.segments.add(this.currentDepth,this.currentDepth,this.currentGas,e)}}class Wu{noDecoLimit(e,t,r){const i=new ol;i.add(t);const a=new ui,o=this.duration(e,r.descentSpeed);return a.add(0,e,t,o),this.noDecoLimitMultiLevel(a,i,r)}noDecoLimitMultiLevel(e,t,r){const i=new Gu(r).create(),a=new IT(t,e,r,i);return this.swimNoDecoLimit(e,t,a,r)}calculateDecompression(e,t,r){const i=new Gu(e).create(),a=r.copy(),o=this.validate(a,t,e,i);if(o.length>0){const de=a.mergeFlat(r.length);return e6.fromErrors(de,o)}const _=new IT(t,a,e,i);this.swimPlan(_),_.markAverageDepth();let V=_.nextStop(_.currentDepth);for(;V>=0&&!_.isAtSurface;)this.tryGasSwitch(_),this.stayAtDecoStop(_,V),this.stayAtSafetyStop(_),this.ascentToNextStop(_,V),V=_.nextStop(V);const q=_.segments.mergeFlat(r.length);return e6.fromProfile(q,_.ceilings)}tryGasSwitch(e){const t=e.bestDecoGas();if(e.shouldSwitchTo(t)){e.currentGas=t;const r=e.addGasSwitchSegment();this.swim(e,r)}}stayAtDecoStop(e,t){if(this.needsDecoStop(e,t)){const r=e.createMemento(),i={estimationStep:20*U2.oneMinute,initialValue:0,maxValue:U2.oneDay,doWork:V=>this.swimDecoStop(e,r,V),meetsCondition:()=>this.needsDecoStop(e,t)},o=(new PT).search(i)+U2.oneSecond,_=Dn.ceilDistance(o,e.decoStopDuration);this.swimDecoStop(e,r,_)}}swimDecoStop(e,t,r){e.restore(t);const i=e.addDecoStopSegment();i.duration=r,this.swim(e,i)}needsDecoStop(e,t){if(t>=e.ceiling())return!1;const r=e.createMemento();this.ascentToNextStop(e,t);const i=t<e.ceiling();return e.restore(r),i}stayAtSafetyStop(e){if(e.addSafetyStop){const t=e.addSafetyStopSegment();this.swim(e,t)}}ascentToNextStop(e,t){const i=this.duration(e.currentDepth-t,e.ascentSpeed),a=e.addAscentSegment(t,i);this.swim(e,a)}validate(e,t,r,i){const a=Ky.validate(e,t);if(a.length>0)return a;const o=A2e.validate(t,r,i.surfacePressure);return o.length>0?o:[]}duration(e,t){return e/U2.toMinutes(t)}swimPlan(e){e.addCeiling(),e.segments.withAll(t=>{this.swim(e,t)})}swim(e,t){let r=t.startDepth;const i=U2.oneSecond;for(let a=0;a<t.duration;a+=i){const o=Xa.depthAt(r,t.speed,i),_=new Xa(r,o,t.gas,i);this.swimPart(e,_),r=_.endDepth}}swimPart(e,t){const r=this.toLoadSegment(e.depthConverter,t);e.tissues.load(r,t.gas),e.runTime+=t.duration,e.addCeiling()}swimNoDecoLimit(e,t,r,i){if(this.validate(e,t,i,r.depthConverter).length>0)return 0;this.swimPlan(r);const o=this.currentNdl(r.ceilings);return o!==Number.POSITIVE_INFINITY?o:this.predictNoDecoLimit(e,r)}predictNoDecoLimit(e,t){const r=e.last(),i=r.endDepth,a=new Xa(i,i,r.gas,U2.oneMinute),o=this.toLoadSegment(t.depthConverter,a);let _=1;for(;t.ceiling()<=0&&_>0;)_=t.tissues.load(o,r.gas),t.runTime+=U2.oneMinute;return 0===_||0===i?Number.POSITIVE_INFINITY:this.floorNdl(t.runTime)}floorNdl(e){let t=U2.toMinutes(e);return t=Dn.floor(t),t-1}currentNdl(e){for(let t=0;t<e.length;t+=U2.oneMinute){const r=e[t];if(r.notAtSurface)return this.floorNdl(r.time)}return Number.POSITIVE_INFINITY}toLoadSegment(e,t){const r=e.toBar(t.speed)-e.surfacePressure;return{startPressure:e.toBar(t.startDepth),duration:t.duration,speed:r}}}class t6{static haveReserve(e){for(let t=0;t<e.length;t++)if(!e[t].hasReserve)return!1;return!0}static resetConsumption(e){e.forEach(t=>{t.consumed=0,t.reserve=0})}static removeTank(e,t){const r=e.filter(i=>i!==t);return t6.renumberIds(r),r}static renumberIds(e){for(let t=0;t<e.length;t++)e[t].id=t+1}}class $o{constructor(e,t,r){this.size=e,this.startPressure=t,this.id=0,this.consumed=0,this.reserve=0,this._gas=M2.air.copy(),this.o2=r}get gas(){return this._gas}get o2(){return R4.getO2(this.gas.fO2,this.gas.fHe)}get he(){return Dn.roundTwoDecimals(100*this.gas.fHe)}get volume(){return this.size*this.startPressure}get name(){return this._gas.name}get endPressure(){const e=this.startPressure-this.consumed;return e>0?e:0}get percentsRemaining(){return this.endPressure/this.startPressure*100}get percentsReserve(){const e=this.reserve/this.startPressure*100;return e>100?100:e}get hasReserve(){return this.endPressure>=this.reserve}set o2(e){this._gas.fO2=R4.setO2(e,this.gas.fHe)}set he(e){this.gas.fHe=e/100}static createDefault(){return new $o(15,200,100*M2.o2InAir)}assignStandardGas(e){const t=M2.byName(e);t&&(this._gas.fO2=t.fO2,this._gas.fHe=t.fHe)}loadFrom(e){this.size=e.size,this.startPressure=e.startPressure,this.consumed=e.consumed,this.reserve=e.reserve,this.gas.fO2=e._gas.fO2,this.gas.fHe=e._gas.fHe}}class R4{static getO2(e,t){const r=100*e;return this.isInAirRange(r,t)?R4.pinnedO2:Dn.roundTwoDecimals(r)}static setO2(e,t){return this.isInAirRange(e,t)?M2.o2InAir:e/100}static isInAirRange(e,t){return R4.o2InAirPercent<=e&&e<=R4.pinnedO2&&0===t}}R4.pinnedO2=21,R4.o2InAirPercent=100*M2.o2InAir;class Vh{constructor(e,t,r,i){this.duration=e,this.startTime=0,this.endTime=0,this.averageDepth=0,this._startDepth=0,this._endDepth=0,this.endTime=Dn.roundTwoDecimals(e),this._endDepth=t,this._startDepth=r,this.averageDepth=i}get startDepth(){return this._startDepth}get endDepth(){return this._endDepth}static fromSegment(e){return new Vh(e.duration,e.endDepth,e.startDepth,e.averageDepth)}}let P2e=(()=>{class n{constructor(t){this.depthConverter=t}static calculateDecompression(t,r,i){const a=ol.fromTanks(r),o=new Wu,_=t.copy();return o.calculateDecompression(i,a,_)}consumeFromTanks(t,r,i,a){if(t.length<2)throw new Error("Profile needs to contain at least 2 segments.");const o=this.emergencyAscent(t,r,i);this.consumeFromTanks2(t,o,r,i,a)}consumeFromTanks2(t,r,i,a,o){if(t.length<2)throw new Error("Profile needs to contain at least 2 segments.");t6.resetConsumption(a);const _=this.consumeByTanks(t,o.rmv);this.consumeByGases(t,a,o.rmv,_),this.updateReserve(r,a,o.stressRmv)}emergencyAscent(t,r,i){const o=ui.fromCollection(t).deepestPart(),_=ui.fromCollection(o),V=ol.fromTanks(i),ze=(new Wu).calculateDecompression(r,V,_).segments,je=ze.slice(o.length,ze.length);return this.addSolvingSegment(je,r.problemSolvingDuration),je}calculateMaxBottomTime(t,r,i,a){const o=this.createTestProfile(t),_=o.last(),V={estimationStep:40*U2.oneMinute,initialValue:0,maxValue:U2.oneDay,doWork:je=>{_.duration=je,this.consumeFromProfile(o,r,i,a)},meetsCondition:()=>t6.haveReserve(r)},de=(new PT).search(V);if(0===de)return 0;const ze=U2.toMinutes(t.duration+de);return Dn.floor(ze)}consumeFromProfile(t,r,i,a){const o=n.calculateDecompression(t,r,a);this.consumeFromTanks(o.segments,a,r,i)}createTestProfile(t){const r=t.copy(),i=t.last();return r.addFlat(i.endDepth,i.gas,0),r}updateReserve(t,r,i){const a=this.toBeConsumed(t,i,o=>!0);for(let o=0;o<=r.length-1;o++){const _=r[o],V=_.gas.contentCode();let q=a.get(V)||0;q=this.addReserveToTank(_,q),a.set(V,q)}r[0].reserve<n.minimumRockBottom&&(r[0].reserve=n.minimumRockBottom)}addReserveToTank(t,r){const i=Dn.ceil(r/t.size),a=i+t.reserve>t.startPressure?t.startPressure-t.reserve:i;return t.reserve+=a,this.extractRemaining(r,a,t.size)}addSolvingSegment(t,r){if(0===t.length)return;const a=t[0].startDepth,o=new Xa(a,a,t[0].gas,r*U2.oneMinute);t.unshift(o)}consumeByGases(t,r,i,a){const o=this.toBeConsumedYet(t,i,a,_=>!_.tank);for(let _=r.length-1;_>=0;_--){const V=r[_],q=V.gas.contentCode();let de=o.get(q)||0;de=this.consumeFromTank(V,de),o.set(q,de)}}consumeByTanks(t,r){const i=new Map,a=U2.toMinutes(r);return t.forEach(o=>{if(o.tank){const _=o.tank,V=o.gas.contentCode(),q=Vh.fromSegment(o),de=this.consumedBySegment(q,a),ze=this.consumeFromTank(_,de);let je=i.get(V)||0;je+=ze,i.set(V,je)}}),i}consumeFromTank(t,r){const i=Dn.ceil(r/t.size),a=i>t.endPressure?t.endPressure:i;return t.consumed+=a,this.extractRemaining(r,a,t.size)}extractRemaining(t,r,i){return(t-=r*i)<0?0:t}toBeConsumed(t,r,i){return this.toBeConsumedYet(t,r,new Map,i)}toBeConsumedYet(t,r,i,a){const o=U2.toMinutes(r);for(let _=0;_<t.length;_++){const V=t[_];if(a(V)){const de=V.gas.contentCode(),ze=Vh.fromSegment(V),je=this.consumedBySegment(ze,o);let ct=i.get(de)||0;ct+=je,i.set(de,ct)}}return i}consumedBySegment(t,r){const i=this.depthConverter.toBar(t.averageDepth);return t.duration*i*r}}return n.minimumRockBottom=30,n})();class I2e{constructor(e){this.depthConverter=e,this.minimumPpO2=.5}calculateForProfile(e){let t=0;return e.forEach(r=>{const a=this.calculate(r.gas.fO2,r.startDepth,r.endDepth,r.duration);t+=a}),t}calculate(e,t,r,i){const _=e*this.depthConverter.toBar((t+r)/2);if(_<=this.minimumPpO2)return 0;const V=this.exponentByPpO2(_);return i*Math.exp(V)}exponentByPpO2(e){return e<=1.5?1.93873*e-11.7853:9.80829*e-23.6349}}class O2e{get name(){return"Metric"}get lengthShortcut(){return"m"}get pressureShortcut(){return"bar"}get volumeShortcut(){return"l"}get altitudeShortcut(){return"m.a.s.l"}get densityShortcut(){return"g/l"}toMeters(e){return e}fromMeters(e){return e}toBar(e){return e}fromBar(e){return e}toLiter(e){return e}fromLiter(e){return e}fromTankLiters(e,t){return e}toTankLiters(e,t){return e}fromGramPerLiter(e){return e}}class Ki{get name(){return"Imperial"}get lengthShortcut(){return"ft"}get pressureShortcut(){return"psi"}get volumeShortcut(){return"cuft"}get altitudeShortcut(){return"ft.a.s.l"}get densityShortcut(){return"lb/cuft"}toMeters(e){return e*Ki.footRate}fromMeters(e){return e/Ki.footRate}toBar(e){return e/Ki.psiRate}fromBar(e){return e*Ki.psiRate}toLiter(e){return e*Ki.cftRate}fromLiter(e){return e/Ki.cftRate}fromTankLiters(e,t){return this.fromLiter(e)*t}toTankLiters(e,t){return this.toLiter(e)/t}fromGramPerLiter(e){return e*Ki.lbPerCuftRate}}Ki.psiRate=14.503773773022,Ki.cftRate=28.316846592,Ki.footRate=.3048,Ki.poundRate=.00220462262,Ki.lbPerCuftRate=Ki.poundRate*Ki.cftRate;class Ti{static fromImperial(e){const r=(new Ki).toBar(e);return Dn.round(r,3)}}Ti.imperialTankSize=124.1,Ti.imperialTankWorkPressure=3442,Ti.imperialStageSize=80.1,Ti.imperialStageWorkPressure=3e3,Ti.mertricTankSize=15,Ti.metricStageSize=11.1,Ti.metricTankWorkPressure=Ti.fromImperial(Ti.imperialTankWorkPressure),Ti.metricStageWorkPressure=Ti.fromImperial(Ti.imperialStageWorkPressure);class OT{get primaryTankSize(){return Ti.mertricTankSize}get primaryTankWorkPressure(){return 0}get stageTankSize(){return Ti.metricStageSize}get stageTankWorkPressure(){return 0}get lastSpeedLevel(){return 6}get autoStopLevel(){return 10}get stopsDistance(){return 3}get recreationalOptions(){return{ascentSpeed50perc:c2.ascentSpeed50perc,ascentSpeed50percTo6m:c2.ascentSpeed50perc,ascentSpeed6m:c2.ascentSpeed50perc,descentSpeed:c2.descentSpeed,lastStopDepth:c2.lastStopDepthRecre,maxEND:c2.maxEND}}get recommendedOptions(){return{ascentSpeed50perc:c2.ascentSpeed50perc,ascentSpeed50percTo6m:c2.ascentSpeed50percTo6m,ascentSpeed6m:c2.ascentSpeed6m,descentSpeed:c2.descentSpeed,lastStopDepth:c2.lastStopDepth,maxEND:c2.maxEND}}}class Tr{get primaryTankSize(){return Ti.imperialTankSize}get primaryTankWorkPressure(){return Ti.imperialTankWorkPressure}get stageTankSize(){return Ti.imperialStageSize}get stageTankWorkPressure(){return Ti.imperialStageWorkPressure}get lastSpeedLevel(){return 20}get autoStopLevel(){return 33}get stopsDistance(){return Tr.depthDistance}get recreationalOptions(){return{ascentSpeed50perc:Tr.recreSpeed,ascentSpeed50percTo6m:Tr.recreSpeed,ascentSpeed6m:Tr.recreSpeed,descentSpeed:Tr.descentSpeed,lastStopDepth:Tr.lastStopDepth,maxEND:Tr.maxEnd}}get recommendedOptions(){return{ascentSpeed50perc:Tr.recreSpeed,ascentSpeed50percTo6m:2*Tr.depthDistance,ascentSpeed6m:Tr.depthDistance,descentSpeed:Tr.descentSpeed,lastStopDepth:Tr.depthDistance,maxEND:Tr.maxEnd}}}Tr.lastStopDepth=15,Tr.depthDistance=10,Tr.descentSpeed=6*Tr.depthDistance,Tr.recreSpeed=3*Tr.depthDistance,Tr.maxEnd=10*Tr.depthDistance;let n6=(()=>{class n{constructor(t=n.defaultSac,r=c2.maxPpO2){this.rmv=t,this.maxPpO2=r,this.maxDecoPpO2=c2.maxDecoPpO2}get stressRmv(){return 3*this.rmv}static gasSac(t,r){return t/r}gasSac(t){return n.gasSac(this.rmv,t.size)}loadFrom(t){this.rmv=t.rmv,this.maxPpO2=t.maxPpO2,this.maxDecoPpO2=t.maxDecoPpO2}}return n.defaultSac=20,n})();class qu{constructor(e,t,r){this.gas=e,this.depth=t,this.density=r}static createDefault(){return new qu(M2.air,0,0)}applyHigher(e,t,r){r>this.density&&(this.gas=e,this.density=r,this.depth=t)}}let FT=(()=>{class n{constructor(){this.helium=.179,this.nitrogen=1.251,this.oxygen=1.428}forGas(t){return this.forContent(t.fO2,t.fHe)}forContent(t,r){return this.nitrogen*(1-t-r)+this.oxygen*t+this.helium*r}}return n.recommendedMaximum=5.7,n})();class RT{constructor(e){this.depthConverter=e,this.density=new FT}forProfile(e){const t=qu.createDefault();return e.forEach(r=>{const i=r.gas,a=this.density.forGas(i);this.applyHigher(t,i,r.startDepth,a),this.applyHigher(t,i,r.endDepth,a)}),t}atDepth(e,t){const r=this.density.forGas(e);return this.fromAtaDensity(r,t)}applyHigher(e,t,r,i){const a=this.fromAtaDensity(i,r);e.applyHigher(t,r,a)}fromAtaDensity(e,t){return e*this.depthConverter.toBar(t)}}class BT{constructor(e,t,r=M2.o2InAir){this.depthLevels=e,this.depthConverter=t,this.o2InAir=r}ead(e,t){const r=e/100,i=this.depthConverter.toBar(t),a=As.ead(r,i,this.o2InAir);if(a<=this.depthConverter.surfacePressure)return 0;let o=this.depthConverter.fromBar(a);return o=Dn.fix(o),Dn.ceilTwoDecimals(o)}bestMix(e,t){let r=100*As.bestMix(e,t,this.depthConverter);return r=Dn.fix(r),Dn.floor(r,2)}mod(e,t){let i=As.mod(e,t/100);return i=this.depthConverter.fromBar(i),i=Dn.fix(i),Dn.floor(i,2)}gasSwitch(e,t){const i=As.mod(e,t/100);return this.depthLevels.toDecoStop(i)}partialPressure(e,t){const r=this.depthConverter.toBar(t);let i=As.partialPressure(r,e)/100;return i=Dn.fix(i),Dn.ceilTwoDecimals(i)}}let Qy=(()=>{class n{constructor(t){this.depthConverter=t,this.minPressure=.5}calculateForProfile(t){let r=0;return t.forEach(i=>{const o=this.calculate(i.duration,i.gas.fO2,i.startDepth,i.endDepth);r+=o}),r}calculate(t,r,i,a){let o=U2.toMinutes(t),q=this.depthConverter.toBar(i)*r,de=this.depthConverter.toBar(a)*r;if(q<=this.minPressure&&de<=this.minPressure)return 0;q<=this.minPressure?(o=o*(de-this.minPressure)/(de-q),q=.501):de<=this.minPressure&&(o=o*(q-this.minPressure)/(q-de),de=.501);const ze=q+de-1;return Math.pow(ze,5/6)*(1-5*Math.pow(de-q,2)/216/Math.pow(ze,2))*o}}return n.dailyLimit=300,n})();class F2e{constructor(e,t,r){this.startDepth=e,this.endDepth=t,this.duration=r}get minDepth(){return Math.min(this.startDepth,this.endDepth)}get maxDepth(){return Math.max(this.startDepth,this.endDepth)}get isDescent(){return this.startDepth<this.endDepth}get isFlat(){return this.startDepth===this.endDepth}get isAscent(){return this.startDepth>this.endDepth}timeAt(e){const t=Xa.speed(this.startDepth,this.endDepth,this.duration),r=Xa.timeAt(this.startDepth,t,e);return Dn.round(r)}}class R2e{constructor(e){this.simpleDepths=qa.simple(),this.events=new NT,this.elapsed=0,this.index=0,this.fixedMnd=!0,this._mndBars=0,this.profile=e.profile,this.options=e.profileOptions,this.startAscentIndex=e.startAscentIndex,this.maxDensity=e.maxDensity,this.exactDepths=new Gu(this.options).create(),this.densityAtDepth=new RT(this.exactDepths),this.speeds=new ET(this.options);const t=ui.fromCollection(this.profile);this.speeds.markAverageDepth(t),this._mndBars=this.simpleDepths.toBar(this.options.maxEND)}get previous(){return this.index>0?this.profile[this.index-1]:null}get isBeforeDecoAscent(){return this.index<this.startAscentIndex}get maxPpo(){return this.isBeforeDecoAscent?this.options.maxPpO2:this.options.maxDecoPpO2}get current(){return this.profile[this.index]}get switchingGas(){return!!this.previous&&!this.current.gas.compositionEquals(this.previous.gas)}get switchingTank(){return!!this.previous&&!!this.previous.tank&&!!this.current.tank&&this.previous.tank!==this.current.tank}get maxMnd(){return this._mndBars}get currentEndTime(){return this.elapsed+this.current.duration}gasEnd(e){return this.current.gas.end(e,this.options.oxygenNarcotic)}addElapsed(){this.elapsed=this.currentEndTime}}class Jy{static fromProfile(e){const t=new R2e(e),r=new B2e(t.events);for(t.index=0;t.index<e.profile.length;t.index++){const i=this.toPressureSegment(t.current,t.simpleDepths);this.addHighPpO2(t,i),this.addLowPpO2(t,i),this.addGasSwitch(t),this.addUserTankSwitch(t),this.addHighDescentSpeed(t),this.addHighAscentSpeed(t),this.addSwitchHighN2(t),this.addMndExceeded(t,i),this.addDensityExceeded(t),r.assignSegment(t.current),Jy.addBrokenCeiling(r,e.ceilings,t.current),t.addElapsed()}return t.events}static addHighAscentSpeed(e){const t=e.current;let r=U2.toSeconds(t.speed);if(r=Dn.roundTwoDecimals(r),-r>e.speeds.ascent(t.startDepth)){const i=Za.createHighAscentSpeed(e.elapsed,t.startDepth);e.events.add(i)}}static addHighDescentSpeed(e){const t=e.current;if(U2.toSeconds(t.speed)>e.options.descentSpeed){const i=Za.createHighDescentSpeed(e.elapsed,t.startDepth);e.events.add(i)}}static addGasSwitch(e){if(e.switchingGas){const t=e.current,r=Za.createGasSwitch(e.elapsed,t.startDepth,t.gas);e.events.add(r)}}static addUserTankSwitch(e){if(e.switchingTank){const t=e.current,r=Za.createGasSwitch(e.elapsed,t.startDepth,t.gas);e.events.add(r)}}static toPressureSegment(e,t){const r=t.toBar(e.startDepth),i=t.toBar(e.endDepth);return new F2e(r,i,e.duration)}static addHighPpO2(e,t){if(t.isDescent||e.isBeforeDecoAscent&&e.switchingGas){const r=e.current.gas.mod(e.maxPpo);if(t.maxDepth>r){let i=t.startDepth,a=e.elapsed;t.startDepth<r&&(i=r,a+=t.timeAt(i));const o=e.simpleDepths.fromBar(i),_=Za.createHighPpO2(a,o);e.events.add(_)}}}static addLowPpO2(e,t){const r=e.current.gas.ceiling(e.simpleDepths.surfacePressure);if(t.minDepth<r&&e.switchingGas||t.startDepth>r&&r>t.endDepth&&t.isAscent||0===e.current.startDepth&&t.startDepth<r&&t.isDescent){let a=t.startDepth,o=e.elapsed;t.startDepth>r&&(a=r,o+=t.timeAt(a));const _=e.simpleDepths.fromBar(a),V=Za.createLowPpO2(o,_);e.events.add(V)}}static addBrokenCeiling(e,t,r){for(;e.lastCeilingIndex<e.currentSegmentEndTime&&e.lastCeilingIndex<t.length-1;){const i=t[e.lastCeilingIndex];e.lastCeilingIndex++;const a=e.belowCeiling(i,r);if(!a&&e.fixedBrokenCeiling){const o=Za.createBrokenCeiling(i.time,i.depth);e.events.add(o),e.fixedBrokenCeiling=!1;break}if(a&&!e.fixedBrokenCeiling&&(e.fixedBrokenCeiling=!0),i.time>e.currentSegmentEndTime)break}}static addSwitchHighN2(e){const t=e.current,r=e.previous;if(e.switchingGas&&r&&r.gas.fHe>0&&5*(t.gas.fN2-r.gas.fN2)>-(t.gas.fHe-r.gas.fHe)){const o=Za.createSwitchToHigherN2(e.elapsed,t.startDepth,t.gas);e.events.add(o)}}static addMndExceeded(e,t){const r=e.current,i=e.gasEnd(t.startDepth);e.maxMnd<i&&e.fixedMnd&&this.addMndEvent(e,e.elapsed,r.startDepth);const a=e.gasEnd(t.endDepth);e.maxMnd<a&&e.fixedMnd&&this.addMndEvent(e,e.elapsed+r.duration,r.endDepth),e.fixedMnd=a<=e.maxMnd}static addMndEvent(e,t,r){const a=Za.createMaxEndExceeded(t,r,e.current.gas);e.events.add(a),e.fixedMnd=!0}static addDensityExceeded(e){const t=e.current,r=t.gas,a=t.endDepth,o=t.endDepth>t.startDepth,_=e.switchingGas,V=e.densityAtDepth.atDepth(r,t.startDepth),q=e.densityAtDepth.atDepth(r,a);if(_&&V>e.maxDensity){const de=Za.createHighDensity(e.elapsed,t.startDepth,t.gas);e.events.add(de)}else if(o&&q>e.maxDensity){const ze=Za.createHighDensity(e.elapsed+t.duration,t.endDepth,t.gas);e.events.add(ze)}}}class B2e{constructor(e){this.events=e,this.lastCeilingIndex=0,this.currentSegmentStartTime=0,this.currentSegmentEndTime=0,this.fixedBrokenCeiling=!0}assignSegment(e){this.currentSegmentStartTime=this.currentSegmentEndTime,this.currentSegmentEndTime=this.currentSegmentStartTime+e.duration}belowCeiling(e,t){return t.depthAt(e.time-this.currentSegmentStartTime)>=e.depth}}class U2e{constructor(e){this.depthConverter=e}calculateSac(e,t,r,i){const a=this.depthConverter.toBar(e);return Dn.ceilTwoDecimals(t*r/i/a)}calculateDuration(e,t,r,i){const a=this.depthConverter.toBar(e);return Dn.ceil(t*r/i/a)}calculateUsed(e,t,r,i){const a=this.depthConverter.toBar(e);return Dn.ceil(r*a*i/t)}}class f1{constructor(){this._imperialUnits=!1,this._ranges=f1.createMetricRanges(),this.ranges$=new ks(this.ranges),this._defaults=new OT}get ranges(){return this._ranges}get defaults(){return this._defaults}get length(){return this.current.lengthShortcut}get pressure(){return this.current.pressureShortcut}get volume(){return this.current.volumeShortcut}get altitude(){return this.current.altitudeShortcut}get speed(){return this.length+ll}get sac(){return this.pressure+ll}get rmv(){return this.volume+ll}get density(){return this.current.densityShortcut}get imperialUnits(){return this._imperialUnits}get current(){return this.ranges.units}set imperialUnits(e){this._imperialUnits=e,this._imperialUnits?(this._ranges=f1.createImperial(),this._defaults=new Tr):(this._ranges=f1.createMetricRanges(),this._defaults=new OT),this.ranges$.next(this.ranges)}static createMetricRanges(){return new j2e}static createImperial(){return new G2e}toLiter(e){return this.current.toLiter(e)}fromLiter(e){return this.current.fromLiter(e)}toMeters(e){return this.current.toMeters(e)}fromMeters(e){return this.current.fromMeters(e)}toBar(e){return this.current.toBar(e)}fromBar(e){return this.current.fromBar(e)}fromTankLiters(e,t){return this.current.fromTankLiters(e,t)}toTankLiters(e,t){return this.current.toTankLiters(e,t)}fromGramPerLiter(e){return this.current.fromGramPerLiter(e)}}f1.\u0275fac=function(e){return new(e||f1)},f1.\u0275prov=Nn({token:f1,factory:f1.\u0275fac});const ll="/min",wr=(n,e)=>`${n[0]} - ${n[1]} ${e}`;class j2e{constructor(){this.units=new O2e,this.altitude=[0,5e3],this.altitudeLabel=wr(this.altitude,this.units.altitudeShortcut),this.depth=[1,350],this.depthLabel=wr(this.depth,this.units.lengthShortcut),this.diverRmv=[5,90],this.diverRmvLabel=wr(this.diverRmv,this.units.volumeShortcut+ll),this.duration=[1,1440],this.durationLabel=wr(this.duration,"min"),this.narcoticDepth=[1,100],this.narcoticDepthLabel=wr(this.narcoticDepth,this.units.lengthShortcut),this.nitroxOxygen=[21,100],this.nitroxOxygenLabel=wr(this.nitroxOxygen,"%"),this.lastStopDepth=[3,6],this.lastStopDepthLabel=wr(this.lastStopDepth,this.units.lengthShortcut),this.ppO2=[.21,3],this.rmvRounding=2,this.tankHe=[0,99],this.tankHeLabel=wr(this.tankHe,"%"),this.tankPressure=[30,350],this.tankPressureLabel=wr(this.tankPressure,this.units.pressureShortcut),this.tankSize=[1,50],this.tankSizeLabel=wr(this.tankSize,this.units.volumeShortcut),this.trimixOxygen=[1,100],this.trimixOxygenLabel=wr(this.trimixOxygen,"%"),this.speed=[.1,100],this.speedLabel=wr(this.speed,this.units.lengthShortcut+ll)}}class G2e{constructor(){this.units=new Ki,this.altitude=[0,16500],this.altitudeLabel=wr(this.altitude,this.units.altitudeShortcut),this.depth=[3,1150],this.depthLabel=wr(this.depth,this.units.lengthShortcut),this.diverRmv=[.17,3.178],this.diverRmvLabel=wr(this.diverRmv,this.units.volumeShortcut+ll),this.duration=[1,1440],this.durationLabel=wr(this.duration,"min"),this.narcoticDepth=[1,300],this.narcoticDepthLabel=wr(this.narcoticDepth,this.units.lengthShortcut),this.nitroxOxygen=[21,100],this.nitroxOxygenLabel=wr(this.nitroxOxygen,"%"),this.lastStopDepth=[10,20],this.lastStopDepthLabel=wr(this.lastStopDepth,this.units.lengthShortcut),this.ppO2=[.21,3],this.rmvRounding=4,this.tankHe=[0,99],this.tankHeLabel=wr(this.tankHe,"%"),this.tankPressure=[400,5100],this.tankPressureLabel=wr(this.tankPressure,this.units.pressureShortcut),this.tankSize=[1,300],this.tankSizeLabel=wr(this.tankSize,this.units.volumeShortcut),this.trimixOxygen=[1,100],this.trimixOxygenLabel=wr(this.trimixOxygen,"%"),this.speed=[1,300],this.speedLabel=wr(this.speed,this.units.lengthShortcut+ll)}}class Yu{constructor(e=new Th){this.options=e,this.depthConverter=qa.simple();const t=new kh(this.depthConverter,this.options);this.nitroxCalculator=new BT(t,this.depthConverter)}modForGas(e){return this.nitroxCalculator.mod(this.options.maxPpO2,e.o2)}mndForGas(e){const t=this.depthConverter.toBar(this.options.maxEND),r=e.mnd(t,this.options.oxygenNarcotic),i=this.depthConverter.fromBar(r);let a=Dn.fix(i);return a=Dn.roundTwoDecimals(a),a}switchDepth(e){return this.nitroxCalculator.gasSwitch(this.options.maxDecoPpO2,e.o2)}maxDepth(e){const t=this.mndForGas(e.gas),r=this.modForGas(e);return Math.min(t,r)}bestNitroxMix(e){const r=this.nitroxCalculator.bestMix(this.options.maxPpO2,e);return Dn.round(r)}}class ul{constructor(e,t){this.gfLow=e,this.gfHeigh=t}}class fl{constructor(){this.lowName="Low (45/95)",this.mediumName="Medium (40/85)",this.highName="High (30/75)",this.empty=new ul(1,1),this.gfMap=new Map,this.gfMap.set(this.lowName,new ul(.45,.95)),this.gfMap.set(this.mediumName,new ul(c2.gfLow,c2.gfHigh)),this.gfMap.set(this.highName,new ul(.3,.75))}labelFor(e,t){for(const r of this.gfMap.keys()){const i=this.gfMap.get(r)||this.empty;if(i.gfLow===e&&i.gfHeigh===t)return r}return""}get(e){return this.gfMap.get(e)||this.empty}}fl.\u0275fac=function(e){return new(e||fl)},fl.\u0275prov=Nn({token:fl,factory:fl.\u0275fac});class ar{constructor(e){this.units=e,this.safetyOffName="Never",this.safetyOnName="Always",this.standardGradients=new fl,this.options=new Th,this.onReloaded=new j,this._diver=new n6,this._toxicity=new Yu(this.options),this.options.salinity=Wa.fresh,this.options.safetyStop=us.auto,this.reloaded$=this.onReloaded.asObservable()}get toxicity(){return this._toxicity}get diver(){return this._diver}get maxEND(){return this.units.fromMeters(this.options.maxEND)}get lastStopDepth(){return this.units.fromMeters(this.options.lastStopDepth)}get descentSpeed(){return this.units.fromMeters(this.options.descentSpeed)}get ascentSpeed6m(){return this.units.fromMeters(this.options.ascentSpeed6m)}get ascentSpeed50percTo6m(){return this.units.fromMeters(this.options.ascentSpeed50percTo6m)}get ascentSpeed50perc(){return this.units.fromMeters(this.options.ascentSpeed50perc)}get altitude(){return this.units.fromMeters(this.options.altitude)}get gasSwitchDuration(){return this.options.gasSwitchDuration}get gfLow(){return this.options.gfLow}get gfHigh(){return this.options.gfHigh}get maxDecoPpO2(){return this.options.maxDecoPpO2}get maxPpO2(){return this.options.maxPpO2}get oxygenNarcotic(){return this.options.oxygenNarcotic}get problemSolvingDuration(){return this.options.problemSolvingDuration}get roundStopsToMinutes(){return this.options.roundStopsToMinutes}get safetyStop(){return this.options.safetyStop}get salinity(){return this.options.salinity}get safetyAutoName(){return`Auto (> ${this.units.defaults.autoStopLevel} ${this.units.length})`}get safetyStopOption(){switch(this.options.safetyStop){case us.never:return this.safetyOffName;case us.always:return this.safetyOnName;default:return this.safetyAutoName}}set maxEND(e){this.options.maxEND=this.units.toMeters(e)}set lastStopDepth(e){this.options.lastStopDepth=this.units.toMeters(e)}set descentSpeed(e){const t=this.units.toMeters(e);t<ar.minimumSpeed||(this.options.descentSpeed=t)}set ascentSpeed6m(e){const t=this.units.toMeters(e);t<ar.minimumSpeed||(this.options.ascentSpeed6m=t)}set ascentSpeed50percTo6m(e){const t=this.units.toMeters(e);t<ar.minimumSpeed||(this.options.ascentSpeed50percTo6m=t)}set ascentSpeed50perc(e){const t=this.units.toMeters(e);t<ar.minimumSpeed||(this.options.ascentSpeed50perc=t)}set altitude(e){this.options.altitude=this.units.toMeters(e)}set gasSwitchDuration(e){this.options.gasSwitchDuration=e}set gfLow(e){this.options.gfLow=e}set gfHigh(e){this.options.gfHigh=e}set maxDecoPpO2(e){this.options.maxDecoPpO2=e}set maxPpO2(e){this.options.maxPpO2=e}set oxygenNarcotic(e){this.options.oxygenNarcotic=e}set problemSolvingDuration(e){this.options.problemSolvingDuration=e}set roundStopsToMinutes(e){this.options.roundStopsToMinutes=e}set safetyStop(e){this.options.safetyStop=e}set salinity(e){this.options.salinity=e}useRecreational(){this.applyValues(this.units.defaults.recreationalOptions)}useRecommended(){this.applyValues(this.units.defaults.recommendedOptions)}useSafetyOff(){this.options.safetyStop=us.never}useSafetyAuto(){this.options.safetyStop=us.auto}useSafetyOn(){this.options.safetyStop=us.always}loadFrom(e,t){this.options.loadFrom(e),this.applyDiver(t),this.onReloaded.next()}applyDiver(e){this.options.maxPpO2=e.maxPpO2,this.options.maxDecoPpO2=e.maxDecoPpO2,this.diver.loadFrom(e)}resetToSimple(){""===this.standardGradients.labelFor(this.gfLow,this.gfHigh)&&c2.setMediumConservatism(this.options)}getOptions(){return this.options}applyValues(e){this.options.ascentSpeed50perc=this.units.toMeters(e.ascentSpeed50perc),this.options.ascentSpeed50percTo6m=this.units.toMeters(e.ascentSpeed50percTo6m),this.options.ascentSpeed6m=this.units.toMeters(e.ascentSpeed6m),this.options.descentSpeed=this.units.toMeters(e.descentSpeed),this.options.lastStopDepth=this.units.toMeters(e.lastStopDepth),this.options.maxEND=this.units.toMeters(e.maxEND),c2.useGeneralRecommended(this.options)}}ar.minimumSpeed=.1,ar.\u0275fac=function(e){return new(e||ar)(ln(f1))},ar.\u0275prov=Nn({token:ar,factory:ar.\u0275fac});var oo=(()=>{return(n=oo||(oo={}))[n.ALL=1]="ALL",n[n.HALF=2]="HALF",n[n.THIRD=3]="THIRD",oo;var n})();class $2e{constructor(e,t,r){this.units=e,this.segment=t,this.tankBound=r}get duration(){return U2.toMinutes(this.segment.duration)}get startDepth(){return this.units.fromMeters(this.segment.startDepth)}get endDepth(){return this.units.fromMeters(this.segment.endDepth)}get tank(){return this.tankBound}get tankLabel(){return this.tank.label}set duration(e){this.segment.duration=U2.toSeconds(e)}set endDepth(e){const t=this.units.toMeters(e);this.segment.endDepth=t}set tank(e){this.segment.tank=e.tank,this.tankBound=e}}class Zu{constructor(e,t){this.tank=e,this.units=t,this._workingPressure=this.units.toBar(this.units.defaults.primaryTankWorkPressure)}get id(){return this.tank.id}get size(){return this.units.fromTankLiters(this.tank.size,this._workingPressure)}get startPressure(){return this.units.fromBar(this.tank.startPressure)}get workingPressure(){return this.units.fromBar(this._workingPressure)}get workingPressureBars(){return this._workingPressure}get o2(){return this.tank.o2}get he(){return this.tank.he}get label(){let e=this.units.fromTankLiters(this.tank.size,this._workingPressure);e=Dn.round(e,1);let t=this.units.fromBar(this.tank.startPressure);return t=Dn.round(t,1),`${this.tank.id}. ${this.tank.name}/${e}/${t}`}set id(e){this.tank.id=e}set size(e){this.tank.size=this.units.toTankLiters(e,this._workingPressure)}set startPressure(e){this.tank.startPressure=this.units.toBar(e)}set workingPressure(e){const t=this.size;this._workingPressure=this.units.toBar(e),this.size=t}set workingPressureBars(e){const t=this.size;this._workingPressure=e,this.size=t}set o2(e){this.tank.o2=e}set he(e){this.tank.he=e}}class W2e{constructor(){this.calculated=!1,this.diveInfoCalculated=!1,this.profileCalculated=!1,this.calculationFailed=!1,this.maxTime=0,this.timeToSurface=0,this.turnPressure=0,this.turnTime=0,this.needsReturn=!1,this.notEnoughGas=!1,this.notEnoughTime=!1,this.noDecoExceeded=!1,this.emergencyAscentStart=0,this.averageDepth=0,this.otu=0,this.cns=0,this.highestDensity=qu.createDefault(),this.wayPoints=[],this.ceilings=[],this.events=[]}get totalDuration(){return 0===this.wayPoints.length?0:this.wayPoints[this.wayPoints.length-1].endTime}get hasErrors(){return this.calculated&&(this.calculationFailed||this.notEnoughTime)}get showResults(){return this.calculated&&!this.hasErrors}get otuExceeded(){return this.otu>.8*Qy.dailyLimit}get cnsExceeded(){return this.cns>.8}get showMaxDuration(){return this.calculated&&this.maxTime>0}get hasErrorEvent(){return this.hasErrors||this.notEnoughGas}get hasWarningEvent(){return this.otuExceeded||this.cnsExceeded||!this.events.every(e=>{switch(e.type){case q1.lowPpO2:case q1.highPpO2:case q1.highAscentSpeed:case q1.highDescentSpeed:case q1.brokenCeiling:case q1.switchToHigherN2:case q1.maxEndExceeded:case q1.highGasDensity:return!1;default:return!0}})}emptyProfile(){this.wayPoints=[],this.ceilings=[],this.events=[]}}var ki=(()=>{return(n=ki||(ki={}))[n.hover=0]="hover",n[n.ascent=1]="ascent",n[n.descent=2]="descent",n[n.switch=3]="switch",ki;var n})();class Ah{constructor(e,t,r,i=0){this.units=e,this.duration=t,this.selected=!1,this.startTime=0,this.endTime=0,this._startDepth=0,this._endDepth=0,this.speed=0,this.action=ki.hover,this._gasName="",this.endTime=Dn.roundTwoDecimals(t),this._endDepth=r,this._startDepth=i,this.updateSwimAction()}get gasName(){return this._gasName}get startDepth(){return this.units.fromMeters(this._startDepth)}get startDepthMeters(){return this._startDepth}get endDepth(){return this.units.fromMeters(this._endDepth)}get endDepthMeters(){return this._endDepth}get swimAction(){return this.action}static fromSegment(e,t){const r=new Ah(e,t.duration,t.endDepth),i=M2.nameFor(t.gas.fO2,t.gas.fHe);return r._gasName=i,r.speed=t.speed,r}asGasSwitch(){this.action=ki.switch}toLevel(e){const t=Ah.fromSegment(this.units,e);return t.startTime=this.endTime,t.endTime=Dn.roundTwoDecimals(this.endTime+e.duration),t._startDepth=this._endDepth,t.updateSwimAction(),t}fits(e){return this.startTime<=e&&e<this.endTime}depthAt(e){return Xa.depthAt(this._startDepth,this.speed,e)}updateSwimAction(){this.action=ki.hover,this._startDepth<this._endDepth&&(this.action=ki.descent),this._startDepth>this._endDepth&&(this.action=ki.ascent)}}var q2e=pe(489),dl=pe.n(q2e);class Qi{constructor(e){this.units=e,this._tanks=[],this.onTanksReloaded=new j,this.onTankRemoved=new j,this.addTankBy(this.defaults.primaryTankSize,this.defaults.primaryTankWorkPressure),this.tanksReloaded=this.onTanksReloaded.asObservable(),this.tankRemoved=this.onTankRemoved.asObservable()}get defaults(){return this.units.defaults}get tanks(){return this._tanks.slice()}get firstTank(){return this._tanks[0]}get singleTank(){return 1===this._tanks.length}get enoughGas(){return t6.haveReserve(this.tankData)}get tankData(){return dl()(this._tanks).map(e=>e.tank).value()}addTank(){this.addTankBy(this.defaults.stageTankSize,this.defaults.stageTankWorkPressure)}removeTank(e){this._tanks=this._tanks.filter(t=>t!==e),this.renumberIds(),this.onTankRemoved.next(e.tank)}loadFrom(e){if(e.length>0){const t=[];for(let r=0;r<e.length;r++)this.addTankFor(t,e[r]);this._tanks=t}this.onTanksReloaded.next()}copyTanksConsumption(e){for(let t=0;t<this.tanks.length;t++){const r=e[t],i=this.tanks[t];i.tank.consumed=r.consumed,i.tank.reserve=r.reserve}}calculateTurnPressure(){return this.firstTank.startPressure-Dn.floor(this.firstTank.tank.consumed/2)}resetToSimple(){this._tanks=this._tanks.slice(0,1),this.firstTank.he>0&&this.firstTank.tank.assignStandardGas("Air"),this.onTanksReloaded.next()}firstBy(e){return dl()(this._tanks).find(t=>t.tank===e)}addTankBy(e,t){const r=$o.createDefault(),i=this.addTankFor(this._tanks,r);i.workingPressure=t,i.size=e}addTankFor(e,t){const r=new Zu(t,this.units);return e.push(r),r.id=e.length,r}renumberIds(){for(let e=0;e<this._tanks.length;e++)this._tanks[e].id=e+1}}Qi.\u0275fac=function(e){return new(e||Qi)(ln(f1))},Qi.\u0275prov=Nn({token:Qi,factory:Qi.\u0275fac});class Rr{constructor(){this.noDecoTime=0,this.strategy=oo.ALL,this._segments=new ui,this.onReloaded=new j,this.reloaded$=this.onReloaded.asObservable()}get length(){return this._segments.length}get minimumSegments(){return this.length>1}get notEnoughTime(){return 2===this.length&&0===this.segments[1].duration}get segments(){return this._segments.items}get maxDepth(){return this._segments.maxDepth}get startAscentIndex(){return this._segments.startAscentIndex}get startAscentTime(){return this._segments.startAscentTime}get duration(){return U2.toMinutes(this._segments.duration)}get availablePressureRatio(){return this.strategy===oo.THIRD?2/3:1}get needsReturn(){return this.strategy!==oo.ALL}get noDecoExceeded(){return this.duration>this.noDecoTime}copySegments(){return this._segments.copy()}setSimple(e,t,r,i){this.reset(e,t,r,i),this.onReloaded.next()}assignDepth(e,t,r){this._segments=$u.createForPlan(e,this.duration,t,r),this.onReloaded.next()}assignDuration(e,t,r){this._segments=$u.createForPlan(this.maxDepth,e,t,r),this.onReloaded.next()}addSegment(e){const t=this._segments.last();this._segments.addChangeTo(t.endDepth,e.gas,Rr.defaultDuration).tank=e}removeSegment(e){this._segments.remove(e)}fixDepths(){this._segments.fixStartDepths()}loadFrom(e){e.length<=1||(this._segments=ui.fromCollection(e),this.onReloaded.next())}resetSegments(e,t){this.segments.forEach(r=>{r.tank===e&&(r.tank=t)}),this.onReloaded.next()}reset(e,t,r,i){this._segments=$u.createForPlan(e,t,r,i)}}Rr.defaultDuration=10*U2.oneMinute,Rr.\u0275fac=function(e){return new(e||Rr)},Rr.\u0275prov=Nn({token:Rr,factory:Rr.\u0275fac});class hl{constructor(e,t,r,i){this.options=e,this.units=t,this.tanksService=r,this.plan=i}get ranges(){return this.units.ranges}apply(){this.applyToOptions(),this.normalizeTanks(),this.normalizeSegments()}applyToOptions(){this.options.diver.rmv=this.fitUnit(r=>this.units.fromLiter(r),r=>this.units.toLiter(r),this.options.diver.rmv,this.units.ranges.diverRmv,this.units.ranges.rmvRounding),this.applyOptionsCalculationValues(),this.normalizeOptions()}applyOptionsCalculationValues(){const e=this.units.defaults,t=this.options.getOptions();t.decoStopDistance=this.units.toMeters(e.stopsDistance),t.minimumAutoStopDepth=this.units.toMeters(e.autoStopLevel),t.lastStopDepth=this.units.toMeters(e.stopsDistance)}normalizeOptions(){this.options.altitude=this.fitUnit(t=>t,t=>t,this.options.altitude,this.ranges.altitude),this.options.useRecreational()}normalizeTanks(){this.tanksService.tanks.forEach(t=>{const r=t.tank;if(this.units.imperialUnits){const a=r.size;t.workingPressure=this.units.defaults.primaryTankWorkPressure,t.size=this.units.fromTankLiters(a,t.workingPressureBars)}else t.workingPressureBars=0;r.startPressure=this.fitPressureToRange(r.startPressure,this.ranges.tankPressure);const i=this.units.toBar(t.workingPressure);r.size=this.fitTankSizeToRange(r.size,i,this.ranges.tankSize)})}normalizeSegments(){this.plan.segments.forEach(t=>{t.startDepth=this.fitLengthToRange(t.startDepth,this.ranges.depth),t.endDepth=this.fitLengthToRange(t.endDepth,this.ranges.depth)}),this.plan.fixDepths()}fitLengthToRange(e,t){return this.fitUnit(r=>this.units.fromMeters(r),r=>this.units.toMeters(r),e,t)}fitPressureToRange(e,t){return this.fitUnit(r=>this.units.fromBar(r),r=>this.units.toBar(r),e,t)}fitTankSizeToRange(e,t,r){return this.fitUnit(i=>this.units.fromTankLiters(i,t),i=>this.units.toTankLiters(i,t),e,r,1)}fitUnit(e,t,r,i,a=0){let o=e(r);return o=Dn.round(o,a),o=this.fitToRange(o,i[0],i[1]),t(o)}fitToRange(e,t,r){return e>r?r:e<t?t:e}}hl.\u0275fac=function(e){return new(e||hl)(ln(ar),ln(f1),ln(Qi),ln(Rr))},hl.\u0275prov=Nn({token:hl,factory:hl.\u0275fac});var Tk={prefix:"fas",iconName:"table",icon:[512,512,[],"f0ce","M64 256V160H224v96H64zm0 64H224v96H64V320zm224 96V320H448v96H288zM448 256H288V160H448v96zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"]},r_={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},Rk={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zm32 224c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"]},s_={prefix:"fas",iconName:"chart-area",icon:[512,512,["area-chart"],"f1fe","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64V400c0 44.2 35.8 80 80 80H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H80c-8.8 0-16-7.2-16-16V64zm96 288H448c17.7 0 32-14.3 32-32V251.8c0-7.6-2.7-15-7.7-20.8l-65.8-76.8c-12.1-14.2-33.7-15-46.9-1.8l-21 21c-10 10-26.4 9.2-35.4-1.6l-39.2-47c-12.6-15.1-35.7-15.4-48.7-.6L135.9 215c-5.1 5.8-7.9 13.3-7.9 21.1v84c0 17.7 14.3 32 32 32z"]},DV={prefix:"fas",iconName:"shuffle",icon:[512,512,[128256,"random"],"f074","M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160H352c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96h32V64c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V416H352c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8h32V320c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"]},g_={prefix:"fas",iconName:"layer-group",icon:[576,512,[],"f5fd","M264.5 5.2c14.9-6.9 32.1-6.9 47 0l218.6 101c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 149.8C37.4 145.8 32 137.3 32 128s5.4-17.9 13.9-21.8L264.5 5.2zM476.9 209.6l53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 277.8C37.4 273.8 32 265.3 32 256s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0l152-70.2zm-152 198.2l152-70.2 53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 405.8C37.4 401.8 32 393.3 32 384s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0z"]},dN={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},JN={prefix:"fas",iconName:"user-gear",icon:[640,512,["user-cog"],"f4fe","M224 256c-70.7 0-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128s-57.3 128-128 128zm-45.7 48h91.4c11.8 0 23.4 1.2 34.5 3.3c-2.1 18.5 7.4 35.6 21.8 44.8c-16.6 10.6-26.7 31.6-20 53.3c4 12.9 9.4 25.5 16.4 37.6s15.2 23.1 24.4 33c15.7 16.9 39.6 18.4 57.2 8.7v.9c0 9.2 2.7 18.5 7.9 26.3H29.7C13.3 512 0 498.7 0 482.3C0 383.8 79.8 304 178.3 304zM436 218.2c0-7 4.5-13.3 11.3-14.8c10.5-2.4 21.5-3.7 32.7-3.7s22.2 1.3 32.7 3.7c6.8 1.5 11.3 7.8 11.3 14.8v30.6c7.9 3.4 15.4 7.7 22.3 12.8l24.9-14.3c6.1-3.5 13.7-2.7 18.5 2.4c7.6 8.1 14.3 17.2 20.1 27.2s10.3 20.4 13.5 31c2.1 6.7-1.1 13.7-7.2 17.2l-25 14.4c.4 4 .7 8.1 .7 12.3s-.2 8.2-.7 12.3l25 14.4c6.1 3.5 9.2 10.5 7.2 17.2c-3.3 10.6-7.8 21-13.5 31s-12.5 19.1-20.1 27.2c-4.8 5.1-12.5 5.9-18.5 2.4l-24.9-14.3c-6.9 5.1-14.3 9.4-22.3 12.8l0 30.6c0 7-4.5 13.3-11.3 14.8c-10.5 2.4-21.5 3.7-32.7 3.7s-22.2-1.3-32.7-3.7c-6.8-1.5-11.3-7.8-11.3-14.8V454.8c-8-3.4-15.6-7.7-22.5-12.9l-24.7 14.3c-6.1 3.5-13.7 2.7-18.5-2.4c-7.6-8.1-14.3-17.2-20.1-27.2s-10.3-20.4-13.5-31c-2.1-6.7 1.1-13.7 7.2-17.2l24.8-14.3c-.4-4.1-.7-8.2-.7-12.4s.2-8.3 .7-12.4L343.8 325c-6.1-3.5-9.2-10.5-7.2-17.2c3.3-10.6 7.7-21 13.5-31s12.5-19.1 20.1-27.2c4.8-5.1 12.4-5.9 18.5-2.4l24.8 14.3c6.9-5.1 14.5-9.4 22.5-12.9V218.2zm92.1 133.5c0-26.5-21.5-48-48.1-48s-48.1 21.5-48.1 48s21.5 48 48.1 48s48.1-21.5 48.1-48z"]},yE={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"]},Ku={prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"]},H_={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336c44.2 0 80-35.8 80-80s-35.8-80-80-80s-80 35.8-80 80s35.8 80 80 80z"]},Gh={prefix:"fas",iconName:"battery-half",icon:[576,512,["battery-3"],"f242","M0 176c0-44.2 35.8-80 80-80H464c44.2 0 80 35.8 80 80v16c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32v16c0 44.2-35.8 80-80 80H80c-44.2 0-80-35.8-80-80V176zm80-16c-8.8 0-16 7.2-16 16V336c0 8.8 7.2 16 16 16H464c8.8 0 16-7.2 16-16V176c0-8.8-7.2-16-16-16H80zm208 32V320H96V192H288z"]},UE={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M0 416c0-17.7 14.3-32 32-32l54.7 0c12.3-28.3 40.5-48 73.3-48s61 19.7 73.3 48L480 384c17.7 0 32 14.3 32 32s-14.3 32-32 32l-246.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 448c-17.7 0-32-14.3-32-32zm192 0c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32zM384 256c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32zm-32-80c32.8 0 61 19.7 73.3 48l54.7 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-54.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l246.7 0c12.3-28.3 40.5-48 73.3-48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32s-14.3-32-32-32zm73.3 0L480 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l-214.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 128C14.3 128 0 113.7 0 96S14.3 64 32 64l86.7 0C131 35.7 159.2 16 192 16s61 19.7 73.3 48z"]},L_={prefix:"fas",iconName:"calculator",icon:[384,512,[128425],"f1ec","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64zM96 64H288c17.7 0 32 14.3 32 32v32c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32zM64 224c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32zm32 64c17.7 0 32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32zM64 416c0-17.7 14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H96c-17.7 0-32-14.3-32-32zM192 192c17.7 0 32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32zM160 320c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32zM288 192c17.7 0 32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32zM256 320c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32zm32 64c17.7 0 32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32z"]},CP={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},NP={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},PP={prefix:"fas",iconName:"list-check",icon:[576,512,["tasks"],"f0ae","M184.1 38.2c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L39 113c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zm0 160c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L39 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zM256 96c0-17.7 14.3-32 32-32H512c17.7 0 32 14.3 32 32s-14.3 32-32 32H288c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32H512c17.7 0 32 14.3 32 32s-14.3 32-32 32H288c-17.7 0-32-14.3-32-32zM192 416c0-17.7 14.3-32 32-32H512c17.7 0 32 14.3 32 32s-14.3 32-32 32H224c-17.7 0-32-14.3-32-32zM80 464c-26.5 0-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48z"]},U_={prefix:"fas",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M352 224H305.5c-45 0-81.5 36.5-81.5 81.5c0 22.3 10.3 34.3 19.2 40.5c6.8 4.7 12.8 12 12.8 20.3c0 9.8-8 17.8-17.8 17.8h-2.5c-2.4 0-4.8-.4-7.1-1.4C210.8 374.8 128 333.4 128 240c0-79.5 64.5-144 144-144h80V34.7C352 15.5 367.5 0 386.7 0c8.6 0 16.8 3.2 23.2 8.9L548.1 133.3c7.6 6.8 11.9 16.5 11.9 26.7s-4.3 19.9-11.9 26.7l-139 125.1c-5.9 5.3-13.5 8.2-21.4 8.2H384c-17.7 0-32-14.3-32-32V224zM80 96c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16H400c8.8 0 16-7.2 16-16V384c0-17.7 14.3-32 32-32s32 14.3 32 32v48c0 44.2-35.8 80-80 80H80c-44.2 0-80-35.8-80-80V112C0 67.8 35.8 32 80 32h48c17.7 0 32 14.3 32 32s-14.3 32-32 32H80z"]},Ju={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},Kh={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32z"]};class fa{constructor(){this.unsubscribe$=new j}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}fa.\u0275fac=function(e){return new(e||fa)},fa.\u0275prov=Nn({token:fa,factory:fa.\u0275fac});class fi{constructor(e){this.numberPipe=e}controlInValid(e){return!!e&&e.invalid&&(e.dirty||e.touched)}}fi.\u0275fac=function(e){return new(e||fi)(ln(Ha))},fi.\u0275prov=Nn({token:fi,factory:fi.\u0275fac});class ni{constructor(e){this.units=e}get nitroxOxygen(){return this.rangeFor(this.ranges.nitroxOxygen)}get trimixOxygen(){return this.rangeFor(this.ranges.trimixOxygen)}get trimixHe(){return this.rangeFor(this.ranges.tankHe)}get ppO2(){return this.rangeFor(this.ranges.ppO2)}get depth(){return this.rangeFor(this.ranges.depth)}get duration(){return this.rangeFor(this.ranges.duration)}get tankPressure(){return this.rangeFor(this.ranges.tankPressure)}get tankSize(){return this.rangeFor(this.ranges.tankSize)}get altitude(){return this.rangeFor(this.ranges.altitude)}get gradients(){return this.rangeFor([10,100])}get speed(){return this.rangeFor(this.ranges.speed)}get lastStopDepth(){return this.rangeFor(this.ranges.lastStopDepth)}get gasSwitchDuration(){return this.rangeFor([1,100])}get problemSolvingDuration(){return this.rangeFor([1,100])}get maxEnd(){return this.rangeFor(this.ranges.narcoticDepth)}get diverRmv(){return[Uc.required,this.validateMinRmv,this.validateMaxRmv]}get ranges(){return this.units.ranges}validateMinRmv(){return e=>Uc.min(this.ranges.diverRmv[0])(e)}validateMaxRmv(){return e=>Uc.max(this.ranges.diverRmv[1])(e)}rangeFor(e){return[Uc.required,Uc.min(e[0]),Uc.max(e[1])]}}ni.\u0275fac=function(e){return new(e||ni)(ln(f1))},ni.\u0275prov=Nn({token:ni,factory:ni.\u0275fac});class r6{constructor(e,t,r,i){this.fb=e,this.inputs=t,this.validators=r,this.units=i,this.maxPpO2=1.4,this.label="",this.controlName="maxPpO2",this.ppO2Change=new a1}get ppO2Invalid(){const e=this.pO2Form.get(this.controlName);return!e||this.inputs.controlInValid(e)}ngOnInit(){this.pO2Form||(this.pO2Form=this.fb.group({}));const e=this.fb.control(Dn.round(this.maxPpO2,2),this.validators.ppO2);this.pO2Form.addControl(this.controlName,e)}fireChanged(){if(this.ppO2Invalid)return;const e=this.pO2Form.get(this.controlName),t=Number(e?.value);this.ppO2Change.emit(t)}}r6.\u0275fac=function(e){return new(e||r6)(yt(Aa),yt(fi),yt(ni),yt(f1))},r6.\u0275cmp=L2({type:r6,selectors:[["app-pp-o2"]],inputs:{maxPpO2:"maxPpO2",label:"label",controlName:"controlName",pO2Form:"pO2Form"},outputs:{ppO2Change:"ppO2Change"},decls:6,vars:7,consts:[[3,"formGroup"],["for","maxPpO2","mdbLabel","",1,"form-label"],["id","maxPpO2","type","number","step","0.1",1,"form-control",3,"formControlName","min","max","input"],[1,"invalid-feedback","position-absolute"]],template:function(e,t){1&e&&(Z1(0,0),Ae(1,"label",1),_t(2),Ne(),Ae(3,"input",2),vn("input",function(){return t.fireChanged()}),Ne(),Ae(4,"div",3),_t(5,"Needs to be number 0.21-3"),Ne(),X1()),2&e&&(dt("formGroup",t.pO2Form),Ve(2),y1(t.label),Ve(1),u2("is-invalid",t.ppO2Invalid),dt("formControlName",t.controlName)("min",t.units.ranges.ppO2[0])("max",t.units.ranges.ppO2[1]))},dependencies:[$i,Ta,Da,la,Va,ka,zi,ua,Ts]});class r5 extends fa{constructor(e,t,r,i){super(),this.fb=e,this.inputs=t,this.validators=r,this.units=i,this.diver=new n6,this.icon=JN,this._rmvStep=2}get ranges(){return this.units.ranges}get rmv(){const e=this.units.ranges.rmvRounding,r=this.units.fromLiter(this.diver.rmv);return Dn.round(r,e)}get rmvInvalid(){return this.inputs.controlInValid(this.diverForm.controls.rmv)}get rmvStep(){return this._rmvStep}ngOnInit(){this.diverForm||(this.diverForm=this.fb.group({}));const e=this.fb.control(this.rmv,this.validators.diverRmv);this.diverForm.addControl("rmv",e),this.units.ranges$.pipe(K1(this.unsubscribe$)).subscribe(t=>this.rangeChanged(t))}inputChanged(){if(this.diverForm.invalid)return;const e=Number(this.diverForm.value.rmv);this.diver.rmv=this.units.toLiter(e)}maxPpO2Changed(e){this.diver.maxPpO2=e}maxDecoPpO2Changed(e){this.diver.maxDecoPpO2=e}rangeChanged(e){this._rmvStep=Math.pow(10,-(e.rmvRounding-1)),this.diverForm.patchValue({rmv:this.rmv})}}r5.\u0275fac=function(e){return new(e||r5)(yt(Aa),yt(fi),yt(ni),yt(f1))},r5.\u0275cmp=L2({type:r5,selectors:[["app-diver"]],inputs:{diver:"diver",diverForm:"diverForm"},features:[p1],decls:18,vars:13,consts:[[1,"mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"mt-2"],["for","sac","mdbLabel","",1,"form-label"],["id","sac","formControlName","rmv","type","number",1,"form-control",3,"min","max","step","input"],[1,"invalid-feedback","position-absolute"],[1,"pt-2","mt-4"],["label","Maximum ppO2:","controlName","maxPO2",3,"maxPpO2","pO2Form","ppO2Change"],[1,"pt-2","my-4"],["label","Maximum deco ppO2:","controlName","maxDecoPO2",3,"maxPpO2","pO2Form","ppO2Change"]],template:function(e,t){1&e&&(Ae(0,"div",0)(1,"div",1)(2,"div",2),Pn(3,"fa-icon",3),Ae(4,"span"),_t(5,"Diver"),Ne()(),Ae(6,"div",4),Z1(7,5),Ae(8,"div",6)(9,"label",7),_t(10),Ne(),Ae(11,"input",8),vn("input",function(){return t.inputChanged()}),Ne(),Ae(12,"div",9),_t(13),Ne()(),Ae(14,"div",10)(15,"app-pp-o2",11),vn("ppO2Change",function(i){return t.maxPpO2Changed(i)}),Ne()(),Ae(16,"div",12)(17,"app-pp-o2",13),vn("ppO2Change",function(i){return t.maxDecoPpO2Changed(i)}),Ne()(),X1(),Ne()()()),2&e&&(Ve(3),dt("icon",t.icon),Ve(4),dt("formGroup",t.diverForm),Ve(3),jn("RMV [",t.units.rmv,"]:"),Ve(1),u2("is-invalid",t.rmvInvalid),dt("min",t.ranges.diverRmv[0])("max",t.ranges.diverRmv[1])("step",t.rmvStep),Ve(2),jn("Needs to be number ",t.ranges.diverRmvLabel,""),Ve(2),dt("maxPpO2",t.diver.maxPpO2)("pO2Form",t.diverForm),Ve(2),dt("maxPpO2",t.diver.maxDecoPpO2)("pO2Form",t.diverForm))},dependencies:[$i,Ta,Da,la,Va,ka,zi,ua,qi,Ts,r6]});class a5{constructor(e,t,r,i,a,o){this.units=e,this.settingsNormalization=t,this.formBuilder=r,this.router=i,this.cd=a,this.options=o,this.flagIcon=CD,this.diver=new n6,this.diver.loadFrom(this.options.diver)}ngOnInit(){this.settingsForm=this.formBuilder.group({imperialUnits:[this.units.imperialUnits,[Uc.required]]})}goBack(){var e=this;return zh(function*(){return yield e.router.navigateByUrl("/")})()}use(){if(this.settingsForm.invalid)return;const e=Boolean(this.settingsForm.controls.imperialUnits.value);this.options.applyDiver(this.diver),this.units.imperialUnits=e,this.settingsNormalization.apply(),this.cd.detectChanges()}}a5.\u0275fac=function(e){return new(e||a5)(yt(f1),yt(hl),yt(Aa),yt(Zi),yt(L3),yt(ar))},a5.\u0275cmp=L2({type:a5,selectors:[["app-app-settings"]],decls:26,vars:7,consts:[[1,"row","mt-5"],[1,"row",3,"formGroup"],[1,"col","col-12","col-sm-5","col-lg-4","col-xl-3","col-xxl-2",3,"diver","diverForm"],[1,"col","col-12","col-sm-7","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[1,"form-check"],["type","radio","id","metricRadio","formControlName","imperialUnits",1,"form-check-input",3,"value"],["for","metricRadio","value","metric",1,"custom-control-label"],["type","radio","id","imperialRadio","formControlName","imperialUnits",1,"form-check-input",3,"value"],["for","imperialRadio",1,"custom-control-label"],[1,"row"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-secondary",3,"hidden","click"]],template:function(e,t){1&e&&(Ae(0,"div",0)(1,"form",1),Pn(2,"app-diver",2),Ae(3,"div",3)(4,"div",4)(5,"div",5),Pn(6,"fa-icon",6),Ae(7,"span"),_t(8,"Units"),Ne()(),Ae(9,"div",7)(10,"div",8),Pn(11,"input",9),Ae(12,"label",10),_t(13,"Metric units (m, l, bar)"),Ne()(),Ae(14,"div",8),Pn(15,"input",11),Ae(16,"label",12),_t(17,"Imperial units (ft, cuft, psi)"),Pn(18,"br"),_t(19," (Experimental, not recommended)"),Ne()()()()()()(),Ae(20,"div",13)(21,"div",14)(22,"button",15),vn("click",function(){return t.goBack()}),_t(23,"Back"),Ne(),Ae(24,"button",16),vn("click",function(){return t.use()}),_t(25,"Use"),Ne()()()),2&e&&(Ve(1),dt("formGroup",t.settingsForm),Ve(1),dt("diver",t.diver)("diverForm",t.settingsForm),Ve(4),dt("icon",t.flagIcon),Ve(5),dt("value",!1),Ve(4),dt("value",!0),Ve(9),dt("hidden",!t.settingsForm.valid))},dependencies:[V3,$i,$g,Da,la,zi,ua,qi,r5]});class o1{static toTanks(e){const t=[];return e.forEach(r=>{const i=new $o(r.size,r.startPressure,0);i.id=r.id,i.gas.fO2=r.gas.fO2,i.gas.fHe=r.gas.fHe,t.push(i)}),t6.renumberIds(t),t}static loadWorkingPressure(e,t){for(let r=0;r<t.length;r++)t[r].workingPressureBars=e[r].workPressure}static fromTanks(e){const t=[];return e.forEach(r=>{const i=r.tank,a={id:i.id,size:i.size,workPressure:r.workingPressureBars,startPressure:i.startPressure,gas:o1.fromGas(i.gas)};t.push(a)}),t}static toConsumed(e){const t=[];for(let r=0;r<e.length;r++){const i=e[r];t.push({id:i.id,consumed:i.consumed,reserve:i.reserve})}return t}static toSegments(e,t){const r=[];for(let i=0;i<e.length;i++){const a=e[i],o=o1.toGas(a.gas),_=new Xa(a.startDepth,a.endDepth,o,a.duration);a.tankId>0&&a.tankId<=t.length&&(_.tank=t[a.tankId-1]),r.push(_)}return r}static fromSegments(e){const t=[];return e.forEach(r=>{const a={startDepth:r.startDepth,endDepth:r.endDepth,duration:r.duration,tankId:r.tank?r.tank.id:0,gas:o1.fromGas(r.gas)};t.push(a)}),t}static toProfile(e,t){const r=o1.toSegments(e.segments,t);return e6.fromProfile(r,e.ceilings)}static fromProfile(e){return{segments:o1.fromSegments(e.segments),ceilings:e.ceilings,errors:o1.fromEvents(e.errors)}}static toEvents(e){const t=new NT;return e.forEach(r=>{const i=Ya.create(r.type,r.timeStamp,r.depth);i.message=r.message,r.gas&&(i.gas=o1.toGas(r.gas)),t.add(i)}),t}static fromEvents(e){const t=[];return e.forEach(r=>{const i={timeStamp:r.timeStamp,depth:r.depth,type:r.type,message:r.message};r.gas&&(i.gas=o1.fromGas(r.gas)),t.push(i)}),t}static fromDiver(e){return{rmv:e.rmv,maxPpO2:e.maxPpO2,maxDecoPpO2:e.maxDecoPpO2}}static toDiver(e){const t=new n6(e.rmv,e.maxPpO2);return t.maxDecoPpO2=e.maxDecoPpO2,t}static fromOptions(e){return{gfLow:e.gfLow,gfHigh:e.gfHigh,maxPpO2:e.maxPpO2,maxDecoPpO2:e.maxDecoPpO2,salinity:e.salinity,altitude:e.altitude,roundStopsToMinutes:e.roundStopsToMinutes,gasSwitchDuration:e.gasSwitchDuration,safetyStop:e.safetyStop,lastStopDepth:e.lastStopDepth,decoStopDistance:e.decoStopDistance,minimumAutoStopDepth:e.minimumAutoStopDepth,maxEND:e.maxEND,oxygenNarcotic:e.oxygenNarcotic,ascentSpeed6m:e.ascentSpeed6m,ascentSpeed50percTo6m:e.ascentSpeed50percTo6m,ascentSpeed50perc:e.ascentSpeed50perc,descentSpeed:e.descentSpeed,problemSolvingDuration:e.problemSolvingDuration}}static toOptions(e){const t=new Th(e.gfLow,e.gfHigh,e.maxPpO2,e.maxDecoPpO2,e.salinity);return t.altitude=e.altitude,t.roundStopsToMinutes=e.roundStopsToMinutes,t.gasSwitchDuration=e.gasSwitchDuration,t.safetyStop=e.safetyStop,t.lastStopDepth=e.lastStopDepth,t.decoStopDistance=e.decoStopDistance,t.minimumAutoStopDepth=e.minimumAutoStopDepth,t.maxEND=e.maxEND,t.oxygenNarcotic=e.oxygenNarcotic,t.ascentSpeed6m=e.ascentSpeed6m,t.ascentSpeed50percTo6m=e.ascentSpeed50percTo6m,t.ascentSpeed50perc=e.ascentSpeed50perc,t.descentSpeed=e.descentSpeed,t.problemSolvingDuration=e.problemSolvingDuration,t}static fromDensity(e){return{gas:o1.fromGas(e.gas),depth:e.depth,density:e.density}}static toDensity(e){const t=o1.toGas(e.gas);return new qu(t,e.depth,e.density)}static toGas(e){return new Di(e.fO2,e.fHe)}static fromGas(e){return{fO2:e.fO2,fHe:e.fHe}}}class Q_{static calculateDecompression(e){const t=o1.toTanks(e.tanks),r=o1.toSegments(e.plan,t),i=ui.fromCollection(r),a=ol.fromTanks(t),o=new Wu,_=o1.toOptions(e.options),V=o.calculateDecompression(_,a,i),q=o1.fromProfile(V),ze=Jy.fromProfile({maxDensity:e.eventOptions.maxDensity,startAscentIndex:i.startAscentIndex,profile:V.segments,ceilings:V.ceilings,profileOptions:_});return{profile:q,events:o1.fromEvents(ze.items)}}static diveInfo(e){const t=o1.toTanks(e.tanks),r=ol.fromTanks(t),i=o1.toSegments(e.plan,t),a=ui.fromCollection(i),o=new Wu,_=o1.toOptions(e.options),V=o.noDecoLimitMultiLevel(a,r,_),q=new Gu(e.options).create(),de=new Qy(q).calculateForProfile(i),ze=new I2e(q).calculateForProfile(i),je=new RT(q).forProfile(i);return{noDeco:V,otu:de,cns:ze,density:o1.fromDensity(je)}}static calculateConsumption(e){const t=new Gu(e.options).create(),r=new P2e(t),i=o1.toTanks(e.tanks),a=o1.toSegments(e.profile,i),o=o1.toSegments(e.plan,i),_=ui.fromCollection(o),V=new n6(e.diver.rmv,e.options.maxPpO2),q=o1.toOptions(e.options),de=r.calculateMaxBottomTime(_,i,V,q),ze=r.emergencyAscent(a,q,i);let je=ui.duration(ze);return je=U2.toMinutes(je),r.consumeFromTanks2(a,ze,q,i,V),{maxTime:de,timeToSurface:je,tanks:o1.toConsumed(i)}}}class J_{createProfileWorker(){const e=new j,t=new j;return{calculated$:e,calculate:r=>{this.tryAction(i=>Q_.calculateDecompression(i),r,e,t)},failed$:t}}createDiveInfoWorker(){const e=new j,t=new j;return{calculated$:e,calculate:r=>{this.tryAction(i=>Q_.diveInfo(i),r,e,t)},failed$:t}}createConsumptionWorker(){const e=new j,t=new j;return{calculated$:e,calculate:r=>{this.tryAction(i=>Q_.calculateConsumption(i),r,e,t)},failed$:t}}tryAction(e,t,r,i){try{const a=e(t);r.next(a)}catch{i.next()}}}class Qh{constructor(e,t,r,i){this.origin=e,this.wayPoints=t,this.ceilings=r,this.events=i}get endsOnSurface(){const e=this.wayPoints.length;return e>0&&0===this.wayPoints[e-1].endDepthMeters}static newEmpty(e){return new Qh([],[],[],e)}}class pl{constructor(e){this.units=e}calculateWayPoints(e,t){const r=[];if(e.errors.length>0)return Qh.newEmpty(e.errors);const i=e.segments[0];let a=Ah.fromSegment(this.units,i),o=i;return r.push(a),e.segments.slice(1).forEach(V=>{const q=this.toWayPoint(V,a,o);a=q,o=V,r.push(q)}),new Qh(e.segments,r,e.ceilings,t.items)}toWayPoint(e,t,r){const i=t.toLevel(e);return!e.gas.compositionEquals(r.gas)&&i.asGasSwitch(),i}}pl.\u0275fac=function(e){return new(e||pl)(ln(f1))},pl.\u0275prov=Nn({token:pl,factory:pl.\u0275fac});class Wr extends fa{constructor(e,t,r,i,a){super(),this.workerFactory=e,this.tanks=t,this.plan=r,this.optionsService=i,this.waypoints=a,this.dive=new W2e,this.calculating=!1,this.calculatingDiveInfo=!1,this.calculatingProfile=!1,this.onInfoCalculated=new j,this.onWayPointsCalculated=new j,this.infoCalculated$=this.onInfoCalculated.asObservable(),this.wayPointsCalculated$=this.onWayPointsCalculated.asObservable(),this.profileTask=this.workerFactory.createProfileWorker(),this.profileTask.calculated$.pipe(K1(this.unsubscribe$)).subscribe(o=>this.continueCalculation(o)),this.profileTask.failed$.pipe(K1(this.unsubscribe$)).subscribe(()=>this.profileFailed()),this.diveInfoTask=this.workerFactory.createDiveInfoWorker(),this.diveInfoTask.calculated$.pipe(K1(this.unsubscribe$)).subscribe(o=>this.finishDiveInfo(o)),this.diveInfoTask.failed$.pipe(K1(this.unsubscribe$)).subscribe(()=>this.profileFailed()),this.consumptionTask=this.workerFactory.createConsumptionWorker(),this.consumptionTask.calculated$.pipe(K1(this.unsubscribe$)).subscribe(o=>this.finishCalculation(o)),this.consumptionTask.failed$.pipe(K1(this.unsubscribe$)).subscribe(()=>this.profileFailed())}get ndlValid(){return this.dive.diveInfoCalculated&&this.plan.noDecoTime<Wr.maxAcceptableNdl}get serializableTanks(){return this.tanks.tanks}calculate(){this.startCalculatingState(),setTimeout(()=>{this.showStillRunning()},500);const e={tanks:o1.fromTanks(this.serializableTanks),plan:o1.fromSegments(this.plan.segments),options:o1.fromOptions(this.optionsService.getOptions()),eventOptions:this.createEventOptions()};this.profileTask.calculate(e)}startCalculatingState(){this.calculating=!0,this.calculatingProfile=!0,this.calculatingDiveInfo=!0}endCalculatingState(){this.calculating=!1,this.calculatingProfile=!1,this.calculatingDiveInfo=!1,this.dive.profileCalculated=!0,this.dive.diveInfoCalculated=!0,this.dive.calculated=!0}showStillRunning(){this.calculatingProfile&&(this.dive.profileCalculated=!1,this.dive.emptyProfile()),this.calculatingDiveInfo&&(this.dive.diveInfoCalculated=!1),this.calculating&&(this.dive.calculated=!1)}continueCalculation(e){const t=o1.fromSegments(this.plan.segments),r=this.tanks.tankData,i=o1.fromTanks(this.serializableTanks),a=o1.toProfile(e.profile,r),o=o1.toEvents(e.events),_=this.waypoints.calculateWayPoints(a,o);this.dive.wayPoints=_.wayPoints,this.dive.ceilings=_.ceilings,this.dive.events=_.events,this.dive.averageDepth=ui.averageDepth(_.origin);const V=o1.fromOptions(this.optionsService.getOptions());if(_.endsOnSurface){const q={tanks:i,plan:t,options:V,eventOptions:this.createEventOptions()};this.diveInfoTask.calculate(q);const de={plan:t,profile:o1.fromSegments(_.origin),options:V,diver:o1.fromDiver(this.optionsService.diver),tanks:i};this.consumptionTask.calculate(de),this.dive.profileCalculated=!0,this.calculatingProfile=!1,this.onWayPointsCalculated.next()}else this.profileFailed(),console.table(a.errors)}profileFailed(){this.dive.calculationFailed=!0,this.dive.events=[],this.dive.wayPoints=[],this.dive.ceilings=[],this.endCalculatingState(),this.onWayPointsCalculated.next(),this.onInfoCalculated.next()}finishDiveInfo(e){this.plan.noDecoTime=e.noDeco,this.dive.otu=e.otu,this.dive.cns=e.cns,this.dive.noDecoExceeded=this.plan.noDecoExceeded,this.dive.notEnoughTime=this.plan.notEnoughTime,this.dive.highestDensity=o1.toDensity(e.density),this.dive.diveInfoCalculated=!0,this.calculatingDiveInfo=!1}finishCalculation(e){this.tanks.copyTanksConsumption(e.tanks),this.dive.maxTime=e.maxTime,this.dive.timeToSurface=e.timeToSurface,this.dive.emergencyAscentStart=this.plan.startAscentTime,this.dive.turnPressure=this.tanks.calculateTurnPressure(),this.dive.turnTime=Dn.floor(this.plan.duration/2),this.dive.needsReturn=this.plan.needsReturn&&this.tanks.singleTank,this.dive.notEnoughGas=!this.tanks.enoughGas,this.dive.calculated=!0,this.dive.calculationFailed=!1,this.calculating=!1,this.onInfoCalculated.next()}createEventOptions(){return{maxDensity:FT.recommendedMaximum}}}Wr.maxAcceptableNdl=1e3,Wr.\u0275fac=function(e){return new(e||Wr)(ln(J_),ln(Qi),ln(Rr),ln(ar),ln(pl))},Wr.\u0275prov=Nn({token:Wr,factory:Wr.\u0275fac});class Ns{constructor(e,t,r){this.plan=e,this.options=t,this.tanks=r,this._isComplex=!1,this.onViewSwitched=new j,this.viewSwitched=this.onViewSwitched.asObservable()}get isComplex(){return this._isComplex}set isComplex(e){this._isComplex=e,e||this.resetToSimple(),this.onViewSwitched.next()}resetToSimple(){this.options.resetToSimple(),this.tanks.resetToSimple();const e=this.tanks.firstTank.tank,t=this.options.getOptions();this.plan.setSimple(this.plan.maxDepth,this.plan.duration,e,t)}}Ns.\u0275fac=function(e){return new(e||Ns)(ln(Rr),ln(ar),ln(Qi))},Ns.\u0275prov=Nn({token:Ns,factory:Ns.\u0275fac});class B4{constructor(e,t,r,i,a){this.viewSwitch=e,this.units=t,this.tanksService=r,this.plan=i,this.options=a}toPreferences(){return{states:this.toStates(),options:this.toAppSettings(this.viewSwitch),dives:this.toDives()}}applyApp(e){this.applyLoaded(e),this.applyStates()}applyLoaded(e){this.units.imperialUnits=e.options.imperialUnits,this.applyDives(e),this.viewSwitch.isComplex=e.options.isComplex}toAppSettings(e){return{imperialUnits:this.units.imperialUnits,isComplex:e.isComplex,language:"en"}}toDives(){return[{options:o1.fromOptions(this.options.getOptions()),diver:o1.fromDiver(this.options.diver),tanks:o1.fromTanks(this.tanksService.tanks),plan:o1.fromSegments(this.plan.segments)}]}applyDives(e){const t=e.dives[0],r=o1.toTanks(t.tanks),i=o1.toSegments(t.plan,r),a=o1.toDiver(t.diver),o=o1.toOptions(t.options);this.tanksService.loadFrom(r),o1.loadWorkingPressure(t.tanks,this.tanksService.tanks),this.options.loadFrom(o,a),this.plan.loadFrom(i)}toStates(){return{lastScreen:"/",state:{}}}applyStates(){}}B4.\u0275fac=function(e){return new(e||B4)(ln(Ns),ln(f1),ln(Qi),ln(Rr),ln(ar))},B4.\u0275prov=Nn({token:B4,factory:B4.\u0275fac});class Vi{constructor(e,t){this.planner=e,this.preferencesFactory=t}loadDefaults(){const e=localStorage.getItem(Vi.storageKey);if(!e)return;const t=JSON.parse(e);this.preferencesFactory.applyApp(t),this.planner.calculate()}saveDefaults(){const e=this.preferencesFactory.toPreferences(),t=JSON.stringify(e);localStorage.setItem(Vi.storageKey,t)}disableDisclaimer(){localStorage.setItem(Vi.disclaimerKey,Vi.disclaimerValue)}disclaimerEnabled(){return localStorage.getItem(Vi.disclaimerKey)!==Vi.disclaimerValue}}Vi.disclaimerValue="confirmed",Vi.storageKey="preferences",Vi.disclaimerKey="disclaimer",Vi.\u0275fac=function(e){return new(e||Vi)(ln(Wr),ln(B4))},Vi.\u0275prov=Nn({token:Vi,factory:Vi.\u0275fac});class co{constructor(e){this.planner=e,this.scheduled=!1}schedule(){this.scheduled||(this.scheduled=!0,setTimeout(()=>{this.planner.calculate(),this.scheduled=!1},100))}}co.\u0275fac=function(e){return new(e||co)(ln(Wr))},co.\u0275prov=Nn({token:co,factory:co.\u0275fac});class abe{constructor(e){this.ranges=this.createUnits(e),this.units=this.ranges.units;const t=U2.toSeconds(this.ranges.duration[0]),r=U2.toSeconds(this.ranges.duration[1]);this.simpleDurationRange=[1,r],this.complexDurationRange=[t,r]}validate(e){if(0===e.dives.length)return!1;const t=e.options.isComplex,r=e.options.imperialUnits,i=e.dives.every(o=>this.isValidPlan(o,t,r)),a=this.complexModeValid(e);return i&&a}createUnits(e){return e?f1.createImperial():f1.createMetricRanges()}isValidPlan(e,t,r){const i=e.tanks.length,a=this.selectContentRanges(t),o=this.allTanksValid(r,e.tanks,i,a),_=this.selectDurationRanges(t),V=this.allSegmentsValid(e.plan,i,_,a),q=this.optionsValid(e.options),de=this.diverValid(e.diver);return o&&V&&q&&de}selectContentRanges(e){return e?[this.ranges.trimixOxygen,this.ranges.tankHe]:[this.ranges.nitroxOxygen,[0,0]]}selectDurationRanges(e){return e?this.complexDurationRange:this.simpleDurationRange}allTanksValid(e,t,r,i){const a=t.length>0,o=dl()(t).every(q=>this.isValidTank(e,q,r,i)),V=dl()(t).map(q=>q.id).uniq().size()===t.length;return a&&o&&V}isValidTank(e,t,r,i){const a=this.isInRange(t.id,[1,r]),o=this.isTankSizeValid(t),_=this.isPressureInRange(t.startPressure,this.ranges.tankPressure),V=this.workingPressureValid(e,t),q=this.isValidGas(t.gas,i);return a&&o&&_&&q&&V}workingPressureValid(e,t){return e?this.isPressureInRange(t.workPressure,this.ranges.tankPressure):0===t.workPressure}isValidGas(e,t){const r=.209===e.fO2&&0===e.fHe,i=this.isInRange(100*e.fO2,t[0]),a=this.isInRange(100*e.fHe,t[1]);return r||i&&a&&e.fO2+e.fHe<=1}allSegmentsValid(e,t,r,i){return e.length>0&&dl()(e).every(a=>this.isValidSegment(a,t,r,i))}isValidSegment(e,t,r,i){const a=this.isInRange(e.tankId,[1,t]),o=[0,this.ranges.depth[1]],_=this.isLengthInRange(e.startDepth,o),V=this.isLengthInRange(e.endDepth,o),q=this.isInRange(e.duration,r),de=this.isValidGas(e.gas,i);return a&&_&&V&&q&&de}optionsValid(e){return this.isLengthInRange(e.altitude,this.ranges.altitude)&&this.isLengthInRange(e.ascentSpeed50perc,this.ranges.speed)&&this.isLengthInRange(e.ascentSpeed50percTo6m,this.ranges.speed)&&this.isLengthInRange(e.ascentSpeed6m,this.ranges.speed)&&this.isLengthInRange(e.descentSpeed,this.ranges.speed)&&this.isInRange(e.gasSwitchDuration,[1,10])&&this.isInRange(e.gfHigh,[.1,1])&&this.isInRange(e.gfLow,[.1,1])&&this.isLengthInRange(e.maxEND,this.ranges.narcoticDepth)&&this.isInRange(e.maxPpO2,this.ranges.ppO2)&&this.isInRange(e.maxDecoPpO2,this.ranges.ppO2)&&this.isInRange(e.problemSolvingDuration,[1,100])&&e.safetyStop in us&&e.salinity in Wa}diverValid(e){return this.isRmvValid(e.rmv)&&this.isInRange(e.maxPpO2,this.ranges.ppO2)&&this.isInRange(e.maxDecoPpO2,this.ranges.ppO2)}complexModeValid(e){return e.options.isComplex||this.allDivesSimple(e.dives)}allDivesSimple(e){return dl()(e).every(t=>2===t.plan.length&&1===t.tanks.length)}isRmvValid(e){const t=this.units.fromLiter(e);return this.isInRange(t,this.ranges.diverRmv)}isTankSizeValid(e){const t=this.units.fromTankLiters(e.size,e.workPressure);return this.isInRange(t,this.ranges.tankSize)}isPressureInRange(e,t){const r=this.units.fromBar(e);return this.isInRange(r,t)}isLengthInRange(e,t){const r=this.units.fromMeters(e);return this.isInRange(r,t)}isInRange(e,t){const r=Dn.round(e,6);return t[0]<=r&&r<=t[1]}}class Ea{constructor(e,t){this.paramValues=e.split(t)}static serializeBoolean(e){return e?Ea.trueValue:"0"}static deserializeBoolean(e){return e===Ea.trueValue}parseNumber(e){return Number(this.paramValues[e])}parseEnum(e){return Number(this.paramValues[e])}parseBoolean(e){return Ea.deserializeBoolean(this.paramValues[e])}processValues(e,t){for(let r=0;r<this.paramValues.length;r++)t(this.toPartContext(r,e))}toPartContext(e,t){return new Ea(this.paramValues[e],t)}}Ea.trueValue="1";class Ai{constructor(e,t,r,i,a,o,_){this.planner=e,this.viewSwitch=t,this.units=r,this.tanksService=i,this.plan=a,this.options=o,this.preferences=_}static parseDto(e){const t=new URLSearchParams(e),r=t.get("ao")||"",i=t.get("o")||"",a=t.get("di")||"",o=t.get("t")||"",_=t.get("de")||"",V=Ai.fromTanksParam(o);return{options:Ai.fromAppSettingsParam(r),dives:[{options:Ai.fromOptionsParam(i),diver:Ai.fromDiverParam(a),tanks:V,plan:Ai.fromDepthsParam(V,_)}]}}static fromAppSettingsParam(e){const t=new Ea(e,",");return{isComplex:t.parseBoolean(0),imperialUnits:t.parseBoolean(1),language:"en"}}static fromOptionsParam(e){const t=new Ea(e,",");return{altitude:t.parseNumber(0),ascentSpeed50perc:t.parseNumber(1),ascentSpeed50percTo6m:t.parseNumber(2),ascentSpeed6m:t.parseNumber(3),decoStopDistance:t.parseNumber(4),descentSpeed:t.parseNumber(5),gasSwitchDuration:t.parseNumber(6),gfHigh:t.parseNumber(7),gfLow:t.parseNumber(8),lastStopDepth:t.parseNumber(9),maxDecoPpO2:t.parseNumber(10),maxEND:t.parseNumber(11),maxPpO2:t.parseNumber(12),minimumAutoStopDepth:t.parseNumber(13),oxygenNarcotic:t.parseBoolean(14),problemSolvingDuration:t.parseNumber(15),roundStopsToMinutes:t.parseBoolean(16),safetyStop:t.parseEnum(17),salinity:t.parseEnum(18)}}static toOptionsParam(e){const t=Ea.serializeBoolean(e.oxygenNarcotic),r=Ea.serializeBoolean(e.roundStopsToMinutes);return`${e.altitude},${e.ascentSpeed50perc},${e.ascentSpeed50percTo6m},${e.ascentSpeed6m},${e.decoStopDistance},${e.descentSpeed},${e.gasSwitchDuration},${e.gfHigh},${e.gfLow},${e.lastStopDepth},${e.maxDecoPpO2},${e.maxEND},${e.maxPpO2},${e.minimumAutoStopDepth},${t},${e.problemSolvingDuration},${r},${e.safetyStop},${e.salinity}`}static fromDiverParam(e){const t=new Ea(e,",");return{rmv:t.parseNumber(0),maxPpO2:t.parseNumber(1),maxDecoPpO2:t.parseNumber(2)}}static toDiverParam(e){return`${e.rmv},${e.maxPpO2},${e.maxDecoPpO2}`}static fromTanksParam(e){let t=[];return new Ea(e,",").processValues("-",i=>{const a={id:i.parseNumber(0),size:i.parseNumber(1),workPressure:i.parseNumber(2),startPressure:i.parseNumber(3),gas:{fO2:i.parseNumber(4),fHe:i.parseNumber(5)}};t.push(a)}),t=dl().sortBy(t,[i=>i.id]),t}static toTanksParam(e){const t=[];return e.forEach(r=>{const i=r.tank,a=i.gas;t.push(`${i.id}-${i.size}-${r.workingPressureBars}-${i.startPressure}-${a.fO2}-${a.fHe}`)}),t.join(",")}static fromDepthsParam(e,t){const r=[];let a;return new Ea(t,",").processValues("-",o=>{const V=this.toSegment(o,e,a?a.endDepth:0);a=V,r.push(V)}),r}static toSegment(e,t,r){const i={startDepth:r,endDepth:e.parseNumber(1),duration:e.parseNumber(2),tankId:1,gas:{fO2:0,fHe:0}},a=e.parseNumber(3);if(0<a&&a<=t.length){const o=t[a-1];i.tankId=a,i.gas.fO2=o.gas.fO2,i.gas.fHe=o.gas.fHe}return i}static toDepthsParam(e){const t=[];return e.forEach(r=>{t.push(`${r.startDepth}-${r.endDepth}-${r.duration}-${r.tank?r.tank.id:0}`)}),t.join(",")}toUrl(){return`t=${Ai.toTanksParam(this.tanksService.tanks)}&de=${Ai.toDepthsParam(this.plan.segments)}&di=${Ai.toDiverParam(this.options.diver)}&o=${Ai.toOptionsParam(this.options.getOptions())}&ao=${this.toAppOptions()}`}fromUrl(e){try{if(!e)return;const t=decodeURIComponent(e),r=Ai.parseDto(t);new abe(r.options.imperialUnits).validate(r)?(this.preferences.applyLoaded(r),this.planner.calculate()):console.log("Unable to load planner from url parameters, due to invalid data.")}catch{console.log("Failed loading of planner from url parameters.")}}toAppOptions(){return`${Ea.serializeBoolean(this.viewSwitch.isComplex)},${Ea.serializeBoolean(this.units.imperialUnits)}`}}function sbe(n,e){if(1&n&&(Ae(0,"span",3),_t(1),Ne()),2&n){const t=Ut();Ve(1),jn("",t.tank.name," ")}}function obe(n,e){if(1&n&&(Ae(0,"span"),_t(1),O2(2,"number"),Ne()),2&n){const t=Ut();Ve(1),ss(", MND: ",F2(2,2,t.gasMnd,"1.0-0")," ",t.units.length,"")}}Ai.\u0275fac=function(e){return new(e||Ai)(ln(Wr),ln(Ns),ln(f1),ln(Qi),ln(Rr),ln(ar),ln(B4))},Ai.\u0275prov=Nn({token:Ai,factory:Ai.\u0275fac});class ml{constructor(e){this.units=e,this.tank=$o.createDefault(),this.showName=!0,this.toxicity=new Yu}get gasMod(){const e=this.toxicity.modForGas(this.tank),t=this.units.fromMeters(e);return Dn.floor(t)}get gasMnd(){const e=this.toxicity.mndForGas(this.tank.gas),t=this.units.fromMeters(e);return Dn.floor(t)}get isTrimix(){return this.tank.he>0}get gasDecoMod(){const e=this.toxicity.switchDepth(this.tank),t=this.units.fromMeters(e);return Dn.floor(t)}}function cbe(n,e){if(1&n){const t=v1();Ae(0,"li",9),vn("click",function(){return s2(t),o2(Ut().fireAssignBestMix())}),Ae(1,"a",10),_t(2,"Best mix"),Ne()()}}function lbe(n,e){if(1&n){const t=v1();Ae(0,"li",11),vn("click",function(){const a=s2(t).$implicit;return o2(Ut().assignStandardGas(a))}),Ae(1,"a",10),_t(2),Ne()()}if(2&n){const t=e.$implicit;Ve(2),y1(t)}}function ube(n,e){if(1&n&&(Ae(0,"div",12),_t(1),Ne()),2&n){const t=Ut();Ve(1),jn("Needs to be number ",t.units.ranges.nitroxOxygenLabel,"")}}ml.\u0275fac=function(e){return new(e||ml)(yt(f1))},ml.\u0275cmp=L2({type:ml,selectors:[["app-gaslabel"]],inputs:{tank:"tank",showName:"showName",toxicity:"toxicity"},decls:6,vars:12,consts:[[1,"text-muted"],["class","fw-bold",4,"ngIf"],[4,"ngIf"],[1,"fw-bold"]],template:function(e,t){1&e&&(Ae(0,"small",0),mn(1,sbe,2,1,"span",1),_t(2),O2(3,"number"),O2(4,"number"),mn(5,obe,3,5,"span",2),Ne()),2&e&&(Ve(1),dt("ngIf",t.showName),Ve(1),ym(" MOD: ",F2(3,6,t.gasMod,"1.0-0")," ",t.units.length,", switch ",F2(4,9,t.gasDecoMod,"1.0-0")," ",t.units.length," "),Ve(3),dt("ngIf",t.isTrimix))},dependencies:[$r,Ha]});class i6{constructor(e,t,r,i){this.fb=e,this.inputs=t,this.validators=r,this.units=i,this.showBestMix=!0,this.controlName="o2",this.tank=new Zu(new $o(15,200,21),this.units),this.gasChange=new a1,this.assignBestMix=new a1,this.nitroxNames=M2.nitroxNames()}get gasO2Invalid(){const e=this.nitroxForm.get(this.controlName);return!e||this.inputs.controlInValid(e)}ngOnInit(){this.nitroxForm||(this.nitroxForm=this.fb.group({}));const e=this.fb.control(Dn.round(this.tank.o2,1),this.validators.nitroxOxygen);this.nitroxForm.addControl(this.controlName,e)}fireAssignBestMix(){this.assignBestMix.emit(),this.reload()}fireGasChanged(){if(this.gasO2Invalid)return;const e=this.nitroxForm.get(this.controlName),t=Number(e?.value);this.tank.o2=t,this.gasChange.emit(t)}assignStandardGas(e){this.tank.tank.assignStandardGas(e),this.reload(),this.fireGasChanged()}reload(){this.nitroxForm.patchValue({[this.controlName]:Dn.round(this.tank.o2,1)})}}i6.\u0275fac=function(e){return new(e||i6)(yt(Aa),yt(fi),yt(ni),yt(f1))},i6.\u0275cmp=L2({type:i6,selectors:[["app-oxygen-dropdown"]],inputs:{showBestMix:"showBestMix",controlName:"controlName",tank:"tank",nitroxForm:"nitroxForm"},outputs:{gasChange:"gasChange",assignBestMix:"assignBestMix"},decls:10,vars:9,consts:[[3,"formGroup"],["for","gasO2","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["type","number","required","","step","1","id","gasO2",1,"form-control",3,"formControlName","min","max","input"],["aria-expanded","false","id","o2Menu","type","button","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["id","btnBestMix",3,"click",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],["class","text-danger form-text position-absolute",4,"ngIf"],["id","btnBestMix",3,"click"],[1,"dropdown-item"],[3,"click"],[1,"text-danger","form-text","position-absolute"]],template:function(e,t){1&e&&(Z1(0,0),Ae(1,"label",1),_t(2,"Percent O2:"),Ne(),Ae(3,"div",2)(4,"input",3),vn("input",function(){return t.fireGasChanged()}),Ne(),Pn(5,"button",4),Ae(6,"ul",5),mn(7,cbe,3,0,"li",6),mn(8,lbe,3,1,"li",7),Ne()(),mn(9,ube,2,1,"div",8),X1()),2&e&&(dt("formGroup",t.nitroxForm),Ve(4),u2("is-invalid",t.gasO2Invalid),dt("formControlName",t.controlName)("min",t.units.ranges.nitroxOxygen[0])("max",t.units.ranges.nitroxOxygen[1]),Ve(3),dt("ngIf",t.showBestMix),Ve(1),dt("ngForOf",t.nitroxNames),Ve(1),dt("ngIf",t.gasO2Invalid))},dependencies:[k3,$r,$i,Ta,Da,la,zs,Va,ka,zi,ua,P4,F3,R3,Ts]});class a6{constructor(e,t,r){this.fb=e,this.validators=t,this.units=r,this.tank=new Zu(new $o(15,200,21),this.units),this.toxicity=new Yu,this.showBestMix=!0,this.gasChange=new a1,this.assignBestMix=new a1,this.nitroxNames=M2.nitroxNames(),this.nitroxForm=this.fb.group({o2:[Dn.round(this.tank.o2,1),this.validators.nitroxOxygen]})}fireAssignBestMix(){this.assignBestMix.emit(),this.reload()}fireGasChanged(){this.gasChange.emit()}reload(){this.nitroxForm.patchValue({o2:Dn.round(this.tank.o2,1)})}}function fbe(n,e){if(1&n){const t=v1();Ae(0,"div",5)(1,"label",14),_t(2),Ne(),Ae(3,"input",15),vn("input",function(){return s2(t),o2(Ut().applySimple())}),Ne(),Ae(4,"div",8),_t(5),Ne()()}if(2&n){const t=Ut();Ve(2),jn("Working pressure [",t.units.pressure,"]: "),Ve(1),u2("is-invalid",t.workPressureInvalid),dt("min",t.ranges.tankPressure[0])("max",t.ranges.tankPressure[1]),Ve(2),jn("Needs to be number ",t.ranges.tankPressureLabel,"")}}a6.\u0275fac=function(e){return new(e||a6)(yt(Aa),yt(ni),yt(f1))},a6.\u0275cmp=L2({type:a6,selectors:[["app-oxygen"]],inputs:{tank:"tank",toxicity:"toxicity",showBestMix:"showBestMix",nitroxForm:"nitroxForm"},outputs:{gasChange:"gasChange",assignBestMix:"assignBestMix"},decls:4,vars:8,consts:[[3,"formGroup"],["controlName","o2",3,"showBestMix","nitroxForm","tank","gasChange","assignBestMix"],["oxygenDropdown",""],[3,"tank","toxicity"]],template:function(e,t){if(1&e&&(Z1(0,0),Ae(1,"app-oxygen-dropdown",1,2),vn("gasChange",function(){return t.fireGasChanged()})("assignBestMix",function(){return t.fireAssignBestMix()}),Ne(),Pn(3,"app-gaslabel",3),X1()),2&e){const r=um(2);dt("formGroup",t.nitroxForm),Ve(1),dt("showBestMix",t.showBestMix)("nitroxForm",t.nitroxForm)("tank",t.tank),Ve(2),u2("invisible",r.gasO2Invalid),dt("tank",t.tank.tank)("toxicity",t.toxicity)}},dependencies:[la,zi,ml,i6]});class s5 extends fa{constructor(e,t,r,i,a,o,_,V){super(),this.options=e,this.tanksService=t,this.units=r,this.fb=i,this.inputs=a,this.validators=o,this.delayedCalc=_,this.plan=V,this.icon=Gh,this.toxicity=this.options.toxicity}get firstTank(){return this.tanksService.firstTank}get ranges(){return this.units.ranges}get firstTankSizeInvalid(){return this.inputs.controlInValid(this.tanksForm.controls.firstTankSize)}get workPressureInvalid(){return this.inputs.controlInValid(this.tanksForm.controls.workPressure)}get firstTankStartPressureInvalid(){return this.inputs.controlInValid(this.tanksForm.controls.firstTankStartPressure)}ngOnInit(){if(this.tanksForm=this.fb.group({firstTankSize:[Dn.round(this.firstTank.size,1),this.validators.tankSize],firstTankStartPressure:[Dn.round(this.firstTank.startPressure,1),this.validators.tankPressure]}),this.units.imperialUnits){const e=this.fb.control(Dn.round(this.firstTank.workingPressure,1),this.validators.tankPressure);this.tanksForm.addControl("workPressure",e)}this.tanksService.tanksReloaded.pipe(K1(this.unsubscribe$)).subscribe(()=>this.reloadAll())}gasSac(){const t=this.options.diver.gasSac(this.firstTank.tank);return this.units.fromBar(t)}assignBestMix(){this.firstTank.o2=this.toxicity.bestNitroxMix(this.plan.maxDepth),this.delayedCalc.schedule()}applySimple(){if(this.tanksForm.invalid)return;const e=this.tanksForm.value;this.firstTank.size=Number(e.firstTankSize),this.firstTank.workingPressure=Number(e.workPressure),this.firstTank.startPressure=Number(e.firstTankStartPressure),this.delayedCalc.schedule()}reloadAll(){this.tanksForm.patchValue({firstTankSize:Dn.round(this.firstTank.size,1),workPressure:Dn.round(this.firstTank.workingPressure,1),firstTankStartPressure:Dn.round(this.firstTank.startPressure,1)})}}function dbe(n,e){if(1&n){const t=v1();Ae(0,"button",23),vn("click",function(){s2(t);const i=Ut(2).index;return o2(Ut().removeTank(i))}),Pn(1,"fa-icon",24),Ne()}if(2&n){const t=Ut(3);Ve(1),dt("icon",t.minusIcon)}}function hbe(n,e){if(1&n&&(Ae(0,"div",19)(1,"div",20),_t(2),Ne(),Ae(3,"div",21),mn(4,dbe,2,1,"button",22),Ne()()),2&n){const t=Ut().index,r=Ut();Ve(2),jn(" ",r.tanks[t].label," "),Ve(2),dt("ngIf",0!==t)}}function pbe(n,e){if(1&n&&(Ae(0,"div",37),_t(1),Ne()),2&n){const t=Ut(3);Ve(1),jn("Needs to be number ",t.ranges.tankSizeLabel," ")}}function mbe(n,e){if(1&n&&(Ae(0,"div",37),_t(1),Ne()),2&n){const t=Ut(4);Ve(1),jn(" Needs to be number ",t.ranges.tankPressureLabel,"")}}function gbe(n,e){if(1&n){const t=v1();Ae(0,"div",25)(1,"label",26),_t(2),Ne(),Ae(3,"input",38),vn("input",function(){s2(t);const i=Ut(2).index;return o2(Ut().tankChanged(i))}),Ne(),mn(4,mbe,2,1,"div",28),Ne()}if(2&n){const t=Ut(2).index,r=Ut();Ve(1),G1("for","workPressureItemB-",t,""),Ve(1),jn("Work p. [",r.units.pressure,"]:"),Ve(1),u2("is-invalid",r.workPressureInvalid(t)),G1("id","workPressureItemB-",t,""),dt("min",r.ranges.tankPressure[0])("max",r.ranges.tankPressure[1]),Ve(1),dt("ngIf",r.workPressureInvalid(t))}}function vbe(n,e){if(1&n&&(Ae(0,"div",37),_t(1),Ne()),2&n){const t=Ut(3);Ve(1),jn(" Needs to be number ",t.ranges.tankPressureLabel,"")}}function ybe(n,e){1&n&&Pn(0,"div",25)}function _be(n,e){if(1&n){const t=v1();Ae(0,"li",39),vn("click",function(){const a=s2(t).$implicit,o=Ut(2).index;return o2(Ut().assignStandardGas(o,a))}),Ae(1,"a",40),_t(2),Ne()()}if(2&n){const t=e.$implicit;Ve(2),y1(t)}}function Cbe(n,e){if(1&n&&(Ae(0,"div",37),_t(1),Ne()),2&n){const t=Ut(3);Ve(1),jn("Needs to be number ",t.ranges.trimixOxygenLabel,"")}}function bbe(n,e){if(1&n&&(Ae(0,"div",37),_t(1),Ne()),2&n){const t=Ut(3);Ve(1),jn("Needs to be number ",t.ranges.tankHeLabel,"")}}function xbe(n,e){if(1&n){const t=v1();Ae(0,"div",19)(1,"div",25)(2,"label",26),_t(3),Ne(),Ae(4,"input",27),vn("input",function(){s2(t);const i=Ut().index;return o2(Ut().tankChanged(i))}),Ne(),mn(5,pbe,2,1,"div",28),Ne(),mn(6,gbe,5,8,"div",29),Ae(7,"div",25)(8,"label",26),_t(9),Ne(),Ae(10,"input",30),vn("input",function(){s2(t);const i=Ut().index;return o2(Ut().tankChanged(i))}),Ne(),mn(11,vbe,2,1,"div",28),Ne(),mn(12,ybe,1,0,"div",29),Ae(13,"div",25)(14,"label",26),_t(15,"O2 [%]:"),Ne(),Ae(16,"div",31)(17,"input",32),vn("input",function(){s2(t);const i=Ut().index;return o2(Ut().tankChanged(i))}),Ne(),Pn(18,"button",33),Ae(19,"ul",34),mn(20,_be,3,1,"li",35),Ne()(),mn(21,Cbe,2,1,"div",28),Ne(),Ae(22,"div",25)(23,"label",26),_t(24,"He [%]:"),Ne(),Ae(25,"input",36),vn("input",function(){s2(t);const i=Ut().index;return o2(Ut().tankChanged(i))}),Ne(),mn(26,bbe,2,1,"div",28),Ne()()}if(2&n){const t=Ut().index,r=Ut();Ve(2),G1("for","sizeItemB-",t,""),Ve(1),jn("Size [",r.units.volume,"]:"),Ve(1),u2("is-invalid",r.tankSizeInvalid(t)),G1("id","sizeItemB-",t,""),dt("min",r.ranges.tankSize[0])("max",r.ranges.tankSize[1]),Ve(1),dt("ngIf",r.tankSizeInvalid(t)),Ve(1),dt("ngIf",r.units.imperialUnits),Ve(2),G1("for","pressureItemB-",t,""),Ve(1),jn("Pressure [",r.units.pressure,"]:"),Ve(1),u2("is-invalid",r.startPressureInvalid(t)),G1("id","pressureItemB-",t,""),dt("min",r.ranges.tankPressure[0])("max",r.ranges.tankPressure[1]),Ve(1),dt("ngIf",r.startPressureInvalid(t)),Ve(1),dt("ngIf",r.units.imperialUnits),Ve(2),G1("for","o2ItemB-",t,""),Ve(3),u2("is-invalid",r.gasO2Invalid(t)),G1("id","o2ItemB-",t,""),dt("min",r.ranges.trimixOxygen[0])("max",r.ranges.trimixOxygen[1]),Ve(3),dt("ngForOf",r.allNames),Ve(1),dt("ngIf",r.gasO2Invalid(t)),Ve(2),G1("for","heItemB-",t,""),Ve(2),u2("is-invalid",r.gasHeInvalid(t)),G1("id","heItemB-",t,""),dt("min",r.ranges.tankHe[0])("max",r.ranges.tankHe[1]),Ve(1),dt("ngIf",r.gasHeInvalid(t))}}function Mbe(n,e){1&n&&(Ae(0,"mdb-accordion-item",16),mn(1,hbe,5,2,"ng-template",17),mn(2,xbe,27,33,"ng-template",18),Ne()),2&n&&dt("formGroupName",e.index)}function wbe(n,e){if(1&n&&(Ae(0,"div",14),_t(1),Ne()),2&n){const t=Ut();Ve(1),jn("Work p. [",t.units.pressure,"]")}}function Sbe(n,e){if(1&n&&(Ae(0,"div",37),_t(1),Ne()),2&n){const t=Ut(2);Ve(1),jn("Needs to be number ",t.ranges.tankSizeLabel," ")}}function zbe(n,e){if(1&n&&(Ae(0,"div",37),_t(1),Ne()),2&n){const t=Ut(3);Ve(1),jn(" Needs to be number ",t.ranges.tankPressureLabel,"")}}function Hbe(n,e){if(1&n){const t=v1();Ae(0,"div",45)(1,"input",38),vn("input",function(){s2(t);const i=Ut().index;return o2(Ut().tankChanged(i))}),Ne(),mn(2,zbe,2,1,"div",28),Ne()}if(2&n){const t=Ut().index,r=Ut();Ve(1),u2("is-invalid",r.workPressureInvalid(t)),G1("id","workPressureItem-",t,""),dt("min",r.ranges.tankPressure[0])("max",r.ranges.tankPressure[1]),Ve(1),dt("ngIf",r.workPressureInvalid(t))}}function Lbe(n,e){if(1&n&&(Ae(0,"div",37),_t(1),Ne()),2&n){const t=Ut(2);Ve(1),jn(" Needs to be number ",t.ranges.tankPressureLabel,"")}}function Dbe(n,e){if(1&n){const t=v1();Ae(0,"li",39),vn("click",function(){const a=s2(t).$implicit,o=Ut().index;return o2(Ut().assignStandardGas(o,a))}),Ae(1,"a",40),_t(2),Ne()()}if(2&n){const t=e.$implicit;Ve(2),y1(t)}}function Tbe(n,e){if(1&n&&(Ae(0,"div",37),_t(1),Ne()),2&n){const t=Ut(2);Ve(1),jn("Needs to be number ",t.ranges.trimixOxygenLabel,"")}}function kbe(n,e){if(1&n&&(Ae(0,"div",37),_t(1),Ne()),2&n){const t=Ut(2);Ve(1),jn("Needs to be number ",t.ranges.tankHeLabel,"")}}function Vbe(n,e){if(1&n){const t=v1();Ae(0,"button",52),vn("click",function(){s2(t);const i=Ut().index;return o2(Ut().removeTank(i))}),Pn(1,"fa-icon",24),Ne()}if(2&n){const t=Ut().index,r=Ut();G1("id","removeTank-",t,""),Ve(1),dt("icon",r.minusIcon)}}function Abe(n,e){if(1&n){const t=v1();Ae(0,"div",16)(1,"div",41)(2,"div",42),_t(3),Ne(),Ae(4,"div",43)(5,"input",27),vn("input",function(){const a=s2(t).index;return o2(Ut().tankChanged(a))}),Ne(),mn(6,Sbe,2,1,"div",28),Ne(),mn(7,Hbe,3,6,"div",44),Ae(8,"div",45)(9,"input",30),vn("input",function(){const a=s2(t).index;return o2(Ut().tankChanged(a))}),Ne(),mn(10,Lbe,2,1,"div",28),Ne(),Ae(11,"div",45)(12,"div",31)(13,"input",32),vn("input",function(){const a=s2(t).index;return o2(Ut().tankChanged(a))}),Ne(),Pn(14,"button",33),Ae(15,"ul",34),mn(16,Dbe,3,1,"li",35),Ne()(),mn(17,Tbe,2,1,"div",28),Ne(),Ae(18,"div",45)(19,"input",36),vn("input",function(){const a=s2(t).index;return o2(Ut().tankChanged(a))}),Ne(),mn(20,kbe,2,1,"div",28),Ne(),Ae(21,"div",46),mn(22,Vbe,2,2,"button",47),Ne()(),Ae(23,"div",48),Pn(24,"div",8),Ae(25,"div",49)(26,"small",50),_t(27),O2(28,"number"),Ne(),Pn(29,"app-gaslabel",51),Ne(),Pn(30,"div",8),Ne()()}if(2&n){const t=e.index,r=Ut();dt("formGroupName",t),Ve(3),jn("",r.tanks[t].id,"."),Ve(2),u2("is-invalid",r.tankSizeInvalid(t)),G1("id","sizeItem-",t,""),dt("min",r.ranges.tankSize[0])("max",r.ranges.tankSize[1]),Ve(1),dt("ngIf",r.tankSizeInvalid(t)),Ve(1),dt("ngIf",r.units.imperialUnits),Ve(2),u2("is-invalid",r.startPressureInvalid(t)),G1("id","pressureItem-",t,""),dt("min",r.ranges.tankPressure[0])("max",r.ranges.tankPressure[1]),Ve(1),dt("ngIf",r.startPressureInvalid(t)),Ve(1),u2("col-4",!r.units.imperialUnits),Ve(2),u2("is-invalid",r.gasO2Invalid(t)),G1("id","o2Item-",t,""),dt("min",r.ranges.trimixOxygen[0])("max",r.ranges.trimixOxygen[1]),Ve(3),dt("ngForOf",r.allNames),Ve(1),dt("ngIf",r.gasO2Invalid(t)),Ve(2),u2("is-invalid",r.gasHeInvalid(t)),G1("id","heItem-",t,""),dt("min",r.ranges.tankHe[0])("max",r.ranges.tankHe[1]),Ve(1),dt("ngIf",r.gasHeInvalid(t)),Ve(2),dt("ngIf",0!==t),Ve(5),ss("SAC: ",F2(28,35,r.gasSac(t),"1.0-2")," ",r.units.sac,""),Ve(2),dt("tank",r.tanks[t].tank)("toxicity",r.toxicity)}}s5.\u0275fac=function(e){return new(e||s5)(yt(ar),yt(Qi),yt(f1),yt(Aa),yt(fi),yt(ni),yt(co),yt(Rr))},s5.\u0275cmp=L2({type:s5,selectors:[["app-tanks-simple"]],features:[p1],decls:25,vars:25,consts:[[1,"card"],[3,"formGroup"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body","row"],[1,"mb-4","col","col-12","col-md-6","col-lg-12","col-xl-6"],["for","sizeFirstTank","mdbLabel","",1,"form-label"],["formControlName","firstTankSize","type","number","required","","step","1","id","sizeFirstTank",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],[1,"form-text","text-muted"],["class","mb-4 col col-12 col-md-6 col-lg-12 col-xl-6",4,"ngIf"],["for","startPressureFirstTank","mdbLabel","",1,"form-label"],["type","number","id","startPressureFirstTank","formControlName","firstTankStartPressure","required","","step","1",1,"form-control",3,"min","max","input"],[3,"tank","toxicity","nitroxForm","gasChange","assignBestMix"],["for","workPressureFirstTank","mdbLabel","",1,"form-label"],["type","number","id","workPressureFirstTank","formControlName","workPressure","required","","step","1",1,"form-control",3,"min","max","input"]],template:function(e,t){1&e&&(Ae(0,"div",0)(1,"form",1)(2,"div",2),Pn(3,"fa-icon",3),Ae(4,"span"),_t(5,"Bottom gas tank"),Ne()(),Ae(6,"div",4)(7,"div",5)(8,"label",6),_t(9),Ne(),Ae(10,"input",7),vn("input",function(){return t.applySimple()}),Ne(),Ae(11,"div",8),_t(12),Ne(),Ae(13,"div",9),_t(14),O2(15,"number"),Ne()(),mn(16,fbe,6,6,"div",10),Ae(17,"div",5)(18,"label",11),_t(19),Ne(),Ae(20,"input",12),vn("input",function(){return t.applySimple()}),Ne(),Ae(21,"div",8),_t(22),Ne()(),Ae(23,"div",5)(24,"app-oxygen",13),vn("gasChange",function(){return t.applySimple()})("assignBestMix",function(){return t.assignBestMix()}),Ne()()()()()),2&e&&(Ve(1),dt("formGroup",t.tanksForm),Ve(2),dt("icon",t.icon),Ve(6),jn("Size [",t.units.volume,"]:"),Ve(1),u2("is-invalid",t.firstTankSizeInvalid),dt("min",t.ranges.tankSize[0])("max",t.ranges.tankSize[1]),Ve(2),jn("Needs to be number ",t.ranges.tankSizeLabel,""),Ve(1),u2("invisible",t.firstTankSizeInvalid),Ve(1),ss("SAC: ",F2(15,22,t.gasSac(),"1.0-2")," ",t.units.sac,""),Ve(2),dt("ngIf",t.units.imperialUnits),Ve(3),jn("Start pressure [",t.units.pressure,"]: "),Ve(1),u2("is-invalid",t.firstTankStartPressureInvalid),dt("min",t.ranges.tankPressure[0])("max",t.ranges.tankPressure[1]),Ve(2),jn("Needs to be number ",t.ranges.tankPressureLabel,""),Ve(2),dt("tank",t.firstTank)("toxicity",t.toxicity)("nitroxForm",t.tanksForm))},dependencies:[$r,V3,$i,Ta,Da,la,zs,Va,ka,zi,ua,qi,Ts,a6,Ha]});class o5 extends fa{constructor(e,t,r,i,a,o,_){super(),this.options=e,this.tanksService=t,this.units=r,this.fb=i,this.inputs=a,this.validators=o,this.delayedCalc=_,this.icon=Gh,this.plusIcon=Ju,this.minusIcon=Ku,this.toxicity=this.options.toxicity,this.allNames=M2.allNames()}get ranges(){return this.units.ranges}get tanks(){return this.tanksService.tanks}get tanksGroup(){return this.tanksForm.controls.boundTanks}ngOnInit(){const e=this.fb.array(this.createTankControls());this.tanksForm=this.fb.group({boundTanks:e}),this.tanksService.tanksReloaded.pipe(K1(this.unsubscribe$)).subscribe(()=>this.reloadAll())}gasSac(e){const r=this.options.diver.gasSac(this.tanks[e].tank);return this.units.fromBar(r)}gasHeInvalid(e){const t=this.tanksGroup.at(e);return this.inputs.controlInValid(t.controls.tankHe)}gasO2Invalid(e){const t=this.tanksGroup.at(e);return this.inputs.controlInValid(t.controls.tankO2)}workPressureInvalid(e){const t=this.tanksGroup.at(e);return this.inputs.controlInValid(t.controls.tankWorkPressure)}startPressureInvalid(e){const t=this.tanksGroup.at(e);return this.inputs.controlInValid(t.controls.tankStartPressure)}tankSizeInvalid(e){const t=this.tanksGroup.at(e);return this.inputs.controlInValid(t.controls.tankSize)}addTank(){if(this.tanksForm.invalid)return;this.tanksService.addTank();const t=this.createTankControl(this.tanks[this.tanks.length-1]);this.tanksGroup.push(t),this.delayedCalc.schedule()}removeTank(e){this.tanksForm.invalid||this.tanks.length<=1||(this.tanksService.removeTank(this.tanks[e]),this.tanksGroup.removeAt(e),this.delayedCalc.schedule())}assignStandardGas(e,t){const r=this.tanks[e];r.tank.assignStandardGas(t),this.reload(r,e),this.delayedCalc.schedule()}tankChanged(e){if(this.tanksForm.invalid)return;const t=this.tanksGroup.at(e),r=this.tanks[e],i=t.value;r.size=Number(i.tankSize),r.workingPressure=Number(i.tankWorkPressure),r.startPressure=Number(i.tankStartPressure),r.o2=Number(i.tankO2),r.he=Number(i.tankHe),this.reload(r,e),this.delayedCalc.schedule()}reloadAll(){this.tanksGroup.clear(),this.createTankControls().forEach(e=>this.tanksGroup.push(e))}reload(e,t){this.tanksGroup.at(t).patchValue({tankSize:e.size,tankWorkPressure:e.workingPressure,tankStartPressure:e.startPressure,tankO2:e.o2,tankHe:e.he})}createTankControls(){const e=[];for(const t of this.tanks){const r=this.createTankControl(t);e.push(r)}return e}createTankControl(e){const t=this.fb.group({tankSize:[Dn.round(e.size,1),this.validators.tankSize],tankStartPressure:[Dn.round(e.startPressure,1),this.validators.tankPressure],tankO2:[Dn.round(e.o2,1),this.validators.trimixOxygen],tankHe:[Dn.round(e.he,1),this.validators.trimixHe]});if(this.units.imperialUnits){const r=this.fb.control(Dn.round(e.workingPressure,1),this.validators.tankPressure);t.addControl("tankWorkPressure",r)}return t}}o5.\u0275fac=function(e){return new(e||o5)(yt(ar),yt(Qi),yt(f1),yt(Aa),yt(fi),yt(ni),yt(co))},o5.\u0275cmp=L2({type:o5,selectors:[["app-tanks-complex"]],features:[p1],decls:29,vars:12,consts:[[1,"card"],[3,"formGroup"],[1,"card-header"],[1,"me-3",3,"icon"],["formArrayName","boundTanks",1,"card-body","d-md-none","d-block"],[3,"flush"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","justify-content-end","pe-2","m-3"],[1,"col","col-1"],["type","button",1,"p-1","btn","btn-secondary",3,"click"],[1,"fa-xl",3,"icon"],["formArrayName","boundTanks",1,"card-body","d-none","d-md-block"],[1,"row","pb-2"],[1,"col","col-1","m-0","px-1"],[1,"col","col-2","m-0","px-1"],["class","col col-2 m-0 px-1",4,"ngIf"],[3,"formGroupName"],["mdbAccordionItemHeader",""],["mdbAccordionItemBody",""],[1,"row"],[1,"col","col-auto","d-flex","align-items-center"],[1,"col","col-1","pe-1"],["class","m-0 p-1 btn btn-secondary","type","button",3,"click",4,"ngIf"],["type","button",1,"m-0","p-1","btn","btn-secondary",3,"click"],[1,"p-0","m-0","fa-xl",3,"icon"],[1,"col","col-12","col-sm-6","m-0","pb-0","px-1","mt-2"],[1,"form-label",3,"for"],["formControlName","tankSize","type","number","required","","step","1",1,"form-control",3,"min","max","id","input"],["class","text-danger",4,"ngIf"],["class","col col-12 col-sm-6 m-0 pb-0 px-1 mt-2",4,"ngIf"],["formControlName","tankStartPressure","type","number","required","","step","1",1,"form-control",3,"min","max","id","input"],["mdbDropdown","",1,"input-group","dropdown"],["formControlName","tankO2","type","number","required","","step","1",1,"form-control",3,"min","max","id","input"],["id","o2Menu","type","button","aria-expanded","false","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click",4,"ngFor","ngForOf"],["formControlName","tankHe","type","number","step","1","required","",1,"form-control",3,"min","max","id","input"],[1,"text-danger"],["formControlName","tankWorkPressure","type","number","required","","step","1",1,"form-control",3,"min","max","id","input"],[3,"click"],[1,"dropdown-item"],[1,"row","p-0"],[1,"col","col-1","m-0","pb-0","px-1","text-end","align-self-center"],[1,"col","col-12","col-sm-4","col-md-2","m-0","pb-0","px-1"],["class","col col-2 m-0 pb-0 px-1",4,"ngIf"],[1,"col","col-2","m-0","pb-0","px-1"],[1,"col","col-1","m-0","pb-0","px-1","align-self-center"],["class","m-0 p-1 btn btn-secondary","type","button",3,"id","click",4,"ngIf"],[1,"row","p-0","pb-2"],[1,"col","col-10","m-0","px-1"],[1,"form-text","text-muted"],[1,"float-end",3,"tank","toxicity"],["type","button",1,"m-0","p-1","btn","btn-secondary",3,"id","click"]],template:function(e,t){1&e&&(Ae(0,"div",0)(1,"form",1)(2,"div",2),Pn(3,"fa-icon",3),Ae(4,"span"),_t(5,"Tanks"),Ne()(),Ae(6,"div",4)(7,"mdb-accordion",5),mn(8,Mbe,3,1,"mdb-accordion-item",6),Ne(),Ae(9,"div",7)(10,"div",8)(11,"button",9),vn("click",function(){return t.addTank()}),Pn(12,"fa-icon",10),Ne()()()(),Ae(13,"div",11)(14,"div",12),Pn(15,"div",13),Ae(16,"div",14),_t(17),Ne(),mn(18,wbe,2,1,"div",15),Ae(19,"div",14),_t(20),Ne(),Ae(21,"div",14),_t(22,"O2 [%]"),Ne(),Ae(23,"div",14),_t(24,"He [%]"),Ne(),Ae(25,"div",13)(26,"button",9),vn("click",function(){return t.addTank()}),Pn(27,"fa-icon",10),Ne()()(),mn(28,Abe,31,38,"div",6),Ne()()()),2&e&&(Ve(1),dt("formGroup",t.tanksForm),Ve(2),dt("icon",t.icon),Ve(4),dt("flush",!0),Ve(1),dt("ngForOf",t.tanksGroup.controls),Ve(4),dt("icon",t.plusIcon),Ve(5),jn("Size [",t.units.volume,"]"),Ve(1),dt("ngIf",t.units.imperialUnits),Ve(2),jn("Pressure [",t.units.pressure,"]"),Ve(1),u2("col-4",!t.units.imperialUnits),Ve(6),dt("icon",t.plusIcon),Ve(1),dt("ngForOf",t.tanksGroup.controls))},dependencies:[k3,$r,V3,$i,Ta,Da,la,zs,Va,ka,zi,ua,iu,au,qi,P4,F3,R3,XH,py,ZH,qH,ml,Ha]});class s6{constructor(){this.salinity=Wa.fresh,this.inputChange=new a1,this.freshName="Fresh",this.brackishName="Brackish (EN13319)",this.saltName="Salt"}get salinityOption(){switch(this.salinity){case Wa.salt:return this.saltName;case Wa.brackish:return this.brackishName;default:return this.freshName}}useFresh(){this.salinity=Wa.fresh,this.inputChange.emit(this.salinity)}useBrackish(){this.salinity=Wa.brackish,this.inputChange.emit(this.salinity)}useSalt(){this.salinity=Wa.salt,this.inputChange.emit(this.salinity)}}function Nbe(n,e){if(1&n&&(Ae(0,"div",8),_t(1),Ne()),2&n){const t=Ut();Ve(1),jn(" Needs to be number ",t.units.ranges.altitudeLabel," ")}}s6.\u0275fac=function(e){return new(e||s6)},s6.\u0275cmp=L2({type:s6,selectors:[["app-salinity"]],inputs:{salinity:"salinity"},outputs:{inputChange:"inputChange"},decls:15,vars:5,consts:[["for","salinity","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["id","salinity","type","text",1,"form-control",3,"value","readonly"],["aria-expanded","false","id","salinityMenu","type","button","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click"],[1,"dropdown-item"]],template:function(e,t){1&e&&(Ae(0,"label",0),_t(1,"Water salinity:"),Ne(),Ae(2,"div",1),Pn(3,"input",2)(4,"button",3),Ae(5,"ul",4)(6,"li",5),vn("click",function(){return t.useFresh()}),Ae(7,"a",6),_t(8),Ne()(),Ae(9,"li",5),vn("click",function(){return t.useBrackish()}),Ae(10,"a",6),_t(11),Ne()(),Ae(12,"li",5),vn("click",function(){return t.useSalt()}),Ae(13,"a",6),_t(14),Ne()()()()),2&e&&(Ve(3),dt("value",t.salinityOption)("readonly",!0),Ve(5),y1(t.freshName),Ve(3),y1(t.brackishName),Ve(3),y1(t.saltName))},dependencies:[P4,F3,R3,Ts]});class o6{constructor(e,t,r,i){this.fb=e,this.inputs=t,this.validators=r,this.units=i,this.inputChange=new a1,this.altitude=0,this.metricLevels=[0,300,800,1500],this.imperialLevels=[0,1e3,2600,5e3]}get altitudeBound(){return this.units.fromMeters(this.altitude)}get smallHill(){return this.levelLabel(1)}get mountains(){return this.levelLabel(2)}get highMountains(){return this.levelLabel(3)}get altitudeInvalid(){return this.inputs.controlInValid(this.altitudeForm.controls.altitude)}ngOnInit(){this.altitudeForm=this.fb.group({altitude:[this.altitudeBound,this.validators.altitude]})}altitudeChanged(){if(this.altitudeForm.invalid)return;const e=Number(this.altitudeForm.value.altitude);this.altitude=this.units.toMeters(e),this.inputChange.emit(this.altitude)}seaLevel(){this.setLevel(0)}setHill(){this.setLevel(1)}setMountains(){this.setLevel(2)}setHighMountains(){this.setLevel(3)}setLevel(e){const t=this.selectLevels()[e];this.altitudeForm.patchValue({altitude:t}),this.altitudeChanged()}levelLabel(e){return`${this.selectLevels()[e]} ${this.units.altitude}`}selectLevels(){return this.units.imperialUnits?this.imperialLevels:this.metricLevels}}function Ebe(n,e){1&n&&(Ae(0,"div",13)(1,"label",14),_t(2,"Conservatism (Gradient factors):"),Ne()())}function Pbe(n,e){1&n&&(Ae(0,"label",15),_t(1,"Gradient low [%]:"),Ne())}function Ibe(n,e){1&n&&Pn(0,"input",16),2&n&&dt("value",Ut().conservatism)("readonly",!0)}function Obe(n,e){if(1&n){const t=v1();Ae(0,"input",17),vn("input",function(){return s2(t),o2(Ut().gfLowChanged())}),Ne()}2&n&&u2("is-invalid",Ut().gfLowInvalid)}function Fbe(n,e){1&n&&(Ae(0,"div",18),_t(1," Needs to be number 10 - 100 lower than gradient high"),Ne())}function Rbe(n,e){if(1&n){const t=v1();Ae(0,"div",19)(1,"label",20),_t(2,"Gradient high [%]:"),Ne(),Ae(3,"input",21),vn("input",function(){return s2(t),o2(Ut().gfHighChanged())}),Ne(),Ae(4,"div",22),_t(5," Needs to be number 10 - 100 higher than gradient low "),Ne()()}if(2&n){const t=Ut();Ve(3),u2("is-invalid",t.gfHighInvalid)}}o6.\u0275fac=function(e){return new(e||o6)(yt(Aa),yt(fi),yt(ni),yt(f1))},o6.\u0275cmp=L2({type:o6,selectors:[["app-altitude"]],inputs:{altitude:"altitude"},outputs:{inputChange:"inputChange"},decls:20,vars:10,consts:[[1,"mb-2",3,"formGroup"],["for","altitudeField","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["id","altitudeField","type","number","required","","step","1","formControlName","altitude",1,"form-control",3,"min","max","input"],["type","button","aria-expanded","false","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],["class","text-danger form-text position-absolute",4,"ngIf"],[1,"text-danger","form-text","position-absolute"]],template:function(e,t){1&e&&(Ae(0,"div",0)(1,"label",1),_t(2),Ne(),Ae(3,"div",2)(4,"input",3),vn("input",function(){return t.altitudeChanged()}),Ne(),Pn(5,"button",4),Ae(6,"ul",5)(7,"li",6),vn("click",function(){return t.seaLevel()}),Ae(8,"a"),_t(9,"Sea level"),Ne()(),Ae(10,"li",6),vn("click",function(){return t.setHill()}),Ae(11,"a"),_t(12),Ne()(),Ae(13,"li",6),vn("click",function(){return t.setMountains()}),Ae(14,"a"),_t(15),Ne()(),Ae(16,"li",6),vn("click",function(){return t.setHighMountains()}),Ae(17,"a"),_t(18),Ne()()()(),mn(19,Nbe,2,1,"div",7),Ne()),2&e&&(dt("formGroup",t.altitudeForm),Ve(2),jn("Altitude [",t.units.altitude,"]:"),Ve(2),u2("is-invalid",t.altitudeInvalid),dt("min",t.units.ranges.altitude[0])("max",t.units.ranges.altitude[1]),Ve(8),y1(t.smallHill),Ve(3),y1(t.mountains),Ve(3),y1(t.highMountains),Ve(1),dt("ngIf",t.altitudeInvalid))},dependencies:[$r,$i,Ta,Da,la,zs,Va,ka,zi,ua,P4,F3,R3,Ts]});const Bbe=function(n){return{"col-sm-6":n}};class c6{constructor(e,t,r){this.fb=e,this.inputs=t,this.validators=r,this.showTitle=!1,this.simple=!1,this.gfLow=c2.gfLow,this.gfHigh=c2.gfHigh,this.inputChange=new a1,this.standards=new fl}get conservatism(){return this.standards.labelFor(this.gfLow,this.gfHigh)}get gfLowInvalid(){return this.inputs.controlInValid(this.gfForm.controls.gfLow)}get gfHighInvalid(){return this.inputs.controlInValid(this.gfForm.controls.gfHigh)}gfHighChanged(){if(this.gfHighInvalid)return;const e=Number(this.gfForm.controls.gfHigh.value);this.gfHigh=e/100,this.inputChange.emit(new ul(this.gfLow,this.gfHigh))}gfLowChanged(){if(this.gfLowInvalid)return;const e=Number(this.gfForm.controls.gfLow.value);this.gfLow=e/100,this.inputChange.emit(new ul(this.gfLow,this.gfHigh))}ngOnInit(){this.gfForm=this.fb.group({gfLow:[Dn.round(100*this.gfLow,1),this.validators.gradients],gfHigh:[Dn.round(100*this.gfHigh,1),this.validators.gradients]})}lowConservatism(){this.applyStandards(this.standards.lowName)}mediumConservatism(){this.applyStandards(this.standards.mediumName)}highConservatism(){this.applyStandards(this.standards.highName)}applyStandards(e){const t=this.standards.get(e);this.gfLow=t.gfLow,this.gfHigh=t.gfHeigh,this.gfForm.patchValue({gfLow:Dn.round(100*this.gfLow,1),gfHigh:Dn.round(100*this.gfHigh,1),conservatism:this.conservatism}),this.inputChange.emit(new ul(this.gfLow,this.gfHigh))}}function Ube(n,e){if(1&n){const t=v1();Ae(0,"div")(1,"div",13)(2,"div",14)(3,"app-salinity",15),vn("inputChange",function(i){return s2(t),o2(Ut().salinityChanged(i))}),Ne()(),Ae(4,"div",14)(5,"app-altitude",16),vn("inputChange",function(i){return s2(t),o2(Ut().altitudeChanged(i))}),Ne()(),Ae(6,"div",17)(7,"app-gradients",18),vn("inputChange",function(i){return s2(t),o2(Ut().updateGradients(i))}),Ne()()()()}if(2&n){const t=Ut();Ve(3),dt("salinity",t.options.salinity),Ve(2),dt("altitude",t.options.altitude),Ve(2),dt("gfLow",t.options.gfLow)("gfHigh",t.options.gfHigh)("simple",!0)("showTitle",!0)}}function jbe(n,e){if(1&n){const t=v1();Ae(0,"div")(1,"mdb-tabs")(2,"mdb-tab",19)(3,"div",20)(4,"div",21)(5,"app-altitude",16),vn("inputChange",function(i){return s2(t),o2(Ut().altitudeChanged(i))}),Ne()(),Ae(6,"div",21)(7,"app-salinity",15),vn("inputChange",function(i){return s2(t),o2(Ut().salinityChanged(i))}),Ne()()()(),Ae(8,"mdb-tab",22)(9,"div",23)(10,"app-gradients",18),vn("inputChange",function(i){return s2(t),o2(Ut().updateGradients(i))}),Ne()()(),Ae(11,"mdb-tab",24)(12,"div",20)(13,"div",25)(14,"label",26),_t(15),Ne(),Ae(16,"input",27),vn("input",function(){return s2(t),o2(Ut().applyOptions())}),Ne(),Ae(17,"div",28),_t(18),Ne()(),Ae(19,"div",29)(20,"div",30)(21,"input",31),vn("change",function(){return s2(t),o2(Ut().switchOxygenNarcotic())}),Ne(),Ae(22,"label",32),_t(23,"Oxygen is narcotic"),Ne()()()()(),Ae(24,"mdb-tab",33)(25,"div",34)(26,"div",35)(27,"label",36),_t(28,"Solve problem [min]:"),Ne(),Ae(29,"input",37),vn("input",function(){return s2(t),o2(Ut().applyOptions())}),Ne(),Ae(30,"div",28),_t(31," Needs to be number 1 - 100 mim "),Ne()(),Ae(32,"div",35)(33,"label",38),_t(34,"Gas switch [min]:"),Ne(),Ae(35,"input",39),vn("input",function(){return s2(t),o2(Ut().applyOptions())}),Ne(),Ae(36,"div",28),_t(37," Needs to be number 1 - 100 min "),Ne()(),Ae(38,"div",35)(39,"label",40),_t(40,"Add 3 min safety stop:"),Ne(),Ae(41,"div",41),Pn(42,"input",42)(43,"button",43),Ae(44,"ul",44)(45,"li",45),vn("click",function(){return s2(t),o2(Ut().useSafetyOff())}),Ae(46,"a",46),_t(47),Ne()(),Ae(48,"li",45),vn("click",function(){return s2(t),o2(Ut().useSafetyAuto())}),Ae(49,"a",46),_t(50),Ne()(),Ae(51,"li",45),vn("click",function(){return s2(t),o2(Ut().useSafetyOn())}),Ae(52,"a",46),_t(53),Ne()()()()(),Ae(54,"div",35)(55,"label",47),_t(56),Ne(),Ae(57,"input",48),vn("input",function(){return s2(t),o2(Ut().applyOptions())}),Ne(),Ae(58,"div",28),_t(59),Ne()(),Ae(60,"div",49)(61,"div",5)(62,"input",50),vn("change",function(){return s2(t),o2(Ut().switchStopsRounding())}),Ne(),Ae(63,"label",32),_t(64,"Round deco stops to minutes"),Ne()()()()(),Ae(65,"mdb-tab",51)(66,"div",34)(67,"div",52)(68,"label",53),_t(69),Ne(),Ae(70,"input",54),vn("input",function(){return s2(t),o2(Ut().applyOptions())}),Ne(),Ae(71,"div",28),_t(72),Ne()(),Ae(73,"div",52)(74,"label",55),_t(75),Ne(),Ae(76,"input",56),vn("input",function(){return s2(t),o2(Ut().applyOptions())}),Ne(),Ae(77,"div",28),_t(78),Ne()(),Ae(79,"div",52)(80,"label",57),_t(81),Ne(),Ae(82,"input",58),vn("input",function(){return s2(t),o2(Ut().applyOptions())}),Ne(),Ae(83,"div",28),_t(84),Ne()(),Ae(85,"div",52)(86,"label",59),_t(87),Ne(),Ae(88,"input",60),vn("input",function(){return s2(t),o2(Ut().applyOptions())}),Ne(),Ae(89,"div",28),_t(90),Ne()()()()()()}if(2&n){const t=Ut();Ve(5),dt("altitude",t.options.altitude),Ve(2),dt("salinity",t.options.salinity),Ve(3),dt("gfLow",t.options.gfLow)("gfHigh",t.options.gfHigh)("simple",!1)("showTitle",!1),Ve(5),jn("Max narcotic depth [",t.units.length,"]:"),Ve(1),u2("is-invalid",t.narcoticDepthInvalid),dt("min",t.ranges.narcoticDepth[0])("max",t.ranges.narcoticDepth[1]),Ve(2),jn(" Needs to be number ",t.ranges.narcoticDepthLabel," "),Ve(3),dt("checked",t.options.oxygenNarcotic),Ve(8),u2("is-invalid",t.problemInvalid),Ve(6),u2("is-invalid",t.switchDurationInvalid),Ve(7),dt("value",t.options.safetyStopOption)("readonly",!0),Ve(5),y1(t.options.safetyOffName),Ve(3),y1(t.options.safetyAutoName),Ve(3),y1(t.options.safetyOnName),Ve(3),jn("Last stop depth [",t.units.length,"]:"),Ve(1),u2("is-invalid",t.lastStopInvalid),dt("min",t.ranges.lastStopDepth[0])("max",t.ranges.lastStopDepth[1]),Ve(2),jn(" Needs to be number ",t.ranges.lastStopDepthLabel," "),Ve(3),dt("checked",t.options.roundStopsToMinutes),Ve(7),jn("Descent [",t.units.speed,"]:"),Ve(1),u2("is-invalid",t.descSpeedInvalid),dt("min",t.ranges.speed[0])("max",t.ranges.speed[1]),Ve(2),jn(" Needs to be number ",t.ranges.speedLabel," "),Ve(3),jn("Ascent to 50% [",t.units.speed,"]:"),Ve(1),u2("is-invalid",t.ascentSpeed50percInvalid),dt("min",t.ranges.speed[0])("max",t.ranges.speed[1]),Ve(2),jn(" Needs to be number ",t.ranges.speedLabel," "),Ve(3),S3("Ascent to ",t.units.defaults.lastSpeedLevel," ",t.units.length," [",t.units.speed,"]:"),Ve(1),u2("is-invalid",t.ascentSpeed50percTo6mInvalid),dt("min",t.ranges.speed[0])("max",t.ranges.speed[1]),Ve(2),jn(" Needs to be number ",t.ranges.speedLabel," "),Ve(3),S3("Ascent ",t.units.defaults.lastSpeedLevel," ",t.units.length," to surface [",t.units.speed,"]:"),Ve(1),u2("is-invalid",t.ascSpeedInvalid),dt("min",t.ranges.speed[0])("max",t.ranges.speed[1]),Ve(2),jn(" Needs to be number ",t.ranges.speedLabel," ")}}c6.\u0275fac=function(e){return new(e||c6)(yt(Aa),yt(fi),yt(ni))},c6.\u0275cmp=L2({type:c6,selectors:[["app-gradients"]],inputs:{showTitle:"showTitle",simple:"simple",gfLow:"gfLow",gfHigh:"gfHigh"},outputs:{inputChange:"inputChange"},decls:21,vars:13,consts:[[1,"row",3,"formGroup"],["class","row",4,"ngIf"],[1,"mb-4","col","col-12",3,"ngClass"],["for","gfLowField","class","form-label","mdbLabel","",4,"ngIf"],["mdbDropdown","",1,"input-group","dropdown"],["id","gfLowField","class","form-control","type","text",3,"value","readonly",4,"ngIf"],["id","gfLowField","class","form-control","type","number","formControlName","gfLow","required","","min","10","max","100","step","1",3,"is-invalid","input",4,"ngIf"],["type","button","id","conservatismMenu","mdbDropdownToggle","","data-mdb-toggle","dropdown","aria-expanded","false",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click"],[1,"dropdown-item"],["class","text-danger form-text position-absolute",4,"ngIf"],["class","mb-4 col col-12 col-sm-6",4,"ngIf"],[1,"row"],["for","gfLowField",1,"form-label"],["for","gfLowField","mdbLabel","",1,"form-label"],["id","gfLowField","type","text",1,"form-control",3,"value","readonly"],["id","gfLowField","type","number","formControlName","gfLow","required","","min","10","max","100","step","1",1,"form-control",3,"input"],[1,"text-danger","form-text","position-absolute"],[1,"mb-4","col","col-12","col-sm-6"],["for","gfHighField","mdbLabel","",1,"form-label"],["id","gfHighField","formControlName","gfHigh","type","number","required","","min","10","max","100","step","1",1,"form-control",3,"input"],[1,"invalid-feedback","position-absolute"]],template:function(e,t){1&e&&(Ae(0,"div",0),mn(1,Ebe,3,0,"div",1),Ae(2,"div",2)(3,"div"),mn(4,Pbe,2,0,"label",3),Ae(5,"div",4),mn(6,Ibe,1,2,"input",5),mn(7,Obe,1,2,"input",6),Pn(8,"button",7),Ae(9,"ul",8)(10,"li",9),vn("click",function(){return t.lowConservatism()}),Ae(11,"a",10),_t(12),Ne()(),Ae(13,"li",9),vn("click",function(){return t.mediumConservatism()}),Ae(14,"a",10),_t(15),Ne()(),Ae(16,"li",9),vn("click",function(){return t.highConservatism()}),Ae(17,"a",10),_t(18),Ne()()()(),mn(19,Fbe,2,0,"div",11),Ne()(),mn(20,Rbe,6,2,"div",12),Ne()),2&e&&(dt("formGroup",t.gfForm),Ve(1),dt("ngIf",t.showTitle),Ve(1),dt("ngClass",Tm(11,Bbe,!t.simple)),Ve(2),dt("ngIf",!t.simple),Ve(2),dt("ngIf",t.simple),Ve(1),dt("ngIf",!t.simple),Ve(5),y1(t.standards.lowName),Ve(3),y1(t.standards.mediumName),Ve(3),y1(t.standards.highName),Ve(1),dt("ngIf",t.gfLowInvalid),Ve(1),dt("ngIf",!t.simple))},dependencies:[Rc,$r,$i,Ta,Da,la,zs,Va,ka,zi,ua,P4,F3,R3,Ts]});class c5 extends fa{constructor(e,t,r,i,a,o,_,V){super(),this.units=e,this.options=t,this.fb=r,this.inputs=i,this.validators=a,this.viewSwitch=o,this.delayedCalc=_,this.plan=V,this.formValid=!0,this.allUsableName="All usable",this.halfUsableName="Half usable",this.thirdUsableName="Thirds usable",this.strategy=this.allUsableName,this.icon=H_}get isComplex(){return this.viewSwitch.isComplex}get ranges(){return this.units.ranges}get narcoticDepthInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.maxEND)}get problemInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.problem)}get switchDurationInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.gasSwitch)}get lastStopInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.lastStopDepth)}get descSpeedInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.descentSpeed)}get ascSpeedInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.ascentSpeed6m)}get ascentSpeed50percTo6mInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.ascentSpeed50percTo6m)}get ascentSpeed50percInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.ascentSpeed50perc)}set isComplex(e){e||this.setAllUsable(),this.viewSwitch.isComplex=e,this.applyOptions()}ngOnInit(){this.optionsForm=this.fb.group({maxEND:[Dn.round(this.options.maxEND,1),this.validators.maxEnd],problem:[Dn.round(this.options.problemSolvingDuration,1),this.validators.problemSolvingDuration],gasSwitch:[Dn.round(this.options.gasSwitchDuration,1),this.validators.gasSwitchDuration],lastStopDepth:[Dn.round(this.options.lastStopDepth,1),this.validators.lastStopDepth],descentSpeed:[Dn.round(this.options.descentSpeed,1),this.validators.speed],ascentSpeed6m:[Dn.round(this.options.ascentSpeed6m,1),this.validators.speed],ascentSpeed50percTo6m:[Dn.round(this.options.ascentSpeed50percTo6m,1),this.validators.speed],ascentSpeed50perc:[Dn.round(this.options.ascentSpeed50perc,1),this.validators.speed]}),this.options.reloaded$.pipe(K1(this.unsubscribe$)).subscribe(()=>this.reloadForm())}reset(){switch(this.plan.strategy){case oo.HALF:this.halfUsable();break;case oo.THIRD:this.thirdUsable();break;default:this.allUsable()}}allUsable(){this.setAllUsable(),this.applyOptions()}setAllUsable(){this.plan.strategy=oo.ALL,this.strategy=this.allUsableName}halfUsable(){this.plan.strategy=oo.HALF,this.strategy=this.halfUsableName,this.applyOptions()}thirdUsable(){this.plan.strategy=oo.THIRD,this.strategy=this.thirdUsableName,this.applyOptions()}useRecreational(){this.options.useRecreational(),this.fireCalculation(),this.reloadForm()}useRecommended(){this.options.useRecommended(),this.fireCalculation(),this.reloadForm()}switchStopsRounding(){this.options.roundStopsToMinutes=!this.options.roundStopsToMinutes,this.applyOptions()}useSafetyOff(){this.options.useSafetyOff(),this.applyOptions()}useSafetyAuto(){this.options.useSafetyAuto(),this.applyOptions()}useSafetyOn(){this.options.useSafetyOn(),this.applyOptions()}switchOxygenNarcotic(){this.options.oxygenNarcotic=!this.options.oxygenNarcotic,this.applyOptions()}updateGradients(e){this.options.gfLow=e.gfLow,this.options.gfHigh=e.gfHeigh,this.applyOptions()}salinityChanged(e){this.options.salinity=e,this.applyOptions()}altitudeChanged(e){this.options.altitude=e,this.applyOptions()}applyOptions(){if(this.optionsForm.invalid)return;const e=this.optionsForm.value;this.options.maxEND=Number(e.maxEND),this.options.problemSolvingDuration=Number(e.problem),this.options.gasSwitchDuration=Number(e.gasSwitch),this.options.lastStopDepth=Number(e.lastStopDepth),this.options.descentSpeed=Number(e.descentSpeed),this.options.ascentSpeed6m=Number(e.ascentSpeed6m),this.options.ascentSpeed50percTo6m=Number(e.ascentSpeed50percTo6m),this.options.ascentSpeed50perc=Number(e.ascentSpeed50perc),this.fireCalculation()}fireCalculation(){this.delayedCalc.schedule()}reloadForm(){this.optionsForm.patchValue({maxEND:Dn.round(this.options.maxEND,1),problem:Dn.round(this.options.problemSolvingDuration,1),gasSwitch:Dn.round(this.options.gasSwitchDuration,1),lastStopDepth:Dn.round(this.options.lastStopDepth,1),descentSpeed:Dn.round(this.options.descentSpeed,1),ascentSpeed6m:Dn.round(this.options.ascentSpeed6m,1),ascentSpeed50percTo6m:Dn.round(this.options.ascentSpeed50percTo6m,1),ascentSpeed50perc:Dn.round(this.options.ascentSpeed50perc,1)})}}c5.\u0275fac=function(e){return new(e||c5)(yt(f1),yt(ar),yt(Aa),yt(fi),yt(ni),yt(Ns),yt(co),yt(Rr))},c5.\u0275cmp=L2({type:c5,selectors:[["app-diveoptions"]],inputs:{formValid:"formValid"},features:[p1],decls:20,vars:5,consts:[[1,"card"],[1,"card-header"],[1,"float-start"],[1,"me-3",3,"icon"],[1,"float-end"],[1,"form-check","form-switch"],["type","checkbox","id","isComplex","mdbCheckbox","",1,"form-check-input",3,"checked","change"],["for","isComplex",1,"custom-control-label"],[1,"card-body"],[3,"formGroup"],[4,"ngIf"],["type","button",1,"btn","btn-secondary","me-2","mt-3",3,"click"],["type","button",1,"btn","btn-secondary","mt-3",3,"click"],[1,"mt-3","row"],[1,"mb-4","col","col-12","col-sm-6","col-md-4","col-lg-12","col-xl-6"],[3,"salinity","inputChange"],[3,"altitude","inputChange"],[1,"mb-4","col","col-12","col-sm-12","col-md-4","col-lg-12","col-xxl-12"],[3,"gfLow","gfHigh","simple","showTitle","inputChange"],["title","Environment"],[1,"pt-3","row"],[1,"mb-4","col","col-12","col-sm-6"],["title","Conservatism"],[1,"pt-3"],["title","Gases"],[1,"mb-3","col","col-12","col-sm-6"],["for","maxNarcoticDepth","mdbLabel","",1,"form-label"],["id","maxNarcoticDepth","type","number","formControlName","maxEND","required","","step","1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],[1,"col","col-12","col-sm-6"],[1,"form-check","form-switch","pb-1"],["type","checkbox","id","oxygenNarcotic","mdbCheckbox","",1,"form-check-input",3,"checked","change"],["for","roundStops",1,"form-check-label"],["title","Stops"],[1,"row","pt-3"],[1,"mb-4","col","col-12","col-sm-6","col-md-3","col-xxl-6"],["for","problem","mdbLabel","",1,"form-label"],["id","problem","formControlName","problem","type","number","required","","min","1","max","100","step","1",1,"form-control",3,"input"],["for","switchDuration","mdbLabel","",1,"form-label"],["id","switchDuration","formControlName","gasSwitch","type","number","required","","min","1","max","100","step","1",1,"form-control",3,"input"],["for","safetyStop","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["id","safetyStop","type","text",1,"form-control",3,"value","readonly"],["type","button","id","safetyStopMenu","aria-expanded","false","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click"],[1,"dropdown-item"],["for","lastStop","mdbLabel","",1,"form-label"],["id","lastStop","formControlName","lastStopDepth","type","number","required","","step","1",1,"form-control",3,"min","max","input"],[1,"row","ms-2"],["type","checkbox","id","roundStops","mdbCheckbox","",1,"form-check-input",3,"checked","change"],["title","Speeds"],[1,"mb-4","col","col-12","col-sm-6","col-lg-3","col-xxl-6"],["for","descSpeed","mdbLabel","",1,"form-label"],["id","descSpeed","formControlName","descentSpeed","type","number","required","","step","1",1,"form-control",3,"min","max","input"],["for","ascSpeed3","mdbLabel","",1,"form-label"],["id","ascSpeed3","formControlName","ascentSpeed50perc","type","number","required","","step","1",1,"form-control",3,"min","max","input"],["for","ascSpeed2","mdbLabel","",1,"form-label"],["id","ascSpeed2","formControlName","ascentSpeed50percTo6m","type","number","required","","step","1",1,"form-control",3,"min","max","input"],["for","ascSpeed","mdbLabel","",1,"form-label"],["id","ascSpeed","formControlName","ascentSpeed6m","type","number","required","","step","1",1,"form-control",3,"min","max","input"]],template:function(e,t){1&e&&(Ae(0,"div",0)(1,"div",1)(2,"div",2),Pn(3,"fa-icon",3),Ae(4,"span"),_t(5,"Options"),Ne()(),Ae(6,"div",4)(7,"div",5)(8,"input",6),vn("change",function(){return t.isComplex=!t.isComplex}),Ne(),Ae(9,"label",7),_t(10,"Extended (Trimix)"),Ne()()()(),Ae(11,"div",8)(12,"form",9),mn(13,Ube,8,6,"div",10),mn(14,jbe,91,57,"div",10),Ae(15,"div")(16,"button",11),vn("click",function(){return t.useRecreational()}),_t(17,"Recreational"),Ne(),Ae(18,"button",12),vn("click",function(){return t.useRecommended()}),_t(19,"Recommended"),Ne()()()()()),2&e&&(Ve(3),dt("icon",t.icon),Ve(5),dt("checked",t.isComplex),Ve(4),dt("formGroup",t.optionsForm),Ve(1),dt("ngIf",!t.isComplex),Ve(1),dt("ngIf",t.isComplex))},dependencies:[$r,V3,$i,Ta,Da,la,zs,Va,ka,zi,ua,qi,P4,F3,R3,Ts,hy,$H,s6,o6,c6]});class Wo extends fa{constructor(e,t,r,i,a,o){super(),this.units=e,this.planner=t,this.tanksService=r,this.delayedCalc=i,this.plan=a,this.optionsService=o,this._levels=[],this.toxicity=this.optionsService.toxicity;const _=this.firstTank,V=this.optionsService.getOptions();this.plan.reloaded$.pipe(K1(this.unsubscribe$)).subscribe(()=>this.updateLevels());let q=10*this.units.defaults.stopsDistance;q=this.units.toMeters(q),this.plan.setSimple(q,12,_,V),this.tanksService.tankRemoved.pipe(K1(this.unsubscribe$)).subscribe(de=>this.plan.resetSegments(de,_))}get levels(){return this._levels}get bestNitroxMix(){const e=this.toxicity.bestNitroxMix(this.plan.maxDepth)/100;return M2.nameFor(e)}get plannedDepth(){return this.units.fromMeters(this.plan.maxDepth)}get planDuration(){return this.plan.duration}get firstTank(){return this.tanksService.firstTank.tank}set plannedDepth(e){const t=this.units.toMeters(e);this.assignDepth(t),this.levelChanged()}set planDuration(e){this.assignDuration(e),this.apply()}addSegment(){this.addSegmentToPlan(),this.updateLevels(),this.apply()}removeSegment(e){this.plan.removeSegment(e.segment),this.updateLevels(),this.apply()}applyMaxDuration(){this.assignDuration(this.planner.dive.maxTime),this.apply()}applyNdlDuration(){this.assignDuration(this.plan.noDecoTime),this.apply()}assignDuration(e){this.plan.assignDuration(e,this.firstTank,this.optionsService.getOptions())}applyMaxDepth(){let e=this.toxicity.maxDepth(this.firstTank),t=this.units.fromMeters(e);t=Dn.floor(t,1),e=this.units.toMeters(t),this.assignDepth(e),this.levelChanged()}levelChanged(){this.plan.fixDepths(),this.apply()}assignTank(e,t){e.tank=t,this.apply()}updateLevels(){const t=[];this.plan.segments.forEach(r=>{const a=this.tanksService.firstBy(r.tank),o=new $2e(this.units,r,a);t.push(o)}),this._levels=t}assignDepth(e){const t=this.optionsService.getOptions();this.plan.assignDepth(e,this.firstTank,t)}addSegmentToPlan(){const e=this.plan.segments;this.plan.addSegment(e[e.length-1].tank)}apply(){this.delayedCalc.schedule()}}function Gbe(n,e){if(1&n&&(Ae(0,"span"),_t(1),Ne()),2&n){const t=Ut();Ve(1),jn(" ",t.tank.id,".")}}Wo.\u0275fac=function(e){return new(e||Wo)(ln(f1),ln(Wr),ln(Qi),ln(co),ln(Rr),ln(ar))},Wo.\u0275prov=Nn({token:Wo,factory:Wo.\u0275fac});const $be=function(n,e){return{"progress-bar rounded-progress":!0,"bg-success":n,"bg-danger":e}};class l5{constructor(e){this.units=e,this.tank=$o.createDefault(),this.toxicity=new Yu,this.showId=!1}get endPressure(){return this.units.fromBar(this.tank.endPressure)}get startPressure(){return this.units.fromBar(this.tank.startPressure)}get reserve(){return this.units.fromBar(this.tank.reserve)}}function Wbe(n,e){1&n&&(Ae(0,"div",1),Pn(1,"div",2),_t(2," Calculating ...\n"),Ne())}l5.\u0275fac=function(e){return new(e||l5)(yt(f1))},l5.\u0275cmp=L2({type:l5,selectors:[["app-tankchart"]],inputs:{tank:"tank",toxicity:"toxicity",showId:"showId"},decls:27,vars:39,consts:[[1,"my-4"],[1,"d-flex","flex-row","justify-content-between"],[1,"text-start"],[4,"ngIf"],[1,"text-end",3,"tank","toxicity","showName"],[1,"text-start","text-muted"],[1,"text-end","text-muted"],[1,"progress","gas-bar","mt-1","mb-2"],[1,"combined_wrapper"],["role","progressbar","aria-valuemin","0",1,"reserve-bar","rounded-progress"],[1,"reserve-overlay"],[1,"reserve-value"],["role","progressbar","aria-valuemin","0",3,"ngClass"]],template:function(e,t){1&e&&(Ae(0,"div",0)(1,"div",1)(2,"strong",2),mn(3,Gbe,2,1,"span",3),_t(4),Ne(),Pn(5,"app-gaslabel",4),Ne(),Ae(6,"div",1)(7,"small",5),_t(8),O2(9,"number"),O2(10,"number"),Ne(),Ae(11,"small",6),_t(12,"Rock bottom: "),Ae(13,"strong"),_t(14),O2(15,"number"),Ne(),_t(16),Ne()(),Ae(17,"div",7)(18,"div",8)(19,"div",9)(20,"div",10)(21,"div",11),_t(22),O2(23,"number"),Ne()()(),Ae(24,"div",12),_t(25),O2(26,"number"),Ne()()()()),2&e&&(Ve(3),dt("ngIf",t.showId),Ve(1),jn(" ",t.tank.name,""),Ve(1),dt("tank",t.tank)("toxicity",t.toxicity)("showName",!1),Ve(3),S3("Gas remaining: ",F2(9,21,t.endPressure,"1.0-0"),"/",F2(10,24,t.startPressure,"1.0-0")," ",t.units.pressure,""),Ve(6),y1(F2(15,27,t.reserve,"1.0-0")),Ve(2),jn(" ",t.units.pressure,""),Ve(3),k8("width",t.tank.percentsReserve+"%"),Ma("aria-valuemax",t.tank.startPressure)("aria-valuenow",t.tank.reserve),Ve(3),y1(F2(23,30,t.reserve,"1.0-0")),Ve(2),k8("width",t.tank.percentsRemaining+"%"),dt("ngClass",Io(36,$be,t.tank.hasReserve,!t.tank.hasReserve)),Ma("aria-valuemax",t.tank.startPressure)("aria-valuenow",t.tank.endPressure),Ve(1),jn(" ",F2(26,33,t.endPressure,"1.0-0"),""))},dependencies:[Rc,$r,ml,Ha],styles:[".gas-bar[_ngcontent-%COMP%]{padding:5px 8px;height:2em;font-size:1em;border:1px solid #a1a1a1;border-radius:.5em;background:transparent;box-shadow:none;overflow:visible;position:static}.rounded-progress[_ngcontent-%COMP%]{height:100%}.reserve-overlay[_ngcontent-%COMP%]{position:relative}.reserve-value[_ngcontent-%COMP%]{position:absolute;bottom:-3.75em;right:3px;text-align:right}.reserve-bar[_ngcontent-%COMP%]{position:absolute;padding:0;height:4em;top:-.1em;left:0;text-align:right;font-size:.75em;border-right:2px solid darkorange}.combined_wrapper[_ngcontent-%COMP%]{position:relative;width:100%}"]});class gl{constructor(){this.show=!1}}gl.\u0275fac=function(e){return new(e||gl)},gl.\u0275cmp=L2({type:gl,selectors:[["app-calculating"]],inputs:{show:"show"},decls:1,vars:1,consts:[["class","mb-2 container",4,"ngIf"],[1,"mb-2","container"],[1,"spinner-grow","spinner-grow-sm","text-info","me-2"]],template:function(e,t){1&e&&mn(0,Wbe,3,0,"div",0),2&e&&dt("ngIf",t.show)},dependencies:[$r]});class lo{static selectChartTimeFormat(e){return lo.hasHoursRuntime(e)?"%H:%M:%S":"%M:%S"}static selectTimeFormat(e){return lo.hasHoursRuntime(e)?"mm:ss":"m:ss"}static hoursDuration(e){return e/lo.secondsPerHour}static hasHoursRuntime(e){return lo.hoursDuration(e)>=1}}lo.secondsPerHour=3600,lo.secondsPerDay=24*lo.secondsPerHour;class vl{constructor(e){this.datePipe=e}transform(e,t){const r=U2.toDate(e),i=lo.selectTimeFormat(t),a=this.datePipe.transform(r,i)||"";let o=lo.hoursDuration(e);return o=Math.trunc(o),o>=1?`${o}:${a}`:a}}function qbe(n,e){if(1&n&&(Ae(0,"div",2),Pn(1,"fa-icon",3),Ae(2,"span"),_t(3,"There was an error while calculating profile."),Ne()()),2&n){const t=Ut();Ve(1),dt("icon",t.exclamation)}}function Ybe(n,e){if(1&n&&(Ae(0,"div",2),Pn(1,"fa-icon",3),Ae(2,"span"),_t(3),O2(4,"number"),Ne()()),2&n){const t=Ut();Ve(1),dt("icon",t.exclamation),Ve(2),jn("Not enough time to realize the dive (duration needs to be at least ",F2(4,2,t.minimumDuration,"1.0-0")," min)! Set longer planed dive time.")}}function Zbe(n,e){if(1&n&&(Ae(0,"div",2),Pn(1,"fa-icon",3),Ae(2,"span"),_t(3),O2(4,"number"),Ne()()),2&n){const t=Ut(2);Ve(1),dt("icon",t.exclamation),Ve(2),jn("Not enough gas to realize the dive! Maximum bottom time for current amount of gas is ",F2(4,2,t.dive.maxTime,"1.0-0")," min. Use larger tank, fill it with more gas, reduce dive duration or planned depth.")}}function Xbe(n,e){if(1&n&&(Ae(0,"div",6),Pn(1,"fa-icon",3),Ae(2,"span"),_t(3),O2(4,"number"),Ne()()),2&n){const t=Ut(2);Ve(1),dt("icon",t.info),Ve(2),jn("No decompression time for current depth exceeded (For no decompression dive set dive time maximum to ",F2(4,2,t.noDeco,"1.0-0")," min)!")}}function Kbe(n,e){if(1&n&&(Ae(0,"div",8),Pn(1,"fa-icon",3),Ae(2,"span"),_t(3),O2(4,"number"),Ne()()),2&n){const t=Ut(3);Ve(1),dt("icon",t.warning),Ve(2),ss("Exceeded 80 % of maximum single exposure oxygen toxicity units (",F2(4,3,t.dive.otu,"1.0-0"),"/",t.otuLimit," OTU)! There is a high risk of lungs injury. Reduce amount of oxygen in your gases, dive duration or target depths.")}}function Qbe(n,e){if(1&n&&(Ae(0,"div",8),Pn(1,"fa-icon",3),Ae(2,"span"),_t(3),O2(4,"number"),Ne()()),2&n){const t=Ut(3);Ve(1),dt("icon",t.warning),Ve(2),jn("Exceeded 80 % of maximum single exposure oxygen toxicity (",F2(4,2,100*t.dive.cns,"1.0-0")," %)! There is a high risk of CNS injury. Reduce amount of oxygen in your gases, dive duration or target depths.")}}function Jbe(n,e){if(1&n&&(Z1(0),mn(1,Kbe,5,6,"div",7),mn(2,Qbe,5,5,"div",7),X1()),2&n){const t=Ut(2);Ve(1),dt("ngIf",t.dive.diveInfoCalculated&&t.dive.otuExceeded),Ve(1),dt("ngIf",t.dive.diveInfoCalculated&&t.dive.cnsExceeded)}}function exe(n,e){if(1&n&&(Ae(0,"div",8),Pn(1,"fa-icon",3),Ae(2,"span"),_t(3),O2(4,"number"),Ne()()),2&n){const t=Ut().$implicit,r=Ut(2);Ve(1),dt("icon",r.warning),Ve(2),ss("Low partial pressure of oxygen reached at depth ",F2(4,3,r.eventDepthFor(t),"1.0-0")," ",r.units.length," (minimum depth exceeded)! There is a risk of hypoxia. Use gas with higher oxygen content.")}}function txe(n,e){if(1&n&&(Ae(0,"div",8),Pn(1,"fa-icon",3),Ae(2,"span"),_t(3),O2(4,"number"),Ne()()),2&n){const t=Ut().$implicit,r=Ut(2);Ve(1),dt("icon",r.warning),Ve(2),ss("High partial pressure of oxygen reached at depth ",F2(4,3,r.eventDepthFor(t),"1.0-0")," ",r.units.length," (maximum depth exceeded)! There is a risk of oxygen toxicity. Reduce the depth or use gas with lower oxygen content.")}}function nxe(n,e){if(1&n&&(Ae(0,"div",8),Pn(1,"fa-icon",3),Ae(2,"span"),_t(3),O2(4,"duration"),Ne()()),2&n){const t=Ut().$implicit,r=Ut(2);Ve(1),dt("icon",r.warning),Ve(2),jn("High descent speed at ",F2(4,2,t.timeStamp,t.timeStamp)," min! Descent longer time or descent to lower depth.")}}function rxe(n,e){if(1&n&&(Ae(0,"div",8),Pn(1,"fa-icon",3),Ae(2,"span"),_t(3),O2(4,"duration"),Ne()()),2&n){const t=Ut().$implicit,r=Ut(2);Ve(1),dt("icon",r.warning),Ve(2),jn("High ascent speed at ",F2(4,2,t.timeStamp,t.timeStamp)," min! Ascent to higher depth only or ascent longer time.")}}function ixe(n,e){if(1&n&&(Ae(0,"div",8),Pn(1,"fa-icon",3),Ae(2,"span"),_t(3),O2(4,"number"),O2(5,"duration"),Ne()()),2&n){const t=Ut().$implicit,r=Ut(2);Ve(1),dt("icon",r.warning),Ve(2),S3("Ceiling depth ",F2(4,4,r.eventDepthFor(t),"1.0-0")," ",r.units.length," broken at ",F2(5,7,t.timeStamp,t.timeStamp)," min! Change your plan to higher depth at this point.")}}function axe(n,e){if(1&n&&(Ae(0,"div",8),Pn(1,"fa-icon",3),Ae(2,"span"),_t(3),O2(4,"number"),O2(5,"duration"),Ne()()),2&n){const t=Ut().$implicit,r=Ut(2);Ve(1),dt("icon",r.warning),Ve(2),S3("Gas switch to gas with higher nitrogen content in ",F2(4,4,r.eventDepthFor(t),"1.0-0")," ",r.units.length," at ",F2(5,7,t.timeStamp,t.timeStamp)," min is not recommended! There is a risk od isobaric counter diffusion (IDC). Switch to another gas with higher helium content or lower nitrogen content.")}}function sxe(n,e){if(1&n&&(Ae(0,"div",8),Pn(1,"fa-icon",3),Ae(2,"span"),_t(3),O2(4,"number"),O2(5,"duration"),Ne()()),2&n){const t=Ut().$implicit,r=Ut(2);Ve(1),dt("icon",r.warning),Ve(2),S3("Exceeded maximum narcotic depth for selected gas in ",F2(4,4,r.eventDepthFor(t),"1.0-0")," ",r.units.length," at ",F2(5,7,t.timeStamp,t.timeStamp)," min! Reduce the depth or use gas with higher helium content.")}}function oxe(n,e){if(1&n&&(Ae(0,"div",8),Pn(1,"fa-icon",3),Ae(2,"span"),_t(3),O2(4,"number"),O2(5,"duration"),Ne()()),2&n){const t=Ut().$implicit,r=Ut(2);Ve(1),dt("icon",r.warning),Ve(2),S3("Exceeded maximum recommended gas density in ",F2(4,4,r.eventDepthFor(t),"1.0-0")," ",r.units.length," at ",F2(5,7,t.timeStamp,t.timeStamp)," min! Reduce the depth or use gas with higher helium content (i.e. lower density).")}}function cxe(n,e){if(1&n&&(Z1(0),mn(1,exe,5,6,"div",7),mn(2,txe,5,6,"div",7),mn(3,nxe,5,5,"div",7),mn(4,rxe,5,5,"div",7),mn(5,ixe,6,10,"div",7),mn(6,axe,6,10,"div",7),mn(7,sxe,6,10,"div",7),mn(8,oxe,6,10,"div",7),X1()),2&n){const t=e.$implicit,r=Ut(2);Ve(1),dt("ngIf",r.isLowPpO2(t)),Ve(1),dt("ngIf",r.isHighPpO2(t)),Ve(1),dt("ngIf",r.isHighDescentSpeed(t)),Ve(1),dt("ngIf",r.isHighAscentSpeed(t)),Ve(1),dt("ngIf",r.isBrokenCeiling(t)),Ve(1),dt("ngIf",r.isHighN2Switch(t)),Ve(1),dt("ngIf",r.isMndExceeded(t)),Ve(1),dt("ngIf",r.isHighDensity(t))}}function lxe(n,e){if(1&n&&(Z1(0),mn(1,Zbe,5,5,"div",0),mn(2,Xbe,5,5,"div",4),mn(3,Jbe,3,2,"ng-container",1),mn(4,cxe,9,8,"ng-container",5),X1()),2&n){const t=Ut();Ve(1),dt("ngIf",t.dive.calculated&&t.dive.notEnoughGas),Ve(1),dt("ngIf",t.dive.diveInfoCalculated&&t.dive.noDecoExceeded),Ve(1),dt("ngIf",!1),Ve(1),dt("ngForOf",t.dive.events)}}vl.\u0275fac=function(e){return new(e||vl)(yt(yg,16))},vl.\u0275pipe=Q1({name:"duration",type:vl,pure:!0});class u5{constructor(e,t,r){this.planner=e,this.units=t,this.plan=r,this.exclamation=Rk,this.warning=Kh,this.info=yE,this.otuLimit=Qy.dailyLimit,this.dive=this.planner.dive}get minimumDuration(){return this.plan.duration+1}get noDeco(){return this.plan.noDecoTime}isLowPpO2(e){return e.type===q1.lowPpO2}isHighPpO2(e){return e.type===q1.highPpO2}isHighAscentSpeed(e){return e.type===q1.highAscentSpeed}isHighDescentSpeed(e){return e.type===q1.highDescentSpeed}isBrokenCeiling(e){return e.type===q1.brokenCeiling}isHighN2Switch(e){return e.type===q1.switchToHigherN2}isMndExceeded(e){return e.type===q1.maxEndExceeded}isHighDensity(e){return e.type===q1.highGasDensity}eventDepthFor(e){return this.units.fromMeters(e.depth)}}function uxe(n,e){if(1&n){const t=v1();Ae(0,"div",18)(1,"div",19),Pn(2,"fa-icon",6),Ae(3,"strong",20),_t(4,"Share plan"),Ne(),Ae(5,"button",21),vn("click",function(){return s2(t),o2(Ut().hideToast())}),Ne()(),Ae(6,"div",22),_t(7," URL address of this dive plan was copied to the clipboard. "),Ne()()}if(2&n){const t=Ut();Ve(2),dt("icon",t.iconShare)}}function fxe(n,e){if(1&n&&(Ae(0,"strong"),_t(1),O2(2,"number"),Ne()),2&n){const t=Ut();Ve(1),y1(F2(2,1,t.dive.timeToSurface,"1.0-0"))}}function dxe(n,e){if(1&n&&(Ae(0,"strong"),_t(1),O2(2,"number"),Ne()),2&n){const t=Ut();Ve(1),y1(F2(2,1,t.averageDepth,"1.0-1"))}}function hxe(n,e){if(1&n&&(Ae(0,"strong"),_t(1),O2(2,"duration"),Ne()),2&n){const t=Ut();Ve(1),jn("",F2(2,1,t.dive.emergencyAscentStart,t.dive.emergencyAscentStart)," ")}}function pxe(n,e){if(1&n){const t=v1();Ae(0,"button",23),vn("click",function(){return s2(t),o2(Ut().applyNdlDuration())}),_t(1,"Use"),Ne()}}function mxe(n,e){if(1&n&&(Ae(0,"strong"),_t(1),O2(2,"number"),Ne()),2&n){const t=Ut();Ve(1),y1(F2(2,1,t.noDeco,"1.0-0"))}}function gxe(n,e){if(1&n){const t=v1();Ae(0,"button",23),vn("click",function(){return s2(t),o2(Ut(2).applyMaxDuration())}),_t(1,"Use"),Ne()}}function vxe(n,e){if(1&n&&(Ae(0,"strong"),_t(1),O2(2,"number"),Ne()),2&n){const t=Ut(2);Ve(1),y1(F2(2,1,t.dive.maxTime,"1.0-0"))}}function yxe(n,e){if(1&n&&(Ae(0,"tr")(1,"td"),_t(2,"Maximum bottom time [min]: "),mn(3,gxe,2,0,"button",15),Ne(),Ae(4,"td",13),mn(5,vxe,3,4,"strong",14),Ne()()),2&n){const t=Ut();Ve(3),dt("ngIf",t.showApply),Ve(2),dt("ngIf",t.dive.calculated)}}function _xe(n,e){if(1&n&&(Ae(0,"strong"),_t(1),O2(2,"number"),Ne()),2&n){const t=Ut(2);Ve(1),y1(F2(2,1,t.highestDensity,"1.0-2"))}}function Cxe(n,e){if(1&n&&(Ae(0,"tr")(1,"td"),_t(2),Pn(3,"br"),_t(4),Ne(),Ae(5,"td",13),mn(6,_xe,3,4,"strong",14),Ne()()),2&n){const t=Ut();Ve(2),jn(" Highest gas density [",t.units.density,"]:"),Ve(2),jn(" (",t.densityText,") "),Ve(2),dt("ngIf",t.dive.calculated)}}function bxe(n,e){if(1&n&&(Ae(0,"strong"),_t(1),O2(2,"number"),Ne()),2&n){const t=Ut(2);Ve(1),y1(F2(2,1,t.dive.turnTime,"1.0-0"))}}function xxe(n,e){if(1&n&&(Ae(0,"tr")(1,"td"),_t(2,"Turn time [min]:"),Ne(),Ae(3,"td",13),mn(4,bxe,3,4,"strong",14),Ne()()),2&n){const t=Ut();Ve(4),dt("ngIf",t.dive.calculated)}}function Mxe(n,e){if(1&n&&(Ae(0,"strong"),_t(1),O2(2,"number"),Ne()),2&n){const t=Ut(2);Ve(1),y1(F2(2,1,t.dive.turnPressure,"1.0-0"))}}function wxe(n,e){if(1&n&&(Ae(0,"tr")(1,"td"),_t(2),Ne(),Ae(3,"td",13),mn(4,Mxe,3,4,"strong",14),Ne()()),2&n){const t=Ut();Ve(2),jn("Turn pressure [",t.units.pressure,"]:"),Ve(2),dt("ngIf",t.dive.calculated)}}function Sxe(n,e){if(1&n&&(Ae(0,"strong"),_t(1),O2(2,"number"),Ne()),2&n){const t=Ut(3);Ve(1),y1(F2(2,1,t.dive.otu,"1.0-0"))}}function zxe(n,e){if(1&n&&(Ae(0,"tr")(1,"td"),_t(2,"OTU toxicity [OTU]:"),Ne(),Ae(3,"td",13),mn(4,Sxe,3,4,"strong",14),Ne()()),2&n){const t=Ut(2);Ve(4),dt("ngIf",t.dive.calculated)}}function Hxe(n,e){if(1&n&&(Ae(0,"strong"),_t(1),O2(2,"number"),Ne()),2&n){const t=Ut(3);Ve(1),y1(F2(2,1,100*t.dive.cns,"1.0-0"))}}function Lxe(n,e){if(1&n&&(Ae(0,"tr")(1,"td"),_t(2,"CNS toxicity [%]:"),Ne(),Ae(3,"td",13),mn(4,Hxe,3,4,"strong",14),Ne()()),2&n){const t=Ut(2);Ve(4),dt("ngIf",t.dive.calculated)}}function Dxe(n,e){if(1&n&&(Z1(0),mn(1,zxe,5,1,"tr",14),mn(2,Lxe,5,1,"tr",14),X1()),2&n){const t=Ut();Ve(1),dt("ngIf",t.dive.profileCalculated),Ve(1),dt("ngIf",t.dive.profileCalculated)}}function Txe(n,e){1&n&&(Ae(0,"span",25)(1,"strong"),_t(2,"!"),Ne()())}function kxe(n,e){if(1&n&&(Ae(0,"span"),_t(1,"Consumed"),Ne(),mn(2,Txe,3,0,"span",24)),2&n){const t=Ut();Ve(2),dt("ngIf",t.dive.notEnoughGas)}}function Vxe(n,e){if(1&n&&Pn(0,"app-tankchart",27),2&n){const t=e.$implicit,r=Ut(2);dt("tank",t)("showId",r.isComplex)("toxicity",r.toxicity)}}function Axe(n,e){if(1&n&&(Z1(0),mn(1,Vxe,1,3,"app-tankchart",26),X1()),2&n){const t=Ut();Ve(1),dt("ngForOf",t.tanks)}}function Nxe(n,e){if(1&n&&(Ae(0,"span",29)(1,"strong"),_t(2,"!"),Ne()()),2&n){const t=Ut(2);u2("badge-danger",t.dive.hasErrorEvent)("badge-warning",!t.dive.hasErrorEvent&&t.dive.hasWarningEvent)}}function Exe(n,e){if(1&n&&(Ae(0,"span"),_t(1,"Issues"),Ne(),mn(2,Nxe,3,4,"span",28)),2&n){const t=Ut();Ve(2),dt("ngIf",t.dive.hasErrorEvent||t.dive.hasWarningEvent)}}u5.\u0275fac=function(e){return new(e||u5)(yt(Wr),yt(f1),yt(Rr))},u5.\u0275cmp=L2({type:u5,selectors:[["app-dive-issues"]],decls:3,vars:3,consts:[["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-danger"],[1,"me-2",3,"icon"],["class","alert alert-info",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"alert","alert-info"],["class","alert alert-warning",4,"ngIf"],[1,"alert","alert-warning"]],template:function(e,t){1&e&&(mn(0,qbe,4,1,"div",0),mn(1,Ybe,5,5,"div",0),mn(2,lxe,5,4,"ng-container",1)),2&e&&(dt("ngIf",t.dive.calculated&&t.dive.calculationFailed),Ve(1),dt("ngIf",t.dive.diveInfoCalculated&&t.dive.notEnoughTime),Ve(1),dt("ngIf",!t.dive.hasErrors))},dependencies:[k3,$r,qi,Ha,vl]});class f5 extends fa{constructor(e,t,r,i,a,o,_,V){super(),this.clipboard=e,this.depthsService=t,this.tanksService=r,this.planner=i,this.options=a,this.viewSwitch=o,this.units=_,this.plan=V,this.icon=UE,this.iconShare=U_,this.toastVisible=!1,this.dive=this.planner.dive,this.toxicity=this.options.toxicity,this.clipboard.copyResponse$.pipe(K1(this.unsubscribe$)).subscribe(q=>{q.isSuccess&&(this.toastVisible=!0,setTimeout(()=>{this.hideToast()},5e3))})}get isComplex(){return this.viewSwitch.isComplex}get tanks(){return this.tanksService.tankData}get showMaxBottomTime(){return this.dive.maxTime>0}get needsReturn(){return this.plan.needsReturn}get noDeco(){return this.plan.noDecoTime}get showApply(){return!this.isComplex&&this.dive.calculated}get averageDepth(){return this.units.fromMeters(this.dive.averageDepth)}get highestDensity(){return this.units.fromGramPerLiter(this.dive.highestDensity.density)}get densityText(){return`${this.dive.highestDensity.gas.name} at ${this.units.fromMeters(this.dive.highestDensity.depth)} ${this.units.length}`}applyMaxDuration(){this.depthsService.applyMaxDuration()}applyNdlDuration(){this.depthsService.applyNdlDuration()}sharePlan(){this.clipboard.copy(window.location.href)}hideToast(){this.toastVisible=!1}}f5.\u0275fac=function(e){return new(e||f5)(yt(bX),yt(Wo),yt(Qi),yt(Wr),yt(ar),yt(Ns),yt(f1),yt(Rr))},f5.\u0275cmp=L2({type:f5,selectors:[["app-diveinfo"]],features:[p1],decls:52,vars:17,consts:[[1,"card"],[1,"card-header"],[1,"float-start","mt-1"],[1,"me-3",3,"icon"],[1,"float-end"],["type","button",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"me-2",3,"icon"],[1,"position-fixed","top-0","end-0","px-3","py-2","m-16","mt-5","success"],["role","alert","aria-live","assertive","aria-atomic","true","class","toast fade text-light mt-2 bg-success success","data-autohide","true",4,"ngIf"],[1,"card-body","card-minheight"],["title","Results"],[1,"pb-3"],[1,"table","table-sm"],[1,"table-active"],[4,"ngIf"],["type","button","class","btn btn-secondary btn-sm ml-2",3,"click",4,"ngIf"],[3,"show"],["mdbTabTitle",""],["role","alert","aria-live","assertive","aria-atomic","true","data-autohide","true",1,"toast","fade","text-light","mt-2","bg-success","success"],[1,"toast-header","bg-success","success","text-light"],[1,"me-auto"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"toast-body","alert-success"],["type","button",1,"btn","btn-secondary","btn-sm","ml-2",3,"click"],["class","badge badge-danger ms-2",4,"ngIf"],[1,"badge","badge-danger","ms-2"],[3,"tank","showId","toxicity",4,"ngFor","ngForOf"],[3,"tank","showId","toxicity"],["class","badge ms-2",3,"badge-danger","badge-warning",4,"ngIf"],[1,"badge","ms-2"]],template:function(e,t){1&e&&(Ae(0,"div",0)(1,"div",1)(2,"div",2),Pn(3,"fa-icon",3),Ae(4,"span"),_t(5,"Dive info"),Ne()(),Ae(6,"div",4)(7,"button",5),vn("click",function(){return t.sharePlan()}),Pn(8,"fa-icon",6),_t(9,"Share "),Ne()()(),Ae(10,"div",7),mn(11,uxe,8,1,"div",8),Ne(),Ae(12,"div",9)(13,"mdb-tabs")(14,"mdb-tab",10)(15,"div",11)(16,"table",12)(17,"tbody")(18,"tr")(19,"td"),_t(20,"Time to surface [min]:"),Ne(),Ae(21,"td",13),mn(22,fxe,3,4,"strong",14),Ne()(),Ae(23,"tr")(24,"td"),_t(25),Ne(),Ae(26,"td",13),mn(27,dxe,3,4,"strong",14),Ne()(),Ae(28,"tr")(29,"td"),_t(30,"Rock bottom at:"),Ne(),Ae(31,"td",13),mn(32,hxe,3,4,"strong",14),Ne()(),Ae(33,"tr")(34,"td"),_t(35,"No decompression time [min]: "),mn(36,pxe,2,0,"button",15),Ne(),Ae(37,"td",13),mn(38,mxe,3,4,"strong",14),Ne()(),mn(39,yxe,6,2,"tr",14),mn(40,Cxe,7,3,"tr",14),mn(41,xxe,5,1,"tr",14),mn(42,wxe,5,2,"tr",14),mn(43,Dxe,3,2,"ng-container",14),Ne()()(),Pn(44,"app-calculating",16),Ne(),Ae(45,"mdb-tab"),mn(46,kxe,3,1,"ng-template",17),mn(47,Axe,2,1,"ng-container",14),Pn(48,"app-calculating",16),Ne(),Ae(49,"mdb-tab"),mn(50,Exe,3,1,"ng-template",17),Pn(51,"app-dive-issues"),Ne()()()()),2&e&&(Ve(3),dt("icon",t.icon),Ve(5),dt("icon",t.iconShare),Ve(3),dt("ngIf",t.toastVisible),Ve(11),dt("ngIf",t.dive.calculated),Ve(3),jn("Average depth [",t.units.length,"]:"),Ve(2),dt("ngIf",t.dive.profileCalculated),Ve(5),dt("ngIf",t.dive.calculated),Ve(4),dt("ngIf",t.showApply),Ve(2),dt("ngIf",t.dive.diveInfoCalculated),Ve(1),dt("ngIf",t.showMaxBottomTime),Ve(1),dt("ngIf",t.isComplex),Ve(1),dt("ngIf",t.dive.needsReturn),Ve(1),dt("ngIf",t.dive.needsReturn),Ve(1),dt("ngIf",!1),Ve(1),dt("show",!t.dive.calculated),Ve(3),dt("ngIf",t.dive.showResults),Ve(1),dt("show",!t.dive.calculated))},dependencies:[k3,$r,qi,hy,BK,$H,l5,gl,u5,Ha,vl]});class U4{constructor(e){this.plannerService=e,this.selectedChanged=new a1}set selectedTimeStamp(e){let t;if(e){const r=U2.secondsFromDate(e);t=this.plannerService.dive.wayPoints.find(i=>i.fits(r))}this.selected=t}set selected(e){this.lastSelected&&(this.lastSelected.selected=!1),this.lastSelected=e,e&&this.lastSelected&&(this.lastSelected.selected=!0),this.selectedChanged.emit(this.lastSelected)}}function Pxe(n,e){1&n&&(Ae(0,"th",6),_t(1,"Gas"),Ne())}function Ixe(n,e){1&n&&(Ae(0,"tr")(1,"td",10),Pn(2,"app-calculating",11),Ne()()),2&n&&(Ve(2),dt("show",!0))}function Oxe(n,e){if(1&n&&(Ae(0,"td",15),_t(1),Ne()),2&n){const t=Ut().$implicit;Ve(1),y1(t.gasName)}}U4.\u0275fac=function(e){return new(e||U4)(ln(Wr))},U4.\u0275prov=Nn({token:U4,factory:U4.\u0275fac});const Fxe=function(n){return{"table-active":n}};function Rxe(n,e){if(1&n){const t=v1();Ae(0,"tr",12),vn("mouseover",function(){const a=s2(t).$implicit;return o2(Ut().highlightRow(a))})("mouseleave",function(){return s2(t),o2(Ut().highlightRow(void 0))}),Ae(1,"td",13),Pn(2,"fa-icon",14),Ne(),Ae(3,"td",15),_t(4),O2(5,"number"),Ne(),Ae(6,"td",15),_t(7),O2(8,"duration"),Ne(),Ae(9,"td",15),_t(10),O2(11,"duration"),Ne(),mn(12,Oxe,2,1,"td",16),Ne()}if(2&n){const t=e.$implicit,r=Ut();dt("ngClass",Tm(17,Fxe,t.selected)),Ve(2),dt("icon",r.swimActionIcon(t))("ngClass",r.iconClasses(t))("title",r.iconTitle(t)),Ve(2),y1(F2(5,8,t.endDepth,"1.0-0")),Ve(3),y1(F2(8,11,t.duration,r.totalDuration)),Ve(3),y1(F2(11,14,t.endTime,r.totalDuration)),Ve(2),dt("ngIf",r.isComplex)}}class d5{constructor(e,t,r,i){this.planner=e,this.units=t,this.selectedWaypoint=r,this.viewSwitch=i,this.down=CP,this.up=NP,this.hover=dN,this.tasks=PP,this.switch=DV,this.dive=this.planner.dive}get isComplex(){return this.viewSwitch.isComplex}get totalDuration(){return this.dive.totalDuration}swimActionIcon(e){switch(e.swimAction){case ki.ascent:return this.up;case ki.descent:return this.down;case ki.switch:return this.switch;default:return this.hover}}iconTitle(e){switch(e.swimAction){case ki.ascent:return"ascent";case ki.descent:return"descent";case ki.switch:return"switch";default:return"hover"}}iconClasses(e){return{"swim-down":e.swimAction===ki.descent,"swim-up":e.swimAction===ki.ascent,"swim-hover":e.swimAction===ki.hover||e.swimAction===ki.switch}}highlightRow(e){this.selectedWaypoint.selected=e}}d5.\u0275fac=function(e){return new(e||d5)(yt(Wr),yt(f1),yt(U4),yt(Ns))},d5.\u0275cmp=L2({type:d5,selectors:[["app-waypoints"]],decls:20,vars:5,consts:[[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body","card-minheight","table-responsive"],[1,"table","table-sm","p-0"],[1,"table-light"],[1,"fw-bold","px-1"],["class","fw-bold px-1",4,"ngIf"],[4,"ngIf"],[3,"ngClass","mouseover","mouseleave",4,"ngFor","ngForOf"],["colspan","5"],[3,"show"],[3,"ngClass","mouseover","mouseleave"],[1,"px-1","text-center"],[3,"icon","ngClass","title"],[1,"px-1"],["class","px-1",4,"ngIf"]],template:function(e,t){1&e&&(Ae(0,"div",0)(1,"div",1),Pn(2,"fa-icon",2),Ae(3,"span"),_t(4,"Dive way points"),Ne()(),Ae(5,"div",3)(6,"table",4)(7,"thead",5)(8,"tr"),Pn(9,"th"),Ae(10,"th",6),_t(11),Ne(),Ae(12,"th",6),_t(13,"Duration [min]"),Ne(),Ae(14,"th",6),_t(15,"Run [min]"),Ne(),mn(16,Pxe,2,0,"th",7),Ne()(),Ae(17,"tbody"),mn(18,Ixe,3,1,"tr",8),mn(19,Rxe,13,19,"tr",9),Ne()()()()),2&e&&(Ve(2),dt("icon",t.tasks),Ve(9),jn("Depth [",t.units.length,"]"),Ve(5),dt("ngIf",t.isComplex),Ve(2),dt("ngIf",!t.dive.profileCalculated),Ve(1),dt("ngForOf",t.dive.wayPoints))},dependencies:[Rc,k3,$r,qi,gl,Ha,vl],styles:[".swim-down[_ngcontent-%COMP%]{color:#deb887}.swim-up[_ngcontent-%COMP%]{color:#8a2be2}.swim-hover[_ngcontent-%COMP%]{color:#1e90ff}"]});var yO=pe(500);class l6{constructor(e){this.units=e}resampleAverageDepth(e){const t=[],r=[];return e.length>0&&this.transformAverageDepth(e,t,r),{xValues:t,yValues:r}}convertEvents(e){const t=[],r=[],i=[];return e.forEach(a=>{if(a.type===q1.gasSwitch){t.push(U2.toDate(a.timeStamp));const o=this.convertDepth(a.depth);r.push(o);const _=a.gas;if(_){const V=M2.nameFor(_.fO2,_.fHe);i.push(`${V}`)}}}),{xValues:t,yValues:r,labels:i}}resampleCeilings(e){const t=[],r=[];return e.forEach(i=>{t.push(U2.toDate(i.time));const a=this.convertDepth(i.depth);r.push(a)}),{xValues:t,yValues:r}}resampleWaypoints(e){const t=[],r=[];return e.forEach(i=>{this.resampleDepthsToSeconds(t,r,i)}),{xValues:t,yValues:r}}resampleDepthsToSeconds(e,t,r){const i=(r.endDepthMeters-r.startDepthMeters)/r.duration;for(let o=r.startTime;o<r.endTime;o++){e.push(U2.toDate(o));const V=this.convertDepth(r.startDepthMeters+(o-r.startTime)*i);t.push(V)}e.push(U2.toDate(r.endTime));const a=this.convertDepth(r.endDepthMeters);t.push(a)}transformAverageDepth(e,t,r){if(e.length<=0)return 0;let i=0,a=0;return e.forEach(o=>{if(o.duration>0)for(let _=0;_<o.duration;_++){t.push(U2.toDate(a));const q=o.depthAt(_)+a*i;a++,i=q/a;const de=this.convertDepth(i);r.push(de)}}),i}convertDepth(e){const t=this.units.fromMeters(e);return Dn.round(t,1)}}l6.\u0275fac=function(e){return new(e||l6)(ln(f1))},l6.\u0275prov=Nn({token:l6,factory:l6.\u0275fac});const Bxe=function(n,e){return{"plot-display":n,"plot-hidden":e}};class h5 extends fa{constructor(e,t,r,i){super(),this.planer=e,this.units=t,this.selectedWaypoint=r,this.plan=i,this.icon=s_,this.elementName="diveplot",this.options={displaylogo:!1,displayModeBar:!1,responsive:!0,autosize:!0,scrollZoom:!1,editable:!1},this.cursor1={xid:1,type:"line",xref:"x",yref:"y",x0:new Date("2001-06-12 12:30"),y0:0,x1:new Date("2001-06-12 12:30"),y1:1,fillcolor:"#d3d3d3",line:{color:"rgb(31, 119, 180)",width:5}},this.dive=this.planer.dive,this.resampling=new l6(t),this.layout={autosize:!0,showlegend:!1,xaxis:{fixedrange:!0,title:{text:"Time [min]"}},yaxis:{fixedrange:!0,autorange:"reversed",title:{text:`Depth [${t.length}]`}},margin:{l:40,r:10,b:40,t:10},hovermode:"x unified",hoverlabel:{bgcolor:"rgba(200, 200, 200, 0.25)",bordercolor:"rgba(200, 200, 200, 0.25)"},shapes:[]},this.updateLayoutThickFormat(),this.planer.wayPointsCalculated$.pipe(K1(this.unsubscribe$)).subscribe(()=>this.plotCharts()),this.selectedWaypoint.selectedChanged.pipe(K1(this.unsubscribe$)).subscribe(a=>this.selectWayPoint(a))}get noDecoTime(){return this.plan.noDecoTime}ngOnInit(){this.plotCharts(),this.hookChartEvents()}scaleWidth(e,t){return e*t/this.dive.totalDuration}scaleHeight(e,t){return e*(t-10)/this.plan.maxDepth}plotlyHover(e){this.selectedWaypoint.selectedTimeStamp=e.points[0].x}plotlyHoverLeave(e){this.selectedWaypoint.selectedTimeStamp=""}selectWayPoint(e){const r={shapes:[]};e&&(this.cursor1.x0=U2.toDate(e.startTime),this.cursor1.x1=U2.toDate(e.endTime),this.cursor1.y0=e.startDepth,this.cursor1.y1=e.endDepth,r.shapes.push(this.cursor1)),yO.relayout(this.elementName,r)}plotCharts(){this.updateLayoutThickFormat();const e=this.plotAverageDepth(),t=this.plotDepths(),r=this.plotCeilings(),i=this.plotEvents();yO.react(this.elementName,[e,t,r,i],this.layout,this.options)}hookChartEvents(){this.chartElement=document.getElementById(this.elementName),this.chartElement.on("plotly_hover",e=>this.plotlyHover(e)),this.chartElement.on("plotly_click",e=>this.plotlyHover(e)),this.chartElement.on("plotly_unhover",e=>this.plotlyHoverLeave(e))}updateLayoutThickFormat(){this.layout.xaxis.tickformat=lo.selectChartTimeFormat(this.dive.totalDuration)}plotAverageDepth(){const e=this.resampling.resampleAverageDepth(this.dive.wayPoints);return{x:e.xValues,y:e.yValues,type:"scatter",line:{dash:"dot"},name:"Avg. depth",marker:{color:"rgb(62, 157, 223)"},hovertemplate:`%{y:.2f}  ${this.units.length}`}}plotDepths(){const e=this.resampling.resampleWaypoints(this.dive.wayPoints);return{x:e.xValues,y:e.yValues,type:"scatter",name:"Depth",marker:{color:"rgb(31, 119, 180)"},hovertemplate:`%{y:.2f}  ${this.units.length}`}}plotCeilings(){const e=this.resampling.resampleCeilings(this.dive.ceilings);return{x:e.xValues,y:e.yValues,type:"scatter",fill:"tozeroy",name:"Ceiling",marker:{color:"rgb(255, 160, 73)"},hovertemplate:`%{y:.2f}  ${this.units.length}`}}plotEvents(){const e=this.resampling.convertEvents(this.dive.events);return{x:e.xValues,y:e.yValues,labels:e.labels,text:e.labels,type:"scatter",mode:"text+markers",fill:"tozeroy",name:"Event",hovertemplate:"Switch to %{text}",texttemplate:"%{text}",textposition:"top center",fillcolor:"rgba(0, 0, 0, 0)",marker:{color:"rgba(31, 119, 180, 0.5)",size:8,line:{color:"rgba(31, 119, 180, 0.7)",width:2}},showlegend:!1}}}h5.\u0275fac=function(e){return new(e||h5)(yt(Wr),yt(f1),yt(U4),yt(Rr))},h5.\u0275cmp=L2({type:h5,selectors:[["app-profilechart"]],features:[p1],decls:8,vars:6,consts:[[1,"card"],[1,"card-header"],["flip","vertical",1,"me-3",3,"icon"],[1,"card-body","card-minheight"],[3,"show"],["id","diveplot",1,"diveplot",3,"ngClass"]],template:function(e,t){1&e&&(Ae(0,"div",0)(1,"div",1),Pn(2,"fa-icon",2),Ae(3,"span"),_t(4,"Profile chart"),Ne()(),Ae(5,"div",3),Pn(6,"app-calculating",4)(7,"div",5),Ne()()),2&e&&(Ve(2),dt("icon",t.icon),Ve(4),dt("show",!t.dive.profileCalculated),Ve(1),dt("ngClass",Io(3,Bxe,t.dive.profileCalculated,!t.dive.profileCalculated)))},dependencies:[Rc,qi,gl],styles:[".dive-level[_ngcontent-%COMP%]{stroke:#4169e1;stroke-width:2}.dive-surface[_ngcontent-%COMP%]{stroke:navy;stroke-width:4}.dive-waypoint[_ngcontent-%COMP%]{text-anchor:end}.dive-nodeco[_ngcontent-%COMP%]{fill:red;r:6}.dive-plot[_ngcontent-%COMP%]{position:relative;width:100%;height:450px}.plot-display[_ngcontent-%COMP%]{display:block}.plot-hidden[_ngcontent-%COMP%]{display:none}"]});class p5{constructor(e,t,r,i,a){this.fb=e,this.inputs=t,this.validators=r,this.units=i,this.depths=a}get depthInvalid(){return this.inputs.controlInValid(this.depthForm.controls.depth)}depthChanged(){this.depthForm.invalid||(this.depths.plannedDepth=Number(this.depthForm.controls.depth.value))}applyMaxDepth(){this.depths.applyMaxDepth(),this.depthForm.patchValue({depth:Dn.round(this.depths.plannedDepth,1)})}ngOnInit(){this.depthForm=this.fb.group({depth:[Dn.round(this.depths.plannedDepth,1),this.validators.depth]})}}p5.\u0275fac=function(e){return new(e||p5)(yt(Aa),yt(fi),yt(ni),yt(f1),yt(Wo))},p5.\u0275cmp=L2({type:p5,selectors:[["app-depth"]],decls:10,vars:10,consts:[[3,"formGroup"],["for","depthField","mdbLabel","",1,"form-label"],["id","depthField","formControlName","depth","type","number","required","","step","1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],[1,"text-muted","form-text"],["type","button","id","applyMaxDepthBtn",1,"btn","btn-secondary","mt-2",3,"click"]],template:function(e,t){1&e&&(Z1(0,0),Ae(1,"label",1),_t(2),Ne(),Ae(3,"input",2),vn("input",function(){return t.depthChanged()}),Ne(),Ae(4,"div",3),_t(5),Ne(),Ae(6,"div",4),_t(7),Ne(),Ae(8,"button",5),vn("click",function(){return t.applyMaxDepth()}),_t(9,"Max"),Ne(),X1()),2&e&&(dt("formGroup",t.depthForm),Ve(2),jn("Depth [",t.units.length,"]:"),Ve(1),u2("is-invalid",t.depthInvalid),dt("min",t.units.ranges.depth[0])("max",t.units.ranges.depth[1]),Ve(2),jn("Needs to be number ",t.units.ranges.depthLabel,""),Ve(1),u2("invisible",t.depthInvalid),Ve(1),jn("Best mix is ",t.depths.bestNitroxMix,""))},dependencies:[$i,Ta,Da,la,zs,Va,ka,zi,ua,Ts]});class m5 extends fa{constructor(e,t,r,i,a,o,_){super(),this.fb=e,this.inputs=t,this.validators=r,this.planner=i,this.depths=a,this.units=o,this.plan=_,this.cardIcon=g_,this.addIcon=Ju,this.removeIcon=Ku,this.dive=this.planner.dive,this.depths.updateLevels()}get ranges(){return this.units.ranges}get noDecoTime(){return this.plan.noDecoTime}get durationInvalid(){return this.inputs.controlInValid(this.simpleForm.controls.planDuration)}ngOnInit(){this.simpleForm=this.fb.group({planDuration:[Dn.round(this.depths.planDuration,1),this.validators.duration]}),this.plan.reloaded$.pipe(K1(this.unsubscribe$)).subscribe(()=>{this.depths.updateLevels(),this.reloadSimple()})}durationChanged(){this.simpleForm.invalid||(this.depths.planDuration=Number(this.simpleForm.value.planDuration))}reloadSimple(){this.simpleForm.patchValue({planDuration:Dn.round(this.depths.planDuration,1)})}}function Uxe(n,e){if(1&n){const t=v1();Ae(0,"button",26),vn("click",function(){s2(t);const i=Ut(2).index;return o2(Ut().removeLevel(i))}),Pn(1,"fa-icon",27),Ne()}if(2&n){const t=Ut(3);Ve(1),dt("icon",t.removeIcon)}}function jxe(n,e){if(1&n&&(Ae(0,"div",22)(1,"div",23),_t(2),Ne(),Ae(3,"div",24),mn(4,Uxe,2,1,"button",25),Ne()()),2&n){const t=Ut().index,r=Ut();Ve(2),jn(" ",r.labelFor(t)," "),Ve(2),dt("ngIf",r.minimumSegments)}}function Gxe(n,e){if(1&n&&(Ae(0,"div",39),_t(1),Ne()),2&n){const t=Ut(3);Ve(1),jn(" Needs to be number ",t.ranges.depthLabel,"")}}function $xe(n,e){if(1&n&&(Ae(0,"div",39),_t(1),Ne()),2&n){const t=Ut(3);Ve(1),jn("Needs to be number ",t.ranges.durationLabel,"")}}function Wxe(n,e){if(1&n){const t=v1();Ae(0,"li",40),vn("click",function(){const a=s2(t).$implicit,o=Ut(2).index;return o2(Ut().assignTank(o,a))}),Ae(1,"a",41),_t(2),Ne()()}if(2&n){const t=e.$implicit;Ve(2),y1(t.label)}}function qxe(n,e){if(1&n){const t=v1();Ae(0,"div",22)(1,"div",28)(2,"label",29),_t(3),Ne(),Ae(4,"input",30),vn("input",function(){s2(t);const i=Ut().index;return o2(Ut().levelChanged(i))}),Ne(),mn(5,Gxe,2,1,"div",31),Ne(),Ae(6,"div",28)(7,"label",29),_t(8,"Duration [min]:"),Ne(),Ae(9,"input",32),vn("input",function(){s2(t);const i=Ut().index;return o2(Ut().levelChanged(i))}),Ne(),mn(10,$xe,2,1,"div",31),Ne(),Ae(11,"div",33)(12,"label",29),_t(13,"Tank:"),Ne(),Ae(14,"div",34),Pn(15,"input",35)(16,"button",36),Ae(17,"ul",37),mn(18,Wxe,3,1,"li",38),Ne()()()()}if(2&n){const t=Ut().index,r=Ut();Ve(2),G1("for","depthItemB-",t,""),Ve(1),ss("From ",r.startDepth(t)," To [",r.units.length,"]:"),Ve(1),u2("is-invalid",r.depthItemInvalid(t)),G1("id","depthItemB-",t,""),dt("min",r.ranges.depth[0])("max",r.ranges.depth[1]),Ve(1),dt("ngIf",r.depthItemInvalid(t)),Ve(2),G1("for","durationItemB-",t,""),Ve(2),u2("is-invalid",r.durationItemInvalid(t)),G1("id","durationItemB-",t,""),dt("min",r.ranges.duration[0])("max",r.ranges.duration[1]),Ve(1),dt("ngIf",r.durationItemInvalid(t)),Ve(2),G1("for","tanksB-",t,""),Ve(3),G1("id","tanksB-",t,""),dt("value",r.tankLabelFor(t)),Ve(3),dt("ngForOf",r.tanks)}}function Yxe(n,e){1&n&&(Ae(0,"mdb-accordion-item",19),mn(1,jxe,5,2,"ng-template",20),mn(2,qxe,19,20,"ng-template",21),Ne()),2&n&&dt("formGroupName",e.index)}function Zxe(n,e){if(1&n&&(Ae(0,"div",39),_t(1),Ne()),2&n){const t=Ut(2);Ve(1),jn(" Needs to be number ",t.ranges.depthLabel,"")}}function Xxe(n,e){if(1&n&&(Ae(0,"div",39),_t(1),Ne()),2&n){const t=Ut(2);Ve(1),jn("Needs to be number ",t.ranges.durationLabel,"")}}function Kxe(n,e){if(1&n){const t=v1();Ae(0,"li",40),vn("click",function(){const a=s2(t).$implicit,o=Ut().index;return o2(Ut().assignTank(o,a))}),Ae(1,"a",41),_t(2),Ne()()}if(2&n){const t=e.$implicit;Ve(2),y1(t.label)}}function Qxe(n,e){if(1&n){const t=v1();Ae(0,"button",48),vn("click",function(){s2(t);const i=Ut().index;return o2(Ut().removeLevel(i))}),Pn(1,"fa-icon",27),Ne()}if(2&n){const t=Ut().index,r=Ut();G1("id","removeLevel-",t,""),Ve(1),dt("icon",r.removeIcon)}}function Jxe(n,e){if(1&n){const t=v1();Ae(0,"div",42)(1,"div",43)(2,"div",44),_t(3),O2(4,"number"),Ne(),Ae(5,"div",45)(6,"input",30),vn("input",function(){const a=s2(t).index;return o2(Ut().levelChanged(a))}),Ne(),mn(7,Zxe,2,1,"div",31),Ne(),Ae(8,"div",45)(9,"input",32),vn("input",function(){const a=s2(t).index;return o2(Ut().levelChanged(a))}),Ne(),mn(10,Xxe,2,1,"div",31),Ne(),Ae(11,"div",28)(12,"div",34),Pn(13,"input",35)(14,"button",36),Ae(15,"ul",37),mn(16,Kxe,3,1,"li",38),Ne()()(),Ae(17,"div",46),mn(18,Qxe,2,2,"button",47),Ne()()()}if(2&n){const t=e.index,r=Ut();dt("formGroupName",t),Ve(3),y1(F2(4,18,r.startDepth(t),"1.0-0")),Ve(3),u2("is-invalid",r.depthItemInvalid(t)),G1("id","depthItem-",t,""),dt("min",r.ranges.depth[0])("max",r.ranges.depth[1]),Ve(1),dt("ngIf",r.depthItemInvalid(t)),Ve(2),u2("is-invalid",r.durationItemInvalid(t)),G1("id","durationItem-",t,""),dt("min",r.ranges.duration[0])("max",r.ranges.duration[1]),Ve(1),dt("ngIf",r.durationItemInvalid(t)),Ve(3),G1("id","tanks-",t,""),dt("value",r.tankLabelFor(t)),Ve(3),dt("ngForOf",r.tanks),Ve(2),dt("ngIf",r.minimumSegments)}}m5.\u0275fac=function(e){return new(e||m5)(yt(Aa),yt(fi),yt(ni),yt(Wr),yt(Wo),yt(f1),yt(Rr))},m5.\u0275cmp=L2({type:m5,selectors:[["app-depths-simple"]],features:[p1],decls:22,vars:17,consts:[[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[3,"formGroup"],[1,"card-body","row"],[1,"mb-4","col","col-12","col-md-6","col-lg-12","col-xl-6"],["for","duration","mdbLabel","",1,"form-label"],["id","duration","formControlName","planDuration","type","number","required","","step","1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],[1,"text-muted","form-text"],["type","button","id","btnApplyDuration",1,"btn","btn-secondary","mt-2","me-2","col","col-auto",3,"click"],["type","button","id","btnApplyNdl",1,"btn","btn-secondary","mt-2","col","col-auto",3,"click"],[1,"col","col-12","col-md-6","col-lg-12","col-xl-6"]],template:function(e,t){1&e&&(Ae(0,"div",0)(1,"div",1),Pn(2,"fa-icon",2),Ae(3,"span"),_t(4,"Depth"),Ne()(),Ae(5,"form",3)(6,"div",4)(7,"div",5)(8,"label",6),_t(9,"Bottom time [min]:"),Ne(),Ae(10,"input",7),vn("input",function(){return t.durationChanged()}),Ne(),Ae(11,"div",8),_t(12),Ne(),Ae(13,"div",9),_t(14),O2(15,"number"),Ne(),Ae(16,"button",10),vn("click",function(){return t.depths.applyMaxDuration()}),_t(17,"Max"),Ne(),Ae(18,"button",11),vn("click",function(){return t.depths.applyNdlDuration()}),_t(19,"No deco"),Ne()(),Ae(20,"div",12),Pn(21,"app-depth"),Ne()()()()),2&e&&(Ve(2),dt("icon",t.cardIcon),Ve(3),dt("formGroup",t.simpleForm),Ve(5),u2("is-invalid",t.durationInvalid),dt("min",t.ranges.duration[0])("max",t.ranges.duration[1]),Ve(2),jn("Needs to be number ",t.ranges.durationLabel," "),Ve(1),u2("invisible",t.durationInvalid),Ve(1),jn("No deco limit ",F2(15,14,t.noDecoTime,"1.0-0")," min"),Ve(2),u2("invisible",!t.dive.showMaxDuration),Ve(2),u2("invisible",!t.planner.ndlValid))},dependencies:[V3,$i,Ta,Da,la,zs,Va,ka,zi,ua,qi,Ts,p5,Ha]});class g5 extends fa{constructor(e,t,r,i,a,o,_,V){super(),this.fb=e,this.inputs=t,this.validators=r,this.planner=i,this.tanksService=a,this.depths=o,this.units=_,this.plan=V,this.cardIcon=g_,this.addIcon=Ju,this.removeIcon=Ku,this.dive=this.planner.dive,this.depths.updateLevels()}get ranges(){return this.units.ranges}get minimumSegments(){return this.plan.minimumSegments}get tanks(){return this.tanksService.tanks}get levelControls(){return this.complexForm.controls.levels}depthItemInvalid(e){const r=this.levelControls.at(e).controls.endDepth;return this.inputs.controlInValid(r)}durationItemInvalid(e){const r=this.levelControls.at(e).controls.duration;return this.inputs.controlInValid(r)}startDepth(e){return this.levelAt(e).startDepth}labelFor(e){const t=this.levelAt(e);return`${t.startDepth}-${t.endDepth} ${this.units.length} ${t.duration} min`}tankLabelFor(e){return this.levelAt(e).tankLabel}assignTank(e,t){const r=this.levelAt(e);this.depths.assignTank(r,t)}ngOnInit(){this.complexForm=this.fb.group({levels:this.fb.array(this.createLevelControls())}),this.plan.reloaded$.pipe(K1(this.unsubscribe$)).subscribe(()=>{this.depths.updateLevels(),this.reloadComplex()})}addLevel(){if(this.complexForm.invalid)return;this.depths.addSegment();const t=this.levelAt(this.depths.levels.length-1),r=this.createLevelControl(t);this.levelControls.push(r)}removeLevel(e){if(this.complexForm.invalid||!this.minimumSegments)return;const t=this.levelAt(e);this.depths.removeSegment(t),this.levelControls.removeAt(e)}levelChanged(e){if(this.complexForm.invalid)return;const t=this.levelAt(e),i=this.levelControls.at(e).value;t.duration=Number(i.duration),t.endDepth=Number(i.endDepth),this.depths.levelChanged()}reloadComplex(){this.levelControls.clear(),this.createLevelControls().forEach(e=>this.levelControls.push(e))}createLevelControls(){const e=[];for(const t of this.depths.levels){const r=this.createLevelControl(t);e.push(r)}return e}createLevelControl(e){return this.fb.group({duration:[Dn.round(e.duration,1),this.validators.duration],endDepth:[Dn.round(e.endDepth,1),this.validators.depth]})}levelAt(e){return this.depths.levels[e]}}function eMe(n,e){if(1&n){const t=v1();Ae(0,"div",4),Pn(1,"fa-icon",5),Ae(2,"span")(3,"strong"),_t(4,"Disclaimer:"),Ne(),_t(5," None of the authors, contributors, administrators, or anyone else connected with this project can be responsible for your use of the information provided by this application or linked from these web pages. Use the results at your own risk."),Ne(),Ae(6,"button",6),vn("click",function(){return s2(t),o2(Ut().stopDisclaimer())}),Ne()()}if(2&n){const t=Ut();Ve(1),dt("icon",t.exclamation)}}function tMe(n,e){1&n&&Pn(0,"app-tanks-simple")}function nMe(n,e){1&n&&Pn(0,"app-tanks-complex")}function rMe(n,e){1&n&&Pn(0,"app-depths-simple")}function iMe(n,e){1&n&&Pn(0,"app-depths-complex")}g5.\u0275fac=function(e){return new(e||g5)(yt(Aa),yt(fi),yt(ni),yt(Wr),yt(Qi),yt(Wo),yt(f1),yt(Rr))},g5.\u0275cmp=L2({type:g5,selectors:[["app-depths-complex"]],features:[p1],decls:27,vars:9,consts:[[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[3,"formGroup"],["formArrayName","levels",1,"card-body","d-md-none","d-block"],[3,"flush"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","justify-content-end","pe-2","m-3"],[1,"col","col-1"],["type","button",1,"p-1","btn","btn-secondary",3,"click"],[1,"fa-xl",3,"icon"],["formArrayName","levels",1,"card-body","d-none","d-md-block"],[1,"row","pb-2"],[1,"col","col-1","m-0","px-1","text-end"],[1,"col","col-2","m-0","px-1"],[1,"col","col-6","m-0","px-1"],[1,"col","col-1","m-0","px-1"],["id","addLevel","type","button",1,"p-1","btn","btn-secondary",3,"click"],["class","px-0 pb-2",3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["mdbAccordionItemHeader",""],["mdbAccordionItemBody",""],[1,"row"],[1,"col","col-auto","d-flex","align-items-center"],[1,"col","col-1","pe-1"],["class","m-0 p-1 btn btn-secondary","type","button",3,"click",4,"ngIf"],["type","button",1,"m-0","p-1","btn","btn-secondary",3,"click"],[1,"p-0","m-0","fa-xl",3,"icon"],[1,"col","col-6","m-0","pb-0","px-1"],[1,"form-label","mt-2",3,"for"],["formControlName","endDepth","type","number","required","","step","1",1,"form-control",3,"id","min","max","input"],["class","text-danger",4,"ngIf"],["formControlName","duration","type","number","required","","step","1",1,"form-control",3,"id","min","max","input"],[1,"col","col-12","m-0","pb-0","px-1"],["mdbDropdown","",1,"input-group","dropdown"],["type","text","readonly","",1,"form-control",3,"id","value"],["id","tankMenu","type","button","mdbDropdownToggle","","aria-expanded","false","data-mdb-toggle","dropdown",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click",4,"ngFor","ngForOf"],[1,"text-danger"],[3,"click"],[1,"dropdown-item"],[1,"px-0","pb-2",3,"formGroupName"],[1,"row","p-0","pb-2"],[1,"col","col-12","col-sm-1","m-0","pb-0","px-1","text-end","align-self-center"],[1,"col","col-12","col-sm-2","m-0","pb-0","px-1"],[1,"col","col-12","col-sm-1","m-0","pb-0","px-1","align-self-center"],["type","button","class","m-0 p-1 btn btn-secondary",3,"id","click",4,"ngIf"],["type","button",1,"m-0","p-1","btn","btn-secondary",3,"id","click"]],template:function(e,t){1&e&&(Ae(0,"div",0)(1,"div",1),Pn(2,"fa-icon",2),Ae(3,"span"),_t(4,"Depths"),Ne()(),Ae(5,"form",3)(6,"div",4)(7,"mdb-accordion",5),mn(8,Yxe,3,1,"mdb-accordion-item",6),Ne(),Ae(9,"div",7)(10,"div",8)(11,"button",9),vn("click",function(){return t.addLevel()}),Pn(12,"fa-icon",10),Ne()()()(),Ae(13,"div",11)(14,"div",12)(15,"div",13),_t(16),Ne(),Ae(17,"div",14),_t(18),Ne(),Ae(19,"div",14),_t(20,"Duration [min]"),Ne(),Ae(21,"div",15),_t(22,"Tank"),Ne(),Ae(23,"div",16)(24,"button",17),vn("click",function(){return t.addLevel()}),Pn(25,"fa-icon",10),Ne()()(),mn(26,Jxe,19,21,"div",18),Ne()()()),2&e&&(Ve(2),dt("icon",t.cardIcon),Ve(3),dt("formGroup",t.complexForm),Ve(2),dt("flush",!0),Ve(1),dt("ngForOf",t.levelControls.controls),Ve(4),dt("icon",t.addIcon),Ve(4),jn("From [",t.units.length,"]"),Ve(2),jn("To [",t.units.length,"]"),Ve(7),dt("icon",t.addIcon),Ve(1),dt("ngForOf",t.levelControls.controls))},dependencies:[k3,$r,V3,$i,Ta,Da,la,zs,Va,ka,zi,ua,iu,au,qi,P4,F3,R3,XH,py,ZH,qH,Ha]});const aMe=function(n,e){return{"col-12 col-sm-6 col-lg-4 col-xl-4":n,"col-12":e}},sMe=function(n,e){return{"col-12 col-sm-6 col-lg-4 col-xl-4":n,"col-12 col-lg-7":e}},oMe=function(n,e){return{"col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4":n,"col-12 col-lg-5":e}};function cMe(n,e){if(1&n&&(Z1(0),Ae(1,"div",7),mn(2,tMe,1,0,"app-tanks-simple",3),mn(3,nMe,1,0,"app-tanks-complex",3),Ne(),Ae(4,"div",7),mn(5,rMe,1,0,"app-depths-simple",3),mn(6,iMe,1,0,"app-depths-complex",3),Ne(),Ae(7,"div",7),Pn(8,"app-diveoptions"),Ne(),Ae(9,"div",8),Pn(10,"app-profilechart"),Ne(),Ae(11,"div",9),Pn(12,"app-waypoints"),Ne(),Ae(13,"div",10),Pn(14,"app-diveinfo"),Ne(),X1()),2&n){const t=Ut();Ve(1),dt("ngClass",Io(7,aMe,!t.isComplex,t.isComplex)),Ve(1),dt("ngIf",!t.isComplex),Ve(1),dt("ngIf",t.isComplex),Ve(1),dt("ngClass",Io(10,sMe,!t.isComplex,t.isComplex)),Ve(1),dt("ngIf",!t.isComplex),Ve(1),dt("ngIf",t.isComplex),Ve(1),dt("ngClass",Io(13,oMe,!t.isComplex,t.isComplex))}}function lMe(n,e){1&n&&Pn(0,"app-tanks-simple")}function uMe(n,e){1&n&&Pn(0,"app-tanks-complex")}function fMe(n,e){1&n&&Pn(0,"app-depths-simple")}function dMe(n,e){1&n&&Pn(0,"app-depths-complex")}const hMe=function(n,e){return{"col-12 col-sm-6 col-lg-4 col-xl-4":n,"col-12 col-xxl-5":e}},pMe=function(n,e){return{"col-12 col-sm-6 col-lg-4 col-xl-4":n,"col-12 col-lg-7 col-xxl-4":e}},mMe=function(n,e){return{"col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4":n,"col-12 col-lg-5 col-xxl-3":e}};function gMe(n,e){if(1&n&&(Z1(0),Ae(1,"div",7),mn(2,lMe,1,0,"app-tanks-simple",3),mn(3,uMe,1,0,"app-tanks-complex",3),Ne(),Ae(4,"div",7),mn(5,fMe,1,0,"app-depths-simple",3),mn(6,dMe,1,0,"app-depths-complex",3),Ne(),Ae(7,"div",7),Pn(8,"app-diveoptions"),Ne(),Ae(9,"div",8),Pn(10,"app-profilechart"),Ne(),Ae(11,"div",9),Pn(12,"app-waypoints"),Ne(),Ae(13,"div",10),Pn(14,"app-diveinfo"),Ne(),X1()),2&n){const t=Ut();Ve(1),dt("ngClass",Io(7,hMe,!t.isComplex,t.isComplex)),Ve(1),dt("ngIf",!t.isComplex),Ve(1),dt("ngIf",t.isComplex),Ve(1),dt("ngClass",Io(10,pMe,!t.isComplex,t.isComplex)),Ve(1),dt("ngIf",!t.isComplex),Ve(1),dt("ngIf",t.isComplex),Ve(1),dt("ngClass",Io(13,mMe,!t.isComplex,t.isComplex))}}class v5 extends fa{constructor(e,t,r,i,a,o,_){super(),this.location=e,this.preferences=t,this.planner=r,this.viewSwitch=i,this.delayedCalc=a,this.urlSerialization=o,this.units=_,this.showDisclaimer=!0,this.exclamation=Kh}get isComplex(){return this.viewSwitch.isComplex}get imperialUnits(){return this.units.imperialUnits}ngOnInit(){this.showDisclaimer=this.preferences.disclaimerEnabled();const e=window.location.search;""!==e?(this.urlSerialization.fromUrl(e),this.updateQueryParams()):this.delayedCalc.schedule(),this.planner.infoCalculated$.pipe(K1(this.unsubscribe$)).subscribe(()=>this.updateQueryParams())}stopDisclaimer(){this.showDisclaimer=!1,this.preferences.disableDisclaimer()}updateQueryParams(){const e=this.urlSerialization.toUrl();e.length>2048&&console.warn("Created url parameters with length longer than acceptable in some browsers"),this.location.go("?"+e)}}v5.\u0275fac=function(e){return new(e||v5)(yt(W8),yt(Vi),yt(Wr),yt(Ns),yt(co),yt(Ai),yt(f1))},v5.\u0275cmp=L2({type:v5,selectors:[["app-dashboard"]],features:[p1],decls:6,vars:3,consts:[[1,"mt-5"],[1,"row"],["class","alert alert-warning alert-dismissible fade show mt-4","role","alert",4,"ngIf"],[4,"ngIf"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","mt-4"],[1,"me-2","fa-lg",3,"icon"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"],[1,"mt-4",3,"ngClass"],[1,"col-12","col-lg-12","col-xl-5","col-xxl-6","mt-4"],[1,"col-md-6","col-xl-3","mt-4"],[1,"col-md-6","col-xl-4","col-xxl-3","mt-4"]],template:function(e,t){1&e&&(Ae(0,"div",0)(1,"div",1)(2,"div"),mn(3,eMe,7,1,"div",2),Ne(),mn(4,cMe,15,16,"ng-container",3),mn(5,gMe,15,16,"ng-container",3),Ne()()),2&e&&(Ve(3),dt("ngIf",t.showDisclaimer),Ve(1),dt("ngIf",t.imperialUnits),Ve(1),dt("ngIf",!t.imperialUnits))},dependencies:[Rc,$r,qi,s5,o5,c5,f5,d5,h5,m5,g5]});class eC{}eC.depthConverterWarning="This calculator uses simple depth conversion (where 1 ATM = 1 bar), so thevalues shown here are less precise, than in rest of the application.";class yl{constructor(){this._depth=15,this._tank=15,this._used=150,this._duration=45,this._rmv=0;const e=qa.simple();this.sacCalculator=new U2e(e),this.calculate=this.calculateSac,this.calculate()}get depth(){return this._depth}get tankSize(){return this._tank}get rmv(){return this._rmv}get duration(){return this._duration}get used(){return this._used}get inDuration(){return this.calculate===this.calculateDuration}get inUsed(){return this.calculate===this.calculateUsed}get inSac(){return this.calculate===this.calculateSac}set depth(e){this._depth=e,this.calculate()}set tankSize(e){this._tank=e,this.calculate()}set rmv(e){this._rmv=e,this.calculate()}set duration(e){this._duration=e,this.calculate()}set used(e){this._used=e,this.calculate()}toDuration(){this.calculate=this.calculateDuration}toUsed(){this.calculate=this.calculateUsed}toSac(){this.calculate=this.calculateSac}calculateSac(){this._rmv=this.sacCalculator.calculateSac(this.depth,this.tankSize,this.used,this.duration)}calculateDuration(){this._duration=this.sacCalculator.calculateDuration(this.depth,this.tankSize,this.used,this.rmv)}calculateUsed(){this._used=this.sacCalculator.calculateUsed(this.depth,this.tankSize,this.duration,this.rmv)}}function vMe(n,e){if(1&n){const t=v1();Ae(0,"div",11)(1,"label",15),_t(2),Ne(),Ae(3,"input",22),vn("input",function(){return s2(t),o2(Ut().inputChanged())}),Ne(),Ae(4,"div",14),_t(5),Ne()()}if(2&n){const t=Ut();Ve(2),jn("Working pressure [",t.units.pressure,"]:"),Ve(1),u2("is-invalid",t.workPressureInvalid),dt("min",t.ranges.tankPressure[0])("max",t.ranges.tankPressure[1]),Ve(2),jn("Needs to be number ",t.ranges.tankPressureLabel," ")}}function yMe(n,e){if(1&n){const t=v1();Z1(0),Ae(1,"div",11)(2,"label",23),_t(3,"Dive time [min]:"),Ne(),Ae(4,"input",24),vn("input",function(){return s2(t),o2(Ut().inputChanged())}),Ne(),Ae(5,"div",14),_t(6),Ne()(),X1()}if(2&n){const t=Ut();Ve(4),u2("is-invalid",t.durationInvalid),dt("min",t.ranges.duration[0])("max",t.ranges.duration[1]),Ve(2),jn(" Needs to be number ",t.ranges.durationLabel,"")}}function _Me(n,e){if(1&n){const t=v1();Z1(0),Ae(1,"div",11)(2,"label",25),_t(3),Ne(),Ae(4,"input",26),vn("input",function(){return s2(t),o2(Ut().inputChanged())}),Ne(),Ae(5,"div",14),_t(6),Ne()(),X1()}if(2&n){const t=Ut();Ve(3),jn("Gas consumed [",t.units.pressure,"]:"),Ve(1),u2("is-invalid",t.usedInvalid),dt("min",t.ranges.tankPressure[0])("max",t.ranges.tankPressure[1]),Ve(2),jn("Needs to be number ",t.ranges.tankPressureLabel," ")}}function CMe(n,e){if(1&n){const t=v1();Z1(0),Ae(1,"div",11)(2,"label",27),_t(3),Ne(),Ae(4,"input",28),vn("input",function(){return s2(t),o2(Ut().inputChanged())}),Ne(),Ae(5,"div",14),_t(6),Ne(),Ae(7,"div",29),_t(8),O2(9,"number"),Ne()(),X1()}if(2&n){const t=Ut();Ve(3),jn("RMV [",t.units.rmv,"]:"),Ve(1),u2("is-invalid",t.rmvInvalid),dt("min",t.ranges.diverRmv[0])("max",t.ranges.diverRmv[1]),Ve(2),jn("Needs to be number ",t.ranges.diverRmvLabel," "),Ve(1),u2("invisible",t.rmvInvalid),Ve(1),ss("SAC: ",F2(9,10,t.gasSac,"1.0-2")," ",t.units.sac,"")}}function bMe(n,e){if(1&n&&(Z1(0),Ae(1,"div",11)(2,"label",27),_t(3),Ne(),Pn(4,"input",30),Ae(5,"small",31),_t(6),O2(7,"number"),Ne()(),X1()),2&n){const t=Ut();Ve(3),jn("RMV [",t.units.rmv,"]:"),Ve(1),dt("readonly",!0)("value",t.calcRmv),Ve(2),ss("SAC: ",F2(7,5,t.gasSac,"1.0-2")," ",t.units.sac,"")}}function xMe(n,e){if(1&n&&(Z1(0),Ae(1,"div",11)(2,"label",25),_t(3),Ne(),Pn(4,"input",32),Ne(),X1()),2&n){const t=Ut();Ve(3),jn("Gas consumed [",t.units.pressure,"]:"),Ve(1),dt("readonly",!0)("value",t.calcUsed)}}function MMe(n,e){if(1&n&&(Z1(0),Ae(1,"div",11)(2,"label",23),_t(3,"Dive time [min]:"),Ne(),Pn(4,"input",33),Ne(),X1()),2&n){const t=Ut();Ve(4),dt("readonly",!0)("value",t.calcDuration)}}function wMe(n,e){if(1&n){const t=v1();Ae(0,"button",34),vn("click",function(){return s2(t),o2(Ut().use())}),_t(1,"Use"),Ne()}}yl.\u0275fac=function(e){return new(e||yl)},yl.\u0275prov=Nn({token:yl,factory:yl.\u0275fac});class y5{constructor(e,t,r,i,a,o,_,V){this.validators=e,this.inputs=t,this.formBuilder=r,this.router=i,this.options=a,this.cd=o,this.calc=_,this.units=V,this.calcIcon=L_,this.depthConverterWarning=eC.depthConverterWarning,this.workingPressure=0}get ranges(){return this.units.ranges}get depthInvalid(){return this.inputs.controlInValid(this.formSac.controls.depth)}get tankInvalid(){return this.inputs.controlInValid(this.formSac.controls.tankSize)}get workPressureInvalid(){return this.inputs.controlInValid(this.formSac.controls.workPressure)}get usedInvalid(){return this.inputs.controlInValid(this.formSac.controls.used)}get rmvInvalid(){return this.inputs.controlInValid(this.formSac.controls.rmv)}get durationInvalid(){return this.inputs.controlInValid(this.formSac.controls.duration)}get calcDepth(){const e=this.units.fromMeters(this.calc.depth);return Dn.round(e,1)}get calcTankSize(){const e=this.units.fromTankLiters(this.calc.tankSize,this.workingPressure);return Dn.round(e,1)}get calcWorkingPressure(){const e=this.units.fromBar(this.workingPressure);return Dn.round(e,1)}get calcUsed(){const e=this.units.fromBar(this.calc.used);return Dn.round(e,1)}get calcRmv(){const e=this.units.fromLiter(this.calc.rmv);return Dn.round(e,this.units.ranges.rmvRounding)}get calcDuration(){return Dn.round(this.calc.duration)}get gasSac(){const e=n6.gasSac(this.calc.rmv,this.calc.tankSize);return this.units.fromBar(e)}ngOnInit(){if(this.setDefaultValues(),this.durationControl=this.formBuilder.control(this.calcDuration,this.validators.duration),this.usedControl=this.formBuilder.control(this.calcUsed,this.validators.tankPressure),this.rmvControl=this.formBuilder.control(this.calcRmv,this.validators.diverRmv),this.formSac=this.formBuilder.group({depth:[this.calcDepth,this.validators.depth],tankSize:[this.calcTankSize,this.validators.tankSize]}),this.units.imperialUnits){const e=this.formBuilder.control(this.calcWorkingPressure,this.validators.tankPressure);this.formSac.addControl("workPressure",e)}this.toSac()}inputChanged(){if(this.formSac.invalid)return;const e=this.formSac.value;this.workingPressure=this.units.toBar(Number(e.workPressure)),this.calc.tankSize=this.units.toTankLiters(Number(e.tankSize),this.workingPressure),this.calc.depth=this.units.toMeters(Number(e.depth)),this.calc.used=this.units.toBar(Number(e.used)),this.calc.rmv=this.units.toLiter(Number(e.rmv)),this.calc.duration=Number(e.duration),this.reload()}toDuration(){this.calc.toDuration(),this.enableAll(),this.formSac.removeControl("duration"),this.cd.detectChanges()}toUsed(){this.calc.toUsed(),this.enableAll(),this.formSac.removeControl("used"),this.cd.detectChanges()}toSac(){this.calc.toSac(),this.enableAll(),this.formSac.removeControl("rmv"),this.cd.detectChanges()}goBack(){var e=this;return zh(function*(){return yield e.router.navigateByUrl("/")})()}use(){this.formSac.invalid||(this.options.diver.rmv=this.calc.rmv)}enableAll(){this.formSac.addControl("used",this.usedControl),this.formSac.addControl("duration",this.durationControl),this.formSac.addControl("rmv",this.rmvControl),this.reload()}reload(){this.formSac.patchValue({depth:this.calcDepth,tankSize:this.calcTankSize,workPressure:this.calcWorkingPressure,used:this.calcUsed,duration:this.calcDuration,rmv:this.calcRmv})}setDefaultValues(){this.calc.depth=this.units.toMeters(5*this.units.defaults.stopsDistance),this.workingPressure=this.units.toBar(this.units.defaults.primaryTankWorkPressure),this.calc.tankSize=this.units.toTankLiters(this.units.defaults.primaryTankSize,this.workingPressure),this.calc.used=this.units.imperialUnits?this.units.toBar(2200):150}}y5.\u0275fac=function(e){return new(e||y5)(yt(ni),yt(fi),yt(Aa),yt(Zi),yt(ar),yt(L3),yt(yl),yt(f1))},y5.\u0275cmp=L2({type:y5,selectors:[["app-sac"]],decls:42,vars:29,consts:[[1,"mt-5"],[1,"row"],[1,"col","col-sm-8","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"mb-4"],["role","group",1,"btn-group","mb-3"],["type","button",1,"btn",3,"click"],[1,"pt-2","mb-4"],["for","depth","mdbLabel","",1,"form-label"],["formControlName","depth","name","depth","id","depth","type","number","step","1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],["for","tank","mdbLabel","",1,"form-label"],["formControlName","tankSize","name","tank","id","tank","type","number","step","1",1,"form-control",3,"min","max","input"],["class","pt-2 mb-4",4,"ngIf"],[4,"ngIf"],[1,"form-group","mt-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],["formControlName","workPressure","name","workPressure","id","workPressure","type","number","step","1",1,"form-control",3,"min","max","input"],["for","duration","mdbLabel","",1,"form-label"],["formControlName","duration","name","duration","id","duration","type","number","step","1",1,"form-control",3,"min","max","input"],["for","used","mdbLabel","",1,"form-label"],["formControlName","used","name","used","id","used","type","number","step","1",1,"form-control",3,"min","max","input"],["for","sac","mdbLabel","",1,"form-label"],["formControlName","rmv","name","sac","id","sac","type","number","step","1","aria-describedby","rmvDescribe",1,"form-control",3,"min","max","input"],["id","rmvDescribe",1,"form-text"],["id","sac",1,"form-control",3,"readonly","value"],[1,"form-text","text-muted"],["id","used",1,"form-control",3,"readonly","value"],["id","duration",1,"form-control",3,"readonly","value"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(e,t){1&e&&(Ae(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),Pn(5,"fa-icon",5),Ae(6,"span"),_t(7,"Respiratory minute volume"),Ne()(),Ae(8,"div",6)(9,"form",7)(10,"div",8),_t(11),Ne(),Ae(12,"div",9)(13,"button",10),vn("click",function(){return t.toSac()}),_t(14,"RMV"),Ne(),Ae(15,"button",10),vn("click",function(){return t.toUsed()}),_t(16,"Used"),Ne(),Ae(17,"button",10),vn("click",function(){return t.toDuration()}),_t(18,"Duration"),Ne()(),Ae(19,"div",11)(20,"label",12),_t(21),Ne(),Ae(22,"input",13),vn("input",function(){return t.inputChanged()}),Ne(),Ae(23,"div",14),_t(24),Ne()(),Ae(25,"div",11)(26,"label",15),_t(27),Ne(),Ae(28,"input",16),vn("input",function(){return t.inputChanged()}),Ne(),Ae(29,"div",14),_t(30),Ne()(),mn(31,vMe,6,6,"div",17),mn(32,yMe,7,5,"ng-container",18),mn(33,_Me,7,6,"ng-container",18),mn(34,CMe,10,13,"ng-container",18),mn(35,bMe,8,8,"ng-container",18),mn(36,xMe,5,3,"ng-container",18),mn(37,MMe,5,2,"ng-container",18),Ne()()(),Ae(38,"div",19)(39,"button",20),vn("click",function(){return t.goBack()}),_t(40,"Back"),Ne(),mn(41,wMe,2,0,"button",21),Ne()()()()),2&e&&(Ve(5),dt("icon",t.calcIcon),Ve(4),dt("formGroup",t.formSac),Ve(2),y1(t.depthConverterWarning),Ve(2),u2("btn-primary",t.calc.inSac),Ve(2),u2("btn-primary",t.calc.inUsed),Ve(2),u2("btn-primary",t.calc.inDuration),Ve(4),jn("Average depth [",t.units.length,"]:"),Ve(1),u2("is-invalid",t.depthInvalid),dt("min",t.ranges.depth[0])("max",t.ranges.depth[1]),Ve(2),jn("Needs to be number ",t.ranges.depthLabel," "),Ve(3),jn("Tank size [",t.units.volume,"]:"),Ve(1),u2("is-invalid",t.tankInvalid),dt("min",t.ranges.tankSize[0])("max",t.ranges.tankSize[1]),Ve(2),jn("Needs to be number ",t.ranges.tankSizeLabel," "),Ve(1),dt("ngIf",t.units.imperialUnits),Ve(1),dt("ngIf",!t.calc.inDuration),Ve(1),dt("ngIf",!t.calc.inUsed),Ve(1),dt("ngIf",!t.calc.inSac),Ve(1),dt("ngIf",t.calc.inSac),Ve(1),dt("ngIf",t.calc.inUsed),Ve(1),dt("ngIf",t.calc.inDuration),Ve(4),dt("ngIf",!t.formSac.invalid))},dependencies:[$r,V3,$i,Ta,Da,la,Va,ka,zi,ua,qi,Ts,Ha]});class SMe{static lowMod(e){return()=>e()?{lowMod:!0}:null}}class _l{constructor(e){this._pO2=1.4,this._fO2=21,this._mod=30,this.calculateCurrentMod=()=>{this._mod=this.nitroxCalculator.mod(this._pO2,this._fO2)},this.calculateBestMix=()=>{this._fO2=this.nitroxCalculator.bestMix(this._pO2,this._mod)},this.calculatePartial=()=>{this._pO2=this.nitroxCalculator.partialPressure(this._fO2,this._mod)};const t=qa.simple(),r=new kh(t,e.getOptions());this.nitroxCalculator=new BT(r,t,.21),this.calculate=this.calculateCurrentMod}get inMod(){return this.calculate===this.calculateCurrentMod}get inBestMix(){return this.calculate===this.calculateBestMix}get inPO2(){return this.calculate===this.calculatePartial}get pO2(){return this._pO2}get fO2(){return this._fO2}get ead(){return this.nitroxCalculator.ead(this._fO2,this._mod)}get mod(){return this._mod}set pO2(e){this._pO2=e,this.calculate()}set fO2(e){this._fO2=e,this.calculate()}set mod(e){this._mod=e,this.calculate()}toMod(){this.calculate=this.calculateCurrentMod}toBestMix(){this.calculate=this.calculateBestMix}toPO2(){this.calculate=this.calculatePartial}}function zMe(n,e){if(1&n){const t=v1();Z1(0),Ae(1,"div",15)(2,"label",16),_t(3,"ppO2:"),Ne(),Ae(4,"input",17),vn("input",function(){return s2(t),o2(Ut().inputChanged())}),Ne(),Ae(5,"div",18),_t(6,"Needs to be number 0.21-3 "),Ne()(),X1()}if(2&n){const t=Ut();Ve(4),u2("is-invalid",t.pO2Invalid),dt("min",t.ranges.ppO2[0])("max",t.ranges.ppO2[1])}}function HMe(n,e){if(1&n){const t=v1();Z1(0),Ae(1,"div",15)(2,"app-oxygen-dropdown",19),vn("gasChange",function(){return s2(t),o2(Ut().inputChanged())}),Ne()(),X1()}if(2&n){const t=Ut();Ve(2),dt("showBestMix",!1)("nitroxForm",t.nitroxForm)}}function LMe(n,e){if(1&n){const t=v1();Z1(0),Ae(1,"div",15)(2,"label",20),_t(3),Ne(),Ae(4,"input",21),vn("input",function(){return s2(t),o2(Ut().inputChanged())}),Ne(),Ae(5,"div",18),_t(6),Ne(),Ae(7,"div",22),_t(8),O2(9,"number"),Ne()(),X1()}if(2&n){const t=Ut();Ve(3),jn("MOD [",t.units.length,"]:"),Ve(1),u2("is-invalid",t.modInvalid),dt("min",t.ranges.depth[0])("max",t.ranges.depth[1]),Ve(2),jn("Needs to be number ",t.ranges.depthLabel,""),Ve(1),u2("invisible",t.modInvalid),Ve(1),ss(" EAD: ",F2(9,10,t.ead,"1.0-1")," ",t.units.length,"")}}function DMe(n,e){if(1&n&&(Z1(0),Ae(1,"div",15)(2,"label",20),_t(3),Ne(),Pn(4,"input",23),O2(5,"number"),Ae(6,"small",24),_t(7),O2(8,"number"),Ne()(),X1()),2&n){const t=Ut();Ve(3),jn("MOD [",t.units.length,"]:"),Ve(1),dt("readonly",!0)("value",F2(5,5,t.calcMod,"1.0-1")),Ve(3),ss("EAD: ",F2(8,8,t.ead,"1.0-1")," ",t.units.length,"")}}function TMe(n,e){if(1&n&&(Z1(0),Ae(1,"div",15)(2,"label",25),_t(3,"Percent O2:"),Ne(),Pn(4,"input",26),O2(5,"number"),Ne(),X1()),2&n){const t=Ut();Ve(4),dt("readonly",!0)("value",F2(5,2,t.calc.fO2,"1.0-1"))}}function kMe(n,e){if(1&n&&(Z1(0),Ae(1,"div",15)(2,"label",16),_t(3,"ppO2:"),Ne(),Pn(4,"input",27),O2(5,"number"),Ne(),X1()),2&n){const t=Ut();Ve(4),dt("readonly",!0)("value",F2(5,2,t.calc.pO2,"1.0-2"))}}function VMe(n,e){1&n&&(Z1(0),Ae(1,"div",28),_t(2," Too small final operation depth. Increase ppO2 or reduce Percent O2. "),Ne(),X1())}function AMe(n,e){if(1&n){const t=v1();Ae(0,"button",29),vn("click",function(){return s2(t),o2(Ut().use())}),_t(1,"Use"),Ne()}}_l.\u0275fac=function(e){return new(e||_l)(ln(ar))},_l.\u0275prov=Nn({token:_l,factory:_l.\u0275fac});class _5{constructor(e,t,r,i,a,o,_,V){this.calc=e,this.units=t,this.fb=r,this.inputs=i,this.validators=a,this.router=o,this.options=_,this.tanksService=V,this.calcIcon=L_,this.depthConverterWarning=eC.depthConverterWarning,this.failingMod=!1,this.calc.fO2=this.tanksService.firstTank.tank.o2,this.calc.pO2=this.options.diver.maxPpO2,this.tank=new Zu(new $o(15,200,21),this.units)}get ranges(){return this.units.ranges}get ead(){return this.units.fromMeters(this.calc.ead)}get pO2Invalid(){return this.inputs.controlInValid(this.nitroxForm.controls.pO2)}get modInvalid(){return this.inputs.controlInValid(this.nitroxForm.controls.mod)}get fO2Invalid(){return this.inputs.controlInValid(this.nitroxForm.controls.fO2)}get calcMod(){return this.failingMod?0:this.units.fromMeters(this.calc.mod)}ngOnInit(){this.fO2Control=this.fb.control(Dn.round(this.calc.fO2,1),this.validators.nitroxOxygen),this.pO2Control=this.fb.control(Dn.round(this.calc.pO2,2),this.validators.ppO2),this.modControl=this.fb.control(Dn.round(this.calcMod,1),this.validators.depth),this.nitroxForm=this.fb.group({},{validators:SMe.lowMod(()=>this.failingMod)}),this.toMod()}inputChanged(){try{if(this.failingMod=!1,this.nitroxForm.updateValueAndValidity(),this.nitroxForm.invalid)return;const e=this.nitroxForm.value;this.calc.pO2=Number(e.pO2),this.calc.fO2=Number(e.fO2);const t=Number(e.mod);this.calc.mod=this.units.toMeters(t),this.reload()}catch{this.failingMod=!0,this.nitroxForm.updateValueAndValidity()}}goBack(){var e=this;return zh(function*(){return yield e.router.navigateByUrl("/")})()}use(){this.nitroxForm.invalid||(this.tanksService.firstTank.tank.o2=this.calc.fO2,this.options.diver.maxPpO2=this.calc.pO2)}toMod(){this.calc.toMod(),this.enableAll(),this.nitroxForm.removeControl("mod")}toBestMix(){this.calc.toBestMix(),this.enableAll(),this.nitroxForm.removeControl("fO2")}toPO2(){this.calc.toPO2(),this.enableAll(),this.nitroxForm.removeControl("pO2")}enableAll(){this.nitroxForm.addControl("mod",this.modControl),this.nitroxForm.addControl("fO2",this.fO2Control),this.nitroxForm.addControl("pO2",this.pO2Control),this.reload()}reload(){this.nitroxForm.patchValue({fO2:Dn.round(this.calc.fO2,1),pO2:Dn.round(this.calc.pO2,2),mod:Dn.round(this.calcMod,1)})}}_5.\u0275fac=function(e){return new(e||_5)(yt(_l),yt(f1),yt(Aa),yt(fi),yt(ni),yt(Zi),yt(ar),yt(Qi))},_5.\u0275cmp=L2({type:_5,selectors:[["app-nitrox"]],decls:30,vars:17,consts:[[1,"row","mt-5"],[1,"col","col-sm-8","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"mb-4"],["role","group",1,"btn-group","mb-3"],["type","button",1,"btn",3,"click"],[4,"ngIf"],[1,"pt-2","pb-4","pe-3","mb-4"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],[1,"pt-2","mb-4"],["for","pO2","mdbLabel","",1,"form-label"],["name","pO2","id","pO2","type","number","formControlName","pO2","step","0.1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],["controlName","fO2",3,"showBestMix","nitroxForm","gasChange"],["for","mod","mdbLabel","",1,"form-label"],["name","mod","id","mod","type","number","formControlName","mod","step","1","aria-describedby","eadDescribe",1,"form-control",3,"min","max","input"],["id","eadDescribe",1,"form-text"],["id","mod",1,"form-control",3,"readonly","value"],[1,"form-text","text-muted"],["for","fO2","mdbLabel","",1,"form-label"],["id","fO2",1,"form-control",3,"readonly","value"],["id","pO2",1,"form-control",3,"readonly","value"],[1,"text-danger","form-text","position-absolute"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(e,t){1&e&&(Ae(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Pn(4,"fa-icon",4),Ae(5,"span"),_t(6,"Nitrox calculator"),Ne()(),Ae(7,"div",5)(8,"form",6)(9,"div",7),_t(10),Ne(),Ae(11,"div",8)(12,"button",9),vn("click",function(){return t.toMod()}),_t(13,"MOD"),Ne(),Ae(14,"button",9),vn("click",function(){return t.toBestMix()}),_t(15,"Best mix"),Ne(),Ae(16,"button",9),vn("click",function(){return t.toPO2()}),_t(17,"ppO2"),Ne()(),mn(18,zMe,7,4,"ng-container",10),mn(19,HMe,3,2,"ng-container",10),mn(20,LMe,10,13,"ng-container",10),mn(21,DMe,9,11,"ng-container",10),mn(22,TMe,6,5,"ng-container",10),mn(23,kMe,6,5,"ng-container",10),Ae(24,"div",11),mn(25,VMe,3,0,"ng-container",10),Ne()()()(),Ae(26,"div",12)(27,"button",13),vn("click",function(){return t.goBack()}),_t(28,"Back"),Ne(),mn(29,AMe,2,0,"button",14),Ne()()()),2&e&&(Ve(4),dt("icon",t.calcIcon),Ve(4),dt("formGroup",t.nitroxForm),Ve(2),y1(t.depthConverterWarning),Ve(2),u2("btn-primary",t.calc.inMod),Ve(2),u2("btn-primary",t.calc.inBestMix),Ve(2),u2("btn-primary",t.calc.inPO2),Ve(2),dt("ngIf",!t.calc.inPO2),Ve(1),dt("ngIf",!t.calc.inBestMix),Ve(1),dt("ngIf",!t.calc.inMod),Ve(1),dt("ngIf",t.calc.inMod),Ve(1),dt("ngIf",t.calc.inBestMix),Ve(1),dt("ngIf",t.calc.inPO2),Ve(2),dt("ngIf",null==t.nitroxForm.errors?null:t.nitroxForm.errors.lowMod),Ve(4),dt("ngIf",!t.nitroxForm.invalid))},dependencies:[$r,V3,$i,Ta,Da,la,Va,ka,zi,ua,qi,Ts,i6,Ha]});class C5{}C5.rootUrl="https://github.com/jirkapok/GasPlanner",C5.mainHelpUrl=C5.rootUrl+"/blob/master/doc";class u6{constructor(){this.appVersion="0.1.18"}}u6.\u0275fac=function(e){return new(e||u6)},u6.\u0275cmp=L2({type:u6,selectors:[["app-info"]],decls:2,vars:1,consts:[[1,"text-muted"]],template:function(e,t){1&e&&(Ae(0,"span",0),_t(1),Ne()),2&e&&(Ve(1),jn("\xa9 2020 JIRI POKORNY, Version ",t.appVersion,""))}});class b5{constructor(){this.exclamation=Kh}get projectUrl(){return C5.rootUrl}}b5.\u0275fac=function(e){return new(e||b5)},b5.\u0275cmp=L2({type:b5,selectors:[["app-about"]],decls:17,vars:2,consts:[[1,"jumbotron","m-4","pt-5"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","mt-4"],[1,"me-2","fa-lg",3,"icon"],[1,"mt-4"],["target","_blank",1,"btn","btn-primary","btn-lg",3,"href"]],template:function(e,t){1&e&&(Ae(0,"div",0)(1,"h1"),_t(2,"About Gas Planner"),Ne(),Ae(3,"p"),_t(4,"Open source Scuba diving application to help divers plan their dives."),Pn(5,"br"),_t(6," Plan your dive and dive your plan!"),Ne(),Pn(7,"app-info"),Ae(8,"div",1),Pn(9,"fa-icon",2),Ae(10,"span")(11,"strong"),_t(12,"Disclaimer:"),Ne(),_t(13," None of the authors, contributors, administrators, or anyone else connected with this project can be responsible for your use of the information provided by this application or linked from these web pages. Use the results at your own risk."),Ne()(),Ae(14,"div",3)(15,"a",4),_t(16,"Github project"),Ne()()()),2&e&&(Ve(9),dt("icon",t.exclamation),Ve(6),hm("href",t.projectUrl,Lc))},dependencies:[qi,u6]});class Cl{calculate(e,t){const r=[],i=new Wu,a=qa.simple(),o=e.mod(t.maxPpO2);let _=a.fromBar(o);_>42&&(_=42);for(let V=12;V<=_;V+=t.decoStopDistance){const q=i.noDecoLimit(V,e,t);r.push({depth:V,limit:q})}return r}}function EMe(n,e){1&n&&(Ae(0,"tr")(1,"td",22),_t(2," No NDL limits found in meaningful depth range."),Pn(3,"br"),_t(4," Change gas O2 content. "),Ne()())}function PMe(n,e){if(1&n&&(Ae(0,"tr")(1,"td"),_t(2),Ne(),Ae(3,"td"),_t(4),O2(5,"number"),Ne()()),2&n){const t=e.$implicit;Ve(2),y1(t.depth),Ve(2),y1(F2(5,2,t.limit,"1.0-0"))}}Cl.\u0275fac=function(e){return new(e||Cl)},Cl.\u0275prov=Nn({token:Cl,factory:Cl.\u0275fac});class x5{constructor(e,t,r,i){this.router=e,this.units=t,this.ndl=r,this.icon=Tk,this.iconConfig=H_,this.totalDuration=U2.oneDay,this.isComplex=!1,this.limits=[],this.tank=new Zu($o.createDefault(),this.units),this.tank.workingPressure=this.units.defaults.primaryTankWorkPressure,this.tank.size=this.units.defaults.primaryTankSize,this.options=new Th,this.options.loadFrom(i.getOptions()),this.toxicity=new Yu(this.options),this.calculate()}get noResults(){return 0===this.limits.length}calculate(){this.limits=this.ndl.calculate(this.tank.tank.gas,this.options);for(let t=0;t<this.limits.length;t++)this.limits[t].depth=this.units.defaults.stopsDistance*(t+4)}ppO2Changed(e){this.options.maxPpO2=e,this.calculate()}salinityChanged(e){this.options.salinity=e,this.calculate()}altitudeChanged(e){this.options.altitude=e,this.calculate()}gradientsChanged(e){this.options.gfLow=e.gfLow,this.options.gfHigh=e.gfHeigh,this.calculate()}goBack(){var e=this;return zh(function*(){return yield e.router.navigateByUrl("/")})()}}x5.\u0275fac=function(e){return new(e||x5)(yt(Zi),yt(f1),yt(Cl),yt(ar))},x5.\u0275cmp=L2({type:x5,selectors:[["app-ndl-limits"]],decls:39,vars:15,consts:[[1,"row","mt-5"],[1,"col","col-12","col-sm-7","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card","ndl-minheight"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[1,"pt-2","mb-4"],[3,"tank","showBestMix","toxicity","gasChange"],["label","Maximum ppO2:",3,"maxPpO2","ppO2Change"],[3,"salinity","inputChange"],[3,"altitude","inputChange"],[1,"pt-2"],[3,"gfLow","gfHigh","simple","showTitle","inputChange"],[1,"col","col-12","col-sm-5","col-md-5","col-lg-3","col-xxl-2","mt-3"],[1,"table","table-sm","p-0"],[1,"table-light"],[1,"fw-bold","px-1"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["colspan","2"]],template:function(e,t){1&e&&(Ae(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Pn(4,"fa-icon",4),Ae(5,"span"),_t(6,"Options"),Ne()(),Ae(7,"div",5)(8,"div",6)(9,"app-oxygen",7),vn("gasChange",function(){return t.calculate()}),Ne()(),Ae(10,"div",6)(11,"app-pp-o2",8),vn("ppO2Change",function(i){return t.ppO2Changed(i)}),Ne()(),Ae(12,"div",6)(13,"app-salinity",9),vn("inputChange",function(i){return t.salinityChanged(i)}),Ne()(),Ae(14,"div",6)(15,"app-altitude",10),vn("inputChange",function(i){return t.altitudeChanged(i)}),Ne()(),Ae(16,"div",11)(17,"app-gradients",12),vn("inputChange",function(i){return t.gradientsChanged(i)}),Ne()()()()(),Ae(18,"div",13)(19,"div",2)(20,"div",3),Pn(21,"fa-icon",4),Ae(22,"span"),_t(23,"No decompression limits"),Ne()(),Ae(24,"div",5)(25,"table",14)(26,"thead",15)(27,"tr")(28,"th",16),_t(29),Ne(),Ae(30,"th",16),_t(31,"Limit [min]"),Ne()()(),Ae(32,"tbody"),mn(33,EMe,5,0,"tr",17),mn(34,PMe,6,5,"tr",18),Ne()()()()()(),Ae(35,"div",19)(36,"div",20)(37,"button",21),vn("click",function(){return t.goBack()}),_t(38,"Back"),Ne()()()),2&e&&(Ve(4),dt("icon",t.iconConfig),Ve(5),dt("tank",t.tank)("showBestMix",!1)("toxicity",t.toxicity),Ve(2),dt("maxPpO2",t.options.maxPpO2),Ve(2),dt("salinity",t.options.salinity),Ve(2),dt("altitude",t.options.altitude),Ve(2),dt("gfLow",t.options.gfLow)("gfHigh",t.options.gfHigh)("simple",!1)("showTitle",!0),Ve(4),dt("icon",t.icon),Ve(8),jn("Depth [",t.units.length,"]"),Ve(4),dt("ngIf",t.noResults),Ve(1),dt("ngForOf",t.limits))},dependencies:[k3,$r,qi,s6,o6,c6,a6,r6,Ha],styles:[".ndl-minheight[_ngcontent-%COMP%]{min-height:690px}"]});const IMe=[{path:"settings",component:a5},{path:"sac",component:y5},{path:"nitrox",component:_5},{path:"ndl",component:x5},{path:"about",component:b5},{path:"**",component:v5}];class f6{}function OMe(n,e){if(1&n){const t=v1();Ae(0,"button",22),vn("click",function(){return s2(t),o2(Ut().addToHomeScreen())}),_t(1,"Add to Home screen"),Ne()}}f6.\u0275fac=function(e){return new(e||f6)},f6.\u0275mod=W1({type:f6}),f6.\u0275inj=e1({imports:[iD.forRoot(IMe),iD]});class M5{constructor(e){this.preferences=e,this.isNavbarCollapsed=!0,this.faBars=r_,this.showInstallButton=!1}get mainHelpUrl(){return C5.mainHelpUrl}onbeforeinstallprompt(e){e.preventDefault(),this.deferredPrompt=e,this.showInstallButton=!0}saveDefaults(){this.preferences.saveDefaults()}loadDefaults(){this.preferences.loadDefaults()}addToHomeScreen(){this.showInstallButton=!1,this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(e=>{this.deferredPrompt=null}))}}M5.\u0275fac=function(e){return new(e||M5)(yt(Vi))},M5.\u0275cmp=L2({type:M5,selectors:[["app-mainmenu"]],hostBindings:function(e,t){1&e&&vn("beforeinstallprompt",function(i){return t.onbeforeinstallprompt(i)},0,t7)},decls:38,vars:4,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-primary","fixed-top"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand","ps-3"],["type","button","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"me-3",3,"icon"],["id","navbarSupportedContent","mdbCollapse","",1,"collapse","navbar-collapse"],["basicNavbar","mdbCollapse"],[1,"navbar-nav","mr-auto"],["mdbDropdown","",1,"nav-item","dropdown"],["id","id01","mdbDropdownToggle","",1,"nav-link","dropdown-toggle"],["aria-labelledby","id01","mdbDropdownMenu","",1,"dropdown-menu"],["routerLink","/sac",1,"dropdown-item"],["routerLink","/nitrox",1,"dropdown-item"],["routerLink","/ndl",1,"dropdown-item"],["id","id02","mdbDropdownToggle","",1,"nav-link","dropdown-toggle"],["aria-labelledby","id02","mdbDropdownMenu","",1,"dropdown-menu"],["routerLink","/settings",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["target","_blank",1,"nav-link",3,"href"],["routerLink","/about",1,"nav-link"],[1,"nav","navbar-nav","navbar-right"],["class","btn btn-success btn-small mr-auto",3,"click",4,"ngIf"],[1,"btn","btn-success","btn-small","mr-auto",3,"click"]],template:function(e,t){if(1&e){const r=v1();Ae(0,"nav",0)(1,"div",1)(2,"a",2),_t(3,"Gas planner"),Ne(),Ae(4,"button",3),vn("click",function(){return s2(r),o2(um(7).toggle())}),Pn(5,"fa-icon",4),Ne(),Ae(6,"div",5,6)(8,"ul",7)(9,"li",8)(10,"a",9),_t(11,"Calculators"),Ne(),Ae(12,"div",10)(13,"a",11),_t(14,"RMV/SAC"),Ne(),Ae(15,"a",12),_t(16,"Nitrox"),Ne(),Ae(17,"a",13),_t(18,"NDL table"),Ne()()(),Ae(19,"li",8)(20,"a",14),_t(21,"Settings"),Ne(),Ae(22,"div",15)(23,"a",16),_t(24,"Edit"),Ne(),Ae(25,"a",17),vn("click",function(){return t.saveDefaults()}),_t(26,"Save defaults"),Ne(),Ae(27,"a",17),vn("click",function(){return t.loadDefaults()}),_t(28,"Reload defaults"),Ne()()(),Ae(29,"a",18),_t(30,"Standard gases"),Ne(),Ae(31,"a",18),_t(32,"Help/Learn"),Ne(),Ae(33,"a",19),_t(34,"About"),Ne()(),Ae(35,"ul",20)(36,"li"),mn(37,OMe,2,0,"button",21),Ne()()()()()}2&e&&(Ve(5),dt("icon",t.faBars),Ve(24),G1("href","",t.mainHelpUrl,"/standard_gases.md",Lc),Ve(2),G1("href","",t.mainHelpUrl,"/readme.md",Lc),Ve(6),dt("ngIf",t.showInstallButton))},dependencies:[$r,qi,Sh,ny,P4,F3,R3]});class w5{}w5.\u0275fac=function(e){return new(e||w5)},w5.\u0275cmp=L2({type:w5,selectors:[["app-footer"]],decls:4,vars:0,consts:[[1,"mt-5"],[1,"page-footer","font-small","bg-light","fixed-bottom","d-none","d-lg-block"],[1,"footer-copyright","text-center","py-2"]],template:function(e,t){1&e&&(Pn(0,"div",0),Ae(1,"footer",1)(2,"div",2),Pn(3,"app-info"),Ne()())},dependencies:[u6]});class S5{constructor(){}}S5.\u0275fac=function(e){return new(e||S5)},S5.\u0275cmp=L2({type:S5,selectors:[["app-root"]],decls:3,vars:0,template:function(e,t){1&e&&Pn(0,"app-mainmenu")(1,"router-outlet")(2,"app-footer")},dependencies:[ky,M5,w5]});class tC{constructor(e){this.worker=e,this.onCalculated=new j,this.onFailed=new j,this.calculated$=this.onCalculated.asObservable(),this.failed$=this.onFailed.asObservable(),this.worker.addEventListener("message",t=>this.processMessage(t)),this.worker.addEventListener("error",()=>this.onFailed.next())}calculate(e){this.worker.postMessage(e)}processMessage(e){this.onCalculated.next(e.data)}}const RMe=[dw,nW,HY,_X,f6],BMe=[vH,LK,DK,$K,JK];class d6{}d6.\u0275fac=function(e){return new(e||d6)},d6.\u0275mod=W1({type:d6,bootstrap:[S5]}),d6.\u0275inj=e1({providers:[{provide:J_,useClass:class FMe extends J_{createProfileWorker(){const e=new Worker(pe.tu(new URL(pe.p+pe.u(481),pe.b)));return new tC(e)}createDiveInfoWorker(){const e=new Worker(pe.tu(new URL(pe.p+pe.u(39),pe.b)));return new tC(e)}createConsumptionWorker(){const e=new Worker(pe.tu(new URL(pe.p+pe.u(626),pe.b)));return new tC(e)}}},Wr,Rr,Ai,B4,Vi,f1,U4,ar,co,yl,_l,hl,Wo,Qi,Cl,Ns,pl,fi,ni,yg,Ha],imports:[RMe,BMe,xX,wW.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]}),RG().bootstrapModule(d6).catch(n=>console.error(n))},489:function(Ka,v,pe){var J;Ka=pe.nmd(Ka),function(){var s,l="Expected a function",d="__lodash_hash_undefined__",u="__lodash_placeholder__",D=32,P=128,oe=1/0,Ce=9007199254740991,Q=NaN,le=4294967295,se=[["ary",P],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",D],["partialRight",64],["rearg",256]],ee="[object Arguments]",F="[object Array]",Y="[object Boolean]",B="[object Date]",ue="[object Error]",fe="[object Function]",he="[object GeneratorFunction]",xe="[object Map]",be="[object Number]",Pe="[object Object]",Re="[object Promise]",tt="[object RegExp]",Ke="[object Set]",$e="[object String]",Me="[object Symbol]",Se="[object WeakMap]",qe="[object ArrayBuffer]",Oe="[object DataView]",Fe="[object Float32Array]",Qe="[object Float64Array]",nt="[object Int8Array]",Ye="[object Int16Array]",rt="[object Int32Array]",ht="[object Uint8Array]",Xe="[object Uint8ClampedArray]",gt="[object Uint16Array]",xt="[object Uint32Array]",bt=/\b__p \+= '';/g,Ot=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Be=/&(?:amp|lt|gt|quot|#39);/g,Ge=/[&<>"']/g,vt=RegExp(Be.source),Pt=RegExp(Ge.source),Jt=/<%-([\s\S]+?)%>/g,tn=/<%([\s\S]+?)%>/g,Kt=/<%=([\s\S]+?)%>/g,qt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nt=/^\w*$/,ge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_e=/[\\^$.*+?()[\]{}|]/g,We=RegExp(_e.source),Je=/^\s+/,ft=/\s/,st=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,et=/\{\n\/\* \[wrapped with (.+)\] \*/,ut=/,? & /,St=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Vt=/[()=,{}\[\]\/\s]/,Bt=/\\(\\)?/g,an=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tt=/\w*$/,Wt=/^[-+]0x[0-9a-f]+$/i,dn=/^0b[01]+$/i,At=/^\[object .+?Constructor\]$/,zt=/^0o[0-7]+$/i,sn=/^(?:0|[1-9]\d*)$/,Qt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jt=/($^)/,en=/['\n\r\u2028\u2029\\]/g,Ft="\\ud800-\\udfff",Ln="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Wn="\\u2700-\\u27bf",kn="a-z\\xdf-\\xf6\\xf8-\\xff",cn="A-Z\\xc0-\\xd6\\xd8-\\xde",Fn="\\ufe0e\\ufe0f",An="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",r2="["+Ft+"]",g2="["+An+"]",y2="["+Ln+"]",h2="\\d+",Yt="["+Wn+"]",Yn="["+kn+"]",Bn="[^"+Ft+An+h2+Wn+kn+cn+"]",n2="\\ud83c[\\udffb-\\udfff]",w2="[^"+Ft+"]",p2="(?:\\ud83c[\\udde6-\\uddff]){2}",Rn="[\\ud800-\\udbff][\\udc00-\\udfff]",m2="["+cn+"]",e2="(?:"+Yn+"|"+Bn+")",Un="(?:"+m2+"|"+Bn+")",yn="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",z2="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",z1="(?:"+y2+"|"+n2+")?",Q2="["+Fn+"]?",H1=Q2+z1+"(?:\\u200d(?:"+[w2,p2,Rn].join("|")+")"+Q2+z1+")*",A1="(?:"+[Yt,p2,Rn].join("|")+")"+H1,j2="(?:"+[w2+y2+"?",y2,p2,Rn,r2].join("|")+")",G2=RegExp("['\u2019]","g"),Vr=RegExp(y2,"g"),ri=RegExp(n2+"(?="+n2+")|"+j2+H1,"g"),Pi=RegExp([m2+"?"+Yn+"+"+yn+"(?="+[g2,m2,"$"].join("|")+")",Un+"+"+z2+"(?="+[g2,m2+e2,"$"].join("|")+")",m2+"?"+e2+"+"+yn,m2+"+"+z2,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",h2,A1].join("|"),"g"),Nn=RegExp("[\\u200d"+Ft+Ln+Fn+"]"),F1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,e1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Br=-1,t1={};t1[Fe]=t1[Qe]=t1[nt]=t1[Ye]=t1[rt]=t1[ht]=t1[Xe]=t1[gt]=t1[xt]=!0,t1[ee]=t1[F]=t1[qe]=t1[Y]=t1[Oe]=t1[B]=t1[ue]=t1[fe]=t1[xe]=t1[be]=t1[Pe]=t1[tt]=t1[Ke]=t1[$e]=t1[Se]=!1;var j1={};j1[ee]=j1[F]=j1[qe]=j1[Oe]=j1[Y]=j1[B]=j1[Fe]=j1[Qe]=j1[nt]=j1[Ye]=j1[rt]=j1[xe]=j1[be]=j1[Pe]=j1[tt]=j1[Ke]=j1[$e]=j1[Me]=j1[ht]=j1[Xe]=j1[gt]=j1[xt]=!0,j1[ue]=j1[fe]=j1[Se]=!1;var Ps={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fo=parseFloat,U3=parseInt,Zo="object"==typeof global&&global&&global.Object===Object&&global,H2="object"==typeof self&&self&&self.Object===Object&&self,tr=Zo||H2||Function("return this")(),G4=v&&!v.nodeType&&v,Ar=G4&&Ka&&!Ka.nodeType&&Ka,$4=Ar&&Ar.exports===G4,Xo=$4&&Zo.process,m1=function(){try{return Ar&&Ar.require&&Ar.require("util").types||Xo&&Xo.binding&&Xo.binding("util")}catch{}}(),h6=m1&&m1.isArrayBuffer,Ko=m1&&m1.isDate,p6=m1&&m1.isMap,hs=m1&&m1.isRegExp,Qo=m1&&m1.isSet,Ii=m1&&m1.isTypedArray;function di(Gt,hn,fn){switch(fn.length){case 0:return Gt.call(hn);case 1:return Gt.call(hn,fn[0]);case 2:return Gt.call(hn,fn[0],fn[1]);case 3:return Gt.call(hn,fn[0],fn[1],fn[2])}return Gt.apply(hn,fn)}function W4(Gt,hn,fn,t2){for(var D2=-1,C1=null==Gt?0:Gt.length;++D2<C1;){var dr=Gt[D2];hn(t2,dr,fn(dr),Gt)}return t2}function hi(Gt,hn){for(var fn=-1,t2=null==Gt?0:Gt.length;++fn<t2&&!1!==hn(Gt[fn],fn,Gt););return Gt}function ps(Gt,hn){for(var fn=null==Gt?0:Gt.length;fn--&&!1!==hn(Gt[fn],fn,Gt););return Gt}function Qa(Gt,hn){for(var fn=-1,t2=null==Gt?0:Gt.length;++fn<t2;)if(!hn(Gt[fn],fn,Gt))return!1;return!0}function pi(Gt,hn){for(var fn=-1,t2=null==Gt?0:Gt.length,D2=0,C1=[];++fn<t2;){var dr=Gt[fn];hn(dr,fn,Gt)&&(C1[D2++]=dr)}return C1}function j3(Gt,hn){return!(null==Gt||!Gt.length)&&ho(Gt,hn,0)>-1}function ln(Gt,hn,fn){for(var t2=-1,D2=null==Gt?0:Gt.length;++t2<D2;)if(fn(hn,Gt[t2]))return!0;return!1}function Y1(Gt,hn){for(var fn=-1,t2=null==Gt?0:Gt.length,D2=Array(t2);++fn<t2;)D2[fn]=hn(Gt[fn],fn,Gt);return D2}function $2(Gt,hn){for(var fn=-1,t2=hn.length,D2=Gt.length;++fn<t2;)Gt[D2+fn]=hn[fn];return Gt}function Is(Gt,hn,fn,t2){var D2=-1,C1=null==Gt?0:Gt.length;for(t2&&C1&&(fn=Gt[++D2]);++D2<C1;)fn=hn(fn,Gt[D2],D2,Gt);return fn}function q4(Gt,hn,fn,t2){var D2=null==Gt?0:Gt.length;for(t2&&D2&&(fn=Gt[--D2]);D2--;)fn=hn(fn,Gt[D2],D2,Gt);return fn}function Os(Gt,hn){for(var fn=-1,t2=null==Gt?0:Gt.length;++fn<t2;)if(hn(Gt[fn],fn,Gt))return!0;return!1}var m6=k1("length");function Ja(Gt,hn,fn){var t2;return fn(Gt,function(D2,C1,dr){if(hn(D2,C1,dr))return t2=C1,!1}),t2}function mi(Gt,hn,fn,t2){for(var D2=Gt.length,C1=fn+(t2?1:-1);t2?C1--:++C1<D2;)if(hn(Gt[C1],C1,Gt))return C1;return-1}function ho(Gt,hn,fn){return hn==hn?function ga(Gt,hn,fn){for(var t2=fn-1,D2=Gt.length;++t2<D2;)if(Gt[t2]===hn)return t2;return-1}(Gt,hn,fn):mi(Gt,Oi,fn)}function y6(Gt,hn,fn,t2){for(var D2=fn-1,C1=Gt.length;++D2<C1;)if(t2(Gt[D2],hn))return D2;return-1}function Oi(Gt){return Gt!=Gt}function ha(Gt,hn){var fn=null==Gt?0:Gt.length;return fn?G3(Gt,hn)/fn:Q}function k1(Gt){return function(hn){return null==hn?s:hn[Gt]}}function pa(Gt){return function(hn){return null==Gt?s:Gt[hn]}}function Jo(Gt,hn,fn,t2,D2){return D2(Gt,function(C1,dr,T2){fn=t2?(t2=!1,C1):hn(fn,C1,dr,T2)}),fn}function G3(Gt,hn){for(var fn,t2=-1,D2=Gt.length;++t2<D2;){var C1=hn(Gt[t2]);C1!==s&&(fn=fn===s?C1:fn+C1)}return fn}function ma(Gt,hn){for(var fn=-1,t2=Array(Gt);++fn<Gt;)t2[fn]=hn(fn);return t2}function Sl(Gt){return Gt&&Gt.slice(0,or(Gt)+1).replace(Je,"")}function L2(Gt){return function(hn){return Gt(hn)}}function Z4(Gt,hn){return Y1(hn,function(fn){return Gt[fn]})}function mo(Gt,hn){return Gt.has(hn)}function X4(Gt,hn){for(var fn=-1,t2=Gt.length;++fn<t2&&ho(hn,Gt[fn],0)>-1;);return fn}function W1(Gt,hn){for(var fn=Gt.length;fn--&&ho(hn,Gt[fn],0)>-1;);return fn}function _6(Gt,hn){for(var fn=Gt.length,t2=0;fn--;)Gt[fn]===hn&&++t2;return t2}var go=pa({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),f2=pa({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Q1(Gt){return"\\"+Ps[Gt]}function fr(Gt){return Nn.test(Gt)}function qr(Gt){var hn=-1,fn=Array(Gt.size);return Gt.forEach(function(t2,D2){fn[++hn]=[D2,t2]}),fn}function Pa(Gt,hn){return function(fn){return Gt(hn(fn))}}function Qn(Gt,hn){for(var fn=-1,t2=Gt.length,D2=0,C1=[];++fn<t2;){var dr=Gt[fn];(dr===hn||dr===u)&&(Gt[fn]=u,C1[D2++]=fn)}return C1}function Y2(Gt){var hn=-1,fn=Array(Gt.size);return Gt.forEach(function(t2){fn[++hn]=t2}),fn}function nr(Gt){return fr(Gt)?function W3(Gt){for(var hn=ri.lastIndex=0;ri.test(Gt);)++hn;return hn}(Gt):m6(Gt)}function Yr(Gt){return fr(Gt)?function s1(Gt){return Gt.match(ri)||[]}(Gt):function g6(Gt){return Gt.split("")}(Gt)}function or(Gt){for(var hn=Gt.length;hn--&&ft.test(Gt.charAt(hn)););return hn}var $3=pa({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Fs=function Gt(hn){var f,fn=(hn=null==hn?tr:Fs.defaults(tr.Object(),hn,Fs.pick(tr,e1))).Array,t2=hn.Date,D2=hn.Error,C1=hn.Function,dr=hn.Math,T2=hn.Object,q3=hn.RegExp,Q4=hn.String,Fi=hn.TypeError,ts=fn.prototype,gi=T2.prototype,hr=hn["__core-js_shared__"],J4=C1.prototype.toString,X2=gi.hasOwnProperty,Ji=0,Y3=(f=/[^.]+$/.exec(hr&&hr.keys&&hr.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",ms=gi.toString,n3=J4.call(T2),ea=tr._,ec=q3("^"+J4.call(X2).replace(_e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),r3=$4?hn.Buffer:s,gs=hn.Symbol,Rs=hn.Uint8Array,C6=r3?r3.allocUnsafe:s,tc=Pa(T2.getPrototypeOf,T2),b6=T2.create,x6=gi.propertyIsEnumerable,nc=ts.splice,Z3=gs?gs.isConcatSpreadable:s,X3=gs?gs.iterator:s,yo=gs?gs.toStringTag:s,K3=function(){try{var f=To(T2,"defineProperty");return f({},"",{}),f}catch{}}(),M6=hn.clearTimeout!==tr.clearTimeout&&hn.clearTimeout,H5=t2&&t2.now!==tr.Date.now&&t2.now,rc=hn.setTimeout!==tr.setTimeout&&hn.setTimeout,vs=dr.ceil,_o=dr.floor,ic=T2.getOwnPropertySymbols,zl=r3?r3.isBuffer:s,va=hn.isFinite,ys=ts.join,ac=Pa(T2.keys,T2),M1=dr.max,Cr=dr.min,sc=t2.now,Hl=hn.parseInt,vi=dr.random,oc=ts.reverse,Q3=To(hn,"DataView"),yi=To(hn,"Map"),i3=To(hn,"Promise"),zr=To(hn,"Set"),Bs=To(hn,"WeakMap"),Us=To(T2,"create"),pr=Bs&&new Bs,js={},J3=g3(Q3),_i=g3(yi),w6=g3(i3),Ll=g3(zr),Co=g3(Bs),Ur=gs?gs.prototype:s,bo=Ur?Ur.valueOf:s,_s=Ur?Ur.toString:s;function Ze(f){if(gr(f)&&!r1(f)&&!(f instanceof Gn)){if(f instanceof Nr)return f;if(X2.call(f,"__wrapped__"))return af(f)}return new Nr(f)}var Zr=function(){function f(){}return function(x){if(!B1(x))return{};if(b6)return b6(x);f.prototype=x;var K=new f;return f.prototype=s,K}}();function xo(){}function Nr(f,x){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!x,this.__index__=0,this.__values__=s}function Gn(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function ns(f){var x=-1,K=null==f?0:f.length;for(this.clear();++x<K;){var we=f[x];this.set(we[0],we[1])}}function n1(f){var x=-1,K=null==f?0:f.length;for(this.clear();++x<K;){var we=f[x];this.set(we[0],we[1])}}function y(f){var x=-1,K=null==f?0:f.length;for(this.clear();++x<K;){var we=f[x];this.set(we[0],we[1])}}function ye(f){var x=-1,K=null==f?0:f.length;for(this.__data__=new y;++x<K;)this.add(f[x])}function De(f){var x=this.__data__=new n1(f);this.size=x.size}function pt(f,x){var K=r1(f),we=!K&&_3(f),Ee=!K&&!we&&Vo(f),it=!K&&!we&&!Ee&&m4(f),Lt=K||we||Ee||it,Et=Lt?ma(f.length,Q4):[],Zt=Et.length;for(var xn in f)(x||X2.call(f,xn))&&(!Lt||!("length"==xn||Ee&&("offset"==xn||"parent"==xn)||it&&("buffer"==xn||"byteLength"==xn||"byteOffset"==xn)||Ys(xn,Zt)))&&Et.push(xn);return Et}function Mt(f){var x=f.length;return x?f[r4(0,x-1)]:s}function lt(f,x){return ko(na(f),b2(x,0,f.length))}function Rt(f){return ko(na(f))}function Dt(f,x,K){(K!==s&&!Ra(f[x],K)||K===s&&!(x in f))&&$n(f,x,K)}function mt(f,x,K){var we=f[x];(!X2.call(f,x)||!Ra(we,K)||K===s&&!(x in f))&&$n(f,x,K)}function rn(f,x){for(var K=f.length;K--;)if(Ra(f[K][0],x))return K;return-1}function on(f,x,K,we){return Xn(f,function(Ee,it,Lt){x(we,Ee,K(Ee),Lt)}),we}function Hn(f,x){return f&&Ws(x,Qr(x),f)}function $n(f,x,K){"__proto__"==x&&K3?K3(f,x,{configurable:!0,enumerable:!0,value:K,writable:!0}):f[x]=K}function Zn(f,x){for(var K=-1,we=x.length,Ee=fn(we),it=null==f;++K<we;)Ee[K]=it?s:c0(f,x[K]);return Ee}function b2(f,x,K){return f==f&&(K!==s&&(f=f<=K?f:K),x!==s&&(f=f>=x?f:x)),f}function qn(f,x,K,we,Ee,it){var Lt,Et=1&x,Zt=2&x,xn=4&x;if(K&&(Lt=Ee?K(f,we,Ee,it):K(f)),Lt!==s)return Lt;if(!B1(f))return f;var zn=r1(f);if(zn){if(Lt=function lC(f){var x=f.length,K=new f.constructor(x);return x&&"string"==typeof f[0]&&X2.call(f,"index")&&(K.index=f.index,K.input=f.input),K}(f),!Et)return na(f,Lt)}else{var En=Kr(f),Kn=En==fe||En==he;if(Vo(f))return a9(f,Et);if(En==Pe||En==ee||Kn&&!Ee){if(Lt=Zt||Kn?{}:h9(f),!Et)return Zt?function aC(f,x){return Ws(f,X5(f),x)}(f,function Vn(f,x){return f&&Ws(x,ia(x),f)}(Lt,f)):function o9(f,x){return Ws(f,O6(f),x)}(f,Hn(Lt,f))}else{if(!j1[En])return Ee?f:{};Lt=function uC(f,x,K){var we=f.constructor;switch(x){case qe:return Lr(f);case Y:case B:return new we(+f);case Oe:return function N6(f,x){var K=x?Lr(f.buffer):f.buffer;return new f.constructor(K,f.byteOffset,f.byteLength)}(f,K);case Fe:case Qe:case nt:case Ye:case rt:case ht:case Xe:case gt:case xt:return Ca(f,K);case xe:return new we;case be:case $e:return new we(f);case tt:return function pc(f){var x=new f.constructor(f.source,Tt.exec(f));return x.lastIndex=f.lastIndex,x}(f);case Ke:return new we;case Me:return function s9(f){return bo?T2(bo.call(f)):{}}(f)}}(f,En,Et)}}it||(it=new De);var v2=it.get(f);if(v2)return v2;it.set(f,Lt),Qf(f)?f.forEach(function(N2){Lt.add(qn(N2,x,K,N2,f,it))}):s0(f)&&f.forEach(function(N2,L1){Lt.set(L1,qn(N2,x,K,L1,f,it))});var g1=zn?s:(xn?Zt?P6:E6:Zt?ia:Qr)(f);return hi(g1||f,function(N2,L1){g1&&(N2=f[L1=N2]),mt(Lt,L1,qn(N2,x,K,L1,f,it))}),Lt}function w1(f,x,K){var we=K.length;if(null==f)return!we;for(f=T2(f);we--;){var Ee=K[we],Lt=f[Ee];if(Lt===s&&!(Ee in f)||!(0,x[Ee])(Lt))return!1}return!0}function B2(f,x,K){if("function"!=typeof f)throw new Fi(l);return m3(function(){f.apply(s,K)},x)}function Mn(f,x,K,we){var Ee=-1,it=j3,Lt=!0,Et=f.length,Zt=[],xn=x.length;if(!Et)return Zt;K&&(x=Y1(x,L2(K))),we?(it=ln,Lt=!1):x.length>=200&&(it=mo,Lt=!1,x=new ye(x));e:for(;++Ee<Et;){var zn=f[Ee],En=null==K?zn:K(zn);if(zn=we||0!==zn?zn:0,Lt&&En==En){for(var Kn=xn;Kn--;)if(x[Kn]===En)continue e;Zt.push(zn)}else it(x,En,we)||Zt.push(zn)}return Zt}Ze.templateSettings={escape:Jt,evaluate:tn,interpolate:Kt,variable:"",imports:{_:Ze}},(Ze.prototype=xo.prototype).constructor=Ze,(Nr.prototype=Zr(xo.prototype)).constructor=Nr,(Gn.prototype=Zr(xo.prototype)).constructor=Gn,ns.prototype.clear=function S6(){this.__data__=Us?Us(null):{},this.size=0},ns.prototype.delete=function e4(f){var x=this.has(f)&&delete this.__data__[f];return this.size-=x?1:0,x},ns.prototype.get=function t4(f){var x=this.__data__;if(Us){var K=x[f];return K===d?s:K}return X2.call(x,f)?x[f]:s},ns.prototype.has=function Tl(f){var x=this.__data__;return Us?x[f]!==s:X2.call(x,f)},ns.prototype.set=function Tn(f,x){var K=this.__data__;return this.size+=this.has(f)?0:1,K[f]=Us&&x===s?d:x,this},n1.prototype.clear=function s2(){this.__data__=[],this.size=0},n1.prototype.delete=function o2(f){var x=this.__data__,K=rn(x,f);return!(K<0||(K==x.length-1?x.pop():nc.call(x,K,1),--this.size,0))},n1.prototype.get=function Hr(f){var x=this.__data__,K=rn(x,f);return K<0?s:x[K][1]},n1.prototype.has=function kl(f){return rn(this.__data__,f)>-1},n1.prototype.set=function s3(f,x){var K=this.__data__,we=rn(K,f);return we<0?(++this.size,K.push([f,x])):K[we][1]=x,this},y.prototype.clear=function T(){this.size=0,this.__data__={hash:new ns,map:new(yi||n1),string:new ns}},y.prototype.delete=function U(f){var x=bc(this,f).delete(f);return this.size-=x?1:0,x},y.prototype.get=function re(f){return bc(this,f).get(f)},y.prototype.has=function ce(f){return bc(this,f).has(f)},y.prototype.set=function me(f,x){var K=bc(this,f),we=K.size;return K.set(f,x),this.size+=K.size==we?0:1,this},ye.prototype.add=ye.prototype.push=function Le(f){return this.__data__.set(f,d),this},ye.prototype.has=function He(f){return this.__data__.has(f)},De.prototype.clear=function Ie(){this.__data__=new n1,this.size=0},De.prototype.delete=function at(f){var x=this.__data__,K=x.delete(f);return this.size=x.size,K},De.prototype.get=function ot(f){return this.__data__.get(f)},De.prototype.has=function Ct(f){return this.__data__.has(f)},De.prototype.set=function kt(f,x){var K=this.__data__;if(K instanceof n1){var we=K.__data__;if(!yi||we.length<199)return we.push([f,x]),this.size=++K.size,this;K=this.__data__=new y(we)}return K.set(f,x),this.size=K.size,this};var Xn=u3(lr),E2=u3(Er,!0);function k2(f,x){var K=!0;return Xn(f,function(we,Ee,it){return K=!!x(we,Ee,it)}),K}function c1(f,x,K){for(var we=-1,Ee=f.length;++we<Ee;){var it=f[we],Lt=x(it);if(null!=Lt&&(Et===s?Lt==Lt&&!Ba(Lt):K(Lt,Et)))var Et=Lt,Zt=it}return Zt}function N1(f,x){var K=[];return Xn(f,function(we,Ee,it){x(we,Ee,it)&&K.push(we)}),K}function l1(f,x,K,we,Ee){var it=-1,Lt=f.length;for(K||(K=dC),Ee||(Ee=[]);++it<Lt;){var Et=f[it];x>0&&K(Et)?x>1?l1(Et,x-1,K,we,Ee):$2(Ee,Et):we||(Ee[Ee.length]=Et)}return Ee}var cr=c9(),xr=c9(!0);function lr(f,x){return f&&cr(f,x,Qr)}function Er(f,x){return f&&xr(f,x,Qr)}function rr(f,x){return pi(x,function(K){return Ks(f[K])})}function Mr(f,x){for(var K=0,we=(x=l3(x,f)).length;null!=f&&K<we;)f=f[is(x[K++])];return K&&K==we?f:s}function Cs(f,x,K){var we=x(f);return r1(f)?we:$2(we,K(f))}function R1(f){return null==f?f===s?"[object Undefined]":"[object Null]":yo&&yo in T2(f)?function sC(f){var x=X2.call(f,yo),K=f[yo];try{f[yo]=s;var we=!0}catch{}var Ee=ms.call(f);return we&&(x?f[yo]=K:delete f[yo]),Ee}(f):function m9(f){return ms.call(f)}(f)}function mr(f,x){return f>x}function ta(f,x){return null!=f&&X2.call(f,x)}function rs(f,x){return null!=f&&x in T2(f)}function Gs(f,x,K){for(var we=K?ln:j3,Ee=f[0].length,it=f.length,Lt=it,Et=fn(it),Zt=1/0,xn=[];Lt--;){var zn=f[Lt];Lt&&x&&(zn=Y1(zn,L2(x))),Zt=Cr(zn.length,Zt),Et[Lt]=!K&&(x||Ee>=120&&zn.length>=120)?new ye(Lt&&zn):s}zn=f[0];var En=-1,Kn=Et[0];e:for(;++En<Ee&&xn.length<Zt;){var v2=zn[En],V2=x?x(v2):v2;if(v2=K||0!==v2?v2:0,!(Kn?mo(Kn,V2):we(xn,V2,K))){for(Lt=it;--Lt;){var g1=Et[Lt];if(!(g1?mo(g1,V2):we(f[Lt],V2,K)))continue e}Kn&&Kn.push(V2),xn.push(v2)}}return xn}function Ci(f,x,K){var we=null==(f=R6(f,x=l3(x,f)))?f:f[is(Fa(x))];return null==we?s:di(we,f,K)}function wo(f){return gr(f)&&R1(f)==ee}function n4(f,x,K,we,Ee){return f===x||(null==f||null==x||!gr(f)&&!gr(x)?f!=f&&x!=x:function L5(f,x,K,we,Ee,it){var Lt=r1(f),Et=r1(x),Zt=Lt?F:Kr(f),xn=Et?F:Kr(x),zn=(Zt=Zt==ee?Pe:Zt)==Pe,En=(xn=xn==ee?Pe:xn)==Pe,Kn=Zt==xn;if(Kn&&Vo(f)){if(!Vo(x))return!1;Lt=!0,zn=!1}if(Kn&&!zn)return it||(it=new De),Lt||m4(f)?f9(f,x,K,we,Ee,it):function Y5(f,x,K,we,Ee,it,Lt){switch(K){case Oe:if(f.byteLength!=x.byteLength||f.byteOffset!=x.byteOffset)return!1;f=f.buffer,x=x.buffer;case qe:return!(f.byteLength!=x.byteLength||!it(new Rs(f),new Rs(x)));case Y:case B:case be:return Ra(+f,+x);case ue:return f.name==x.name&&f.message==x.message;case tt:case $e:return f==x+"";case xe:var Et=qr;case Ke:if(Et||(Et=Y2),f.size!=x.size&&!(1&we))return!1;var xn=Lt.get(f);if(xn)return xn==x;we|=2,Lt.set(f,x);var zn=f9(Et(f),Et(x),we,Ee,it,Lt);return Lt.delete(f),zn;case Me:if(bo)return bo.call(f)==bo.call(x)}return!1}(f,x,Zt,K,we,Ee,it);if(!(1&K)){var v2=zn&&X2.call(f,"__wrapped__"),V2=En&&X2.call(x,"__wrapped__");if(v2||V2){var g1=v2?f.value():f,N2=V2?x.value():x;return it||(it=new De),Ee(g1,N2,K,we,it)}}return!!Kn&&(it||(it=new De),function d9(f,x,K,we,Ee,it){var Lt=1&K,Et=E6(f),Zt=Et.length;if(Zt!=E6(x).length&&!Lt)return!1;for(var En=Zt;En--;){var Kn=Et[En];if(!(Lt?Kn in x:X2.call(x,Kn)))return!1}var v2=it.get(f),V2=it.get(x);if(v2&&V2)return v2==x&&V2==f;var g1=!0;it.set(f,x),it.set(x,f);for(var N2=Lt;++En<Zt;){var L1=f[Kn=Et[En]],D1=x[Kn];if(we)var aa=Lt?we(D1,L1,Kn,x,f,it):we(L1,D1,Kn,f,x,it);if(!(aa===s?L1===D1||Ee(L1,D1,K,we,it):aa)){g1=!1;break}N2||(N2="constructor"==Kn)}if(g1&&!N2){var Si=f.constructor,sa=x.constructor;Si!=sa&&"constructor"in f&&"constructor"in x&&!("function"==typeof Si&&Si instanceof Si&&"function"==typeof sa&&sa instanceof sa)&&(g1=!1)}return it.delete(f),it.delete(x),g1}(f,x,K,we,Ee,it))}(f,x,K,we,n4,Ee))}function z6(f,x,K,we){var Ee=K.length,it=Ee,Lt=!we;if(null==f)return!it;for(f=T2(f);Ee--;){var Et=K[Ee];if(Lt&&Et[2]?Et[1]!==f[Et[0]]:!(Et[0]in f))return!1}for(;++Ee<it;){var Zt=(Et=K[Ee])[0],xn=f[Zt],zn=Et[1];if(Lt&&Et[2]){if(xn===s&&!(Zt in f))return!1}else{var En=new De;if(we)var Kn=we(xn,zn,Zt,f,x,En);if(!(Kn===s?n4(zn,xn,3,we,En):Kn))return!1}}return!0}function uc(f){return!(!B1(f)||function Q5(f){return!!Y3&&Y3 in f}(f))&&(Ks(f)?ec:At).test(g3(f))}function L6(f){return"function"==typeof f?f:null==f?ji:"object"==typeof f?r1(f)?El(f[0],f[1]):fc(f):x8(f)}function Nl(f){if(!Mc(f))return ac(f);var x=[];for(var K in T2(f))X2.call(f,K)&&"constructor"!=K&&x.push(K);return x}function Ia(f,x){return f<x}function D5(f,x){var K=-1,we=Mi(f)?fn(f.length):[];return Xn(f,function(Ee,it,Lt){we[++K]=x(Ee,it,Lt)}),we}function fc(f){var x=Z5(f);return 1==x.length&&x[0][2]?ef(x[0][0],x[0][1]):function(K){return K===f||z6(K,f,x)}}function El(f,x){return xc(f)&&J5(x)?ef(is(f),x):function(K){var we=c0(K,f);return we===s&&we===x?l0(K,f):n4(x,we,3)}}function dc(f,x,K,we,Ee){f!==x&&cr(x,function(it,Lt){if(Ee||(Ee=new De),B1(it))!function D6(f,x,K,we,Ee,it,Lt){var Et=B6(f,K),Zt=B6(x,K),xn=Lt.get(Zt);if(xn)Dt(f,K,xn);else{var zn=it?it(Et,Zt,K+"",f,x,Lt):s,En=zn===s;if(En){var Kn=r1(Zt),v2=!Kn&&Vo(Zt),V2=!Kn&&!v2&&m4(Zt);zn=Zt,Kn||v2||V2?r1(Et)?zn=Et:Pr(Et)?zn=na(Et):v2?(En=!1,zn=a9(Zt,!0)):V2?(En=!1,zn=Ca(Zt,!0)):zn=[]:x3(Zt)||_3(Zt)?(zn=Et,_3(Et)?zn=e7(Et):(!B1(Et)||Ks(Et))&&(zn=h9(Zt))):En=!1}En&&(Lt.set(Zt,zn),Ee(zn,Zt,we,it,Lt),Lt.delete(Zt)),Dt(f,K,zn)}}(f,x,Lt,K,dc,we,Ee);else{var Et=we?we(B6(f,Lt),it,Lt+"",f,x,Ee):s;Et===s&&(Et=it),Dt(f,Lt,Et)}},ia)}function Pl(f,x){var K=f.length;if(K)return Ys(x+=x<0?K:0,K)?f[x]:s}function T5(f,x,K){x=x.length?Y1(x,function(it){return r1(it)?function(Lt){return Mr(Lt,1===it.length?it[0]:it)}:it}):[ji];var we=-1;return x=Y1(x,L2(P2())),function Y4(Gt,hn){var fn=Gt.length;for(Gt.sort(hn);fn--;)Gt[fn]=Gt[fn].value;return Gt}(D5(f,function(it,Lt,Et){return{criteria:Y1(x,function(xn){return xn(it)}),index:++we,value:it}}),function(it,Lt){return function R5(f,x,K){for(var we=-1,Ee=f.criteria,it=x.criteria,Lt=Ee.length,Et=K.length;++we<Lt;){var Zt=zo(Ee[we],it[we]);if(Zt)return we>=Et?Zt:Zt*("desc"==K[we]?-1:1)}return f.index-x.index}(it,Lt,K)})}function T6(f,x,K){for(var we=-1,Ee=x.length,it={};++we<Ee;){var Lt=x[we],Et=Mr(f,Lt);K(Et,Lt)&&hc(it,l3(Lt,f),Et)}return it}function Il(f,x,K,we){var Ee=we?y6:ho,it=-1,Lt=x.length,Et=f;for(f===x&&(x=na(x)),K&&(Et=Y1(f,L2(K)));++it<Lt;)for(var Zt=0,xn=x[it],zn=K?K(xn):xn;(Zt=Ee(Et,zn,Zt,we))>-1;)Et!==f&&nc.call(Et,Zt,1),nc.call(f,Zt,1);return f}function A5(f,x){for(var K=f?x.length:0,we=K-1;K--;){var Ee=x[K];if(K==we||Ee!==it){var it=Ee;Ys(Ee)?nc.call(f,Ee,1):E5(f,Ee)}}return f}function r4(f,x){return f+_o(vi()*(x-f+1))}function k6(f,x){var K="";if(!f||x<1||x>Ce)return K;do{x%2&&(K+=f),(x=_o(x/2))&&(f+=f)}while(x);return K}function h1(f,x){return Bl(nf(f,x,ji),f+"")}function N5(f){return Mt(M3(f))}function i4(f,x){var K=M3(f);return ko(K,b2(x,0,K.length))}function hc(f,x,K,we){if(!B1(f))return f;for(var Ee=-1,it=(x=l3(x,f)).length,Lt=it-1,Et=f;null!=Et&&++Ee<it;){var Zt=is(x[Ee]),xn=K;if("__proto__"===Zt||"constructor"===Zt||"prototype"===Zt)return f;if(Ee!=Lt){var zn=Et[Zt];(xn=we?we(zn,Zt,Et):s)===s&&(xn=B1(zn)?zn:Ys(x[Ee+1])?[]:{})}mt(Et,Zt,xn),Et=Et[Zt]}return f}var Xr=pr?function(f,x){return pr.set(f,x),f}:ji,V6=K3?function(f,x){return K3(f,"toString",{configurable:!0,enumerable:!1,value:h7(x),writable:!0})}:ji;function t9(f){return ko(M3(f))}function ya(f,x,K){var we=-1,Ee=f.length;x<0&&(x=-x>Ee?0:Ee+x),(K=K>Ee?Ee:K)<0&&(K+=Ee),Ee=x>K?0:K-x>>>0,x>>>=0;for(var it=fn(Ee);++we<Ee;)it[we]=f[we+x];return it}function Ol(f,x){var K;return Xn(f,function(we,Ee,it){return!(K=x(we,Ee,it))}),!!K}function $s(f,x,K){var we=0,Ee=null==f?we:f.length;if("number"==typeof x&&x==x&&Ee<=2147483647){for(;we<Ee;){var it=we+Ee>>>1,Lt=f[it];null!==Lt&&!Ba(Lt)&&(K?Lt<=x:Lt<x)?we=it+1:Ee=it}return Ee}return So(f,x,ji,K)}function So(f,x,K,we){var Ee=0,it=null==f?0:f.length;if(0===it)return 0;for(var Lt=(x=K(x))!=x,Et=null===x,Zt=Ba(x),xn=x===s;Ee<it;){var zn=_o((Ee+it)/2),En=K(f[zn]),Kn=En!==s,v2=null===En,V2=En==En,g1=Ba(En);if(Lt)var N2=we||V2;else N2=xn?V2&&(we||Kn):Et?V2&&Kn&&(we||!v2):Zt?V2&&Kn&&!v2&&(we||!g1):!v2&&!g1&&(we?En<=x:En<x);N2?Ee=zn+1:it=zn}return Cr(it,4294967294)}function c3(f,x){for(var K=-1,we=f.length,Ee=0,it=[];++K<we;){var Lt=f[K],Et=x?x(Lt):Lt;if(!K||!Ra(Et,Zt)){var Zt=Et;it[Ee++]=0===Lt?0:Lt}}return it}function A6(f){return"number"==typeof f?f:Ba(f)?Q:+f}function Ri(f){if("string"==typeof f)return f;if(r1(f))return Y1(f,Ri)+"";if(Ba(f))return _s?_s.call(f):"";var x=f+"";return"0"==x&&1/f==-oe?"-0":x}function _a(f,x,K){var we=-1,Ee=j3,it=f.length,Lt=!0,Et=[],Zt=Et;if(K)Lt=!1,Ee=ln;else if(it>=200){var xn=x?null:W5(f);if(xn)return Y2(xn);Lt=!1,Ee=mo,Zt=new ye}else Zt=x?[]:Et;e:for(;++we<it;){var zn=f[we],En=x?x(zn):zn;if(zn=K||0!==zn?zn:0,Lt&&En==En){for(var Kn=Zt.length;Kn--;)if(Zt[Kn]===En)continue e;x&&Zt.push(En),Et.push(zn)}else Ee(Zt,En,K)||(Zt!==Et&&Zt.push(En),Et.push(zn))}return Et}function E5(f,x){return null==(f=R6(f,x=l3(x,f)))||delete f[is(Fa(x))]}function P5(f,x,K,we){return hc(f,x,K(Mr(f,x)),we)}function l2(f,x,K,we){for(var Ee=f.length,it=we?Ee:-1;(we?it--:++it<Ee)&&x(f[it],it,f););return K?ya(f,we?0:it,we?it+1:Ee):ya(f,we?it+1:0,we?Ee:it)}function n9(f,x){var K=f;return K instanceof Gn&&(K=K.value()),Is(x,function(we,Ee){return Ee.func.apply(Ee.thisArg,$2([we],Ee.args))},K)}function I5(f,x,K){var we=f.length;if(we<2)return we?_a(f[0]):[];for(var Ee=-1,it=fn(we);++Ee<we;)for(var Lt=f[Ee],Et=-1;++Et<we;)Et!=Ee&&(it[Ee]=Mn(it[Ee]||Lt,f[Et],x,K));return _a(l1(it,1),x,K)}function r9(f,x,K){for(var we=-1,Ee=f.length,it=x.length,Lt={};++we<Ee;)K(Lt,f[we],we<it?x[we]:s);return Lt}function O5(f){return Pr(f)?f:[]}function F5(f){return"function"==typeof f?f:ji}function l3(f,x){return r1(f)?f:xc(f,x)?[f]:U6(P1(f))}var iC=h1;function Oa(f,x,K){var we=f.length;return K=K===s?we:K,!x&&K>=we?f:ya(f,x,K)}var i9=M6||function(f){return tr.clearTimeout(f)};function a9(f,x){if(x)return f.slice();var K=f.length,we=C6?C6(K):new f.constructor(K);return f.copy(we),we}function Lr(f){var x=new f.constructor(f.byteLength);return new Rs(x).set(new Rs(f)),x}function Ca(f,x){var K=x?Lr(f.buffer):f.buffer;return new f.constructor(K,f.byteOffset,f.length)}function zo(f,x){if(f!==x){var K=f!==s,we=null===f,Ee=f==f,it=Ba(f),Lt=x!==s,Et=null===x,Zt=x==x,xn=Ba(x);if(!Et&&!xn&&!it&&f>x||it&&Lt&&Zt&&!Et&&!xn||we&&Lt&&Zt||!K&&Zt||!Ee)return 1;if(!we&&!it&&!xn&&f<x||xn&&K&&Ee&&!we&&!it||Et&&K&&Ee||!Lt&&Ee||!Zt)return-1}return 0}function mc(f,x,K,we){for(var Ee=-1,it=f.length,Lt=K.length,Et=-1,Zt=x.length,xn=M1(it-Lt,0),zn=fn(Zt+xn),En=!we;++Et<Zt;)zn[Et]=x[Et];for(;++Ee<Lt;)(En||Ee<it)&&(zn[K[Ee]]=f[Ee]);for(;xn--;)zn[Et++]=f[Ee++];return zn}function a4(f,x,K,we){for(var Ee=-1,it=f.length,Lt=-1,Et=K.length,Zt=-1,xn=x.length,zn=M1(it-Et,0),En=fn(zn+xn),Kn=!we;++Ee<zn;)En[Ee]=f[Ee];for(var v2=Ee;++Zt<xn;)En[v2+Zt]=x[Zt];for(;++Lt<Et;)(Kn||Ee<it)&&(En[v2+K[Lt]]=f[Ee++]);return En}function na(f,x){var K=-1,we=f.length;for(x||(x=fn(we));++K<we;)x[K]=f[K];return x}function Ws(f,x,K,we){var Ee=!K;K||(K={});for(var it=-1,Lt=x.length;++it<Lt;){var Et=x[it],Zt=we?we(K[Et],f[Et],Et,K,f):s;Zt===s&&(Zt=f[Et]),Ee?$n(K,Et,Zt):mt(K,Et,Zt)}return K}function bi(f,x){return function(K,we){var Ee=r1(K)?W4:on,it=x?x():{};return Ee(K,f,P2(we,2),it)}}function Ho(f){return h1(function(x,K){var we=-1,Ee=K.length,it=Ee>1?K[Ee-1]:s,Lt=Ee>2?K[2]:s;for(it=f.length>3&&"function"==typeof it?(Ee--,it):s,Lt&&xi(K[0],K[1],Lt)&&(it=Ee<3?s:it,Ee=1),x=T2(x);++we<Ee;){var Et=K[we];Et&&f(x,Et,we,it)}return x})}function u3(f,x){return function(K,we){if(null==K)return K;if(!Mi(K))return f(K,we);for(var Ee=K.length,it=x?Ee:-1,Lt=T2(K);(x?it--:++it<Ee)&&!1!==we(Lt[it],it,Lt););return K}}function c9(f){return function(x,K,we){for(var Ee=-1,it=T2(x),Lt=we(x),Et=Lt.length;Et--;){var Zt=Lt[f?Et:++Ee];if(!1===K(it[Zt],Zt,it))break}return x}}function U5(f){return function(x){var K=fr(x=P1(x))?Yr(x):s,we=K?K[0]:x.charAt(0),Ee=K?Oa(K,1).join(""):x.slice(1);return we[f]()+Ee}}function s4(f){return function(x){return Is(p8(f8(x).replace(G2,"")),f,"")}}function gc(f){return function(){var x=arguments;switch(x.length){case 0:return new f;case 1:return new f(x[0]);case 2:return new f(x[0],x[1]);case 3:return new f(x[0],x[1],x[2]);case 4:return new f(x[0],x[1],x[2],x[3]);case 5:return new f(x[0],x[1],x[2],x[3],x[4]);case 6:return new f(x[0],x[1],x[2],x[3],x[4],x[5]);case 7:return new f(x[0],x[1],x[2],x[3],x[4],x[5],x[6])}var K=Zr(f.prototype),we=f.apply(K,x);return B1(we)?we:K}}function j5(f){return function(x,K,we){var Ee=T2(x);if(!Mi(x)){var it=P2(K,3);x=Qr(x),K=function(Et){return it(Ee[Et],Et,Ee)}}var Lt=f(x,K,we);return Lt>-1?Ee[it?x[Lt]:Lt]:s}}function G5(f){return Do(function(x){var K=x.length,we=K,Ee=Nr.prototype.thru;for(f&&x.reverse();we--;){var it=x[we];if("function"!=typeof it)throw new Fi(l);if(Ee&&!Lt&&"wrapper"==h3(it))var Lt=new Nr([],!0)}for(we=Lt?we:K;++we<K;){var Et=h3(it=x[we]),Zt="wrapper"==Et?I6(it):s;Lt=Zt&&Rl(Zt[0])&&424==Zt[1]&&!Zt[4].length&&1==Zt[9]?Lt[h3(Zt[0])].apply(Lt,Zt[3]):1==it.length&&Rl(it)?Lt[Et]():Lt.thru(it)}return function(){var xn=arguments,zn=xn[0];if(Lt&&1==xn.length&&r1(zn))return Lt.plant(zn).value();for(var En=0,Kn=K?x[En].apply(this,xn):zn;++En<K;)Kn=x[En].call(this,Kn);return Kn}})}function o4(f,x,K,we,Ee,it,Lt,Et,Zt,xn){var zn=x&P,En=1&x,Kn=2&x,v2=24&x,V2=512&x,g1=Kn?s:gc(f);return function N2(){for(var L1=arguments.length,D1=fn(L1),aa=L1;aa--;)D1[aa]=arguments[aa];if(v2)var Si=p3(N2),sa=_6(D1,Si);if(we&&(D1=mc(D1,we,Ee,v2)),it&&(D1=a4(D1,it,Lt,v2)),L1-=sa,v2&&L1<xn){var vr=Qn(D1,Si);return c4(f,x,o4,N2.placeholder,K,D1,vr,Et,Zt,xn-L1)}var jr=En?K:this,Ua=Kn?jr[f]:f;return L1=D1.length,Et?D1=g9(D1,Et):V2&&L1>1&&D1.reverse(),zn&&Zt<L1&&(D1.length=Zt),this&&this!==tr&&this instanceof N2&&(Ua=g1||gc(Ua)),Ua.apply(jr,D1)}}function vc(f,x){return function(K,we){return function Mo(f,x,K,we){return lr(f,function(Ee,it,Lt){x(we,K(Ee),it,Lt)}),we}(K,f,x(we),{})}}function f3(f,x){return function(K,we){var Ee;if(K===s&&we===s)return x;if(K!==s&&(Ee=K),we!==s){if(Ee===s)return we;"string"==typeof K||"string"==typeof we?(K=Ri(K),we=Ri(we)):(K=A6(K),we=A6(we)),Ee=f(K,we)}return Ee}}function Lo(f){return Do(function(x){return x=Y1(x,L2(P2())),h1(function(K){var we=this;return f(x,function(Ee){return di(Ee,we,K)})})})}function yc(f,x){var K=(x=x===s?" ":Ri(x)).length;if(K<2)return K?k6(x,f):x;var we=k6(x,vs(f/nr(x)));return fr(x)?Oa(Yr(we),0,f).join(""):we.slice(0,f)}function $5(f){return function(x,K,we){return we&&"number"!=typeof we&&xi(x,K,we)&&(K=we=s),x=Ir(x),K===s?(K=x,x=0):K=Ir(K),function o3(f,x,K,we){for(var Ee=-1,it=M1(vs((x-f)/(K||1)),0),Lt=fn(it);it--;)Lt[we?it:++Ee]=f,f+=K;return Lt}(x,K,we=we===s?x<K?1:-1:Ir(we),f)}}function Cc(f){return function(x,K){return"string"==typeof x&&"string"==typeof K||(x=wi(x),K=wi(K)),f(x,K)}}function c4(f,x,K,we,Ee,it,Lt,Et,Zt,xn){var zn=8&x;x|=zn?D:64,4&(x&=~(zn?64:D))||(x&=-4);var g1=[f,x,Ee,zn?it:s,zn?Lt:s,zn?s:it,zn?s:Lt,Et,Zt,xn],N2=K.apply(s,g1);return Rl(f)&&Bi(N2,g1),N2.placeholder=we,Ul(N2,f,x)}function l4(f){var x=dr[f];return function(K,we){if(K=wi(K),(we=null==we?0:Cr(u1(we),292))&&va(K)){var Ee=(P1(K)+"e").split("e");return+((Ee=(P1(x(Ee[0]+"e"+(+Ee[1]+we)))+"e").split("e"))[0]+"e"+(+Ee[1]-we))}return x(K)}}var W5=zr&&1/Y2(new zr([,-0]))[1]==oe?function(f){return new zr(f)}:b4;function q5(f){return function(x){var K=Kr(x);return K==xe?qr(x):K==Ke?function sr(Gt){var hn=-1,fn=Array(Gt.size);return Gt.forEach(function(t2){fn[++hn]=[t2,t2]}),fn}(x):function po(Gt,hn){return Y1(hn,function(fn){return[fn,Gt[fn]]})}(x,f(x))}}function qs(f,x,K,we,Ee,it,Lt,Et){var Zt=2&x;if(!Zt&&"function"!=typeof f)throw new Fi(l);var xn=we?we.length:0;if(xn||(x&=-97,we=Ee=s),Lt=Lt===s?Lt:M1(u1(Lt),0),Et=Et===s?Et:u1(Et),xn-=Ee?Ee.length:0,64&x){var zn=we,En=Ee;we=Ee=s}var Kn=Zt?s:I6(f),v2=[f,x,K,we,Ee,zn,En,it,Lt,Et];if(Kn&&function F6(f,x){var K=f[1],we=x[1],Ee=K|we;if(!(Ee<131)&&!(we==P&&8==K||we==P&&256==K&&f[7].length<=x[8]||384==we&&x[7].length<=x[8]&&8==K))return f;1&we&&(f[2]=x[2],Ee|=1&K?0:4);var Et=x[3];if(Et){var Zt=f[3];f[3]=Zt?mc(Zt,Et,x[4]):Et,f[4]=Zt?Qn(f[3],u):x[4]}(Et=x[5])&&(f[5]=(Zt=f[5])?a4(Zt,Et,x[6]):Et,f[6]=Zt?Qn(f[5],u):x[6]),(Et=x[7])&&(f[7]=Et),we&P&&(f[8]=null==f[8]?x[8]:Cr(f[8],x[8])),null==f[9]&&(f[9]=x[9]),f[0]=x[0],f[1]=Ee}(v2,Kn),f=v2[0],x=v2[1],K=v2[2],we=v2[3],Ee=v2[4],!(Et=v2[9]=v2[9]===s?Zt?0:f.length:M1(v2[9]-xn,0))&&24&x&&(x&=-25),x&&1!=x)V2=8==x||16==x?function l9(f,x,K){var we=gc(f);return function Ee(){for(var it=arguments.length,Lt=fn(it),Et=it,Zt=p3(Ee);Et--;)Lt[Et]=arguments[Et];var xn=it<3&&Lt[0]!==Zt&&Lt[it-1]!==Zt?[]:Qn(Lt,Zt);return(it-=xn.length)<K?c4(f,x,o4,Ee.placeholder,s,Lt,xn,s,s,K-it):di(this&&this!==tr&&this instanceof Ee?we:f,this,Lt)}}(f,x,Et):x!=D&&33!=x||Ee.length?o4.apply(s,v2):function _c(f,x,K,we){var Ee=1&x,it=gc(f);return function Lt(){for(var Et=-1,Zt=arguments.length,xn=-1,zn=we.length,En=fn(zn+Zt),Kn=this&&this!==tr&&this instanceof Lt?it:f;++xn<zn;)En[xn]=we[xn];for(;Zt--;)En[xn++]=arguments[++Et];return di(Kn,Ee?K:this,En)}}(f,x,K,we);else var V2=function B5(f,x,K){var we=1&x,Ee=gc(f);return function it(){return(this&&this!==tr&&this instanceof it?Ee:f).apply(we?K:this,arguments)}}(f,x,K);return Ul((Kn?Xr:Bi)(V2,v2),f,x)}function d3(f,x,K,we){return f===s||Ra(f,gi[K])&&!X2.call(we,K)?x:f}function u4(f,x,K,we,Ee,it){return B1(f)&&B1(x)&&(it.set(x,f),dc(f,x,s,u4,it),it.delete(x)),f}function u9(f){return x3(f)?s:f}function f9(f,x,K,we,Ee,it){var Lt=1&K,Et=f.length,Zt=x.length;if(Et!=Zt&&!(Lt&&Zt>Et))return!1;var xn=it.get(f),zn=it.get(x);if(xn&&zn)return xn==x&&zn==f;var En=-1,Kn=!0,v2=2&K?new ye:s;for(it.set(f,x),it.set(x,f);++En<Et;){var V2=f[En],g1=x[En];if(we)var N2=Lt?we(g1,V2,En,x,f,it):we(V2,g1,En,f,x,it);if(N2!==s){if(N2)continue;Kn=!1;break}if(v2){if(!Os(x,function(L1,D1){if(!mo(v2,D1)&&(V2===L1||Ee(V2,L1,K,we,it)))return v2.push(D1)})){Kn=!1;break}}else if(V2!==g1&&!Ee(V2,g1,K,we,it)){Kn=!1;break}}return it.delete(f),it.delete(x),Kn}function Do(f){return Bl(nf(f,s,$6),f+"")}function E6(f){return Cs(f,Qr,O6)}function P6(f){return Cs(f,ia,X5)}var I6=pr?function(f){return pr.get(f)}:b4;function h3(f){for(var x=f.name+"",K=js[x],we=X2.call(js,x)?K.length:0;we--;){var Ee=K[we],it=Ee.func;if(null==it||it==f)return Ee.name}return x}function p3(f){return(X2.call(Ze,"placeholder")?Ze:f).placeholder}function P2(){var f=Ze.iteratee||g8;return f=f===g8?L6:f,arguments.length?f(arguments[0],arguments[1]):f}function bc(f,x){var K=f.__data__;return function K5(f){var x=typeof f;return"string"==x||"number"==x||"symbol"==x||"boolean"==x?"__proto__"!==f:null===f}(x)?K["string"==typeof x?"string":"hash"]:K.map}function Z5(f){for(var x=Qr(f),K=x.length;K--;){var we=x[K],Ee=f[we];x[K]=[we,Ee,J5(Ee)]}return x}function To(f,x){var K=function E1(Gt,hn){return null==Gt?s:Gt[hn]}(f,x);return uc(K)?K:s}var O6=ic?function(f){return null==f?[]:(f=T2(f),pi(ic(f),function(x){return x6.call(f,x)}))}:p0,X5=ic?function(f){for(var x=[];f;)$2(x,O6(f)),f=tc(f);return x}:p0,Kr=R1;function Fl(f,x,K){for(var we=-1,Ee=(x=l3(x,f)).length,it=!1;++we<Ee;){var Lt=is(x[we]);if(!(it=null!=f&&K(f,Lt)))break;f=f[Lt]}return it||++we!=Ee?it:!!(Ee=null==f?0:f.length)&&b3(Ee)&&Ys(Lt,Ee)&&(r1(f)||_3(f))}function h9(f){return"function"!=typeof f.constructor||Mc(f)?{}:Zr(tc(f))}function dC(f){return r1(f)||_3(f)||!!(Z3&&f&&f[Z3])}function Ys(f,x){var K=typeof f;return!!(x=x??Ce)&&("number"==K||"symbol"!=K&&sn.test(f))&&f>-1&&f%1==0&&f<x}function xi(f,x,K){if(!B1(K))return!1;var we=typeof x;return!!("number"==we?Mi(K)&&Ys(x,K.length):"string"==we&&x in K)&&Ra(K[x],f)}function xc(f,x){if(r1(f))return!1;var K=typeof f;return!("number"!=K&&"symbol"!=K&&"boolean"!=K&&null!=f&&!Ba(f))||Nt.test(f)||!qt.test(f)||null!=x&&f in T2(x)}function Rl(f){var x=h3(f),K=Ze[x];if("function"!=typeof K||!(x in Gn.prototype))return!1;if(f===K)return!0;var we=I6(K);return!!we&&f===we[0]}(Q3&&Kr(new Q3(new ArrayBuffer(1)))!=Oe||yi&&Kr(new yi)!=xe||i3&&Kr(i3.resolve())!=Re||zr&&Kr(new zr)!=Ke||Bs&&Kr(new Bs)!=Se)&&(Kr=function(f){var x=R1(f),K=x==Pe?f.constructor:s,we=K?g3(K):"";if(we)switch(we){case J3:return Oe;case _i:return xe;case w6:return Re;case Ll:return Ke;case Co:return Se}return x});var ra=hr?Ks:w8;function Mc(f){var x=f&&f.constructor;return f===("function"==typeof x&&x.prototype||gi)}function J5(f){return f==f&&!B1(f)}function ef(f,x){return function(K){return null!=K&&K[f]===x&&(x!==s||f in T2(K))}}function nf(f,x,K){return x=M1(x===s?f.length-1:x,0),function(){for(var we=arguments,Ee=-1,it=M1(we.length-x,0),Lt=fn(it);++Ee<it;)Lt[Ee]=we[x+Ee];Ee=-1;for(var Et=fn(x+1);++Ee<x;)Et[Ee]=we[Ee];return Et[x]=K(Lt),di(f,this,Et)}}function R6(f,x){return x.length<2?f:Mr(f,ya(x,0,-1))}function g9(f,x){for(var K=f.length,we=Cr(x.length,K),Ee=na(f);we--;){var it=x[we];f[we]=Ys(it,K)?Ee[it]:s}return f}function B6(f,x){if(("constructor"!==x||"function"!=typeof f[x])&&"__proto__"!=x)return f[x]}var Bi=ai(Xr),m3=rc||function(f,x){return tr.setTimeout(f,x)},Bl=ai(V6);function Ul(f,x,K){var we=x+"";return Bl(f,function fC(f,x){var K=x.length;if(!K)return f;var we=K-1;return x[we]=(K>1?"& ":"")+x[we],x=x.join(K>2?", ":" "),f.replace(st,"{\n/* [wrapped with "+x+"] */\n")}(we,function rf(f,x){return hi(se,function(K){var we="_."+K[0];x&K[1]&&!j3(f,we)&&f.push(we)}),f.sort()}(function cC(f){var x=f.match(et);return x?x[1].split(ut):[]}(we),K)))}function ai(f){var x=0,K=0;return function(){var we=sc(),Ee=16-(we-K);if(K=we,Ee>0){if(++x>=800)return arguments[0]}else x=0;return f.apply(s,arguments)}}function ko(f,x){var K=-1,we=f.length,Ee=we-1;for(x=x===s?we:x;++K<x;){var it=r4(K,Ee),Lt=f[it];f[it]=f[K],f[K]=Lt}return f.length=x,f}var U6=function tf(f){var x=Hc(f,function(we){return 500===K.size&&K.clear(),we}),K=x.cache;return x}(function(f){var x=[];return 46===f.charCodeAt(0)&&x.push(""),f.replace(ge,function(K,we,Ee,it){x.push(Ee?it.replace(Bt,"$1"):we||K)}),x});function is(f){if("string"==typeof f||Ba(f))return f;var x=f+"";return"0"==x&&1/f==-oe?"-0":x}function g3(f){if(null!=f){try{return J4.call(f)}catch{}try{return f+""}catch{}}return""}function af(f){if(f instanceof Gn)return f.clone();var x=new Nr(f.__wrapped__,f.__chain__);return x.__actions__=na(f.__actions__),x.__index__=f.__index__,x.__values__=f.__values__,x}var y9=h1(function(f,x){return Pr(f)?Mn(f,l1(x,1,Pr,!0)):[]}),_9=h1(function(f,x){var K=Fa(x);return Pr(K)&&(K=s),Pr(f)?Mn(f,l1(x,1,Pr,!0),P2(K,2)):[]}),j6=h1(function(f,x){var K=Fa(x);return Pr(K)&&(K=s),Pr(f)?Mn(f,l1(x,1,Pr,!0),s,K):[]});function jl(f,x,K){var we=null==f?0:f.length;if(!we)return-1;var Ee=null==K?0:u1(K);return Ee<0&&(Ee=M1(we+Ee,0)),mi(f,P2(x,3),Ee)}function Gl(f,x,K){var we=null==f?0:f.length;if(!we)return-1;var Ee=we-1;return K!==s&&(Ee=u1(K),Ee=K<0?M1(we+Ee,0):Cr(Ee,we-1)),mi(f,P2(x,3),Ee,!0)}function $6(f){return null!=f&&f.length?l1(f,1):[]}function uf(f){return f&&f.length?f[0]:s}var w9=h1(function(f){var x=Y1(f,O5);return x.length&&x[0]===f[0]?Gs(x):[]}),S9=h1(function(f){var x=Fa(f),K=Y1(f,O5);return x===Fa(K)?x=s:K.pop(),K.length&&K[0]===f[0]?Gs(K,P2(x,2)):[]}),z9=h1(function(f){var x=Fa(f),K=Y1(f,O5);return(x="function"==typeof x?x:s)&&K.pop(),K.length&&K[0]===f[0]?Gs(K,s,x):[]});function Fa(f){var x=null==f?0:f.length;return x?f[x-1]:s}var df=h1($l);function $l(f,x){return f&&f.length&&x&&x.length?Il(f,x):f}var hf=Do(function(f,x){var K=null==f?0:f.length,we=Zn(f,x);return A5(f,Y1(x,function(Ee){return Ys(Ee,K)?+Ee:Ee}).sort(zo)),we});function Zs(f){return null==f?f:oc.call(f)}var X6=h1(function(f){return _a(l1(f,1,Pr,!0))}),K6=h1(function(f){var x=Fa(f);return Pr(x)&&(x=s),_a(l1(f,1,Pr,!0),P2(x,2))}),Q6=h1(function(f){var x=Fa(f);return x="function"==typeof x?x:s,_a(l1(f,1,Pr,!0),s,x)});function J6(f){if(!f||!f.length)return[];var x=0;return f=pi(f,function(K){if(Pr(K))return x=M1(K.length,x),!0}),ma(x,function(K){return Y1(f,k1(K))})}function Mf(f,x){if(!f||!f.length)return[];var K=J6(f);return null==x?K:Y1(K,function(we){return di(x,s,we)})}var A9=h1(function(f,x){return Pr(f)?Mn(f,x):[]}),wf=h1(function(f){return I5(pi(f,Pr))}),Sf=h1(function(f){var x=Fa(f);return Pr(x)&&(x=s),I5(pi(f,Pr),P2(x,2))}),Zl=h1(function(f){var x=Fa(f);return x="function"==typeof x?x:s,I5(pi(f,Pr),s,x)}),e8=h1(J6),E9=h1(function(f){var x=f.length,K=x>1?f[x-1]:s;return K="function"==typeof K?(f.pop(),K):s,Mf(f,K)});function P9(f){var x=Ze(f);return x.__chain__=!0,x}function d4(f,x){return x(f)}var O9=Do(function(f){var x=f.length,K=x?f[0]:0,we=this.__wrapped__,Ee=function(it){return Zn(it,f)};return!(x>1||this.__actions__.length)&&we instanceof Gn&&Ys(K)?((we=we.slice(K,+K+(x?1:0))).__actions__.push({func:d4,args:[Ee],thisArg:s}),new Nr(we,this.__chain__).thru(function(it){return x&&!it.length&&it.push(s),it})):this.thru(Ee)}),F9=bi(function(f,x,K){X2.call(f,K)?++f[K]:$n(f,K,1)}),U9=j5(jl),j9=j5(Gl);function Tf(f,x){return(r1(f)?hi:Xn)(f,P2(x,3))}function kf(f,x){return(r1(f)?ps:E2)(f,P2(x,3))}var $9=bi(function(f,x,K){X2.call(f,K)?f[K].push(x):$n(f,K,[x])}),q9=h1(function(f,x,K){var we=-1,Ee="function"==typeof x,it=Mi(f)?fn(f.length):[];return Xn(f,function(Lt){it[++we]=Ee?di(x,Lt,K):Ci(Lt,x,K)}),it}),Vf=bi(function(f,x,K){$n(f,K,x)});function Kl(f,x){return(r1(f)?Y1:D5)(f,P2(x,3))}var Z9=bi(function(f,x,K){f[K?0:1].push(x)},function(){return[[],[]]}),mC=h1(function(f,x){if(null==f)return[];var K=x.length;return K>1&&xi(f,x[0],x[1])?x=[]:K>2&&xi(x[0],x[1],x[2])&&(x=[x[0]]),T5(f,l1(x,1),[])}),n8=H5||function(){return tr.Date.now()};function Jl(f,x,K){return x=K?s:x,qs(f,P,s,s,s,s,x=f&&null==x?f.length:x)}function K9(f,x){var K;if("function"!=typeof x)throw new Fi(l);return f=u1(f),function(){return--f>0&&(K=x.apply(this,arguments)),f<=1&&(x=s),K}}var Pf=h1(function(f,x,K){var we=1;if(K.length){var Ee=Qn(K,p3(Pf));we|=D}return qs(f,we,x,K,Ee)}),i8=h1(function(f,x,K){var we=3;if(K.length){var Ee=Qn(K,p3(i8));we|=D}return qs(x,we,f,K,Ee)});function Ff(f,x,K){var we,Ee,it,Lt,Et,Zt,xn=0,zn=!1,En=!1,Kn=!0;if("function"!=typeof f)throw new Fi(l);function v2(vr){var jr=we,Ua=Ee;return we=Ee=s,xn=vr,Lt=f.apply(Ua,jr)}function V2(vr){return xn=vr,Et=m3(L1,x),zn?v2(vr):Lt}function N2(vr){var jr=vr-Zt;return Zt===s||jr>=x||jr<0||En&&vr-xn>=it}function L1(){var vr=n8();if(N2(vr))return D1(vr);Et=m3(L1,function g1(vr){var Vc=x-(vr-Zt);return En?Cr(Vc,it-(vr-xn)):Vc}(vr))}function D1(vr){return Et=s,Kn&&we?v2(vr):(we=Ee=s,Lt)}function sa(){var vr=n8(),jr=N2(vr);if(we=arguments,Ee=this,Zt=vr,jr){if(Et===s)return V2(Zt);if(En)return i9(Et),Et=m3(L1,x),v2(Zt)}return Et===s&&(Et=m3(L1,x)),Lt}return x=wi(x)||0,B1(K)&&(zn=!!K.leading,it=(En="maxWait"in K)?M1(wi(K.maxWait)||0,x):it,Kn="trailing"in K?!!K.trailing:Kn),sa.cancel=function aa(){Et!==s&&i9(Et),xn=0,we=Zt=Ee=Et=s},sa.flush=function Si(){return Et===s?Lt:D1(n8())},sa}var Q9=h1(function(f,x){return B2(f,1,x)}),Rf=h1(function(f,x,K){return B2(f,wi(x)||0,K)});function Hc(f,x){if("function"!=typeof f||null!=x&&"function"!=typeof x)throw new Fi(l);var K=function(){var we=arguments,Ee=x?x.apply(this,we):we[0],it=K.cache;if(it.has(Ee))return it.get(Ee);var Lt=f.apply(this,we);return K.cache=it.set(Ee,Lt)||it,Lt};return K.cache=new(Hc.Cache||y),K}function h4(f){if("function"!=typeof f)throw new Fi(l);return function(){var x=arguments;switch(x.length){case 0:return!f.call(this);case 1:return!f.call(this,x[0]);case 2:return!f.call(this,x[0],x[1]);case 3:return!f.call(this,x[0],x[1],x[2])}return!f.apply(this,x)}}Hc.Cache=y;var J1=iC(function(f,x){var K=(x=1==x.length&&r1(x[0])?Y1(x[0],L2(P2())):Y1(l1(x,1),L2(P2()))).length;return h1(function(we){for(var Ee=-1,it=Cr(we.length,K);++Ee<it;)we[Ee]=x[Ee].call(this,we[Ee]);return di(f,this,we)})}),t0=h1(function(f,x){var K=Qn(x,p3(t0));return qs(f,D,s,x,K)}),Bf=h1(function(f,x){var K=Qn(x,p3(Bf));return qs(f,64,s,x,K)}),Lc=Do(function(f,x){return qs(f,256,s,s,s,x)});function Ra(f,x){return f===x||f!=f&&x!=x}var $f=Cc(mr),yC=Cc(function(f,x){return f>=x}),_3=wo(function(){return arguments}())?wo:function(f){return gr(f)&&X2.call(f,"callee")&&!x6.call(f,"callee")},r1=fn.isArray,Wf=h6?L2(h6):function cc(f){return gr(f)&&R1(f)==qe};function Mi(f){return null!=f&&b3(f.length)&&!Ks(f)}function Pr(f){return gr(f)&&Mi(f)}var Vo=zl||w8,s8=Ko?L2(Ko):function lc(f){return gr(f)&&R1(f)==B};function Tc(f){if(!gr(f))return!1;var x=R1(f);return x==ue||"[object DOMException]"==x||"string"==typeof f.message&&"string"==typeof f.name&&!x3(f)}function Ks(f){if(!B1(f))return!1;var x=R1(f);return x==fe||x==he||"[object AsyncFunction]"==x||"[object Proxy]"==x}function a0(f){return"number"==typeof f&&f==u1(f)}function b3(f){return"number"==typeof f&&f>-1&&f%1==0&&f<=Ce}function B1(f){var x=typeof f;return null!=f&&("object"==x||"function"==x)}function gr(f){return null!=f&&"object"==typeof f}var s0=p6?L2(p6):function Vl(f){return gr(f)&&Kr(f)==xe};function Xf(f){return"number"==typeof f||gr(f)&&R1(f)==be}function x3(f){if(!gr(f)||R1(f)!=Pe)return!1;var x=tc(f);if(null===x)return!0;var K=X2.call(x,"constructor")&&x.constructor;return"function"==typeof K&&K instanceof K&&J4.call(K)==n3}var o8=hs?L2(hs):function H6(f){return gr(f)&&R1(f)==tt},Qf=Qo?L2(Qo):function Al(f){return gr(f)&&Kr(f)==Ke};function kc(f){return"string"==typeof f||!r1(f)&&gr(f)&&R1(f)==$e}function Ba(f){return"symbol"==typeof f||gr(f)&&R1(f)==Me}var m4=Ii?L2(Ii):function rC(f){return gr(f)&&b3(f.length)&&!!t1[R1(f)]},ir=Cc(Ia),up=Cc(function(f,x){return f<=x});function v4(f){if(!f)return[];if(Mi(f))return kc(f)?Yr(f):na(f);if(X3&&f[X3])return function vo(Gt){for(var hn,fn=[];!(hn=Gt.next()).done;)fn.push(hn.value);return fn}(f[X3]());var x=Kr(f);return(x==xe?qr:x==Ke?Y2:M3)(f)}function Ir(f){return f?(f=wi(f))===oe||f===-oe?17976931348623157e292*(f<0?-1:1):f==f?f:0:0===f?f:0}function u1(f){var x=Ir(f),K=x%1;return x==x?K?x-K:x:0}function Jf(f){return f?b2(u1(f),0,le):0}function wi(f){if("number"==typeof f)return f;if(Ba(f))return Q;if(B1(f)){var x="function"==typeof f.valueOf?f.valueOf():f;f=B1(x)?x+"":x}if("string"!=typeof f)return 0===f?f:+f;f=Sl(f);var K=dn.test(f);return K||zt.test(f)?U3(f.slice(2),K?2:8):Wt.test(f)?Q:+f}function e7(f){return Ws(f,ia(f))}function P1(f){return null==f?"":Ri(f)}var fp=Ho(function(f,x){if(Mc(x)||Mi(x))Ws(x,Qr(x),f);else for(var K in x)X2.call(x,K)&&mt(f,K,x[K])}),o0=Ho(function(f,x){Ws(x,ia(x),f)}),Qs=Ho(function(f,x,K,we){Ws(x,ia(x),f,we)}),dp=Ho(function(f,x,K,we){Ws(x,Qr(x),f,we)}),hp=Do(Zn),mp=h1(function(f,x){f=T2(f);var K=-1,we=x.length,Ee=we>2?x[2]:s;for(Ee&&xi(x[0],x[1],Ee)&&(we=1);++K<we;)for(var it=x[K],Lt=ia(it),Et=-1,Zt=Lt.length;++Et<Zt;){var xn=Lt[Et],zn=f[xn];(zn===s||Ra(zn,gi[xn])&&!X2.call(f,xn))&&(f[xn]=it[xn])}return f}),t7=h1(function(f){return f.push(s,u4),di(a7,s,f)});function c0(f,x,K){var we=null==f?s:Mr(f,x);return we===s?K:we}function l0(f,x){return null!=f&&Fl(f,x,rs)}var n7=vc(function(f,x,K){null!=x&&"function"!=typeof x.toString&&(x=ms.call(x)),f[x]=K},h7(ji)),Cp=vc(function(f,x,K){null!=x&&"function"!=typeof x.toString&&(x=ms.call(x)),X2.call(f,x)?f[x].push(K):f[x]=[K]},P2),r7=h1(Ci);function Qr(f){return Mi(f)?pt(f):Nl(f)}function ia(f){return Mi(f)?pt(f,!0):function e9(f){if(!B1(f))return function p9(f){var x=[];if(null!=f)for(var K in T2(f))x.push(K);return x}(f);var x=Mc(f),K=[];for(var we in f)"constructor"==we&&(x||!X2.call(f,we))||K.push(we);return K}(f)}var i7=Ho(function(f,x,K){dc(f,x,K)}),a7=Ho(function(f,x,K,we){dc(f,x,K,we)}),xp=Do(function(f,x){var K={};if(null==f)return K;var we=!1;x=Y1(x,function(it){return it=l3(it,f),we||(we=it.length>1),it}),Ws(f,P6(f),K),we&&(K=qn(K,7,u9));for(var Ee=x.length;Ee--;)E5(K,x[Ee]);return K}),wp=Do(function(f,x){return null==f?{}:function k5(f,x){return T6(f,x,function(K,we){return l0(f,we)})}(f,x)});function l8(f,x){if(null==f)return{};var K=Y1(P6(f),function(we){return[we]});return x=P2(x),T6(f,K,function(we,Ee){return x(we,Ee[0])})}var K2=q5(Qr),Ve=q5(ia);function M3(f){return null==f?[]:Z4(f,Qr(f))}var xC=s4(function(f,x,K){return x=x.toLowerCase(),f+(K?u8(x):x)});function u8(f){return f0(P1(f).toLowerCase())}function f8(f){return(f=P1(f))&&f.replace(Qt,go).replace(Vr,"")}var h8=s4(function(f,x,K){return f+(K?"-":"")+x.toLowerCase()}),Np=s4(function(f,x,K){return f+(K?" ":"")+x.toLowerCase()}),MC=U5("toLowerCase"),_4=s4(function(f,x,K){return f+(K?"_":"")+x.toLowerCase()}),u7=s4(function(f,x,K){return f+(K?" ":"")+f0(x)}),Gp=s4(function(f,x,K){return f+(K?" ":"")+x.toUpperCase()}),f0=U5("toUpperCase");function p8(f,x,K){return f=P1(f),(x=K?s:x)===s?function ii(Gt){return F1.test(Gt)}(f)?function K4(Gt){return Gt.match(Pi)||[]}(f):function v6(Gt){return Gt.match(St)||[]}(f):f.match(x)||[]}var d0=h1(function(f,x){try{return di(f,s,x)}catch(K){return Tc(K)?K:new D2(K)}}),HC=Do(function(f,x){return hi(x,function(K){K=is(K),$n(f,K,Pf(f[K],f))}),f});function h7(f){return function(){return f}}var p7=G5(),Wp=G5(!0);function ji(f){return f}function g8(f){return L6("function"==typeof f?f:qn(f,1))}var C4=h1(function(f,x){return function(K){return Ci(K,f,x)}}),v8=h1(function(f,x){return function(K){return Ci(f,K,x)}});function w3(f,x,K){var we=Qr(x),Ee=rr(x,we);null==K&&(!B1(x)||!Ee.length&&we.length)&&(K=x,x=f,f=this,Ee=rr(x,Qr(x)));var it=!(B1(K)&&"chain"in K&&!K.chain),Lt=Ks(f);return hi(Ee,function(Et){var Zt=x[Et];f[Et]=Zt,Lt&&(f.prototype[Et]=function(){var xn=this.__chain__;if(it||xn){var zn=f(this.__wrapped__),En=zn.__actions__=na(this.__actions__);return En.push({func:Zt,args:arguments,thisArg:f}),zn.__chain__=xn,zn}return Zt.apply(f,$2([this.value()],arguments))})}),f}function b4(){}var _8=Lo(Y1),C8=Lo(Qa),b8=Lo(Os);function x8(f){return xc(f)?k1(is(f)):function V5(f){return function(x){return Mr(x,f)}}(f)}var Yp=$5(),Zp=$5(!0);function p0(){return[]}function w8(){return!1}var Qp=f3(function(f,x){return f+x},0),LC=l4("ceil"),S8=f3(function(f,x){return f/x},1),_7=l4("floor"),z8=f3(function(f,x){return f*x},1),im=l4("round"),am=f3(function(f,x){return f-x},0);return Ze.after=function r8(f,x){if("function"!=typeof x)throw new Fi(l);return f=u1(f),function(){if(--f<1)return x.apply(this,arguments)}},Ze.ary=Jl,Ze.assign=fp,Ze.assignIn=o0,Ze.assignInWith=Qs,Ze.assignWith=dp,Ze.at=hp,Ze.before=K9,Ze.bind=Pf,Ze.bindAll=HC,Ze.bindKey=i8,Ze.castArray=function jf(){if(!arguments.length)return[];var f=arguments[0];return r1(f)?f:[f]},Ze.chain=P9,Ze.chunk=function sf(f,x,K){x=(K?xi(f,x,K):x===s)?1:M1(u1(x),0);var we=null==f?0:f.length;if(!we||x<1)return[];for(var Ee=0,it=0,Lt=fn(vs(we/x));Ee<we;)Lt[it++]=ya(f,Ee,Ee+=x);return Lt},Ze.compact=function v9(f){for(var x=-1,K=null==f?0:f.length,we=0,Ee=[];++x<K;){var it=f[x];it&&(Ee[we++]=it)}return Ee},Ze.concat=function cf(){var f=arguments.length;if(!f)return[];for(var x=fn(f-1),K=arguments[0],we=f;we--;)x[we-1]=arguments[we];return $2(r1(K)?na(K):[K],l1(x,1))},Ze.cond=function m8(f){var x=null==f?0:f.length,K=P2();return f=x?Y1(f,function(we){if("function"!=typeof we[1])throw new Fi(l);return[K(we[0]),we[1]]}):[],h1(function(we){for(var Ee=-1;++Ee<x;){var it=f[Ee];if(di(it[0],this,we))return di(it[1],this,we)}})},Ze.conforms=function $p(f){return function _2(f){var x=Qr(f);return function(K){return w1(K,f,x)}}(qn(f,1))},Ze.constant=h7,Ze.countBy=F9,Ze.create=function pp(f,x){var K=Zr(f);return null==x?K:Hn(K,x)},Ze.curry=function If(f,x,K){var we=qs(f,8,s,s,s,s,s,x=K?s:x);return we.placeholder=If.placeholder,we},Ze.curryRight=function Of(f,x,K){var we=qs(f,16,s,s,s,s,s,x=K?s:x);return we.placeholder=Of.placeholder,we},Ze.debounce=Ff,Ze.defaults=mp,Ze.defaultsDeep=t7,Ze.defer=Q9,Ze.delay=Rf,Ze.difference=y9,Ze.differenceBy=_9,Ze.differenceWith=j6,Ze.drop=function G6(f,x,K){var we=null==f?0:f.length;return we?ya(f,(x=K||x===s?1:u1(x))<0?0:x,we):[]},Ze.dropRight=function C9(f,x,K){var we=null==f?0:f.length;return we?ya(f,0,(x=we-(x=K||x===s?1:u1(x)))<0?0:x):[]},Ze.dropRightWhile=function wc(f,x){return f&&f.length?l2(f,P2(x,3),!0,!0):[]},Ze.dropWhile=function b9(f,x){return f&&f.length?l2(f,P2(x,3),!0):[]},Ze.fill=function x9(f,x,K,we){var Ee=null==f?0:f.length;return Ee?(K&&"number"!=typeof K&&xi(f,x,K)&&(K=0,we=Ee),function b1(f,x,K,we){var Ee=f.length;for((K=u1(K))<0&&(K=-K>Ee?0:Ee+K),(we=we===s||we>Ee?Ee:u1(we))<0&&(we+=Ee),we=K>we?0:Jf(we);K<we;)f[K++]=x;return f}(f,x,K,we)):[]},Ze.filter=function B9(f,x){return(r1(f)?pi:N1)(f,P2(x,3))},Ze.flatMap=function ba(f,x){return l1(Kl(f,x),1)},Ze.flatMapDeep=function xs(f,x){return l1(Kl(f,x),oe)},Ze.flatMapDepth=function G9(f,x,K){return K=K===s?1:u1(K),l1(Kl(f,x),K)},Ze.flatten=$6,Ze.flattenDeep=function f4(f){return null!=f&&f.length?l1(f,oe):[]},Ze.flattenDepth=function W6(f,x){return null!=f&&f.length?l1(f,x=x===s?1:u1(x)):[]},Ze.flip=function e0(f){return qs(f,512)},Ze.flow=p7,Ze.flowRight=Wp,Ze.fromPairs=function lf(f){for(var x=-1,K=null==f?0:f.length,we={};++x<K;){var Ee=f[x];we[Ee[0]]=Ee[1]}return we},Ze.functions=function _C(f){return null==f?[]:rr(f,Qr(f))},Ze.functionsIn=function CC(f){return null==f?[]:rr(f,ia(f))},Ze.groupBy=$9,Ze.initial=function M9(f){return null!=f&&f.length?ya(f,0,-1):[]},Ze.intersection=w9,Ze.intersectionBy=S9,Ze.intersectionWith=z9,Ze.invert=n7,Ze.invertBy=Cp,Ze.invokeMap=q9,Ze.iteratee=g8,Ze.keyBy=Vf,Ze.keys=Qr,Ze.keysIn=ia,Ze.map=Kl,Ze.mapKeys=function as(f,x){var K={};return x=P2(x,3),lr(f,function(we,Ee,it){$n(K,x(we,Ee,it),we)}),K},Ze.mapValues=function bp(f,x){var K={};return x=P2(x,3),lr(f,function(we,Ee,it){$n(K,Ee,x(we,Ee,it))}),K},Ze.matches=function qp(f){return fc(qn(f,1))},Ze.matchesProperty=function h0(f,x){return El(f,qn(x,1))},Ze.memoize=Hc,Ze.merge=i7,Ze.mergeWith=a7,Ze.method=C4,Ze.methodOf=v8,Ze.mixin=w3,Ze.negate=h4,Ze.nthArg=function m7(f){return f=u1(f),h1(function(x){return Pl(x,f)})},Ze.omit=xp,Ze.omitBy=function Mp(f,x){return l8(f,h4(P2(x)))},Ze.once=function J9(f){return K9(2,f)},Ze.orderBy=function Y9(f,x,K,we){return null==f?[]:(r1(x)||(x=null==x?[]:[x]),r1(K=we?s:K)||(K=null==K?[]:[K]),T5(f,x,K))},Ze.over=_8,Ze.overArgs=J1,Ze.overEvery=C8,Ze.overSome=b8,Ze.partial=t0,Ze.partialRight=Bf,Ze.partition=Z9,Ze.pick=wp,Ze.pickBy=l8,Ze.property=x8,Ze.propertyOf=function M8(f){return function(x){return null==f?s:Mr(f,x)}},Ze.pull=df,Ze.pullAll=$l,Ze.pullAllBy=function L9(f,x,K){return f&&f.length&&x&&x.length?Il(f,x,P2(K,2)):f},Ze.pullAllWith=function D9(f,x,K){return f&&f.length&&x&&x.length?Il(f,x,s,K):f},Ze.pullAt=hf,Ze.range=Yp,Ze.rangeRight=Zp,Ze.rearg=Lc,Ze.reject=function Xs(f,x){return(r1(f)?pi:N1)(f,h4(P2(x,3)))},Ze.remove=function pf(f,x){var K=[];if(!f||!f.length)return K;var we=-1,Ee=[],it=f.length;for(x=P2(x,3);++we<it;){var Lt=f[we];x(Lt,we,f)&&(K.push(Lt),Ee.push(we))}return A5(f,Ee),K},Ze.rest=function Uf(f,x){if("function"!=typeof f)throw new Fi(l);return h1(f,x=x===s?x:u1(x))},Ze.reverse=Zs,Ze.sampleSize=function Af(f,x,K){return x=(K?xi(f,x,K):x===s)?1:u1(x),(r1(f)?lt:i4)(f,x)},Ze.set=function zp(f,x,K){return null==f?f:hc(f,x,K)},Ze.setWith=function Hp(f,x,K,we){return we="function"==typeof we?we:s,null==f?f:hc(f,x,K,we)},Ze.shuffle=function Nf(f){return(r1(f)?Rt:t9)(f)},Ze.slice=function mf(f,x,K){var we=null==f?0:f.length;return we?(K&&"number"!=typeof K&&xi(f,x,K)?(x=0,K=we):(x=null==x?0:u1(x),K=K===s?we:u1(K)),ya(f,x,K)):[]},Ze.sortBy=mC,Ze.sortedUniq=function yf(f){return f&&f.length?c3(f):[]},Ze.sortedUniqBy=function _f(f,x){return f&&f.length?c3(f,P2(x,2)):[]},Ze.split=function Ip(f,x,K){return K&&"number"!=typeof K&&xi(f,x,K)&&(x=K=s),(K=K===s?le:K>>>0)?(f=P1(f))&&("string"==typeof x||null!=x&&!o8(x))&&!(x=Ri(x))&&fr(f)?Oa(Yr(f),0,K):f.split(x,K):[]},Ze.spread=function ep(f,x){if("function"!=typeof f)throw new Fi(l);return x=null==x?0:M1(u1(x),0),h1(function(K){var we=K[x],Ee=Oa(K,0,x);return we&&$2(Ee,we),di(f,this,Ee)})},Ze.tail=function Z6(f){var x=null==f?0:f.length;return x?ya(f,1,x):[]},Ze.take=function Cf(f,x,K){return f&&f.length?ya(f,0,(x=K||x===s?1:u1(x))<0?0:x):[]},Ze.takeRight=function ql(f,x,K){var we=null==f?0:f.length;return we?ya(f,(x=we-(x=K||x===s?1:u1(x)))<0?0:x,we):[]},Ze.takeRightWhile=function Yl(f,x){return f&&f.length?l2(f,P2(x,3),!1,!0):[]},Ze.takeWhile=function bf(f,x){return f&&f.length?l2(f,P2(x,3)):[]},Ze.tap=function I9(f,x){return x(f),f},Ze.throttle=function tp(f,x,K){var we=!0,Ee=!0;if("function"!=typeof f)throw new Fi(l);return B1(K)&&(we="leading"in K?!!K.leading:we,Ee="trailing"in K?!!K.trailing:Ee),Ff(f,x,{leading:we,maxWait:x,trailing:Ee})},Ze.thru=d4,Ze.toArray=v4,Ze.toPairs=K2,Ze.toPairsIn=Ve,Ze.toPath=function xa(f){return r1(f)?Y1(f,is):Ba(f)?[f]:na(U6(P1(f)))},Ze.toPlainObject=e7,Ze.transform=function s7(f,x,K){var we=r1(f),Ee=we||Vo(f)||m4(f);if(x=P2(x,4),null==K){var it=f&&f.constructor;K=Ee?we?new it:[]:B1(f)&&Ks(it)?Zr(tc(f)):{}}return(Ee?hi:lr)(f,function(Lt,Et,Zt){return x(K,Lt,Et,Zt)}),K},Ze.unary=function np(f){return Jl(f,1)},Ze.union=X6,Ze.unionBy=K6,Ze.unionWith=Q6,Ze.uniq=function Sc(f){return f&&f.length?_a(f):[]},Ze.uniqBy=function V9(f,x){return f&&f.length?_a(f,P2(x,2)):[]},Ze.uniqWith=function xf(f,x){return x="function"==typeof x?x:s,f&&f.length?_a(f,s,x):[]},Ze.unset=function o7(f,x){return null==f||E5(f,x)},Ze.unzip=J6,Ze.unzipWith=Mf,Ze.update=function Lp(f,x,K){return null==f?f:P5(f,x,F5(K))},Ze.updateWith=function Dp(f,x,K,we){return we="function"==typeof we?we:s,null==f?f:P5(f,x,F5(K),we)},Ze.values=M3,Ze.valuesIn=function Tp(f){return null==f?[]:Z4(f,ia(f))},Ze.without=A9,Ze.words=p8,Ze.wrap=function rp(f,x){return t0(F5(x),f)},Ze.xor=wf,Ze.xorBy=Sf,Ze.xorWith=Zl,Ze.zip=e8,Ze.zipObject=function v3(f,x){return r9(f||[],x||[],mt)},Ze.zipObjectDeep=function N9(f,x){return r9(f||[],x||[],hc)},Ze.zipWith=E9,Ze.entries=K2,Ze.entriesIn=Ve,Ze.extend=o0,Ze.extendWith=Qs,w3(Ze,Ze),Ze.add=Qp,Ze.attempt=d0,Ze.camelCase=xC,Ze.capitalize=u8,Ze.ceil=LC,Ze.clamp=function c7(f,x,K){return K===s&&(K=x,x=s),K!==s&&(K=(K=wi(K))==K?K:0),x!==s&&(x=(x=wi(x))==x?x:0),b2(wi(f),x,K)},Ze.clone=function gC(f){return qn(f,4)},Ze.cloneDeep=function Dc(f){return qn(f,5)},Ze.cloneDeepWith=function n0(f,x){return qn(f,5,x="function"==typeof x?x:s)},Ze.cloneWith=function vC(f,x){return qn(f,4,x="function"==typeof x?x:s)},Ze.conformsTo=function Gf(f,x){return null==x||w1(f,x,Qr(x))},Ze.deburr=f8,Ze.defaultTo=function yt(f,x){return null==f||f!=f?x:f},Ze.divide=S8,Ze.endsWith=function Ui(f,x,K){f=P1(f),x=Ri(x);var we=f.length,Ee=K=K===s?we:b2(u1(K),0,we);return(K-=x.length)>=0&&f.slice(K,Ee)==x},Ze.eq=Ra,Ze.escape=function Ap(f){return(f=P1(f))&&Pt.test(f)?f.replace(Ge,f2):f},Ze.escapeRegExp=function d8(f){return(f=P1(f))&&We.test(f)?f.replace(_e,"\\$&"):f},Ze.every=function R9(f,x,K){var we=r1(f)?Qa:k2;return K&&xi(f,x,K)&&(x=s),we(f,P2(x,3))},Ze.find=U9,Ze.findIndex=jl,Ze.findKey=function gp(f,x){return Ja(f,P2(x,3),lr)},Ze.findLast=j9,Ze.findLastIndex=Gl,Ze.findLastKey=function vp(f,x){return Ja(f,P2(x,3),Er)},Ze.floor=_7,Ze.forEach=Tf,Ze.forEachRight=kf,Ze.forIn=function y4(f,x){return null==f?f:cr(f,P2(x,3),ia)},Ze.forInRight=function Js(f,x){return null==f?f:xr(f,P2(x,3),ia)},Ze.forOwn=function yp(f,x){return f&&lr(f,P2(x,3))},Ze.forOwnRight=function _p(f,x){return f&&Er(f,P2(x,3))},Ze.get=c0,Ze.gt=$f,Ze.gte=yC,Ze.has=function bC(f,x){return null!=f&&Fl(f,x,ta)},Ze.hasIn=l0,Ze.head=uf,Ze.identity=ji,Ze.includes=function W9(f,x,K,we){f=Mi(f)?f:M3(f),K=K&&!we?u1(K):0;var Ee=f.length;return K<0&&(K=M1(Ee+K,0)),kc(f)?K<=Ee&&f.indexOf(x,K)>-1:!!Ee&&ho(f,x,K)>-1},Ze.indexOf=function q6(f,x,K){var we=null==f?0:f.length;if(!we)return-1;var Ee=null==K?0:u1(K);return Ee<0&&(Ee=M1(we+Ee,0)),ho(f,x,Ee)},Ze.inRange=function kp(f,x,K){return x=Ir(x),K===s?(K=x,x=0):K=Ir(K),function bs(f,x,K){return f>=Cr(x,K)&&f<M1(x,K)}(f=wi(f),x,K)},Ze.invoke=r7,Ze.isArguments=_3,Ze.isArray=r1,Ze.isArrayBuffer=Wf,Ze.isArrayLike=Mi,Ze.isArrayLikeObject=Pr,Ze.isBoolean=function a8(f){return!0===f||!1===f||gr(f)&&R1(f)==Y},Ze.isBuffer=Vo,Ze.isDate=s8,Ze.isElement=function qf(f){return gr(f)&&1===f.nodeType&&!x3(f)},Ze.isEmpty=function Yf(f){if(null==f)return!0;if(Mi(f)&&(r1(f)||"string"==typeof f||"function"==typeof f.splice||Vo(f)||m4(f)||_3(f)))return!f.length;var x=Kr(f);if(x==xe||x==Ke)return!f.size;if(Mc(f))return!Nl(f).length;for(var K in f)if(X2.call(f,K))return!1;return!0},Ze.isEqual=function C3(f,x){return n4(f,x)},Ze.isEqualWith=function ip(f,x,K){var we=(K="function"==typeof K?K:s)?K(f,x):s;return we===s?n4(f,x,s,K):!!we},Ze.isError=Tc,Ze.isFinite=function r0(f){return"number"==typeof f&&va(f)},Ze.isFunction=Ks,Ze.isInteger=a0,Ze.isLength=b3,Ze.isMap=s0,Ze.isMatch=function ap(f,x){return f===x||z6(f,x,Z5(x))},Ze.isMatchWith=function sp(f,x,K){return K="function"==typeof K?K:s,z6(f,x,Z5(x),K)},Ze.isNaN=function Zf(f){return Xf(f)&&f!=+f},Ze.isNative=function p4(f){if(ra(f))throw new D2("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return uc(f)},Ze.isNil=function cp(f){return null==f},Ze.isNull=function op(f){return null===f},Ze.isNumber=Xf,Ze.isObject=B1,Ze.isObjectLike=gr,Ze.isPlainObject=x3,Ze.isRegExp=o8,Ze.isSafeInteger=function Kf(f){return a0(f)&&f>=-Ce&&f<=Ce},Ze.isSet=Qf,Ze.isString=kc,Ze.isSymbol=Ba,Ze.isTypedArray=m4,Ze.isUndefined=function Ao(f){return f===s},Ze.isWeakMap=function lp(f){return gr(f)&&Kr(f)==Se},Ze.isWeakSet=function g4(f){return gr(f)&&"[object WeakSet]"==R1(f)},Ze.join=function H9(f,x){return null==f?"":ys.call(f,x)},Ze.kebabCase=h8,Ze.last=Fa,Ze.lastIndexOf=function ff(f,x,K){var we=null==f?0:f.length;if(!we)return-1;var Ee=we;return K!==s&&(Ee=(Ee=u1(K))<0?M1(we+Ee,0):Cr(Ee,we-1)),x==x?function es(Gt,hn,fn){for(var t2=fn+1;t2--;)if(Gt[t2]===hn)return t2;return t2}(f,x,Ee):mi(f,Oi,Ee,!0)},Ze.lowerCase=Np,Ze.lowerFirst=MC,Ze.lt=ir,Ze.lte=up,Ze.max=function Jp(f){return f&&f.length?c1(f,ji,mr):s},Ze.maxBy=function em(f,x){return f&&f.length?c1(f,P2(x,2),mr):s},Ze.mean=function tm(f){return ha(f,ji)},Ze.meanBy=function C7(f,x){return ha(f,P2(x,2))},Ze.min=function nm(f){return f&&f.length?c1(f,ji,Ia):s},Ze.minBy=function rm(f,x){return f&&f.length?c1(f,P2(x,2),Ia):s},Ze.stubArray=p0,Ze.stubFalse=w8,Ze.stubObject=function g7(){return{}},Ze.stubString=function v7(){return""},Ze.stubTrue=function Xp(){return!0},Ze.multiply=z8,Ze.nth=function Y6(f,x){return f&&f.length?Pl(f,u1(x)):s},Ze.noConflict=function y8(){return tr._===this&&(tr._=ea),this},Ze.noop=b4,Ze.now=n8,Ze.pad=function wC(f,x,K){f=P1(f);var we=(x=u1(x))?nr(f):0;if(!x||we>=x)return f;var Ee=(x-we)/2;return yc(_o(Ee),K)+f+yc(vs(Ee),K)},Ze.padEnd=function SC(f,x,K){f=P1(f);var we=(x=u1(x))?nr(f):0;return x&&we<x?f+yc(x-we,K):f},Ze.padStart=function Ep(f,x,K){f=P1(f);var we=(x=u1(x))?nr(f):0;return x&&we<x?yc(x-we,K)+f:f},Ze.parseInt=function l7(f,x,K){return K||null==x?x=0:x&&(x=+x),Hl(P1(f).replace(Je,""),x||0)},Ze.random=function Vp(f,x,K){if(K&&"boolean"!=typeof K&&xi(f,x,K)&&(x=K=s),K===s&&("boolean"==typeof x?(K=x,x=s):"boolean"==typeof f&&(K=f,f=s)),f===s&&x===s?(f=0,x=1):(f=Ir(f),x===s?(x=f,f=0):x=Ir(x)),f>x){var we=f;f=x,x=we}if(K||f%1||x%1){var Ee=vi();return Cr(f+Ee*(x-f+fo("1e-"+((Ee+"").length-1))),x)}return r4(f,x)},Ze.reduce=function X9(f,x,K){var we=r1(f)?Is:Jo,Ee=arguments.length<3;return we(f,P2(x,4),K,Ee,Xn)},Ze.reduceRight=function Ql(f,x,K){var we=r1(f)?q4:Jo,Ee=arguments.length<3;return we(f,P2(x,4),K,Ee,E2)},Ze.repeat=function zC(f,x,K){return x=(K?xi(f,x,K):x===s)?1:u1(x),k6(P1(f),x)},Ze.replace=function Pp(){var f=arguments,x=P1(f[0]);return f.length<3?x:x.replace(f[1],f[2])},Ze.result=function Sp(f,x,K){var we=-1,Ee=(x=l3(x,f)).length;for(Ee||(Ee=1,f=s);++we<Ee;){var it=null==f?s:f[is(x[we])];it===s&&(we=Ee,it=K),f=Ks(it)?it.call(f):it}return f},Ze.round=im,Ze.runInContext=Gt,Ze.sample=function zc(f){return(r1(f)?Mt:N5)(f)},Ze.size=function Ef(f){if(null==f)return 0;if(Mi(f))return kc(f)?nr(f):f.length;var x=Kr(f);return x==xe||x==Ke?f.size:Nl(f).length},Ze.snakeCase=_4,Ze.some=function pC(f,x,K){var we=r1(f)?Os:Ol;return K&&xi(f,x,K)&&(x=s),we(f,P2(x,3))},Ze.sortedIndex=function gf(f,x){return $s(f,x)},Ze.sortedIndexBy=function T9(f,x,K){return So(f,x,P2(K,2))},Ze.sortedIndexOf=function hC(f,x){var K=null==f?0:f.length;if(K){var we=$s(f,x);if(we<K&&Ra(f[we],x))return we}return-1},Ze.sortedLastIndex=function Wl(f,x){return $s(f,x,!0)},Ze.sortedLastIndexBy=function k9(f,x,K){return So(f,x,P2(K,2),!0)},Ze.sortedLastIndexOf=function vf(f,x){if(null!=f&&f.length){var we=$s(f,x,!0)-1;if(Ra(f[we],x))return we}return-1},Ze.startCase=u7,Ze.startsWith=function u0(f,x,K){return f=P1(f),K=null==K?0:b2(u1(K),0,f.length),x=Ri(x),f.slice(K,K+x.length)==x},Ze.subtract=am,Ze.sum=function sm(f){return f&&f.length?G3(f,ji):0},Ze.sumBy=function om(f,x){return f&&f.length?G3(f,P2(x,2)):0},Ze.template=function Op(f,x,K){var we=Ze.templateSettings;K&&xi(f,x,K)&&(x=s),f=P1(f),x=Qs({},x,we,d3);var Et,Zt,Ee=Qs({},x.imports,we.imports,d3),it=Qr(Ee),Lt=Z4(Ee,it),xn=0,zn=x.interpolate||jt,En="__p += '",Kn=q3((x.escape||jt).source+"|"+zn.source+"|"+(zn===Kt?an:jt).source+"|"+(x.evaluate||jt).source+"|$","g"),v2="//# sourceURL="+(X2.call(x,"sourceURL")?(x.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Br+"]")+"\n";f.replace(Kn,function(N2,L1,D1,aa,Si,sa){return D1||(D1=aa),En+=f.slice(xn,sa).replace(en,Q1),L1&&(Et=!0,En+="' +\n__e("+L1+") +\n'"),Si&&(Zt=!0,En+="';\n"+Si+";\n__p += '"),D1&&(En+="' +\n((__t = ("+D1+")) == null ? '' : __t) +\n'"),xn=sa+N2.length,N2}),En+="';\n";var V2=X2.call(x,"variable")&&x.variable;if(V2){if(Vt.test(V2))throw new D2("Invalid `variable` option passed into `_.template`")}else En="with (obj) {\n"+En+"\n}\n";En=(Zt?En.replace(bt,""):En).replace(Ot,"$1").replace(wt,"$1;"),En="function("+(V2||"obj")+") {\n"+(V2?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Et?", __e = _.escape":"")+(Zt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+En+"return __p\n}";var g1=d0(function(){return C1(it,v2+"return "+En).apply(s,Lt)});if(g1.source=En,Tc(g1))throw g1;return g1},Ze.times=function Kp(f,x){if((f=u1(f))<1||f>Ce)return[];var K=le,we=Cr(f,le);x=P2(x),f-=le;for(var Ee=ma(we,x);++K<f;)x(K);return Ee},Ze.toFinite=Ir,Ze.toInteger=u1,Ze.toLength=Jf,Ze.toLower=function f7(f){return P1(f).toLowerCase()},Ze.toNumber=wi,Ze.toSafeInteger=function c8(f){return f?b2(u1(f),-Ce,Ce):0===f?f:0},Ze.toString=P1,Ze.toUpper=function Fp(f){return P1(f).toUpperCase()},Ze.trim=function Rp(f,x,K){if((f=P1(f))&&(K||x===s))return Sl(f);if(!f||!(x=Ri(x)))return f;var we=Yr(f),Ee=Yr(x);return Oa(we,X4(we,Ee),W1(we,Ee)+1).join("")},Ze.trimEnd=function Bp(f,x,K){if((f=P1(f))&&(K||x===s))return f.slice(0,or(f)+1);if(!f||!(x=Ri(x)))return f;var we=Yr(f);return Oa(we,0,W1(we,Yr(x))+1).join("")},Ze.trimStart=function Up(f,x,K){if((f=P1(f))&&(K||x===s))return f.replace(Je,"");if(!f||!(x=Ri(x)))return f;var we=Yr(f);return Oa(we,X4(we,Yr(x))).join("")},Ze.truncate=function jp(f,x){var K=30,we="...";if(B1(x)){var Ee="separator"in x?x.separator:Ee;K="length"in x?u1(x.length):K,we="omission"in x?Ri(x.omission):we}var it=(f=P1(f)).length;if(fr(f)){var Lt=Yr(f);it=Lt.length}if(K>=it)return f;var Et=K-nr(we);if(Et<1)return we;var Zt=Lt?Oa(Lt,0,Et).join(""):f.slice(0,Et);if(Ee===s)return Zt+we;if(Lt&&(Et+=Zt.length-Et),o8(Ee)){if(f.slice(Et).search(Ee)){var xn,zn=Zt;for(Ee.global||(Ee=q3(Ee.source,P1(Tt.exec(Ee))+"g")),Ee.lastIndex=0;xn=Ee.exec(zn);)var En=xn.index;Zt=Zt.slice(0,En===s?Et:En)}}else if(f.indexOf(Ri(Ee),Et)!=Et){var Kn=Zt.lastIndexOf(Ee);Kn>-1&&(Zt=Zt.slice(0,Kn))}return Zt+we},Ze.unescape=function d7(f){return(f=P1(f))&&vt.test(f)?f.replace(Be,$3):f},Ze.uniqueId=function y7(f){var x=++Ji;return P1(f)+x},Ze.upperCase=Gp,Ze.upperFirst=f0,Ze.each=Tf,Ze.eachRight=kf,Ze.first=uf,w3(Ze,function(){var f={};return lr(Ze,function(x,K){X2.call(Ze.prototype,K)||(f[K]=x)}),f}(),{chain:!1}),Ze.VERSION="4.17.21",hi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){Ze[f].placeholder=Ze}),hi(["drop","take"],function(f,x){Gn.prototype[f]=function(K){K=K===s?1:M1(u1(K),0);var we=this.__filtered__&&!x?new Gn(this):this.clone();return we.__filtered__?we.__takeCount__=Cr(K,we.__takeCount__):we.__views__.push({size:Cr(K,le),type:f+(we.__dir__<0?"Right":"")}),we},Gn.prototype[f+"Right"]=function(K){return this.reverse()[f](K).reverse()}}),hi(["filter","map","takeWhile"],function(f,x){var K=x+1,we=1==K||3==K;Gn.prototype[f]=function(Ee){var it=this.clone();return it.__iteratees__.push({iteratee:P2(Ee,3),type:K}),it.__filtered__=it.__filtered__||we,it}}),hi(["head","last"],function(f,x){var K="take"+(x?"Right":"");Gn.prototype[f]=function(){return this[K](1).value()[0]}}),hi(["initial","tail"],function(f,x){var K="drop"+(x?"":"Right");Gn.prototype[f]=function(){return this.__filtered__?new Gn(this):this[K](1)}}),Gn.prototype.compact=function(){return this.filter(ji)},Gn.prototype.find=function(f){return this.filter(f).head()},Gn.prototype.findLast=function(f){return this.reverse().find(f)},Gn.prototype.invokeMap=h1(function(f,x){return"function"==typeof f?new Gn(this):this.map(function(K){return Ci(K,f,x)})}),Gn.prototype.reject=function(f){return this.filter(h4(P2(f)))},Gn.prototype.slice=function(f,x){f=u1(f);var K=this;return K.__filtered__&&(f>0||x<0)?new Gn(K):(f<0?K=K.takeRight(-f):f&&(K=K.drop(f)),x!==s&&(K=(x=u1(x))<0?K.dropRight(-x):K.take(x-f)),K)},Gn.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},Gn.prototype.toArray=function(){return this.take(le)},lr(Gn.prototype,function(f,x){var K=/^(?:filter|find|map|reject)|While$/.test(x),we=/^(?:head|last)$/.test(x),Ee=Ze[we?"take"+("last"==x?"Right":""):x],it=we||/^find/.test(x);Ee&&(Ze.prototype[x]=function(){var Lt=this.__wrapped__,Et=we?[1]:arguments,Zt=Lt instanceof Gn,xn=Et[0],zn=Zt||r1(Lt),En=function(L1){var D1=Ee.apply(Ze,$2([L1],Et));return we&&Kn?D1[0]:D1};zn&&K&&"function"==typeof xn&&1!=xn.length&&(Zt=zn=!1);var Kn=this.__chain__,v2=!!this.__actions__.length,V2=it&&!Kn,g1=Zt&&!v2;if(!it&&zn){Lt=g1?Lt:new Gn(this);var N2=f.apply(Lt,Et);return N2.__actions__.push({func:d4,args:[En],thisArg:s}),new Nr(N2,Kn)}return V2&&g1?f.apply(this,Et):(N2=this.thru(En),V2?we?N2.value()[0]:N2.value():N2)})}),hi(["pop","push","shift","sort","splice","unshift"],function(f){var x=ts[f],K=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",we=/^(?:pop|shift)$/.test(f);Ze.prototype[f]=function(){var Ee=arguments;if(we&&!this.__chain__){var it=this.value();return x.apply(r1(it)?it:[],Ee)}return this[K](function(Lt){return x.apply(r1(Lt)?Lt:[],Ee)})}}),lr(Gn.prototype,function(f,x){var K=Ze[x];if(K){var we=K.name+"";X2.call(js,we)||(js[we]=[]),js[we].push({name:x,func:K})}}),js[o4(s,2).name]=[{name:"wrapper",func:s}],Gn.prototype.clone=function a3(){var f=new Gn(this.__wrapped__);return f.__actions__=na(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=na(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=na(this.__views__),f},Gn.prototype.reverse=function br(){if(this.__filtered__){var f=new Gn(this);f.__dir__=-1,f.__filtered__=!0}else(f=this.clone()).__dir__*=-1;return f},Gn.prototype.value=function Dl(){var f=this.__wrapped__.value(),x=this.__dir__,K=r1(f),we=x<0,Ee=K?f.length:0,it=function oC(f,x,K){for(var we=-1,Ee=K.length;++we<Ee;){var it=K[we],Lt=it.size;switch(it.type){case"drop":f+=Lt;break;case"dropRight":x-=Lt;break;case"take":x=Cr(x,f+Lt);break;case"takeRight":f=M1(f,x-Lt)}}return{start:f,end:x}}(0,Ee,this.__views__),Lt=it.start,Et=it.end,Zt=Et-Lt,xn=we?Et:Lt-1,zn=this.__iteratees__,En=zn.length,Kn=0,v2=Cr(Zt,this.__takeCount__);if(!K||!we&&Ee==Zt&&v2==Zt)return n9(f,this.__actions__);var V2=[];e:for(;Zt--&&Kn<v2;){for(var g1=-1,N2=f[xn+=x];++g1<En;){var L1=zn[g1],aa=L1.type,Si=(0,L1.iteratee)(N2);if(2==aa)N2=Si;else if(!Si){if(1==aa)continue e;break e}}V2[Kn++]=N2}return V2},Ze.prototype.at=O9,Ze.prototype.chain=function zf(){return P9(this)},Ze.prototype.commit=function Xl(){return new Nr(this.value(),this.__chain__)},Ze.prototype.next=function t8(){this.__values__===s&&(this.__values__=v4(this.value()));var f=this.__index__>=this.__values__.length;return{done:f,value:f?s:this.__values__[this.__index__++]}},Ze.prototype.plant=function Lf(f){for(var x,K=this;K instanceof xo;){var we=af(K);we.__index__=0,we.__values__=s,x?Ee.__wrapped__=we:x=we;var Ee=we;K=K.__wrapped__}return Ee.__wrapped__=f,x},Ze.prototype.reverse=function Df(){var f=this.__wrapped__;if(f instanceof Gn){var x=f;return this.__actions__.length&&(x=new Gn(this)),(x=x.reverse()).__actions__.push({func:d4,args:[Zs],thisArg:s}),new Nr(x,this.__chain__)}return this.thru(Zs)},Ze.prototype.toJSON=Ze.prototype.valueOf=Ze.prototype.value=function y3(){return n9(this.__wrapped__,this.__actions__)},Ze.prototype.first=Ze.prototype.head,X3&&(Ze.prototype[X3]=function Hf(){return this}),Ze}();tr._=Fs,(J=function(){return Fs}.call(v,pe,v,Ka))!==s&&(Ka.exports=J)}.call(this)},500:Ka=>{Ka.exports=function v(pe,J,s){function g(l,m){if(!J[l]){if(!pe[l]){if(p)return p(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var u=J[l]={exports:{}};pe[l][0].call(u.exports,function(C){return g(pe[l][1][C]||C)},u,u.exports,v,pe,J,s)}return J[l].exports}for(var p=void 0,c=0;c<s.length;c++)g(s[c]);return g}({1:[function(v,pe,J){"use strict";var s=v("../src/lib"),g={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:#fff;","X .select-outline-2":"stroke:#000;stroke-dasharray:2px 2px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var p in g){var c=p.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");s.addStyleRule(c,g[p])}},{"../src/lib":232}],2:[function(v,pe,J){"use strict";pe.exports=v("../src/transforms/aggregate")},{"../src/transforms/aggregate":386}],3:[function(v,pe,J){"use strict";pe.exports=v("../src/traces/bar")},{"../src/traces/bar":336}],4:[function(v,pe,J){"use strict";pe.exports=v("../src/components/calendars")},{"../src/components/calendars":100}],5:[function(v,pe,J){"use strict";pe.exports=v("../src/core")},{"../src/core":214}],6:[function(v,pe,J){"use strict";pe.exports=v("../src/transforms/filter")},{"../src/transforms/filter":387}],7:[function(v,pe,J){"use strict";pe.exports=v("../src/transforms/groupby")},{"../src/transforms/groupby":388}],8:[function(v,pe,J){"use strict";var s=v("./core");s.register([v("./bar"),v("./pie"),v("./aggregate"),v("./filter"),v("./groupby"),v("./sort"),v("./calendars")]),pe.exports=s},{"./aggregate":2,"./bar":3,"./calendars":4,"./core":5,"./filter":6,"./groupby":7,"./pie":9,"./sort":10}],9:[function(v,pe,J){"use strict";pe.exports=v("../src/traces/pie")},{"../src/traces/pie":351}],10:[function(v,pe,J){"use strict";pe.exports=v("../src/transforms/sort")},{"../src/transforms/sort":390}],11:[function(v,pe,J){(function(){var s={version:"3.8.0"},g=[].slice,p=function(y){return g.call(y)},c=self.document;function l(y){return y&&(y.ownerDocument||y.document||y).documentElement}function m(y){return y&&(y.ownerDocument&&y.ownerDocument.defaultView||y.document&&y||y.defaultView)}if(c)try{p(c.documentElement.childNodes)}catch{p=function(T){for(var U=T.length,re=new Array(U);U--;)re[U]=T[U];return re}}if(Date.now||(Date.now=function(){return+new Date}),c)try{c.createElement("DIV").style.setProperty("opacity",0,"")}catch{var d=this.Element.prototype,h=d.setAttribute,u=d.setAttributeNS,C=this.CSSStyleDeclaration.prototype,b=C.setProperty;d.setAttribute=function(T,U){h.call(this,T,U+"")},d.setAttributeNS=function(T,U,re){u.call(this,T,U,re+"")},C.setProperty=function(T,U,re){b.call(this,T,U+"",re)}}function M(y,T){return y<T?-1:y>T?1:y>=T?0:NaN}function w(y){return null===y?NaN:+y}function N(y){return!isNaN(y)}function A(y){return{left:function(T,U,re,ce){for(arguments.length<3&&(re=0),arguments.length<4&&(ce=T.length);re<ce;){var me=re+ce>>>1;y(T[me],U)<0?re=me+1:ce=me}return re},right:function(T,U,re,ce){for(arguments.length<3&&(re=0),arguments.length<4&&(ce=T.length);re<ce;){var me=re+ce>>>1;y(T[me],U)>0?ce=me:re=me+1}return re}}}s.ascending=M,s.descending=function(y,T){return T<y?-1:T>y?1:T>=y?0:NaN},s.min=function(y,T){var U,re,ce=-1,me=y.length;if(1===arguments.length){for(;++ce<me;)if(null!=(re=y[ce])&&re>=re){U=re;break}for(;++ce<me;)null!=(re=y[ce])&&U>re&&(U=re)}else{for(;++ce<me;)if(null!=(re=T.call(y,y[ce],ce))&&re>=re){U=re;break}for(;++ce<me;)null!=(re=T.call(y,y[ce],ce))&&U>re&&(U=re)}return U},s.max=function(y,T){var U,re,ce=-1,me=y.length;if(1===arguments.length){for(;++ce<me;)if(null!=(re=y[ce])&&re>=re){U=re;break}for(;++ce<me;)null!=(re=y[ce])&&re>U&&(U=re)}else{for(;++ce<me;)if(null!=(re=T.call(y,y[ce],ce))&&re>=re){U=re;break}for(;++ce<me;)null!=(re=T.call(y,y[ce],ce))&&re>U&&(U=re)}return U},s.extent=function(y,T){var U,re,ce,me=-1,ye=y.length;if(1===arguments.length){for(;++me<ye;)if(null!=(re=y[me])&&re>=re){U=ce=re;break}for(;++me<ye;)null!=(re=y[me])&&(U>re&&(U=re),ce<re&&(ce=re))}else{for(;++me<ye;)if(null!=(re=T.call(y,y[me],me))&&re>=re){U=ce=re;break}for(;++me<ye;)null!=(re=T.call(y,y[me],me))&&(U>re&&(U=re),ce<re&&(ce=re))}return[U,ce]},s.sum=function(y,T){var U,re=0,ce=y.length,me=-1;if(1===arguments.length)for(;++me<ce;)N(U=+y[me])&&(re+=U);else for(;++me<ce;)N(U=+T.call(y,y[me],me))&&(re+=U);return re},s.mean=function(y,T){var U,re=0,ce=y.length,me=-1,ye=ce;if(1===arguments.length)for(;++me<ce;)N(U=w(y[me]))?re+=U:--ye;else for(;++me<ce;)N(U=w(T.call(y,y[me],me)))?re+=U:--ye;if(ye)return re/ye},s.quantile=function(y,T){var U=(y.length-1)*T+1,re=Math.floor(U),ce=+y[re-1],me=U-re;return me?ce+me*(y[re]-ce):ce},s.median=function(y,T){var U,re=[],ce=y.length,me=-1;if(1===arguments.length)for(;++me<ce;)N(U=w(y[me]))&&re.push(U);else for(;++me<ce;)N(U=w(T.call(y,y[me],me)))&&re.push(U);if(re.length)return s.quantile(re.sort(M),.5)},s.variance=function(y,T){var U,re,ce=y.length,me=0,ye=0,Le=-1,He=0;if(1===arguments.length)for(;++Le<ce;)N(U=w(y[Le]))&&(ye+=(re=U-me)*(U-(me+=re/++He)));else for(;++Le<ce;)N(U=w(T.call(y,y[Le],Le)))&&(ye+=(re=U-me)*(U-(me+=re/++He)));if(He>1)return ye/(He-1)},s.deviation=function(){var y=s.variance.apply(this,arguments);return y&&Math.sqrt(y)};var k=A(M);function H(y){return y.length}s.bisectLeft=k.left,s.bisect=s.bisectRight=k.right,s.bisector=function(y){return A(1===y.length?function(T,U){return M(y(T),U)}:y)},s.shuffle=function(y,T,U){(me=arguments.length)<3&&(U=y.length,me<2&&(T=0));for(var re,ce,me=U-T;me;)ce=Math.random()*me--|0,re=y[me+T],y[me+T]=y[ce+T],y[ce+T]=re;return y},s.permute=function(y,T){for(var U=T.length,re=new Array(U);U--;)re[U]=y[T[U]];return re},s.pairs=function(y){for(var T=0,U=y.length-1,re=y[0],ce=new Array(U<0?0:U);T<U;)ce[T]=[re,re=y[++T]];return ce},s.transpose=function(y){if(!(ce=y.length))return[];for(var T=-1,U=s.min(y,H),re=new Array(U);++T<U;)for(var ce,me=-1,ye=re[T]=new Array(ce);++me<ce;)ye[me]=y[me][T];return re},s.zip=function(){return s.transpose(arguments)},s.keys=function(y){var T=[];for(var U in y)T.push(U);return T},s.values=function(y){var T=[];for(var U in y)T.push(y[U]);return T},s.entries=function(y){var T=[];for(var U in y)T.push({key:U,value:y[U]});return T},s.merge=function(y){for(var T,U,re,ce=y.length,me=-1,ye=0;++me<ce;)ye+=y[me].length;for(U=new Array(ye);--ce>=0;)for(T=(re=y[ce]).length;--T>=0;)U[--ye]=re[T];return U};var L=Math.abs;function I(y){for(var T=1;y*T%1;)T*=10;return T}function D(y,T){for(var U in T)Object.defineProperty(y.prototype,U,{value:T[U],enumerable:!1})}function E(){this._=Object.create(null)}function P(y){return"__proto__"==(y+="")||"\0"===y[0]?"\0"+y:y}function S(y){return"\0"===(y+="")[0]?y.slice(1):y}function R(y){return P(y)in this._}function G(y){return(y=P(y))in this._&&delete this._[y]}function z(){var y=[];for(var T in this._)y.push(S(T));return y}function X(){var y=0;for(var T in this._)++y;return y}function W(){for(var y in this._)return!1;return!0}function Z(){this._=Object.create(null)}function ne(y){return y}function te(y,T,U){return function(){var re=U.apply(T,arguments);return re===T?y:re}}function oe(y,T){if(T in y)return T;T=T.charAt(0).toUpperCase()+T.slice(1);for(var U=0,re=Ce.length;U<re;++U){var ce=Ce[U]+T;if(ce in y)return ce}}s.range=function(y,T,U){if(arguments.length<3&&(U=1,arguments.length<2&&(T=y,y=0)),(T-y)/U==1/0)throw new Error("infinite range");var re,ce=[],me=I(L(U)),ye=-1;if(y*=me,T*=me,(U*=me)<0)for(;(re=y+U*++ye)>T;)ce.push(re/me);else for(;(re=y+U*++ye)<T;)ce.push(re/me);return ce},s.map=function(y,T){var U=new E;if(y instanceof E)y.forEach(function(Le,He){U.set(Le,He)});else if(Array.isArray(y)){var re,ce=-1,me=y.length;if(1===arguments.length)for(;++ce<me;)U.set(ce,y[ce]);else for(;++ce<me;)U.set(T.call(y,re=y[ce],ce),re)}else for(var ye in y)U.set(ye,y[ye]);return U},D(E,{has:R,get:function(y){return this._[P(y)]},set:function(y,T){return this._[P(y)]=T},remove:G,keys:z,values:function(){var y=[];for(var T in this._)y.push(this._[T]);return y},entries:function(){var y=[];for(var T in this._)y.push({key:S(T),value:this._[T]});return y},size:X,empty:W,forEach:function(y){for(var T in this._)y.call(this,S(T),this._[T])}}),s.nest=function(){var y,T,U={},re=[],ce=[];function me(ye,Le,He){if(He>=re.length)return T?T.call(U,Le):y?Le.sort(y):Le;for(var De,Ie,at,ot,Ct=-1,kt=Le.length,pt=re[He++],Mt=new E;++Ct<kt;)(ot=Mt.get(De=pt(Ie=Le[Ct])))?ot.push(Ie):Mt.set(De,[Ie]);return ye?(Ie=ye(),at=function(lt,Rt){Ie.set(lt,me(ye,Rt,He))}):(Ie={},at=function(lt,Rt){Ie[lt]=me(ye,Rt,He)}),Mt.forEach(at),Ie}return U.map=function(ye,Le){return me(Le,ye,0)},U.entries=function(ye){return function Le(He,De){if(De>=re.length)return He;var Ie=[],at=ce[De++];return He.forEach(function(ot,Ct){Ie.push({key:ot,values:Le(Ct,De)})}),at?Ie.sort(function(ot,Ct){return at(ot.key,Ct.key)}):Ie}(me(s.map,ye,0),0)},U.key=function(ye){return re.push(ye),U},U.sortKeys=function(ye){return ce[re.length-1]=ye,U},U.sortValues=function(ye){return y=ye,U},U.rollup=function(ye){return T=ye,U},U},s.set=function(y){var T=new Z;if(y)for(var U=0,re=y.length;U<re;++U)T.add(y[U]);return T},D(Z,{has:R,add:function(y){return this._[P(y+="")]=!0,y},remove:G,values:z,size:X,empty:W,forEach:function(y){for(var T in this._)y.call(this,S(T))}}),s.behavior={},s.rebind=function(y,T){for(var U,re=1,ce=arguments.length;++re<ce;)y[U=arguments[re]]=te(y,T,T[U]);return y};var Ce=["webkit","ms","moz","Moz","o","O"];function ie(){}function Q(){}function le(y){var T=[],U=new E;function re(){for(var ce,me=T,ye=-1,Le=me.length;++ye<Le;)(ce=me[ye].on)&&ce.apply(this,arguments);return y}return re.on=function(ce,me){var ye,Le=U.get(ce);return arguments.length<2?Le&&Le.on:(Le&&(Le.on=null,T=T.slice(0,ye=T.indexOf(Le)).concat(T.slice(ye+1)),U.remove(ce)),me&&T.push(U.set(ce,{on:me})),y)},re}function j(){s.event.preventDefault()}function $(){for(var y,T=s.event;y=T.sourceEvent;)T=y;return T}function se(y){for(var T=new Q,U=0,re=arguments.length;++U<re;)T[arguments[U]]=le(T);return T.of=function(ce,me){return function(ye){try{var Le=ye.sourceEvent=s.event;ye.target=y,s.event=ye,T[ye.type].apply(ce,me)}finally{s.event=Le}}},T}s.dispatch=function(){for(var y=new Q,T=-1,U=arguments.length;++T<U;)y[arguments[T]]=le(y);return y},Q.prototype.on=function(y,T){var U=y.indexOf("."),re="";if(U>=0&&(re=y.slice(U+1),y=y.slice(0,U)),y)return arguments.length<2?this[y].on(re):this[y].on(re,T);if(2===arguments.length){if(null==T)for(y in this)this.hasOwnProperty(y)&&this[y].on(re,null);return this}},s.event=null,s.requote=function(y){return y.replace(ee,"\\$&")};var ee=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,F={}.__proto__?function(y,T){y.__proto__=T}:function(y,T){for(var U in T)y[U]=T[U]};function O(y){return F(y,ue),y}var Y=function(y,T){return T.querySelector(y)},B=function(y,T){return T.querySelectorAll(y)},ae=function(y,T){var U=y.matches||y[oe(y,"matchesSelector")];return(ae=function(re,ce){return U.call(re,ce)})(y,T)};"function"==typeof Sizzle&&(Y=function(y,T){return Sizzle(y,T)[0]||null},B=Sizzle,ae=Sizzle.matchesSelector),s.selection=function(){return s.select(c.documentElement)};var ue=s.selection.prototype=[];function fe(y){return"function"==typeof y?y:function(){return Y(y,this)}}function he(y){return"function"==typeof y?y:function(){return B(y,this)}}ue.select=function(y){var T,U,re,ce,me=[];y=fe(y);for(var ye=-1,Le=this.length;++ye<Le;){me.push(T=[]),T.parentNode=(re=this[ye]).parentNode;for(var He=-1,De=re.length;++He<De;)(ce=re[He])?(T.push(U=y.call(ce,ce.__data__,He,ye)),U&&"__data__"in ce&&(U.__data__=ce.__data__)):T.push(null)}return O(me)},ue.selectAll=function(y){var T,U,re=[];y=he(y);for(var ce=-1,me=this.length;++ce<me;)for(var ye=this[ce],Le=-1,He=ye.length;++Le<He;)(U=ye[Le])&&(re.push(T=p(y.call(U,U.__data__,Le,ce))),T.parentNode=U);return O(re)};var xe="http://www.w3.org/1999/xhtml",be={svg:"http://www.w3.org/2000/svg",xhtml:xe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ke(y,T){return y=s.ns.qualify(y),null==T?y.local?function(){this.removeAttributeNS(y.space,y.local)}:function(){this.removeAttribute(y)}:"function"==typeof T?y.local?function(){var U=T.apply(this,arguments);null==U?this.removeAttributeNS(y.space,y.local):this.setAttributeNS(y.space,y.local,U)}:function(){var U=T.apply(this,arguments);null==U?this.removeAttribute(y):this.setAttribute(y,U)}:y.local?function(){this.setAttributeNS(y.space,y.local,T)}:function(){this.setAttribute(y,T)}}function Pe(y){return y.trim().replace(/\s+/g," ")}function Re(y){return new RegExp("(?:^|\\s+)"+s.requote(y)+"(?:\\s+|$)","g")}function Ue(y){return(y+"").trim().split(/^|\s+/)}function tt(y,T){var U=(y=Ue(y).map(Ke)).length;return"function"==typeof T?function(){for(var re=-1,ce=T.apply(this,arguments);++re<U;)y[re](this,ce)}:function(){for(var re=-1;++re<U;)y[re](this,T)}}function Ke(y){var T=Re(y);return function(U,re){if(ce=U.classList)return re?ce.add(y):ce.remove(y);var ce=U.getAttribute("class")||"";re?(T.lastIndex=0,T.test(ce)||U.setAttribute("class",Pe(ce+" "+y))):U.setAttribute("class",Pe(ce.replace(T," ")))}}function $e(y,T,U){return null==T?function(){this.style.removeProperty(y)}:"function"==typeof T?function(){var re=T.apply(this,arguments);null==re?this.style.removeProperty(y):this.style.setProperty(y,re,U)}:function(){this.style.setProperty(y,T,U)}}function Me(y,T){return null==T?function(){delete this[y]}:"function"==typeof T?function(){var U=T.apply(this,arguments);null==U?delete this[y]:this[y]=U}:function(){this[y]=T}}function ve(y){return"function"==typeof y?y:(y=s.ns.qualify(y)).local?function(){return this.ownerDocument.createElementNS(y.space,y.local)}:function(){var T=this.ownerDocument,U=this.namespaceURI;return U===xe&&T.documentElement.namespaceURI===xe?T.createElement(y):T.createElementNS(U,y)}}function Se(){var y=this.parentNode;y&&y.removeChild(this)}function Te(y){return{__data__:y}}function qe(y){return function(){return ae(this,y)}}function Oe(y){return arguments.length||(y=M),function(T,U){return T&&U?y(T.__data__,U.__data__):!T-!U}}function Fe(y,T){for(var U=0,re=y.length;U<re;U++)for(var ce,me=y[U],ye=0,Le=me.length;ye<Le;ye++)(ce=me[ye])&&T(ce,ye,U);return y}function Qe(y){return F(y,nt),y}s.ns={prefix:be,qualify:function(y){var T=y.indexOf(":"),U=y;return T>=0&&"xmlns"!==(U=y.slice(0,T))&&(y=y.slice(T+1)),be.hasOwnProperty(U)?{space:be[U],local:y}:y}},ue.attr=function(y,T){if(arguments.length<2){if("string"==typeof y){var U=this.node();return(y=s.ns.qualify(y)).local?U.getAttributeNS(y.space,y.local):U.getAttribute(y)}for(T in y)this.each(ke(T,y[T]));return this}return this.each(ke(y,T))},ue.classed=function(y,T){if(arguments.length<2){if("string"==typeof y){var U=this.node(),re=(y=Ue(y)).length,ce=-1;if(T=U.classList){for(;++ce<re;)if(!T.contains(y[ce]))return!1}else for(T=U.getAttribute("class");++ce<re;)if(!Re(y[ce]).test(T))return!1;return!0}for(T in y)this.each(tt(T,y[T]));return this}return this.each(tt(y,T))},ue.style=function(y,T,U){var re=arguments.length;if(re<3){if("string"!=typeof y){for(U in re<2&&(T=""),y)this.each($e(U,y[U],T));return this}if(re<2){var ce=this.node();return m(ce).getComputedStyle(ce,null).getPropertyValue(y)}U=""}return this.each($e(y,T,U))},ue.property=function(y,T){if(arguments.length<2){if("string"==typeof y)return this.node()[y];for(T in y)this.each(Me(T,y[T]));return this}return this.each(Me(y,T))},ue.text=function(y){return arguments.length?this.each("function"==typeof y?function(){var T=y.apply(this,arguments);this.textContent=T??""}:null==y?function(){this.textContent=""}:function(){this.textContent=y}):this.node().textContent},ue.html=function(y){return arguments.length?this.each("function"==typeof y?function(){var T=y.apply(this,arguments);this.innerHTML=T??""}:null==y?function(){this.innerHTML=""}:function(){this.innerHTML=y}):this.node().innerHTML},ue.append=function(y){return y=ve(y),this.select(function(){return this.appendChild(y.apply(this,arguments))})},ue.insert=function(y,T){return y=ve(y),T=fe(T),this.select(function(){return this.insertBefore(y.apply(this,arguments),T.apply(this,arguments)||null)})},ue.remove=function(){return this.each(Se)},ue.data=function(y,T){var U,re,ce=-1,me=this.length;if(!arguments.length){for(y=new Array(me=(U=this[0]).length);++ce<me;)(re=U[ce])&&(y[ce]=re.__data__);return y}function ye(Ie,at){var ot,Ct,kt,pt=Ie.length,Mt=at.length,lt=Math.min(pt,Mt),Rt=new Array(Mt),Dt=new Array(Mt),mt=new Array(pt);if(T){var rn,on=new E,Hn=new Array(pt);for(ot=-1;++ot<pt;)(Ct=Ie[ot])&&(on.has(rn=T.call(Ct,Ct.__data__,ot))?mt[ot]=Ct:on.set(rn,Ct),Hn[ot]=rn);for(ot=-1;++ot<Mt;)(Ct=on.get(rn=T.call(at,kt=at[ot],ot)))?!0!==Ct&&(Rt[ot]=Ct,Ct.__data__=kt):Dt[ot]=Te(kt),on.set(rn,!0);for(ot=-1;++ot<pt;)ot in Hn&&!0!==on.get(Hn[ot])&&(mt[ot]=Ie[ot])}else{for(ot=-1;++ot<lt;)kt=at[ot],(Ct=Ie[ot])?(Ct.__data__=kt,Rt[ot]=Ct):Dt[ot]=Te(kt);for(;ot<Mt;++ot)Dt[ot]=Te(at[ot]);for(;ot<pt;++ot)mt[ot]=Ie[ot]}Dt.update=Rt,Dt.parentNode=Rt.parentNode=mt.parentNode=Ie.parentNode,Le.push(Dt),He.push(Rt),De.push(mt)}var Le=Qe([]),He=O([]),De=O([]);if("function"==typeof y)for(;++ce<me;)ye(U=this[ce],y.call(U,U.parentNode.__data__,ce));else for(;++ce<me;)ye(U=this[ce],y);return He.enter=function(){return Le},He.exit=function(){return De},He},ue.datum=function(y){return arguments.length?this.property("__data__",y):this.property("__data__")},ue.filter=function(y){var T,U,re,ce=[];"function"!=typeof y&&(y=qe(y));for(var me=0,ye=this.length;me<ye;me++){ce.push(T=[]),T.parentNode=(U=this[me]).parentNode;for(var Le=0,He=U.length;Le<He;Le++)(re=U[Le])&&y.call(re,re.__data__,Le,me)&&T.push(re)}return O(ce)},ue.order=function(){for(var y=-1,T=this.length;++y<T;)for(var U,re=this[y],ce=re.length-1,me=re[ce];--ce>=0;)(U=re[ce])&&(me&&me!==U.nextSibling&&me.parentNode.insertBefore(U,me),me=U);return this},ue.sort=function(y){y=Oe.apply(this,arguments);for(var T=-1,U=this.length;++T<U;)this[T].sort(y);return this.order()},ue.each=function(y){return Fe(this,function(T,U,re){y.call(T,T.__data__,U,re)})},ue.call=function(y){var T=p(arguments);return y.apply(T[0]=this,T),this},ue.empty=function(){return!this.node()},ue.node=function(){for(var y=0,T=this.length;y<T;y++)for(var U=this[y],re=0,ce=U.length;re<ce;re++){var me=U[re];if(me)return me}return null},ue.size=function(){var y=0;return Fe(this,function(){++y}),y};var nt=[];function Ye(y){var T,U;return function(re,ce,me){var ye,Le=y[me].update,He=Le.length;for(me!=U&&(U=me,T=0),ce>=T&&(T=ce+1);!(ye=Le[T])&&++T<He;);return ye}}function rt(y,T,U){var re="__on"+y,ce=y.indexOf("."),me=Xe;ce>0&&(y=y.slice(0,ce));var ye=ht.get(y);function Le(){var He=this[re];He&&(this.removeEventListener(y,He,He.$),delete this[re])}return ye&&(y=ye,me=gt),ce?T?function(){var He=me(T,p(arguments));Le.call(this),this.addEventListener(y,this[re]=He,He.$=U),He._=T}:Le:T?ie:function(){var He,De=new RegExp("^__on([^.]+)"+s.requote(y)+"$");for(var Ie in this)if(He=Ie.match(De)){var at=this[Ie];this.removeEventListener(He[1],at,at.$),delete this[Ie]}}}s.selection.enter=Qe,s.selection.enter.prototype=nt,nt.append=ue.append,nt.empty=ue.empty,nt.node=ue.node,nt.call=ue.call,nt.size=ue.size,nt.select=function(y){for(var T,U,re,ce,me,ye=[],Le=-1,He=this.length;++Le<He;){re=(ce=this[Le]).update,ye.push(T=[]),T.parentNode=ce.parentNode;for(var De=-1,Ie=ce.length;++De<Ie;)(me=ce[De])?(T.push(re[De]=U=y.call(ce.parentNode,me.__data__,De,Le)),U.__data__=me.__data__):T.push(null)}return O(ye)},nt.insert=function(y,T){return arguments.length<2&&(T=Ye(this)),ue.insert.call(this,y,T)},s.select=function(y){var T;return"string"==typeof y?(T=[Y(y,c)]).parentNode=c.documentElement:(T=[y]).parentNode=l(y),O([T])},s.selectAll=function(y){var T;return"string"==typeof y?(T=p(B(y,c))).parentNode=c.documentElement:(T=p(y)).parentNode=null,O([T])},ue.on=function(y,T,U){var re=arguments.length;if(re<3){if("string"!=typeof y){for(U in re<2&&(T=!1),y)this.each(rt(U,y[U],T));return this}if(re<2)return(re=this.node()["__on"+y])&&re._;U=!1}return this.each(rt(y,T,U))};var ht=s.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Xe(y,T){return function(U){var re=s.event;s.event=U,T[0]=this.__data__;try{y.apply(this,T)}finally{s.event=re}}}function gt(y,T){var U=Xe(y,T);return function(re){var ce=re.relatedTarget;ce&&(ce===this||8&ce.compareDocumentPosition(this))||U.call(this,re)}}c&&ht.forEach(function(y){"on"+y in c&&ht.remove(y)});var xt,bt=0;function Ot(y){var T=".dragsuppress-"+ ++bt,U="click"+T,re=s.select(m(y)).on("touchmove"+T,j).on("dragstart"+T,j).on("selectstart"+T,j);if(null==xt&&(xt=!("onselectstart"in y)&&oe(y.style,"userSelect")),xt){var ce=l(y).style,me=ce[xt];ce[xt]="none"}return function(ye){if(re.on(T,null),xt&&(ce[xt]=me),ye){var Le=function(){re.on(U,null)};re.on(U,function(){j(),Le()},!0),setTimeout(Le,0)}}}s.mouse=function(y){return Be(y,$())};var wt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Be(y,T){T.changedTouches&&(T=T.changedTouches[0]);var U=y.ownerSVGElement||y;if(U.createSVGPoint){var re=U.createSVGPoint();if(wt<0){var ce=m(y);if(ce.scrollX||ce.scrollY){var me=(U=s.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();wt=!(me.f||me.e),U.remove()}}return wt?(re.x=T.pageX,re.y=T.pageY):(re.x=T.clientX,re.y=T.clientY),[(re=re.matrixTransform(y.getScreenCTM().inverse())).x,re.y]}var ye=y.getBoundingClientRect();return[T.clientX-ye.left-y.clientLeft,T.clientY-ye.top-y.clientTop]}function Ge(){return s.event.changedTouches[0].identifier}s.touch=function(y,T,U){if(arguments.length<3&&(U=T,T=$().changedTouches),T)for(var re,ce=0,me=T.length;ce<me;++ce)if((re=T[ce]).identifier===U)return Be(y,re)},s.behavior.drag=function(){var y=se(ce,"drag","dragstart","dragend"),T=null,U=me(ie,s.mouse,m,"mousemove","mouseup"),re=me(Ge,s.touch,ne,"touchmove","touchend");function ce(){this.on("mousedown.drag",U).on("touchstart.drag",re)}function me(ye,Le,He,De,Ie){return function(){var at,ot=this,Ct=s.event.target.correspondingElement||s.event.target,kt=ot.parentNode,pt=y.of(ot,arguments),Mt=0,lt=ye(),Rt=".drag"+(null==lt?"":"-"+lt),Dt=s.select(He(Ct)).on(De+Rt,on).on(Ie+Rt,Hn),mt=Ot(Ct),rn=Le(kt,lt);function on(){var Vn,$n,Zn=Le(kt,lt);Zn&&(Mt|=(Vn=Zn[0]-rn[0])|($n=Zn[1]-rn[1]),rn=Zn,pt({type:"drag",x:Zn[0]+at[0],y:Zn[1]+at[1],dx:Vn,dy:$n}))}function Hn(){Le(kt,lt)&&(Dt.on(De+Rt,null).on(Ie+Rt,null),mt(Mt),pt({type:"dragend"}))}at=T?[(at=T.apply(ot,arguments)).x-rn[0],at.y-rn[1]]:[0,0],pt({type:"dragstart"})}}return ce.origin=function(ye){return arguments.length?(T=ye,ce):T},s.rebind(ce,y,"on")},s.touches=function(y,T){return arguments.length<2&&(T=$().touches),T?p(T).map(function(U){var re=Be(y,U);return re.identifier=U.identifier,re}):[]};var vt=1e-6,Pt=Math.PI,Jt=2*Pt,tn=Jt-vt,Kt=Pt/2,qt=Pt/180,Nt=180/Pt;function ge(y){return y>1?Kt:y<-1?-Kt:Math.asin(y)}function _e(y){return((y=Math.exp(y))+1/y)/2}var We=Math.SQRT2;s.interpolateZoom=function(y,T){var U,re,ce=y[0],me=y[1],ye=y[2],De=T[2],Ie=T[0]-ce,at=T[1]-me,ot=Ie*Ie+at*at;if(ot<1e-12)re=Math.log(De/ye)/We,U=function(Rt){return[ce+Rt*Ie,me+Rt*at,ye*Math.exp(We*Rt*re)]};else{var Ct=Math.sqrt(ot),kt=(De*De-ye*ye+4*ot)/(2*ye*2*Ct),pt=(De*De-ye*ye-4*ot)/(2*De*2*Ct),Mt=Math.log(Math.sqrt(kt*kt+1)-kt),lt=Math.log(Math.sqrt(pt*pt+1)-pt);re=(lt-Mt)/We,U=function(Rt){var Dt,Hn,mt=Rt*re,rn=_e(Mt),on=ye/(2*Ct)*(rn*(Dt=We*mt+Mt,((Dt=Math.exp(2*Dt))-1)/(Dt+1))-(Hn=Mt,((Hn=Math.exp(Hn))-1/Hn)/2));return[ce+on*Ie,me+on*at,ye*rn/_e(We*mt+Mt)]}}return U.duration=1e3*re,U},s.behavior.zoom=function(){var y,T,U,re,ce,me,ye,Le,He,De={x:0,y:0,k:1},Ie=[960,500],at=st,ot=250,Ct=0,kt="mousedown.zoom",pt="mousemove.zoom",Mt="mouseup.zoom",lt="touchstart.zoom",Rt=se(Dt,"zoomstart","zoom","zoomend");function Dt(Mn){Mn.on(kt,qn).on(ft+".zoom",w1).on("dblclick.zoom",B2).on(lt,_2)}function mt(Mn){return[(Mn[0]-De.x)/De.k,(Mn[1]-De.y)/De.k]}function rn(Mn){De.k=Math.max(at[0],Math.min(at[1],Mn))}function on(Mn,Xn){var E2;De.x+=Mn[0]-(Xn=[(E2=Xn)[0]*De.k+De.x,E2[1]*De.k+De.y])[0],De.y+=Mn[1]-Xn[1]}function Hn(Mn,Xn,E2,k2){Mn.__chart__={x:De.x,y:De.y,k:De.k},rn(Math.pow(2,k2)),on(T=Xn,E2),Mn=s.select(Mn),ot>0&&(Mn=Mn.transition().duration(ot)),Mn.call(Dt.event)}function Vn(){ye&&ye.domain(me.range().map(function(Mn){return(Mn-De.x)/De.k}).map(me.invert)),He&&He.domain(Le.range().map(function(Mn){return(Mn-De.y)/De.k}).map(Le.invert))}function $n(Mn){Ct++||Mn({type:"zoomstart"})}function Zn(Mn){Vn(),Mn({type:"zoom",scale:De.k,translate:[De.x,De.y]})}function b2(Mn){--Ct||(Mn({type:"zoomend"}),T=null)}function qn(){var Mn=this,Xn=Rt.of(Mn,arguments),E2=0,k2=s.select(m(Mn)).on(pt,N1).on(Mt,l1),c1=mt(s.mouse(Mn)),b1=Ot(Mn);function N1(){E2=1,on(s.mouse(Mn),c1),Zn(Xn)}function l1(){k2.on(pt,null).on(Mt,null),b1(E2),b2(Xn)}Zr.call(Mn),$n(Xn)}function _2(){var Mn,Xn=this,E2=Rt.of(Xn,arguments),k2={},c1=0,b1=".zoom-"+s.event.changedTouches[0].identifier,N1="touchmove"+b1,l1="touchend"+b1,cr=[],xr=s.select(Xn),lr=Ot(Xn);function Er(){var R1=s.touches(Xn);return Mn=De.k,R1.forEach(function(mr){mr.identifier in k2&&(k2[mr.identifier]=mt(mr))}),R1}function rr(){var R1=s.event.target;s.select(R1).on(N1,Mr).on(l1,Cs),cr.push(R1);for(var mr=s.event.changedTouches,ta=0,rs=mr.length;ta<rs;++ta)k2[mr[ta].identifier]=null;var bs=Er(),Gs=Date.now();if(1===bs.length){if(Gs-ce<500){var Mo=bs[0];Hn(Xn,Mo,k2[Mo.identifier],Math.floor(Math.log(De.k)/Math.LN2)+1),j()}ce=Gs}else if(bs.length>1){var Ci=bs[1],wo=(Mo=bs[0])[0]-Ci[0],cc=Mo[1]-Ci[1];c1=wo*wo+cc*cc}}function Mr(){var R1,mr,ta,rs,bs=s.touches(Xn);Zr.call(Xn);for(var Gs=0,Mo=bs.length;Gs<Mo;++Gs,rs=null)if(rs=k2[(ta=bs[Gs]).identifier]){if(mr)break;R1=ta,mr=rs}if(rs){var Ci=(Ci=ta[0]-R1[0])*Ci+(Ci=ta[1]-R1[1])*Ci,wo=c1&&Math.sqrt(Ci/c1);R1=[(R1[0]+ta[0])/2,(R1[1]+ta[1])/2],mr=[(mr[0]+rs[0])/2,(mr[1]+rs[1])/2],rn(wo*Mn)}ce=null,on(R1,mr),Zn(E2)}function Cs(){if(s.event.touches.length){for(var R1=s.event.changedTouches,mr=0,ta=R1.length;mr<ta;++mr)delete k2[R1[mr].identifier];for(var rs in k2)return void Er()}s.selectAll(cr).on(b1,null),xr.on(kt,qn).on(lt,_2),lr(),b2(E2)}rr(),$n(E2),xr.on(kt,null).on(lt,rr)}function w1(){var Mn=Rt.of(this,arguments);re?clearTimeout(re):(Zr.call(this),y=mt(T=U||s.mouse(this)),$n(Mn)),re=setTimeout(function(){re=null,b2(Mn)},50),j(),rn(Math.pow(2,.002*Je())*De.k),on(T,y),Zn(Mn)}function B2(){var Mn=s.mouse(this),Xn=Math.log(De.k)/Math.LN2;Hn(this,Mn,mt(Mn),s.event.shiftKey?Math.ceil(Xn)-1:Math.floor(Xn)+1)}return ft||(ft="onwheel"in c?(Je=function(){return-s.event.deltaY*(s.event.deltaMode?120:1)},"wheel"):"onmousewheel"in c?(Je=function(){return s.event.wheelDelta},"mousewheel"):(Je=function(){return-s.event.detail},"MozMousePixelScroll")),Dt.event=function(Mn){Mn.each(function(){var Xn=Rt.of(this,arguments),E2=De;Gn?s.select(this).transition().each("start.zoom",function(){De=this.__chart__||{x:0,y:0,k:1},$n(Xn)}).tween("zoom:zoom",function(){var k2=Ie[0],b1=T?T[0]:k2/2,N1=T?T[1]:Ie[1]/2,l1=s.interpolateZoom([(b1-De.x)/De.k,(N1-De.y)/De.k,k2/De.k],[(b1-E2.x)/E2.k,(N1-E2.y)/E2.k,k2/E2.k]);return function(cr){var xr=l1(cr),lr=k2/xr[2];this.__chart__=De={x:b1-xr[0]*lr,y:N1-xr[1]*lr,k:lr},Zn(Xn)}}).each("interrupt.zoom",function(){b2(Xn)}).each("end.zoom",function(){b2(Xn)}):(this.__chart__=De,$n(Xn),Zn(Xn),b2(Xn))})},Dt.translate=function(Mn){return arguments.length?(De={x:+Mn[0],y:+Mn[1],k:De.k},Vn(),Dt):[De.x,De.y]},Dt.scale=function(Mn){return arguments.length?(De={x:De.x,y:De.y,k:null},rn(+Mn),Vn(),Dt):De.k},Dt.scaleExtent=function(Mn){return arguments.length?(at=null==Mn?st:[+Mn[0],+Mn[1]],Dt):at},Dt.center=function(Mn){return arguments.length?(U=Mn&&[+Mn[0],+Mn[1]],Dt):U},Dt.size=function(Mn){return arguments.length?(Ie=Mn&&[+Mn[0],+Mn[1]],Dt):Ie},Dt.duration=function(Mn){return arguments.length?(ot=+Mn,Dt):ot},Dt.x=function(Mn){return arguments.length?(ye=Mn,me=Mn.copy(),De={x:0,y:0,k:1},Dt):ye},Dt.y=function(Mn){return arguments.length?(He=Mn,Le=Mn.copy(),De={x:0,y:0,k:1},Dt):He},s.rebind(Dt,Rt,"on")};var Je,ft,st=[0,1/0];function et(){}function ut(y,T,U){return this instanceof ut?(this.h=+y,this.s=+T,void(this.l=+U)):arguments.length<2?y instanceof ut?new ut(y.h,y.s,y.l):Wn(""+y,kn,ut):new ut(y,T,U)}s.color=et,et.prototype.toString=function(){return this.rgb()+""},s.hsl=ut;var St=ut.prototype=new et;function Vt(y,T,U){var re,ce;function me(ye){return Math.round(255*((Le=ye)>360?Le-=360:Le<0&&(Le+=360),Le<60?re+(ce-re)*Le/60:Le<180?ce:Le<240?re+(ce-re)*(240-Le)/60:re));var Le}return y=isNaN(y)?0:(y%=360)<0?y+360:y,T=isNaN(T)||T<0?0:T>1?1:T,re=2*(U=U<0?0:U>1?1:U)-(ce=U<=.5?U*(1+T):U+T-U*T),new Ft(me(y+120),me(y),me(y-120))}function Bt(y,T,U){return this instanceof Bt?(this.h=+y,this.c=+T,void(this.l=+U)):arguments.length<2?y instanceof Bt?new Bt(y.h,y.c,y.l):sn(y instanceof Wt?y.l:(y=Xt((y=s.rgb(y)).r,y.g,y.b)).l,y.a,y.b):new Bt(y,T,U)}St.brighter=function(y){return y=Math.pow(.7,arguments.length?y:1),new ut(this.h,this.s,this.l/y)},St.darker=function(y){return y=Math.pow(.7,arguments.length?y:1),new ut(this.h,this.s,y*this.l)},St.rgb=function(){return Vt(this.h,this.s,this.l)},s.hcl=Bt;var an=Bt.prototype=new et;function Tt(y,T,U){return isNaN(y)&&(y=0),isNaN(T)&&(T=0),new Wt(U,Math.cos(y*=qt)*T,Math.sin(y)*T)}function Wt(y,T,U){return this instanceof Wt?(this.l=+y,this.a=+T,void(this.b=+U)):arguments.length<2?y instanceof Wt?new Wt(y.l,y.a,y.b):y instanceof Bt?Tt(y.h,y.c,y.l):Xt((y=Ft(y)).r,y.g,y.b):new Wt(y,T,U)}an.brighter=function(y){return new Bt(this.h,this.c,Math.min(100,this.l+dn*(arguments.length?y:1)))},an.darker=function(y){return new Bt(this.h,this.c,Math.max(0,this.l-dn*(arguments.length?y:1)))},an.rgb=function(){return Tt(this.h,this.c,this.l).rgb()},s.lab=Wt;var dn=18,At=Wt.prototype=new et;function zt(y,T,U){var re=(y+16)/116,ce=re+T/500,me=re-U/200;return new Ft(en(3.2404542*(ce=.95047*Qt(ce))-1.5371385*(re=1*Qt(re))-.4985314*(me=1.08883*Qt(me))),en(-.969266*ce+1.8760108*re+.041556*me),en(.0556434*ce-.2040259*re+1.0572252*me))}function sn(y,T,U){return y>0?new Bt(Math.atan2(U,T)*Nt,Math.sqrt(T*T+U*U),y):new Bt(NaN,NaN,y)}function Qt(y){return y>.206893034?y*y*y:(y-4/29)/7.787037}function jt(y){return y>.008856?Math.pow(y,1/3):7.787037*y+4/29}function en(y){return Math.round(255*(y<=.00304?12.92*y:1.055*Math.pow(y,1/2.4)-.055))}function Ft(y,T,U){return this instanceof Ft?(this.r=~~y,this.g=~~T,void(this.b=~~U)):arguments.length<2?y instanceof Ft?new Ft(y.r,y.g,y.b):Wn(""+y,Ft,Vt):new Ft(y,T,U)}function wn(y){return new Ft(y>>16,y>>8&255,255&y)}function bn(y){return wn(y)+""}At.brighter=function(y){return new Wt(Math.min(100,this.l+dn*(arguments.length?y:1)),this.a,this.b)},At.darker=function(y){return new Wt(Math.max(0,this.l-dn*(arguments.length?y:1)),this.a,this.b)},At.rgb=function(){return zt(this.l,this.a,this.b)},s.rgb=Ft;var Sn=Ft.prototype=new et;function Ln(y){return y<16?"0"+Math.max(0,y).toString(16):Math.min(255,y).toString(16)}function Wn(y,T,U){var re,ce,me,ye=0,Le=0,He=0;if(re=/([a-z]+)\((.*)\)/.exec(y=y.toLowerCase()))switch(ce=re[2].split(","),re[1]){case"hsl":return U(parseFloat(ce[0]),parseFloat(ce[1])/100,parseFloat(ce[2])/100);case"rgb":return T(nn(ce[0]),nn(ce[1]),nn(ce[2]))}return(me=gn.get(y))?T(me.r,me.g,me.b):(null==y||"#"!==y.charAt(0)||isNaN(me=parseInt(y.slice(1),16))||(4===y.length?(ye=(3840&me)>>4,ye|=ye>>4,Le=240&me,Le|=Le>>4,He=15&me,He|=He<<4):7===y.length&&(ye=(16711680&me)>>16,Le=(65280&me)>>8,He=255&me)),T(ye,Le,He))}function kn(y,T,U){var re,ce,me=Math.min(y/=255,T/=255,U/=255),ye=Math.max(y,T,U),Le=ye-me,He=(ye+me)/2;return Le?(ce=He<.5?Le/(ye+me):Le/(2-ye-me),re=y==ye?(T-U)/Le+(T<U?6:0):T==ye?(U-y)/Le+2:(y-T)/Le+4,re*=60):(re=NaN,ce=He>0&&He<1?0:re),new ut(re,ce,He)}function Xt(y,T,U){var re=jt((.4124564*(y=It(y))+.3575761*(T=It(T))+.1804375*(U=It(U)))/.95047),ce=jt((.2126729*y+.7151522*T+.072175*U)/1);return Wt(116*ce-16,500*(re-ce),200*(ce-jt((.0193339*y+.119192*T+.9503041*U)/1.08883)))}function It(y){return(y/=255)<=.04045?y/12.92:Math.pow((y+.055)/1.055,2.4)}function nn(y){var T=parseFloat(y);return"%"===y.charAt(y.length-1)?Math.round(2.55*T):T}Sn.brighter=function(y){y=Math.pow(.7,arguments.length?y:1);var T=this.r,U=this.g,re=this.b,ce=30;return T||U||re?(T&&T<ce&&(T=ce),U&&U<ce&&(U=ce),re&&re<ce&&(re=ce),new Ft(Math.min(255,T/y),Math.min(255,U/y),Math.min(255,re/y))):new Ft(ce,ce,ce)},Sn.darker=function(y){return new Ft((y=Math.pow(.7,arguments.length?y:1))*this.r,y*this.g,y*this.b)},Sn.hsl=function(){return kn(this.r,this.g,this.b)},Sn.toString=function(){return"#"+Ln(this.r)+Ln(this.g)+Ln(this.b)};var gn=s.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function cn(y){return"function"==typeof y?y:function(){return y}}function Fn(y){return function(T,U,re){return 2===arguments.length&&"function"==typeof U&&(re=U,U=null),An(T,U,y,re)}}function An(y,T,U,re){var Ie,ce={},me=s.dispatch("beforesend","progress","load","error"),ye={},Le=new XMLHttpRequest,He=null;function De(){var Ie,ot,Ct,at=Le.status;if(!at&&((Ct=(ot=Le).responseType)&&"text"!==Ct?ot.response:ot.responseText)||at>=200&&at<300||304===at){try{Ie=U.call(ce,Le)}catch(ot){return void me.error.call(ce,ot)}me.load.call(ce,Ie)}else me.error.call(ce,Le)}return self.XDomainRequest&&!("withCredentials"in Le)&&/^(http(s)?:)?\/\//.test(y)&&(Le=new XDomainRequest),"onload"in Le?Le.onload=Le.onerror=De:Le.onreadystatechange=function(){Le.readyState>3&&De()},Le.onprogress=function(Ie){var at=s.event;s.event=Ie;try{me.progress.call(ce,Le)}finally{s.event=at}},ce.header=function(Ie,at){return Ie=(Ie+"").toLowerCase(),arguments.length<2?ye[Ie]:(null==at?delete ye[Ie]:ye[Ie]=at+"",ce)},ce.mimeType=function(Ie){return arguments.length?(T=null==Ie?null:Ie+"",ce):T},ce.responseType=function(Ie){return arguments.length?(He=Ie,ce):He},ce.response=function(Ie){return U=Ie,ce},["get","post"].forEach(function(Ie){ce[Ie]=function(){return ce.send.apply(ce,[Ie].concat(p(arguments)))}}),ce.send=function(Ie,at,ot){if(2===arguments.length&&"function"==typeof at&&(ot=at,at=null),Le.open(Ie,y,!0),null==T||"accept"in ye||(ye.accept=T+",*/*"),Le.setRequestHeader)for(var Ct in ye)Le.setRequestHeader(Ct,ye[Ct]);return null!=T&&Le.overrideMimeType&&Le.overrideMimeType(T),null!=He&&(Le.responseType=He),null!=ot&&ce.on("error",ot).on("load",function(kt){ot(null,kt)}),me.beforesend.call(ce,Le),Le.send(at??null),ce},ce.abort=function(){return Le.abort(),ce},s.rebind(ce,me,"on"),null==re?ce:ce.get(1===(Ie=re).length?function(at,ot){Ie(null==at?ot:null)}:Ie)}gn.forEach(function(y,T){gn.set(y,wn(T))}),s.functor=cn,s.xhr=Fn(ne),s.dsv=function(y,T){var U=new RegExp('["'+y+"\n]"),re=y.charCodeAt(0);function ce(De,Ie,at){arguments.length<3&&(at=Ie,Ie=null);var ot=An(De,T,null==Ie?me:ye(Ie),at);return ot.row=function(Ct){return arguments.length?ot.response(null==(Ie=Ct)?me:ye(Ct)):Ie},ot}function me(De){return ce.parse(De.responseText)}function ye(De){return function(Ie){return ce.parse(Ie.responseText,De)}}function Le(De){return De.map(He).join(y)}function He(De){return U.test(De)?'"'+De.replace(/\"/g,'""')+'"':De}return ce.parse=function(De,Ie){var at;return ce.parseRows(De,function(ot,Ct){if(at)return at(ot,Ct-1);var kt=function(pt){for(var Mt={},lt=ot.length,Rt=0;Rt<lt;++Rt)Mt[ot[Rt]]=pt[Rt];return Mt};at=Ie?function(pt,Mt){return Ie(kt(pt),Mt)}:kt})},ce.parseRows=function(De,Ie){var at,ot,Ct={},kt={},pt=[],Mt=De.length,lt=0,Rt=0;function Dt(){if(lt>=Mt)return kt;if(ot)return ot=!1,Ct;var rn=lt;if(34===De.charCodeAt(rn)){for(var on=rn;on++<Mt;)if(34===De.charCodeAt(on)){if(34!==De.charCodeAt(on+1))break;++on}return lt=on+2,13===(Hn=De.charCodeAt(on+1))?(ot=!0,10===De.charCodeAt(on+2)&&++lt):10===Hn&&(ot=!0),De.slice(rn+1,on).replace(/""/g,'"')}for(;lt<Mt;){var Hn,Vn=1;if(10===(Hn=De.charCodeAt(lt++)))ot=!0;else if(13===Hn)ot=!0,10===De.charCodeAt(lt)&&(++lt,++Vn);else if(Hn!==re)continue;return De.slice(rn,lt-Vn)}return De.slice(rn)}for(;(at=Dt())!==kt;){for(var mt=[];at!==Ct&&at!==kt;)mt.push(at),at=Dt();Ie&&null==(mt=Ie(mt,Rt++))||pt.push(mt)}return pt},ce.format=function(De){if(Array.isArray(De[0]))return ce.formatRows(De);var Ie=new Z,at=[];return De.forEach(function(ot){for(var Ct in ot)Ie.has(Ct)||at.push(Ie.add(Ct))}),[at.map(He).join(y)].concat(De.map(function(ot){return at.map(function(Ct){return He(ot[Ct])}).join(y)})).join("\n")},ce.formatRows=function(De){return De.map(Le).join("\n")},ce},s.csv=s.dsv(",","text/csv"),s.tsv=s.dsv("\t","text/tab-separated-values");var _n,r2,g2,y2,h2=this[oe(this,"requestAnimationFrame")]||function(y){setTimeout(y,17)};function Yt(y,T,U){var re=arguments.length;re<2&&(T=0),re<3&&(U=Date.now());var me={c:y,t:U+T,n:null};return r2?r2.n=me:_n=me,r2=me,g2||(y2=clearTimeout(y2),g2=1,h2(Yn)),me}function Yn(){var y=Bn(),T=n2()-y;T>24?(isFinite(T)&&(clearTimeout(y2),y2=setTimeout(Yn,T)),g2=0):(g2=1,h2(Yn))}function Bn(){for(var y=Date.now(),T=_n;T;)y>=T.t&&T.c(y-T.t)&&(T.c=null),T=T.n;return y}function n2(){for(var y,T=_n,U=1/0;T;)T.c?(T.t<U&&(U=T.t),T=(y=T).n):T=y?y.n=T.n:_n=T.n;return r2=y,U}function On(y){return y[0]}function w2(y){return y[1]}function p2(y){for(var T,U,re,ce=y.length,me=[0,1],ye=2,Le=2;Le<ce;Le++){for(;ye>1&&((U=y[me[ye-1]])[0]-(T=y[me[ye-2]])[0])*((re=y[Le])[1]-T[1])-(U[1]-T[1])*(re[0]-T[0])<=0;)--ye;me[ye++]=Le}return me.slice(0,ye)}function Rn(y,T){return y[0]-T[0]||y[1]-T[1]}s.timer=function(){Yt.apply(this,arguments)},s.timer.flush=function(){Bn(),n2()},s.round=function(y,T){return T?Math.round(y*(T=Math.pow(10,T)))/T:Math.round(y)},s.geom={},s.geom.hull=function(y){var T=On,U=w2;if(arguments.length)return re(y);function re(ce){if(ce.length<3)return[];var me,ye=cn(T),Le=cn(U),He=ce.length,De=[],Ie=[];for(me=0;me<He;me++)De.push([+ye.call(this,ce[me],me),+Le.call(this,ce[me],me),me]);for(De.sort(Rn),me=0;me<He;me++)Ie.push([De[me][0],-De[me][1]]);var at=p2(De),ot=p2(Ie),Ct=ot[0]===at[0],kt=ot[ot.length-1]===at[at.length-1],pt=[];for(me=at.length-1;me>=0;--me)pt.push(ce[De[at[me]][2]]);for(me=+Ct;me<ot.length-kt;++me)pt.push(ce[De[ot[me]][2]]);return pt}return re.x=function(ce){return arguments.length?(T=ce,re):T},re.y=function(ce){return arguments.length?(U=ce,re):U},re},s.geom.polygon=function(y){return F(y,m2),y};var m2=s.geom.polygon.prototype=[];function S2(y,T,U){return(U[0]-T[0])*(y[1]-T[1])<(U[1]-T[1])*(y[0]-T[0])}function e2(y,T,U,re){var ce=y[0],me=U[0],ye=T[0]-ce,Le=re[0]-me,He=y[1],De=U[1],Ie=T[1]-He,at=re[1]-De,ot=(Le*(He-De)-at*(ce-me))/(at*ye-Le*Ie);return[ce+ot*ye,He+ot*Ie]}function Un(y){var T=y[0],U=y[y.length-1];return!(T[0]-U[0]||T[1]-U[1])}m2.area=function(){for(var y,T=-1,U=this.length,re=this[U-1],ce=0;++T<U;)ce+=(y=re)[1]*(re=this[T])[0]-y[0]*re[1];return.5*ce},m2.centroid=function(y){var T,U,re=-1,ce=this.length,me=0,ye=0,Le=this[ce-1];for(arguments.length||(y=-1/(6*this.area()));++re<ce;)me+=((T=Le)[0]+(Le=this[re])[0])*(U=T[0]*Le[1]-Le[0]*T[1]),ye+=(T[1]+Le[1])*U;return[me*y,ye*y]},m2.clip=function(y){for(var T,U,re,ce,me,ye,Le=Un(y),He=-1,De=this.length-Un(this),Ie=this[De-1];++He<De;){for(T=y.slice(),y.length=0,ce=this[He],me=T[(re=T.length-Le)-1],U=-1;++U<re;)S2(ye=T[U],Ie,ce)?(S2(me,Ie,ce)||y.push(e2(me,ye,Ie,ce)),y.push(ye)):S2(me,Ie,ce)&&y.push(e2(me,ye,Ie,ce)),me=ye;Le&&y.push(y[0]),Ie=ce}return y};var yn,z2,z1,Q2,J2,d1=[],O1=[];function H1(){Zo(this),this.edge=this.site=this.circle=null}function A1(y){var T=d1.pop()||new H1;return T.site=y,T}function j2(y){t1(y),z1.remove(y),d1.push(y),Zo(y)}function G2(y){var T=y.circle,U=T.x,re=T.cy,ce={x:U,y:re},me=y.P,ye=y.N,Le=[y];j2(y);for(var He=me;He.circle&&L(U-He.circle.x)<vt&&L(re-He.circle.cy)<vt;)me=He.P,Le.unshift(He),j2(He),He=me;Le.unshift(He),t1(He);for(var De=ye;De.circle&&L(U-De.circle.x)<vt&&L(re-De.circle.cy)<vt;)ye=De.N,Le.push(De),j2(De),De=ye;Le.push(De),t1(De);var Ie,at=Le.length;for(Ie=1;Ie<at;++Ie)Ps((De=Le[Ie]).edge,(He=Le[Ie-1]).site,De.site,ce);(De=Le[at-1]).edge=Yo((He=Le[0]).site,De.site,null,ce),Br(He),Br(De)}function Vr(y){for(var T,U,re,ce,me=y.x,ye=y.y,Le=z1._;Le;)if((re=ri(Le,ye)-me)>vt)Le=Le.L;else{if(!((ce=me-Pi(Le,ye))>vt)){re>-vt?(T=Le.P,U=Le):ce>-vt?(T=Le,U=Le.N):T=U=Le;break}if(!Le.R){T=Le;break}Le=Le.R}var He=A1(y);if(z1.insert(T,He),T||U){if(T===U)return t1(T),U=A1(T.site),z1.insert(He,U),He.edge=U.edge=Yo(T.site,He.site),Br(T),void Br(U);if(U){t1(T),t1(U);var De=T.site,Ie=De.x,at=De.y,ot=y.x-Ie,Ct=y.y-at,kt=U.site,pt=kt.x-Ie,Mt=kt.y-at,lt=2*(ot*Mt-Ct*pt),Rt=ot*ot+Ct*Ct,Dt=pt*pt+Mt*Mt,mt={x:(Mt*Rt-Ct*Dt)/lt+Ie,y:(ot*Dt-pt*Rt)/lt+at};Ps(U.edge,De,kt,mt),He.edge=Yo(De,y,null,mt),U.edge=Yo(y,kt,null,mt),Br(T),Br(U)}else He.edge=Yo(T.site,He.site)}}function ri(y,T){var U=y.site,re=U.x,ce=U.y,me=ce-T;if(!me)return re;var ye=y.P;if(!ye)return-1/0;var Le=(U=ye.site).x,He=U.y,De=He-T;if(!De)return Le;var Ie=Le-re,at=1/me-1/De,ot=Ie/De;return at?(-ot+Math.sqrt(ot*ot-2*at*(Ie*Ie/(-2*De)-He+De/2+ce-me/2)))/at+re:(re+Le)/2}function Pi(y,T){var U=y.N;if(U)return ri(U,T);var re=y.site;return re.y===T?re.x:1/0}function Nn(y){this.site=y,this.edges=[]}function F1(y,T){return T.angle-y.angle}function e1(){Zo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Br(y){var T=y.P,U=y.N;if(T&&U){var re=T.site,ce=y.site,me=U.site;if(re!==me){var ye=ce.x,Le=ce.y,He=re.x-ye,De=re.y-Le,Ie=me.x-ye,at=2*(He*(Mt=me.y-Le)-De*Ie);if(!(at>=-1e-12)){var ot=He*He+De*De,Ct=Ie*Ie+Mt*Mt,kt=(Mt*ot-De*Ct)/at,pt=(He*Ct-Ie*ot)/at,Mt=pt+Le,lt=O1.pop()||new e1;lt.arc=y,lt.site=ce,lt.x=kt+ye,lt.y=Mt+Math.sqrt(kt*kt+pt*pt),lt.cy=Mt,y.circle=lt;for(var Rt=null,Dt=J2._;Dt;)if(lt.y<Dt.y||lt.y===Dt.y&&lt.x<=Dt.x){if(!Dt.L){Rt=Dt.P;break}Dt=Dt.L}else{if(!Dt.R){Rt=Dt;break}Dt=Dt.R}J2.insert(Rt,lt),Rt||(Q2=lt)}}}}function t1(y){var T=y.circle;T&&(T.P||(Q2=T.N),J2.remove(T),O1.push(T),Zo(T),y.circle=null)}function j1(y,T){var U=y.b;if(U)return!0;var re,ce,me=y.a,ye=T[0][0],Le=T[1][0],He=T[0][1],De=T[1][1],Ie=y.l,at=y.r,ot=Ie.x,Ct=Ie.y,kt=at.x,pt=at.y,Mt=(ot+kt)/2;if(pt===Ct){if(Mt<ye||Mt>=Le)return;if(ot>kt){if(me){if(me.y>=De)return}else me={x:Mt,y:He};U={x:Mt,y:De}}else{if(me){if(me.y<He)return}else me={x:Mt,y:De};U={x:Mt,y:He}}}else if(ce=(Ct+pt)/2-(re=(ot-kt)/(pt-Ct))*Mt,re<-1||re>1)if(ot>kt){if(me){if(me.y>=De)return}else me={x:(He-ce)/re,y:He};U={x:(De-ce)/re,y:De}}else{if(me){if(me.y<He)return}else me={x:(De-ce)/re,y:De};U={x:(He-ce)/re,y:He}}else if(Ct<pt){if(me){if(me.x>=Le)return}else me={x:ye,y:re*ye+ce};U={x:Le,y:re*Le+ce}}else{if(me){if(me.x<ye)return}else me={x:Le,y:re*Le+ce};U={x:ye,y:re*ye+ce}}return y.a=me,y.b=U,!0}function Ml(y,T){this.l=y,this.r=T,this.a=this.b=null}function Yo(y,T,U,re){var ce=new Ml(y,T);return yn.push(ce),U&&Ps(ce,y,T,U),re&&Ps(ce,T,y,re),z2[y.i].edges.push(new fo(ce,y,T)),z2[T.i].edges.push(new fo(ce,T,y)),ce}function wl(y,T,U){var re=new Ml(y,null);return re.a=T,re.b=U,yn.push(re),re}function Ps(y,T,U,re){y.a||y.b?y.l===U?y.b=re:y.a=re:(y.a=re,y.l=T,y.r=U)}function fo(y,T,U){var re=y.a,ce=y.b;this.edge=y,this.site=T,this.angle=U?Math.atan2(U.y-T.y,U.x-T.x):y.l===T?Math.atan2(ce.x-re.x,re.y-ce.y):Math.atan2(re.x-ce.x,ce.y-re.y)}function U3(){this._=null}function Zo(y){y.U=y.C=y.L=y.R=y.P=y.N=null}function H2(y,T){var U=T,re=T.R,ce=U.U;ce?ce.L===U?ce.L=re:ce.R=re:y._=re,re.U=ce,U.U=re,U.R=re.L,U.R&&(U.R.U=U),re.L=U}function tr(y,T){var U=T,re=T.L,ce=U.U;ce?ce.L===U?ce.L=re:ce.R=re:y._=re,re.U=ce,U.U=re,U.L=re.R,U.L&&(U.L.U=U),re.R=U}function G4(y){for(;y.L;)y=y.L;return y}function Ar(y,T){var U,re,ce,me=y.sort($4).pop();for(yn=[],z2=new Array(y.length),z1=new U3,J2=new U3;;)if(ce=Q2,me&&(!ce||me.y<ce.y||me.y===ce.y&&me.x<ce.x))me.x===U&&me.y===re||(z2[me.i]=new Nn(me),Vr(me),U=me.x,re=me.y),me=y.pop();else{if(!ce)break;G2(ce.arc)}T&&(function(Le){for(var He,De,Ie,at,ot,Ct=yn,kt=(De=Le[0][0],Ie=Le[0][1],at=Le[1][0],ot=Le[1][1],function(Mt){var lt,Rt=Mt.a,Dt=Mt.b,mt=Rt.x,rn=Rt.y,on=0,Hn=1,Vn=Dt.x-mt,$n=Dt.y-rn;if(lt=De-mt,Vn||!(lt>0)){if(lt/=Vn,Vn<0){if(lt<on)return;lt<Hn&&(Hn=lt)}else if(Vn>0){if(lt>Hn)return;lt>on&&(on=lt)}if(lt=at-mt,Vn||!(lt<0)){if(lt/=Vn,Vn<0){if(lt>Hn)return;lt>on&&(on=lt)}else if(Vn>0){if(lt<on)return;lt<Hn&&(Hn=lt)}if(lt=Ie-rn,$n||!(lt>0)){if(lt/=$n,$n<0){if(lt<on)return;lt<Hn&&(Hn=lt)}else if($n>0){if(lt>Hn)return;lt>on&&(on=lt)}if(lt=ot-rn,$n||!(lt<0)){if(lt/=$n,$n<0){if(lt>Hn)return;lt>on&&(on=lt)}else if($n>0){if(lt<on)return;lt<Hn&&(Hn=lt)}return on>0&&(Mt.a={x:mt+on*Vn,y:rn+on*$n}),Hn<1&&(Mt.b={x:mt+Hn*Vn,y:rn+Hn*$n}),Mt}}}}}),pt=Ct.length;pt--;)(!j1(He=Ct[pt],Le)||!kt(He)||L(He.a.x-He.b.x)<vt&&L(He.a.y-He.b.y)<vt)&&(He.a=He.b=null,Ct.splice(pt,1))}(T),function(Le){for(var He,De,Ie,at,ot,Ct,kt,pt,Mt,lt,Rt=Le[0][0],Dt=Le[1][0],mt=Le[0][1],rn=Le[1][1],on=z2,Hn=on.length;Hn--;)if((ot=on[Hn])&&ot.prepare())for(pt=(kt=ot.edges).length,Ct=0;Ct<pt;)Ie=(lt=kt[Ct].end()).x,at=lt.y,He=(Mt=kt[++Ct%pt].start()).x,De=Mt.y,(L(Ie-He)>vt||L(at-De)>vt)&&(kt.splice(Ct,0,new fo(wl(ot.site,lt,L(Ie-Rt)<vt&&rn-at>vt?{x:Rt,y:L(He-Rt)<vt?De:rn}:L(at-rn)<vt&&Dt-Ie>vt?{x:L(De-rn)<vt?He:Dt,y:rn}:L(Ie-Dt)<vt&&at-mt>vt?{x:Dt,y:L(He-Dt)<vt?De:mt}:L(at-mt)<vt&&Ie-Rt>vt?{x:L(De-mt)<vt?He:Rt,y:mt}:null),ot.site,null)),++pt)}(T));var ye={cells:z2,edges:yn};return z1=J2=yn=z2=null,ye}function $4(y,T){return T.y-y.y||T.x-y.x}Nn.prototype.prepare=function(){for(var y,T=this.edges,U=T.length;U--;)(y=T[U].edge).b&&y.a||T.splice(U,1);return T.sort(F1),T.length},fo.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},U3.prototype={insert:function(y,T){var U,re,ce;if(y){if(T.P=y,T.N=y.N,y.N&&(y.N.P=T),y.N=T,y.R){for(y=y.R;y.L;)y=y.L;y.L=T}else y.R=T;U=y}else this._?(y=G4(this._),T.P=null,T.N=y,y.P=y.L=T,U=y):(T.P=T.N=null,this._=T,U=null);for(T.L=T.R=null,T.U=U,T.C=!0,y=T;U&&U.C;)U===(re=U.U).L?(ce=re.R)&&ce.C?(U.C=ce.C=!1,re.C=!0,y=re):(y===U.R&&(H2(this,U),U=(y=U).U),U.C=!1,re.C=!0,tr(this,re)):(ce=re.L)&&ce.C?(U.C=ce.C=!1,re.C=!0,y=re):(y===U.L&&(tr(this,U),U=(y=U).U),U.C=!1,re.C=!0,H2(this,re)),U=y.U;this._.C=!1},remove:function(y){y.N&&(y.N.P=y.P),y.P&&(y.P.N=y.N),y.N=y.P=null;var T,U,re,ce=y.U,me=y.L,ye=y.R;if(U=me?ye?G4(ye):me:ye,ce?ce.L===y?ce.L=U:ce.R=U:this._=U,me&&ye?(re=U.C,U.C=y.C,U.L=me,me.U=U,U!==ye?(ce=U.U,U.U=y.U,ce.L=y=U.R,U.R=ye,ye.U=U):(U.U=ce,ce=U,y=U.R)):(re=y.C,y=U),y&&(y.U=ce),!re)if(y&&y.C)y.C=!1;else{do{if(y===this._)break;if(y===ce.L){if((T=ce.R).C&&(T.C=!1,ce.C=!0,H2(this,ce),T=ce.R),T.L&&T.L.C||T.R&&T.R.C){T.R&&T.R.C||(T.L.C=!1,T.C=!0,tr(this,T),T=ce.R),T.C=ce.C,ce.C=T.R.C=!1,H2(this,ce),y=this._;break}}else if((T=ce.L).C&&(T.C=!1,ce.C=!0,tr(this,ce),T=ce.L),T.L&&T.L.C||T.R&&T.R.C){T.L&&T.L.C||(T.R.C=!1,T.C=!0,H2(this,T),T=ce.L),T.C=ce.C,ce.C=T.L.C=!1,tr(this,ce),y=this._;break}T.C=!0,y=ce,ce=ce.U}while(!y.C);y&&(y.C=!1)}}},s.geom.voronoi=function(y){var T=On,U=w2,re=T,ce=U,me=Xo;if(y)return ye(y);function ye(He){var De=new Array(He.length),Ie=me[0][0],at=me[0][1],ot=me[1][0],Ct=me[1][1];return Ar(Le(He),me).cells.forEach(function(kt,pt){var Mt=kt.edges,lt=kt.site;(De[pt]=Mt.length?Mt.map(function(Rt){var Dt=Rt.start();return[Dt.x,Dt.y]}):lt.x>=Ie&&lt.x<=ot&&lt.y>=at&&lt.y<=Ct?[[Ie,Ct],[ot,Ct],[ot,at],[Ie,at]]:[]).point=He[pt]}),De}function Le(He){return He.map(function(De,Ie){return{x:Math.round(re(De,Ie)/vt)*vt,y:Math.round(ce(De,Ie)/vt)*vt,i:Ie}})}return ye.links=function(He){return Ar(Le(He)).edges.filter(function(De){return De.l&&De.r}).map(function(De){return{source:He[De.l.i],target:He[De.r.i]}})},ye.triangles=function(He){var De=[];return Ar(Le(He)).cells.forEach(function(Ie,at){for(var ot,Ct,kt,pt,Mt=Ie.site,lt=Ie.edges.sort(F1),Rt=-1,Dt=lt.length,mt=lt[Dt-1].edge,rn=mt.l===Mt?mt.r:mt.l;++Rt<Dt;)ot=rn,rn=(mt=lt[Rt].edge).l===Mt?mt.r:mt.l,at<ot.i&&at<rn.i&&((Ct=Mt).x-(pt=rn).x)*((kt=ot).y-Ct.y)-(Ct.x-kt.x)*(pt.y-Ct.y)<0&&De.push([He[at],He[ot.i],He[rn.i]])}),De},ye.x=function(He){return arguments.length?(re=cn(T=He),ye):T},ye.y=function(He){return arguments.length?(ce=cn(U=He),ye):U},ye.clipExtent=function(He){return arguments.length?(me=He??Xo,ye):me===Xo?null:me},ye.size=function(He){return arguments.length?ye.clipExtent(He&&[[0,0],He]):me===Xo?null:me&&me[1]},ye};var Xo=[[-1e6,-1e6],[1e6,1e6]];function m1(y){return y.x}function h6(y){return y.y}function Ko(y,T,U,re,ce,me){if(!y(T,U,re,ce,me)){var ye=.5*(U+ce),Le=.5*(re+me),He=T.nodes;He[0]&&Ko(y,He[0],U,re,ye,Le),He[1]&&Ko(y,He[1],ye,re,ce,Le),He[2]&&Ko(y,He[2],U,Le,ye,me),He[3]&&Ko(y,He[3],ye,Le,ce,me)}}function p6(y,T,U,re,ce,me,ye){var Le,He=1/0;return function De(Ie,at,ot,Ct,kt){if(!(at>me||ot>ye||Ct<re||kt<ce)){if(pt=Ie.point){var pt,Mt=T-Ie.x,lt=U-Ie.y,Rt=Mt*Mt+lt*lt;if(Rt<He){var Dt=Math.sqrt(He=Rt);re=T-Dt,ce=U-Dt,me=T+Dt,ye=U+Dt,Le=pt}}for(var mt=Ie.nodes,rn=.5*(at+Ct),on=.5*(ot+kt),Hn=(U>=on)<<1|T>=rn,Vn=Hn+4;Hn<Vn;++Hn)if(Ie=mt[3&Hn])switch(3&Hn){case 0:De(Ie,at,ot,rn,on);break;case 1:De(Ie,rn,ot,Ct,on);break;case 2:De(Ie,at,on,rn,kt);break;case 3:De(Ie,rn,on,Ct,kt)}}}(y,re,ce,me,ye),Le}function hs(y,T){y=s.rgb(y),T=s.rgb(T);var U=y.r,re=y.g,ce=y.b,me=T.r-U,ye=T.g-re,Le=T.b-ce;return function(He){return"#"+Ln(Math.round(U+me*He))+Ln(Math.round(re+ye*He))+Ln(Math.round(ce+Le*He))}}function Qo(y,T){var U,re={},ce={};for(U in y)U in T?re[U]=ps(y[U],T[U]):ce[U]=y[U];for(U in T)U in y||(ce[U]=T[U]);return function(me){for(U in re)ce[U]=re[U](me);return ce}}function Ii(y,T){return y=+y,T=+T,function(U){return y*(1-U)+T*U}}function di(y,T){var U,re,ce,me=W4.lastIndex=hi.lastIndex=0,ye=-1,Le=[],He=[];for(y+="",T+="";(U=W4.exec(y))&&(re=hi.exec(T));)(ce=re.index)>me&&(ce=T.slice(me,ce),Le[ye]?Le[ye]+=ce:Le[++ye]=ce),(U=U[0])===(re=re[0])?Le[ye]?Le[ye]+=re:Le[++ye]=re:(Le[++ye]=null,He.push({i:ye,x:Ii(U,re)})),me=hi.lastIndex;return me<T.length&&(ce=T.slice(me),Le[ye]?Le[ye]+=ce:Le[++ye]=ce),Le.length<2?He[0]?(T=He[0].x,function(De){return T(De)+""}):function(){return T}:(T=He.length,function(De){for(var Ie,at=0;at<T;++at)Le[(Ie=He[at]).i]=Ie.x(De);return Le.join("")})}s.geom.delaunay=function(y){return s.geom.voronoi().triangles(y)},s.geom.quadtree=function(y,T,U,re,ce){var me,ye=On,Le=w2;if(me=arguments.length)return ye=m1,Le=h6,3===me&&(ce=U,re=T,U=T=0),He(y);function He(De){var Ie,at,ot,Ct,kt,pt,Mt,lt,Rt,Dt=cn(ye),mt=cn(Le);if(null!=T)pt=T,Mt=U,lt=re,Rt=ce;else if(lt=Rt=-(pt=Mt=1/0),at=[],ot=[],kt=De.length,me)for(Ct=0;Ct<kt;++Ct)(Ie=De[Ct]).x<pt&&(pt=Ie.x),Ie.y<Mt&&(Mt=Ie.y),Ie.x>lt&&(lt=Ie.x),Ie.y>Rt&&(Rt=Ie.y),at.push(Ie.x),ot.push(Ie.y);else for(Ct=0;Ct<kt;++Ct){var rn=+Dt(Ie=De[Ct],Ct),on=+mt(Ie,Ct);rn<pt&&(pt=rn),on<Mt&&(Mt=on),rn>lt&&(lt=rn),on>Rt&&(Rt=on),at.push(rn),ot.push(on)}var Hn=lt-pt,Vn=Rt-Mt;function $n(qn,_2,w1,B2,Mn,Xn,E2,k2){if(!isNaN(w1)&&!isNaN(B2))if(qn.leaf){var c1=qn.x,b1=qn.y;if(null!=c1)if(L(c1-w1)+L(b1-B2)<.01)Zn(qn,_2,w1,B2,Mn,Xn,E2,k2);else{var N1=qn.point;qn.x=qn.y=qn.point=null,Zn(qn,N1,c1,b1,Mn,Xn,E2,k2),Zn(qn,_2,w1,B2,Mn,Xn,E2,k2)}else qn.x=w1,qn.y=B2,qn.point=_2}else Zn(qn,_2,w1,B2,Mn,Xn,E2,k2)}function Zn(qn,_2,w1,B2,Mn,Xn,E2,k2){var c1=.5*(Mn+E2),b1=.5*(Xn+k2),N1=w1>=c1,l1=B2>=b1,cr=l1<<1|N1;qn.leaf=!1,N1?Mn=c1:E2=c1,l1?Xn=b1:k2=b1,$n(qn=qn.nodes[cr]||(qn.nodes[cr]={leaf:!0,nodes:[],point:null,x:null,y:null}),_2,w1,B2,Mn,Xn,E2,k2)}Hn>Vn?Rt=Mt+Hn:lt=pt+Vn;var b2={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(qn){$n(b2,qn,+Dt(qn,++Ct),+mt(qn,Ct),pt,Mt,lt,Rt)},visit:function(qn){Ko(qn,b2,pt,Mt,lt,Rt)},find:function(qn){return p6(b2,qn[0],qn[1],pt,Mt,lt,Rt)}};if(Ct=-1,null==T){for(;++Ct<kt;)$n(b2,De[Ct],at[Ct],ot[Ct],pt,Mt,lt,Rt);--Ct}else De.forEach(b2.add);return at=ot=De=Ie=null,b2}return He.x=function(De){return arguments.length?(ye=De,He):ye},He.y=function(De){return arguments.length?(Le=De,He):Le},He.extent=function(De){return arguments.length?(null==De?T=U=re=ce=null:(T=+De[0][0],U=+De[0][1],re=+De[1][0],ce=+De[1][1]),He):null==T?null:[[T,U],[re,ce]]},He.size=function(De){return arguments.length?(null==De?T=U=re=ce=null:(T=U=0,re=+De[0],ce=+De[1]),He):null==T?null:[re-T,ce-U]},He},s.interpolateRgb=hs,s.interpolateObject=Qo,s.interpolateNumber=Ii,s.interpolateString=di;var W4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hi=new RegExp(W4.source,"g");function ps(y,T){for(var U,re=s.interpolators.length;--re>=0&&!(U=s.interpolators[re](y,T)););return U}function Qa(y,T){var U,re=[],ce=[],me=y.length,ye=T.length,Le=Math.min(y.length,T.length);for(U=0;U<Le;++U)re.push(ps(y[U],T[U]));for(;U<me;++U)ce[U]=y[U];for(;U<ye;++U)ce[U]=T[U];return function(He){for(U=0;U<Le;++U)ce[U]=re[U](He);return ce}}s.interpolate=ps,s.interpolators=[function(y,T){var U=typeof T;return("string"===U?gn.has(T.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(T)?hs:di:T instanceof et?hs:Array.isArray(T)?Qa:"object"===U&&isNaN(T)?Qo:Ii)(y,T)}],s.interpolateArray=Qa;var pi=function(){return ne},j3=s.map({linear:pi,poly:function(y){return function(T){return Math.pow(T,y)}},quad:function(){return q4},cubic:function(){return Os},sin:function(){return g6},exp:function(){return v6},circle:function(){return Ja},elastic:function(y,T){var U;return arguments.length<2&&(T=.45),arguments.length?U=T/Jt*Math.asin(1/y):(y=1,U=T/4),function(re){return 1+y*Math.pow(2,-10*re)*Math.sin((re-U)*Jt/T)}},back:function(y){return y||(y=1.70158),function(T){return T*T*((y+1)*T-y)}},bounce:function(){return mi}}),ln=s.map({in:ne,out:$2,"in-out":Is,"out-in":function(y){return Is($2(y))}});function Y1(y){return function(T){return T<=0?0:T>=1?1:y(T)}}function $2(y){return function(T){return 1-y(1-T)}}function Is(y){return function(T){return.5*(T<.5?y(2*T):2-y(2-2*T))}}function q4(y){return y*y}function Os(y){return y*y*y}function m6(y){if(y<=0)return 0;if(y>=1)return 1;var T=y*y,U=T*y;return 4*(y<.5?U:3*(y-T)+U-.75)}function g6(y){return 1-Math.cos(y*Kt)}function v6(y){return Math.pow(2,10*(y-1))}function Ja(y){return 1-Math.sqrt(1-y*y)}function mi(y){return y<1/2.75?7.5625*y*y:y<2/2.75?7.5625*(y-=1.5/2.75)*y+.75:y<2.5/2.75?7.5625*(y-=2.25/2.75)*y+.9375:7.5625*(y-=2.625/2.75)*y+.984375}function ho(y,T){return T-=y,function(U){return Math.round(y+T*U)}}function y6(y){var T,U,re,ce=[y.a,y.b],me=[y.c,y.d],ye=ha(ce),Le=Oi(ce,me),He=ha(((T=me)[0]+=(re=-Le)*(U=ce)[0],T[1]+=re*U[1],T))||0;ce[0]*me[1]<me[0]*ce[1]&&(ce[0]*=-1,ce[1]*=-1,ye*=-1,Le*=-1),this.rotate=(ye?Math.atan2(ce[1],ce[0]):Math.atan2(-me[0],me[1]))*Nt,this.translate=[y.e,y.f],this.scale=[ye,He],this.skew=He?Math.atan2(Le,He)*Nt:0}function Oi(y,T){return y[0]*T[0]+y[1]*T[1]}function ha(y){var T=Math.sqrt(Oi(y,y));return T&&(y[0]/=T,y[1]/=T),T}s.ease=function(y){var T=y.indexOf("-"),U=T>=0?y.slice(0,T):y,re=T>=0?y.slice(T+1):"in";return U=j3.get(U)||pi,Y1((re=ln.get(re)||ne)(U.apply(null,g.call(arguments,1))))},s.interpolateHcl=function(y,T){y=s.hcl(y),T=s.hcl(T);var U=y.h,re=y.c,ce=y.l,me=T.h-U,ye=T.c-re,Le=T.l-ce;return isNaN(ye)&&(ye=0,re=isNaN(re)?T.c:re),isNaN(me)?(me=0,U=isNaN(U)?T.h:U):me>180?me-=360:me<-180&&(me+=360),function(He){return Tt(U+me*He,re+ye*He,ce+Le*He)+""}},s.interpolateHsl=function(y,T){y=s.hsl(y),T=s.hsl(T);var U=y.h,re=y.s,ce=y.l,me=T.h-U,ye=T.s-re,Le=T.l-ce;return isNaN(ye)&&(ye=0,re=isNaN(re)?T.s:re),isNaN(me)?(me=0,U=isNaN(U)?T.h:U):me>180?me-=360:me<-180&&(me+=360),function(He){return Vt(U+me*He,re+ye*He,ce+Le*He)+""}},s.interpolateLab=function(y,T){y=s.lab(y),T=s.lab(T);var U=y.l,re=y.a,ce=y.b,me=T.l-U,ye=T.a-re,Le=T.b-ce;return function(He){return zt(U+me*He,re+ye*He,ce+Le*He)+""}},s.interpolateRound=ho,s.transform=function(y){var T=c.createElementNS(s.ns.prefix.svg,"g");return(s.transform=function(U){if(null!=U){T.setAttribute("transform",U);var re=T.transform.baseVal.consolidate()}return new y6(re?re.matrix:k1)})(y)},y6.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var k1={a:1,b:0,c:0,d:1,e:0,f:0};function pa(y){return y.length?y.pop()+",":""}function Jo(y,T){var ce,me,ye,U=[],re=[];return y=s.transform(y),T=s.transform(T),function(ce,me,ye,Le){if(ce[0]!==me[0]||ce[1]!==me[1]){var He=ye.push("translate(",null,",",null,")");Le.push({i:He-4,x:Ii(ce[0],me[0])},{i:He-2,x:Ii(ce[1],me[1])})}else(me[0]||me[1])&&ye.push("translate("+me+")")}(y.translate,T.translate,U,re),ye=U,(ce=y.rotate)!==(me=T.rotate)?(ce-me>180?me+=360:me-ce>180&&(ce+=360),re.push({i:ye.push(pa(ye)+"rotate(",null,")")-2,x:Ii(ce,me)})):me&&ye.push(pa(ye)+"rotate("+me+")"),function(ce,me,ye,Le){ce!==me?Le.push({i:ye.push(pa(ye)+"skewX(",null,")")-2,x:Ii(ce,me)}):me&&ye.push(pa(ye)+"skewX("+me+")")}(y.skew,T.skew,U,re),function(ce,me,ye,Le){if(ce[0]!==me[0]||ce[1]!==me[1]){var He=ye.push(pa(ye)+"scale(",null,",",null,")");Le.push({i:He-4,x:Ii(ce[0],me[0])},{i:He-2,x:Ii(ce[1],me[1])})}else 1===me[0]&&1===me[1]||ye.push(pa(ye)+"scale("+me+")")}(y.scale,T.scale,U,re),y=T=null,function(ce){for(var me,ye=-1,Le=re.length;++ye<Le;)U[(me=re[ye]).i]=me.x(ce);return U.join("")}}function Y4(y,T){return T=(T-=y=+y)||1/T,function(U){return(U-y)/T}}function G3(y,T){return T=(T-=y=+y)||1/T,function(U){return Math.max(0,Math.min(1,(U-y)/T))}}function ma(y){for(var T=y.source,U=y.target,re=function(ye,Le){if(ye===Le)return ye;for(var He=po(ye),De=po(Le),Ie=He.pop(),at=De.pop(),ot=null;Ie===at;)ot=Ie,Ie=He.pop(),at=De.pop();return ot}(T,U),ce=[T];T!==re;)ce.push(T=T.parent);for(var me=ce.length;U!==re;)ce.splice(me,0,U),U=U.parent;return ce}function po(y){for(var T=[],U=y.parent;null!=U;)T.push(y),y=U,U=U.parent;return T.push(y),T}function Sl(y){y.fixed|=2}function L2(y){y.fixed&=-7}function Z4(y){y.fixed|=4,y.px=y.x,y.py=y.y}function mo(y){y.fixed&=-5}s.interpolateTransform=Jo,s.layout={},s.layout.bundle=function(){return function(y){for(var T=[],U=-1,re=y.length;++U<re;)T.push(ma(y[U]));return T}},s.layout.chord=function(){var y,T,U,re,ce,me,ye,Le={},He=0;function De(){var at,ot,Ct,kt,pt,Mt={},lt=[],Rt=s.range(re),Dt=[];for(y=[],T=[],at=0,kt=-1;++kt<re;){for(ot=0,pt=-1;++pt<re;)ot+=U[kt][pt];lt.push(ot),Dt.push(s.range(re)),at+=ot}for(ce&&Rt.sort(function(b2,qn){return ce(lt[b2],lt[qn])}),me&&Dt.forEach(function(b2,qn){b2.sort(function(_2,w1){return me(U[qn][_2],U[qn][w1])})}),at=(Jt-He*re)/at,ot=0,kt=-1;++kt<re;){for(Ct=ot,pt=-1;++pt<re;){var mt=Rt[kt],rn=Dt[mt][pt],on=U[mt][rn],Hn=ot,Vn=ot+=on*at;Mt[mt+"-"+rn]={index:mt,subindex:rn,startAngle:Hn,endAngle:Vn,value:on}}T[mt]={index:mt,startAngle:Ct,endAngle:ot,value:lt[mt]},ot+=He}for(kt=-1;++kt<re;)for(pt=kt-1;++pt<re;){var $n=Mt[kt+"-"+pt],Zn=Mt[pt+"-"+kt];($n.value||Zn.value)&&y.push($n.value<Zn.value?{source:Zn,target:$n}:{source:$n,target:Zn})}ye&&Ie()}function Ie(){y.sort(function(at,ot){return ye((at.source.value+at.target.value)/2,(ot.source.value+ot.target.value)/2)})}return Le.matrix=function(at){return arguments.length?(re=(U=at)&&U.length,y=T=null,Le):U},Le.padding=function(at){return arguments.length?(He=at,y=T=null,Le):He},Le.sortGroups=function(at){return arguments.length?(ce=at,y=T=null,Le):ce},Le.sortSubgroups=function(at){return arguments.length?(me=at,y=null,Le):me},Le.sortChords=function(at){return arguments.length?(ye=at,y&&Ie(),Le):ye},Le.chords=function(){return y||De(),y},Le.groups=function(){return T||De(),T},Le},s.layout.force=function(){var y,T,U,re,ce,me,ye={},Le=s.dispatch("start","tick","end"),He=[1,1],De=.9,Ie=X4,at=W1,ot=-30,Ct=_6,kt=.1,pt=.64,Mt=[],lt=[];function Rt(mt){return function(rn,on,Hn,Vn){if(rn.point!==mt){var $n=rn.cx-mt.x,Zn=rn.cy-mt.y,b2=Vn-on,qn=$n*$n+Zn*Zn;if(b2*b2/pt<qn){if(qn<Ct){var _2=rn.charge/qn;mt.px-=$n*_2,mt.py-=Zn*_2}return!0}rn.point&&qn&&qn<Ct&&(mt.px-=$n*(_2=rn.pointCharge/qn),mt.py-=Zn*_2)}return!rn.charge}}function Dt(mt){mt.px=s.event.x,mt.py=s.event.y,ye.resume()}return ye.tick=function(){if((U*=.99)<.005)return y=null,Le.end({type:"end",alpha:U=0}),!0;var mt,rn,on,Hn,Vn,$n,Zn,b2,qn,_2=Mt.length,w1=lt.length;for(rn=0;rn<w1;++rn)Hn=(on=lt[rn]).source,($n=(b2=(Vn=on.target).x-Hn.x)*b2+(qn=Vn.y-Hn.y)*qn)&&(b2*=$n=U*ce[rn]*(($n=Math.sqrt($n))-re[rn])/$n,qn*=$n,Vn.x-=b2*(Zn=Hn.weight+Vn.weight?Hn.weight/(Hn.weight+Vn.weight):.5),Vn.y-=qn*Zn,Hn.x+=b2*(Zn=1-Zn),Hn.y+=qn*Zn);if((Zn=U*kt)&&(b2=He[0]/2,qn=He[1]/2,rn=-1,Zn))for(;++rn<_2;)(on=Mt[rn]).x+=(b2-on.x)*Zn,on.y+=(qn-on.y)*Zn;if(ot)for(function B2(Mn,Xn,E2){var k2=0,c1=0;if(Mn.charge=0,!Mn.leaf)for(var b1,N1=Mn.nodes,l1=N1.length,cr=-1;++cr<l1;)null!=(b1=N1[cr])&&(B2(b1,Xn,E2),Mn.charge+=b1.charge,k2+=b1.charge*b1.cx,c1+=b1.charge*b1.cy);if(Mn.point){Mn.leaf||(Mn.point.x+=Math.random()-.5,Mn.point.y+=Math.random()-.5);var xr=Xn*E2[Mn.point.index];Mn.charge+=Mn.pointCharge=xr,k2+=xr*Mn.point.x,c1+=xr*Mn.point.y}Mn.cx=k2/Mn.charge,Mn.cy=c1/Mn.charge}(mt=s.geom.quadtree(Mt),U,me),rn=-1;++rn<_2;)(on=Mt[rn]).fixed||mt.visit(Rt(on));for(rn=-1;++rn<_2;)(on=Mt[rn]).fixed?(on.x=on.px,on.y=on.py):(on.x-=(on.px-(on.px=on.x))*De,on.y-=(on.py-(on.py=on.y))*De);Le.tick({type:"tick",alpha:U})},ye.nodes=function(mt){return arguments.length?(Mt=mt,ye):Mt},ye.links=function(mt){return arguments.length?(lt=mt,ye):lt},ye.size=function(mt){return arguments.length?(He=mt,ye):He},ye.linkDistance=function(mt){return arguments.length?(Ie="function"==typeof mt?mt:+mt,ye):Ie},ye.distance=ye.linkDistance,ye.linkStrength=function(mt){return arguments.length?(at="function"==typeof mt?mt:+mt,ye):at},ye.friction=function(mt){return arguments.length?(De=+mt,ye):De},ye.charge=function(mt){return arguments.length?(ot="function"==typeof mt?mt:+mt,ye):ot},ye.chargeDistance=function(mt){return arguments.length?(Ct=mt*mt,ye):Math.sqrt(Ct)},ye.gravity=function(mt){return arguments.length?(kt=+mt,ye):kt},ye.theta=function(mt){return arguments.length?(pt=mt*mt,ye):Math.sqrt(pt)},ye.alpha=function(mt){return arguments.length?(mt=+mt,U?mt>0?U=mt:(y.c=null,y.t=NaN,y=null,Le.end({type:"end",alpha:U=0})):mt>0&&(Le.start({type:"start",alpha:U=mt}),y=Yt(ye.tick)),ye):U},ye.start=function(){var mt,rn,on,Hn=Mt.length,Vn=lt.length,$n=He[0],Zn=He[1];for(mt=0;mt<Hn;++mt)(on=Mt[mt]).index=mt,on.weight=0;for(mt=0;mt<Vn;++mt)"number"==typeof(on=lt[mt]).source&&(on.source=Mt[on.source]),"number"==typeof on.target&&(on.target=Mt[on.target]),++on.source.weight,++on.target.weight;for(mt=0;mt<Hn;++mt)on=Mt[mt],isNaN(on.x)&&(on.x=b2("x",$n)),isNaN(on.y)&&(on.y=b2("y",Zn)),isNaN(on.px)&&(on.px=on.x),isNaN(on.py)&&(on.py=on.y);if(re=[],"function"==typeof Ie)for(mt=0;mt<Vn;++mt)re[mt]=+Ie.call(this,lt[mt],mt);else for(mt=0;mt<Vn;++mt)re[mt]=Ie;if(ce=[],"function"==typeof at)for(mt=0;mt<Vn;++mt)ce[mt]=+at.call(this,lt[mt],mt);else for(mt=0;mt<Vn;++mt)ce[mt]=at;if(me=[],"function"==typeof ot)for(mt=0;mt<Hn;++mt)me[mt]=+ot.call(this,Mt[mt],mt);else for(mt=0;mt<Hn;++mt)me[mt]=ot;function b2(qn,_2){if(!rn){for(rn=new Array(Hn),Xn=0;Xn<Hn;++Xn)rn[Xn]=[];for(Xn=0;Xn<Vn;++Xn){var w1=lt[Xn];rn[w1.source.index].push(w1.target),rn[w1.target.index].push(w1.source)}}for(var B2,Mn=rn[mt],Xn=-1,E2=Mn.length;++Xn<E2;)if(!isNaN(B2=Mn[Xn][qn]))return B2;return Math.random()*_2}return ye.resume()},ye.resume=function(){return ye.alpha(.1)},ye.stop=function(){return ye.alpha(0)},ye.drag=function(){if(T||(T=s.behavior.drag().origin(ne).on("dragstart.force",Sl).on("drag.force",Dt).on("dragend.force",L2)),!arguments.length)return T;this.on("mouseover.force",Z4).on("mouseout.force",mo).call(T)},s.rebind(ye,Le,"on")};var X4=20,W1=1,_6=1/0;function go(y,T){return s.rebind(y,T,"sort","children","value"),y.nodes=y,y.links=vo,y}function f2(y,T){for(var U=[y];null!=(y=U.pop());)if(T(y),(ce=y.children)&&(re=ce.length))for(var re,ce;--re>=0;)U.push(ce[re])}function Q1(y,T){for(var U=[y],re=[];null!=(y=U.pop());)if(re.push(y),(me=y.children)&&(ce=me.length))for(var ce,me,ye=-1;++ye<ce;)U.push(me[ye]);for(;null!=(y=re.pop());)T(y)}function E1(y){return y.children}function fr(y){return y.value}function ii(y,T){return T.value-y.value}function vo(y){return s.merge(y.map(function(T){return(T.children||[]).map(function(U){return{source:T,target:U}})}))}s.layout.hierarchy=function(){var y=ii,T=E1,U=fr;function re(ce){var me,ye=[ce],Le=[];for(ce.depth=0;null!=(me=ye.pop());)if(Le.push(me),(De=T.call(re,me,me.depth))&&(He=De.length)){for(var He,De,Ie;--He>=0;)ye.push(Ie=De[He]),Ie.parent=me,Ie.depth=me.depth+1;U&&(me.value=0),me.children=De}else U&&(me.value=+U.call(re,me,me.depth)||0),delete me.children;return Q1(ce,function(at){var ot,Ct;y&&(ot=at.children)&&ot.sort(y),U&&(Ct=at.parent)&&(Ct.value+=at.value)}),Le}return re.sort=function(ce){return arguments.length?(y=ce,re):y},re.children=function(ce){return arguments.length?(T=ce,re):T},re.value=function(ce){return arguments.length?(U=ce,re):U},re.revalue=function(ce){return U&&(f2(ce,function(me){me.children&&(me.value=0)}),Q1(ce,function(me){var ye;me.children||(me.value=+U.call(re,me,me.depth)||0),(ye=me.parent)&&(ye.value+=me.value)})),ce},re},s.layout.partition=function(){var y=s.layout.hierarchy(),T=[1,1];function U(re,ce){var me=y.call(this,re,ce);return function ye(Le,He,De,Ie){var at=Le.children;if(Le.x=He,Le.y=Le.depth*Ie,Le.dx=De,Le.dy=Ie,at&&(ot=at.length)){var ot,Ct,kt,pt=-1;for(De=Le.value?De/Le.value:0;++pt<ot;)ye(Ct=at[pt],He,kt=Ct.value*De,Ie),He+=kt}}(me[0],0,T[0],T[1]/function ye(Le){var He=Le.children,De=0;if(He&&(Ie=He.length))for(var Ie,at=-1;++at<Ie;)De=Math.max(De,ye(He[at]));return 1+De}(me[0])),me}return U.size=function(re){return arguments.length?(T=re,U):T},go(U,y)},s.layout.pie=function(){var y=Number,T=qr,U=0,re=Jt,ce=0;function me(ye){var Le,He=ye.length,De=ye.map(function(Rt,Dt){return+y.call(me,Rt,Dt)}),Ie=+("function"==typeof U?U.apply(this,arguments):U),at=("function"==typeof re?re.apply(this,arguments):re)-Ie,ot=Math.min(Math.abs(at)/He,+("function"==typeof ce?ce.apply(this,arguments):ce)),Ct=ot*(at<0?-1:1),kt=s.sum(De),pt=kt?(at-He*Ct)/kt:0,Mt=s.range(He),lt=[];return null!=T&&Mt.sort(T===qr?function(Rt,Dt){return De[Dt]-De[Rt]}:function(Rt,Dt){return T(ye[Rt],ye[Dt])}),Mt.forEach(function(Rt){lt[Rt]={data:ye[Rt],value:Le=De[Rt],startAngle:Ie,endAngle:Ie+=Le*pt+Ct,padAngle:ot}}),lt}return me.value=function(ye){return arguments.length?(y=ye,me):y},me.sort=function(ye){return arguments.length?(T=ye,me):T},me.startAngle=function(ye){return arguments.length?(U=ye,me):U},me.endAngle=function(ye){return arguments.length?(re=ye,me):re},me.padAngle=function(ye){return arguments.length?(ce=ye,me):ce},me};var qr={};function Pa(y){return y.x}function Qn(y){return y.y}function Y2(y,T,U){y.y0=T,y.y=U}s.layout.stack=function(){var y=ne,T=es,U=nr,re=Y2,ce=Pa,me=Qn;function ye(Le,He){if(!(ot=Le.length))return Le;var De=Le.map(function(Rt,Dt){return y.call(ye,Rt,Dt)}),Ie=De.map(function(Rt){return Rt.map(function(Dt,mt){return[ce.call(ye,Dt,mt),me.call(ye,Dt,mt)]})}),at=T.call(ye,Ie,He);De=s.permute(De,at),Ie=s.permute(Ie,at);var ot,Ct,kt,pt,Mt=U.call(ye,Ie,He),lt=De[0].length;for(kt=0;kt<lt;++kt)for(re.call(ye,De[0][kt],pt=Mt[kt],Ie[0][kt][1]),Ct=1;Ct<ot;++Ct)re.call(ye,De[Ct][kt],pt+=Ie[Ct-1][kt][1],Ie[Ct][kt][1]);return Le}return ye.values=function(Le){return arguments.length?(y=Le,ye):y},ye.order=function(Le){return arguments.length?(T="function"==typeof Le?Le:sr.get(Le)||es,ye):T},ye.offset=function(Le){return arguments.length?(U="function"==typeof Le?Le:ga.get(Le)||nr,ye):U},ye.x=function(Le){return arguments.length?(ce=Le,ye):ce},ye.y=function(Le){return arguments.length?(me=Le,ye):me},ye.out=function(Le){return arguments.length?(re=Le,ye):re},ye};var sr=s.map({"inside-out":function(y){var T,U,re=y.length,ce=y.map(Yr),me=y.map(or),ye=s.range(re).sort(function(at,ot){return ce[at]-ce[ot]}),Le=0,He=0,De=[],Ie=[];for(T=0;T<re;++T)U=ye[T],Le<He?(Le+=me[U],De.push(U)):(He+=me[U],Ie.push(U));return Ie.reverse().concat(De)},reverse:function(y){return s.range(y.length).reverse()},default:es}),ga=s.map({silhouette:function(y){var T,U,re,ce=y.length,me=y[0].length,ye=[],Le=0,He=[];for(U=0;U<me;++U){for(T=0,re=0;T<ce;T++)re+=y[T][U][1];re>Le&&(Le=re),ye.push(re)}for(U=0;U<me;++U)He[U]=(Le-ye[U])/2;return He},wiggle:function(y){var T,U,re,ce,me,ye,Le,He,De,Ie=y.length,at=y[0],ot=at.length,Ct=[];for(Ct[0]=He=De=0,U=1;U<ot;++U){for(T=0,ce=0;T<Ie;++T)ce+=y[T][U][1];for(T=0,me=0,Le=at[U][0]-at[U-1][0];T<Ie;++T){for(re=0,ye=(y[T][U][1]-y[T][U-1][1])/(2*Le);re<T;++re)ye+=(y[re][U][1]-y[re][U-1][1])/Le;me+=ye*y[T][U][1]}Ct[U]=He-=ce?me/ce*Le:0,He<De&&(De=He)}for(U=0;U<ot;++U)Ct[U]-=De;return Ct},expand:function(y){var T,U,re,ce=y.length,me=y[0].length,ye=1/ce,Le=[];for(U=0;U<me;++U){for(T=0,re=0;T<ce;T++)re+=y[T][U][1];if(re)for(T=0;T<ce;T++)y[T][U][1]/=re;else for(T=0;T<ce;T++)y[T][U][1]=ye}for(U=0;U<me;++U)Le[U]=0;return Le},zero:nr});function es(y){return s.range(y.length)}function nr(y){for(var T=-1,U=y[0].length,re=[];++T<U;)re[T]=0;return re}function Yr(y){for(var T,U=1,re=0,ce=y[0][1],me=y.length;U<me;++U)(T=y[U][1])>ce&&(re=U,ce=T);return re}function or(y){return y.reduce($3,0)}function $3(y,T){return y+T[1]}function W3(y,T){return s1(y,Math.ceil(Math.log(T.length)/Math.LN2+1))}function s1(y,T){for(var U=-1,re=+y[0],ce=(y[1]-re)/T,me=[];++U<=T;)me[U]=ce*U+re;return me}function K4(y){return[s.min(y),s.max(y)]}function e3(y,T){return y.value-T.value}function Fs(y,T){var U=y._pack_next;y._pack_next=T,T._pack_prev=y,T._pack_next=U,U._pack_prev=T}function Gt(y,T){y._pack_next=T,T._pack_prev=y}function hn(y,T){var U=T.x-y.x,re=T.y-y.y,ce=y.r+T.r;return.999*ce*ce>U*U+re*re}function fn(y){if((T=y.children)&&(He=T.length)){var T,U,re,ce,me,ye,Le,He,De=1/0,Ie=-1/0,at=1/0,ot=-1/0;if(T.forEach(t2),(U=T[0]).x=-U.r,U.y=0,Dt(U),He>1&&((re=T[1]).x=re.r,re.y=0,Dt(re),He>2))for(C1(U,re,ce=T[2]),Dt(ce),Fs(U,ce),U._pack_prev=ce,Fs(ce,re),re=U._pack_next,me=3;me<He;me++){C1(U,re,ce=T[me]);var Ct=0,kt=1,pt=1;for(ye=re._pack_next;ye!==re;ye=ye._pack_next,kt++)if(hn(ye,ce)){Ct=1;break}if(1==Ct)for(Le=U._pack_prev;Le!==ye._pack_prev&&!hn(Le,ce);Le=Le._pack_prev,pt++);Ct?(kt<pt||kt==pt&&re.r<U.r?Gt(U,re=ye):Gt(U=Le,re),me--):(Fs(U,ce),re=ce,Dt(ce))}var Mt=(De+Ie)/2,lt=(at+ot)/2,Rt=0;for(me=0;me<He;me++)(ce=T[me]).x-=Mt,ce.y-=lt,Rt=Math.max(Rt,ce.r+Math.sqrt(ce.x*ce.x+ce.y*ce.y));y.r=Rt,T.forEach(D2)}function Dt(mt){De=Math.min(mt.x-mt.r,De),Ie=Math.max(mt.x+mt.r,Ie),at=Math.min(mt.y-mt.r,at),ot=Math.max(mt.y+mt.r,ot)}}function t2(y){y._pack_next=y._pack_prev=y}function D2(y){delete y._pack_next,delete y._pack_prev}function C1(y,T,U){var re=y.r+U.r,ce=T.x-y.x,me=T.y-y.y;if(re&&(ce||me)){var ye=T.r+U.r,Le=ce*ce+me*me,He=.5+((re*=re)-(ye*=ye))/(2*Le),De=Math.sqrt(Math.max(0,2*ye*(re+Le)-(re-=Le)*re-ye*ye))/(2*Le);U.x=y.x+He*ce+De*me,U.y=y.y+He*me-De*ce}else U.x=y.x+re,U.y=y.y}function dr(y,T){return y.parent==T.parent?1:2}function T2(y){var T=y.children;return T.length?T[0]:y.t}function q3(y){var T,U=y.children;return(T=U.length)?U[T-1]:y.t}function Q4(y,T,U){var re=U/(T.i-y.i);T.c-=re,T.s+=U,y.c+=re,T.z+=U,T.m+=U}function Fi(y,T,U){return y.a.parent===T.parent?y.a:U}function ts(y){return{x:y.x,y:y.y,dx:y.dx,dy:y.dy}}function t3(y,T){var U=y.x+T[3],re=y.y+T[0],ce=y.dx-T[1]-T[3],me=y.dy-T[0]-T[2];return ce<0&&(U+=ce/2,ce=0),me<0&&(re+=me/2,me=0),{x:U,y:re,dx:ce,dy:me}}function gi(y){var T=y[0],U=y[y.length-1];return T<U?[T,U]:[U,T]}function hr(y){return y.rangeExtent?y.rangeExtent():gi(y.range())}function J4(y,T,U,re){var ce=U(y[0],y[1]),me=re(T[0],T[1]);return function(ye){return me(ce(ye))}}function X2(y,T){var U,re=0,ce=y.length-1,me=y[re],ye=y[ce];return ye<me&&(U=re,re=ce,ce=U,U=me,me=ye,ye=U),y[re]=T.floor(me),y[ce]=T.ceil(ye),y}function Ji(y){return y?{floor:function(T){return Math.floor(T/y)*y},ceil:function(T){return Math.ceil(T/y)*y}}:Y3}s.layout.histogram=function(){var y=!0,T=Number,U=K4,re=W3;function ce(me,ye){for(var Le,He,De=[],Ie=me.map(T,this),at=U.call(this,Ie,ye),ot=re.call(this,at,Ie,ye),Ct=(ye=-1,Ie.length),kt=ot.length-1,pt=y?1:1/Ct;++ye<kt;)(Le=De[ye]=[]).dx=ot[ye+1]-(Le.x=ot[ye]),Le.y=0;if(kt>0)for(ye=-1;++ye<Ct;)(He=Ie[ye])>=at[0]&&He<=at[1]&&((Le=De[s.bisect(ot,He,1,kt)-1]).y+=pt,Le.push(me[ye]));return De}return ce.value=function(me){return arguments.length?(T=me,ce):T},ce.range=function(me){return arguments.length?(U=cn(me),ce):U},ce.bins=function(me){return arguments.length?(re="number"==typeof me?function(ye){return s1(ye,me)}:cn(me),ce):re},ce.frequency=function(me){return arguments.length?(y=!!me,ce):y},ce},s.layout.pack=function(){var y,T=s.layout.hierarchy().sort(e3),U=0,re=[1,1];function ce(me,ye){var Le=T.call(this,me,ye),He=Le[0],De=re[0],Ie=re[1],at=null==y?Math.sqrt:"function"==typeof y?y:function(){return y};if(He.x=He.y=0,Q1(He,function(Ct){Ct.r=+at(Ct.value)}),Q1(He,fn),U){var ot=U*(y?1:Math.max(2*He.r/De,2*He.r/Ie))/2;Q1(He,function(Ct){Ct.r+=ot}),Q1(He,fn),Q1(He,function(Ct){Ct.r-=ot})}return function Ct(kt,pt,Mt,lt){var Rt=kt.children;if(kt.x=pt+=lt*kt.x,kt.y=Mt+=lt*kt.y,kt.r*=lt,Rt)for(var Dt=-1,mt=Rt.length;++Dt<mt;)Ct(Rt[Dt],pt,Mt,lt)}(He,De/2,Ie/2,y?1:1/Math.max(2*He.r/De,2*He.r/Ie)),Le}return ce.size=function(me){return arguments.length?(re=me,ce):re},ce.radius=function(me){return arguments.length?(y=null==me||"function"==typeof me?me:+me,ce):y},ce.padding=function(me){return arguments.length?(U=+me,ce):U},go(ce,T)},s.layout.tree=function(){var y=s.layout.hierarchy().sort(null).value(null),T=dr,U=[1,1],re=null;function ce(He,De){var Ie=y.call(this,He,De),at=Ie[0],ot=function(Dt){for(var mt,rn={A:null,children:[Dt]},on=[rn];null!=(mt=on.pop());)for(var Hn,Vn=mt.children,$n=0,Zn=Vn.length;$n<Zn;++$n)on.push((Vn[$n]=Hn={_:Vn[$n],parent:mt,children:(Hn=Vn[$n].children)&&Hn.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:$n}).a=Hn);return rn.children[0]}(at);if(Q1(ot,me),ot.parent.m=-ot.z,f2(ot,ye),re)f2(at,Le);else{var Ct=at,kt=at,pt=at;f2(at,function(Dt){Dt.x<Ct.x&&(Ct=Dt),Dt.x>kt.x&&(kt=Dt),Dt.depth>pt.depth&&(pt=Dt)});var Mt=T(Ct,kt)/2-Ct.x,lt=U[0]/(kt.x+T(kt,Ct)/2+Mt),Rt=U[1]/(pt.depth||1);f2(at,function(Dt){Dt.x=(Dt.x+Mt)*lt,Dt.y=Dt.depth*Rt})}return Ie}function me(He){var De=He.children,Ie=He.parent.children,at=He.i?Ie[He.i-1]:null;if(De.length){!function(Ct){for(var kt,pt=0,Mt=0,lt=Ct.children,Rt=lt.length;--Rt>=0;)(kt=lt[Rt]).z+=pt,kt.m+=pt,pt+=kt.s+(Mt+=kt.c)}(He);var ot=(De[0].z+De[De.length-1].z)/2;at?(He.z=at.z+T(He._,at._),He.m=He.z-ot):He.z=ot}else at&&(He.z=at.z+T(He._,at._));He.parent.A=function(Ct,kt,pt){if(kt){for(var Mt,lt=Ct,Rt=Ct,Dt=kt,mt=lt.parent.children[0],rn=lt.m,on=Rt.m,Hn=Dt.m,Vn=mt.m;Dt=q3(Dt),lt=T2(lt),Dt&&lt;)mt=T2(mt),(Rt=q3(Rt)).a=Ct,(Mt=Dt.z+Hn-lt.z-rn+T(Dt._,lt._))>0&&(Q4(Fi(Dt,Ct,pt),Ct,Mt),rn+=Mt,on+=Mt),Hn+=Dt.m,rn+=lt.m,Vn+=mt.m,on+=Rt.m;Dt&&!q3(Rt)&&(Rt.t=Dt,Rt.m+=Hn-on),lt&&!T2(mt)&&(mt.t=lt,mt.m+=rn-Vn,pt=Ct)}return pt}(He,at,He.parent.A||Ie[0])}function ye(He){He._.x=He.z+He.parent.m,He.m+=He.parent.m}function Le(He){He.x*=U[0],He.y=He.depth*U[1]}return ce.separation=function(He){return arguments.length?(T=He,ce):T},ce.size=function(He){return arguments.length?(re=null==(U=He)?Le:null,ce):re?null:U},ce.nodeSize=function(He){return arguments.length?(re=null==(U=He)?null:Le,ce):re?U:null},go(ce,y)},s.layout.cluster=function(){var y=s.layout.hierarchy().sort(null).value(null),T=dr,U=[1,1],re=!1;function ce(me,ye){var Le,He=y.call(this,me,ye),De=He[0],Ie=0;Q1(De,function(pt){var lt,Mt=pt.children;Mt&&Mt.length?(pt.x=(lt=Mt).reduce(function(Rt,Dt){return Rt+Dt.x},0)/lt.length,pt.y=function(lt){return 1+s.max(lt,function(Rt){return Rt.y})}(Mt)):(pt.x=Le?Ie+=T(pt,Le):0,pt.y=0,Le=pt)});var at=function pt(Mt){var lt=Mt.children;return lt&&lt.length?pt(lt[0]):Mt}(De),ot=function pt(Mt){var lt,Rt=Mt.children;return Rt&&(lt=Rt.length)?pt(Rt[lt-1]):Mt}(De),Ct=at.x-T(at,ot)/2,kt=ot.x+T(ot,at)/2;return Q1(De,re?function(pt){pt.x=(pt.x-De.x)*U[0],pt.y=(De.y-pt.y)*U[1]}:function(pt){pt.x=(pt.x-Ct)/(kt-Ct)*U[0],pt.y=(1-(De.y?pt.y/De.y:1))*U[1]}),He}return ce.separation=function(me){return arguments.length?(T=me,ce):T},ce.size=function(me){return arguments.length?(re=null==(U=me),ce):re?null:U},ce.nodeSize=function(me){return arguments.length?(re=null!=(U=me),ce):re?U:null},go(ce,y)},s.layout.treemap=function(){var y,T=s.layout.hierarchy(),U=Math.round,re=[1,1],ce=null,me=ts,ye=!1,Le="squarify",He=.5*(1+Math.sqrt(5));function De(pt,Mt){for(var lt,Rt,Dt=-1,mt=pt.length;++Dt<mt;)Rt=(lt=pt[Dt]).value*(Mt<0?0:Mt),lt.area=isNaN(Rt)||Rt<=0?0:Rt}function Ie(pt){var Mt=pt.children;if(Mt&&Mt.length){var lt,Rt,Dt,mt=me(pt),rn=[],on=Mt.slice(),Hn=1/0,Vn="slice"===Le?mt.dx:"dice"===Le?mt.dy:"slice-dice"===Le?1&pt.depth?mt.dy:mt.dx:Math.min(mt.dx,mt.dy);for(De(on,mt.dx*mt.dy/pt.value),rn.area=0;(Dt=on.length)>0;)rn.push(lt=on[Dt-1]),rn.area+=lt.area,"squarify"!==Le||(Rt=ot(rn,Vn))<=Hn?(on.pop(),Hn=Rt):(rn.area-=rn.pop().area,Ct(rn,Vn,mt,!1),Vn=Math.min(mt.dx,mt.dy),rn.length=rn.area=0,Hn=1/0);rn.length&&(Ct(rn,Vn,mt,!0),rn.length=rn.area=0),Mt.forEach(Ie)}}function at(pt){var Mt=pt.children;if(Mt&&Mt.length){var lt,Rt=me(pt),Dt=Mt.slice(),mt=[];for(De(Dt,Rt.dx*Rt.dy/pt.value),mt.area=0;lt=Dt.pop();)mt.push(lt),mt.area+=lt.area,null!=lt.z&&(Ct(mt,lt.z?Rt.dx:Rt.dy,Rt,!Dt.length),mt.length=mt.area=0);Mt.forEach(at)}}function ot(pt,Mt){for(var lt,Rt=pt.area,Dt=0,mt=1/0,rn=-1,on=pt.length;++rn<on;)(lt=pt[rn].area)&&(lt<mt&&(mt=lt),lt>Dt&&(Dt=lt));return Mt*=Mt,(Rt*=Rt)?Math.max(Mt*Dt*He/Rt,Rt/(Mt*mt*He)):1/0}function Ct(pt,Mt,lt,Rt){var Dt,mt=-1,rn=pt.length,on=lt.x,Hn=lt.y,Vn=Mt?U(pt.area/Mt):0;if(Mt==lt.dx){for((Rt||Vn>lt.dy)&&(Vn=lt.dy);++mt<rn;)(Dt=pt[mt]).x=on,Dt.y=Hn,Dt.dy=Vn,on+=Dt.dx=Math.min(lt.x+lt.dx-on,Vn?U(Dt.area/Vn):0);Dt.z=!0,Dt.dx+=lt.x+lt.dx-on,lt.y+=Vn,lt.dy-=Vn}else{for((Rt||Vn>lt.dx)&&(Vn=lt.dx);++mt<rn;)(Dt=pt[mt]).x=on,Dt.y=Hn,Dt.dx=Vn,Hn+=Dt.dy=Math.min(lt.y+lt.dy-Hn,Vn?U(Dt.area/Vn):0);Dt.z=!1,Dt.dy+=lt.y+lt.dy-Hn,lt.x+=Vn,lt.dx-=Vn}}function kt(pt){var Mt=y||T(pt),lt=Mt[0];return lt.x=lt.y=0,lt.value?(lt.dx=re[0],lt.dy=re[1]):lt.dx=lt.dy=0,y&&T.revalue(lt),De([lt],lt.dx*lt.dy/lt.value),(y?at:Ie)(lt),ye&&(y=Mt),Mt}return kt.size=function(pt){return arguments.length?(re=pt,kt):re},kt.padding=function(pt){if(!arguments.length)return ce;function Mt(Dt){var mt=pt.call(kt,Dt,Dt.depth);return null==mt?ts(Dt):t3(Dt,"number"==typeof mt?[mt,mt,mt,mt]:mt)}function lt(Dt){return t3(Dt,pt)}var Rt;return me=null==(ce=pt)?ts:"function"==(Rt=typeof pt)?Mt:("number"===Rt&&(pt=[pt,pt,pt,pt]),lt),kt},kt.round=function(pt){return arguments.length?(U=pt?Math.round:Number,kt):U!=Number},kt.sticky=function(pt){return arguments.length?(ye=pt,y=null,kt):ye},kt.ratio=function(pt){return arguments.length?(He=pt,kt):He},kt.mode=function(pt){return arguments.length?(Le=pt+"",kt):Le},go(kt,T)},s.random={normal:function(y,T){var U=arguments.length;return U<2&&(T=1),U<1&&(y=0),function(){var re,ce,me;do{me=(re=2*Math.random()-1)*re+(ce=2*Math.random()-1)*ce}while(!me||me>1);return y+T*re*Math.sqrt(-2*Math.log(me)/me)}},logNormal:function(){var y=s.random.normal.apply(s,arguments);return function(){return Math.exp(y())}},bates:function(y){var T=s.random.irwinHall(y);return function(){return T()/y}},irwinHall:function(y){return function(){for(var T=0,U=0;U<y;U++)T+=Math.random();return T}}},s.scale={};var Y3={floor:ne,ceil:ne};function ms(y,T,U,re){var ce=[],me=[],ye=0,Le=Math.min(y.length,T.length)-1;for(y[Le]<y[0]&&(y=y.slice().reverse(),T=T.slice().reverse());++ye<=Le;)ce.push(U(y[ye-1],y[ye])),me.push(re(T[ye-1],T[ye]));return function(He){var De=s.bisect(y,He,1,Le)-1;return me[De](ce[De](He))}}function n3(y,T){return s.rebind(y,T,"range","rangeRound","interpolate","clamp")}function ea(y,T){return X2(y,Ji(ec(y,T)[2])),X2(y,Ji(ec(y,T)[2])),y}function ec(y,T){null==T&&(T=10);var U=gi(y),re=U[1]-U[0],ce=Math.pow(10,Math.floor(Math.log(re/T)/Math.LN10)),me=T/re*ce;return me<=.15?ce*=10:me<=.35?ce*=5:me<=.75&&(ce*=2),U[0]=Math.ceil(U[0]/ce)*ce,U[1]=Math.floor(U[1]/ce)*ce+.5*ce,U[2]=ce,U}function r3(y,T){return s.range.apply(s,ec(y,T))}s.scale.linear=function(){return function y(T,U,re,ce){var me,ye;function Le(){var De=Math.min(T.length,U.length)>2?ms:J4,Ie=ce?G3:Y4;return me=De(T,U,Ie,re),ye=De(U,T,Ie,ps),He}function He(De){return me(De)}return He.invert=function(De){return ye(De)},He.domain=function(De){return arguments.length?(T=De.map(Number),Le()):T},He.range=function(De){return arguments.length?(U=De,Le()):U},He.rangeRound=function(De){return He.range(De).interpolate(ho)},He.clamp=function(De){return arguments.length?(ce=De,Le()):ce},He.interpolate=function(De){return arguments.length?(re=De,Le()):re},He.ticks=function(De){return r3(T,De)},He.tickFormat=function(De,Ie){return d3_scale_linearTickFormat(T,De,Ie)},He.nice=function(De){return ea(T,De),Le()},He.copy=function(){return y(T,U,re,ce)},Le()}([0,1],[0,1],ps,!1)},s.scale.log=function(){return function y(T,U,re,ce){function me(He){return(re?Math.log(He<0?0:He):-Math.log(He>0?0:-He))/Math.log(U)}function ye(He){return re?Math.pow(U,He):-Math.pow(U,-He)}function Le(He){return T(me(He))}return Le.invert=function(He){return ye(T.invert(He))},Le.domain=function(He){return arguments.length?(re=He[0]>=0,T.domain((ce=He.map(Number)).map(me)),Le):ce},Le.base=function(He){return arguments.length?(U=+He,T.domain(ce.map(me)),Le):U},Le.nice=function(){var He=X2(ce.map(me),re?Math:gs);return T.domain(He),ce=He.map(ye),Le},Le.ticks=function(){var He=gi(ce),De=[],Ie=He[0],at=He[1],ot=Math.floor(me(Ie)),Ct=Math.ceil(me(at)),kt=U%1?2:U;if(isFinite(Ct-ot)){if(re){for(;ot<Ct;ot++)for(var pt=1;pt<kt;pt++)De.push(ye(ot)*pt);De.push(ye(ot))}else for(De.push(ye(ot));ot++<Ct;)for(pt=kt-1;pt>0;pt--)De.push(ye(ot)*pt);for(ot=0;De[ot]<Ie;ot++);for(Ct=De.length;De[Ct-1]>at;Ct--);De=De.slice(ot,Ct)}return De},Le.copy=function(){return y(T.copy(),U,re,ce)},n3(Le,T)}(s.scale.linear().domain([0,1]),10,!0,[1,10])};var gs={floor:function(y){return-Math.ceil(-y)},ceil:function(y){return-Math.floor(-y)}};function Rs(y){return function(T){return T<0?-Math.pow(-T,y):Math.pow(T,y)}}s.scale.pow=function(){return function y(T,U,re){var ce=Rs(U),me=Rs(1/U);function ye(Le){return T(ce(Le))}return ye.invert=function(Le){return me(T.invert(Le))},ye.domain=function(Le){return arguments.length?(T.domain((re=Le.map(Number)).map(ce)),ye):re},ye.ticks=function(Le){return r3(re,Le)},ye.tickFormat=function(Le,He){return d3_scale_linearTickFormat(re,Le,He)},ye.nice=function(Le){return ye.domain(ea(re,Le))},ye.exponent=function(Le){return arguments.length?(ce=Rs(U=Le),me=Rs(1/U),T.domain(re.map(ce)),ye):U},ye.copy=function(){return y(T.copy(),U,re)},n3(ye,T)}(s.scale.linear(),1,[0,1])},s.scale.sqrt=function(){return s.scale.pow().exponent(.5)},s.scale.ordinal=function(){return function y(T,U){var re,ce,me;function ye(He){return ce[((re.get(He)||("range"===U.t?re.set(He,T.push(He)):NaN))-1)%ce.length]}function Le(He,De){return s.range(T.length).map(function(Ie){return He+De*Ie})}return ye.domain=function(He){if(!arguments.length)return T;T=[],re=new E;for(var De,Ie=-1,at=He.length;++Ie<at;)re.has(De=He[Ie])||re.set(De,T.push(De));return ye[U.t].apply(ye,U.a)},ye.range=function(He){return arguments.length?(ce=He,me=0,U={t:"range",a:arguments},ye):ce},ye.rangePoints=function(He,De){arguments.length<2&&(De=0);var Ie=He[0],at=He[1],ot=T.length<2?(Ie=(Ie+at)/2,0):(at-Ie)/(T.length-1+De);return ce=Le(Ie+ot*De/2,ot),me=0,U={t:"rangePoints",a:arguments},ye},ye.rangeRoundPoints=function(He,De){arguments.length<2&&(De=0);var Ie=He[0],at=He[1],ot=T.length<2?(Ie=at=Math.round((Ie+at)/2),0):(at-Ie)/(T.length-1+De)|0;return ce=Le(Ie+Math.round(ot*De/2+(at-Ie-(T.length-1+De)*ot)/2),ot),me=0,U={t:"rangeRoundPoints",a:arguments},ye},ye.rangeBands=function(He,De,Ie){arguments.length<2&&(De=0),arguments.length<3&&(Ie=De);var at=He[1]<He[0],ot=He[at-0],kt=(He[1-at]-ot)/(T.length-De+2*Ie);return ce=Le(ot+kt*Ie,kt),at&&ce.reverse(),me=kt*(1-De),U={t:"rangeBands",a:arguments},ye},ye.rangeRoundBands=function(He,De,Ie){arguments.length<2&&(De=0),arguments.length<3&&(Ie=De);var at=He[1]<He[0],ot=He[at-0],Ct=He[1-at],kt=Math.floor((Ct-ot)/(T.length-De+2*Ie));return ce=Le(ot+Math.round((Ct-ot-(T.length-De)*kt)/2),kt),at&&ce.reverse(),me=Math.round(kt*(1-De)),U={t:"rangeRoundBands",a:arguments},ye},ye.rangeBand=function(){return me},ye.rangeExtent=function(){return gi(U.a[0])},ye.copy=function(){return y(T,U)},ye.domain(T)}([],{t:"range",a:[[]]})},s.scale.category10=function(){return s.scale.ordinal().range(C6)},s.scale.category20=function(){return s.scale.ordinal().range(tc)},s.scale.category20b=function(){return s.scale.ordinal().range(b6)},s.scale.category20c=function(){return s.scale.ordinal().range(x6)};var C6=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(bn),tc=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(bn),b6=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(bn),x6=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(bn);function nc(){return 0}s.scale.quantile=function(){return function y(T,U){var re;function ce(){var ye=0,Le=U.length;for(re=[];++ye<Le;)re[ye-1]=s.quantile(T,ye/Le);return me}function me(ye){if(!isNaN(ye=+ye))return U[s.bisect(re,ye)]}return me.domain=function(ye){return arguments.length?(T=ye.map(w).filter(N).sort(M),ce()):T},me.range=function(ye){return arguments.length?(U=ye,ce()):U},me.quantiles=function(){return re},me.invertExtent=function(ye){return(ye=U.indexOf(ye))<0?[NaN,NaN]:[ye>0?re[ye-1]:T[0],ye<re.length?re[ye]:T[T.length-1]]},me.copy=function(){return y(T,U)},ce()}([],[])},s.scale.quantize=function(){return function y(T,U,re){var ce,me;function ye(He){return re[Math.max(0,Math.min(me,Math.floor(ce*(He-T))))]}function Le(){return ce=re.length/(U-T),me=re.length-1,ye}return ye.domain=function(He){return arguments.length?(T=+He[0],U=+He[He.length-1],Le()):[T,U]},ye.range=function(He){return arguments.length?(re=He,Le()):re},ye.invertExtent=function(He){return[He=(He=re.indexOf(He))<0?NaN:He/ce+T,He+1/ce]},ye.copy=function(){return y(T,U,re)},Le()}(0,1,[0,1])},s.scale.threshold=function(){return function y(T,U){function re(ce){if(ce<=ce)return U[s.bisect(T,ce)]}return re.domain=function(ce){return arguments.length?(T=ce,re):T},re.range=function(ce){return arguments.length?(U=ce,re):U},re.invertExtent=function(ce){return ce=U.indexOf(ce),[T[ce-1],T[ce]]},re.copy=function(){return y(T,U)},re}([.5],[0,1])},s.scale.identity=function(){return function y(T){function U(re){return+re}return U.invert=U,U.domain=U.range=function(re){return arguments.length?(T=re.map(U),U):T},U.ticks=function(re){return r3(T,re)},U.tickFormat=function(re,ce){return d3_scale_linearTickFormat(T,re,ce)},U.copy=function(){return y(T)},U}([0,1])},s.svg={},s.svg.arc=function(){var y=X3,T=yo,U=nc,re=Z3,ce=K3,me=M6,ye=H5;function Le(){var De=Math.max(0,+y.apply(this,arguments)),Ie=Math.max(0,+T.apply(this,arguments)),at=ce.apply(this,arguments)-Kt,ot=me.apply(this,arguments)-Kt,Ct=Math.abs(ot-at),kt=at>ot?0:1;if(Ie<De&&(pt=Ie,Ie=De,De=pt),Ct>=tn)return He(Ie,kt)+(De?He(De,1-kt):"")+"Z";var pt,Mt,lt,Rt,Dt,mt,rn,on,Hn,Vn,$n,Zn,b2=0,qn=0,_2=[];if((Rt=(+ye.apply(this,arguments)||0)/2)&&(lt=re===Z3?Math.sqrt(De*De+Ie*Ie):+re.apply(this,arguments),kt||(qn*=-1),Ie&&(qn=ge(lt/Ie*Math.sin(Rt))),De&&(b2=ge(lt/De*Math.sin(Rt)))),Ie){Dt=Ie*Math.cos(at+qn),mt=Ie*Math.sin(at+qn),rn=Ie*Math.cos(ot-qn),on=Ie*Math.sin(ot-qn);var w1=Math.abs(ot-at-2*qn)<=Pt?0:1;if(qn&&rc(Dt,mt,rn,on)===kt^w1){var B2=(at+ot)/2;Dt=Ie*Math.cos(B2),mt=Ie*Math.sin(B2),rn=on=null}}else Dt=mt=0;if(De){Hn=De*Math.cos(ot-b2),Vn=De*Math.sin(ot-b2),$n=De*Math.cos(at+b2),Zn=De*Math.sin(at+b2);var Mn=Math.abs(at-ot+2*b2)<=Pt?0:1;if(b2&&rc(Hn,Vn,$n,Zn)===1-kt^Mn){var Xn=(at+ot)/2;Hn=De*Math.cos(Xn),Vn=De*Math.sin(Xn),$n=Zn=null}}else Hn=Vn=0;if(Ct>vt&&(pt=Math.min(Math.abs(Ie-De)/2,+U.apply(this,arguments)))>.001){Mt=De<Ie^kt?0:1;var E2=pt,k2=pt;if(Ct<Pt){var c1=null==$n?[Hn,Vn]:null==rn?[Dt,mt]:e2([Dt,mt],[$n,Zn],[rn,on],[Hn,Vn]),b1=Dt-c1[0],N1=mt-c1[1],l1=rn-c1[0],cr=on-c1[1],xr=1/Math.sin(Math.acos((b1*l1+N1*cr)/(Math.sqrt(b1*b1+N1*N1)*Math.sqrt(l1*l1+cr*cr)))/2),lr=Math.sqrt(c1[0]*c1[0]+c1[1]*c1[1]);k2=Math.min(pt,(De-lr)/(xr-1)),E2=Math.min(pt,(Ie-lr)/(xr+1))}if(null!=rn){var Er=vs(null==$n?[Hn,Vn]:[$n,Zn],[Dt,mt],Ie,E2,kt),rr=vs([rn,on],[Hn,Vn],Ie,E2,kt);pt===E2?_2.push("M",Er[0],"A",E2,",",E2," 0 0,",Mt," ",Er[1],"A",Ie,",",Ie," 0 ",1-kt^rc(Er[1][0],Er[1][1],rr[1][0],rr[1][1]),",",kt," ",rr[1],"A",E2,",",E2," 0 0,",Mt," ",rr[0]):_2.push("M",Er[0],"A",E2,",",E2," 0 1,",Mt," ",rr[0])}else _2.push("M",Dt,",",mt);if(null!=$n){var Mr=vs([Dt,mt],[$n,Zn],De,-k2,kt),Cs=vs([Hn,Vn],null==rn?[Dt,mt]:[rn,on],De,-k2,kt);pt===k2?_2.push("L",Cs[0],"A",k2,",",k2," 0 0,",Mt," ",Cs[1],"A",De,",",De," 0 ",kt^rc(Cs[1][0],Cs[1][1],Mr[1][0],Mr[1][1]),",",1-kt," ",Mr[1],"A",k2,",",k2," 0 0,",Mt," ",Mr[0]):_2.push("L",Cs[0],"A",k2,",",k2," 0 0,",Mt," ",Mr[0])}else _2.push("L",Hn,",",Vn)}else _2.push("M",Dt,",",mt),null!=rn&&_2.push("A",Ie,",",Ie," 0 ",w1,",",kt," ",rn,",",on),_2.push("L",Hn,",",Vn),null!=$n&&_2.push("A",De,",",De," 0 ",Mn,",",1-kt," ",$n,",",Zn);return _2.push("Z"),_2.join("")}function He(De,Ie){return"M0,"+De+"A"+De+","+De+" 0 1,"+Ie+" 0,"+-De+"A"+De+","+De+" 0 1,"+Ie+" 0,"+De}return Le.innerRadius=function(De){return arguments.length?(y=cn(De),Le):y},Le.outerRadius=function(De){return arguments.length?(T=cn(De),Le):T},Le.cornerRadius=function(De){return arguments.length?(U=cn(De),Le):U},Le.padRadius=function(De){return arguments.length?(re=De==Z3?Z3:cn(De),Le):re},Le.startAngle=function(De){return arguments.length?(ce=cn(De),Le):ce},Le.endAngle=function(De){return arguments.length?(me=cn(De),Le):me},Le.padAngle=function(De){return arguments.length?(ye=cn(De),Le):ye},Le.centroid=function(){var De=(+y.apply(this,arguments)+ +T.apply(this,arguments))/2,Ie=(+ce.apply(this,arguments)+ +me.apply(this,arguments))/2-Kt;return[Math.cos(Ie)*De,Math.sin(Ie)*De]},Le};var Z3="auto";function X3(y){return y.innerRadius}function yo(y){return y.outerRadius}function K3(y){return y.startAngle}function M6(y){return y.endAngle}function H5(y){return y&&y.padAngle}function rc(y,T,U,re){return(y-U)*T-(T-re)*y>0?0:1}function vs(y,T,U,re,ce){var me=y[0]-T[0],ye=y[1]-T[1],Le=(ce?re:-re)/Math.sqrt(me*me+ye*ye),He=Le*ye,De=-Le*me,Ie=y[0]+He,at=y[1]+De,ot=T[0]+He,Ct=T[1]+De,kt=(Ie+ot)/2,pt=(at+Ct)/2,Mt=ot-Ie,lt=Ct-at,Rt=Mt*Mt+lt*lt,Dt=U-re,mt=Ie*Ct-ot*at,rn=(lt<0?-1:1)*Math.sqrt(Math.max(0,Dt*Dt*Rt-mt*mt)),on=(mt*lt-Mt*rn)/Rt,Hn=(-mt*Mt-lt*rn)/Rt,Vn=(mt*lt+Mt*rn)/Rt,$n=(-mt*Mt+lt*rn)/Rt,Zn=on-kt,b2=Hn-pt,qn=Vn-kt,_2=$n-pt;return Zn*Zn+b2*b2>qn*qn+_2*_2&&(on=Vn,Hn=$n),[[on-He,Hn-De],[on*U/Dt,Hn*U/Dt]]}function _o(){return!0}function ic(y){var T=On,U=w2,re=_o,ce=va,me=ce.key,ye=.7;function Le(He){var De,Ie=[],at=[],ot=-1,Ct=He.length,kt=cn(T),pt=cn(U);function Mt(){Ie.push("M",ce(y(at),ye))}for(;++ot<Ct;)re.call(this,De=He[ot],ot)?at.push([+kt.call(this,De,ot),+pt.call(this,De,ot)]):at.length&&(Mt(),at=[]);return at.length&&Mt(),Ie.length?Ie.join(""):null}return Le.x=function(He){return arguments.length?(T=He,Le):T},Le.y=function(He){return arguments.length?(U=He,Le):U},Le.defined=function(He){return arguments.length?(re=He,Le):re},Le.interpolate=function(He){return arguments.length?(me="function"==typeof He?ce=He:(ce=zl.get(He)||va).key,Le):me},Le.tension=function(He){return arguments.length?(ye=He,Le):ye},Le}s.svg.line=function(){return ic(ne)};var zl=s.map({linear:va,"linear-closed":ys,step:function(y){for(var T=0,U=y.length,re=y[0],ce=[re[0],",",re[1]];++T<U;)ce.push("H",(re[0]+(re=y[T])[0])/2,"V",re[1]);return U>1&&ce.push("H",re[0]),ce.join("")},"step-before":ac,"step-after":M1,basis:Hl,"basis-open":function(y){if(y.length<4)return va(y);for(var T,U=[],re=-1,ce=y.length,me=[0],ye=[0];++re<3;)me.push((T=y[re])[0]),ye.push(T[1]);for(U.push(vi(yi,me)+","+vi(yi,ye)),--re;++re<ce;)T=y[re],me.shift(),me.push(T[0]),ye.shift(),ye.push(T[1]),i3(U,me,ye);return U.join("")},"basis-closed":function(y){for(var T,U,re=-1,ce=y.length,me=ce+4,ye=[],Le=[];++re<4;)ye.push((U=y[re%ce])[0]),Le.push(U[1]);for(T=[vi(yi,ye),",",vi(yi,Le)],--re;++re<me;)U=y[re%ce],ye.shift(),ye.push(U[0]),Le.shift(),Le.push(U[1]),i3(T,ye,Le);return T.join("")},bundle:function(y,T){var U=y.length-1;if(U)for(var re,ce,me=y[0][0],ye=y[0][1],Le=y[U][0]-me,He=y[U][1]-ye,De=-1;++De<=U;)(re=y[De])[0]=T*re[0]+(1-T)*(me+(ce=De/U)*Le),re[1]=T*re[1]+(1-T)*(ye+ce*He);return Hl(y)},cardinal:function(y,T){return y.length<3?va(y):y[0]+Cr(y,sc(y,T))},"cardinal-open":function(y,T){return y.length<4?va(y):y[1]+Cr(y.slice(1,-1),sc(y,T))},"cardinal-closed":function(y,T){return y.length<3?ys(y):y[0]+Cr((y.push(y[0]),y),sc([y[y.length-2]].concat(y,[y[1]]),T))},monotone:function(y){return y.length<3?va(y):y[0]+Cr(y,function(T){for(var U,re,ce,me,ye=[],Le=function(Ie){for(var at=0,ot=Ie.length-1,Ct=[],kt=Ie[0],pt=Ie[1],Mt=Ct[0]=zr(kt,pt);++at<ot;)Ct[at]=(Mt+(Mt=zr(kt=pt,pt=Ie[at+1])))/2;return Ct[at]=Mt,Ct}(T),He=-1,De=T.length-1;++He<De;)U=zr(T[He],T[He+1]),L(U)<vt?Le[He]=Le[He+1]=0:(me=(re=Le[He]/U)*re+(ce=Le[He+1]/U)*ce)>9&&(me=3*U/Math.sqrt(me),Le[He]=me*re,Le[He+1]=me*ce);for(He=-1;++He<=De;)me=(T[Math.min(De,He+1)][0]-T[Math.max(0,He-1)][0])/(6*(1+Le[He]*Le[He])),ye.push([me||0,Le[He]*me||0]);return ye}(y))}});function va(y){return y.length>1?y.join("L"):y+"Z"}function ys(y){return y.join("L")+"Z"}function ac(y){for(var T=0,U=y.length,re=y[0],ce=[re[0],",",re[1]];++T<U;)ce.push("V",(re=y[T])[1],"H",re[0]);return ce.join("")}function M1(y){for(var T=0,U=y.length,re=y[0],ce=[re[0],",",re[1]];++T<U;)ce.push("H",(re=y[T])[0],"V",re[1]);return ce.join("")}function Cr(y,T){if(T.length<1||y.length!=T.length&&y.length!=T.length+2)return va(y);var U=y.length!=T.length,re="",ce=y[0],me=y[1],ye=T[0],Le=ye,He=1;if(U&&(re+="Q"+(me[0]-2*ye[0]/3)+","+(me[1]-2*ye[1]/3)+","+me[0]+","+me[1],ce=y[1],He=2),T.length>1){me=y[He],He++,re+="C"+(ce[0]+ye[0])+","+(ce[1]+ye[1])+","+(me[0]-(Le=T[1])[0])+","+(me[1]-Le[1])+","+me[0]+","+me[1];for(var De=2;De<T.length;De++,He++)re+="S"+((me=y[He])[0]-(Le=T[De])[0])+","+(me[1]-Le[1])+","+me[0]+","+me[1]}if(U){var Ie=y[He];re+="Q"+(me[0]+2*Le[0]/3)+","+(me[1]+2*Le[1]/3)+","+Ie[0]+","+Ie[1]}return re}function sc(y,T){for(var U,re=[],ce=(1-T)/2,me=y[0],ye=y[1],Le=1,He=y.length;++Le<He;)U=me,me=ye,re.push([ce*((ye=y[Le])[0]-U[0]),ce*(ye[1]-U[1])]);return re}function Hl(y){if(y.length<3)return va(y);var T=1,U=y.length,re=y[0],ce=re[0],me=re[1],ye=[ce,ce,ce,(re=y[1])[0]],Le=[me,me,me,re[1]],He=[ce,",",me,"L",vi(yi,ye),",",vi(yi,Le)];for(y.push(y[U-1]);++T<=U;)re=y[T],ye.shift(),ye.push(re[0]),Le.shift(),Le.push(re[1]),i3(He,ye,Le);return y.pop(),He.push("L",re),He.join("")}function vi(y,T){return y[0]*T[0]+y[1]*T[1]+y[2]*T[2]+y[3]*T[3]}zl.forEach(function(y,T){T.key=y,T.closed=/-closed$/.test(y)});var oc=[0,2/3,1/3,0],Q3=[0,1/3,2/3,0],yi=[0,1/6,2/3,1/6];function i3(y,T,U){y.push("C",vi(oc,T),",",vi(oc,U),",",vi(Q3,T),",",vi(Q3,U),",",vi(yi,T),",",vi(yi,U))}function zr(y,T){return(T[1]-y[1])/(T[0]-y[0])}function Bs(y){for(var T,U,re,ce=-1,me=y.length;++ce<me;)U=(T=y[ce])[0],re=T[1]-Kt,T[0]=U*Math.cos(re),T[1]=U*Math.sin(re);return y}function Us(y){var T=On,U=On,re=0,ce=w2,me=_o,ye=va,Le=ye.key,He=ye,De="L",Ie=.7;function at(ot){var Ct,kt,pt,Mt=[],lt=[],Rt=[],Dt=-1,mt=ot.length,rn=cn(T),on=cn(re),Hn=T===U?function(){return kt}:cn(U),Vn=re===ce?function(){return pt}:cn(ce);function $n(){Mt.push("M",ye(y(Rt),Ie),De,He(y(lt.reverse()),Ie),"Z")}for(;++Dt<mt;)me.call(this,Ct=ot[Dt],Dt)?(lt.push([kt=+rn.call(this,Ct,Dt),pt=+on.call(this,Ct,Dt)]),Rt.push([+Hn.call(this,Ct,Dt),+Vn.call(this,Ct,Dt)])):lt.length&&($n(),lt=[],Rt=[]);return lt.length&&$n(),Mt.length?Mt.join(""):null}return at.x=function(ot){return arguments.length?(T=U=ot,at):U},at.x0=function(ot){return arguments.length?(T=ot,at):T},at.x1=function(ot){return arguments.length?(U=ot,at):U},at.y=function(ot){return arguments.length?(re=ce=ot,at):ce},at.y0=function(ot){return arguments.length?(re=ot,at):re},at.y1=function(ot){return arguments.length?(ce=ot,at):ce},at.defined=function(ot){return arguments.length?(me=ot,at):me},at.interpolate=function(ot){return arguments.length?(Le="function"==typeof ot?ye=ot:(ye=zl.get(ot)||va).key,He=ye.reverse||ye,De=ye.closed?"M":"L",at):Le},at.tension=function(ot){return arguments.length?(Ie=ot,at):Ie},at}function pr(y){return y.source}function js(y){return y.target}function J3(y){return y.radius}function _i(y){return[y.x,y.y]}function w6(y){return function(){var T=y.apply(this,arguments),U=T[0],re=T[1]-Kt;return[U*Math.cos(re),U*Math.sin(re)]}}function Ll(){return 64}function Co(){return"circle"}function Ur(y){var T=Math.sqrt(y/Pt);return"M0,"+T+"A"+T+","+T+" 0 1,1 0,"+-T+"A"+T+","+T+" 0 1,1 0,"+T+"Z"}s.svg.line.radial=function(){var y=ic(Bs);return y.radius=y.x,delete y.x,y.angle=y.y,delete y.y,y},ac.reverse=M1,M1.reverse=ac,s.svg.area=function(){return Us(ne)},s.svg.area.radial=function(){var y=Us(Bs);return y.radius=y.x,delete y.x,y.innerRadius=y.x0,delete y.x0,y.outerRadius=y.x1,delete y.x1,y.angle=y.y,delete y.y,y.startAngle=y.y0,delete y.y0,y.endAngle=y.y1,delete y.y1,y},s.svg.chord=function(){var y=pr,T=js,U=J3,re=K3,ce=M6;function me(De,Ie){var at,ot,Ct=ye(this,y,De,Ie),kt=ye(this,T,De,Ie);return"M"+Ct.p0+Le(Ct.r,Ct.p1,Ct.a1-Ct.a0)+((at=Ct).a0==(ot=kt).a0&&at.a1==ot.a1?He(0,0,0,Ct.p0):He(0,0,0,kt.p0)+Le(kt.r,kt.p1,kt.a1-kt.a0)+He(0,0,0,Ct.p0))+"Z"}function ye(De,Ie,at,ot){var Ct=Ie.call(De,at,ot),kt=U.call(De,Ct,ot),pt=re.call(De,Ct,ot)-Kt,Mt=ce.call(De,Ct,ot)-Kt;return{r:kt,a0:pt,a1:Mt,p0:[kt*Math.cos(pt),kt*Math.sin(pt)],p1:[kt*Math.cos(Mt),kt*Math.sin(Mt)]}}function Le(De,Ie,at){return"A"+De+","+De+" 0 "+ +(at>Pt)+",1 "+Ie}function He(De,Ie,at,ot){return"Q 0,0 "+ot}return me.radius=function(De){return arguments.length?(U=cn(De),me):U},me.source=function(De){return arguments.length?(y=cn(De),me):y},me.target=function(De){return arguments.length?(T=cn(De),me):T},me.startAngle=function(De){return arguments.length?(re=cn(De),me):re},me.endAngle=function(De){return arguments.length?(ce=cn(De),me):ce},me},s.svg.diagonal=function(){var y=pr,T=js,U=_i;function re(ce,me){var ye=y.call(this,ce,me),Le=T.call(this,ce,me),He=(ye.y+Le.y)/2,De=[ye,{x:ye.x,y:He},{x:Le.x,y:He},Le];return"M"+(De=De.map(U))[0]+"C"+De[1]+" "+De[2]+" "+De[3]}return re.source=function(ce){return arguments.length?(y=cn(ce),re):y},re.target=function(ce){return arguments.length?(T=cn(ce),re):T},re.projection=function(ce){return arguments.length?(U=ce,re):U},re},s.svg.diagonal.radial=function(){var y=s.svg.diagonal(),T=_i,U=y.projection;return y.projection=function(re){return arguments.length?U(w6(T=re)):T},y},s.svg.symbol=function(){var y=Co,T=Ll;function U(re,ce){return(bo.get(y.call(this,re,ce))||Ur)(T.call(this,re,ce))}return U.type=function(re){return arguments.length?(y=cn(re),U):y},U.size=function(re){return arguments.length?(T=cn(re),U):T},U};var bo=s.map({circle:Ur,cross:function(y){var T=Math.sqrt(y/5)/2;return"M"+-3*T+","+-T+"H"+-T+"V"+-3*T+"H"+T+"V"+-T+"H"+3*T+"V"+T+"H"+T+"V"+3*T+"H"+-T+"V"+T+"H"+-3*T+"Z"},diamond:function(y){var T=Math.sqrt(y/(2*Ze)),U=T*Ze;return"M0,"+-T+"L"+U+",0 0,"+T+" "+-U+",0Z"},square:function(y){var T=Math.sqrt(y)/2;return"M"+-T+","+-T+"L"+T+","+-T+" "+T+","+T+" "+-T+","+T+"Z"},"triangle-down":function(y){var T=Math.sqrt(y/_s),U=T*_s/2;return"M0,"+U+"L"+T+","+-U+" "+-T+","+-U+"Z"},"triangle-up":function(y){var T=Math.sqrt(y/_s),U=T*_s/2;return"M0,"+-U+"L"+T+","+U+" "+-T+","+U+"Z"}});s.svg.symbolTypes=bo.keys();var _s=Math.sqrt(3),Ze=Math.tan(30*qt);ue.transition=function(y){for(var T,U,re=Gn||++Dl,ce=e4(y),me=[],ye=a3||{time:Date.now(),ease:m6,delay:0,duration:250},Le=-1,He=this.length;++Le<He;){me.push(T=[]);for(var De=this[Le],Ie=-1,at=De.length;++Ie<at;)(U=De[Ie])&&t4(U,Ie,ce,re,ye),T.push(U)}return Nr(me,ce,re)},ue.interrupt=function(y){return this.each(null==y?Zr:xo(e4(y)))};var Zr=xo(e4());function xo(y){return function(){var T,U,re;(T=this[y])&&(re=T[U=T.active])&&(re.timer.c=null,re.timer.t=NaN,--T.count?delete T[U]:delete this[y],T.active+=.5,re.event&&re.event.interrupt.call(this,this.__data__,re.index))}}function Nr(y,T,U){return F(y,br),y.namespace=T,y.id=U,y}var Gn,a3,br=[],Dl=0;function ns(y,T,U,re){var ce=y.id,me=y.namespace;return Fe(y,"function"==typeof U?function(ye,Le,He){ye[me][ce].tween.set(T,re(U.call(ye,ye.__data__,Le,He)))}:(U=re(U),function(ye){ye[me][ce].tween.set(T,U)}))}function S6(y){return null==y&&(y=""),function(){this.textContent=y}}function e4(y){return null==y?"__transition__":"__transition_"+y+"__"}function t4(y,T,U,re,ce){var me,ye,Le,He,De,Ie=y[U]||(y[U]={active:0,count:0}),at=Ie[re];function ot(kt){var pt=Ie.active,Mt=Ie[pt];for(var lt in Mt&&(Mt.timer.c=null,Mt.timer.t=NaN,--Ie.count,delete Ie[pt],Mt.event&&Mt.event.interrupt.call(y,y.__data__,Mt.index)),Ie)if(+lt<re){var Rt=Ie[lt];Rt.timer.c=null,Rt.timer.t=NaN,--Ie.count,delete Ie[lt]}ye.c=Ct,Yt(function(){return ye.c&&Ct(kt||1)&&(ye.c=null,ye.t=NaN),1},0,me),Ie.active=re,at.event&&at.event.start.call(y,y.__data__,T),De=[],at.tween.forEach(function(Dt,mt){(mt=mt.call(y,y.__data__,T))&&De.push(mt)}),He=at.ease,Le=at.duration}function Ct(kt){for(var pt=kt/Le,Mt=He(pt),lt=De.length;lt>0;)De[--lt].call(y,Mt);if(pt>=1)return at.event&&at.event.end.call(y,y.__data__,T),--Ie.count?delete Ie[re]:delete y[U],1}at||(ye=Yt(function(kt){var pt=at.delay;if(ye.t=pt+me,pt<=kt)return ot(kt-pt);ye.c=ot},0,me=ce.time),at=Ie[re]={tween:new E,time:me,timer:ye,delay:ce.delay,duration:ce.duration,ease:ce.ease,index:T},ce=null,++Ie.count)}br.call=ue.call,br.empty=ue.empty,br.node=ue.node,br.size=ue.size,s.transition=function(y,T){return y&&y.transition?Gn?y.transition(T):y:s.selection().transition(y)},s.transition.prototype=br,br.select=function(y){var T,U,re,ce=this.id,me=this.namespace,ye=[];y=fe(y);for(var Le=-1,He=this.length;++Le<He;){ye.push(T=[]);for(var De=this[Le],Ie=-1,at=De.length;++Ie<at;)(re=De[Ie])&&(U=y.call(re,re.__data__,Ie,Le))?("__data__"in re&&(U.__data__=re.__data__),t4(U,Ie,me,ce,re[me][ce]),T.push(U)):T.push(null)}return Nr(ye,me,ce)},br.selectAll=function(y){var T,U,re,ce,me,ye=this.id,Le=this.namespace,He=[];y=he(y);for(var De=-1,Ie=this.length;++De<Ie;)for(var at=this[De],ot=-1,Ct=at.length;++ot<Ct;)if(re=at[ot]){me=re[Le][ye],U=y.call(re,re.__data__,ot,De),He.push(T=[]);for(var kt=-1,pt=U.length;++kt<pt;)(ce=U[kt])&&t4(ce,kt,Le,ye,me),T.push(ce)}return Nr(He,Le,ye)},br.filter=function(y){var T,U,re=[];"function"!=typeof y&&(y=qe(y));for(var ce=0,me=this.length;ce<me;ce++){re.push(T=[]);for(var ye,Le=0,He=(ye=this[ce]).length;Le<He;Le++)(U=ye[Le])&&y.call(U,U.__data__,Le,ce)&&T.push(U)}return Nr(re,this.namespace,this.id)},br.tween=function(y,T){var U=this.id,re=this.namespace;return arguments.length<2?this.node()[re][U].tween.get(y):Fe(this,null==T?function(ce){ce[re][U].tween.remove(y)}:function(ce){ce[re][U].tween.set(y,T)})},br.attr=function(y,T){if(arguments.length<2){for(T in y)this.attr(T,y[T]);return this}var U="transform"==y?Jo:ps,re=s.ns.qualify(y);function ce(){this.removeAttribute(re)}function me(){this.removeAttributeNS(re.space,re.local)}function ye(He){return null==He?ce:(He+="",function(){var De,Ie=this.getAttribute(re);return Ie!==He&&(De=U(Ie,He),function(at){this.setAttribute(re,De(at))})})}function Le(He){return null==He?me:(He+="",function(){var De,Ie=this.getAttributeNS(re.space,re.local);return Ie!==He&&(De=U(Ie,He),function(at){this.setAttributeNS(re.space,re.local,De(at))})})}return ns(this,"attr."+y,T,re.local?Le:ye)},br.attrTween=function(y,T){var U=s.ns.qualify(y);return this.tween("attr."+y,U.local?function(re,ce){var me=T.call(this,re,ce,this.getAttributeNS(U.space,U.local));return me&&function(ye){this.setAttributeNS(U.space,U.local,me(ye))}}:function(re,ce){var me=T.call(this,re,ce,this.getAttribute(U));return me&&function(ye){this.setAttribute(U,me(ye))}})},br.style=function(y,T,U){var re=arguments.length;if(re<3){if("string"!=typeof y){for(U in re<2&&(T=""),y)this.style(U,y[U],T);return this}U=""}function ce(){this.style.removeProperty(y)}function me(ye){return null==ye?ce:(ye+="",function(){var Le,He=m(this).getComputedStyle(this,null).getPropertyValue(y);return He!==ye&&(Le=ps(He,ye),function(De){this.style.setProperty(y,Le(De),U)})})}return ns(this,"style."+y,T,me)},br.styleTween=function(y,T,U){function re(ce,me){var ye=T.call(this,ce,me,m(this).getComputedStyle(this,null).getPropertyValue(y));return ye&&function(Le){this.style.setProperty(y,ye(Le),U)}}return arguments.length<3&&(U=""),this.tween("style."+y,re)},br.text=function(y){return ns(this,"text",y,S6)},br.remove=function(){var y=this.namespace;return this.each("end.transition",function(){var T;this[y].count<2&&(T=this.parentNode)&&T.removeChild(this)})},br.ease=function(y){var T=this.id,U=this.namespace;return arguments.length<1?this.node()[U][T].ease:("function"!=typeof y&&(y=s.ease.apply(s,arguments)),Fe(this,function(re){re[U][T].ease=y}))},br.delay=function(y){var T=this.id,U=this.namespace;return arguments.length<1?this.node()[U][T].delay:Fe(this,"function"==typeof y?function(re,ce,me){re[U][T].delay=+y.call(re,re.__data__,ce,me)}:(y=+y,function(re){re[U][T].delay=y}))},br.duration=function(y){var T=this.id,U=this.namespace;return arguments.length<1?this.node()[U][T].duration:Fe(this,"function"==typeof y?function(re,ce,me){re[U][T].duration=Math.max(1,y.call(re,re.__data__,ce,me))}:(y=Math.max(1,y),function(re){re[U][T].duration=y}))},br.each=function(y,T){var U=this.id,re=this.namespace;if(arguments.length<2){var ce=a3,me=Gn;try{Gn=U,Fe(this,function(ye,Le,He){a3=ye[re][U],y.call(ye,ye.__data__,Le,He)})}finally{a3=ce,Gn=me}}else Fe(this,function(ye){var Le=ye[re][U];(Le.event||(Le.event=s.dispatch("start","end","interrupt"))).on(y,T)});return this},br.transition=function(){for(var y,T,U,re=this.id,ce=++Dl,me=this.namespace,ye=[],Le=0,He=this.length;Le<He;Le++){ye.push(y=[]);for(var De,Ie=0,at=(De=this[Le]).length;Ie<at;Ie++)(T=De[Ie])&&t4(T,Ie,me,ce,{time:(U=T[me][re]).time,ease:U.ease,delay:U.delay+U.duration,duration:U.duration}),y.push(T)}return Nr(ye,me,ce)},s.svg.axis=function(){var y,T=s.scale.linear(),U=Tl,re=6,ce=6,me=3,ye=[10],Le=null;function He(De){De.each(function(){var Ie,at=s.select(this),ot=this.__chart__||T,Ct=this.__chart__=T.copy(),kt=Le??(Ct.ticks?Ct.ticks.apply(Ct,ye):Ct.domain()),pt=y??(Ct.tickFormat?Ct.tickFormat.apply(Ct,ye):ne),Mt=at.selectAll(".tick").data(kt,Ct),lt=Mt.enter().insert("g",".domain").attr("class","tick").style("opacity",vt),Rt=s.transition(Mt.exit()).style("opacity",vt).remove(),Dt=s.transition(Mt.order()).style("opacity",1),mt=Math.max(re,0)+me,rn=hr(Ct),on=at.selectAll(".domain").data([0]),Hn=(on.enter().append("path").attr("class","domain"),s.transition(on));lt.append("line"),lt.append("text");var Vn,$n,Zn,b2,qn=lt.select("line"),_2=Dt.select("line"),w1=Mt.select("text").text(pt),B2=lt.select("text"),Mn=Dt.select("text"),Xn="top"===U||"left"===U?-1:1;if("bottom"===U||"top"===U?(Ie=n1,Vn="x",Zn="y",$n="x2",b2="y2",w1.attr("dy",Xn<0?"0em":".71em").style("text-anchor","middle"),Hn.attr("d","M"+rn[0]+","+Xn*ce+"V0H"+rn[1]+"V"+Xn*ce)):(Ie=s2,Vn="y",Zn="x",$n="y2",b2="x2",w1.attr("dy",".32em").style("text-anchor",Xn<0?"end":"start"),Hn.attr("d","M"+Xn*ce+","+rn[0]+"H0V"+rn[1]+"H"+Xn*ce)),qn.attr(b2,Xn*re),B2.attr(Zn,Xn*mt),_2.attr($n,0).attr(b2,Xn*re),Mn.attr(Vn,0).attr(Zn,Xn*mt),Ct.rangeBand){var E2=Ct,k2=E2.rangeBand()/2;ot=Ct=function(c1){return E2(c1)+k2}}else ot.rangeBand?ot=Ct:Rt.call(Ie,Ct,ot);lt.call(Ie,ot,Ct),Dt.call(Ie,Ct,Ct)})}return He.scale=function(De){return arguments.length?(T=De,He):T},He.orient=function(De){return arguments.length?(U=De in Tn?De+"":Tl,He):U},He.ticks=function(){return arguments.length?(ye=p(arguments),He):ye},He.tickValues=function(De){return arguments.length?(Le=De,He):Le},He.tickFormat=function(De){return arguments.length?(y=De,He):y},He.tickSize=function(De){var Ie=arguments.length;return Ie?(re=+De,ce=+arguments[Ie-1],He):re},He.innerTickSize=function(De){return arguments.length?(re=+De,He):re},He.outerTickSize=function(De){return arguments.length?(ce=+De,He):ce},He.tickPadding=function(De){return arguments.length?(me=+De,He):me},He.tickSubdivide=function(){return arguments.length&&He},He};var Tl="bottom",Tn={top:1,right:1,bottom:1,left:1};function n1(y,T,U){y.attr("transform",function(re){var ce=T(re);return"translate("+(isFinite(ce)?ce:U(re))+",0)"})}function s2(y,T,U){y.attr("transform",function(re){var ce=T(re);return"translate(0,"+(isFinite(ce)?ce:U(re))+")"})}s.svg.brush=function(){var y,T,U=se(Ie,"brushstart","brush","brushend"),re=null,ce=null,me=[0,0],ye=[0,0],Le=!0,He=!0,De=Hr[0];function Ie(pt){pt.each(function(){var Mt=s.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",kt).on("touchstart.brush",kt),lt=Mt.selectAll(".background").data([0]);lt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Mt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Rt=Mt.selectAll(".resize").data(De,ne);Rt.exit().remove(),Rt.enter().append("g").attr("class",function(on){return"resize "+on}).style("cursor",function(on){return o2[on]}).append("rect").attr("x",function(on){return/[ew]$/.test(on)?-3:null}).attr("y",function(on){return/^[ns]/.test(on)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Rt.style("display",Ie.empty()?"none":null);var Dt,mt=s.transition(Mt),rn=s.transition(lt);re&&(Dt=hr(re),rn.attr("x",Dt[0]).attr("width",Dt[1]-Dt[0]),ot(mt)),ce&&(Dt=hr(ce),rn.attr("y",Dt[0]).attr("height",Dt[1]-Dt[0]),Ct(mt)),at(mt)})}function at(pt){pt.selectAll(".resize").attr("transform",function(Mt){return"translate("+me[+/e$/.test(Mt)]+","+ye[+/^s/.test(Mt)]+")"})}function ot(pt){pt.select(".extent").attr("x",me[0]),pt.selectAll(".extent,.n>rect,.s>rect").attr("width",me[1]-me[0])}function Ct(pt){pt.select(".extent").attr("y",ye[0]),pt.selectAll(".extent,.e>rect,.w>rect").attr("height",ye[1]-ye[0])}function kt(){var pt,Mt,lt=this,Rt=s.select(s.event.target),Dt=U.of(lt,arguments),mt=s.select(lt),rn=Rt.datum(),on=!/^(n|s)$/.test(rn)&&re,Hn=!/^(e|w)$/.test(rn)&&ce,Vn=Rt.classed("extent"),$n=Ot(lt),Zn=s.mouse(lt),b2=s.select(m(lt)).on("keydown.brush",w1).on("keyup.brush",B2);if(s.event.changedTouches?b2.on("touchmove.brush",Mn).on("touchend.brush",E2):b2.on("mousemove.brush",Mn).on("mouseup.brush",E2),mt.interrupt().selectAll("*").interrupt(),Vn)Zn[0]=me[0]-Zn[0],Zn[1]=ye[0]-Zn[1];else if(rn){var qn=+/w$/.test(rn),_2=+/^n/.test(rn);Mt=[me[1-qn]-Zn[0],ye[1-_2]-Zn[1]],Zn[0]=me[qn],Zn[1]=ye[_2]}else s.event.altKey&&(pt=Zn.slice());function w1(){32==s.event.keyCode&&(Vn||(pt=null,Zn[0]-=me[1],Zn[1]-=ye[1],Vn=2),j())}function B2(){32==s.event.keyCode&&2==Vn&&(Zn[0]+=me[1],Zn[1]+=ye[1],Vn=0,j())}function Mn(){var k2=s.mouse(lt),c1=!1;Mt&&(k2[0]+=Mt[0],k2[1]+=Mt[1]),Vn||(s.event.altKey?(pt||(pt=[(me[0]+me[1])/2,(ye[0]+ye[1])/2]),Zn[0]=me[+(k2[0]<pt[0])],Zn[1]=ye[+(k2[1]<pt[1])]):pt=null),on&&Xn(k2,re,0)&&(ot(mt),c1=!0),Hn&&Xn(k2,ce,1)&&(Ct(mt),c1=!0),c1&&(at(mt),Dt({type:"brush",mode:Vn?"move":"resize"}))}function Xn(k2,c1,b1){var N1,l1,cr=hr(c1),xr=cr[0],lr=cr[1],Er=Zn[b1],rr=b1?ye:me,Mr=rr[1]-rr[0];if(Vn&&(xr-=Er,lr-=Mr+Er),N1=(b1?He:Le)?Math.max(xr,Math.min(lr,k2[b1])):k2[b1],Vn?l1=(N1+=Er)+Mr:(pt&&(Er=Math.max(xr,Math.min(lr,2*pt[b1]-N1))),Er<N1?(l1=N1,N1=Er):l1=Er),rr[0]!=N1||rr[1]!=l1)return b1?T=null:y=null,rr[0]=N1,rr[1]=l1,!0}function E2(){Mn(),mt.style("pointer-events","all").selectAll(".resize").style("display",Ie.empty()?"none":null),s.select("body").style("cursor",null),b2.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),$n(),Dt({type:"brushend"})}mt.style("pointer-events","none").selectAll(".resize").style("display",null),s.select("body").style("cursor",Rt.style("cursor")),Dt({type:"brushstart"}),Mn()}return Ie.event=function(pt){pt.each(function(){var Mt=U.of(this,arguments),lt={x:me,y:ye,i:y,j:T},Rt=this.__chart__||lt;this.__chart__=lt,Gn?s.select(this).transition().each("start.brush",function(){y=Rt.i,T=Rt.j,me=Rt.x,ye=Rt.y,Mt({type:"brushstart"})}).tween("brush:brush",function(){var Dt=Qa(me,lt.x),mt=Qa(ye,lt.y);return y=T=null,function(rn){me=lt.x=Dt(rn),ye=lt.y=mt(rn),Mt({type:"brush",mode:"resize"})}}).each("end.brush",function(){y=lt.i,T=lt.j,Mt({type:"brush",mode:"resize"}),Mt({type:"brushend"})}):(Mt({type:"brushstart"}),Mt({type:"brush",mode:"resize"}),Mt({type:"brushend"}))})},Ie.x=function(pt){return arguments.length?(De=Hr[!(re=pt)<<1|!ce],Ie):re},Ie.y=function(pt){return arguments.length?(De=Hr[!re<<1|!(ce=pt)],Ie):ce},Ie.clamp=function(pt){return arguments.length?(re&&ce?(Le=!!pt[0],He=!!pt[1]):re?Le=!!pt:ce&&(He=!!pt),Ie):re&&ce?[Le,He]:re?Le:ce?He:null},Ie.extent=function(pt){var Mt,lt,Rt,Dt,mt;return arguments.length?(re&&(Mt=pt[0],lt=pt[1],ce&&(Mt=Mt[0],lt=lt[0]),y=[Mt,lt],re.invert&&(Mt=re(Mt),lt=re(lt)),lt<Mt&&(mt=Mt,Mt=lt,lt=mt),Mt==me[0]&&lt==me[1]||(me=[Mt,lt])),ce&&(Rt=pt[0],Dt=pt[1],re&&(Rt=Rt[1],Dt=Dt[1]),T=[Rt,Dt],ce.invert&&(Rt=ce(Rt),Dt=ce(Dt)),Dt<Rt&&(mt=Rt,Rt=Dt,Dt=mt),Rt==ye[0]&&Dt==ye[1]||(ye=[Rt,Dt])),Ie):(re&&(y?(Mt=y[0],lt=y[1]):(Mt=me[0],lt=me[1],re.invert&&(Mt=re.invert(Mt),lt=re.invert(lt)),lt<Mt&&(mt=Mt,Mt=lt,lt=mt))),ce&&(T?(Rt=T[0],Dt=T[1]):(Rt=ye[0],Dt=ye[1],ce.invert&&(Rt=ce.invert(Rt),Dt=ce.invert(Dt)),Dt<Rt&&(mt=Rt,Rt=Dt,Dt=mt))),re&&ce?[[Mt,Rt],[lt,Dt]]:re?[Mt,lt]:ce&&[Rt,Dt])},Ie.clear=function(){return Ie.empty()||(me=[0,0],ye=[0,0],y=T=null),Ie},Ie.empty=function(){return!!re&&me[0]==me[1]||!!ce&&ye[0]==ye[1]},s.rebind(Ie,U,"on")};var o2={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Hr=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function kl(y){return JSON.parse(y.responseText)}function s3(y){var T=c.createRange();return T.selectNode(c.body),T.createContextualFragment(y.responseText)}s.text=Fn(function(y){return y.responseText}),s.json=function(y,T){return An(y,"application/json",kl,T)},s.html=function(y,T){return An(y,"text/html",s3,T)},s.xml=Fn(function(y){return y.responseXML}),"object"==typeof pe&&pe.exports?pe.exports=s:this.d3=s}).apply(self)},{}],12:[function(v,pe,J){"use strict";var s,g="object"==typeof Reflect?Reflect:null,p=g&&"function"==typeof g.apply?g.apply:function(A,k,H){return Function.prototype.apply.call(A,k,H)};s=g&&"function"==typeof g.ownKeys?g.ownKeys:Object.getOwnPropertySymbols?function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:function(A){return Object.getOwnPropertyNames(A)};var c=Number.isNaN||function(A){return A!=A};function l(){l.init.call(this)}pe.exports=l,pe.exports.once=function(A,k){return new Promise(function(H,L){function I(){void 0!==D&&A.removeListener("error",D),H([].slice.call(arguments))}var D;"error"!==k&&(D=function(E){A.removeListener(k,I),L(E)},A.once("error",D)),A.once(k,I)})},l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var m=10;function d(A){if("function"!=typeof A)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}function h(A){return void 0===A._maxListeners?l.defaultMaxListeners:A._maxListeners}function u(A,k,H,L){var I,D,E;if(d(H),void 0===(D=A._events)?(D=A._events=Object.create(null),A._eventsCount=0):(void 0!==D.newListener&&(A.emit("newListener",k,H.listener?H.listener:H),D=A._events),E=D[k]),void 0===E)E=D[k]=H,++A._eventsCount;else if("function"==typeof E?E=D[k]=L?[H,E]:[E,H]:L?E.unshift(H):E.push(H),(I=h(A))>0&&E.length>I&&!E.warned){E.warned=!0;var S=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");S.name="MaxListenersExceededWarning",S.emitter=A,S.type=k,S.count=E.length,console&&console.warn&&console.warn(S)}return A}function C(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(A,k,H){var L={fired:!1,wrapFn:void 0,target:A,type:k,listener:H},I=C.bind(L);return I.listener=H,L.wrapFn=I,I}function M(A,k,H){var L=A._events;if(void 0===L)return[];var I=L[k];return void 0===I?[]:"function"==typeof I?H?[I.listener||I]:[I]:H?function(D){for(var E=new Array(D.length),P=0;P<E.length;++P)E[P]=D[P].listener||D[P];return E}(I):N(I,I.length)}function w(A){var k=this._events;if(void 0!==k){var H=k[A];if("function"==typeof H)return 1;if(void 0!==H)return H.length}return 0}function N(A,k){for(var H=new Array(k),L=0;L<k;++L)H[L]=A[L];return H}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(A){if("number"!=typeof A||A<0||c(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");m=A}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(A){if("number"!=typeof A||A<0||c(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(A){for(var k=[],H=1;H<arguments.length;H++)k.push(arguments[H]);var L="error"===A,I=this._events;if(void 0!==I)L=L&&void 0===I.error;else if(!L)return!1;if(L){var D;if(k.length>0&&(D=k[0]),D instanceof Error)throw D;var E=new Error("Unhandled error."+(D?" ("+D.message+")":""));throw E.context=D,E}var P=I[A];if(void 0===P)return!1;if("function"==typeof P)p(P,this,k);else{var S=P.length,R=N(P,S);for(H=0;H<S;++H)p(R[H],this,k)}return!0},l.prototype.on=l.prototype.addListener=function(A,k){return u(this,A,k,!1)},l.prototype.prependListener=function(A,k){return u(this,A,k,!0)},l.prototype.once=function(A,k){return d(k),this.on(A,b(this,A,k)),this},l.prototype.prependOnceListener=function(A,k){return d(k),this.prependListener(A,b(this,A,k)),this},l.prototype.off=l.prototype.removeListener=function(A,k){var H,L,I,D,E;if(d(k),void 0===(L=this._events))return this;if(void 0===(H=L[A]))return this;if(H===k||H.listener===k)0==--this._eventsCount?this._events=Object.create(null):(delete L[A],L.removeListener&&this.emit("removeListener",A,H.listener||k));else if("function"!=typeof H){for(I=-1,D=H.length-1;D>=0;D--)if(H[D]===k||H[D].listener===k){E=H[D].listener,I=D;break}if(I<0)return this;0===I?H.shift():function(P,S){for(;S+1<P.length;S++)P[S]=P[S+1];P.pop()}(H,I),1===H.length&&(L[A]=H[0]),void 0!==L.removeListener&&this.emit("removeListener",A,E||k)}return this},l.prototype.removeAllListeners=function(A){var k,H,L;if(void 0===(H=this._events))return this;if(void 0===H.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==H[A]&&(0==--this._eventsCount?this._events=Object.create(null):delete H[A]),this;if(0===arguments.length){var I,D=Object.keys(H);for(L=0;L<D.length;++L)"removeListener"!==(I=D[L])&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(k=H[A]))this.removeListener(A,k);else if(void 0!==k)for(L=k.length-1;L>=0;L--)this.removeListener(A,k[L]);return this},l.prototype.listeners=function(A){return M(this,A,!0)},l.prototype.rawListeners=function(A){return M(this,A,!1)},l.listenerCount=function(A,k){return"function"==typeof A.listenerCount?A.listenerCount(k):w.call(A,k)},l.prototype.listenerCount=w,l.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]}},{}],13:[function(v,pe,J){var s,g;s=this,g=function(s){"use strict";function g(k,H){if((L=(k=H?k.toExponential(H-1):k.toExponential()).indexOf("e"))<0)return null;var L,I=k.slice(0,L);return[I.length>1?I[0]+I.slice(2):I,+k.slice(L+1)]}function p(k){return(k=g(Math.abs(k)))?k[1]:NaN}var c,l=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function m(k){if(!(H=l.exec(k)))throw new Error("invalid format: "+k);var H;return new d({fill:H[1],align:H[2],sign:H[3],symbol:H[4],zero:H[5],width:H[6],comma:H[7],precision:H[8]&&H[8].slice(1),trim:H[9],type:H[10]})}function d(k){this.fill=void 0===k.fill?" ":k.fill+"",this.align=void 0===k.align?">":k.align+"",this.sign=void 0===k.sign?"-":k.sign+"",this.symbol=void 0===k.symbol?"":k.symbol+"",this.zero=!!k.zero,this.width=void 0===k.width?void 0:+k.width,this.comma=!!k.comma,this.precision=void 0===k.precision?void 0:+k.precision,this.trim=!!k.trim,this.type=void 0===k.type?"":k.type+""}function h(k,H){var L=g(k,H);if(!L)return k+"";var I=L[0],D=L[1];return D<0?"0."+new Array(-D).join("0")+I:I.length>D+1?I.slice(0,D+1)+"."+I.slice(D+1):I+new Array(D-I.length+2).join("0")}m.prototype=d.prototype,d.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var u={"%":function(k,H){return(100*k).toFixed(H)},b:function(k){return Math.round(k).toString(2)},c:function(k){return k+""},d:function(k){return Math.abs(k=Math.round(k))>=1e21?k.toLocaleString("en").replace(/,/g,""):k.toString(10)},e:function(k,H){return k.toExponential(H)},f:function(k,H){return k.toFixed(H)},g:function(k,H){return k.toPrecision(H)},o:function(k){return Math.round(k).toString(8)},p:function(k,H){return h(100*k,H)},r:h,s:function(k,H){var L=g(k,H);if(!L)return k+"";var I=L[0],D=L[1],E=D-(c=3*Math.max(-8,Math.min(8,Math.floor(D/3))))+1,P=I.length;return E===P?I:E>P?I+new Array(E-P+1).join("0"):E>0?I.slice(0,E)+"."+I.slice(E):"0."+new Array(1-E).join("0")+g(k,Math.max(0,H+E-1))[0]},X:function(k){return Math.round(k).toString(16).toUpperCase()},x:function(k){return Math.round(k).toString(16)}};function C(k){return k}var b,M=Array.prototype.map,w=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function N(k){var H,L,W,I=void 0===k.grouping||void 0===k.thousands?C:(H=M.call(k.grouping,Number),L=k.thousands+"",function(W,Z){for(var ne=W.length,te=[],oe=0,Ce=H[0],ie=0;ne>0&&Ce>0&&(ie+Ce+1>Z&&(Ce=Math.max(1,Z-ie)),te.push(W.substring(ne-=Ce,ne+Ce)),!((ie+=Ce+1)>Z));)Ce=H[oe=(oe+1)%H.length];return te.reverse().join(L)}),D=void 0===k.currency?"":k.currency[0]+"",E=void 0===k.currency?"":k.currency[1]+"",P=void 0===k.decimal?".":k.decimal+"",S=void 0===k.numerals?C:(W=M.call(k.numerals,String),function(Z){return Z.replace(/[0-9]/g,function(ne){return W[+ne]})}),R=void 0===k.percent?"%":k.percent+"",G=void 0===k.minus?"-":k.minus+"",z=void 0===k.nan?"NaN":k.nan+"";function X(W){var Z=(W=m(W)).fill,ne=W.align,te=W.sign,oe=W.symbol,Ce=W.zero,ie=W.width,Q=W.comma,le=W.precision,j=W.trim,$=W.type;"n"===$?(Q=!0,$="g"):u[$]||(void 0===le&&(le=12),j=!0,$="g"),(Ce||"0"===Z&&"="===ne)&&(Ce=!0,Z="0",ne="=");var se="$"===oe?D:"#"===oe&&/[boxX]/.test($)?"0"+$.toLowerCase():"",ee="$"===oe?E:/[%p]/.test($)?R:"",F=u[$],O=/[defgprs%]/.test($);function Y(B){var ae,ue,fe,he=se,xe=ee;if("c"===$)xe=F(B)+xe,B="";else{var be=(B=+B)<0||1/B<0;if(B=isNaN(B)?z:F(Math.abs(B),le),j&&(B=function(Re){e:for(var Ue,tt=Re.length,Ke=1,$e=-1;Ke<tt;++Ke)switch(Re[Ke]){case".":$e=Ue=Ke;break;case"0":0===$e&&($e=Ke),Ue=Ke;break;default:if(!+Re[Ke])break e;$e>0&&($e=0)}return $e>0?Re.slice(0,$e)+Re.slice(Ue+1):Re}(B)),be&&0==+B&&"+"!==te&&(be=!1),he=(be?"("===te?te:G:"-"===te||"("===te?"":te)+he,xe=("s"===$?w[8+c/3]:"")+xe+(be&&"("===te?")":""),O)for(ae=-1,ue=B.length;++ae<ue;)if(48>(fe=B.charCodeAt(ae))||fe>57){xe=(46===fe?P+B.slice(ae+1):B.slice(ae))+xe,B=B.slice(0,ae);break}}Q&&!Ce&&(B=I(B,1/0));var ke=he.length+B.length+xe.length,Pe=ke<ie?new Array(ie-ke+1).join(Z):"";switch(Q&&Ce&&(B=I(Pe+B,Pe.length?ie-xe.length:1/0),Pe=""),ne){case"<":B=he+B+xe+Pe;break;case"=":B=he+Pe+B+xe;break;case"^":B=Pe.slice(0,ke=Pe.length>>1)+he+B+xe+Pe.slice(ke);break;default:B=Pe+he+B+xe}return S(B)}return le=void 0===le?6:/[gprs]/.test($)?Math.max(1,Math.min(21,le)):Math.max(0,Math.min(20,le)),Y.toString=function(){return W+""},Y}return{format:X,formatPrefix:function(W,Z){var ne=X(((W=m(W)).type="f",W)),te=3*Math.max(-8,Math.min(8,Math.floor(p(Z)/3))),oe=Math.pow(10,-te),Ce=w[8+te/3];return function(ie){return ne(oe*ie)+Ce}}}}function A(k){return b=N(k),s.format=b.format,s.formatPrefix=b.formatPrefix,b}A({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),s.FormatSpecifier=d,s.formatDefaultLocale=A,s.formatLocale=N,s.formatSpecifier=m,s.precisionFixed=function(k){return Math.max(0,-p(Math.abs(k)))},s.precisionPrefix=function(k,H){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(p(H)/3)))-p(Math.abs(k)))},s.precisionRound=function(k,H){return k=Math.abs(k),H=Math.abs(H)-k,Math.max(0,p(H)-p(k))+1},Object.defineProperty(s,"__esModule",{value:!0})},g("object"==typeof J&&void 0!==pe?J:(s=typeof globalThis<"u"?globalThis:s||self).d3=s.d3||{})},{}],14:[function(v,pe,J){var s,g;s=this,g=function(s,g){"use strict";function p(Be){if(0<=Be.y&&Be.y<100){var Ge=new Date(-1,Be.m,Be.d,Be.H,Be.M,Be.S,Be.L);return Ge.setFullYear(Be.y),Ge}return new Date(Be.y,Be.m,Be.d,Be.H,Be.M,Be.S,Be.L)}function c(Be){if(0<=Be.y&&Be.y<100){var Ge=new Date(Date.UTC(-1,Be.m,Be.d,Be.H,Be.M,Be.S,Be.L));return Ge.setUTCFullYear(Be.y),Ge}return new Date(Date.UTC(Be.y,Be.m,Be.d,Be.H,Be.M,Be.S,Be.L))}function l(Be,Ge,vt){return{y:Be,m:Ge,d:vt,H:0,M:0,S:0,L:0}}function m(Be){var Ge=Be.dateTime,vt=Be.date,Pt=Be.time,Jt=Be.periods,tn=Be.days,Kt=Be.shortDays,qt=Be.months,Nt=Be.shortMonths,ge=N(Jt),_e=A(Jt),We=N(tn),Je=A(tn),ft=N(Kt),st=A(Kt),et=N(qt),ut=A(qt),St=N(Nt),Vt=A(Nt),Bt={a:function(zt){return Kt[zt.getDay()]},A:function(zt){return tn[zt.getDay()]},b:function(zt){return Nt[zt.getMonth()]},B:function(zt){return qt[zt.getMonth()]},c:null,d:le,e:le,f:F,H:j,I:$,j:se,L:ee,m:O,M:Y,p:function(zt){return Jt[+(zt.getHours()>=12)]},q:function(zt){return 1+~~(zt.getMonth()/3)},Q:gt,s:xt,S:B,u:ae,U:ue,V:fe,w:he,W:xe,x:null,X:null,y:be,Y:ke,Z:Pe,"%":Xe},an={a:function(zt){return Kt[zt.getUTCDay()]},A:function(zt){return tn[zt.getUTCDay()]},b:function(zt){return Nt[zt.getUTCMonth()]},B:function(zt){return qt[zt.getUTCMonth()]},c:null,d:Re,e:Re,f:Me,H:Ue,I:tt,j:Ke,L:$e,m:ve,M:Se,p:function(zt){return Jt[+(zt.getUTCHours()>=12)]},q:function(zt){return 1+~~(zt.getUTCMonth()/3)},Q:gt,s:xt,S:Te,u:qe,U:Oe,V:Fe,w:Qe,W:nt,x:null,X:null,y:Ye,Y:rt,Z:ht,"%":Xe},Tt={a:function(zt,sn,Qt){var jt=ft.exec(sn.slice(Qt));return jt?(zt.w=st[jt[0].toLowerCase()],Qt+jt[0].length):-1},A:function(zt,sn,Qt){var jt=We.exec(sn.slice(Qt));return jt?(zt.w=Je[jt[0].toLowerCase()],Qt+jt[0].length):-1},b:function(zt,sn,Qt){var jt=St.exec(sn.slice(Qt));return jt?(zt.m=Vt[jt[0].toLowerCase()],Qt+jt[0].length):-1},B:function(zt,sn,Qt){var jt=et.exec(sn.slice(Qt));return jt?(zt.m=ut[jt[0].toLowerCase()],Qt+jt[0].length):-1},c:function(zt,sn,Qt){return At(zt,Ge,sn,Qt)},d:z,e:z,f:oe,H:W,I:W,j:X,L:te,m:G,M:Z,p:function(zt,sn,Qt){var jt=ge.exec(sn.slice(Qt));return jt?(zt.p=_e[jt[0].toLowerCase()],Qt+jt[0].length):-1},q:R,Q:ie,s:Q,S:ne,u:H,U:L,V:I,w:k,W:D,x:function(zt,sn,Qt){return At(zt,vt,sn,Qt)},X:function(zt,sn,Qt){return At(zt,Pt,sn,Qt)},y:P,Y:E,Z:S,"%":Ce};function Wt(zt,sn){return function(Qt){var jt,en,Ft,wn=[],bn=-1,Sn=0,Ln=zt.length;for(Qt instanceof Date||(Qt=new Date(+Qt));++bn<Ln;)37===zt.charCodeAt(bn)&&(wn.push(zt.slice(Sn,bn)),null!=(en=h[jt=zt.charAt(++bn)])?jt=zt.charAt(++bn):en="e"===jt?" ":"0",(Ft=sn[jt])&&(jt=Ft(Qt,en)),wn.push(jt),Sn=bn+1);return wn.push(zt.slice(Sn,bn)),wn.join("")}}function dn(zt,sn){return function(Qt){var jt,en,Ft=l(1900,void 0,1);if(At(Ft,zt,Qt+="",0)!=Qt.length)return null;if("Q"in Ft)return new Date(Ft.Q);if("s"in Ft)return new Date(1e3*Ft.s+("L"in Ft?Ft.L:0));if(sn&&!("Z"in Ft)&&(Ft.Z=0),"p"in Ft&&(Ft.H=Ft.H%12+12*Ft.p),void 0===Ft.m&&(Ft.m="q"in Ft?Ft.q:0),"V"in Ft){if(Ft.V<1||Ft.V>53)return null;"w"in Ft||(Ft.w=1),"Z"in Ft?(en=(jt=c(l(Ft.y,0,1))).getUTCDay(),jt=en>4||0===en?g.utcMonday.ceil(jt):g.utcMonday(jt),jt=g.utcDay.offset(jt,7*(Ft.V-1)),Ft.y=jt.getUTCFullYear(),Ft.m=jt.getUTCMonth(),Ft.d=jt.getUTCDate()+(Ft.w+6)%7):(en=(jt=p(l(Ft.y,0,1))).getDay(),jt=en>4||0===en?g.timeMonday.ceil(jt):g.timeMonday(jt),jt=g.timeDay.offset(jt,7*(Ft.V-1)),Ft.y=jt.getFullYear(),Ft.m=jt.getMonth(),Ft.d=jt.getDate()+(Ft.w+6)%7)}else("W"in Ft||"U"in Ft)&&("w"in Ft||(Ft.w="u"in Ft?Ft.u%7:"W"in Ft?1:0),en="Z"in Ft?c(l(Ft.y,0,1)).getUTCDay():p(l(Ft.y,0,1)).getDay(),Ft.m=0,Ft.d="W"in Ft?(Ft.w+6)%7+7*Ft.W-(en+5)%7:Ft.w+7*Ft.U-(en+6)%7);return"Z"in Ft?(Ft.H+=Ft.Z/100|0,Ft.M+=Ft.Z%100,c(Ft)):p(Ft)}}function At(zt,sn,Qt,jt){for(var en,Ft,wn=0,bn=sn.length,Sn=Qt.length;wn<bn;){if(jt>=Sn)return-1;if(37===(en=sn.charCodeAt(wn++))){if(en=sn.charAt(wn++),!(Ft=Tt[en in h?sn.charAt(wn++):en])||(jt=Ft(zt,Qt,jt))<0)return-1}else if(en!=Qt.charCodeAt(jt++))return-1}return jt}return Bt.x=Wt(vt,Bt),Bt.X=Wt(Pt,Bt),Bt.c=Wt(Ge,Bt),an.x=Wt(vt,an),an.X=Wt(Pt,an),an.c=Wt(Ge,an),{format:function(zt){var sn=Wt(zt+="",Bt);return sn.toString=function(){return zt},sn},parse:function(zt){var sn=dn(zt+="",!1);return sn.toString=function(){return zt},sn},utcFormat:function(zt){var sn=Wt(zt+="",an);return sn.toString=function(){return zt},sn},utcParse:function(zt){var sn=dn(zt+="",!0);return sn.toString=function(){return zt},sn}}}var d,h={"-":"",_:" ",0:"0"},u=/^\s*\d+/,C=/^%/,b=/[\\^$*+?|[\]().{}]/g;function M(Be,Ge,vt){var Pt=Be<0?"-":"",Jt=(Pt?-Be:Be)+"",tn=Jt.length;return Pt+(tn<vt?new Array(vt-tn+1).join(Ge)+Jt:Jt)}function w(Be){return Be.replace(b,"\\$&")}function N(Be){return new RegExp("^(?:"+Be.map(w).join("|")+")","i")}function A(Be){for(var Ge={},vt=-1,Pt=Be.length;++vt<Pt;)Ge[Be[vt].toLowerCase()]=vt;return Ge}function k(Be,Ge,vt){var Pt=u.exec(Ge.slice(vt,vt+1));return Pt?(Be.w=+Pt[0],vt+Pt[0].length):-1}function H(Be,Ge,vt){var Pt=u.exec(Ge.slice(vt,vt+1));return Pt?(Be.u=+Pt[0],vt+Pt[0].length):-1}function L(Be,Ge,vt){var Pt=u.exec(Ge.slice(vt,vt+2));return Pt?(Be.U=+Pt[0],vt+Pt[0].length):-1}function I(Be,Ge,vt){var Pt=u.exec(Ge.slice(vt,vt+2));return Pt?(Be.V=+Pt[0],vt+Pt[0].length):-1}function D(Be,Ge,vt){var Pt=u.exec(Ge.slice(vt,vt+2));return Pt?(Be.W=+Pt[0],vt+Pt[0].length):-1}function E(Be,Ge,vt){var Pt=u.exec(Ge.slice(vt,vt+4));return Pt?(Be.y=+Pt[0],vt+Pt[0].length):-1}function P(Be,Ge,vt){var Pt=u.exec(Ge.slice(vt,vt+2));return Pt?(Be.y=+Pt[0]+(+Pt[0]>68?1900:2e3),vt+Pt[0].length):-1}function S(Be,Ge,vt){var Pt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Ge.slice(vt,vt+6));return Pt?(Be.Z=Pt[1]?0:-(Pt[2]+(Pt[3]||"00")),vt+Pt[0].length):-1}function R(Be,Ge,vt){var Pt=u.exec(Ge.slice(vt,vt+1));return Pt?(Be.q=3*Pt[0]-3,vt+Pt[0].length):-1}function G(Be,Ge,vt){var Pt=u.exec(Ge.slice(vt,vt+2));return Pt?(Be.m=Pt[0]-1,vt+Pt[0].length):-1}function z(Be,Ge,vt){var Pt=u.exec(Ge.slice(vt,vt+2));return Pt?(Be.d=+Pt[0],vt+Pt[0].length):-1}function X(Be,Ge,vt){var Pt=u.exec(Ge.slice(vt,vt+3));return Pt?(Be.m=0,Be.d=+Pt[0],vt+Pt[0].length):-1}function W(Be,Ge,vt){var Pt=u.exec(Ge.slice(vt,vt+2));return Pt?(Be.H=+Pt[0],vt+Pt[0].length):-1}function Z(Be,Ge,vt){var Pt=u.exec(Ge.slice(vt,vt+2));return Pt?(Be.M=+Pt[0],vt+Pt[0].length):-1}function ne(Be,Ge,vt){var Pt=u.exec(Ge.slice(vt,vt+2));return Pt?(Be.S=+Pt[0],vt+Pt[0].length):-1}function te(Be,Ge,vt){var Pt=u.exec(Ge.slice(vt,vt+3));return Pt?(Be.L=+Pt[0],vt+Pt[0].length):-1}function oe(Be,Ge,vt){var Pt=u.exec(Ge.slice(vt,vt+6));return Pt?(Be.L=Math.floor(Pt[0]/1e3),vt+Pt[0].length):-1}function Ce(Be,Ge,vt){var Pt=C.exec(Ge.slice(vt,vt+1));return Pt?vt+Pt[0].length:-1}function ie(Be,Ge,vt){var Pt=u.exec(Ge.slice(vt));return Pt?(Be.Q=+Pt[0],vt+Pt[0].length):-1}function Q(Be,Ge,vt){var Pt=u.exec(Ge.slice(vt));return Pt?(Be.s=+Pt[0],vt+Pt[0].length):-1}function le(Be,Ge){return M(Be.getDate(),Ge,2)}function j(Be,Ge){return M(Be.getHours(),Ge,2)}function $(Be,Ge){return M(Be.getHours()%12||12,Ge,2)}function se(Be,Ge){return M(1+g.timeDay.count(g.timeYear(Be),Be),Ge,3)}function ee(Be,Ge){return M(Be.getMilliseconds(),Ge,3)}function F(Be,Ge){return ee(Be,Ge)+"000"}function O(Be,Ge){return M(Be.getMonth()+1,Ge,2)}function Y(Be,Ge){return M(Be.getMinutes(),Ge,2)}function B(Be,Ge){return M(Be.getSeconds(),Ge,2)}function ae(Be){var Ge=Be.getDay();return 0===Ge?7:Ge}function ue(Be,Ge){return M(g.timeSunday.count(g.timeYear(Be)-1,Be),Ge,2)}function fe(Be,Ge){var vt=Be.getDay();return Be=vt>=4||0===vt?g.timeThursday(Be):g.timeThursday.ceil(Be),M(g.timeThursday.count(g.timeYear(Be),Be)+(4===g.timeYear(Be).getDay()),Ge,2)}function he(Be){return Be.getDay()}function xe(Be,Ge){return M(g.timeMonday.count(g.timeYear(Be)-1,Be),Ge,2)}function be(Be,Ge){return M(Be.getFullYear()%100,Ge,2)}function ke(Be,Ge){return M(Be.getFullYear()%1e4,Ge,4)}function Pe(Be){var Ge=Be.getTimezoneOffset();return(Ge>0?"-":(Ge*=-1,"+"))+M(Ge/60|0,"0",2)+M(Ge%60,"0",2)}function Re(Be,Ge){return M(Be.getUTCDate(),Ge,2)}function Ue(Be,Ge){return M(Be.getUTCHours(),Ge,2)}function tt(Be,Ge){return M(Be.getUTCHours()%12||12,Ge,2)}function Ke(Be,Ge){return M(1+g.utcDay.count(g.utcYear(Be),Be),Ge,3)}function $e(Be,Ge){return M(Be.getUTCMilliseconds(),Ge,3)}function Me(Be,Ge){return $e(Be,Ge)+"000"}function ve(Be,Ge){return M(Be.getUTCMonth()+1,Ge,2)}function Se(Be,Ge){return M(Be.getUTCMinutes(),Ge,2)}function Te(Be,Ge){return M(Be.getUTCSeconds(),Ge,2)}function qe(Be){var Ge=Be.getUTCDay();return 0===Ge?7:Ge}function Oe(Be,Ge){return M(g.utcSunday.count(g.utcYear(Be)-1,Be),Ge,2)}function Fe(Be,Ge){var vt=Be.getUTCDay();return Be=vt>=4||0===vt?g.utcThursday(Be):g.utcThursday.ceil(Be),M(g.utcThursday.count(g.utcYear(Be),Be)+(4===g.utcYear(Be).getUTCDay()),Ge,2)}function Qe(Be){return Be.getUTCDay()}function nt(Be,Ge){return M(g.utcMonday.count(g.utcYear(Be)-1,Be),Ge,2)}function Ye(Be,Ge){return M(Be.getUTCFullYear()%100,Ge,2)}function rt(Be,Ge){return M(Be.getUTCFullYear()%1e4,Ge,4)}function ht(){return"+0000"}function Xe(){return"%"}function gt(Be){return+Be}function xt(Be){return Math.floor(+Be/1e3)}function bt(Be){return d=m(Be),s.timeFormat=d.format,s.timeParse=d.parse,s.utcFormat=d.utcFormat,s.utcParse=d.utcParse,d}bt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Ot=Date.prototype.toISOString?function(Be){return Be.toISOString()}:s.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),wt=+new Date("2000-01-01T00:00:00.000Z")?function(Be){var Ge=new Date(Be);return isNaN(Ge)?null:Ge}:s.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");s.isoFormat=Ot,s.isoParse=wt,s.timeFormatDefaultLocale=bt,s.timeFormatLocale=m,Object.defineProperty(s,"__esModule",{value:!0})},"object"==typeof J&&void 0!==pe?g(J,v("d3-time")):g((s=s||self).d3=s.d3||{},s.d3)},{"d3-time":15}],15:[function(v,pe,J){var s,g;s=this,g=function(s){"use strict";var g=new Date,p=new Date;function c(ve,Se,Te,qe){function Oe(Fe){return ve(Fe=0===arguments.length?new Date:new Date(+Fe)),Fe}return Oe.floor=function(Fe){return ve(Fe=new Date(+Fe)),Fe},Oe.ceil=function(Fe){return ve(Fe=new Date(Fe-1)),Se(Fe,1),ve(Fe),Fe},Oe.round=function(Fe){var Qe=Oe(Fe),nt=Oe.ceil(Fe);return Fe-Qe<nt-Fe?Qe:nt},Oe.offset=function(Fe,Qe){return Se(Fe=new Date(+Fe),null==Qe?1:Math.floor(Qe)),Fe},Oe.range=function(Fe,Qe,nt){var Ye,rt=[];if(Fe=Oe.ceil(Fe),nt=null==nt?1:Math.floor(nt),!(Fe<Qe&&nt>0))return rt;do{rt.push(Ye=new Date(+Fe)),Se(Fe,nt),ve(Fe)}while(Ye<Fe&&Fe<Qe);return rt},Oe.filter=function(Fe){return c(function(Qe){if(Qe>=Qe)for(;ve(Qe),!Fe(Qe);)Qe.setTime(Qe-1)},function(Qe,nt){if(Qe>=Qe)if(nt<0)for(;++nt<=0;)for(;Se(Qe,-1),!Fe(Qe););else for(;--nt>=0;)for(;Se(Qe,1),!Fe(Qe););})},Te&&(Oe.count=function(Fe,Qe){return g.setTime(+Fe),p.setTime(+Qe),ve(g),ve(p),Math.floor(Te(g,p))},Oe.every=function(Fe){return Fe=Math.floor(Fe),isFinite(Fe)&&Fe>0?Fe>1?Oe.filter(qe?function(Qe){return qe(Qe)%Fe==0}:function(Qe){return Oe.count(0,Qe)%Fe==0}):Oe:null}),Oe}var l=c(function(){},function(ve,Se){ve.setTime(+ve+Se)},function(ve,Se){return Se-ve});l.every=function(ve){return ve=Math.floor(ve),isFinite(ve)&&ve>0?ve>1?c(function(Se){Se.setTime(Math.floor(Se/ve)*ve)},function(Se,Te){Se.setTime(+Se+Te*ve)},function(Se,Te){return(Te-Se)/ve}):l:null};var m=l.range,d=c(function(ve){ve.setTime(ve-ve.getMilliseconds())},function(ve,Se){ve.setTime(+ve+1e3*Se)},function(ve,Se){return(Se-ve)/1e3},function(ve){return ve.getUTCSeconds()}),h=d.range,u=c(function(ve){ve.setTime(ve-ve.getMilliseconds()-1e3*ve.getSeconds())},function(ve,Se){ve.setTime(+ve+6e4*Se)},function(ve,Se){return(Se-ve)/6e4},function(ve){return ve.getMinutes()}),C=u.range,b=c(function(ve){ve.setTime(ve-ve.getMilliseconds()-1e3*ve.getSeconds()-6e4*ve.getMinutes())},function(ve,Se){ve.setTime(+ve+36e5*Se)},function(ve,Se){return(Se-ve)/36e5},function(ve){return ve.getHours()}),M=b.range,w=c(function(ve){ve.setHours(0,0,0,0)},function(ve,Se){ve.setDate(ve.getDate()+Se)},function(ve,Se){return(Se-ve-6e4*(Se.getTimezoneOffset()-ve.getTimezoneOffset()))/864e5},function(ve){return ve.getDate()-1}),N=w.range;function A(ve){return c(function(Se){Se.setDate(Se.getDate()-(Se.getDay()+7-ve)%7),Se.setHours(0,0,0,0)},function(Se,Te){Se.setDate(Se.getDate()+7*Te)},function(Se,Te){return(Te-Se-6e4*(Te.getTimezoneOffset()-Se.getTimezoneOffset()))/6048e5})}var k=A(0),H=A(1),L=A(2),I=A(3),D=A(4),E=A(5),P=A(6),S=k.range,R=H.range,G=L.range,z=I.range,X=D.range,W=E.range,Z=P.range,ne=c(function(ve){ve.setDate(1),ve.setHours(0,0,0,0)},function(ve,Se){ve.setMonth(ve.getMonth()+Se)},function(ve,Se){return Se.getMonth()-ve.getMonth()+12*(Se.getFullYear()-ve.getFullYear())},function(ve){return ve.getMonth()}),te=ne.range,oe=c(function(ve){ve.setMonth(0,1),ve.setHours(0,0,0,0)},function(ve,Se){ve.setFullYear(ve.getFullYear()+Se)},function(ve,Se){return Se.getFullYear()-ve.getFullYear()},function(ve){return ve.getFullYear()});oe.every=function(ve){return isFinite(ve=Math.floor(ve))&&ve>0?c(function(Se){Se.setFullYear(Math.floor(Se.getFullYear()/ve)*ve),Se.setMonth(0,1),Se.setHours(0,0,0,0)},function(Se,Te){Se.setFullYear(Se.getFullYear()+Te*ve)}):null};var Ce=oe.range,ie=c(function(ve){ve.setUTCSeconds(0,0)},function(ve,Se){ve.setTime(+ve+6e4*Se)},function(ve,Se){return(Se-ve)/6e4},function(ve){return ve.getUTCMinutes()}),Q=ie.range,le=c(function(ve){ve.setUTCMinutes(0,0,0)},function(ve,Se){ve.setTime(+ve+36e5*Se)},function(ve,Se){return(Se-ve)/36e5},function(ve){return ve.getUTCHours()}),j=le.range,$=c(function(ve){ve.setUTCHours(0,0,0,0)},function(ve,Se){ve.setUTCDate(ve.getUTCDate()+Se)},function(ve,Se){return(Se-ve)/864e5},function(ve){return ve.getUTCDate()-1}),se=$.range;function ee(ve){return c(function(Se){Se.setUTCDate(Se.getUTCDate()-(Se.getUTCDay()+7-ve)%7),Se.setUTCHours(0,0,0,0)},function(Se,Te){Se.setUTCDate(Se.getUTCDate()+7*Te)},function(Se,Te){return(Te-Se)/6048e5})}var F=ee(0),O=ee(1),Y=ee(2),B=ee(3),ae=ee(4),ue=ee(5),fe=ee(6),he=F.range,xe=O.range,be=Y.range,ke=B.range,Pe=ae.range,Re=ue.range,Ue=fe.range,tt=c(function(ve){ve.setUTCDate(1),ve.setUTCHours(0,0,0,0)},function(ve,Se){ve.setUTCMonth(ve.getUTCMonth()+Se)},function(ve,Se){return Se.getUTCMonth()-ve.getUTCMonth()+12*(Se.getUTCFullYear()-ve.getUTCFullYear())},function(ve){return ve.getUTCMonth()}),Ke=tt.range,$e=c(function(ve){ve.setUTCMonth(0,1),ve.setUTCHours(0,0,0,0)},function(ve,Se){ve.setUTCFullYear(ve.getUTCFullYear()+Se)},function(ve,Se){return Se.getUTCFullYear()-ve.getUTCFullYear()},function(ve){return ve.getUTCFullYear()});$e.every=function(ve){return isFinite(ve=Math.floor(ve))&&ve>0?c(function(Se){Se.setUTCFullYear(Math.floor(Se.getUTCFullYear()/ve)*ve),Se.setUTCMonth(0,1),Se.setUTCHours(0,0,0,0)},function(Se,Te){Se.setUTCFullYear(Se.getUTCFullYear()+Te*ve)}):null};var Me=$e.range;s.timeDay=w,s.timeDays=N,s.timeFriday=E,s.timeFridays=W,s.timeHour=b,s.timeHours=M,s.timeInterval=c,s.timeMillisecond=l,s.timeMilliseconds=m,s.timeMinute=u,s.timeMinutes=C,s.timeMonday=H,s.timeMondays=R,s.timeMonth=ne,s.timeMonths=te,s.timeSaturday=P,s.timeSaturdays=Z,s.timeSecond=d,s.timeSeconds=h,s.timeSunday=k,s.timeSundays=S,s.timeThursday=D,s.timeThursdays=X,s.timeTuesday=L,s.timeTuesdays=G,s.timeWednesday=I,s.timeWednesdays=z,s.timeWeek=k,s.timeWeeks=S,s.timeYear=oe,s.timeYears=Ce,s.utcDay=$,s.utcDays=se,s.utcFriday=ue,s.utcFridays=Re,s.utcHour=le,s.utcHours=j,s.utcMillisecond=l,s.utcMilliseconds=m,s.utcMinute=ie,s.utcMinutes=Q,s.utcMonday=O,s.utcMondays=xe,s.utcMonth=tt,s.utcMonths=Ke,s.utcSaturday=fe,s.utcSaturdays=Ue,s.utcSecond=d,s.utcSeconds=h,s.utcSunday=F,s.utcSundays=he,s.utcThursday=ae,s.utcThursdays=Pe,s.utcTuesday=Y,s.utcTuesdays=be,s.utcWednesday=B,s.utcWednesdays=ke,s.utcWeek=F,s.utcWeeks=he,s.utcYear=$e,s.utcYears=Me,Object.defineProperty(s,"__esModule",{value:!0})},g("object"==typeof J&&void 0!==pe?J:(s=s||self).d3=s.d3||{})},{}],16:[function(v,pe,J){arguments[4][15][0].apply(J,arguments)},{dup:15}],17:[function(v,pe,J){"use strict";var s=v("is-string-blank");pe.exports=function(g){var p=typeof g;if("string"===p){var c=g;if(0==(g=+g)&&s(c))return!1}else if("number"!==p)return!1;return g-g<1}},{"is-string-blank":52}],18:[function(v,pe,J){pe.exports=function(s,g){var p=g[0],c=g[1],l=g[2],m=g[3],d=g[4],h=g[5],u=g[6],C=g[7],b=g[8],M=g[9],w=g[10],N=g[11],A=g[12],k=g[13],H=g[14],L=g[15];return s[0]=h*(w*L-N*H)-M*(u*L-C*H)+k*(u*N-C*w),s[1]=-(c*(w*L-N*H)-M*(l*L-m*H)+k*(l*N-m*w)),s[2]=c*(u*L-C*H)-h*(l*L-m*H)+k*(l*C-m*u),s[3]=-(c*(u*N-C*w)-h*(l*N-m*w)+M*(l*C-m*u)),s[4]=-(d*(w*L-N*H)-b*(u*L-C*H)+A*(u*N-C*w)),s[5]=p*(w*L-N*H)-b*(l*L-m*H)+A*(l*N-m*w),s[6]=-(p*(u*L-C*H)-d*(l*L-m*H)+A*(l*C-m*u)),s[7]=p*(u*N-C*w)-d*(l*N-m*w)+b*(l*C-m*u),s[8]=d*(M*L-N*k)-b*(h*L-C*k)+A*(h*N-C*M),s[9]=-(p*(M*L-N*k)-b*(c*L-m*k)+A*(c*N-m*M)),s[10]=p*(h*L-C*k)-d*(c*L-m*k)+A*(c*C-m*h),s[11]=-(p*(h*N-C*M)-d*(c*N-m*M)+b*(c*C-m*h)),s[12]=-(d*(M*H-w*k)-b*(h*H-u*k)+A*(h*w-u*M)),s[13]=p*(M*H-w*k)-b*(c*H-l*k)+A*(c*w-l*M),s[14]=-(p*(h*H-u*k)-d*(c*H-l*k)+A*(c*u-l*h)),s[15]=p*(h*w-u*M)-d*(c*w-l*M)+b*(c*u-l*h),s}},{}],19:[function(v,pe,J){pe.exports=function(s){var g=new Float32Array(16);return g[0]=s[0],g[1]=s[1],g[2]=s[2],g[3]=s[3],g[4]=s[4],g[5]=s[5],g[6]=s[6],g[7]=s[7],g[8]=s[8],g[9]=s[9],g[10]=s[10],g[11]=s[11],g[12]=s[12],g[13]=s[13],g[14]=s[14],g[15]=s[15],g}},{}],20:[function(v,pe,J){pe.exports=function(s,g){return s[0]=g[0],s[1]=g[1],s[2]=g[2],s[3]=g[3],s[4]=g[4],s[5]=g[5],s[6]=g[6],s[7]=g[7],s[8]=g[8],s[9]=g[9],s[10]=g[10],s[11]=g[11],s[12]=g[12],s[13]=g[13],s[14]=g[14],s[15]=g[15],s}},{}],21:[function(v,pe,J){pe.exports=function(){var s=new Float32Array(16);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},{}],22:[function(v,pe,J){pe.exports=function(s){var g=s[0],p=s[1],c=s[2],l=s[3],m=s[4],d=s[5],h=s[6],u=s[7],C=s[8],b=s[9],M=s[10],w=s[11],N=s[12],A=s[13],k=s[14],H=s[15];return(g*d-p*m)*(M*H-w*k)-(g*h-c*m)*(b*H-w*A)+(g*u-l*m)*(b*k-M*A)+(p*h-c*d)*(C*H-w*N)-(p*u-l*d)*(C*k-M*N)+(c*u-l*h)*(C*A-b*N)}},{}],23:[function(v,pe,J){pe.exports=function(s,g){var p=g[0],c=g[1],l=g[2],m=g[3],d=p+p,h=c+c,u=l+l,C=p*d,b=c*d,M=c*h,w=l*d,N=l*h,A=l*u,k=m*d,H=m*h,L=m*u;return s[0]=1-M-A,s[1]=b+L,s[2]=w-H,s[3]=0,s[4]=b-L,s[5]=1-C-A,s[6]=N+k,s[7]=0,s[8]=w+H,s[9]=N-k,s[10]=1-C-M,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},{}],24:[function(v,pe,J){pe.exports=function(s,g,p){var c,l,m,d=p[0],h=p[1],u=p[2],C=Math.sqrt(d*d+h*h+u*u);return Math.abs(C)<1e-6?null:(d*=C=1/C,h*=C,u*=C,c=Math.sin(g),l=Math.cos(g),s[0]=d*d*(m=1-l)+l,s[1]=h*d*m+u*c,s[2]=u*d*m-h*c,s[3]=0,s[4]=d*h*m-u*c,s[5]=h*h*m+l,s[6]=u*h*m+d*c,s[7]=0,s[8]=d*u*m+h*c,s[9]=h*u*m-d*c,s[10]=u*u*m+l,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s)}},{}],25:[function(v,pe,J){pe.exports=function(s,g,p){var c=g[0],l=g[1],m=g[2],d=g[3],h=c+c,u=l+l,C=m+m,b=c*h,M=c*u,w=c*C,N=l*u,A=l*C,k=m*C,H=d*h,L=d*u,I=d*C;return s[0]=1-(N+k),s[1]=M+I,s[2]=w-L,s[3]=0,s[4]=M-I,s[5]=1-(b+k),s[6]=A+H,s[7]=0,s[8]=w+L,s[9]=A-H,s[10]=1-(b+N),s[11]=0,s[12]=p[0],s[13]=p[1],s[14]=p[2],s[15]=1,s}},{}],26:[function(v,pe,J){pe.exports=function(s,g){return s[0]=g[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=g[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=g[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},{}],27:[function(v,pe,J){pe.exports=function(s,g){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=g[0],s[13]=g[1],s[14]=g[2],s[15]=1,s}},{}],28:[function(v,pe,J){pe.exports=function(s,g){var p=Math.sin(g),c=Math.cos(g);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=c,s[6]=p,s[7]=0,s[8]=0,s[9]=-p,s[10]=c,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},{}],29:[function(v,pe,J){pe.exports=function(s,g){var p=Math.sin(g),c=Math.cos(g);return s[0]=c,s[1]=0,s[2]=-p,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=p,s[9]=0,s[10]=c,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},{}],30:[function(v,pe,J){pe.exports=function(s,g){var p=Math.sin(g),c=Math.cos(g);return s[0]=c,s[1]=p,s[2]=0,s[3]=0,s[4]=-p,s[5]=c,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},{}],31:[function(v,pe,J){pe.exports=function(s,g,p,c,l,m,d){var h=1/(p-g),u=1/(l-c),C=1/(m-d);return s[0]=2*m*h,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=2*m*u,s[6]=0,s[7]=0,s[8]=(p+g)*h,s[9]=(l+c)*u,s[10]=(d+m)*C,s[11]=-1,s[12]=0,s[13]=0,s[14]=d*m*2*C,s[15]=0,s}},{}],32:[function(v,pe,J){pe.exports=function(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},{}],33:[function(v,pe,J){pe.exports={create:v("./create"),clone:v("./clone"),copy:v("./copy"),identity:v("./identity"),transpose:v("./transpose"),invert:v("./invert"),adjoint:v("./adjoint"),determinant:v("./determinant"),multiply:v("./multiply"),translate:v("./translate"),scale:v("./scale"),rotate:v("./rotate"),rotateX:v("./rotateX"),rotateY:v("./rotateY"),rotateZ:v("./rotateZ"),fromRotation:v("./fromRotation"),fromRotationTranslation:v("./fromRotationTranslation"),fromScaling:v("./fromScaling"),fromTranslation:v("./fromTranslation"),fromXRotation:v("./fromXRotation"),fromYRotation:v("./fromYRotation"),fromZRotation:v("./fromZRotation"),fromQuat:v("./fromQuat"),frustum:v("./frustum"),perspective:v("./perspective"),perspectiveFromFieldOfView:v("./perspectiveFromFieldOfView"),ortho:v("./ortho"),lookAt:v("./lookAt"),str:v("./str")}},{"./adjoint":18,"./clone":19,"./copy":20,"./create":21,"./determinant":22,"./fromQuat":23,"./fromRotation":24,"./fromRotationTranslation":25,"./fromScaling":26,"./fromTranslation":27,"./fromXRotation":28,"./fromYRotation":29,"./fromZRotation":30,"./frustum":31,"./identity":32,"./invert":34,"./lookAt":35,"./multiply":36,"./ortho":37,"./perspective":38,"./perspectiveFromFieldOfView":39,"./rotate":40,"./rotateX":41,"./rotateY":42,"./rotateZ":43,"./scale":44,"./str":45,"./translate":46,"./transpose":47}],34:[function(v,pe,J){pe.exports=function(s,g){var p=g[0],c=g[1],l=g[2],m=g[3],d=g[4],h=g[5],u=g[6],C=g[7],b=g[8],M=g[9],w=g[10],N=g[11],A=g[12],k=g[13],H=g[14],L=g[15],I=p*h-c*d,D=p*u-l*d,E=p*C-m*d,P=c*u-l*h,S=c*C-m*h,R=l*C-m*u,G=b*k-M*A,z=b*H-w*A,X=b*L-N*A,W=M*H-w*k,Z=M*L-N*k,ne=w*L-N*H,te=I*ne-D*Z+E*W+P*X-S*z+R*G;return te?(s[0]=(h*ne-u*Z+C*W)*(te=1/te),s[1]=(l*Z-c*ne-m*W)*te,s[2]=(k*R-H*S+L*P)*te,s[3]=(w*S-M*R-N*P)*te,s[4]=(u*X-d*ne-C*z)*te,s[5]=(p*ne-l*X+m*z)*te,s[6]=(H*E-A*R-L*D)*te,s[7]=(b*R-w*E+N*D)*te,s[8]=(d*Z-h*X+C*G)*te,s[9]=(c*X-p*Z-m*G)*te,s[10]=(A*S-k*E+L*I)*te,s[11]=(M*E-b*S-N*I)*te,s[12]=(h*z-d*W-u*G)*te,s[13]=(p*W-c*z+l*G)*te,s[14]=(k*D-A*P-H*I)*te,s[15]=(b*P-M*D+w*I)*te,s):null}},{}],35:[function(v,pe,J){var s=v("./identity");pe.exports=function(g,p,c,l){var m,d,h,u,C,b,M,w,N,A,k=p[0],H=p[1],L=p[2],I=l[0],D=l[1],E=l[2],P=c[0],S=c[1],R=c[2];return Math.abs(k-P)<1e-6&&Math.abs(H-S)<1e-6&&Math.abs(L-R)<1e-6?s(g):(M=k-P,w=H-S,N=L-R,m=D*(N*=A=1/Math.sqrt(M*M+w*w+N*N))-E*(w*=A),d=E*(M*=A)-I*N,h=I*w-D*M,(A=Math.sqrt(m*m+d*d+h*h))?(m*=A=1/A,d*=A,h*=A):(m=0,d=0,h=0),u=w*h-N*d,C=N*m-M*h,b=M*d-w*m,(A=Math.sqrt(u*u+C*C+b*b))?(u*=A=1/A,C*=A,b*=A):(u=0,C=0,b=0),g[0]=m,g[1]=u,g[2]=M,g[3]=0,g[4]=d,g[5]=C,g[6]=w,g[7]=0,g[8]=h,g[9]=b,g[10]=N,g[11]=0,g[12]=-(m*k+d*H+h*L),g[13]=-(u*k+C*H+b*L),g[14]=-(M*k+w*H+N*L),g[15]=1,g)}},{"./identity":32}],36:[function(v,pe,J){pe.exports=function(s,g,p){var c=g[0],l=g[1],m=g[2],d=g[3],h=g[4],u=g[5],C=g[6],b=g[7],M=g[8],w=g[9],N=g[10],A=g[11],k=g[12],H=g[13],L=g[14],I=g[15],D=p[0],E=p[1],P=p[2],S=p[3];return s[0]=D*c+E*h+P*M+S*k,s[1]=D*l+E*u+P*w+S*H,s[2]=D*m+E*C+P*N+S*L,s[3]=D*d+E*b+P*A+S*I,s[4]=(D=p[4])*c+(E=p[5])*h+(P=p[6])*M+(S=p[7])*k,s[5]=D*l+E*u+P*w+S*H,s[6]=D*m+E*C+P*N+S*L,s[7]=D*d+E*b+P*A+S*I,s[8]=(D=p[8])*c+(E=p[9])*h+(P=p[10])*M+(S=p[11])*k,s[9]=D*l+E*u+P*w+S*H,s[10]=D*m+E*C+P*N+S*L,s[11]=D*d+E*b+P*A+S*I,s[12]=(D=p[12])*c+(E=p[13])*h+(P=p[14])*M+(S=p[15])*k,s[13]=D*l+E*u+P*w+S*H,s[14]=D*m+E*C+P*N+S*L,s[15]=D*d+E*b+P*A+S*I,s}},{}],37:[function(v,pe,J){pe.exports=function(s,g,p,c,l,m,d){var h=1/(g-p),u=1/(c-l),C=1/(m-d);return s[0]=-2*h,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*u,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*C,s[11]=0,s[12]=(g+p)*h,s[13]=(l+c)*u,s[14]=(d+m)*C,s[15]=1,s}},{}],38:[function(v,pe,J){pe.exports=function(s,g,p,c,l){var m=1/Math.tan(g/2),d=1/(c-l);return s[0]=m/p,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=m,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(l+c)*d,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*l*c*d,s[15]=0,s}},{}],39:[function(v,pe,J){pe.exports=function(s,g,p,c){var l=Math.tan(g.upDegrees*Math.PI/180),m=Math.tan(g.downDegrees*Math.PI/180),d=Math.tan(g.leftDegrees*Math.PI/180),h=Math.tan(g.rightDegrees*Math.PI/180),u=2/(d+h),C=2/(l+m);return s[0]=u,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=C,s[6]=0,s[7]=0,s[8]=-(d-h)*u*.5,s[9]=(l-m)*C*.5,s[10]=c/(p-c),s[11]=-1,s[12]=0,s[13]=0,s[14]=c*p/(p-c),s[15]=0,s}},{}],40:[function(v,pe,J){pe.exports=function(s,g,p,c){var l,m,d,h,u,C,b,M,w,N,A,k,H,L,I,D,E,P,S,R,G,z,X,W,Z=c[0],ne=c[1],te=c[2],oe=Math.sqrt(Z*Z+ne*ne+te*te);return Math.abs(oe)<1e-6?null:(Z*=oe=1/oe,ne*=oe,te*=oe,l=Math.sin(p),m=Math.cos(p),u=g[1],C=g[2],b=g[3],w=g[5],N=g[6],A=g[7],H=g[9],L=g[10],I=g[11],S=Z*ne*(d=1-m)-te*l,R=ne*ne*d+m,G=te*ne*d+Z*l,z=Z*te*d+ne*l,X=ne*te*d-Z*l,W=te*te*d+m,s[0]=(h=g[0])*(D=Z*Z*d+m)+(M=g[4])*(E=ne*Z*d+te*l)+(k=g[8])*(P=te*Z*d-ne*l),s[1]=u*D+w*E+H*P,s[2]=C*D+N*E+L*P,s[3]=b*D+A*E+I*P,s[4]=h*S+M*R+k*G,s[5]=u*S+w*R+H*G,s[6]=C*S+N*R+L*G,s[7]=b*S+A*R+I*G,s[8]=h*z+M*X+k*W,s[9]=u*z+w*X+H*W,s[10]=C*z+N*X+L*W,s[11]=b*z+A*X+I*W,g!==s&&(s[12]=g[12],s[13]=g[13],s[14]=g[14],s[15]=g[15]),s)}},{}],41:[function(v,pe,J){pe.exports=function(s,g,p){var c=Math.sin(p),l=Math.cos(p),m=g[4],d=g[5],h=g[6],u=g[7],C=g[8],b=g[9],M=g[10],w=g[11];return g!==s&&(s[0]=g[0],s[1]=g[1],s[2]=g[2],s[3]=g[3],s[12]=g[12],s[13]=g[13],s[14]=g[14],s[15]=g[15]),s[4]=m*l+C*c,s[5]=d*l+b*c,s[6]=h*l+M*c,s[7]=u*l+w*c,s[8]=C*l-m*c,s[9]=b*l-d*c,s[10]=M*l-h*c,s[11]=w*l-u*c,s}},{}],42:[function(v,pe,J){pe.exports=function(s,g,p){var c=Math.sin(p),l=Math.cos(p),m=g[0],d=g[1],h=g[2],u=g[3],C=g[8],b=g[9],M=g[10],w=g[11];return g!==s&&(s[4]=g[4],s[5]=g[5],s[6]=g[6],s[7]=g[7],s[12]=g[12],s[13]=g[13],s[14]=g[14],s[15]=g[15]),s[0]=m*l-C*c,s[1]=d*l-b*c,s[2]=h*l-M*c,s[3]=u*l-w*c,s[8]=m*c+C*l,s[9]=d*c+b*l,s[10]=h*c+M*l,s[11]=u*c+w*l,s}},{}],43:[function(v,pe,J){pe.exports=function(s,g,p){var c=Math.sin(p),l=Math.cos(p),m=g[0],d=g[1],h=g[2],u=g[3],C=g[4],b=g[5],M=g[6],w=g[7];return g!==s&&(s[8]=g[8],s[9]=g[9],s[10]=g[10],s[11]=g[11],s[12]=g[12],s[13]=g[13],s[14]=g[14],s[15]=g[15]),s[0]=m*l+C*c,s[1]=d*l+b*c,s[2]=h*l+M*c,s[3]=u*l+w*c,s[4]=C*l-m*c,s[5]=b*l-d*c,s[6]=M*l-h*c,s[7]=w*l-u*c,s}},{}],44:[function(v,pe,J){pe.exports=function(s,g,p){var c=p[0],l=p[1],m=p[2];return s[0]=g[0]*c,s[1]=g[1]*c,s[2]=g[2]*c,s[3]=g[3]*c,s[4]=g[4]*l,s[5]=g[5]*l,s[6]=g[6]*l,s[7]=g[7]*l,s[8]=g[8]*m,s[9]=g[9]*m,s[10]=g[10]*m,s[11]=g[11]*m,s[12]=g[12],s[13]=g[13],s[14]=g[14],s[15]=g[15],s}},{}],45:[function(v,pe,J){pe.exports=function(s){return"mat4("+s[0]+", "+s[1]+", "+s[2]+", "+s[3]+", "+s[4]+", "+s[5]+", "+s[6]+", "+s[7]+", "+s[8]+", "+s[9]+", "+s[10]+", "+s[11]+", "+s[12]+", "+s[13]+", "+s[14]+", "+s[15]+")"}},{}],46:[function(v,pe,J){pe.exports=function(s,g,p){var c,l,m,d,h,u,C,b,M,w,N,A,k=p[0],H=p[1],L=p[2];return g===s?(s[12]=g[0]*k+g[4]*H+g[8]*L+g[12],s[13]=g[1]*k+g[5]*H+g[9]*L+g[13],s[14]=g[2]*k+g[6]*H+g[10]*L+g[14],s[15]=g[3]*k+g[7]*H+g[11]*L+g[15]):(l=g[1],m=g[2],d=g[3],h=g[4],u=g[5],C=g[6],b=g[7],M=g[8],w=g[9],N=g[10],A=g[11],s[0]=c=g[0],s[1]=l,s[2]=m,s[3]=d,s[4]=h,s[5]=u,s[6]=C,s[7]=b,s[8]=M,s[9]=w,s[10]=N,s[11]=A,s[12]=c*k+h*H+M*L+g[12],s[13]=l*k+u*H+w*L+g[13],s[14]=m*k+C*H+N*L+g[14],s[15]=d*k+b*H+A*L+g[15]),s}},{}],47:[function(v,pe,J){pe.exports=function(s,g){if(s===g){var p=g[1],c=g[2],l=g[3],m=g[6],d=g[7],h=g[11];s[1]=g[4],s[2]=g[8],s[3]=g[12],s[4]=p,s[6]=g[9],s[7]=g[13],s[8]=c,s[9]=m,s[11]=g[14],s[12]=l,s[13]=d,s[14]=h}else s[0]=g[0],s[1]=g[4],s[2]=g[8],s[3]=g[12],s[4]=g[1],s[5]=g[5],s[6]=g[9],s[7]=g[13],s[8]=g[2],s[9]=g[6],s[10]=g[10],s[11]=g[14],s[12]=g[3],s[13]=g[7],s[14]=g[11],s[15]=g[15];return s}},{}],48:[function(v,pe,J){(function(s){(function(){"use strict";var g,p=v("is-browser");g="function"==typeof s.matchMedia?!s.matchMedia("(hover: none)").matches:p,pe.exports=g}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"is-browser":50}],49:[function(v,pe,J){"use strict";var s=v("is-browser");pe.exports=s&&function(){var g=!1;try{var p=Object.defineProperty({},"passive",{get:function(){g=!0}});window.addEventListener("test",null,p),window.removeEventListener("test",null,p)}catch{g=!1}return g}()},{"is-browser":50}],50:[function(v,pe,J){pe.exports=!0},{}],51:[function(v,pe,J){"use strict";pe.exports=p,pe.exports.isMobile=p,pe.exports.default=p;var s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,g=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function p(c){c||(c={});var l=c.ua;if(l||typeof navigator>"u"||(l=navigator.userAgent),l&&l.headers&&"string"==typeof l.headers["user-agent"]&&(l=l.headers["user-agent"]),"string"!=typeof l)return!1;var m=c.tablet?g.test(l):s.test(l);return!m&&c.tablet&&c.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==l.indexOf("Macintosh")&&-1!==l.indexOf("Safari")&&(m=!0),m}},{}],52:[function(v,pe,J){"use strict";pe.exports=function(s){for(var g,p=s.length,c=0;c<p;c++)if(((g=s.charCodeAt(c))<9||g>13)&&32!==g&&133!==g&&160!==g&&5760!==g&&6158!==g&&(g<8192||g>8205)&&8232!==g&&8233!==g&&8239!==g&&8287!==g&&8288!==g&&12288!==g&&65279!==g)return!1;return!0}},{}],53:[function(v,pe,J){var s={left:0,top:0};pe.exports=function(g,p,c){p=p||g.currentTarget||g.srcElement,Array.isArray(c)||(c=[0,0]);var h,l=g.clientX||0,m=g.clientY||0,d=(h=p)===window||h===document||h===document.body?s:h.getBoundingClientRect();return c[0]=l-d.left,c[1]=m-d.top,c}},{}],54:[function(v,pe,J){(function(s,g){(function(){var p,c,l;l=function(){"use strict";var m,d,h,u=Object.prototype.toString,C=void 0!==g?function(P){return g(P)}:setTimeout;try{Object.defineProperty({},"x",{}),m=function(P,S,R,G){return Object.defineProperty(P,S,{value:R,writable:!0,configurable:!1!==G})}}catch{m=function(S,R,G){return S[R]=G,S}}function b(P,S){h.add(P,S),d||(d=C(h.drain))}function M(P){var S,R=typeof P;return null==P||"object"!=R&&"function"!=R||(S=P.then),"function"==typeof S&&S}function w(){for(var P=0;P<this.chain.length;P++)N(this,1===this.state?this.chain[P].success:this.chain[P].failure,this.chain[P]);this.chain.length=0}function N(P,S,R){var G,z;try{!1===S?R.reject(P.msg):(G=!0===S?P.msg:S.call(void 0,P.msg))===R.promise?R.reject(TypeError("Promise-chain cycle")):(z=M(G))?z.call(G,R.resolve,R.reject):R.resolve(G)}catch(X){R.reject(X)}}function A(P){var S,R=this;if(!R.triggered){R.triggered=!0,R.def&&(R=R.def);try{(S=M(P))?b(function(){var G=new L(R);try{S.call(P,function(){A.apply(G,arguments)},function(){k.apply(G,arguments)})}catch(z){k.call(G,z)}}):(R.msg=P,R.state=1,R.chain.length>0&&b(w,R))}catch(G){k.call(new L(R),G)}}}function k(P){var S=this;S.triggered||(S.triggered=!0,S.def&&(S=S.def),S.msg=P,S.state=2,S.chain.length>0&&b(w,S))}function H(P,S,R,G){for(var z=0;z<S.length;z++)!function(X){P.resolve(S[X]).then(function(W){R(X,W)},G)}(z)}function L(P){this.def=P,this.triggered=!1}function I(P){this.promise=P,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function D(P){if("function"!=typeof P)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var S=new I(this);this.then=function(R,G){var z={success:"function"!=typeof R||R,failure:"function"==typeof G&&G};return z.promise=new this.constructor(function(X,W){if("function"!=typeof X||"function"!=typeof W)throw TypeError("Not a function");z.resolve=X,z.reject=W}),S.chain.push(z),0!==S.state&&b(w,S),z.promise},this.catch=function(R){return this.then(void 0,R)};try{P.call(void 0,function(R){A.call(S,R)},function(R){k.call(S,R)})}catch(R){k.call(S,R)}}h=function(){var P,S,R;function G(z,X){this.fn=z,this.self=X,this.next=void 0}return{add:function(z,X){R=new G(z,X),S?S.next=R:P=R,S=R,R=void 0},drain:function(){var z=P;for(P=S=d=void 0;z;)z.fn.call(z.self),z=z.next}}}();var E=m({},"constructor",D,!1);return D.prototype=E,m(E,"__NPO__",0,!1),m(D,"resolve",function(P){return P&&"object"==typeof P&&1===P.__NPO__?P:new this(function(S,R){if("function"!=typeof S||"function"!=typeof R)throw TypeError("Not a function");S(P)})}),m(D,"reject",function(P){return new this(function(S,R){if("function"!=typeof S||"function"!=typeof R)throw TypeError("Not a function");R(P)})}),m(D,"all",function(P){var S=this;return"[object Array]"!=u.call(P)?S.reject(TypeError("Not an array")):0===P.length?S.resolve([]):new S(function(R,G){if("function"!=typeof R||"function"!=typeof G)throw TypeError("Not a function");var z=P.length,X=Array(z),W=0;H(S,P,function(Z,ne){X[Z]=ne,++W===z&&R(X)},G)})}),m(D,"race",function(P){var S=this;return"[object Array]"!=u.call(P)?S.reject(TypeError("Not an array")):new S(function(R,G){if("function"!=typeof R||"function"!=typeof G)throw TypeError("Not a function");H(S,P,function(z,X){R(X)},G)})}),D},(c=void 0!==s?s:this)[p="Promise"]=c[p]||l(),void 0!==pe&&pe.exports&&(pe.exports=c[p])}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},v("timers").setImmediate)},{timers:66}],55:[function(v,pe,J){"use strict";var s=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function c(l){if(null==l)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}pe.exports=function(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de","5"===Object.getOwnPropertyNames(l)[0])return!1;for(var m={},d=0;d<10;d++)m["_"+String.fromCharCode(d)]=d;if("0123456789"!==Object.getOwnPropertyNames(m).map(function(u){return m[u]}).join(""))return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(u){h[u]=u}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},h)).join("")}catch{return!1}}()?Object.assign:function(l,m){for(var d,h,u=c(l),C=1;C<arguments.length;C++){for(var b in d=Object(arguments[C]))g.call(d,b)&&(u[b]=d[b]);if(s){h=s(d);for(var M=0;M<h.length;M++)p.call(d,h[M])&&(u[h[M]]=d[h[M]])}}return u}},{}],56:[function(v,pe,J){pe.exports=function(c){var l=[];return c.replace(g,function(m,d,h){var b,u=d.toLowerCase();for(b=void 0,h=(b=h.match(p))?b.map(Number):[],"m"==u&&h.length>2&&(l.push([d].concat(h.splice(0,2))),u="l",d="m"==d?"l":"L");;){if(h.length==s[u])return h.unshift(d),l.push(h);if(h.length<s[u])throw new Error("malformed path data");l.push([d].concat(h.splice(0,s[u])))}}),l};var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},g=/([astvzqmhlc])([^astvzqmhlc]*)/gi,p=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},{}],57:[function(v,pe,J){var s,g=v("./lib/build-log"),p=v("./lib/epsilon"),c=v("./lib/intersecter"),l=v("./lib/segment-chainer"),m=v("./lib/segment-selector"),d=v("./lib/geojson"),h=!1,u=p();function C(b,M,w){var N=s.segments(b),A=s.segments(M),k=w(s.combine(N,A));return s.polygon(k)}s={buildLog:function(b){return!0===b?h=g():!1===b&&(h=!1),!1!==h&&h.list},epsilon:function(b){return u.epsilon(b)},segments:function(b){var M=c(!0,u,h);return b.regions.forEach(M.addRegion),{segments:M.calculate(b.inverted),inverted:b.inverted}},combine:function(b,M){return{combined:c(!1,u,h).calculate(b.segments,b.inverted,M.segments,M.inverted),inverted1:b.inverted,inverted2:M.inverted}},selectUnion:function(b){return{segments:m.union(b.combined,h),inverted:b.inverted1||b.inverted2}},selectIntersect:function(b){return{segments:m.intersect(b.combined,h),inverted:b.inverted1&&b.inverted2}},selectDifference:function(b){return{segments:m.difference(b.combined,h),inverted:b.inverted1&&!b.inverted2}},selectDifferenceRev:function(b){return{segments:m.differenceRev(b.combined,h),inverted:!b.inverted1&&b.inverted2}},selectXor:function(b){return{segments:m.xor(b.combined,h),inverted:b.inverted1!==b.inverted2}},polygon:function(b){return{regions:l(b.segments,u,h),inverted:b.inverted}},polygonFromGeoJSON:function(b){return d.toPolygon(s,b)},polygonToGeoJSON:function(b){return d.fromPolygon(s,u,b)},union:function(b,M){return C(b,M,s.selectUnion)},intersect:function(b,M){return C(b,M,s.selectIntersect)},difference:function(b,M){return C(b,M,s.selectDifference)},differenceRev:function(b,M){return C(b,M,s.selectDifferenceRev)},xor:function(b,M){return C(b,M,s.selectXor)}},"object"==typeof window&&(window.PolyBool=s),pe.exports=s},{"./lib/build-log":58,"./lib/epsilon":59,"./lib/geojson":60,"./lib/intersecter":61,"./lib/segment-chainer":63,"./lib/segment-selector":64}],58:[function(v,pe,J){pe.exports=function(){var s,g=0,p=!1;function c(l,m){return s.list.push({type:l,data:m?JSON.parse(JSON.stringify(m)):void 0}),s}return s={list:[],segmentId:function(){return g++},checkIntersection:function(l,m){return c("check",{seg1:l,seg2:m})},segmentChop:function(l,m){return c("div_seg",{seg:l,pt:m}),c("chop",{seg:l,pt:m})},statusRemove:function(l){return c("pop_seg",{seg:l})},segmentUpdate:function(l){return c("seg_update",{seg:l})},segmentNew:function(l,m){return c("new_seg",{seg:l,primary:m})},segmentRemove:function(l){return c("rem_seg",{seg:l})},tempStatus:function(l,m,d){return c("temp_status",{seg:l,above:m,below:d})},rewind:function(l){return c("rewind",{seg:l})},status:function(l,m,d){return c("status",{seg:l,above:m,below:d})},vert:function(l){return l===p?s:(p=l,c("vert",{x:l}))},log:function(l){return"string"!=typeof l&&(l=JSON.stringify(l,!1,"  ")),c("log",{txt:l})},reset:function(){return c("reset")},selected:function(l){return c("selected",{segs:l})},chainStart:function(l){return c("chain_start",{seg:l})},chainRemoveHead:function(l,m){return c("chain_rem_head",{index:l,pt:m})},chainRemoveTail:function(l,m){return c("chain_rem_tail",{index:l,pt:m})},chainNew:function(l,m){return c("chain_new",{pt1:l,pt2:m})},chainMatch:function(l){return c("chain_match",{index:l})},chainClose:function(l){return c("chain_close",{index:l})},chainAddHead:function(l,m){return c("chain_add_head",{index:l,pt:m})},chainAddTail:function(l,m){return c("chain_add_tail",{index:l,pt:m})},chainConnect:function(l,m){return c("chain_con",{index1:l,index2:m})},chainReverse:function(l){return c("chain_rev",{index:l})},chainJoin:function(l,m){return c("chain_join",{index1:l,index2:m})},done:function(){return c("done")}}}},{}],59:[function(v,pe,J){pe.exports=function(s){"number"!=typeof s&&(s=1e-10);var g={epsilon:function(p){return"number"==typeof p&&(s=p),s},pointAboveOrOnLine:function(p,c,l){var m=c[0],d=c[1];return(l[0]-m)*(p[1]-d)-(l[1]-d)*(p[0]-m)>=-s},pointBetween:function(p,c,l){var d=l[0]-c[0],u=l[1]-c[1],C=(p[0]-c[0])*d+(p[1]-c[1])*u;return!(C<s||C-(d*d+u*u)>-s)},pointsSameX:function(p,c){return Math.abs(p[0]-c[0])<s},pointsSameY:function(p,c){return Math.abs(p[1]-c[1])<s},pointsSame:function(p,c){return g.pointsSameX(p,c)&&g.pointsSameY(p,c)},pointsCompare:function(p,c){return g.pointsSameX(p,c)?g.pointsSameY(p,c)?0:p[1]<c[1]?-1:1:p[0]<c[0]?-1:1},pointsCollinear:function(p,c,l){return Math.abs((p[0]-c[0])*(c[1]-l[1])-(c[0]-l[0])*(p[1]-c[1]))<s},linesIntersect:function(p,c,l,m){var d=c[0]-p[0],h=c[1]-p[1],u=m[0]-l[0],C=m[1]-l[1],b=d*C-h*u;if(Math.abs(b)<s)return!1;var M=p[0]-l[0],w=p[1]-l[1],N=(u*w-C*M)/b,A=(d*w-h*M)/b,k={alongA:0,alongB:0,pt:[p[0]+N*d,p[1]+N*h]};return k.alongA=N<=-s?-2:N<s?-1:N-1<=-s?0:N-1<s?1:2,k.alongB=A<=-s?-2:A<s?-1:A-1<=-s?0:A-1<s?1:2,k},pointInsideRegion:function(p,c){for(var l=p[0],m=p[1],d=c[c.length-1][0],h=c[c.length-1][1],u=!1,C=0;C<c.length;C++){var b=c[C][0],M=c[C][1];M-m>s!=h-m>s&&(d-b)*(m-M)/(h-M)+b-l>s&&(u=!u),d=b,h=M}return u}};return g}},{}],60:[function(v,pe,J){pe.exports={toPolygon:function(g,p){function c(d){if(d.length<=0)return g.segments({inverted:!1,regions:[]});function h(b){var M=b.slice(0,b.length-1);return g.segments({inverted:!1,regions:[M]})}for(var u=h(d[0]),C=1;C<d.length;C++)u=g.selectDifference(g.combine(u,h(d[C])));return u}if("Polygon"===p.type)return g.polygon(c(p.coordinates));if("MultiPolygon"===p.type){for(var l=g.segments({inverted:!1,regions:[]}),m=0;m<p.coordinates.length;m++)l=g.selectUnion(g.combine(l,c(p.coordinates[m])));return g.polygon(l)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(g,p,c){function l(A,k){return p.pointInsideRegion([.5*(A[0][0]+A[1][0]),.5*(A[0][1]+A[1][1])],k)}function m(A){return{region:A,children:[]}}c=g.polygon(g.segments(c));var d=m(null);function h(A,k){for(var H=0;H<A.children.length;H++)if(l(k,(I=A.children[H]).region))return void h(I,k);var L=m(k);for(H=0;H<A.children.length;H++){var I;l((I=A.children[H]).region,k)&&(L.children.push(I),A.children.splice(H,1),H--)}A.children.push(L)}for(var u=0;u<c.regions.length;u++){var C=c.regions[u];C.length<3||h(d,C)}function b(A,k){for(var H=0,L=A[A.length-1][0],I=A[A.length-1][1],D=[],E=0;E<A.length;E++){var P=A[E][0],S=A[E][1];D.push([P,S]),H+=S*L-P*I,L=P,I=S}return H<0!==k&&D.reverse(),D.push([D[0][0],D[0][1]]),D}var M=[];function w(A){var k=[b(A.region,!1)];M.push(k);for(var H=0;H<A.children.length;H++)k.push(N(A.children[H]))}function N(A){for(var k=0;k<A.children.length;k++)w(A.children[k]);return b(A.region,!0)}for(u=0;u<d.children.length;u++)w(d.children[u]);return M.length<=0?{type:"Polygon",coordinates:[]}:1==M.length?{type:"Polygon",coordinates:M[0]}:{type:"MultiPolygon",coordinates:M}}}},{}],61:[function(v,pe,J){var s=v("./linked-list");pe.exports=function(g,p,c){function l(b,M,w){return{id:c?c.segmentId():-1,start:b,end:M,myFill:{above:w.myFill.above,below:w.myFill.below},otherFill:null}}var m=s.create();function d(b,M){m.insertBefore(b,function(w){return N=b.isStart,k=M,H=w.isStart,I=w.other.pt,(0!==(D=p.pointsCompare(b.pt,L=w.pt))?D:p.pointsSame(k,I)?0:N!==H?N?1:-1:p.pointAboveOrOnLine(k,H?L:I,H?I:L)?1:-1)<0;var N,k,H,L,I,D})}function h(b,M){var N,k,w=(d(k=s.node({isStart:!0,pt:(N=b).start,seg:N,primary:M,other:null,status:null}),N.end),k);return function(N,A,k){var H=s.node({isStart:!1,pt:A.end,seg:A,primary:k,other:N,status:null});N.other=H,d(H,N.pt)}(w,b,M),w}function u(b,M){var N,A,w=l(M,b.seg.end,b.seg);return N=b,A=M,c&&c.segmentChop(N.seg,A),N.other.remove(),N.seg.end=A,N.other.pt=A,d(N.other,N.pt),h(w,b.primary)}function C(b,M){var w=s.create();function N(X){return w.findTransition(function(W){var Z,ne,te,oe,Ce,ie;return oe=(Z=X).seg.end,(p.pointsCollinear(te=Z.seg.start,Ce=(ne=W.ev).seg.start,ie=ne.seg.end)?p.pointsCollinear(oe,Ce,ie)||p.pointAboveOrOnLine(oe,Ce,ie)?1:-1:p.pointAboveOrOnLine(te,Ce,ie)?1:-1)>0})}function A(X,W){var Z=X.seg,ne=W.seg,te=Z.start,oe=Z.end,Ce=ne.start,ie=ne.end;c&&c.checkIntersection(Z,ne);var Q=p.linesIntersect(te,oe,Ce,ie);if(!1===Q){if(!p.pointsCollinear(te,oe,Ce)||p.pointsSame(te,ie)||p.pointsSame(oe,Ce))return!1;var le=p.pointsSame(te,Ce),j=p.pointsSame(oe,ie);if(le&&j)return W;var $=!le&&p.pointBetween(te,Ce,ie),se=!j&&p.pointBetween(oe,Ce,ie);if(le)return se?u(W,oe):u(X,ie),W;$&&(j||(se?u(W,oe):u(X,ie)),u(W,te))}else 0===Q.alongA&&(-1===Q.alongB?u(X,Ce):0===Q.alongB?u(X,Q.pt):1===Q.alongB&&u(X,ie)),0===Q.alongB&&(-1===Q.alongA?u(W,te):0===Q.alongA?u(W,Q.pt):1===Q.alongA&&u(W,oe));return!1}for(var k=[];!m.isEmpty();){var H=m.getHead();if(c&&c.vert(H.pt[0]),H.isStart){let X=function(){if(I){var W=A(H,I);if(W)return W}return!!D&&A(H,D)};c&&c.segmentNew(H.seg,H.primary);var L=N(H),I=L.before?L.before.ev:null,D=L.after?L.after.ev:null;c&&c.tempStatus(H.seg,!!I&&I.seg,!!D&&D.seg);var E,S,P=X();if(P&&(g?(S=null===H.seg.myFill.below||H.seg.myFill.above!==H.seg.myFill.below)&&(P.seg.myFill.above=!P.seg.myFill.above):P.seg.otherFill=H.seg.myFill,c&&c.segmentUpdate(P.seg),H.other.remove(),H.remove()),m.getHead()!==H){c&&c.rewind(H.seg);continue}g?(S=null===H.seg.myFill.below||H.seg.myFill.above!==H.seg.myFill.below,H.seg.myFill.below=D?D.seg.myFill.above:b,H.seg.myFill.above=S?!H.seg.myFill.below:H.seg.myFill.below):null===H.seg.otherFill&&(H.seg.otherFill={above:E=D?H.primary===D.primary?D.seg.otherFill.above:D.seg.myFill.above:H.primary?M:b,below:E}),c&&c.status(H.seg,!!I&&I.seg,!!D&&D.seg),H.other.status=L.insert(s.node({ev:H}))}else{var R=H.status;if(null===R)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(w.exists(R.prev)&&w.exists(R.next)&&A(R.prev.ev,R.next.ev),c&&c.statusRemove(R.ev.seg),R.remove(),!H.primary){var G=H.seg.myFill;H.seg.myFill=H.seg.otherFill,H.seg.otherFill=G}k.push(H.seg)}m.getHead().remove()}return c&&c.done(),k}return g?{addRegion:function(b){for(var M,w,N,A=b[b.length-1],k=0;k<b.length;k++){var H=p.pointsCompare(M=A,A=b[k]);0!==H&&h((w=H<0?M:A,N=H<0?A:M,{id:c?c.segmentId():-1,start:w,end:N,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(b){return C(b,!1)}}:{calculate:function(b,M,w,N){return b.forEach(function(A){h(l(A.start,A.end,A),!0)}),w.forEach(function(A){h(l(A.start,A.end,A),!1)}),C(M,N)}}}},{"./linked-list":62}],62:[function(v,pe,J){pe.exports={create:function(){var s={root:{root:!0,next:null},exists:function(g){return null!==g&&g!==s.root},isEmpty:function(){return null===s.root.next},getHead:function(){return s.root.next},insertBefore:function(g,p){for(var c=s.root,l=s.root.next;null!==l;){if(p(l))return g.prev=l.prev,g.next=l,l.prev.next=g,void(l.prev=g);c=l,l=l.next}c.next=g,g.prev=c,g.next=null},findTransition:function(g){for(var p=s.root,c=s.root.next;null!==c&&!g(c);)p=c,c=c.next;return{before:p===s.root?null:p,after:c,insert:function(l){return l.prev=p,l.next=c,p.next=l,null!==c&&(c.prev=l),l}}}};return s},node:function(s){return s.prev=null,s.next=null,s.remove=function(){s.prev.next=s.next,s.next&&(s.next.prev=s.prev),s.prev=null,s.next=null},s}}},{}],63:[function(v,pe,J){pe.exports=function(s,g,p){var c=[],l=[];return s.forEach(function(m){var d=m.start,h=m.end;if(g.pointsSame(d,h))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{p&&p.chainStart(m);for(var u={index:0,matches_head:!1,matches_pt1:!1},C={index:0,matches_head:!1,matches_pt1:!1},b=u,M=0;M<c.length;M++){var w=(L=c[M])[0],N=L[L.length-1];if(g.pointsSame(w,d)){if(z(M,!0,!0))break}else if(g.pointsSame(w,h)){if(z(M,!0,!1))break}else if(g.pointsSame(N,d)){if(z(M,!1,!0))break}else if(g.pointsSame(N,h)&&z(M,!1,!1))break}if(b===u)return c.push([d,h]),void(p&&p.chainNew(d,h));if(b===C){p&&p.chainMatch(u.index);var A=u.index,k=u.matches_pt1?h:d,H=u.matches_head,L=c[A],I=H?L[0]:L[L.length-1],D=H?L[1]:L[L.length-2],E=H?L[L.length-1]:L[0],P=H?L[L.length-2]:L[1];return g.pointsCollinear(D,I,k)&&(H?(p&&p.chainRemoveHead(u.index,k),L.shift()):(p&&p.chainRemoveTail(u.index,k),L.pop()),I=D),g.pointsSame(E,k)?(c.splice(A,1),g.pointsCollinear(P,E,I)&&(H?(p&&p.chainRemoveTail(u.index,I),L.pop()):(p&&p.chainRemoveHead(u.index,I),L.shift())),p&&p.chainClose(u.index),void l.push(L)):void(H?(p&&p.chainAddHead(u.index,k),L.unshift(k)):(p&&p.chainAddTail(u.index,k),L.push(k)))}var S=u.index,R=C.index;p&&p.chainConnect(S,R);var G=c[S].length<c[R].length;u.matches_head?C.matches_head?G?(X(S),W(S,R)):(X(R),W(R,S)):W(R,S):C.matches_head?W(S,R):G?(X(S),W(R,S)):(X(R),W(S,R))}function z(Z,ne,te){return b.index=Z,b.matches_head=ne,b.matches_pt1=te,b===u?(b=C,!1):(b=null,!0)}function X(Z){p&&p.chainReverse(Z),c[Z].reverse()}function W(Z,ne){var te=c[Z],oe=c[ne],Ce=te[te.length-1],ie=te[te.length-2],Q=oe[0],le=oe[1];g.pointsCollinear(ie,Ce,Q)&&(p&&p.chainRemoveTail(Z,Ce),te.pop(),Ce=ie),g.pointsCollinear(Ce,Q,le)&&(p&&p.chainRemoveHead(ne,Q),oe.shift()),p&&p.chainJoin(Z,ne),c[Z]=te.concat(oe),c.splice(ne,1)}}),l}},{}],64:[function(v,pe,J){function s(p,c,l){var m=[];return p.forEach(function(d){var h=(d.myFill.above?8:0)+(d.myFill.below?4:0)+(d.otherFill&&d.otherFill.above?2:0)+(d.otherFill&&d.otherFill.below?1:0);0!==c[h]&&m.push({id:l?l.segmentId():-1,start:d.start,end:d.end,myFill:{above:1===c[h],below:2===c[h]},otherFill:null})}),l&&l.selected(m),m}pe.exports={union:function(p,c){return s(p,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],c)},intersect:function(p,c){return s(p,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],c)},difference:function(p,c){return s(p,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],c)},differenceRev:function(p,c){return s(p,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],c)},xor:function(p,c){return s(p,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],c)}}},{}],65:[function(v,pe,J){var s,g,p=pe.exports={};function c(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function m(A){if(s===setTimeout)return setTimeout(A,0);if((s===c||!s)&&setTimeout)return s=setTimeout,setTimeout(A,0);try{return s(A,0)}catch{try{return s.call(null,A,0)}catch{return s.call(this,A,0)}}}!function(){try{s="function"==typeof setTimeout?setTimeout:c}catch{s=c}try{g="function"==typeof clearTimeout?clearTimeout:l}catch{g=l}}();var d,h=[],u=!1,C=-1;function b(){u&&d&&(u=!1,d.length?h=d.concat(h):C=-1,h.length&&M())}function M(){if(!u){var A=m(b);u=!0;for(var k=h.length;k;){for(d=h,h=[];++C<k;)d&&d[C].run();C=-1,k=h.length}d=null,u=!1,function(H){if(g===clearTimeout)return clearTimeout(H);if((g===l||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(H);try{g(H)}catch{try{return g.call(null,H)}catch{return g.call(this,H)}}}(A)}}function w(A,k){this.fun=A,this.array=k}function N(){}p.nextTick=function(A){var k=new Array(arguments.length-1);if(arguments.length>1)for(var H=1;H<arguments.length;H++)k[H-1]=arguments[H];h.push(new w(A,k)),1!==h.length||u||m(M)},w.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=N,p.addListener=N,p.once=N,p.off=N,p.removeListener=N,p.removeAllListeners=N,p.emit=N,p.prependListener=N,p.prependOnceListener=N,p.listeners=function(A){return[]},p.binding=function(A){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(A){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],66:[function(v,pe,J){(function(s,g){(function(){var p=v("process/browser.js").nextTick,c=Function.prototype.apply,l=Array.prototype.slice,m={},d=0;function h(u,C){this._id=u,this._clearFn=C}J.setTimeout=function(){return new h(c.call(setTimeout,window,arguments),clearTimeout)},J.setInterval=function(){return new h(c.call(setInterval,window,arguments),clearInterval)},J.clearTimeout=J.clearInterval=function(u){u.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},J.enroll=function(u,C){clearTimeout(u._idleTimeoutId),u._idleTimeout=C},J.unenroll=function(u){clearTimeout(u._idleTimeoutId),u._idleTimeout=-1},J._unrefActive=J.active=function(u){clearTimeout(u._idleTimeoutId);var C=u._idleTimeout;C>=0&&(u._idleTimeoutId=setTimeout(function(){u._onTimeout&&u._onTimeout()},C))},J.setImmediate="function"==typeof s?s:function(u){var C=d++,b=!(arguments.length<2)&&l.call(arguments,1);return m[C]=!0,p(function(){m[C]&&(b?u.apply(null,b):u.call(null),J.clearImmediate(C))}),C},J.clearImmediate="function"==typeof g?g:function(u){delete m[u]}}).call(this)}).call(this,v("timers").setImmediate,v("timers").clearImmediate)},{"process/browser.js":65,timers:66}],67:[function(v,pe,J){!function(s){var g=/^\s+/,p=/\s+$/,c=0,l=s.round,m=s.min,d=s.max,h=s.random;function u(O,Y){if(Y=Y||{},(O=O||"")instanceof u)return O;if(!(this instanceof u))return new u(O,Y);var ae,Ue,tt,ue,fe,he,xe,be,ke,Pe,B=(ue={r:0,g:0,b:0},fe=1,he=null,xe=null,be=null,ke=!1,Pe=!1,"string"==typeof(ae=O)&&(ae=function(Ke){Ke=Ke.replace(g,"").replace(p,"").toLowerCase();var $e,Me=!1;if(X[Ke])Ke=X[Ke],Me=!0;else if("transparent"==Ke)return{r:0,g:0,b:0,a:0,format:"name"};return($e=ee.rgb.exec(Ke))?{r:$e[1],g:$e[2],b:$e[3]}:($e=ee.rgba.exec(Ke))?{r:$e[1],g:$e[2],b:$e[3],a:$e[4]}:($e=ee.hsl.exec(Ke))?{h:$e[1],s:$e[2],l:$e[3]}:($e=ee.hsla.exec(Ke))?{h:$e[1],s:$e[2],l:$e[3],a:$e[4]}:($e=ee.hsv.exec(Ke))?{h:$e[1],s:$e[2],v:$e[3]}:($e=ee.hsva.exec(Ke))?{h:$e[1],s:$e[2],v:$e[3],a:$e[4]}:($e=ee.hex8.exec(Ke))?{r:oe($e[1]),g:oe($e[2]),b:oe($e[3]),a:le($e[4]),format:Me?"name":"hex8"}:($e=ee.hex6.exec(Ke))?{r:oe($e[1]),g:oe($e[2]),b:oe($e[3]),format:Me?"name":"hex"}:($e=ee.hex4.exec(Ke))?{r:oe($e[1]+""+$e[1]),g:oe($e[2]+""+$e[2]),b:oe($e[3]+""+$e[3]),a:le($e[4]+""+$e[4]),format:Me?"name":"hex8"}:!!($e=ee.hex3.exec(Ke))&&{r:oe($e[1]+""+$e[1]),g:oe($e[2]+""+$e[2]),b:oe($e[3]+""+$e[3]),format:Me?"name":"hex"}}(ae)),"object"==typeof ae&&(F(ae.r)&&F(ae.g)&&F(ae.b)?(Ue=ae.g,tt=ae.b,ue={r:255*ne(ae.r,255),g:255*ne(Ue,255),b:255*ne(tt,255)},ke=!0,Pe="%"===String(ae.r).substr(-1)?"prgb":"rgb"):F(ae.h)&&F(ae.s)&&F(ae.v)?(he=ie(ae.s),xe=ie(ae.v),ue=function(Ke,$e,Me){Ke=6*ne(Ke,360),$e=ne($e,100),Me=ne(Me,100);var ve=s.floor(Ke),Se=Ke-ve,Te=Me*(1-$e),qe=Me*(1-Se*$e),Oe=Me*(1-(1-Se)*$e),Fe=ve%6;return{r:255*[Me,qe,Te,Te,Oe,Me][Fe],g:255*[Oe,Me,Me,qe,Te,Te][Fe],b:255*[Te,Te,Oe,Me,Me,qe][Fe]}}(ae.h,he,xe),ke=!0,Pe="hsv"):F(ae.h)&&F(ae.s)&&F(ae.l)&&(he=ie(ae.s),be=ie(ae.l),ue=function(Ke,$e,Me){var ve,Se,Te;function qe(Qe,nt,Ye){return Ye<0&&(Ye+=1),Ye>1&&(Ye-=1),Ye<1/6?Qe+6*(nt-Qe)*Ye:Ye<.5?nt:Ye<2/3?Qe+(nt-Qe)*(2/3-Ye)*6:Qe}if(Ke=ne(Ke,360),$e=ne($e,100),Me=ne(Me,100),0===$e)ve=Se=Te=Me;else{var Oe=Me<.5?Me*(1+$e):Me+$e-Me*$e,Fe=2*Me-Oe;ve=qe(Fe,Oe,Ke+1/3),Se=qe(Fe,Oe,Ke),Te=qe(Fe,Oe,Ke-1/3)}return{r:255*ve,g:255*Se,b:255*Te}}(ae.h,he,be),ke=!0,Pe="hsl"),ae.hasOwnProperty("a")&&(fe=ae.a)),fe=Z(fe),{ok:ke,format:ae.format||Pe,r:m(255,d(ue.r,0)),g:m(255,d(ue.g,0)),b:m(255,d(ue.b,0)),a:fe});this._originalInput=O,this._r=B.r,this._g=B.g,this._b=B.b,this._a=B.a,this._roundA=l(100*this._a)/100,this._format=Y.format||B.format,this._gradientType=Y.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=B.ok,this._tc_id=c++}function C(O,Y,B){O=ne(O,255),Y=ne(Y,255),B=ne(B,255);var ae,ue,fe=d(O,Y,B),he=m(O,Y,B),xe=(fe+he)/2;if(fe==he)ae=ue=0;else{var be=fe-he;switch(ue=xe>.5?be/(2-fe-he):be/(fe+he),fe){case O:ae=(Y-B)/be+(Y<B?6:0);break;case Y:ae=(B-O)/be+2;break;case B:ae=(O-Y)/be+4}ae/=6}return{h:ae,s:ue,l:xe}}function b(O,Y,B){O=ne(O,255),Y=ne(Y,255),B=ne(B,255);var ae,ue,fe=d(O,Y,B),he=m(O,Y,B),xe=fe,be=fe-he;if(ue=0===fe?0:be/fe,fe==he)ae=0;else{switch(fe){case O:ae=(Y-B)/be+(Y<B?6:0);break;case Y:ae=(B-O)/be+2;break;case B:ae=(O-Y)/be+4}ae/=6}return{h:ae,s:ue,v:xe}}function M(O,Y,B,ae){var ue=[Ce(l(O).toString(16)),Ce(l(Y).toString(16)),Ce(l(B).toString(16))];return ae&&ue[0].charAt(0)==ue[0].charAt(1)&&ue[1].charAt(0)==ue[1].charAt(1)&&ue[2].charAt(0)==ue[2].charAt(1)?ue[0].charAt(0)+ue[1].charAt(0)+ue[2].charAt(0):ue.join("")}function w(O,Y,B,ae){return[Ce(Q(ae)),Ce(l(O).toString(16)),Ce(l(Y).toString(16)),Ce(l(B).toString(16))].join("")}function N(O,Y){Y=0===Y?0:Y||10;var B=u(O).toHsl();return B.s-=Y/100,B.s=te(B.s),u(B)}function A(O,Y){Y=0===Y?0:Y||10;var B=u(O).toHsl();return B.s+=Y/100,B.s=te(B.s),u(B)}function k(O){return u(O).desaturate(100)}function H(O,Y){Y=0===Y?0:Y||10;var B=u(O).toHsl();return B.l+=Y/100,B.l=te(B.l),u(B)}function L(O,Y){Y=0===Y?0:Y||10;var B=u(O).toRgb();return B.r=d(0,m(255,B.r-l(-Y/100*255))),B.g=d(0,m(255,B.g-l(-Y/100*255))),B.b=d(0,m(255,B.b-l(-Y/100*255))),u(B)}function I(O,Y){Y=0===Y?0:Y||10;var B=u(O).toHsl();return B.l-=Y/100,B.l=te(B.l),u(B)}function D(O,Y){var B=u(O).toHsl(),ae=(B.h+Y)%360;return B.h=ae<0?360+ae:ae,u(B)}function E(O){var Y=u(O).toHsl();return Y.h=(Y.h+180)%360,u(Y)}function P(O){var Y=u(O).toHsl(),B=Y.h;return[u(O),u({h:(B+120)%360,s:Y.s,l:Y.l}),u({h:(B+240)%360,s:Y.s,l:Y.l})]}function S(O){var Y=u(O).toHsl(),B=Y.h;return[u(O),u({h:(B+90)%360,s:Y.s,l:Y.l}),u({h:(B+180)%360,s:Y.s,l:Y.l}),u({h:(B+270)%360,s:Y.s,l:Y.l})]}function R(O){var Y=u(O).toHsl(),B=Y.h;return[u(O),u({h:(B+72)%360,s:Y.s,l:Y.l}),u({h:(B+216)%360,s:Y.s,l:Y.l})]}function G(O,Y,B){Y=Y||6,B=B||30;var ae=u(O).toHsl(),ue=360/B,fe=[u(O)];for(ae.h=(ae.h-(ue*Y>>1)+720)%360;--Y;)ae.h=(ae.h+ue)%360,fe.push(u(ae));return fe}function z(O,Y){Y=Y||6;for(var B=u(O).toHsv(),ae=B.h,ue=B.s,fe=B.v,he=[],xe=1/Y;Y--;)he.push(u({h:ae,s:ue,v:fe})),fe=(fe+xe)%1;return he}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var O=this.toRgb();return(299*O.r+587*O.g+114*O.b)/1e3},getLuminance:function(){var O,Y,B,ae=this.toRgb();return Y=ae.g/255,B=ae.b/255,.2126*((O=ae.r/255)<=.03928?O/12.92:s.pow((O+.055)/1.055,2.4))+.7152*(Y<=.03928?Y/12.92:s.pow((Y+.055)/1.055,2.4))+.0722*(B<=.03928?B/12.92:s.pow((B+.055)/1.055,2.4))},setAlpha:function(O){return this._a=Z(O),this._roundA=l(100*this._a)/100,this},toHsv:function(){var O=b(this._r,this._g,this._b);return{h:360*O.h,s:O.s,v:O.v,a:this._a}},toHsvString:function(){var O=b(this._r,this._g,this._b),Y=l(360*O.h),B=l(100*O.s),ae=l(100*O.v);return 1==this._a?"hsv("+Y+", "+B+"%, "+ae+"%)":"hsva("+Y+", "+B+"%, "+ae+"%, "+this._roundA+")"},toHsl:function(){var O=C(this._r,this._g,this._b);return{h:360*O.h,s:O.s,l:O.l,a:this._a}},toHslString:function(){var O=C(this._r,this._g,this._b),Y=l(360*O.h),B=l(100*O.s),ae=l(100*O.l);return 1==this._a?"hsl("+Y+", "+B+"%, "+ae+"%)":"hsla("+Y+", "+B+"%, "+ae+"%, "+this._roundA+")"},toHex:function(O){return M(this._r,this._g,this._b,O)},toHexString:function(O){return"#"+this.toHex(O)},toHex8:function(O){return B=this._g,ae=this._b,ue=this._a,fe=O,he=[Ce(l(this._r).toString(16)),Ce(l(B).toString(16)),Ce(l(ae).toString(16)),Ce(Q(ue))],fe&&he[0].charAt(0)==he[0].charAt(1)&&he[1].charAt(0)==he[1].charAt(1)&&he[2].charAt(0)==he[2].charAt(1)&&he[3].charAt(0)==he[3].charAt(1)?he[0].charAt(0)+he[1].charAt(0)+he[2].charAt(0)+he[3].charAt(0):he.join("");var B,ae,ue,fe,he},toHex8String:function(O){return"#"+this.toHex8(O)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*ne(this._r,255))+"%",g:l(100*ne(this._g,255))+"%",b:l(100*ne(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*ne(this._r,255))+"%, "+l(100*ne(this._g,255))+"%, "+l(100*ne(this._b,255))+"%)":"rgba("+l(100*ne(this._r,255))+"%, "+l(100*ne(this._g,255))+"%, "+l(100*ne(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(W[M(this._r,this._g,this._b,!0)]||!1)},toFilter:function(O){var Y="#"+w(this._r,this._g,this._b,this._a),B=Y,ae=this._gradientType?"GradientType = 1, ":"";if(O){var ue=u(O);B="#"+w(ue._r,ue._g,ue._b,ue._a)}return"progid:DXImageTransform.Microsoft.gradient("+ae+"startColorstr="+Y+",endColorstr="+B+")"},toString:function(O){var Y=!!O;O=O||this._format;var B=!1;return Y||!(this._a<1&&this._a>=0)||"hex"!==O&&"hex6"!==O&&"hex3"!==O&&"hex4"!==O&&"hex8"!==O&&"name"!==O?("rgb"===O&&(B=this.toRgbString()),"prgb"===O&&(B=this.toPercentageRgbString()),"hex"!==O&&"hex6"!==O||(B=this.toHexString()),"hex3"===O&&(B=this.toHexString(!0)),"hex4"===O&&(B=this.toHex8String(!0)),"hex8"===O&&(B=this.toHex8String()),"name"===O&&(B=this.toName()),"hsl"===O&&(B=this.toHslString()),"hsv"===O&&(B=this.toHsvString()),B||this.toHexString()):"name"===O&&0===this._a?this.toName():this.toRgbString()},clone:function(){return u(this.toString())},_applyModification:function(O,Y){var B=O.apply(null,[this].concat([].slice.call(Y)));return this._r=B._r,this._g=B._g,this._b=B._b,this.setAlpha(B._a),this},lighten:function(){return this._applyModification(H,arguments)},brighten:function(){return this._applyModification(L,arguments)},darken:function(){return this._applyModification(I,arguments)},desaturate:function(){return this._applyModification(N,arguments)},saturate:function(){return this._applyModification(A,arguments)},greyscale:function(){return this._applyModification(k,arguments)},spin:function(){return this._applyModification(D,arguments)},_applyCombination:function(O,Y){return O.apply(null,[this].concat([].slice.call(Y)))},analogous:function(){return this._applyCombination(G,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(z,arguments)},splitcomplement:function(){return this._applyCombination(R,arguments)},triad:function(){return this._applyCombination(P,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},u.fromRatio=function(O,Y){if("object"==typeof O){var B={};for(var ae in O)O.hasOwnProperty(ae)&&(B[ae]="a"===ae?O[ae]:ie(O[ae]));O=B}return u(O,Y)},u.equals=function(O,Y){return!(!O||!Y)&&u(O).toRgbString()==u(Y).toRgbString()},u.random=function(){return u.fromRatio({r:h(),g:h(),b:h()})},u.mix=function(O,Y,B){B=0===B?0:B||50;var ae=u(O).toRgb(),ue=u(Y).toRgb(),fe=B/100;return u({r:(ue.r-ae.r)*fe+ae.r,g:(ue.g-ae.g)*fe+ae.g,b:(ue.b-ae.b)*fe+ae.b,a:(ue.a-ae.a)*fe+ae.a})},u.readability=function(O,Y){var B=u(O),ae=u(Y);return(s.max(B.getLuminance(),ae.getLuminance())+.05)/(s.min(B.getLuminance(),ae.getLuminance())+.05)},u.isReadable=function(O,Y,B){var ae,ue,he,xe,be,fe=u.readability(O,Y);switch(ue=!1,(he=B,"AA"!==(xe=((he=he||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==xe&&(xe="AA"),"small"!==(be=(he.size||"small").toLowerCase())&&"large"!==be&&(be="small"),ae={level:xe,size:be}).level+ae.size){case"AAsmall":case"AAAlarge":ue=fe>=4.5;break;case"AAlarge":ue=fe>=3;break;case"AAAsmall":ue=fe>=7}return ue},u.mostReadable=function(O,Y,B){var ae,ue,fe,he,xe=null,be=0;ue=(B=B||{}).includeFallbackColors,fe=B.level,he=B.size;for(var ke=0;ke<Y.length;ke++)(ae=u.readability(O,Y[ke]))>be&&(be=ae,xe=u(Y[ke]));return u.isReadable(O,xe,{level:fe,size:he})||!ue?xe:(B.includeFallbackColors=!1,u.mostReadable(O,["#fff","#000"],B))};var X=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W=u.hexNames=function(O){var Y={};for(var B in O)O.hasOwnProperty(B)&&(Y[O[B]]=B);return Y}(X);function Z(O){return O=parseFloat(O),(isNaN(O)||O<0||O>1)&&(O=1),O}function ne(O,Y){var ae;"string"==typeof(ae=O)&&-1!=ae.indexOf(".")&&1===parseFloat(ae)&&(O="100%");var B=function(ae){return"string"==typeof ae&&-1!=ae.indexOf("%")}(O);return O=m(Y,d(0,parseFloat(O))),B&&(O=parseInt(O*Y,10)/100),s.abs(O-Y)<1e-6?1:O%Y/parseFloat(Y)}function te(O){return m(1,d(0,O))}function oe(O){return parseInt(O,16)}function Ce(O){return 1==O.length?"0"+O:""+O}function ie(O){return O<=1&&(O=100*O+"%"),O}function Q(O){return s.round(255*parseFloat(O)).toString(16)}function le(O){return oe(O)/255}var j,$,se,ee=($="[\\s|\\(]+("+(j="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",se="[\\s|\\(]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",{CSS_UNIT:new RegExp(j),rgb:new RegExp("rgb"+$),rgba:new RegExp("rgba"+se),hsl:new RegExp("hsl"+$),hsla:new RegExp("hsla"+se),hsv:new RegExp("hsv"+$),hsva:new RegExp("hsva"+se),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function F(O){return!!ee.CSS_UNIT.exec(O)}void 0!==pe&&pe.exports?pe.exports=u:window.tinycolor=u}(Math)},{}],68:[function(v,pe,J){var s=v("../main"),g=v("object-assign"),p=s.instance();function c(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}g(c.prototype=new s.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(b,M){if("string"==typeof b){var w=b.match(m);return w?w[0]:""}var N=this._validateYear(b),A=b.month(),k=""+this.toChineseMonth(N,A);return M&&k.length<2&&(k="0"+k),this.isIntercalaryMonth(N,A)&&(k+="i"),k},monthNames:function(b){if("string"==typeof b){var M=b.match(d);return M?M[0]:""}var w=this._validateYear(b),N=b.month(),A=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(w,N)-1];return this.isIntercalaryMonth(w,N)&&(A="\u95f0"+A),A},monthNamesShort:function(b){if("string"==typeof b){var M=b.match(h);return M?M[0]:""}var w=this._validateYear(b),N=b.month(),A=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(w,N)-1];return this.isIntercalaryMonth(w,N)&&(A="\u95f0"+A),A},parseMonth:function(b,M){b=this._validateYear(b);var w,N=parseInt(M);if(isNaN(N))"\u95f0"===M[0]&&(w=!0,M=M.substring(1)),"\u6708"===M[M.length-1]&&(M=M.substring(0,M.length-1)),N=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(M);else{var A=M[M.length-1];w="i"===A||"I"===A}return this.toMonthIndex(b,N,w)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(b,M){if(b.year&&(b=b.year()),"number"!=typeof b||b<1888||b>2111)throw M.replace(/\{0\}/,this.local.name);return b},toMonthIndex:function(b,M,w){var N=this.intercalaryMonth(b);if(w&&M!==N||M<1||M>12)throw s.local.invalidMonth.replace(/\{0\}/,this.local.name);return N?!w&&M<=N?M-1:M:M-1},toChineseMonth:function(b,M){b.year&&(M=(b=b.year()).month());var w=this.intercalaryMonth(b);if(M<0||M>(w?12:11))throw s.local.invalidMonth.replace(/\{0\}/,this.local.name);return w?M<w?M+1:M:M+1},intercalaryMonth:function(b){return b=this._validateYear(b),u[b-u[0]]>>13},isIntercalaryMonth:function(b,M){b.year&&(M=(b=b.year()).month());var w=this.intercalaryMonth(b);return!!w&&w===M},leapYear:function(b){return 0!==this.intercalaryMonth(b)},weekOfYear:function(b,M,w){var N,A=this._validateYear(b,s.local.invalidyear),k=C[A-C[0]];(N=p.newDate(k>>9&4095,k>>5&15,31&k)).add(4-(N.dayOfWeek()||7),"d");var D=this.toJD(b,M,w)-N.toJD();return 1+Math.floor(D/7)},monthsInYear:function(b){return this.leapYear(b)?13:12},daysInMonth:function(b,M){b.year&&(M=b.month(),b=b.year()),b=this._validateYear(b);var w=u[b-u[0]];if(M>(w>>13?12:11))throw s.local.invalidMonth.replace(/\{0\}/,this.local.name);return w&1<<12-M?30:29},weekDay:function(b,M,w){return(this.dayOfWeek(b,M,w)||7)<6},toJD:function(b,M,w){var N=this._validate(b,k,w,s.local.invalidDate);b=this._validateYear(N.year()),M=N.month(),w=N.day();var A=this.isIntercalaryMonth(b,M),k=this.toChineseMonth(b,M),H=function(L,I,D,E,P){var S,R,G;if("object"==typeof L)R=L,S=I||{};else{var z;if(!("number"==typeof L&&L>=1888&&L<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof I&&I>=1&&I<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof D&&D>=1&&D<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof E?(z=!1,S=E):(z=!!E,S={}),R={year:L,month:I,day:D,isIntercalary:z}}G=R.day-1;var X,W=u[R.year-u[0]],Z=W>>13;X=Z&&(R.month>Z||R.isIntercalary)?R.month:R.month-1;for(var ne=0;ne<X;ne++)G+=W&1<<12-ne?30:29;var te=C[R.year-C[0]],oe=new Date(te>>9&4095,(te>>5&15)-1,(31&te)+G);return S.year=oe.getFullYear(),S.month=1+oe.getMonth(),S.day=oe.getDate(),S}(b,k,w,A);return p.toJD(H.year,H.month,H.day)},fromJD:function(b){var M=p.fromJD(b),w=function(A,k,H,L){var I,D;if("object"==typeof A)I=A,D=k||{};else{if(!("number"==typeof A&&A>=1888&&A<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof k&&k>=1&&k<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof H&&H>=1&&H<=31))throw new Error("Solar day outside range 1 - 31");I={year:A,month:k,day:H},D={}}var E=C[I.year-C[0]];D.year=(I.year<<9|I.month<<5|I.day)>=E?I.year:I.year-1,E=C[D.year-C[0]];var S,R=new Date(E>>9&4095,(E>>5&15)-1,31&E),G=new Date(I.year,I.month-1,I.day);S=Math.round((G-R)/864e5);var z,X=u[D.year-u[0]];for(z=0;z<13;z++){var W=X&1<<12-z?30:29;if(S<W)break;S-=W}var Z=X>>13;return!Z||z<Z?(D.isIntercalary=!1,D.month=1+z):z===Z?(D.isIntercalary=!0,D.month=z):(D.isIntercalary=!1,D.month=z),D.day=1+S,D}(M.year(),M.month(),M.day()),N=this.toMonthIndex(w.year,w.month,w.isIntercalary);return this.newDate(w.year,N,w.day)},fromString:function(b){var M=b.match(l),w=this._validateYear(+M[1]),k=this.toMonthIndex(w,+M[2],!!M[3]);return this.newDate(w,k,+M[4])},add:function(b,M,w){var N=b.year(),A=b.month(),k=this.isIntercalaryMonth(N,A),H=this.toChineseMonth(N,A),L=Object.getPrototypeOf(c.prototype).add.call(this,b,M,w);if("y"===w){var I=L.year(),D=L.month(),E=this.isIntercalaryMonth(I,H),P=this.toMonthIndex(I,H,!(!k||!E));P!==D&&L.month(P)}return L}});var l=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,m=/^\d?\d[iI]?/m,d=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,h=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;s.calendars.chinese=c;var u=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],C=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},{"../main":82,"object-assign":55}],69:[function(v,pe,J){var s=v("../main");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}v("object-assign")(p.prototype=new s.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var l=this._validate(c,this.minMonth,this.minDay,s.local.invalidYear);return(c=l.year()+(l.year()<0?1:0))%4==3||c%4==-1},monthsInYear:function(c){return this._validate(c,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),13},weekOfYear:function(c,l,m){var d=this.newDate(c,l,m);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(c,l){var m=this._validate(c,l,this.minDay,s.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(13===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(c,l,m){return(this.dayOfWeek(c,l,m)||7)<6},toJD:function(c,l,m){var d=this._validate(c,l,m,s.local.invalidDate);return(c=d.year())<0&&c++,d.day()+30*(d.month()-1)+365*(c-1)+Math.floor(c/4)+this.jdEpoch-1},fromJD:function(c){var l=Math.floor(c)+.5-this.jdEpoch,m=Math.floor((l-Math.floor((l+366)/1461))/365)+1;m<=0&&m--,l=Math.floor(c)+.5-this.newDate(m,1,1).toJD();var d=Math.floor(l/30)+1;return this.newDate(m,d,l-30*(d-1)+1)}}),s.calendars.coptic=p},{"../main":82,"object-assign":55}],70:[function(v,pe,J){var s=v("../main");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}v("object-assign")(p.prototype=new s.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(l){return this._validate(l,this.minMonth,this.minDay,s.local.invalidYear),!1},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,s.local.invalidYear),13},daysInYear:function(l){return this._validate(l,this.minMonth,this.minDay,s.local.invalidYear),400},weekOfYear:function(l,m,d){var h=this.newDate(l,m,d);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/8)+1},daysInMonth:function(l,m){var d=this._validate(l,m,this.minDay,s.local.invalidMonth);return this.daysPerMonth[d.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(l,m,d){return(this._validate(l,m,d,s.local.invalidDate).day()+1)%8},weekDay:function(l,m,d){var h=this.dayOfWeek(l,m,d);return h>=2&&h<=6},extraInfo:function(l,m,d){var h=this._validate(l,m,d,s.local.invalidDate);return{century:c[Math.floor((h.year()-1)/100)+1]||""}},toJD:function(l,m,d){var h=this._validate(l,m,d,s.local.invalidDate);return l=h.year()+(h.year()<0?1:0),m=h.month(),(d=h.day())+(m>1?16:0)+(m>2?32*(m-2):0)+400*(l-1)+this.jdEpoch-1},fromJD:function(l){l=Math.floor(l+.5)-Math.floor(this.jdEpoch)-1;var m=Math.floor(l/400)+1;l-=400*(m-1),l+=l>15?16:0;var d=Math.floor(l/32)+1;return this.newDate(m<=0?m-1:m,d,l-32*(d-1)+1)}});var c={20:"Fruitbat",21:"Anchovy"};s.calendars.discworld=p},{"../main":82,"object-assign":55}],71:[function(v,pe,J){var s=v("../main");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}v("object-assign")(p.prototype=new s.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var l=this._validate(c,this.minMonth,this.minDay,s.local.invalidYear);return(c=l.year()+(l.year()<0?1:0))%4==3||c%4==-1},monthsInYear:function(c){return this._validate(c,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),13},weekOfYear:function(c,l,m){var d=this.newDate(c,l,m);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(c,l){var m=this._validate(c,l,this.minDay,s.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(13===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(c,l,m){return(this.dayOfWeek(c,l,m)||7)<6},toJD:function(c,l,m){var d=this._validate(c,l,m,s.local.invalidDate);return(c=d.year())<0&&c++,d.day()+30*(d.month()-1)+365*(c-1)+Math.floor(c/4)+this.jdEpoch-1},fromJD:function(c){var l=Math.floor(c)+.5-this.jdEpoch,m=Math.floor((l-Math.floor((l+366)/1461))/365)+1;m<=0&&m--,l=Math.floor(c)+.5-this.newDate(m,1,1).toJD();var d=Math.floor(l/30)+1;return this.newDate(m,d,l-30*(d-1)+1)}}),s.calendars.ethiopian=p},{"../main":82,"object-assign":55}],72:[function(v,pe,J){var s=v("../main");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}function c(l,m){return l-m*Math.floor(l/m)}v("object-assign")(p.prototype=new s.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var m=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear);return this._leapYear(m.year())},_leapYear:function(l){return c(7*(l=l<0?l+1:l)+1,19)<7},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,s.local.invalidYear),this._leapYear(l.year?l.year():l)?13:12},weekOfYear:function(l,m,d){var h=this.newDate(l,m,d);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInYear:function(l){return l=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear).year(),this.toJD(-1===l?1:l+1,7,1)-this.toJD(l,7,1)},daysInMonth:function(l,m){return l.year&&(m=l.month(),l=l.year()),this._validate(l,m,this.minDay,s.local.invalidMonth),12===m&&this.leapYear(l)||8===m&&5===c(this.daysInYear(l),10)?30:9===m&&3===c(this.daysInYear(l),10)?29:this.daysPerMonth[m-1]},weekDay:function(l,m,d){return 6!==this.dayOfWeek(l,m,d)},extraInfo:function(l,m,d){var h=this._validate(l,m,d,s.local.invalidDate);return{yearType:(this.leapYear(h)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(h)%10-3]}},toJD:function(l,m,d){var h=this._validate(l,m,d,s.local.invalidDate);l=h.year(),m=h.month(),d=h.day();var u=l<=0?l+1:l,C=this.jdEpoch+this._delay1(u)+this._delay2(u)+d+1;if(m<7){for(var b=7;b<=this.monthsInYear(l);b++)C+=this.daysInMonth(l,b);for(b=1;b<m;b++)C+=this.daysInMonth(l,b)}else for(b=7;b<m;b++)C+=this.daysInMonth(l,b);return C},_delay1:function(l){var m=Math.floor((235*l-234)/19),h=29*m+Math.floor((12084+13753*m)/25920);return c(3*(h+1),7)<3&&h++,h},_delay2:function(l){var m=this._delay1(l-1),d=this._delay1(l);return this._delay1(l+1)-d==356?2:d-m==382?1:0},fromJD:function(l){l=Math.floor(l)+.5;for(var m=Math.floor(98496*(l-this.jdEpoch)/35975351)-1;l>=this.toJD(-1===m?1:m+1,7,1);)m++;for(var d=l<this.toJD(m,1,1)?7:1;l>this.toJD(m,d,this.daysInMonth(m,d));)d++;var h=l-this.toJD(m,d,1)+1;return this.newDate(m,d,h)}}),s.calendars.hebrew=p},{"../main":82,"object-assign":55}],73:[function(v,pe,J){var s=v("../main");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}v("object-assign")(p.prototype=new s.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(c){return(11*this._validate(c,this.minMonth,this.minDay,s.local.invalidYear).year()+14)%30<11},weekOfYear:function(c,l,m){var d=this.newDate(c,l,m);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(c){return this.leapYear(c)?355:354},daysInMonth:function(c,l){var m=this._validate(c,l,this.minDay,s.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(12===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(c,l,m){return 5!==this.dayOfWeek(c,l,m)},toJD:function(c,l,m){var d=this._validate(c,l,m,s.local.invalidDate);return c=d.year(),l=d.month(),c=c<=0?c+1:c,(m=d.day())+Math.ceil(29.5*(l-1))+354*(c-1)+Math.floor((3+11*c)/30)+this.jdEpoch-1},fromJD:function(c){c=Math.floor(c)+.5;var l=Math.floor((30*(c-this.jdEpoch)+10646)/10631);l=l<=0?l-1:l;var m=Math.min(12,Math.ceil((c-29-this.toJD(l,1,1))/29.5)+1),d=c-this.toJD(l,m,1)+1;return this.newDate(l,m,d)}}),s.calendars.islamic=p},{"../main":82,"object-assign":55}],74:[function(v,pe,J){var s=v("../main");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}v("object-assign")(p.prototype=new s.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var l=this._validate(c,this.minMonth,this.minDay,s.local.invalidYear);return(c=l.year()<0?l.year()+1:l.year())%4==0},weekOfYear:function(c,l,m){var d=this.newDate(c,l,m);return d.add(4-(d.dayOfWeek()||7),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(c,l){var m=this._validate(c,l,this.minDay,s.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(2===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(c,l,m){return(this.dayOfWeek(c,l,m)||7)<6},toJD:function(c,l,m){var d=this._validate(c,l,m,s.local.invalidDate);return c=d.year(),l=d.month(),m=d.day(),c<0&&c++,l<=2&&(c--,l+=12),Math.floor(365.25*(c+4716))+Math.floor(30.6001*(l+1))+m-1524.5},fromJD:function(c){var l=Math.floor(c+.5)+1524,m=Math.floor((l-122.1)/365.25),d=Math.floor(365.25*m),h=Math.floor((l-d)/30.6001),u=h-Math.floor(h<14?1:13),C=m-Math.floor(u>2?4716:4715),b=l-d-Math.floor(30.6001*h);return C<=0&&C--,this.newDate(C,u,b)}}),s.calendars.julian=p},{"../main":82,"object-assign":55}],75:[function(v,pe,J){var s=v("../main");function p(m){this.local=this.regionalOptions[m||""]||this.regionalOptions[""]}function c(m,d){return m-d*Math.floor(m/d)}function l(m,d){return c(m-1,d)+1}v("object-assign")(p.prototype=new s.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(m){return this._validate(m,this.minMonth,this.minDay,s.local.invalidYear),!1},formatYear:function(m){m=this._validate(m,this.minMonth,this.minDay,s.local.invalidYear).year();var d=Math.floor(m/400);return m%=400,m+=m<0?400:0,d+"."+Math.floor(m/20)+"."+m%20},forYear:function(m){if((m=m.split(".")).length<3)throw"Invalid Mayan year";for(var d=0,h=0;h<m.length;h++){var u=parseInt(m[h],10);if(Math.abs(u)>19||h>0&&u<0)throw"Invalid Mayan year";d=20*d+u}return d},monthsInYear:function(m){return this._validate(m,this.minMonth,this.minDay,s.local.invalidYear),18},weekOfYear:function(m,d,h){return this._validate(m,d,h,s.local.invalidDate),0},daysInYear:function(m){return this._validate(m,this.minMonth,this.minDay,s.local.invalidYear),360},daysInMonth:function(m,d){return this._validate(m,d,this.minDay,s.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(m,d,h){return this._validate(m,d,h,s.local.invalidDate).day()},weekDay:function(m,d,h){return this._validate(m,d,h,s.local.invalidDate),!0},extraInfo:function(m,d,h){var u=this._validate(m,d,h,s.local.invalidDate).toJD(),C=this._toHaab(u),b=this._toTzolkin(u);return{haabMonthName:this.local.haabMonths[C[0]-1],haabMonth:C[0],haabDay:C[1],tzolkinDayName:this.local.tzolkinMonths[b[0]-1],tzolkinDay:b[0],tzolkinTrecena:b[1]}},_toHaab:function(m){var d=c(8+(m-=this.jdEpoch)+340,365);return[Math.floor(d/20)+1,c(d,20)]},_toTzolkin:function(m){return[l(20+(m-=this.jdEpoch),20),l(m+4,13)]},toJD:function(m,d,h){var u=this._validate(m,d,h,s.local.invalidDate);return u.day()+20*u.month()+360*u.year()+this.jdEpoch},fromJD:function(m){m=Math.floor(m)+.5-this.jdEpoch;var d=Math.floor(m/360);m%=360,m+=m<0?360:0;var h=Math.floor(m/20);return this.newDate(d,h,m%20)}}),s.calendars.mayan=p},{"../main":82,"object-assign":55}],76:[function(v,pe,J){var s=v("../main"),g=v("object-assign");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}p.prototype=new s.baseCalendar;var c=s.instance("gregorian");g(p.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var m=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return c.leapYear(m.year()+(m.year()<1?1:0)+1469)},weekOfYear:function(l,m,d){var h=this.newDate(l,m,d);return h.add(1-(h.dayOfWeek()||7),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInMonth:function(l,m){var d=this._validate(l,m,this.minDay,s.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(12===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(l,m,d){return(this.dayOfWeek(l,m,d)||7)<6},toJD:function(l,m,d){var h=this._validate(l,m,d,s.local.invalidMonth);(l=h.year())<0&&l++;for(var u=h.day(),C=1;C<h.month();C++)u+=this.daysPerMonth[C-1];return u+c.toJD(l+1468,3,13)},fromJD:function(l){l=Math.floor(l+.5);for(var m=Math.floor((l-(this.jdEpoch-1))/366);l>=this.toJD(m+1,1,1);)m++;for(var d=l-Math.floor(this.toJD(m,1,1)+.5)+1,h=1;d>this.daysInMonth(m,h);)d-=this.daysInMonth(m,h),h++;return this.newDate(m,h,d)}}),s.calendars.nanakshahi=p},{"../main":82,"object-assign":55}],77:[function(v,pe,J){var s=v("../main");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}v("object-assign")(p.prototype=new s.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(c){return this.daysInYear(c)!==this.daysPerYear},weekOfYear:function(c,l,m){var d=this.newDate(c,l,m);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(c){if(c=this._validate(c,this.minMonth,this.minDay,s.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[c])return this.daysPerYear;for(var l=0,m=this.minMonth;m<=12;m++)l+=this.NEPALI_CALENDAR_DATA[c][m];return l},daysInMonth:function(c,l){return c.year&&(l=c.month(),c=c.year()),this._validate(c,l,this.minDay,s.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[c]?this.daysPerMonth[l-1]:this.NEPALI_CALENDAR_DATA[c][l]},weekDay:function(c,l,m){return 6!==this.dayOfWeek(c,l,m)},toJD:function(c,l,m){var d=this._validate(c,l,m,s.local.invalidDate);c=d.year(),l=d.month(),m=d.day();var h=s.instance(),u=0,C=l,b=c;this._createMissingCalendarData(c);var M=c-(C>9||9===C&&m>=this.NEPALI_CALENDAR_DATA[b][0]?56:57);for(9!==l&&(u=m,C--);9!==C;)C<=0&&(C=12,b--),u+=this.NEPALI_CALENDAR_DATA[b][C],C--;return 9===l?(u+=m-this.NEPALI_CALENDAR_DATA[b][0])<0&&(u+=h.daysInYear(M)):u+=this.NEPALI_CALENDAR_DATA[b][9]-this.NEPALI_CALENDAR_DATA[b][0],h.newDate(M,1,1).add(u,"d").toJD()},fromJD:function(c){var l=s.instance().fromJD(c),m=l.year(),d=l.dayOfYear(),h=m+56;this._createMissingCalendarData(h);for(var u=9,b=this.NEPALI_CALENDAR_DATA[h][u]-this.NEPALI_CALENDAR_DATA[h][0]+1;d>b;)++u>12&&(u=1,h++),b+=this.NEPALI_CALENDAR_DATA[h][u];return this.newDate(h,u,this.NEPALI_CALENDAR_DATA[h][u]-(b-d))},_createMissingCalendarData:function(c){var l=this.daysPerMonth.slice(0);l.unshift(17);for(var m=c-1;m<c+2;m++)void 0===this.NEPALI_CALENDAR_DATA[m]&&(this.NEPALI_CALENDAR_DATA[m]=l)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),s.calendars.nepali=p},{"../main":82,"object-assign":55}],78:[function(v,pe,J){var s=v("../main");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}function c(l,m){return l-m*Math.floor(l/m)}v("object-assign")(p.prototype=new s.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(l){var m=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear);return 682*((m.year()-(m.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(l,m,d){var h=this.newDate(l,m,d);return h.add(-(h.dayOfWeek()+1)%7,"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInMonth:function(l,m){var d=this._validate(l,m,this.minDay,s.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(12===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(l,m,d){return 5!==this.dayOfWeek(l,m,d)},toJD:function(l,m,d){var h=this._validate(l,m,d,s.local.invalidDate);l=h.year(),m=h.month(),d=h.day();var u=l-(l>=0?474:473),C=474+c(u,2820);return d+(m<=7?31*(m-1):30*(m-1)+6)+Math.floor((682*C-110)/2816)+365*(C-1)+1029983*Math.floor(u/2820)+this.jdEpoch-1},fromJD:function(l){var m=(l=Math.floor(l)+.5)-this.toJD(475,1,1),d=Math.floor(m/1029983),h=c(m,1029983),u=2820;if(1029982!==h){var C=Math.floor(h/366),b=c(h,366);u=Math.floor((2134*C+2816*b+2815)/1028522)+C+1}var M=u+2820*d+474,w=l-this.toJD(M=M<=0?M-1:M,1,1)+1,N=w<=186?Math.ceil(w/31):Math.ceil((w-6)/30),A=l-this.toJD(M,N,1)+1;return this.newDate(M,N,A)}}),s.calendars.persian=p,s.calendars.jalali=p},{"../main":82,"object-assign":55}],79:[function(v,pe,J){var s=v("../main"),g=v("object-assign"),p=s.instance();function c(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}g(c.prototype=new s.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(l){var m=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear);return l=this._t2gYear(m.year()),p.leapYear(l)},weekOfYear:function(l,m,d){var h=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear);return l=this._t2gYear(h.year()),p.weekOfYear(l,h.month(),h.day())},daysInMonth:function(l,m){var d=this._validate(l,m,this.minDay,s.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(2===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(l,m,d){return(this.dayOfWeek(l,m,d)||7)<6},toJD:function(l,m,d){var h=this._validate(l,m,d,s.local.invalidDate);return l=this._t2gYear(h.year()),p.toJD(l,h.month(),h.day())},fromJD:function(l){var m=p.fromJD(l),d=this._g2tYear(m.year());return this.newDate(d,m.month(),m.day())},_t2gYear:function(l){return l+this.yearsOffset+(l>=-this.yearsOffset&&l<=-1?1:0)},_g2tYear:function(l){return l-this.yearsOffset-(l>=1&&l<=this.yearsOffset?1:0)}}),s.calendars.taiwan=c},{"../main":82,"object-assign":55}],80:[function(v,pe,J){var s=v("../main"),g=v("object-assign"),p=s.instance();function c(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}g(c.prototype=new s.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var m=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear);return l=this._t2gYear(m.year()),p.leapYear(l)},weekOfYear:function(l,m,d){var h=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear);return l=this._t2gYear(h.year()),p.weekOfYear(l,h.month(),h.day())},daysInMonth:function(l,m){var d=this._validate(l,m,this.minDay,s.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(2===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(l,m,d){return(this.dayOfWeek(l,m,d)||7)<6},toJD:function(l,m,d){var h=this._validate(l,m,d,s.local.invalidDate);return l=this._t2gYear(h.year()),p.toJD(l,h.month(),h.day())},fromJD:function(l){var m=p.fromJD(l),d=this._g2tYear(m.year());return this.newDate(d,m.month(),m.day())},_t2gYear:function(l){return l-this.yearsOffset-(l>=1&&l<=this.yearsOffset?1:0)},_g2tYear:function(l){return l+this.yearsOffset+(l>=-this.yearsOffset&&l<=-1?1:0)}}),s.calendars.thai=c},{"../main":82,"object-assign":55}],81:[function(v,pe,J){var s=v("../main");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}v("object-assign")(p.prototype=new s.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(l){var m=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear);return 355===this.daysInYear(m.year())},weekOfYear:function(l,m,d){var h=this.newDate(l,m,d);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInYear:function(l){for(var m=0,d=1;d<=12;d++)m+=this.daysInMonth(l,d);return m},daysInMonth:function(l,m){for(var d=this._validate(l,m,this.minDay,s.local.invalidMonth).toJD()-24e5+.5,h=0,u=0;u<c.length;u++){if(c[u]>d)return c[h]-c[h-1];h++}return 30},weekDay:function(l,m,d){return 5!==this.dayOfWeek(l,m,d)},toJD:function(l,m,d){var h=this._validate(l,m,d,s.local.invalidDate),u=12*(h.year()-1)+h.month()-15292;return h.day()+c[u-1]-1+24e5-.5},fromJD:function(l){for(var m=l-24e5+.5,d=0,h=0;h<c.length&&!(c[h]>m);h++)d++;var u=d+15292,C=Math.floor((u-1)/12);return this.newDate(C+1,u-12*C,m-c[d-1]+1)},isValid:function(l,m,d){var h=s.baseCalendar.prototype.isValid.apply(this,arguments);return h&&(h=(l=null!=l.year?l.year:l)>=1276&&l<=1500),h},_validate:function(l,m,d,h){var u=s.baseCalendar.prototype._validate.apply(this,arguments);if(u.year<1276||u.year>1500)throw h.replace(/\{0\}/,this.local.name);return u}}),s.calendars.ummalqura=p;var c=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},{"../main":82,"object-assign":55}],82:[function(v,pe,J){var s=v("object-assign");function g(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function p(h,u,C,b){if(this._calendar=h,this._year=u,this._month=C,this._day=b,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function c(h,u){return"000000".substring(0,u-(h=""+h).length)+h}function l(){this.shortYearCutoff="+10"}function m(h){this.local=this.regionalOptions[h]||this.regionalOptions[""]}s(g.prototype,{instance:function(h,u){h=(h||"gregorian").toLowerCase();var C=this._localCals[h+"-"+(u=u||"")];if(!C&&this.calendars[h]&&(C=new this.calendars[h](u),this._localCals[h+"-"+u]=C),!C)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,h);return C},newDate:function(h,u,C,b,M){return(b=(null!=h&&h.year?h.calendar():"string"==typeof b?this.instance(b,M):b)||this.instance()).newDate(h,u,C)},substituteDigits:function(h){return function(u){return(u+"").replace(/[0-9]/g,function(C){return h[C]})}},substituteChineseDigits:function(h,u){return function(C){for(var b="",M=0;C>0;){var w=C%10;b=(0===w?"":h[w]+u[M])+b,M++,C=Math.floor(C/10)}return 0===b.indexOf(h[1]+u[1])&&(b=b.substr(1)),b||h[0]}}}),s(p.prototype,{newDate:function(h,u,C){return this._calendar.newDate(h??this,u,C)},year:function(h){return 0===arguments.length?this._year:this.set(h,"y")},month:function(h){return 0===arguments.length?this._month:this.set(h,"m")},day:function(h){return 0===arguments.length?this._day:this.set(h,"d")},date:function(h,u,C){if(!this._calendar.isValid(h,u,C))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=h,this._month=u,this._day=C,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(h,u){return this._calendar.add(this,h,u)},set:function(h,u){return this._calendar.set(this,h,u)},compareTo:function(h){if(this._calendar.name!==h._calendar.name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,h._calendar.local.name);var u=this._year!==h._year?this._year-h._year:this._month!==h._month?this.monthOfYear()-h.monthOfYear():this._day-h._day;return 0===u?0:u<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(h){return this._calendar.fromJD(h)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(h){return this._calendar.fromJSDate(h)},toString:function(){return(this.year()<0?"-":"")+c(Math.abs(this.year()),4)+"-"+c(this.month(),2)+"-"+c(this.day(),2)}}),s(l.prototype,{_validateLevel:0,newDate:function(h,u,C){return null==h?this.today():(h.year&&(this._validate(h,u,C,d.local.invalidDate||d.regionalOptions[""].invalidDate),C=h.day(),u=h.month(),h=h.year()),new p(this,h,u,C))},today:function(){return this.fromJSDate(new Date)},epoch:function(h){return this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(h){var u=this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return(u.year()<0?"-":"")+c(Math.abs(u.year()),4)},monthsInYear:function(h){return this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),12},monthOfYear:function(h,u){var C=this._validate(h,u,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return(C.month()+this.monthsInYear(C)-this.firstMonth)%this.monthsInYear(C)+this.minMonth},fromMonthOfYear:function(h,u){var C=(u+this.firstMonth-2*this.minMonth)%this.monthsInYear(h)+this.minMonth;return this._validate(h,C,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth),C},daysInYear:function(h){var u=this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return this.leapYear(u)?366:365},dayOfYear:function(h,u,C){var b=this._validate(h,u,C,d.local.invalidDate||d.regionalOptions[""].invalidDate);return b.toJD()-this.newDate(b.year(),this.fromMonthOfYear(b.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(h,u,C){var b=this._validate(h,u,C,d.local.invalidDate||d.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(b))+2)%this.daysInWeek()},extraInfo:function(h,u,C){return this._validate(h,u,C,d.local.invalidDate||d.regionalOptions[""].invalidDate),{}},add:function(h,u,C){return this._validate(h,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate),this._correctAdd(h,this._add(h,u,C),u,C)},_add:function(h,u,C){if(this._validateLevel++,"d"===C||"w"===C){var b=h.toJD()+u*("w"===C?this.daysInWeek():1),M=h.calendar().fromJD(b);return this._validateLevel--,[M.year(),M.month(),M.day()]}try{var w=h.year()+("y"===C?u:0),N=h.monthOfYear()+("m"===C?u:0);M=h.day(),"y"===C?(h.month()!==this.fromMonthOfYear(w,N)&&(N=this.newDate(w,h.month(),this.minDay).monthOfYear()),N=Math.min(N,this.monthsInYear(w)),M=Math.min(M,this.daysInMonth(w,this.fromMonthOfYear(w,N)))):"m"===C&&(function(k){for(;N<k.minMonth;)w--,N+=k.monthsInYear(w);for(var H=k.monthsInYear(w);N>H-1+k.minMonth;)w++,N-=H,H=k.monthsInYear(w)}(this),M=Math.min(M,this.daysInMonth(w,this.fromMonthOfYear(w,N))));var A=[w,this.fromMonthOfYear(w,N),M];return this._validateLevel--,A}catch(k){throw this._validateLevel--,k}},_correctAdd:function(h,u,C,b){if(!(this.hasYearZero||"y"!==b&&"m"!==b||0!==u[0]&&h.year()>0==u[0]>0)){var M={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[b];u=this._add(h,C*M[0]+(C<0?-1:1)*M[1],M[2])}return h.date(u[0],u[1],u[2])},set:function(h,u,C){this._validate(h,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate);var b="y"===C?u:h.year(),M="m"===C?u:h.month(),w="d"===C?u:h.day();return"y"!==C&&"m"!==C||(w=Math.min(w,this.daysInMonth(b,M))),h.date(b,M,w)},isValid:function(h,u,C){this._validateLevel++;var b=this.hasYearZero||0!==h;if(b){var M=this.newDate(h,u,this.minDay);b=u>=this.minMonth&&u-this.minMonth<this.monthsInYear(M)&&C>=this.minDay&&C-this.minDay<this.daysInMonth(M)}return this._validateLevel--,b},toJSDate:function(h,u,C){var b=this._validate(h,u,C,d.local.invalidDate||d.regionalOptions[""].invalidDate);return d.instance().fromJD(this.toJD(b)).toJSDate()},fromJSDate:function(h){return this.fromJD(d.instance().fromJSDate(h).toJD())},_validate:function(h,u,C,b){if(h.year){if(0===this._validateLevel&&this.name!==h.calendar().name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,h.calendar().local.name);return h}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(h,u,C))throw b.replace(/\{0\}/,this.local.name);var M=this.newDate(h,u,C);return this._validateLevel--,M}catch(w){throw this._validateLevel--,w}}}),s(m.prototype=new l,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var u=this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return(h=u.year()+(u.year()<0?1:0))%4==0&&(h%100!=0||h%400==0)},weekOfYear:function(h,u,C){var b=this.newDate(h,u,C);return b.add(4-(b.dayOfWeek()||7),"d"),Math.floor((b.dayOfYear()-1)/7)+1},daysInMonth:function(h,u){var C=this._validate(h,u,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return this.daysPerMonth[C.month()-1]+(2===C.month()&&this.leapYear(C.year())?1:0)},weekDay:function(h,u,C){return(this.dayOfWeek(h,u,C)||7)<6},toJD:function(h,u,C){var b=this._validate(h,u,C,d.local.invalidDate||d.regionalOptions[""].invalidDate);h=b.year(),u=b.month(),C=b.day(),h<0&&h++,u<3&&(u+=12,h--);var M=Math.floor(h/100),w=2-M+Math.floor(M/4);return Math.floor(365.25*(h+4716))+Math.floor(30.6001*(u+1))+C+w-1524.5},fromJD:function(h){var u=Math.floor(h+.5),C=Math.floor((u-1867216.25)/36524.25),b=1524+(C=u+1+C-Math.floor(C/4)),M=Math.floor((b-122.1)/365.25),w=Math.floor(365.25*M),N=Math.floor((b-w)/30.6001),A=b-w-Math.floor(30.6001*N),k=N-(N>13.5?13:1),H=M-(k>2.5?4716:4715);return H<=0&&H--,this.newDate(H,k,A)},toJSDate:function(h,u,C){var b=this._validate(h,u,C,d.local.invalidDate||d.regionalOptions[""].invalidDate),M=new Date(b.year(),b.month()-1,b.day());return M.setHours(0),M.setMinutes(0),M.setSeconds(0),M.setMilliseconds(0),M.setHours(M.getHours()>12?M.getHours()+2:0),M},fromJSDate:function(h){return this.newDate(h.getFullYear(),h.getMonth()+1,h.getDate())}});var d=pe.exports=new g;d.cdate=p,d.baseCalendar=l,d.calendars.gregorian=m},{"object-assign":55}],83:[function(v,pe,J){var s=v("object-assign"),g=v("./main");s(g.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),g.local=g.regionalOptions[""],s(g.cdate.prototype,{formatDate:function(p,c){return"string"!=typeof p&&(c=p,p=""),this._calendar.formatDate(p||"",this,c)}}),s(g.baseCalendar.prototype,{UNIX_EPOCH:g.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:g.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(p,c,l){if("string"!=typeof p&&(l=c,c=p,p=""),!c)return"";if(c.calendar()!==this)throw g.local.invalidFormat||g.regionalOptions[""].invalidFormat;p=p||this.local.dateFormat;for(var d,h,u,C=(l=l||{}).dayNamesShort||this.local.dayNamesShort,b=l.dayNames||this.local.dayNames,M=l.monthNumbers||this.local.monthNumbers,w=l.monthNamesShort||this.local.monthNamesShort,N=l.monthNames||this.local.monthNames,A=function(G,z){for(var X=1;R+X<p.length&&p.charAt(R+X)===G;)X++;return R+=X-1,Math.floor(X/(z||1))>1},k=function(G,z,X,W){var Z=""+z;if(A(G,W))for(;Z.length<X;)Z="0"+Z;return Z},H=this,I=function(G,z){return z?"function"==typeof N?N.call(H,G):N[G.month()-H.minMonth]:"function"==typeof w?w.call(H,G):w[G.month()-H.minMonth]},D=this.local.digits,E=function(G){return l.localNumbers&&D?D(G):G},P="",S=!1,R=0;R<p.length;R++)if(S)"'"!==p.charAt(R)||A("'")?P+=p.charAt(R):S=!1;else switch(p.charAt(R)){case"d":P+=E(k("d",c.day(),2));break;case"D":P+=("D",d=c.dayOfWeek(),h=C,u=b,A("D")?u[d]:h[d]);break;case"o":P+=k("o",c.dayOfYear(),3);break;case"w":P+=k("w",c.weekOfYear(),2);break;case"m":P+=(G=c,"function"==typeof M?M.call(H,G,A("m")):E(k("m",G.month(),2)));break;case"M":P+=I(c,A("M"));break;case"y":P+=A("y",2)?c.year():(c.year()%100<10?"0":"")+c.year()%100;break;case"Y":A("Y",2),P+=c.formatYear();break;case"J":P+=c.toJD();break;case"@":P+=(c.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":P+=(c.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":A("'")?P+="'":S=!0;break;default:P+=p.charAt(R)}var G;return P},parseDate:function(p,c,l){if(null==c)throw g.local.invalidArguments||g.regionalOptions[""].invalidArguments;if(""===(c="object"==typeof c?c.toString():c+""))return null;p=p||this.local.dateFormat;var m=(l=l||{}).shortYearCutoff||this.shortYearCutoff;m="string"!=typeof m?m:this.today().year()%100+parseInt(m,10);for(var d=l.dayNamesShort||this.local.dayNamesShort,h=l.dayNames||this.local.dayNames,u=l.parseMonth||this.local.parseMonth,C=l.monthNumbers||this.local.monthNumbers,b=l.monthNamesShort||this.local.monthNamesShort,M=l.monthNames||this.local.monthNames,w=-1,N=-1,A=-1,k=-1,H=-1,L=!1,I=!1,D=function(te,oe){for(var Ce=1;W+Ce<p.length&&p.charAt(W+Ce)===te;)Ce++;return W+=Ce-1,Math.floor(Ce/(oe||1))>1},E=function(te,oe){var Ce=D(te,oe),ie=[2,3,Ce?4:2,Ce?4:2,10,11,20]["oyYJ@!".indexOf(te)+1],Q=new RegExp("^-?\\d{1,"+ie+"}"),le=c.substring(X).match(Q);if(!le)throw(g.local.missingNumberAt||g.regionalOptions[""].missingNumberAt).replace(/\{0\}/,X);return X+=le[0].length,parseInt(le[0],10)},P=this,S=function(){if("function"==typeof C){D("m");var te=C.call(P,c.substring(X));return X+=te.length,te}return E("m")},R=function(te,oe,Ce,ie){for(var Q=D(te,ie)?Ce:oe,le=0;le<Q.length;le++)if(c.substr(X,Q[le].length).toLowerCase()===Q[le].toLowerCase())return X+=Q[le].length,le+P.minMonth;throw(g.local.unknownNameAt||g.regionalOptions[""].unknownNameAt).replace(/\{0\}/,X)},G=function(){if("function"==typeof M){var te=D("M")?M.call(P,c.substring(X)):b.call(P,c.substring(X));return X+=te.length,te}return R("M",b,M)},z=function(){if(c.charAt(X)!==p.charAt(W))throw(g.local.unexpectedLiteralAt||g.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,X);X++},X=0,W=0;W<p.length;W++)if(I)"'"!==p.charAt(W)||D("'")?z():I=!1;else switch(p.charAt(W)){case"d":k=E("d");break;case"D":R("D",d,h);break;case"o":H=E("o");break;case"w":E("w");break;case"m":A=S();break;case"M":A=G();break;case"y":var Z=W;L=!D("y",2),W=Z,N=E("y",2);break;case"Y":N=E("Y",2);break;case"J":w=E("J")+.5,"."===c.charAt(X)&&(X++,E("J"));break;case"@":w=E("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":w=E("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":X=c.length;break;case"'":D("'")?z():I=!0;break;default:z()}if(X<c.length)throw g.local.unexpectedText||g.regionalOptions[""].unexpectedText;if(-1===N?N=this.today().year():N<100&&L&&(N+=-1===m?1900:this.today().year()-this.today().year()%100-(N<=m?0:100)),"string"==typeof A&&(A=u.call(this,N,A)),H>-1){k=H;for(var ne=this.daysInMonth(N,A=1);k>ne;ne=this.daysInMonth(N,A))A++,k-=ne}return w>-1?this.fromJD(w):this.newDate(N,A,k)},determineDate:function(p,c,l,m,d){l&&"object"!=typeof l&&(d=m,m=l,l=null),"string"!=typeof m&&(d=m,m="");var h=this;return c=c?c.newDate():null,null==p?c:"string"==typeof p?function(u){try{return h.parseDate(m,u,d)}catch{}for(var C=((u=u.toLowerCase()).match(/^c/)&&l?l.newDate():null)||h.today(),b=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,M=b.exec(u);M;)C.add(parseInt(M[1],10),M[2]||"d"),M=b.exec(u);return C}(p):"number"==typeof p?isNaN(p)||p===1/0||p===-1/0?c:h.today().add(p,"d"):h.newDate(p)}})},{"./main":82,"object-assign":55}],84:[function(v,pe,J){"use strict";pe.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],85:[function(v,pe,J){"use strict";var s=v("./arrow_paths"),g=v("../../plots/font_attributes"),p=v("../../plots/cartesian/constants"),c=v("../../plot_api/plot_template").templatedArray;v("../../constants/axis_placeable_objects"),pe.exports=c("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:g({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:s.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:s.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",p.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",p.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",p.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",p.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:g({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/font_attributes":310,"./arrow_paths":84}],86:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plots/cartesian/axes"),p=v("./draw").draw;function c(m){s.filterVisible(m._fullLayout.annotations).forEach(function(h){var u=g.getFromId(m,h.xref),C=g.getFromId(m,h.yref),b=g.getRefType(h.xref),M=g.getRefType(h.yref);h._extremes={},"range"===b&&l(h,u),"range"===M&&l(h,C)})}function l(m,d){var h,u=d._id,C=u.charAt(0),b=m[C],M=m["a"+C],A=m["_"+C+"padplus"],k=m["_"+C+"padminus"],H={x:1,y:-1}[C]*m[C+"shift"],L=3*m.arrowsize*m.arrowwidth||0,I=L+H,D=L-H,E=3*m.startarrowsize*m.arrowwidth||0,P=E+H,S=E-H;if(m["a"+C+"ref"]===m[C+"ref"]){var R=g.findExtremes(d,[d.r2c(b)],{ppadplus:I,ppadminus:D}),G=g.findExtremes(d,[d.r2c(M)],{ppadplus:Math.max(A,P),ppadminus:Math.max(k,S)});h={min:[R.min[0],G.min[0]],max:[R.max[0],G.max[0]]}}else P=M?P+M:P,S=M?S-M:S,h=g.findExtremes(d,[d.r2c(b)],{ppadplus:Math.max(A,I,P),ppadminus:Math.max(k,D,S)});m._extremes[u]=h}pe.exports=function(m){if(s.filterVisible(m._fullLayout.annotations).length&&m._fullData.length)return s.syncOrAsync([p,c],m)}},{"../../lib":232,"../../plots/cartesian/axes":279,"./draw":91}],87:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../registry"),p=v("../../plot_api/plot_template").arrayEditor;function c(m,d){var h,u,C,b,M,w,N,A=m._fullLayout.annotations,k=[],H=[],L=[],I=(d||[]).length;for(h=0;h<A.length;h++)if(b=(C=A[h]).clicktoshow){for(u=0;u<I;u++)if(w=(M=d[u]).xaxis,N=M.yaxis,w._id===C.xref&&N._id===C.yref&&w.d2r(M.x)===l(C._xclick,w)&&N.d2r(M.y)===l(C._yclick,N)){(C.visible?"onout"===b?H:L:k).push(h);break}u===I&&C.visible&&"onout"===b&&H.push(h)}return{on:k,off:H,explicitOff:L}}function l(m,d){return"log"===d.type?d.l2r(m):d.d2r(m)}pe.exports={hasClickToShow:function(m,d){var h=c(m,d);return h.on.length>0||h.explicitOff.length>0},onClick:function(m,d){var h,u,C=c(m,d),b=C.on,M=C.off.concat(C.explicitOff),w={},N=m._fullLayout.annotations;if(b.length||M.length){for(h=0;h<b.length;h++)(u=p(m.layout,"annotations",N[b[h]])).modifyItem("visible",!0),s.extendFlat(w,u.getUpdateObj());for(h=0;h<M.length;h++)(u=p(m.layout,"annotations",N[M[h]])).modifyItem("visible",!1),s.extendFlat(w,u.getUpdateObj());return g.call("update",m,{},w)}}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318}],88:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../color");pe.exports=function(p,c,l,m){m("opacity");var d=m("bgcolor"),h=m("bordercolor"),u=g.opacity(h);m("borderpad");var C=m("borderwidth"),b=m("showarrow");if(m("text",b?" ":l._dfltTitle.annotation),m("textangle"),s.coerceFont(m,"font",l.font),m("width"),m("align"),m("height")&&m("valign"),b){var M,w,N=m("arrowside");-1!==N.indexOf("end")&&(M=m("arrowhead"),w=m("arrowsize")),-1!==N.indexOf("start")&&(m("startarrowhead",M),m("startarrowsize",w)),m("arrowcolor",u?c.bordercolor:g.defaultLine),m("arrowwidth",2*(u&&C||1)),m("standoff"),m("startstandoff")}var A=m("hovertext"),k=l.hoverlabel||{};if(A){var H=m("hoverlabel.bgcolor",k.bgcolor||(g.opacity(d)?g.rgb(d):g.defaultLine)),L=m("hoverlabel.bordercolor",k.bordercolor||g.contrast(H));s.coerceFont(m,"hoverlabel.font",{family:k.font.family,size:k.font.size,color:k.font.color||L})}m("captureevents",!!A)}},{"../../lib":232,"../color":102}],89:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib/to_log_range");pe.exports=function(p,c,l,m){c=c||{};var d="log"===l&&"linear"===c.type;if(d||"linear"===l&&"log"===c.type)for(var u,C,b=p._fullLayout.annotations,M=c._id.charAt(0),w=0;w<b.length;w++)C="annotations["+w+"].",(u=b[w])[M+"ref"]===c._id&&N(M),u["a"+M+"ref"]===c._id&&N("a"+M);function N(A){var k=u[A],H=null;H=d?g(k,c.range):Math.pow(10,k),s(H)||(H=null),m(C+A,H)}}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],90:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plots/cartesian/axes"),p=v("../../plots/array_container_defaults"),c=v("./common_defaults"),l=v("./attributes");function m(d,h,u){function C(G,z){return s.coerce(d,h,l,G,z)}var b=C("visible"),M=C("clicktoshow");if(b||M){c(d,h,u,C);for(var w=h.showarrow,N=["x","y"],A=[-10,-30],k={_fullLayout:u},H=0;H<2;H++){var L=N[H],I=g.coerceRef(d,h,k,L,"","paper");if("paper"!==I&&g.getFromId(k,I)._annIndices.push(h._index),g.coercePosition(h,k,C,I,L,.5),w){var D="a"+L,E=g.coerceRef(d,h,k,D,"pixel",["pixel","paper"]);"pixel"!==E&&E!==I&&(E=h[D]="pixel"),g.coercePosition(h,k,C,E,D,"pixel"===E?A[H]:.4)}C(L+"anchor"),C(L+"shift")}if(s.noneOrAll(d,h,["x","y"]),w&&s.noneOrAll(d,h,["ax","ay"]),M){var S=C("xclick"),R=C("yclick");h._xclick=void 0===S?h.x:g.cleanPosition(S,k,h.xref),h._yclick=void 0===R?h.y:g.cleanPosition(R,k,h.yref)}}}pe.exports=function(d,h){p(d,h,{name:"annotations",handleItemDefaults:m})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":85,"./common_defaults":88}],91:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../registry"),p=v("../../plots/plots"),c=v("../../lib"),l=c.strTranslate,m=v("../../plots/cartesian/axes"),d=v("../color"),h=v("../drawing"),u=v("../fx"),C=v("../../lib/svg_text_utils"),b=v("../../lib/setcursor"),M=v("../dragelement"),w=v("../../plot_api/plot_template").arrayEditor,N=v("./draw_arrow_head");function A(L,I){var D=L._fullLayout.annotations[I]||{},E=m.getFromId(L,D.xref),P=m.getFromId(L,D.yref);E&&E.setScale(),P&&P.setScale(),H(L,D,I,!1,E,P)}function k(L,I,D,E,P){var S=P[D],R=P[D+"ref"],G=-1!==D.indexOf("y"),z="domain"===m.getRefType(R),X=G?E.h:E.w;return L?z?S+(G?-I:I)/L._length:L.p2r(L.r2p(S)+I):S+(G?-I:I)/X}function H(L,I,D,E,P,S){var R,G,z=L._fullLayout,X=L._fullLayout._size,W=L._context.edits;E?(R="annotation-"+E,G=E+".annotations"):(R="annotation",G="annotations");var Z=w(L.layout,G,I),ne=Z.modifyBase,te=Z.modifyItem,oe=Z.getUpdateObj;z._infolayer.selectAll("."+R+'[data-index="'+D+'"]').remove();var Ce="clip"+z._uid+"_ann"+D;if(I._input&&!1!==I.visible){var ie={x:{},y:{}},Q=+I.textangle||0,le=z._infolayer.append("g").classed(R,!0).attr("data-index",String(D)).style("opacity",I.opacity),j=le.append("g").classed("annotation-text-g",!0),$=W[I.showarrow?"annotationTail":"annotationPosition"],se=I.captureevents||W.annotationText||$,ee=j.append("g").style("pointer-events",se?"all":null).call(b,"pointer").on("click",function(){L._dragging=!1,L.emit("plotly_clickannotation",be(s.event))});I.hovertext&&ee.on("mouseover",function(){var Re=I.hoverlabel,Ue=Re.font,tt=this.getBoundingClientRect(),Ke=L.getBoundingClientRect();u.loneHover({x0:tt.left-Ke.left,x1:tt.right-Ke.left,y:(tt.top+tt.bottom)/2-Ke.top,text:I.hovertext,color:Re.bgcolor,borderColor:Re.bordercolor,fontFamily:Ue.family,fontSize:Ue.size,fontColor:Ue.color},{container:z._hoverlayer.node(),outerContainer:z._paper.node(),gd:L})}).on("mouseout",function(){u.loneUnhover(z._hoverlayer.node())});var F=I.borderwidth,Y=F+I.borderpad,B=ee.append("rect").attr("class","bg").style("stroke-width",F+"px").call(d.stroke,I.bordercolor).call(d.fill,I.bgcolor),ae=I.width||I.height,ue=z._topclips.selectAll("#"+Ce).data(ae?[0]:[]);ue.enter().append("clipPath").classed("annclip",!0).attr("id",Ce).append("rect"),ue.exit().remove();var fe=I.font,he=z._meta?c.templateString(I.text,z._meta):I.text,xe=ee.append("text").classed("annotation-text",!0).text(he);W.annotationText?xe.call(C.makeEditable,{delegate:ee,gd:L}).call(ke).on("edit",function(Re){I.text=Re,this.call(ke),te("text",Re),P&&P.autorange&&ne(P._name+".autorange",!0),S&&S.autorange&&ne(S._name+".autorange",!0),g.call("_guiRelayout",L,oe())}):xe.call(ke)}else s.selectAll("#"+Ce).remove();function be(Re){var Ue={index:D,annotation:I._input,fullAnnotation:I,event:Re};return E&&(Ue.subplotId=E),Ue}function ke(Re){return Re.call(h.font,fe).attr({"text-anchor":{left:"start",right:"end"}[I.align]||"middle"}),C.convertToTspans(Re,L,Pe),Re}function Pe(){var Re=xe.selectAll("a");1===Re.size()&&Re.text()===xe.text()&&ee.insert("a",":first-child").attr({"xlink:xlink:href":Re.attr("xlink:href"),"xlink:xlink:show":Re.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(B.node());var Ue=ee.select(".annotation-text-math-group"),tt=!Ue.empty(),Ke=h.bBox((tt?Ue:xe).node()),$e=Ke.width,Me=Ke.height,ve=I.width||$e,Se=I.height||Me,Te=Math.round(ve+2*Y),qe=Math.round(Se+2*Y);function Oe(Tt,Wt){return"auto"===Wt&&(Wt=Tt<1/3?"left":Tt>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Wt]}for(var Fe=!1,Qe=["x","y"],nt=0;nt<Qe.length;nt++){var Ye,rt,ht,Xe,gt,xt=Qe[nt],bt=I[xt+"ref"]||xt,Ot=I["a"+xt+"ref"],wt={x:P,y:S}[xt],Be=(Q+("x"===xt?0:-90))*Math.PI/180,Ge=Te*Math.cos(Be),vt=qe*Math.sin(Be),Pt=Math.abs(Ge)+Math.abs(vt),Jt=I[xt+"anchor"],tn=I[xt+"shift"]*("x"===xt?1:-1),Kt=ie[xt],qt=m.getRefType(bt);if(wt&&"domain"!==qt){var Nt=wt.r2fraction(I[xt]);(Nt<0||Nt>1)&&(Ot===bt?((Nt=wt.r2fraction(I["a"+xt]))<0||Nt>1)&&(Fe=!0):Fe=!0),Ye=wt._offset+wt.r2p(I[xt]),Xe=.5}else{var ge="domain"===qt;"x"===xt?(ht=I[xt],Ye=ge?wt._offset+wt._length*ht:Ye=X.l+X.w*ht):(ht=1-I[xt],Ye=ge?wt._offset+wt._length*ht:Ye=X.t+X.h*ht),Xe=I.showarrow?.5:ht}if(I.showarrow){Kt.head=Ye;var _e=I["a"+xt];if(gt=Ge*Oe(.5,I.xanchor)-vt*Oe(.5,I.yanchor),Ot===bt){var We=m.getRefType(Ot);"domain"===We?("y"===xt&&(_e=1-_e),Kt.tail=wt._offset+wt._length*_e):Kt.tail="paper"===We?"y"===xt?X.t+X.h*(_e=1-_e):X.l+X.w*_e:wt._offset+wt.r2p(_e),rt=gt}else Kt.tail=Ye+_e,rt=gt+_e;Kt.text=Kt.tail+gt;var Je=z["x"===xt?"width":"height"];if("paper"===bt&&(Kt.head=c.constrain(Kt.head,1,Je-1)),"pixel"===Ot){var ft=-Math.max(Kt.tail-3,Kt.text),st=Math.min(Kt.tail+3,Kt.text)-Je;ft>0?(Kt.tail+=ft,Kt.text+=ft):st>0&&(Kt.tail-=st,Kt.text-=st)}Kt.tail+=tn,Kt.head+=tn}else rt=gt=Pt*Oe(Xe,Jt),Kt.text=Ye+gt;Kt.text+=tn,gt+=tn,I["_"+xt+"padplus"]=Pt/2+(rt+=tn),I["_"+xt+"padminus"]=Pt/2-rt,I["_"+xt+"size"]=Pt,I["_"+xt+"shift"]=gt}if(Fe)ee.remove();else{var et=0,ut=0;"left"!==I.align&&(et=(ve-$e)*("center"===I.align?.5:1)),"top"!==I.valign&&(ut=(Se-Me)*("middle"===I.valign?.5:1)),tt?Ue.select("svg").attr({x:Y+et-1,y:Y+ut}).call(h.setClipUrl,ae?Ce:null,L):xe.call(C.positionText,Y+et-Ke.left,Y+ut-Ke.top).call(h.setClipUrl,ae?Ce:null,L),ue.select("rect").call(h.setRect,Y,Y,ve,Se),B.call(h.setRect,F/2,F/2,Te-F,qe-F),ee.call(h.setTranslate,Math.round(ie.x.text-Te/2),Math.round(ie.y.text-qe/2)),j.attr({transform:"rotate("+Q+","+ie.x.text+","+ie.y.text+")"});var Bt,an=function(Tt,Wt){le.selectAll(".annotation-arrow-g").remove();var dn=ie.x.head,At=ie.y.head,zt=ie.x.tail+Tt,sn=ie.y.tail+Wt,Qt=ie.x.text+Tt,jt=ie.y.text+Wt,en=c.rotationXYMatrix(Q,Qt,jt),Ft=c.apply2DTransform(en),wn=c.apply2DTransform2(en),bn=+B.attr("width"),Sn=+B.attr("height"),Ln=Qt-.5*bn,Wn=Ln+bn,kn=jt-.5*Sn,Xt=kn+Sn,It=[[Ln,kn,Ln,Xt],[Ln,Xt,Wn,Xt],[Wn,Xt,Wn,kn],[Wn,kn,Ln,kn]].map(wn);if(!It.reduce(function(Yn,Bn){return Yn^!!c.segmentsIntersect(dn,At,dn+1e6,At+1e6,Bn[0],Bn[1],Bn[2],Bn[3])},!1)){It.forEach(function(Yn){var Bn=c.segmentsIntersect(zt,sn,dn,At,Yn[0],Yn[1],Yn[2],Yn[3]);Bn&&(zt=Bn.x,sn=Bn.y)});var nn=I.arrowwidth,gn=I.arrowcolor,cn=I.arrowside,Fn=le.append("g").style({opacity:d.opacity(gn)}).classed("annotation-arrow-g",!0),An=Fn.append("path").attr("d","M"+zt+","+sn+"L"+dn+","+At).style("stroke-width",nn+"px").call(d.stroke,d.rgb(gn));if(N(An,cn,I),W.annotationPosition&&An.node().parentNode&&!E){var _n=dn,r2=At;if(I.standoff){var g2=Math.sqrt(Math.pow(dn-zt,2)+Math.pow(At-sn,2));_n+=I.standoff*(zt-dn)/g2,r2+=I.standoff*(sn-At)/g2}var y2,h2,Yt=Fn.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(zt-_n)+","+(sn-r2),transform:l(_n,r2)}).style("stroke-width",nn+6+"px").call(d.stroke,"rgba(0,0,0,0)").call(d.fill,"rgba(0,0,0,0)");M.init({element:Yt.node(),gd:L,prepFn:function(){var Yn=h.getTranslate(ee);y2=Yn.x,h2=Yn.y,P&&P.autorange&&ne(P._name+".autorange",!0),S&&S.autorange&&ne(S._name+".autorange",!0)},moveFn:function(Yn,Bn){var n2=Ft(y2,h2),On=n2[0]+Yn,w2=n2[1]+Bn;ee.call(h.setTranslate,On,w2),te("x",k(P,Yn,"x",X,I)),te("y",k(S,Bn,"y",X,I)),I.axref===I.xref&&te("ax",k(P,Yn,"ax",X,I)),I.ayref===I.yref&&te("ay",k(S,Bn,"ay",X,I)),Fn.attr("transform",l(Yn,Bn)),j.attr({transform:"rotate("+Q+","+On+","+w2+")"})},doneFn:function(){g.call("_guiRelayout",L,oe());var Yn=document.querySelector(".js-notes-box-panel");Yn&&Yn.redraw(Yn.selectedObj)}})}}};I.showarrow&&an(0,0),$&&M.init({element:ee.node(),gd:L,prepFn:function(){Bt=j.attr("transform")},moveFn:function(Tt,Wt){var dn="pointer";if(I.showarrow)te("ax",I.axref===I.xref?k(P,Tt,"ax",X,I):I.ax+Tt),te("ay",I.ayref===I.yref?k(S,Wt,"ay",X.w,I):I.ay+Wt),an(Tt,Wt);else{if(E)return;var At,zt;if(P)At=k(P,Tt,"x",X,I);else{var sn=I._xsize/X.w;At=M.align(I.x+(I._xshift-I.xshift)/X.w-sn/2+Tt/X.w,sn,0,1,I.xanchor)}if(S)zt=k(S,Wt,"y",X,I);else{var jt=I._ysize/X.h;zt=M.align(I.y-(I._yshift+I.yshift)/X.h-jt/2-Wt/X.h,jt,0,1,I.yanchor)}te("x",At),te("y",zt),P&&S||(dn=M.getCursor(P?.5:At,S?.5:zt,I.xanchor,I.yanchor))}j.attr({transform:l(Tt,Wt)+Bt}),b(ee,dn)},clickFn:function(Tt,Wt){I.captureevents&&L.emit("plotly_clickannotation",be(Wt))},doneFn:function(){b(ee),g.call("_guiRelayout",L,oe());var Tt=document.querySelector(".js-notes-box-panel");Tt&&Tt.redraw(Tt.selectedObj)}})}}}pe.exports={draw:function(L){var I=L._fullLayout;I._infolayer.selectAll(".annotation").remove();for(var D=0;D<I.annotations.length;D++)I.annotations[D].visible&&A(L,D);return p.previousPromises(L)},drawOne:A,drawRaw:H}},{"../../lib":232,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../fx":142,"./draw_arrow_head":92,"@plotly/d3":11}],92:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../color"),p=v("./arrow_paths"),c=v("../../lib"),l=c.strScale,m=c.strRotate,d=c.strTranslate;pe.exports=function(h,u,C){var b,M,w,N,A=h.node(),k=p[C.arrowhead||0],H=p[C.startarrowhead||0],L=(C.arrowwidth||1)*(C.arrowsize||1),I=(C.arrowwidth||1)*(C.startarrowsize||1),D=u.indexOf("start")>=0,E=u.indexOf("end")>=0,P=k.backoff*L+C.standoff,S=H.backoff*I+C.startstandoff;if("line"===A.nodeName){b={x:+h.attr("x1"),y:+h.attr("y1")},M={x:+h.attr("x2"),y:+h.attr("y2")};var R=b.x-M.x,G=b.y-M.y;if(N=(w=Math.atan2(G,R))+Math.PI,P&&S&&P+S>Math.sqrt(R*R+G*G))return void le();if(P){if(P*P>R*R+G*G)return void le();var z=P*Math.cos(w),X=P*Math.sin(w);M.x+=z,M.y+=X,h.attr({x2:M.x,y2:M.y})}if(S){if(S*S>R*R+G*G)return void le();var W=S*Math.cos(w),Z=S*Math.sin(w);b.x-=W,b.y-=Z,h.attr({x1:b.x,y1:b.y})}}else if("path"===A.nodeName){var ne=A.getTotalLength(),te="";if(ne<P+S)return void le();var oe=A.getPointAtLength(0),Ce=A.getPointAtLength(.1);w=Math.atan2(oe.y-Ce.y,oe.x-Ce.x),b=A.getPointAtLength(Math.min(S,ne)),te="0px,"+S+"px,";var ie=A.getPointAtLength(ne),Q=A.getPointAtLength(ne-.1);N=Math.atan2(ie.y-Q.y,ie.x-Q.x),M=A.getPointAtLength(Math.max(0,ne-P)),h.style("stroke-dasharray",te+=ne-(te?S+P:P)+"px,"+ne+"px")}function le(){h.style("stroke-dasharray","0px,100px")}function j($,se,ee,F){$.path&&($.noRotate&&(ee=0),s.select(A.parentNode).append("path").attr({class:h.attr("class"),d:$.path,transform:d(se.x,se.y)+m(180*ee/Math.PI)+l(F)}).style({fill:g.rgb(C.arrowcolor),"stroke-width":0}))}D&&j(H,b,w,I),E&&j(k,M,N,L)}},{"../../lib":232,"../color":102,"./arrow_paths":84,"@plotly/d3":11}],93:[function(v,pe,J){"use strict";var s=v("./draw"),g=v("./click");pe.exports={moduleType:"component",name:"annotations",layoutAttributes:v("./attributes"),supplyLayoutDefaults:v("./defaults"),includeBasePlot:v("../../plots/cartesian/include_components")("annotations"),calcAutorange:v("./calc_autorange"),draw:s.draw,drawOne:s.drawOne,drawRaw:s.drawRaw,hasClickToShow:g.hasClickToShow,onClick:g.onClick,convertCoords:v("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":85,"./calc_autorange":86,"./click":87,"./convert_coords":89,"./defaults":90,"./draw":91}],94:[function(v,pe,J){"use strict";var s=v("../annotations/attributes"),g=v("../../plot_api/edit_types").overrideAll,p=v("../../plot_api/plot_template").templatedArray;pe.exports=g(p("annotation",{visible:s.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:s.xanchor,xshift:s.xshift,yanchor:s.yanchor,yshift:s.yshift,text:s.text,textangle:s.textangle,font:s.font,width:s.width,height:s.height,opacity:s.opacity,align:s.align,valign:s.valign,bgcolor:s.bgcolor,bordercolor:s.bordercolor,borderpad:s.borderpad,borderwidth:s.borderwidth,showarrow:s.showarrow,arrowcolor:s.arrowcolor,arrowhead:s.arrowhead,startarrowhead:s.startarrowhead,arrowside:s.arrowside,arrowsize:s.arrowsize,startarrowsize:s.startarrowsize,arrowwidth:s.arrowwidth,standoff:s.standoff,startstandoff:s.startstandoff,hovertext:s.hovertext,hoverlabel:s.hoverlabel,captureevents:s.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../annotations/attributes":85}],95:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plots/cartesian/axes");function p(c,l){var m=l.fullSceneLayout.domain,d=l.fullLayout._size,h={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};c._xa={},s.extendFlat(c._xa,h),g.setConvert(c._xa),c._xa._offset=d.l+m.x[0]*d.w,c._xa.l2p=function(){return.5*(1+c._pdata[0]/c._pdata[3])*d.w*(m.x[1]-m.x[0])},c._ya={},s.extendFlat(c._ya,h),g.setConvert(c._ya),c._ya._offset=d.t+(1-m.y[1])*d.h,c._ya.l2p=function(){return.5*(1-c._pdata[1]/c._pdata[3])*d.h*(m.y[1]-m.y[0])}}pe.exports=function(c){for(var l=c.fullSceneLayout.annotations,m=0;m<l.length;m++)p(l[m],c);c.fullLayout._infolayer.selectAll(".annotation-"+c.id).remove()}},{"../../lib":232,"../../plots/cartesian/axes":279}],96:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plots/cartesian/axes"),p=v("../../plots/array_container_defaults"),c=v("../annotations/common_defaults"),l=v("./attributes");function m(d,h,u,C){function b(w,N){return s.coerce(d,h,l,w,N)}function M(w){var N=w+"axis",A={_fullLayout:{}};return A._fullLayout[N]=u[N],g.coercePosition(h,A,b,w,w,.5)}b("visible")&&(c(d,h,C.fullLayout,b),M("x"),M("y"),M("z"),s.noneOrAll(d,h,["x","y","z"]),h.xref="x",h.yref="y",h.zref="z",b("xanchor"),b("yanchor"),b("xshift"),b("yshift"),h.showarrow&&(h.axref="pixel",h.ayref="pixel",b("ax",-10),b("ay",-30),s.noneOrAll(d,h,["ax","ay"])))}pe.exports=function(d,h,u){p(d,h,{name:"annotations",handleItemDefaults:m,fullLayout:u.fullLayout})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"../annotations/common_defaults":88,"./attributes":94}],97:[function(v,pe,J){"use strict";var s=v("../annotations/draw").drawRaw,g=v("../../plots/gl3d/project"),p=["x","y","z"];pe.exports=function(c){for(var l=c.fullSceneLayout,m=c.dataScale,d=l.annotations,h=0;h<d.length;h++){for(var u=d[h],C=!1,b=0;b<3;b++){var M=p[b],N=l[M+"axis"].r2fraction(u[M]);if(N<0||N>1){C=!0;break}}C?c.fullLayout._infolayer.select(".annotation-"+c.id+'[data-index="'+h+'"]').remove():(u._pdata=g(c.glplot.cameraParams,[l.xaxis.r2l(u.x)*m[0],l.yaxis.r2l(u.y)*m[1],l.zaxis.r2l(u.z)*m[2]]),s(c.graphDiv,u,h,c.id,u._xa,u._ya))}}},{"../../plots/gl3d/project":313,"../annotations/draw":91}],98:[function(v,pe,J){"use strict";var s=v("../../registry"),g=v("../../lib");pe.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:v("./attributes")}}},layoutAttributes:v("./attributes"),handleDefaults:v("./defaults"),includeBasePlot:function(p,c){var l=s.subplotsRegistry.gl3d;if(l)for(var m=l.attrRegex,d=Object.keys(p),h=0;h<d.length;h++){var u=d[h];m.test(u)&&(p[u].annotations||[]).length&&(g.pushUnique(c._basePlotModules,l),g.pushUnique(c._subplots.gl3d,u))}},convert:v("./convert"),draw:v("./draw")}},{"../../lib":232,"../../registry":318,"./attributes":94,"./convert":95,"./defaults":96,"./draw":97}],99:[function(v,pe,J){"use strict";pe.exports=v("world-calendars/dist/main"),v("world-calendars/dist/plus"),v("world-calendars/dist/calendars/chinese"),v("world-calendars/dist/calendars/coptic"),v("world-calendars/dist/calendars/discworld"),v("world-calendars/dist/calendars/ethiopian"),v("world-calendars/dist/calendars/hebrew"),v("world-calendars/dist/calendars/islamic"),v("world-calendars/dist/calendars/julian"),v("world-calendars/dist/calendars/mayan"),v("world-calendars/dist/calendars/nanakshahi"),v("world-calendars/dist/calendars/nepali"),v("world-calendars/dist/calendars/persian"),v("world-calendars/dist/calendars/taiwan"),v("world-calendars/dist/calendars/thai"),v("world-calendars/dist/calendars/ummalqura")},{"world-calendars/dist/calendars/chinese":68,"world-calendars/dist/calendars/coptic":69,"world-calendars/dist/calendars/discworld":70,"world-calendars/dist/calendars/ethiopian":71,"world-calendars/dist/calendars/hebrew":72,"world-calendars/dist/calendars/islamic":73,"world-calendars/dist/calendars/julian":74,"world-calendars/dist/calendars/mayan":75,"world-calendars/dist/calendars/nanakshahi":76,"world-calendars/dist/calendars/nepali":77,"world-calendars/dist/calendars/persian":78,"world-calendars/dist/calendars/taiwan":79,"world-calendars/dist/calendars/thai":80,"world-calendars/dist/calendars/ummalqura":81,"world-calendars/dist/main":82,"world-calendars/dist/plus":83}],100:[function(v,pe,J){"use strict";var s=v("./calendars"),g=v("../../lib"),p=v("../../constants/numerical"),c=p.EPOCHJD,l=p.ONEDAY,m={valType:"enumerated",values:g.sortObjectKeys(s.calendars),editType:"calc",dflt:"gregorian"},d=function(H,L,I,D){var E={};return E[I]=m,g.coerce(H,L,E,I,D)},h={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:"##",w:"##",c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},u={};function C(H){return u[H]||(u[H]=s.instance(H))}function b(H){return g.extendFlat({},m,{description:H})}function M(H){return"Sets the calendar system to use with `"+H+"` date data."}var w={xcalendar:b(M("x"))},N=g.extendFlat({},w,{ycalendar:b(M("y"))}),A=g.extendFlat({},N,{zcalendar:b(M("z"))}),k=b(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));pe.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:N,bar:N,box:N,heatmap:N,contour:N,histogram:N,histogram2d:N,histogram2dcontour:N,scatter3d:A,surface:A,mesh3d:A,scattergl:N,ohlc:w,candlestick:w},layout:{calendar:b(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:k},yaxis:{calendar:k},scene:{xaxis:{calendar:k},yaxis:{calendar:k},zaxis:{calendar:k}},polar:{radialaxis:{calendar:k}}},transforms:{filter:{valuecalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:m,handleDefaults:d,handleTraceDefaults:function(H,L,I,D){for(var E=0;E<I.length;E++)d(H,L,I[E]+"calendar",D.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:C,worldCalFmt:function(H,L,I){for(var D,E,P,S,R,G=Math.floor((L+.05)/l)+c,z=C(I).fromJD(G),X=0;-1!==(X=H.indexOf("%",X));)"0"===(D=H.charAt(X+1))||"-"===D||"_"===D?(P=3,E=H.charAt(X+2),"_"===D&&(D="-")):(E=D,D="0",P=2),(S=h[E])?(R="##"===S?"##":z.formatDate(S[D]),H=H.substr(0,X)+R+H.substr(X+P),X+=R.length):X+=P;return H}}},{"../../constants/numerical":212,"../../lib":232,"./calendars":99}],101:[function(v,pe,J){"use strict";J.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],J.defaultLine="#444",J.lightLine="#eee",J.background="#fff",J.borderLine="#BEC8D9",J.lightFraction=1e3/11},{}],102:[function(v,pe,J){"use strict";var s=v("tinycolor2"),g=v("fast-isnumeric"),p=v("../../lib/array").isTypedArray,c=pe.exports={},l=v("./attributes");c.defaults=l.defaults;var m=c.defaultLine=l.defaultLine;c.lightLine=l.lightLine;var d=c.background=l.background;function h(u){if(g(u)||"string"!=typeof u)return u;var C=u.trim();if("rgb"!==C.substr(0,3))return u;var b=C.match(/^rgba?\s*\(([^()]*)\)$/);if(!b)return u;var M=b[1].trim().split(/\s*[\s,]\s*/),w="a"===C.charAt(3)&&4===M.length;if(!w&&3!==M.length)return u;for(var N=0;N<M.length;N++){if(!(M[N].length&&(M[N]=Number(M[N]),M[N]>=0)))return u;if(3===N)M[N]>1&&(M[N]=1);else if(M[N]>=1)return u}var A=Math.round(255*M[0])+", "+Math.round(255*M[1])+", "+Math.round(255*M[2]);return w?"rgba("+A+", "+M[3]+")":"rgb("+A+")"}c.tinyRGB=function(u){var C=u.toRgb();return"rgb("+Math.round(C.r)+", "+Math.round(C.g)+", "+Math.round(C.b)+")"},c.rgb=function(u){return c.tinyRGB(s(u))},c.opacity=function(u){return u?s(u).getAlpha():0},c.addOpacity=function(u,C){var b=s(u).toRgb();return"rgba("+Math.round(b.r)+", "+Math.round(b.g)+", "+Math.round(b.b)+", "+C+")"},c.combine=function(u,C){var b=s(u).toRgb();if(1===b.a)return s(u).toRgbString();var M=s(C||d).toRgb(),w=1===M.a?M:{r:255*(1-M.a)+M.r*M.a,g:255*(1-M.a)+M.g*M.a,b:255*(1-M.a)+M.b*M.a};return s({r:w.r*(1-b.a)+b.r*b.a,g:w.g*(1-b.a)+b.g*b.a,b:w.b*(1-b.a)+b.b*b.a}).toRgbString()},c.contrast=function(u,C,b){var M=s(u);return 1!==M.getAlpha()&&(M=s(c.combine(u,d))),(M.isDark()?C?M.lighten(C):d:b?M.darken(b):m).toString()},c.stroke=function(u,C){var b=s(C);u.style({stroke:c.tinyRGB(b),"stroke-opacity":b.getAlpha()})},c.fill=function(u,C){var b=s(C);u.style({fill:c.tinyRGB(b),"fill-opacity":b.getAlpha()})},c.clean=function(u){if(u&&"object"==typeof u){var C,b,M,w,N=Object.keys(u);for(C=0;C<N.length;C++)if(w=u[M=N[C]],"color"===M.substr(M.length-5))if(Array.isArray(w))for(b=0;b<w.length;b++)w[b]=h(w[b]);else u[M]=h(w);else if("colorscale"===M.substr(M.length-10)&&Array.isArray(w))for(b=0;b<w.length;b++)Array.isArray(w[b])&&(w[b][1]=h(w[b][1]));else if(Array.isArray(w)){var A=w[0];if(!Array.isArray(A)&&A&&"object"==typeof A)for(b=0;b<w.length;b++)c.clean(w[b])}else w&&"object"==typeof w&&!p(w)&&c.clean(w)}}},{"../../lib/array":218,"./attributes":101,"fast-isnumeric":17,tinycolor2:67}],103:[function(v,pe,J){"use strict";var s=v("../../plots/cartesian/layout_attributes"),g=v("../../plots/font_attributes"),p=v("../../lib/extend").extendFlat,c=v("../../plot_api/edit_types").overrideAll;pe.exports=c({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:s.linecolor,outlinewidth:s.linewidth,bordercolor:s.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:s.tickmode,nticks:s.nticks,tick0:s.tick0,dtick:s.dtick,tickvals:s.tickvals,ticktext:s.ticktext,ticks:p({},s.ticks,{dflt:""}),ticklabeloverflow:p({},s.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:s.ticklen,tickwidth:s.tickwidth,tickcolor:s.tickcolor,ticklabelstep:s.ticklabelstep,showticklabels:s.showticklabels,tickfont:g({}),tickangle:s.tickangle,tickformat:s.tickformat,tickformatstops:s.tickformatstops,tickprefix:s.tickprefix,showtickprefix:s.showtickprefix,ticksuffix:s.ticksuffix,showticksuffix:s.showticksuffix,separatethousands:s.separatethousands,exponentformat:s.exponentformat,minexponent:s.minexponent,showexponent:s.showexponent,title:{text:{valType:"string"},font:g({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:g({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plots/cartesian/layout_attributes":294,"../../plots/font_attributes":310}],104:[function(v,pe,J){"use strict";pe.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],105:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plot_api/plot_template"),p=v("../../plots/cartesian/tick_value_defaults"),c=v("../../plots/cartesian/tick_mark_defaults"),l=v("../../plots/cartesian/tick_label_defaults"),m=v("../../plots/cartesian/prefix_suffix_defaults"),d=v("./attributes");pe.exports=function(h,u,C){var b=g.newContainer(u,"colorbar"),M=h.colorbar||{};function w(G,z){return s.coerce(M,b,d,G,z)}var N=C.margin||{t:0,b:0,l:0,r:0},A=C.width-N.l-N.r,k=C.height-N.t-N.b,H="v"===w("orientation"),L=w("thicknessmode");w("thickness","fraction"===L?30/(H?A:k):30);var I=w("lenmode");w("len","fraction"===I?1:H?k:A),w("x",H?1.02:.5),w("xanchor",H?"left":"center"),w("xpad"),w("y",H?.5:1.02),w("yanchor",H?"middle":"bottom"),w("ypad"),s.noneOrAll(M,b,["x","y"]),w("outlinecolor"),w("outlinewidth"),w("bordercolor"),w("borderwidth"),w("bgcolor");var D=s.coerce(M,b,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:H?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");w("ticklabeloverflow",-1!==D.indexOf("inside")?"hide past domain":"hide past div"),p(M,b,w,"linear");var E=C.font,P={outerTicks:!1,font:E};-1!==D.indexOf("inside")&&(P.bgColor="black"),m(M,b,w,"linear",P),l(M,b,w,"linear",P),c(M,b,w,"linear",P),w("title.text",C._dfltTitle.colorbar);var S=b.tickfont,R=s.extendFlat({},S,{color:E.color,size:s.bigFont(S.size)});s.coerceFont(w,"title.font",R),w("title.side",H?"top":"right")}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/prefix_suffix_defaults":298,"../../plots/cartesian/tick_label_defaults":303,"../../plots/cartesian/tick_mark_defaults":304,"../../plots/cartesian/tick_value_defaults":305,"./attributes":103}],106:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("tinycolor2"),p=v("../../plots/plots"),c=v("../../registry"),l=v("../../plots/cartesian/axes"),m=v("../dragelement"),d=v("../../lib"),h=d.strTranslate,u=v("../../lib/extend").extendFlat,C=v("../../lib/setcursor"),b=v("../drawing"),M=v("../color"),w=v("../titles"),N=v("../../lib/svg_text_utils"),A=v("../colorscale/helpers").flipScale,k=v("../../plots/cartesian/axis_defaults"),H=v("../../plots/cartesian/position_defaults"),L=v("../../plots/cartesian/layout_attributes"),I=v("../../constants/alignment"),D=I.LINE_SPACING,E=I.FROM_TL,P=I.FROM_BR,S=v("./constants").cn;pe.exports={draw:function(R){var G=R._fullLayout._infolayer.selectAll("g."+S.colorbar).data(function(z){var X,W,Z,ne,te=z._fullLayout,oe=z.calcdata,Ce=[];function ie(ae){return u(ae,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function Q(){"function"==typeof ne.calc?ne.calc(z,Z,X):(X._fillgradient=W.reversescale?A(W.colorscale):W.colorscale,X._zrange=[W[ne.min],W[ne.max]])}for(var le=0;le<oe.length;le++){var $=(Z=oe[le][0].trace)._module.colorbar;if(!0===Z.visible&&$)for(var se=Array.isArray($),ee=se?$:[$],F=0;F<ee.length;F++){var O=(ne=ee[F]).container;(W=O?Z[O]:Z)&&W.showscale&&((X=ie(W.colorbar))._id="cb"+Z.uid+(se&&O?"-"+O:""),X._traceIndex=Z.index,X._propPrefix=(O?O+".":"")+"colorbar.",X._meta=Z._meta,Q(),Ce.push(X))}}for(var Y in te._colorAxes)if((W=te[Y]).showscale){var B=te._colorAxes[Y];(X=ie(W.colorbar))._id="cb"+Y,X._propPrefix=Y+".colorbar.",X._meta=te._meta,ne={min:"cmin",max:"cmax"},"heatmap"!==B[0]&&(ne.calc=(Z=B[1])._module.colorbar.calc),Q(),Ce.push(X)}return Ce}(R),function(z){return z._id});G.enter().append("g").attr("class",function(z){return z._id}).classed(S.colorbar,!0),G.each(function(z){var X=s.select(this);d.ensureSingle(X,"rect",S.cbbg),d.ensureSingle(X,"g",S.cbfills),d.ensureSingle(X,"g",S.cblines),d.ensureSingle(X,"g",S.cbaxis,function(Z){Z.classed(S.crisp,!0)}),d.ensureSingle(X,"g",S.cbtitleunshift,function(Z){Z.append("g").classed(S.cbtitle,!0)}),d.ensureSingle(X,"rect",S.cboutline);var Z,ne,te,oe,Ce,ie,Q,le,W=function(Z,ne,te){var oe="v"===ne.orientation,Ce=ne.len,ie=ne.lenmode,Q=ne.thickness,le=ne.thicknessmode,j=ne.outlinewidth,$=ne.borderwidth,se=ne.bgcolor,ee=ne.xanchor,F=ne.yanchor,O=ne.xpad,Y=ne.ypad,B=ne.x,ae=oe?ne.y:1-ne.y,ue=te._fullLayout,fe=ue._size,he=ne._fillcolor,xe=ne._line,be=ne.title,ke=be.side,Pe=ne._zrange||s.extent(("function"==typeof he?he:xe.color).domain()),Re="function"==typeof xe.color?xe.color:function(){return xe.color},Ue="function"==typeof he?he:function(){return he},tt=ne._levels,Ke=function(qt,Nt,ge){var _e,We,Je=Nt._levels,ft=[],st=[],et=Je.end+Je.size/100,ut=Je.size,St=1.001*ge[0]-.001*ge[1],Vt=1.001*ge[1]-.001*ge[0];for(We=0;We<1e5&&(_e=Je.start+We*ut,!(ut>0?_e>=et:_e<=et));We++)_e>St&&_e<Vt&&ft.push(_e);if(Nt._fillgradient)st=[0];else if("function"==typeof Nt._fillcolor){var Bt=Nt._filllevels;if(Bt)for(et=Bt.end+Bt.size/100,ut=Bt.size,We=0;We<1e5&&(_e=Bt.start+We*ut,!(ut>0?_e>=et:_e<=et));We++)_e>ge[0]&&_e<ge[1]&&st.push(_e);else(st=ft.map(function(an){return an-Je.size/2})).push(st[st.length-1]+Je.size)}else Nt._fillcolor&&"string"==typeof Nt._fillcolor&&(st=[0]);return Je.size<0&&(ft.reverse(),st.reverse()),{line:ft,fill:st}}(0,ne,Pe),$e=Ke.fill,Me=Ke.line,ve=Math.round(Q*("fraction"===le?oe?fe.w:fe.h:1)),Se=ve/(oe?fe.w:fe.h),Te=Math.round(Ce*("fraction"===ie?oe?fe.h:fe.w:1)),qe=Te/(oe?fe.h:fe.w),Oe=Math.round(oe?B*fe.w+O:ae*fe.h+Y),Fe={center:.5,right:1}[ee]||0,Qe={top:1,middle:.5}[F]||0,nt=oe?B-Fe*Se:ae-Qe*Se,Ye=oe?ae-Qe*qe:B-Fe*qe,rt=Math.round(oe?fe.h*(1-Ye):fe.w*Ye);ne._lenFrac=qe,ne._thickFrac=Se,ne._uFrac=nt,ne._vFrac=Ye;var ht=ne._axis=function(qt,Nt,ge){var _e=qt._fullLayout,We="v"===Nt.orientation,Je={type:"linear",range:ge,tickmode:Nt.tickmode,nticks:Nt.nticks,tick0:Nt.tick0,dtick:Nt.dtick,tickvals:Nt.tickvals,ticktext:Nt.ticktext,ticks:Nt.ticks,ticklen:Nt.ticklen,tickwidth:Nt.tickwidth,tickcolor:Nt.tickcolor,showticklabels:Nt.showticklabels,ticklabelposition:Nt.ticklabelposition,ticklabeloverflow:Nt.ticklabeloverflow,ticklabelstep:Nt.ticklabelstep,tickfont:Nt.tickfont,tickangle:Nt.tickangle,tickformat:Nt.tickformat,exponentformat:Nt.exponentformat,minexponent:Nt.minexponent,separatethousands:Nt.separatethousands,showexponent:Nt.showexponent,showtickprefix:Nt.showtickprefix,tickprefix:Nt.tickprefix,showticksuffix:Nt.showticksuffix,ticksuffix:Nt.ticksuffix,title:Nt.title,showline:!0,anchor:"free",side:We?"right":"bottom",position:1},ft=We?"y":"x",st={type:"linear",_id:ft+Nt._id},et={letter:ft,font:_e.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:_e.calendar};function ut(St,Vt){return d.coerce(Je,st,L,St,Vt)}return k(Je,st,ut,et,_e),H(Je,st,ut,et),st}(te,ne,Pe);ht.position=Se+(oe?B+O/fe.w:ae+Y/fe.h);var Xe=-1!==["top","bottom"].indexOf(ke);if(oe&&Xe&&(ht.title.side=ke,ht.titlex=B+O/fe.w,ht.titley=Ye+("top"===be.side?qe-Y/fe.h:Y/fe.h)),oe||Xe||(ht.title.side=ke,ht.titley=ae+Y/fe.h,ht.titlex=Ye+O/fe.w),xe.color&&"auto"===ne.tickmode){ht.tickmode="linear",ht.tick0=tt.start;var gt=tt.size,xt=d.constrain(Te/50,4,15)+1,bt=(Pe[1]-Pe[0])/((ne.nticks||xt)*gt);if(bt>1){var Ot=Math.pow(10,Math.floor(Math.log(bt)/Math.LN10));gt*=Ot*d.roundUp(bt/Ot,[2,5,10]),(Math.abs(tt.start)/tt.size+1e-6)%1<2e-6&&(ht.tick0=0)}ht.dtick=gt}ht.domain=oe?[Ye+Y/fe.h,Ye+qe-Y/fe.h]:[Ye+O/fe.w,Ye+qe-O/fe.w],ht.setScale(),Z.attr("transform",h(Math.round(fe.l),Math.round(fe.t)));var wt,Be=Z.select("."+S.cbtitleunshift).attr("transform",h(-Math.round(fe.l),-Math.round(fe.t))),Ge=ht.ticklabelposition,vt=ht.title.font.size,Pt=Z.select("."+S.cbaxis),Jt=0,tn=0;function Kt(qt,Nt){var ge={propContainer:ht,propName:ne._propPrefix+"title",traceIndex:ne._traceIndex,_meta:ne._meta,placeholder:ue._dfltTitle.colorbar,containerGroup:Z.select("."+S.cbtitle)},_e="h"===qt.charAt(0)?qt.substr(1):"h"+qt;Z.selectAll("."+_e+",."+_e+"-math-group").remove(),w.draw(te,qt,u(ge,Nt||{}))}return d.syncOrAsync([p.previousPromises,function(){var qt,Nt;(oe&&Xe||!oe&&!Xe)&&("top"===ke&&(qt=O+fe.l+fe.w*B,Nt=Y+fe.t+fe.h*(1-Ye-qe)+3+.75*vt),"bottom"===ke&&(qt=O+fe.l+fe.w*B,Nt=Y+fe.t+fe.h*(1-Ye)-3-.25*vt),"right"===ke&&(Nt=Y+fe.t+fe.h*ae+3+.75*vt,qt=O+fe.l+fe.w*Ye),Kt(ht._id+"title",{attributes:{x:qt,y:Nt,"text-anchor":oe?"start":"middle"}}))},function(){if(!oe&&!Xe||oe&&Xe){var qt,Nt=Z.select("."+S.cbtitle),ge=Nt.select("text"),_e=[-j/2,j/2],We=Nt.select(".h"+ht._id+"title-math-group").node(),Je=15.6;if(ge.node()&&(Je=parseInt(ge.node().style.fontSize,10)*D),We?(qt=b.bBox(We),tn=qt.width,(Jt=qt.height)>Je&&(_e[1]-=(Jt-Je)/2)):ge.node()&&!ge.classed(S.jsPlaceholder)&&(qt=b.bBox(ge.node()),tn=qt.width,Jt=qt.height),oe){if(Jt){if(Jt+=5,"top"===ke)ht.domain[1]-=Jt/fe.h,_e[1]*=-1;else{ht.domain[0]+=Jt/fe.h;var ft=N.lineCount(ge);_e[1]+=(1-ft)*Je}Nt.attr("transform",h(_e[0],_e[1])),ht.setScale()}}else tn&&("right"===ke&&(ht.domain[0]+=(tn+vt/2)/fe.w),Nt.attr("transform",h(_e[0],_e[1])),ht.setScale())}Z.selectAll("."+S.cbfills+",."+S.cblines).attr("transform",oe?h(0,Math.round(fe.h*(1-ht.domain[1]))):h(Math.round(fe.w*ht.domain[0]),0)),Pt.attr("transform",oe?h(0,Math.round(-fe.t)):h(Math.round(-fe.l),0));var st=Z.select("."+S.cbfills).selectAll("rect."+S.cbfill).attr("style","").data($e);st.enter().append("rect").classed(S.cbfill,!0).style("stroke","none"),st.exit().remove();var et=Pe.map(ht.c2p).map(Math.round).sort(function(an,Tt){return an-Tt});st.each(function(an,Tt){var Wt=[0===Tt?Pe[0]:($e[Tt]+$e[Tt-1])/2,Tt===$e.length-1?Pe[1]:($e[Tt]+$e[Tt+1])/2].map(ht.c2p).map(Math.round);oe&&(Wt[1]=d.constrain(Wt[1]+(Wt[1]>Wt[0])?1:-1,et[0],et[1]));var dn=s.select(this).attr(oe?"x":"y",Oe).attr(oe?"y":"x",s.min(Wt)).attr(oe?"width":"height",Math.max(ve,2)).attr(oe?"height":"width",Math.max(s.max(Wt)-s.min(Wt),2));if(ne._fillgradient)b.gradient(dn,te,ne._id,oe?"vertical":"horizontalreversed",ne._fillgradient,"fill");else{var At=Ue(an).replace("e-","");dn.attr("fill",g(At).toHexString())}});var ut=Z.select("."+S.cblines).selectAll("path."+S.cbline).data(xe.color&&xe.width?Me:[]);ut.enter().append("path").classed(S.cbline,!0),ut.exit().remove(),ut.each(function(an){var Tt=Oe,Wt=Math.round(ht.c2p(an))+xe.width/2%1;s.select(this).attr("d","M"+(oe?Tt+","+Wt:Wt+","+Tt)+(oe?"h":"v")+ve).call(b.lineGroupStyle,xe.width,Re(an),xe.dash)}),Pt.selectAll("g."+ht._id+"tick,path").remove();var St=Oe+ve+(j||0)/2-("outside"===ne.ticks?1:0),Vt=l.calcTicks(ht),Bt=l.getTickSigns(ht)[2];return l.drawTicks(te,ht,{vals:"inside"===ht.ticks?l.clipEnds(ht,Vt):Vt,layer:Pt,path:l.makeTickPath(ht,St,Bt),transFn:l.makeTransTickFn(ht)}),l.drawLabels(te,ht,{vals:Vt,layer:Pt,transFn:l.makeTransTickLabelFn(ht),labelFns:l.makeLabelFns(ht,St)})},function(){if(oe&&!Xe||!oe&&Xe){var qt,Nt,ge=ht.position||0,_e=ht._offset+ht._length/2;if("right"===ke)Nt=_e,qt=fe.l+fe.w*ge+10+vt*(ht.showticklabels?1:.5);else if(qt=_e,"bottom"===ke&&(Nt=fe.t+fe.h*ge+10+(-1===Ge.indexOf("inside")?ht.tickfont.size:0)+("intside"!==ht.ticks&&ne.ticklen||0)),"top"===ke){var We=be.text.split("<br>").length;Nt=fe.t+fe.h*ge+10-ve-D*vt*We}Kt((oe?"h":"v")+ht._id+"title",{avoid:{selection:s.select(te).selectAll("g."+ht._id+"tick"),side:ke,offsetTop:oe?0:fe.t,offsetLeft:oe?fe.l:0,maxShift:oe?ue.width:ue.height},attributes:{x:qt,y:Nt,"text-anchor":"middle"},transform:{rotate:oe?-90:0,offset:0}})}},p.previousPromises,function(){var qt,Nt=ve+j/2;-1===Ge.indexOf("inside")&&(qt=b.bBox(Pt.node()),Nt+=oe?qt.width:qt.height),wt=Be.select("text");var ge=0,_e=oe&&"top"===ke,We=!oe&&"right"===ke,Je=0;if(wt.node()&&!wt.classed(S.jsPlaceholder)){var ft,st=Be.select(".h"+ht._id+"title-math-group").node();st&&(oe&&Xe||!oe&&!Xe)?(ge=(qt=b.bBox(st)).width,ft=qt.height):(ge=(qt=b.bBox(Be.node())).right-fe.l-(oe?Oe:rt),ft=qt.bottom-fe.t-(oe?rt:Oe),oe||"top"!==ke||(Nt+=qt.height,Je=qt.height)),We&&(wt.attr("transform",h(ge/2+vt/2,0)),ge*=2),Nt=Math.max(Nt,oe?ge:ft)}var et=2*(oe?O:Y)+Nt+$+j/2,ut=0;!oe&&be.text&&"bottom"===F&&ae<=0&&(et+=ut=et/2,Je+=ut),ue._hColorbarMoveTitle=ut,ue._hColorbarMoveCBTitle=Je;var St=$+j;Z.select("."+S.cbbg).attr("x",(oe?Oe:rt)-St/2-(oe?O:0)).attr("y",(oe?rt:Oe)-(oe?Te:Y+Je-ut)).attr(oe?"width":"height",Math.max(et-ut,2)).attr(oe?"height":"width",Math.max(Te+St,2)).call(M.fill,se).call(M.stroke,ne.bordercolor).style("stroke-width",$);var Vt=We?Math.max(ge-10,0):0;if(Z.selectAll("."+S.cboutline).attr("x",(oe?Oe:rt+O)+Vt).attr("y",(oe?rt+Y-Te:Oe)+(_e?Jt:0)).attr(oe?"width":"height",Math.max(ve,2)).attr(oe?"height":"width",Math.max(Te-(oe?2*Y+Jt:2*O+Vt),2)).call(M.stroke,ne.outlinecolor).style({fill:"none","stroke-width":j}),Z.attr("transform",h(fe.l-(oe?Fe*et:0),fe.t-(oe?0:(1-Qe)*et-Je))),!oe&&($||g(se).getAlpha()&&!g.equals(ue.paper_bgcolor,se))){var Bt=Pt.selectAll("text"),an=Bt[0].length,Tt=Z.select("."+S.cbbg).node(),Wt=b.bBox(Tt),dn=b.getTranslate(Z);Bt.each(function(Ft,wn){var bn=an-1;if(0===wn||wn===bn){var Sn,Ln=b.bBox(this),Wn=b.getTranslate(this);wn===bn?(Sn=Wt.right+dn.x+rt-$-2+B-(Ln.right+Wn.x))>0&&(Sn=0):0===wn&&(Sn=Wt.left+dn.x+rt+$+2-(Ln.left+Wn.x))<0&&(Sn=0),Sn&&(an<3?this.setAttribute("transform","translate("+Sn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var At={},zt=E[ee],sn=P[ee],Qt=E[F],jt=P[F],en=et-ve;oe?("pixels"===ie?(At.y=ae,At.t=Te*Qt,At.b=Te*jt):(At.t=At.b=0,At.yt=ae+Ce*Qt,At.yb=ae-Ce*jt),"pixels"===le?(At.x=B,At.l=et*zt,At.r=et*sn):(At.l=en*zt,At.r=en*sn,At.xl=B-Q*zt,At.xr=B+Q*sn)):("pixels"===ie?(At.x=B,At.l=Te*zt,At.r=Te*sn):(At.l=At.r=0,At.xl=B+Ce*zt,At.xr=B-Ce*sn),"pixels"===le?(At.y=1-ae,At.t=et*Qt,At.b=et*jt):(At.t=en*Qt,At.b=en*jt,At.yt=ae-Q*Qt,At.yb=ae+Q*jt)),p.autoMargin(te,ne._id,At)}],te)}(X,z,R);W&&W.then&&(R._promises||[]).push(W),R._context.edits.colorbarPosition&&(Q="v"===(ne=z).orientation,le=(te=R)._fullLayout._size,m.init({element:(Z=X).node(),gd:te,prepFn:function(){oe=Z.attr("transform"),C(Z)},moveFn:function(j,$){Z.attr("transform",oe+h(j,$)),Ce=m.align((Q?ne._uFrac:ne._vFrac)+j/le.w,Q?ne._thickFrac:ne._lenFrac,0,1,ne.xanchor),ie=m.align((Q?ne._vFrac:1-ne._uFrac)-$/le.h,Q?ne._lenFrac:ne._thickFrac,0,1,ne.yanchor);var se=m.getCursor(Ce,ie,ne.xanchor,ne.yanchor);C(Z,se)},doneFn:function(){if(C(Z),void 0!==Ce&&void 0!==ie){var j={};j[ne._propPrefix+"x"]=Ce,j[ne._propPrefix+"y"]=ie,void 0!==ne._traceIndex?c.call("_guiRestyle",te,j,ne._traceIndex):c.call("_guiRelayout",te,j)}}}))}),G.exit().each(function(z){p.autoMargin(R,z._id)}).remove(),G.order()}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/extend":226,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_defaults":281,"../../plots/cartesian/layout_attributes":294,"../../plots/cartesian/position_defaults":297,"../../plots/plots":316,"../../registry":318,"../color":102,"../colorscale/helpers":113,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":104,"@plotly/d3":11,tinycolor2:67}],107:[function(v,pe,J){"use strict";var s=v("../../lib");pe.exports=function(g){return s.isPlainObject(g.colorbar)}},{"../../lib":232}],108:[function(v,pe,J){"use strict";pe.exports={moduleType:"component",name:"colorbar",attributes:v("./attributes"),supplyDefaults:v("./defaults"),draw:v("./draw").draw,hasColorbar:v("./has_colorbar")}},{"./attributes":103,"./defaults":105,"./draw":106,"./has_colorbar":107}],109:[function(v,pe,J){"use strict";var s=v("../colorbar/attributes"),g=v("../../lib/regex").counter,p=v("../../lib/sort_object_keys"),c=v("./scales.js").scales;function l(m){return"`"+m+"`"}p(c),pe.exports=function(m,d){m=m||"";var h,u=(d=d||{}).cLetter||"c",C=("onlyIfNumerical"in d||Boolean(m),"noScale"in d?d.noScale:"marker.line"===m),b="showScaleDflt"in d?d.showScaleDflt:"z"===u,M="string"==typeof d.colorscaleDflt?c[d.colorscaleDflt]:null,w=d.editTypeOverride||"",N=m?m+".":"";"colorAttr"in d?h=d.colorAttr:l(N+(h={z:"z",c:"color"}[u]));var A=u+"auto",k=u+"min",H=u+"max",L=u+"mid",I=(l(N+A),l(N+k),l(N+H),{});I[k]=I[H]=void 0;var D={};D[A]=!1;var E={};return"color"===h&&(E.color={valType:"color",arrayOk:!0,editType:w||"style"},d.anim&&(E.color.anim=!0)),E[A]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:I},E[k]={valType:"number",dflt:null,editType:w||"plot",impliedEdits:D},E[H]={valType:"number",dflt:null,editType:w||"plot",impliedEdits:D},E[L]={valType:"number",dflt:null,editType:"calc",impliedEdits:I},E.colorscale={valType:"colorscale",editType:"calc",dflt:M,impliedEdits:{autocolorscale:!1}},E.autocolorscale={valType:"boolean",dflt:!1!==d.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},E.reversescale={valType:"boolean",dflt:!1,editType:"plot"},C||(E.showscale={valType:"boolean",dflt:b,editType:"calc"},E.colorbar=s),d.noColorAxis||(E.coloraxis={valType:"subplotid",regex:g("coloraxis"),dflt:null,editType:"calc"}),E}},{"../../lib/regex":248,"../../lib/sort_object_keys":253,"../colorbar/attributes":103,"./scales.js":117}],110:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib"),p=v("./helpers").extractOpts;pe.exports=function(c,l,m){var h=c._fullLayout,u=m.vals,C=m.containerStr,b=C?g.nestedProperty(l,C).get():l,M=p(b),w=!1!==M.auto,N=M.min,A=M.max,k=M.mid,H=function(){return g.aggNums(Math.min,null,u)},L=function(){return g.aggNums(Math.max,null,u)};void 0===N?N=H():w&&(N=b._colorAx&&s(N)?Math.min(N,H()):H()),void 0===A?A=L():w&&(A=b._colorAx&&s(A)?Math.max(A,L()):L()),w&&void 0!==k&&(A-k>k-N?N=k-(A-k):A-k<k-N&&(A=k+(k-N))),N===A&&(N-=.5,A+=.5),M._sync("min",N),M._sync("max",A),M.autocolorscale&&M._sync("colorscale",N*A<0?h.colorscale.diverging:N>=0?h.colorscale.sequential:h.colorscale.sequentialminus)}},{"../../lib":232,"./helpers":113,"fast-isnumeric":17}],111:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("./helpers").hasColorscale,p=v("./helpers").extractOpts;pe.exports=function(c,l){function m(w,N){var A=w["_"+N];void 0!==A&&(w[N]=A)}function d(w,N){var A=N.container?s.nestedProperty(w,N.container).get():w;if(A)if(A.coloraxis)A._colorAx=l[A.coloraxis];else{var k=p(A),H=k.auto;(H||void 0===k.min)&&m(A,N.min),(H||void 0===k.max)&&m(A,N.max),k.autocolorscale&&m(A,"colorscale")}}for(var h=0;h<c.length;h++){var u=c[h],C=u._module.colorbar;if(C)if(Array.isArray(C))for(var b=0;b<C.length;b++)d(u,C[b]);else d(u,C);g(u,"marker.line")&&d(u,{container:"marker.line",min:"cmin",max:"cmax"})}for(var M in l._colorAxes)d(l[M],{min:"cmin",max:"cmax"})}},{"../../lib":232,"./helpers":113}],112:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib"),p=v("../colorbar/has_colorbar"),c=v("../colorbar/defaults"),l=v("./scales").isValid,m=v("../../registry").traceIs;function d(h,u){var C=u.slice(0,u.length-1);return u?g.nestedProperty(h,C).get()||{}:h}pe.exports=function h(u,C,b,M,w){var N=w.prefix,A=w.cLetter,k="_module"in C,H=d(u,N),L=d(C,N),I=d(C._template||{},N)||{},D=function(){return delete u.coloraxis,delete C.coloraxis,h(u,C,b,M,w)};if(k){var E=b._colorAxes||{},P=M(N+"coloraxis");if(P){var S=m(C,"contour")&&g.nestedProperty(C,"contours.coloring").get()||"heatmap",R=E[P];return void(R?(R[2].push(D),R[0]!==S&&(R[0]=!1,g.warn(["Ignoring coloraxis:",P,"setting","as it is linked to incompatible colorscales."].join(" ")))):E[P]=[S,C,[D]])}}var G=H[A+"min"],z=H[A+"max"],X=s(G)&&s(z)&&G<z;M(N+A+"auto",!X)?M(N+A+"mid"):(M(N+A+"min"),M(N+A+"max"));var W,Z,ne=H.colorscale,te=I.colorscale;void 0!==ne&&(W=!l(ne)),void 0!==te&&(W=!l(te)),M(N+"autocolorscale",W),M(N+"colorscale"),M(N+"reversescale"),"marker.line."!==N&&(N&&k&&(Z=p(H)),M(N+"showscale",Z)&&(N&&I&&(L._template=I),c(H,L,b)))}},{"../../lib":232,"../../registry":318,"../colorbar/defaults":105,"../colorbar/has_colorbar":107,"./scales":117,"fast-isnumeric":17}],113:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("tinycolor2"),p=v("fast-isnumeric"),c=v("../../lib"),l=v("../color"),m=v("./scales").isValid,d=["showscale","autocolorscale","colorscale","reversescale","colorbar"],h=["min","max","mid","auto"];function u(N){var A,k,H,L=N._colorAx,I=L||N,D={};for(k=0;k<d.length;k++)D[H=d[k]]=I[H];if(L)for(A="c",k=0;k<h.length;k++)D[H=h[k]]=I["c"+H];else{var E;for(k=0;k<h.length;k++)((E="c"+(H=h[k]))in I||(E="z"+H)in I)&&(D[H]=I[E]);A=E.charAt(0)}return D._sync=function(P,S){var R=-1!==h.indexOf(P)?A+P:P;I[R]=I["_"+R]=S},D}function C(N){for(var A=u(N),k=A.min,H=A.max,L=A.reversescale?b(A.colorscale):A.colorscale,I=L.length,D=new Array(I),E=new Array(I),P=0;P<I;P++){var S=L[P];D[P]=k+S[0]*(H-k),E[P]=S[1]}return{domain:D,range:E}}function b(N){for(var A=N.length,k=new Array(A),H=A-1,L=0;H>=0;H--,L++){var I=N[H];k[L]=[1-I[0],I[1]]}return k}function M(N,A){A=A||{};for(var k=N.domain,H=N.range,L=H.length,I=new Array(L),D=0;D<L;D++){var E=g(H[D]).toRgb();I[D]=[E.r,E.g,E.b,E.a]}var P,S=s.scale.linear().domain(k).range(I).clamp(!0),R=A.noNumericCheck,G=A.returnArray;return(P=R&&G?S:R?function(z){return w(S(z))}:G?function(z){return p(z)?S(z):g(z).isValid()?z:l.defaultLine}:function(z){return p(z)?w(S(z)):g(z).isValid()?z:l.defaultLine}).domain=S.domain,P.range=function(){return H},P}function w(N){return g({r:N[0],g:N[1],b:N[2],a:N[3]}).toRgbString()}pe.exports={hasColorscale:function(N,A,k){var H=A?c.nestedProperty(N,A).get()||{}:N,L=H[k||"color"],I=!1;if(c.isArrayOrTypedArray(L))for(var D=0;D<L.length;D++)if(p(L[D])){I=!0;break}return c.isPlainObject(H)&&(I||!0===H.showscale||p(H.cmin)&&p(H.cmax)||m(H.colorscale)||c.isPlainObject(H.colorbar))},extractOpts:u,extractScale:C,flipScale:b,makeColorScaleFunc:M,makeColorScaleFuncFromTrace:function(N,A){return M(C(N),A)}}},{"../../lib":232,"../color":102,"./scales":117,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],114:[function(v,pe,J){"use strict";var s=v("./scales"),g=v("./helpers");pe.exports={moduleType:"component",name:"colorscale",attributes:v("./attributes"),layoutAttributes:v("./layout_attributes"),supplyLayoutDefaults:v("./layout_defaults"),handleDefaults:v("./defaults"),crossTraceDefaults:v("./cross_trace_defaults"),calc:v("./calc"),scales:s.scales,defaultScale:s.defaultScale,getScale:s.get,isValidScale:s.isValid,hasColorscale:g.hasColorscale,extractOpts:g.extractOpts,extractScale:g.extractScale,flipScale:g.flipScale,makeColorScaleFunc:g.makeColorScaleFunc,makeColorScaleFuncFromTrace:g.makeColorScaleFuncFromTrace}},{"./attributes":109,"./calc":110,"./cross_trace_defaults":111,"./defaults":112,"./helpers":113,"./layout_attributes":115,"./layout_defaults":116,"./scales":117}],115:[function(v,pe,J){"use strict";var s=v("../../lib/extend").extendFlat,g=v("./attributes"),p=v("./scales").scales;pe.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:p.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:p.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:p.RdBu,editType:"calc"}},coloraxis:s({_isSubplotObj:!0,editType:"calc"},g("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":226,"./attributes":109,"./scales":117}],116:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plot_api/plot_template"),p=v("./layout_attributes"),c=v("./defaults");pe.exports=function(l,m){function d(A,k){return s.coerce(l,m,p,A,k)}d("colorscale.sequential"),d("colorscale.sequentialminus"),d("colorscale.diverging");var h,u,C=m._colorAxes;function b(A,k){return s.coerce(h,u,p.coloraxis,A,k)}for(var M in C){var w=C[M];if(w[0])h=l[M]||{},(u=g.newContainer(m,M,"coloraxis"))._name=M,c(h,u,m,b,{prefix:"",cLetter:"c"});else{for(var N=0;N<w[2].length;N++)w[2][N]();delete m._colorAxes[M]}}}},{"../../lib":232,"../../plot_api/plot_template":268,"./defaults":112,"./layout_attributes":115}],117:[function(v,pe,J){"use strict";var s=v("tinycolor2"),g={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},p=g.RdBu;function c(l){var m=0;if(!Array.isArray(l)||l.length<2||!l[0]||!l[l.length-1]||0!=+l[0][0]||1!=+l[l.length-1][0])return!1;for(var d=0;d<l.length;d++){var h=l[d];if(2!==h.length||+h[0]<m||!s(h[1]).isValid())return!1;m=+h[0]}return!0}pe.exports={scales:g,defaultScale:p,get:function(l,m){if(m||(m=p),!l)return m;function d(){try{l=g[l]||JSON.parse(l)}catch{l=m}}return"string"==typeof l&&(d(),"string"==typeof l&&d()),c(l)?l:m},isValid:function(l){return void 0!==g[l]||c(l)}}},{tinycolor2:67}],118:[function(v,pe,J){"use strict";pe.exports=function(s,g,p,c,l){var m=(s-p)/(c-p),d=m+g/(c-p),h=(m+d)/2;return"left"===l||"bottom"===l?m:"center"===l||"middle"===l?h:"right"===l||"top"===l?d:m<2/3-h?m:d>4/3-h?d:h}},{}],119:[function(v,pe,J){"use strict";var s=v("../../lib"),g=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];pe.exports=function(p,c,l,m){return p="left"===l?0:"center"===l?1:"right"===l?2:s.constrain(Math.floor(3*p),0,2),c="bottom"===m?0:"middle"===m?1:"top"===m?2:s.constrain(Math.floor(3*c),0,2),g[c][p]}},{"../../lib":232}],120:[function(v,pe,J){"use strict";J.selectMode=function(s){return"lasso"===s||"select"===s},J.drawMode=function(s){return"drawclosedpath"===s||"drawopenpath"===s||"drawline"===s||"drawrect"===s||"drawcircle"===s},J.openMode=function(s){return"drawline"===s||"drawopenpath"===s},J.rectMode=function(s){return"select"===s||"drawline"===s||"drawrect"===s||"drawcircle"===s},J.freeMode=function(s){return"lasso"===s||"drawclosedpath"===s||"drawopenpath"===s},J.selectingOrDrawing=function(s){return J.freeMode(s)||J.rectMode(s)}},{}],121:[function(v,pe,J){"use strict";var s=v("mouse-event-offset"),g=v("has-hover"),p=v("has-passive-events"),c=v("../../lib").removeElement,l=v("../../plots/cartesian/constants"),m=pe.exports={};m.align=v("./align"),m.getCursor=v("./cursor");var d=v("./unhover");function h(){var C=document.createElement("div");C.className="dragcover";var b=C.style;return b.position="fixed",b.left=0,b.right=0,b.top=0,b.bottom=0,b.zIndex=999999999,b.background="none",document.body.appendChild(C),C}function u(C){return s(C.changedTouches?C.changedTouches[0]:C,document.body)}m.unhover=d.wrapped,m.unhoverRaw=d.raw,m.init=function(C){var b,M,w,N,A,k,H,L,I=C.gd,D=1,E=I._context.doubleClickDelay,P=C.element;I._mouseDownTime||(I._mouseDownTime=0),P.style.pointerEvents="all",P.onmousedown=R,p?(P._ontouchstart&&P.removeEventListener("touchstart",P._ontouchstart),P._ontouchstart=R,P.addEventListener("touchstart",R,{passive:!1})):P.ontouchstart=R;var S=C.clampFn||function(X,W,Z){return Math.abs(X)<Z&&(X=0),Math.abs(W)<Z&&(W=0),[X,W]};function R(X){I._dragged=!1,I._dragging=!0;var W=u(X);b=W[0],M=W[1],H=X.target,k=X,L=2===X.buttons||X.ctrlKey,void 0===X.clientX&&void 0===X.clientY&&(X.clientX=b,X.clientY=M),(w=(new Date).getTime())-I._mouseDownTime<E?D+=1:(D=1,I._mouseDownTime=w),C.prepFn&&C.prepFn(X,b,M),g&&!L?(A=h()).style.cursor=window.getComputedStyle(P).cursor:g||(A=document,N=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(P).cursor),document.addEventListener("mouseup",z),document.addEventListener("touchend",z),!1!==C.dragmode&&(X.preventDefault(),document.addEventListener("mousemove",G),document.addEventListener("touchmove",G,{passive:!1}))}function G(X){X.preventDefault();var W=u(X),ne=S(W[0]-b,W[1]-M,C.minDrag||l.MINDRAG),te=ne[0],oe=ne[1];(te||oe)&&(I._dragged=!0,m.unhover(I,X)),I._dragged&&C.moveFn&&!L&&(I._dragdata={element:P,dx:te,dy:oe},C.moveFn(te,oe))}function z(X){if(delete I._dragdata,!1!==C.dragmode&&(X.preventDefault(),document.removeEventListener("mousemove",G),document.removeEventListener("touchmove",G)),document.removeEventListener("mouseup",z),document.removeEventListener("touchend",z),g?c(A):N&&(A.documentElement.style.cursor=N,N=null),I._dragging){if(I._dragging=!1,(new Date).getTime()-I._mouseDownTime>E&&(D=Math.max(D-1,1)),I._dragged)C.doneFn&&C.doneFn();else if(C.clickFn&&C.clickFn(D,k),!L){var W;try{W=new MouseEvent("click",X)}catch{var Z=u(X);(W=document.createEvent("MouseEvents")).initMouseEvent("click",X.bubbles,X.cancelable,X.view,X.detail,X.screenX,X.screenY,Z[0],Z[1],X.ctrlKey,X.altKey,X.shiftKey,X.metaKey,X.button,X.relatedTarget)}H.dispatchEvent(W)}I._dragging=!1,I._dragged=!1}else I._dragged=!1}},m.coverSlip=h},{"../../lib":232,"../../plots/cartesian/constants":286,"./align":118,"./cursor":119,"./unhover":122,"has-hover":48,"has-passive-events":49,"mouse-event-offset":53}],122:[function(v,pe,J){"use strict";var s=v("../../lib/events"),g=v("../../lib/throttle"),p=v("../../lib/dom").getGraphDiv,c=v("../fx/constants"),l=pe.exports={};l.wrapped=function(m,d,h){(m=p(m))._fullLayout&&g.clear(m._fullLayout._uid+c.HOVERID),l.raw(m,d,h)},l.raw=function(m,d){var h=m._fullLayout,u=m._hoverdata;d||(d={}),d.target&&!m._dragged&&!1===s.triggerHandler(m,"plotly_beforehover",d)||(h._hoverlayer.selectAll("g").remove(),h._hoverlayer.selectAll("line").remove(),h._hoverlayer.selectAll("circle").remove(),m._hoverdata=void 0,d.target&&u&&m.emit("plotly_unhover",{event:d,points:u}))}},{"../../lib/dom":224,"../../lib/events":225,"../../lib/throttle":256,"../fx/constants":136}],123:[function(v,pe,J){"use strict";J.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},J.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},{}],124:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../lib"),p=g.numberFormat,c=v("fast-isnumeric"),l=v("tinycolor2"),m=v("../../registry"),d=v("../color"),h=v("../colorscale"),u=g.strTranslate,C=v("../../lib/svg_text_utils"),b=v("../../constants/xmlns_namespaces"),M=v("../../constants/alignment").LINE_SPACING,w=v("../../constants/interactions").DESELECTDIM,N=v("../../traces/scatter/subtypes"),A=v("../../traces/scatter/make_bubble_size_func"),k=v("../../components/fx/helpers").appendArrayPointValue,H=pe.exports={};function L(j,$,se){var ee=$.fillpattern,F=ee&&H.getPatternAttr(ee.shape,0,"");if(F){var O=H.getPatternAttr(ee.bgcolor,0,null),Y=H.getPatternAttr(ee.fgcolor,0,null),B=ee.fgopacity,ae=H.getPatternAttr(ee.size,0,8),ue=H.getPatternAttr(ee.solidity,0,.3);H.pattern(j,"point",se,$.uid,F,ae,ue,void 0,ee.fillmode,O,Y,B)}else $.fillcolor&&j.call(d.fill,$.fillcolor)}H.font=function(j,$,se,ee){g.isPlainObject($)&&(ee=$.color,se=$.size,$=$.family),$&&j.style("font-family",$),se+1&&j.style("font-size",se+"px"),ee&&j.call(d.fill,ee)},H.setPosition=function(j,$,se){j.attr("x",$).attr("y",se)},H.setSize=function(j,$,se){j.attr("width",$).attr("height",se)},H.setRect=function(j,$,se,ee,F){j.call(H.setPosition,$,se).call(H.setSize,ee,F)},H.translatePoint=function(j,$,se,ee){var F=se.c2p(j.x),O=ee.c2p(j.y);return!!(c(F)&&c(O)&&$.node())&&("text"===$.node().nodeName?$.attr("x",F).attr("y",O):$.attr("transform",u(F,O)),!0)},H.translatePoints=function(j,$,se){j.each(function(ee){var F=s.select(this);H.translatePoint(ee,F,$,se)})},H.hideOutsideRangePoint=function(j,$,se,ee,F,O){$.attr("display",se.isPtWithinRange(j,F)&&ee.isPtWithinRange(j,O)?null:"none")},H.hideOutsideRangePoints=function(j,$){if($._hasClipOnAxisFalse){var se=$.xaxis,ee=$.yaxis;j.each(function(F){var O=F[0].trace,Y=O.xcalendar,B=O.ycalendar,ae=m.traceIs(O,"bar-like")?".bartext":".point,.textpoint";j.selectAll(ae).each(function(ue){H.hideOutsideRangePoint(ue,s.select(this),se,ee,Y,B)})})}},H.crispRound=function(j,$,se){return $&&c($)?j._context.staticPlot?$:$<1?1:Math.round($):se||0},H.singleLineStyle=function(j,$,se,ee,F){$.style("fill","none");var O=(((j||[])[0]||{}).trace||{}).line||{},Y=se||O.width||0,B=F||O.dash||"";d.stroke($,ee||O.color),H.dashLine($,B,Y)},H.lineGroupStyle=function(j,$,se,ee){j.style("fill","none").each(function(F){var O=(((F||[])[0]||{}).trace||{}).line||{},Y=$||O.width||0,B=ee||O.dash||"";s.select(this).call(d.stroke,se||O.color).call(H.dashLine,B,Y)})},H.dashLine=function(j,$,se){$=H.dashStyle($,se=+se||0),j.style({"stroke-dasharray":$,"stroke-width":se+"px"})},H.dashStyle=function(j,$){$=+$||1;var se=Math.max($,3);return"solid"===j?j="":"dot"===j?j=se+"px,"+se+"px":"dash"===j?j=3*se+"px,"+3*se+"px":"longdash"===j?j=5*se+"px,"+5*se+"px":"dashdot"===j?j=3*se+"px,"+se+"px,"+se+"px,"+se+"px":"longdashdot"===j&&(j=5*se+"px,"+2*se+"px,"+se+"px,"+2*se+"px"),j},H.singleFillStyle=function(j,$){var se=s.select(j.node());L(j,((se.data()[0]||[])[0]||{}).trace||{},$)},H.fillGroupStyle=function(j,$){j.style("stroke-width",0).each(function(se){var ee=s.select(this);se[0].trace&&L(ee,se[0].trace,$)})};var I=v("./symbol_defs");H.symbolNames=[],H.symbolFuncs=[],H.symbolNeedLines={},H.symbolNoDot={},H.symbolNoFill={},H.symbolList=[],Object.keys(I).forEach(function(j){var $=I[j],se=$.n;H.symbolList.push(se,String(se),j,se+100,String(se+100),j+"-open"),H.symbolNames[se]=j,H.symbolFuncs[se]=$.f,$.needLine&&(H.symbolNeedLines[se]=!0),$.noDot?H.symbolNoDot[se]=!0:H.symbolList.push(se+200,String(se+200),j+"-dot",se+300,String(se+300),j+"-open-dot"),$.noFill&&(H.symbolNoFill[se]=!0)});var D=H.symbolNames.length;function E(j,$){return H.symbolFuncs[j%100]($)+(j>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}H.symbolNumber=function(j){if(c(j))j=+j;else if("string"==typeof j){var $=0;j.indexOf("-open")>0&&($=100,j=j.replace("-open","")),j.indexOf("-dot")>0&&($+=200,j=j.replace("-dot","")),(j=H.symbolNames.indexOf(j))>=0&&(j+=$)}return j%100>=D||j>=400?0:Math.floor(Math.max(j,0))};var P={x1:1,x2:0,y1:0,y2:0},S={x1:0,x2:0,y1:1,y2:0},R=p("~f"),G={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:P},horizontalreversed:{node:"linearGradient",attrs:P,reversed:!0},vertical:{node:"linearGradient",attrs:S},verticalreversed:{node:"linearGradient",attrs:S,reversed:!0}};H.gradient=function(j,$,se,ee,F,O){for(var Y=F.length,B=G[ee],ae=new Array(Y),ue=0;ue<Y;ue++)B.reversed?ae[Y-1-ue]=[R(100*(1-F[ue][0])),F[ue][1]]:ae[ue]=[R(100*F[ue][0]),F[ue][1]];var fe=$._fullLayout,he="g"+fe._uid+"-"+se,xe=fe._defs.select(".gradients").selectAll("#"+he).data([ee+ae.join(";")],g.identity);xe.exit().remove(),xe.enter().append(B.node).each(function(){var be=s.select(this);B.attrs&&be.attr(B.attrs),be.attr("id",he);var ke=be.selectAll("stop").data(ae);ke.exit().remove(),ke.enter().append("stop"),ke.each(function(Pe){var Re=l(Pe[1]);s.select(this).attr({offset:Pe[0]+"%","stop-color":d.tinyRGB(Re),"stop-opacity":Re.getAlpha()})})}),j.style(O,ie(he,$)).style(O+"-opacity",null),j.classed("gradient_filled",!0)},H.pattern=function(j,$,se,ee,F,O,Y,B,ae,ue,fe,he){var xe="legend"===$;B&&("overlay"===ae?fe=d.contrast(ue=B):(ue=void 0,fe=B));var be,ke,Pe,Re,Ue,tt,Ke,$e,ve,Te=se._fullLayout,qe="p"+Te._uid+"-"+ee,Oe={};switch(F){case"/":be=O*Math.sqrt(2),ke=O*Math.sqrt(2),tt="path",Oe={d:Pe="M-"+be/4+","+ke/4+"l"+be/2+",-"+ke/2+"M0,"+ke+"L"+be+",0M"+be/4*3+","+ke/4*5+"l"+be/2+",-"+ke/2,opacity:he,stroke:fe,"stroke-width":(Re=Y*O)+"px"};break;case"\\":be=O*Math.sqrt(2),ke=O*Math.sqrt(2),tt="path",Oe={d:Pe="M"+be/4*3+",-"+ke/4+"l"+be/2+","+ke/2+"M0,0L"+be+","+ke+"M-"+be/4+","+ke/4*3+"l"+be/2+","+ke/2,opacity:he,stroke:fe,"stroke-width":(Re=Y*O)+"px"};break;case"x":be=O*Math.sqrt(2),ke=O*Math.sqrt(2),Pe="M-"+be/4+","+ke/4+"l"+be/2+",-"+ke/2+"M0,"+ke+"L"+be+",0M"+be/4*3+","+ke/4*5+"l"+be/2+",-"+ke/2+"M"+be/4*3+",-"+ke/4+"l"+be/2+","+ke/2+"M0,0L"+be+","+ke+"M-"+be/4+","+ke/4*3+"l"+be/2+","+ke/2,Re=O-O*Math.sqrt(1-Y),tt="path",Oe={d:Pe,opacity:he,stroke:fe,"stroke-width":Re+"px"};break;case"|":tt="path",tt="path",Oe={d:Pe="M"+(be=O)/2+",0L"+be/2+","+(ke=O),opacity:he,stroke:fe,"stroke-width":(Re=Y*O)+"px"};break;case"-":tt="path",tt="path",Oe={d:Pe="M0,"+(ke=O)/2+"L"+(be=O)+","+ke/2,opacity:he,stroke:fe,"stroke-width":(Re=Y*O)+"px"};break;case"+":tt="path",Pe="M"+(be=O)/2+",0L"+be/2+","+(ke=O)+"M0,"+ke/2+"L"+be+","+ke/2,Re=O-O*Math.sqrt(1-Y),tt="path",Oe={d:Pe,opacity:he,stroke:fe,"stroke-width":Re+"px"};break;case".":be=O,ke=O,Y<Math.PI/4?Ue=Math.sqrt(Y*O*O/Math.PI):(Ke=Y,$e=Math.PI/4,1,Ue=(ve=O/2)+(O/Math.sqrt(2)-ve)*(Ke-$e)/(1-$e)),tt="circle",Oe={cx:be/2,cy:ke/2,r:Ue,opacity:he,fill:fe}}var Fe=[F||"noSh",ue||"noBg",fe||"noFg",O,Y].join(";"),Qe=Te._defs.select(".patterns").selectAll("#"+qe).data([Fe],g.identity);Qe.exit().remove(),Qe.enter().append("pattern").each(function(){var nt=s.select(this);if(nt.attr({id:qe,width:be+"px",height:ke+"px",patternUnits:"userSpaceOnUse",patternTransform:xe?"scale(0.8)":""}),ue){var Ye=nt.selectAll("rect").data([0]);Ye.exit().remove(),Ye.enter().append("rect").attr({width:be+"px",height:ke+"px",fill:ue})}var rt=nt.selectAll(tt).data([0]);rt.exit().remove(),rt.enter().append(tt).attr(Oe)}),j.style("fill",ie(qe,se)).style("fill-opacity",null),j.classed("pattern_filled",!0)},H.initGradients=function(j){g.ensureSingle(j._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),s.select(j).selectAll(".gradient_filled").classed("gradient_filled",!1)},H.initPatterns=function(j){g.ensureSingle(j._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),s.select(j).selectAll(".pattern_filled").classed("pattern_filled",!1)},H.getPatternAttr=function(j,$,se){return j&&g.isArrayOrTypedArray(j)?$<j.length?j[$]:se:j},H.pointStyle=function(j,$,se){if(j.size()){var ee=H.makePointStyleFns($);j.each(function(F){H.singlePointStyle(F,s.select(this),$,ee,se)})}},H.singlePointStyle=function(j,$,se,ee,F){var O=se.marker,Y=O.line;if($.style("opacity",ee.selectedOpacityFn?ee.selectedOpacityFn(j):void 0===j.mo?O.opacity:j.mo),ee.ms2mrc){var B;B="various"===j.ms||"various"===O.size?3:ee.ms2mrc(j.ms),j.mrc=B,ee.selectedSizeFn&&(B=j.mrc=ee.selectedSizeFn(j));var ae=H.symbolNumber(j.mx||O.symbol)||0;j.om=ae%200>=100,$.attr("d",E(ae,B))}var ue,fe,he,xe=!1;if(j.so?(he=Y.outlierwidth,fe=Y.outliercolor,ue=O.outliercolor):(he=(j.mlw+1||(Y||{}).width+1||(j.trace?(j.trace.marker.line||{}).width:0)+1)-1||0,fe="mlc"in j?j.mlcc=ee.lineScale(j.mlc):g.isArrayOrTypedArray(Y.color)?d.defaultLine:Y.color,g.isArrayOrTypedArray(O.color)&&(ue=d.defaultLine,xe=!0),ue="mc"in j?j.mcc=ee.markerScale(j.mc):O.color||"rgba(0,0,0,0)",ee.selectedColorFn&&(ue=ee.selectedColorFn(j))),j.om)$.call(d.stroke,ue).style({"stroke-width":(he||1)+"px",fill:"none"});else{$.style("stroke-width",(j.isBlank?0:he)+"px");var ke=O.gradient,Pe=j.mgt;Pe?xe=!0:Pe=ke&&ke.type,g.isArrayOrTypedArray(Pe)&&(G[Pe=Pe[0]]||(Pe=0));var Re=O.pattern,Ue=Re&&H.getPatternAttr(Re.shape,j.i,"");if(Pe&&"none"!==Pe){var tt=j.mgc;tt?xe=!0:tt=ke.color;var Ke=se.uid;xe&&(Ke+="-"+j.i),H.gradient($,F,Ke,Pe,[[0,tt],[1,ue]],"fill")}else if(Ue){var $e=H.getPatternAttr(Re.bgcolor,j.i,null),Me=H.getPatternAttr(Re.fgcolor,j.i,null),ve=Re.fgopacity,Se=H.getPatternAttr(Re.size,j.i,8),Te=H.getPatternAttr(Re.solidity,j.i,.3),qe=j.mcc||g.isArrayOrTypedArray(Re.shape)||g.isArrayOrTypedArray(Re.bgcolor)||g.isArrayOrTypedArray(Re.size)||g.isArrayOrTypedArray(Re.solidity),Oe=se.uid;qe&&(Oe+="-"+j.i),H.pattern($,"point",F,Oe,Ue,Se,Te,j.mcc,Re.fillmode,$e,Me,ve)}else d.fill($,ue);he&&d.stroke($,fe)}},H.makePointStyleFns=function(j){var $={},se=j.marker;return $.markerScale=H.tryColorscale(se,""),$.lineScale=H.tryColorscale(se,"line"),m.traceIs(j,"symbols")&&($.ms2mrc=N.isBubble(j)?A(j):function(){return(se.size||6)/2}),j.selectedpoints&&g.extendFlat($,H.makeSelectedPointStyleFns(j)),$},H.makeSelectedPointStyleFns=function(j){var $={},F=j.marker||{},O=(j.selected||{}).marker||{},Y=(j.unselected||{}).marker||{},ae=O.opacity,ue=Y.opacity,fe=void 0!==ae,he=void 0!==ue;(g.isArrayOrTypedArray(F.opacity)||fe||he)&&($.selectedOpacityFn=function($e){var Me=void 0===$e.mo?F.opacity:$e.mo;return $e.selected?fe?ae:Me:he?ue:w*Me});var xe=F.color,be=O.color,ke=Y.color;(be||ke)&&($.selectedColorFn=function($e){var Me=$e.mcc||xe;return $e.selected?be||Me:ke||Me});var Pe=F.size,Re=O.size,Ue=Y.size,tt=void 0!==Re,Ke=void 0!==Ue;return m.traceIs(j,"symbols")&&(tt||Ke)&&($.selectedSizeFn=function($e){var Me=$e.mrc||Pe/2;return $e.selected?tt?Re/2:Me:Ke?Ue/2:Me}),$},H.makeSelectedTextStyleFns=function(j){var $={},B=(j.textfont||{}).color,ae=((j.selected||{}).textfont||{}).color,ue=((j.unselected||{}).textfont||{}).color;return $.selectedTextColorFn=function(fe){var he=fe.tc||B;return fe.selected?ae||he:ue||(ae?he:d.addOpacity(he,w))},$},H.selectedPointStyle=function(j,$){if(j.size()&&$.selectedpoints){var se=H.makeSelectedPointStyleFns($),ee=$.marker||{},F=[];se.selectedOpacityFn&&F.push(function(O,Y){O.style("opacity",se.selectedOpacityFn(Y))}),se.selectedColorFn&&F.push(function(O,Y){d.fill(O,se.selectedColorFn(Y))}),se.selectedSizeFn&&F.push(function(O,Y){var B=Y.mx||ee.symbol||0,ae=se.selectedSizeFn(Y);O.attr("d",E(H.symbolNumber(B),ae)),Y.mrc2=ae}),F.length&&j.each(function(O){for(var Y=s.select(this),B=0;B<F.length;B++)F[B](Y,O)})}},H.tryColorscale=function(j,$){var se=$?g.nestedProperty(j,$).get():j;return se&&(se.colorscale||se._colorAx)&&g.isArrayOrTypedArray(se.color)?h.makeColorScaleFuncFromTrace(se):g.identity};var z={start:1,end:-1,middle:0,bottom:1,top:-1};function X(j,$,se,ee,F){var O=s.select(j.node().parentNode),Y=-1!==$.indexOf("top")?"top":-1!==$.indexOf("bottom")?"bottom":"middle",B=-1!==$.indexOf("left")?"end":-1!==$.indexOf("right")?"start":"middle",ae=ee?ee/.8+1:0,ue=(C.lineCount(j)-1)*M+1,fe=z[B]*ae,he=.75*se+z[Y]*ae+(z[Y]-1)*ue*se/2;j.attr("text-anchor",B),F||O.attr("transform",u(fe,he))}function W(j,$){var se=j.ts||$.textfont.size;return c(se)&&se>0?se:0}function Z(j,$,se,ee){var F=j[0]-$[0],O=j[1]-$[1],Y=se[0]-$[0],B=se[1]-$[1],ae=Math.pow(F*F+O*O,.25),ue=Math.pow(Y*Y+B*B,.25),fe=(ue*ue*F-ae*ae*Y)*ee,he=(ue*ue*O-ae*ae*B)*ee,xe=3*ue*(ae+ue),be=3*ae*(ae+ue);return[[s.round($[0]+(xe&&fe/xe),2),s.round($[1]+(xe&&he/xe),2)],[s.round($[0]-(be&&fe/be),2),s.round($[1]-(be&&he/be),2)]]}H.textPointStyle=function(j,$,se){if(j.size()){var ee;if($.selectedpoints){var F=H.makeSelectedTextStyleFns($);ee=F.selectedTextColorFn}var O=$.texttemplate,Y=se._fullLayout;j.each(function(B){var ae=s.select(this),ue=O?g.extractOption(B,$,"txt","texttemplate"):g.extractOption(B,$,"tx","text");if(ue||0===ue){if(O){var fe=$._module.formatLabels,he=fe?fe(B,$,Y):{},xe={};k(xe,$,B.i),ue=g.texttemplateString(ue,he,Y._d3locale,xe,B,$._meta||{})}var ke=B.tp||$.textposition,Pe=W(B,$),Re=ee?ee(B):B.tc||$.textfont.color;ae.call(H.font,B.tf||$.textfont.family,Pe,Re).text(ue).call(C.convertToTspans,se).call(X,ke,Pe,B.mrc)}else ae.remove()})}},H.selectedTextStyle=function(j,$){if(j.size()&&$.selectedpoints){var se=H.makeSelectedTextStyleFns($);j.each(function(ee){var F=s.select(this),O=se.selectedTextColorFn(ee),Y=ee.tp||$.textposition,B=W(ee,$);d.fill(F,O);var ae=m.traceIs($,"bar-like");X(F,Y,B,ee.mrc2||ee.mrc,ae)})}},H.smoothopen=function(j,$){if(j.length<3)return"M"+j.join("L");var se,ee="M"+j[0],F=[];for(se=1;se<j.length-1;se++)F.push(Z(j[se-1],j[se],j[se+1],$));for(ee+="Q"+F[0][0]+" "+j[1],se=2;se<j.length-1;se++)ee+="C"+F[se-2][1]+" "+F[se-1][0]+" "+j[se];return ee+"Q"+F[j.length-3][1]+" "+j[j.length-1]},H.smoothclosed=function(j,$){if(j.length<3)return"M"+j.join("L")+"Z";var se,ee="M"+j[0],F=j.length-1,O=[Z(j[F],j[0],j[1],$)];for(se=1;se<F;se++)O.push(Z(j[se-1],j[se],j[se+1],$));for(O.push(Z(j[F-1],j[F],j[0],$)),se=1;se<=F;se++)ee+="C"+O[se-1][1]+" "+O[se][0]+" "+j[se];return ee+"C"+O[F][1]+" "+O[0][0]+" "+j[0]+"Z"};var ne={hv:function(j,$){return"H"+s.round($[0],2)+"V"+s.round($[1],2)},vh:function(j,$){return"V"+s.round($[1],2)+"H"+s.round($[0],2)},hvh:function(j,$){return"H"+s.round((j[0]+$[0])/2,2)+"V"+s.round($[1],2)+"H"+s.round($[0],2)},vhv:function(j,$){return"V"+s.round((j[1]+$[1])/2,2)+"H"+s.round($[0],2)+"V"+s.round($[1],2)}},te=function(j,$){return"L"+s.round($[0],2)+","+s.round($[1],2)};H.steps=function(j){var $=ne[j]||te;return function(se){for(var ee="M"+s.round(se[0][0],2)+","+s.round(se[0][1],2),F=1;F<se.length;F++)ee+=$(se[F-1],se[F]);return ee}},H.makeTester=function(){var j=g.ensureSingleById(s.select("body"),"svg","js-plotly-tester",function(se){se.attr(b.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),$=g.ensureSingle(j,"path","js-reference-point",function(se){se.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});H.tester=j,H.testref=$},H.savedBBoxes={};var oe=0;function Ce(j){var $=j.getAttribute("data-unformatted");if(null!==$)return $+j.getAttribute("data-math")+j.getAttribute("text-anchor")+j.getAttribute("style")}function ie(j,$){if(!j)return null;var se=$._context,ee=se._exportedPlot?"":se._baseUrl||"";return ee?"url('"+ee+"#"+j+"')":"url(#"+j+")"}H.bBox=function(j,$,se){var ee,F,O;if(se||(se=Ce(j)),se){if(ee=H.savedBBoxes[se])return g.extendFlat({},ee)}else if(1===j.childNodes.length){var Y=j.childNodes[0];if(se=Ce(Y)){var B=+Y.getAttribute("x")||0,ae=+Y.getAttribute("y")||0,ue=Y.getAttribute("transform");if(!ue){var fe=H.bBox(Y,!1,se);return B&&(fe.left+=B,fe.right+=B),ae&&(fe.top+=ae,fe.bottom+=ae),fe}if(ee=H.savedBBoxes[se+="~"+B+"~"+ae+"~"+ue])return g.extendFlat({},ee)}}$?F=j:(O=H.tester.node(),F=j.cloneNode(!0),O.appendChild(F)),s.select(F).attr("transform",null).call(C.positionText,0,0);var he=F.getBoundingClientRect(),xe=H.testref.node().getBoundingClientRect();$||O.removeChild(F);var be={height:he.height,width:he.width,left:he.left-xe.left,top:he.top-xe.top,right:he.right-xe.left,bottom:he.bottom-xe.top};return oe>=1e4&&(H.savedBBoxes={},oe=0),se&&(H.savedBBoxes[se]=be),oe++,g.extendFlat({},be)},H.setClipUrl=function(j,$,se){j.attr("clip-path",ie($,se))},H.getTranslate=function(j){var $=(j[j.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(se,ee,F){return[ee,F].join(" ")}).split(" ");return{x:+$[0]||0,y:+$[1]||0}},H.setTranslate=function(j,$,se){var F=j.attr?"attr":"setAttribute",O=j[j.attr?"attr":"getAttribute"]("transform")||"";return $=$||0,se=se||0,O=O.replace(/(\btranslate\(.*?\);?)/,"").trim(),O=(O+=u($,se)).trim(),j[F]("transform",O),O},H.getScale=function(j){var $=(j[j.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(se,ee,F){return[ee,F].join(" ")}).split(" ");return{x:+$[0]||1,y:+$[1]||1}},H.setScale=function(j,$,se){var F=j.attr?"attr":"setAttribute",O=j[j.attr?"attr":"getAttribute"]("transform")||"";return $=$||1,se=se||1,O=O.replace(/(\bscale\(.*?\);?)/,"").trim(),O=(O+="scale("+$+","+se+")").trim(),j[F]("transform",O),O};var Q=/\s*sc.*/;H.setPointGroupScale=function(j,$,se){if($=$||1,se=se||1,j){var ee=1===$&&1===se?"":"scale("+$+","+se+")";j.each(function(){var F=(this.getAttribute("transform")||"").replace(Q,"");F=(F+=ee).trim(),this.setAttribute("transform",F)})}};var le=/translate\([^)]*\)\s*$/;H.setTextPointsScale=function(j,$,se){j&&j.each(function(){var ee,F=s.select(this),O=F.select("text");if(O.node()){var Y=parseFloat(O.attr("x")||0),B=parseFloat(O.attr("y")||0),ae=(F.attr("transform")||"").match(le);ee=1===$&&1===se?[]:[u(Y,B),"scale("+$+","+se+")",u(-Y,-B)],ae&&ee.push(ae),F.attr("transform",ee.join(""))}})}},{"../../components/fx/helpers":138,"../../constants/alignment":207,"../../constants/interactions":211,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../lib/svg_text_utils":255,"../../registry":318,"../../traces/scatter/make_bubble_size_func":375,"../../traces/scatter/subtypes":383,"../color":102,"../colorscale":114,"./symbol_defs":125,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],125:[function(v,pe,J){"use strict";var s=v("@plotly/d3");pe.exports={circle:{n:0,f:function(g){var p=s.round(g,2);return"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z"}},square:{n:1,f:function(g){var p=s.round(g,2);return"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z"}},diamond:{n:2,f:function(g){var p=s.round(1.3*g,2);return"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"Z"}},cross:{n:3,f:function(g){var p=s.round(.4*g,2),c=s.round(1.2*g,2);return"M"+c+","+p+"H"+p+"V"+c+"H-"+p+"V"+p+"H-"+c+"V-"+p+"H-"+p+"V-"+c+"H"+p+"V-"+p+"H"+c+"Z"}},x:{n:4,f:function(g){var p=s.round(.8*g/Math.sqrt(2),2),c="l"+p+","+p,l="l"+p+",-"+p,m="l-"+p+",-"+p,d="l-"+p+","+p;return"M0,"+p+c+l+m+l+m+d+m+d+c+d+c+"Z"}},"triangle-up":{n:5,f:function(g){var p=s.round(2*g/Math.sqrt(3),2);return"M-"+p+","+s.round(g/2,2)+"H"+p+"L0,-"+s.round(g,2)+"Z"}},"triangle-down":{n:6,f:function(g){var p=s.round(2*g/Math.sqrt(3),2);return"M-"+p+",-"+s.round(g/2,2)+"H"+p+"L0,"+s.round(g,2)+"Z"}},"triangle-left":{n:7,f:function(g){var p=s.round(2*g/Math.sqrt(3),2);return"M"+s.round(g/2,2)+",-"+p+"V"+p+"L-"+s.round(g,2)+",0Z"}},"triangle-right":{n:8,f:function(g){var p=s.round(2*g/Math.sqrt(3),2);return"M-"+s.round(g/2,2)+",-"+p+"V"+p+"L"+s.round(g,2)+",0Z"}},"triangle-ne":{n:9,f:function(g){var p=s.round(.6*g,2),c=s.round(1.2*g,2);return"M-"+c+",-"+p+"H"+p+"V"+c+"Z"}},"triangle-se":{n:10,f:function(g){var p=s.round(.6*g,2),c=s.round(1.2*g,2);return"M"+p+",-"+c+"V"+p+"H-"+c+"Z"}},"triangle-sw":{n:11,f:function(g){var p=s.round(.6*g,2),c=s.round(1.2*g,2);return"M"+c+","+p+"H-"+p+"V-"+c+"Z"}},"triangle-nw":{n:12,f:function(g){var p=s.round(.6*g,2),c=s.round(1.2*g,2);return"M-"+p+","+c+"V-"+p+"H"+c+"Z"}},pentagon:{n:13,f:function(g){var p=s.round(.951*g,2),c=s.round(.588*g,2),l=s.round(-g,2),m=s.round(-.309*g,2);return"M"+p+","+m+"L"+c+","+s.round(.809*g,2)+"H-"+c+"L-"+p+","+m+"L0,"+l+"Z"}},hexagon:{n:14,f:function(g){var p=s.round(g,2),c=s.round(g/2,2),l=s.round(g*Math.sqrt(3)/2,2);return"M"+l+",-"+c+"V"+c+"L0,"+p+"L-"+l+","+c+"V-"+c+"L0,-"+p+"Z"}},hexagon2:{n:15,f:function(g){var p=s.round(g,2),c=s.round(g/2,2),l=s.round(g*Math.sqrt(3)/2,2);return"M-"+c+","+l+"H"+c+"L"+p+",0L"+c+",-"+l+"H-"+c+"L-"+p+",0Z"}},octagon:{n:16,f:function(g){var p=s.round(.924*g,2),c=s.round(.383*g,2);return"M-"+c+",-"+p+"H"+c+"L"+p+",-"+c+"V"+c+"L"+c+","+p+"H-"+c+"L-"+p+","+c+"V-"+c+"Z"}},star:{n:17,f:function(g){var p=1.4*g,c=s.round(.225*p,2),l=s.round(.951*p,2),m=s.round(.363*p,2),d=s.round(.588*p,2),h=s.round(-p,2),u=s.round(-.309*p,2),C=s.round(.118*p,2),b=s.round(.809*p,2);return"M"+c+","+u+"H"+l+"L"+m+","+C+"L"+d+","+b+"L0,"+s.round(.382*p,2)+"L-"+d+","+b+"L-"+m+","+C+"L-"+l+","+u+"H-"+c+"L0,"+h+"Z"}},hexagram:{n:18,f:function(g){var p=s.round(.66*g,2),c=s.round(.38*g,2),l=s.round(.76*g,2);return"M-"+l+",0l-"+c+",-"+p+"h"+l+"l"+c+",-"+p+"l"+c+","+p+"h"+l+"l-"+c+","+p+"l"+c+","+p+"h-"+l+"l-"+c+","+p+"l-"+c+",-"+p+"h-"+l+"Z"}},"star-triangle-up":{n:19,f:function(g){var p=s.round(g*Math.sqrt(3)*.8,2),c=s.round(.8*g,2),l=s.round(1.6*g,2),m=s.round(4*g,2),d="A "+m+","+m+" 0 0 1 ";return"M-"+p+","+c+d+p+","+c+d+"0,-"+l+d+"-"+p+","+c+"Z"}},"star-triangle-down":{n:20,f:function(g){var p=s.round(g*Math.sqrt(3)*.8,2),c=s.round(.8*g,2),l=s.round(1.6*g,2),m=s.round(4*g,2),d="A "+m+","+m+" 0 0 1 ";return"M"+p+",-"+c+d+"-"+p+",-"+c+d+"0,"+l+d+p+",-"+c+"Z"}},"star-square":{n:21,f:function(g){var p=s.round(1.1*g,2),c=s.round(2*g,2),l="A "+c+","+c+" 0 0 1 ";return"M-"+p+",-"+p+l+"-"+p+","+p+l+p+","+p+l+p+",-"+p+l+"-"+p+",-"+p+"Z"}},"star-diamond":{n:22,f:function(g){var p=s.round(1.4*g,2),c=s.round(1.9*g,2),l="A "+c+","+c+" 0 0 1 ";return"M-"+p+",0"+l+"0,"+p+l+p+",0"+l+"0,-"+p+l+"-"+p+",0Z"}},"diamond-tall":{n:23,f:function(g){var p=s.round(.7*g,2),c=s.round(1.4*g,2);return"M0,"+c+"L"+p+",0L0,-"+c+"L-"+p+",0Z"}},"diamond-wide":{n:24,f:function(g){var p=s.round(1.4*g,2),c=s.round(.7*g,2);return"M0,"+c+"L"+p+",0L0,-"+c+"L-"+p+",0Z"}},hourglass:{n:25,f:function(g){var p=s.round(g,2);return"M"+p+","+p+"H-"+p+"L"+p+",-"+p+"H-"+p+"Z"},noDot:!0},bowtie:{n:26,f:function(g){var p=s.round(g,2);return"M"+p+","+p+"V-"+p+"L-"+p+","+p+"V-"+p+"Z"},noDot:!0},"circle-cross":{n:27,f:function(g){var p=s.round(g,2);return"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(g){var p=s.round(g,2),c=s.round(g/Math.sqrt(2),2);return"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(g){var p=s.round(g,2);return"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(g){var p=s.round(g,2);return"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p+"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(g){var p=s.round(1.3*g,2);return"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"ZM0,-"+p+"V"+p+"M-"+p+",0H"+p},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(g){var p=s.round(1.3*g,2),c=s.round(.65*g,2);return"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"ZM-"+c+",-"+c+"L"+c+","+c+"M-"+c+","+c+"L"+c+",-"+c},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(g){var p=s.round(1.4*g,2);return"M0,"+p+"V-"+p+"M"+p+",0H-"+p},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(g){var p=s.round(g,2);return"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(g){var p=s.round(1.2*g,2),c=s.round(.85*g,2);return"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(g){var p=s.round(g/2,2),c=s.round(g,2);return"M"+p+","+c+"V-"+c+"m-"+c+",0V"+c+"M"+c+","+p+"H-"+c+"m0,-"+c+"H"+c},needLine:!0,noFill:!0},"y-up":{n:37,f:function(g){var p=s.round(1.2*g,2),c=s.round(1.6*g,2),l=s.round(.8*g,2);return"M-"+p+","+l+"L0,0M"+p+","+l+"L0,0M0,-"+c+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(g){var p=s.round(1.2*g,2),c=s.round(1.6*g,2),l=s.round(.8*g,2);return"M-"+p+",-"+l+"L0,0M"+p+",-"+l+"L0,0M0,"+c+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(g){var p=s.round(1.2*g,2),c=s.round(1.6*g,2),l=s.round(.8*g,2);return"M"+l+","+p+"L0,0M"+l+",-"+p+"L0,0M-"+c+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(g){var p=s.round(1.2*g,2),c=s.round(1.6*g,2),l=s.round(.8*g,2);return"M-"+l+","+p+"L0,0M-"+l+",-"+p+"L0,0M"+c+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(g){var p=s.round(1.4*g,2);return"M"+p+",0H-"+p},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(g){var p=s.round(1.4*g,2);return"M0,"+p+"V-"+p},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(g){var p=s.round(g,2);return"M"+p+",-"+p+"L-"+p+","+p},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(g){var p=s.round(g,2);return"M"+p+","+p+"L-"+p+",-"+p},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(g){var p=s.round(g,2);return"M0,0L-"+p+","+s.round(2*g,2)+"H"+p+"Z"},noDot:!0},"arrow-down":{n:46,f:function(g){var p=s.round(g,2);return"M0,0L-"+p+",-"+s.round(2*g,2)+"H"+p+"Z"},noDot:!0},"arrow-left":{n:47,f:function(g){var p=s.round(2*g,2),c=s.round(g,2);return"M0,0L"+p+",-"+c+"V"+c+"Z"},noDot:!0},"arrow-right":{n:48,f:function(g){var p=s.round(2*g,2),c=s.round(g,2);return"M0,0L-"+p+",-"+c+"V"+c+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(g){var p=s.round(g,2);return"M-"+p+",0H"+p+"M0,0L-"+p+","+s.round(2*g,2)+"H"+p+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(g){var p=s.round(g,2);return"M-"+p+",0H"+p+"M0,0L-"+p+",-"+s.round(2*g,2)+"H"+p+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(g){var p=s.round(2*g,2),c=s.round(g,2);return"M0,-"+c+"V"+c+"M0,0L"+p+",-"+c+"V"+c+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(g){var p=s.round(2*g,2),c=s.round(g,2);return"M0,-"+c+"V"+c+"M0,0L-"+p+",-"+c+"V"+c+"Z"},needLine:!0,noDot:!0}}},{"@plotly/d3":11}],126:[function(v,pe,J){"use strict";pe.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],127:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../registry"),p=v("../../plots/cartesian/axes"),c=v("../../lib"),l=v("./compute_error");function m(d,h,u,C){var b=h["error_"+C]||{},M=[];if(b.visible&&-1!==["linear","log"].indexOf(u.type)){for(var w=l(b),N=0;N<d.length;N++){var A=d[N],k=A.i;if(void 0===k)k=N;else if(null===k)continue;var H=A[C];if(s(u.c2l(H))){var L=w(H,k);if(s(L[0])&&s(L[1])){var I=A[C+"s"]=H-L[0],D=A[C+"h"]=H+L[1];M.push(I,D)}}}var P=h._extremes[u._id],S=p.findExtremes(u,M,c.extendFlat({tozero:P.opts.tozero},{padded:!0}));P.min=P.min.concat(S.min),P.max=P.max.concat(S.max)}}pe.exports=function(d){for(var h=d.calcdata,u=0;u<h.length;u++){var C=h[u],b=C[0].trace;if(!0===b.visible&&g.traceIs(b,"errorBarsOK")){var M=p.getFromId(d,b.xaxis),w=p.getFromId(d,b.yaxis);m(C,b,M,"x"),m(C,b,w,"y")}}}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./compute_error":128,"fast-isnumeric":17}],128:[function(v,pe,J){"use strict";function s(g,p){return"percent"===g?function(c){return Math.abs(c*p/100)}:"constant"===g?function(){return Math.abs(p)}:"sqrt"===g?function(c){return Math.sqrt(Math.abs(c))}:void 0}pe.exports=function(g){var p=g.type,c=g.symmetric;if("data"===p){var l=g.array||[];if(c)return function(u,C){var b=+l[C];return[b,b]};var m=g.arrayminus||[];return function(u,C){var b=+l[C],M=+m[C];return isNaN(b)&&isNaN(M)?[NaN,NaN]:[M||0,b||0]}}var d=s(p,g.value),h=s(p,g.valueminus);return c||void 0===g.valueminus?function(u){var C=d(u);return[C,C]}:function(u){return[h(u),d(u)]}}},{}],129:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../registry"),p=v("../../lib"),c=v("../../plot_api/plot_template"),l=v("./attributes");pe.exports=function(m,d,h,u){var C="error_"+u.axis,b=c.newContainer(d,C),M=m[C]||{};function w(H,L){return p.coerce(M,b,l,H,L)}if(!1!==w("visible",void 0!==M.array||void 0!==M.value||"sqrt"===M.type)){var N=w("type","array"in M?"data":"percent"),A=!0;"sqrt"!==N&&(A=w("symmetric",!(("data"===N?"arrayminus":"valueminus")in M))),"data"===N?(w("array"),w("traceref"),A||(w("arrayminus"),w("tracerefminus"))):"percent"!==N&&"constant"!==N||(w("value"),A||w("valueminus"));var k="copy_"+u.inherit+"style";u.inherit&&(d["error_"+u.inherit]||{}).visible&&w(k,!(M.color||s(M.thickness)||s(M.width))),u.inherit&&b[k]||(w("color",h),w("thickness"),w("width",g.traceIs(d,"gl3d")?0:4))}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"./attributes":126,"fast-isnumeric":17}],130:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plot_api/edit_types").overrideAll,p=v("./attributes"),c={error_x:s.extendFlat({},p),error_y:s.extendFlat({},p)};delete c.error_x.copy_zstyle,delete c.error_y.copy_zstyle,delete c.error_y.copy_ystyle;var l={error_x:s.extendFlat({},p),error_y:s.extendFlat({},p),error_z:s.extendFlat({},p)};delete l.error_x.copy_ystyle,delete l.error_y.copy_ystyle,delete l.error_z.copy_ystyle,delete l.error_z.copy_zstyle,pe.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:c,bar:c,histogram:c,scatter3d:g(l,"calc","nested"),scattergl:g(c,"calc","nested")}},supplyDefaults:v("./defaults"),calc:v("./calc"),makeComputeError:v("./compute_error"),plot:v("./plot"),style:v("./style"),hoverInfo:function(m,d,h){(d.error_y||{}).visible&&(h.yerr=m.yh-m.y,d.error_y.symmetric||(h.yerrneg=m.y-m.ys)),(d.error_x||{}).visible&&(h.xerr=m.xh-m.x,d.error_x.symmetric||(h.xerrneg=m.x-m.xs))}}},{"../../lib":232,"../../plot_api/edit_types":261,"./attributes":126,"./calc":127,"./compute_error":128,"./defaults":129,"./plot":131,"./style":132}],131:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("fast-isnumeric"),p=v("../drawing"),c=v("../../traces/scatter/subtypes");pe.exports=function(l,m,d,h){var u=d.xaxis,C=d.yaxis,b=h&&h.duration>0;m.each(function(M){var w,N=M[0].trace,A=N.error_x||{},k=N.error_y||{};N.ids&&(w=function(D){return D.id});var H=c.hasMarkers(N)&&N.marker.maxdisplayed>0;k.visible||A.visible||(M=[]);var L=s.select(this).selectAll("g.errorbar").data(M,w);if(L.exit().remove(),M.length){A.visible||L.selectAll("path.xerror").remove(),k.visible||L.selectAll("path.yerror").remove(),L.style("opacity",1);var I=L.enter().append("g").classed("errorbar",!0);b&&I.style("opacity",0).transition().duration(h.duration).style("opacity",1),p.setClipUrl(L,d.layerClipId,l),L.each(function(D){var W,Z,ne,te,E=s.select(this),P=(ne=C,te={x:(Z=u).c2p((W=D).x),y:ne.c2p(W.y)},void 0!==W.yh&&(te.yh=ne.c2p(W.yh),te.ys=ne.c2p(W.ys),g(te.ys)||(te.noYS=!0,te.ys=ne.c2p(W.ys,!0))),void 0!==W.xh&&(te.xh=Z.c2p(W.xh),te.xs=Z.c2p(W.xs),g(te.xs)||(te.noXS=!0,te.xs=Z.c2p(W.xs,!0))),te);if(!H||D.vis){var S,R=E.select("path.yerror");if(k.visible&&g(P.x)&&g(P.yh)&&g(P.ys)){var G=k.width;S="M"+(P.x-G)+","+P.yh+"h"+2*G+"m-"+G+",0V"+P.ys,P.noYS||(S+="m-"+G+",0h"+2*G),R.size()?b&&(R=R.transition().duration(h.duration).ease(h.easing)):R=E.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0),R.attr("d",S)}else R.remove();var z=E.select("path.xerror");if(A.visible&&g(P.y)&&g(P.xh)&&g(P.xs)){var X=(A.copy_ystyle?k:A).width;S="M"+P.xh+","+(P.y-X)+"v"+2*X+"m0,-"+X+"H"+P.xs,P.noXS||(S+="m0,-"+X+"v"+2*X),z.size()?b&&(z=z.transition().duration(h.duration).ease(h.easing)):z=E.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0),z.attr("d",S)}else z.remove()}})}})}},{"../../traces/scatter/subtypes":383,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],132:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../color");pe.exports=function(p){p.each(function(c){var l=c[0].trace,m=l.error_y||{},d=l.error_x||{},h=s.select(this);h.selectAll("path.yerror").style("stroke-width",m.thickness+"px").call(g.stroke,m.color),d.copy_ystyle&&(d=m),h.selectAll("path.xerror").style("stroke-width",d.thickness+"px").call(g.stroke,d.color)})}},{"../color":102,"@plotly/d3":11}],133:[function(v,pe,J){"use strict";var s=v("../../plots/font_attributes"),g=v("./layout_attributes").hoverlabel,p=v("../../lib/extend").extendFlat;pe.exports={hoverlabel:{bgcolor:p({},g.bgcolor,{arrayOk:!0}),bordercolor:p({},g.bordercolor,{arrayOk:!0}),font:s({arrayOk:!0,editType:"none"}),align:p({},g.align,{arrayOk:!0}),namelength:p({},g.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":226,"../../plots/font_attributes":310,"./layout_attributes":143}],134:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../registry");function p(c,l,m,d){d=d||s.identity,Array.isArray(c)&&(l[0][m]=d(c))}pe.exports=function(c){var l=c.calcdata,m=c._fullLayout;function d(M){return function(w){return s.coerceHoverinfo({hoverinfo:w},{_module:M._module},m)}}for(var h=0;h<l.length;h++){var u=l[h],C=u[0].trace;if(!g.traceIs(C,"pie-like")){var b=g.traceIs(C,"2dMap")?p:s.fillArray;b(C.hoverinfo,u,"hi",d(C)),C.hovertemplate&&b(C.hovertemplate,u,"ht"),C.hoverlabel&&(b(C.hoverlabel.bgcolor,u,"hbg"),b(C.hoverlabel.bordercolor,u,"hbc"),b(C.hoverlabel.font.size,u,"hts"),b(C.hoverlabel.font.color,u,"htc"),b(C.hoverlabel.font.family,u,"htf"),b(C.hoverlabel.namelength,u,"hnl"),b(C.hoverlabel.align,u,"hta"))}}}},{"../../lib":232,"../../registry":318}],135:[function(v,pe,J){"use strict";var s=v("../../registry"),g=v("./hover").hover;pe.exports=function(p,c,l){var m=s.getComponentMethod("annotations","onClick")(p,p._hoverdata);function d(){p.emit("plotly_click",{points:p._hoverdata,event:c})}void 0!==l&&g(p,c,l,!0),p._hoverdata&&c&&c.target&&(m&&m.then?m.then(d):d(),c.stopImmediatePropagation&&c.stopImmediatePropagation())}},{"../../registry":318,"./hover":139}],136:[function(v,pe,J){"use strict";pe.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],137:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("./attributes"),p=v("./hoverlabel_defaults");pe.exports=function(c,l,m,d){var h=s.extendFlat({},d.hoverlabel);l.hovertemplate&&(h.namelength=-1),p(c,l,function(u,C){return s.coerce(c,l,g,u,C)},h)}},{"../../lib":232,"./attributes":133,"./hoverlabel_defaults":140}],138:[function(v,pe,J){"use strict";var s=v("../../lib");J.getSubplot=function(d){return d.subplot||d.xaxis+d.yaxis||d.geo},J.isTraceInSubplots=function(d,h){if("splom"===d.type){for(var u=d.xaxes||[],C=d.yaxes||[],b=0;b<u.length;b++)for(var M=0;M<C.length;M++)if(-1!==h.indexOf(u[b]+C[M]))return!0;return!1}return-1!==h.indexOf(J.getSubplot(d))},J.flat=function(d,h){for(var u=new Array(d.length),C=0;C<d.length;C++)u[C]=h;return u},J.p2c=function(d,h){for(var u=new Array(d.length),C=0;C<d.length;C++)u[C]=d[C].p2c(h);return u},J.getDistanceFunction=function(d,h,u,C){return"closest"===d?C||J.quadrature(h,u):"x"===d.charAt(0)?h:u},J.getClosest=function(d,h,u){if(!1!==u.index)u.index>=0&&u.index<d.length?u.distance=0:u.index=!1;else for(var C=0;C<d.length;C++){var b=h(d[C]);b<=u.distance&&(u.index=C,u.distance=b)}return u},J.inbox=function(d,h,u){return d*h<0||0===d?u:1/0},J.quadrature=function(d,h){return function(u){var C=d(u),b=h(u);return Math.sqrt(C*C+b*b)}},J.makeEventData=function(d,h,u){var C="index"in d?d.index:d.pointNumber,b={data:h._input,fullData:h,curveNumber:h.index,pointNumber:C};if(h._indexToPoints){var M=h._indexToPoints[C];1===M.length?b.pointIndex=M[0]:b.pointIndices=M}else b.pointIndex=C;return h._module.eventData?b=h._module.eventData(b,d,h,u,C):("xVal"in d?b.x=d.xVal:"x"in d&&(b.x=d.x),"yVal"in d?b.y=d.yVal:"y"in d&&(b.y=d.y),d.xa&&(b.xaxis=d.xa),d.ya&&(b.yaxis=d.ya),void 0!==d.zLabelVal&&(b.z=d.zLabelVal)),J.appendArrayPointValue(b,h,C),b},J.appendArrayPointValue=function(d,h,u){var C=h._arrayAttrs;if(C)for(var b=0;b<C.length;b++){var M=C[b],w=p(M);if(void 0===d[w]){var N=c(s.nestedProperty(h,M).get(),u);void 0!==N&&(d[w]=N)}}},J.appendArrayMultiPointValues=function(d,h,u){var C=h._arrayAttrs;if(C)for(var b=0;b<C.length;b++){var M=C[b],w=p(M);if(void 0===d[w]){for(var N=s.nestedProperty(h,M).get(),A=new Array(u.length),k=0;k<u.length;k++)A[k]=c(N,u[k]);d[w]=A}}};var g={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function p(d){return g[d]||d}function c(d,h){return Array.isArray(h)?Array.isArray(d)&&Array.isArray(d[h[0]])?d[h[0]][h[1]]:void 0:d[h]}var l={x:!0,y:!0},m={"x unified":!0,"y unified":!0};J.isUnifiedHover=function(d){return"string"==typeof d&&!!m[d]},J.isXYhover=function(d){return"string"==typeof d&&!!l[d]}},{"../../lib":232}],139:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("fast-isnumeric"),p=v("tinycolor2"),c=v("../../lib"),l=c.strTranslate,m=c.strRotate,d=v("../../lib/events"),h=v("../../lib/svg_text_utils"),u=v("../../lib/override_cursor"),C=v("../drawing"),b=v("../color"),M=v("../dragelement"),w=v("../../plots/cartesian/axes"),N=v("../../registry"),A=v("./helpers"),k=v("./constants"),H=v("../legend/defaults"),L=v("../legend/draw"),I=k.YANGLE,D=Math.PI*I/180,E=1/Math.sin(D),P=Math.cos(D),S=Math.sin(D),R=k.HOVERARROWSIZE,G=k.HOVERTEXTPAD,z={box:!0,ohlc:!0,violin:!0,candlestick:!0},X={scatter:!0,scattergl:!0,splom:!0};function W(F){return[F.trace.index,F.index,F.x0,F.y0,F.name,F.attr,F.xa?F.xa._id:"",F.ya?F.ya._id:""].join(",")}J.hover=function(F,O,Y,B){F=c.getGraphDiv(F);var ae=O.target;c.throttle(F._fullLayout._uid+k.HOVERID,k.HOVERMINTIME,function(){!function(ue,fe,he,xe,be){he||(he="xy");var ke=Array.isArray(he)?he:[he],Pe=ue._fullLayout,Re=Pe._plots||[],Ue=Re[he],tt=Pe._has("cartesian");if(Ue){var Ke=Ue.overlays.map(function(On){return On.id});ke=ke.concat(Ke)}for(var $e=ke.length,Me=new Array($e),ve=new Array($e),Se=!1,Te=0;Te<$e;Te++){var qe=ke[Te];if(Re[qe])Se=!0,Me[Te]=Re[qe].xaxis,ve[Te]=Re[qe].yaxis;else{if(!Pe[qe]||!Pe[qe]._subplot)return void c.warn("Unrecognized subplot: "+qe);var Oe=Pe[qe]._subplot;Me[Te]=Oe.xaxis,ve[Te]=Oe.yaxis}}var Fe=fe.hovermode||Pe.hovermode;if(Fe&&!Se&&(Fe="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(Fe)||!ue.calcdata||ue.querySelector(".zoombox")||ue._dragging)return M.unhoverRaw(ue,fe);var Qe=Pe.hoverdistance;-1===Qe&&(Qe=1/0);var nt=Pe.spikedistance;-1===nt&&(nt=1/0);var Ye,rt,ht,Xe,gt,xt,bt,Ot,wt,Be,Ge,vt,Pt,Jt=[],tn=[],Kt={hLinePoint:null,vLinePoint:null},qt=!1;if(Array.isArray(fe))for(Fe="array",ht=0;ht<fe.length;ht++)(gt=ue.calcdata[fe[ht].curveNumber||0])&&(xt=gt[0].trace,"skip"!==gt[0].trace.hoverinfo&&(tn.push(gt),"h"===xt.orientation&&(qt=!0)));else{for(Xe=0;Xe<ue.calcdata.length;Xe++)"skip"!==(xt=(gt=ue.calcdata[Xe])[0].trace).hoverinfo&&A.isTraceInSubplots(xt,ke)&&(tn.push(gt),"h"===xt.orientation&&(qt=!0));var Nt,ge;if(be){if(!1===d.triggerHandler(ue,"plotly_beforehover",fe))return;var _e=be.getBoundingClientRect();Nt=fe.clientX-_e.left,ge=fe.clientY-_e.top,Pe._calcInverseTransform(ue);var We=c.apply3DTransform(Pe._invTransform)(Nt,ge);if(ge=We[1],(Nt=We[0])<0||Nt>Me[0]._length||ge<0||ge>ve[0]._length)return M.unhoverRaw(ue,fe)}else Nt="xpx"in fe?fe.xpx:Me[0]._length/2,ge="ypx"in fe?fe.ypx:ve[0]._length/2;if(fe.pointerX=Nt+Me[0]._offset,fe.pointerY=ge+ve[0]._offset,Ye="xval"in fe?A.flat(ke,fe.xval):A.p2c(Me,Nt),rt="yval"in fe?A.flat(ke,fe.yval):A.p2c(ve,ge),!g(Ye[0])||!g(rt[0]))return c.warn("Fx.hover failed",fe,ue),M.unhoverRaw(ue,fe)}var Je=1/0;function ft(On,w2){for(Xe=0;Xe<tn.length;Xe++)if((gt=tn[Xe])&&gt[0]&&gt[0].trace&&!0===(xt=gt[0].trace).visible&&0!==xt._length&&-1===["carpet","contourcarpet"].indexOf(xt._module.name)){if("splom"===xt.type?bt=ke[Ot=0]:(bt=A.getSubplot(xt),Ot=ke.indexOf(bt)),A.isUnifiedHover(wt=Fe)&&(wt=wt.charAt(0)),vt={cd:gt,trace:xt,xa:Me[Ot],ya:ve[Ot],maxHoverDistance:Qe,maxSpikeDistance:nt,index:!1,distance:Math.min(Je,Qe),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:b.defaultLine,name:xt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Pe[bt]&&(vt.subplot=Pe[bt]._subplot),Pe._splomScenes&&Pe._splomScenes[xt.uid]&&(vt.scene=Pe._splomScenes[xt.uid]),Pt=Jt.length,"array"===wt){var p2=fe[Xe];"pointNumber"in p2?(vt.index=p2.pointNumber,wt="closest"):(wt="","xval"in p2&&(Be=p2.xval,wt="x"),"yval"in p2&&(Ge=p2.yval,wt=wt?"closest":"y"))}else void 0!==On&&void 0!==w2?(Be=On,Ge=w2):(Be=Ye[Ot],Ge=rt[Ot]);if(0!==Qe)if(xt._module&&xt._module.hoverPoints){var Rn=xt._module.hoverPoints(vt,Be,Ge,wt,{finiteRange:!0,hoverLayer:Pe._hoverlayer});if(Rn)for(var m2,S2=0;S2<Rn.length;S2++)g((m2=Rn[S2]).x0)&&g(m2.y0)&&Jt.push(Ce(m2,Fe))}else c.log("Unrecognized trace type in hover:",xt);if("closest"===Fe&&Jt.length>Pt&&(Jt.splice(0,Pt),Je=Jt[0].distance),tt&&0!==nt&&0===Jt.length){vt.distance=nt,vt.index=!1;var e2=xt._module.hoverPoints(vt,Be,Ge,"closest",{hoverLayer:Pe._hoverlayer});if(e2&&(e2=e2.filter(function(J2){return J2.spikeDistance<=nt})),e2&&e2.length){var Un,yn=e2.filter(function(J2){return J2.xa.showspikes&&"hovered data"!==J2.xa.spikesnap});if(yn.length){var z2=yn[0];g(z2.x0)&&g(z2.y0)&&(Un=et(z2),(!Kt.vLinePoint||Kt.vLinePoint.spikeDistance>Un.spikeDistance)&&(Kt.vLinePoint=Un))}var z1=e2.filter(function(J2){return J2.ya.showspikes&&"hovered data"!==J2.ya.spikesnap});if(z1.length){var Q2=z1[0];g(Q2.x0)&&g(Q2.y0)&&(Un=et(Q2),(!Kt.hLinePoint||Kt.hLinePoint.spikeDistance>Un.spikeDistance)&&(Kt.hLinePoint=Un))}}}}}function st(On,w2,p2){for(var Rn,m2=null,S2=1/0,e2=0;e2<On.length;e2++)Rn=On[e2].spikeDistance,p2&&0===e2&&(Rn=-1/0),Rn<=S2&&Rn<=w2&&(m2=On[e2],S2=Rn);return m2}function et(On){return On?{xa:On.xa,ya:On.ya,x:void 0!==On.xSpike?On.xSpike:(On.x0+On.x1)/2,y:void 0!==On.ySpike?On.ySpike:(On.y0+On.y1)/2,distance:On.distance,spikeDistance:On.spikeDistance,curveNumber:On.trace.index,color:On.color,pointNumber:On.index}:null}ft();var ut={fullLayout:Pe,container:Pe._hoverlayer,event:fe},St=ue._spikepoints;ue._spikepoints={vLinePoint:Kt.vLinePoint,hLinePoint:Kt.hLinePoint};var Bt=function(){Jt.sort(function(On,w2){return On.distance-w2.distance}),Jt=function(On,w2){for(var p2=w2.charAt(0),Rn=[],m2=[],S2=[],e2=0;e2<On.length;e2++){var Un=On[e2];N.traceIs(Un.trace,"bar-like")||N.traceIs(Un.trace,"box-violin")?S2.push(Un):Un.trace[p2+"period"]?m2.push(Un):Rn.push(Un)}return Rn.concat(m2).concat(S2)}(Jt,Fe)};Bt();var an=Fe.charAt(0),Tt=("x"===an||"y"===an)&&Jt[0]&&X[Jt[0].trace.type];if(tt&&0!==nt&&0!==Jt.length){var Wt=st(Jt.filter(function(On){return On.ya.showspikes}),nt,Tt);Kt.hLinePoint=et(Wt);var dn=st(Jt.filter(function(On){return On.xa.showspikes}),nt,Tt);Kt.vLinePoint=et(dn)}if(0===Jt.length){var At=M.unhoverRaw(ue,fe);return!tt||null===Kt.hLinePoint&&null===Kt.vLinePoint||Q(St)&&ie(ue,Kt,ut),At}if(tt&&Q(St)&&ie(ue,Kt,ut),A.isXYhover(wt)&&0!==Jt[0].length&&"splom"!==Jt[0].trace.type){var zt=Jt[0],sn=(Jt=z[zt.trace.type]?Jt.filter(function(On){return On.trace.index===zt.trace.index}):[zt]).length;ft(j("x",zt,Pe),j("y",zt,Pe));var en,Ft=[],wn={},bn=0,Sn=function(On){var w2=z[On.trace.type]?W(On):On.trace.index;if(wn[w2]){var p2=wn[w2]-1,Rn=Ft[p2];p2>0&&Math.abs(On.distance)<Math.abs(Rn.distance)&&(Ft[p2]=On)}else bn++,wn[w2]=bn,Ft.push(On)};for(en=0;en<sn;en++)Sn(Jt[en]);for(en=Jt.length-1;en>sn-1;en--)Sn(Jt[en]);Jt=Ft,Bt()}var Ln=ue._hoverdata,Wn=[],kn=$(ue),Xt=se(ue);for(ht=0;ht<Jt.length;ht++){var It=Jt[ht],nn=A.makeEventData(It,It.trace,It.cd);if(!1!==It.hovertemplate){var gn=!1;It.cd[It.index]&&It.cd[It.index].ht&&(gn=It.cd[It.index].ht),It.hovertemplate=gn||It.trace.hovertemplate||!1}if(It.xa&&It.ya){var cn=It.x0+It.xa._offset,Fn=It.x1+It.xa._offset,An=It.y0+It.ya._offset,_n=It.y1+It.ya._offset,r2=Math.min(cn,Fn),g2=Math.max(cn,Fn),y2=Math.min(An,_n),h2=Math.max(An,_n);nn.bbox={x0:r2+Xt,x1:g2+Xt,y0:y2+kn,y1:h2+kn}}It.eventData=[nn],Wn.push(nn)}ue._hoverdata=Wn;var Yt="y"===Fe&&(tn.length>1||Jt.length>1)||"closest"===Fe&&qt&&Jt.length>1,Yn=b.combine(Pe.plot_bgcolor||b.background,Pe.paper_bgcolor),Bn=ne(Jt,{gd:ue,hovermode:Fe,rotateLabels:Yt,bgColor:Yn,container:Pe._hoverlayer,outerContainer:Pe._paper.node(),commonLabelOpts:Pe.hoverlabel,hoverdistance:Pe.hoverdistance});if(A.isUnifiedHover(Fe)||(function(On,w2,p2){var Rn,m2,S2,e2,Un,yn,z2,z1=0,Q2=1,J2=On.size(),d1=new Array(J2),O1=0;function H1(F1){var e1=F1[0],Br=F1[F1.length-1];if(S2=Br.pos+Br.dp+Br.size-e1.pmax,(m2=e1.pmin-e1.pos-e1.dp+e1.size)>.01){for(Un=F1.length-1;Un>=0;Un--)F1[Un].dp+=m2;Rn=!1}if(!(S2<.01)){if(m2<-.01){for(Un=F1.length-1;Un>=0;Un--)F1[Un].dp-=S2;Rn=!1}if(Rn){var t1=0;for(e2=0;e2<F1.length;e2++)(yn=F1[e2]).pos+yn.dp+yn.size>e1.pmax&&t1++;for(e2=F1.length-1;e2>=0&&!(t1<=0);e2--)(yn=F1[e2]).pos>e1.pmax-1&&(yn.del=!0,t1--);for(e2=0;e2<F1.length&&!(t1<=0);e2++)if((yn=F1[e2]).pos<e1.pmin+1)for(yn.del=!0,t1--,S2=2*yn.size,Un=F1.length-1;Un>=0;Un--)F1[Un].dp-=S2;for(e2=F1.length-1;e2>=0&&!(t1<=0);e2--)(yn=F1[e2]).pos+yn.dp+yn.size>e1.pmax&&(yn.del=!0,t1--)}}}for(On.each(function(F1){var e1=F1[w2],Br="x"===e1._id.charAt(0),t1=e1.range;0===O1&&t1&&t1[0]>t1[1]!==Br&&(Q2=-1),d1[O1++]=[{datum:F1,traceIndex:F1.trace.index,dp:0,pos:F1.pos,posref:F1.posref,size:F1.by*(Br?E:1)/2,pmin:0,pmax:Br?p2.width:p2.height}]}),d1.sort(function(F1,e1){return F1[0].posref-e1[0].posref||Q2*(e1[0].traceIndex-F1[0].traceIndex)});!Rn&&z1<=J2;){for(z1++,Rn=!0,e2=0;e2<d1.length-1;){var A1=d1[e2],j2=d1[e2+1],G2=A1[A1.length-1],Vr=j2[0];if((m2=G2.pos+G2.dp+G2.size-Vr.pos-Vr.dp+Vr.size)>.01&&G2.pmin===Vr.pmin&&G2.pmax===Vr.pmax){for(Un=j2.length-1;Un>=0;Un--)j2[Un].dp+=m2;for(A1.push.apply(A1,j2),d1.splice(e2+1,1),z2=0,Un=A1.length-1;Un>=0;Un--)z2+=A1[Un].dp;for(S2=z2/A1.length,Un=A1.length-1;Un>=0;Un--)A1[Un].dp-=S2;Rn=!1}else e2++}d1.forEach(H1)}for(e2=d1.length-1;e2>=0;e2--){var ri=d1[e2];for(Un=ri.length-1;Un>=0;Un--){var Pi=ri[Un],Nn=Pi.datum;Nn.offset=Pi.dp,Nn.del=Pi.del}}}(Bn,Yt?"xa":"ya",Pe),oe(Bn,Yt,Pe._invScaleX,Pe._invScaleY)),be&&be.tagName){var n2=N.getComponentMethod("annotations","hasClickToShow")(ue,Wn);u(s.select(be),n2?"pointer":"")}!be||xe||!function(On,w2,p2){if(!p2||p2.length!==On._hoverdata.length)return!0;for(var Rn=p2.length-1;Rn>=0;Rn--){var m2=p2[Rn],S2=On._hoverdata[Rn];if(m2.curveNumber!==S2.curveNumber||String(m2.pointNumber)!==String(S2.pointNumber)||String(m2.pointNumbers)!==String(S2.pointNumbers))return!0}return!1}(ue,0,Ln)||(Ln&&ue.emit("plotly_unhover",{event:fe,points:Ln}),ue.emit("plotly_hover",{event:fe,points:ue._hoverdata,xaxes:Me,yaxes:ve,xvals:Ye,yvals:rt}))}(F,O,Y,B,ae)})},J.loneHover=function(F,O){var Y=!0;Array.isArray(F)||(Y=!1,F=[F]);var B=O.gd,ae=$(B),ue=se(B),fe=ne(F.map(function(be){var ke=be._x0||be.x0||be.x||0,Pe=be._x1||be.x1||be.x||0,Re=be._y0||be.y0||be.y||0,Ue=be._y1||be.y1||be.y||0,tt=be.eventData;if(tt){var Ke=Math.min(ke,Pe),$e=Math.max(ke,Pe),Me=Math.min(Re,Ue),ve=Math.max(Re,Ue),Se=be.trace;if(N.traceIs(Se,"gl3d")){var Te=B._fullLayout[Se.scene]._scene.container,qe=Te.offsetLeft,Oe=Te.offsetTop;Ke+=qe,$e+=qe,Me+=Oe,ve+=Oe}tt.bbox={x0:Ke+ue,x1:$e+ue,y0:Me+ae,y1:ve+ae},O.inOut_bbox&&O.inOut_bbox.push(tt.bbox)}else tt=!1;return{color:be.color||b.defaultLine,x0:be.x0||be.x||0,x1:be.x1||be.x||0,y0:be.y0||be.y||0,y1:be.y1||be.y||0,xLabel:be.xLabel,yLabel:be.yLabel,zLabel:be.zLabel,text:be.text,name:be.name,idealAlign:be.idealAlign,borderColor:be.borderColor,fontFamily:be.fontFamily,fontSize:be.fontSize,fontColor:be.fontColor,nameLength:be.nameLength,textAlign:be.textAlign,trace:be.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:be.hovertemplate||!1,hovertemplateLabels:be.hovertemplateLabels||!1,eventData:tt}}),{gd:B,hovermode:"closest",rotateLabels:!1,bgColor:O.bgColor||b.background,container:s.select(O.container),outerContainer:O.outerContainer||O.container}),he=0,xe=0;return fe.sort(function(be,ke){return be.y0-ke.y0}).each(function(be,ke){var Pe=be.y0-be.by/2;be.offset=Pe-5<he?he-Pe+5:0,he=Pe+be.by+be.offset,ke===O.anchorIndex&&(xe=be.offset)}).each(function(be){be.offset-=xe}),oe(fe,!1,B._fullLayout._invScaleX,B._fullLayout._invScaleY),Y?fe:fe.node()};var Z=/<extra>([\s\S]*)<\/extra>/;function ne(F,O){var Y=O.gd,B=Y._fullLayout,ae=O.hovermode,ue=O.rotateLabels,fe=O.bgColor,he=O.container,xe=O.outerContainer,be=O.commonLabelOpts||{};if(0===F.length)return[[]];var ke=O.fontFamily||k.HOVERFONT,Pe=O.fontSize||k.HOVERFONTSIZE,Re=F[0],Ue=Re.xa,tt=Re.ya,Ke=ae.charAt(0),$e=Re[Ke+"Label"],Me=ee(Y,xe),ve=Me.top,Se=Me.width,Te=Me.height,qe=void 0!==$e&&Re.distance<=O.hoverdistance&&("x"===ae||"y"===ae);if(qe){var Oe,Fe,Qe=!0;for(Oe=0;Oe<F.length;Oe++)if(Qe&&void 0===F[Oe].zLabel&&(Qe=!1),Fe=F[Oe].hoverinfo||F[Oe].trace.hoverinfo){var nt=Array.isArray(Fe)?Fe:Fe.split("+");if(-1===nt.indexOf("all")&&-1===nt.indexOf(ae)){qe=!1;break}}Qe&&(qe=!1)}var Ye=he.selectAll("g.axistext").data(qe?[0]:[]);if(Ye.enter().append("g").classed("axistext",!0),Ye.exit().remove(),Ye.each(function(){var Tt=s.select(this),Wt=c.ensureSingle(Tt,"path","",function(Fn){Fn.style({"stroke-width":"1px"})}),dn=c.ensureSingle(Tt,"text","",function(Fn){Fn.attr("data-notex",1)}),At=be.bgcolor||b.defaultLine,zt=be.bordercolor||b.contrast(At),sn=b.contrast(At),Qt={family:be.font.family||ke,size:be.font.size||Pe,color:be.font.color||sn};Wt.style({fill:At,stroke:zt}),dn.text($e).call(C.font,Qt).call(h.positionText,0,0).call(h.convertToTspans,Y),Tt.attr("transform","");var jt,en,Ft=ee(Y,dn.node());if("x"===ae){var wn="top"===Ue.side?"-":"";dn.attr("text-anchor","middle").call(h.positionText,0,"top"===Ue.side?ve-Ft.bottom-R-G:ve-Ft.top+R+G),en=tt._offset+("top"===Ue.side?0:tt._length);var bn=Ft.width/2+G;(jt=Ue._offset+(Re.x0+Re.x1)/2)<bn?(jt=bn,Wt.attr("d","M-"+(bn-R)+",0L-"+(bn-2*R)+","+wn+R+"H"+(G+Ft.width/2)+"v"+wn+(2*G+Ft.height)+"H-"+bn+"V"+wn+R+"Z")):jt>B.width-bn?(jt=B.width-bn,Wt.attr("d","M"+(bn-R)+",0L"+bn+","+wn+R+"v"+wn+(2*G+Ft.height)+"H-"+bn+"V"+wn+R+"H"+(bn-2*R)+"Z")):Wt.attr("d","M0,0L"+R+","+wn+R+"H"+(G+Ft.width/2)+"v"+wn+(2*G+Ft.height)+"H-"+(G+Ft.width/2)+"V"+wn+R+"H-"+R+"Z")}else{var Sn,Ln,Wn;"right"===tt.side?(Sn="start",Ln=1,Wn="",jt=Ue._offset+Ue._length):(Sn="end",Ln=-1,Wn="-",jt=Ue._offset),en=tt._offset+(Re.y0+Re.y1)/2,dn.attr("text-anchor",Sn),Wt.attr("d","M0,0L"+Wn+R+","+R+"V"+(G+Ft.height/2)+"h"+Wn+(2*G+Ft.width)+"V-"+(G+Ft.height/2)+"H"+Wn+R+"V-"+R+"Z");var kn,Xt=Ft.height/2,It=ve-Ft.top-Xt,nn="clip"+B._uid+"commonlabel"+tt._id;if(jt<Ft.width+2*G+R){kn="M-"+(R+G)+"-"+Xt+"h-"+(Ft.width-G)+"V"+Xt+"h"+(Ft.width-G)+"Z";var gn=Ft.width-jt+G;h.positionText(dn,gn,It),"end"===Sn&&dn.selectAll("tspan").each(function(){var Fn=s.select(this),An=C.tester.append("text").text(Fn.text()).call(C.font,Qt),_n=ee(Y,An.node());Math.round(_n.width)<Math.round(Ft.width)&&Fn.attr("x",gn-_n.width),An.remove()})}else h.positionText(dn,Ln*(G+R),It),kn=null;var cn=B._topclips.selectAll("#"+nn).data(kn?[0]:[]);cn.enter().append("clipPath").attr("id",nn).append("path"),cn.exit().remove(),cn.select("path").attr("d",kn),C.setClipUrl(dn,kn?nn:null,Y)}Tt.attr("transform",l(jt,en))}),A.isUnifiedHover(ae)){he.selectAll("g.hovertext").remove();var rt=F.filter(function(Tt){return"none"!==Tt.hoverinfo});if(0===rt.length)return;var ht=B.hoverlabel,Xe=ht.font,xt={font:Xe};H({showlegend:!0,legend:{title:{text:$e,font:Xe},font:Xe,bgcolor:ht.bgcolor,bordercolor:ht.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:B.legend?B.legend.traceorder:void 0,orientation:"v"}},xt,Y._fullData);var bt=xt.legend;bt.entries=[];for(var Ot=0;Ot<rt.length;Ot++){var wt=rt[Ot];if("none"!==wt.hoverinfo){var Be=te(wt,!0,ae,B,$e),Ge=Be[0],vt=Be[1];wt.name=vt,wt.text=""!==vt?vt+" : "+Ge:Ge;var Pt=wt.cd[wt.index];Pt&&(Pt.mc&&(wt.mc=Pt.mc),Pt.mcc&&(wt.mc=Pt.mcc),Pt.mlc&&(wt.mlc=Pt.mlc),Pt.mlcc&&(wt.mlc=Pt.mlcc),Pt.mlw&&(wt.mlw=Pt.mlw),Pt.mrc&&(wt.mrc=Pt.mrc),Pt.dir&&(wt.dir=Pt.dir)),wt._distinct=!0,bt.entries.push([wt])}}bt.entries.sort(function(Tt,Wt){return Tt[0].trace.index-Wt[0].trace.index}),bt.layer=he,bt._inHover=!0,bt._groupTitleFont=ht.grouptitlefont,L(Y,bt);var Jt,tn,Kt,qt,Nt=he.select("g.legend"),ge=ee(Y,Nt.node()),_e=ge.width+2*G,We=ge.height+2*G,Je=rt[0],ft=(Je.x0+Je.x1)/2,st=(Je.y0+Je.y1)/2,et=!(N.traceIs(Je.trace,"bar-like")||N.traceIs(Je.trace,"box-violin"));"y"===Ke?et?(tn=st-G,Jt=st+G):(tn=Math.min.apply(null,rt.map(function(Tt){return Math.min(Tt.y0,Tt.y1)})),Jt=Math.max.apply(null,rt.map(function(Tt){return Math.max(Tt.y0,Tt.y1)}))):tn=Jt=c.mean(rt.map(function(Tt){return(Tt.y0+Tt.y1)/2}))-We/2,"x"===Ke?et?(Kt=ft+G,qt=ft-G):(Kt=Math.max.apply(null,rt.map(function(Tt){return Math.max(Tt.x0,Tt.x1)})),qt=Math.min.apply(null,rt.map(function(Tt){return Math.min(Tt.x0,Tt.x1)}))):Kt=qt=c.mean(rt.map(function(Tt){return(Tt.x0+Tt.x1)/2}))-_e/2;var ut,St,Vt=Ue._offset,Bt=tt._offset;return qt+=Vt-_e,tn+=Bt-We,ut=(Kt+=Vt)+_e<Se&&Kt>=0?Kt:qt+_e<Se&&qt>=0?qt:Vt+_e<Se?Vt:Kt-ft<ft-qt+_e?Se-_e:0,St=(Jt+=Bt)+We<Te&&Jt>=0?Jt:tn+We<Te&&tn>=0?tn:Bt+We<Te?Bt:Jt-st<st-tn+We?Te-We:0,Nt.attr("transform",l((ut+=G)-1,(St+=G)-1)),Nt}var an=he.selectAll("g.hovertext").data(F,function(Tt){return W(Tt)});return an.enter().append("g").classed("hovertext",!0).each(function(){var Tt=s.select(this);Tt.append("rect").call(b.fill,b.addOpacity(fe,.8)),Tt.append("text").classed("name",!0),Tt.append("path").style("stroke-width","1px"),Tt.append("text").classed("nums",!0).call(C.font,ke,Pe)}),an.exit().remove(),an.each(function(Tt){var Wt=s.select(this).attr("transform",""),dn=Tt.color;Array.isArray(dn)&&(dn=dn[Tt.eventData[0].pointNumber]);var At=Tt.bgcolor||dn,zt=b.combine(b.opacity(At)?At:b.defaultLine,fe),sn=b.combine(b.opacity(dn)?dn:b.defaultLine,fe),Qt=Tt.borderColor||b.contrast(zt),jt=te(Tt,qe,ae,B,$e,Wt),en=jt[0],Ft=jt[1],wn=Wt.select("text.nums").call(C.font,Tt.fontFamily||ke,Tt.fontSize||Pe,Tt.fontColor||Qt).text(en).attr("data-notex",1).call(h.positionText,0,0).call(h.convertToTspans,Y),bn=Wt.select("text.name"),Sn=0,Ln=0;if(Ft&&Ft!==en){bn.call(C.font,Tt.fontFamily||ke,Tt.fontSize||Pe,sn).text(Ft).attr("data-notex",1).call(h.positionText,0,0).call(h.convertToTspans,Y);var Wn=ee(Y,bn.node());Sn=Wn.width+2*G,Ln=Wn.height+2*G}else bn.remove(),Wt.select("rect").remove();Wt.select("path").style({fill:zt,stroke:Qt});var kn=Tt.xa._offset+(Tt.x0+Tt.x1)/2,Xt=Tt.ya._offset+(Tt.y0+Tt.y1)/2,It=Math.abs(Tt.x1-Tt.x0),nn=Math.abs(Tt.y1-Tt.y0),gn=ee(Y,wn.node()),cn=gn.width/B._invScaleX,Fn=gn.height/B._invScaleY;Tt.ty0=(ve-gn.top)/B._invScaleY,Tt.bx=cn+2*G,Tt.by=Math.max(Fn+2*G,Ln),Tt.anchor="start",Tt.txwidth=cn,Tt.tx2width=Sn,Tt.offset=0;var An,_n,r2=(cn+R+G+Sn)*B._invScaleX;if(ue)Tt.pos=kn,An=Xt+nn/2+r2<=Te,_n=Xt-nn/2-r2>=0,"top"!==Tt.idealAlign&&An||!_n?An?(Xt+=nn/2,Tt.anchor="start"):Tt.anchor="middle":(Xt-=nn/2,Tt.anchor="end");else if(Tt.pos=Xt,An=kn+It/2+r2<=Se,_n=kn-It/2-r2>=0,"left"!==Tt.idealAlign&&An||!_n)if(An)kn+=It/2,Tt.anchor="start";else{Tt.anchor="middle";var g2=r2/2,y2=kn+g2-Se,h2=kn-g2;y2>0&&(kn-=y2),h2<0&&(kn+=-h2)}else kn-=It/2,Tt.anchor="end";wn.attr("text-anchor",Tt.anchor),Sn&&bn.attr("text-anchor",Tt.anchor),Wt.attr("transform",l(kn,Xt)+(ue?m(I):""))}),an}function te(F,O,Y,B,ae,ue){var fe="",he="";void 0!==F.nameOverride&&(F.name=F.nameOverride),F.name&&(F.trace._meta&&(F.name=c.templateString(F.name,F.trace._meta)),fe=le(F.name,F.nameLength));var xe=Y.charAt(0);void 0!==F.zLabel?(void 0!==F.xLabel&&(he+="x: "+F.xLabel+"<br>"),void 0!==F.yLabel&&(he+="y: "+F.yLabel+"<br>"),"choropleth"!==F.trace.type&&"choroplethmapbox"!==F.trace.type&&(he+=(he?"z: ":"")+F.zLabel)):O&&F[xe+"Label"]===ae?he=F[("x"===xe?"y":"x")+"Label"]||"":void 0===F.xLabel?void 0!==F.yLabel&&"scattercarpet"!==F.trace.type&&(he=F.yLabel):he=void 0===F.yLabel?F.xLabel:"("+F.xLabel+", "+F.yLabel+")",!F.text&&0!==F.text||Array.isArray(F.text)||(he+=(he?"<br>":"")+F.text),void 0!==F.extraText&&(he+=(he?"<br>":"")+F.extraText),ue&&""===he&&!F.hovertemplate&&(""===fe&&ue.remove(),he=fe);var ke=F.hovertemplate||!1;if(ke){var Pe=F.hovertemplateLabels||F;F[xe+"Label"]!==ae&&(Pe[xe+"other"]=Pe[xe+"Val"],Pe[xe+"otherLabel"]=Pe[xe+"Label"]),he=(he=c.hovertemplateString(ke,Pe,B._d3locale,F.eventData[0]||{},F.trace._meta)).replace(Z,function(Re,Ue){return fe=le(Ue,F.nameLength),""})}return[he,fe]}function oe(F,O,Y,B){var ae=function(fe){return fe*Y},ue=function(fe){return fe*B};F.each(function(fe){var he=s.select(this);if(fe.del)return he.remove();var xe=he.select("text.nums"),be=fe.anchor,ke="end"===be?-1:1,Pe={start:1,end:-1,middle:0}[be],Re=Pe*(R+G),Ue=Re+Pe*(fe.txwidth+G),tt=0,Ke=fe.offset,$e="middle"===be;$e&&(Re-=fe.tx2width/2,Ue+=fe.txwidth/2+G),O&&(Ke*=-S,tt=fe.offset*P),he.select("path").attr("d",$e?"M-"+ae(fe.bx/2+fe.tx2width/2)+","+ue(Ke-fe.by/2)+"h"+ae(fe.bx)+"v"+ue(fe.by)+"h-"+ae(fe.bx)+"Z":"M0,0L"+ae(ke*R+tt)+","+ue(R+Ke)+"v"+ue(fe.by/2-R)+"h"+ae(ke*fe.bx)+"v-"+ue(fe.by)+"H"+ae(ke*R+tt)+"V"+ue(Ke-R)+"Z");var Me=tt+Re,ve=Ke+fe.ty0-fe.by/2+G,Se=fe.textAlign||"auto";"auto"!==Se&&("left"===Se&&"start"!==be?(xe.attr("text-anchor","start"),Me=$e?-fe.bx/2-fe.tx2width/2+G:-fe.bx-G):"right"===Se&&"end"!==be&&(xe.attr("text-anchor","end"),Me=$e?fe.bx/2-fe.tx2width/2-G:fe.bx+G)),xe.call(h.positionText,ae(Me),ue(ve)),fe.tx2width&&(he.select("text.name").call(h.positionText,ae(Ue+Pe*G+tt),ue(Ke+fe.ty0-fe.by/2+G)),he.select("rect").call(C.setRect,ae(Ue+(Pe-1)*fe.tx2width/2+tt),ue(Ke-fe.by/2-1),ae(fe.tx2width),ue(fe.by+2)))})}function Ce(F,O){var Y=F.index,B=F.trace||{},ae=F.cd[0],ue=F.cd[Y]||{};function fe(Re){return Re||g(Re)&&0===Re}var he=Array.isArray(Y)?function(Re,Ue){var tt=c.castOption(ae,Y,Re);return fe(tt)?tt:c.extractOption({},B,"",Ue)}:function(Re,Ue){return c.extractOption(ue,B,Re,Ue)};function xe(Re,Ue,tt){var Ke=he(Ue,tt);fe(Ke)&&(F[Re]=Ke)}if(xe("hoverinfo","hi","hoverinfo"),xe("bgcolor","hbg","hoverlabel.bgcolor"),xe("borderColor","hbc","hoverlabel.bordercolor"),xe("fontFamily","htf","hoverlabel.font.family"),xe("fontSize","hts","hoverlabel.font.size"),xe("fontColor","htc","hoverlabel.font.color"),xe("nameLength","hnl","hoverlabel.namelength"),xe("textAlign","hta","hoverlabel.align"),F.posref="y"===O||"closest"===O&&"h"===B.orientation?F.xa._offset+(F.x0+F.x1)/2:F.ya._offset+(F.y0+F.y1)/2,F.x0=c.constrain(F.x0,0,F.xa._length),F.x1=c.constrain(F.x1,0,F.xa._length),F.y0=c.constrain(F.y0,0,F.ya._length),F.y1=c.constrain(F.y1,0,F.ya._length),void 0!==F.xLabelVal&&(F.xLabel="xLabel"in F?F.xLabel:w.hoverLabelText(F.xa,F.xLabelVal,B.xhoverformat),F.xVal=F.xa.c2d(F.xLabelVal)),void 0!==F.yLabelVal&&(F.yLabel="yLabel"in F?F.yLabel:w.hoverLabelText(F.ya,F.yLabelVal,B.yhoverformat),F.yVal=F.ya.c2d(F.yLabelVal)),void 0!==F.zLabelVal&&void 0===F.zLabel&&(F.zLabel=String(F.zLabelVal)),!(isNaN(F.xerr)||"log"===F.xa.type&&F.xerr<=0)){var be=w.tickText(F.xa,F.xa.c2l(F.xerr),"hover").text;F.xLabel+=void 0!==F.xerrneg?" +"+be+" / -"+w.tickText(F.xa,F.xa.c2l(F.xerrneg),"hover").text:" \xb1 "+be,"x"===O&&(F.distance+=1)}if(!(isNaN(F.yerr)||"log"===F.ya.type&&F.yerr<=0)){var ke=w.tickText(F.ya,F.ya.c2l(F.yerr),"hover").text;F.yLabel+=void 0!==F.yerrneg?" +"+ke+" / -"+w.tickText(F.ya,F.ya.c2l(F.yerrneg),"hover").text:" \xb1 "+ke,"y"===O&&(F.distance+=1)}var Pe=F.hoverinfo||F.trace.hoverinfo;return Pe&&"all"!==Pe&&(-1===(Pe=Array.isArray(Pe)?Pe:Pe.split("+")).indexOf("x")&&(F.xLabel=void 0),-1===Pe.indexOf("y")&&(F.yLabel=void 0),-1===Pe.indexOf("z")&&(F.zLabel=void 0),-1===Pe.indexOf("text")&&(F.text=void 0),-1===Pe.indexOf("name")&&(F.name=void 0)),F}function ie(F,O,Y){var B,ae,ue=Y.container,fe=Y.fullLayout,he=fe._size,xe=Y.event,be=!!O.hLinePoint,ke=!!O.vLinePoint;if(ue.selectAll(".spikeline").remove(),ke||be){var Pe=b.combine(fe.plot_bgcolor,fe.paper_bgcolor);if(be){var Re,Ue,tt=O.hLinePoint;B=tt&&tt.xa,"cursor"===(ae=tt&&tt.ya).spikesnap?(Re=xe.pointerX,Ue=xe.pointerY):(Re=B._offset+tt.x,Ue=ae._offset+tt.y);var Ke,$e,Me=p.readability(tt.color,Pe)<1.5?b.contrast(Pe):tt.color,ve=ae.spikemode,Se=ae.spikethickness,Te=ae.spikecolor||Me,qe=w.getPxPosition(F,ae);if(-1!==ve.indexOf("toaxis")||-1!==ve.indexOf("across")){if(-1!==ve.indexOf("toaxis")&&(Ke=qe,$e=Re),-1!==ve.indexOf("across")){var Oe=ae._counterDomainMin,Fe=ae._counterDomainMax;"free"===ae.anchor&&(Oe=Math.min(Oe,ae.position),Fe=Math.max(Fe,ae.position)),Ke=he.l+Oe*he.w,$e=he.l+Fe*he.w}ue.insert("line",":first-child").attr({x1:Ke,x2:$e,y1:Ue,y2:Ue,"stroke-width":Se,stroke:Te,"stroke-dasharray":C.dashStyle(ae.spikedash,Se)}).classed("spikeline",!0).classed("crisp",!0),ue.insert("line",":first-child").attr({x1:Ke,x2:$e,y1:Ue,y2:Ue,"stroke-width":Se+2,stroke:Pe}).classed("spikeline",!0).classed("crisp",!0)}-1!==ve.indexOf("marker")&&ue.insert("circle",":first-child").attr({cx:qe+("right"!==ae.side?Se:-Se),cy:Ue,r:Se,fill:Te}).classed("spikeline",!0)}if(ke){var Qe,nt,Ye=O.vLinePoint;ae=Ye&&Ye.ya,"cursor"===(B=Ye&&Ye.xa).spikesnap?(Qe=xe.pointerX,nt=xe.pointerY):(Qe=B._offset+Ye.x,nt=ae._offset+Ye.y);var rt,ht,Xe=p.readability(Ye.color,Pe)<1.5?b.contrast(Pe):Ye.color,gt=B.spikemode,xt=B.spikethickness,bt=B.spikecolor||Xe,Ot=w.getPxPosition(F,B);if(-1!==gt.indexOf("toaxis")||-1!==gt.indexOf("across")){if(-1!==gt.indexOf("toaxis")&&(rt=Ot,ht=nt),-1!==gt.indexOf("across")){var wt=B._counterDomainMin,Be=B._counterDomainMax;"free"===B.anchor&&(wt=Math.min(wt,B.position),Be=Math.max(Be,B.position)),rt=he.t+(1-Be)*he.h,ht=he.t+(1-wt)*he.h}ue.insert("line",":first-child").attr({x1:Qe,x2:Qe,y1:rt,y2:ht,"stroke-width":xt,stroke:bt,"stroke-dasharray":C.dashStyle(B.spikedash,xt)}).classed("spikeline",!0).classed("crisp",!0),ue.insert("line",":first-child").attr({x1:Qe,x2:Qe,y1:rt,y2:ht,"stroke-width":xt+2,stroke:Pe}).classed("spikeline",!0).classed("crisp",!0)}-1!==gt.indexOf("marker")&&ue.insert("circle",":first-child").attr({cx:Qe,cy:Ot-("top"!==B.side?xt:-xt),r:xt,fill:bt}).classed("spikeline",!0)}}}function Q(F,O){return!O||O.vLinePoint!==F._spikepoints.vLinePoint||O.hLinePoint!==F._spikepoints.hLinePoint}function le(F,O){return h.plainText(F||"",{len:O,allowedTags:["br","sub","sup","b","i","em"]})}function j(F,O,Y){var B=O[F+"a"],ae=O[F+"Val"],ue=O.cd[0];if("category"===B.type)ae=B._categoriesMap[ae];else if("date"===B.type){var fe=O.trace[F+"periodalignment"];if(fe){var he=O.cd[O.index],xe=he[F+"Start"];void 0===xe&&(xe=he[F]);var be=he[F+"End"];void 0===be&&(be=he[F]);var ke=be-xe;"end"===fe?ae+=ke:"middle"===fe&&(ae+=ke/2)}ae=B.d2c(ae)}return ue&&ue.t&&ue.t.posLetter===B._id&&("group"!==Y.boxmode&&"group"!==Y.violinmode||(ae+=ue.t.dPos)),ae}function $(F){return F.offsetTop+F.clientTop}function se(F){return F.offsetLeft+F.clientLeft}function ee(F,O){var Y=F._fullLayout,B=O.getBoundingClientRect(),ae=B.x,ue=B.y,fe=ae+B.width,he=ue+B.height,xe=c.apply3DTransform(Y._invTransform)(ae,ue),be=c.apply3DTransform(Y._invTransform)(fe,he),ke=xe[0],Pe=xe[1],Re=be[0],Ue=be[1];return{x:ke,y:Pe,width:Re-ke,height:Ue-Pe,top:Math.min(Pe,Ue),left:Math.min(ke,Re),right:Math.max(ke,Re),bottom:Math.max(Pe,Ue)}}},{"../../lib":232,"../../lib/events":225,"../../lib/override_cursor":243,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../legend/defaults":154,"../legend/draw":155,"./constants":136,"./helpers":138,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],140:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../color"),p=v("./helpers").isUnifiedHover;pe.exports=function(c,l,m,d){d=d||{};var h=l.legend;function u(C){d.font[C]||(d.font[C]=h?l.legend.font[C]:l.font[C])}l&&p(l.hovermode)&&(d.font||(d.font={}),u("size"),u("family"),u("color"),h?(d.bgcolor||(d.bgcolor=g.combine(l.legend.bgcolor,l.paper_bgcolor)),d.bordercolor||(d.bordercolor=l.legend.bordercolor)):d.bgcolor||(d.bgcolor=l.paper_bgcolor)),m("hoverlabel.bgcolor",d.bgcolor),m("hoverlabel.bordercolor",d.bordercolor),m("hoverlabel.namelength",d.namelength),s.coerceFont(m,"hoverlabel.font",d.font),m("hoverlabel.align",d.align)}},{"../../lib":232,"../color":102,"./helpers":138}],141:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("./layout_attributes");pe.exports=function(p,c){function l(m,d){return void 0!==c[m]?c[m]:s.coerce(p,c,g,m,d)}return l("clickmode"),l("hovermode")}},{"../../lib":232,"./layout_attributes":143}],142:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../lib"),p=v("../dragelement"),c=v("./helpers"),l=v("./layout_attributes"),m=v("./hover");pe.exports={moduleType:"component",name:"fx",constants:v("./constants"),schema:{layout:l},attributes:v("./attributes"),layoutAttributes:l,supplyLayoutGlobalDefaults:v("./layout_global_defaults"),supplyDefaults:v("./defaults"),supplyLayoutDefaults:v("./layout_defaults"),calc:v("./calc"),getDistanceFunction:c.getDistanceFunction,getClosest:c.getClosest,inbox:c.inbox,quadrature:c.quadrature,appendArrayPointValue:c.appendArrayPointValue,castHoverOption:function(d,h,u){return g.castOption(d,h,"hoverlabel."+u)},castHoverinfo:function(d,h,u){return g.castOption(d,u,"hoverinfo",function(C){return g.coerceHoverinfo({hoverinfo:C},{_module:d._module},h)})},hover:m.hover,unhover:p.unhover,loneHover:m.loneHover,loneUnhover:function(d){var h=g.isD3Selection(d)?d:s.select(d);h.selectAll("g.hovertext").remove(),h.selectAll(".spikeline").remove()},click:v("./click")}},{"../../lib":232,"../dragelement":121,"./attributes":133,"./calc":134,"./click":135,"./constants":136,"./defaults":137,"./helpers":138,"./hover":139,"./layout_attributes":143,"./layout_defaults":144,"./layout_global_defaults":145,"@plotly/d3":11}],143:[function(v,pe,J){"use strict";var s=v("./constants"),g=v("../../plots/font_attributes"),p=g({editType:"none"});p.family.dflt=s.HOVERFONT,p.size.dflt=s.HOVERFONTSIZE,pe.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:p,grouptitlefont:g({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":310,"./constants":136}],144:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("./layout_attributes"),p=v("./hovermode_defaults"),c=v("./hoverlabel_defaults");pe.exports=function(l,m){function d(b,M){return s.coerce(l,m,g,b,M)}p(l,m)&&(d("hoverdistance"),d("spikedistance")),"select"===d("dragmode")&&d("selectdirection");var h=m._has("mapbox"),u=m._has("geo"),C=m._basePlotModules.length;"zoom"===m.dragmode&&((h||u)&&1===C||h&&u&&2===C)&&(m.dragmode="pan"),c(l,m,d),s.coerceFont(d,"hoverlabel.grouptitlefont",m.hoverlabel.font)}},{"../../lib":232,"./hoverlabel_defaults":140,"./hovermode_defaults":141,"./layout_attributes":143}],145:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("./hoverlabel_defaults"),p=v("./layout_attributes");pe.exports=function(c,l){g(c,l,function(m,d){return s.coerce(c,l,p,m,d)})}},{"../../lib":232,"./hoverlabel_defaults":140,"./layout_attributes":143}],146:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../lib/regex").counter,p=v("../../plots/domain").attributes,c=v("../../plots/cartesian/constants").idRegex,l=v("../../plot_api/plot_template"),m={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[g("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[c.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[c.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:p({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function d(C,b,M){var w=b[M+"axes"],N=Object.keys((C._splomAxes||{})[M]||{});return Array.isArray(w)?w:N.length?N:void 0}function h(C,b,M,w,N,A){var k=b(C+"gap",M),H=b("domain."+C);b(C+"side",w);for(var L=new Array(N),I=H[0],D=(H[1]-I)/(N-k),E=D*(1-k),P=0;P<N;P++){var S=I+D*P;L[A?N-1-P:P]=[S,S+E]}return L}function u(C,b,M,w,N){var A,k=new Array(M);function H(L,I){-1!==b.indexOf(I)&&void 0===w[I]?(k[L]=I,w[I]=L):k[L]=""}if(Array.isArray(C))for(A=0;A<M;A++)H(A,C[A]);else for(H(0,N),A=1;A<M;A++)H(A,N+(A+1));return k}pe.exports={moduleType:"component",name:"grid",schema:{layout:{grid:m}},layoutAttributes:m,sizeDefaults:function(C,b){var M=C.grid||{},w=d(b,M,"x"),N=d(b,M,"y");if(C.grid||w||N){var A,k,H=Array.isArray(M.subplots)&&Array.isArray(M.subplots[0]),L=Array.isArray(w),I=Array.isArray(N),D=L&&w!==M.xaxes&&I&&N!==M.yaxes;H?(A=M.subplots.length,k=M.subplots[0].length):(I&&(A=N.length),L&&(k=w.length));var E=l.newContainer(b,"grid"),P=Z("rows",A),S=Z("columns",k);if(P*S>1){!H&&!L&&!I&&"independent"===Z("pattern")&&(H=!0),E._hasSubplotGrid=H;var R,G,z="top to bottom"===Z("roworder"),W=H?.3:.1;D&&b._splomGridDflt&&(R=b._splomGridDflt.xside,G=b._splomGridDflt.yside),E._domains={x:h("x",Z,H?.2:.1,R,S),y:h("y",Z,W,G,P,z)}}else delete b.grid}function Z(ne,te){return s.coerce(M,E,m,ne,te)}},contentDefaults:function(C,b){var M=b.grid;if(M&&M._domains){var w,N,A,k,H,L,I,D=C.grid||{},E=b._subplots,P=M._hasSubplotGrid,S=M.rows,R=M.columns,G="independent"===M.pattern,z=M._axisMap={};if(P){var X=D.subplots||[];L=M.subplots=new Array(S);var W=1;for(w=0;w<S;w++){var Z=L[w]=new Array(R),ne=X[w]||[];for(N=0;N<R;N++)if(G?(H=1===W?"xy":"x"+W+"y"+W,W++):H=ne[N],Z[N]="",-1!==E.cartesian.indexOf(H)){if(I=H.indexOf("y"),A=H.slice(0,I),k=H.slice(I),void 0!==z[A]&&z[A]!==N||void 0!==z[k]&&z[k]!==w)continue;Z[N]=H,z[A]=N,z[k]=w}}}else{var te=d(b,D,"x"),oe=d(b,D,"y");M.xaxes=u(te,E.xaxis,R,z,"x"),M.yaxes=u(oe,E.yaxis,S,z,"y")}var Ce=M._anchors={},ie="top to bottom"===M.roworder;for(var Q in z){var le,j,$,se=Q.charAt(0),ee=M[se+"side"];if(ee.length<8)Ce[Q]="free";else if("x"===se){if("t"===ee.charAt(0)===ie?(le=0,j=1,$=S):(le=S-1,j=-1,$=-1),P){var F=z[Q];for(w=le;w!==$;w+=j)if((H=L[w][F])&&(I=H.indexOf("y"),H.slice(0,I)===Q)){Ce[Q]=H.slice(I);break}}else for(w=le;w!==$;w+=j)if(-1!==E.cartesian.indexOf(Q+(k=M.yaxes[w]))){Ce[Q]=k;break}}else if("l"===ee.charAt(0)?(le=0,j=1,$=R):(le=R-1,j=-1,$=-1),P){var O=z[Q];for(w=le;w!==$;w+=j)if((H=L[O][w])&&(I=H.indexOf("y"),H.slice(I)===Q)){Ce[Q]=H.slice(0,I);break}}else for(w=le;w!==$;w+=j)if(-1!==E.cartesian.indexOf((A=M.xaxes[w])+Q)){Ce[Q]=A;break}}}}}},{"../../lib":232,"../../lib/regex":248,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/domain":309}],147:[function(v,pe,J){"use strict";var s=v("../../plots/cartesian/constants"),g=v("../../plot_api/plot_template").templatedArray;v("../../constants/axis_placeable_objects"),pe.exports=g("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",s.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",s.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286}],148:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib/to_log_range");pe.exports=function(p,c,l,m){c=c||{};var d="log"===l&&"linear"===c.type;if(d||"linear"===l&&"log"===c.type)for(var u,C,b=p._fullLayout.images,M=c._id.charAt(0),w=0;w<b.length;w++)if(C="images["+w+"].",(u=b[w])[M+"ref"]===c._id){var N=u[M],A=u["size"+M],k=null,H=null;if(d){k=g(N,c.range);var L=A/Math.pow(10,k)/2;H=2*Math.log(L+Math.sqrt(1+L*L))/Math.LN10}else H=(k=Math.pow(10,N))*(Math.pow(10,A/2)-Math.pow(10,-A/2));s(k)?s(H)||(H=null):(k=null,H=null),m(C+M,k),m(C+"size"+M,H)}}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],149:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plots/cartesian/axes"),p=v("../../plots/array_container_defaults"),c=v("./attributes");function l(m,d,h){function u(k,H){return s.coerce(m,d,c,k,H)}var C=u("source");if(!u("visible",!!C))return d;u("layer"),u("xanchor"),u("yanchor"),u("sizex"),u("sizey"),u("sizing"),u("opacity");for(var b={_fullLayout:h},M=["x","y"],w=0;w<2;w++){var N=M[w],A=g.coerceRef(m,d,b,N,"paper",void 0);"paper"!==A&&g.getFromId(b,A)._imgIndices.push(d._index),g.coercePosition(d,b,u,A,N,0)}return d}pe.exports=function(m,d){p(m,d,{name:"images",handleItemDefaults:l})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":147}],150:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../drawing"),p=v("../../plots/cartesian/axes"),c=v("../../plots/cartesian/axis_ids"),l=v("../../constants/xmlns_namespaces");pe.exports=function(m){var d,h,u=m._fullLayout,C=[],b={},M=[];for(h=0;h<u.images.length;h++){var w=u.images[h];if(w.visible)if("below"===w.layer&&"paper"!==w.xref&&"paper"!==w.yref){d=c.ref2id(w.xref)+c.ref2id(w.yref);var N=u._plots[d];if(!N){M.push(w);continue}N.mainplot&&(d=N.mainplot.id),b[d]||(b[d]=[]),b[d].push(w)}else"above"===w.layer?C.push(w):M.push(w)}var A={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},k={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function H(R){var G=s.select(this);if(this._imgSrc!==R.source)if(G.attr("xmlns",l.svg),R.source&&"data:"===R.source.slice(0,5))G.attr("xlink:href",R.source),this._imgSrc=R.source;else{var z=new Promise(function(X){var W=new Image;function Z(){G.remove(),X()}this.img=W,W.setAttribute("crossOrigin","anonymous"),W.onerror=Z,W.onload=function(){var ne=document.createElement("canvas");ne.width=this.width,ne.height=this.height,ne.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var te=ne.toDataURL("image/png");G.attr("xlink:href",te),X()},G.on("error",Z),W.src=R.source,this._imgSrc=R.source}.bind(this));m._promises.push(z)}}function L(R){var G,z,X=s.select(this),W=p.getFromId(m,R.xref),Z=p.getFromId(m,R.yref),ne="domain"===p.getRefType(R.xref),te="domain"===p.getRefType(R.yref),oe=u._size;G=void 0!==W?"string"==typeof R.xref&&ne?W._length*R.sizex:Math.abs(W.l2p(R.sizex)-W.l2p(0)):R.sizex*oe.w,z=void 0!==Z?"string"==typeof R.yref&&te?Z._length*R.sizey:Math.abs(Z.l2p(R.sizey)-Z.l2p(0)):R.sizey*oe.h;var Ce,ie,Q=G*A[R.xanchor].offset,le=z*k[R.yanchor].offset,j=A[R.xanchor].sizing+k[R.yanchor].sizing;switch(Ce=void 0!==W?"string"==typeof R.xref&&ne?W._length*R.x+W._offset:W.r2p(R.x)+W._offset:R.x*oe.w+oe.l,Ce+=Q,ie=void 0!==Z?"string"==typeof R.yref&&te?Z._length*(1-R.y)+Z._offset:Z.r2p(R.y)+Z._offset:oe.h-R.y*oe.h+oe.t,ie+=le,R.sizing){case"fill":j+=" slice";break;case"stretch":j="none"}X.attr({x:Ce,y:ie,width:G,height:z,preserveAspectRatio:j,opacity:R.opacity});var $=(W&&"domain"!==p.getRefType(R.xref)?W._id:"")+(Z&&"domain"!==p.getRefType(R.yref)?Z._id:"");g.setClipUrl(X,$?"clip"+u._uid+$:null,m)}var I=u._imageLowerLayer.selectAll("image").data(M),D=u._imageUpperLayer.selectAll("image").data(C);I.enter().append("image"),D.enter().append("image"),I.exit().remove(),D.exit().remove(),I.each(function(R){H.bind(this)(R),L.bind(this)(R)}),D.each(function(R){H.bind(this)(R),L.bind(this)(R)});var E=Object.keys(u._plots);for(h=0;h<E.length;h++){var P=u._plots[d=E[h]];if(P.imagelayer){var S=P.imagelayer.selectAll("image").data(b[d]||[]);S.enter().append("image"),S.exit().remove(),S.each(function(R){H.bind(this)(R),L.bind(this)(R)})}}}},{"../../constants/xmlns_namespaces":213,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_ids":283,"../drawing":124,"@plotly/d3":11}],151:[function(v,pe,J){"use strict";pe.exports={moduleType:"component",name:"images",layoutAttributes:v("./attributes"),supplyLayoutDefaults:v("./defaults"),includeBasePlot:v("../../plots/cartesian/include_components")("images"),draw:v("./draw"),convertCoords:v("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":147,"./convert_coords":148,"./defaults":149,"./draw":150}],152:[function(v,pe,J){"use strict";var s=v("../../plots/font_attributes"),g=v("../color/attributes");pe.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:s({editType:"legend"}),grouptitlefont:s({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:s({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":310,"../color/attributes":101}],153:[function(v,pe,J){"use strict";pe.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},{}],154:[function(v,pe,J){"use strict";var s=v("../../registry"),g=v("../../lib"),p=v("../../plot_api/plot_template"),c=v("../../plots/attributes"),l=v("./attributes"),m=v("../../plots/layout_attributes"),d=v("./helpers");pe.exports=function(h,u,C){var b,M=h.legend||{},w=p.newContainer(u,"legend");function N(Z,ne){return g.coerce(M,w,l,Z,ne)}for(var A=function(Z,ne){return g.coerce(b._input,b,c,Z,ne)},k=u.font||{},H=g.coerceFont(N,"grouptitlefont",g.extendFlat({},k,{size:Math.round(1.1*k.size)})),L=0,I=!1,D="normal",E=0;E<C.length;E++)(b=C[E]).visible&&((b.showlegend||b._dfltShowLegend&&!(b._module&&b._module.attributes&&b._module.attributes.showlegend&&!1===b._module.attributes.showlegend.dflt))&&(L++,b.showlegend&&(I=!0,(s.traceIs(b,"pie-like")||!0===b._input.showlegend)&&L++),g.coerceFont(A,"legendgrouptitle.font",H)),(s.traceIs(b,"bar")&&"stack"===u.barmode||-1!==["tonextx","tonexty"].indexOf(b.fill))&&(D=d.isGrouped({traceorder:D})?"grouped+reversed":"reversed"),void 0!==b.legendgroup&&""!==b.legendgroup&&(D=d.isReversed({traceorder:D})?"reversed+grouped":"grouped"));var P=g.coerce(h,u,m,"showlegend",I&&L>1);if(!1===P&&(u.legend=void 0),(!1!==P||M.uirevision)&&(N("uirevision",u.uirevision),!1!==P)){N("bgcolor",u.paper_bgcolor),N("bordercolor"),N("borderwidth");var S,R,G,z=g.coerceFont(N,"font",u.font),X="h"===N("orientation");if(X?(S=0,s.getComponentMethod("rangeslider","isVisible")(h.xaxis)?(R=1.1,G="bottom"):(R=-.1,G="top")):(S=1.02,R=1,G="auto"),N("traceorder",D),d.isGrouped(u.legend)&&N("tracegroupgap"),N("itemsizing"),N("itemwidth"),N("itemclick"),N("itemdoubleclick"),N("groupclick"),N("x",S),N("xanchor"),N("y",R),N("yanchor",G),N("valign"),g.noneOrAll(M,w,["x","y"]),N("title.text")){N("title.side",X?"left":"top");var W=g.extendFlat({},z,{size:g.bigFont(z.size)});g.coerceFont(N,"title.font",W)}}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/attributes":275,"../../plots/layout_attributes":314,"../../registry":318,"./attributes":152,"./helpers":158}],155:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../lib"),p=v("../../plots/plots"),c=v("../../registry"),l=v("../../lib/events"),m=v("../dragelement"),d=v("../drawing"),h=v("../color"),u=v("../../lib/svg_text_utils"),C=v("./handle_click"),b=v("./constants"),M=v("../../constants/alignment"),w=M.LINE_SPACING,N=M.FROM_TL,A=M.FROM_BR,k=v("./get_legend_data"),H=v("./style"),L=v("./helpers");function I(z,X,W,Z,ne){var te=W.data()[0][0].trace,oe={event:ne,node:W.node(),curveNumber:te.index,expandedIndex:te._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};te._group&&(oe.group=te._group),c.traceIs(te,"pie-like")&&(oe.label=W.datum()[0].label),!1!==l.triggerHandler(z,"plotly_legendclick",oe)&&(1===Z?X._clickTimeout=setTimeout(function(){z._fullLayout&&C(W,z,Z)},z._context.doubleClickDelay):2===Z&&(X._clickTimeout&&clearTimeout(X._clickTimeout),z._legendMouseDownTime=0,!1!==l.triggerHandler(z,"plotly_legenddoubleclick",oe)&&C(W,z,Z)))}function D(z,X,W){var Z,ne,te=z.data()[0][0],oe=te.trace,Ce=c.traceIs(oe,"pie-like"),ie=!W._inHover&&X._context.edits.legendText&&!Ce,Q=W._maxNameLength;te.groupTitle?(Z=te.groupTitle.text,ne=te.groupTitle.font):(ne=W.font,W.entries?Z=te.text:(Z=Ce?te.label:oe.name,oe._meta&&(Z=g.templateString(Z,oe._meta))));var le=g.ensureSingle(z,"text","legendtext");le.attr("text-anchor","start").call(d.font,ne).text(ie?E(Z,Q):Z),u.positionText(le,W.itemwidth+2*b.itemGap,0),ie?le.call(u.makeEditable,{gd:X,text:Z}).call(S,z,X,W).on("edit",function($){this.text(E($,Q)).call(S,z,X,W);var se=te.trace._fullInput||{},ee={};if(c.hasTransform(se,"groupby")){var F=c.getTransformIndices(se,"groupby"),Y=g.keyedContainer(se,"transforms["+F[F.length-1]+"].styles","target","value.name");Y.set(te.trace._group,$),ee=Y.constructUpdate()}else ee.name=$;return c.call("_guiRestyle",X,ee,oe.index)}):S(le,z,X,W)}function E(z,X){var W=Math.max(4,X);if(z&&z.trim().length>=W/2)return z;for(var Z=W-(z=z||"").length;Z>0;Z--)z+=" ";return z}function P(z,X){var W,Z=X._context.doubleClickDelay,ne=1,te=g.ensureSingle(z,"rect","legendtoggle",function(oe){X._context.staticPlot||oe.style("cursor","pointer").attr("pointer-events","all"),oe.call(h.fill,"rgba(0,0,0,0)")});X._context.staticPlot||(te.on("mousedown",function(){(W=(new Date).getTime())-X._legendMouseDownTime<Z?ne+=1:(ne=1,X._legendMouseDownTime=W)}),te.on("mouseup",function(){if(!X._dragged&&!X._editing){var oe=X._fullLayout.legend;(new Date).getTime()-X._legendMouseDownTime>Z&&(ne=Math.max(ne-1,1)),I(X,oe,z,ne,s.event)}}))}function S(z,X,W,Z,ne){Z._inHover&&z.attr("data-notex",!0),u.convertToTspans(z,W,function(){!function(te,oe,Ce,ie){var Q=te.data()[0][0];if(Ce._inHover||!Q||Q.trace.showlegend){var le=te.select("g[class*=math-group]"),j=le.node();Ce||(Ce=oe._fullLayout.legend);var ee,F,se=Ce.borderwidth,O=(1===ie?Ce.title.font:Q.groupTitle?Q.groupTitle.font:Ce.font).size*w;if(j){var Y=d.bBox(j);ee=Y.height,F=Y.width,1===ie?d.setTranslate(le,se,se+.75*ee):d.setTranslate(le,0,.25*ee)}else{var B=te.select(1===ie?".legendtitletext":".legendtext"),ae=u.lineCount(B),ue=B.node();if(ee=O*ae,F=ue?d.bBox(ue).width:0,1===ie)"left"===Ce.title.side&&(F+=2*b.itemGap),u.positionText(B,se+b.titlePad,se+O);else{var fe=2*b.itemGap+Ce.itemwidth;Q.groupTitle&&(fe=b.itemGap,F-=Ce.itemwidth),u.positionText(B,fe,-O*((ae-1)/2-.3))}}1===ie?(Ce._titleWidth=F,Ce._titleHeight=ee):(Q.lineHeight=O,Q.height=Math.max(ee,16)+3,Q.width=F)}else te.remove()}(X,W,Z,ne)})}function R(z){return g.isRightAnchor(z)?"right":g.isCenterAnchor(z)?"center":"left"}function G(z){return g.isBottomAnchor(z)?"bottom":g.isMiddleAnchor(z)?"middle":"top"}pe.exports=function(z,X){return X||(X=z._fullLayout.legend||{}),function(W,Z){var ne,te,oe=W._fullLayout,Ce="legend"+oe._uid,ie=Z._inHover;if(ie?(ne=Z.layer,Ce+="-hover"):ne=oe._infolayer,ne){if(W._legendMouseDownTime||(W._legendMouseDownTime=0),ie){if(!Z.entries)return;te=k(Z.entries,Z)}else{if(!W.calcdata)return;te=oe.showlegend&&k(W.calcdata,Z)}var Q=oe.hiddenlabels||[];if(!(ie||oe.showlegend&&te.length))return ne.selectAll(".legend").remove(),oe._topdefs.select("#"+Ce).remove(),p.autoMargin(W,"legend");var le=g.ensureSingle(ne,"g","legend",function(ae){ie||ae.attr("pointer-events","all")}),j=g.ensureSingleById(oe._topdefs,"clipPath",Ce,function(ae){ae.append("rect")}),$=g.ensureSingle(le,"rect","bg",function(ae){ae.attr("shape-rendering","crispEdges")});$.call(h.stroke,Z.bordercolor).call(h.fill,Z.bgcolor).style("stroke-width",Z.borderwidth+"px");var se=g.ensureSingle(le,"g","scrollbox"),ee=Z.title;if(Z._titleWidth=0,Z._titleHeight=0,ee.text){var F=g.ensureSingle(se,"text","legendtitletext");F.attr("text-anchor","start").call(d.font,ee.font).text(ee.text),S(F,se,W,Z,1)}else se.selectAll(".legendtitletext").remove();var O=g.ensureSingle(le,"rect","scrollbar",function(ae){ae.attr(b.scrollBarEnterAttrs).call(h.fill,b.scrollBarColor)}),Y=se.selectAll("g.groups").data(te);Y.enter().append("g").attr("class","groups"),Y.exit().remove();var B=Y.selectAll("g.traces").data(g.identity);B.enter().append("g").attr("class","traces"),B.exit().remove(),B.style("opacity",function(ae){var ue=ae[0].trace;return c.traceIs(ue,"pie-like")?-1!==Q.indexOf(ae[0].label)?.5:1:"legendonly"===ue.visible?.5:1}).each(function(){s.select(this).call(D,W,Z)}).call(H,W,Z).each(function(){ie||s.select(this).call(P,W)}),g.syncOrAsync([p.previousPromises,function(){return function(ae,ue,fe,he){var xe=ae._fullLayout;he||(he=xe.legend);var be=xe._size,ke=L.isVertical(he),Pe=L.isGrouped(he),Re=he.borderwidth,Ue=2*Re,tt=b.itemGap,Ke=he.itemwidth+2*tt,$e=2*(Re+tt),Me=G(he),ve=he.y<0||0===he.y&&"top"===Me,Se=he.y>1||1===he.y&&"bottom"===Me,Te=he.tracegroupgap;he._maxHeight=Math.max(ve||Se?xe.height/2:be.h,30);var qe=0;he._width=0,he._height=0;var qt,Nt,ge,_e,Oe=(Nt=0,ge=0,(_e=(qt=he).title.side)&&(-1!==_e.indexOf("left")&&(Nt=qt._titleWidth),-1!==_e.indexOf("top")&&(ge=qt._titleHeight)),[Nt,ge]);if(ke)fe.each(function(qt){var Nt=qt[0].height;d.setTranslate(this,Re+Oe[0],Re+Oe[1]+he._height+Nt/2+tt),he._height+=Nt,he._width=Math.max(he._width,qt[0].width)}),qe=Ke+he._width,he._width+=tt+Ke+Ue,he._height+=$e,Pe&&(ue.each(function(qt,Nt){d.setTranslate(this,0,Nt*he.tracegroupgap)}),he._height+=(he._lgroupsLength-1)*he.tracegroupgap);else{var Fe=R(he),Ye=Se||ve,rt=xe.width/2;he._maxWidth=Math.max(he.x<0||0===he.x&&"right"===Fe?Ye&&"left"===Fe?be.l+be.w:rt:he.x>1||1===he.x&&"left"===Fe?Ye&&"right"===Fe?be.r+be.w:rt:be.w,2*Ke);var ht=0,Xe=0;fe.each(function(qt){var Nt=qt[0].width+Ke;ht=Math.max(ht,Nt),Xe+=Nt}),qe=null;var gt=0;if(Pe){var xt=0,bt=0,Ot=0;ue.each(function(){var qt=0,Nt=0;s.select(this).selectAll("g.traces").each(function(_e){var We=_e[0].width,Je=_e[0].height;d.setTranslate(this,Oe[0],Oe[1]+Re+tt+Je/2+Nt),Nt+=Je,qt=Math.max(qt,Ke+We)});var ge=qt+tt;bt>0&&ge+Re+bt>he._maxWidth?(gt=Math.max(gt,bt),bt=0,Ot+=xt+Te,xt=Nt):xt=Math.max(xt,Nt),d.setTranslate(this,bt,Ot),bt+=ge}),he._width=Math.max(gt,bt)+Re,he._height=Ot+xt+$e}else{var wt=fe.size(),Be=Xe+Ue+(wt-1)*tt<he._maxWidth,Ge=0,vt=0,Pt=0,Jt=0;fe.each(function(qt){var Nt=qt[0].height,ge=Ke+qt[0].width,_e=(Be?ge:ht)+tt;_e+Re+vt-tt>=he._maxWidth&&(gt=Math.max(gt,Jt),vt=0,Pt+=Ge,he._height+=Ge,Ge=0),d.setTranslate(this,Oe[0]+Re+vt,Oe[1]+Re+Pt+Nt/2+tt),Jt=vt+ge+tt,vt+=_e,Ge=Math.max(Ge,Nt)}),Be?(he._width=vt+Ue,he._height=Ge+$e):(he._width=Math.max(gt,Jt)+Ue,he._height+=Ge+$e)}}he._width=Math.ceil(Math.max(he._width+Oe[0],he._titleWidth+2*(Re+b.titlePad))),he._height=Math.ceil(Math.max(he._height+Oe[1],he._titleHeight+2*(Re+b.itemGap))),he._effHeight=Math.min(he._height,he._maxHeight);var tn=ae._context.edits,Kt=tn.legendText||tn.legendPosition;fe.each(function(qt){var Nt=s.select(this).select(".legendtoggle"),ge=qt[0].height,_e=Kt?Ke:qe||Ke+qt[0].width;ke||(_e+=tt/2),d.setRect(Nt,0,-ge/2,_e,ge)})}(W,Y,B,Z)},function(){var ae,ue,fe,he,Ye,rt,ht,Xe,xe=oe._size,be=Z.borderwidth;if(!ie){if(ht=R(rt=(Ye=W)._fullLayout.legend),Xe=G(rt),p.autoMargin(Ye,"legend",{x:rt.x,y:rt.y,l:rt._width*N[ht],r:rt._width*A[ht],b:rt._effHeight*A[Xe],t:rt._effHeight*N[Xe]}))return;var ke=xe.l+xe.w*Z.x-N[R(Z)]*Z._width,Pe=xe.t+xe.h*(1-Z.y)-N[G(Z)]*Z._effHeight;if(oe.margin.autoexpand){var Re=ke,Ue=Pe;ke=g.constrain(ke,0,oe.width-Z._width),Pe=g.constrain(Pe,0,oe.height-Z._effHeight),ke!==Re&&g.log("Constrain legend.x to make legend fit inside graph"),Pe!==Ue&&g.log("Constrain legend.y to make legend fit inside graph")}d.setTranslate(le,ke,Pe)}if(O.on(".drag",null),le.on("wheel",null),ie||Z._height<=Z._maxHeight||W._context.staticPlot){var tt=Z._effHeight;ie&&(tt=Z._height),$.attr({width:Z._width-be,height:tt-be,x:be/2,y:be/2}),d.setTranslate(se,0,0),j.select("rect").attr({width:Z._width-2*be,height:tt-2*be,x:be,y:be}),d.setClipUrl(se,Ce,W),d.setRect(O,0,0,0,0),delete Z._scrollY}else{var Ke,Me,ve=Math.max(b.scrollBarMinHeight,Z._effHeight*Z._effHeight/Z._height),Se=Z._effHeight-ve-2*b.scrollBarMargin,Te=Z._height-Z._effHeight,qe=Se/Te,Oe=Math.min(Z._scrollY||0,Te);$.attr({width:Z._width-2*be+b.scrollBarWidth+b.scrollBarMargin,height:Z._effHeight-be,x:be/2,y:be/2}),j.select("rect").attr({width:Z._width-2*be+b.scrollBarWidth+b.scrollBarMargin,height:Z._effHeight-2*be,x:be,y:be+Oe}),d.setClipUrl(se,Ce,W),nt(Oe,ve,qe),le.on("wheel",function(){nt(Oe=g.constrain(Z._scrollY+s.event.deltaY/Se*Te,0,Te),ve,qe),0!==Oe&&Oe!==Te&&s.event.preventDefault()});var Fe=s.behavior.drag().on("dragstart",function(){var Ye=s.event.sourceEvent;Ke="touchstart"===Ye.type?Ye.changedTouches[0].clientY:Ye.clientY,Me=Oe}).on("drag",function(){var Ye=s.event.sourceEvent;2===Ye.buttons||Ye.ctrlKey||nt(Oe=function(rt,ht,Xe){return g.constrain((Xe-ht)/qe+rt,0,Te)}(Me,Ke,"touchmove"===Ye.type?Ye.changedTouches[0].clientY:Ye.clientY),ve,qe)});O.call(Fe);var Qe=s.behavior.drag().on("dragstart",function(){var Ye=s.event.sourceEvent;"touchstart"===Ye.type&&(Ke=Ye.changedTouches[0].clientY,Me=Oe)}).on("drag",function(){var Ye=s.event.sourceEvent;"touchmove"===Ye.type&&nt(Oe=function(rt,ht,Xe){return g.constrain((ht-Xe)/qe+rt,0,Te)}(Me,Ke,Ye.changedTouches[0].clientY),ve,qe)});se.call(Qe)}function nt(Ye,rt,ht){Z._scrollY=W._fullLayout.legend._scrollY=Ye,d.setTranslate(se,0,-Ye),d.setRect(O,Z._width,b.scrollBarMargin+Ye*ht,b.scrollBarWidth,rt),j.select("rect").attr("y",be+Ye)}W._context.edits.legendPosition&&(le.classed("cursor-move",!0),m.init({element:le.node(),gd:W,prepFn:function(){var Ye=d.getTranslate(le);fe=Ye.x,he=Ye.y},moveFn:function(Ye,rt){var ht=fe+Ye,Xe=he+rt;d.setTranslate(le,ht,Xe),ae=m.align(ht,0,xe.l,xe.l+xe.w,Z.xanchor),ue=m.align(Xe,0,xe.t+xe.h,xe.t,Z.yanchor)},doneFn:function(){void 0!==ae&&void 0!==ue&&c.call("_guiRelayout",W,{"legend.x":ae,"legend.y":ue})},clickFn:function(Ye,rt){var ht=ne.selectAll("g.traces").filter(function(){var Xe=this.getBoundingClientRect();return rt.clientX>=Xe.left&&rt.clientX<=Xe.right&&rt.clientY>=Xe.top&&rt.clientY<=Xe.bottom});ht.size()>0&&I(W,le,ht,Ye,rt)}}))}],W)}}(z,X)}},{"../../constants/alignment":207,"../../lib":232,"../../lib/events":225,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"./constants":153,"./get_legend_data":156,"./handle_click":157,"./helpers":158,"./style":160,"@plotly/d3":11}],156:[function(v,pe,J){"use strict";var s=v("../../registry"),g=v("./helpers");pe.exports=function(p,c){var l,m,d=c._inHover,h=g.isGrouped(c),u=g.isReversed(c),C={},b=[],M=!1,w={},N=0,A=0;function k(oe,Ce){if(""!==oe&&g.isGrouped(c))-1===b.indexOf(oe)?(b.push(oe),M=!0,C[oe]=[Ce]):C[oe].push(Ce);else{var ie="~~i"+N;b.push(ie),C[ie]=[Ce],N++}}for(l=0;l<p.length;l++){var H=p[l],L=H[0],I=L.trace,D=I.legendgroup;if(d||I.visible&&I.showlegend)if(s.traceIs(I,"pie-like"))for(w[D]||(w[D]={}),m=0;m<H.length;m++){var E=H[m].label;w[D][E]||(k(D,{label:E,color:H[m].color,i:H[m].i,trace:I,pts:H[m].pts}),w[D][E]=!0,A=Math.max(A,(E||"").length))}else k(D,L),A=Math.max(A,(I.name||"").length)}if(!b.length)return[];var P=!M||!h,S=[];for(l=0;l<b.length;l++){var R=C[b[l]];S.push(P?R[0]:R)}for(P&&(S=[S]),l=0;l<S.length;l++){var G=1/0;for(m=0;m<S[l].length;m++){var z=S[l][m].trace.legendrank;G>z&&(G=z)}S[l][0]._groupMinRank=G,S[l][0]._preGroupSort=l}var X=function(oe,Ce){return oe.trace.legendrank-Ce.trace.legendrank||oe._preSort-Ce._preSort};for(S.forEach(function(oe,Ce){oe[0]._preGroupSort=Ce}),S.sort(function(oe,Ce){return oe[0]._groupMinRank-Ce[0]._groupMinRank||oe[0]._preGroupSort-Ce[0]._preGroupSort}),l=0;l<S.length;l++){S[l].forEach(function(oe,Ce){oe._preSort=Ce}),S[l].sort(X);var W=S[l][0].trace,Z=null;for(m=0;m<S[l].length;m++){var ne=S[l][m].trace.legendgrouptitle;if(ne&&ne.text){Z=ne,d&&(ne.font=c._groupTitleFont);break}}if(u&&S[l].reverse(),Z){var te=!1;for(m=0;m<S[l].length;m++)if(s.traceIs(S[l][m].trace,"pie-like")){te=!0;break}S[l].unshift({i:-1,groupTitle:Z,noClick:te,trace:{showlegend:W.showlegend,legendgroup:W.legendgroup,visible:"toggleitem"===c.groupclick||W.visible}})}for(m=0;m<S[l].length;m++)S[l][m]=[S[l][m]]}return c._lgroupsLength=S.length,c._maxNameLength=A,S}},{"../../registry":318,"./helpers":158}],157:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../registry"),p=!0;pe.exports=function(c,l,m){var d=l._fullLayout;if(!l._dragged&&!l._editing){var h,u=d.legend.itemclick,C=d.legend.itemdoubleclick,b=d.legend.groupclick;if(1===m&&"toggle"===u&&"toggleothers"===C&&p&&l.data&&l._context.showTips&&s.notifier(s._(l,"Double-click on legend to isolate one trace"),"long"),p=!1,1===m?h=u:2===m&&(h=C),h){var M="togglegroup"===b,w=d.hiddenlabels?d.hiddenlabels.slice():[],N=c.data()[0][0];if(!N.groupTitle||!N.noClick){var A,k,H,L,I,D=l._fullData,E=N.trace,P=E.legendgroup,S={},R=[],G=[],z=[];if(g.traceIs(E,"pie-like")){var X=N.label,W=w.indexOf(X);"toggle"===h?-1===W?w.push(X):w.splice(W,1):"toggleothers"===h&&(w=[],l.calcdata[0].forEach(function(O){X!==O.label&&w.push(O.label)}),l._fullLayout.hiddenlabels&&l._fullLayout.hiddenlabels.length===w.length&&-1===W&&(w=[])),g.call("_guiRelayout",l,"hiddenlabels",w)}else{var Z,ne=P&&P.length,te=[];if(ne)for(A=0;A<D.length;A++)(Z=D[A]).visible&&Z.legendgroup===P&&te.push(A);if("toggle"===h){var oe;switch(E.visible){case!0:oe="legendonly";break;case!1:oe=!1;break;case"legendonly":oe=!0}if(ne)if(M)for(A=0;A<D.length;A++)!1!==D[A].visible&&D[A].legendgroup===P&&F(D[A],oe);else F(E,oe);else F(E,oe)}else if("toggleothers"===h){var Q,j=!0;for(A=0;A<D.length;A++)if(Q=!0!==D[A].showlegend,!(D[A]===E||Q||ne&&D[A].legendgroup===P||!0!==D[A].visible||g.traceIs(D[A],"notLegendIsolatable"))){j=!1;break}for(A=0;A<D.length;A++)if(!1!==D[A].visible&&!g.traceIs(D[A],"notLegendIsolatable"))switch(E.visible){case"legendonly":F(D[A],!0);break;case!0:Q=!0!==D[A].showlegend&&!D[A].legendgroup,F(D[A],!!(D[A]===E||ne&&D[A].legendgroup===P||Q)||!!j||"legendonly")}}for(A=0;A<G.length;A++)if(H=G[A]){var $=H.constructUpdate(),se=Object.keys($);for(k=0;k<se.length;k++)(S[L=se[k]]=S[L]||[])[z[A]]=$[L]}for(I=Object.keys(S),A=0;A<I.length;A++)for(L=I[A],k=0;k<R.length;k++)S[L].hasOwnProperty(k)||(S[L][k]=void 0);g.call("_guiRestyle",l,S,R)}}}}function ee(O,Y,B){var ae=R.indexOf(O),ue=S[Y];return ue||(ue=S[Y]=[]),-1===R.indexOf(O)&&(R.push(O),ae=R.length-1),ue[ae]=B,ae}function F(O,Y){if(!N.groupTitle||M){var B=O._fullInput;if(g.hasTransform(B,"groupby")){var ae=G[B.index];if(!ae){var ue=g.getTransformIndices(B,"groupby");ae=s.keyedContainer(B,"transforms["+ue[ue.length-1]+"].styles","target","value.visible"),G[B.index]=ae}var he=ae.get(O._group);void 0===he&&(he=!0),!1!==he&&ae.set(O._group,Y),z[B.index]=ee(B.index,"visible",!1!==B.visible)}else ee(B.index,"visible",!1!==B.visible&&Y)}}}},{"../../lib":232,"../../registry":318}],158:[function(v,pe,J){"use strict";J.isGrouped=function(s){return-1!==(s.traceorder||"").indexOf("grouped")},J.isVertical=function(s){return"h"!==s.orientation},J.isReversed=function(s){return-1!==(s.traceorder||"").indexOf("reversed")}},{}],159:[function(v,pe,J){"use strict";pe.exports={moduleType:"component",name:"legend",layoutAttributes:v("./attributes"),supplyLayoutDefaults:v("./defaults"),draw:v("./draw"),style:v("./style")}},{"./attributes":152,"./defaults":154,"./draw":155,"./style":160}],160:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../registry"),p=v("../../lib"),c=p.strTranslate,l=v("../drawing"),m=v("../color"),d=v("../colorscale/helpers").extractOpts,h=v("../../traces/scatter/subtypes"),u=v("../../traces/pie/style_one"),C=v("../../traces/pie/helpers").castOption,b=v("./constants");function M(A,k){return(k?"radial":"horizontal")+(A?"":"reversed")}function w(A){var k=A[0].trace,H=k.contours,L=h.hasLines(k),I=h.hasMarkers(k),D=k.visible&&k.fill&&"none"!==k.fill,E=!1,P=!1;if(H){var S=H.coloring;"lines"===S?E=!0:L="none"===S||"heatmap"===S||H.showlines,"constraint"===H.type?D="="!==H._operation:"fill"!==S&&"heatmap"!==S||(P=!0)}return{showMarker:I,showLine:L,showFill:D,showGradientLine:E,showGradientFill:P,anyLine:L||E,anyFill:D||P}}function N(A,k,H){return A&&p.isArrayOrTypedArray(A)?k:A>H?H:A}pe.exports=function(A,k,H){H||(H=k._fullLayout.legend);var I="constant"===H.itemsizing,D=H.itemwidth,P=c((D+2*b.itemGap)/2,0),S=function(z,X,W,Z){var ne;if(z+1)ne=z;else{if(!(X&&X.width>0))return 0;ne=X.width}return I?Z:Math.min(ne,W)};function R(z,X,W){var Z=z[0].trace,ne=Z.marker||{},te=ne.line||{},oe=W?Z.visible&&Z.type===W:g.traceIs(Z,"bar"),Ce=s.select(X).select("g.legendpoints").selectAll("path.legend"+W).data(oe?[z]:[]);Ce.enter().append("path").classed("legend"+W,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),Ce.exit().remove(),Ce.each(function(ie){var Q=s.select(this),le=ie[0],j=S(le.mlw,ne.line,5,2);Q.style("stroke-width",j+"px");var $=le.mcc;if(!H._inHover&&"mc"in le){var se=d(ne),ee=se.mid;void 0===ee&&(ee=(se.max+se.min)/2),$=l.tryColorscale(ne,"")(ee)}var F=$||le.mc||ne.color,O=ne.pattern,Y=O&&l.getPatternAttr(O.shape,0,"");if(Y){var B=l.getPatternAttr(O.bgcolor,0,null),ae=l.getPatternAttr(O.fgcolor,0,null),ue=O.fgopacity,fe=N(O.size,8,10),he=N(O.solidity,.5,1);Q.call(l.pattern,"legend",k,"legend-"+Z.uid,Y,fe,he,$,O.fillmode,B,ae,ue)}else Q.call(m.fill,F);j&&m.stroke(Q,le.mlc||te.color)})}function G(z,X,W){var Z=z[0],ne=Z.trace,te=W?ne.visible&&ne.type===W:g.traceIs(ne,W),oe=s.select(X).select("g.legendpoints").selectAll("path.legend"+W).data(te?[z]:[]);if(oe.enter().append("path").classed("legend"+W,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),oe.exit().remove(),oe.size()){var Ce=(ne.marker||{}).line,ie=S(C(Ce.width,Z.pts),Ce,5,2),Q=p.minExtend(ne,{marker:{line:{width:ie}}});Q.marker.line.color=Ce.color;var le=p.minExtend(Z,{trace:Q});u(oe,le,Q)}}A.each(function(z){var X=s.select(this),W=p.ensureSingle(X,"g","layers");W.style("opacity",z[0].trace.opacity);var Z=H.valign,ne=z[0].lineHeight,te=z[0].height;W.attr("transform","middle"!==Z&&ne&&te?c(0,{top:1,bottom:-1}[Z]*(.5*(ne-te+3))):null),W.selectAll("g.legendfill").data([z]).enter().append("g").classed("legendfill",!0),W.selectAll("g.legendlines").data([z]).enter().append("g").classed("legendlines",!0);var Ce=W.selectAll("g.legendsymbols").data([z]);Ce.enter().append("g").classed("legendsymbols",!0),Ce.selectAll("g.legendpoints").data([z]).enter().append("g").classed("legendpoints",!0)}).each(function(z){var X,W=z[0].trace,Z=[];if(W.visible)switch(W.type){case"histogram2d":case"heatmap":Z=[["M-15,-2V4H15V-2Z"]],X=!0;break;case"choropleth":case"choroplethmapbox":Z=[["M-6,-6V6H6V-6Z"]],X=!0;break;case"densitymapbox":Z=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],X="radial";break;case"cone":Z=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],X=!1;break;case"streamtube":Z=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],X=!1;break;case"surface":Z=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],X=!0;break;case"mesh3d":Z=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],X=!1;break;case"volume":Z=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],X=!0;break;case"isosurface":Z=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],X=!1}var ne=s.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(Z);ne.enter().append("path").classed("legend3dandfriends",!0).attr("transform",P).style("stroke-miterlimit",1),ne.exit().remove(),ne.each(function(te,oe){var Ce,ie=s.select(this),Q=d(W),le=Q.colorscale,j=Q.reversescale;if(le){if(!X){var $=le.length;Ce=0===oe?le[j?$-1:0][1]:1===oe?le[j?0:$-1][1]:le[Math.floor(($-1)/2)][1]}}else{var se=W.vertexcolor||W.facecolor||W.color;Ce=p.isArrayOrTypedArray(se)?se[oe]||se[0]:se}ie.attr("d",te[0]),Ce?ie.call(m.fill,Ce):ie.call(function(ee){ee.size()&&l.gradient(ee,k,"legendfill-"+W.uid,M(j,"radial"===X),le,"fill")})})}).each(function(z){var X=z[0].trace,W="waterfall"===X.type;if(z[0]._distinct&&W){var Z=z[0].trace[z[0].dir].marker;return z[0].mc=Z.color,z[0].mlw=Z.line.width,z[0].mlc=Z.line.color,R(z,this,"waterfall")}var ne=[];X.visible&&W&&(ne=z[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var te=s.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(ne);te.enter().append("path").classed("legendwaterfall",!0).attr("transform",P).style("stroke-miterlimit",1),te.exit().remove(),te.each(function(oe){var Ce=s.select(this),ie=X[oe[0]].marker,Q=S(void 0,ie.line,5,2);Ce.attr("d",oe[1]).style("stroke-width",Q+"px").call(m.fill,ie.color),Q&&Ce.call(m.stroke,ie.line.color)})}).each(function(z){R(z,this,"funnel")}).each(function(z){R(z,this)}).each(function(z){var X=z[0].trace,W=s.select(this).select("g.legendpoints").selectAll("path.legendbox").data(X.visible&&g.traceIs(X,"box-violin")?[z]:[]);W.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),W.exit().remove(),W.each(function(){var Z=s.select(this);if("all"!==X.boxpoints&&"all"!==X.points||0!==m.opacity(X.fillcolor)||0!==m.opacity((X.line||{}).color)){var ne=S(void 0,X.line,5,2);Z.style("stroke-width",ne+"px").call(m.fill,X.fillcolor),ne&&m.stroke(Z,X.line.color)}else{var te=p.minExtend(X,{marker:{size:I?12:p.constrain(X.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});W.call(l.pointStyle,te,k)}})}).each(function(z){G(z,this,"funnelarea")}).each(function(z){G(z,this,"pie")}).each(function(z){var X,W,Z=w(z),ne=Z.showFill,te=Z.showLine,oe=Z.showGradientLine,Ce=Z.showGradientFill,ie=Z.anyFill,Q=Z.anyLine,le=z[0],j=le.trace,$=d(j),se=$.colorscale,ee=$.reversescale,F=h.hasMarkers(j)||!ie?"M5,0":Q?"M5,-2":"M5,-3",O=s.select(this),Y=O.select(".legendfill").selectAll("path").data(ne||Ce?[z]:[]);if(Y.enter().append("path").classed("js-fill",!0),Y.exit().remove(),Y.attr("d",F+"h"+D+"v6h-"+D+"z").call(function(ue){ue.size()&&(ne?l.fillGroupStyle(ue,k):l.gradient(ue,k,"legendfill-"+j.uid,M(ee),se,"fill"))}),te||oe){var B=S(void 0,j.line,10,5);W=p.minExtend(j,{line:{width:B}}),X=[p.minExtend(le,{trace:W})]}var ae=O.select(".legendlines").selectAll("path").data(te||oe?[X]:[]);ae.enter().append("path").classed("js-line",!0),ae.exit().remove(),ae.attr("d",F+(oe?"l"+D+",0.0001":"h"+D)).call(te?l.lineGroupStyle:function(ue){if(ue.size()){var fe="legendline-"+j.uid;l.lineGroupStyle(ue),l.gradient(ue,k,fe,M(ee),se,"stroke")}})}).each(function(z){var X,W,Z=w(z),oe=Z.showLine,Ce=Z.showMarker,ie=z[0],Q=ie.trace,le=!Ce&&!Z.anyLine&&!Z.anyFill&&h.hasText(Q);function j(ae,ue,fe,he){var xe=p.nestedProperty(Q,ae).get(),be=p.isArrayOrTypedArray(xe)&&ue?ue(xe):xe;if(I&&be&&void 0!==he&&(be=he),fe){if(be<fe[0])return fe[0];if(be>fe[1])return fe[1]}return be}function $(ae){return ie._distinct&&ie.index&&ae[ie.index]?ae[ie.index]:ae[0]}if(Ce||le||oe){var se={},ee={};if(Ce){se.mc=j("marker.color",$),se.mx=j("marker.symbol",$),se.mo=j("marker.opacity",p.mean,[.2,1]),se.mlc=j("marker.line.color",$),se.mlw=j("marker.line.width",p.mean,[0,5],2),ee.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var F=j("marker.size",p.mean,[2,16],12);se.ms=F,ee.marker.size=F}oe&&(ee.line={width:j("line.width",$,[0,10],5)}),le&&(se.tx="Aa",se.tp=j("textposition",$),se.ts=10,se.tc=j("textfont.color",$),se.tf=j("textfont.family",$)),X=[p.minExtend(ie,se)],(W=p.minExtend(Q,ee)).selectedpoints=null,W.texttemplate=null}var O=s.select(this).select("g.legendpoints"),Y=O.selectAll("path.scatterpts").data(Ce?X:[]);Y.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",P),Y.exit().remove(),Y.call(l.pointStyle,W,k),Ce&&(X[0].mrc=3);var B=O.selectAll("g.pointtext").data(le?X:[]);B.enter().append("g").classed("pointtext",!0).append("text").attr("transform",P),B.exit().remove(),B.selectAll("text").call(l.textPointStyle,W,k)}).each(function(z){var X=z[0].trace,W=s.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(X.visible&&"candlestick"===X.type?[z,z]:[]);W.enter().append("path").classed("legendcandle",!0).attr("d",function(Z,ne){return ne?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",P).style("stroke-miterlimit",1),W.exit().remove(),W.each(function(Z,ne){var te=s.select(this),oe=X[ne?"increasing":"decreasing"],Ce=S(void 0,oe.line,5,2);te.style("stroke-width",Ce+"px").call(m.fill,oe.fillcolor),Ce&&m.stroke(te,oe.line.color)})}).each(function(z){var X=z[0].trace,W=s.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(X.visible&&"ohlc"===X.type?[z,z]:[]);W.enter().append("path").classed("legendohlc",!0).attr("d",function(Z,ne){return ne?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",P).style("stroke-miterlimit",1),W.exit().remove(),W.each(function(Z,ne){var te=s.select(this),oe=X[ne?"increasing":"decreasing"],Ce=S(void 0,oe.line,5,2);te.style("fill","none").call(l.dashLine,oe.line.dash,Ce),Ce&&m.stroke(te,oe.line.color)})})}},{"../../lib":232,"../../registry":318,"../../traces/pie/helpers":350,"../../traces/pie/style_one":356,"../../traces/scatter/subtypes":383,"../color":102,"../colorscale/helpers":113,"../drawing":124,"./constants":153,"@plotly/d3":11}],161:[function(v,pe,J){"use strict";v("./constants"),pe.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},{"./constants":163}],162:[function(v,pe,J){"use strict";var s=v("../../registry"),g=v("../../plots/plots"),p=v("../../plots/cartesian/axis_ids"),c=v("../../fonts/ploticon"),l=v("../shapes/draw").eraseActiveShape,m=v("../../lib"),d=m._,h=pe.exports={};function u(L,I){var D,E,P=I.currentTarget,S=P.getAttribute("data-attr"),R=P.getAttribute("data-val")||!0,G=L._fullLayout,z={},X=p.list(L,null,!0),W=G._cartesianSpikesEnabled;if("zoom"===S){var Z,ne="in"===R?.5:2,te=(1+ne)/2,oe=(1-ne)/2;for(E=0;E<X.length;E++)if(!(D=X[E]).fixedrange)if(Z=D._name,"auto"===R)z[Z+".autorange"]=!0;else if("reset"===R){if(void 0===D._rangeInitial)z[Z+".autorange"]=!0;else{var Ce=D._rangeInitial.slice();z[Z+".range[0]"]=Ce[0],z[Z+".range[1]"]=Ce[1]}void 0!==D._showSpikeInitial&&(z[Z+".showspikes"]=D._showSpikeInitial,"on"!==W||D._showSpikeInitial||(W="off"))}else{var ie=[D.r2l(D.range[0]),D.r2l(D.range[1])],Q=[te*ie[0]+oe*ie[1],te*ie[1]+oe*ie[0]];z[Z+".range[0]"]=D.l2r(Q[0]),z[Z+".range[1]"]=D.l2r(Q[1])}}else"hovermode"!==S||"x"!==R&&"y"!==R||P.setAttribute("data-val",R=G._isHoriz?"y":"x"),z[S]=R;G._cartesianSpikesEnabled=W,s.call("_guiRelayout",L,z)}function C(L,I){for(var D=I.currentTarget,E=D.getAttribute("data-attr"),P=D.getAttribute("data-val")||!0,S=L._fullLayout._subplots.gl3d||[],R={},G=E.split("."),z=0;z<S.length;z++)R[S[z]+"."+G[1]]=P;R.dragmode="pan"===P?P:"zoom",s.call("_guiRelayout",L,R)}function b(L,I){for(var D=I.currentTarget.getAttribute("data-attr"),E="resetLastSave"===D,P="resetDefault"===D,S=L._fullLayout,R=S._subplots.gl3d||[],G={},z=0;z<R.length;z++){var X,W=R[z],Z=W+".camera",ne=W+".aspectratio",te=W+".aspectmode",oe=S[W]._scene;E?(G[Z+".up"]=oe.viewInitial.up,G[Z+".eye"]=oe.viewInitial.eye,G[Z+".center"]=oe.viewInitial.center,X=!0):P&&(G[Z+".up"]=null,G[Z+".eye"]=null,G[Z+".center"]=null,X=!0),X&&(G[ne+".x"]=oe.viewInitial.aspectratio.x,G[ne+".y"]=oe.viewInitial.aspectratio.y,G[ne+".z"]=oe.viewInitial.aspectratio.z,G[te]=oe.viewInitial.aspectmode)}s.call("_guiRelayout",L,G)}function M(L,I){var D=I.currentTarget,E=D._previousVal,P=L._fullLayout,S=P._subplots.gl3d||[],R=["xaxis","yaxis","zaxis"],G={},z={};if(E)z=E,D._previousVal=null;else{for(var X=0;X<S.length;X++){var W=S[X],Z=P[W],ne=W+".hovermode";G[ne]=Z.hovermode,z[ne]=!1;for(var te=0;te<3;te++){var oe=R[te],Ce=W+"."+oe+".showspikes";z[Ce]=!1,G[Ce]=Z[oe].showspikes}}D._previousVal=G}return z}function w(L,I){for(var D=I.currentTarget,E=D.getAttribute("data-attr"),P=D.getAttribute("data-val")||!0,S=L._fullLayout,R=S._subplots.geo||[],G=0;G<R.length;G++){var z=R[G];if("zoom"===E){var W=S[z].projection.scale;s.call("_guiRelayout",L,z+".projection.scale","in"===P?2*W:.5*W)}}"reset"===E&&H(L,"geo")}function N(L){var I=L._fullLayout;return!I.hovermode&&(I._has("cartesian")?I._isHoriz?"y":"x":"closest")}function A(L){var I=N(L);s.call("_guiRelayout",L,"hovermode",I)}function k(L,I){for(var D=I.currentTarget.getAttribute("data-val"),E=L._fullLayout,P=E._subplots.mapbox||[],S={},R=0;R<P.length;R++){var G=P[R],z=E[G].zoom;S[G+".zoom"]="in"===D?1.05*z:z/1.05}s.call("_guiRelayout",L,S)}function H(L,I){for(var D=L._fullLayout,E=D._subplots[I]||[],P={},S=0;S<E.length;S++)for(var R=E[S],G=D[R]._subplot.viewInitial,z=Object.keys(G),X=0;X<z.length;X++){var W=z[X];P[R+"."+W]=G[W]}s.call("_guiRelayout",L,P)}h.toImage={name:"toImage",title:function(L){return d(L,"png"===((L._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:c.camera,click:function(L){var I=L._context.toImageButtonOptions,D={format:I.format||"png"};m.notifier(d(L,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==D.format&&m.isIE()&&(m.notifier(d(L,"IE only supports svg.  Changing format to svg."),"long"),D.format="svg"),["filename","width","height","scale"].forEach(function(E){E in I&&(D[E]=I[E])}),s.call("downloadImage",L,D).then(function(E){m.notifier(d(L,"Snapshot succeeded")+" - "+E,"long")}).catch(function(){m.notifier(d(L,"Sorry, there was a problem downloading your snapshot!"),"long")})}},h.sendDataToCloud={name:"sendDataToCloud",title:function(L){return d(L,"Edit in Chart Studio")},icon:c.disk,click:function(L){g.sendDataToCloud(L)}},h.editInChartStudio={name:"editInChartStudio",title:function(L){return d(L,"Edit in Chart Studio")},icon:c.pencil,click:function(L){g.sendDataToCloud(L)}},h.zoom2d={name:"zoom2d",_cat:"zoom",title:function(L){return d(L,"Zoom")},attr:"dragmode",val:"zoom",icon:c.zoombox,click:u},h.pan2d={name:"pan2d",_cat:"pan",title:function(L){return d(L,"Pan")},attr:"dragmode",val:"pan",icon:c.pan,click:u},h.select2d={name:"select2d",_cat:"select",title:function(L){return d(L,"Box Select")},attr:"dragmode",val:"select",icon:c.selectbox,click:u},h.lasso2d={name:"lasso2d",_cat:"lasso",title:function(L){return d(L,"Lasso Select")},attr:"dragmode",val:"lasso",icon:c.lasso,click:u},h.drawclosedpath={name:"drawclosedpath",title:function(L){return d(L,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:c.drawclosedpath,click:u},h.drawopenpath={name:"drawopenpath",title:function(L){return d(L,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:c.drawopenpath,click:u},h.drawline={name:"drawline",title:function(L){return d(L,"Draw line")},attr:"dragmode",val:"drawline",icon:c.drawline,click:u},h.drawrect={name:"drawrect",title:function(L){return d(L,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:c.drawrect,click:u},h.drawcircle={name:"drawcircle",title:function(L){return d(L,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:c.drawcircle,click:u},h.eraseshape={name:"eraseshape",title:function(L){return d(L,"Erase active shape")},icon:c.eraseshape,click:l},h.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(L){return d(L,"Zoom in")},attr:"zoom",val:"in",icon:c.zoom_plus,click:u},h.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(L){return d(L,"Zoom out")},attr:"zoom",val:"out",icon:c.zoom_minus,click:u},h.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(L){return d(L,"Autoscale")},attr:"zoom",val:"auto",icon:c.autoscale,click:u},h.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(L){return d(L,"Reset axes")},attr:"zoom",val:"reset",icon:c.home,click:u},h.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(L){return d(L,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:c.tooltip_basic,gravity:"ne",click:u},h.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(L){return d(L,"Compare data on hover")},attr:"hovermode",val:function(L){return L._fullLayout._isHoriz?"y":"x"},icon:c.tooltip_compare,gravity:"ne",click:u},h.zoom3d={name:"zoom3d",_cat:"zoom",title:function(L){return d(L,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:c.zoombox,click:C},h.pan3d={name:"pan3d",_cat:"pan",title:function(L){return d(L,"Pan")},attr:"scene.dragmode",val:"pan",icon:c.pan,click:C},h.orbitRotation={name:"orbitRotation",title:function(L){return d(L,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:c["3d_rotate"],click:C},h.tableRotation={name:"tableRotation",title:function(L){return d(L,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:c["z-axis"],click:C},h.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(L){return d(L,"Reset camera to default")},attr:"resetDefault",icon:c.home,click:b},h.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(L){return d(L,"Reset camera to last save")},attr:"resetLastSave",icon:c.movie,click:b},h.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(L){return d(L,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:function(L,I){var D=M(L,I);s.call("_guiRelayout",L,D)}},h.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(L){return d(L,"Zoom in")},attr:"zoom",val:"in",icon:c.zoom_plus,click:w},h.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(L){return d(L,"Zoom out")},attr:"zoom",val:"out",icon:c.zoom_minus,click:w},h.resetGeo={name:"resetGeo",_cat:"reset",title:function(L){return d(L,"Reset")},attr:"reset",val:null,icon:c.autoscale,click:w},h.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(L){return d(L,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:A},h.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(L){return d(L,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:A},h.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(L){return d(L,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:c.tooltip_basic,gravity:"ne",click:A},h.resetViewSankey={name:"resetSankeyGroup",title:function(L){return d(L,"Reset view")},icon:c.home,click:function(L){for(var I={"node.groups":[],"node.x":[],"node.y":[]},D=0;D<L._fullData.length;D++){var E=L._fullData[D]._viewInitial;I["node.groups"].push(E.node.groups.slice()),I["node.x"].push(E.node.x.slice()),I["node.y"].push(E.node.y.slice())}s.call("restyle",L,I)}},h.toggleHover={name:"toggleHover",title:function(L){return d(L,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:function(L,I){var D=M(L,I);D.hovermode=N(L),s.call("_guiRelayout",L,D)}},h.resetViews={name:"resetViews",title:function(L){return d(L,"Reset views")},icon:c.home,click:function(L,I){var D=I.currentTarget;D.setAttribute("data-attr","zoom"),D.setAttribute("data-val","reset"),u(L,I),D.setAttribute("data-attr","resetLastSave"),b(L,I),H(L,"geo"),H(L,"mapbox")}},h.toggleSpikelines={name:"toggleSpikelines",title:function(L){return d(L,"Toggle Spike Lines")},icon:c.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(L){var I=L._fullLayout;I._cartesianSpikesEnabled="on"===I._cartesianSpikesEnabled?"off":"on",s.call("_guiRelayout",L,function(E){for(var P="on"===E._fullLayout._cartesianSpikesEnabled,S=p.list(E,null,!0),R={},G=0;G<S.length;G++){var z=S[G];R[z._name+".showspikes"]=!!P||z._showSpikeInitial}return R}(L))}},h.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(L){return d(L,"Reset view")},attr:"reset",icon:c.home,click:function(L){H(L,"mapbox")}},h.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(L){return d(L,"Zoom in")},attr:"zoom",val:"in",icon:c.zoom_plus,click:k},h.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(L){return d(L,"Zoom out")},attr:"zoom",val:"out",icon:c.zoom_minus,click:k}},{"../../fonts/ploticon":215,"../../lib":232,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../shapes/draw":186}],163:[function(v,pe,J){"use strict";var s=v("./buttons"),g=Object.keys(s),p=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],c=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(p),l=[];g.forEach(function(m){!function(d){if(-1===c.indexOf(d._cat||d.name)){var h=d.name,u=(d._cat||d.name).toLowerCase();-1===l.indexOf(h)&&l.push(h),-1===l.indexOf(u)&&l.push(u)}}(s[m])}),l.sort(),pe.exports={DRAW_MODES:p,backButtons:c,foreButtons:l}},{"./buttons":162}],164:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../color"),p=v("../../plot_api/plot_template"),c=v("./attributes");pe.exports=function(l,m){var d=l.modebar||{},h=p.newContainer(m,"modebar");function u(b,M){return s.coerce(d,h,c,b,M)}u("orientation"),u("bgcolor",g.addOpacity(m.paper_bgcolor,.5));var C=g.contrast(g.rgb(m.modebar.bgcolor));u("color",g.addOpacity(C,.3)),u("activecolor",g.addOpacity(C,.7)),u("uirevision",m.uirevision),u("add"),u("remove")}},{"../../lib":232,"../../plot_api/plot_template":268,"../color":102,"./attributes":161}],165:[function(v,pe,J){"use strict";pe.exports={moduleType:"component",name:"modebar",layoutAttributes:v("./attributes"),supplyLayoutDefaults:v("./defaults"),manage:v("./manage")}},{"./attributes":161,"./defaults":164,"./manage":166}],166:[function(v,pe,J){"use strict";var s=v("../../plots/cartesian/axis_ids"),g=v("../../traces/scatter/subtypes"),p=v("../../registry"),c=v("../fx/helpers").isUnifiedHover,l=v("./modebar"),m=v("./buttons"),d=v("./constants").DRAW_MODES;pe.exports=function(h){var u=h._fullLayout,C=h._context,b=u._modeBar;if(C.displayModeBar||C.watermark){if(!Array.isArray(C.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(C.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var M,w=C.modeBarButtons;M=Array.isArray(w)&&w.length?function(N){for(var A=0;A<N.length;A++)for(var k=N[A],H=0;H<k.length;H++){var L=k[H];if("string"==typeof L){if(void 0===m[L])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));N[A][H]=m[L]}}return N}(w):!C.displayModeBar&&C.watermark?[]:function(N){var A=N._fullLayout,k=N._fullData,H=N._context;function L(he,xe){if("string"==typeof xe){if(xe.toLowerCase()===he.toLowerCase())return!0}else if(xe.name===he||(xe._cat||xe.name)===he.toLowerCase())return!0;return!1}var I=A.modebar.add;"string"==typeof I&&(I=[I]);var D=A.modebar.remove;"string"==typeof D&&(D=[D]);var E=H.modeBarButtonsToAdd.concat(I.filter(function(he){for(var xe=0;xe<H.modeBarButtonsToRemove.length;xe++)if(L(he,H.modeBarButtonsToRemove[xe]))return!1;return!0})),P=H.modeBarButtonsToRemove.concat(D.filter(function(he){for(var xe=0;xe<H.modeBarButtonsToAdd.length;xe++)if(L(he,H.modeBarButtonsToAdd[xe]))return!1;return!0})),S=A._has("cartesian"),R=A._has("gl3d"),G=A._has("geo"),z=A._has("pie"),X=A._has("funnelarea"),W=A._has("gl2d"),Z=A._has("ternary"),ne=A._has("mapbox"),te=A._has("polar"),oe=A._has("smith"),Ce=A._has("sankey"),ie=function(he){for(var xe=s.list({_fullLayout:he},null,!0),be=0;be<xe.length;be++)if(!xe[be].fixedrange)return!1;return!0}(A),Q=c(A.hovermode),le=[];function j(he){if(he.length){for(var xe=[],be=0;be<he.length;be++){for(var ke=he[be],Pe=m[ke],Re=Pe.name.toLowerCase(),Ue=(Pe._cat||Pe.name).toLowerCase(),tt=!1,Ke=0;Ke<P.length;Ke++){var $e=P[Ke].toLowerCase();if($e===Re||$e===Ue){tt=!0;break}}tt||xe.push(m[ke])}le.push(xe)}}var $=["toImage"];H.showEditInChartStudio?$.push("editInChartStudio"):H.showSendToCloud&&$.push("sendDataToCloud"),j($);var se=[],ee=[],F=[],O=[];(S||W||z||X||Z)+G+R+ne+te+oe>1?(ee=["toggleHover"],F=["resetViews"]):G?(se=["zoomInGeo","zoomOutGeo"],ee=["hoverClosestGeo"],F=["resetGeo"]):R?(ee=["hoverClosest3d"],F=["resetCameraDefault3d","resetCameraLastSave3d"]):ne?(se=["zoomInMapbox","zoomOutMapbox"],ee=["toggleHover"],F=["resetViewMapbox"]):W?ee=["hoverClosestGl2d"]:z?ee=["hoverClosestPie"]:Ce?(ee=["hoverClosestCartesian","hoverCompareCartesian"],F=["resetViewSankey"]):ee=["toggleHover"],S&&(ee=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(he){for(var xe=0;xe<he.length;xe++)if(!p.traceIs(he[xe],"noHover"))return!1;return!0}(k)||Q)&&(ee=[]),!S&&!W||ie||(se=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==F[0]&&(F=["resetScale2d"])),R?O=["zoom3d","pan3d","orbitRotation","tableRotation"]:(S||W)&&!ie||Z?O=["zoom2d","pan2d"]:ne||G?O=["pan2d"]:te&&(O=["zoom2d"]),function(he){for(var xe=!1,be=0;be<he.length&&!xe;be++){var ke=he[be];ke._module&&ke._module.selectPoints&&(p.traceIs(ke,"scatter-like")?(g.hasMarkers(ke)||g.hasText(ke))&&(xe=!0):p.traceIs(ke,"box-violin")&&"all"!==ke.boxpoints&&"all"!==ke.points||(xe=!0))}return xe}(k)&&O.push("select2d","lasso2d");var Y=[],B=function(he){-1===Y.indexOf(he)&&-1!==ee.indexOf(he)&&Y.push(he)};if(Array.isArray(E)){for(var ae=[],ue=0;ue<E.length;ue++){var fe=E[ue];"string"==typeof fe?(fe=fe.toLowerCase(),-1!==d.indexOf(fe)?(A._has("mapbox")||A._has("cartesian"))&&O.push(fe):"togglespikelines"===fe?B("toggleSpikelines"):"togglehover"===fe?B("toggleHover"):"hovercompare"===fe?B("hoverCompareCartesian"):"hoverclosest"===fe?(B("hoverClosestCartesian"),B("hoverClosestGeo"),B("hoverClosest3d"),B("hoverClosestGl2d"),B("hoverClosestPie")):"v1hovermode"===fe&&(B("toggleHover"),B("hoverClosestCartesian"),B("hoverCompareCartesian"),B("hoverClosestGeo"),B("hoverClosest3d"),B("hoverClosestGl2d"),B("hoverClosestPie"))):ae.push(fe)}E=ae}return j(O),j(se.concat(F)),j(Y),function(he,xe){if(xe.length)if(Array.isArray(xe[0]))for(var be=0;be<xe.length;be++)he.push(xe[be]);else he.push(xe);return he}(le,E)}(h),b?b.update(h,M):u._modeBar=l(h,M)}else b&&(b.destroy(),delete u._modeBar)}},{"../../plots/cartesian/axis_ids":283,"../../registry":318,"../../traces/scatter/subtypes":383,"../fx/helpers":138,"./buttons":162,"./constants":163,"./modebar":167}],167:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("fast-isnumeric"),p=v("../../lib"),c=v("../../fonts/ploticon"),l=v("../../version").version,m=new DOMParser;function d(u){this.container=u.container,this.element=document.createElement("div"),this.update(u.graphInfo,u.buttons),this.container.appendChild(this.element)}var h=d.prototype;h.update=function(u,C){this.graphInfo=u;var b=this.graphInfo._context,M=this.graphInfo._fullLayout,w="modebar-"+M._uid;this.element.setAttribute("id",w),this._uid=w,this.element.className="modebar","hover"===b.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===M.modebar.orientation&&(this.element.className+=" vertical",C=C.reverse());var N=M.modebar,A="hover"===b.displayModeBar?".js-plotly-plot .plotly:hover ":"";p.deleteRelatedStyleRule(w),p.addRelatedStyleRule(w,A+"#"+w+" .modebar-group","background-color: "+N.bgcolor),p.addRelatedStyleRule(w,"#"+w+" .modebar-btn .icon path","fill: "+N.color),p.addRelatedStyleRule(w,"#"+w+" .modebar-btn:hover .icon path","fill: "+N.activecolor),p.addRelatedStyleRule(w,"#"+w+" .modebar-btn.active .icon path","fill: "+N.activecolor);var k=!this.hasButtons(C),H=this.hasLogo!==b.displaylogo,L=this.locale!==b.locale;if(this.locale=b.locale,(k||H||L)&&(this.removeAllButtons(),this.updateButtons(C),b.watermark||b.displaylogo)){var I=this.getLogo();b.watermark&&(I.className=I.className+" watermark"),"v"===M.modebar.orientation?this.element.insertBefore(I,this.element.childNodes[0]):this.element.appendChild(I),this.hasLogo=!0}this.updateActiveButton()},h.updateButtons=function(u){var C=this;this.buttons=u,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(b){var M=C.createGroup();b.forEach(function(w){var N=w.name;if(!N)throw new Error("must provide button 'name' in button config");if(-1!==C.buttonsNames.indexOf(N))throw new Error("button name '"+N+"' is taken");C.buttonsNames.push(N);var A=C.createButton(w);C.buttonElements.push(A),M.appendChild(A)}),C.element.appendChild(M)})},h.createGroup=function(){var u=document.createElement("div");return u.className="modebar-group",u},h.createButton=function(u){var C=this,b=document.createElement("a");b.setAttribute("rel","tooltip"),b.className="modebar-btn";var M=u.title;void 0===M?M=u.name:"function"==typeof M&&(M=M(this.graphInfo)),(M||0===M)&&b.setAttribute("data-title",M),void 0!==u.attr&&b.setAttribute("data-attr",u.attr);var w=u.val;if(void 0!==w&&("function"==typeof w&&(w=w(this.graphInfo)),b.setAttribute("data-val",w)),"function"!=typeof u.click)throw new Error("must provide button 'click' function in button config");b.addEventListener("click",function(A){u.click(C.graphInfo,A),C.updateActiveButton(A.currentTarget)}),b.setAttribute("data-toggle",u.toggle||!1),u.toggle&&s.select(b).classed("active",!0);var N=u.icon;return b.appendChild("function"==typeof N?N():this.createIcon(N||c.question)),b.setAttribute("data-gravity",u.gravity||"n"),b},h.createIcon=function(u){var C,b=g(u.height)?Number(u.height):u.ascent-u.descent,M="http://www.w3.org/2000/svg";if(u.path){(C=document.createElementNS(M,"svg")).setAttribute("viewBox",[0,0,u.width,b].join(" ")),C.setAttribute("class","icon");var w=document.createElementNS(M,"path");w.setAttribute("d",u.path),u.transform?w.setAttribute("transform",u.transform):void 0!==u.ascent&&w.setAttribute("transform","matrix(1 0 0 -1 0 "+u.ascent+")"),C.appendChild(w)}return u.svg&&(C=m.parseFromString(u.svg,"application/xml").childNodes[0]),C.setAttribute("height","1em"),C.setAttribute("width","1em"),C},h.updateActiveButton=function(u){var C=this.graphInfo._fullLayout,b=void 0!==u?u.getAttribute("data-attr"):null;this.buttonElements.forEach(function(M){var w=M.getAttribute("data-val")||!0,N=M.getAttribute("data-attr"),A="true"===M.getAttribute("data-toggle"),k=s.select(M);if(A)N===b&&k.classed("active",!k.classed("active"));else{var H=null===N?N:p.nestedProperty(C,N).get();k.classed("active",H===w)}})},h.hasButtons=function(u){var C=this.buttons;if(!C||u.length!==C.length)return!1;for(var b=0;b<u.length;++b){if(u[b].length!==C[b].length)return!1;for(var M=0;M<u[b].length;M++)if(u[b][M].name!==C[b][M].name)return!1}return!0},h.getLogo=function(){var u=this.createGroup(),C=document.createElement("a");return C.href="https://plotly.com/",C.target="_blank",C.setAttribute("data-title",p._(this.graphInfo,"Produced with Plotly.js")+" (v"+l+")"),C.className="modebar-btn plotlyjsicon modebar-btn--logo",C.appendChild(this.createIcon(c.newplotlylogo)),u.appendChild(C),u},h.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},h.destroy=function(){p.removeElement(this.container.querySelector(".modebar")),p.deleteRelatedStyleRule(this._uid)},pe.exports=function(u,C){var b=u._fullLayout,M=new d({graphInfo:u,container:b._modebardiv.node(),buttons:C});return b._privateplot&&s.select(M.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),M}},{"../../fonts/ploticon":215,"../../lib":232,"../../version":391,"@plotly/d3":11,"fast-isnumeric":17}],168:[function(v,pe,J){"use strict";var s=v("../../plots/font_attributes"),g=v("../color/attributes"),p=(0,v("../../plot_api/plot_template").templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});pe.exports={visible:{valType:"boolean",editType:"plot"},buttons:p,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:s({editType:"plot"}),bgcolor:{valType:"color",dflt:g.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":268,"../../plots/font_attributes":310,"../color/attributes":101}],169:[function(v,pe,J){"use strict";pe.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],170:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../color"),p=v("../../plot_api/plot_template"),c=v("../../plots/array_container_defaults"),l=v("./attributes"),m=v("./constants");function d(h,u,C,b){var M=b.calendar;function w(A,k){return s.coerce(h,u,l.buttons,A,k)}if(w("visible")){var N=w("step");"all"!==N&&(!M||"gregorian"===M||"month"!==N&&"year"!==N?w("stepmode"):u.stepmode="backward",w("count")),w("label")}}pe.exports=function(h,u,C,b,M){var w=h.rangeselector||{},N=p.newContainer(u,"rangeselector");function A(L,I){return s.coerce(w,N,l,L,I)}if(A("visible",c(w,N,{name:"buttons",handleItemDefaults:d,calendar:M}).length>0)){var k=function(L,I,D){for(var E=D.filter(function(G){return I[G].anchor===L._id}),P=0,S=0;S<E.length;S++){var R=I[E[S]].domain;R&&(P=Math.max(R[1],P))}return[L.domain[0],P+m.yPad]}(u,C,b);A("x",k[0]),A("y",k[1]),s.noneOrAll(h,u,["x","y"]),A("xanchor"),A("yanchor"),s.coerceFont(A,"font",C.font);var H=A("bgcolor");A("activecolor",g.contrast(H,m.lightAmount,m.darkAmount)),A("bordercolor"),A("borderwidth")}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/array_container_defaults":274,"../color":102,"./attributes":168,"./constants":169}],171:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../registry"),p=v("../../plots/plots"),c=v("../color"),l=v("../drawing"),m=v("../../lib"),d=m.strTranslate,h=v("../../lib/svg_text_utils"),u=v("../../plots/cartesian/axis_ids"),C=v("../../constants/alignment"),b=C.LINE_SPACING,M=C.FROM_TL,w=C.FROM_BR,N=v("./constants"),A=v("./get_update_object");function k(I){return I._id}function H(I,D,E){var S,R,P=m.ensureSingle(I,"rect","selector-rect",function(S){S.attr("shape-rendering","crispEdges")});P.attr({rx:N.rx,ry:N.ry}),P.call(c.stroke,D.bordercolor).call(c.fill,(S=D,R=E,R._isActive||R._isHovered?S.activecolor:S.bgcolor)).style("stroke-width",D.borderwidth+"px")}function L(I,D,E,P){var S,R;m.ensureSingle(I,"text","selector-text",function(S){S.attr("text-anchor","middle")}).call(l.font,D.font).text((S=E,R=P._fullLayout._meta,S.label?R?m.templateString(S.label,R):S.label:"all"===S.step?"all":S.count+S.step.charAt(0))).call(function(S){h.convertToTspans(S,P)})}pe.exports=function(I){var D=I._fullLayout._infolayer.selectAll(".rangeselector").data(function(E){for(var P=u.list(E,"x",!0),S=[],R=0;R<P.length;R++){var G=P[R];G.rangeselector&&G.rangeselector.visible&&S.push(G)}return S}(I),k);D.enter().append("g").classed("rangeselector",!0),D.exit().remove(),D.style({cursor:"pointer","pointer-events":"all"}),D.each(function(E){var P=s.select(this),S=E,R=S.rangeselector,G=P.selectAll("g.button").data(m.filterVisible(R.buttons));G.enter().append("g").classed("button",!0),G.exit().remove(),G.each(function(z){var X=s.select(this),W=A(S,z);z._isActive=function(Z,ne,te){if("all"===ne.step)return!0===Z.autorange;var oe=Object.keys(te);return Z.range[0]===te[oe[0]]&&Z.range[1]===te[oe[1]]}(S,z,W),X.call(H,R,z),X.call(L,R,z,I),X.on("click",function(){I._dragged||g.call("_guiRelayout",I,W)}),X.on("mouseover",function(){z._isHovered=!0,X.call(H,R,z)}),X.on("mouseout",function(){z._isHovered=!1,X.call(H,R,z)})}),function(z,X,W,Z,ne){var te=0,oe=0,Ce=W.borderwidth;X.each(function(){var se=s.select(this).select(".selector-text"),F=Math.max(W.font.size*b*h.lineCount(se),16)+3;oe=Math.max(oe,F)}),X.each(function(){var se=s.select(this),ee=se.select(".selector-rect"),F=se.select(".selector-text"),O=F.node()&&l.bBox(F.node()).width,Y=W.font.size*b,B=h.lineCount(F),ae=Math.max(O+10,N.minButtonWidth);se.attr("transform",d(Ce+te,Ce)),ee.attr({x:0,y:0,width:ae,height:oe}),h.positionText(F,ae/2,oe/2-(B-1)*Y/2+3),te+=ae+5});var ie=z._fullLayout._size,Q=ie.l+ie.w*W.x,le=ie.t+ie.h*(1-W.y),j="left";m.isRightAnchor(W)&&(Q-=te,j="right"),m.isCenterAnchor(W)&&(Q-=te/2,j="center");var $="top";m.isBottomAnchor(W)&&(le-=oe,$="bottom"),m.isMiddleAnchor(W)&&(le-=oe/2,$="middle"),te=Math.ceil(te),oe=Math.ceil(oe),Q=Math.round(Q),le=Math.round(le),p.autoMargin(z,Z+"-range-selector",{x:W.x,y:W.y,l:te*M[j],r:te*w[j],b:oe*w[$],t:oe*M[$]}),ne.attr("transform",d(Q,le))}(I,G,R,S._name,P)})}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../color":102,"../drawing":124,"./constants":169,"./get_update_object":172,"@plotly/d3":11}],172:[function(v,pe,J){"use strict";var s=v("d3-time"),g=v("../../lib").titleCase;pe.exports=function(p,c){var l=p._name,m={};if("all"===c.step)m[l+".autorange"]=!0;else{var d=function(h,u){var C,b=h.range,M=new Date(h.r2l(b[1])),N=s["utc"+g(u.step)],A=u.count;switch(u.stepmode){case"backward":C=h.l2r(+N.offset(M,-A));break;case"todate":var k=N.offset(M,-A);C=h.l2r(+N.ceil(k))}return[C,b[1]]}(p,c);m[l+".range[0]"]=d[0],m[l+".range[1]"]=d[1]}return m}},{"../../lib":232,"d3-time":16}],173:[function(v,pe,J){"use strict";pe.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:v("./attributes")}}},layoutAttributes:v("./attributes"),handleDefaults:v("./defaults"),draw:v("./draw")}},{"./attributes":168,"./defaults":170,"./draw":171}],174:[function(v,pe,J){"use strict";var s=v("../color/attributes");pe.exports={bgcolor:{valType:"color",dflt:s.background,editType:"plot"},bordercolor:{valType:"color",dflt:s.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":101}],175:[function(v,pe,J){"use strict";var s=v("../../plots/cartesian/axis_ids").list,g=v("../../plots/cartesian/autorange").getAutoRange,p=v("./constants");pe.exports=function(c){for(var l=s(c,"x",!0),m=0;m<l.length;m++){var d=l[m],h=d[p.name];h&&h.visible&&h.autorange&&(h._input.autorange=!0,h._input.range=h.range=g(c,d))}}},{"../../plots/cartesian/autorange":278,"../../plots/cartesian/axis_ids":283,"./constants":176}],176:[function(v,pe,J){"use strict";pe.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],177:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plot_api/plot_template"),p=v("../../plots/cartesian/axis_ids"),c=v("./attributes"),l=v("./oppaxis_attributes");pe.exports=function(m,d,h){var u=m[h],C=d[h];if(u.rangeslider||d._requestRangeslider[C._id]){s.isPlainObject(u.rangeslider)||(u.rangeslider={});var b,M,w=u.rangeslider,N=g.newContainer(C,"rangeslider");if(P("visible")){P("bgcolor",d.plot_bgcolor),P("bordercolor"),P("borderwidth"),P("thickness"),P("autorange",!C.isValidRange(w.range)),P("range");var A=d._subplots;if(A)for(var k=A.cartesian.filter(function(R){return R.substr(0,R.indexOf("y"))===p.name2id(h)}).map(function(R){return R.substr(R.indexOf("y"),R.length)}),H=s.simpleMap(k,p.id2name),L=0;L<H.length;L++){var I=H[L];b=w[I]||{},M=g.newContainer(N,I,"yaxis");var D,E=d[I];b.range&&E.isValidRange(b.range)&&(D="fixed"),"match"!==S("rangemode",D)&&S("range",E.range.slice())}N._input=w}}function P(R,G){return s.coerce(w,N,c,R,G)}function S(R,G){return s.coerce(b,M,l,R,G)}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_ids":283,"./attributes":174,"./oppaxis_attributes":181}],178:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../registry"),p=v("../../plots/plots"),c=v("../../lib"),l=c.strTranslate,m=v("../drawing"),d=v("../color"),h=v("../titles"),u=v("../../plots/cartesian"),C=v("../../plots/cartesian/axis_ids"),b=v("../dragelement"),M=v("../../lib/setcursor"),w=v("./constants");function N(D,E,P,S){var R=c.ensureSingle(D,"rect",w.bgClassName,function(W){W.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),G=S.borderwidth%2==0?S.borderwidth:S.borderwidth-1,z=-S._offsetShift,X=m.crispRound(E,S.borderwidth);R.attr({width:S._width+G,height:S._height+G,transform:l(z,z),fill:S.bgcolor,stroke:S.bordercolor,"stroke-width":X})}function A(D,E,P,S){c.ensureSingleById(E._fullLayout._topdefs,"clipPath",S._clipId,function(G){G.append("rect").attr({x:0,y:0})}).select("rect").attr({width:S._width,height:S._height})}function k(D,E,P,S){var R,G=E.calcdata,z=D.selectAll("g."+w.rangePlotClassName).data(P._subplotsWith,c.identity);z.enter().append("g").attr("class",function(X){return w.rangePlotClassName+" "+X}).call(m.setClipUrl,S._clipId,E),z.order(),z.exit().remove(),z.each(function(X,W){var Z=s.select(this),ne=0===W,te=C.getFromId(E,X,"y"),oe=te._name,Ce=S[oe],ie={data:[],layout:{xaxis:{type:P.type,domain:[0,1],range:S.range.slice(),calendar:P.calendar},width:S._width,height:S._height,margin:{t:0,b:0,l:0,r:0}},_context:E._context};P.rangebreaks&&(ie.layout.xaxis.rangebreaks=P.rangebreaks),ie.layout[oe]={type:te.type,domain:[0,1],range:"match"!==Ce.rangemode?Ce.range.slice():te.range.slice(),calendar:te.calendar},te.rangebreaks&&(ie.layout[oe].rangebreaks=te.rangebreaks),p.supplyDefaults(ie);var Q=ie._fullLayout.xaxis,le=ie._fullLayout[oe];Q.clearCalc(),Q.setScale(),le.clearCalc(),le.setScale();var j={id:X,plotgroup:Z,xaxis:Q,yaxis:le,isRangePlot:!0};ne?R=j:(j.mainplot="xy",j.mainplotinfo=R),u.rangePlot(E,j,function($,se){for(var ee=[],F=0;F<$.length;F++){var O=$[F],Y=O[0].trace;Y.xaxis+Y.yaxis===se&&ee.push(O)}return ee}(G,X))})}function H(D,E,P,S,R){c.ensureSingle(D,"rect",w.maskMinClassName,function(G){G.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",S._height).call(d.fill,w.maskColor),c.ensureSingle(D,"rect",w.maskMaxClassName,function(G){G.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",S._height).call(d.fill,w.maskColor),"match"!==R.rangemode&&(c.ensureSingle(D,"rect",w.maskMinOppAxisClassName,function(G){G.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",S._width).call(d.fill,w.maskOppAxisColor),c.ensureSingle(D,"rect",w.maskMaxOppAxisClassName,function(G){G.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",S._width).style("border-top",w.maskOppBorder).call(d.fill,w.maskOppAxisColor))}function L(D,E,P,S){E._context.staticPlot||c.ensureSingle(D,"rect",w.slideBoxClassName,function(R){R.attr({y:0,cursor:w.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:S._height,fill:w.slideBoxFill})}function I(D,E,P,S){var R=c.ensureSingle(D,"g",w.grabberMinClassName),G=c.ensureSingle(D,"g",w.grabberMaxClassName),z={x:0,width:w.handleWidth,rx:w.handleRadius,fill:d.background,stroke:d.defaultLine,"stroke-width":w.handleStrokeWidth,"shape-rendering":"crispEdges"},X={y:Math.round(S._height/4),height:Math.round(S._height/2)};c.ensureSingle(R,"rect",w.handleMinClassName,function(Z){Z.attr(z)}).attr(X),c.ensureSingle(G,"rect",w.handleMaxClassName,function(Z){Z.attr(z)}).attr(X);var W={width:w.grabAreaWidth,x:0,y:0,fill:w.grabAreaFill,cursor:E._context.staticPlot?void 0:w.grabAreaCursor};c.ensureSingle(R,"rect",w.grabAreaMinClassName,function(Z){Z.attr(W)}).attr("height",S._height),c.ensureSingle(G,"rect",w.grabAreaMaxClassName,function(Z){Z.attr(W)}).attr("height",S._height)}pe.exports=function(D){for(var E=D._fullLayout,P=E._rangeSliderData,S=0;S<P.length;S++){var R=P[S][w.name];R._clipId=R._id+"-"+E._uid}var G=E._infolayer.selectAll("g."+w.containerClassName).data(P,function(z){return z._name});G.exit().each(function(z){E._topdefs.select("#"+z[w.name]._clipId).remove()}).remove(),0!==P.length&&(G.enter().append("g").classed(w.containerClassName,!0).attr("pointer-events","all"),G.each(function(z){var X=s.select(this),W=z[w.name],Z=E[C.id2name(z.anchor)],ne=W[C.id2name(z.anchor)];if(W.range){var te,oe=c.simpleMap(W.range,z.r2l),Ce=c.simpleMap(z.range,z.r2l);te=Ce[0]<Ce[1]?[Math.min(oe[0],Ce[0]),Math.max(oe[1],Ce[1])]:[Math.max(oe[0],Ce[0]),Math.min(oe[1],Ce[1])],W.range=W._input.range=c.simpleMap(te,z.l2r)}z.cleanRange("rangeslider.range");var ie=E._size,Q=z.domain;W._width=ie.w*(Q[1]-Q[0]);var le=Math.round(ie.l+ie.w*Q[0]),j=Math.round(ie.t+ie.h*(1-z._counterDomainMin)+("bottom"===z.side?z._depth:0)+W._offsetShift+w.extraPad);X.attr("transform",l(le,j)),W._rl=c.simpleMap(W.range,z.r2l);var $=W._rl[0],se=W._rl[1],ee=se-$;if(W.p2d=function(xe){return xe/W._width*ee+$},W.d2p=function(xe){return(xe-$)/ee*W._width},z.rangebreaks){var F=z.locateBreaks($,se);if(F.length){var O,Y,B=0;for(O=0;O<F.length;O++)B+=(Y=F[O]).max-Y.min;var ae=W._width/(se-$-B),ue=[-ae*$];for(O=0;O<F.length;O++)ue.push(ue[ue.length-1]-ae*((Y=F[O]).max-Y.min));for(W.d2p=function(xe){for(var be=ue[0],ke=0;ke<F.length;ke++){var Pe=F[ke];if(xe>=Pe.max)be=ue[ke+1];else if(xe<Pe.min)break}return be+ae*xe},O=0;O<F.length;O++)(Y=F[O]).pmin=W.d2p(Y.min),Y.pmax=W.d2p(Y.max);W.p2d=function(xe){for(var be=ue[0],ke=0;ke<F.length;ke++){var Pe=F[ke];if(xe>=Pe.pmax)be=ue[ke+1];else if(xe<Pe.pmin)break}return(xe-be)/ae}}}if("match"!==ne.rangemode){var fe=Z.r2l(ne.range[0]),he=Z.r2l(ne.range[1])-fe;W.d2pOppAxis=function(xe){return(xe-fe)/he*W._height}}X.call(N,D,z,W).call(A,D,z,W).call(k,D,z,W).call(H,D,z,W,ne).call(L,D,z,W).call(I,D,z,W),function(xe,be,ke,Pe){if(!be._context.staticPlot){var Re=xe.select("rect."+w.slideBoxClassName).node(),Ue=xe.select("rect."+w.grabAreaMinClassName).node(),tt=xe.select("rect."+w.grabAreaMaxClassName).node();xe.on("mousedown",Ke),xe.on("touchstart",Ke)}function Ke(){var $e=s.event,Me=$e.target,ve=$e.clientX||$e.touches[0].clientX,Se=ve-xe.node().getBoundingClientRect().left,Te=Pe.d2p(ke._rl[0]),qe=Pe.d2p(ke._rl[1]),Oe=b.coverSlip();function Fe(nt){var Ye,rt,ht,Xe=+(nt.clientX||nt.touches[0].clientX)-ve;switch(Me){case Re:ht="ew-resize",Ye=Te+Xe,rt=qe+Xe;break;case Ue:ht="col-resize",Ye=Te+Xe,rt=qe;break;case tt:ht="col-resize",Ye=Te,rt=qe+Xe;break;default:ht="ew-resize",Ye=Se,rt=Se+Xe}if(rt<Ye){var gt=rt;rt=Ye,Ye=gt}Pe._pixelMin=Ye,Pe._pixelMax=rt,M(s.select(Oe),ht),function(xt,bt,Ot,wt){function Be(Pt){return Ot.l2r(c.constrain(Pt,wt._rl[0],wt._rl[1]))}var Ge=Be(wt.p2d(wt._pixelMin)),vt=Be(wt.p2d(wt._pixelMax));window.requestAnimationFrame(function(){g.call("_guiRelayout",bt,Ot._name+".range",[Ge,vt])})}(0,be,ke,Pe)}function Qe(){Oe.removeEventListener("mousemove",Fe),Oe.removeEventListener("mouseup",Qe),this.removeEventListener("touchmove",Fe),this.removeEventListener("touchend",Qe),c.removeElement(Oe)}this.addEventListener("touchmove",Fe),this.addEventListener("touchend",Qe),Oe.addEventListener("mousemove",Fe),Oe.addEventListener("mouseup",Qe)}}(X,D,z,W),function(xe,be,ke,Pe,Re,Ue){var tt=w.handleWidth/2;function Ke(Qe){return c.constrain(Qe,0,Pe._width)}function $e(Qe){return c.constrain(Qe,0,Pe._height)}function Me(Qe){return c.constrain(Qe,-tt,Pe._width+tt)}var ve=Ke(Pe.d2p(ke._rl[0])),Se=Ke(Pe.d2p(ke._rl[1]));if(xe.select("rect."+w.slideBoxClassName).attr("x",ve).attr("width",Se-ve),xe.select("rect."+w.maskMinClassName).attr("width",ve),xe.select("rect."+w.maskMaxClassName).attr("x",Se).attr("width",Pe._width-Se),"match"!==Ue.rangemode){var Te=Pe._height-$e(Pe.d2pOppAxis(Re._rl[1])),qe=Pe._height-$e(Pe.d2pOppAxis(Re._rl[0]));xe.select("rect."+w.maskMinOppAxisClassName).attr("x",ve).attr("height",Te).attr("width",Se-ve),xe.select("rect."+w.maskMaxOppAxisClassName).attr("x",ve).attr("y",qe).attr("height",Pe._height-qe).attr("width",Se-ve),xe.select("rect."+w.slideBoxClassName).attr("y",Te).attr("height",qe-Te)}var Oe=Math.round(Me(ve-tt))-.5,Fe=Math.round(Me(Se-tt))+.5;xe.select("g."+w.grabberMinClassName).attr("transform",l(Oe,.5)),xe.select("g."+w.grabberMaxClassName).attr("transform",l(Fe,.5))}(X,0,z,W,Z,ne),"bottom"===z.side&&h.draw(D,z._id+"title",{propContainer:z,propName:z._name+".title",placeholder:E._dfltTitle.x,attributes:{x:z._offset+z._length/2,y:j+W._height+W._offsetShift+10+1.5*z.title.font.size,"text-anchor":"middle"}})}))}},{"../../lib":232,"../../lib/setcursor":252,"../../plots/cartesian":293,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":176,"@plotly/d3":11}],179:[function(v,pe,J){"use strict";var s=v("../../plots/cartesian/axis_ids"),g=v("../../lib/svg_text_utils"),p=v("./constants"),c=v("../../constants/alignment").LINE_SPACING,l=p.name;function m(d){var h=d&&d[l];return h&&h.visible}J.isVisible=m,J.makeData=function(d){var h=s.list({_fullLayout:d},"x",!0),u=d.margin,C=[];if(!d._has("gl2d"))for(var b=0;b<h.length;b++){var M=h[b];if(m(M)){C.push(M);var w=M[l];w._id=l+M._id,w._height=(d.height-u.b-u.t)*w.thickness,w._offsetShift=Math.floor(w.borderwidth/2)}}d._rangeSliderData=C},J.autoMarginOpts=function(d,h){var u=d._fullLayout,C=h[l],b=h._id.charAt(0),M=0,w=0;return"bottom"===h.side&&(M=h._depth,h.title.text!==u._dfltTitle[b]&&(w=1.5*h.title.font.size+10+C._offsetShift,w+=(h.title.text.match(g.BR_TAG_ALL)||[]).length*h.title.font.size*c)),{x:0,y:h._counterDomainMin,l:0,r:0,t:0,b:C._height+M+Math.max(u.margin.b,w),pad:p.extraPad+2*C._offsetShift}}},{"../../constants/alignment":207,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"./constants":176}],180:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("./attributes"),p=v("./oppaxis_attributes"),c=v("./helpers");pe.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:s.extendFlat({},g,{yaxis:p})}}},layoutAttributes:v("./attributes"),handleDefaults:v("./defaults"),calcAutorange:v("./calc_autorange"),draw:v("./draw"),isVisible:c.isVisible,makeData:c.makeData,autoMarginOpts:c.autoMarginOpts}},{"../../lib":232,"./attributes":174,"./calc_autorange":175,"./defaults":177,"./draw":178,"./helpers":179,"./oppaxis_attributes":181}],181:[function(v,pe,J){"use strict";pe.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],182:[function(v,pe,J){"use strict";var s=v("../annotations/attributes"),g=v("../../traces/scatter/attributes").line,p=v("../drawing/attributes").dash,c=v("../../lib/extend").extendFlat,l=v("../../plot_api/plot_template").templatedArray;v("../../constants/axis_placeable_objects"),pe.exports=l("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:c({},s.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:c({},s.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:c({},g.color,{editType:"arraydraw"}),width:c({},g.width,{editType:"calc+arraydraw"}),dash:c({},p,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../traces/scatter/attributes":358,"../annotations/attributes":85,"../drawing/attributes":123}],183:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plots/cartesian/axes"),p=v("./constants"),c=v("./helpers");function l(u){return d(u.line.width,u.xsizemode,u.x0,u.x1,u.path,!1)}function m(u){return d(u.line.width,u.ysizemode,u.y0,u.y1,u.path,!0)}function d(u,C,b,M,w,N){var A=u/2,k=N;if("pixel"===C){var H=w?c.extractPathCoords(w,N?p.paramIsY:p.paramIsX):[b,M],L=s.aggNums(Math.max,null,H),I=s.aggNums(Math.min,null,H),D=I<0?Math.abs(I)+A:A,E=L>0?L+A:A;return{ppad:A,ppadplus:k?D:E,ppadminus:k?E:D}}return{ppad:A}}function h(u,C,b,M,w){var N="category"===u.type||"multicategory"===u.type?u.r2c:u.d2c;if(void 0!==C)return[N(C),N(b)];if(M){var A,k,H,L,I=1/0,D=-1/0,E=M.match(p.segmentRE);for("date"===u.type&&(N=c.decodeDate(N)),A=0;A<E.length;A++)void 0!==(k=w[E[A].charAt(0)].drawn)&&(!(H=E[A].substr(1).match(p.paramRE))||H.length<k||((L=N(H[k]))<I&&(I=L),L>D&&(D=L)));return D>=I?[I,D]:void 0}}pe.exports=function(u){var b=s.filterVisible(u._fullLayout.shapes);if(b.length&&u._fullData.length)for(var M=0;M<b.length;M++){var w,N,A=b[M];A._extremes={};var k=g.getRefType(A.xref),H=g.getRefType(A.yref);if("paper"!==A.xref&&"domain"!==k){var L="pixel"===A.xsizemode?A.xanchor:A.x0,I="pixel"===A.xsizemode?A.xanchor:A.x1;(N=h(w=g.getFromId(u,A.xref),L,I,A.path,p.paramIsX))&&(A._extremes[w._id]=g.findExtremes(w,N,l(A)))}if("paper"!==A.yref&&"domain"!==H){var D="pixel"===A.ysizemode?A.yanchor:A.y0,E="pixel"===A.ysizemode?A.yanchor:A.y1;(N=h(w=g.getFromId(u,A.yref),D,E,A.path,p.paramIsY))&&(A._extremes[w._id]=g.findExtremes(w,N,m(A)))}}}},{"../../lib":232,"../../plots/cartesian/axes":279,"./constants":184,"./helpers":193}],184:[function(v,pe,J){"use strict";pe.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],185:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plots/cartesian/axes"),p=v("../../plots/array_container_defaults"),c=v("./attributes"),l=v("./helpers");function m(d,h,u){function C(ne,te){return s.coerce(d,h,c,ne,te)}if(C("visible")){var b=C("path"),M=C("type",b?"path":"rect");"path"!==h.type&&delete h.path,C("editable"),C("layer"),C("opacity"),C("fillcolor"),C("fillrule"),C("line.width")&&(C("line.color"),C("line.dash"));for(var w=C("xsizemode"),N=C("ysizemode"),A=["x","y"],k=0;k<2;k++){var H,L,I,D=A[k],E=D+"anchor",P="x"===D?w:N,S={_fullLayout:u},R=g.coerceRef(d,h,S,D,void 0,"paper");if("range"===g.getRefType(R)?((H=g.getFromId(S,R))._shapeIndices.push(h._index),I=l.rangeToShapePosition(H),L=l.shapePositionToRange(H)):L=I=s.identity,"path"!==M){var G=D+"0",z=D+"1",X=d[G],W=d[z];d[G]=L(d[G],!0),d[z]=L(d[z],!0),"pixel"===P?(C(G,0),C(z,10)):(g.coercePosition(h,S,C,R,G,.25),g.coercePosition(h,S,C,R,z,.75)),h[G]=I(h[G]),h[z]=I(h[z]),d[G]=X,d[z]=W}if("pixel"===P){var Z=d[E];d[E]=L(d[E],!0),g.coercePosition(h,S,C,R,E,.25),h[E]=I(h[E]),d[E]=Z}}"path"===M?C("path"):s.noneOrAll(d,h,["x0","x1","y0","y1"])}}pe.exports=function(d,h){p(d,h,{name:"shapes",handleItemDefaults:m})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":182,"./helpers":193}],186:[function(v,pe,J){"use strict";var s=v("../../registry"),g=v("../../lib"),p=v("../../plots/cartesian/axes"),c=v("./draw_newshape/helpers").readPaths,l=v("./draw_newshape/display_outlines"),m=v("../../plots/cartesian/handle_outline").clearOutlineControllers,d=v("../color"),h=v("../drawing"),u=v("../../plot_api/plot_template").arrayEditor,C=v("../dragelement"),b=v("../../lib/setcursor"),M=v("./constants"),w=v("./helpers");function N(P){var S=P._fullLayout;for(var R in S._shapeUpperLayer.selectAll("path").remove(),S._shapeLowerLayer.selectAll("path").remove(),S._plots){var G=S._plots[R].shapelayer;G&&G.selectAll("path").remove()}for(var z=0;z<S.shapes.length;z++)S.shapes[z].visible&&H(P,z)}function A(P){return!!P._fullLayout._drawing}function k(P){return!P._context.edits.shapePosition}function H(P,S){P._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+S+'"]').remove();var R=w.makeOptionsAndPlotinfo(P,S),G=R.options,z=R.plotinfo;G._input&&!1!==G.visible&&function X(W){var Z=I(P,G),ne={"data-index":S,"fill-rule":G.fillrule,d:Z},te=G.opacity,oe=G.fillcolor,Ce=G.line.width?G.line.color:"rgba(0,0,0,0)",ie=G.line.width,Q=G.line.dash;ie||!0!==G.editable||(ie=5,Q="solid");var le="Z"!==Z[Z.length-1],j=k(P)&&G.editable&&P._fullLayout._activeShapeIndex===S;j&&(oe=le?"rgba(0,0,0,0)":P._fullLayout.activeshape.fillcolor,te=P._fullLayout.activeshape.opacity);var $,se=W.append("path").attr(ne).style("opacity",te).call(d.stroke,Ce).call(d.fill,oe).call(h.dashLine,Q,ie);if(L(se,P,G),(j||P._context.edits.shapePosition)&&($=u(P.layout,"shapes",G)),j){se.style({cursor:"move"});var ee={element:se.node(),plotinfo:z,gd:P,editHelpers:$,isActiveShape:!0},F=c(Z,P);l(F,se,ee)}else P._context.edits.shapePosition?function(O,Y,B,ae,ue,fe){var he,xe,be,ke,Pe,Re,Ue,tt,Ke,$e,Me,ve,Se,Te,qe,Oe,Fe="pixel"===B.xsizemode,Qe="pixel"===B.ysizemode,nt="line"===B.type,Ye="path"===B.type,rt=fe.modifyItem,ht=p.getFromId(O,B.xref),Xe=p.getRefType(B.xref),gt=p.getFromId(O,B.yref),xt=p.getRefType(B.yref),bt=w.getDataToPixel(O,ht,!1,Xe),Ot=w.getDataToPixel(O,gt,!0,xt),wt=w.getPixelToData(O,ht,!1,Xe),Be=w.getPixelToData(O,gt,!0,xt),Ge=nt?function(){var Nt=Math.max(B.line.width,10),ge=ue.append("g").attr("data-index",ae);ge.append("path").attr("d",Y.attr("d")).style({cursor:"move","stroke-width":Nt,"stroke-opacity":"0"});var _e={"fill-opacity":"0"},We=Math.max(Nt/2,10);return ge.append("circle").attr({"data-line-point":"start-point",cx:Fe?bt(B.xanchor)+B.x0:bt(B.x0),cy:Qe?Ot(B.yanchor)-B.y0:Ot(B.y0),r:We}).style(_e).classed("cursor-grab",!0),ge.append("circle").attr({"data-line-point":"end-point",cx:Fe?bt(B.xanchor)+B.x1:bt(B.x1),cy:Qe?Ot(B.yanchor)-B.y1:Ot(B.y1),r:We}).style(_e).classed("cursor-grab",!0),ge}():Y,vt={element:Ge.node(),gd:O,prepFn:function(Nt){var ge,_e,We,Je,ft,st,et,ut;A(O)||(Fe&&(Pe=bt(B.xanchor)),Qe&&(Re=Ot(B.yanchor)),"path"===B.type?qe=B.path:(he=Fe?B.x0:bt(B.x0),xe=Qe?B.y0:Ot(B.y0),be=Fe?B.x1:bt(B.x1),ke=Qe?B.y1:Ot(B.y1)),he<be?(Ke=he,Se="x0",$e=be,Te="x1"):(Ke=be,Se="x1",$e=he,Te="x0"),!Qe&&xe<ke||Qe&&xe>ke?(Ue=xe,Me="y0",tt=ke,ve="y1"):(Ue=ke,Me="y1",tt=xe,ve="y0"),Pt(Nt),Kt(ue,B),ge=Y,ft=(_e=B).yref,st=p.getFromId(We=O,Je=_e.xref),et=p.getFromId(We,ft),ut="","paper"===Je||st.autorange||(ut+=Je),"paper"===ft||et.autorange||(ut+=ft),h.setClipUrl(ge,ut?"clip"+We._fullLayout._uid+ut:null,We),vt.moveFn="move"===Oe?Jt:tn,vt.altKey=Nt.altKey)},doneFn:function(){A(O)||(b(Y),qt(ue),L(Y,O,B),s.call("_guiRelayout",O,fe.getUpdateObj()))},clickFn:function(){A(O)||qt(ue)}};function Pt(Nt){if(A(O))Oe=null;else if(nt)Oe="path"===Nt.target.tagName?"move":"start-point"===Nt.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var ge=vt.element.getBoundingClientRect(),_e=ge.right-ge.left,We=ge.bottom-ge.top,st=!Ye&&_e>10&&We>10&&!Nt.shiftKey?C.getCursor((Nt.clientX-ge.left)/_e,1-(Nt.clientY-ge.top)/We):"move";b(Y,st),Oe=st.split("-")[0]}}function Jt(Nt,ge){if("path"===B.type){var _e=function(ft){return ft},We=_e,Je=_e;Fe?rt("xanchor",B.xanchor=wt(Pe+Nt)):(We=function(ft){return wt(bt(ft)+Nt)},ht&&"date"===ht.type&&(We=w.encodeDate(We))),Qe?rt("yanchor",B.yanchor=Be(Re+ge)):(Je=function(ft){return Be(Ot(ft)+ge)},gt&&"date"===gt.type&&(Je=w.encodeDate(Je))),rt("path",B.path=D(qe,We,Je))}else Fe?rt("xanchor",B.xanchor=wt(Pe+Nt)):(rt("x0",B.x0=wt(he+Nt)),rt("x1",B.x1=wt(be+Nt))),Qe?rt("yanchor",B.yanchor=Be(Re+ge)):(rt("y0",B.y0=Be(xe+ge)),rt("y1",B.y1=Be(ke+ge)));Y.attr("d",I(O,B)),Kt(ue,B)}function tn(Nt,ge){if(Ye){var _e=function(sn){return sn},We=_e,Je=_e;Fe?rt("xanchor",B.xanchor=wt(Pe+Nt)):(We=function(sn){return wt(bt(sn)+Nt)},ht&&"date"===ht.type&&(We=w.encodeDate(We))),Qe?rt("yanchor",B.yanchor=Be(Re+ge)):(Je=function(sn){return Be(Ot(sn)+ge)},gt&&"date"===gt.type&&(Je=w.encodeDate(Je))),rt("path",B.path=D(qe,We,Je))}else if(nt){if("resize-over-start-point"===Oe){var ft=he+Nt,st=Qe?xe-ge:xe+ge;rt("x0",B.x0=Fe?ft:wt(ft)),rt("y0",B.y0=Qe?st:Be(st))}else if("resize-over-end-point"===Oe){var et=be+Nt,ut=Qe?ke-ge:ke+ge;rt("x1",B.x1=Fe?et:wt(et)),rt("y1",B.y1=Qe?ut:Be(ut))}}else{var St=function(sn){return-1!==Oe.indexOf(sn)},Vt=St("n"),Bt=St("s"),an=St("w"),Tt=St("e"),Wt=Vt?Ue+ge:Ue,dn=Bt?tt+ge:tt,At=an?Ke+Nt:Ke,zt=Tt?$e+Nt:$e;Qe&&(Vt&&(Wt=Ue-ge),Bt&&(dn=tt-ge)),(!Qe&&dn-Wt>10||Qe&&Wt-dn>10)&&(rt(Me,B[Me]=Qe?Wt:Be(Wt)),rt(ve,B[ve]=Qe?dn:Be(dn))),zt-At>10&&(rt(Se,B[Se]=Fe?At:wt(At)),rt(Te,B[Te]=Fe?zt:wt(zt)))}Y.attr("d",I(O,B)),Kt(ue,B)}function Kt(Nt,ge){(Fe||Qe)&&function(){var _e="path"!==ge.type,We=Nt.selectAll(".visual-cue").data([0]);We.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var Je=bt(Fe?ge.xanchor:g.midRange(_e?[ge.x0,ge.x1]:w.extractPathCoords(ge.path,M.paramIsX))),ft=Ot(Qe?ge.yanchor:g.midRange(_e?[ge.y0,ge.y1]:w.extractPathCoords(ge.path,M.paramIsY)));Je=w.roundPositionForSharpStrokeRendering(Je,1),ft=w.roundPositionForSharpStrokeRendering(ft,1),We.attr("d",Fe&&Qe?"M"+(Je-1-1)+","+(ft-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":Fe?"M"+(Je-1-1)+","+(ft-9-1)+"v18 h2 v-18 Z":"M"+(Je-9-1)+","+(ft-1-1)+"h18 v2 h-18 Z")}()}function qt(Nt){Nt.selectAll(".visual-cue").remove()}C.init(vt),Ge.node().onmousemove=Pt}(P,se,G,S,W,$):!0===G.editable&&se.style("pointer-events",le||d.opacity(oe)*te<=.5?"stroke":"all");se.node().addEventListener("click",function(){return function(O,Y){if(k(O)){var B=+Y.node().getAttribute("data-index");if(B>=0){if(B===O._fullLayout._activeShapeIndex)return void E(O);O._fullLayout._activeShapeIndex=B,O._fullLayout._deactivateShape=E,N(O)}}}(P,se)})}("below"!==G.layer?P._fullLayout._shapeUpperLayer:"paper"===G.xref||"paper"===G.yref?P._fullLayout._shapeLowerLayer:z._hadPlotinfo?(z.mainplotinfo||z).shapelayer:P._fullLayout._shapeLowerLayer)}function L(P,S,R){var G=(R.xref+R.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");h.setClipUrl(P,G?"clip"+S._fullLayout._uid+G:null,S)}function I(P,S){var R,G,z,X,W,Z,ne,te,ue,fe,he,be,ke,Pe,Re,oe=S.type,Ce=p.getRefType(S.xref),ie=p.getRefType(S.yref),Q=p.getFromId(P,S.xref),le=p.getFromId(P,S.yref),j=P._fullLayout._size;if(Q?"domain"===Ce?G=function(ue){return Q._offset+Q._length*ue}:(R=w.shapePositionToRange(Q),G=function(ue){return Q._offset+Q.r2p(R(ue,!0))}):G=function(ue){return j.l+j.w*ue},le?"domain"===ie?X=function(ue){return le._offset+le._length*(1-ue)}:(z=w.shapePositionToRange(le),X=function(ue){return le._offset+le.r2p(z(ue,!0))}):X=function(ue){return j.t+j.h*(1-ue)},"path"===oe)return Q&&"date"===Q.type&&(G=w.decodeDate(G)),le&&"date"===le.type&&(X=w.decodeDate(X)),fe=G,he=X,be=(ue=S).xsizemode,ke=ue.ysizemode,Pe=ue.xanchor,Re=ue.yanchor,ue.path.replace(M.segmentRE,function(Ue){var tt=0,Ke=Ue.charAt(0),$e=M.paramIsX[Ke],Me=M.paramIsY[Ke],ve=M.numParams[Ke],Se=Ue.substr(1).replace(M.paramRE,function(Te){return $e[tt]?Te="pixel"===be?fe(Pe)+Number(Te):fe(Te):Me[tt]&&(Te="pixel"===ke?he(Re)-Number(Te):he(Te)),++tt>ve&&(Te="X"),Te});return tt>ve&&(Se=Se.replace(/[\s,]*X.*/,""),g.log("Ignoring extra params in segment "+Ue)),Ke+Se});if("pixel"===S.xsizemode){var $=G(S.xanchor);W=$+S.x0,Z=$+S.x1}else W=G(S.x0),Z=G(S.x1);if("pixel"===S.ysizemode){var se=X(S.yanchor);ne=se-S.y0,te=se-S.y1}else ne=X(S.y0),te=X(S.y1);if("line"===oe)return"M"+W+","+ne+"L"+Z+","+te;if("rect"===oe)return"M"+W+","+ne+"H"+Z+"V"+te+"H"+W+"Z";var ee=(W+Z)/2,F=(ne+te)/2,O=Math.abs(ee-W),Y=Math.abs(F-ne),B="A"+O+","+Y,ae=ee+O+","+F;return"M"+ae+B+" 0 1,1 "+ee+","+(F-Y)+B+" 0 0,1 "+ae+"Z"}function D(P,S,R){return P.replace(M.segmentRE,function(G){var z=0,X=G.charAt(0),W=M.paramIsX[X],Z=M.paramIsY[X],ne=M.numParams[X];return X+G.substr(1).replace(M.paramRE,function(te){return z>=ne||(W[z]?te=S(te):Z[z]&&(te=R(te)),z++),te})})}function E(P){k(P)&&P._fullLayout._activeShapeIndex>=0&&(m(P),delete P._fullLayout._activeShapeIndex,N(P))}pe.exports={draw:N,drawOne:H,eraseActiveShape:function(P){if(k(P)){m(P);var S=P._fullLayout._activeShapeIndex,R=(P.layout||{}).shapes||[];if(S<R.length){for(var G=[],z=0;z<R.length;z++)z!==S&&G.push(R[z]);delete P._fullLayout._activeShapeIndex,s.call("_guiRelayout",P,{shapes:G})}}}}},{"../../lib":232,"../../lib/setcursor":252,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/cartesian/handle_outline":290,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"./constants":184,"./draw_newshape/display_outlines":190,"./draw_newshape/helpers":191,"./helpers":193}],187:[function(v,pe,J){"use strict";var s=v("../../drawing/attributes").dash,g=v("../../../lib/extend").extendFlat;pe.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:g({},s,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":226,"../../drawing/attributes":123}],188:[function(v,pe,J){"use strict";pe.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],189:[function(v,pe,J){"use strict";var s=v("../../color");pe.exports=function(g,p,c){c("newshape.drawdirection"),c("newshape.layer"),c("newshape.fillcolor"),c("newshape.fillrule"),c("newshape.opacity"),c("newshape.line.width")&&(c("newshape.line.color",s.contrast((g||{}).plot_bgcolor||"#FFF")),c("newshape.line.dash")),c("activeshape.fillcolor"),c("activeshape.opacity")}},{"../../color":102}],190:[function(v,pe,J){"use strict";var s=v("../../dragelement"),g=v("../../dragelement/helpers").drawMode,p=v("../../../registry"),c=v("./constants"),l=c.i000,m=c.i090,d=c.i180,h=c.i270,u=v("../../../plots/cartesian/handle_outline").clearOutlineControllers,C=v("./helpers"),b=C.pointsShapeRectangle,M=C.pointsShapeEllipse,w=C.writePaths,N=v("./newshapes");pe.exports=function A(k,H,L,I){I||(I=0);var D=L.gd;function E(){A(k,H,L,I++),M(k[0])&&P({redrawing:!0})}function P($){L.isActiveShape=!1;var se=N(H,L);Object.keys(se).length&&p.call(($||{}).redrawing?"relayout":"_guiRelayout",D,se)}var S,R,G,z,X,W=L.isActiveShape,Z=D._fullLayout._zoomlayer;function te($){G=+$.srcElement.getAttribute("data-i"),z=+$.srcElement.getAttribute("data-j"),S[G][z].moveFn=oe}function oe($,se){if(k.length){var ee=X[G][z][1],F=X[G][z][2],O=k[G],Y=O.length;if(b(O)){for(var B=0;B<Y;B++)if(B!==z){var ae=O[B];ae[1]===O[z][1]&&(ae[1]=ee+$),ae[2]===O[z][2]&&(ae[2]=F+se)}if(O[z][1]=ee+$,O[z][2]=F+se,!b(O))for(var ue=0;ue<Y;ue++)for(var fe=0;fe<O[ue].length;fe++)O[ue][fe]=X[G][ue][fe]}else O[z][1]=ee+$,O[z][2]=F+se;E()}}function Ce(){P()}function ie($,se){if(2===$){G=+se.srcElement.getAttribute("data-i"),z=+se.srcElement.getAttribute("data-j");var ee=k[G];b(ee)||M(ee)||function(){if(k.length&&k[G]&&k[G].length){for(var F=[],O=0;O<k[G].length;O++)O!==z&&F.push(k[G][O]);F.length>1&&(2!==F.length||"Z"!==F[1][0])&&(0===z&&(F[0][0]="M"),k[G]=F,E(),P())}}()}}function Q($,se){(function(ee,F){if(k.length)for(var O=0;O<k.length;O++)for(var Y=0;Y<k[O].length;Y++)for(var B=0;B+2<k[O][Y].length;B+=2)k[O][Y][B+1]=X[O][Y][B+1]+ee,k[O][Y][B+2]=X[O][Y][B+2]+F})($,se),E()}g(L.dragmode)?D._fullLayout._drawing=!0:D._fullLayout._activeShapeIndex>=0&&u(D),H.attr("d",w(k)),W&&!I&&(X=function($,se){for(var ee=0;ee<se.length;ee++){var F=se[ee];$[ee]=[];for(var O=0;O<F.length;O++){$[ee][O]=[];for(var Y=0;Y<F[O].length;Y++)$[ee][O][Y]=F[O][Y]}}return $}([],k),function($){S=[];for(var se=0;se<k.length;se++){var ee=k[se],F=!b(ee)&&M(ee);S[se]=[];for(var O=0;O<ee.length;O++)if("Z"!==ee[O][0]&&(!F||O===l||O===m||O===d||O===h)){var Y=ee[O][1],B=ee[O][2],ae=$.append("circle").classed("cursor-grab",!0).attr("data-i",se).attr("data-j",O).attr("cx",Y).attr("cy",B).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});S[se][O]={element:ae.node(),gd:D,prepFn:te,doneFn:Ce,clickFn:ie},s.init(S[se][O])}}}(Z.append("g").attr("class","outline-controllers")),R=[],k.length&&(R[0]={element:H[0][0],gd:D,prepFn:function le($){(G=+$.srcElement.getAttribute("data-i"))||(G=0),R[G].moveFn=Q},doneFn:function j(){P()}},s.init(R[0])))}},{"../../../plots/cartesian/handle_outline":290,"../../../registry":318,"../../dragelement":121,"../../dragelement/helpers":120,"./constants":188,"./helpers":191,"./newshapes":192}],191:[function(v,pe,J){"use strict";var s=v("parse-svg-path"),g=v("./constants"),p=g.CIRCLE_SIDES,c=g.SQRT2,l=v("../../../plots/cartesian/helpers"),m=l.p2r,d=l.r2p,h=[0,3,4,5,6,1,2],u=[0,3,4,1,2];function C(M,w){return Math.abs(M-w)<=1e-6}function b(M,w){var N=w[1]-M[1],A=w[2]-M[2];return Math.sqrt(N*N+A*A)}J.writePaths=function(M){var w=M.length;if(!w)return"M0,0Z";for(var N="",A=0;A<w;A++)for(var k=M[A].length,H=0;H<k;H++){var L=M[A][H][0];if("Z"===L)N+="Z";else for(var I=M[A][H].length,D=0;D<I;D++){var E=D;"Q"===L||"S"===L?E=u[D]:"C"===L&&(E=h[D]),N+=M[A][H][E],D>0&&D<I-1&&(N+=",")}}return N},J.readPaths=function(M,w,N,A){var k,H,L,I=s(M),D=[],E=-1,P=0,S=0,R=function(){H=P,L=S};R();for(var G=0;G<I.length;G++){var ne=[],te=I[G][0],oe=te;switch(te){case"M":D[++E]=[],ne.push([oe,P=+I[G][1],S=+I[G][2]]),R();break;case"Q":case"S":ne.push([oe,P=+I[G][3],S=+I[G][4],+I[G][1],+I[G][2]]);break;case"C":ne.push([oe,P=+I[G][5],S=+I[G][6],+I[G][1],+I[G][2],+I[G][3],+I[G][4]]);break;case"T":case"L":ne.push([oe,P=+I[G][1],S=+I[G][2]]);break;case"H":ne.push([oe="L",P=+I[G][1],S]);break;case"V":ne.push([oe="L",P,S=+I[G][1]]);break;case"A":oe="L";var Ce=+I[G][1],ie=+I[G][2];+I[G][4]||(Ce=-Ce,ie=-ie);var Q=P-Ce,le=S;for(k=1;k<=p/2;k++){var j=2*Math.PI*k/p;ne.push([oe,Q+Ce*Math.cos(j),le+ie*Math.sin(j)])}break;case"Z":P===H&&S===L||ne.push([oe,P=H,S=L])}for(var $=(N||{}).domain,se=w._fullLayout._size,ee=N&&"pixel"===N.xsizemode,F=N&&"pixel"===N.ysizemode,O=!1===A,Y=0;Y<ne.length;Y++){for(k=0;k+2<7;k+=2){var B=ne[Y][k+1],ae=ne[Y][k+2];void 0!==B&&void 0!==ae&&(P=B,S=ae,N&&(N.xaxis&&N.xaxis.p2r?(O&&(B-=N.xaxis._offset),B=ee?d(N.xaxis,N.xanchor)+B:m(N.xaxis,B)):(O&&(B-=se.l),$?B=$.x[0]+B/se.w:B/=se.w),N.yaxis&&N.yaxis.p2r?(O&&(ae-=N.yaxis._offset),ae=F?d(N.yaxis,N.yanchor)-ae:m(N.yaxis,ae)):(O&&(ae-=se.t),ae=$?$.y[1]-ae/se.h:1-ae/se.h)),ne[Y][k+1]=B,ne[Y][k+2]=ae)}D[E].push(ne[Y].slice())}}return D},J.pointsShapeRectangle=function(M){if(5!==M.length)return!1;for(var w=1;w<3;w++)if(!C(M[0][w]-M[1][w],M[3][w]-M[2][w])||!C(M[0][w]-M[3][w],M[1][w]-M[2][w]))return!1;return!(!C(M[0][1],M[1][1])&&!C(M[0][1],M[3][1])||!(b(M[0],M[1])*b(M[0],M[3])))},J.pointsShapeEllipse=function(M){var w=M.length;if(w!==p+1)return!1;w=p;for(var N=0;N<w;N++){var A=(2*w-N)%w,k=(w/2+A)%w;if(!C(b(M[N],M[(w/2+N)%w]),b(M[A],M[k])))return!1}return!0},J.handleEllipse=function(M,w,N){if(!M)return[w,N];var A=J.ellipseOver({x0:w[0],y0:w[1],x1:N[0],y1:N[1]}),k=(A.x1+A.x0)/2,H=(A.y1+A.y0)/2,L=(A.x1-A.x0)/2,I=(A.y1-A.y0)/2;L||(L=I/=c),I||(I=L/=c);for(var D=[],E=0;E<p;E++){var P=2*E*Math.PI/p;D.push([k+L*Math.cos(P),H+I*Math.sin(P)])}return D},J.ellipseOver=function(M){var w=M.x0,N=M.y0,A=M.x1,k=M.y1,H=A-w,L=k-N,I=((w-=H)+A)/2,D=((N-=L)+k)/2;return{x0:I-(H*=c),y0:D-(L*=c),x1:I+H,y1:D+L}}},{"../../../plots/cartesian/helpers":291,"./constants":188,"parse-svg-path":56}],192:[function(v,pe,J){"use strict";var s=v("../../dragelement/helpers"),g=s.drawMode,p=s.openMode,c=v("./constants"),l=c.i000,m=c.i090,d=c.i180,h=c.i270,u=c.cos45,C=c.sin45,b=v("../../../plots/cartesian/helpers"),M=b.p2r,w=b.r2p,N=v("../../../plots/cartesian/handle_outline").clearSelect,A=v("./helpers"),k=A.readPaths,H=A.writePaths,L=A.ellipseOver;pe.exports=function(I,D){if(I.length){var E=I[0][0];if(E){var P=E.getAttribute("d"),S=D.gd,R=S._fullLayout.newshape,G=D.plotinfo,z=G.xaxis,X=G.yaxis,W=!!G.domain||!G.xaxis,Z=!!G.domain||!G.yaxis,ne=D.isActiveShape,te=D.dragmode,oe=(S.layout||{}).shapes||[];if(!g(te)&&void 0!==ne){var Ce=S._fullLayout._activeShapeIndex;if(Ce<oe.length)switch(S._fullLayout.shapes[Ce].type){case"rect":te="drawrect";break;case"circle":te="drawcircle";break;case"line":te="drawline";break;case"path":var ie=oe[Ce].path||"";te="Z"===ie[ie.length-1]?"drawclosedpath":"drawopenpath"}}var Q,le=p(te),j=k(P,S,G,ne),$={editable:!0,xref:W?"paper":z._id,yref:Z?"paper":X._id,layer:R.layer,opacity:R.opacity,line:{color:R.line.color,width:R.line.width,dash:R.line.dash}};if(le||($.fillcolor=R.fillcolor,$.fillrule=R.fillrule),1===j.length&&(Q=j[0]),Q&&"drawrect"===te)$.type="rect",$.x0=Q[0][1],$.y0=Q[0][2],$.x1=Q[2][1],$.y1=Q[2][2];else if(Q&&"drawline"===te)$.type="line",$.x0=Q[0][1],$.y0=Q[0][2],$.x1=Q[1][1],$.y1=Q[1][2];else if(Q&&"drawcircle"===te){$.type="circle";var se=Q[l][1],ee=Q[m][1],F=Q[d][1],O=Q[h][1],Y=Q[l][2],B=Q[m][2],ae=Q[d][2],ue=Q[h][2],fe=G.xaxis&&("date"===G.xaxis.type||"log"===G.xaxis.type),he=G.yaxis&&("date"===G.yaxis.type||"log"===G.yaxis.type);fe&&(se=w(G.xaxis,se),ee=w(G.xaxis,ee),F=w(G.xaxis,F),O=w(G.xaxis,O)),he&&(Y=w(G.yaxis,Y),B=w(G.yaxis,B),ae=w(G.yaxis,ae),ue=w(G.yaxis,ue));var xe=(ee+O)/2,be=(Y+ae)/2,ke=L({x0:xe,y0:be,x1:xe+(O-ee+F-se)/2*u,y1:be+(ue-B+ae-Y)/2*C});fe&&(ke.x0=M(G.xaxis,ke.x0),ke.x1=M(G.xaxis,ke.x1)),he&&(ke.y0=M(G.yaxis,ke.y0),ke.y1=M(G.yaxis,ke.y1)),$.x0=ke.x0,$.y0=ke.y0,$.x1=ke.x1,$.y1=ke.y1}else $.type="path",z&&X&&function(Me,ve,Se){var Te="date"===ve.type,qe="date"===Se.type;if(!Te&&!qe)return Me;for(var Oe=0;Oe<Me.length;Oe++)for(var Fe=0;Fe<Me[Oe].length;Fe++)for(var Qe=0;Qe+2<Me[Oe][Fe].length;Qe+=2)Te&&(Me[Oe][Fe][Qe+1]=Me[Oe][Fe][Qe+1].replace(" ","_")),qe&&(Me[Oe][Fe][Qe+2]=Me[Oe][Fe][Qe+2].replace(" ","_"))}(j,z,X),$.path=H(j),Q=null;N(S);for(var Pe=D.editHelpers,Re=(Pe||{}).modifyItem,Ue=[],tt=0;tt<oe.length;tt++){var Ke=S._fullLayout.shapes[tt];if(Ue[tt]=Ke._input,void 0!==ne&&tt===S._fullLayout._activeShapeIndex){var $e=$;switch(Ke.type){case"line":case"rect":case"circle":Re("x0",$e.x0),Re("x1",$e.x1),Re("y0",$e.y0),Re("y1",$e.y1);break;case"path":Re("path",$e.path)}}}return void 0===ne?(Ue.push($),Ue):Pe?Pe.getUpdateObj():{}}}}},{"../../../plots/cartesian/handle_outline":290,"../../../plots/cartesian/helpers":291,"../../dragelement/helpers":120,"./constants":188,"./helpers":191}],193:[function(v,pe,J){"use strict";var s=v("./constants"),g=v("../../lib");J.rangeToShapePosition=function(p){return"log"===p.type?p.r2d:function(c){return c}},J.shapePositionToRange=function(p){return"log"===p.type?p.d2r:function(c){return c}},J.decodeDate=function(p){return function(c){return c.replace&&(c=c.replace("_"," ")),p(c)}},J.encodeDate=function(p){return function(c){return p(c).replace(" ","_")}},J.extractPathCoords=function(p,c){var l=[];return p.match(s.segmentRE).forEach(function(m){var d=c[m.charAt(0)].drawn;if(void 0!==d){var h=m.substr(1).match(s.paramRE);!h||h.length<d||l.push(g.cleanNumber(h[d]))}}),l},J.getDataToPixel=function(p,c,l,m){var d,h=p._fullLayout._size;if(c)if("domain"===m)d=function(C){return c._length*(l?1-C:C)+c._offset};else{var u=J.shapePositionToRange(c);d=function(C){return c._offset+c.r2p(u(C,!0))},"date"===c.type&&(d=J.decodeDate(d))}else d=l?function(C){return h.t+h.h*(1-C)}:function(C){return h.l+h.w*C};return d},J.getPixelToData=function(p,c,l,m){var d,h=p._fullLayout._size;if(c)if("domain"===m)d=function(C){var b=(C-c._offset)/c._length;return l?1-b:b};else{var u=J.rangeToShapePosition(c);d=function(C){return u(c.p2r(C-c._offset))}}else d=l?function(C){return 1-(C-h.t)/h.h}:function(C){return(C-h.l)/h.w};return d},J.roundPositionForSharpStrokeRendering=function(p,c){var l=1===Math.round(c%2),m=Math.round(p);return l?m+.5:m},J.makeOptionsAndPlotinfo=function(p,c){var l=p._fullLayout.shapes[c]||{},m=p._fullLayout._plots[l.xref+l.yref];return m?m._hadPlotinfo=!0:(m={},l.xref&&"paper"!==l.xref&&(m.xaxis=p._fullLayout[l.xref+"axis"]),l.yref&&"paper"!==l.yref&&(m.yaxis=p._fullLayout[l.yref+"axis"])),m.xsizemode=l.xsizemode,m.ysizemode=l.ysizemode,m.xanchor=l.xanchor,m.yanchor=l.yanchor,{options:l,plotinfo:m}}},{"../../lib":232,"./constants":184}],194:[function(v,pe,J){"use strict";var s=v("./draw");pe.exports={moduleType:"component",name:"shapes",layoutAttributes:v("./attributes"),supplyLayoutDefaults:v("./defaults"),supplyDrawNewShapeDefaults:v("./draw_newshape/defaults"),includeBasePlot:v("../../plots/cartesian/include_components")("shapes"),calcAutorange:v("./calc_autorange"),draw:s.draw,drawOne:s.drawOne}},{"../../plots/cartesian/include_components":292,"./attributes":182,"./calc_autorange":183,"./defaults":185,"./draw":186,"./draw_newshape/defaults":189}],195:[function(v,pe,J){"use strict";var s=v("../../plots/font_attributes"),g=v("../../plots/pad_attributes"),p=v("../../lib/extend").extendDeepAll,c=v("../../plot_api/edit_types").overrideAll,l=v("../../plots/animation_attributes"),m=v("../../plot_api/plot_template").templatedArray,d=v("./constants"),h=m("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});pe.exports=c(m("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:h,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:p(g({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:l.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:s({})},font:s({}),activebgcolor:{valType:"color",dflt:d.gripBgActiveColor},bgcolor:{valType:"color",dflt:d.railBgColor},bordercolor:{valType:"color",dflt:d.railBorderColor},borderwidth:{valType:"number",min:0,dflt:d.railBorderWidth},ticklen:{valType:"number",min:0,dflt:d.tickLength},tickcolor:{valType:"color",dflt:d.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:d.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/animation_attributes":273,"../../plots/font_attributes":310,"../../plots/pad_attributes":315,"./constants":196}],196:[function(v,pe,J){"use strict";pe.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],197:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plots/array_container_defaults"),p=v("./attributes"),c=v("./constants").name,l=p.steps;function m(h,u,C){function b(k,H){return s.coerce(h,u,p,k,H)}for(var M=g(h,u,{name:"steps",handleItemDefaults:d}),w=0,N=0;N<M.length;N++)M[N].visible&&w++;if(w<2?u.visible=!1:b("visible")){u._stepCount=w;var A=u._visibleSteps=s.filterVisible(M);(M[b("active")]||{}).visible||(u.active=A[0]._index),b("x"),b("y"),s.noneOrAll(h,u,["x","y"]),b("xanchor"),b("yanchor"),b("len"),b("lenmode"),b("pad.t"),b("pad.r"),b("pad.b"),b("pad.l"),s.coerceFont(b,"font",C.font),b("currentvalue.visible")&&(b("currentvalue.xanchor"),b("currentvalue.prefix"),b("currentvalue.suffix"),b("currentvalue.offset"),s.coerceFont(b,"currentvalue.font",u.font)),b("transition.duration"),b("transition.easing"),b("bgcolor"),b("activebgcolor"),b("bordercolor"),b("borderwidth"),b("ticklen"),b("tickwidth"),b("tickcolor"),b("minorticklen")}}function d(h,u){function C(M,w){return s.coerce(h,u,l,M,w)}if("skip"===h.method||Array.isArray(h.args)?C("visible"):u.visible=!1){C("method"),C("args");var b=C("label","step-"+u._index);C("value",b),C("execute")}}pe.exports=function(h,u){g(h,u,{name:c,handleItemDefaults:m})}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":195,"./constants":196}],198:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../plots/plots"),p=v("../color"),c=v("../drawing"),l=v("../../lib"),m=l.strTranslate,d=v("../../lib/svg_text_utils"),h=v("../../plot_api/plot_template").arrayEditor,u=v("./constants"),C=v("../../constants/alignment"),b=C.LINE_SPACING,M=C.FROM_TL,w=C.FROM_BR;function N(ne){return u.autoMarginIdRoot+ne._index}function A(ne){return ne._index}function k(ne,te){var oe=c.tester.selectAll("g."+u.labelGroupClass).data(te._visibleSteps);oe.enter().append("g").classed(u.labelGroupClass,!0);var Ce=0,ie=0;oe.each(function(Y){var B=I(s.select(this),{step:Y},te).node();if(B){var ae=c.bBox(B);ie=Math.max(ie,ae.height),Ce=Math.max(Ce,ae.width)}}),oe.remove();var Q=te._dims={};Q.inputAreaWidth=Math.max(u.railWidth,u.gripHeight);var le=ne._fullLayout._size;if(Q.lx=le.l+le.w*te.x,Q.ly=le.t+le.h*(1-te.y),Q.outerLength="fraction"===te.lenmode?Math.round(le.w*te.len):te.len,Q.inputAreaStart=0,Q.inputAreaLength=Math.round(Q.outerLength-te.pad.l-te.pad.r),Q.labelStride=Math.max(1,Math.ceil((Ce+u.labelPadding)/((Q.inputAreaLength-2*u.stepInset)/(te._stepCount-1)))),Q.labelHeight=ie,Q.currentValueMaxWidth=0,Q.currentValueHeight=0,Q.currentValueTotalHeight=0,Q.currentValueMaxLines=1,te.currentvalue.visible){var se=c.tester.append("g");oe.each(function(Y){var B=H(se,te,Y.label),ae=B.node()&&c.bBox(B.node())||{width:0,height:0},ue=d.lineCount(B);Q.currentValueMaxWidth=Math.max(Q.currentValueMaxWidth,Math.ceil(ae.width)),Q.currentValueHeight=Math.max(Q.currentValueHeight,Math.ceil(ae.height)),Q.currentValueMaxLines=Math.max(Q.currentValueMaxLines,ue)}),Q.currentValueTotalHeight=Q.currentValueHeight+te.currentvalue.offset,se.remove()}Q.height=Q.currentValueTotalHeight+u.tickOffset+te.ticklen+u.labelOffset+Q.labelHeight+te.pad.t+te.pad.b;var ee="left";l.isRightAnchor(te)&&(Q.lx-=Q.outerLength,ee="right"),l.isCenterAnchor(te)&&(Q.lx-=Q.outerLength/2,ee="center");var F="top";l.isBottomAnchor(te)&&(Q.ly-=Q.height,F="bottom"),l.isMiddleAnchor(te)&&(Q.ly-=Q.height/2,F="middle"),Q.outerLength=Math.ceil(Q.outerLength),Q.height=Math.ceil(Q.height),Q.lx=Math.round(Q.lx),Q.ly=Math.round(Q.ly);var O={y:te.y,b:Q.height*w[F],t:Q.height*M[F]};"fraction"===te.lenmode?(O.l=0,O.xl=te.x-te.len*M[ee],O.r=0,O.xr=te.x+te.len*w[ee]):(O.x=te.x,O.l=Q.outerLength*M[ee],O.r=Q.outerLength*w[ee]),g.autoMargin(ne,N(te),O)}function H(ne,te,oe){if(te.currentvalue.visible){var Ce,ie,Q=te._dims;switch(te.currentvalue.xanchor){case"right":Ce=Q.inputAreaLength-u.currentValueInset-Q.currentValueMaxWidth,ie="left";break;case"center":Ce=.5*Q.inputAreaLength,ie="middle";break;default:Ce=u.currentValueInset,ie="left"}var le=l.ensureSingle(ne,"text",u.labelClass,function(O){O.attr({"text-anchor":ie,"data-notex":1})}),j=te.currentvalue.prefix?te.currentvalue.prefix:"";if("string"==typeof oe)j+=oe;else{var $=te.steps[te.active].label,se=te._gd._fullLayout._meta;se&&($=l.templateString($,se)),j+=$}te.currentvalue.suffix&&(j+=te.currentvalue.suffix),le.call(c.font,te.currentvalue.font).text(j).call(d.convertToTspans,te._gd);var ee=d.lineCount(le);return d.positionText(le,Ce,(Q.currentValueMaxLines+1-ee)*te.currentvalue.font.size*b),le}}function L(ne,te,oe){l.ensureSingle(ne,"rect",u.gripRectClass,function(Ce){Ce.call(S,te,ne,oe).style("pointer-events","all")}).attr({width:u.gripWidth,height:u.gripHeight,rx:u.gripRadius,ry:u.gripRadius}).call(p.stroke,oe.bordercolor).call(p.fill,oe.bgcolor).style("stroke-width",oe.borderwidth+"px")}function I(ne,te,oe){var Ce=l.ensureSingle(ne,"text",u.labelClass,function(le){le.attr({"text-anchor":"middle","data-notex":1})}),ie=te.step.label,Q=oe._gd._fullLayout._meta;return Q&&(ie=l.templateString(ie,Q)),Ce.call(c.font,oe.font).text(ie).call(d.convertToTspans,oe._gd),Ce}function D(ne,te){var oe=l.ensureSingle(ne,"g",u.labelsClass),Ce=te._dims,ie=oe.selectAll("g."+u.labelGroupClass).data(Ce.labelSteps);ie.enter().append("g").classed(u.labelGroupClass,!0),ie.exit().remove(),ie.each(function(Q){var le=s.select(this);le.call(I,Q,te),c.setTranslate(le,z(te,Q.fraction),u.tickOffset+te.ticklen+te.font.size*b+u.labelOffset+Ce.currentValueTotalHeight)})}function E(ne,te,oe,Ce,ie){var Q=Math.round(Ce*(oe._stepCount-1)),le=oe._visibleSteps[Q]._index;le!==oe.active&&P(ne,te,oe,le,!0,ie)}function P(ne,te,oe,Ce,ie,Q){var le=oe.active;oe.active=Ce,h(ne.layout,u.name,oe).applyUpdate("active",Ce);var j=oe.steps[oe.active];te.call(G,oe,Q),te.call(H,oe),ne.emit("plotly_sliderchange",{slider:oe,step:oe.steps[oe.active],interaction:ie,previousActive:le}),j&&j.method&&ie&&(te._nextMethod?(te._nextMethod.step=j,te._nextMethod.doCallback=ie,te._nextMethod.doTransition=Q):(te._nextMethod={step:j,doCallback:ie,doTransition:Q},te._nextMethodRaf=window.requestAnimationFrame(function(){var $=te._nextMethod.step;$.method&&($.execute&&g.executeAPICommand(ne,$.method,$.args),te._nextMethod=null,te._nextMethodRaf=null)})))}function S(ne,te,oe){var Ce=oe.node(),ie=s.select(te);function Q(){return oe.data()[0]}function le(){var j=Q();te.emit("plotly_sliderstart",{slider:j});var $=oe.select("."+u.gripRectClass);s.event.stopPropagation(),s.event.preventDefault(),$.call(p.fill,j.activebgcolor);var se=X(j,s.mouse(Ce)[0]);function ee(){var O=Q(),Y=X(O,s.mouse(Ce)[0]);E(te,oe,O,Y,!1)}function F(){var O=Q();O._dragging=!1,$.call(p.fill,O.bgcolor),ie.on("mouseup",null),ie.on("mousemove",null),ie.on("touchend",null),ie.on("touchmove",null),te.emit("plotly_sliderend",{slider:O,step:O.steps[O.active]})}E(te,oe,j,se,!0),j._dragging=!0,ie.on("mousemove",ee),ie.on("touchmove",ee),ie.on("mouseup",F),ie.on("touchend",F)}ne.on("mousedown",le),ne.on("touchstart",le)}function R(ne,te){var oe=ne.selectAll("rect."+u.tickRectClass).data(te._visibleSteps),Ce=te._dims;oe.enter().append("rect").classed(u.tickRectClass,!0),oe.exit().remove(),oe.attr({width:te.tickwidth+"px","shape-rendering":"crispEdges"}),oe.each(function(ie,Q){var le=Q%Ce.labelStride==0,j=s.select(this);j.attr({height:le?te.ticklen:te.minorticklen}).call(p.fill,te.tickcolor),c.setTranslate(j,z(te,Q/(te._stepCount-1))-.5*te.tickwidth,(le?u.tickOffset:u.minorTickOffset)+Ce.currentValueTotalHeight)})}function G(ne,te,oe){for(var Ce=ne.select("rect."+u.gripRectClass),ie=0,Q=0;Q<te._stepCount;Q++)if(te._visibleSteps[Q]._index===te.active){ie=Q;break}var le=z(te,ie/(te._stepCount-1));if(!te._invokingCommand){var j=Ce;oe&&te.transition.duration>0&&(j=j.transition().duration(te.transition.duration).ease(te.transition.easing)),j.attr("transform",m(le-.5*u.gripWidth,te._dims.currentValueTotalHeight))}}function z(ne,te){var oe=ne._dims;return oe.inputAreaStart+u.stepInset+(oe.inputAreaLength-2*u.stepInset)*Math.min(1,Math.max(0,te))}function X(ne,te){var oe=ne._dims;return Math.min(1,Math.max(0,(te-u.stepInset-oe.inputAreaStart)/(oe.inputAreaLength-2*u.stepInset-2*oe.inputAreaStart)))}function W(ne,te,oe){var Ce=oe._dims,ie=l.ensureSingle(ne,"rect",u.railTouchRectClass,function(Q){Q.call(S,te,ne,oe).style("pointer-events","all")});ie.attr({width:Ce.inputAreaLength,height:Math.max(Ce.inputAreaWidth,u.tickOffset+oe.ticklen+Ce.labelHeight)}).call(p.fill,oe.bgcolor).attr("opacity",0),c.setTranslate(ie,0,Ce.currentValueTotalHeight)}function Z(ne,te){var oe=te._dims,Ce=oe.inputAreaLength-2*u.railInset,ie=l.ensureSingle(ne,"rect",u.railRectClass);ie.attr({width:Ce,height:u.railWidth,rx:u.railRadius,ry:u.railRadius,"shape-rendering":"crispEdges"}).call(p.stroke,te.bordercolor).call(p.fill,te.bgcolor).style("stroke-width",te.borderwidth+"px"),c.setTranslate(ie,u.railInset,.5*(oe.inputAreaWidth-u.railWidth)+oe.currentValueTotalHeight)}pe.exports=function(ne){var te=ne._fullLayout,oe=function($,se){for(var ee=$[u.name],F=[],O=0;O<ee.length;O++){var Y=ee[O];Y.visible&&(Y._gd=se,F.push(Y))}return F}(te,ne),Ce=te._infolayer.selectAll("g."+u.containerClassName).data(oe.length>0?[0]:[]);function ie($){$._commandObserver&&($._commandObserver.remove(),delete $._commandObserver),g.autoMargin(ne,N($))}if(Ce.enter().append("g").classed(u.containerClassName,!0).style("cursor","ew-resize"),Ce.exit().each(function(){s.select(this).selectAll("g."+u.groupClassName).each(ie)}).remove(),0!==oe.length){var Q=Ce.selectAll("g."+u.groupClassName).data(oe,A);Q.enter().append("g").classed(u.groupClassName,!0),Q.exit().each(ie).remove();for(var le=0;le<oe.length;le++)k(ne,oe[le]);Q.each(function($){var se=s.select(this);(function(ee){var F=ee._dims;F.labelSteps=[];for(var O=ee._stepCount,Y=0;Y<O;Y+=F.labelStride)F.labelSteps.push({fraction:Y/(O-1),step:ee._visibleSteps[Y]})})($),g.manageCommandObserver(ne,$,$._visibleSteps,function(ee){var F=se.data()[0];F.active!==ee.index&&(F._dragging||P(ne,se,F,ee.index,!1,!0))}),function(ee,F,O){(O.steps[O.active]||{}).visible||(O.active=O._visibleSteps[0]._index),F.call(H,O).call(Z,O).call(D,O).call(R,O).call(W,ee,O).call(L,ee,O);var Y=O._dims;c.setTranslate(F,Y.lx+O.pad.l,Y.ly+O.pad.t),F.call(G,O,!1),F.call(H,O)}(ne,s.select(this),$)})}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":316,"../color":102,"../drawing":124,"./constants":196,"@plotly/d3":11}],199:[function(v,pe,J){"use strict";var s=v("./constants");pe.exports={moduleType:"component",name:s.name,layoutAttributes:v("./attributes"),supplyLayoutDefaults:v("./defaults"),draw:v("./draw")}},{"./attributes":195,"./constants":196,"./defaults":197,"./draw":198}],200:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("fast-isnumeric"),p=v("../../plots/plots"),c=v("../../registry"),l=v("../../lib"),m=l.strTranslate,d=v("../drawing"),h=v("../color"),u=v("../../lib/svg_text_utils"),C=v("../../constants/interactions"),b=v("../../constants/alignment").OPPOSITE_SIDE,M=/ [XY][0-9]* /;pe.exports={draw:function(w,N,A){var k,L=A.propName,I=A.placeholder,D=A.traceIndex,E=A.avoid||{},P=A.attributes,S=A.transform,R=A.containerGroup,G=w._fullLayout,z=1,X=!1,W=A.propContainer.title,Z=(W&&W.text?W.text:"").trim(),ne=W&&W.font?W.font:{},te=ne.family,oe=ne.size,Ce=ne.color;"title.text"===L?k="titleText":-1!==L.indexOf("axis")?k="axisTitleText":L.indexOf(!0)&&(k="colorbarTitleText");var ie=w._context.edits[k];""===Z?z=0:Z.replace(M," % ")===I.replace(M," % ")&&(z=.2,X=!0,ie||(Z="")),A._meta?Z=l.templateString(Z,A._meta):G._meta&&(Z=l.templateString(Z,G._meta));var Q,le=Z||ie;R||(R=l.ensureSingle(G._infolayer,"g","g-"+N),Q=G._hColorbarMoveTitle);var j=R.selectAll("text").data(le?[0]:[]);if(j.enter().append("text"),j.text(Z).attr("class",N),j.exit().remove(),!le)return R;function $(F){l.syncOrAsync([se,ee],F)}function se(F){var O;return!S&&Q&&(S={}),S?(O="",S.rotate&&(O+="rotate("+[S.rotate,P.x,P.y]+")"),(S.offset||Q)&&(O+=m(0,(S.offset||0)-(Q||0)))):O=null,F.attr("transform",O),F.style({"font-family":te,"font-size":s.round(oe,2)+"px",fill:h.rgb(Ce),opacity:z*h.opacity(Ce),"font-weight":p.fontWeight}).attr(P).call(u.convertToTspans,w),p.previousPromises(w)}function ee(F){var O=s.select(F.node().parentNode);if(E&&E.selection&&E.side&&Z){O.attr("transform",null);var Y=b[E.side],B="left"===E.side||"top"===E.side?-1:1,ae=g(E.pad)?E.pad:2,ue=d.bBox(O.node()),he=E.maxShift||B*({left:0,top:0,right:G.width,bottom:G.height}[E.side]-ue[E.side]),xe=0;if(he<0)xe=he;else{var be=E.offsetLeft||0,ke=E.offsetTop||0;ue.left-=be,ue.right-=be,ue.top-=ke,ue.bottom-=ke,E.selection.each(function(){var Re=d.bBox(this);l.bBoxIntersect(ue,Re,ae)&&(xe=Math.max(xe,B*(Re[E.side]-ue[Y])+ae))}),xe=Math.min(he,xe)}if(xe>0||he<0){var Pe={left:[-xe,0],right:[xe,0],top:[0,-xe],bottom:[0,xe]}[E.side];O.attr("transform",m(Pe[0],Pe[1]))}}}return j.call($),ie&&(Z?j.on(".opacity",null):(z=0,X=!0,j.text(I).on("mouseover.opacity",function(){s.select(this).transition().duration(C.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){s.select(this).transition().duration(C.HIDE_PLACEHOLDER).style("opacity",0)})),j.call(u.makeEditable,{gd:w}).on("edit",function(F){void 0!==D?c.call("_guiRestyle",w,L,F,D):c.call("_guiRelayout",w,L,F)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call($)}).on("input",function(F){this.text(F||" ").call(u.positionText,P.x,P.y)})),j.classed("js-placeholder",X),R}}},{"../../constants/alignment":207,"../../constants/interactions":211,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"../color":102,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],201:[function(v,pe,J){"use strict";var s=v("../../plots/font_attributes"),g=v("../color/attributes"),p=v("../../lib/extend").extendFlat,c=v("../../plot_api/edit_types").overrideAll,l=v("../../plots/pad_attributes"),m=v("../../plot_api/plot_template").templatedArray,d=m("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});pe.exports=c(m("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:d,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:p(l({editType:"arraydraw"}),{}),font:s({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:g.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/font_attributes":310,"../../plots/pad_attributes":315,"../color/attributes":101}],202:[function(v,pe,J){"use strict";pe.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},{}],203:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plots/array_container_defaults"),p=v("./attributes"),c=v("./constants").name,l=p.buttons;function m(h,u,C){function b(M,w){return s.coerce(h,u,p,M,w)}b("visible",g(h,u,{name:"buttons",handleItemDefaults:d}).length>0)&&(b("active"),b("direction"),b("type"),b("showactive"),b("x"),b("y"),s.noneOrAll(h,u,["x","y"]),b("xanchor"),b("yanchor"),b("pad.t"),b("pad.r"),b("pad.b"),b("pad.l"),s.coerceFont(b,"font",C.font),b("bgcolor",C.paper_bgcolor),b("bordercolor"),b("borderwidth"))}function d(h,u){function C(b,M){return s.coerce(h,u,l,b,M)}C("visible","skip"===h.method||Array.isArray(h.args))&&(C("method"),C("args"),C("args2"),C("label"),C("execute"))}pe.exports=function(h,u){g(h,u,{name:c,handleItemDefaults:m})}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":201,"./constants":202}],204:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../plots/plots"),p=v("../color"),c=v("../drawing"),l=v("../../lib"),m=v("../../lib/svg_text_utils"),d=v("../../plot_api/plot_template").arrayEditor,h=v("../../constants/alignment").LINE_SPACING,u=v("./constants"),C=v("./scrollbox");function b(z){return z._index}function M(z,X){return+z.attr(u.menuIndexAttrName)===X._index}function w(z,X,W,Z,ne,te,oe,Ce){X.active=oe,d(z.layout,u.name,X).applyUpdate("active",oe),"buttons"===X.type?A(z,Z,null,null,X):"dropdown"===X.type&&(ne.attr(u.menuIndexAttrName,"-1"),N(z,Z,ne,te,X),Ce||A(z,Z,ne,te,X))}function N(z,X,W,Z,ne){var te=l.ensureSingle(X,"g",u.headerClassName,function(j){j.style("pointer-events","all")}),oe=ne._dims,Q={y:ne.pad.t,yPad:0,x:ne.pad.l,xPad:0,index:0},le={width:oe.headerWidth,height:oe.headerHeight};te.call(k,ne,ne.buttons[ne.active]||u.blankHeaderOpts,z).call(R,ne,Q,le),l.ensureSingle(X,"text",u.headerArrowClassName,function(j){j.attr("text-anchor","end").call(c.font,ne.font).text(u.arrowSymbol[ne.direction])}).attr({x:oe.headerWidth-u.arrowOffsetX+ne.pad.l,y:oe.headerHeight/2+u.textOffsetY+ne.pad.t}),te.on("click",function(){W.call(G,String(M(W,ne)?-1:ne._index)),A(z,X,W,Z,ne)}),te.on("mouseover",function(){te.call(D)}),te.on("mouseout",function(){te.call(E,ne)}),c.setTranslate(X,oe.lx,oe.ly)}function A(z,X,W,Z,ne){W||(W=X).attr("pointer-events","all");var te=-1==+W.attr(u.menuIndexAttrName)&&"buttons"!==ne.type?[]:ne.buttons,oe="dropdown"===ne.type?u.dropdownButtonClassName:u.buttonClassName,Ce=W.selectAll("g."+oe).data(l.filterVisible(te)),ie=Ce.enter().append("g").classed(oe,!0),Q=Ce.exit();"dropdown"===ne.type?(ie.attr("opacity","0").transition().attr("opacity","1"),Q.transition().attr("opacity","0").remove()):Q.remove();var le=0,j=0,$=ne._dims,se=-1!==["up","down"].indexOf(ne.direction);"dropdown"===ne.type&&(se?j=$.headerHeight+u.gapButtonHeader:le=$.headerWidth+u.gapButtonHeader),"dropdown"===ne.type&&"up"===ne.direction&&(j=-u.gapButtonHeader+u.gapButton-$.openHeight),"dropdown"===ne.type&&"left"===ne.direction&&(le=-u.gapButtonHeader+u.gapButton-$.openWidth);var O,Y,B,ee={x:$.lx+le+ne.pad.l,y:$.ly+j+ne.pad.t,yPad:u.gapButton,xPad:u.gapButton,index:0},F={l:ee.x+ne.borderwidth,t:ee.y+ne.borderwidth};Ce.each(function(O,Y){var B=s.select(this);B.call(k,ne,O,z).call(R,ne,ee),B.on("click",function(){s.event.defaultPrevented||(O.execute&&(O.args2&&ne.active===Y?(w(z,ne,0,X,W,Z,-1),g.executeAPICommand(z,O.method,O.args2)):(w(z,ne,0,X,W,Z,Y),g.executeAPICommand(z,O.method,O.args))),z.emit("plotly_buttonclicked",{menu:ne,button:O,active:ne.active}))}),B.on("mouseover",function(){B.call(D)}),B.on("mouseout",function(){B.call(E,ne),Ce.call(I,ne)})}),Ce.call(I,ne),se?(F.w=Math.max($.openWidth,$.headerWidth),F.h=ee.y-F.t):(F.w=ee.x-F.l,F.h=Math.max($.openHeight,$.headerHeight)),F.direction=ne.direction,Z&&(Ce.size()?function(O,Y,B,ae,ue,fe){var he,xe,be,ke=ue.direction,Re=ue._dims,Ue=ue.active;if("up"===ke||"down"===ke)for(xe=0,be=0;be<Ue;be++)xe+=Re.heights[be]+u.gapButton;else for(he=0,be=0;be<Ue;be++)he+=Re.widths[be]+u.gapButton;ae.enable(fe,he,xe),ae.hbar&&ae.hbar.attr("opacity","0").transition().attr("opacity","1"),ae.vbar&&ae.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,Z,ne,F):(B=!!(O=Z).vbar,(Y=!!O.hbar)&&O.hbar.transition().attr("opacity","0").each("end",function(){Y=!1,B||O.disable()}),B&&O.vbar.transition().attr("opacity","0").each("end",function(){B=!1,Y||O.disable()})))}function k(z,X,W,Z){z.call(H,X).call(L,X,W,Z)}function H(z,X){l.ensureSingle(z,"rect",u.itemRectClassName,function(W){W.attr({rx:u.rx,ry:u.ry,"shape-rendering":"crispEdges"})}).call(p.stroke,X.bordercolor).call(p.fill,X.bgcolor).style("stroke-width",X.borderwidth+"px")}function L(z,X,W,Z){var ne=l.ensureSingle(z,"text",u.itemTextClassName,function(Ce){Ce.attr({"text-anchor":"start","data-notex":1})}),te=W.label,oe=Z._fullLayout._meta;oe&&(te=l.templateString(te,oe)),ne.call(c.font,X.font).text(te).call(m.convertToTspans,Z)}function I(z,X){var W=X.active;z.each(function(Z,ne){var te=s.select(this);ne===W&&X.showactive&&te.select("rect."+u.itemRectClassName).call(p.fill,u.activeColor)})}function D(z){z.select("rect."+u.itemRectClassName).call(p.fill,u.hoverColor)}function E(z,X){z.select("rect."+u.itemRectClassName).call(p.fill,X.bgcolor)}function P(z,X){var W=X._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},Z=c.tester.selectAll("g."+u.dropdownButtonClassName).data(l.filterVisible(X.buttons));Z.enter().append("g").classed(u.dropdownButtonClassName,!0);var ne=-1!==["up","down"].indexOf(X.direction);Z.each(function(le,j){var $=s.select(this);$.call(k,X,le,z);var se=$.select("."+u.itemTextClassName),ee=se.node()&&c.bBox(se.node()).width,F=Math.max(ee+u.textPadX,u.minWidth),O=X.font.size*h,Y=m.lineCount(se),B=Math.max(O*Y,u.minHeight)+u.textOffsetY;B=Math.ceil(B),F=Math.ceil(F),W.widths[j]=F,W.heights[j]=B,W.height1=Math.max(W.height1,B),W.width1=Math.max(W.width1,F),ne?(W.totalWidth=Math.max(W.totalWidth,F),W.openWidth=W.totalWidth,W.totalHeight+=B+u.gapButton,W.openHeight+=B+u.gapButton):(W.totalWidth+=F+u.gapButton,W.openWidth+=F+u.gapButton,W.totalHeight=Math.max(W.totalHeight,B),W.openHeight=W.totalHeight)}),ne?W.totalHeight-=u.gapButton:W.totalWidth-=u.gapButton,W.headerWidth=W.width1+u.arrowPadX,W.headerHeight=W.height1,"dropdown"===X.type&&(ne?(W.width1+=u.arrowPadX,W.totalHeight=W.height1):W.totalWidth=W.width1,W.totalWidth+=u.arrowPadX),Z.remove();var te=W.totalWidth+X.pad.l+X.pad.r,oe=W.totalHeight+X.pad.t+X.pad.b,Ce=z._fullLayout._size;W.lx=Ce.l+Ce.w*X.x,W.ly=Ce.t+Ce.h*(1-X.y);var ie="left";l.isRightAnchor(X)&&(W.lx-=te,ie="right"),l.isCenterAnchor(X)&&(W.lx-=te/2,ie="center");var Q="top";l.isBottomAnchor(X)&&(W.ly-=oe,Q="bottom"),l.isMiddleAnchor(X)&&(W.ly-=oe/2,Q="middle"),W.totalWidth=Math.ceil(W.totalWidth),W.totalHeight=Math.ceil(W.totalHeight),W.lx=Math.round(W.lx),W.ly=Math.round(W.ly),g.autoMargin(z,S(X),{x:X.x,y:X.y,l:te*({right:1,center:.5}[ie]||0),r:te*({left:1,center:.5}[ie]||0),b:oe*({top:1,middle:.5}[Q]||0),t:oe*({bottom:1,middle:.5}[Q]||0)})}function S(z){return u.autoMarginIdRoot+z._index}function R(z,X,W,Z){Z=Z||{};var ne=z.select("."+u.itemRectClassName),te=z.select("."+u.itemTextClassName),oe=X.borderwidth,Ce=W.index,ie=X._dims;c.setTranslate(z,oe+W.x,oe+W.y);var Q=-1!==["up","down"].indexOf(X.direction),le=Z.height||(Q?ie.heights[Ce]:ie.height1);ne.attr({x:0,y:0,width:Z.width||(Q?ie.width1:ie.widths[Ce]),height:le});var j=X.font.size*h,$=(m.lineCount(te)-1)*j/2;m.positionText(te,u.textOffsetX,le/2-$+u.textOffsetY),Q?W.y+=ie.heights[Ce]+W.yPad:W.x+=ie.widths[Ce]+W.xPad,W.index++}function G(z,X){z.attr(u.menuIndexAttrName,X||"-1").selectAll("g."+u.dropdownButtonClassName).remove()}pe.exports=function(z){var X=z._fullLayout,W=l.filterVisible(X[u.name]);function Z(j){g.autoMargin(z,S(j))}var ne=X._menulayer.selectAll("g."+u.containerClassName).data(W.length>0?[0]:[]);if(ne.enter().append("g").classed(u.containerClassName,!0).style("cursor","pointer"),ne.exit().each(function(){s.select(this).selectAll("g."+u.headerGroupClassName).each(Z)}).remove(),0!==W.length){var te=ne.selectAll("g."+u.headerGroupClassName).data(W,b);te.enter().append("g").classed(u.headerGroupClassName,!0);for(var oe=l.ensureSingle(ne,"g",u.dropdownButtonGroupClassName,function(j){j.style("pointer-events","all")}),Ce=0;Ce<W.length;Ce++)P(z,W[Ce]);var le=new C(z,oe,"updatemenus"+X._uid);te.enter().size()&&(oe.node().parentNode.appendChild(oe.node()),oe.call(G)),te.exit().each(function(j){oe.call(G),Z(j)}).remove(),te.each(function(j){var $=s.select(this),se="dropdown"===j.type?oe:null;g.manageCommandObserver(z,j,j.buttons,function(ee){w(z,j,0,$,se,le,ee.index,!0)}),"dropdown"===j.type?(N(z,$,oe,le,j),M(oe,j)&&A(z,$,oe,le,j)):A(z,$,null,null,j)})}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":316,"../color":102,"../drawing":124,"./constants":202,"./scrollbox":206,"@plotly/d3":11}],205:[function(v,pe,J){arguments[4][199][0].apply(J,arguments)},{"./attributes":201,"./constants":202,"./defaults":203,"./draw":204,dup:199}],206:[function(v,pe,J){"use strict";pe.exports=l;var s=v("@plotly/d3"),g=v("../color"),p=v("../drawing"),c=v("../../lib");function l(m,d,h){this.gd=m,this.container=d,this.id=h,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}l.barWidth=2,l.barLength=20,l.barRadius=2,l.barPad=1,l.barColor="#808BA4",l.prototype.enable=function(m,d,h){var u=this.gd._fullLayout,C=u.width,b=u.height;this.position=m;var M,w,N,A,k=this.position.l,H=this.position.w,L=this.position.t,I=this.position.h,D=this.position.direction,E="down"===D,P="left"===D,S="up"===D,R=H,G=I;E||P||"right"===D||S||(this.position.direction="down",E=!0),E||S?(w=(M=k)+R,E?(N=L,G=(A=Math.min(N+G,b))-N):G=(A=L+G)-(N=Math.max(A-G,0))):(A=(N=L)+G,P?R=(w=k+R)-(M=Math.max(w-R,0)):(M=k,R=(w=Math.min(M+R,C))-M)),this._box={l:M,t:N,w:R,h:G};var z=H>R,X=l.barLength+2*l.barPad,W=l.barWidth+2*l.barPad,Z=k,ne=L+I;ne+W>b&&(ne=b-W);var te=this.container.selectAll("rect.scrollbar-horizontal").data(z?[0]:[]);te.exit().on(".drag",null).remove(),te.enter().append("rect").classed("scrollbar-horizontal",!0).call(g.fill,l.barColor),z?(this.hbar=te.attr({rx:l.barRadius,ry:l.barRadius,x:Z,y:ne,width:X,height:W}),this._hbarXMin=Z+X/2,this._hbarTranslateMax=R-X):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var oe=I>G,Ce=l.barWidth+2*l.barPad,ie=l.barLength+2*l.barPad,Q=k+H,le=L;Q+Ce>C&&(Q=C-Ce);var j=this.container.selectAll("rect.scrollbar-vertical").data(oe?[0]:[]);j.exit().on(".drag",null).remove(),j.enter().append("rect").classed("scrollbar-vertical",!0).call(g.fill,l.barColor),oe?(this.vbar=j.attr({rx:l.barRadius,ry:l.barRadius,x:Q,y:le,width:Ce,height:ie}),this._vbarYMin=le+ie/2,this._vbarTranslateMax=G-ie):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var $=this.id,se=M-.5,ee=oe?w+Ce+.5:w+.5,F=N-.5,O=z?A+W+.5:A+.5,Y=u._topdefs.selectAll("#"+$).data(z||oe?[0]:[]);if(Y.exit().remove(),Y.enter().append("clipPath").attr("id",$).append("rect"),z||oe?(this._clipRect=Y.select("rect").attr({x:Math.floor(se),y:Math.floor(F),width:Math.ceil(ee)-Math.floor(se),height:Math.ceil(O)-Math.floor(F)}),this.container.call(p.setClipUrl,$,this.gd),this.bg.attr({x:k,y:L,width:H,height:I})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(p.setClipUrl,null),delete this._clipRect),z||oe){var B=s.behavior.drag().on("dragstart",function(){s.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(B);var ae=s.behavior.drag().on("dragstart",function(){s.event.sourceEvent.preventDefault(),s.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));z&&this.hbar.on(".drag",null).call(ae),oe&&this.vbar.on(".drag",null).call(ae)}this.setTranslate(d,h)},l.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(p.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},l.prototype._onBoxDrag=function(){var m=this.translateX,d=this.translateY;this.hbar&&(m-=s.event.dx),this.vbar&&(d-=s.event.dy),this.setTranslate(m,d)},l.prototype._onBoxWheel=function(){var m=this.translateX,d=this.translateY;this.hbar&&(m+=s.event.deltaY),this.vbar&&(d+=s.event.deltaY),this.setTranslate(m,d)},l.prototype._onBarDrag=function(){var m=this.translateX,d=this.translateY;if(this.hbar){var h=m+this._hbarXMin,u=h+this._hbarTranslateMax;m=(c.constrain(s.event.x,h,u)-h)/(u-h)*(this.position.w-this._box.w)}if(this.vbar){var C=d+this._vbarYMin,b=C+this._vbarTranslateMax;d=(c.constrain(s.event.y,C,b)-C)/(b-C)*(this.position.h-this._box.h)}this.setTranslate(m,d)},l.prototype.setTranslate=function(m,d){var h=this.position.w-this._box.w,u=this.position.h-this._box.h;m=c.constrain(m||0,0,h),d=c.constrain(d||0,0,u),this.translateX=m,this.translateY=d,this.container.call(p.setTranslate,this._box.l-this.position.l-m,this._box.t-this.position.t-d),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+m-.5),y:Math.floor(this.position.t+d-.5)}),this.hbar&&this.hbar.call(p.setTranslate,m+m/h*this._hbarTranslateMax,d),this.vbar&&this.vbar.call(p.setTranslate,m,d+d/u*this._vbarTranslateMax)}},{"../../lib":232,"../color":102,"../drawing":124,"@plotly/d3":11}],207:[function(v,pe,J){"use strict";pe.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],208:[function(v,pe,J){"use strict";pe.exports={axisRefDescription:function(s,g,p){return["If set to a",s,"axis id (e.g. *"+s+"* or","*"+s+"2*), the `"+s+"` position refers to a",s,"coordinate. If set to *paper*, the `"+s+"`","position refers to the distance from the",g,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",g,"("+p+"). If set to a",s,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",g,"of the domain of that axis: e.g.,","*"+s+"2 domain* refers to the domain of the second",s," axis and a",s,"position of 0.5 refers to the","point between the",g,"and the",p,"of the domain of the","second",s,"axis."].join(" ")}}},{}],209:[function(v,pe,J){"use strict";pe.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},{}],210:[function(v,pe,J){"use strict";pe.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},{}],211:[function(v,pe,J){"use strict";pe.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],212:[function(v,pe,J){"use strict";pe.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},{}],213:[function(v,pe,J){"use strict";J.xmlns="http://www.w3.org/2000/xmlns/",J.svg="http://www.w3.org/2000/svg",J.xlink="http://www.w3.org/1999/xlink",J.svgAttrs={xmlns:J.svg,"xmlns:xlink":J.xlink}},{}],214:[function(v,pe,J){"use strict";J.version=v("./version").version,v("native-promise-only"),v("../build/plotcss");for(var s=v("./registry"),g=J.register=s.register,p=v("./plot_api"),c=Object.keys(p),l=0;l<c.length;l++){var m=c[l];"_"!==m.charAt(0)&&(J[m]=p[m]),g({moduleType:"apiMethod",name:m,fn:p[m]})}g(v("./traces/scatter")),g([v("./components/legend"),v("./components/fx"),v("./components/annotations"),v("./components/annotations3d"),v("./components/shapes"),v("./components/images"),v("./components/updatemenus"),v("./components/sliders"),v("./components/rangeslider"),v("./components/rangeselector"),v("./components/grid"),v("./components/errorbars"),v("./components/colorscale"),v("./components/colorbar"),v("./components/modebar")]),g([v("./locale-en"),v("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(g(window.PlotlyLocales),delete window.PlotlyLocales),J.Icons=v("./fonts/ploticon");var d=v("./components/fx"),h=v("./plots/plots");J.Plots={resize:h.resize,graphJson:h.graphJson,sendDataToCloud:h.sendDataToCloud},J.Fx={hover:d.hover,unhover:d.unhover,loneHover:d.loneHover,loneUnhover:d.loneUnhover},J.Snapshot=v("./snapshot"),J.PlotSchema=v("./plot_api/plot_schema")},{"../build/plotcss":1,"./components/annotations":93,"./components/annotations3d":98,"./components/colorbar":108,"./components/colorscale":114,"./components/errorbars":130,"./components/fx":142,"./components/grid":146,"./components/images":151,"./components/legend":159,"./components/modebar":165,"./components/rangeselector":173,"./components/rangeslider":180,"./components/shapes":194,"./components/sliders":199,"./components/updatemenus":205,"./fonts/ploticon":215,"./locale-en":259,"./locale-en-us":258,"./plot_api":263,"./plot_api/plot_schema":267,"./plots/plots":316,"./registry":318,"./snapshot":323,"./traces/scatter":370,"./version":391,"native-promise-only":54}],215:[function(v,pe,J){"use strict";pe.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},{}],216:[function(v,pe,J){"use strict";J.isLeftAnchor=function(s){return"left"===s.xanchor||"auto"===s.xanchor&&s.x<=1/3},J.isCenterAnchor=function(s){return"center"===s.xanchor||"auto"===s.xanchor&&s.x>1/3&&s.x<2/3},J.isRightAnchor=function(s){return"right"===s.xanchor||"auto"===s.xanchor&&s.x>=2/3},J.isTopAnchor=function(s){return"top"===s.yanchor||"auto"===s.yanchor&&s.y>=2/3},J.isMiddleAnchor=function(s){return"middle"===s.yanchor||"auto"===s.yanchor&&s.y>1/3&&s.y<2/3},J.isBottomAnchor=function(s){return"bottom"===s.yanchor||"auto"===s.yanchor&&s.y<=1/3}},{}],217:[function(v,pe,J){"use strict";var s=v("./mod"),g=s.mod,p=s.modHalf,c=Math.PI,l=2*c;function m(C){return Math.abs(C[1]-C[0])>l-1e-14}function d(C,b){return p(b-C,l)}function h(C,b){if(m(b))return!0;var M,w;b[0]<b[1]?(M=b[0],w=b[1]):(M=b[1],w=b[0]),(M=g(M,l))>(w=g(w,l))&&(w+=l);var N=g(C,l),A=N+l;return N>=M&&N<=w||A>=M&&A<=w}function u(C,b,M,w,N,A,k){N=N||0,A=A||0;var H,L,I,D,E,P=m([M,w]);function S(X,W){return[X*Math.cos(W)+N,A-X*Math.sin(W)]}P?(H=0,L=c,I=l):M<w?(H=M,I=w):(H=w,I=M),C<b?(D=C,E=b):(D=b,E=C);var R,G=Math.abs(I-H)<=c?0:1;function z(X,W,Z){return"A"+[X,X]+" "+[0,G,Z]+" "+S(X,W)}return P?R=null===D?"M"+S(E,H)+z(E,L,0)+z(E,I,0)+"Z":"M"+S(D,H)+z(D,L,0)+z(D,I,0)+"ZM"+S(E,H)+z(E,L,1)+z(E,I,1)+"Z":null===D?(R="M"+S(E,H)+z(E,I,0),k&&(R+="L0,0Z")):R="M"+S(D,H)+"L"+S(E,H)+z(E,I,0)+"L"+S(D,I)+z(D,H,1)+"Z",R}pe.exports={deg2rad:function(C){return C/180*c},rad2deg:function(C){return C/c*180},angleDelta:d,angleDist:function(C,b){return Math.abs(d(C,b))},isFullCircle:m,isAngleInsideSector:h,isPtInsideSector:function(C,b,M,w){return!!h(b,w)&&(M[0]<M[1]?(N=M[0],A=M[1]):(N=M[1],A=M[0]),C>=N&&C<=A);var N,A},pathArc:function(C,b,M,w,N){return u(null,C,b,M,w,N,0)},pathSector:function(C,b,M,w,N){return u(null,C,b,M,w,N,1)},pathAnnulus:function(C,b,M,w,N,A){return u(C,b,M,w,N,A,1)}}},{"./mod":239}],218:[function(v,pe,J){"use strict";var s=Array.isArray,g=ArrayBuffer,p=DataView;function c(d){return g.isView(d)&&!(d instanceof p)}function l(d){return s(d)||c(d)}function m(d,h,u){if(l(d)){if(l(d[0])){for(var C=u,b=0;b<d.length;b++)C=h(C,d[b].length);return C}return d.length}return 0}J.isTypedArray=c,J.isArrayOrTypedArray=l,J.isArray1D=function(d){return!l(d[0])},J.ensureArray=function(d,h){return s(d)||(d=[]),d.length=h,d},J.concat=function(){var d,h,u,C,b,M,w,N,A=[],k=!0,H=0;for(u=0;u<arguments.length;u++)(M=(C=arguments[u]).length)&&(h?A.push(C):(h=C,b=M),s(C)?d=!1:(k=!1,H?d!==C.constructor&&(d=!1):d=C.constructor),H+=M);if(!H)return[];if(!A.length)return h;if(k)return h.concat.apply(h,A);if(d){for((w=new d(H)).set(h),u=0;u<A.length;u++)w.set(C=A[u],b),b+=C.length;return w}for(w=new Array(H),N=0;N<h.length;N++)w[N]=h[N];for(u=0;u<A.length;u++){for(C=A[u],N=0;N<C.length;N++)w[b+N]=C[N];b+=N}return w},J.maxRowLength=function(d){return m(d,Math.max,0)},J.minRowLength=function(d){return m(d,Math.min,1/0)}},{}],219:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../constants/numerical").BADNUM,p=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;pe.exports=function(c){return"string"==typeof c&&(c=c.replace(p,"")),s(c)?Number(c):g}},{"../constants/numerical":212,"fast-isnumeric":17}],220:[function(v,pe,J){"use strict";pe.exports=function(s){var g=s._fullLayout;g._glcanvas&&g._glcanvas.size()&&g._glcanvas.each(function(p){p.regl&&p.regl.clear({color:!0,depth:!0})})}},{}],221:[function(v,pe,J){"use strict";pe.exports=function(s){s._responsiveChartHandler&&(window.removeEventListener("resize",s._responsiveChartHandler),delete s._responsiveChartHandler)}},{}],222:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("tinycolor2"),p=v("../plots/attributes"),c=v("../components/colorscale/scales"),l=v("../components/color"),m=v("../constants/interactions").DESELECTDIM,d=v("./nested_property"),h=v("./regex").counter,u=v("./mod").modHalf,C=v("./array").isArrayOrTypedArray;function b(M,w){var N=J.valObjectMeta[w.valType];if(w.arrayOk&&C(M))return!0;if(N.validateFunction)return N.validateFunction(M,w);var A={},k=A;return N.coerceFunction(M,{set:function(L){k=L}},A,w),k!==A}J.valObjectMeta={data_array:{coerceFunction:function(M,w,N){C(M)?w.set(M):void 0!==N&&w.set(N)}},enumerated:{coerceFunction:function(M,w,N,A){A.coerceNumber&&(M=+M),-1===A.values.indexOf(M)?w.set(N):w.set(M)},validateFunction:function(M,w){w.coerceNumber&&(M=+M);for(var N=w.values,A=0;A<N.length;A++){var k=String(N[A]);if("/"===k.charAt(0)&&"/"===k.charAt(k.length-1)){if(new RegExp(k.substr(1,k.length-2)).test(M))return!0}else if(M===N[A])return!0}return!1}},boolean:{coerceFunction:function(M,w,N){w.set(!0===M||!1===M?M:N)}},number:{coerceFunction:function(M,w,N,A){!s(M)||void 0!==A.min&&M<A.min||void 0!==A.max&&M>A.max?w.set(N):w.set(+M)}},integer:{coerceFunction:function(M,w,N,A){M%1||!s(M)||void 0!==A.min&&M<A.min||void 0!==A.max&&M>A.max?w.set(N):w.set(+M)}},string:{coerceFunction:function(M,w,N,A){w.set("string"!=typeof M?!0!==A.strict&&"number"==typeof M?String(M):N:A.noBlank&&!M?N:M)}},color:{coerceFunction:function(M,w,N){g(M).isValid()?w.set(M):w.set(N)}},colorlist:{coerceFunction:function(M,w,N){Array.isArray(M)&&M.length&&M.every(function(A){return g(A).isValid()})?w.set(M):w.set(N)}},colorscale:{coerceFunction:function(M,w,N){w.set(c.get(M,N))}},angle:{coerceFunction:function(M,w,N){"auto"===M?w.set("auto"):s(M)?w.set(u(+M,360)):w.set(N)}},subplotid:{coerceFunction:function(M,w,N,A){var k=A.regex||h(N);"string"==typeof M&&k.test(M)?w.set(M):w.set(N)},validateFunction:function(M,w){var N=w.dflt;return M===N||"string"==typeof M&&!!h(N).test(M)}},flaglist:{coerceFunction:function(M,w,N,A){if("string"==typeof M)if(-1===(A.extras||[]).indexOf(M)){for(var k=M.split("+"),H=0;H<k.length;){var L=k[H];-1===A.flags.indexOf(L)||k.indexOf(L)<H?k.splice(H,1):H++}w.set(k.length?k.join("+"):N)}else w.set(M);else w.set(N)}},any:{coerceFunction:function(M,w,N){w.set(void 0===M?N:M)}},info_array:{coerceFunction:function(M,w,N,A){function k(ne,te,oe){var Ce;return void 0===oe&&(oe=te.dflt),J.valObjectMeta[te.valType].coerceFunction(ne,{set:function(Q){Ce=Q}},oe,te),Ce}var H=2===A.dimensions||"1-2"===A.dimensions&&Array.isArray(M)&&Array.isArray(M[0]);if(Array.isArray(M)){var L,I,D,P,S,R=A.items,G=[],z=Array.isArray(R),X=z&&H&&Array.isArray(R[0]),W=H&&z&&!X,Z=z&&!W?R.length:M.length;if(N=Array.isArray(N)?N:[],H)for(L=0;L<Z;L++)for(G[L]=[],D=Array.isArray(M[L])?M[L]:[],P=W?R.length:z?R[L].length:D.length,I=0;I<P;I++)void 0!==(S=k(D[I],W?R[I]:z?R[L][I]:R,(N[L]||[])[I]))&&(G[L][I]=S);else for(L=0;L<Z;L++)void 0!==(S=k(M[L],z?R[L]:R,N[L]))&&(G[L]=S);w.set(G)}else w.set(N)},validateFunction:function(M,w){if(!Array.isArray(M))return!1;var N=w.items,A=Array.isArray(N),k=2===w.dimensions;if(!w.freeLength&&M.length!==N.length)return!1;for(var H=0;H<M.length;H++)if(k){if(!Array.isArray(M[H])||!w.freeLength&&M[H].length!==N[H].length)return!1;for(var L=0;L<M[H].length;L++)if(!b(M[H][L],A?N[H][L]:N))return!1}else if(!b(M[H],A?N[H]:N))return!1;return!0}}},J.coerce=function(M,w,N,A,k){var H=d(N,A).get(),L=d(M,A),I=d(w,A),D=L.get(),E=w._template;if(void 0===D&&E&&(D=d(E,A).get(),E=0),void 0===k&&(k=H.dflt),H.arrayOk&&C(D))return I.set(D),D;var P=J.valObjectMeta[H.valType].coerceFunction;P(D,I,k,H);var S=I.get();return E&&S===k&&!b(D,H)&&(P(D=d(E,A).get(),I,k,H),S=I.get()),S},J.coerce2=function(M,w,N,A,k){var H=d(M,A),L=J.coerce(M,w,N,A,k);return null!=H.get()&&L},J.coerceFont=function(M,w,N){var A={};return A.family=M(w+".family",(N=N||{}).family),A.size=M(w+".size",N.size),A.color=M(w+".color",N.color),A},J.coercePattern=function(M,w,N,A){if(M(w+".shape")){M(w+".solidity"),M(w+".size");var k="overlay"===M(w+".fillmode");if(!A){var H=M(w+".bgcolor",k?N:void 0);M(w+".fgcolor",k?l.contrast(H):N)}M(w+".fgopacity",k?.5:1)}},J.coerceHoverinfo=function(M,w,N){var A,k=w._module.attributes,H=k.hoverinfo?k:p,L=H.hoverinfo;if(1===N._dataLength){var I="all"===L.dflt?L.flags.slice():L.dflt.split("+");I.splice(I.indexOf("name"),1),A=I.join("+")}return J.coerce(M,w,H,"hoverinfo",A)},J.coerceSelectionMarkerOpacity=function(M,w){if(M.marker){var N,A,k=M.marker.opacity;void 0!==k&&(C(k)||M.selected||M.unselected||(N=k,A=m*k),w("selected.marker.opacity",N),w("unselected.marker.opacity",A))}},J.validate=b},{"../components/color":102,"../components/colorscale/scales":117,"../constants/interactions":211,"../plots/attributes":275,"./array":218,"./mod":239,"./nested_property":240,"./regex":248,"fast-isnumeric":17,tinycolor2:67}],223:[function(v,pe,J){"use strict";var s,g,p=v("d3-time-format").timeFormat,c=v("fast-isnumeric"),l=v("./loggers"),m=v("./mod").mod,d=v("../constants/numerical"),h=d.BADNUM,u=d.ONEDAY,C=d.ONEHOUR,b=d.ONEMIN,M=d.ONESEC,w=d.EPOCHJD,N=v("../registry"),A=v("d3-time-format").utcFormat,k=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,H=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,L=(new Date).getFullYear()-70;function I(te){return te&&N.componentsRegistry.calendars&&"string"==typeof te&&"gregorian"!==te}function D(te,oe){return String(te+Math.pow(10,oe)).substr(1)}J.dateTick0=function(te,oe){var Q,le,Ce=(le=!!oe,I(Q=te)?le?N.getComponentMethod("calendars","CANONICAL_SUNDAY")[Q]:N.getComponentMethod("calendars","CANONICAL_TICK")[Q]:le?"2000-01-02":"2000-01-01");if(oe<2)return Ce;var ie=J.dateTime2ms(Ce,te);return J.ms2DateTime(ie+=u*(oe-1),0,te)},J.dfltRange=function(te){return I(te)?N.getComponentMethod("calendars","DFLTRANGE")[te]:["2000-01-01","2001-01-01"]},J.isJSDate=function(te){return"object"==typeof te&&null!==te&&"function"==typeof te.getTime},J.dateTime2ms=function(te,oe){if(J.isJSDate(te)){var Ce=te.getTimezoneOffset()*b,ie=(te.getUTCMinutes()-te.getMinutes())*b+(te.getUTCSeconds()-te.getSeconds())*M+(te.getUTCMilliseconds()-te.getMilliseconds());if(ie){var Q=3*b;Ce=Ce-Q/2+m(ie-Ce+Q/2,Q)}return(te=Number(te)-Ce)>=s&&te<=g?te:h}if("string"!=typeof te&&"number"!=typeof te)return h;te=String(te);var le=I(oe),j=te.charAt(0);!le||"G"!==j&&"g"!==j||(te=te.substr(1),oe="");var $=le&&"chinese"===oe.substr(0,7),se=te.match($?H:k);if(!se)return h;var ee=se[1],F=se[3]||"1",O=Number(se[5]||1),Y=Number(se[7]||0),B=Number(se[9]||0),ae=Number(se[11]||0);if(le){if(2===ee.length)return h;var ue;ee=Number(ee);try{var fe=N.getComponentMethod("calendars","getCal")(oe);if($){var he="i"===F.charAt(F.length-1);F=parseInt(F,10),ue=fe.newDate(ee,fe.toMonthIndex(ee,F,he),O)}else ue=fe.newDate(ee,Number(F),O)}catch{return h}return ue?(ue.toJD()-w)*u+Y*C+B*b+ae*M:h}ee=2===ee.length?(Number(ee)+2e3-L)%100+L:Number(ee),F-=1;var xe=new Date(Date.UTC(2e3,F,O,Y,B));return xe.setUTCFullYear(ee),xe.getUTCMonth()!==F||xe.getUTCDate()!==O?h:xe.getTime()+ae*M},s=J.MIN_MS=J.dateTime2ms("-9999"),g=J.MAX_MS=J.dateTime2ms("9999-12-31 23:59:59.9999"),J.isDateTime=function(te,oe){return J.dateTime2ms(te,oe)!==h};var E=90*u,P=3*C,S=5*b;function R(te,oe,Ce,ie,Q){if((oe||Ce||ie||Q)&&(te+=" "+D(oe,2)+":"+D(Ce,2),(ie||Q)&&(te+=":"+D(ie,2),Q))){for(var le=4;Q%10==0;)le-=1,Q/=10;te+="."+D(Q,le)}return te}J.ms2DateTime=function(te,oe,Ce){if("number"!=typeof te||!(te>=s&&te<=g))return h;oe||(oe=0);var ie,Q,le,j,$,se,ee=Math.floor(10*m(te+.05,1)),F=Math.round(te-ee/10);if(I(Ce)){var O=Math.floor(F/u)+w,Y=Math.floor(m(te,u));try{ie=N.getComponentMethod("calendars","getCal")(Ce).fromJD(O).formatDate("yyyy-mm-dd")}catch{ie=A("G%Y-%m-%d")(new Date(F))}if("-"===ie.charAt(0))for(;ie.length<11;)ie="-0"+ie.substr(1);else for(;ie.length<10;)ie="0"+ie;Q=oe<E?Math.floor(Y/C):0,le=oe<E?Math.floor(Y%C/b):0,j=oe<P?Math.floor(Y%b/M):0,$=oe<S?Y%M*10+ee:0}else se=new Date(F),ie=A("%Y-%m-%d")(se),Q=oe<E?se.getUTCHours():0,le=oe<E?se.getUTCMinutes():0,j=oe<P?se.getUTCSeconds():0,$=oe<S?10*se.getUTCMilliseconds()+ee:0;return R(ie,Q,le,j,$)},J.ms2DateTimeLocal=function(te){if(!(te>=s+u&&te<=g-u))return h;var oe=Math.floor(10*m(te+.05,1)),Ce=new Date(Math.round(te-oe/10));return R(p("%Y-%m-%d")(Ce),Ce.getHours(),Ce.getMinutes(),Ce.getSeconds(),10*Ce.getUTCMilliseconds()+oe)},J.cleanDate=function(te,oe,Ce){if(te===h)return oe;if(J.isJSDate(te)||"number"==typeof te&&isFinite(te)){if(I(Ce))return l.error("JS Dates and milliseconds are incompatible with world calendars",te),oe;if(!(te=J.ms2DateTimeLocal(+te))&&void 0!==oe)return oe}else if(!J.isDateTime(te,Ce))return l.error("unrecognized date",te),oe;return te};var G=/%\d?f/g,z=/%h/g,X={1:"1",2:"1",3:"2",4:"2"};function W(te,oe,Ce,ie){te=te.replace(G,function(le){var j=Math.min(+le.charAt(1)||6,6);return(oe/1e3%1+2).toFixed(j).substr(2).replace(/0+$/,"")||"0"});var Q=new Date(Math.floor(oe+.05));if(te=te.replace(z,function(){return X[Ce("%q")(Q)]}),I(ie))try{te=N.getComponentMethod("calendars","worldCalFmt")(te,oe,ie)}catch{return"Invalid"}return Ce(te)(Q)}var Z=[59,59.9,59.99,59.999,59.9999];J.formatDate=function(te,oe,Ce,ie,Q,le){if(Q=I(Q)&&Q,!oe)if("y"===Ce)oe=le.year;else if("m"===Ce)oe=le.month;else{if("d"!==Ce)return function(j,$){var se=m(j+.05,u),ee=D(Math.floor(se/C),2)+":"+D(m(Math.floor(se/b),60),2);if("M"!==$){c($)||($=0);var F=(100+Math.min(m(j/M,60),Z[$])).toFixed($).substr(1);$>0&&(F=F.replace(/0+$/,"").replace(/[\.]$/,"")),ee+=":"+F}return ee}(te,Ce)+"\n"+W(le.dayMonthYear,te,ie,Q);oe=le.dayMonth+"\n"+le.year}return W(oe,te,ie,Q)};var ne=3*u;J.incrementMonth=function(te,oe,Ce){Ce=I(Ce)&&Ce;var ie=m(te,u);if(te=Math.round(te-ie),Ce)try{var Q=Math.round(te/u)+w,le=N.getComponentMethod("calendars","getCal")(Ce),j=le.fromJD(Q);return oe%12?le.add(j,oe,"m"):le.add(j,oe/12,"y"),(j.toJD()-w)*u+ie}catch{l.error("invalid ms "+te+" in calendar "+Ce)}var $=new Date(te+ne);return $.setUTCMonth($.getUTCMonth()+oe)+ie-ne},J.findExactDates=function(te,oe){for(var Ce,ie,Q=0,le=0,j=0,$=0,se=I(oe)&&N.getComponentMethod("calendars","getCal")(oe),ee=0;ee<te.length;ee++)if(c(ie=te[ee])){if(!(ie%u))if(se)try{1===(Ce=se.fromJD(ie/u+w)).day()?1===Ce.month()?Q++:le++:j++}catch{}else 1===(Ce=new Date(ie)).getUTCDate()?0===Ce.getUTCMonth()?Q++:le++:j++}else $++;j+=le+=Q;var F=te.length-$;return{exactYears:Q/F,exactMonths:le/F,exactDays:j/F}}},{"../constants/numerical":212,"../registry":318,"./loggers":236,"./mod":239,"d3-time-format":14,"fast-isnumeric":17}],224:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("./loggers"),p=v("./matrix"),c=v("gl-mat4");function l(C){var b=C&&C.parentNode;b&&b.removeChild(C)}function m(C,b,M){var w="plotly.js-style-"+C,N=document.getElementById(w);N||((N=document.createElement("style")).setAttribute("id",w),N.appendChild(document.createTextNode("")),document.head.appendChild(N));var A=N.sheet;A.insertRule?A.insertRule(b+"{"+M+"}",0):A.addRule?A.addRule(b,M,0):g.warn("addStyleRule failed")}function d(C){var b=window.getComputedStyle(C,null),M=b.getPropertyValue("-webkit-transform")||b.getPropertyValue("-moz-transform")||b.getPropertyValue("-ms-transform")||b.getPropertyValue("-o-transform")||b.getPropertyValue("transform");return"none"===M?null:M.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(w){return+w})}function h(C){for(var b=[];u(C);)b.push(C),C=C.parentNode;return b}function u(C){return C&&(C instanceof Element||C instanceof HTMLElement)}pe.exports={getGraphDiv:function(C){var b;if("string"==typeof C){if(null===(b=document.getElementById(C)))throw new Error("No DOM element with id '"+C+"' exists on the page.");return b}if(null==C)throw new Error("DOM element provided is null or undefined");return C},isPlotDiv:function(C){var b=s.select(C);return b.node()instanceof HTMLElement&&b.size()&&b.classed("js-plotly-plot")},removeElement:l,addStyleRule:function(C,b){m("global",C,b)},addRelatedStyleRule:m,deleteRelatedStyleRule:function(C){var M=document.getElementById("plotly.js-style-"+C);M&&l(M)},getFullTransformMatrix:function(C){var b=h(C),M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return b.forEach(function(w){var N=d(w);if(N){var A=p.convertCssMatrix(N);M=c.multiply(M,M,A)}}),M},getElementTransformMatrix:d,getElementAndAncestors:h,equalDomRects:function(C,b){return C&&b&&C.x===b.x&&C.y===b.y&&C.top===b.top&&C.left===b.left&&C.right===b.right&&C.bottom===b.bottom}}},{"./loggers":236,"./matrix":238,"@plotly/d3":11,"gl-mat4":33}],225:[function(v,pe,J){"use strict";var s=v("events").EventEmitter;pe.exports={init:function(p){if(p._ev instanceof s)return p;var c=new s,l=new s;return p._ev=c,p._internalEv=l,p.on=c.on.bind(c),p.once=c.once.bind(c),p.removeListener=c.removeListener.bind(c),p.removeAllListeners=c.removeAllListeners.bind(c),p._internalOn=l.on.bind(l),p._internalOnce=l.once.bind(l),p._removeInternalListener=l.removeListener.bind(l),p._removeAllInternalListeners=l.removeAllListeners.bind(l),p.emit=function(m,d){typeof jQuery<"u"&&jQuery(p).trigger(m,d),c.emit(m,d),l.emit(m,d)},p},triggerHandler:function(p,c,l){var m,d;typeof jQuery<"u"&&(m=jQuery(p).triggerHandler(c,l));var h=p._ev;if(!h)return m;var u,C=h._events[c];if(!C)return m;function b(M){return M.listener?(h.removeListener(c,M.listener),M.fired?void 0:(M.fired=!0,M.listener.apply(h,[l]))):M.apply(h,[l])}for(C=Array.isArray(C)?C:[C],u=0;u<C.length-1;u++)b(C[u]);return d=b(C[u]),void 0!==m?m:d},purge:function(p){return delete p._ev,delete p.on,delete p.once,delete p.removeListener,delete p.removeAllListeners,delete p.emit,delete p._ev,delete p._internalEv,delete p._internalOn,delete p._internalOnce,delete p._removeInternalListener,delete p._removeAllInternalListeners,p}}},{events:12}],226:[function(v,pe,J){"use strict";var s=v("./is_plain_object.js"),g=Array.isArray;function p(c,l,m,d){var h,u,C,b,M,w,N=c[0],A=c.length;if(2===A&&g(N)&&g(c[1])&&0===N.length){if(function(H,L){var I,D;for(I=0;I<H.length;I++){if(null!==(D=H[I])&&"object"==typeof D)return!1;void 0!==D&&(L[I]=D)}return!0}(c[1],N))return N;N.splice(0,N.length)}for(var k=1;k<A;k++)for(u in h=c[k])C=N[u],b=h[u],d&&g(b)?N[u]=b:l&&b&&(s(b)||(M=g(b)))?(M?(M=!1,w=C&&g(C)?C:[]):w=C&&s(C)?C:{},N[u]=p([w,b],l,m,d)):(void 0!==b||m)&&(N[u]=b);return N}J.extendFlat=function(){return p(arguments,!1,!1,!1)},J.extendDeep=function(){return p(arguments,!0,!1,!1)},J.extendDeepAll=function(){return p(arguments,!0,!0,!1)},J.extendDeepNoArrays=function(){return p(arguments,!0,!1,!0)}},{"./is_plain_object.js":233}],227:[function(v,pe,J){"use strict";pe.exports=function(s){for(var g={},p=[],c=0,l=0;l<s.length;l++){var m=s[l];1!==g[m]&&(g[m]=1,p[c++]=m)}return p}},{}],228:[function(v,pe,J){"use strict";function s(p){return!0===p.visible}function g(p){var c=p[0].trace;return!0===c.visible&&0!==c._length}pe.exports=function(p){for(var c,l=(c=p,Array.isArray(c)&&Array.isArray(c[0])&&c[0][0]&&c[0][0].trace?g:s),m=[],d=0;d<p.length;d++){var h=p[d];l(h)&&m.push(h)}return m}},{}],229:[function(v,pe,J){"use strict";var s,g,p,c=v("./mod").mod;function l(d,h,u,C,b,M,w,N){var A=u-d,k=b-d,H=w-b,L=C-h,I=M-h,D=N-M,E=A*D-H*L;if(0===E)return null;var P=(k*D-H*I)/E,S=(k*L-A*I)/E;return S<0||S>1||P<0||P>1?null:{x:d+A*P,y:h+L*P}}function m(d,h,u,C,b){var M=C*d+b*h;if(M<0)return C*C+b*b;if(M>u){var w=C-d,N=b-h;return w*w+N*N}var A=C*h-b*d;return A*A/u}J.segmentsIntersect=l,J.segmentDistance=function(d,h,u,C,b,M,w,N){if(l(d,h,u,C,b,M,w,N))return 0;var A=u-d,k=C-h,H=w-b,L=N-M,I=A*A+k*k,D=H*H+L*L,E=Math.min(m(A,k,I,b-d,M-h),m(A,k,I,w-d,N-h),m(H,L,D,d-b,h-M),m(H,L,D,u-b,C-M));return Math.sqrt(E)},J.getTextLocation=function(d,h,u,C){if(d===g&&C===p||(s={},g=d,p=C),s[u])return s[u];var b=d.getPointAtLength(c(u-C/2,h)),M=d.getPointAtLength(c(u+C/2,h)),w=Math.atan((M.y-b.y)/(M.x-b.x)),N=d.getPointAtLength(c(u,h)),A={x:(4*N.x+b.x+M.x)/6,y:(4*N.y+b.y+M.y)/6,theta:w};return s[u]=A,A},J.clearLocationCache=function(){g=null},J.getVisibleSegment=function(d,h,u){var C,b,M=h.left,w=h.right,N=h.top,A=h.bottom,k=0,H=d.getTotalLength(),L=H;function I(E){var P=d.getPointAtLength(E);0===E?C=P:E===H&&(b=P);var S=P.x<M?M-P.x:P.x>w?P.x-w:0,R=P.y<N?N-P.y:P.y>A?P.y-A:0;return Math.sqrt(S*S+R*R)}for(var D=I(k);D;){if((k+=D+u)>L)return;D=I(k)}for(D=I(L);D;){if(k>(L-=D+u))return;D=I(L)}return{min:k,max:L,len:L-k,total:H,isClosed:0===k&&L===H&&Math.abs(C.x-b.x)<.1&&Math.abs(C.y-b.y)<.1}},J.findPointOnPath=function(d,h,u,C){for(var b,M,w,N=(C=C||{}).pathLength||d.getTotalLength(),A=C.tolerance||.001,k=C.iterationLimit||30,H=d.getPointAtLength(0)[u]>d.getPointAtLength(N)[u]?-1:1,L=0,I=0,D=N;L<k;){if(w=(M=d.getPointAtLength(b=(I+D)/2))[u]-h,Math.abs(w)<A)return M;H*w>0?D=b:I=b,L++}return M}},{"./mod":239}],230:[function(v,pe,J){"use strict";pe.exports=function(s){return s}},{}],231:[function(v,pe,J){"use strict";pe.exports=function(s,g){if(!g)return s;var p=1/Math.abs(g),c=p>1?(p*s+p*g)/p:s+g,l=String(c).length;if(l>16){var m=String(g).length;if(l>=String(s).length+m){var d=parseFloat(c).toPrecision(12);-1===d.indexOf("e+")&&(c=+d)}}return c}},{}],232:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("d3-time-format").utcFormat,p=v("d3-format").format,c=v("fast-isnumeric"),l=v("../constants/numerical"),m=l.FP_SAFE,d=-m,h=l.BADNUM,u=pe.exports={};u.adjustFormat=function(ee){return!ee||/^\d[.]\df/.test(ee)||/[.]\d%/.test(ee)?ee:"0.f"===ee?"~f":/^\d%/.test(ee)?"~%":/^\ds/.test(ee)?"~s":!/^[~,.0$]/.test(ee)&&/[&fps]/.test(ee)?"~"+ee:ee};var C={};u.warnBadFormat=function(ee){var F=String(ee);C[F]||(C[F]=1,u.warn('encountered bad format: "'+F+'"'))},u.noFormat=function(ee){return String(ee)},u.numberFormat=function(ee){var F;try{F=p(u.adjustFormat(ee))}catch{return u.warnBadFormat(ee),u.noFormat}return F},u.nestedProperty=v("./nested_property"),u.keyedContainer=v("./keyed_container"),u.relativeAttr=v("./relative_attr"),u.isPlainObject=v("./is_plain_object"),u.toLogRange=v("./to_log_range"),u.relinkPrivateKeys=v("./relink_private");var b=v("./array");u.isTypedArray=b.isTypedArray,u.isArrayOrTypedArray=b.isArrayOrTypedArray,u.isArray1D=b.isArray1D,u.ensureArray=b.ensureArray,u.concat=b.concat,u.maxRowLength=b.maxRowLength,u.minRowLength=b.minRowLength;var M=v("./mod");u.mod=M.mod,u.modHalf=M.modHalf;var w=v("./coerce");u.valObjectMeta=w.valObjectMeta,u.coerce=w.coerce,u.coerce2=w.coerce2,u.coerceFont=w.coerceFont,u.coercePattern=w.coercePattern,u.coerceHoverinfo=w.coerceHoverinfo,u.coerceSelectionMarkerOpacity=w.coerceSelectionMarkerOpacity,u.validate=w.validate;var N=v("./dates");u.dateTime2ms=N.dateTime2ms,u.isDateTime=N.isDateTime,u.ms2DateTime=N.ms2DateTime,u.ms2DateTimeLocal=N.ms2DateTimeLocal,u.cleanDate=N.cleanDate,u.isJSDate=N.isJSDate,u.formatDate=N.formatDate,u.incrementMonth=N.incrementMonth,u.dateTick0=N.dateTick0,u.dfltRange=N.dfltRange,u.findExactDates=N.findExactDates,u.MIN_MS=N.MIN_MS,u.MAX_MS=N.MAX_MS;var A=v("./search");u.findBin=A.findBin,u.sorterAsc=A.sorterAsc,u.sorterDes=A.sorterDes,u.distinctVals=A.distinctVals,u.roundUp=A.roundUp,u.sort=A.sort,u.findIndexOfMin=A.findIndexOfMin,u.sortObjectKeys=v("./sort_object_keys");var k=v("./stats");u.aggNums=k.aggNums,u.len=k.len,u.mean=k.mean,u.median=k.median,u.midRange=k.midRange,u.variance=k.variance,u.stdev=k.stdev,u.interp=k.interp;var H=v("./matrix");u.init2dArray=H.init2dArray,u.transposeRagged=H.transposeRagged,u.dot=H.dot,u.translationMatrix=H.translationMatrix,u.rotationMatrix=H.rotationMatrix,u.rotationXYMatrix=H.rotationXYMatrix,u.apply3DTransform=H.apply3DTransform,u.apply2DTransform=H.apply2DTransform,u.apply2DTransform2=H.apply2DTransform2,u.convertCssMatrix=H.convertCssMatrix,u.inverseTransformMatrix=H.inverseTransformMatrix;var L=v("./angles");u.deg2rad=L.deg2rad,u.rad2deg=L.rad2deg,u.angleDelta=L.angleDelta,u.angleDist=L.angleDist,u.isFullCircle=L.isFullCircle,u.isAngleInsideSector=L.isAngleInsideSector,u.isPtInsideSector=L.isPtInsideSector,u.pathArc=L.pathArc,u.pathSector=L.pathSector,u.pathAnnulus=L.pathAnnulus;var I=v("./anchor_utils");u.isLeftAnchor=I.isLeftAnchor,u.isCenterAnchor=I.isCenterAnchor,u.isRightAnchor=I.isRightAnchor,u.isTopAnchor=I.isTopAnchor,u.isMiddleAnchor=I.isMiddleAnchor,u.isBottomAnchor=I.isBottomAnchor;var D=v("./geometry2d");u.segmentsIntersect=D.segmentsIntersect,u.segmentDistance=D.segmentDistance,u.getTextLocation=D.getTextLocation,u.clearLocationCache=D.clearLocationCache,u.getVisibleSegment=D.getVisibleSegment,u.findPointOnPath=D.findPointOnPath;var E=v("./extend");u.extendFlat=E.extendFlat,u.extendDeep=E.extendDeep,u.extendDeepAll=E.extendDeepAll,u.extendDeepNoArrays=E.extendDeepNoArrays;var P=v("./loggers");u.log=P.log,u.warn=P.warn,u.error=P.error;var S=v("./regex");u.counterRegex=S.counter;var R=v("./throttle");u.throttle=R.throttle,u.throttleDone=R.done,u.clearThrottle=R.clear;var G=v("./dom");function z(ee){var F={};for(var O in ee)for(var Y=ee[O],B=0;B<Y.length;B++)F[Y[B]]=+O;return F}u.getGraphDiv=G.getGraphDiv,u.isPlotDiv=G.isPlotDiv,u.removeElement=G.removeElement,u.addStyleRule=G.addStyleRule,u.addRelatedStyleRule=G.addRelatedStyleRule,u.deleteRelatedStyleRule=G.deleteRelatedStyleRule,u.getFullTransformMatrix=G.getFullTransformMatrix,u.getElementTransformMatrix=G.getElementTransformMatrix,u.getElementAndAncestors=G.getElementAndAncestors,u.equalDomRects=G.equalDomRects,u.clearResponsive=v("./clear_responsive"),u.preserveDrawingBuffer=v("./preserve_drawing_buffer"),u.makeTraceGroups=v("./make_trace_groups"),u._=v("./localize"),u.notifier=v("./notifier"),u.filterUnique=v("./filter_unique"),u.filterVisible=v("./filter_visible"),u.pushUnique=v("./push_unique"),u.increment=v("./increment"),u.cleanNumber=v("./clean_number"),u.ensureNumber=function(ee){return c(ee)?(ee=Number(ee))>m||ee<d?h:ee:h},u.isIndex=function(ee,F){return!(void 0!==F&&ee>=F)&&c(ee)&&ee>=0&&ee%1==0},u.noop=v("./noop"),u.identity=v("./identity"),u.repeat=function(ee,F){for(var O=new Array(F),Y=0;Y<F;Y++)O[Y]=ee;return O},u.swapAttrs=function(ee,F,O,Y){O||(O="x"),Y||(Y="y");for(var B=0;B<F.length;B++){var ae=F[B],ue=u.nestedProperty(ee,ae.replace("?",O)),fe=u.nestedProperty(ee,ae.replace("?",Y)),he=ue.get();ue.set(fe.get()),fe.set(he)}},u.raiseToTop=function(ee){ee.parentNode.appendChild(ee)},u.cancelTransition=function(ee){return ee.transition().duration(0)},u.constrain=function(ee,F,O){return F>O?Math.max(O,Math.min(F,ee)):Math.max(F,Math.min(O,ee))},u.bBoxIntersect=function(ee,F,O){return ee.left<=F.right+(O=O||0)&&F.left<=ee.right+O&&ee.top<=F.bottom+O&&F.top<=ee.bottom+O},u.simpleMap=function(ee,F,O,Y,B){for(var ae=ee.length,ue=new Array(ae),fe=0;fe<ae;fe++)ue[fe]=F(ee[fe],O,Y,B);return ue},u.randstr=function ee(F,O,Y,B){if(Y||(Y=16),void 0===O&&(O=24),O<=0)return"0";var ae,ue,fe=Math.log(Math.pow(2,O))/Math.log(Y),he="";for(ae=2;fe===1/0;ae*=2)fe=Math.log(Math.pow(2,O/ae))/Math.log(Y)*ae;var xe=fe-Math.floor(fe);for(ae=0;ae<Math.floor(fe);ae++)he=Math.floor(Math.random()*Y).toString(Y)+he;xe&&(ue=Math.pow(Y,xe),he=Math.floor(Math.random()*ue).toString(Y)+he);var be=parseInt(he,Y);return F&&F[he]||be!==1/0&&be>=Math.pow(2,O)?B>10?(u.warn("randstr failed uniqueness"),he):ee(F,O,Y,(B||0)+1):he},u.OptionControl=function(ee,F){ee||(ee={}),F||(F="opt");var O={optionList:[],_newoption:function(Y){Y[F]=ee,O[Y.name]=Y,O.optionList.push(Y)}};return O["_"+F]=ee,O},u.smooth=function(ee,F){if((F=Math.round(F)||0)<2)return ee;var O,Y,B,ae,ue=ee.length,fe=2*ue,he=2*F-1,xe=new Array(he),be=new Array(ue);for(O=0;O<he;O++)xe[O]=(1-Math.cos(Math.PI*(O+1)/F))/(2*F);for(O=0;O<ue;O++){for(ae=0,Y=0;Y<he;Y++)(B=O+Y+1-F)<-ue?B-=fe*Math.round(B/fe):B>=fe&&(B-=fe*Math.floor(B/fe)),B<0?B=-1-B:B>=ue&&(B=fe-1-B),ae+=ee[B]*xe[Y];be[O]=ae}return be},u.syncOrAsync=function(ee,F,O){var Y;function B(){return u.syncOrAsync(ee,F,O)}for(;ee.length;)if((Y=(0,ee.splice(0,1)[0])(F))&&Y.then)return Y.then(B);return O&&O(F)},u.stripTrailingSlash=function(ee){return"/"===ee.substr(-1)?ee.substr(0,ee.length-1):ee},u.noneOrAll=function(ee,F,O){if(ee){var Y,B=!1,ae=!0;for(Y=0;Y<O.length;Y++)null!=ee[O[Y]]?B=!0:ae=!1;if(B&&!ae)for(Y=0;Y<O.length;Y++)ee[O[Y]]=F[O[Y]]}},u.mergeArray=function(ee,F,O,Y){var B="function"==typeof Y;if(u.isArrayOrTypedArray(ee))for(var ae=Math.min(ee.length,F.length),ue=0;ue<ae;ue++){var fe=ee[ue];F[ue][O]=B?Y(fe):fe}},u.mergeArrayCastPositive=function(ee,F,O){return u.mergeArray(ee,F,O,function(Y){var B=+Y;return isFinite(B)&&B>0?B:0})},u.fillArray=function(ee,F,O,Y){if(Y=Y||u.identity,u.isArrayOrTypedArray(ee))for(var B=0;B<F.length;B++)F[B][O]=Y(ee[B])},u.castOption=function(ee,F,O,Y){Y=Y||u.identity;var B=u.nestedProperty(ee,O).get();return u.isArrayOrTypedArray(B)?Array.isArray(F)&&u.isArrayOrTypedArray(B[F[0]])?Y(B[F[0]][F[1]]):Y(B[F]):B},u.extractOption=function(ee,F,O,Y){if(O in ee)return ee[O];var B=u.nestedProperty(F,Y).get();return Array.isArray(B)?void 0:B},u.tagSelected=function(ee,F,O){var Y,B,ae=F.selectedpoints,ue=F._indexToPoints;ue&&(Y=z(ue));for(var fe=0;fe<ae.length;fe++){var he=ae[fe];if(u.isIndex(he)||u.isArrayOrTypedArray(he)&&u.isIndex(he[0])&&u.isIndex(he[1])){var xe=Y?Y[he]:he,be=O?O[xe]:xe;void 0!==(B=be)&&B<ee.length&&(ee[be].selected=1)}}},u.selIndices2selPoints=function(ee){var F=ee.selectedpoints,O=ee._indexToPoints;if(O){for(var Y=z(O),B=[],ae=0;ae<F.length;ae++){var ue=F[ae];if(u.isIndex(ue)){var fe=Y[ue];u.isIndex(fe)&&B.push(fe)}}return B}return F},u.getTargetArray=function(ee,F){var O=F.target;if("string"==typeof O&&O){var Y=u.nestedProperty(ee,O).get();return!!Array.isArray(Y)&&Y}return!!Array.isArray(O)&&O},u.minExtend=function(ee,F){var O={};"object"!=typeof F&&(F={});var Y,B,ae,ue=Object.keys(ee);for(Y=0;Y<ue.length;Y++)ae=ee[B=ue[Y]],"_"!==B.charAt(0)&&"function"!=typeof ae&&(O[B]="module"===B?ae:Array.isArray(ae)?"colorscale"===B?ae.slice():ae.slice(0,3):u.isTypedArray(ae)?ae.subarray(0,3):ae&&"object"==typeof ae?u.minExtend(ee[B],F[B]):ae);for(ue=Object.keys(F),Y=0;Y<ue.length;Y++)"object"==typeof(ae=F[B=ue[Y]])&&B in O&&"object"==typeof O[B]||(O[B]=ae);return O},u.titleCase=function(ee){return ee.charAt(0).toUpperCase()+ee.substr(1)},u.containsAny=function(ee,F){for(var O=0;O<F.length;O++)if(-1!==ee.indexOf(F[O]))return!0;return!1},u.isIE=function(){return void 0!==window.navigator.msSaveBlob};var X=/Version\/[\d\.]+.*Safari/;u.isSafari=function(){return X.test(window.navigator.userAgent)};var W=/iPad|iPhone|iPod/;u.isIOS=function(){return W.test(window.navigator.userAgent)};var Z=/Firefox\/(\d+)\.\d+/;u.getFirefoxVersion=function(){var ee=Z.exec(window.navigator.userAgent);if(ee&&2===ee.length){var F=parseInt(ee[1]);if(!isNaN(F))return F}return null},u.isD3Selection=function(ee){return ee instanceof s.selection},u.ensureSingle=function(ee,F,O,Y){var B=ee.select(F+(O?"."+O:""));if(B.size())return B;var ae=ee.append(F);return O&&ae.classed(O,!0),Y&&ae.call(Y),ae},u.ensureSingleById=function(ee,F,O,Y){var B=ee.select(F+"#"+O);if(B.size())return B;var ae=ee.append(F).attr("id",O);return Y&&ae.call(Y),ae},u.objectFromPath=function(ee,F){for(var O,Y=ee.split("."),B=O={},ae=0;ae<Y.length;ae++){var ue=Y[ae],fe=null,he=Y[ae].match(/(.*)\[([0-9]+)\]/);he?(fe=he[2],(O=O[ue=he[1]]=[])[fe]=ae===Y.length-1?F:{},O=O[fe]):(O[ue]=ae===Y.length-1?F:{},O=O[ue])}return B};var ne=/^([^\[\.]+)\.(.+)?/,te=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;u.expandObjectPaths=function(ee){var F,O,Y,B,ae,ue,fe;if("object"==typeof ee&&!Array.isArray(ee))for(O in ee)ee.hasOwnProperty(O)&&((F=O.match(ne))?(B=ee[O],Y=F[1],delete ee[O],ee[Y]=u.extendDeepNoArrays(ee[Y]||{},u.objectFromPath(O,u.expandObjectPaths(B))[Y])):(F=O.match(te))?(B=ee[O],Y=F[1],ae=parseInt(F[2]),delete ee[O],ee[Y]=ee[Y]||[],"."===F[3]?(fe=F[4],ue=ee[Y][ae]=ee[Y][ae]||{},u.extendDeepNoArrays(ue,u.objectFromPath(fe,u.expandObjectPaths(B)))):ee[Y][ae]=u.expandObjectPaths(B)):ee[O]=u.expandObjectPaths(ee[O]));return ee},u.numSeparate=function(ee,F,O){if(O||(O=!1),"string"!=typeof F||0===F.length)throw new Error("Separator string required for formatting!");"number"==typeof ee&&(ee=String(ee));var Y=/(\d+)(\d{3})/,B=F.charAt(0),ae=F.charAt(1),ue=ee.split("."),fe=ue[0],he=ue.length>1?B+ue[1]:"";if(ae&&(ue.length>1||fe.length>4||O))for(;Y.test(fe);)fe=fe.replace(Y,"$1"+ae+"$2");return fe+he},u.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var oe=/^\w*$/;u.templateString=function(ee,F){var O={};return ee.replace(u.TEMPLATE_STRING_REGEX,function(Y,B){var ae;return oe.test(B)?ae=F[B]:(O[B]=O[B]||u.nestedProperty(F,B).get,ae=O[B]()),u.isValidTextValue(ae)?ae:""})};var Ce={max:10,count:0,name:"hovertemplate"};u.hovertemplateString=function(){return le.apply(Ce,arguments)};var ie={max:10,count:0,name:"texttemplate"};u.texttemplateString=function(){return le.apply(ie,arguments)};var Q=/^[:|\|]/;function le(ee,F,O){var Y=this,B=arguments;F||(F={});var ae={};return ee.replace(u.TEMPLATE_STRING_REGEX,function(ue,fe,he){var xe,be,ke,Pe="_xother"===fe||"_yother"===fe,Re="_xother_"===fe||"_yother_"===fe,Ue="xother_"===fe||"yother_"===fe,tt="xother"===fe||"yother"===fe||Pe||Ue||Re,Ke=fe;if((Pe||Re)&&(Ke=Ke.substring(1)),(Ue||Re)&&(Ke=Ke.substring(0,Ke.length-1)),tt){if(void 0===(xe=F[Ke]))return""}else for(ke=3;ke<B.length;ke++)if(be=B[ke]){if(be.hasOwnProperty(Ke)){xe=be[Ke];break}if(oe.test(Ke)||(xe=u.nestedProperty(be,Ke).get(),(xe=ae[Ke]||u.nestedProperty(be,Ke).get())&&(ae[Ke]=xe)),void 0!==xe)break}if(void 0===xe&&Y)return Y.count<Y.max&&(u.warn("Variable '"+Ke+"' in "+Y.name+" could not be found!"),xe=ue),Y.count===Y.max&&u.warn("Too many "+Y.name+" warnings - additional warnings will be suppressed"),Y.count++,ue;if(he){var $e;if(":"===he[0]&&(xe=($e=O?O.numberFormat:u.numberFormat)(he.replace(Q,""))(xe)),"|"===he[0]){$e=O?O.timeFormat:g;var Me=u.dateTime2ms(xe);xe=u.formatDate(Me,he.replace(Q,""),!1,$e)}}else{var ve=Ke+"Label";F.hasOwnProperty(ve)&&(xe=F[ve])}return tt&&(xe="("+xe+")",(Pe||Re)&&(xe=" "+xe),(Ue||Re)&&(xe+=" ")),xe})}u.subplotSort=function(ee,F){for(var O=Math.min(ee.length,F.length)+1,Y=0,B=0,ae=0;ae<O;ae++){var ue=ee.charCodeAt(ae)||0,fe=F.charCodeAt(ae)||0,he=ue>=48&&ue<=57,xe=fe>=48&&fe<=57;if(he&&(Y=10*Y+ue-48),xe&&(B=10*B+fe-48),!he||!xe){if(Y!==B)return Y-B;if(ue!==fe)return ue-fe}}return B-Y};var j=2e9;u.seedPseudoRandom=function(){j=2e9},u.pseudoRandom=function(){var ee=j;return j=(69069*j+1)%4294967296,Math.abs(j-ee)<429496729?u.pseudoRandom():j/4294967296},u.fillText=function(ee,F,O){var Y=Array.isArray(O)?function(ue){O.push(ue)}:function(ue){O.text=ue},B=u.extractOption(ee,F,"htx","hovertext");if(u.isValidTextValue(B))return Y(B);var ae=u.extractOption(ee,F,"tx","text");return u.isValidTextValue(ae)?Y(ae):void 0},u.isValidTextValue=function(ee){return ee||0===ee},u.formatPercent=function(ee,F){F=F||0;for(var O=(Math.round(100*ee*Math.pow(10,F))*Math.pow(.1,F)).toFixed(F)+"%",Y=0;Y<F;Y++)-1!==O.indexOf(".")&&(O=(O=O.replace("0%","%")).replace(".%","%"));return O},u.isHidden=function(ee){var F=window.getComputedStyle(ee).display;return!F||"none"===F},u.strTranslate=function(ee,F){return ee||F?"translate("+ee+","+F+")":""},u.strRotate=function(ee){return ee?"rotate("+ee+")":""},u.strScale=function(ee){return 1!==ee?"scale("+ee+")":""},u.getTextTransform=function(ee){var F=ee.noCenter,O=ee.textX,Y=ee.textY,he=ee.rotate,xe=ee.scale;return xe?xe>1&&(xe=1):xe=0,u.strTranslate(ee.targetX-xe*(O+(ee.anchorX||0)),ee.targetY-xe*(Y+(ee.anchorY||0)))+u.strScale(xe)+(he?"rotate("+he+(F?"":" "+O+" "+Y)+")":"")},u.ensureUniformFontSize=function(ee,F){var O=u.extendFlat({},F);return O.size=Math.max(F.size,ee._fullLayout.uniformtext.minsize||0),O},u.join2=function(ee,F,O){var Y=ee.length;return Y>1?ee.slice(0,-1).join(F)+O+ee[Y-1]:ee.join(F)},u.bigFont=function(ee){return Math.round(1.2*ee)};var $=u.getFirefoxVersion(),se=null!==$&&$<86;u.getPositionFromD3Event=function(){return se?[s.event.layerX,s.event.layerY]:[s.event.offsetX,s.event.offsetY]}},{"../constants/numerical":212,"./anchor_utils":216,"./angles":217,"./array":218,"./clean_number":219,"./clear_responsive":221,"./coerce":222,"./dates":223,"./dom":224,"./extend":226,"./filter_unique":227,"./filter_visible":228,"./geometry2d":229,"./identity":230,"./increment":231,"./is_plain_object":233,"./keyed_container":234,"./localize":235,"./loggers":236,"./make_trace_groups":237,"./matrix":238,"./mod":239,"./nested_property":240,"./noop":241,"./notifier":242,"./preserve_drawing_buffer":245,"./push_unique":246,"./regex":248,"./relative_attr":249,"./relink_private":250,"./search":251,"./sort_object_keys":253,"./stats":254,"./throttle":256,"./to_log_range":257,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],233:[function(v,pe,J){"use strict";pe.exports=function(s){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(s):"[object Object]"===Object.prototype.toString.call(s)&&Object.getPrototypeOf(s).hasOwnProperty("hasOwnProperty")}},{}],234:[function(v,pe,J){"use strict";var s=v("./nested_property"),g=/^\w*$/;pe.exports=function(p,c,l,m){var d,h,u;l=l||"name",m=m||"value";var C={};c&&c.length?(u=s(p,c),h=u.get()):h=p,c=c||"";var b={};if(h)for(d=0;d<h.length;d++)b[h[d][l]]=d;var M=g.test(m),w={set:function(N,A){var k=null===A?4:0;if(!h){if(!u||4===k)return;u.set(h=[])}var H=b[N];if(void 0===H){if(4===k)return;k|=3,b[N]=H=h.length}else A!==(M?h[H][m]:s(h[H],m).get())&&(k|=2);var L=h[H]=h[H]||{};return L[l]=N,M?L[m]=A:s(L,m).set(A),null!==A&&(k&=-5),C[H]=C[H]|k,w},get:function(N){if(h){var A=b[N];return void 0===A?void 0:M?h[A][m]:s(h[A],m).get()}},rename:function(N,A){var k=b[N];return void 0===k||(C[k]=1|C[k],b[A]=k,delete b[N],h[k][l]=A),w},remove:function(N){var A=b[N];if(void 0===A)return w;var k=h[A];if(Object.keys(k).length>2)return C[A]=2|C[A],w.set(N,null);if(M){for(d=A;d<h.length;d++)C[d]=3|C[d];for(d=A;d<h.length;d++)b[h[d][l]]--;h.splice(A,1),delete b[N]}else s(k,m).set(null),C[A]=6|C[A];return w},constructUpdate:function(){for(var N,A,k={},H=Object.keys(C),L=0;L<H.length;L++)N=c+"["+(A=H[L])+"]",h[A]?(1&C[A]&&(k[N+"."+l]=h[A][l]),2&C[A]&&(k[N+"."+m]=M?4&C[A]?null:h[A][m]:4&C[A]?null:s(h[A],m).get())):k[N]=null;return k}};return w}},{"./nested_property":240}],235:[function(v,pe,J){"use strict";var s=v("../registry");pe.exports=function(g,p){for(var c=g._context.locale,l=0;l<2;l++){for(var m=g._context.locales,d=0;d<2;d++){var h=(m[c]||{}).dictionary;if(h){var u=h[p];if(u)return u}m=s.localeRegistry}var C=c.split("-")[0];if(C===c)break;c=C}return p}},{"../registry":318}],236:[function(v,pe,J){"use strict";var s=v("../plot_api/plot_config").dfltConfig,g=v("./notifier"),p=pe.exports={};p.log=function(){var c;if(s.logging>1){var l=["LOG:"];for(c=0;c<arguments.length;c++)l.push(arguments[c]);console.trace.apply(console,l)}if(s.notifyOnLogging>1){var m=[];for(c=0;c<arguments.length;c++)m.push(arguments[c]);g(m.join("<br>"),"long")}},p.warn=function(){var c;if(s.logging>0){var l=["WARN:"];for(c=0;c<arguments.length;c++)l.push(arguments[c]);console.trace.apply(console,l)}if(s.notifyOnLogging>0){var m=[];for(c=0;c<arguments.length;c++)m.push(arguments[c]);g(m.join("<br>"),"stick")}},p.error=function(){var c;if(s.logging>0){var l=["ERROR:"];for(c=0;c<arguments.length;c++)l.push(arguments[c]);console.error.apply(console,l)}if(s.notifyOnLogging>0){var m=[];for(c=0;c<arguments.length;c++)m.push(arguments[c]);g(m.join("<br>"),"stick")}}},{"../plot_api/plot_config":266,"./notifier":242}],237:[function(v,pe,J){"use strict";var s=v("@plotly/d3");pe.exports=function(g,p,c){var l=g.selectAll("g."+c.replace(/\s/g,".")).data(p,function(d){return d[0].trace.uid});l.exit().remove(),l.enter().append("g").attr("class",c),l.order();var m=g.classed("rangeplot")?"nodeRangePlot3":"node3";return l.each(function(d){d[0][m]=s.select(this)}),l}},{"@plotly/d3":11}],238:[function(v,pe,J){"use strict";var s=v("gl-mat4");J.init2dArray=function(g,p){for(var c=new Array(g),l=0;l<g;l++)c[l]=new Array(p);return c},J.transposeRagged=function(g){var p,c,l=0,m=g.length;for(p=0;p<m;p++)l=Math.max(l,g[p].length);var d=new Array(l);for(p=0;p<l;p++)for(d[p]=new Array(m),c=0;c<m;c++)d[p][c]=g[c][p];return d},J.dot=function(g,p){if(!g.length||!p.length||g.length!==p.length)return null;var c,l,m=g.length;if(g[0].length)for(c=new Array(m),l=0;l<m;l++)c[l]=J.dot(g[l],p);else if(p[0].length){var d=J.transposeRagged(p);for(c=new Array(d.length),l=0;l<d.length;l++)c[l]=J.dot(g,d[l])}else for(c=0,l=0;l<m;l++)c+=g[l]*p[l];return c},J.translationMatrix=function(g,p){return[[1,0,g],[0,1,p],[0,0,1]]},J.rotationMatrix=function(g){var p=g*Math.PI/180;return[[Math.cos(p),-Math.sin(p),0],[Math.sin(p),Math.cos(p),0],[0,0,1]]},J.rotationXYMatrix=function(g,p,c){return J.dot(J.dot(J.translationMatrix(p,c),J.rotationMatrix(g)),J.translationMatrix(-p,-c))},J.apply3DTransform=function(g){return function(){var p=arguments,c=1===arguments.length?p[0]:[p[0],p[1],p[2]||0];return J.dot(g,[c[0],c[1],c[2],1]).slice(0,3)}},J.apply2DTransform=function(g){return function(){var p=arguments;3===p.length&&(p=p[0]);var c=1===arguments.length?p[0]:[p[0],p[1]];return J.dot(g,[c[0],c[1],1]).slice(0,2)}},J.apply2DTransform2=function(g){var p=J.apply2DTransform(g);return function(c){return p(c.slice(0,2)).concat(p(c.slice(2,4)))}},J.convertCssMatrix=function(g){if(g){var p=g.length;if(16===p)return g;if(6===p)return[g[0],g[1],0,0,g[2],g[3],0,0,0,0,1,0,g[4],g[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},J.inverseTransformMatrix=function(g){var p=[];return s.invert(p,g),[[p[0],p[1],p[2],p[3]],[p[4],p[5],p[6],p[7]],[p[8],p[9],p[10],p[11]],[p[12],p[13],p[14],p[15]]]}},{"gl-mat4":33}],239:[function(v,pe,J){"use strict";pe.exports={mod:function(s,g){var p=s%g;return p<0?p+g:p},modHalf:function(s,g){return Math.abs(s)>g/2?s-Math.round(s/g)*g:s}}},{}],240:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("./array").isArrayOrTypedArray;function p(C,b){return function(){var M,w,N,A,k,H=C;for(A=0;A<b.length-1;A++){if(-1===(M=b[A])){for(w=!0,N=[],k=0;k<H.length;k++)N[k]=p(H[k],b.slice(A+1))(),N[k]!==N[0]&&(w=!1);return w?N[0]:N}if("number"==typeof M&&!g(H)||"object"!=typeof(H=H[M])||null===H)return}if("object"==typeof H&&null!==H&&null!==(N=H[b[A]]))return N}}pe.exports=function(C,b){if(s(b))b=String(b);else if("string"!=typeof b||"[-1]"===b.substr(b.length-4))throw"bad property string";for(var M,w,N,A=0,k=b.split(".");A<k.length;){if(M=String(k[A]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(M[1])k[A]=M[1];else{if(0!==A)throw"bad property string";k.splice(0,1)}for(w=M[2].substr(1,M[2].length-2).split("]["),N=0;N<w.length;N++)A++,k.splice(A,0,Number(w[N]))}A++}return"object"!=typeof C?{set:function(){throw"bad container"},get:function(){},astr:b,parts:k,obj:C}:{set:m(C,k,b),get:p(C,k),astr:b,parts:k,obj:C}};var c=/(^|\.)args\[/;function l(C,b){return void 0===C||null===C&&!b.match(c)}function m(C,b,M){return function(w){var N,A,k=C,H="",L=[[C,H]],I=l(w,M);for(A=0;A<b.length-1;A++){if("number"==typeof(N=b[A])&&!g(k))throw"array index but container is not an array";if(-1===N){if(I=!h(k,b.slice(A+1),w,M))break;return}if(!u(k,N,b[A+1],I))break;if("object"!=typeof(k=k[N])||null===k)throw"container is not an object";H=d(H,N),L.push([k,H])}if(I){if(A===b.length-1&&(delete k[b[A]],Array.isArray(k)&&+b[A]==k.length-1))for(;k.length&&void 0===k[k.length-1];)k.pop()}else k[b[A]]=w}}function d(C,b){var M=b;return s(b)?M="["+b+"]":C&&(M="."+b),C+M}function h(C,b,M,w){var N,A=g(M),k=!0,H=M,L=w.replace("-1",0),I=!A&&l(M,L),D=b[0];for(N=0;N<C.length;N++)L=w.replace("-1",N),A&&(I=l(H=M[N%M.length],L)),I&&(k=!1),u(C,N,D,I)&&m(C[N],b,w.replace("-1",N))(H);return k}function u(C,b,M,w){if(void 0===C[b]){if(w)return!1;C[b]="number"==typeof M?[]:{}}return!0}},{"./array":218,"fast-isnumeric":17}],241:[function(v,pe,J){"use strict";pe.exports=function(){}},{}],242:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("fast-isnumeric"),p=[];pe.exports=function(c,l){if(-1===p.indexOf(c)){p.push(c);var m=1e3;g(l)?m=l:"long"===l&&(m=3e3);var d=s.select("body").selectAll(".plotly-notifier").data([0]);d.enter().append("div").classed("plotly-notifier",!0),d.selectAll(".notifier-note").data(p).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(u){var C=s.select(this);C.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){C.transition().call(h)});for(var b=C.append("p"),M=u.split(/<br\s*\/?>/g),w=0;w<M.length;w++)w&&b.append("br"),b.append("span").text(M[w]);"stick"===l?C.transition().duration(350).style("opacity",1):C.transition().duration(700).style("opacity",1).transition().delay(m).call(h)})}function h(u){u.duration(700).style("opacity",0).each("end",function(C){var b=p.indexOf(C);-1!==b&&p.splice(b,1),s.select(this).remove()})}}},{"@plotly/d3":11,"fast-isnumeric":17}],243:[function(v,pe,J){"use strict";var s=v("./setcursor"),g="data-savedcursor";pe.exports=function(p,c){var l=p.attr(g);if(c){if(!l){for(var m=(p.attr("class")||"").split(" "),d=0;d<m.length;d++){var h=m[d];0===h.indexOf("cursor-")&&p.attr(g,h.substr(7)).classed(h,!1)}p.attr(g)||p.attr(g,"!!")}s(p,c)}else l&&(p.attr(g,null),"!!"===l?s(p):s(p,l))}},{"./setcursor":252}],244:[function(v,pe,J){"use strict";var s=v("./matrix").dot,g=v("../constants/numerical").BADNUM,p=pe.exports={};p.tester=function(c){var l,m=c.slice(),d=m[0][0],h=d,u=m[0][1],C=u;for(m.push(m[0]),l=1;l<m.length;l++)d=Math.min(d,m[l][0]),h=Math.max(h,m[l][0]),u=Math.min(u,m[l][1]),C=Math.max(C,m[l][1]);var b,M=!1;5===m.length&&(m[0][0]===m[1][0]?m[2][0]===m[3][0]&&m[0][1]===m[3][1]&&m[1][1]===m[2][1]&&(M=!0,b=function(A){return A[0]===m[0][0]}):m[0][1]===m[1][1]&&m[2][1]===m[3][1]&&m[0][0]===m[3][0]&&m[1][0]===m[2][0]&&(M=!0,b=function(A){return A[1]===m[0][1]}));var w=!0,N=m[0];for(l=1;l<m.length;l++)if(N[0]!==m[l][0]||N[1]!==m[l][1]){w=!1;break}return{xmin:d,xmax:h,ymin:u,ymax:C,pts:m,contains:M?function(A,k){var H=A[0],L=A[1];return!(H===g||H<d||H>h||L===g||L<u||L>C||k&&b(A))}:function(A,k){var H=A[0],L=A[1];if(H===g||H<d||H>h||L===g||L<u||L>C)return!1;var I,D,E,P,S,R=m.length,G=m[0][0],z=m[0][1],X=0;for(I=1;I<R;I++)if(D=G,E=z,G=m[I][0],z=m[I][1],!(H<(P=Math.min(D,G))||H>Math.max(D,G)||L>Math.max(E,z)))if(L<Math.min(E,z))H!==P&&X++;else{if(L===(S=G===D?L:E+(H-D)*(z-E)/(G-D)))return 1!==I||!k;L<=S&&H!==P&&X++}return X%2==1},isRect:M,degenerate:w}},p.isSegmentBent=function(c,l,m,d){var h,u,C,b=c[l],M=[c[m][0]-b[0],c[m][1]-b[1]],w=s(M,M),N=Math.sqrt(w),A=[-M[1]/N,M[0]/N];for(h=l+1;h<m;h++)if((C=s(u=[c[h][0]-b[0],c[h][1]-b[1]],M))<0||C>w||Math.abs(s(u,A))>d)return!0;return!1},p.filter=function(c,l){var m=[c[0]],d=0,h=0;function u(C){c.push(C);var b=m.length,M=d;m.splice(h+1);for(var w=M+1;w<c.length;w++)(w===c.length-1||p.isSegmentBent(c,M,w+1,l))&&(m.push(c[w]),m.length<b-2&&(d=w,h=m.length-1),M=w)}return c.length>1&&u(c.pop()),{addPt:u,raw:c,filtered:m}}},{"../constants/numerical":212,"./matrix":238}],245:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("is-mobile");pe.exports=function(p){var c,b;if("string"!=typeof(c=p&&p.hasOwnProperty("userAgent")?p.userAgent:(typeof navigator<"u"&&(b=navigator.userAgent),b&&b.headers&&"string"==typeof b.headers["user-agent"]&&(b=b.headers["user-agent"]),b)))return!0;var l=g({ua:{headers:{"user-agent":c}},tablet:!0,featureDetect:!1});if(!l)for(var m=c.split(" "),d=1;d<m.length;d++)if(-1!==m[d].indexOf("Safari"))for(var h=d-1;h>-1;h--){var u=m[h];if("Version/"===u.substr(0,8)){var C=u.substr(8).split(".")[0];if(s(C)&&(C=+C),C>=13)return!0}}return l}},{"fast-isnumeric":17,"is-mobile":51}],246:[function(v,pe,J){"use strict";pe.exports=function(s,g){if(g instanceof RegExp){for(var p=g.toString(),c=0;c<s.length;c++)if(s[c]instanceof RegExp&&s[c].toString()===p)return s;s.push(g)}else!g&&0!==g||-1!==s.indexOf(g)||s.push(g);return s}},{}],247:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("../plot_api/plot_config").dfltConfig,p={add:function(c,l,m,d,h){var u,C;c.undoQueue=c.undoQueue||{index:0,queue:[],sequence:!1},C=c.undoQueue.index,c.autoplay?c.undoQueue.inSequence||(c.autoplay=!1):(!c.undoQueue.sequence||c.undoQueue.beginSequence?(c.undoQueue.queue.splice(C,c.undoQueue.queue.length-C,u={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),c.undoQueue.index+=1):u=c.undoQueue.queue[C-1],c.undoQueue.beginSequence=!1,u&&(u.undo.calls.unshift(l),u.undo.args.unshift(m),u.redo.calls.push(d),u.redo.args.push(h)),c.undoQueue.queue.length>g.queueLength&&(c.undoQueue.queue.shift(),c.undoQueue.index--))},startSequence:function(c){c.undoQueue=c.undoQueue||{index:0,queue:[],sequence:!1},c.undoQueue.sequence=!0,c.undoQueue.beginSequence=!0},stopSequence:function(c){c.undoQueue=c.undoQueue||{index:0,queue:[],sequence:!1},c.undoQueue.sequence=!1,c.undoQueue.beginSequence=!1},undo:function(c){var l,m;if(!(void 0===c.undoQueue||isNaN(c.undoQueue.index)||c.undoQueue.index<=0)){for(c.undoQueue.index--,l=c.undoQueue.queue[c.undoQueue.index],c.undoQueue.inSequence=!0,m=0;m<l.undo.calls.length;m++)p.plotDo(c,l.undo.calls[m],l.undo.args[m]);c.undoQueue.inSequence=!1,c.autoplay=!1}},redo:function(c){var l,m;if(!(void 0===c.undoQueue||isNaN(c.undoQueue.index)||c.undoQueue.index>=c.undoQueue.queue.length)){for(l=c.undoQueue.queue[c.undoQueue.index],c.undoQueue.inSequence=!0,m=0;m<l.redo.calls.length;m++)p.plotDo(c,l.redo.calls[m],l.redo.args[m]);c.undoQueue.inSequence=!1,c.autoplay=!1,c.undoQueue.index++}},plotDo:function(c,l,m){c.autoplay=!0,m=function(d,h){for(var u,C=[],b=0;b<h.length;b++)C[b]=(u=h[b])===d?u:"object"==typeof u?Array.isArray(u)?s.extendDeep([],u):s.extendDeepAll({},u):u;return C}(c,m),l.apply(null,m)}};pe.exports=p},{"../lib":232,"../plot_api/plot_config":266}],248:[function(v,pe,J){"use strict";J.counter=function(s,g,p,c){var l=(g||"")+(p?"":"$"),m=!1===c?"":"^";return"xy"===s?new RegExp(m+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+l):new RegExp(m+s+"([2-9]|[1-9][0-9]+)?"+l)}},{}],249:[function(v,pe,J){"use strict";var s=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,g=/^[^\.\[\]]+$/;pe.exports=function(p,c){for(;c;){var l=p.match(s);if(l)p=l[1];else{if(!p.match(g))throw new Error("bad relativeAttr call:"+[p,c]);p=""}if("^"!==c.charAt(0))break;c=c.slice(1)}return p&&"["!==c.charAt(0)?p+"."+c:p+c}},{}],250:[function(v,pe,J){"use strict";var s=v("./array").isArrayOrTypedArray,g=v("./is_plain_object");pe.exports=function p(c,l){for(var m in l){var d=l[m],h=c[m];if(h!==d)if("_"===m.charAt(0)||"function"==typeof d){if(m in c)continue;c[m]=d}else if(s(d)&&s(h)&&g(d[0])){if("customdata"===m||"ids"===m)continue;for(var u=Math.min(d.length,h.length),C=0;C<u;C++)h[C]!==d[C]&&g(d[C])&&g(h[C])&&p(h[C],d[C])}else g(d)&&g(h)&&(p(h,d),Object.keys(h).length||delete c[m])}}},{"./array":218,"./is_plain_object":233}],251:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("./loggers"),p=v("./identity"),c=v("../constants/numerical").BADNUM;function l(u,C){return u<C}function m(u,C){return u<=C}function d(u,C){return u>C}function h(u,C){return u>=C}J.findBin=function(u,C,b){if(s(C.start))return b?Math.ceil((u-C.start)/C.size-1e-9)-1:Math.floor((u-C.start)/C.size+1e-9);var M,w,N=0,A=C.length,k=0,H=A>1?(C[A-1]-C[0])/(A-1):1;for(w=H>=0?b?l:m:b?h:d,u+=1e-9*H*(b?-1:1)*(H>=0?1:-1);N<A&&k++<100;)w(C[M=Math.floor((N+A)/2)],u)?N=M+1:A=M;return k>90&&g.log("Long binary search..."),N-1},J.sorterAsc=function(u,C){return u-C},J.sorterDes=function(u,C){return C-u},J.distinctVals=function(u){var C,b=u.slice();for(b.sort(J.sorterAsc),C=b.length-1;C>-1&&b[C]===c;C--);for(var M,w=b[C]-b[0]||1,N=w/(C||1)/1e4,A=[],k=0;k<=C;k++){var H=b[k],L=H-M;void 0===M?(A.push(H),M=H):L>N&&(w=Math.min(w,L),A.push(H),M=H)}return{vals:A,minDiff:w}},J.roundUp=function(u,C,b){for(var M,w=0,N=C.length-1,A=0,k=b?0:1,H=b?1:0,L=b?Math.ceil:Math.floor;w<N&&A++<100;)C[M=L((w+N)/2)]<=u?w=M+k:N=M-H;return C[w]},J.sort=function(u,C){for(var b=0,M=0,w=1;w<u.length;w++){var N=C(u[w],u[w-1]);if(N<0?b=1:N>0&&(M=1),b&&M)return u.sort(C)}return M?u:u.reverse()},J.findIndexOfMin=function(u,C){C=C||p;for(var b,M=1/0,w=0;w<u.length;w++){var N=C(u[w]);N<M&&(M=N,b=w)}return b}},{"../constants/numerical":212,"./identity":230,"./loggers":236,"fast-isnumeric":17}],252:[function(v,pe,J){"use strict";pe.exports=function(s,g){(s.attr("class")||"").split(" ").forEach(function(p){0===p.indexOf("cursor-")&&s.classed(p,!1)}),g&&s.classed("cursor-"+g,!0)}},{}],253:[function(v,pe,J){"use strict";pe.exports=function(s){return Object.keys(s).sort()}},{}],254:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("./array").isArrayOrTypedArray;J.aggNums=function(p,c,l,m){var d,h;if((!m||m>l.length)&&(m=l.length),s(c)||(c=!1),g(l[0])){for(h=new Array(m),d=0;d<m;d++)h[d]=J.aggNums(p,c,l[d]);l=h}for(d=0;d<m;d++)s(c)?s(l[d])&&(c=p(+c,+l[d])):c=l[d];return c},J.len=function(p){return J.aggNums(function(c){return c+1},0,p)},J.mean=function(p,c){return c||(c=J.len(p)),J.aggNums(function(l,m){return l+m},0,p)/c},J.midRange=function(p){if(void 0!==p&&0!==p.length)return(J.aggNums(Math.max,null,p)+J.aggNums(Math.min,null,p))/2},J.variance=function(p,c,l){return c||(c=J.len(p)),s(l)||(l=J.mean(p,c)),J.aggNums(function(m,d){return m+Math.pow(d-l,2)},0,p)/c},J.stdev=function(p,c,l){return Math.sqrt(J.variance(p,c,l))},J.median=function(p){var c=p.slice().sort();return J.interp(c,.5)},J.interp=function(p,c){if(!s(c))throw"n should be a finite number";if((c=c*p.length-.5)<0)return p[0];if(c>p.length-1)return p[p.length-1];var l=c%1;return l*p[Math.ceil(c)]+(1-l)*p[Math.floor(c)]}},{"./array":218,"fast-isnumeric":17}],255:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../lib"),p=g.strTranslate,c=v("../constants/xmlns_namespaces"),l=v("../constants/alignment").LINE_SPACING,m=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;J.convertToTspans=function(Z,ne,te){var oe=Z.text(),Ce=!Z.attr("data-notex")&&ne&&ne._context.typesetMath&&typeof MathJax<"u"&&oe.match(m),ie=s.select(Z.node().parentNode);if(!ie.empty()){var Q=Z.attr("class")?Z.attr("class").split(" ")[0]:"text";return ie.selectAll("svg."+(Q+="-math")).remove(),ie.selectAll("g."+Q+"-group").remove(),Z.style("display",null).attr({"data-unformatted":oe,"data-math":"N"}),Ce?(ne&&ne._promises||[]).push(new Promise(function(j){Z.style("display","none");var $=parseInt(Z.node().style.fontSize,10);!function(ee,F,O){var Y,B,ae,ue,fe=parseInt((MathJax.version||"").split(".")[0]);if(2===fe||3===fe){var he=function(){var be="math-output-"+g.randstr({},64),ke=(ue=s.select("body").append("div").attr({id:be}).style({visibility:"hidden",position:"absolute","font-size":F.fontSize+"px"}).text(ee.replace(d,"\\lt ").replace(h,"\\gt "))).node();return 2===fe?MathJax.Hub.Typeset(ke):MathJax.typeset([ke])},xe=function(){var be=ue.select(2===fe?".MathJax_SVG":".MathJax"),ke=!be.empty()&&ue.select("svg").node();if(ke){var Pe,Re=ke.getBoundingClientRect();Pe=2===fe?s.select("body").select("#MathJax_SVG_glyphs"):be.select("defs"),O(be,Pe,Re)}else g.log("There was an error in the tex syntax.",ee),O();ue.remove()};2===fe?MathJax.Hub.Queue(function(){return B=g.extendDeepAll({},MathJax.Hub.config),ae=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:u},displayAlign:"left"})},function(){if("SVG"!==(Y=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},he,xe,function(){if("SVG"!==Y)return MathJax.Hub.setRenderer(Y)},function(){return void 0!==ae&&(MathJax.Hub.processSectionDelay=ae),MathJax.Hub.Config(B)}):3===fe&&(B=g.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=u,"svg"!==(Y=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){he(),xe(),"svg"!==Y&&(MathJax.config.startup.output=Y),MathJax.config=B}))}else g.warn("No MathJax version:",MathJax.version)}(Ce[2],{fontSize:$},function(ee,F,O){ie.selectAll("svg."+Q).remove(),ie.selectAll("g."+Q+"-group").remove();var Y=ee&&ee.select("svg");if(!Y||!Y.node())return le(),void j();var B=ie.append("g").classed(Q+"-group",!0).attr({"pointer-events":"none","data-unformatted":oe,"data-math":"Y"});B.node().appendChild(Y.node()),F&&F.node()&&Y.node().insertBefore(F.node().cloneNode(!0),Y.node().firstChild);var ae=O.width,ue=O.height;Y.attr({class:Q,height:ue,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var fe=Z.node().style.fill||"black",he=Y.select("g");he.attr({fill:fe,stroke:fe});var xe=he.node().getBoundingClientRect(),be=xe.width,ke=xe.height;(be>ae||ke>ue)&&(Y.style("overflow","hidden"),be=(xe=Y.node().getBoundingClientRect()).width,ke=xe.height);var Pe=+Z.attr("x"),Re=+Z.attr("y"),Ue=-($||Z.node().getBoundingClientRect().height)/4;if("y"===Q[0])B.attr({transform:"rotate("+[-90,Pe,Re]+")"+p(-be/2,Ue-ke/2)});else if("l"===Q[0])Re=Ue-ke/2;else if("a"===Q[0]&&0!==Q.indexOf("atitle"))Pe=0,Re=Ue;else{var tt=Z.attr("text-anchor");Pe-=be*("middle"===tt?.5:"end"===tt?1:0),Re=Re+Ue-ke/2}Y.attr({x:Pe,y:Re}),te&&te.call(Z,B),j(B)})})):le(),Z}function le(){ie.empty()||(Q=Z.attr("class")+"-math",ie.select("svg."+Q).remove()),Z.text("").style("white-space","pre"),function(j,$){$=$.replace(N," ");var se,ee=!1,F=[],O=-1;function Y(){O++;var Me=document.createElementNS(c.svg,"tspan");s.select(Me).attr({class:"line",dy:O*l+"em"}),j.appendChild(Me),se=Me;var ve=F;if(F=[{node:Me}],ve.length>1)for(var Se=1;Se<ve.length;Se++)B(ve[Se])}function B(Me){var ve,Se=Me.type,Te={};if("a"===Se){ve="a";var qe=Me.target,Oe=Me.href,Fe=Me.popup;Oe&&(Te={"xlink:xlink:show":"_blank"===qe||"_"!==qe.charAt(0)?"new":"replace",target:qe,"xlink:xlink:href":Oe},Fe&&(Te.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Fe+'");return false;'))}else ve="tspan";Me.style&&(Te.style=Me.style);var Qe=document.createElementNS(c.svg,ve);if("sup"===Se||"sub"===Se){ae(se,"\u200b"),se.appendChild(Qe);var nt=document.createElementNS(c.svg,"tspan");ae(nt,"\u200b"),s.select(nt).attr("dy",M[Se]),Te.dy=b[Se],se.appendChild(Qe),se.appendChild(nt)}else se.appendChild(Qe);s.select(Qe).attr(Te),se=Me.node=Qe,F.push(Me)}function ae(Me,ve){Me.appendChild(document.createTextNode(ve))}function ue(Me){if(1!==F.length){var ve=F.pop();Me!==ve.type&&g.log("Start tag <"+ve.type+"> doesnt match end tag <"+Me+">. Pretending it did match.",$),se=F[F.length-1].node}else g.log("Ignoring unexpected end tag </"+Me+">.",$)}H.test($)?Y():(se=j,F=[{node:j}]);for(var fe=$.split(A),he=0;he<fe.length;he++){var xe=fe[he],be=xe.match(k),ke=be&&be[2].toLowerCase(),Pe=C[ke];if("br"===ke)Y();else if(void 0===Pe)ae(se,z(xe));else if(be[1])ue(ke);else{var Re=be[4],Ue={type:ke},tt=P(Re,L);if(tt?(tt=tt.replace(S,"$1 fill:"),Pe&&(tt+=";"+Pe)):Pe&&(tt=Pe),tt&&(Ue.style=tt),"a"===ke){ee=!0;var Ke=P(Re,I);if(Ke){var $e=X(Ke);$e&&(Ue.href=$e,Ue.target=P(Re,D)||"_blank",Ue.popup=P(Re,E))}}B(Ue)}}return ee}(Z.node(),oe)&&Z.style("pointer-events","all"),J.positionText(Z),te&&te.call(Z)}};var d=/(<|&lt;|&#60;)/g,h=/(>|&gt;|&#62;)/g,u=[["$","$"],["\\(","\\)"]],C={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},b={sub:"0.3em",sup:"-0.6em"},M={sub:"-0.21em",sup:"0.42em"},w=["http:","https:","mailto:","",void 0,":"],N=J.NEWLINES=/(\r\n?|\n)/g,A=/(<[^<>]*>)/,k=/<(\/?)([^ >]*)(\s+(.*))?>/i,H=/<br(\s+.*)?>/i;J.BR_TAG_ALL=/<br(\s+.*)?>/gi;var L=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,I=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,D=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,E=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function P(Z,ne){if(!Z)return null;var te=Z.match(ne),oe=te&&(te[3]||te[4]);return oe&&z(oe)}var S=/(^|;)\s*color:/;J.plainText=function(Z,ne){for(var te=void 0!==(ne=ne||{}).len&&-1!==ne.len?ne.len:1/0,oe=void 0!==ne.allowedTags?ne.allowedTags:["br"],ie=Z.split(A),Q=[],le="",j=0,$=0;$<ie.length;$++){var se=ie[$],ee=se.match(k),F=ee&&ee[2].toLowerCase();if(F)-1!==oe.indexOf(F)&&(Q.push(se),le=F);else{var O=se.length;if(j+O<te)Q.push(se),j+=O;else if(j<te){var Y=te-j;le&&("br"!==le||Y<=3||O<=3)&&Q.pop(),Q.push(te>3?se.substr(0,Y-3)+"...":se.substr(0,Y));break}le=""}}return Q.join("")};var R={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},G=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function z(Z){return Z.replace(G,function(ne,te){return("#"===te.charAt(0)?function(oe){if(!(oe>1114111)){var Ce=String.fromCodePoint;if(Ce)return Ce(oe);var ie=String.fromCharCode;return oe<=65535?ie(oe):ie(55232+(oe>>10),oe%1024+56320)}}("x"===te.charAt(1)?parseInt(te.substr(2),16):parseInt(te.substr(1),10)):R[te])||ne})}function X(Z){var ne=encodeURI(decodeURI(Z)),te=document.createElement("a"),oe=document.createElement("a");te.href=Z,oe.href=ne;var ie=oe.protocol;return-1!==w.indexOf(te.protocol)&&-1!==w.indexOf(ie)?ne:""}function W(Z,ne,te){var oe,Ce,ie,Q=te.horizontalAlign,le=te.verticalAlign||"top",j=Z.node().getBoundingClientRect(),$=ne.node().getBoundingClientRect();return Ce="bottom"===le?function(){return j.bottom-oe.height}:"middle"===le?function(){return j.top+(j.height-oe.height)/2}:function(){return j.top},ie="right"===Q?function(){return j.right-oe.width}:"center"===Q?function(){return j.left+(j.width-oe.width)/2}:function(){return j.left},function(){oe=this.node().getBoundingClientRect();var se=ie()-$.left,ee=Ce()-$.top,F=te.gd||{};if(te.gd){F._fullLayout._calcInverseTransform(F);var O=g.apply3DTransform(F._fullLayout._invTransform)(se,ee);se=O[0],ee=O[1]}return this.style({top:ee+"px",left:se+"px","z-index":1e3}),this}}J.convertEntities=z,J.sanitizeHTML=function(Z){Z=Z.replace(N," ");for(var ne=document.createElement("p"),te=ne,oe=[],Ce=Z.split(A),ie=0;ie<Ce.length;ie++){var Q=Ce[ie],le=Q.match(k),j=le&&le[2].toLowerCase();if(j in C)if(le[1])oe.length&&(te=oe.pop());else{var $=le[4],se=P($,L),ee=se?{style:se}:{};if("a"===j){var F=P($,I);if(F){var O=X(F);if(O){ee.href=O;var Y=P($,D);Y&&(ee.target=Y)}}}var B=document.createElement(j);te.appendChild(B),s.select(B).attr(ee),te=B,oe.push(B)}else te.appendChild(document.createTextNode(z(Q)))}return ne.innerHTML},J.lineCount=function(Z){return Z.selectAll("tspan.line").size()||1},J.positionText=function(Z,ne,te){return Z.each(function(){var oe=s.select(this);function Ce(le,j){return void 0===j?null===(j=oe.attr(le))&&(oe.attr(le,0),j=0):oe.attr(le,j),j}var ie=Ce("x",ne),Q=Ce("y",te);"text"===this.nodeName&&oe.selectAll("tspan.line").attr({x:ie,y:Q})})},J.makeTextShadow=function(Z){var ne="1px ",te="1px ",oe="1px ";return ne+te+oe+Z+", -"+ne+"-"+te+oe+Z+", "+ne+"-"+te+oe+Z+", -"+ne+te+oe+Z},J.makeEditable=function(Z,ne){var te=ne.gd,oe=ne.delegate,Ce=s.dispatch("edit","input","cancel"),ie=oe||Z;if(Z.style({"pointer-events":oe?"none":"all"}),1!==Z.size())throw new Error("boo");function Q(){var se,ee,F,O,Y;se=s.select(te).select(".svg-container"),ee=se.append("div"),F=Z.node().style,O=parseFloat(F.fontSize||12),void 0===(Y=ne.text)&&(Y=Z.attr("data-unformatted")),ee.classed("plugin-editable editable",!0).style({position:"absolute","font-family":F.fontFamily||"Arial","font-size":O,color:ne.fill||F.fill||"black",opacity:1,"background-color":ne.background||"transparent",outline:"#ffffff33 1px solid",margin:[-O/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(Y).call(W(Z,se,ne)).on("blur",function(){te._editing=!1,Z.text(this.textContent).style({opacity:1});var B,ae=s.select(this).attr("class");(B=ae?"."+ae.split(" ")[0]+"-math-group":"[class*=-math-group]")&&s.select(Z.node().parentNode).select(B).style({opacity:0});var ue=this.textContent;s.select(this).transition().duration(0).remove(),s.select(document).on("mouseup",null),Ce.edit.call(Z,ue)}).on("focus",function(){var B=this;te._editing=!0,s.select(document).on("mouseup",function(){if(s.event.target===B)return!1;document.activeElement===ee.node()&&ee.node().blur()})}).on("keyup",function(){27===s.event.which?(te._editing=!1,Z.style({opacity:1}),s.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),Ce.cancel.call(Z,this.textContent)):(Ce.input.call(Z,this.textContent),s.select(this).call(W(Z,se,ne)))}).on("keydown",function(){13===s.event.which&&this.blur()}).call(le),Z.style({opacity:0});var j,$=ie.attr("class");(j=$?"."+$.split(" ")[0]+"-math-group":"[class*=-math-group]")&&s.select(Z.node().parentNode).select(j).style({opacity:0})}function le(j){var $=j.node(),se=document.createRange();se.selectNodeContents($);var ee=window.getSelection();ee.removeAllRanges(),ee.addRange(se),$.focus()}return ne.immediate?Q():ie.on("click",Q),s.rebind(Z,Ce,"on")}},{"../constants/alignment":207,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],256:[function(v,pe,J){"use strict";var s={};function g(p){p&&null!==p.timer&&(clearTimeout(p.timer),p.timer=null)}J.throttle=function(p,c,l){var m=s[p],d=Date.now();if(!m){for(var h in s)s[h].ts<d-6e4&&delete s[h];m=s[p]={ts:0,timer:null}}function u(){l(),m.ts=Date.now(),m.onDone&&(m.onDone(),m.onDone=null)}g(m),d>m.ts+c?u():m.timer=setTimeout(function(){u(),m.timer=null},c)},J.done=function(p){var c=s[p];return c&&c.timer?new Promise(function(l){var m=c.onDone;c.onDone=function(){m&&m(),l(),c.onDone=null}}):Promise.resolve()},J.clear=function(p){if(p)g(s[p]),delete s[p];else for(var c in s)J.clear(c)}},{}],257:[function(v,pe,J){"use strict";var s=v("fast-isnumeric");pe.exports=function(g,p){if(g>0)return Math.log(g)/Math.LN10;var c=Math.log(Math.min(p[0],p[1]))/Math.LN10;return s(c)||(c=Math.log(Math.max(p[0],p[1]))/Math.LN10-6),c}},{"fast-isnumeric":17}],258:[function(v,pe,J){"use strict";pe.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],259:[function(v,pe,J){"use strict";pe.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],260:[function(v,pe,J){"use strict";var s=v("../registry");pe.exports=function(g){for(var p,c,l=s.layoutArrayContainers,m=s.layoutArrayRegexes,d=g.split("[")[0],h=0;h<m.length;h++)if((c=g.match(m[h]))&&0===c.index){p=c[0];break}if(p||(p=l[l.indexOf(d)]),!p)return!1;var u=g.substr(p.length);return u?!!(c=u.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:p,index:Number(c[1]),property:c[3]||""}:{array:p,index:"",property:""}}},{"../registry":318}],261:[function(v,pe,J){"use strict";var s=v("../lib"),g=s.extendFlat,p=s.isPlainObject,c={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},l={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},m=c.flags.slice().concat(["fullReplot"]),d=l.flags.slice().concat("layoutReplot");function h(b){for(var M={},w=0;w<b.length;w++)M[b[w]]=!1;return M}function u(b,M,w){var N=g({},b);for(var A in N){var k=N[A];p(k)&&(N[A]=C(k,M,0,A))}return"from-root"===w&&(N.editType=M),N}function C(b,M,w,N){if(b.valType){var A=g({},b);if(A.editType=M,Array.isArray(b.items)){A.items=new Array(b.items.length);for(var k=0;k<b.items.length;k++)A.items[k]=C(b.items[k],M)}return A}return u(b,M,"_"===N.charAt(0)?"nested":"from-root")}pe.exports={traces:c,layout:l,traceFlags:function(){return h(m)},layoutFlags:function(){return h(d)},update:function(b,M){var w=M.editType;if(w&&"none"!==w)for(var N=w.split("+"),A=0;A<N.length;A++)b[N[A]]=!0},overrideAll:u}},{"../lib":232}],262:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("gl-mat4/fromQuat"),p=v("../registry"),c=v("../lib"),l=v("../plots/plots"),m=v("../plots/cartesian/axis_ids"),d=v("../components/color"),h=m.cleanId,u=m.getFromTrace,C=p.traceIs;function b(D,E){var P=D[E],S=E.charAt(0);P&&"paper"!==P&&(D[E]=h(P,S,!0))}function M(D){function E(P,S){D[P]&&(!D.title||!D.title[S])&&(D.title||(D.title={}),D.title[S]=D[P],delete D[P])}D&&("string"!=typeof D.title&&"number"!=typeof D.title||(D.title={text:D.title}),E("titlefont","font"),E("titleposition","position"),E("titleside","side"),E("titleoffset","offset"))}function w(D){if(!c.isPlainObject(D))return!1;var E=D.name;return delete D.name,delete D.showlegend,("string"==typeof E||"number"==typeof E)&&String(E)}function N(D,E,P,S){if(P&&!S)return D;if(S&&!P||!D.trim())return E;if(!E.trim())return D;var R,G=Math.min(D.length,E.length);for(R=0;R<G&&D.charAt(R)===E.charAt(R);R++);return D.substr(0,R).trim()}function A(D){var E="middle",P="center";return"string"==typeof D&&(-1!==D.indexOf("top")?E="top":-1!==D.indexOf("bottom")&&(E="bottom"),-1!==D.indexOf("left")?P="left":-1!==D.indexOf("right")&&(P="right")),E+" "+P}function k(D,E){return E in D&&"object"==typeof D[E]&&0===Object.keys(D[E]).length}J.clearPromiseQueue=function(D){Array.isArray(D._promises)&&D._promises.length>0&&c.log("Clearing previous rejected promises from queue."),D._promises=[]},J.cleanLayout=function(D){var E,P;D||(D={}),D.xaxis1&&(D.xaxis||(D.xaxis=D.xaxis1),delete D.xaxis1),D.yaxis1&&(D.yaxis||(D.yaxis=D.yaxis1),delete D.yaxis1),D.scene1&&(D.scene||(D.scene=D.scene1),delete D.scene1);var S=(l.subplotsRegistry.cartesian||{}).attrRegex,R=(l.subplotsRegistry.polar||{}).attrRegex,G=(l.subplotsRegistry.ternary||{}).attrRegex,z=(l.subplotsRegistry.gl3d||{}).attrRegex,X=Object.keys(D);for(E=0;E<X.length;E++){var W=X[E];if(S&&S.test(W)){var Z=D[W];Z.anchor&&"free"!==Z.anchor&&(Z.anchor=h(Z.anchor)),Z.overlaying&&(Z.overlaying=h(Z.overlaying)),Z.type||(Z.isdate?Z.type="date":Z.islog?Z.type="log":!1===Z.isdate&&!1===Z.islog&&(Z.type="linear")),"withzero"!==Z.autorange&&"tozero"!==Z.autorange||(Z.autorange=!0,Z.rangemode="tozero"),delete Z.islog,delete Z.isdate,delete Z.categories,k(Z,"domain")&&delete Z.domain,void 0!==Z.autotick&&(void 0===Z.tickmode&&(Z.tickmode=Z.autotick?"auto":"linear"),delete Z.autotick),M(Z)}else if(R&&R.test(W))M(D[W].radialaxis);else if(G&&G.test(W)){var ne=D[W];M(ne.aaxis),M(ne.baxis),M(ne.caxis)}else if(z&&z.test(W)){var te=D[W],oe=te.cameraposition;if(Array.isArray(oe)&&4===oe[0].length){var ie=oe[1],Q=oe[2],le=g([],oe[0]),j=[];for(P=0;P<3;++P)j[P]=ie[P]+Q*le[2+4*P];te.camera={eye:{x:j[0],y:j[1],z:j[2]},center:{x:ie[0],y:ie[1],z:ie[2]},up:{x:0,y:0,z:1}},delete te.cameraposition}M(te.xaxis),M(te.yaxis),M(te.zaxis)}}var $=Array.isArray(D.annotations)?D.annotations.length:0;for(E=0;E<$;E++){var se=D.annotations[E];c.isPlainObject(se)&&(se.ref&&("paper"===se.ref?(se.xref="paper",se.yref="paper"):"data"===se.ref&&(se.xref="x",se.yref="y"),delete se.ref),b(se,"xref"),b(se,"yref"))}var ee=Array.isArray(D.shapes)?D.shapes.length:0;for(E=0;E<ee;E++){var F=D.shapes[E];c.isPlainObject(F)&&(b(F,"xref"),b(F,"yref"))}var O=Array.isArray(D.images)?D.images.length:0;for(E=0;E<O;E++){var Y=D.images[E];c.isPlainObject(Y)&&(b(Y,"xref"),b(Y,"yref"))}var B=D.legend;return B&&(B.x>3?(B.x=1.02,B.xanchor="left"):B.x<-2&&(B.x=-.02,B.xanchor="right"),B.y>3?(B.y=1.02,B.yanchor="bottom"):B.y<-2&&(B.y=-.02,B.yanchor="top")),M(D),"rotate"===D.dragmode&&(D.dragmode="orbit"),d.clean(D),D.template&&D.template.layout&&J.cleanLayout(D.template.layout),D},J.cleanData=function(D){for(var E=0;E<D.length;E++){var P,S=D[E];if("histogramy"===S.type&&"xbins"in S&&!("ybins"in S)&&(S.ybins=S.xbins,delete S.xbins),S.error_y&&"opacity"in S.error_y){var R=d.defaults,G=S.error_y.color||(C(S,"bar")?d.defaultLine:R[E%R.length]);S.error_y.color=d.addOpacity(d.rgb(G),d.opacity(G)*S.error_y.opacity),delete S.error_y.opacity}if("bardir"in S&&("h"!==S.bardir||!C(S,"bar")&&"histogram"!==S.type.substr(0,9)||(S.orientation="h",J.swapXYData(S)),delete S.bardir),"histogramy"===S.type&&J.swapXYData(S),"histogramx"!==S.type&&"histogramy"!==S.type||(S.type="histogram"),"scl"in S&&!("colorscale"in S)&&(S.colorscale=S.scl,delete S.scl),"reversescl"in S&&!("reversescale"in S)&&(S.reversescale=S.reversescl,delete S.reversescl),S.xaxis&&(S.xaxis=h(S.xaxis,"x")),S.yaxis&&(S.yaxis=h(S.yaxis,"y")),C(S,"gl3d")&&S.scene&&(S.scene=l.subplotsRegistry.gl3d.cleanId(S.scene)),!C(S,"pie-like")&&!C(S,"bar-like"))if(Array.isArray(S.textposition))for(P=0;P<S.textposition.length;P++)S.textposition[P]=A(S.textposition[P]);else S.textposition&&(S.textposition=A(S.textposition));var z=p.getModule(S);if(z&&z.colorbar){var X=z.colorbar.container,W=X?S[X]:S;W&&W.colorscale&&("YIGnBu"===W.colorscale&&(W.colorscale="YlGnBu"),"YIOrRd"===W.colorscale&&(W.colorscale="YlOrRd"))}if("surface"===S.type&&c.isPlainObject(S.contours)){var Z=["x","y","z"];for(P=0;P<Z.length;P++){var ne=S.contours[Z[P]];c.isPlainObject(ne)&&(ne.highlightColor&&(ne.highlightcolor=ne.highlightColor,delete ne.highlightColor),ne.highlightWidth&&(ne.highlightwidth=ne.highlightWidth,delete ne.highlightWidth))}}if("candlestick"===S.type||"ohlc"===S.type){var te=!1!==(S.increasing||{}).showlegend,oe=!1!==(S.decreasing||{}).showlegend,Ce=w(S.increasing),ie=w(S.decreasing);if(!1!==Ce&&!1!==ie){var Q=N(Ce,ie,te,oe);Q&&(S.name=Q)}else!Ce&&!ie||S.name||(S.name=Ce||ie)}if(Array.isArray(S.transforms)){var le=S.transforms;for(P=0;P<le.length;P++){var j=le[P];if(c.isPlainObject(j))switch(j.type){case"filter":j.filtersrc&&(j.target=j.filtersrc,delete j.filtersrc),j.calendar&&(j.valuecalendar||(j.valuecalendar=j.calendar),delete j.calendar);break;case"groupby":if(j.styles=j.styles||j.style,j.styles&&!Array.isArray(j.styles)){var $=j.styles,se=Object.keys($);j.styles=[];for(var ee=0;ee<se.length;ee++)j.styles.push({target:se[ee],value:$[se[ee]]})}}}}k(S,"line")&&delete S.line,"marker"in S&&(k(S.marker,"line")&&delete S.marker.line,k(S,"marker")&&delete S.marker),d.clean(S),S.autobinx&&(delete S.autobinx,delete S.xbins),S.autobiny&&(delete S.autobiny,delete S.ybins),M(S),S.colorbar&&M(S.colorbar),S.marker&&S.marker.colorbar&&M(S.marker.colorbar),S.line&&S.line.colorbar&&M(S.line.colorbar),S.aaxis&&M(S.aaxis),S.baxis&&M(S.baxis)}},J.swapXYData=function(D){var E;if(c.swapAttrs(D,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(D.z)&&Array.isArray(D.z[0])&&(D.transpose?delete D.transpose:D.transpose=!0),D.error_x&&D.error_y){var P=D.error_y,S="copy_ystyle"in P?P.copy_ystyle:!(P.color||P.thickness||P.width);c.swapAttrs(D,["error_?.copy_ystyle"]),S&&c.swapAttrs(D,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof D.hoverinfo){var R=D.hoverinfo.split("+");for(E=0;E<R.length;E++)"x"===R[E]?R[E]="y":"y"===R[E]&&(R[E]="x");D.hoverinfo=R.join("+")}},J.coerceTraceIndices=function(D,E){if(s(E))return[E];if(!Array.isArray(E)||!E.length)return D.data.map(function(R,G){return G});if(Array.isArray(E)){for(var P=[],S=0;S<E.length;S++)c.isIndex(E[S],D.data.length)?P.push(E[S]):c.warn("trace index (",E[S],") is not a number or is out of bounds");return P}return E},J.manageArrayContainers=function(D,E,P){var S=D.obj,R=D.parts,G=R.length,z=R[G-1],X=s(z);if(X&&null===E){var W=R.slice(0,G-1).join(".");c.nestedProperty(S,W).get().splice(z,1)}else X&&void 0===D.get()&&void 0===D.get()&&(P[D.astr]=null),D.set(E)};var H=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function L(D){var E=D.search(H);if(E>0)return D.substr(0,E)}J.hasParent=function(D,E){for(var P=L(E);P;){if(P in D)return!0;P=L(P)}return!1};var I=["x","y","z"];J.clearAxisTypes=function(D,E,P){for(var S=0;S<E.length;S++)for(var R=D._fullData[S],G=0;G<3;G++){var z=u(D,R,I[G]);if(z&&"log"!==z.type){var X=z._name,W=z._id.substr(1);if("scene"===W.substr(0,5)){if(void 0!==P[W])continue;X=W+"."+X}var Z=X+".type";void 0===P[X]&&void 0===P[Z]&&c.nestedProperty(D.layout,Z).set(null)}}}},{"../components/color":102,"../lib":232,"../plots/cartesian/axis_ids":283,"../plots/plots":316,"../registry":318,"fast-isnumeric":17,"gl-mat4/fromQuat":23}],263:[function(v,pe,J){"use strict";var s=v("./plot_api");J._doPlot=s._doPlot,J.newPlot=s.newPlot,J.restyle=s.restyle,J.relayout=s.relayout,J.redraw=s.redraw,J.update=s.update,J._guiRestyle=s._guiRestyle,J._guiRelayout=s._guiRelayout,J._guiUpdate=s._guiUpdate,J._storeDirectGUIEdit=s._storeDirectGUIEdit,J.react=s.react,J.extendTraces=s.extendTraces,J.prependTraces=s.prependTraces,J.addTraces=s.addTraces,J.deleteTraces=s.deleteTraces,J.moveTraces=s.moveTraces,J.purge=s.purge,J.addFrames=s.addFrames,J.deleteFrames=s.deleteFrames,J.animate=s.animate,J.setPlotConfig=s.setPlotConfig,J.toImage=v("./to_image"),J.validate=v("./validate"),J.downloadImage=v("../snapshot/download");var g=v("./template_api");J.makeTemplate=g.makeTemplate,J.validateTemplate=g.validateTemplate},{"../snapshot/download":320,"./plot_api":265,"./template_api":270,"./to_image":271,"./validate":272}],264:[function(v,pe,J){"use strict";var s=v("../lib/is_plain_object"),g=v("../lib/noop"),p=v("../lib/loggers"),c=v("../lib/search").sorterAsc,l=v("../registry");J.containerArrayMatch=v("./container_array_match");var m=J.isAddVal=function(h){return"add"===h||s(h)},d=J.isRemoveVal=function(h){return null===h||"remove"===h};J.applyContainerArrayChanges=function(h,u,C,b,M){var w=u.astr,N=l.getComponentMethod(w,"supplyLayoutDefaults"),A=l.getComponentMethod(w,"draw"),k=l.getComponentMethod(w,"drawOne"),H=b.replot||b.recalc||N===g||A===g,L=h.layout,I=h._fullLayout;if(C[""]){Object.keys(C).length>1&&p.warn("Full array edits are incompatible with other edits",w);var D=C[""][""];if(d(D))u.set(null);else{if(!Array.isArray(D))return p.warn("Unrecognized full array edit value",w,D),!0;u.set(D)}return!H&&(N(L,I),A(h),!0)}var E,P,S,R,G,z,X,Z=Object.keys(C).map(Number).sort(c),ne=u.get(),te=ne||[],oe=M(I,w).get(),Ce=[],ie=-1,Q=te.length;for(E=0;E<Z.length;E++)if(R=C[S=Z[E]],G=Object.keys(R),X=m(z=R[""]),S<0||S>te.length-(X?0:1))p.warn("index out of range",w,S);else if(void 0!==z)G.length>1&&p.warn("Insertion & removal are incompatible with edits to the same index.",w,S),d(z)?Ce.push(S):X?("add"===z&&(z={}),te.splice(S,0,z),oe&&oe.splice(S,0,{})):p.warn("Unrecognized full object edit value",w,S,z),-1===ie&&(ie=S);else for(P=0;P<G.length;P++)M(te[S],G[P],w+"["+S+"].").set(R[G[P]]);for(E=Ce.length-1;E>=0;E--)te.splice(Ce[E],1),oe&&oe.splice(Ce[E],1);if(te.length?ne||u.set(te):u.set(null),H)return!1;if(N(L,I),k!==g){var le;if(-1===ie)le=Z;else{for(Q=Math.max(te.length,Q),le=[],E=0;E<Z.length&&!((S=Z[E])>=ie);E++)le.push(S);for(E=ie;E<Q;E++)le.push(E)}for(E=0;E<le.length;E++)k(h,le[E])}else A(h);return!0}},{"../lib/is_plain_object":233,"../lib/loggers":236,"../lib/noop":241,"../lib/search":251,"../registry":318,"./container_array_match":260}],265:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("fast-isnumeric"),p=v("has-hover"),c=v("../lib"),l=c.nestedProperty,m=v("../lib/events"),d=v("../lib/queue"),h=v("../registry"),u=v("./plot_schema"),C=v("../plots/plots"),b=v("../plots/cartesian/axes"),M=v("../components/drawing"),w=v("../components/color"),N=v("../plots/cartesian/graph_interact").initInteractions,A=v("../constants/xmlns_namespaces"),k=v("../plots/cartesian/select").clearSelect,H=v("./plot_config").dfltConfig,L=v("./manage_arrays"),I=v("./helpers"),D=v("./subroutines"),E=v("./edit_types"),P=v("../plots/cartesian/constants").AX_NAME_PATTERN,S=0;function R(Me){var ve=Me._fullLayout;ve._redrawFromAutoMarginCount?ve._redrawFromAutoMarginCount--:Me.emit("plotly_afterplot")}function G(Me,ve){try{Me._fullLayout._paper.style("background",ve)}catch(Se){c.error(Se)}}function z(Me,ve){G(Me,w.combine(ve,"white"))}function X(Me,ve){if(!Me._context){Me._context=c.extendDeep({},H);var Se=s.select("base");Me._context._baseUrl=Se.size()&&Se.attr("href")?window.location.href.split("#")[0]:""}var Te,qe,Oe,Fe=Me._context;if(ve){for(qe=Object.keys(ve),Te=0;Te<qe.length;Te++)"editable"!==(Oe=qe[Te])&&"edits"!==Oe&&Oe in Fe&&(Fe[Oe]="setBackground"===Oe&&"opaque"===ve[Oe]?z:ve[Oe]);ve.plot3dPixelRatio&&!Fe.plotGlPixelRatio&&(Fe.plotGlPixelRatio=Fe.plot3dPixelRatio);var Qe=ve.editable;if(void 0!==Qe)for(Fe.editable=Qe,qe=Object.keys(Fe.edits),Te=0;Te<qe.length;Te++)Fe.edits[qe[Te]]=Qe;if(ve.edits)for(qe=Object.keys(ve.edits),Te=0;Te<qe.length;Te++)(Oe=qe[Te])in Fe.edits&&(Fe.edits[Oe]=ve.edits[Oe]);Fe._exportedPlot=ve._exportedPlot}Fe.staticPlot&&(Fe.editable=!1,Fe.edits={},Fe.autosizable=!1,Fe.scrollZoom=!1,Fe.doubleClick=!1,Fe.showTips=!1,Fe.showLink=!1,Fe.displayModeBar=!1),"hover"!==Fe.displayModeBar||p||(Fe.displayModeBar=!0),"transparent"!==Fe.setBackground&&"function"==typeof Fe.setBackground||(Fe.setBackground=G),Fe._hasZeroHeight=Fe._hasZeroHeight||0===Me.clientHeight,Fe._hasZeroWidth=Fe._hasZeroWidth||0===Me.clientWidth;var nt=Fe.scrollZoom,Ye=Fe._scrollZoom={};if(!0===nt)Ye.cartesian=1,Ye.gl3d=1,Ye.geo=1,Ye.mapbox=1;else if("string"==typeof nt){var rt=nt.split("+");for(Te=0;Te<rt.length;Te++)Ye[rt[Te]]=1}else!1!==nt&&(Ye.gl3d=1,Ye.geo=1,Ye.mapbox=1)}function W(Me,ve){var Se,Te,qe=ve+1,Oe=[];for(Se=0;Se<Me.length;Se++)(Te=Me[Se])<0?Oe.push(qe+Te):Oe.push(Te);return Oe}function Z(Me,ve,Se){var Te,qe;for(Te=0;Te<ve.length;Te++){if((qe=ve[Te])!==parseInt(qe,10))throw new Error("all values in "+Se+" must be integers");if(qe>=Me.data.length||qe<-Me.data.length)throw new Error(Se+" must be valid indices for gd.data.");if(ve.indexOf(qe,Te+1)>-1||qe>=0&&ve.indexOf(-Me.data.length+qe)>-1||qe<0&&ve.indexOf(Me.data.length+qe)>-1)throw new Error("each index in "+Se+" must be unique.")}}function ne(Me,ve,Se){if(!Array.isArray(Me.data))throw new Error("gd.data must be an array.");if(void 0===ve)throw new Error("currentIndices is a required argument.");if(Array.isArray(ve)||(ve=[ve]),Z(Me,ve,"currentIndices"),void 0===Se||Array.isArray(Se)||(Se=[Se]),void 0!==Se&&Z(Me,Se,"newIndices"),void 0!==Se&&ve.length!==Se.length)throw new Error("current and new indices must be of equal length.")}function te(Me,ve,Se,Te,qe){!function(Xe,gt,xt,bt){var Ot=c.isPlainObject(bt);if(!Array.isArray(Xe.data))throw new Error("gd.data must be an array");if(!c.isPlainObject(gt))throw new Error("update must be a key:value object");if(void 0===xt)throw new Error("indices must be an integer or array of integers");for(var wt in Z(Xe,xt,"indices"),gt){if(!Array.isArray(gt[wt])||gt[wt].length!==xt.length)throw new Error("attribute "+wt+" must be an array of length equal to indices array length");if(Ot&&(!(wt in bt)||!Array.isArray(bt[wt])||bt[wt].length!==gt[wt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(Me,ve,Se,Te);for(var Oe=function(Xe,gt,xt,bt){var wt,Be,Ge,vt,Pt=c.isPlainObject(bt),Jt=[];for(var tn in Array.isArray(xt)||(xt=[xt]),xt=W(xt,Xe.data.length-1),gt)for(var Kt=0;Kt<xt.length;Kt++){if(wt=(Be=l(Xe.data[xt[Kt]],tn)).get(),!c.isArrayOrTypedArray(Ge=gt[tn][Kt]))throw new Error("attribute: "+tn+" index: "+Kt+" must be an array");if(!c.isArrayOrTypedArray(wt))throw new Error("cannot extend missing or non-array attribute: "+tn);if(wt.constructor!==Ge.constructor)throw new Error("cannot extend array with an array of a different type: "+tn);g(vt=Pt?bt[tn][Kt]:bt)||(vt=-1),Jt.push({prop:Be,target:wt,insert:Ge,maxp:Math.floor(vt)})}return Jt}(Me,ve,Se,Te),Fe={},Qe={},nt=0;nt<Oe.length;nt++){var Ye=Oe[nt].prop,ht=qe(Oe[nt].target,Oe[nt].insert,Oe[nt].maxp);Ye.set(ht[0]),Array.isArray(Fe[Ye.astr])||(Fe[Ye.astr]=[]),Fe[Ye.astr].push(ht[1]),Array.isArray(Qe[Ye.astr])||(Qe[Ye.astr]=[]),Qe[Ye.astr].push(Oe[nt].target.length)}return{update:Fe,maxPoints:Qe}}function oe(Me,ve){var Se=new Me.constructor(Me.length+ve.length);return Se.set(Me),Se.set(ve,Me.length),Se}function Ce(Me,ve,Se,Te){Me=c.getGraphDiv(Me),I.clearPromiseQueue(Me);var qe={};if("string"==typeof ve)qe[ve]=Se;else{if(!c.isPlainObject(ve))return c.warn("Restyle fail.",ve,Se,Te),Promise.reject();qe=c.extendFlat({},ve),void 0===Te&&(Te=Se)}Object.keys(qe).length&&(Me.changed=!0);var Oe=I.coerceTraceIndices(Me,Te),Fe=j(Me,qe,Oe),Qe=Fe.flags;Qe.calc&&(Me.calcdata=void 0),Qe.clearAxisTypes&&I.clearAxisTypes(Me,Oe,{});var nt=[];Qe.fullReplot?nt.push(J._doPlot):(nt.push(C.previousPromises),C.supplyDefaults(Me),Qe.markerSize&&(C.doCalcdata(Me),F(nt)),Qe.style&&nt.push(D.doTraceStyle),Qe.colorbars&&nt.push(D.doColorBars),nt.push(R)),nt.push(C.rehover,C.redrag),d.add(Me,Ce,[Me,Fe.undoit,Fe.traces],Ce,[Me,Fe.redoit,Fe.traces]);var Ye=c.syncOrAsync(nt,Me);return Ye&&Ye.then||(Ye=Promise.resolve()),Ye.then(function(){return Me.emit("plotly_restyle",Fe.eventData),Me})}function ie(Me){return void 0===Me?null:Me}function Q(Me,ve){return ve?function(Se,Te,qe){var Oe=l(Se,Te),Fe=Oe.set;return Oe.set=function(Qe){le((qe||"")+Te,Oe.get(),Qe,Me),Fe(Qe)},Oe}:l}function le(Me,ve,Se,Te){if(Array.isArray(ve)||Array.isArray(Se))for(var qe=Array.isArray(ve)?ve:[],Oe=Array.isArray(Se)?Se:[],Fe=Math.max(qe.length,Oe.length),Qe=0;Qe<Fe;Qe++)le(Me+"["+Qe+"]",qe[Qe],Oe[Qe],Te);else if(c.isPlainObject(ve)||c.isPlainObject(Se)){var nt=c.isPlainObject(ve)?ve:{},Ye=c.isPlainObject(Se)?Se:{},rt=c.extendFlat({},nt,Ye);for(var ht in rt)le(Me+"."+ht,nt[ht],Ye[ht],Te)}else void 0===Te[Me]&&(Te[Me]=ie(ve))}function j(Me,ve,Se){var Te,qe=Me._fullLayout,Oe=Me._fullData,Fe=Me.data,Qe=qe._guiEditing,nt=Q(qe._preGUI,Qe),Ye=c.extendDeepAll({},ve);$(ve);var rt,ht=E.traceFlags(),Xe={},gt={};function xt(){return Se.map(function(){})}function bt(jt){var en=b.id2name(jt);-1===rt.indexOf(en)&&rt.push(en)}function Ot(jt){return"LAYOUT"+jt+".autorange"}function wt(jt){return"LAYOUT"+jt+".range"}function Be(jt){for(var en=jt;en<Oe.length;en++)if(Oe[en]._input===Fe[jt])return Oe[en]}function Ge(jt,en,Ft){if(Array.isArray(jt))jt.forEach(function(Sn){Ge(Sn,en,Ft)});else if(!(jt in ve)&&!I.hasParent(ve,jt)){var wn;if("LAYOUT"===jt.substr(0,6))wn=nt(Me.layout,jt.replace("LAYOUT",""));else{var bn=Se[Ft];wn=Q(qe._tracePreGUI[Be(bn)._fullInput.uid],Qe)(Fe[bn],jt)}jt in gt||(gt[jt]=xt()),void 0===gt[jt][Ft]&&(gt[jt][Ft]=ie(wn.get())),void 0!==en&&wn.set(en)}}function vt(jt){return function(en){return Oe[en][jt]}}function Pt(jt){return function(en,Ft){return!1===en?Oe[Se[Ft]][jt]:null}}for(var Jt in ve){if(I.hasParent(ve,Jt))throw new Error("cannot set "+Jt+" and a parent attribute simultaneously");var tn,Kt,qt,Nt,ge,_e,We=ve[Jt];if("autobinx"!==Jt&&"autobiny"!==Jt||(Jt=Jt.charAt(Jt.length-1)+"bins",We=Array.isArray(We)?We.map(Pt(Jt)):!1===We?Se.map(vt(Jt)):null),Xe[Jt]=We,"LAYOUT"!==Jt.substr(0,6)){for(gt[Jt]=xt(),Te=0;Te<Se.length;Te++)if(tn=Fe[Se[Te]],Kt=Be(Se[Te]),Nt=(qt=Q(qe._tracePreGUI[Kt._fullInput.uid],Qe)(tn,Jt)).get(),void 0!==(ge=Array.isArray(We)?We[Te%We.length]:We)){var Je=qt.parts[qt.parts.length-1],ft=Jt.substr(0,Jt.length-Je.length-1),st=ft?ft+".":"",et=ft?l(Kt,ft).get():Kt;if((_e=u.getTraceValObject(Kt,qt.parts))&&_e.impliedEdits&&null!==ge)for(var ut in _e.impliedEdits)Ge(c.relativeAttr(Jt,ut),_e.impliedEdits[ut],Te);else if("thicknessmode"!==Je&&"lenmode"!==Je||Nt===ge||"fraction"!==ge&&"pixels"!==ge||!et){if("type"===Jt&&("pie"===ge!=("pie"===Nt)||"funnelarea"===ge!=("funnelarea"===Nt))){var St="x",Vt="y";"bar"!==ge&&"bar"!==Nt||"h"!==tn.orientation||(St="y",Vt="x"),c.swapAttrs(tn,["?","?src"],"labels",St),c.swapAttrs(tn,["d?","?0"],"label",St),c.swapAttrs(tn,["?","?src"],"values",Vt),"pie"===Nt||"funnelarea"===Nt?(l(tn,"marker.color").set(l(tn,"marker.colors").get()),qe._pielayer.selectAll("g.trace").remove()):h.traceIs(tn,"cartesian")&&l(tn,"marker.colors").set(l(tn,"marker.color").get())}}else{var Bt=qe._size,an=et.orient,Tt="top"===an||"bottom"===an;if("thicknessmode"===Je){var Wt=Tt?Bt.h:Bt.w;Ge(st+"thickness",et.thickness*("fraction"===ge?1/Wt:Wt),Te)}else{var dn=Tt?Bt.w:Bt.h;Ge(st+"len",et.len*("fraction"===ge?1/dn:dn),Te)}}if(gt[Jt][Te]=ie(Nt),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Jt)){if("orientation"===Jt){qt.set(ge);var At=tn.x&&!tn.y?"h":"v";if((qt.get()||At)===Kt.orientation)continue}else"orientationaxes"===Jt&&(tn.orientation={v:"h",h:"v"}[Kt.orientation]);I.swapXYData(tn),ht.calc=ht.clearAxisTypes=!0}else-1!==C.dataArrayContainers.indexOf(qt.parts[0])?(I.manageArrayContainers(qt,ge,gt),ht.calc=!0):(_e?_e.arrayOk&&!h.traceIs(Kt,"regl")&&(c.isArrayOrTypedArray(ge)||c.isArrayOrTypedArray(Nt))?ht.calc=!0:E.update(ht,_e):ht.calc=!0,qt.set(ge))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Jt)&&b.swap(Me,Se),"orientationaxes"===Jt){var zt=l(Me.layout,"hovermode"),sn=zt.get();"x"===sn?zt.set("y"):"y"===sn?zt.set("x"):"x unified"===sn?zt.set("y unified"):"y unified"===sn&&zt.set("x unified")}if(-1!==["orientation","type"].indexOf(Jt)){for(rt=[],Te=0;Te<Se.length;Te++){var Qt=Fe[Se[Te]];h.traceIs(Qt,"cartesian")&&(bt(Qt.xaxis||"x"),bt(Qt.yaxis||"y"))}Ge(rt.map(Ot),!0,0),Ge(rt.map(wt),[0,1],0)}}else qt=nt(Me.layout,Jt.replace("LAYOUT","")),gt[Jt]=[ie(qt.get())],qt.set(Array.isArray(We)?We[0]:We),ht.calc=!0}return(ht.calc||ht.plot)&&(ht.fullReplot=!0),{flags:ht,undoit:gt,redoit:Xe,traces:Se,eventData:c.extendDeepNoArrays([],[Ye,Se])}}function $(Me){var ve,Se,Te,qe=c.counterRegex("axis",".title",!1,!1),Oe=/colorbar\.title$/,Fe=Object.keys(Me);for(ve=0;ve<Fe.length;ve++)Te=Me[Se=Fe[ve]],"title"!==Se&&!qe.test(Se)&&!Oe.test(Se)||"string"!=typeof Te&&"number"!=typeof Te?Se.indexOf("titlefont")>-1&&-1===Se.indexOf("grouptitlefont")?Qe(Se,Se.replace("titlefont","title.font")):Se.indexOf("titleposition")>-1?Qe(Se,Se.replace("titleposition","title.position")):Se.indexOf("titleside")>-1?Qe(Se,Se.replace("titleside","title.side")):Se.indexOf("titleoffset")>-1&&Qe(Se,Se.replace("titleoffset","title.offset")):Qe(Se,Se.replace("title","title.text"));function Qe(nt,Ye){Me[Ye]=Me[nt],delete Me[nt]}}function se(Me,ve,Se){Me=c.getGraphDiv(Me),I.clearPromiseQueue(Me);var Te={};if("string"==typeof ve)Te[ve]=Se;else{if(!c.isPlainObject(ve))return c.warn("Relayout fail.",ve,Se),Promise.reject();Te=c.extendFlat({},ve)}Object.keys(Te).length&&(Me.changed=!0);var qe=ae(Me,Te),Oe=qe.flags;Oe.calc&&(Me.calcdata=void 0);var Fe=[C.previousPromises];Oe.layoutReplot?Fe.push(D.layoutReplot):Object.keys(Te).length&&(ee(Me,Oe,qe)||C.supplyDefaults(Me),Oe.legend&&Fe.push(D.doLegend),Oe.layoutstyle&&Fe.push(D.layoutStyles),Oe.axrange&&F(Fe,qe.rangesAltered),Oe.ticks&&Fe.push(D.doTicksRelayout),Oe.modebar&&Fe.push(D.doModeBar),Oe.camera&&Fe.push(D.doCamera),Oe.colorbars&&Fe.push(D.doColorBars),Fe.push(R)),Fe.push(C.rehover,C.redrag),d.add(Me,se,[Me,qe.undoit],se,[Me,qe.redoit]);var Qe=c.syncOrAsync(Fe,Me);return Qe&&Qe.then||(Qe=Promise.resolve(Me)),Qe.then(function(){return Me.emit("plotly_relayout",qe.eventData),Me})}function ee(Me,ve,Se){var Te=Me._fullLayout;if(!ve.axrange)return!1;for(var qe in ve)if("axrange"!==qe&&ve[qe])return!1;for(var Oe in Se.rangesAltered){var Fe=b.id2name(Oe),Qe=Me.layout[Fe],nt=Te[Fe];if(nt.autorange=Qe.autorange,Qe.range&&(nt.range=Qe.range.slice()),nt.cleanRange(),nt._matchGroup)for(var Ye in nt._matchGroup)if(Ye!==Oe){var rt=Te[b.id2name(Ye)];rt.autorange=nt.autorange,rt.range=nt.range.slice(),rt._input.range=nt.range.slice()}}return!0}function F(Me,ve){Me.push(k,D.doAutoRangeAndConstraints,ve?function(Te){var qe=[],Oe=!0;for(var Fe in ve){var Qe=b.getFromId(Te,Fe);if(qe.push(Fe),-1!==(Qe.ticklabelposition||"").indexOf("inside")&&Qe._anchorAxis&&qe.push(Qe._anchorAxis._id),Qe._matchGroup)for(var nt in Qe._matchGroup)ve[nt]||qe.push(nt);Qe.automargin&&(Oe=!1)}return b.draw(Te,qe,{skipTitle:Oe})}:function(Te){return b.draw(Te,"redraw")},D.drawData,D.finalDraw)}var O=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Y=/^[xyz]axis[0-9]*\.autorange$/,B=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ae(Me,ve){var Se,Te,qe,Oe=Me.layout,Fe=Me._fullLayout,nt=Q(Fe._preGUI,Fe._guiEditing),Ye=Object.keys(ve),rt=b.list(Me),ht=c.extendDeepAll({},ve),Xe={};for($(ve),Ye=Object.keys(ve),Te=0;Te<Ye.length;Te++)if(0===Ye[Te].indexOf("allaxes")){for(qe=0;qe<rt.length;qe++){var gt=rt[qe]._id.substr(1),xt=-1!==gt.indexOf("scene")?gt+".":"",bt=Ye[Te].replace("allaxes",xt+rt[qe]._name);ve[bt]||(ve[bt]=ve[Ye[Te]])}delete ve[Ye[Te]]}var Ot=E.layoutFlags(),wt={},Be={};function Ge(bn,Sn){if(Array.isArray(bn))bn.forEach(function(Wn){Ge(Wn,Sn)});else if(!(bn in ve)&&!I.hasParent(ve,bn)){var Ln=nt(Oe,bn);bn in Be||(Be[bn]=ie(Ln.get())),void 0!==Sn&&Ln.set(Sn)}}var vt,Pt={};function Jt(bn){var Sn=b.name2id(bn.split(".")[0]);return Pt[Sn]=1,Sn}for(var tn in ve){if(I.hasParent(ve,tn))throw new Error("cannot set "+tn+" and a parent attribute simultaneously");for(var Kt=nt(Oe,tn),qt=ve[tn],Nt=Kt.parts.length-1;Nt>0&&"string"!=typeof Kt.parts[Nt];)Nt--;var ge=Kt.parts[Nt],_e=Kt.parts[Nt-1]+"."+ge,We=Kt.parts.slice(0,Nt).join("."),Je=l(Me.layout,We).get(),ft=l(Fe,We).get(),st=Kt.get();if(void 0!==qt){wt[tn]=qt,Be[tn]="reverse"===ge?qt:ie(st);var et=u.getLayoutValObject(Fe,Kt.parts);if(et&&et.impliedEdits&&null!==qt)for(var ut in et.impliedEdits)Ge(c.relativeAttr(tn,ut),et.impliedEdits[ut]);if(-1!==["width","height"].indexOf(tn))if(qt){Ge("autosize",null);var St="height"===tn?"width":"height";Ge(St,Fe[St])}else Fe[tn]=Me._initialAutoSize[tn];else if("autosize"===tn)Ge("width",qt?null:Fe.width),Ge("height",qt?null:Fe.height);else if(_e.match(O))Jt(_e),l(Fe,We+"._inputRange").set(null);else if(_e.match(Y)){Jt(_e),l(Fe,We+"._inputRange").set(null);var Vt=l(Fe,We).get();Vt._inputDomain&&(Vt._input.domain=Vt._inputDomain.slice())}else _e.match(B)&&l(Fe,We+"._inputDomain").set(null);if("type"===ge){vt=Je;var Bt="linear"===ft.type&&"log"===qt;if(Bt||"log"===ft.type&&"linear"===qt){if(vt&&vt.range)if(ft.autorange)Bt&&(vt.range=vt.range[1]>vt.range[0]?[1,2]:[2,1]);else{var Tt=vt.range[0],Wt=vt.range[1];Bt?(Tt<=0&&Wt<=0&&Ge(We+".autorange",!0),Tt<=0?Tt=Wt/1e6:Wt<=0&&(Wt=Tt/1e6),Ge(We+".range[0]",Math.log(Tt)/Math.LN10),Ge(We+".range[1]",Math.log(Wt)/Math.LN10)):(Ge(We+".range[0]",Math.pow(10,Tt)),Ge(We+".range[1]",Math.pow(10,Wt)))}else Ge(We+".autorange",!0);Array.isArray(Fe._subplots.polar)&&Fe._subplots.polar.length&&Fe[Kt.parts[0]]&&"radialaxis"===Kt.parts[1]&&delete Fe[Kt.parts[0]]._subplot.viewInitial["radialaxis.range"],h.getComponentMethod("annotations","convertCoords")(Me,ft,qt,Ge),h.getComponentMethod("images","convertCoords")(Me,ft,qt,Ge)}else Ge(We+".autorange",!0),Ge(We+".range",null);l(Fe,We+"._inputRange").set(null)}else if(ge.match(P)){var dn=l(Fe,tn).get(),At=(qt||{}).type;At&&"-"!==At||(At="linear"),h.getComponentMethod("annotations","convertCoords")(Me,dn,At,Ge),h.getComponentMethod("images","convertCoords")(Me,dn,At,Ge)}var zt=L.containerArrayMatch(tn);if(zt){Se=zt.array;var sn=zt.property,Qt=et||{editType:"calc"};""!==(Te=zt.index)&&""===sn&&(L.isAddVal(qt)?Be[tn]=null:L.isRemoveVal(qt)?Be[tn]=(l(Oe,Se).get()||[])[Te]:c.warn("unrecognized full object value",ve)),E.update(Ot,Qt),Xe[Se]||(Xe[Se]={});var jt=Xe[Se][Te];jt||(jt=Xe[Se][Te]={}),jt[sn]=qt,delete ve[tn]}else"reverse"===ge?(Je.range?Je.range.reverse():(Ge(We+".autorange",!0),Je.range=[1,0]),ft.autorange?Ot.calc=!0:Ot.plot=!0):(Fe._has("scatter-like")&&Fe._has("regl")&&"dragmode"===tn&&("lasso"===qt||"select"===qt)&&"lasso"!==st&&"select"!==st||Fe._has("gl2d")?Ot.plot=!0:et?E.update(Ot,et):Ot.calc=!0,Kt.set(qt))}}for(Se in Xe)L.applyContainerArrayChanges(Me,nt(Oe,Se),Xe[Se],Ot,nt)||(Ot.plot=!0);for(var en in Pt){var Ft=(vt=b.getFromId(Me,en))&&vt._constraintGroup;if(Ft)for(var wn in Ot.calc=!0,Ft)Pt[wn]||(b.getFromId(Me,wn)._constraintShrinkable=!0)}return(ue(Me)||ve.height||ve.width)&&(Ot.plot=!0),(Ot.plot||Ot.calc)&&(Ot.layoutReplot=!0),{flags:Ot,rangesAltered:Pt,undoit:Be,redoit:wt,eventData:ht}}function ue(Me){var ve=Me._fullLayout,Se=ve.width,Te=ve.height;return Me.layout.autosize&&C.plotAutoSize(Me,Me.layout,ve),ve.width!==Se||ve.height!==Te}function fe(Me,ve,Se,Te){Me=c.getGraphDiv(Me),I.clearPromiseQueue(Me),c.isPlainObject(ve)||(ve={}),c.isPlainObject(Se)||(Se={}),Object.keys(ve).length&&(Me.changed=!0),Object.keys(Se).length&&(Me.changed=!0);var qe=I.coerceTraceIndices(Me,Te),Oe=j(Me,c.extendFlat({},ve),qe),Fe=Oe.flags,Qe=ae(Me,c.extendFlat({},Se)),nt=Qe.flags;(Fe.calc||nt.calc)&&(Me.calcdata=void 0),Fe.clearAxisTypes&&I.clearAxisTypes(Me,qe,Se);var Ye=[];nt.layoutReplot?Ye.push(D.layoutReplot):Fe.fullReplot?Ye.push(J._doPlot):(Ye.push(C.previousPromises),ee(Me,nt,Qe)||C.supplyDefaults(Me),Fe.style&&Ye.push(D.doTraceStyle),(Fe.colorbars||nt.colorbars)&&Ye.push(D.doColorBars),nt.legend&&Ye.push(D.doLegend),nt.layoutstyle&&Ye.push(D.layoutStyles),nt.axrange&&F(Ye,Qe.rangesAltered),nt.ticks&&Ye.push(D.doTicksRelayout),nt.modebar&&Ye.push(D.doModeBar),nt.camera&&Ye.push(D.doCamera),Ye.push(R)),Ye.push(C.rehover,C.redrag),d.add(Me,fe,[Me,Oe.undoit,Qe.undoit,Oe.traces],fe,[Me,Oe.redoit,Qe.redoit,Oe.traces]);var rt=c.syncOrAsync(Ye,Me);return rt&&rt.then||(rt=Promise.resolve(Me)),rt.then(function(){return Me.emit("plotly_update",{data:Oe.eventData,layout:Qe.eventData}),Me})}function he(Me){return function(ve){ve._fullLayout._guiEditing=!0;var Se=Me.apply(null,arguments);return ve._fullLayout._guiEditing=!1,Se}}var xe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],be=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function ke(Me,ve){for(var Se=0;Se<ve.length;Se++){var Te=ve[Se],qe=Me.match(Te.pattern);if(qe){var Oe=qe[1]||"";return{head:Oe,tail:Me.substr(Oe.length+1),attr:Te.attr}}}}function Pe(Me,ve){var Se=l(ve,Me).get();if(void 0!==Se)return Se;var Te=Me.split(".");for(Te.pop();Te.length>1;)if(Te.pop(),void 0!==(Se=l(ve,Te.join(".")+".uirevision").get()))return Se;return ve.uirevision}function Re(Me,ve){for(var Se=0;Se<ve.length;Se++)if(ve[Se]._fullInput.uid===Me)return Se;return-1}function Ue(Me,ve,Se){for(var Te=0;Te<ve.length;Te++)if(ve[Te].uid===Me)return Te;return!ve[Se]||ve[Se].uid?-1:Se}function tt(Me,ve){var Se=c.isPlainObject(Me),Te=Array.isArray(Me);return Se||Te?(Se&&c.isPlainObject(ve)||Te&&Array.isArray(ve))&&JSON.stringify(Me)===JSON.stringify(ve):Me===ve}function Ke(Me,ve,Se,Te){var qe,Oe,Fe,Qe=Te.getValObject,nt=Te.flags,Ye=Te.immutable,rt=Te.inArray,ht=Te.arrayIndex;function Xe(){var Je=qe.editType;rt&&-1!==Je.indexOf("arraydraw")?c.pushUnique(nt.arrays[rt],ht):(E.update(nt,qe),"none"!==Je&&nt.nChanges++,Te.transition&&qe.anim&&nt.nChangesAnim++,(O.test(Fe)||Y.test(Fe))&&(nt.rangesAltered[Se[0]]=1),B.test(Fe)&&l(ve,"_inputDomain").set(null),"datarevision"===Oe&&(nt.newDataRevision=1))}function gt(Je){return"data_array"===Je.valType||Je.arrayOk}for(Oe in Me){if(nt.calc&&!Te.transition)return;var xt=Me[Oe],bt=ve[Oe],Ot=Se.concat(Oe);if(Fe=Ot.join("."),"_"!==Oe.charAt(0)&&"function"!=typeof xt&&xt!==bt){if(("tick0"===Oe||"dtick"===Oe)&&"geo"!==Se[0]){var wt=ve.tickmode;if("auto"===wt||"array"===wt||!wt)continue}if(("range"!==Oe||!ve.autorange)&&("zmin"!==Oe&&"zmax"!==Oe||"contourcarpet"!==ve.type)&&(qe=Qe(Ot))&&(!qe._compareAsJSON||JSON.stringify(xt)!==JSON.stringify(bt))){var Be,Ge=qe.valType,vt=gt(qe),Pt=Array.isArray(xt),Jt=Array.isArray(bt);if(Pt&&Jt){var tn="_input_"+Oe,Kt=Me[tn],qt=ve[tn];if(Array.isArray(Kt)&&Kt===qt)continue}if(void 0===bt)vt&&Pt?nt.calc=!0:Xe();else if(qe._isLinkedToArray){var Nt=[],ge=!1;rt||(nt.arrays[Oe]=Nt);var _e=Math.min(xt.length,bt.length),We=Math.max(xt.length,bt.length);if(_e!==We){if("arraydraw"!==qe.editType){Xe();continue}ge=!0}for(Be=0;Be<_e;Be++)Ke(xt[Be],bt[Be],Ot.concat(Be),c.extendFlat({inArray:Oe,arrayIndex:Be},Te));if(ge)for(Be=_e;Be<We;Be++)Nt.push(Be)}else!Ge&&c.isPlainObject(xt)?Ke(xt,bt,Ot,Te):vt?Pt&&Jt?(Ye&&(nt.calc=!0),(Ye||Te.newDataRevision)&&Xe()):Pt!==Jt?nt.calc=!0:Xe():Pt&&Jt&&xt.length===bt.length&&String(xt)===String(bt)||Xe()}}}for(Oe in ve)if(!(Oe in Me)&&"_"!==Oe.charAt(0)&&"function"!=typeof ve[Oe]){if(gt(qe=Qe(Se.concat(Oe)))&&Array.isArray(ve[Oe]))return void(nt.calc=!0);Xe()}}function $e(Me){var ve=Me._fullLayout,Se=Me.getBoundingClientRect();if(!c.equalDomRects(Se,ve._lastBBox)){var Te=ve._invTransform=c.inverseTransformMatrix(c.getFullTransformMatrix(Me));ve._invScaleX=Math.sqrt(Te[0][0]*Te[0][0]+Te[0][1]*Te[0][1]+Te[0][2]*Te[0][2]),ve._invScaleY=Math.sqrt(Te[1][0]*Te[1][0]+Te[1][1]*Te[1][1]+Te[1][2]*Te[1][2]),ve._lastBBox=Se}}J.animate=function(Me,ve,Se){if(Me=c.getGraphDiv(Me),!c.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Te=Me._transitionData;Te._frameQueue||(Te._frameQueue=[]);var qe=(Se=C.supplyAnimationDefaults(Se)).transition,Oe=Se.frame;function Fe(Ye){return Array.isArray(qe)?Ye>=qe.length?qe[0]:qe[Ye]:qe}function Qe(Ye){return Array.isArray(Oe)?Ye>=Oe.length?Oe[0]:Oe[Ye]:Oe}function nt(Ye,rt){var ht=0;return function(){if(Ye&&++ht===rt)return Ye()}}return void 0===Te._frameWaitingCnt&&(Te._frameWaitingCnt=0),new Promise(function(Ye,rt){function Xe(){Me.emit("plotly_animating"),Te._lastFrameAt=-1/0,Te._timeToNext=0,Te._runningTransitions=0,Te._currentFrame=null;var Kt=function(){Te._animationRaf=window.requestAnimationFrame(Kt),Date.now()-Te._lastFrameAt>Te._timeToNext&&function ht(){Te._currentFrame&&Te._currentFrame.onComplete&&Te._currentFrame.onComplete();var Kt=Te._currentFrame=Te._frameQueue.shift();if(Kt){var qt=Kt.name?Kt.name.toString():null;Me._fullLayout._currentFrame=qt,Te._lastFrameAt=Date.now(),Te._timeToNext=Kt.frameOpts.duration,C.transition(Me,Kt.frame.data,Kt.frame.layout,I.coerceTraceIndices(Me,Kt.frame.traces),Kt.frameOpts,Kt.transitionOpts).then(function(){Kt.onComplete&&Kt.onComplete()}),Me.emit("plotly_animatingframe",{name:qt,frame:Kt.frame,animation:{frame:Kt.frameOpts,transition:Kt.transitionOpts}})}else Me.emit("plotly_animated"),window.cancelAnimationFrame(Te._animationRaf),Te._animationRaf=null}()};Kt()}var gt,xt,bt=0;function Ot(Kt){return Kt.transitionOpts=Array.isArray(qe)?bt>=qe.length?qe[bt]:qe[0]:qe,bt++,Kt}var wt=[],Be=null==ve,Ge=Array.isArray(ve);if(Be||Ge||!c.isPlainObject(ve)){if(Be||-1!==["string","number"].indexOf(typeof ve))for(gt=0;gt<Te._frames.length;gt++)(xt=Te._frames[gt])&&(Be||String(xt.group)===String(ve))&&wt.push({type:"byname",name:String(xt.name),data:Ot({name:xt.name})});else if(Ge)for(gt=0;gt<ve.length;gt++){var vt=ve[gt];-1!==["number","string"].indexOf(typeof vt)?(vt=String(vt),wt.push({type:"byname",name:vt,data:Ot({name:vt})})):c.isPlainObject(vt)&&wt.push({type:"object",data:Ot(c.extendFlat({},vt))})}}else wt.push({type:"object",data:Ot(c.extendFlat({},ve))});for(gt=0;gt<wt.length;gt++)if("byname"===(xt=wt[gt]).type&&!Te._frameHash[xt.data.name])return c.warn('animate failure: frame not found: "'+xt.data.name+'"'),void rt();-1!==["next","immediate"].indexOf(Se.mode)&&function(){if(0!==Te._frameQueue.length){for(;Te._frameQueue.length;){var Kt=Te._frameQueue.pop();Kt.onInterrupt&&Kt.onInterrupt()}Me.emit("plotly_animationinterrupted",[])}}(),"reverse"===Se.direction&&wt.reverse();var Pt=Me._fullLayout._currentFrame;if(Pt&&Se.fromcurrent){var Jt=-1;for(gt=0;gt<wt.length;gt++)if("byname"===(xt=wt[gt]).type&&xt.name===Pt){Jt=gt;break}if(Jt>0&&Jt<wt.length-1){var tn=[];for(gt=0;gt<wt.length;gt++)xt=wt[gt],("byname"!==wt[gt].type||gt>Jt)&&tn.push(xt);wt=tn}}wt.length>0?function(Kt){if(0!==Kt.length){for(var qt=0;qt<Kt.length;qt++){var Nt;Nt="byname"===Kt[qt].type?C.computeFrame(Me,Kt[qt].name):Kt[qt].data;var ge=Qe(qt),_e=Fe(qt);_e.duration=Math.min(_e.duration,ge.duration);var We={frame:Nt,name:Kt[qt].name,frameOpts:ge,transitionOpts:_e};qt===Kt.length-1&&(We.onComplete=nt(Ye,2),We.onInterrupt=rt),Te._frameQueue.push(We)}"immediate"===Se.mode&&(Te._lastFrameAt=-1/0),Te._animationRaf||Xe()}}(wt):(Me.emit("plotly_animated"),Ye())})},J.addFrames=function(Me,ve,Se){if(Me=c.getGraphDiv(Me),null==ve)return Promise.resolve();if(!c.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Te,qe,Oe,Fe,Qe=Me._transitionData._frames,nt=Me._transitionData._frameHash;if(!Array.isArray(ve))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+ve);var Ye=Qe.length+2*ve.length,rt=[],ht={};for(Te=ve.length-1;Te>=0;Te--)if(c.isPlainObject(ve[Te])){var Xe=ve[Te].name,gt=(nt[Xe]||ht[Xe]||{}).name,xt=ve[Te].name;gt&&xt&&"number"==typeof xt&&(nt[gt]||ht[gt])&&S<5&&(S++,c.warn('addFrames: overwriting frame "'+(nt[gt]||ht[gt]).name+'" with a frame whose name of type "number" also equates to "'+gt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===S&&c.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),ht[Xe]={name:Xe},rt.push({frame:C.supplyFrameDefaults(ve[Te]),index:Se&&null!=Se[Te]?Se[Te]:Ye+Te})}rt.sort(function(tn,Kt){return tn.index>Kt.index?-1:tn.index<Kt.index?1:0});var Ot=[],wt=[],Be=Qe.length;for(Te=rt.length-1;Te>=0;Te--){if("number"==typeof(qe=rt[Te].frame).name&&c.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!qe.name)for(;nt[qe.name="frame "+Me._transitionData._counter++];);if(nt[qe.name]){for(Oe=0;Oe<Qe.length&&(Qe[Oe]||{}).name!==qe.name;Oe++);Ot.push({type:"replace",index:Oe,value:qe}),wt.unshift({type:"replace",index:Oe,value:Qe[Oe]})}else Fe=Math.max(0,Math.min(rt[Te].index,Be)),Ot.push({type:"insert",index:Fe,value:qe}),wt.unshift({type:"delete",index:Fe}),Be++}return d&&d.add(Me,C.modifyFrames,[Me,wt],C.modifyFrames,[Me,Ot]),C.modifyFrames(Me,Ot)},J.deleteFrames=function(Me,ve){if(Me=c.getGraphDiv(Me),!c.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me);var Se,Te,qe=Me._transitionData._frames,Oe=[],Fe=[];if(!ve)for(ve=[],Se=0;Se<qe.length;Se++)ve.push(Se);for((ve=ve.slice()).sort(),Se=ve.length-1;Se>=0;Se--)Oe.push({type:"delete",index:Te=ve[Se]}),Fe.unshift({type:"insert",index:Te,value:qe[Te]});return d&&d.add(Me,C.modifyFrames,[Me,Fe],C.modifyFrames,[Me,Oe]),C.modifyFrames(Me,Oe)},J.addTraces=function Me(ve,Se,Te){ve=c.getGraphDiv(ve);var qe,Oe,Fe=[],Qe=J.deleteTraces,nt=Me,Ye=[ve,Fe],rt=[ve,Se];for(function(ht,Xe,gt){var xt,bt;if(!Array.isArray(ht.data))throw new Error("gd.data must be an array.");if(void 0===Xe)throw new Error("traces must be defined.");for(Array.isArray(Xe)||(Xe=[Xe]),xt=0;xt<Xe.length;xt++)if("object"!=typeof(bt=Xe[xt])||Array.isArray(bt)||null===bt)throw new Error("all values in traces array must be non-array objects");if(void 0===gt||Array.isArray(gt)||(gt=[gt]),void 0!==gt&&gt.length!==Xe.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(ve,Se,Te),Array.isArray(Se)||(Se=[Se]),Se=Se.map(function(ht){return c.extendFlat({},ht)}),I.cleanData(Se),qe=0;qe<Se.length;qe++)ve.data.push(Se[qe]);for(qe=0;qe<Se.length;qe++)Fe.push(-Se.length+qe);if(void 0===Te)return Oe=J.redraw(ve),d.add(ve,Qe,Ye,nt,rt),Oe;Array.isArray(Te)||(Te=[Te]);try{ne(ve,Fe,Te)}catch(ht){throw ve.data.splice(ve.data.length-Se.length,Se.length),ht}return d.startSequence(ve),d.add(ve,Qe,Ye,nt,rt),Oe=J.moveTraces(ve,Fe,Te),d.stopSequence(ve),Oe},J.deleteTraces=function Me(ve,Se){ve=c.getGraphDiv(ve);var Te,qe,Oe=[],Fe=J.addTraces,Qe=Me,nt=[ve,Oe,Se],Ye=[ve,Se];if(void 0===Se)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Se)||(Se=[Se]),Z(ve,Se,"indices"),(Se=W(Se,ve.data.length-1)).sort(c.sorterDes),Te=0;Te<Se.length;Te+=1)qe=ve.data.splice(Se[Te],1)[0],Oe.push(qe);var rt=J.redraw(ve);return d.add(ve,Fe,nt,Qe,Ye),rt},J.extendTraces=function Me(ve,Se,Te,qe){function Oe(Ye,rt,ht){var Xe,gt;if(c.isTypedArray(Ye))if(ht<0){var xt=new Ye.constructor(0),bt=oe(Ye,rt);ht<0?(Xe=bt,gt=xt):(Xe=xt,gt=bt)}else if(Xe=new Ye.constructor(ht),gt=new Ye.constructor(Ye.length+rt.length-ht),ht===rt.length)Xe.set(rt),gt.set(Ye);else if(ht<rt.length){var Ot=rt.length-ht;Xe.set(rt.subarray(Ot)),gt.set(Ye),gt.set(rt.subarray(0,Ot),Ye.length)}else{var wt=ht-rt.length,Be=Ye.length-wt;Xe.set(Ye.subarray(Be)),Xe.set(rt,wt),gt.set(Ye.subarray(0,Be))}else Xe=Ye.concat(rt),gt=ht>=0&&ht<Xe.length?Xe.splice(0,Xe.length-ht):[];return[Xe,gt]}var Fe=te(ve=c.getGraphDiv(ve),Se,Te,qe,Oe),Qe=J.redraw(ve);return d.add(ve,J.prependTraces,[ve,Fe.update,Te,Fe.maxPoints],Me,arguments),Qe},J.moveTraces=function Me(ve,Se,Te){var qe,Oe=[],Fe=[],Qe=Me,nt=Me,Ye=[ve=c.getGraphDiv(ve),Te,Se],rt=[ve,Se,Te];if(ne(ve,Se,Te),Se=Array.isArray(Se)?Se:[Se],void 0===Te)for(Te=[],qe=0;qe<Se.length;qe++)Te.push(-Se.length+qe);for(Te=Array.isArray(Te)?Te:[Te],Se=W(Se,ve.data.length-1),Te=W(Te,ve.data.length-1),qe=0;qe<ve.data.length;qe++)-1===Se.indexOf(qe)&&Oe.push(ve.data[qe]);for(qe=0;qe<Se.length;qe++)Fe.push({newIndex:Te[qe],trace:ve.data[Se[qe]]});for(Fe.sort(function(Xe,gt){return Xe.newIndex-gt.newIndex}),qe=0;qe<Fe.length;qe+=1)Oe.splice(Fe[qe].newIndex,0,Fe[qe].trace);ve.data=Oe;var ht=J.redraw(ve);return d.add(ve,Qe,Ye,nt,rt),ht},J.prependTraces=function Me(ve,Se,Te,qe){function Oe(Ye,rt,ht){var Xe,gt;if(c.isTypedArray(Ye))if(ht<=0){var xt=new Ye.constructor(0),bt=oe(rt,Ye);ht<0?(Xe=bt,gt=xt):(Xe=xt,gt=bt)}else if(Xe=new Ye.constructor(ht),gt=new Ye.constructor(Ye.length+rt.length-ht),ht===rt.length)Xe.set(rt),gt.set(Ye);else if(ht<rt.length){var Ot=rt.length-ht;Xe.set(rt.subarray(0,Ot)),gt.set(rt.subarray(Ot)),gt.set(Ye,Ot)}else{var wt=ht-rt.length;Xe.set(rt),Xe.set(Ye.subarray(0,wt),rt.length),gt.set(Ye.subarray(wt))}else Xe=rt.concat(Ye),gt=ht>=0&&ht<Xe.length?Xe.splice(ht,Xe.length):[];return[Xe,gt]}var Fe=te(ve=c.getGraphDiv(ve),Se,Te,qe,Oe),Qe=J.redraw(ve);return d.add(ve,J.extendTraces,[ve,Fe.update,Te,Fe.maxPoints],Me,arguments),Qe},J.newPlot=function(Me,ve,Se,Te){return Me=c.getGraphDiv(Me),C.cleanPlot([],{},Me._fullData||[],Me._fullLayout||{}),C.purge(Me),J._doPlot(Me,ve,Se,Te)},J._doPlot=function(Me,ve,Se,Te){var qe;if(Me=c.getGraphDiv(Me),m.init(Me),c.isPlainObject(ve)){var Oe=ve;ve=Oe.data,Se=Oe.layout,Te=Oe.config,qe=Oe.frames}if(!1===m.triggerHandler(Me,"plotly_beforeplot",[ve,Se,Te]))return Promise.reject();ve||Se||c.isPlotDiv(Me)||c.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Me),X(Me,Te),Se||(Se={}),s.select(Me).classed("js-plotly-plot",!0),M.makeTester(),Array.isArray(Me._promises)||(Me._promises=[]);var Fe=0===(Me.data||[]).length&&Array.isArray(ve);Array.isArray(ve)&&(I.cleanData(ve),Fe?Me.data=ve:Me.data.push.apply(Me.data,ve),Me.empty=!1),Me.layout&&!Fe||(Me.layout=I.cleanLayout(Se)),C.supplyDefaults(Me);var Qe=Me._fullLayout,nt=Qe._has("cartesian");Qe._replotting=!0,(Fe||Qe._shouldCreateBgLayer)&&(function(wt){var Be=s.select(wt),Ge=wt._fullLayout;if(Ge._calcInverseTransform=$e,Ge._calcInverseTransform(wt),Ge._container=Be.selectAll(".plot-container").data([0]),Ge._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Ge._paperdiv=Ge._container.selectAll(".svg-container").data([0]),Ge._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Ge._glcontainer=Ge._paperdiv.selectAll(".gl-container").data([{}]),Ge._glcontainer.enter().append("div").classed("gl-container",!0),Ge._paperdiv.selectAll(".main-svg").remove(),Ge._paperdiv.select(".modebar-container").remove(),Ge._paper=Ge._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Ge._toppaper=Ge._paperdiv.append("svg").classed("main-svg",!0),Ge._modebardiv=Ge._paperdiv.append("div"),delete Ge._modeBar,Ge._hoverpaper=Ge._paperdiv.append("svg").classed("main-svg",!0),!Ge._uid){var vt={};s.selectAll("defs").each(function(){this.id&&(vt[this.id.split("-")[1]]=1)}),Ge._uid=c.randstr(vt)}Ge._paperdiv.selectAll(".main-svg").attr(A.svgAttrs),Ge._defs=Ge._paper.append("defs").attr("id","defs-"+Ge._uid),Ge._clips=Ge._defs.append("g").classed("clips",!0),Ge._topdefs=Ge._toppaper.append("defs").attr("id","topdefs-"+Ge._uid),Ge._topclips=Ge._topdefs.append("g").classed("clips",!0),Ge._bgLayer=Ge._paper.append("g").classed("bglayer",!0),Ge._draggers=Ge._paper.append("g").classed("draglayer",!0);var Pt=Ge._paper.append("g").classed("layer-below",!0);Ge._imageLowerLayer=Pt.append("g").classed("imagelayer",!0),Ge._shapeLowerLayer=Pt.append("g").classed("shapelayer",!0),Ge._cartesianlayer=Ge._paper.append("g").classed("cartesianlayer",!0),Ge._polarlayer=Ge._paper.append("g").classed("polarlayer",!0),Ge._smithlayer=Ge._paper.append("g").classed("smithlayer",!0),Ge._ternarylayer=Ge._paper.append("g").classed("ternarylayer",!0),Ge._geolayer=Ge._paper.append("g").classed("geolayer",!0),Ge._funnelarealayer=Ge._paper.append("g").classed("funnelarealayer",!0),Ge._pielayer=Ge._paper.append("g").classed("pielayer",!0),Ge._iciclelayer=Ge._paper.append("g").classed("iciclelayer",!0),Ge._treemaplayer=Ge._paper.append("g").classed("treemaplayer",!0),Ge._sunburstlayer=Ge._paper.append("g").classed("sunburstlayer",!0),Ge._indicatorlayer=Ge._toppaper.append("g").classed("indicatorlayer",!0),Ge._glimages=Ge._paper.append("g").classed("glimages",!0);var Jt=Ge._toppaper.append("g").classed("layer-above",!0);Ge._imageUpperLayer=Jt.append("g").classed("imagelayer",!0),Ge._shapeUpperLayer=Jt.append("g").classed("shapelayer",!0),Ge._infolayer=Ge._toppaper.append("g").classed("infolayer",!0),Ge._menulayer=Ge._toppaper.append("g").classed("menulayer",!0),Ge._zoomlayer=Ge._toppaper.append("g").classed("zoomlayer",!0),Ge._hoverlayer=Ge._hoverpaper.append("g").classed("hoverlayer",!0),Ge._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),wt.emit("plotly_framework")}(Me),Qe._shouldCreateBgLayer&&delete Qe._shouldCreateBgLayer),M.initGradients(Me),M.initPatterns(Me),Fe&&b.saveShowSpikeInitial(Me);var Ye=!Me.calcdata||Me.calcdata.length!==(Me._fullData||[]).length;Ye&&C.doCalcdata(Me);for(var rt=0;rt<Me.calcdata.length;rt++)Me.calcdata[rt][0].trace=Me._fullData[rt];Me._context.responsive?Me._responsiveChartHandler||(Me._responsiveChartHandler=function(){c.isHidden(Me)||C.resize(Me)},window.addEventListener("resize",Me._responsiveChartHandler)):c.clearResponsive(Me);var ht=c.extendFlat({},Qe._size),Xe=0;function gt(){if(C.clearAutoMarginIds(Me),D.drawMarginPushers(Me),b.allowAutoMargin(Me),Qe._has("pie"))for(var wt=Me._fullData,Be=0;Be<wt.length;Be++){var Ge=wt[Be];"pie"===Ge.type&&Ge.automargin&&C.allowAutoMargin(Me,"pie."+Ge.uid+".automargin")}return C.doAutoMargin(Me),C.previousPromises(Me)}function xt(){Me._transitioning||(D.doAutoRangeAndConstraints(Me),Fe&&b.saveRangeInitial(Me),h.getComponentMethod("rangeslider","calcAutorange")(Me))}var bt=[C.previousPromises,function(){if(qe)return J.addFrames(Me,qe)},function wt(){for(var Be=Qe._basePlotModules,Ge=0;Ge<Be.length;Ge++)Be[Ge].drawFramework&&Be[Ge].drawFramework(Me);!Qe._glcanvas&&Qe._has("gl")&&(Qe._glcanvas=Qe._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(tn){return tn.key}),Qe._glcanvas.enter().append("canvas").attr("class",function(tn){return"gl-canvas gl-canvas-"+tn.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var vt=Me._context.plotGlPixelRatio;if(Qe._glcanvas){Qe._glcanvas.attr("width",Qe.width*vt).attr("height",Qe.height*vt).style("width",Qe.width+"px").style("height",Qe.height+"px");var Pt=Qe._glcanvas.data()[0].regl;if(Pt&&(Math.floor(Qe.width*vt)!==Pt._gl.drawingBufferWidth||Math.floor(Qe.height*vt)!==Pt._gl.drawingBufferHeight)){var Jt="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Xe)return c.log(Jt+" Clearing graph and plotting again."),C.cleanPlot([],{},Me._fullData,Qe),C.supplyDefaults(Me),Qe=Me._fullLayout,C.doCalcdata(Me),Xe++,wt();c.error(Jt)}}return"h"===Qe.modebar.orientation?Qe._modebardiv.style("height",null).style("width","100%"):Qe._modebardiv.style("width",null).style("height",Qe.height+"px"),C.previousPromises(Me)},gt,function(){if(C.didMarginChange(ht,Qe._size))return c.syncOrAsync([gt,D.layoutStyles],Me)}];nt&&bt.push(function(){if(Ye)return c.syncOrAsync([h.getComponentMethod("shapes","calcAutorange"),h.getComponentMethod("annotations","calcAutorange"),xt],Me);xt()}),bt.push(D.layoutStyles),nt&&bt.push(function(){return b.draw(Me,Fe?"":"redraw")},function(wt){wt._fullLayout._insideTickLabelsAutorange&&se(wt,wt._fullLayout._insideTickLabelsAutorange).then(function(){wt._fullLayout._insideTickLabelsAutorange=void 0})}),bt.push(D.drawData,D.finalDraw,N,C.addLinks,C.rehover,C.redrag,C.doAutoMargin,function(wt){wt._fullLayout._insideTickLabelsAutorange&&Fe&&b.saveRangeInitial(wt,!0)},C.previousPromises);var Ot=c.syncOrAsync(bt,Me);return Ot&&Ot.then||(Ot=Promise.resolve()),Ot.then(function(){return R(Me),Me})},J.purge=function(Me){var ve=(Me=c.getGraphDiv(Me))._fullLayout||{};return C.cleanPlot([],{},Me._fullData||[],ve),C.purge(Me),m.purge(Me),ve._container&&ve._container.remove(),delete Me._context,Me},J.react=function(Me,ve,Se,Te){var qe,Oe;Me=c.getGraphDiv(Me),I.clearPromiseQueue(Me);var We,Je,ft,st,et,ut,Fe=Me._fullData,Qe=Me._fullLayout;if(c.isPlotDiv(Me)&&Fe&&Qe){if(c.isPlainObject(ve)){var nt=ve;ve=nt.data,Se=nt.layout,Te=nt.config,qe=nt.frames}var Ye=!1;if(Te){var rt=c.extendDeep({},Me._context);Me._context=void 0,X(Me,Te),Ye=function We(Je,ft){var st;for(st in Je)if("_"!==st.charAt(0)){var et=Je[st],ut=ft[st];if(et!==ut)if(c.isPlainObject(et)&&c.isPlainObject(ut)){if(We(et,ut))return!0}else{if(!Array.isArray(et)||!Array.isArray(ut)||et.length!==ut.length)return!0;for(var St=0;St<et.length;St++)if(et[St]!==ut[St]&&(!c.isPlainObject(et[St])||!c.isPlainObject(ut[St])||We(et[St],ut[St])))return!0}}}(rt,Me._context)}Me.data=ve||[],I.cleanData(Me.data),Me.layout=Se||{},I.cleanLayout(Me.layout),function(We,Je,ft,st){var et,ut,St,Vt,Bt,an,Tt,Wt,dn,At,zt=st._preGUI,sn=[],Qt={},jt={};for(et in zt){if(Bt=ke(et,xe)){if(dn=Bt.head,At=Bt.tail,(Vt=(St=l(st,ut=Bt.attr||dn+".uirevision").get())&&Pe(ut,Je))&&Vt===St){if(null===(an=zt[et])&&(an=void 0),tt(Wt=(Tt=l(Je,et)).get(),an)){void 0===Wt&&"autorange"===At&&sn.push(dn),Tt.set(ie(l(st,et).get()));continue}if("autorange"===At||"range["===At.substr(0,6)){var wn=zt[dn+".autorange"];if(wn||null===wn&&null===zt[dn+".range[0]"]&&null===zt[dn+".range[1]"]){if(!(dn in Qt)){var bn=l(Je,dn).get();Qt[dn]=bn&&(bn.autorange||!1!==bn.autorange&&(!bn.range||2!==bn.range.length))}if(Qt[dn]){Tt.set(ie(l(st,et).get()));continue}}}}}else c.warn("unrecognized GUI edit: "+et);delete zt[et],Bt&&"range["===Bt.tail.substr(0,6)&&(jt[Bt.head]=1)}for(var Sn=0;Sn<sn.length;Sn++){var Ln=sn[Sn];if(jt[Ln]){var Wn=l(Je,Ln).get();Wn&&delete Wn.autorange}}var kn=st._tracePreGUI;for(var Xt in kn){var It,nn=kn[Xt],gn=null;for(et in nn){if(!gn){var cn=Re(Xt,ft);if(cn<0){delete kn[Xt];break}var Fn=Ue(Xt,We,(It=ft[cn]._fullInput).index);if(Fn<0){delete kn[Xt];break}gn=We[Fn]}if(Bt=ke(et,be)){if(Bt.attr?Vt=(St=l(st,Bt.attr).get())&&Pe(Bt.attr,Je):(St=It.uirevision,void 0===(Vt=gn.uirevision)&&(Vt=Je.uirevision)),Vt&&Vt===St&&(null===(an=nn[et])&&(an=void 0),tt(Wt=(Tt=l(gn,et)).get(),an))){Tt.set(ie(l(It,et).get()));continue}}else c.warn("unrecognized GUI edit: "+et+" in trace uid "+Xt);delete nn[et]}}}(Me.data,Me.layout,Fe,Qe),C.supplyDefaults(Me,{skipUpdateCalc:!0});var ht=Me._fullData,Xe=Me._fullLayout,gt=void 0===Xe.datarevision,xt=Xe.transition,bt=(We=Me,Je=Qe,ft=Xe,st=gt,et=xt,(ut=E.layoutFlags()).arrays={},ut.rangesAltered={},ut.nChanges=0,ut.nChangesAnim=0,Ke(Je,ft,[],{getValObject:function St(Vt){return u.getLayoutValObject(ft,Vt)},flags:ut,immutable:st,transition:et,gd:We}),(ut.plot||ut.calc)&&(ut.layoutReplot=!0),et&&ut.nChanges&&ut.nChangesAnim&&(ut.anim=ut.nChanges===ut.nChangesAnim?"all":"some"),ut),wt=function(We,Je,ft,st,et,ut){var St=Je.length===ft.length;if(!et&&!St)return{fullReplot:!0,calc:!0};var Vt,Bt,an=E.traceFlags();an.arrays={},an.nChanges=0,an.nChangesAnim=0;var Tt={getValObject:function(dn){var At=u.getTraceValObject(Bt,dn);return!Bt._module.animatable&&At.anim&&(At.anim=!1),At},flags:an,immutable:st,transition:et,newDataRevision:ut,gd:We},Wt={};for(Vt=0;Vt<Je.length;Vt++)if(ft[Vt]){if(C.hasMakesDataTransform(Bt=ft[Vt]._fullInput)&&(Bt=ft[Vt]),Wt[Bt.uid])continue;Wt[Bt.uid]=1,Ke(Je[Vt]._fullInput,Bt,[],Tt)}return(an.calc||an.plot)&&(an.fullReplot=!0),et&&an.nChanges&&an.nChangesAnim&&(an.anim=an.nChanges===an.nChangesAnim&&St?"all":"some"),an}(Me,Fe,ht,gt,xt,bt.newDataRevision);if(ue(Me)&&(bt.layoutReplot=!0),wt.calc||bt.calc){Me.calcdata=void 0;for(var Be=Object.getOwnPropertyNames(Xe),Ge=0;Ge<Be.length;Ge++){var vt=Be[Ge],Pt=vt.substring(0,5);if("xaxis"===Pt||"yaxis"===Pt){var Jt=Xe[vt]._emptyCategories;Jt&&Jt()}}}else C.supplyDefaultsUpdateCalc(Me.calcdata,ht);var tn=[];if(qe&&(Me._transitionData={},C.createTransitionData(Me),tn.push(function(){return J.addFrames(Me,qe)})),Xe.transition&&!Ye&&(wt.anim||bt.anim))bt.ticks&&tn.push(D.doTicksRelayout),C.doCalcdata(Me),D.doAutoRangeAndConstraints(Me),tn.push(function(){return C.transitionFromReact(Me,wt,bt,Qe)});else if(wt.fullReplot||bt.layoutReplot||Ye)Me._fullLayout._skipDefaults=!0,tn.push(J._doPlot);else{for(var Kt in bt.arrays){var qt=bt.arrays[Kt];if(qt.length){var Nt=h.getComponentMethod(Kt,"drawOne");if(Nt!==c.noop)for(var ge=0;ge<qt.length;ge++)Nt(Me,qt[ge]);else{var _e=h.getComponentMethod(Kt,"draw");if(_e===c.noop)throw new Error("cannot draw components: "+Kt);_e(Me)}}}tn.push(C.previousPromises),wt.style&&tn.push(D.doTraceStyle),(wt.colorbars||bt.colorbars)&&tn.push(D.doColorBars),bt.legend&&tn.push(D.doLegend),bt.layoutstyle&&tn.push(D.layoutStyles),bt.axrange&&F(tn),bt.ticks&&tn.push(D.doTicksRelayout),bt.modebar&&tn.push(D.doModeBar),bt.camera&&tn.push(D.doCamera),tn.push(R)}tn.push(C.rehover,C.redrag),(Oe=c.syncOrAsync(tn,Me))&&Oe.then||(Oe=Promise.resolve(Me))}else Oe=J.newPlot(Me,ve,Se,Te);return Oe.then(function(){return Me.emit("plotly_react",{data:ve,layout:Se}),Me})},J.redraw=function(Me){if(Me=c.getGraphDiv(Me),!c.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me);return I.cleanData(Me.data),I.cleanLayout(Me.layout),Me.calcdata=void 0,J._doPlot(Me).then(function(){return Me.emit("plotly_redraw"),Me})},J.relayout=se,J.restyle=Ce,J.setPlotConfig=function(Me){return c.extendFlat(H,Me)},J.update=fe,J._guiRelayout=he(se),J._guiRestyle=he(Ce),J._guiUpdate=he(fe),J._storeDirectGUIEdit=function(Me,ve,Se){for(var Te in Se)le(Te,l(Me,Te).get(),Se[Te],ve)}},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"../lib/events":225,"../lib/queue":247,"../plots/cartesian/axes":279,"../plots/cartesian/constants":286,"../plots/cartesian/graph_interact":289,"../plots/cartesian/select":300,"../plots/plots":316,"../registry":318,"./edit_types":261,"./helpers":262,"./manage_arrays":264,"./plot_config":266,"./plot_schema":267,"./subroutines":269,"@plotly/d3":11,"fast-isnumeric":17,"has-hover":48}],266:[function(v,pe,J){"use strict";var s={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},g={};(function p(c,l){for(var m in c){var d=c[m];d.valType?l[m]=d.dflt:(l[m]||(l[m]={}),p(d,l[m]))}})(s,g),pe.exports={configAttributes:s,dfltConfig:g}},{}],267:[function(v,pe,J){"use strict";var s=v("../registry"),g=v("../lib"),p=v("../plots/attributes"),c=v("../plots/layout_attributes"),l=v("../plots/frame_attributes"),m=v("../plots/animation_attributes"),d=v("./plot_config").configAttributes,h=v("./edit_types"),u=g.extendDeepAll,C=g.isPlainObject,b=g.isArrayOrTypedArray,M=g.nestedProperty,w=g.valObjectMeta,N=["_isSubplotObj","_isLinkedToArray","_arrayAttrRegexps","_deprecated"];function A(P,S,R){if(!P)return!1;if(P._isLinkedToArray)if(k(S[R]))R++;else if(R<S.length)return!1;for(;R<S.length;R++){var G=P[S[R]];if(!C(G)||(P=G,R===S.length-1))break;if(P._isLinkedToArray){if(!k(S[++R]))return!1}else if("info_array"===P.valType){var z=S[++R];if(!k(z))return!1;var X=P.items;if(Array.isArray(X)){if(z>=X.length)return!1;if(2===P.dimensions){if(R++,S.length===R)return P;var W=S[R];if(!k(W))return!1;P=X[z][W]}else P=X[z]}else P=X}}return P}function k(P){return P===Math.round(P)&&P>=0}function H(){var P,S,R={};for(P in u(R,c),s.subplotsRegistry)if((S=s.subplotsRegistry[P]).layoutAttributes)if(Array.isArray(S.attr))for(var G=0;G<S.attr.length;G++)D(R,S,S.attr[G]);else D(R,S,"subplot"===S.attr?S.name:S.attr);for(P in s.componentsRegistry){var z=(S=s.componentsRegistry[P]).schema;if(z&&(z.subplots||z.layout)){var X=z.subplots;if(X&&X.xaxis&&!X.yaxis)for(var W in X.xaxis)delete R.yaxis[W]}else"colorscale"===S.name?u(R,S.layoutAttributes):S.layoutAttributes&&E(R,S.layoutAttributes,S.name)}return{layoutAttributes:I(R)}}function L(){var P={frames:u({},l)};return I(P),P.frames}function I(P){return J.crawl(P,function(R,G,z){J.isValObject(R)?!0!==R.arrayOk&&"data_array"!==R.valType||(z[G+"src"]={valType:"string",editType:"none"}):C(R)&&(R.role="object")}),J.crawl(P,function(R,G,z){if(R){var X=R._isLinkedToArray;X&&(delete R._isLinkedToArray,z[G]={items:{}},z[G].items[X]=R,z[G].role="object")}}),function(S){!function R(G){for(var z in G)if(C(G[z]))R(G[z]);else if(Array.isArray(G[z]))for(var X=0;X<G[z].length;X++)R(G[z][X]);else G[z]instanceof RegExp&&(G[z]=G[z].toString())}(S)}(P),P}function D(P,S,R){var G=M(P,R),z=u({},S.layoutAttributes);z._isSubplotObj=!0,G.set(z)}function E(P,S,R){var G=M(P,R);G.set(u(G.get()||{},S))}J.IS_SUBPLOT_OBJ="_isSubplotObj",J.IS_LINKED_TO_ARRAY="_isLinkedToArray",J.DEPRECATED="_deprecated",J.UNDERSCORE_ATTRS=N,J.get=function(){var P={};s.allTypes.forEach(function(R){P[R]=function(G){var z,X;X=(z=s.modules[G]._module).basePlotModule;var W={type:null},Z=u({},p),ne=u({},z.attributes);J.crawl(ne,function(Ce,ie,Q,le,j){M(Z,j).set(void 0),void 0===Ce&&M(ne,j).set(void 0)}),u(W,Z),s.traceIs(G,"noOpacity")&&delete W.opacity,s.traceIs(G,"showLegend")||(delete W.showlegend,delete W.legendgroup),s.traceIs(G,"noHover")&&(delete W.hoverinfo,delete W.hoverlabel),z.selectPoints||delete W.selectedpoints,u(W,ne),X.attributes&&u(W,X.attributes),W.type=G;var te={meta:z.meta||{},categories:z.categories||{},animatable:Boolean(z.animatable),type:G,attributes:I(W)};if(z.layoutAttributes){var oe={};u(oe,z.layoutAttributes),te.layoutAttributes=I(oe)}return z.animatable||J.crawl(te,function(Ce){J.isValObject(Ce)&&"anim"in Ce&&delete Ce.anim}),te}(R)});var S={};return Object.keys(s.transformsRegistry).forEach(function(R){var G,X;S[R]=(X=u({},s.transformsRegistry[G=R].attributes),Object.keys(s.componentsRegistry).forEach(function(W){var Z=s.componentsRegistry[W];Z.schema&&Z.schema.transforms&&Z.schema.transforms[G]&&Object.keys(Z.schema.transforms[G]).forEach(function(ne){E(X,Z.schema.transforms[G][ne],ne)})}),{attributes:I(X)})}),{defs:{valObjects:w,metaKeys:N.concat(["description","role","editType","impliedEdits"]),editType:{traces:h.traces,layout:h.layout},impliedEdits:{}},traces:P,layout:H(),transforms:S,frames:L(),animation:I(m),config:I(d)}},J.crawl=function(P,S,R,G){var z=R||0;G=G||"",Object.keys(P).forEach(function(X){var W=P[X];if(-1===N.indexOf(X)){var Z=(G?G+".":"")+X;S(W,X,P,z,Z),J.isValObject(W)||C(W)&&"impliedEdits"!==X&&J.crawl(W,S,z+1,Z)}})},J.isValObject=function(P){return P&&void 0!==P.valType},J.findArrayAttributes=function(P){var S,R,G=[],z=[],X=[];function W(Ce,ie,Q,le){z=z.slice(0,le).concat([ie]),X=X.slice(0,le).concat([Ce&&Ce._isLinkedToArray]),Ce&&("data_array"===Ce.valType||!0===Ce.arrayOk)&&("colorbar"!==z[le-1]||"ticktext"!==ie&&"tickvals"!==ie)&&function j($,se,ee){var F=$[z[se]],O=ee+z[se];if(se===z.length-1)b(F)&&G.push(R+O);else if(X[se]){if(Array.isArray(F))for(var Y=0;Y<F.length;Y++)C(F[Y])&&j(F[Y],se+1,O+"["+Y+"].")}else C(F)&&j(F,se+1,O+".")}(S,0,"")}S=P,R="",J.crawl(p,W),P._module&&P._module.attributes&&J.crawl(P._module.attributes,W);var Z=P.transforms;if(Z)for(var ne=0;ne<Z.length;ne++){var te=Z[ne],oe=te._module;oe&&(R="transforms["+ne+"].",S=te,J.crawl(oe.attributes,W))}return G},J.getTraceValObject=function(P,S){var R,G,z=S[0],X=1;if("transforms"===z){if(1===S.length)return p.transforms;var W=P.transforms;if(!Array.isArray(W)||!W.length)return!1;var Z=S[1];if(!k(Z)||Z>=W.length)return!1;G=(R=(s.transformsRegistry[W[Z].type]||{}).attributes)&&R[S[2]],X=3}else{var ne=P._module;if(ne||(ne=(s.modules[P.type||p.type.dflt]||{})._module),!ne)return!1;if(!(G=(R=ne.attributes)&&R[z])){var te=ne.basePlotModule;te&&te.attributes&&(G=te.attributes[z])}G||(G=p[z])}return A(G,S,X)},J.getLayoutValObject=function(P,S){return A(function(R,G){var z,X,W,Z,ne=R._basePlotModules;if(ne){var te;for(z=0;z<ne.length;z++){if((W=ne[z]).attrRegex&&W.attrRegex.test(G)){if(W.layoutAttrOverrides)return W.layoutAttrOverrides;!te&&W.layoutAttributes&&(te=W.layoutAttributes)}var oe=W.baseLayoutAttrOverrides;if(oe&&G in oe)return oe[G]}if(te)return te}var Ce=R._modules;if(Ce)for(z=0;z<Ce.length;z++)if((Z=Ce[z].layoutAttributes)&&G in Z)return Z[G];for(X in s.componentsRegistry){if("colorscale"===(W=s.componentsRegistry[X]).name&&0===G.indexOf("coloraxis"))return W.layoutAttributes[G];if(!W.schema&&G===W.name)return W.layoutAttributes}return G in c&&c[G]}(P,S[0]),S,1)}},{"../lib":232,"../plots/animation_attributes":273,"../plots/attributes":275,"../plots/frame_attributes":311,"../plots/layout_attributes":314,"../registry":318,"./edit_types":261,"./plot_config":266}],268:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("../plots/attributes"),p={name:{valType:"string",editType:"none"}};function c(m){return m&&"string"==typeof m}function l(m){return"s"!==m.charAt(m.length-1)&&s.warn("bad argument to arrayDefaultKey: "+m),m.substr(0,m.length-1)+"defaults"}p.templateitemname={valType:"string",editType:"calc"},J.templatedArray=function(m,d){return d._isLinkedToArray=m,d.name=p.name,d.templateitemname=p.templateitemname,d},J.traceTemplater=function(m){var d,h,u={};for(d in m)h=m[d],Array.isArray(h)&&h.length&&(u[d]=0);return{newTrace:function(C){var b={type:d=s.coerce(C,{},g,"type"),_template:null};if(d in u){var M=u[d]%(h=m[d]).length;u[d]++,b._template=h[M]}return b}}},J.newContainer=function(m,d,h){var u=m._template,C=u&&(u[d]||h&&u[h]);return s.isPlainObject(C)||(C=null),m[d]={_template:C}},J.arrayTemplater=function(m,d,h){var u=m._template,C=u&&u[l(d)],b=u&&u[d];Array.isArray(b)&&b.length||(b=[]);var M={};return{newItem:function(w){var N={name:w.name,_input:w},A=N.templateitemname=w.templateitemname;if(!c(A))return N._template=C,N;for(var k=0;k<b.length;k++){var H=b[k];if(H.name===A)return M[A]=1,N._template=H,N}return N[h]=w[h]||!1,N._template=!1,N},defaultItems:function(){for(var w=[],N=0;N<b.length;N++){var A=b[N],k=A.name;if(c(k)&&!M[k]){var H={_template:A,name:k,_input:{_templateitemname:k}};H.templateitemname=A.templateitemname,w.push(H),M[k]=1}}return w}}},J.arrayDefaultKey=l,J.arrayEditor=function(m,d,h){var u=(s.nestedProperty(m,d).get()||[]).length,C=h._index,b=C>=u&&(h._input||{})._templateitemname;b&&(C=u);var M,w=d+"["+C+"]";function N(){M={},b&&(M[w]={},M[w].templateitemname=b)}function A(H,L){b?s.nestedProperty(M[w],H).set(L):M[w+"."+H]=L}function k(){var H=M;return N(),H}return N(),{modifyBase:function(H,L){M[H]=L},modifyItem:A,getUpdateObj:k,applyUpdate:function(H,L){H&&A(H,L);var I=k();for(var D in I)s.nestedProperty(m,D).set(I[D])}}}},{"../lib":232,"../plots/attributes":275}],269:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../registry"),p=v("../plots/plots"),c=v("../lib"),l=v("../lib/clear_gl_canvases"),m=v("../components/color"),d=v("../components/drawing"),h=v("../components/titles"),u=v("../components/modebar"),C=v("../plots/cartesian/axes"),b=v("../constants/alignment"),M=v("../plots/cartesian/constraints"),w=M.enforce,N=M.clean,A=v("../plots/cartesian/autorange").doAutoRange;function k(S,R,G){for(var z=0;z<G.length;z++){var X=G[z][0],W=G[z][1];if(!(X[0]>=S[1]||X[1]<=S[0])&&W[0]<R[1]&&W[1]>R[0])return!0}return!1}function H(S){var R,G,z,X,W,Z,ne=S._fullLayout,te=ne._size,oe=te.p,Ce=C.list(S,"",!0);if(ne._paperdiv.style({width:S._context.responsive&&ne.autosize&&!S._context._hasZeroWidth&&!S.layout.width?"100%":ne.width+"px",height:S._context.responsive&&ne.autosize&&!S._context._hasZeroHeight&&!S.layout.height?"100%":ne.height+"px"}).selectAll(".main-svg").call(d.setSize,ne.width,ne.height),S._context.setBackground(S,ne.paper_bgcolor),J.drawMainTitle(S),u.manage(S),!ne._has("cartesian"))return p.previousPromises(S);function ie(Xe,gt,xt){var bt=Xe._lw/2;return"x"===Xe._id.charAt(0)?gt?"top"===xt?gt._offset-oe-bt:gt._offset+gt._length+oe+bt:te.t+te.h*(1-(Xe.position||0))+bt%1:gt?"right"===xt?gt._offset+gt._length+oe+bt:gt._offset-oe-bt:te.l+te.w*(Xe.position||0)+bt%1}for(R=0;R<Ce.length;R++){var Q=(X=Ce[R])._anchorAxis;X._linepositions={},X._lw=d.crispRound(S,X.linewidth,1),X._mainLinePosition=ie(X,Q,X.side),X._mainMirrorPosition=X.mirror&&Q?ie(X,Q,b.OPPOSITE_SIDE[X.side]):null}var le=[],j=[],$=[],se=1===m.opacity(ne.paper_bgcolor)&&1===m.opacity(ne.plot_bgcolor)&&ne.paper_bgcolor===ne.plot_bgcolor;for(G in ne._plots)if((z=ne._plots[G]).mainplot)z.bg&&z.bg.remove(),z.bg=void 0;else{var ee=z.xaxis.domain,F=z.yaxis.domain,O=z.plotgroup;if(k(ee,F,$)){var Y=O.node(),B=z.bg=c.ensureSingle(O,"rect","bg");Y.insertBefore(B.node(),Y.childNodes[0]),j.push(G)}else O.select("rect.bg").remove(),$.push([ee,F]),se||(le.push(G),j.push(G))}var ae,ue,fe,he,xe,be,ke,Pe,Re,Ue,tt,Ke,$e,Me=ne._bgLayer.selectAll(".bg").data(le);for(Me.enter().append("rect").classed("bg",!0),Me.exit().remove(),Me.each(function(Xe){ne._plots[Xe].bg=s.select(this)}),R=0;R<j.length;R++)W=(z=ne._plots[j[R]]).xaxis,Z=z.yaxis,z.bg&&void 0!==W._offset&&void 0!==Z._offset&&z.bg.call(d.setRect,W._offset-oe,Z._offset-oe,W._length+2*oe,Z._length+2*oe).call(m.fill,ne.plot_bgcolor).style("stroke-width",0);if(!ne._hasOnlyLargeSploms)for(G in ne._plots){W=(z=ne._plots[G]).xaxis,Z=z.yaxis;var ve,Se,Te=z.clipId="clip"+ne._uid+G+"plot",qe=c.ensureSingleById(ne._clips,"clipPath",Te,function(Xe){Xe.classed("plotclip",!0).append("rect")});z.clipRect=qe.select("rect").attr({width:W._length,height:Z._length}),d.setTranslate(z.plot,W._offset,Z._offset),z._hasClipOnAxisFalse?(ve=null,Se=Te):(ve=Te,Se=null),d.setClipUrl(z.plot,ve,S),z.layerClipId=Se}function Oe(Xe){return"M"+ae+","+Xe+"H"+ue}function Fe(Xe){return"M"+W._offset+","+Xe+"h"+W._length}function Qe(Xe){return"M"+Xe+","+Pe+"V"+ke}function nt(Xe){return"M"+Xe+","+Z._offset+"v"+Z._length}function Ye(Xe,gt,xt){if(!Xe.showline||G!==Xe._mainSubplot)return"";if(!Xe._anchorAxis)return xt(Xe._mainLinePosition);var bt=gt(Xe._mainLinePosition);return Xe.mirror&&(bt+=gt(Xe._mainMirrorPosition)),bt}for(G in ne._plots){Z=(z=ne._plots[G]).yaxis;var rt="M0,0";L(W=z.xaxis,G)&&(xe=D(W,"left",Z,Ce),ae=W._offset-(xe?oe+xe:0),be=D(W,"right",Z,Ce),ue=W._offset+W._length+(be?oe+be:0),fe=ie(W,Z,"bottom"),he=ie(W,Z,"top"),!($e=!W._anchorAxis||G!==W._mainSubplot)||"allticks"!==W.mirror&&"all"!==W.mirror||(W._linepositions[G]=[fe,he]),rt=Ye(W,Oe,Fe),$e&&W.showline&&("all"===W.mirror||"allticks"===W.mirror)&&(rt+=Oe(fe)+Oe(he)),z.xlines.style("stroke-width",W._lw+"px").call(m.stroke,W.showline?W.linecolor:"rgba(0,0,0,0)")),z.xlines.attr("d",rt);var ht="M0,0";L(Z,G)&&(tt=D(Z,"bottom",W,Ce),ke=Z._offset+Z._length+(tt?oe:0),Ke=D(Z,"top",W,Ce),Pe=Z._offset-(Ke?oe:0),Re=ie(Z,W,"left"),Ue=ie(Z,W,"right"),!($e=!Z._anchorAxis||G!==Z._mainSubplot)||"allticks"!==Z.mirror&&"all"!==Z.mirror||(Z._linepositions[G]=[Re,Ue]),ht=Ye(Z,Qe,nt),$e&&Z.showline&&("all"===Z.mirror||"allticks"===Z.mirror)&&(ht+=Qe(Re)+Qe(Ue)),z.ylines.style("stroke-width",Z._lw+"px").call(m.stroke,Z.showline?Z.linecolor:"rgba(0,0,0,0)")),z.ylines.attr("d",ht)}return C.makeClipPaths(S),p.previousPromises(S)}function L(S,R){return(S.ticks||S.showline)&&(R===S._mainSubplot||"all"===S.mirror||"allticks"===S.mirror)}function I(S,R,G){if(!G.showline||!G._lw)return!1;if("all"===G.mirror||"allticks"===G.mirror)return!0;var z=G._anchorAxis;if(!z)return!1;var X=b.FROM_BL[R];return G.side===R?z.domain[X]===S.domain[X]:G.mirror&&z.domain[1-X]===S.domain[1-X]}function D(S,R,G,z){if(I(S,R,G))return G._lw;for(var X=0;X<z.length;X++){var W=z[X];if(W._mainAxis===G._mainAxis&&I(S,R,W))return W._lw}return 0}function E(S,R){var G=S.title,z=S._size,X=0;return"paper"===("start"===R?X=G.pad.l:"end"===R&&(X=-G.pad.r),G.xref)?z.l+z.w*G.x+X:S.width*G.x+X}function P(S,R){var G=S.title,z=S._size,X=0;return"0em"!==R&&R?R===b.CAP_SHIFT+"em"&&(X=G.pad.t):X=-G.pad.b,"auto"===G.y?z.t/2:"paper"===G.yref?z.t+z.h-z.h*G.y+X:S.height-S.height*G.y+X}J.layoutStyles=function(S){return c.syncOrAsync([p.doAutoMargin,H],S)},J.drawMainTitle=function(S){var W,Z,R=S._fullLayout,G=(Z="middle",c.isRightAnchor(W=R.title)?Z="end":c.isLeftAnchor(W)&&(Z="start"),Z),z=function(X){var W=X.title,Z="0em";return c.isTopAnchor(W)?Z=b.CAP_SHIFT+"em":c.isMiddleAnchor(W)&&(Z=b.MID_SHIFT+"em"),Z}(R);h.draw(S,"gtitle",{propContainer:R,propName:"title.text",placeholder:R._dfltTitle.plot,attributes:{x:E(R,G),y:P(R,z),"text-anchor":G,dy:z}})},J.doTraceStyle=function(S){var R,G=S.calcdata,z=[];for(R=0;R<G.length;R++){var X=G[R],W=X[0]||{},Z=W.trace||{},ne=Z._module||{},te=ne.arraysToCalcdata;te&&te(X,Z);var oe=ne.editStyle;oe&&z.push({fn:oe,cd0:W})}if(z.length){for(R=0;R<z.length;R++){var Ce=z[R];Ce.fn(S,Ce.cd0)}l(S),J.redrawReglTraces(S)}return p.style(S),g.getComponentMethod("legend","draw")(S),p.previousPromises(S)},J.doColorBars=function(S){return g.getComponentMethod("colorbar","draw")(S),p.previousPromises(S)},J.layoutReplot=function(S){var R=S.layout;return S.layout=void 0,g.call("_doPlot",S,"",R)},J.doLegend=function(S){return g.getComponentMethod("legend","draw")(S),p.previousPromises(S)},J.doTicksRelayout=function(S){return C.draw(S,"redraw"),S._fullLayout._hasOnlyLargeSploms&&(g.subplotsRegistry.splom.updateGrid(S),l(S),J.redrawReglTraces(S)),J.drawMainTitle(S),p.previousPromises(S)},J.doModeBar=function(S){var R=S._fullLayout;u.manage(S);for(var G=0;G<R._basePlotModules.length;G++){var z=R._basePlotModules[G].updateFx;z&&z(S)}return p.previousPromises(S)},J.doCamera=function(S){for(var R=S._fullLayout,G=R._subplots.gl3d,z=0;z<G.length;z++){var X=R[G[z]];X._scene.setViewport(X)}},J.drawData=function(S){var R=S._fullLayout;l(S);for(var G=R._basePlotModules,z=0;z<G.length;z++)G[z].plot(S);return J.redrawReglTraces(S),p.style(S),g.getComponentMethod("shapes","draw")(S),g.getComponentMethod("annotations","draw")(S),g.getComponentMethod("images","draw")(S),R._replotting=!1,p.previousPromises(S)},J.redrawReglTraces=function(S){var R=S._fullLayout;if(R._has("regl")){var G,z,X=S._fullData,W=[],Z=[];for(R._hasOnlyLargeSploms&&R._splomGrid.draw(),G=0;G<X.length;G++){var ne=X[G];!0===ne.visible&&0!==ne._length&&("splom"===ne.type?R._splomScenes[ne.uid].draw():"scattergl"===ne.type?c.pushUnique(W,ne.xaxis+ne.yaxis):"scatterpolargl"===ne.type&&c.pushUnique(Z,ne.subplot))}for(G=0;G<W.length;G++)(z=R._plots[W[G]])._scene&&z._scene.draw();for(G=0;G<Z.length;G++)(z=R[Z[G]]._subplot)._scene&&z._scene.draw()}},J.doAutoRangeAndConstraints=function(S){for(var R,G=C.list(S,"",!0),z={},X=0;X<G.length;X++)if(!z[(R=G[X])._id]){z[R._id]=1,N(S,R),A(S,R);var W=R._matchGroup;if(W)for(var Z in W){var ne=C.getFromId(S,Z);A(S,ne,R.range),z[Z]=1}}w(S)},J.finalDraw=function(S){g.getComponentMethod("rangeslider","draw")(S),g.getComponentMethod("rangeselector","draw")(S)},J.drawMarginPushers=function(S){g.getComponentMethod("legend","draw")(S),g.getComponentMethod("rangeselector","draw")(S),g.getComponentMethod("sliders","draw")(S),g.getComponentMethod("updatemenus","draw")(S),g.getComponentMethod("colorbar","draw")(S)}},{"../components/color":102,"../components/drawing":124,"../components/modebar":165,"../components/titles":200,"../constants/alignment":207,"../lib":232,"../lib/clear_gl_canvases":220,"../plots/cartesian/autorange":278,"../plots/cartesian/axes":279,"../plots/cartesian/constraints":287,"../plots/plots":316,"../registry":318,"@plotly/d3":11}],270:[function(v,pe,J){"use strict";var s=v("../lib"),g=s.isPlainObject,p=v("./plot_schema"),c=v("../plots/plots"),l=v("../plots/attributes"),m=v("./plot_template"),d=v("./plot_config").dfltConfig;function h(k,H){k=s.extendDeep({},k);var L,I,D=Object.keys(k).sort();function E(z,X,W){if(g(X)&&g(z))h(z,X);else if(Array.isArray(X)&&Array.isArray(z)){var Z=m.arrayTemplater({_template:k},W);for(I=0;I<X.length;I++){var ne=X[I],te=Z.newItem(ne)._template;te&&h(te,ne)}var oe=Z.defaultItems();for(I=0;I<oe.length;I++)X.push(oe[I]._template);for(I=0;I<X.length;I++)delete X[I].templateitemname}}for(L=0;L<D.length;L++){var P=D[L],S=k[P];if(P in H?E(S,H[P],P):H[P]=S,u(P)===P)for(var R in H){var G=u(R);R===G||G!==P||R in k||E(S,H[R],P)}}}function u(k){return k.replace(/[0-9]+$/,"")}function C(k,H,L,I,D){var E=D&&L(D);for(var P in k){var S=k[P],R=w(k,P,I),G=w(k,P,D),z=L(G);if(!z){var X=u(P);X!==P&&(z=L(G=w(k,X,D)))}if(!(E&&E===z||!z||z._noTemplating||"data_array"===z.valType||z.arrayOk&&Array.isArray(S)))if(!z.valType&&g(S))C(S,H,L,R,G);else if(z._isLinkedToArray&&Array.isArray(S))for(var W=!1,Z=0,ne={},te=0;te<S.length;te++){var oe=S[te];if(g(oe)){var Ce=oe.name;if(Ce)ne[Ce]||(C(oe,H,L,w(S,Z,R),w(S,Z,G)),Z++,ne[Ce]=1);else if(!W){var ie=w(k,m.arrayDefaultKey(P),I),Q=w(S,Z,R);C(oe,H,L,Q,w(S,Z,G));var le=s.nestedProperty(H,Q);s.nestedProperty(H,ie).set(le.get()),le.set(null),W=!0}}}else s.nestedProperty(H,R).set(S)}}function b(k,H){return p.getLayoutValObject(k,s.nestedProperty({},H).parts)}function M(k,H){return p.getTraceValObject(k,s.nestedProperty({},H).parts)}function w(k,H,L){return L?Array.isArray(k)?L+"["+H+"]":L+"."+H:H}function N(k){for(var H=0;H<k.length;H++)if(g(k[H]))return!0}function A(k){var H;switch(k.code){case"data":H="The template has no key data.";break;case"layout":H="The template has no key layout.";break;case"missing":H=k.path?"There are no templates for item "+k.path+" with name "+k.templateitemname:"There are no templates for trace "+k.index+", of type "+k.traceType+".";break;case"unused":H=k.path?"The template item at "+k.path+" was not used in constructing the plot.":k.dataCount?"Some of the templates of type "+k.traceType+" were not used. The template has "+k.templateCount+" traces, the data only has "+k.dataCount+" of this type.":"The template has "+k.templateCount+" traces of type "+k.traceType+" but there are none in the data.";break;case"reused":H="Some of the templates of type "+k.traceType+" were used more than once. The template has "+k.templateCount+" traces, the data has "+k.dataCount+" of this type."}return k.msg=H,k}J.makeTemplate=function(k){k=s.isPlainObject(k)?k:s.getGraphDiv(k),k=s.extendDeep({_context:d},{data:k.data,layout:k.layout}),c.supplyDefaults(k);var H=k.data||[],L=k.layout||{};L._basePlotModules=k._fullLayout._basePlotModules,L._modules=k._fullLayout._modules;var I={data:{},layout:{}};H.forEach(function(Z){var ne={};C(Z,ne,M.bind(null,Z));var te=s.coerce(Z,{},l,"type"),oe=I.data[te];oe||(oe=I.data[te]=[]),oe.push(ne)}),C(L,I.layout,b.bind(null,L)),delete I.layout.template;var D=L.template;if(g(D)){var E,P,S,R,G,z,X=D.layout;g(X)&&h(X,I.layout);var W=D.data;if(g(W)){for(P in I.data)if(S=W[P],Array.isArray(S)){for(z=(G=I.data[P]).length,R=S.length,E=0;E<z;E++)h(S[E%R],G[E]);for(E=z;E<R;E++)G.push(s.extendDeep({},S[E]))}for(P in W)P in I.data||(I.data[P]=s.extendDeep([],W[P]))}}return I},J.validateTemplate=function(k,H){var L=s.extendDeep({},{_context:d,data:k.data,layout:k.layout}),I=L.layout||{};g(H)||(H=I.template||{});var D=H.layout,E=H.data,P=[];L.layout=I,L.layout.template=H,c.supplyDefaults(L);var S=L._fullLayout,R=L._fullData,G={};if(g(D)?(function oe(Ce,ie){for(var Q in Ce)if("_"!==Q.charAt(0)&&g(Ce[Q])){var le,j=u(Q),$=[];for(le=0;le<ie.length;le++)$.push(w(Ce,Q,ie[le])),j!==Q&&$.push(w(Ce,j,ie[le]));for(le=0;le<$.length;le++)G[$[le]]=1;oe(Ce[Q],$)}}(S,["layout"]),function oe(Ce,ie){for(var Q in Ce)if(-1===Q.indexOf("defaults")&&g(Ce[Q])){var le=w(Ce,Q,ie);G[le]?oe(Ce[Q],le):P.push({code:"unused",path:le})}}(D,"layout")):P.push({code:"layout"}),g(E)){for(var z,X={},W=0;W<R.length;W++){var Z=R[W];X[z=Z.type]=(X[z]||0)+1,Z._fullInput._template||P.push({code:"missing",index:Z._fullInput.index,traceType:z})}for(z in E){var ne=E[z].length,te=X[z]||0;ne>te?P.push({code:"unused",traceType:z,templateCount:ne,dataCount:te}):te>ne&&P.push({code:"reused",traceType:z,templateCount:ne,dataCount:te})}}else P.push({code:"data"});if(function oe(Ce,ie){for(var Q in Ce)if("_"!==Q.charAt(0)){var le=Ce[Q],j=w(Ce,Q,ie);g(le)?(Array.isArray(Ce)&&!1===le._template&&le.templateitemname&&P.push({code:"missing",path:j,templateitemname:le.templateitemname}),oe(le,j)):Array.isArray(le)&&N(le)&&oe(le,j)}}({data:R,layout:S},""),P.length)return P.map(A)}},{"../lib":232,"../plots/attributes":275,"../plots/plots":316,"./plot_config":266,"./plot_schema":267,"./plot_template":268}],271:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("./plot_api"),p=v("../plots/plots"),c=v("../lib"),l=v("../snapshot/helpers"),m=v("../snapshot/tosvg"),d=v("../snapshot/svgtoimg"),h=v("../version").version,u={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};pe.exports=function(C,b){var M,w,N,A;function k(te){return!(te in b)||c.validate(b[te],u[te])}if(b=b||{},c.isPlainObject(C)?(M=C.data||[],w=C.layout||{},N=C.config||{},A={}):(C=c.getGraphDiv(C),M=c.extendDeep([],C.data),w=c.extendDeep({},C.layout),N=C._context,A=C._fullLayout||{}),!k("width")&&null!==b.width||!k("height")&&null!==b.height)throw new Error("Height and width should be pixel values.");if(!k("format"))throw new Error("Export format is not "+c.join2(u.format.values,", "," or ")+".");var H={};function L(te,oe){return c.coerce(b,H,u,te,oe)}var I=L("format"),D=L("width"),E=L("height"),P=L("scale"),S=L("setBackground"),R=L("imageDataOnly"),G=document.createElement("div");G.style.position="absolute",G.style.left="-5000px",document.body.appendChild(G);var z=c.extendFlat({},w);D?z.width=D:null===b.width&&s(A.width)&&(z.width=A.width),E?z.height=E:null===b.height&&s(A.height)&&(z.height=A.height);var X=c.extendFlat({},N,{_exportedPlot:!0,staticPlot:!0,setBackground:S}),W=l.getRedrawFunc(G);function Z(){return new Promise(function(te){setTimeout(te,l.getDelay(G._fullLayout))})}function ne(){return new Promise(function(te,oe){var Ce=m(G,I,P),ie=G._fullLayout.width,Q=G._fullLayout.height;function le(){g.purge(G),document.body.removeChild(G)}if("full-json"===I){var j=p.graphJson(G,!1,"keepdata","object",!0,!0);return j.version=h,j=JSON.stringify(j),le(),te(R?j:l.encodeJSON(j))}if(le(),"svg"===I)return te(R?Ce:l.encodeSVG(Ce));var $=document.createElement("canvas");$.id=c.randstr(),d({format:I,width:ie,height:Q,scale:P,canvas:$,svg:Ce,promise:!0}).then(te).catch(oe)})}return new Promise(function(te,oe){g.newPlot(G,M,z,X).then(W).then(Z).then(ne).then(function(Ce){var ie;te((ie=Ce,R?ie.replace(l.IMAGE_URL_PREFIX,""):ie))}).catch(function(Ce){oe(Ce)})})}},{"../lib":232,"../plots/plots":316,"../snapshot/helpers":322,"../snapshot/svgtoimg":324,"../snapshot/tosvg":326,"../version":391,"./plot_api":265,"fast-isnumeric":17}],272:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("../plots/plots"),p=v("./plot_schema"),c=v("./plot_config").dfltConfig,l=s.isPlainObject,m=Array.isArray,d=s.isArrayOrTypedArray;function h(H,L,I,D,E,P){P=P||[];for(var S=Object.keys(H),R=0;R<S.length;R++){var G=S[R];if("transforms"!==G){var z=P.slice();z.push(G);var X=H[G],W=L[G],Z=N(I,G),ne=(Z||{}).valType,te="info_array"===ne,oe="colorscale"===ne,Ce=(Z||{}).items;if(w(I,G))if(l(X)&&l(W)&&"any"!==ne)h(X,W,Z,D,E,z);else if(te&&m(X)){X.length>W.length&&D.push(M("unused",E,z.concat(W.length)));var ie,Q,j,$,se=W.length,ee=Array.isArray(Ce);if(ee&&(se=Math.min(se,Ce.length)),2===Z.dimensions)for(Q=0;Q<se;Q++)if(m(X[Q])){X[Q].length>W[Q].length&&D.push(M("unused",E,z.concat(Q,W[Q].length)));var F=W[Q].length;for(ie=0;ie<(ee?Math.min(F,Ce[Q].length):F);ie++)$=W[Q][ie],s.validate(j=X[Q][ie],ee?Ce[Q][ie]:Ce)?$!==j&&$!==+j&&D.push(M("dynamic",E,z.concat(Q,ie),j,$)):D.push(M("value",E,z.concat(Q,ie),j))}else D.push(M("array",E,z.concat(Q),X[Q]));else for(Q=0;Q<se;Q++)$=W[Q],s.validate(j=X[Q],ee?Ce[Q]:Ce)?$!==j&&$!==+j&&D.push(M("dynamic",E,z.concat(Q),j,$)):D.push(M("value",E,z.concat(Q),j))}else if(Z.items&&!te&&m(X)){var O,Y,B=Ce[Object.keys(Ce)[0]],ae=[];for(O=0;O<W.length;O++){var ue=W[O]._index||O;if((Y=z.slice()).push(ue),l(X[ue])&&l(W[O])){ae.push(ue);var fe=X[ue],he=W[O];l(fe)&&!1!==fe.visible&&!1===he.visible?D.push(M("invisible",E,Y)):h(fe,he,B,D,E,Y)}}for(O=0;O<X.length;O++)(Y=z.slice()).push(O),l(X[O])?-1===ae.indexOf(O)&&D.push(M("unused",E,Y)):D.push(M("object",E,Y,X[O]))}else!l(X)&&l(W)?D.push(M("object",E,z,X)):d(X)||!d(W)||te||oe?G in L?s.validate(X,Z)?"enumerated"===Z.valType&&(Z.coerceNumber&&X!==+W||X!==W)&&D.push(M("dynamic",E,z,X,W)):D.push(M("value",E,z,X)):D.push(M("unused",E,z,X)):D.push(M("array",E,z,X));else D.push(M("schema",E,z))}}return D}function u(H,L){for(var I=H.layout.layoutAttributes,D=0;D<L.length;D++){var E=L[D],P=H.traces[E.type],S=P.layoutAttributes;S&&s.extendFlat(E.subplot?I[P.attributes.subplot.dflt]:I,S)}return I}pe.exports=function(H,L){void 0===H&&(H=[]),void 0===L&&(L={});var I,D,E=p.get(),P=[],S={_context:s.extendFlat({},c)};m(H)?(S.data=s.extendDeep([],H),I=H):(S.data=[],I=[],P.push(M("array","data"))),l(L)?(S.layout=s.extendDeep({},L),D=L):(S.layout={},D={},arguments.length>1&&P.push(M("object","layout"))),g.supplyDefaults(S);for(var R=S._fullData,G=I.length,z=0;z<G;z++){var X=I[z],W=["data",z];if(l(X)){var Z=R[z],ne=Z.type,te=E.traces[ne].attributes;te.type={valType:"enumerated",values:[ne]},!1===Z.visible&&!1!==X.visible&&P.push(M("invisible",W)),h(X,Z,te,P,W);var oe=X.transforms,Ce=Z.transforms;if(oe){m(oe)||P.push(M("array",W,["transforms"])),W.push("transforms");for(var ie=0;ie<oe.length;ie++){var Q=["transforms",ie],le=oe[ie].type;if(l(oe[ie])){var j=E.transforms[le]?E.transforms[le].attributes:{};j.type={valType:"enumerated",values:Object.keys(E.transforms)},h(oe[ie],Ce[ie],j,P,W,Q)}else P.push(M("object",W,Q))}}}else P.push(M("object",W))}return h(D,S._fullLayout,u(E,R),P,"layout"),0===P.length?void 0:P};var C={object:function(H,L){return("layout"===H&&""===L?"The layout argument":"data"===H[0]&&""===L?"Trace "+H[1]+" in the data argument":b(H)+"key "+L)+" must be linked to an object container"},array:function(H,L){return("data"===H?"The data argument":b(H)+"key "+L)+" must be linked to an array container"},schema:function(H,L){return b(H)+"key "+L+" is not part of the schema"},unused:function(H,L,I){var D=l(I)?"container":"key";return b(H)+D+" "+L+" did not get coerced"},dynamic:function(H,L,I,D){return[b(H)+"key",L,"(set to '"+I+"')","got reset to","'"+D+"'","during defaults."].join(" ")},invisible:function(H,L){return(L?b(H)+"item "+L:"Trace "+H[1])+" got defaulted to be not visible"},value:function(H,L,I){return[b(H)+"key "+L,"is set to an invalid value ("+I+")"].join(" ")}};function b(H){return m(H)?"In data trace "+H[1]+", ":"In "+H+", "}function M(H,L,I,D,E){var P,S;I=I||"",m(L)?(P=L[0],S=L[1]):(P=L,S=null);var R=function(z){if(!m(z))return String(z);for(var X="",W=0;W<z.length;W++){var Z=z[W];"number"==typeof Z?X=X.substr(0,X.length-1)+"["+Z+"]":X+=Z,W<z.length-1&&(X+=".")}return X}(I),G=C[H](L,R,D,E);return s.log(G),{code:H,container:P,trace:S,path:I,astr:R,msg:G}}function w(H,L){var I=k(L),D=I.keyMinusId;return!!(D in H&&H[D]._isSubplotObj&&I.id)||L in H}function N(H,L){return L in H?H[L]:H[k(L).keyMinusId]}var A=s.counterRegex("([a-z]+)");function k(H){var L=H.match(A);return{keyMinusId:L&&L[1],id:L&&L[2]}}},{"../lib":232,"../plots/plots":316,"./plot_config":266,"./plot_schema":267}],273:[function(v,pe,J){"use strict";pe.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],274:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("../plot_api/plot_template");pe.exports=function(p,c,l){var m,d,h=l.name,u=l.inclusionAttr||"visible",C=c[h],b=s.isArrayOrTypedArray(p[h])?p[h]:[],M=c[h]=[],w=g.arrayTemplater(c,h,u);for(m=0;m<b.length;m++){var N=b[m];s.isPlainObject(N)?d=w.newItem(N):(d=w.newItem({}))[u]=!1,d._index=m,!1!==d[u]&&l.handleItemDefaults(N,d,c,l),M.push(d)}var A=w.defaultItems();for(m=0;m<A.length;m++)(d=A[m])._index=M.length,l.handleItemDefaults({},d,c,l,{}),M.push(d);if(s.isArrayOrTypedArray(C)){var k=Math.min(C.length,M.length);for(m=0;m<k;m++)s.relinkPrivateKeys(M[m],C[m])}return M}},{"../lib":232,"../plot_api/plot_template":268}],275:[function(v,pe,J){"use strict";var s=v("./font_attributes"),g=v("../components/fx/attributes");pe.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:s({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:g.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":133,"./font_attributes":310}],276:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib"),p=g.dateTime2ms,c=g.incrementMonth,l=v("../../constants/numerical").ONEAVGMONTH;pe.exports=function(m,d,h,u){if("date"!==d.type)return{vals:u};var C=m[h+"periodalignment"];if(!C)return{vals:u};var b,M=m[h+"period"];if(s(M)){if((M=+M)<=0)return{vals:u}}else if("string"==typeof M&&"M"===M.charAt(0)){var w=+M.substring(1);if(!(w>0&&Math.round(w)===w))return{vals:u};b=w}for(var N=d.calendar,A="start"===C,k="end"===C,L=p(m[h+"period0"],N)||0,I=[],D=[],E=[],P=u.length,S=0;S<P;S++){var R,G,z,X=u[S];if(b){for(R=Math.round((X-L)/(b*l)),z=c(L,b*R,N);z>X;)z=c(z,-b,N);for(;z<=X;)z=c(z,b,N);G=c(z,-b,N)}else{for(z=L+(R=Math.round((X-L)/M))*M;z>X;)z-=M;for(;z<=X;)z+=M;G=z-M}I[S]=A?G:k?z:(G+z)/2,D[S]=G,E[S]=z}return{vals:I,starts:D,ends:E}}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],277:[function(v,pe,J){"use strict";pe.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],278:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("fast-isnumeric"),p=v("../../lib"),c=v("../../constants/numerical").FP_SAFE,l=v("../../registry"),m=v("../../components/drawing"),d=v("./axis_ids"),h=d.getFromId,u=d.isLinked;function C(D,E){var P,S,R=[],G=D._fullLayout,z=M(G,E,0),X=M(G,E,1),W=w(D,E),Z=W.min,ne=W.max;if(0===Z.length||0===ne.length)return p.simpleMap(E.range,E.r2l);var te=Z[0].val,oe=ne[0].val;for(P=1;P<Z.length&&te===oe;P++)te=Math.min(te,Z[P].val);for(P=1;P<ne.length&&te===oe;P++)oe=Math.max(oe,ne[P].val);var Ce=!1;if(E.range){var ie=p.simpleMap(E.range,E.r2l);Ce=ie[1]<ie[0]}"reversed"===E.autorange&&(Ce=!0,E.autorange=!0);var Q,le,j,$,se,ee,F=E.rangemode,O="tozero"===F,Y="nonnegative"===F,B=E._length,ae=B/10,ue=0;for(P=0;P<Z.length;P++)for(Q=Z[P],S=0;S<ne.length;S++)(ee=(le=ne[S]).val-Q.val-b(E,Q.val,le.val))>0&&((se=B-z(Q)-X(le))>ae?ee/se>ue&&(j=Q,$=le,ue=ee/se):ee/B>ue&&(j={val:Q.val,nopad:1},$={val:le.val,nopad:1},ue=ee/B));if(te===oe){var fe=te-1,he=te+1;if(O)if(0===te)R=[0,1];else{var xe=(te>0?ne:Z).reduce(function(ke,Pe){return Math.max(ke,X(Pe))},0),be=te/(1-Math.min(.5,xe/B));R=te>0?[0,be]:[be,0]}else R=Y?[Math.max(0,fe),Math.max(1,he)]:[fe,he]}else O?(j.val>=0&&(j={val:0,nopad:1}),$.val<=0&&($={val:0,nopad:1})):Y&&(j.val-ue*z(j)<0&&(j={val:0,nopad:1}),$.val<=0&&($={val:1,nopad:1})),ue=($.val-j.val-b(E,Q.val,le.val))/(B-z(j)-X($)),R=[j.val-ue*z(j),$.val+ue*X($)];return Ce&&R.reverse(),p.simpleMap(R,E.l2r||Number)}function b(D,E,P){var S=0;if(D.rangebreaks)for(var R=D.locateBreaks(E,P),G=0;G<R.length;G++){var z=R[G];S+=z.max-z.min}return S}function M(D,E,P){var S=.05*E._length,R=E._anchorAxis||{};if(-1!==(E.ticklabelposition||"").indexOf("inside")||-1!==(R.ticklabelposition||"").indexOf("inside")){var G="reversed"===E.autorange;if(!G){var z=p.simpleMap(E.range,E.r2l);G=z[1]<z[0]}G&&(P=!P)}var X=0;return u(D,E._id)||(X=function(W,Z,ne){var te=0,oe="x"===Z._id.charAt(0);for(var Ce in W._plots){var ie=W._plots[Ce];if(Z._id===ie.xaxis._id||Z._id===ie.yaxis._id){var Q=(oe?ie.yaxis:ie.xaxis)||{};if(-1!==(Q.ticklabelposition||"").indexOf("inside")&&(!ne&&("left"===Q.side||"bottom"===Q.side)||ne&&("top"===Q.side||"right"===Q.side))){if(Q._vals){var le=p.deg2rad(Q._tickAngles[Q._id+"tick"]||0),j=Math.abs(Math.cos(le)),$=Math.abs(Math.sin(le));Q._vals[0].bb||Q._selections[Q._id+"tick"].each(function(B){var ae=s.select(this);ae.select(".text-math-group").empty()&&(B.bb=m.bBox(ae.node()))});for(var ee=0;ee<Q._vals.length;ee++){var F=Q._vals[ee].bb;if(F){var O=6+F.width,Y=6+F.height;te=Math.max(te,oe?Math.max(O*j,Y*$):Math.max(Y*j,O*$))}}}"inside"===Q.ticks&&"inside"===Q.ticklabelposition&&(te+=Q.ticklen||0)}}}return te}(D,E,P)),S=Math.max(X,S),"domain"===E.constrain&&E._inputDomain&&(S*=(E._inputDomain[1]-E._inputDomain[0])/(E.domain[1]-E.domain[0])),function(W){return W.nopad?0:W.pad+(W.extrapad?S:X)}}function w(D,E,P){var S,R,G,z=E._id,W=D._fullLayout,Z=[],ne=[];function te(le,j){for(S=0;S<j.length;S++){var $=le[j[S]],se=($._extremes||{})[z];if(!0===$.visible&&se){for(R=0;R<se.min.length;R++)N(Z,(G=se.min[R]).val,G.pad,{extrapad:G.extrapad});for(R=0;R<se.max.length;R++)A(ne,(G=se.max[R]).val,G.pad,{extrapad:G.extrapad})}}}if(te(D._fullData,E._traceIndices),te(W.annotations||[],E._annIndices||[]),te(W.shapes||[],E._shapeIndices||[]),E._matchGroup&&!P)for(var oe in E._matchGroup)if(oe!==E._id){var Ce=h(D,oe),ie=w(D,Ce,!0),Q=E._length/Ce._length;for(R=0;R<ie.min.length;R++)N(Z,(G=ie.min[R]).val,G.pad*Q,{extrapad:G.extrapad});for(R=0;R<ie.max.length;R++)A(ne,(G=ie.max[R]).val,G.pad*Q,{extrapad:G.extrapad})}return{min:Z,max:ne}}function N(D,E,P,S){k(D,E,P,S,L)}function A(D,E,P,S){k(D,E,P,S,I)}function k(D,E,P,S,R){for(var G=S.tozero,z=S.extrapad,X=!0,W=0;W<D.length&&X;W++){var Z=D[W];if(R(Z.val,E)&&Z.pad>=P&&(Z.extrapad||!z)){X=!1;break}R(E,Z.val)&&Z.pad<=P&&(z||!Z.extrapad)&&(D.splice(W,1),W--)}if(X){var ne=G&&0===E;D.push({val:E,pad:ne?0:P,extrapad:!ne&&z})}}function H(D){return g(D)&&Math.abs(D)<c}function L(D,E){return D<=E}function I(D,E){return D>=E}pe.exports={getAutoRange:C,makePadFn:M,doAutoRange:function(D,E,P){if(E.setScale(),E.autorange){E.range=P?P.slice():C(D,E),E._r=E.range.slice(),E._rl=p.simpleMap(E._r,E.r2l);var S=E._input,R={};R[E._attr+".range"]=E.range,R[E._attr+".autorange"]=E.autorange,l.call("_storeDirectGUIEdit",D.layout,D._fullLayout._preGUI,R),S.range=E.range.slice(),S.autorange=E.autorange}var G=E._anchorAxis;if(G&&G.rangeslider){var z=G.rangeslider[E._name];z&&"auto"===z.rangemode&&(z.range=C(D,E)),G._input.rangeslider[E._name]=p.extendFlat({},z)}},findExtremes:function(D,E,P){P||(P={}),D._m||D.setScale();var S,R,G,z,X,W,Z,ne,te,oe=[],Ce=[],ie=E.length,Q=P.padded||!1,le=P.tozero&&("linear"===D.type||"-"===D.type),j="log"===D.type,$=!1,se=P.vpadLinearized||!1;function ee(he){if(Array.isArray(he))return $=!0,function(be){return Math.max(Number(he[be]||0),0)};var xe=Math.max(Number(he||0),0);return function(){return xe}}var F=ee((D._m>0?P.ppadplus:P.ppadminus)||P.ppad||0),O=ee((D._m>0?P.ppadminus:P.ppadplus)||P.ppad||0),Y=ee(P.vpadplus||P.vpad),B=ee(P.vpadminus||P.vpad);if(!$){if(ne=1/0,te=-1/0,j)for(S=0;S<ie;S++)(R=E[S])<ne&&R>0&&(ne=R),R>te&&R<c&&(te=R);else for(S=0;S<ie;S++)(R=E[S])<ne&&R>-c&&(ne=R),R>te&&R<c&&(te=R);E=[ne,te],ie=2}var ae={tozero:le,extrapad:Q};function ue(he){g(G=E[he])&&(W=F(he),Z=O(he),se?(z=D.c2l(G)-B(he),X=D.c2l(G)+Y(he)):(ne=G-B(he),te=G+Y(he),j&&ne<te/10&&(ne=te/10),z=D.c2l(ne),X=D.c2l(te)),le&&(z=Math.min(0,z),X=Math.max(0,X)),H(z)&&N(oe,z,Z,ae),H(X)&&A(Ce,X,W,ae))}var fe=Math.min(6,ie);for(S=0;S<fe;S++)ue(S);for(S=ie-1;S>=fe;S--)ue(S);return{min:oe,max:Ce,opts:P}},concatExtremes:w}},{"../../components/drawing":124,"../../constants/numerical":212,"../../lib":232,"../../registry":318,"./axis_ids":283,"@plotly/d3":11,"fast-isnumeric":17}],279:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("fast-isnumeric"),p=v("../../plots/plots"),c=v("../../registry"),l=v("../../lib"),m=l.strTranslate,d=v("../../lib/svg_text_utils"),h=v("../../components/titles"),u=v("../../components/color"),C=v("../../components/drawing"),b=v("./layout_attributes"),M=v("./clean_ticks"),w=v("../../constants/numerical"),N=w.ONEMAXYEAR,A=w.ONEAVGYEAR,k=w.ONEMINYEAR,H=w.ONEMAXQUARTER,L=w.ONEAVGQUARTER,I=w.ONEMINQUARTER,D=w.ONEMAXMONTH,E=w.ONEAVGMONTH,P=w.ONEMINMONTH,S=w.ONEWEEK,R=w.ONEDAY,G=R/2,z=w.ONEHOUR,X=w.ONEMIN,W=w.ONESEC,Z=w.MINUS_SIGN,ne=w.BADNUM,te={K:"zeroline"},oe={K:"gridline",L:"path"},Ce={K:"minor-gridline",L:"path"},ie={K:"tick",L:"path"},Q={K:"tick",L:"text"},le=v("../../constants/alignment"),j=le.MID_SHIFT,$=le.CAP_SHIFT,se=le.LINE_SPACING,ee=le.OPPOSITE_SIDE,F=pe.exports={};F.setConvert=v("./set_convert");var O=v("./axis_autotype"),Y=v("./axis_ids"),B=Y.idSort,ae=Y.isLinked;F.id2name=Y.id2name,F.name2id=Y.name2id,F.cleanId=Y.cleanId,F.list=Y.list,F.listIds=Y.listIds,F.getFromId=Y.getFromId,F.getFromTrace=Y.getFromTrace;var ue=v("./autorange");function fe(ge){var _e=1e-4*(ge[1]-ge[0]);return[ge[0]-_e,ge[1]+_e]}F.getAutoRange=ue.getAutoRange,F.findExtremes=ue.findExtremes,F.coerceRef=function(ge,_e,We,Je,ft,st){var et=Je.charAt(Je.length-1),ut=We._fullLayout._subplots[et+"axis"],St=Je+"ref",Vt={};return ft||(ft=ut[0]||("string"==typeof st?st:st[0])),st||(st=ft),ut=ut.concat(ut.map(function(Bt){return Bt+" domain"})),Vt[St]={valType:"enumerated",values:ut.concat(st?"string"==typeof st?[st]:st:[]),dflt:ft},l.coerce(ge,_e,Vt,St)},F.getRefType=function(ge){return void 0===ge?ge:"paper"===ge?"paper":"pixel"===ge?"pixel":/( domain)$/.test(ge)?"domain":"range"},F.coercePosition=function(ge,_e,We,Je,ft,st){var et,ut;if("range"!==F.getRefType(Je))et=l.ensureNumber,ut=We(ft,st);else{var St=F.getFromId(_e,Je);ut=We(ft,st=St.fraction2r(st)),et=St.cleanPos}ge[ft]=et(ut)},F.cleanPosition=function(ge,_e,We){return("paper"===We||"pixel"===We?l.ensureNumber:F.getFromId(_e,We).cleanPos)(ge)},F.redrawComponents=function(ge,_e){_e=_e||F.listIds(ge);var We=ge._fullLayout;function Je(ft,st,et,ut){for(var St=c.getComponentMethod(ft,st),Vt={},Bt=0;Bt<_e.length;Bt++)for(var an=We[F.id2name(_e[Bt])][et],Tt=0;Tt<an.length;Tt++){var Wt=an[Tt];if(!Vt[Wt]&&(St(ge,Wt),Vt[Wt]=1,ut))return}}Je("annotations","drawOne","_annIndices"),Je("shapes","drawOne","_shapeIndices"),Je("images","draw","_imgIndices",!0)};var he=F.getDataConversions=function(ge,_e,We,Je){var ft,st="x"===We||"y"===We||"z"===We?We:Je;if(Array.isArray(st)){if(ft={type:O(Je,void 0,{autotypenumbers:ge._fullLayout.autotypenumbers}),_categories:[]},F.setConvert(ft),"category"===ft.type)for(var et=0;et<Je.length;et++)ft.d2c(Je[et])}else ft=F.getFromTrace(ge,_e,st);return ft?{d2c:ft.d2c,c2d:ft.c2d}:"ids"===st?{d2c:be,c2d:be}:{d2c:xe,c2d:xe}};function xe(ge){return+ge}function be(ge){return String(ge)}function ke(ge,_e){return Math.abs((ge/_e+.5)%1-.5)<.001}function Pe(ge,_e){return Math.abs(ge/_e-1)<.001}function Re(ge){return+ge.substring(1)}function Ue(ge){var _e=fe(l.simpleMap(ge.range,ge.r2l)),We=Math.min(_e[0],_e[1]),Je=Math.max(_e[0],_e[1]),ft="category"===ge.type?ge.d2l_noadd:ge.d2l;"log"===ge.type&&"L"!==String(ge.dtick).charAt(0)&&(ge.dtick="L"+Math.pow(10,Math.floor(Math.min(ge.range[0],ge.range[1]))-1));for(var st=[],et=0;et<=1;et++)if(!et||ge.minor){var ut=et?ge.minor.tickvals:ge.tickvals,St=et?[]:ge.ticktext;if(ut){Array.isArray(St)||(St=[]);for(var Vt=0;Vt<ut.length;Vt++){var Bt=ft(ut[Vt]);if(Bt>We&&Bt<Je){var an=void 0===St[Vt]?F.tickText(ge,Bt):Fe(ge,Bt,String(St[Vt]));et&&(an.minor=!0,an.text=""),st.push(an)}}}}return ge.rangebreaks&&(st=st.filter(function(Tt){return ge.maskBreaks(Tt.x)!==ne})),st}F.getDataToCoordFunc=function(ge,_e,We,Je){return he(ge,_e,We,Je).d2c},F.counterLetter=function(ge){var _e=ge.charAt(0);return"x"===_e?"y":"y"===_e?"x":void 0},F.minDtick=function(ge,_e,We,Je){-1===["log","category","multicategory"].indexOf(ge.type)&&Je?void 0===ge._minDtick?(ge._minDtick=_e,ge._forceTick0=We):ge._minDtick&&((ge._minDtick/_e+1e-6)%1<2e-6&&((We-ge._forceTick0)/_e%1+1.000001)%1<2e-6?(ge._minDtick=_e,ge._forceTick0=We):((_e/ge._minDtick+1e-6)%1>2e-6||((We-ge._forceTick0)/ge._minDtick%1+1.000001)%1>2e-6)&&(ge._minDtick=0)):ge._minDtick=0},F.saveRangeInitial=function(ge,_e){for(var We=F.list(ge,"",!0),Je=!1,ft=0;ft<We.length;ft++){var st=We[ft],et=void 0===st._rangeInitial;(et&&!1===st.autorange||_e&&(et||st.range[0]!==st._rangeInitial[0]||st.range[1]!==st._rangeInitial[1]))&&(st._rangeInitial=st.range.slice(),Je=!0)}return Je},F.saveShowSpikeInitial=function(ge,_e){for(var We=F.list(ge,"",!0),Je=!1,ft="on",st=0;st<We.length;st++){var et=We[st],ut=void 0===et._showSpikeInitial;(ut||_e&&(ut||et.showspikes!==et._showspikes))&&(et._showSpikeInitial=et.showspikes,Je=!0),"on"!==ft||et.showspikes||(ft="off")}return ge._fullLayout._cartesianSpikesEnabled=ft,Je},F.autoBin=function(ge,_e,We,Je,ft,st){var et,ut=l.aggNums(Math.min,null,ge),St=l.aggNums(Math.max,null,ge);if("category"===_e.type||"multicategory"===_e.type)return{start:ut-.5,end:St+.5,size:Math.max(1,Math.round(st)||1),_dataSpan:St-ut};if(ft||(ft=_e.calendar),et="log"===_e.type?{type:"linear",range:[ut,St]}:{type:_e.type,range:l.simpleMap([ut,St],_e.c2r,0,ft),calendar:ft},F.setConvert(et),st=st&&M.dtick(st,et.type))et.dtick=st,et.tick0=M.tick0(void 0,et.type,ft);else{var Vt;if(We)Vt=(St-ut)/We;else{var Bt=l.distinctVals(ge),an=Math.pow(10,Math.floor(Math.log(Bt.minDiff)/Math.LN10)),Tt=an*l.roundUp(Bt.minDiff/an,[.9,1.9,4.9,9.9],!0);Vt=Math.max(Tt,2*l.stdev(ge)/Math.pow(ge.length,Je?.25:.4)),g(Vt)||(Vt=1)}F.autoTicks(et,Vt)}var Wt,dn=et.dtick,At=F.tickIncrement(F.tickFirst(et),dn,"reverse",ft);if("number"==typeof dn)Wt=(At=function(zt,sn,Qt,jt,en){var Ft=0,wn=0,bn=0,Sn=0;function Ln(It){return(1+100*(It-zt)/Qt.dtick)%100<2}for(var Wn=0;Wn<sn.length;Wn++)sn[Wn]%1==0?bn++:g(sn[Wn])||Sn++,Ln(sn[Wn])&&Ft++,Ln(sn[Wn]+Qt.dtick/2)&&wn++;var kn=sn.length-Sn;if(bn===kn&&"date"!==Qt.type)Qt.dtick<1?zt=jt-.5*Qt.dtick:(zt-=.5)+Qt.dtick<jt&&(zt+=Qt.dtick);else if(wn<.1*kn&&(Ft>.3*kn||Ln(jt)||Ln(en))){var Xt=Qt.dtick/2;zt+=zt+Xt<jt?Xt:-Xt}return zt}(At,ge,et,ut,St))+(1+Math.floor((St-At)/dn))*dn;else for("M"===et.dtick.charAt(0)&&(At=function(zt,sn,Qt,jt,en){var Ft=l.findExactDates(sn,en);if(Ft.exactDays>.8){var wn=Number(Qt.substr(1));Ft.exactYears>.8&&wn%12==0?zt=F.tickIncrement(zt,"M6","reverse")+1.5*R:Ft.exactMonths>.8?zt=F.tickIncrement(zt,"M1","reverse")+15.5*R:zt-=G;var bn=F.tickIncrement(zt,Qt);if(bn<=jt)return bn}return zt}(At,ge,dn,ut,ft)),Wt=At;Wt<=St;)Wt=F.tickIncrement(Wt,dn,!1,ft);return{start:_e.c2r(At,0,ft),end:_e.c2r(Wt,0,ft),size:dn,_dataSpan:St-ut}},F.prepMinorTicks=function(ge,_e,We){if(!_e.minor.dtick){delete ge.dtick;var Je,ft=_e.dtick&&g(_e._tmin);if(ft){var st=F.tickIncrement(_e._tmin,_e.dtick,!0);Je=[_e._tmin,.99*st+.01*_e._tmin]}else{var et=l.simpleMap(_e.range,_e.r2l);Je=[et[0],.8*et[0]+.2*et[1]]}if(ge.range=l.simpleMap(Je,_e.l2r),ge._isMinor=!0,F.prepTicks(ge,We),ft){var ut=g(_e.dtick),St=g(ge.dtick),Vt=ut?_e.dtick:+_e.dtick.substring(1),Bt=St?ge.dtick:+ge.dtick.substring(1);ut&&St?ke(Vt,Bt)?Vt===2*S&&Bt===2*R&&(ge.dtick=S):ge.dtick=Vt===2*S&&Bt===3*R?S:Vt!==S||(_e._input.minor||{}).nticks?Pe(Vt/Bt,2.5)?Vt/2:Vt:R:"M"===String(_e.dtick).charAt(0)?St?ge.dtick="M1":ke(Vt,Bt)?Vt>=12&&2===Bt&&(ge.dtick="M3"):ge.dtick=_e.dtick:"L"===String(ge.dtick).charAt(0)?"L"===String(_e.dtick).charAt(0)?ke(Vt,Bt)||(ge.dtick=Pe(Vt/Bt,2.5)?_e.dtick/2:_e.dtick):ge.dtick="D1":"D2"===ge.dtick&&+_e.dtick>1&&(ge.dtick=1)}ge.range=_e.range}void 0===_e.minor._tick0Init&&(ge.tick0=_e.tick0)},F.prepTicks=function(ge,_e){var We=l.simpleMap(ge.range,ge.r2l,void 0,void 0,_e);if("auto"===ge.tickmode||!ge.dtick){var Je,ft=ge.nticks;ft||("category"===ge.type||"multicategory"===ge.type?(Je=ge.tickfont?l.bigFont(ge.tickfont.size||12):15,ft=ge._length/Je):(Je="y"===ge._id.charAt(0)?40:80,ft=l.constrain(ge._length/Je,4,9)+1),"radialaxis"===ge._name&&(ft*=2)),ge.minor&&"array"!==ge.minor.tickmode||"array"===ge.tickmode&&(ft*=100),ge._roughDTick=Math.abs(We[1]-We[0])/ft,F.autoTicks(ge,ge._roughDTick),ge._minDtick>0&&ge.dtick<2*ge._minDtick&&(ge.dtick=ge._minDtick,ge.tick0=ge.l2r(ge._forceTick0))}"period"===ge.ticklabelmode&&function(st){var et;function ut(){return!(g(st.dtick)||"M"!==st.dtick.charAt(0))}var St=ut(),Vt=F.getTickFormat(st);if(Vt){var Bt=st._dtickInit!==st.dtick;/%[fLQsSMX]/.test(Vt)||(/%[HI]/.test(Vt)?(et=z,Bt&&!St&&st.dtick<z&&(st.dtick=z)):/%p/.test(Vt)?(et=G,Bt&&!St&&st.dtick<G&&(st.dtick=G)):/%[Aadejuwx]/.test(Vt)?(et=R,Bt&&!St&&st.dtick<R&&(st.dtick=R)):/%[UVW]/.test(Vt)?(et=S,Bt&&!St&&st.dtick<S&&(st.dtick=S)):/%[Bbm]/.test(Vt)?(et=E,Bt&&(St?Re(st.dtick)<1:st.dtick<P)&&(st.dtick="M1")):/%[q]/.test(Vt)?(et=L,Bt&&(St?Re(st.dtick)<3:st.dtick<I)&&(st.dtick="M3")):/%[Yy]/.test(Vt)&&(et=A,Bt&&(St?Re(st.dtick)<12:st.dtick<k)&&(st.dtick="M12")))}(St=ut())&&st.tick0===st._dowTick0&&(st.tick0=st._rawTick0),st._definedDelta=et}(ge),ge.tick0||(ge.tick0="date"===ge.type?"2000-01-01":0),"date"===ge.type&&ge.dtick<.1&&(ge.dtick=.1),Oe(ge)},F.calcTicks=function(ge,_e){for(var We,Je,ft=ge.type,st=ge.calendar,et=ge.ticklabelstep,ut="period"===ge.ticklabelmode,St=l.simpleMap(ge.range,ge.r2l,void 0,void 0,_e),Vt=St[1]<St[0],Bt=Math.min(St[0],St[1]),an=Math.max(St[0],St[1]),Tt=Math.max(1e3,ge._length||0),Wt=[],dn=[],At=[],zt=[],sn=ge.minor&&(ge.minor.ticks||ge.minor.showgrid),Qt=1;Qt>=(sn?0:1);Qt--){var jt=!Qt;Qt?(ge._dtickInit=ge.dtick,ge._tick0Init=ge.tick0):(ge.minor._dtickInit=ge.minor.dtick,ge.minor._tick0Init=ge.minor.tick0);var en=Qt?ge:l.extendFlat({},ge,ge.minor);if(jt?F.prepMinorTicks(en,ge,_e):F.prepTicks(en,_e),"array"!==en.tickmode){var Ft=fe(St),wn=Ft[0],bn=Ft[1],Sn=g(en.dtick),Ln="log"===ft&&!(Sn||"L"===en.dtick.charAt(0)),Wn=F.tickFirst(en,_e);if(Qt){if(ge._tmin=Wn,Wn<wn!==Vt)break;"category"!==ft&&"multicategory"!==ft||(bn=Vt?Math.max(-.5,bn):Math.min(ge._categories.length-.5,bn))}var kn,Xt,It=null,nn=Wn;Qt&&(Sn?Xt=ge.dtick:"date"===ft?"string"==typeof ge.dtick&&"M"===ge.dtick.charAt(0)&&(Xt=E*ge.dtick.substring(1)):Xt=ge._roughDTick,kn=Math.round((ge.r2l(nn)-ge.r2l(ge.tick0))/Xt)-1);var gn=en.dtick;for(en.rangebreaks&&en._tick0Init!==en.tick0&&(nn=Kt(nn,ge),Vt||(nn=F.tickIncrement(nn,gn,!Vt,st))),Qt&&ut&&(nn=F.tickIncrement(nn,gn,!Vt,st),kn--);Vt?nn>=bn:nn<=bn;nn=F.tickIncrement(nn,gn,Vt,st)){if(Qt&&kn++,en.rangebreaks&&!Vt){if(nn<wn)continue;if(en.maskBreaks(nn)===ne&&Kt(nn,en)>=an)break}if(At.length>Tt||nn===It)break;It=nn;var cn={value:nn};Qt?(Ln&&nn!==(0|nn)&&(cn.simpleLabel=!0),et>1&&kn%et&&(cn.skipLabel=!0),At.push(cn)):(cn.minor=!0,zt.push(cn))}}else Qt?(At=[],Wt=Ue(ge)):(zt=[],dn=Ue(ge))}if(sn&&!("inside"===ge.minor.ticks&&"outside"===ge.ticks||"outside"===ge.minor.ticks&&"inside"===ge.ticks)){for(var Fn=At.map(function(S2){return S2.value}),An=[],_n=0;_n<zt.length;_n++){var r2=zt[_n],g2=r2.value;if(-1===Fn.indexOf(g2)){for(var y2=!1,h2=0;!y2&&h2<At.length;h2++)1e7+At[h2].value===1e7+g2&&(y2=!0);y2||An.push(r2)}}zt=An}if(ut&&function(S2,e2,Un){for(var yn=0;yn<S2.length;yn++){var z2=S2[yn].value,z1=yn,Q2=yn+1;yn<S2.length-1?(z1=yn,Q2=yn+1):yn>0?(z1=yn-1,Q2=yn):(z1=yn,Q2=yn);var J2,H1=Math.abs(S2[Q2].value-S2[z1].value),A1=Un||H1,j2=0;A1>=k?j2=H1>=k&&H1<=N?H1:A:Un===L&&A1>=I?j2=H1>=I&&H1<=H?H1:L:A1>=P?j2=H1>=P&&H1<=D?H1:E:Un===S&&A1>=S?j2=S:A1>=R?j2=R:Un===G&&A1>=G?j2=G:Un===z&&A1>=z&&(j2=z),j2>=H1&&(j2=H1,J2=!0);var G2=z2+j2;if(e2.rangebreaks&&j2>0){for(var Vr=0,ri=0;ri<84;ri++){var Pi=(ri+.5)/84;e2.maskBreaks(z2*(1-Pi)+Pi*G2)!==ne&&Vr++}(j2*=Vr/84)||(S2[yn].drop=!0),J2&&H1>S&&(j2=H1)}(j2>0||0===yn)&&(S2[yn].periodX=z2+j2/2)}}(At,ge,ge._definedDelta),ge.rangebreaks){var Yt="y"===ge._id.charAt(0),Yn=1;"auto"===ge.tickmode&&(Yn=ge.tickfont?ge.tickfont.size:12);var Bn=NaN;for(We=At.length-1;We>-1;We--)if(At[We].drop)At.splice(We,1);else{At[We].value=Kt(At[We].value,ge);var n2=ge.c2p(At[We].value);(Yt?Bn>n2-Yn:Bn<n2+Yn)?At.splice(Vt?We+1:We,1):Bn=n2}}tn(ge)&&360===Math.abs(St[1]-St[0])&&At.pop(),ge._tmax=(At[At.length-1]||{}).value,ge._prevDateHead="",ge._inCalcTicks=!0;var On,w2,p2=function(S2){S2.text="",ge._prevDateHead=Je};for(At=At.concat(zt),We=0;We<At.length;We++){var m2=At[We].value;At[We].minor?dn.push({x:m2,minor:!0}):(Je=ge._prevDateHead,On=F.tickText(ge,m2,!1,At[We].simpleLabel),void 0!==(w2=At[We].periodX)&&(On.periodX=w2,(w2>an||w2<Bt)&&(w2>an&&(On.periodX=an),w2<Bt&&(On.periodX=Bt),p2(On))),At[We].skipLabel&&p2(On),Wt.push(On))}return Wt=Wt.concat(dn),ge._inCalcTicks=!1,ut&&Wt.length&&(Wt[0].noTick=!0),Wt};var tt=[2,5,10],Ke=[1,2,3,6,12],$e=[1,2,5,10,15,30],Me=[1,2,3,7,14],ve=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Se=[-.301,0,.301,.699,1],Te=[15,30,45,90,180];function qe(ge,_e,We){return _e*l.roundUp(ge/_e,We)}function Oe(ge){var _e=ge.dtick;if(ge._tickexponent=0,g(_e)||"string"==typeof _e||(_e=1),"category"!==ge.type&&"multicategory"!==ge.type||(ge._tickround=null),"date"===ge.type){var We=ge.r2l(ge.tick0),Je=ge.l2r(We).replace(/(^-|i)/g,""),ft=Je.length;if("M"===String(_e).charAt(0))ge._tickround=ft>10||"01-01"!==Je.substr(5)?"d":+_e.substr(1)%12==0?"y":"m";else if(_e>=R&&ft<=10||_e>=15*R)ge._tickround="d";else if(_e>=X&&ft<=16||_e>=z)ge._tickround="M";else if(_e>=W&&ft<=19||_e>=X)ge._tickround="S";else{var st=ge.l2r(We+_e).replace(/^-/,"").length;ge._tickround=Math.max(ft,st)-20,ge._tickround<0&&(ge._tickround=4)}}else if(g(_e)||"L"===_e.charAt(0)){var et=ge.range.map(ge.r2d||Number);g(_e)||(_e=Number(_e.substr(1))),ge._tickround=2-Math.floor(Math.log(_e)/Math.LN10+.01);var ut=Math.max(Math.abs(et[0]),Math.abs(et[1])),St=Math.floor(Math.log(ut)/Math.LN10+.01),Vt=void 0===ge.minexponent?3:ge.minexponent;Math.abs(St)>Vt&&(ge._tickexponent=nt(ge.exponentformat)&&!Ye(St)?3*Math.round((St-1)/3):St)}else ge._tickround=null}function Fe(ge,_e,We){var Je=ge.tickfont||{};return{x:_e,dx:0,dy:0,text:We||"",fontSize:Je.size,font:Je.family,fontColor:Je.color}}F.autoTicks=function(ge,_e,We){var Je;function ft(an){return Math.pow(an,Math.floor(Math.log(_e)/Math.LN10))}if("date"===ge.type){ge.tick0=l.dateTick0(ge.calendar,0);var st=2*_e;if(st>A)_e/=A,Je=ft(10),ge.dtick="M"+12*qe(_e,Je,tt);else if(st>E)ge.dtick="M"+qe(_e/=E,1,Ke);else if(st>R){if(ge.dtick=qe(_e,R,ge._hasDayOfWeekBreaks?[1,2,7,14]:Me),!We){var et=F.getTickFormat(ge),ut="period"===ge.ticklabelmode;ut&&(ge._rawTick0=ge.tick0),ge.tick0=/%[uVW]/.test(et)?l.dateTick0(ge.calendar,2):l.dateTick0(ge.calendar,1),ut&&(ge._dowTick0=ge.tick0)}}else st>z?ge.dtick=qe(_e,z,Ke):st>X?ge.dtick=qe(_e,X,$e):st>W?ge.dtick=qe(_e,W,$e):(Je=ft(10),ge.dtick=qe(_e,Je,tt))}else if("log"===ge.type){ge.tick0=0;var St=l.simpleMap(ge.range,ge.r2l);if(ge._isMinor&&(_e*=1.5),_e>.7)ge.dtick=Math.ceil(_e);else if(Math.abs(St[1]-St[0])<1){var Vt=1.5*Math.abs((St[1]-St[0])/_e);_e=Math.abs(Math.pow(10,St[1])-Math.pow(10,St[0]))/Vt,Je=ft(10),ge.dtick="L"+qe(_e,Je,tt)}else ge.dtick=_e>.3?"D2":"D1"}else"category"===ge.type||"multicategory"===ge.type?(ge.tick0=0,ge.dtick=Math.ceil(Math.max(_e,1))):tn(ge)?(ge.tick0=0,ge.dtick=qe(_e,Je=1,Te)):(ge.tick0=0,Je=ft(10),ge.dtick=qe(_e,Je,tt));if(0===ge.dtick&&(ge.dtick=1),!g(ge.dtick)&&"string"!=typeof ge.dtick){var Bt=ge.dtick;throw ge.dtick=1,"ax.dtick error: "+String(Bt)}},F.tickIncrement=function(ge,_e,We,Je){var ft=We?-1:1;if(g(_e))return l.increment(ge,ft*_e);var st=_e.charAt(0),et=ft*Number(_e.substr(1));if("M"===st)return l.incrementMonth(ge,et,Je);if("L"===st)return Math.log(Math.pow(10,ge)+et)/Math.LN10;if("D"===st){var ut="D2"===_e?Se:ve,St=ge+.01*ft,Vt=l.roundUp(l.mod(St,1),ut,We);return Math.floor(St)+Math.log(s.round(Math.pow(10,Vt),1))/Math.LN10}throw"unrecognized dtick "+String(_e)},F.tickFirst=function(ge,_e){var We=ge.r2l||Number,Je=l.simpleMap(ge.range,We,void 0,void 0,_e),ft=Je[1]<Je[0],st=ft?Math.floor:Math.ceil,et=fe(Je)[0],ut=ge.dtick,St=We(ge.tick0);if(g(ut)){var Vt=st((et-St)/ut)*ut+St;return"category"!==ge.type&&"multicategory"!==ge.type||(Vt=l.constrain(Vt,0,ge._categories.length-1)),Vt}var Bt=ut.charAt(0),an=Number(ut.substr(1));if("M"===Bt){for(var Tt,Wt,dn,At=0,zt=St;At<10;){if(((Tt=F.tickIncrement(zt,ut,ft,ge.calendar))-et)*(zt-et)<=0)return ft?Math.min(zt,Tt):Math.max(zt,Tt);Wt=(et-(zt+Tt)/2)/(Tt-zt),dn=Bt+(Math.abs(Math.round(Wt))||1)*an,zt=F.tickIncrement(zt,dn,Wt<0?!ft:ft,ge.calendar),At++}return l.error("tickFirst did not converge",ge),zt}if("L"===Bt)return Math.log(st((Math.pow(10,et)-St)/an)*an+St)/Math.LN10;if("D"===Bt){var sn="D2"===ut?Se:ve,Qt=l.roundUp(l.mod(et,1),sn,ft);return Math.floor(et)+Math.log(s.round(Math.pow(10,Qt),1))/Math.LN10}throw"unrecognized dtick "+String(ut)},F.tickText=function(ge,_e,We,Je){var ft,st=Fe(ge,_e),et="array"===ge.tickmode,ut=We||et,St=ge.type,Vt="category"===St?ge.d2l_noadd:ge.d2l;if(et&&Array.isArray(ge.ticktext)){var Bt=l.simpleMap(ge.range,ge.r2l),an=(Math.abs(Bt[1]-Bt[0])-(ge._lBreaks||0))/1e4;for(ft=0;ft<ge.ticktext.length&&!(Math.abs(_e-Vt(ge.tickvals[ft]))<an);ft++);if(ft<ge.ticktext.length)return st.text=String(ge.ticktext[ft]),st}function Tt(At){return void 0===At||(We?"none"===At:"all"!==At&&_e!=={first:ge._tmin,last:ge._tmax}[At])}var zt,sn,Wt=We?"never":"none"!==ge.exponentformat&&Tt(ge.showexponent)?"hide":"";if("date"===St?function(At,zt,sn,Qt){var jt=At._tickround,en=sn&&At.hoverformat||F.getTickFormat(At);Qt&&(jt=g(jt)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[jt]);var Ft,wn=l.formatDate(zt.x,en,jt,At._dateFormat,At.calendar,At._extraFormat),bn=wn.indexOf("\n");if(-1!==bn&&(Ft=wn.substr(bn+1),wn=wn.substr(0,bn)),Qt&&("00:00:00"===wn||"00:00"===wn?(wn=Ft,Ft=""):8===wn.length&&(wn=wn.replace(/:00$/,""))),Ft)if(sn)"d"===jt?wn+=", "+Ft:wn=Ft+(wn?", "+wn:"");else if(At._inCalcTicks&&At._prevDateHead===Ft){var Sn=qt(At),Ln=At._trueSide||At.side;(!Sn&&"top"===Ln||Sn&&"bottom"===Ln)&&(wn+="<br> ")}else At._prevDateHead=Ft,wn+="<br>"+Ft;zt.text=wn}(ge,st,We,ut):"log"===St?function(At,zt,sn,Qt,jt){var en=At.dtick,Ft=zt.x,wn=At.tickformat,bn="string"==typeof en&&en.charAt(0);if("never"===jt&&(jt=""),Qt&&"L"!==bn&&(en="L3",bn="L"),wn||"L"===bn)zt.text=rt(Math.pow(10,Ft),At,jt,Qt);else if(g(en)||"D"===bn&&l.mod(Ft+.01,1)<.1){var Sn=Math.round(Ft),Ln=Math.abs(Sn),Wn=At.exponentformat;"power"===Wn||nt(Wn)&&Ye(Sn)?(zt.text=0===Sn?1:1===Sn?"10":"10<sup>"+(Sn>1?"":Z)+Ln+"</sup>",zt.fontSize*=1.25):("e"===Wn||"E"===Wn)&&Ln>2?zt.text="1"+Wn+(Sn>0?"+":Z)+Ln:(zt.text=rt(Math.pow(10,Ft),At,"","fakehover"),"D1"===en&&"y"===At._id.charAt(0)&&(zt.dy-=zt.fontSize/6))}else{if("D"!==bn)throw"unrecognized dtick "+String(en);zt.text=String(Math.round(Math.pow(10,l.mod(Ft,1)))),zt.fontSize*=.75}if("D1"===At.dtick){var kn=String(zt.text).charAt(0);"0"!==kn&&"1"!==kn||("y"===At._id.charAt(0)?zt.dx-=zt.fontSize/4:(zt.dy+=zt.fontSize/2,zt.dx+=(At.range[1]>At.range[0]?1:-1)*zt.fontSize*(Ft<0?.5:.25)))}}(ge,st,0,ut,Wt):"category"===St?(zt=st,void 0===(sn=ge._categories[Math.round(zt.x)])&&(sn=""),zt.text=String(sn)):"multicategory"===St?function(At,zt,sn){var Qt=Math.round(zt.x),jt=At._categories[Qt]||[],en=void 0===jt[1]?"":String(jt[1]),Ft=void 0===jt[0]?"":String(jt[0]);sn?zt.text=Ft+" - "+en:(zt.text=en,zt.text2=Ft)}(ge,st,We):tn(ge)?function(At,zt,sn,Qt,jt){if("radians"!==At.thetaunit||sn)zt.text=rt(zt.x,At,jt,Qt);else{var en=zt.x/180;if(0===en)zt.text="0";else{var Ft=function(bn){function Sn(Xt,It){return Math.abs(Xt-It)<=1e-6}var Ln=function(Xt){for(var It=1;!Sn(Math.round(Xt*It)/It,Xt);)It*=10;return It}(bn),Wn=bn*Ln,kn=Math.abs(function Xt(It,nn){return Sn(nn,0)?It:Xt(nn,It%nn)}(Wn,Ln));return[Math.round(Wn/kn),Math.round(Ln/kn)]}(en);if(Ft[1]>=100)zt.text=rt(l.deg2rad(zt.x),At,jt,Qt);else{var wn=zt.x<0;zt.text=1===Ft[1]?1===Ft[0]?"\u03c0":Ft[0]+"\u03c0":["<sup>",Ft[0],"</sup>","\u2044","<sub>",Ft[1],"</sub>","\u03c0"].join(""),wn&&(zt.text=Z+zt.text)}}}}(ge,st,We,ut,Wt):function(At,zt,sn,Qt,jt){"never"===jt?jt="":"all"===At.showexponent&&Math.abs(zt.x/At.dtick)<1e-6&&(jt="hide"),zt.text=rt(zt.x,At,jt,Qt)}(ge,st,0,ut,Wt),Je||(ge.tickprefix&&!Tt(ge.showtickprefix)&&(st.text=ge.tickprefix+st.text),ge.ticksuffix&&!Tt(ge.showticksuffix)&&(st.text+=ge.ticksuffix)),"boundaries"===ge.tickson||ge.showdividers){var dn=function(At){var zt=ge.l2p(At);return zt>=0&&zt<=ge._length?At:null};st.xbnd=[dn(st.x-.5),dn(st.x+ge.dtick-.5)]}return st},F.hoverLabelText=function(ge,_e,We){We&&(ge=l.extendFlat({},ge,{hoverformat:We}));var Je=Array.isArray(_e)?_e[0]:_e,ft=Array.isArray(_e)?_e[1]:void 0;if(void 0!==ft&&ft!==Je)return F.hoverLabelText(ge,Je,We)+" - "+F.hoverLabelText(ge,ft,We);var st="log"===ge.type&&Je<=0,et=F.tickText(ge,ge.c2l(st?-Je:Je),"hover").text;return st?0===Je?"0":Z+et:et};var Qe=["f","p","n","\u03bc","m","","k","M","G","T"];function nt(ge){return"SI"===ge||"B"===ge}function Ye(ge){return ge>14||ge<-15}function rt(ge,_e,We,Je){var ft=ge<0,st=_e._tickround,et=We||_e.exponentformat||"B",ut=_e._tickexponent,St=F.getTickFormat(_e),Vt=_e.separatethousands;if(Je){var Bt={exponentformat:et,minexponent:_e.minexponent,dtick:"none"===_e.showexponent?_e.dtick:g(ge)&&Math.abs(ge)||1,range:"none"===_e.showexponent?_e.range.map(_e.r2d):[0,ge||1]};Oe(Bt),st=(Number(Bt._tickround)||0)+4,ut=Bt._tickexponent,_e.hoverformat&&(St=_e.hoverformat)}if(St)return _e._numFormat(St)(ge).replace(/-/g,Z);var an,Tt=Math.pow(10,-st)/2;if("none"===et&&(ut=0),(ge=Math.abs(ge))<Tt)ge="0",ft=!1;else{if(ge+=Tt,ut&&(ge*=Math.pow(10,-ut),st+=ut),0===st)ge=String(Math.floor(ge));else if(st<0){ge=(ge=String(Math.round(ge))).substr(0,ge.length+st);for(var Wt=st;Wt<0;Wt++)ge+="0"}else{var dn=(ge=String(ge)).indexOf(".")+1;dn&&(ge=ge.substr(0,dn+st).replace(/\.?0+$/,""))}ge=l.numSeparate(ge,_e._separators,Vt)}return ut&&"hide"!==et&&(nt(et)&&Ye(ut)&&(et="power"),an=ut<0?Z+-ut:"power"!==et?"+"+ut:String(ut),"e"===et||"E"===et?ge+=et+an:"power"===et?ge+="\xd710<sup>"+an+"</sup>":"B"===et&&9===ut?ge+="B":nt(et)&&(ge+=Qe[ut/3+5])),ft?Z+ge:ge}function ht(ge,_e){for(var We=[],Je={},ft=0;ft<_e.length;ft++){var st=_e[ft];Je[st.text2]?Je[st.text2].push(st.x):Je[st.text2]=[st.x]}for(var et in Je)We.push(Fe(ge,l.interp(Je[et],.5),et));return We}function Xe(ge){return void 0!==ge.periodX?ge.periodX:ge.x}function gt(ge){return[ge.text,ge.x,ge.axInfo,ge.font,ge.fontSize,ge.fontColor].join("_")}function xt(ge){var _e=ge.title.font.size,We=(ge.title.text.match(d.BR_TAG_ALL)||[]).length;return ge.title.hasOwnProperty("standoff")?We?_e*($+We*se):_e*$:We?_e*(We+1)*se:_e}function bt(ge,_e){var We=ge.l2p(_e);return We>1&&We<ge._length-1}function Ot(ge){var _e=s.select(ge),We=_e.select(".text-math-group");return We.empty()?_e.select("text"):We}function wt(ge){return ge._id+".automargin"}function Be(ge){return wt(ge)+".mirror"}function Ge(ge){return ge._id+".rangeslider"}function vt(ge,_e){for(var We=0;We<_e.length;We++)-1===ge.indexOf(_e[We])&&ge.push(_e[We])}function Pt(ge,_e,We){var Je,ft,st=[],et=[],ut=ge.layout;for(Je=0;Je<_e.length;Je++)st.push(F.getFromId(ge,_e[Je]));for(Je=0;Je<We.length;Je++)et.push(F.getFromId(ge,We[Je]));var St=Object.keys(b),Vt=["anchor","domain","overlaying","position","side","tickangle","editType"],Bt=["linear","log"];for(Je=0;Je<St.length;Je++){var an=St[Je],Tt=st[0][an],Wt=et[0][an],dn=!0,At=!1,zt=!1;if("_"!==an.charAt(0)&&"function"!=typeof Tt&&-1===Vt.indexOf(an)){for(ft=1;ft<st.length&&dn;ft++){var sn=st[ft][an];"type"===an&&-1!==Bt.indexOf(Tt)&&-1!==Bt.indexOf(sn)&&Tt!==sn?At=!0:sn!==Tt&&(dn=!1)}for(ft=1;ft<et.length&&dn;ft++){var Qt=et[ft][an];"type"===an&&-1!==Bt.indexOf(Wt)&&-1!==Bt.indexOf(Qt)&&Wt!==Qt?zt=!0:et[ft][an]!==Wt&&(dn=!1)}dn&&(At&&(ut[st[0]._name].type="linear"),zt&&(ut[et[0]._name].type="linear"),Jt(ut,an,st,et,ge._fullLayout._dfltTitle))}}for(Je=0;Je<ge._fullLayout.annotations.length;Je++){var jt=ge._fullLayout.annotations[Je];-1!==_e.indexOf(jt.xref)&&-1!==We.indexOf(jt.yref)&&l.swapAttrs(ut.annotations[Je],["?"])}}function Jt(ge,_e,We,Je,ft){var st,et=l.nestedProperty,ut=et(ge[We[0]._name],_e).get(),St=et(ge[Je[0]._name],_e).get();for("title"===_e&&(ut&&ut.text===ft.x&&(ut.text=ft.y),St&&St.text===ft.y&&(St.text=ft.x)),st=0;st<We.length;st++)et(ge,We[st]._name+"."+_e).set(St);for(st=0;st<Je.length;st++)et(ge,Je[st]._name+"."+_e).set(ut)}function tn(ge){return"angularaxis"===ge._id}function Kt(ge,_e){for(var We=_e._rangebreaks.length,Je=0;Je<We;Je++){var ft=_e._rangebreaks[Je];if(ge>=ft.min&&ge<ft.max)return ft.max}return ge}function qt(ge){return-1!==(ge.ticklabelposition||"").indexOf("inside")}function Nt(ge,_e){qt(ge._anchorAxis||{})&&ge._hideCounterAxisInsideTickLabels&&ge._hideCounterAxisInsideTickLabels(_e)}F.getTickFormat=function(ge){var _e,We,Je,ft,st,et,ut,St,Tt,Wt,dn,At,zt,sn;function Vt(Tt){return"string"!=typeof Tt?Tt:Number(Tt.replace("M",""))*E}function Bt(Tt,Wt){var dn=["L","D"];if(typeof Tt==typeof Wt){if("number"==typeof Tt)return Tt-Wt;var At=dn.indexOf(Tt.charAt(0)),zt=dn.indexOf(Wt.charAt(0));return At===zt?Number(Tt.replace(/(L|D)/g,""))-Number(Wt.replace(/(L|D)/g,"")):At-zt}return"number"==typeof Tt?1:-1}if(ge.tickformatstops&&ge.tickformatstops.length>0)switch(ge.type){case"date":case"linear":for(_e=0;_e<ge.tickformatstops.length;_e++)if((Je=ge.tickformatstops[_e]).enabled&&(ft=ge.dtick,et=void 0,void 0,void 0,et=Vt||function(Tt){return Tt},St=(st=Je.dtickrange)[1],(!(ut=st[0])&&"number"!=typeof ut||et(ut)<=et(ft))&&(!St&&"number"!=typeof St||et(St)>=et(ft)))){We=Je;break}break;case"log":for(_e=0;_e<ge.tickformatstops.length;_e++)if((Je=ge.tickformatstops[_e]).enabled&&(dn=void 0,At=void 0,zt=void 0,sn=void 0,dn=null===(Wt=Je.dtickrange)[0],At=null===Wt[1],zt=Bt(Tt=ge.dtick,Wt[0])>=0,sn=Bt(Tt,Wt[1])<=0,(dn||zt)&&(At||sn))){We=Je;break}}return We?We.value:ge.tickformat},F.getSubplots=function(ge,_e){var We=ge._fullLayout._subplots,Je=We.cartesian.concat(We.gl2d||[]),ft=_e?F.findSubplotsWithAxis(Je,_e):Je;return ft.sort(function(st,et){var ut=st.substr(1).split("y"),St=et.substr(1).split("y");return ut[0]===St[0]?+ut[1]-+St[1]:+ut[0]-+St[0]}),ft},F.findSubplotsWithAxis=function(ge,_e){for(var We=new RegExp("x"===_e._id.charAt(0)?"^"+_e._id+"y":_e._id+"$"),Je=[],ft=0;ft<ge.length;ft++){var st=ge[ft];We.test(st)&&Je.push(st)}return Je},F.makeClipPaths=function(ge){var _e=ge._fullLayout;if(!_e._hasOnlyLargeSploms){var We,Je,ft={_offset:0,_length:_e.width,_id:""},st={_offset:0,_length:_e.height,_id:""},et=F.list(ge,"x",!0),ut=F.list(ge,"y",!0),St=[];for(We=0;We<et.length;We++)for(St.push({x:et[We],y:st}),Je=0;Je<ut.length;Je++)0===We&&St.push({x:ft,y:ut[Je]}),St.push({x:et[We],y:ut[Je]});var Vt=_e._clips.selectAll(".axesclip").data(St,function(Bt){return Bt.x._id+Bt.y._id});Vt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Bt){return"clip"+_e._uid+Bt.x._id+Bt.y._id}).append("rect"),Vt.exit().remove(),Vt.each(function(Bt){s.select(this).select("rect").attr({x:Bt.x._offset||0,y:Bt.y._offset||0,width:Bt.x._length||1,height:Bt.y._length||1})})}},F.draw=function(ge,_e,We){var Je=ge._fullLayout;"redraw"===_e&&Je._paper.selectAll("g.subplot").each(function(st){var ut=Je._plots[st[0]];if(ut){var St=ut.xaxis,Vt=ut.yaxis;ut.xaxislayer.selectAll("."+St._id+"tick").remove(),ut.yaxislayer.selectAll("."+Vt._id+"tick").remove(),ut.xaxislayer.selectAll("."+St._id+"tick2").remove(),ut.yaxislayer.selectAll("."+Vt._id+"tick2").remove(),ut.xaxislayer.selectAll("."+St._id+"divider").remove(),ut.yaxislayer.selectAll("."+Vt._id+"divider").remove(),ut.minorGridlayer&&ut.minorGridlayer.selectAll("path").remove(),ut.gridlayer&&ut.gridlayer.selectAll("path").remove(),ut.zerolinelayer&&ut.zerolinelayer.selectAll("path").remove(),Je._infolayer.select(".g-"+St._id+"title").remove(),Je._infolayer.select(".g-"+Vt._id+"title").remove()}});var ft=_e&&"redraw"!==_e?_e:F.listIds(ge);return l.syncOrAsync(ft.map(function(st){return function(){if(st){var et=F.getFromId(ge,st),ut=F.drawOne(ge,et,We);return et._r=et.range.slice(),et._rl=l.simpleMap(et._r,et.r2l),ut}}}))},F.drawOne=function(ge,_e,We){var Je,ft,st;We=We||{},_e.setScale();var et=ge._fullLayout,ut=_e._id,St=ut.charAt(0),Vt=F.counterLetter(ut),Bt=et._plots[_e._mainSubplot];if(Bt){var an=Bt[St+"axislayer"],Tt=_e._mainLinePosition,Wt=_e._mainMirrorPosition,dn=_e._vals=F.calcTicks(_e),At=[_e.mirror,Tt,Wt].join("_");for(Je=0;Je<dn.length;Je++)dn[Je].axInfo=At;_e._selections={},_e._tickAngles&&(_e._prevTickAngles=_e._tickAngles),_e._tickAngles={},_e._depth=null;var zt={};if(_e.visible){var sn,Qt,jt=F.makeTransTickFn(_e),en=F.makeTransTickLabelFn(_e),Ft="inside"===_e.ticks,wn="outside"===_e.ticks;if("boundaries"===_e.tickson){var bn=function(Un,yn){var z2,z1=[],Q2=function(J2,d1){var O1=J2.xbnd[d1];null!==O1&&z1.push(l.extendFlat({},J2,{x:O1}))};if(yn.length){for(z2=0;z2<yn.length;z2++)Q2(yn[z2],0);Q2(yn[z2-1],1)}return z1}(0,dn);Qt=F.clipEnds(_e,bn),sn=Ft?Qt:bn}else Qt=F.clipEnds(_e,dn),sn=Ft&&"period"!==_e.ticklabelmode?Qt:dn;var Sn,Ln=_e._gridVals=Qt,Wn=function(Un,yn){var z2,z1,Q2=[],J2=yn.length&&yn[yn.length-1].x<yn[0].x,d1=function(H1,A1){var j2=H1.xbnd[A1];null!==j2&&Q2.push(l.extendFlat({},H1,{x:j2}))};if(Un.showdividers&&yn.length){for(z2=0;z2<yn.length;z2++){var O1=yn[z2];O1.text2!==z1&&d1(O1,J2?1:0),z1=O1.text2}d1(yn[z2-1],J2?0:1)}return Q2}(_e,dn);if(!et._hasOnlyLargeSploms){var kn=_e._subplotsWith,Xt={};for(Je=0;Je<kn.length;Je++){var It=(st=et._plots[ft=kn[Je]])[Vt+"axis"],nn=It._mainAxis._id;if(!Xt[nn]){Xt[nn]=1;var gn="x"===St?"M0,"+It._offset+"v"+It._length:"M"+It._offset+",0h"+It._length;F.drawGrid(ge,_e,{vals:Ln,counterAxis:It,layer:st.gridlayer.select("."+ut),minorLayer:st.minorGridlayer.select("."+ut),path:gn,transFn:jt}),F.drawZeroLine(ge,_e,{counterAxis:It,layer:st.zerolinelayer,path:gn,transFn:jt})}}}var cn=F.getTickSigns(_e),Fn=F.getTickSigns(_e,"minor");if(_e.ticks||_e.minor&&_e.minor.ticks){var An,_n,r2,g2,y2=F.makeTickPath(_e,Tt,cn[2]),h2=F.makeTickPath(_e,Tt,Fn[2],{minor:!0});if(_e._anchorAxis&&_e.mirror&&!0!==_e.mirror?(An=F.makeTickPath(_e,Wt,cn[3]),_n=F.makeTickPath(_e,Wt,Fn[3],{minor:!0}),r2=y2+An,g2=h2+_n):(An="",_n="",r2=y2,g2=h2),_e.showdividers&&wn&&"boundaries"===_e.tickson){var Yt={};for(Je=0;Je<Wn.length;Je++)Yt[Wn[Je].x]=1;Sn=function(Un){return Yt[Un.x]?An:r2}}else Sn=function(Un){return Un.minor?g2:r2}}if(F.drawTicks(ge,_e,{vals:sn,layer:an,path:Sn,transFn:jt}),"allticks"===_e.mirror){var Yn=Object.keys(_e._linepositions||{});for(Je=0;Je<Yn.length;Je++){st=et._plots[ft=Yn[Je]];var Bn=_e._linepositions[ft]||[],On=Bn[1],w2=Bn[2],p2=F.makeTickPath(_e,Bn[0],w2?cn[0]:Fn[0],{minor:w2})+F.makeTickPath(_e,On,w2?cn[1]:Fn[1],{minor:w2});F.drawTicks(ge,_e,{vals:sn,layer:st[St+"axislayer"],path:p2,transFn:jt})}}var Rn=[];if(Rn.push(function(){return F.drawLabels(ge,_e,{vals:dn,layer:an,plotinfo:st,transFn:en,labelFns:F.makeLabelFns(_e,Tt)})}),"multicategory"===_e.type){var m2={x:2,y:10}[St];Rn.push(function(){var Un={x:"height",y:"width"}[St],yn=e2()[Un]+m2+(_e._tickAngles[ut+"tick"]?_e.tickfont.size*se:0);return F.drawLabels(ge,_e,{vals:ht(_e,dn),layer:an,cls:ut+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:jt,labelFns:F.makeLabelFns(_e,Tt+yn*cn[4])})}),Rn.push(function(){return _e._depth=cn[4]*(e2("tick2")[_e.side]-Tt),Un=ge,yn=_e,Q2=(z2={vals:Wn,layer:an,path:F.makeTickPath(_e,Tt,cn[4],{len:_e._depth}),transFn:jt}).vals,(J2=z2.layer.selectAll("path."+(z1=yn._id+"divider")).data(Q2,gt)).exit().remove(),J2.enter().insert("path",":first-child").classed(z1,1).classed("crisp",1).call(u.stroke,yn.dividercolor).style("stroke-width",C.crispRound(Un,yn.dividerwidth,1)+"px"),void J2.attr("transform",z2.transFn).attr("d",z2.path);var Un,yn,z2,z1,Q2,J2})}else _e.title.hasOwnProperty("standoff")&&Rn.push(function(){_e._depth=cn[4]*(e2()[_e.side]-Tt)});var S2=c.getComponentMethod("rangeslider","isVisible")(_e);return Rn.push(function(){var Un,yn,z2,z1,Q2=_e.side.charAt(0),J2=ee[_e.side].charAt(0),d1=F.getPxPosition(ge,_e),O1=wn?_e.ticklen:0;if((_e.automargin||S2)&&("multicategory"===_e.type?Un=e2("tick2"):(Un=e2(),"x"===St&&"b"===Q2&&(_e._depth=Math.max(Un.width>0?Un.bottom-d1:0,O1)))),_e.automargin){yn={x:0,y:0,r:0,l:0,t:0,b:0};var H1=[0,1];if("x"===St){if("b"===Q2?yn[Q2]=_e._depth:(yn[Q2]=_e._depth=Math.max(Un.width>0?d1-Un.top:0,O1),H1.reverse()),Un.width>0){var A1=Un.right-(_e._offset+_e._length);A1>0&&(yn.xr=1,yn.r=A1);var j2=_e._offset-Un.left;j2>0&&(yn.xl=0,yn.l=j2)}}else if("l"===Q2?yn[Q2]=_e._depth=Math.max(Un.height>0?d1-Un.left:0,O1):(yn[Q2]=_e._depth=Math.max(Un.height>0?Un.right-d1:0,O1),H1.reverse()),Un.height>0){var G2=Un.bottom-(_e._offset+_e._length);G2>0&&(yn.yb=0,yn.b=G2);var Vr=_e._offset-Un.top;Vr>0&&(yn.yt=1,yn.t=Vr)}yn[Vt]="free"===_e.anchor?_e.position:_e._anchorAxis.domain[H1[0]],_e.title.text!==et._dfltTitle[St]&&(yn[Q2]+=xt(_e)+(_e.title.standoff||0)),_e.mirror&&"free"!==_e.anchor&&((z2={x:0,y:0,r:0,l:0,t:0,b:0})[J2]=_e.linewidth,_e.mirror&&!0!==_e.mirror&&(z2[J2]+=O1),!0===_e.mirror||"ticks"===_e.mirror?z2[Vt]=_e._anchorAxis.domain[H1[1]]:"all"!==_e.mirror&&"allticks"!==_e.mirror||(z2[Vt]=[_e._counterDomainMin,_e._counterDomainMax][H1[1]]))}S2&&(z1=c.getComponentMethod("rangeslider","autoMarginOpts")(ge,_e)),p.autoMargin(ge,wt(_e),yn),p.autoMargin(ge,Be(_e),z2),p.autoMargin(ge,Ge(_e),z1)}),We.skipTitle||S2&&"bottom"===_e.side||Rn.push(function(){return function(Un,yn){var z2,z1=Un._fullLayout,Q2=yn._id,J2=Q2.charAt(0),d1=yn.title.font.size;if(yn.title.hasOwnProperty("standoff"))z2=yn._depth+yn.title.standoff+xt(yn);else{var O1=qt(yn);if("multicategory"===yn.type)z2=yn._depth;else{var H1=1.5*d1;O1&&(H1=.5*d1,"outside"===yn.ticks&&(H1+=yn.ticklen)),z2=10+H1+(yn.linewidth?yn.linewidth-1:0)}O1||(z2+="x"===J2?"top"===yn.side?d1*(yn.showticklabels?1:0):d1*(yn.showticklabels?1.5:.5):"right"===yn.side?d1*(yn.showticklabels?1:.5):d1*(yn.showticklabels?.5:0))}var A1,j2,G2,Vr,ri=F.getPxPosition(Un,yn);if("x"===J2?(j2=yn._offset+yn._length/2,G2="top"===yn.side?ri-z2:ri+z2):(G2=yn._offset+yn._length/2,j2="right"===yn.side?ri+z2:ri-z2,A1={rotate:"-90",offset:0}),"multicategory"!==yn.type){var Pi=yn._selections[yn._id+"tick"];if(Vr={selection:Pi,side:yn.side},Pi&&Pi.node()&&Pi.node().parentNode){var Nn=C.getTranslate(Pi.node().parentNode);Vr.offsetLeft=Nn.x,Vr.offsetTop=Nn.y}yn.title.hasOwnProperty("standoff")&&(Vr.pad=0)}return h.draw(Un,Q2+"title",{propContainer:yn,propName:yn._name+".title.text",placeholder:z1._dfltTitle[J2],avoid:Vr,transform:A1,attributes:{x:j2,y:G2,"text-anchor":"middle"}})}(ge,_e)}),l.syncOrAsync(Rn)}}function e2(Un){var z2,z1,Q2,J2,d1,O1,yn=ut+(Un||"tick");return zt[yn]||(zt[yn]=((z2=_e)._selections[z1=yn].size()?(Q2=1/0,J2=-1/0,d1=1/0,O1=-1/0,z2._selections[z1].each(function(){var H1=Ot(this),A1=C.bBox(H1.node().parentNode);Q2=Math.min(Q2,A1.top),J2=Math.max(J2,A1.bottom),d1=Math.min(d1,A1.left),O1=Math.max(O1,A1.right)})):(Q2=0,J2=0,d1=0,O1=0),{top:Q2,bottom:J2,left:d1,right:O1,height:J2-Q2,width:O1-d1})),zt[yn]}},F.getTickSigns=function(ge,_e){var We=ge._id.charAt(0),ft=ge.side==={x:"top",y:"right"}[We]?1:-1,st=[-1,1,ft,-ft];return"inside"!==(_e?(ge.minor||{}).ticks:ge.ticks)==("x"===We)&&(st=st.map(function(et){return-et})),ge.side&&st.push({l:-1,t:-1,r:1,b:1}[ge.side.charAt(0)]),st},F.makeTransTickFn=function(ge){return"x"===ge._id.charAt(0)?function(_e){return m(ge._offset+ge.l2p(_e.x),0)}:function(_e){return m(0,ge._offset+ge.l2p(_e.x))}},F.makeTransTickLabelFn=function(ge){var _e=function(ft){var st=ft.ticklabelposition||"",et=function(sn){return-1!==st.indexOf(sn)},ut=et("top"),St=et("left"),Vt=et("right"),Bt=et("bottom"),an=et("inside"),Tt=Bt||St||ut||Vt;if(!Tt&&!an)return[0,0];var Wt=ft.side,dn=Tt?(ft.tickwidth||0)/2:0,At=3,zt=ft.tickfont?ft.tickfont.size:12;return(Bt||ut)&&(dn+=zt*$,At+=(ft.linewidth||0)/2),(St||Vt)&&(dn+=(ft.linewidth||0)/2,At+=3),an&&"top"===Wt&&(At-=zt*(1-$)),(St||ut)&&(dn=-dn),"bottom"!==Wt&&"right"!==Wt||(At=-At),[Tt?dn:0,an?At:0]}(ge),We=_e[0],Je=_e[1];return"x"===ge._id.charAt(0)?function(ft){return m(We+ge._offset+ge.l2p(Xe(ft)),Je)}:function(ft){return m(Je,We+ge._offset+ge.l2p(Xe(ft)))}},F.makeTickPath=function(ge,_e,We,Je){Je||(Je={});var ft=Je.minor;if(ft&&!ge.minor)return"";var st=void 0!==Je.len?Je.len:ft?ge.minor.ticklen:ge.ticklen,et=ge._id.charAt(0),ut=(ge.linewidth||1)/2;return"x"===et?"M0,"+(_e+ut*We)+"v"+st*We:"M"+(_e+ut*We)+",0h"+st*We},F.makeLabelFns=function(ge,_e,We){var Je=ge.ticklabelposition||"",ft=function(kn){return-1!==Je.indexOf(kn)},st=ft("top"),et=ft("left"),ut=ft("right"),St=ft("bottom")||et||st||ut,Vt=ft("inside"),Bt="inside"===Je&&"inside"===ge.ticks||!Vt&&"outside"===ge.ticks&&"boundaries"!==ge.tickson,an=0,Tt=0,Wt=Bt?ge.ticklen:0;if(Vt?Wt*=-1:St&&(Wt=0),Bt&&(an+=Wt,We)){var dn=l.deg2rad(We);an=Wt*Math.cos(dn)+1,Tt=Wt*Math.sin(dn)}ge.showticklabels&&(Bt||ge.showline)&&(an+=.2*ge.tickfont.size);var At,zt,sn,Qt,jt,en={labelStandoff:an+=(ge.linewidth||1)/2*(Vt?-1:1),labelShift:Tt},Ft=0,wn=ge.side,bn=ge._id.charAt(0),Sn=ge.tickangle;if("x"===bn)Qt=(jt=!Vt&&"bottom"===wn||Vt&&"top"===wn)?1:-1,Vt&&(Qt*=-1),At=Tt*Qt,zt=_e+an*Qt,sn=jt?1:-.2,90===Math.abs(Sn)&&(Vt?sn+=j:sn=-90===Sn&&"bottom"===wn?$:90===Sn&&"top"===wn?j:.5,Ft=j/2*(Sn/90)),en.xFn=function(kn){return kn.dx+At+Ft*kn.fontSize},en.yFn=function(kn){return kn.dy+zt+kn.fontSize*sn},en.anchorFn=function(kn,Xt){if(St){if(et)return"end";if(ut)return"start"}return g(Xt)&&0!==Xt&&180!==Xt?Xt*Qt<0!==Vt?"end":"start":"middle"},en.heightFn=function(kn,Xt,It){return Xt<-60||Xt>60?-.5*It:"top"===ge.side!==Vt?-It:0};else if("y"===bn){if(Qt=(jt=!Vt&&"left"===wn||Vt&&"right"===wn)?1:-1,Vt&&(Qt*=-1),At=an,zt=Tt*Qt,sn=0,Vt||90!==Math.abs(Sn)||(sn=-90===Sn&&"left"===wn||90===Sn&&"right"===wn?$:.5),Vt){var Ln=g(Sn)?+Sn:0;if(0!==Ln){var Wn=l.deg2rad(Ln);Ft=Math.abs(Math.sin(Wn))*$*Qt,sn=0}}en.xFn=function(kn){return kn.dx+_e-(At+kn.fontSize*sn)*Qt+Ft*kn.fontSize},en.yFn=function(kn){return kn.dy+zt+kn.fontSize*j},en.anchorFn=function(kn,Xt){return g(Xt)&&90===Math.abs(Xt)?"middle":jt?"end":"start"},en.heightFn=function(kn,Xt,It){return"right"===ge.side&&(Xt*=-1),Xt<-30?-It:Xt<30?-.5*It:0}}return en},F.drawTicks=function(ge,_e,We){We=We||{};var Je=_e._id+"tick",ft=[].concat(_e.minor&&_e.minor.ticks?We.vals.filter(function(et){return et.minor&&!et.noTick}):[]).concat(_e.ticks?We.vals.filter(function(et){return!et.minor&&!et.noTick}):[]),st=We.layer.selectAll("path."+Je).data(ft,gt);st.exit().remove(),st.enter().append("path").classed(Je,1).classed("ticks",1).classed("crisp",!1!==We.crisp).each(function(et){return u.stroke(s.select(this),et.minor?_e.minor.tickcolor:_e.tickcolor)}).style("stroke-width",function(et){return C.crispRound(ge,et.minor?_e.minor.tickwidth:_e.tickwidth,1)+"px"}).attr("d",We.path).style("display",null),Nt(_e,[ie]),st.attr("transform",We.transFn)},F.drawGrid=function(ge,_e,We){We=We||{};var Je=_e._id+"grid",ft=_e.minor&&_e.minor.showgrid,st=ft?We.vals.filter(function(sn){return sn.minor}):[],et=_e.showgrid?We.vals.filter(function(sn){return!sn.minor}):[],ut=We.counterAxis;if(ut&&F.shouldShowZeroLine(ge,_e,ut))for(var St="array"===_e.tickmode,Vt=0;Vt<et.length;Vt++){var Bt=et[Vt].x;if(St?!Bt:Math.abs(Bt)<_e.dtick/100){if(et=et.slice(0,Vt).concat(et.slice(Vt+1)),!St)break;Vt--}}_e._gw=C.crispRound(ge,_e.gridwidth,1);for(var an=ft?C.crispRound(ge,_e.minor.gridwidth,1):0,Tt=We.layer,Wt=We.minorLayer,dn=1;dn>=0;dn--){var At=dn?Tt:Wt;if(At){var zt=At.selectAll("path."+Je).data(dn?et:st,gt);zt.exit().remove(),zt.enter().append("path").classed(Je,1).classed("crisp",!1!==We.crisp),zt.attr("transform",We.transFn).attr("d",We.path).each(function(sn){return u.stroke(s.select(this),sn.minor?_e.minor.gridcolor:_e.gridcolor||"#ddd")}).style("stroke-dasharray",function(sn){return C.dashStyle(sn.minor?_e.minor.griddash:_e.griddash,sn.minor?_e.minor.gridwidth:_e.gridwidth)}).style("stroke-width",function(sn){return(sn.minor?an:_e._gw)+"px"}).style("display",null),"function"==typeof We.path&&zt.attr("d",We.path)}}Nt(_e,[oe,Ce])},F.drawZeroLine=function(ge,_e,We){var Je=_e._id+"zl",ft=F.shouldShowZeroLine(ge,_e,(We=We||We).counterAxis),st=We.layer.selectAll("path."+Je).data(ft?[{x:0,id:_e._id}]:[]);st.exit().remove(),st.enter().append("path").classed(Je,1).classed("zl",1).classed("crisp",!1!==We.crisp).each(function(){We.layer.selectAll("path").sort(function(et,ut){return B(et.id,ut.id)})}),st.attr("transform",We.transFn).attr("d",We.path).call(u.stroke,_e.zerolinecolor||u.defaultLine).style("stroke-width",C.crispRound(ge,_e.zerolinewidth,_e._gw||1)+"px").style("display",null),Nt(_e,[te])},F.drawLabels=function(ge,_e,We){We=We||{};var Je=ge._fullLayout,ft=_e._id,st=ft.charAt(0),et=We.cls||ft+"tick",ut=We.vals.filter(function(Qt){return Qt.text}),St=We.labelFns,Vt=We.secondary?0:_e.tickangle,Bt=(_e._prevTickAngles||{})[et],an=We.layer.selectAll("g."+et).data(_e.showticklabels?ut:[],gt),Tt=[];function Wt(Qt,jt){Qt.each(function(en){var Ft=s.select(this),wn=Ft.select(".text-math-group"),bn=St.anchorFn(en,jt),Sn=We.transFn.call(Ft.node(),en)+(g(jt)&&0!=+jt?" rotate("+jt+","+St.xFn(en)+","+(St.yFn(en)-en.fontSize/2)+")":""),Ln=d.lineCount(Ft),Wn=se*en.fontSize,kn=St.heightFn(en,g(jt)?+jt:0,(Ln-1)*Wn);if(kn&&(Sn+=m(0,kn)),wn.empty()){var Xt=Ft.select("text");Xt.attr({transform:Sn,"text-anchor":bn}),Xt.style("opacity",1),_e._adjustTickLabelsOverflow&&_e._adjustTickLabelsOverflow()}else{var It=C.bBox(wn.node()).width*{end:-.5,start:.5}[bn];wn.attr("transform",Sn+m(It,0))}})}an.enter().append("g").classed(et,1).append("text").attr("text-anchor","middle").each(function(Qt){var jt=s.select(this),en=ge._promises.length;jt.call(d.positionText,St.xFn(Qt),St.yFn(Qt)).call(C.font,Qt.font,Qt.fontSize,Qt.fontColor).text(Qt.text).call(d.convertToTspans,ge),ge._promises[en]?Tt.push(ge._promises.pop().then(function(){Wt(jt,Vt)})):Wt(jt,Vt)}),Nt(_e,[Q]),an.exit().remove(),We.repositionOnUpdate&&an.each(function(Qt){s.select(this).select("text").call(d.positionText,St.xFn(Qt),St.yFn(Qt))}),_e._adjustTickLabelsOverflow=function(){var Qt=_e.ticklabeloverflow;if(Qt&&"allow"!==Qt){var jt=-1!==Qt.indexOf("hide"),en="x"===_e._id.charAt(0),Ft=0,wn=en?ge._fullLayout.width:ge._fullLayout.height;if(-1!==Qt.indexOf("domain")){var bn=l.simpleMap(_e.range,_e.r2l);Ft=_e.l2p(bn[0])+_e._offset,wn=_e.l2p(bn[1])+_e._offset}var Sn=Math.min(Ft,wn),Ln=Math.max(Ft,wn),Wn=_e.side,kn=1/0,Xt=-1/0;for(var It in an.each(function(cn){var Fn=s.select(this);if(Fn.select(".text-math-group").empty()){var An=C.bBox(Fn.node()),_n=0;en?(An.right>Ln||An.left<Sn)&&(_n=1):(An.bottom>Ln||An.top+(_e.tickangle?0:cn.fontSize/4)<Sn)&&(_n=1);var r2=Fn.select("text");_n?jt&&r2.style("opacity",0):(r2.style("opacity",1),kn="bottom"===Wn||"right"===Wn?Math.min(kn,en?An.top:An.left):-1/0,Xt="top"===Wn||"left"===Wn?Math.max(Xt,en?An.bottom:An.right):1/0)}}),Je._plots){var nn=Je._plots[It];if(_e._id===nn.xaxis._id||_e._id===nn.yaxis._id){var gn=en?nn.yaxis:nn.xaxis;gn&&(gn["_visibleLabelMin_"+_e._id]=kn,gn["_visibleLabelMax_"+_e._id]=Xt)}}}},_e._hideCounterAxisInsideTickLabels=function(Qt){var jt="x"===_e._id.charAt(0),en=[];for(var Ft in Je._plots){var wn=Je._plots[Ft];_e._id!==wn.xaxis._id&&_e._id!==wn.yaxis._id||en.push(jt?wn.yaxis:wn.xaxis)}en.forEach(function(bn,Sn){bn&&qt(bn)&&(Qt||[te,Ce,oe,ie,Q]).forEach(function(Ln){var Wn="tick"===Ln.K&&"text"===Ln.L&&"period"===_e.ticklabelmode,kn=Je._plots[_e._mainSubplot];(Ln.K===te.K?kn.zerolinelayer.selectAll("."+_e._id+"zl"):Ln.K===Ce.K?kn.minorGridlayer.selectAll("."+_e._id):Ln.K===oe.K?kn.gridlayer.selectAll("."+_e._id):kn[_e._id.charAt(0)+"axislayer"]).each(function(){var Xt=s.select(this);Ln.L&&(Xt=Xt.selectAll(Ln.L)),Xt.each(function(It){var nn=_e.l2p(Wn?Xe(It):It.x)+_e._offset,gn=s.select(this);nn<_e["_visibleLabelMax_"+bn._id]&&nn>_e["_visibleLabelMin_"+bn._id]?gn.style("display","none"):"tick"!==Ln.K||Sn||gn.style("display",null)})})})})},Wt(an,Bt+1?Bt:Vt);var dn=null;_e._selections&&(_e._selections[et]=an);var At=[function(){return Tt.length&&Promise.all(Tt)}];_e.automargin&&Je._redrawFromAutoMarginCount&&90===Bt?(dn=90,At.push(function(){Wt(an,Bt)})):At.push(function(){if(Wt(an,Vt),ut.length&&"x"===st&&!g(Vt)&&("log"!==_e.type||"D"!==String(_e.dtick).charAt(0))){dn=0;var Qt,jt=0,en=[];if(an.each(function(Fn){jt=Math.max(jt,Fn.fontSize);var An=_e.l2p(Fn.x),_n=Ot(this),r2=C.bBox(_n.node());en.push({top:0,bottom:10,height:10,left:An-r2.width/2,right:An+r2.width/2+2,width:r2.width+2})}),"boundaries"!==_e.tickson&&!_e.showdividers||We.secondary){var Ft=ut.length,wn=Math.abs((ut[Ft-1].x-ut[0].x)*_e._m)/(Ft-1),bn=_e.ticklabelposition||"",Sn=function(Fn){return-1!==bn.indexOf(Fn)},Ln=Sn("top"),Wn=Sn("left"),kn=Sn("right"),Xt=Sn("bottom")||Wn||Ln||kn?(_e.tickwidth||0)+6:0,It=wn<2.5*jt||"multicategory"===_e.type||"realaxis"===_e._name;for(Qt=0;Qt<en.length-1;Qt++)if(l.bBoxIntersect(en[Qt],en[Qt+1],Xt)){dn=It?90:30;break}}else{var nn=2;for(_e.ticks&&(nn+=_e.tickwidth/2),Qt=0;Qt<en.length;Qt++){var gn=ut[Qt].xbnd,cn=en[Qt];if(null!==gn[0]&&cn.left-_e.l2p(gn[0])<nn||null!==gn[1]&&_e.l2p(gn[1])-cn.right<nn){dn=90;break}}}dn&&Wt(an,dn)}}),_e._tickAngles&&At.push(function(){_e._tickAngles[et]=null===dn?g(Vt)?Vt:0:dn});var zt=_e._anchorAxis;zt&&zt.autorange&&qt(_e)&&!ae(Je,_e._id)&&(Je._insideTickLabelsAutorange||(Je._insideTickLabelsAutorange={}),Je._insideTickLabelsAutorange[zt._name+".autorange"]=zt.autorange,At.push(function(){an.each(function(Qt,jt){var en=Ot(this);en.select(".text-math-group").empty()&&(_e._vals[jt].bb=C.bBox(en.node()))})}));var sn=l.syncOrAsync(At);return sn&&sn.then&&ge._promises.push(sn),sn},F.getPxPosition=function(ge,_e){var We,Je=ge._fullLayout._size,ft=_e._id.charAt(0),st=_e.side;return"free"!==_e.anchor?We=_e._anchorAxis:"x"===ft?We={_offset:Je.t+(1-(_e.position||0))*Je.h,_length:0}:"y"===ft&&(We={_offset:Je.l+(_e.position||0)*Je.w,_length:0}),"top"===st||"left"===st?We._offset:"bottom"===st||"right"===st?We._offset+We._length:void 0},F.shouldShowZeroLine=function(ge,_e,We){var Je=l.simpleMap(_e.range,_e.r2l);return Je[0]*Je[1]<=0&&_e.zeroline&&("linear"===_e.type||"-"===_e.type)&&!(_e.rangebreaks&&_e.maskBreaks(0)===ne)&&(bt(_e,0)||!function(ft,st,et,ut){var St=et._mainAxis;if(St){var Vt=ft._fullLayout,Bt=st._id.charAt(0),an=F.counterLetter(st._id),Tt=st._offset+(Math.abs(ut[0])<Math.abs(ut[1])==("x"===Bt)?0:st._length),dn=Vt._plots[et._mainSubplot];if(!(dn.mainplotinfo||dn).overlays.length)return Wt(et);for(var At=F.list(ft,an),zt=0;zt<At.length;zt++){var sn=At[zt];if(sn._mainAxis===St&&Wt(sn))return!0}}function Wt(Qt){if(!Qt.showline||!Qt.linewidth)return!1;var jt=Math.max((Qt.linewidth+st.zerolinewidth)/2,1);function en(bn){return"number"==typeof bn&&Math.abs(bn-Tt)<jt}if(en(Qt._mainLinePosition)||en(Qt._mainMirrorPosition))return!0;var Ft=Qt._linepositions||{};for(var wn in Ft)if(en(Ft[wn][0])||en(Ft[wn][1]))return!0}}(ge,_e,We,Je)||function(ft,st){for(var et=ft._fullData,ut=st._mainSubplot,St=st._id.charAt(0),Vt=0;Vt<et.length;Vt++){var Bt=et[Vt];if(!0===Bt.visible&&Bt.xaxis+Bt.yaxis===ut&&(c.traceIs(Bt,"bar-like")&&Bt.orientation==={x:"h",y:"v"}[St]||Bt.fill&&Bt.fill.charAt(Bt.fill.length-1)===St))return!0}return!1}(ge,_e))},F.clipEnds=function(ge,_e){return _e.filter(function(We){return bt(ge,We.x)})},F.allowAutoMargin=function(ge){for(var _e=F.list(ge,"",!0),We=0;We<_e.length;We++){var Je=_e[We];Je.automargin&&(p.allowAutoMargin(ge,wt(Je)),Je.mirror&&p.allowAutoMargin(ge,Be(Je))),c.getComponentMethod("rangeslider","isVisible")(Je)&&p.allowAutoMargin(ge,Ge(Je))}},F.swap=function(ge,_e){for(var We=function(ft,st){var et,ut,St=[];for(et=0;et<st.length;et++){var Vt=[],Bt=ft._fullData[st[et]].xaxis,an=ft._fullData[st[et]].yaxis;if(Bt&&an){for(ut=0;ut<St.length;ut++)-1===St[ut].x.indexOf(Bt)&&-1===St[ut].y.indexOf(an)||Vt.push(ut);if(Vt.length){var Tt,Wt=St[Vt[0]];if(Vt.length>1)for(ut=1;ut<Vt.length;ut++)vt(Wt.x,(Tt=St[Vt[ut]]).x),vt(Wt.y,Tt.y);vt(Wt.x,[Bt]),vt(Wt.y,[an])}else St.push({x:[Bt],y:[an]})}}return St}(ge,_e),Je=0;Je<We.length;Je++)Pt(ge,We[Je].x,We[Je].y)}},{"../../components/color":102,"../../components/drawing":124,"../../components/titles":200,"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"./autorange":278,"./axis_autotype":280,"./axis_ids":283,"./clean_ticks":285,"./layout_attributes":294,"./set_convert":301,"@plotly/d3":11,"fast-isnumeric":17}],280:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib"),p=v("../../constants/numerical").BADNUM,c=g.isArrayOrTypedArray,l=g.isDateTime,m=g.cleanNumber,d=Math.round;function h(C,b){return b?s(C):"number"==typeof C}function u(C){return Math.max(1,(C-1)/1e3)}pe.exports=function(C,b,M){var I,w=C,N=M.noMultiCategory;if(c(w)&&!w.length)return"-";if(!N&&c((I=w)[0])&&c(I[1]))return"multicategory";if(N&&Array.isArray(w[0])){for(var A=[],k=0;k<w.length;k++)if(c(w[k]))for(var H=0;H<w[k].length;H++)A.push(w[k][H]);w=A}if(function(I,D){for(var E=I.length,P=u(E),S=0,R=0,G={},z=0;z<E;z+=P){var W=I[d(z)],Z=String(W);G[Z]||(G[Z]=1,l(W,D)&&S++,s(W)&&R++)}return S>2*R}(w,b))return"date";var L="strict"!==M.autotypenumbers;return function(I,D){for(var E=I.length,P=u(E),S=0,R=0,G={},z=0;z<E;z+=P){var W=I[d(z)],Z=String(W);if(!G[Z]){G[Z]=1;var ne=typeof W;"boolean"===ne?R++:(D?m(W)!==p:"number"===ne)?S++:"string"===ne&&R++}}return R>2*S}(w,L)?"category":function(I,D){for(var E=I.length,P=0;P<E;P++)if(h(I[P],D))return!0;return!1}(w,L)?"linear":"-"}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],281:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../registry"),p=v("../../lib"),c=v("../../plot_api/plot_template"),l=v("../array_container_defaults"),m=v("./layout_attributes"),d=v("./tick_value_defaults"),h=v("./tick_mark_defaults"),u=v("./tick_label_defaults"),C=v("./prefix_suffix_defaults"),b=v("./category_order_defaults"),M=v("./line_grid_defaults"),w=v("./set_convert"),N=v("./constants").WEEKDAY_PATTERN,A=v("./constants").HOUR_PATTERN;function k(I,D,E){function P(ne,te){return p.coerce(I,D,m.rangebreaks,ne,te)}if(P("enabled")){var S=P("bounds");if(S&&S.length>=2){var R,G,z="";if(2===S.length)for(R=0;R<2;R++)if(G=L(S[R])){z=N;break}var X=P("pattern",z);if(X===N)for(R=0;R<2;R++)(G=L(S[R]))&&(D.bounds[R]=S[R]=G-1);if(X)for(R=0;R<2;R++)switch(G=S[R],X){case N:if(!s(G)||(G=+G)!==Math.floor(G)||G<0||G>=7)return void(D.enabled=!1);D.bounds[R]=S[R]=G;break;case A:if(!s(G)||(G=+G)<0||G>24)return void(D.enabled=!1);D.bounds[R]=S[R]=G}if(!1===E.autorange){var W=E.range;if(W[0]<W[1]){if(S[0]<W[0]&&S[1]>W[1])return void(D.enabled=!1)}else if(S[0]>W[0]&&S[1]<W[1])return void(D.enabled=!1)}}else{var Z=P("values");if(!Z||!Z.length)return void(D.enabled=!1);P("dvalue")}}}pe.exports=function(I,D,E,P,S){var R,G=P.letter,z=P.font||{},X=P.splomStash||{},W=E("visible",!P.visibleDflt),ne=D.type||(D._template||{}).type||"-";"date"===ne&&(g.getComponentMethod("calendars","handleDefaults")(I,D,"calendar",P.calendar),P.noTicklabelmode||(R=E("ticklabelmode")));var te="";P.noTicklabelposition&&"multicategory"!==ne||(te=p.coerce(I,D,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===R?["outside","inside"]:"x"===G?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),P.noTicklabeloverflow||E("ticklabeloverflow",-1!==te.indexOf("inside")?"hide past domain":"category"===ne||"multicategory"===ne?"allow":"hide past div"),w(D,S);var oe=!D.isValidRange(I.range);oe&&P.reverseDflt&&(oe="reversed"),!E("autorange",oe)||"linear"!==ne&&"-"!==ne||E("rangemode"),E("range"),D.cleanRange(),b(I,D,E,P),"category"===ne||P.noHover||E("hoverformat");var Ce=E("color"),ie=Ce!==m.color.dflt?Ce:z.color,Q=X.label||S._dfltTitle[G];if(C(I,D,E,ne,P),!W)return D;E("title.text",Q),p.coerceFont(E,"title.font",{family:z.family,size:p.bigFont(z.size),color:ie}),d(I,D,E,ne);var le=P.hasMinor;if(le&&(c.newContainer(D,"minor"),d(I,D,E,ne,{isMinor:!0})),u(I,D,E,ne,P),h(I,D,E,P),le){var j=P.isMinor;P.isMinor=!0,h(I,D,E,P),P.isMinor=j}M(I,D,E,{dfltColor:Ce,bgColor:P.bgColor,showGrid:P.showGrid,hasMinor:le,attributes:m}),!le||D.minor.ticks||D.minor.showgrid||delete D.minor,(D.showline||D.ticks)&&E("mirror"),P.automargin&&E("automargin");var $,se="multicategory"===ne;if(P.noTickson||"category"!==ne&&!se||!D.ticks&&!D.showgrid||(se&&($="boundaries"),"boundaries"===E("tickson",$)&&delete D.ticklabelposition),se&&E("showdividers")&&(E("dividercolor"),E("dividerwidth")),"date"===ne)if(l(I,D,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:k}),D.rangebreaks.length){for(var ee=0;ee<D.rangebreaks.length;ee++)if(D.rangebreaks[ee].pattern===N){D._hasDayOfWeekBreaks=!0;break}if(w(D,S),S._has("scattergl")||S._has("splom"))for(var F=0;F<P.data.length;F++){var O=P.data[F];"scattergl"!==O.type&&"splom"!==O.type||(O.visible=!1,p.warn(O.type+" traces do not work on axes with rangebreaks. Setting trace "+O.index+" to `visible: false`."))}}else delete D.rangebreaks;return D};var H={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function L(I){if("string"==typeof I)return H[I.substr(0,3).toLowerCase()]}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"../array_container_defaults":274,"./category_order_defaults":284,"./constants":286,"./layout_attributes":294,"./line_grid_defaults":296,"./prefix_suffix_defaults":298,"./set_convert":301,"./tick_label_defaults":303,"./tick_mark_defaults":304,"./tick_value_defaults":305,"fast-isnumeric":17}],282:[function(v,pe,J){"use strict";var s=v("../../constants/docs"),g=s.FORMAT_LINK,p=s.DATE_FORMAT_LINK;function c(m,d){return["Sets the "+m+" formatting rule"+(d?"for `"+d+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+g+"."].join(" ")}function l(m,d){return c(m,d)+[" And for dates see: "+p+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}pe.exports={axisHoverFormat:function(m,d){return{valType:"string",dflt:"",editType:"none",description:(d?c:l)("hover text",m)+["By default the values are formatted using "+(d?"generic number format":"`"+m+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:c,descriptionWithDates:l}},{"../../constants/docs":209}],283:[function(v,pe,J){"use strict";var s=v("../../registry"),g=v("./constants");function p(c,l){if(l&&l.length)for(var m=0;m<l.length;m++)if(l[m][c])return!0;return!1}J.id2name=function(c){if("string"==typeof c&&c.match(g.AX_ID_PATTERN)){var l=c.split(" ")[0].substr(1);return"1"===l&&(l=""),c.charAt(0)+"axis"+l}},J.name2id=function(c){if(c.match(g.AX_NAME_PATTERN)){var l=c.substr(5);return"1"===l&&(l=""),c.charAt(0)+l}},J.cleanId=function(c,l,m){var d=/( domain)$/.test(c);if("string"==typeof c&&c.match(g.AX_ID_PATTERN)&&(!l||c.charAt(0)===l)&&(!d||m)){var h=c.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===h&&(h=""),c.charAt(0)+h+(d&&m?" domain":"")}},J.list=function(c,l,m){var d=c._fullLayout;if(!d)return[];var h,u=J.listIds(c,l),C=new Array(u.length);for(h=0;h<u.length;h++){var b=u[h];C[h]=d[b.charAt(0)+"axis"+b.substr(1)]}if(!m){var M=d._subplots.gl3d||[];for(h=0;h<M.length;h++){var w=d[M[h]];l?C.push(w[l+"axis"]):C.push(w.xaxis,w.yaxis,w.zaxis)}}return C},J.listIds=function(c,l){var m=c._fullLayout;if(!m)return[];var d=m._subplots;return l?d[l+"axis"]:d.xaxis.concat(d.yaxis)},J.getFromId=function(c,l,m){var d=c._fullLayout;return l=void 0===l||"string"!=typeof l?l:l.replace(" domain",""),"x"===m?l=l.replace(/y[0-9]*/,""):"y"===m&&(l=l.replace(/x[0-9]*/,"")),d[J.id2name(l)]},J.getFromTrace=function(c,l,m){var d=c._fullLayout,h=null;if(s.traceIs(l,"gl3d")){var u=l.scene;"scene"===u.substr(0,5)&&(h=d[u][m+"axis"])}else h=J.getFromId(c,l[m+"axis"]||m);return h},J.idSort=function(c,l){var m=c.charAt(0),d=l.charAt(0);return m!==d?m>d?1:-1:+(c.substr(1)||1)-+(l.substr(1)||1)},J.ref2id=function(c){return!!/^[xyz]/.test(c)&&c.split(" ")[0]},J.isLinked=function(c,l){return p(l,c._axisMatchGroups)||p(l,c._axisConstraintGroups)}},{"../../registry":318,"./constants":286}],284:[function(v,pe,J){"use strict";pe.exports=function(s,g,p,c){if("category"===g.type){var l,m=s.categoryarray,d=Array.isArray(m)&&m.length>0;d&&(l="array");var h,u=p("categoryorder",l);"array"===u&&(h=p("categoryarray")),d||"array"!==u||(u=g.categoryorder="trace"),"trace"===u?g._initialCategories=[]:"array"===u?g._initialCategories=h.slice():(h=function(C,b){var M,w,N,A=b.dataAttr||C._id.charAt(0),k={};if(b.axData)M=b.axData;else for(M=[],w=0;w<b.data.length;w++){var H=b.data[w];H[A+"axis"]===C._id&&M.push(H)}for(w=0;w<M.length;w++){var L=M[w][A];for(N=0;N<L.length;N++){var I=L[N];null!=I&&(k[I]=1)}}return Object.keys(k)}(g,c).sort(),"category ascending"===u?g._initialCategories=h:"category descending"===u&&(g._initialCategories=h.reverse()))}}},{}],285:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib"),p=v("../../constants/numerical"),c=p.ONEDAY,l=p.ONEWEEK;J.dtick=function(m,d){var h="log"===d,u="date"===d,C="category"===d,b=u?c:1;if(!m)return b;if(s(m))return(m=Number(m))<=0?b:C?Math.max(1,Math.round(m)):u?Math.max(.1,m):m;if("string"!=typeof m||!u&&!h)return b;var M=m.charAt(0),w=m.substr(1);return(w=s(w)?Number(w):0)<=0||!(u&&"M"===M&&w===Math.round(w)||h&&"L"===M||h&&"D"===M&&(1===w||2===w))?b:m},J.tick0=function(m,d,h,u){return"date"===d?g.cleanDate(m,g.dateTick0(h,u%l==0?1:0)):"D1"!==u&&"D2"!==u?s(m)?Number(m):0:void 0}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],286:[function(v,pe,J){"use strict";var s=v("../../lib/regex").counter;pe.exports={idRegex:{x:s("x","( domain)?"),y:s("y","( domain)?")},attrRegex:s("[xy]axis"),xAxisMatch:s("xaxis"),yAxisMatch:s("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":248}],287:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("./autorange"),p=v("./axis_ids").id2name,c=v("./layout_attributes"),l=v("./scale_zoom"),m=v("./set_convert"),d=v("../../constants/numerical").ALMOST_EQUAL,h=v("../../constants/alignment").FROM_BL;function u(k,H,L){var I=L.axIds,D=L.layoutOut,E=L.hasImage,P=D._axisConstraintGroups,S=D._axisMatchGroups,R=H._id,G=R.charAt(0),z=((D._splomAxes||{})[G]||{})[R]||{},X=H._id,W="x"===X.charAt(0);function Z(Y,B){return s.coerce(k,H,c,Y,B)}H._matchGroup=null,H._constraintGroup=null,Z("constrain",E?"domain":"range"),s.coerce(k,H,{constraintoward:{valType:"enumerated",values:W?["left","center","right"]:["bottom","middle","top"],dflt:W?"center":"middle"}},"constraintoward");var ne,te,oe=H.type,Ce=[];for(ne=0;ne<I.length;ne++)(te=I[ne])!==X&&D[p(te)].type===oe&&Ce.push(te);var ie=b(P,X);if(ie){var Q=[];for(ne=0;ne<Ce.length;ne++)ie[te=Ce[ne]]||Q.push(te);Ce=Q}var le,j,$=Ce.length;$&&(k.matches||z.matches)&&(le=s.coerce(k,H,{matches:{valType:"enumerated",values:Ce,dflt:-1!==Ce.indexOf(z.matches)?z.matches:void 0}},"matches"));var se=E&&!W?H.anchor:void 0;if($&&!le&&(k.scaleanchor||se)&&(j=s.coerce(k,H,{scaleanchor:{valType:"enumerated",values:Ce}},"scaleanchor",se)),le){H._matchGroup=M(S,X,le,1);var ee=D[p(le)],F=C(D,H)/C(D,ee);W!==("x"===le.charAt(0))&&(F=(W?"x":"y")+F),M(P,X,le,F)}else k.matches&&-1!==I.indexOf(k.matches)&&s.warn("ignored "+H._name+'.matches: "'+k.matches+'" to avoid an infinite loop');if(j){var O=Z("scaleratio");O||(O=H.scaleratio=1),M(P,X,j,O)}else k.scaleanchor&&-1!==I.indexOf(k.scaleanchor)&&s.warn("ignored "+H._name+'.scaleanchor: "'+k.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function C(k,H){var L=H.domain;return L||(L=k[p(H.overlaying)].domain),L[1]-L[0]}function b(k,H){for(var L=0;L<k.length;L++)if(k[L][H])return k[L];return null}function M(k,H,L,I){var D,E,P,S,R,G=b(k,H);null===G?((G={})[H]=1,R=k.length,k.push(G)):R=k.indexOf(G);var z=Object.keys(G);for(D=0;D<k.length;D++)if(P=k[D],D!==R&&P[L]){var X=P[L];for(E=0;E<z.length;E++)P[S=z[E]]=w(X,w(I,G[S]));return void k.splice(R,1)}if(1!==I)for(E=0;E<z.length;E++){var W=z[E];G[W]=w(I,G[W])}G[L]=1}function w(k,H){var L,I,D="",E="";"string"==typeof k&&(L=(D=k.match(/^[xy]*/)[0]).length,k=+k.substr(L)),"string"==typeof H&&(I=(E=H.match(/^[xy]*/)[0]).length,H=+H.substr(I));var P=k*H;return L||I?L&&I&&D.charAt(0)!==E.charAt(0)?L===I?P:(L>I?D.substr(I):E.substr(L))+P:D+E+k*H:P}function N(k,H){for(var L=H._size,I=L.h/L.w,D={},E=Object.keys(k),P=0;P<E.length;P++){var S=E[P],R=k[S];if("string"==typeof R){var G=R.match(/^[xy]*/)[0],z=G.length;R=+R.substr(z);for(var X="y"===G.charAt(0)?I:1/I,W=0;W<z;W++)R*=X}D[S]=R}return D}function A(k,H){var L=k._inputDomain,D=L[0]+(L[1]-L[0])*h[k.constraintoward];k.domain=k._input.domain=[D+(L[0]-D)/H,D+(L[1]-D)/H],k.setScale()}J.handleDefaults=function(k,H,L){var I,D,E,P,S,R,G,z,X=L.axIds,W=L.axHasImage,Z=H._axisConstraintGroups=[],ne=H._axisMatchGroups=[];for(I=0;I<X.length;I++)u(S=k[P=p(X[I])],R=H[P],{axIds:X,layoutOut:H,hasImage:W[P]});function te(ee,F){for(I=0;I<ee.length;I++)for(E in D=ee[I])H[p(E)][F]=D}for(te(ne,"_matchGroup"),I=0;I<Z.length;I++)for(E in D=Z[I])if((R=H[p(E)]).fixedrange){for(var oe in D){var Ce=p(oe);!1===(k[Ce]||{}).fixedrange&&s.warn("fixedrange was specified as false for axis "+Ce+" but was overridden because another axis in its constraint group has fixedrange true"),H[Ce].fixedrange=!0}break}for(I=0;I<Z.length;){for(E in D=Z[I]){(R=H[p(E)])._matchGroup&&Object.keys(R._matchGroup).length===Object.keys(D).length&&(Z.splice(I,1),I--);break}I++}te(Z,"_constraintGroup");var ie=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],Q=!1,le=!1;function j(){z=R[G],"rangebreaks"===G&&(le=R._hasDayOfWeekBreaks)}for(I=0;I<ne.length;I++){D=ne[I];for(var $=0;$<ie.length;$++){var se;for(E in G=ie[$],z=null,D)if(S=k[P=p(E)],G in(R=H[P])){if(!R.matches&&(se=R,G in S)){j();break}null===z&&G in S&&j()}if("range"===G&&z&&(Q=!0),"autorange"===G&&null===z&&Q&&(z=!1),null===z&&G in se&&(z=se[G]),null!==z)for(E in D)(R=H[p(E)])[G]="range"===G?z.slice():z,"rangebreaks"===G&&(R._hasDayOfWeekBreaks=le,m(R,H))}}},J.enforce=function(k){var H,L,I,D,E,P,S,R,G=k._fullLayout,z=G._axisConstraintGroups||[];for(H=0;H<z.length;H++){I=N(z[H],G);var X=Object.keys(I),W=1/0,Z=0,ne=1/0,te={},oe={},Ce=!1;for(L=0;L<X.length;L++)oe[D=X[L]]=E=G[p(D)],E._inputDomain?E.domain=E._inputDomain.slice():E._inputDomain=E.domain.slice(),E._inputRange||(E._inputRange=E.range.slice()),E.setScale(),te[D]=P=Math.abs(E._m)/I[D],W=Math.min(W,P),"domain"!==E.constrain&&E._constraintShrinkable||(ne=Math.min(ne,P)),delete E._constraintShrinkable,Z=Math.max(Z,P),"domain"===E.constrain&&(Ce=!0);if(!(W>d*Z)||Ce)for(L=0;L<X.length;L++)if(P=te[D=X[L]],S=(E=oe[D]).constrain,P!==ne||"domain"===S)if(R=P/ne,"range"===S)l(E,R);else{var ie=E._inputDomain,Q=(E.domain[1]-E.domain[0])/(ie[1]-ie[0]),le=(E.r2l(E.range[1])-E.r2l(E.range[0]))/(E.r2l(E._inputRange[1])-E.r2l(E._inputRange[0]));if((R/=Q)*le<1){E.domain=E._input.domain=ie.slice(),l(E,R);continue}if(le<1&&(E.range=E._input.range=E._inputRange.slice(),R*=le),E.autorange){var j=E.r2l(E.range[0]),$=E.r2l(E.range[1]),se=(j+$)/2,ee=se,F=se,O=Math.abs($-se),Y=se-O*R*1.0001,B=se+O*R*1.0001,ae=g.makePadFn(G,E,0),ue=g.makePadFn(G,E,1);A(E,R);var fe,he,xe=Math.abs(E._m),be=g.concatExtremes(k,E),ke=be.min,Pe=be.max;for(he=0;he<ke.length;he++)(fe=ke[he].val-ae(ke[he])/xe)>Y&&fe<ee&&(ee=fe);for(he=0;he<Pe.length;he++)(fe=Pe[he].val+ue(Pe[he])/xe)<B&&fe>F&&(F=fe);R/=(F-ee)/(2*O),ee=E.l2r(ee),F=E.l2r(F),E.range=E._input.range=j<$?[ee,F]:[F,ee]}A(E,R)}}},J.getAxisGroup=function(k,H){for(var L=k._axisMatchGroups,I=0;I<L.length;I++)if(L[I][H])return"g"+I;return H},J.clean=function(k,H){if(H._inputDomain){for(var L=!1,I=H._id,D=k._fullLayout._axisConstraintGroups,E=0;E<D.length;E++)if(D[E][I]){L=!0;break}L&&"domain"===H.constrain||(H._input.domain=H.domain=H._inputDomain,delete H._inputDomain)}}},{"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"./autorange":278,"./axis_ids":283,"./layout_attributes":294,"./scale_zoom":299,"./set_convert":301}],288:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../lib"),p=g.numberFormat,c=v("tinycolor2"),l=v("has-passive-events"),m=v("../../registry"),d=g.strTranslate,h=v("../../lib/svg_text_utils"),u=v("../../components/color"),C=v("../../components/drawing"),b=v("../../components/fx"),M=v("./axes"),w=v("../../lib/setcursor"),N=v("../../components/dragelement"),A=v("../../components/dragelement/helpers"),k=A.selectingOrDrawing,H=A.freeMode,L=v("../../constants/alignment").FROM_TL,I=v("../../lib/clear_gl_canvases"),D=v("../../plot_api/subroutines").redrawReglTraces,E=v("../plots"),P=v("./axis_ids").getFromId,S=v("./select").prepSelect,R=v("./select").clearSelect,G=v("./select").selectOnClick,z=v("./scale_zoom"),X=v("./constants"),W=X.MINDRAG,Z=X.MINZOOM,ne=!0;function te(fe,he,xe,be){var ke=g.ensureSingle(fe.draglayer,he,xe,function(Pe){Pe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",fe.id)});return ke.call(w,be),ke.node()}function oe(fe,he,xe,be,ke,Pe,Re){var Ue=te(fe,"rect",he,xe);return s.select(Ue).call(C.setRect,be,ke,Pe,Re),Ue}function Ce(fe,he){for(var xe=0;xe<fe.length;xe++)if(!fe[xe].fixedrange)return he;return""}function ie(fe,he,xe,be,ke){for(var Pe=0;Pe<fe.length;Pe++){var Re=fe[Pe];if(!Re.fixedrange)if(Re.rangebreaks){var Ue="y"===Re._id.charAt(0),Ke=Ue?1-xe:xe;be[Re._name+".range[0]"]=Re.l2r(Re.p2l((Ue?1-he:he)*Re._length)),be[Re._name+".range[1]"]=Re.l2r(Re.p2l(Ke*Re._length))}else{var $e=Re._rl[0],Me=Re._rl[1]-$e;be[Re._name+".range[0]"]=Re.l2r($e+Me*he),be[Re._name+".range[1]"]=Re.l2r($e+Me*xe)}}if(ke&&ke.length){var ve=(he+(1-xe))/2;ie(ke,ve,1-ve,be,[])}}function Q(fe,he){for(var xe=0;xe<fe.length;xe++){var be=fe[xe];if(!be.fixedrange)if(be.rangebreaks){var ke=be._length,Pe=(be.p2l(0+he)-be.p2l(0)+(be.p2l(ke+he)-be.p2l(ke)))/2;be.range=[be.l2r(be._rl[0]-Pe),be.l2r(be._rl[1]-Pe)]}else be.range=[be.l2r(be._rl[0]-he/be._m),be.l2r(be._rl[1]-he/be._m)]}}function le(fe){return 1-(fe>=0?Math.min(fe,.9):1/(1/Math.max(fe,-.3)+3.222))}function j(fe,he,xe,be,ke){return fe.append("path").attr("class","zoombox").style({fill:he>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",d(xe,be)).attr("d",ke+"Z")}function $(fe,he,xe){return fe.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("transform",d(he,xe)).attr("d","M0,0Z")}function se(fe,he,xe,be,ke,Pe){fe.attr("d",be+"M"+xe.l+","+xe.t+"v"+xe.h+"h"+xe.w+"v-"+xe.h+"h-"+xe.w+"Z"),ee(fe,he,ke,Pe)}function ee(fe,he,xe,be){xe||(fe.transition().style("fill",be>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),he.transition().style("opacity",1).duration(200))}function F(fe){s.select(fe).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function O(fe){ne&&fe.data&&fe._context.showTips&&(g.notifier(g._(fe,"Double-click to zoom back out"),"long"),ne=!1)}function Y(fe){var he=Math.floor(Math.min(fe.b-fe.t,fe.r-fe.l,Z)/2);return"M"+(fe.l-3.5)+","+(fe.t-.5+he)+"h3v"+-he+"h"+he+"v-3h-"+(he+3)+"ZM"+(fe.r+3.5)+","+(fe.t-.5+he)+"h-3v"+-he+"h"+-he+"v-3h"+(he+3)+"ZM"+(fe.r+3.5)+","+(fe.b+.5-he)+"h-3v"+he+"h"+-he+"v3h"+(he+3)+"ZM"+(fe.l-3.5)+","+(fe.b+.5-he)+"h3v"+he+"h"+he+"v3h-"+(he+3)+"Z"}function B(fe,he,xe,be,ke){for(var Pe,Re,Ue,tt,Ke=!1,$e={},Me={},ve=(ke||{}).xaHash,Se=(ke||{}).yaHash,Te=0;Te<he.length;Te++){var qe=he[Te];for(Pe in xe)if(qe[Pe]){for(Ue in qe)ke&&(ve[Ue]||Se[Ue])||("x"===Ue.charAt(0)?xe:be)[Ue]||($e[Ue]=Pe);for(Re in be)ke&&(ve[Re]||Se[Re])||!qe[Re]||(Ke=!0)}for(Re in be)if(qe[Re])for(tt in qe)ke&&(ve[tt]||Se[tt])||("x"===tt.charAt(0)?xe:be)[tt]||(Me[tt]=Re)}Ke&&(g.extendFlat($e,Me),Me={});var Oe={},Fe=[];for(Ue in $e){var Qe=P(fe,Ue);Fe.push(Qe),Oe[Qe._id]=Qe}var nt={},Ye=[];for(tt in Me){var rt=P(fe,tt);Ye.push(rt),nt[rt._id]=rt}return{xaHash:Oe,yaHash:nt,xaxes:Fe,yaxes:Ye,xLinks:$e,yLinks:Me,isSubplotConstrained:Ke}}function ae(fe,he){if(l){var xe=void 0!==fe.onwheel?"wheel":"mousewheel";fe._onwheel&&fe.removeEventListener(xe,fe._onwheel),fe._onwheel=he,fe.addEventListener(xe,he,{passive:!1})}else void 0!==fe.onwheel?fe.onwheel=he:void 0!==fe.onmousewheel?fe.onmousewheel=he:fe.isAddedWheelEvent||(fe.isAddedWheelEvent=!0,fe.addEventListener("wheel",he,{passive:!1}))}function ue(fe){var he=[];for(var xe in fe)he.push(fe[xe]);return he}pe.exports={makeDragBox:function(fe,he,xe,be,ke,Pe,Re,Ue){var tt,Ke,$e,Me,ve,Se,Te,qe,Oe,Fe,Qe,nt,Ye,rt,ht,Xe,gt,xt,bt,Ot,wt,Be,Ge,vt=fe._fullLayout._zoomlayer,Pt=Re+Ue==="nsew",Jt=1===(Re+Ue).length;function tn(){if(Oe=(tt=he.xaxis)._length,Fe=(Ke=he.yaxis)._length,Te=tt._offset,qe=Ke._offset,($e={})[tt._id]=tt,(Me={})[Ke._id]=Ke,Re&&Ue)for(var Xt=he.overlays,It=0;It<Xt.length;It++){var nn=Xt[It].xaxis;$e[nn._id]=nn;var gn=Xt[It].yaxis;Me[gn._id]=gn}ve=ue($e),Se=ue(Me),Ye=Ce(ve,Ue),rt=Ce(Se,Re),ht=!rt&&!Ye,nt=B(fe,fe._fullLayout._axisMatchGroups,$e,Me);var cn=(Qe=B(fe,fe._fullLayout._axisConstraintGroups,$e,Me,nt)).isSubplotConstrained||nt.isSubplotConstrained;Xe=Ue||cn,gt=Re||cn;var Fn=fe._fullLayout;xt=Fn._has("scattergl"),bt=Fn._has("splom"),Ot=Fn._has("svg")}tn();var Xt,Kt=(Xt=rt+Ye)?"nsew"===Xt?Pt?"":"pan"===fe._fullLayout.dragmode?"move":"crosshair":Xt.toLowerCase()+"-resize":"pointer",qt=oe(he,Re+Ue+"drag",Kt,xe,be,ke,Pe);if(ht&&!Pt)return qt.onmousedown=null,qt.style.pointerEvents="none",qt;var Nt,ge,_e,We,Je,ft,st,et,ut,St,Vt={element:qt,gd:fe,plotinfo:he};function Bt(){Vt.plotinfo.selection=!1,R(fe)}function an(Xt,It){var y2,h2,Yt,Yn,Bn,nn=Vt.gd;if(nn._fullLayout._activeShapeIndex>=0)nn._fullLayout._deactivateShape(nn);else{var gn=nn._fullLayout.clickmode;if(F(nn),2!==Xt||Jt||function wn(){if(!fe._transitioningWithDuration){var Xt=fe._context.doubleClick,It=[];Ye&&(It=It.concat(ve)),rt&&(It=It.concat(Se)),nt.xaxes&&(It=It.concat(nt.xaxes)),nt.yaxes&&(It=It.concat(nt.yaxes));var nn,gn,cn,Fn={};if("reset+autosize"===Xt)for(Xt="autosize",gn=0;gn<It.length;gn++)if((nn=It[gn])._rangeInitial&&(nn.range[0]!==nn._rangeInitial[0]||nn.range[1]!==nn._rangeInitial[1])||!nn._rangeInitial&&!nn.autorange){Xt="reset";break}if("autosize"===Xt)for(gn=0;gn<It.length;gn++)(nn=It[gn]).fixedrange||(Fn[nn._name+".autorange"]=!0);else if("reset"===Xt)for((Ye||Qe.isSubplotConstrained)&&(It=It.concat(Qe.xaxes)),rt&&!Qe.isSubplotConstrained&&(It=It.concat(Qe.yaxes)),Qe.isSubplotConstrained&&(Ye?rt||(It=It.concat(Se)):It=It.concat(ve)),gn=0;gn<It.length;gn++)(nn=It[gn]).fixedrange||(nn._rangeInitial?(Fn[nn._name+".range[0]"]=(cn=nn._rangeInitial)[0],Fn[nn._name+".range[1]"]=cn[1]):Fn[nn._name+".autorange"]=!0);fe.emit("plotly_doubleclick",null),m.call("_guiRelayout",fe,Fn)}}(),Pt)gn.indexOf("select")>-1&&G(It,nn,ve,Se,he.id,Vt),gn.indexOf("event")>-1&&b.click(nn,It,he.id);else if(1===Xt&&Jt){var cn=Re?Ke:tt,Fn="s"===Re||"w"===Ue?0:1,An=cn._name+".range["+Fn+"]",_n=(Yn=(y2=cn).range[h2=Fn],Bn=Math.abs(Yn-y2.range[1-h2]),"date"===y2.type?Yn:"log"===y2.type?(Yt=Math.ceil(Math.max(0,-Math.log(Bn)/Math.LN10))+3,p("."+Yt+"g")(Math.pow(10,Yn))):(Yt=Math.floor(Math.log(Math.abs(Yn))/Math.LN10)-Math.floor(Math.log(Bn)/Math.LN10)+4,p("."+String(Yt)+"g")(Yn))),r2="left",g2="middle";if(cn.fixedrange)return;Re?(g2="n"===Re?"top":"bottom","right"===cn.side&&(r2="right")):"e"===Ue&&(r2="right"),nn._context.showAxisRangeEntryBoxes&&s.select(qt).call(h.makeEditable,{gd:nn,immediate:!0,background:nn._fullLayout.paper_bgcolor,text:String(_n),fill:cn.tickfont?cn.tickfont.color:"#444",horizontalAlign:r2,verticalAlign:g2}).on("edit",function(y2){var h2=cn.d2r(y2);void 0!==h2&&m.call("_guiRelayout",nn,An,h2)})}}}function Tt(Xt,It){if(fe._transitioningWithDuration)return!1;var g2,y2,nn=Math.max(0,Math.min(Oe,Be*Xt+Nt)),gn=Math.max(0,Math.min(Fe,Ge*It+ge)),cn=Math.abs(nn-Nt),Fn=Math.abs(gn-ge);function An(){st="",_e.r=_e.l,_e.t=_e.b,ut.attr("d","M0,0Z")}if(_e.l=Math.min(Nt,nn),_e.r=Math.max(Nt,nn),_e.t=Math.min(ge,gn),_e.b=Math.max(ge,gn),Qe.isSubplotConstrained)cn>Z||Fn>Z?(st="xy",cn/Oe>Fn/Fe?(Fn=cn*Fe/Oe,ge>gn?_e.t=ge-Fn:_e.b=ge+Fn):(cn=Fn*Oe/Fe,Nt>nn?_e.l=Nt-cn:_e.r=Nt+cn),ut.attr("d",Y(_e))):An();else if(nt.isSubplotConstrained)if(cn>Z||Fn>Z){st="xy";var _n=Math.min(_e.l/Oe,(Fe-_e.b)/Fe),r2=Math.max(_e.r/Oe,(Fe-_e.t)/Fe);_e.l=_n*Oe,_e.r=r2*Oe,_e.b=(1-_n)*Fe,_e.t=(1-r2)*Fe,ut.attr("d",Y(_e))}else An();else!rt||Fn<Math.min(Math.max(.6*cn,W),Z)?cn<W||!Ye?An():(_e.t=0,_e.b=Fe,st="x",ut.attr("d","M"+((g2=_e).l-.5)+","+((y2=ge)-Z-.5)+"h-3v"+(2*Z+1)+"h3ZM"+(g2.r+.5)+","+(y2-Z-.5)+"h3v"+(2*Z+1)+"h-3Z")):!Ye||cn<Math.min(.6*Fn,Z)?(_e.l=0,_e.r=Oe,st="y",ut.attr("d",function(g2,y2){return"M"+(y2-Z-.5)+","+(g2.t-.5)+"v-3h"+(2*Z+1)+"v3ZM"+(y2-Z-.5)+","+(g2.b+.5)+"v3h"+(2*Z+1)+"v-3Z"}(_e,Nt))):(st="xy",ut.attr("d",Y(_e)));_e.w=_e.r-_e.l,_e.h=_e.b-_e.t,st&&(St=!0),fe._dragged=St,se(et,ut,_e,Je,ft,We),Wt(),fe.emit("plotly_relayouting",wt),ft=!0}function Wt(){wt={},"xy"!==st&&"x"!==st||(ie(ve,_e.l/Oe,_e.r/Oe,wt,Qe.xaxes),en("x",wt)),"xy"!==st&&"y"!==st||(ie(Se,(Fe-_e.b)/Fe,(Fe-_e.t)/Fe,wt,Qe.yaxes),en("y",wt))}function dn(){Wt(),F(fe),bn(),O(fe)}Vt.prepFn=function(Xt,It,nn){var gn=Vt.dragmode,cn=fe._fullLayout.dragmode;cn!==gn&&(Vt.dragmode=cn),tn(),Be=fe._fullLayout._invScaleX,Ge=fe._fullLayout._invScaleY,ht||(Pt?Xt.shiftKey?"pan"===cn?cn="zoom":k(cn)||(cn="pan"):Xt.ctrlKey&&(cn="pan"):cn="pan"),Vt.minDrag=H(cn)?1:void 0,k(cn)?(Vt.xaxes=ve,Vt.yaxes=Se,S(Xt,It,nn,Vt,cn)):(Vt.clickFn=an,k(gn)&&Bt(),ht||("zoom"===cn?(Vt.moveFn=Tt,Vt.doneFn=dn,Vt.minDrag=1,function(Fn,An,_n){var r2=qt.getBoundingClientRect();Nt=An-r2.left,ge=_n-r2.top,fe._fullLayout._calcInverseTransform(fe);var g2=g.apply3DTransform(fe._fullLayout._invTransform)(Nt,ge);_e={l:Nt=g2[0],r:Nt,w:0,t:ge=g2[1],b:ge,h:0},We=fe._hmpixcount?fe._hmlumcount/fe._hmpixcount:c(fe._fullLayout.plot_bgcolor).getLuminance(),ft=!1,st="xy",St=!1,et=j(vt,We,Te,qe,Je="M0,0H"+Oe+"V"+Fe+"H0V0"),ut=$(vt,Te,qe)}(0,It,nn)):"pan"===cn&&(Vt.moveFn=jt,Vt.doneFn=bn))),fe._fullLayout._redrag=function(){var Fn=fe._dragdata;Fn&&Fn.element===qt&&(k(fe._fullLayout.dragmode)||(tn(),Sn([0,0,Oe,Fe]),Vt.moveFn(Fn.dx,Fn.dy)))}},N.init(Vt);var At=[0,0,Oe,Fe],zt=null,sn=X.REDRAWDELAY,Qt=he.mainplot?fe._fullLayout._plots[he.mainplot]:he;function jt(Xt,It){if(Xt*=Be,It*=Ge,!fe._transitioningWithDuration){if(fe._fullLayout._replotting=!0,"ew"===Ye||"ns"===rt){var nn=Ye?-Xt:0,gn=rt?-It:0;if(nt.isSubplotConstrained){if(Ye&&rt){var cn=(Xt/Oe-It/Fe)/2;nn=-(Xt=cn*Oe),gn=-(It=-cn*Fe)}rt?nn=-gn*Oe/Fe:gn=-nn*Fe/Oe}return Ye&&(Q(ve,Xt),en("x")),rt&&(Q(Se,It),en("y")),Sn([nn,gn,Oe,Fe]),Ft(),void fe.emit("plotly_relayouting",wt)}var Fn,An,_n="w"===Ye==("n"===rt)?1:-1;if(Ye&&rt&&(Qe.isSubplotConstrained||nt.isSubplotConstrained)){var r2=(Xt/Oe+_n*It/Fe)/2;Xt=r2*Oe,It=_n*r2*Fe}if("w"===Ye?Xt=Yt(ve,0,Xt):"e"===Ye?Xt=Yt(ve,1,-Xt):Ye||(Xt=0),"n"===rt?It=Yt(Se,1,It):"s"===rt?It=Yt(Se,0,-It):rt||(It=0),Fn="w"===Ye?Xt:0,An="n"===rt?It:0,Qe.isSubplotConstrained&&!nt.isSubplotConstrained||nt.isSubplotConstrained&&Ye&&rt&&_n>0){var g2;if(nt.isSubplotConstrained||!Ye&&1===rt.length){for(g2=0;g2<ve.length;g2++)ve[g2].range=ve[g2]._r.slice(),z(ve[g2],1-It/Fe);Fn=(Xt=It*Oe/Fe)/2}if(nt.isSubplotConstrained||!rt&&1===Ye.length){for(g2=0;g2<Se.length;g2++)Se[g2].range=Se[g2]._r.slice(),z(Se[g2],1-Xt/Oe);An=(It=Xt*Fe/Oe)/2}}nt.isSubplotConstrained&&rt||en("x"),nt.isSubplotConstrained&&Ye||en("y");var y2=Oe-Xt,h2=Fe-It;!nt.isSubplotConstrained||Ye&&rt||(Ye?(An=Fn?0:Xt*Fe/Oe,h2=y2*Fe/Oe):(Fn=An?0:It*Oe/Fe,y2=h2*Oe/Fe)),Sn([Fn,An,y2,h2]),Ft(),fe.emit("plotly_relayouting",wt)}function Yt(Yn,Bn,n2){for(var On,w2,p2=1-Bn,Rn=0;Rn<Yn.length;Rn++){var m2=Yn[Rn];if(!m2.fixedrange){On=m2,w2=m2._rl[p2]+(m2._rl[Bn]-m2._rl[p2])/le(n2/m2._length);var S2=m2.l2r(w2);!1!==S2&&void 0!==S2&&(m2.range[Bn]=S2)}}return On._length*(On._rl[Bn]-w2)/(On._rl[Bn]-On._rl[p2])}}function en(Xt,It){for(var nn=nt.isSubplotConstrained?{x:Se,y:ve}[Xt]:nt[Xt+"axes"],gn=nt.isSubplotConstrained?{x:ve,y:Se}[Xt]:[],cn=0;cn<nn.length;cn++){var Fn=nn[cn],An=Fn._id,_n=nt.xLinks[An]||nt.yLinks[An],r2=gn[0]||$e[_n]||Me[_n];r2&&(It?(It[Fn._name+".range[0]"]=It[r2._name+".range[0]"],It[Fn._name+".range[1]"]=It[r2._name+".range[1]"]):Fn.range=r2.range.slice())}}function Ft(){var Xt,It=[];function nn(Fn){for(Xt=0;Xt<Fn.length;Xt++)Fn[Xt].fixedrange||It.push(Fn[Xt]._id)}for(Xe&&(nn(ve),nn(Qe.xaxes),nn(nt.xaxes)),gt&&(nn(Se),nn(Qe.yaxes),nn(nt.yaxes)),wt={},Xt=0;Xt<It.length;Xt++){var cn=P(fe,It[Xt]);M.drawOne(fe,cn,{skipTitle:!0}),wt[cn._name+".range[0]"]=cn.range[0],wt[cn._name+".range[1]"]=cn.range[1]}M.redrawComponents(fe,It)}function bn(){Sn([0,0,Oe,Fe]),g.syncOrAsync([E.previousPromises,function(){fe._fullLayout._replotting=!1,m.call("_guiRelayout",fe,wt)}],fe)}function Sn(Xt){var It,nn,gn,cn,Fn=fe._fullLayout,An=Fn._plots,_n=Fn._subplots.cartesian;if(bt&&m.subplotsRegistry.splom.drag(fe),xt)for(It=0;It<_n.length;It++)if(gn=(nn=An[_n[It]]).xaxis,cn=nn.yaxis,nn._scene){var r2=g.simpleMap(gn.range,gn.r2l),g2=g.simpleMap(cn.range,cn.r2l);nn._scene.update({range:[r2[0],g2[0],r2[1],g2[1]]})}if((bt||xt)&&(I(fe),D(fe)),Ot){var y2=Xt[2]/tt._length,h2=Xt[3]/Ke._length;for(It=0;It<_n.length;It++){gn=(nn=An[_n[It]]).xaxis,cn=nn.yaxis;var Yt,Yn,Bn,n2,w2=(gt||nt.isSubplotConstrained)&&!cn.fixedrange&&Me[cn._id];if((Xe||nt.isSubplotConstrained)&&!gn.fixedrange&&$e[gn._id]?(Yt=y2,Bn=Ue||nt.isSubplotConstrained?Xt[0]:kn(gn,Yt)):nt.xaHash[gn._id]?(Yt=y2,Bn=Xt[0]*gn._length/tt._length):nt.yaHash[gn._id]?(Yt=h2,Bn="ns"===rt?-Xt[1]*gn._length/Ke._length:kn(gn,Yt,{n:"top",s:"bottom"}[rt])):Bn=Wn(gn,Yt=Ln(gn,y2,h2)),w2?(Yn=h2,n2=Re||nt.isSubplotConstrained?Xt[1]:kn(cn,Yn)):nt.yaHash[cn._id]?(Yn=h2,n2=Xt[1]*cn._length/Ke._length):nt.xaHash[cn._id]?(Yn=y2,n2="ew"===Ye?-Xt[0]*cn._length/tt._length:kn(cn,Yn,{e:"right",w:"left"}[Ye])):n2=Wn(cn,Yn=Ln(cn,y2,h2)),Yt||Yn){Yt||(Yt=1),Yn||(Yn=1);var p2=gn._offset-Bn/Yt,Rn=cn._offset-n2/Yn;nn.clipRect.call(C.setTranslate,Bn,n2).call(C.setScale,Yt,Yn),nn.plot.call(C.setTranslate,p2,Rn).call(C.setScale,1/Yt,1/Yn),Yt===nn.xScaleFactor&&Yn===nn.yScaleFactor||(C.setPointGroupScale(nn.zoomScalePts,Yt,Yn),C.setTextPointsScale(nn.zoomScaleTxt,Yt,Yn)),C.hideOutsideRangePoints(nn.clipOnAxisFalseTraces,nn),nn.xScaleFactor=Yt,nn.yScaleFactor=Yn}}}}function Ln(Xt,It,nn){return Xt.fixedrange?0:Xe&&Qe.xaHash[Xt._id]?It:gt&&(Qe.isSubplotConstrained?Qe.xaHash:Qe.yaHash)[Xt._id]?nn:0}function Wn(Xt,It){return It?(Xt.range=Xt._r.slice(),z(Xt,It),kn(Xt,It)):0}function kn(Xt,It,nn){return Xt._length*(1-It)*L[nn||Xt.constraintoward||"middle"]}return Re.length*Ue.length!=1&&ae(qt,function(Xt){if(fe._context._scrollZoom.cartesian||fe._fullLayout._enablescrollzoom){if(Bt(),fe._transitioningWithDuration)return Xt.preventDefault(),void Xt.stopPropagation();tn(),clearTimeout(zt);var It=-Xt.deltaY;if(isFinite(It)||(It=Xt.wheelDelta/10),isFinite(It)){var nn,gn=Math.exp(-Math.min(Math.max(It,-20),20)/200),cn=Qt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Fn=(Xt.clientX-cn.left)/cn.width,An=(cn.bottom-Xt.clientY)/cn.height;if(Xe){for(Ue||(Fn=.5),nn=0;nn<ve.length;nn++)_n(ve[nn],Fn,gn);en("x"),At[2]*=gn,At[0]+=At[2]*Fn*(1/gn-1)}if(gt){for(Re||(An=.5),nn=0;nn<Se.length;nn++)_n(Se[nn],An,gn);en("y"),At[3]*=gn,At[1]+=At[3]*(1-An)*(1/gn-1)}Sn(At),Ft(),fe.emit("plotly_relayouting",wt),zt=setTimeout(function(){fe._fullLayout&&(At=[0,0,Oe,Fe],bn())},sn),Xt.preventDefault()}else g.log("Did not find wheel motion attributes: ",Xt)}function _n(r2,g2,y2){if(!r2.fixedrange){var h2=g.simpleMap(r2.range,r2.r2l),Yt=h2[0]+(h2[1]-h2[0])*g2;r2.range=h2.map(function(Yn){return r2.l2r(Yt+(Yn-Yt)*y2)})}}}),qt},makeDragger:te,makeRectDragger:oe,makeZoombox:j,makeCorners:$,updateZoombox:se,xyCorners:Y,transitionZoombox:ee,removeZoombox:F,showDoubleClickNotifier:O,attachWheelEventHandler:ae}},{"../../components/color":102,"../../components/dragelement":121,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../constants/alignment":207,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/subroutines":269,"../../registry":318,"../plots":316,"./axes":279,"./axis_ids":283,"./constants":286,"./scale_zoom":299,"./select":300,"@plotly/d3":11,"has-passive-events":49,tinycolor2:67}],289:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../components/fx"),p=v("../../components/dragelement"),c=v("../../lib/setcursor"),l=v("./dragbox").makeDragBox,m=v("./constants").DRAGGERSIZE;J.initInteractions=function(d){var h=d._fullLayout;if(d._context.staticPlot)s.select(d).selectAll(".drag").remove();else if(h._has("cartesian")||h._has("splom")){Object.keys(h._plots||{}).sort(function(C,b){if((h._plots[C].mainplot&&!0)===(h._plots[b].mainplot&&!0)){var M=C.split("y"),w=b.split("y");return M[0]===w[0]?Number(M[1]||1)-Number(w[1]||1):Number(M[0]||1)-Number(w[0]||1)}return h._plots[C].mainplot?1:-1}).forEach(function(C){var b=h._plots[C],M=b.xaxis,w=b.yaxis;if(!b.mainplot){var N=l(d,b,M._offset,w._offset,M._length,w._length,"ns","ew");N.onmousemove=function(H){d._fullLayout._rehover=function(){d._fullLayout._hoversubplot===C&&d._fullLayout._plots[C]&&g.hover(d,H,C)},g.hover(d,H,C),d._fullLayout._lasthover=N,d._fullLayout._hoversubplot=C},N.onmouseout=function(H){d._dragging||(d._fullLayout._hoversubplot=null,p.unhover(d,H))},d._context.showAxisDragHandles&&(l(d,b,M._offset-m,w._offset-m,m,m,"n","w"),l(d,b,M._offset+M._length,w._offset-m,m,m,"n","e"),l(d,b,M._offset-m,w._offset+w._length,m,m,"s","w"),l(d,b,M._offset+M._length,w._offset+w._length,m,m,"s","e"))}if(d._context.showAxisDragHandles){if(C===M._mainSubplot){var A=M._mainLinePosition;"top"===M.side&&(A-=m),l(d,b,M._offset+.1*M._length,A,.8*M._length,m,"","ew"),l(d,b,M._offset,A,.1*M._length,m,"","w"),l(d,b,M._offset+.9*M._length,A,.1*M._length,m,"","e")}if(C===w._mainSubplot){var k=w._mainLinePosition;"right"!==w.side&&(k-=m),l(d,b,k,w._offset+.1*w._length,m,.8*w._length,"ns",""),l(d,b,k,w._offset+.9*w._length,m,.1*w._length,"s",""),l(d,b,k,w._offset,m,.1*w._length,"n","")}}});var u=h._hoverlayer.node();u.onmousemove=function(C){C.target=d._fullLayout._lasthover,g.hover(d,C,h._hoversubplot)},u.onclick=function(C){C.target=d._fullLayout._lasthover,g.click(d,C)},u.onmousedown=function(C){d._fullLayout._lasthover.onmousedown(C)},J.updateFx(d)}},J.updateFx=function(d){var h=d._fullLayout;c(h._draggers,"pan"===h.dragmode?"move":"crosshair")}},{"../../components/dragelement":121,"../../components/fx":142,"../../lib/setcursor":252,"./constants":286,"./dragbox":288,"@plotly/d3":11}],290:[function(v,pe,J){"use strict";pe.exports={clearOutlineControllers:function(s){var g=s._fullLayout._zoomlayer;g&&g.selectAll(".outline-controllers").remove()},clearSelect:function(s){var g=s._fullLayout._zoomlayer;g&&g.selectAll(".select-outline").remove(),s._fullLayout._drawing=!1}}},{}],291:[function(v,pe,J){"use strict";var s=v("../../lib").strTranslate;function g(p,c){switch(p.type){case"log":return p.p2d(c);case"date":return p.p2r(c,0,p.calendar);default:return p.p2r(c)}}pe.exports={p2r:g,r2p:function(p,c){switch(p.type){case"log":return p.d2p(c);case"date":return p.r2p(c,0,p.calendar);default:return p.r2p(c)}},axValue:function(p){var c="y"===p._id.charAt(0)?1:0;return function(l){return g(p,l[c])}},getTransform:function(p){return s(p.xaxis._offset,p.yaxis._offset)}}},{"../../lib":232}],292:[function(v,pe,J){"use strict";var s=v("../../registry"),g=v("../../lib"),p=v("./axis_ids");pe.exports=function(c){return function(l,m){var d=l[c];if(Array.isArray(d))for(var h=s.subplotsRegistry.cartesian,u=h.idRegex,C=m._subplots,b=C.xaxis,M=C.yaxis,w=C.cartesian,N=m._has("cartesian")||m._has("gl2d"),A=0;A<d.length;A++){var k=d[A];if(g.isPlainObject(k)){var H=p.cleanId(k.xref,"x",!1),L=p.cleanId(k.yref,"y",!1),I=u.x.test(H),D=u.y.test(L);if(I||D){N||g.pushUnique(m._basePlotModules,h);var E=!1;I&&-1===b.indexOf(H)&&(b.push(H),E=!0),D&&-1===M.indexOf(L)&&(M.push(L),E=!0),E&&I&&D&&w.push(H+L)}}}}}},{"../../lib":232,"../../registry":318,"./axis_ids":283}],293:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../registry"),p=v("../../lib"),c=v("../plots"),l=v("../../components/drawing"),m=v("../get_data").getModuleCalcData,d=v("./axis_ids"),h=v("./constants"),u=v("../../constants/xmlns_namespaces"),C=p.ensureSingle;function b(k,H,L){return p.ensureSingle(k,H,L,function(I){I.datum(L)})}function M(k,H,L,I,D){for(var E,P,S,R=h.traceLayerClasses,G=k._fullLayout,z=G._modules,X=[],W=[],Z=0;Z<z.length;Z++){var ne=(E=z[Z]).name,te=g.modules[ne].categories;if(te.svg){var oe=E.layerName||ne+"layer",Ce=E.plot;S=(P=m(L,Ce))[0],L=P[1],S.length&&X.push({i:R.indexOf(oe),className:oe,plotMethod:Ce,cdModule:S}),te.zoomScale&&W.push("."+oe)}}X.sort(function(le,j){return le.i-j.i});var ie=H.plot.selectAll("g.mlayer").data(X,function(le){return le.className});if(ie.enter().append("g").attr("class",function(le){return le.className}).classed("mlayer",!0).classed("rangeplot",H.isRangePlot),ie.exit().remove(),ie.order(),ie.each(function(le){var j=s.select(this),$=le.className;le.plotMethod(k,H,le.cdModule,j,I,D),-1===h.clipOnAxisFalseQuery.indexOf("."+$)&&l.setClipUrl(j,H.layerClipId,k)}),G._has("scattergl")&&(E=g.getModule("scattergl"),S=m(L,E)[0],E.plot(k,H,S)),!k._context.staticPlot&&(H._hasClipOnAxisFalse&&(H.clipOnAxisFalseTraces=H.plot.selectAll(h.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),W.length)){var Q=H.plot.selectAll(W.join(",")).selectAll(".trace");H.zoomScalePts=Q.selectAll("path.point"),H.zoomScaleTxt=Q.selectAll(".textpoint")}}function w(k,H){var L=H.plotgroup,I=H.id,D=h.layerValue2layerClass[H.xaxis.layer],E=h.layerValue2layerClass[H.yaxis.layer],P=k._fullLayout._hasOnlyLargeSploms;if(H.mainplot){var S=H.mainplotinfo,R=S.plotgroup,G=I+"-x",z=I+"-y";H.minorGridlayer=S.minorGridlayer,H.gridlayer=S.gridlayer,H.zerolinelayer=S.zerolinelayer,C(S.overlinesBelow,"path",G),C(S.overlinesBelow,"path",z),C(S.overaxesBelow,"g",G),C(S.overaxesBelow,"g",z),H.plot=C(S.overplot,"g",I),C(S.overlinesAbove,"path",G),C(S.overlinesAbove,"path",z),C(S.overaxesAbove,"g",G),C(S.overaxesAbove,"g",z),H.xlines=R.select(".overlines-"+D).select("."+G),H.ylines=R.select(".overlines-"+E).select("."+z),H.xaxislayer=R.select(".overaxes-"+D).select("."+G),H.yaxislayer=R.select(".overaxes-"+E).select("."+z)}else if(P)H.xlines=C(L,"path","xlines-above"),H.ylines=C(L,"path","ylines-above"),H.xaxislayer=C(L,"g","xaxislayer-above"),H.yaxislayer=C(L,"g","yaxislayer-above");else{var X=C(L,"g","layer-subplot");H.shapelayer=C(X,"g","shapelayer"),H.imagelayer=C(X,"g","imagelayer"),H.minorGridlayer=C(L,"g","minor-gridlayer"),H.gridlayer=C(L,"g","gridlayer"),H.zerolinelayer=C(L,"g","zerolinelayer"),C(L,"path","xlines-below"),C(L,"path","ylines-below"),H.overlinesBelow=C(L,"g","overlines-below"),C(L,"g","xaxislayer-below"),C(L,"g","yaxislayer-below"),H.overaxesBelow=C(L,"g","overaxes-below"),H.plot=C(L,"g","plot"),H.overplot=C(L,"g","overplot"),H.xlines=C(L,"path","xlines-above"),H.ylines=C(L,"path","ylines-above"),H.overlinesAbove=C(L,"g","overlines-above"),C(L,"g","xaxislayer-above"),C(L,"g","yaxislayer-above"),H.overaxesAbove=C(L,"g","overaxes-above"),H.xlines=L.select(".xlines-"+D),H.ylines=L.select(".ylines-"+E),H.xaxislayer=L.select(".xaxislayer-"+D),H.yaxislayer=L.select(".yaxislayer-"+E)}P||(b(H.minorGridlayer,"g",H.xaxis._id),b(H.minorGridlayer,"g",H.yaxis._id),H.minorGridlayer.selectAll("g").map(function(W){return W[0]}).sort(d.idSort),b(H.gridlayer,"g",H.xaxis._id),b(H.gridlayer,"g",H.yaxis._id),H.gridlayer.selectAll("g").map(function(W){return W[0]}).sort(d.idSort)),H.xlines.style("fill","none").classed("crisp",!0),H.ylines.style("fill","none").classed("crisp",!0)}function N(k,H){if(k){var L={};for(var I in k.each(function(S){var R=S[0];s.select(this).remove(),A(R,H),L[R]=!0}),H._plots)for(var D=H._plots[I].overlays||[],E=0;E<D.length;E++){var P=D[E];L[P.id]&&P.plot.selectAll(".trace").remove()}}}function A(k,H){H._draggers.selectAll("g."+k).remove(),H._defs.select("#clip"+H._uid+k+"plot").remove()}J.name="cartesian",J.attr=["xaxis","yaxis"],J.idRoot=["x","y"],J.idRegex=h.idRegex,J.attrRegex=h.attrRegex,J.attributes=v("./attributes"),J.layoutAttributes=v("./layout_attributes"),J.supplyLayoutDefaults=v("./layout_defaults"),J.transitionAxes=v("./transition_axes"),J.finalizeSubplots=function(k,H){var L,I,D,E=H._subplots,P=E.xaxis,S=E.yaxis,R=E.cartesian,G=R.concat(E.gl2d||[]),z={},X={};for(L=0;L<G.length;L++){var W=G[L].split("y");z[W[0]]=1,X["y"+W[1]]=1}for(L=0;L<P.length;L++)z[I=P[L]]||(D=(k[d.id2name(I)]||{}).anchor,h.idRegex.y.test(D)||(D="y"),R.push(I+D),G.push(I+D),X[D]||(X[D]=1,p.pushUnique(S,D)));for(L=0;L<S.length;L++)X[D=S[L]]||(I=(k[d.id2name(D)]||{}).anchor,h.idRegex.x.test(I)||(I="x"),R.push(I+D),G.push(I+D),z[I]||(z[I]=1,p.pushUnique(P,I)));if(!G.length){for(var Z in I="",D="",k)h.attrRegex.test(Z)&&("x"===Z.charAt(0)?(!I||+Z.substr(5)<+I.substr(5))&&(I=Z):(!D||+Z.substr(5)<+D.substr(5))&&(D=Z));I=I?d.name2id(I):"x",D=D?d.name2id(D):"y",P.push(I),S.push(D),R.push(I+D)}},J.plot=function(k,H,L,I){var D,E=k._fullLayout,P=E._subplots.cartesian,S=k.calcdata;if(!Array.isArray(H))for(H=[],D=0;D<S.length;D++)H.push(D);for(D=0;D<P.length;D++){for(var R,G=P[D],z=E._plots[G],X=[],W=0;W<S.length;W++){var Z=S[W],ne=Z[0].trace;ne.xaxis+ne.yaxis===G&&((-1!==H.indexOf(ne.index)||ne.carpet)&&(R&&R[0].trace.xaxis+R[0].trace.yaxis===G&&-1!==["tonextx","tonexty","tonext"].indexOf(ne.fill)&&-1===X.indexOf(R)&&X.push(R),X.push(Z)),R=Z)}M(k,z,X,L,I)}},J.clean=function(k,H,L,I){var D,E,P,S=I._plots||{},R=H._plots||{},G=I._subplots||{};if(I._hasOnlyLargeSploms&&!H._hasOnlyLargeSploms)for(P in S)(D=S[P]).plotgroup&&D.plotgroup.remove();var z=I._has&&I._has("gl"),X=H._has&&H._has("gl");if(z&&!X)for(P in S)(D=S[P])._scene&&D._scene.destroy();if(G.xaxis&&G.yaxis){var W=d.listIds({_fullLayout:I});for(E=0;E<W.length;E++){var Z=W[E];H[d.id2name(Z)]||I._infolayer.selectAll(".g-"+Z+"title").remove()}}var ne=I._has&&I._has("cartesian"),te=H._has&&H._has("cartesian");if(ne&&!te)N(I._cartesianlayer.selectAll(".subplot"),I),I._defs.selectAll(".axesclip").remove(),delete I._axisConstraintGroups,delete I._axisMatchGroups;else if(G.cartesian)for(E=0;E<G.cartesian.length;E++){var oe=G.cartesian[E];R[oe]||(I._cartesianlayer.selectAll("."+oe+",."+oe+"-x,."+oe+"-y").remove(),A(oe,I))}},J.drawFramework=function(k){var H=k._fullLayout,L=function(D){var E,P,S,R,G,z,X=D._fullLayout,W=X._subplots.cartesian,Z=W.length,ne=[],te=[];for(E=0;E<Z;E++){var ie=(G=(R=X._plots[S=W[E]]).xaxis)._mainAxis._id+(z=R.yaxis)._mainAxis._id,Q=X._plots[ie];R.overlays=[],ie!==S&&Q?(R.mainplot=ie,R.mainplotinfo=Q,te.push(S)):(R.mainplot=void 0,R.mainplotinfo=void 0,ne.push(S))}for(E=0;E<te.length;E++)(R=X._plots[S=te[E]]).mainplotinfo.overlays.push(R);var le=ne.concat(te),j=new Array(Z);for(E=0;E<Z;E++){var $=[S=le[E],(G=(R=X._plots[S]).xaxis).layer,(z=R.yaxis).layer,G.overlaying||"",z.overlaying||""];for(P=0;P<R.overlays.length;P++)$.push(R.overlays[P].id);j[E]=$}return j}(k),I=H._cartesianlayer.selectAll(".subplot").data(L,String);I.enter().append("g").attr("class",function(D){return"subplot "+D[0]}),I.order(),I.exit().call(N,H),I.each(function(D){var E=D[0],P=H._plots[E];P.plotgroup=s.select(this),w(k,P),P.draglayer=C(H._draggers,"g",E)})},J.rangePlot=function(k,H,L){w(k,H),M(k,H,L),c.style(k)},J.toSVG=function(k){var H=k._fullLayout._glimages,L=s.select(k).selectAll(".svg-container");L.filter(function(I,D){return D===L.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var I=this.toDataURL("image/png");H.append("svg:image").attr({xmlns:u.svg,"xlink:href":I,preserveAspectRatio:"none",x:0,y:0,width:this.style.width,height:this.style.height})})},J.updateFx=v("./graph_interact").updateFx},{"../../components/drawing":124,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../registry":318,"../get_data":312,"../plots":316,"./attributes":277,"./axis_ids":283,"./constants":286,"./graph_interact":289,"./layout_attributes":294,"./layout_defaults":295,"./transition_axes":306,"@plotly/d3":11}],294:[function(v,pe,J){"use strict";var s=v("../font_attributes"),g=v("../../components/color/attributes"),p=v("../../components/drawing/attributes").dash,c=v("../../lib/extend").extendFlat,l=v("../../plot_api/plot_template").templatedArray,m=v("../../plots/cartesian/axis_format_attributes").descriptionWithDates,d=v("../../constants/numerical").ONEDAY,h=v("./constants"),u=h.HOUR_PATTERN,C=h.WEEKDAY_PATTERN,b={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}};function M(R){return{valType:"integer",min:0,dflt:R?5:0,editType:"ticks"}}var w={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},N={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},A={valType:"data_array",editType:"ticks"},k={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function H(R){var G={valType:"number",min:0,editType:"ticks"};return R||(G.dflt=5),G}function L(R){var G={valType:"number",min:0,editType:"ticks"};return R||(G.dflt=1),G}var I={valType:"color",dflt:g.defaultLine,editType:"ticks"},D={valType:"color",dflt:g.lightLine,editType:"ticks"};function E(R){var G={valType:"number",min:0,editType:"ticks"};return R||(G.dflt=1),G}var P=c({},p,{editType:"ticks"}),S={valType:"boolean",editType:"ticks"};pe.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:g.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:s({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"calc"},rangebreaks:l("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[C,u,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:d},editType:"calc"}),tickmode:b,nticks:M(),tick0:w,dtick:N,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:A,ticktext:{valType:"data_array",editType:"ticks"},ticks:k,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:H(),tickwidth:L(),tickcolor:I,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:c({},p,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:s({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:m("tick label")},tickformatstops:l("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:m("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:g.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:S,gridcolor:D,gridwidth:E(),griddash:P,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:g.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:g.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"plot"},minor:{tickmode:b,nticks:M("minor"),tick0:w,dtick:N,tickvals:A,ticks:k,ticklen:H("minor"),tickwidth:L("minor"),tickcolor:I,gridcolor:D,gridwidth:E("minor"),griddash:P,showgrid:S,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:s({editType:"ticks"})}}},{"../../components/color/attributes":101,"../../components/drawing/attributes":123,"../../constants/numerical":212,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_format_attributes":282,"../font_attributes":310,"./constants":286}],295:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../components/color"),p=v("../../components/fx/helpers").isUnifiedHover,c=v("../../components/fx/hovermode_defaults"),l=v("../../plot_api/plot_template"),m=v("../layout_attributes"),d=v("./layout_attributes"),h=v("./type_defaults"),u=v("./axis_defaults"),C=v("./constraints"),b=v("./position_defaults"),M=v("./axis_ids"),w=M.id2name,N=M.name2id,A=v("./constants").AX_ID_PATTERN,k=v("../../registry"),H=k.traceIs,L=k.getComponentMethod;function I(D,E,P){Array.isArray(D[E])?D[E].push(P):D[E]=[P]}pe.exports=function(D,E,P){var S,R,G=E.autotypenumbers,z={},X={},W={},Z={},ne={},te={},oe={},Ce={},ie={},Q={};for(S=0;S<P.length;S++){var le=P[S];if(H(le,"cartesian")||H(le,"gl2d")){var j,$;if(le.xaxis)j=w(le.xaxis),I(z,j,le);else if(le.xaxes)for(R=0;R<le.xaxes.length;R++)I(z,w(le.xaxes[R]),le);if(le.yaxis)$=w(le.yaxis),I(z,$,le);else if(le.yaxes)for(R=0;R<le.yaxes.length;R++)I(z,w(le.yaxes[R]),le);"funnel"===le.type?"h"===le.orientation?(j&&(X[j]=!0),$&&(oe[$]=!0)):$&&(W[$]=!0):"image"===le.type?($&&(Ce[$]=!0),j&&(Ce[j]=!0)):($&&(ne[$]=!0,te[$]=!0),H(le,"carpet")&&("carpet"!==le.type||le._cheater)||j&&(Z[j]=!0)),"carpet"===le.type&&le._cheater&&j&&(X[j]=!0),H(le,"2dMap")&&(ie[j]=!0,ie[$]=!0),H(le,"oriented")&&(Q["h"===le.orientation?$:j]=!0)}}var se=E._subplots,ee=se.xaxis,F=se.yaxis,O=s.simpleMap(ee,w),Y=s.simpleMap(F,w),B=O.concat(Y),ae=g.background;ee.length&&F.length&&(ae=s.coerce(D,E,m,"plot_bgcolor"));var ue,fe,he,xe,be,ke=g.combine(ae,E.paper_bgcolor);function Pe(){be._traceIndices=(z[ue]||[]).map(function(vt){return vt._expandedIndex}),be._annIndices=[],be._shapeIndices=[],be._imgIndices=[],be._subplotsWith=[],be._counterAxes=[],be._name=be._attr=ue,be._id=fe}function Re(Ge,vt){return s.coerce(xe,be,d,Ge,vt)}function Ue(Ge,vt){return s.coerce2(xe,be,d,Ge,vt)}function tt(Ge){return"x"===Ge?F:ee}function Ke(Ge,vt){for(var Pt="x"===Ge?O:Y,Jt=[],tn=0;tn<Pt.length;tn++){var Kt=Pt[tn];Kt===vt||(D[Kt]||{}).overlaying||Jt.push(N(Kt))}return Jt}var $e={x:tt("x"),y:tt("y")},Me=$e.x.concat($e.y),ve={},Se=[];function Te(){var Ge=xe.matches;A.test(Ge)&&-1===Me.indexOf(Ge)&&(ve[Ge]=xe.type,Se=Object.keys(ve))}var qe=c(D,E),Oe=p(qe);for(S=0;S<B.length;S++){fe=N(ue=B[S]),he=ue.charAt(0),s.isPlainObject(D[ue])||(D[ue]={}),xe=D[ue],be=l.newContainer(E,ue,he+"axis"),Pe();var nt={hasMinor:!0,letter:he,font:E.font,outerTicks:ie[ue],showGrid:!Q[ue],data:z[ue]||[],bgColor:ke,calendar:E.calendar,automargin:!0,visibleDflt:"x"===he&&!Z[ue]&&X[ue]||"y"===he&&!ne[ue]&&W[ue],reverseDflt:"y"===he&&(!te[ue]&&oe[ue]||Ce[ue]),autotypenumbersDflt:G,splomStash:((E._splomAxes||{})[he]||{})[fe]};Re("uirevision",E.uirevision),h(xe,be,Re,nt),u(xe,be,Re,nt,E);var Ye=Oe&&he===qe.charAt(0),rt=Ue("spikecolor",Oe?be.color:void 0),ht=Ue("spikethickness",Oe?1.5:void 0),Xe=Ue("spikedash",Oe?"dot":void 0),gt=Ue("spikemode",Oe?"across":void 0),xt=Ue("spikesnap");Re("showspikes",!!(Ye||rt||ht||Xe||gt||xt))||(delete be.spikecolor,delete be.spikethickness,delete be.spikedash,delete be.spikemode,delete be.spikesnap),b(xe,be,Re,{letter:he,counterAxes:$e[he],overlayableAxes:Ke(he,ue),grid:E.grid}),Re("title.standoff"),Te(),be._input=xe}for(S=0;S<Se.length;){fe=Se[S++],he=(ue=w(fe)).charAt(0),s.isPlainObject(D[ue])||(D[ue]={}),xe=D[ue],be=l.newContainer(E,ue,he+"axis"),Pe();var bt={letter:he,font:E.font,outerTicks:ie[ue],showGrid:!Q[ue],data:[],bgColor:ke,calendar:E.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:G,splomStash:((E._splomAxes||{})[he]||{})[fe]};Re("uirevision",E.uirevision),be.type=ve[fe]||"linear",u(xe,be,Re,bt,E),b(xe,be,Re,{letter:he,counterAxes:$e[he],overlayableAxes:Ke(he,ue),grid:E.grid}),Re("fixedrange"),Te(),be._input=xe}var Ot=L("rangeslider","handleDefaults"),wt=L("rangeselector","handleDefaults");for(S=0;S<O.length;S++)xe=D[ue=O[S]],be=E[ue],Ot(D,E,ue),"date"===be.type&&wt(xe,be,E,Y,be.calendar),Re("fixedrange");for(S=0;S<Y.length;S++){xe=D[ue=Y[S]];var Be=E[w((be=E[ue]).anchor)];Re("fixedrange",L("rangeslider","isVisible")(Be))}C.handleDefaults(D,E,{axIds:Me.concat(Se).sort(M.idSort),axHasImage:Ce})}},{"../../components/color":102,"../../components/fx/helpers":138,"../../components/fx/hovermode_defaults":141,"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"../layout_attributes":314,"./axis_defaults":281,"./axis_ids":283,"./constants":286,"./constraints":287,"./layout_attributes":294,"./position_defaults":297,"./type_defaults":307}],296:[function(v,pe,J){"use strict";var s=v("tinycolor2").mix,g=v("../../components/color/attributes"),p=v("../../lib");pe.exports=function(c,l,m,d){var h=(d=d||{}).dfltColor;function u(D,E){return p.coerce2(c,l,d.attributes,D,E)}var C=u("linecolor",h),b=u("linewidth");m("showline",d.showLine||!!C||!!b)||(delete l.linecolor,delete l.linewidth);var M=u("gridcolor",s(h,d.bgColor,d.blend||g.lightFraction).toRgbString()),w=u("gridwidth"),N=u("griddash");if(m("showgrid",d.showGrid||!!M||!!w||!!N)||(delete l.gridcolor,delete l.gridwidth,delete l.griddash),d.hasMinor){var A=u("minor.gridcolor",s(l.gridcolor,d.bgColor,67).toRgbString()),k=u("minor.gridwidth",l.gridwidth||1),H=u("minor.griddash",l.griddash||"solid");m("minor.showgrid",!!A||!!k||!!H)||(delete l.minor.gridcolor,delete l.minor.gridwidth,delete l.minor.griddash)}if(!d.noZeroLine){var L=u("zerolinecolor",h),I=u("zerolinewidth");m("zeroline",d.showGrid||!!L||!!I)||(delete l.zerolinecolor,delete l.zerolinewidth)}}},{"../../components/color/attributes":101,"../../lib":232,tinycolor2:67}],297:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib");pe.exports=function(p,c,l,m){var d,h,u,C,b=m.counterAxes||[],M=m.overlayableAxes||[],w=m.letter,N=m.grid;N&&(d=N._anchors[c._id],(h=N._domains[w][N._axisMap[c._id]])&&(u=N[w+"side"].split(" ")[0],C=N.domain[w]["right"===u||"top"===u?1:0])),h=h||[0,1],d=d||(s(p.position)?"free":b[0]||"free"),u=u||("x"===w?"bottom":"left"),C=C||0,"free"===g.coerce(p,c,{anchor:{valType:"enumerated",values:["free"].concat(b),dflt:d}},"anchor")&&l("position",C),g.coerce(p,c,{side:{valType:"enumerated",values:"x"===w?["bottom","top"]:["left","right"],dflt:u}},"side");var A=!1;if(M.length&&(A=g.coerce(p,c,{overlaying:{valType:"enumerated",values:[!1].concat(M),dflt:!1}},"overlaying")),!A){var k=l("domain",h);k[0]>k[1]-1/4096&&(c.domain=h),g.noneOrAll(p.domain,c.domain,h)}return l("layer"),c}},{"../../lib":232,"fast-isnumeric":17}],298:[function(v,pe,J){"use strict";var s=v("./show_dflt");pe.exports=function(g,p,c,l,m){m||(m={});var d=m.tickSuffixDflt,h=s(g);c("tickprefix")&&c("showtickprefix",h),c("ticksuffix",d)&&c("showticksuffix",h)}},{"./show_dflt":302}],299:[function(v,pe,J){"use strict";var s=v("../../constants/alignment").FROM_BL;pe.exports=function(g,p,c){void 0===c&&(c=s[g.constraintoward||"center"]);var l=[g.r2l(g.range[0]),g.r2l(g.range[1])],m=l[0]+(l[1]-l[0])*c;g.range=g._input.range=[g.l2r(m+(l[0]-m)*p),g.l2r(m+(l[1]-m)*p)],g.setScale()}},{"../../constants/alignment":207}],300:[function(v,pe,J){"use strict";var s=v("polybooljs"),g=v("../../registry"),p=v("../../components/drawing").dashStyle,c=v("../../components/color"),l=v("../../components/fx"),m=v("../../components/fx/helpers").makeEventData,d=v("../../components/dragelement/helpers"),h=d.freeMode,u=d.rectMode,C=d.drawMode,b=d.openMode,M=d.selectMode,w=v("../../components/shapes/draw_newshape/display_outlines"),N=v("../../components/shapes/draw_newshape/helpers").handleEllipse,A=v("../../components/shapes/draw_newshape/newshapes"),k=v("../../lib"),H=v("../../lib/polygon"),L=v("../../lib/throttle"),I=v("./axis_ids").getFromId,D=v("../../lib/clear_gl_canvases"),E=v("../../plot_api/subroutines").redrawReglTraces,P=v("./constants"),S=P.MINSELECT,R=H.filter,G=H.tester,z=v("./handle_outline").clearSelect,X=v("./helpers"),W=X.p2r,Z=X.axValue,ne=X.getTransform;function te(O,Y,B,ae,ue,fe,he){var xe,be,ke,Pe,Re,Ue,tt,Ke,$e,Qe,Me=Y._hoverdata,ve=Y._fullLayout.clickmode.indexOf("event")>-1,Se=[];if((Qe=Me)&&Array.isArray(Qe)&&!0!==Qe[0].hoverOnBox){Q(O,Y,fe);var Te=function(Qe,nt){var Ye,rt,ht=Qe[0],Xe=-1,gt=[];for(rt=0;rt<nt.length;rt++)if(ht.fullData._expandedIndex===(Ye=nt[rt]).cd[0].trace._expandedIndex){if(!0===ht.hoverOnBox)break;void 0!==ht.pointNumber?Xe=ht.pointNumber:void 0!==ht.binNumber&&(Xe=ht.binNumber,gt=ht.pointNumbers);break}return{pointNumber:Xe,pointNumbers:gt,searchInfo:Ye}}(Me,xe=j(Y,B,ae,ue));if(Te.pointNumbers.length>0?function(Qe,nt){var Ye,rt,ht,Xe=[];for(ht=0;ht<Qe.length;ht++)(Ye=Qe[ht]).cd[0].trace.selectedpoints&&Ye.cd[0].trace.selectedpoints.length>0&&Xe.push(Ye);if(1===Xe.length&&Xe[0]===nt.searchInfo&&(rt=nt.searchInfo.cd[0].trace).selectedpoints.length===nt.pointNumbers.length){for(ht=0;ht<nt.pointNumbers.length;ht++)if(rt.selectedpoints.indexOf(nt.pointNumbers[ht])<0)return!1;return!0}return!1}(xe,Te):function(Qe){var Ye,rt,ht=0;for(rt=0;rt<Qe.length;rt++)if((Ye=Qe[rt].cd[0].trace).selectedpoints&&(Ye.selectedpoints.length>1||(ht+=Ye.selectedpoints.length)>1))return!1;return 1===ht}(xe)&&(Ue=$(Te))){for(he&&he.remove(),$e=0;$e<xe.length;$e++)(be=xe[$e])._module.selectPoints(be,!1);se(Y,xe),le(fe),ve&&Y.emit("plotly_deselect",null)}else{for(tt=O.shiftKey&&(void 0!==Ue?Ue:$(Te)),ke=function(Qe,nt,Ye){return{pointNumber:Qe,searchInfo:nt,subtract:Ye}}(Te.pointNumber,Te.searchInfo,tt),Pe=ie(fe.selectionDefs.concat([ke])),$e=0;$e<xe.length;$e++)if(Re=ee(xe[$e]._module.selectPoints(xe[$e],Pe),xe[$e]),Se.length)for(var qe=0;qe<Re.length;qe++)Se.push(Re[qe]);else Se=Re;if(se(Y,xe,Ke={points:Se}),ke&&fe&&fe.selectionDefs.push(ke),he){var Oe=fe.mergedPolygons,Fe=b(fe.dragmode);w(F(Oe,Fe),he,fe)}ve&&Y.emit("plotly_selected",Ke)}}}function oe(O){return"pointNumber"in O&&"searchInfo"in O}function Ce(O){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Y,B,ae,ue){return ue.cd[0].trace._expandedIndex===O.searchInfo.cd[0].trace._expandedIndex&&ae===O.pointNumber},isRect:!1,degenerate:!1,subtract:O.subtract}}function ie(O){for(var Y=[],B=oe(O[0])?0:O[0][0][0],ae=B,ue=oe(O[0])?0:O[0][0][1],fe=ue,he=0;he<O.length;he++)if(oe(O[he]))Y.push(Ce(O[he]));else{var xe=H.tester(O[he]);xe.subtract=O[he].subtract,Y.push(xe),B=Math.min(B,xe.xmin),ae=Math.max(ae,xe.xmax),ue=Math.min(ue,xe.ymin),fe=Math.max(fe,xe.ymax)}return{xmin:B,xmax:ae,ymin:ue,ymax:fe,pts:[],contains:function(be,ke,Pe,Re){for(var Ue=!1,tt=0;tt<Y.length;tt++)Y[tt].contains(be,ke,Pe,Re)&&(Ue=!1===Y[tt].subtract);return Ue},isRect:!1,degenerate:!1}}function Q(O,Y,B){Y._fullLayout._drawing=!1;var ae=Y._fullLayout,ue=B.plotinfo,fe=B.dragmode,he=ae._lastSelectedSubplot&&ae._lastSelectedSubplot===ue.id,xe=(O.shiftKey||O.altKey)&&!(C(fe)&&b(fe));he&&xe&&ue.selection&&ue.selection.selectionDefs&&!B.selectionDefs?(B.selectionDefs=ue.selection.selectionDefs,B.mergedPolygons=ue.selection.mergedPolygons):xe&&ue.selection||le(B),he||(z(Y),ae._lastSelectedSubplot=ue.id)}function le(O){var Y=O.dragmode,B=O.plotinfo,ae=O.gd;if(ae._fullLayout._activeShapeIndex>=0&&ae._fullLayout._deactivateShape(ae),C(Y)){var ue=ae._fullLayout._zoomlayer.selectAll(".select-outline-"+B.id);if(ue&&ae._fullLayout._drawing){var fe=A(ue,O);fe&&g.call("_guiRelayout",ae,{shapes:fe}),ae._fullLayout._drawing=!1}}B.selection={},B.selection.selectionDefs=O.selectionDefs=[],B.selection.mergedPolygons=O.mergedPolygons=[]}function j(O,Y,B,ae){var ue,fe,he,xe=[],be=Y.map(function(tt){return tt._id}),ke=B.map(function(tt){return tt._id});for(he=0;he<O.calcdata.length;he++)if(!0===(fe=(ue=O.calcdata[he])[0].trace).visible&&fe._module&&fe._module.selectPoints)if(!ae||fe.subplot!==ae&&fe.geo!==ae)if("splom"===fe.type&&fe._xaxes[be[0]]&&fe._yaxes[ke[0]]){var Pe=Ue(fe._module,ue,Y[0],B[0]);Pe.scene=O._fullLayout._splomScenes[fe.uid],xe.push(Pe)}else if("sankey"===fe.type){var Re=Ue(fe._module,ue,Y[0],B[0]);xe.push(Re)}else{if(-1===be.indexOf(fe.xaxis)||-1===ke.indexOf(fe.yaxis))continue;xe.push(Ue(fe._module,ue,I(O,fe.xaxis),I(O,fe.yaxis)))}else xe.push(Ue(fe._module,ue,Y[0],B[0]));return xe;function Ue(tt,Ke,$e,Me){return{_module:tt,cd:Ke,xaxis:$e,yaxis:Me}}}function $(O){var Y=O.searchInfo.cd[0].trace,ae=O.pointNumbers;return!!Y.selectedpoints&&Y.selectedpoints.indexOf(ae.length>0?ae[0]:O.pointNumber)>-1}function se(O,Y,B){var ae,ue,fe,he;for(ae=0;ae<Y.length;ae++){var xe=Y[ae].cd[0].trace._fullInput,be=O._fullLayout._tracePreGUI[xe.uid]||{};void 0===be.selectedpoints&&(be.selectedpoints=xe._input.selectedpoints||null)}if(B){var ke=B.points||[];for(ae=0;ae<Y.length;ae++)(he=Y[ae].cd[0].trace)._input.selectedpoints=he._fullInput.selectedpoints=[],he._fullInput!==he&&(he.selectedpoints=[]);for(ae=0;ae<ke.length;ae++){var Pe=ke[ae],Re=Pe.data,Ue=Pe.fullData;Pe.pointIndices?([].push.apply(Re.selectedpoints,Pe.pointIndices),he._fullInput!==he&&[].push.apply(Ue.selectedpoints,Pe.pointIndices)):(Re.selectedpoints.push(Pe.pointIndex),he._fullInput!==he&&Ue.selectedpoints.push(Pe.pointIndex))}}else for(ae=0;ae<Y.length;ae++)delete(he=Y[ae].cd[0].trace).selectedpoints,delete he._input.selectedpoints,he._fullInput!==he&&delete he._fullInput.selectedpoints;var tt=!1;for(ae=0;ae<Y.length;ae++){he=(fe=(ue=Y[ae]).cd)[0].trace,g.traceIs(he,"regl")&&(tt=!0);var Ke=ue._module,$e=Ke.styleOnSelect||Ke.style;$e&&($e(O,fe,fe[0].node3),fe[0].nodeRangePlot3&&$e(O,fe,fe[0].nodeRangePlot3))}tt&&(D(O),E(O))}function ee(O,Y){if(Array.isArray(O))for(var B=Y.cd,ae=Y.cd[0].trace,ue=0;ue<O.length;ue++)O[ue]=m(O[ue],ae,B);return O}function F(O,Y){for(var B=[],ae=0;ae<O.length;ae++){B[ae]=[];for(var ue=0;ue<O[ae].length;ue++){B[ae][ue]=[],B[ae][ue][0]=ue?"L":"M";for(var fe=0;fe<O[ae][ue].length;fe++)B[ae][ue].push(O[ae][ue][fe])}Y||B[ae].push(["Z",B[ae][0][1],B[ae][0][2]])}return B}pe.exports={prepSelect:function(O,Y,B,ae,ue){var fe=h(ue),he=u(ue),xe=b(ue),be=C(ue),ke=M(ue),Pe="drawcircle"===ue,Re="drawline"===ue||Pe,Ue=ae.gd,tt=Ue._fullLayout,Ke=tt._zoomlayer,$e=ae.element.getBoundingClientRect(),Me=ae.plotinfo,ve=ne(Me),Se=Y-$e.left,Te=B-$e.top;tt._calcInverseTransform(Ue);var Oe,Fe,Qe,nt,Ye,rt,ht,qe=k.apply3DTransform(tt._invTransform)(Se,Te),Xe=tt._invScaleX,gt=tt._invScaleY,xt=Se=qe[0],bt=Te=qe[1],Ot="M"+Se+","+Te,wt=ae.xaxes[0]._length,Be=ae.yaxes[0]._length,Ge=ae.xaxes.concat(ae.yaxes),vt=O.altKey&&!(C(ue)&&xe);Q(O,Ue,ae),fe&&(Oe=R([[Se,Te]],P.BENDPX));var Pt=Ke.selectAll("path.select-outline-"+Me.id).data(be?[0]:[1,2]),Jt=tt.newshape;Pt.enter().append("path").attr("class",function(We){return"select-outline select-outline-"+We+" select-outline-"+Me.id}).style(be?{opacity:Jt.opacity/2,fill:xe?void 0:Jt.fillcolor,stroke:Jt.line.color,"stroke-dasharray":p(Jt.line.dash,Jt.line.width),"stroke-width":Jt.line.width+"px"}:{}).attr("fill-rule",Jt.fillrule).classed("cursor-move",!!be).attr("transform",ve).attr("d",Ot+"Z");var tn,Kt=Ke.append("path").attr("class","zoombox-corners").style({fill:c.background,stroke:c.defaultLine,"stroke-width":1}).attr("transform",ve).attr("d","M0,0Z"),qt=tt._uid+P.SELECTID,Nt=[],ge=j(Ue,ae.xaxes,ae.yaxes,ae.subplot);function _e(We,Je){return We-Je}tn=Me.fillRangeItems?Me.fillRangeItems:he?function(We,Je){var ft=We.range={};for(Ye=0;Ye<Ge.length;Ye++){var st=Ge[Ye],et=st._id.charAt(0);ft[st._id]=[W(st,Je[et+"min"]),W(st,Je[et+"max"])].sort(_e)}}:function(We,Je,ft){var st=We.lassoPoints={};for(Ye=0;Ye<Ge.length;Ye++){var et=Ge[Ye];st[et._id]=ft.filtered.map(Z(et))}},ae.moveFn=function(We,Je){xt=Math.max(0,Math.min(wt,Xe*We+Se)),bt=Math.max(0,Math.min(Be,gt*Je+Te));var Bt,an,ft=Math.abs(xt-Se),st=Math.abs(bt-Te);if(he){var et,ut,St;if(ke){var Vt=tt.selectdirection;switch(et="any"===Vt?st<Math.min(.6*ft,S)?"h":ft<Math.min(.6*st,S)?"v":"d":Vt){case"h":ut=Pe?Be/2:0,St=Be;break;case"v":ut=Pe?wt/2:0,St=wt}}if(be)switch(tt.newshape.drawdirection){case"vertical":et="h",ut=Pe?Be/2:0,St=Be;break;case"horizontal":et="v",ut=Pe?wt/2:0,St=wt;break;case"ortho":ft<st?(et="h",ut=Te,St=bt):(et="v",ut=Se,St=xt);break;default:et="d"}"h"===et?((nt=Re?N(Pe,[xt,ut],[xt,St]):[[Se,ut],[Se,St],[xt,St],[xt,ut]]).xmin=Re?xt:Math.min(Se,xt),nt.xmax=Re?xt:Math.max(Se,xt),nt.ymin=Math.min(ut,St),nt.ymax=Math.max(ut,St),Kt.attr("d","M"+nt.xmin+","+(Te-S)+"h-4v"+2*S+"h4ZM"+(nt.xmax-1)+","+(Te-S)+"h4v"+2*S+"h-4Z")):"v"===et?((nt=Re?N(Pe,[ut,bt],[St,bt]):[[ut,Te],[ut,bt],[St,bt],[St,Te]]).xmin=Math.min(ut,St),nt.xmax=Math.max(ut,St),nt.ymin=Re?bt:Math.min(Te,bt),nt.ymax=Re?bt:Math.max(Te,bt),Kt.attr("d","M"+(Se-S)+","+nt.ymin+"v-4h"+2*S+"v4ZM"+(Se-S)+","+(nt.ymax-1)+"v4h"+2*S+"v-4Z")):"d"===et&&((nt=Re?N(Pe,[Se,Te],[xt,bt]):[[Se,Te],[Se,bt],[xt,bt],[xt,Te]]).xmin=Math.min(Se,xt),nt.xmax=Math.max(Se,xt),nt.ymin=Math.min(Te,bt),nt.ymax=Math.max(Te,bt),Kt.attr("d","M0,0Z"))}else fe&&(Oe.addPt([xt,bt]),nt=Oe.filtered);ae.selectionDefs&&ae.selectionDefs.length?(Bt=ae.mergedPolygons,an=nt,Qe=vt?s.difference({regions:Bt,inverted:!1},{regions:[an],inverted:!1}).regions:s.union({regions:Bt,inverted:!1},{regions:[an],inverted:!1}).regions,nt.subtract=vt,Fe=ie(ae.selectionDefs.concat([nt]))):(Qe=[nt],Fe=G(nt)),w(F(Qe,xe),Pt,ae),ke&&L.throttle(qt,P.SELECTDELAY,function(){var Bt;Nt=[];var an,Tt=[];for(Ye=0;Ye<ge.length;Ye++)if(an=(rt=ge[Ye])._module.selectPoints(rt,Fe),Tt.push(an),Bt=ee(an,rt),Nt.length)for(var Wt=0;Wt<Bt.length;Wt++)Nt.push(Bt[Wt]);else Nt=Bt;se(Ue,ge,ht={points:Nt}),tn(ht,nt,Oe),ae.gd.emit("plotly_selecting",ht)})},ae.clickFn=function(We,Je){if(Kt.remove(),Ue._fullLayout._activeShapeIndex>=0)Ue._fullLayout._deactivateShape(Ue);else if(!be){var ft=tt.clickmode;L.done(qt).then(function(){if(L.clear(qt),2===We){for(Pt.remove(),Ye=0;Ye<ge.length;Ye++)(rt=ge[Ye])._module.selectPoints(rt,!1);se(Ue,ge),le(ae),Ue.emit("plotly_deselect",null)}else ft.indexOf("select")>-1&&te(Je,Ue,ae.xaxes,ae.yaxes,ae.subplot,ae,Pt),"event"===ft&&Ue.emit("plotly_selected",void 0);l.click(Ue,Je)}).catch(k.error)}},ae.doneFn=function(){Kt.remove(),L.done(qt).then(function(){L.clear(qt),ae.gd.emit("plotly_selected",ht),nt&&ae.selectionDefs&&(nt.subtract=vt,ae.selectionDefs.push(nt),ae.mergedPolygons.length=0,[].push.apply(ae.mergedPolygons,Qe)),ae.doneFnCompleted&&ae.doneFnCompleted(Nt)}).catch(k.error),be&&le(ae)}},clearSelect:z,clearSelectionsCache:le,selectOnClick:te}},{"../../components/color":102,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../components/fx/helpers":138,"../../components/shapes/draw_newshape/display_outlines":190,"../../components/shapes/draw_newshape/helpers":191,"../../components/shapes/draw_newshape/newshapes":192,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/polygon":244,"../../lib/throttle":256,"../../plot_api/subroutines":269,"../../registry":318,"./axis_ids":283,"./constants":286,"./handle_outline":290,"./helpers":291,polybooljs:57}],301:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("d3-time-format").utcFormat,p=v("../../lib"),c=p.numberFormat,l=v("fast-isnumeric"),m=p.cleanNumber,d=p.ms2DateTime,h=p.dateTime2ms,u=p.ensureNumber,C=p.isArrayOrTypedArray,b=v("../../constants/numerical"),M=b.FP_SAFE,w=b.BADNUM,N=b.LOG_CLIP,A=b.ONEWEEK,k=b.ONEDAY,H=b.ONEHOUR,L=b.ONEMIN,I=b.ONESEC,D=v("./axis_ids"),E=v("./constants"),P=E.HOUR_PATTERN,S=E.WEEKDAY_PATTERN;function R(z){return Math.pow(10,z)}function G(z){return null!=z}pe.exports=function(z,X){X=X||{};var W=z._id||"x",Z=W.charAt(0);function ne(B,ae){if(B>0)return Math.log(B)/Math.LN10;if(B<=0&&ae&&z.range&&2===z.range.length){var ue=z.range[0],fe=z.range[1];return.5*(ue+fe-2*N*Math.abs(ue-fe))}return w}function te(B,ae,ue,fe){if((fe||{}).msUTC&&l(B))return+B;var he=h(B,ue||z.calendar);if(he===w){if(!l(B))return w;B=+B;var xe=Math.floor(10*p.mod(B+.05,1)),be=Math.round(B-xe/10);he=h(new Date(be))+xe/10}return he}function oe(B,ae,ue){return d(B,ae,ue||z.calendar)}function Ce(B){return z._categories[Math.round(B)]}function ie(B){if(G(B)){if(void 0===z._categoriesMap&&(z._categoriesMap={}),void 0!==z._categoriesMap[B])return z._categoriesMap[B];z._categories.push("number"==typeof B?String(B):B);var ae=z._categories.length-1;return z._categoriesMap[B]=ae,ae}return w}function Q(B){if(z._categoriesMap)return z._categoriesMap[B]}function le(B){var ae=Q(B);return void 0!==ae?ae:l(B)?+B:void 0}function j(B){return l(B)?+B:Q(B)}function $(B,ae,ue){return s.round(ue+ae*B,2)}function se(B,ae,ue){return(B-ue)/ae}var ee=function(B){return l(B)?$(B,z._m,z._b):w},F=function(B){return se(B,z._m,z._b)};if(z.rangebreaks){var O="y"===Z;ee=function(B){if(!l(B))return w;var ae=z._rangebreaks.length;if(!ae)return $(B,z._m,z._b);var ue=O;z.range[0]>z.range[1]&&(ue=!ue);for(var fe=ue?-1:1,he=fe*B,xe=0,be=0;be<ae;be++){var ke=fe*z._rangebreaks[be].min,Pe=fe*z._rangebreaks[be].max;if(he<ke)break;if(!(he>Pe)){xe=he<(ke+Pe)/2?be:be+1;break}xe=be+1}var Re=z._B[xe]||0;return isFinite(Re)?$(B,z._m2,Re):0},F=function(B){var ae=z._rangebreaks.length;if(!ae)return se(B,z._m,z._b);for(var ue=0,fe=0;fe<ae&&!(B<z._rangebreaks[fe].pmin);fe++)B>z._rangebreaks[fe].pmax&&(ue=fe+1);return se(B,z._m2,z._B[ue])}}z.c2l="log"===z.type?ne:u,z.l2c="log"===z.type?R:u,z.l2p=ee,z.p2l=F,z.c2p="log"===z.type?function(B,ae){return ee(ne(B,ae))}:ee,z.p2c="log"===z.type?function(B){return R(F(B))}:F,-1!==["linear","-"].indexOf(z.type)?(z.d2r=z.r2d=z.d2c=z.r2c=z.d2l=z.r2l=m,z.c2d=z.c2r=z.l2d=z.l2r=u,z.d2p=z.r2p=function(B){return z.l2p(m(B))},z.p2d=z.p2r=F,z.cleanPos=u):"log"===z.type?(z.d2r=z.d2l=function(B,ae){return ne(m(B),ae)},z.r2d=z.r2c=function(B){return R(m(B))},z.d2c=z.r2l=m,z.c2d=z.l2r=u,z.c2r=ne,z.l2d=R,z.d2p=function(B,ae){return z.l2p(z.d2r(B,ae))},z.p2d=function(B){return R(F(B))},z.r2p=function(B){return z.l2p(m(B))},z.p2r=F,z.cleanPos=u):"date"===z.type?(z.d2r=z.r2d=p.identity,z.d2c=z.r2c=z.d2l=z.r2l=te,z.c2d=z.c2r=z.l2d=z.l2r=oe,z.d2p=z.r2p=function(B,ae,ue){return z.l2p(te(B,0,ue))},z.p2d=z.p2r=function(B,ae,ue){return oe(F(B),ae,ue)},z.cleanPos=function(B){return p.cleanDate(B,w,z.calendar)}):"category"===z.type?(z.d2c=z.d2l=ie,z.r2d=z.c2d=z.l2d=Ce,z.d2r=z.d2l_noadd=le,z.r2c=function(B){var ae=j(B);return void 0!==ae?ae:z.fraction2r(.5)},z.l2r=z.c2r=u,z.r2l=j,z.d2p=function(B){return z.l2p(z.r2c(B))},z.p2d=function(B){return Ce(F(B))},z.r2p=z.d2p,z.p2r=F,z.cleanPos=function(B){return"string"==typeof B&&""!==B?B:u(B)}):"multicategory"===z.type&&(z.r2d=z.c2d=z.l2d=Ce,z.d2r=z.d2l_noadd=le,z.r2c=function(B){var ae=le(B);return void 0!==ae?ae:z.fraction2r(.5)},z.r2c_just_indices=Q,z.l2r=z.c2r=u,z.r2l=le,z.d2p=function(B){return z.l2p(z.r2c(B))},z.p2d=function(B){return Ce(F(B))},z.r2p=z.d2p,z.p2r=F,z.cleanPos=function(B){return Array.isArray(B)||"string"==typeof B&&""!==B?B:u(B)},z.setupMultiCategory=function(B){var ae,ue,fe=z._traceIndices,he=z._matchGroup;if(he&&0===z._categories.length)for(var xe in he)if(xe!==W){var be=X[D.id2name(xe)];fe=fe.concat(be._traceIndices)}var ke=[[0,{}],[0,{}]],Pe=[];for(ae=0;ae<fe.length;ae++){var Re=B[fe[ae]];if(Z in Re){var Ue=Re[Z],tt=Re._length||p.minRowLength(Ue);if(C(Ue[0])&&C(Ue[1]))for(ue=0;ue<tt;ue++){var Ke=Ue[0][ue],$e=Ue[1][ue];G(Ke)&&G($e)&&(Pe.push([Ke,$e]),Ke in ke[0][1]||(ke[0][1][Ke]=ke[0][0]++),$e in ke[1][1]||(ke[1][1][$e]=ke[1][0]++))}}}for(Pe.sort(function(Me,ve){var Se=ke[0][1],Te=Se[Me[0]]-Se[ve[0]];if(Te)return Te;var qe=ke[1][1];return qe[Me[1]]-qe[ve[1]]}),ae=0;ae<Pe.length;ae++)ie(Pe[ae])}),z.fraction2r=function(B){var ae=z.r2l(z.range[0]),ue=z.r2l(z.range[1]);return z.l2r(ae+B*(ue-ae))},z.r2fraction=function(B){var ae=z.r2l(z.range[0]),ue=z.r2l(z.range[1]);return(z.r2l(B)-ae)/(ue-ae)},z.cleanRange=function(B,ae){ae||(ae={}),B||(B="range");var ue,fe,he=p.nestedProperty(z,B).get();if(fe=(fe="date"===z.type?p.dfltRange(z.calendar):"y"===Z?E.DFLTRANGEY:"realaxis"===z._name?[0,1]:ae.dfltRange||E.DFLTRANGEX).slice(),"tozero"!==z.rangemode&&"nonnegative"!==z.rangemode||(fe[0]=0),he&&2===he.length)for("date"!==z.type||z.autorange||(he[0]=p.cleanDate(he[0],w,z.calendar),he[1]=p.cleanDate(he[1],w,z.calendar)),ue=0;ue<2;ue++)if("date"===z.type){if(!p.isDateTime(he[ue],z.calendar)){z[B]=fe;break}if(z.r2l(he[0])===z.r2l(he[1])){var xe=p.constrain(z.r2l(he[0]),p.MIN_MS+1e3,p.MAX_MS-1e3);he[0]=z.l2r(xe-1e3),he[1]=z.l2r(xe+1e3);break}}else{if(!l(he[ue])){if(!l(he[1-ue])){z[B]=fe;break}he[ue]=he[1-ue]*(ue?10:.1)}if(he[ue]<-M?he[ue]=-M:he[ue]>M&&(he[ue]=M),he[0]===he[1]){var be=Math.max(1,Math.abs(1e-6*he[0]));he[0]-=be,he[1]+=be}}else p.nestedProperty(z,B).set(fe)},z.setScale=function(B){var ae=X._size;if(z.overlaying){var ue=D.getFromId({_fullLayout:X},z.overlaying);z.domain=ue.domain}var fe=B&&z._r?"_r":"range",he=z.calendar;z.cleanRange(fe);var xe,be,ke=z.r2l(z[fe][0],he),Pe=z.r2l(z[fe][1],he),Re="y"===Z;if(Re?(z._offset=ae.t+(1-z.domain[1])*ae.h,z._length=ae.h*(z.domain[1]-z.domain[0]),z._m=z._length/(ke-Pe),z._b=-z._m*Pe):(z._offset=ae.l+z.domain[0]*ae.w,z._length=ae.w*(z.domain[1]-z.domain[0]),z._m=z._length/(Pe-ke),z._b=-z._m*ke),z._rangebreaks=[],z._lBreaks=0,z._m2=0,z._B=[],z.rangebreaks&&(z._rangebreaks=z.locateBreaks(Math.min(ke,Pe),Math.max(ke,Pe)),z._rangebreaks.length)){for(xe=0;xe<z._rangebreaks.length;xe++)be=z._rangebreaks[xe],z._lBreaks+=Math.abs(be.max-be.min);var Ue=Re;ke>Pe&&(Ue=!Ue),Ue&&z._rangebreaks.reverse();var tt=Ue?-1:1;for(z._m2=tt*z._length/(Math.abs(Pe-ke)-z._lBreaks),z._B.push(-z._m2*(Re?Pe:ke)),xe=0;xe<z._rangebreaks.length;xe++)z._B.push(z._B[z._B.length-1]-tt*z._m2*((be=z._rangebreaks[xe]).max-be.min));for(xe=0;xe<z._rangebreaks.length;xe++)(be=z._rangebreaks[xe]).pmin=ee(be.min),be.pmax=ee(be.max)}if(!isFinite(z._m)||!isFinite(z._b)||z._length<0)throw X._replotting=!1,new Error("Something went wrong with axis scaling")},z.maskBreaks=function(B){var ae,ue,fe,he,xe,be=z.rangebreaks||[];be._cachedPatterns||(be._cachedPatterns=be.map(function(Ke){return Ke.enabled&&Ke.bounds?p.simpleMap(Ke.bounds,Ke.pattern?m:z.d2c):null})),be._cachedValues||(be._cachedValues=be.map(function(Ke){return Ke.enabled&&Ke.values?p.simpleMap(Ke.values,z.d2c).sort(p.sorterAsc):null}));for(var ke=0;ke<be.length;ke++){var Pe=be[ke];if(Pe.enabled)if(Pe.bounds){switch(ue=(ae=be._cachedPatterns[ke])[0],fe=ae[1],Pe.pattern){case S:he=(xe=new Date(B)).getUTCDay(),ue>fe&&(fe+=7,he<ue&&(he+=7));break;case P:he=(xe=new Date(B)).getUTCHours()+(xe.getUTCMinutes()/60+xe.getUTCSeconds()/3600+xe.getUTCMilliseconds()/36e5),ue>fe&&(fe+=24,he<ue&&(he+=24));break;case"":he=B}if(he>=ue&&he<fe)return w}else for(var Ue=be._cachedValues[ke],tt=0;tt<Ue.length;tt++)if(fe=(ue=Ue[tt])+Pe.dvalue,B>=ue&&B<fe)return w}return B},z.locateBreaks=function(B,ae){var ue,fe,he,xe,be=[];if(!z.rangebreaks)return be;var ke=z.rangebreaks.slice().sort(function(qe,Oe){return qe.pattern===S&&Oe.pattern===P?-1:Oe.pattern===S&&qe.pattern===P?1:0}),Pe=function(qe,Oe){if((qe=p.constrain(qe,B,ae))!==(Oe=p.constrain(Oe,B,ae))){for(var Fe=!0,Qe=0;Qe<be.length;Qe++){var nt=be[Qe];qe<nt.max&&Oe>=nt.min&&(qe<nt.min&&(nt.min=qe),Oe>nt.max&&(nt.max=Oe),Fe=!1)}Fe&&be.push({min:qe,max:Oe})}};for(ue=0;ue<ke.length;ue++){var Re=ke[ue];if(Re.enabled)if(Re.bounds){var Ue=B,tt=ae;Re.pattern&&(Ue=Math.floor(Ue)),he=(fe=p.simpleMap(Re.bounds,Re.pattern?m:z.r2l))[0],xe=fe[1];var Ke,$e,Me=new Date(Ue);switch(Re.pattern){case S:$e=A,Ke=(xe-he+(xe<he?7:0))*k,Ue+=he*k-(Me.getUTCDay()*k+Me.getUTCHours()*H+Me.getUTCMinutes()*L+Me.getUTCSeconds()*I+Me.getUTCMilliseconds());break;case P:$e=k,Ke=(xe-he+(xe<he?24:0))*H,Ue+=he*H-(Me.getUTCHours()*H+Me.getUTCMinutes()*L+Me.getUTCSeconds()*I+Me.getUTCMilliseconds());break;default:Ue=Math.min(fe[0],fe[1]),Ke=$e=(tt=Math.max(fe[0],fe[1]))-Ue}for(var ve=Ue;ve<tt;ve+=$e)Pe(ve,ve+Ke)}else for(var Se=p.simpleMap(Re.values,z.d2c),Te=0;Te<Se.length;Te++)Pe(he=Se[Te],xe=he+Re.dvalue)}return be.sort(function(qe,Oe){return qe.min-Oe.min}),be},z.makeCalcdata=function(B,ae,ue){var fe,he,xe,be,ke=z.type,Pe="date"===ke&&B[ae+"calendar"];if(ae in B){if(fe=B[ae],be=B._length||p.minRowLength(fe),p.isTypedArray(fe)&&("linear"===ke||"log"===ke)){if(be===fe.length)return fe;if(fe.subarray)return fe.subarray(0,be)}if("multicategory"===ke)return function(tt,Ke){for(var $e=new Array(Ke),Me=0;Me<Ke;Me++)$e[Me]=Q([(tt[0]||[])[Me],(tt[1]||[])[Me]]);return $e}(fe,be);for(he=new Array(be),xe=0;xe<be;xe++)he[xe]=z.d2c(fe[xe],0,Pe,ue)}else{var Re=ae+"0"in B?z.d2c(B[ae+"0"],0,Pe):0,Ue=B["d"+ae]?Number(B["d"+ae]):1;for(fe=B[{x:"y",y:"x"}[ae]],be=B._length||fe.length,he=new Array(be),xe=0;xe<be;xe++)he[xe]=Re+xe*Ue}if(z.rangebreaks)for(xe=0;xe<be;xe++)he[xe]=z.maskBreaks(he[xe]);return he},z.isValidRange=function(B){return Array.isArray(B)&&2===B.length&&l(z.r2l(B[0]))&&l(z.r2l(B[1]))},z.isPtWithinRange=function(B,ae){var ue=z.c2l(B[Z],null,ae),fe=z.r2l(z.range[0]),he=z.r2l(z.range[1]);return fe<he?fe<=ue&&ue<=he:he<=ue&&ue<=fe},z._emptyCategories=function(){z._categories=[],z._categoriesMap={}},z.clearCalc=function(){var B=z._matchGroup;if(B){var ae=null,ue=null;for(var fe in B){var he=X[D.id2name(fe)];if(he._categories){ae=he._categories,ue=he._categoriesMap;break}}ae&&ue?(z._categories=ae,z._categoriesMap=ue):z._emptyCategories()}else z._emptyCategories();if(z._initialCategories)for(var xe=0;xe<z._initialCategories.length;xe++)ie(z._initialCategories[xe])},z.sortByInitialCategories=function(){var B=[];if(z._emptyCategories(),z._initialCategories)for(var ae=0;ae<z._initialCategories.length;ae++)ie(z._initialCategories[ae]);B=B.concat(z._traceIndices);var ue=z._matchGroup;for(var fe in ue)if(W!==fe){var he=X[D.id2name(fe)];he._categories=z._categories,he._categoriesMap=z._categoriesMap,B=B.concat(he._traceIndices)}return B};var Y=X._d3locale;"date"===z.type&&(z._dateFormat=Y?Y.timeFormat:g,z._extraFormat=X._extraFormat),z._separators=X.separators,z._numFormat=Y?Y.numberFormat:c,delete z._minDtick,delete z._forceTick0}},{"../../constants/numerical":212,"../../lib":232,"./axis_ids":283,"./constants":286,"@plotly/d3":11,"d3-time-format":14,"fast-isnumeric":17}],302:[function(v,pe,J){"use strict";pe.exports=function(s){var g=["showexponent","showtickprefix","showticksuffix"].filter(function(p){return void 0!==s[p]});if(g.every(function(p){return s[p]===s[g[0]]})||1===g.length)return s[g[0]]}},{}],303:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../components/color").contrast,p=v("./layout_attributes"),c=v("./show_dflt"),l=v("../array_container_defaults");function m(d,h){function u(C,b){return s.coerce(d,h,p.tickformatstops,C,b)}u("enabled")&&(u("dtickrange"),u("value"))}pe.exports=function(d,h,u,C,b){b||(b={});var M=c(d);if(u("showticklabels")){var w=b.font||{},N=h.color,A=-1!==(h.ticklabelposition||"").indexOf("inside")?g(b.bgColor):N&&N!==p.color.dflt?N:w.color;if(s.coerceFont(u,"tickfont",{family:w.family,size:w.size,color:A}),b.noTicklabelstep||"multicategory"===C||"log"===C||u("ticklabelstep"),b.noAng||u("tickangle"),"category"!==C){var k=u("tickformat");l(d,h,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:m}),h.tickformatstops.length||delete h.tickformatstops,b.noExp||k||"date"===C||(u("showexponent",M),u("exponentformat"),u("minexponent"),u("separatethousands"))}}}},{"../../components/color":102,"../../lib":232,"../array_container_defaults":274,"./layout_attributes":294,"./show_dflt":302}],304:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("./layout_attributes");pe.exports=function(p,c,l,m){var d=m.isMinor,h=d?p.minor||{}:p,u=d?c.minor:c,C=d?g.minor:g,b=d?"minor.":"",M=s.coerce2(h,u,C,"ticklen",d?.6*(c.ticklen||5):void 0),w=s.coerce2(h,u,C,"tickwidth",d?c.tickwidth||1:void 0),N=s.coerce2(h,u,C,"tickcolor",(d?c.tickcolor:void 0)||u.color);l(b+"ticks",!d&&m.outerTicks||M||w||N?"outside":"")||(delete u.ticklen,delete u.tickwidth,delete u.tickcolor)}},{"../../lib":232,"./layout_attributes":294}],305:[function(v,pe,J){"use strict";var s=v("./clean_ticks"),g=v("../../lib").isArrayOrTypedArray;pe.exports=function(p,c,l,m,d){d||(d={});var h=d.isMinor,u=h?p.minor||{}:p,C=h?c.minor:c,b=h?"minor.":"";function M(L){var I=u[L];return void 0!==I?I:(C._template||{})[L]}var w=M("tick0"),N=M("dtick"),A=M("tickvals"),k=l(b+"tickmode",g(A)?"array":N?"linear":"auto");if("auto"===k)l(b+"nticks");else if("linear"===k){var H=C.dtick=s.dtick(N,m);C.tick0=s.tick0(w,m,c.calendar,H)}else"multicategory"!==m&&(void 0===l(b+"tickvals")?C.tickmode="auto":h||l("ticktext"))}},{"../../lib":232,"./clean_ticks":285}],306:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../registry"),p=v("../../lib"),c=v("../../components/drawing"),l=v("./axes");pe.exports=function(m,d,h,u){var C=m._fullLayout;if(0!==d.length){var b,M,w,N;u&&(b=u());var A=s.ease(h.easing);return m._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(N),N=null,function(){for(var L={},I=0;I<d.length;I++){var D=d[I],P=D.plotinfo.yaxis;D.xr0&&(L[D.plotinfo.xaxis._name+".range"]=D.xr0.slice()),D.yr0&&(L[P._name+".range"]=D.yr0.slice())}return g.call("relayout",m,L).then(function(){for(var S=0;S<d.length;S++)k(d[S].plotinfo)})}()}),M=Date.now(),N=window.requestAnimationFrame(function L(){w=Date.now();for(var I=Math.min(1,(w-M)/h.duration),D=A(I),E=0;E<d.length;E++)H(d[E],D);w-M>h.duration?(function(){for(var P={},S=0;S<d.length;S++){var R=d[S],z=R.plotinfo.yaxis;R.xr1&&(P[R.plotinfo.xaxis._name+".range"]=R.xr1.slice()),R.yr1&&(P[z._name+".range"]=R.yr1.slice())}b&&b(),g.call("relayout",m,P).then(function(){for(var X=0;X<d.length;X++)k(d[X].plotinfo)})}(),N=window.cancelAnimationFrame(L)):N=window.requestAnimationFrame(L)}),Promise.resolve()}function k(L){var I=L.xaxis,D=L.yaxis;C._defs.select("#"+L.clipId+"> rect").call(c.setTranslate,0,0).call(c.setScale,1,1),L.plot.call(c.setTranslate,I._offset,D._offset).call(c.setScale,1,1);var E=L.plot.selectAll(".scatterlayer .trace");E.selectAll(".point").call(c.setPointGroupScale,1,1),E.selectAll(".textpoint").call(c.setTextPointsScale,1,1),E.call(c.hideOutsideRangePoints,L)}function H(L,I){var D=L.plotinfo,E=D.xaxis,P=D.yaxis,S=E._length,R=P._length,G=!!L.xr1,z=!!L.yr1,X=[];if(G){var W=p.simpleMap(L.xr0,E.r2l),Z=p.simpleMap(L.xr1,E.r2l),ne=W[1]-W[0],te=Z[1]-Z[0];X[0]=(W[0]*(1-I)+I*Z[0]-W[0])/(W[1]-W[0])*S,X[2]=S*(1-I+I*te/ne),E.range[0]=E.l2r(W[0]*(1-I)+I*Z[0]),E.range[1]=E.l2r(W[1]*(1-I)+I*Z[1])}else X[0]=0,X[2]=S;if(z){var oe=p.simpleMap(L.yr0,P.r2l),Ce=p.simpleMap(L.yr1,P.r2l),ie=oe[1]-oe[0],Q=Ce[1]-Ce[0];X[1]=(oe[1]*(1-I)+I*Ce[1]-oe[1])/(oe[0]-oe[1])*R,X[3]=R*(1-I+I*Q/ie),P.range[0]=E.l2r(oe[0]*(1-I)+I*Ce[0]),P.range[1]=P.l2r(oe[1]*(1-I)+I*Ce[1])}else X[1]=0,X[3]=R;l.drawOne(m,E,{skipTitle:!0}),l.drawOne(m,P,{skipTitle:!0}),l.redrawComponents(m,[E._id,P._id]);var le=G?S/X[2]:1,j=z?R/X[3]:1,O=E._offset-(G?X[0]/X[2]*S:0),Y=P._offset-(z?X[1]/X[3]*R:0);D.clipRect.call(c.setTranslate,G?X[0]:0,z?X[1]:0).call(c.setScale,1/le,1/j),D.plot.call(c.setTranslate,O,Y).call(c.setScale,le,j),c.setPointGroupScale(D.zoomScalePts,1/le,1/j),c.setTextPointsScale(D.zoomScaleTxt,1/le,1/j)}l.redrawComponents(m)}},{"../../components/drawing":124,"../../lib":232,"../../registry":318,"./axes":279,"@plotly/d3":11}],307:[function(v,pe,J){"use strict";var s=v("../../registry").traceIs,g=v("./axis_autotype");function p(l){return{v:"x",h:"y"}[l.orientation||"v"]}function c(l,m){var d=p(l),h=s(l,"box-violin"),u=s(l._fullInput||{},"candlestick");return h&&!u&&m===d&&void 0===l[d]&&void 0===l[d+"0"]}pe.exports=function(l,m,d,h){d("autotypenumbers",h.autotypenumbersDflt),"-"===d("type",(h.splomStash||{}).type)&&(function(u,C){if("-"===u.type){var b,M=u._id,w=M.charAt(0);-1!==M.indexOf("scene")&&(M=w);var N=function(P,S,R){for(var G=0;G<P.length;G++){var z=P[G];if("splom"===z.type&&z._length>0&&(z["_"+R+"axes"]||{})[S]||(z[R+"axis"]||R)===S&&(c(z,R)||(z[R]||[]).length||z[R+"0"]))return z}}(C,M,w);if(N){if("histogram"===N.type&&w==={v:"y",h:"x"}[N.orientation||"v"])return void(u.type="linear");var A=w+"calendar",k=N[A],H={noMultiCategory:!s(N,"cartesian")||s(N,"noMultiCategory")};if("box"===N.type&&N._hasPreCompStats&&w==={h:"x",v:"y"}[N.orientation||"v"]&&(H.noMultiCategory=!0),H.autotypenumbers=u.autotypenumbers,c(N,w)){var L=p(N),I=[];for(b=0;b<C.length;b++){var D=C[b];s(D,"box-violin")&&(D[w+"axis"]||w)===M&&(I.push(void 0!==D[L]?D[L][0]:void 0!==D.name?D.name:"text"),D[A]!==k&&(k=void 0))}u.type=g(I,k,H)}else if("splom"===N.type){var E=N.dimensions[N._axesDim[M]];E.visible&&(u.type=g(E.values,k,H))}else u.type=g(N[w]||[N[w+"0"]],k,H)}}}(m,h.data),"-"===m.type?m.type="linear":l.type=m.type)}},{"../../registry":318,"./axis_autotype":280}],308:[function(v,pe,J){"use strict";var s=v("../registry"),g=v("../lib");function p(d,h,u){var C,b,M,w=!1;if("data"===h.type)C=d._fullData[null!==h.traces?h.traces[0]:0];else{if("layout"!==h.type)return!1;C=d._fullLayout}return b=g.nestedProperty(C,h.prop).get(),(M=u[h.type]=u[h.type]||{}).hasOwnProperty(h.prop)&&M[h.prop]!==b&&(w=!0),M[h.prop]=b,{changed:w,value:b}}function c(d,h){var u=[],C=h[0],b={};if("string"==typeof C)b[C]=h[1];else{if(!g.isPlainObject(C))return u;b=C}return m(b,function(M,w,N){u.push({type:"layout",prop:M,value:N})},"",0),u}function l(d,h){var u,C,b,M,w=[];if(b=h[1],u=h[2],M={},"string"==typeof(C=h[0]))M[C]=b;else{if(!g.isPlainObject(C))return w;M=C,void 0===u&&(u=b)}return void 0===u&&(u=null),m(M,function(N,A,k){var H,L;if(Array.isArray(k)){L=k.slice();var I=Math.min(L.length,d.data.length);u&&(I=Math.min(I,u.length)),H=[];for(var D=0;D<I;D++)H[D]=u?u[D]:D}else L=k,H=u?u.slice():null;if(null===H)Array.isArray(L)&&(L=L[0]);else if(Array.isArray(H)){if(!Array.isArray(L)){var E=L;L=[];for(var P=0;P<H.length;P++)L[P]=E}L.length=Math.min(H.length,L.length)}w.push({type:"data",prop:N,traces:H,value:L})},"",0),w}function m(d,h,u,C){Object.keys(d).forEach(function(b){var M=d[b];if("_"!==b[0]){var w=u+(C>0?".":"")+b;g.isPlainObject(M)?m(M,h,w,C+1):h(w,b,M)}})}J.manageCommandObserver=function(d,h,u,C){var b={},M=!0;h&&h._commandObserver&&(b=h._commandObserver),b.cache||(b.cache={}),b.lookupTable={};var w=J.hasSimpleAPICommandBindings(d,u,b.lookupTable);if(h&&h._commandObserver){if(w)return b;if(h._commandObserver.remove)return h._commandObserver.remove(),h._commandObserver=null,b}if(w){p(d,w,b.cache),b.check=function(){if(M){var k=p(d,w,b.cache);return k.changed&&C&&void 0!==b.lookupTable[k.value]&&(b.disable(),Promise.resolve(C({value:k.value,type:w.type,prop:w.prop,traces:w.traces,index:b.lookupTable[k.value]})).then(b.enable,b.enable)),k.changed}};for(var N=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],A=0;A<N.length;A++)d._internalOn(N[A],b.check);b.remove=function(){for(var k=0;k<N.length;k++)d._removeInternalListener(N[k],b.check)}}else g.log("Unable to automatically bind plot updates to API command"),b.lookupTable={},b.remove=function(){};return b.disable=function(){M=!1},b.enable=function(){M=!0},h&&(h._commandObserver=b),b},J.hasSimpleAPICommandBindings=function(d,h,u){var C,b,M=h.length;for(C=0;C<M;C++){var w,N=h[C],A=N.method,k=N.args;if(Array.isArray(k)||(k=[]),!A)return!1;var H=J.computeAPICommandBindings(d,A,k);if(1!==H.length)return!1;if(b){if((w=H[0]).type!==b.type||w.prop!==b.prop)return!1;if(Array.isArray(b.traces)){if(!Array.isArray(w.traces))return!1;w.traces.sort();for(var L=0;L<b.traces.length;L++)if(b.traces[L]!==w.traces[L])return!1}else if(w.prop!==b.prop)return!1}else b=H[0],Array.isArray(b.traces)&&b.traces.sort();var I=(w=H[0]).value;if(Array.isArray(I)){if(1!==I.length)return!1;I=I[0]}u&&(u[I]=C)}return b},J.executeAPICommand=function(d,h,u){if("skip"===h)return Promise.resolve();var C=s.apiMethodRegistry[h],b=[d];Array.isArray(u)||(u=[]);for(var M=0;M<u.length;M++)b.push(u[M]);return C.apply(null,b).catch(function(w){return g.warn("API call to Plotly."+h+" rejected.",w),Promise.reject(w)})},J.computeAPICommandBindings=function(d,h,u){var C,M;switch(Array.isArray(u)||(u=[]),h){case"restyle":C=l(d,u);break;case"relayout":C=c(0,u);break;case"update":C=l(d,[u[0],u[2]]).concat(c(0,[u[1]]));break;case"animate":M=u,C=Array.isArray(M[0])&&1===M[0].length&&-1!==["string","number"].indexOf(typeof M[0][0])?[{type:"layout",prop:"_currentFrame",value:M[0][0].toString()}]:[];break;default:C=[]}return C}},{"../lib":232,"../registry":318}],309:[function(v,pe,J){"use strict";var s=v("../lib/extend").extendFlat;J.attributes=function(g,p){p=p||{};var c={valType:"info_array",editType:(g=g||{}).editType,items:[{valType:"number",min:0,max:1,editType:g.editType},{valType:"number",min:0,max:1,editType:g.editType}],dflt:[0,1]},l={x:s({},c,{}),y:s({},c,{}),editType:g.editType};return g.noGridCell||(l.row={valType:"integer",min:0,dflt:0,editType:g.editType},l.column={valType:"integer",min:0,dflt:0,editType:g.editType}),l},J.defaults=function(g,p,c,l){var m=l&&l.x||[0,1],d=l&&l.y||[0,1],h=p.grid;if(h){var u=c("domain.column");void 0!==u&&(u<h.columns?m=h._domains.x[u]:delete g.domain.column);var C=c("domain.row");void 0!==C&&(C<h.rows?d=h._domains.y[C]:delete g.domain.row)}var b=c("domain.x",m),M=c("domain.y",d);b[0]<b[1]||(g.domain.x=m.slice()),M[0]<M[1]||(g.domain.y=d.slice())}},{"../lib/extend":226}],310:[function(v,pe,J){"use strict";pe.exports=function(s){var g=s.editType,p=s.colorEditType;void 0===p&&(p=g);var c={family:{valType:"string",noBlank:!0,strict:!0,editType:g},size:{valType:"number",min:1,editType:g},color:{valType:"color",editType:p},editType:g};return s.autoSize&&(c.size.dflt="auto"),s.autoColor&&(c.color.dflt="auto"),s.arrayOk&&(c.family.arrayOk=!0,c.size.arrayOk=!0,c.color.arrayOk=!0),c}},{}],311:[function(v,pe,J){"use strict";pe.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],312:[function(v,pe,J){"use strict";var s=v("../registry"),g=v("./cartesian/constants").SUBPLOT_PATTERN;J.getSubplotCalcData=function(p,c,l){var m=s.subplotsRegistry[c];if(!m)return[];for(var d=m.attr,h=[],u=0;u<p.length;u++){var C=p[u];C[0].trace[d]===l&&h.push(C)}return h},J.getModuleCalcData=function(p,c){var l,m=[],d=[];if(!(l="string"==typeof c?s.getModule(c).plot:"function"==typeof c?c:c.plot))return[m,p];for(var h=0;h<p.length;h++){var u=p[h],C=u[0].trace;!0===C.visible&&0!==C._length&&(C._module.plot===l?m.push(u):d.push(u))}return[m,d]},J.getSubplotData=function(p,c,l){if(!s.subplotsRegistry[c])return[];var m,d,h,u=s.subplotsRegistry[c].attr,C=[];if("gl2d"===c){var b=l.match(g);d="x"+b[1],h="y"+b[2]}for(var M=0;M<p.length;M++)m=p[M],"gl2d"===c&&s.traceIs(m,"gl2d")?m[u[0]]===d&&m[u[1]]===h&&C.push(m):m[u]===l&&C.push(m);return C}},{"../registry":318,"./cartesian/constants":286}],313:[function(v,pe,J){"use strict";function s(g,p){var c,l,m=[0,0,0,0];for(c=0;c<4;++c)for(l=0;l<4;++l)m[l]+=g[4*c+l]*p[c];return m}pe.exports=function(g,p){return s(g.projection,s(g.view,s(g.model,[p[0],p[1],p[2],1])))}},{}],314:[function(v,pe,J){"use strict";var s=v("./font_attributes"),g=v("./animation_attributes"),p=v("../components/color/attributes"),c=v("../components/shapes/draw_newshape/attributes"),l=v("./pad_attributes"),m=v("../lib/extend").extendFlat,d=s({editType:"calc"});d.family.dflt='"Open Sans", verdana, arial, sans-serif',d.size.dflt=12,d.color.dflt=p.defaultLine,pe.exports={font:d,title:{text:{valType:"string",editType:"layoutstyle"},font:s({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:m(l({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:p.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:p.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:p.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:c.newshape,activeshape:c.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:m({},g.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:s({editType:"layoutstyle"})}}},{"../components/color/attributes":101,"../components/shapes/draw_newshape/attributes":187,"../lib/extend":226,"./animation_attributes":273,"./font_attributes":310,"./pad_attributes":315}],315:[function(v,pe,J){"use strict";pe.exports=function(s){var g=s.editType;return{t:{valType:"number",dflt:0,editType:g},r:{valType:"number",dflt:0,editType:g},b:{valType:"number",dflt:0,editType:g},l:{valType:"number",dflt:0,editType:g},editType:g}}},{}],316:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("d3-time-format").timeFormatLocale,p=v("d3-format").formatLocale,c=v("fast-isnumeric"),l=v("../registry"),m=v("../plot_api/plot_schema"),d=v("../plot_api/plot_template"),h=v("../lib"),u=v("../components/color"),C=v("../constants/numerical").BADNUM,b=v("./cartesian/axis_ids"),M=v("./cartesian/handle_outline").clearSelect,w=v("./animation_attributes"),N=v("./frame_attributes"),A=v("../plots/get_data").getModuleCalcData,k=h.relinkPrivateKeys,H=h._,L=pe.exports={};h.extendFlat(L,l),L.attributes=v("./attributes"),L.attributes.type.values=L.allTypes,L.fontAttrs=v("./font_attributes"),L.layoutAttributes=v("./layout_attributes"),L.fontWeight="normal";var I=L.transformsRegistry,D=v("./command");L.executeAPICommand=D.executeAPICommand,L.computeAPICommandBindings=D.computeAPICommandBindings,L.manageCommandObserver=D.manageCommandObserver,L.hasSimpleAPICommandBindings=D.hasSimpleAPICommandBindings,L.redrawText=function(ie){return ie=h.getGraphDiv(ie),new Promise(function(Q){setTimeout(function(){ie._fullLayout&&(l.getComponentMethod("annotations","draw")(ie),l.getComponentMethod("legend","draw")(ie),l.getComponentMethod("colorbar","draw")(ie),Q(L.previousPromises(ie)))},300)})},L.resize=function(ie){var Q;ie=h.getGraphDiv(ie);var le=new Promise(function(j,$){ie&&!h.isHidden(ie)||$(new Error("Resize must be passed a displayed plot div element.")),ie._redrawTimer&&clearTimeout(ie._redrawTimer),ie._resolveResize&&(Q=ie._resolveResize),ie._resolveResize=j,ie._redrawTimer=setTimeout(function(){if(!ie.layout||ie.layout.width&&ie.layout.height||h.isHidden(ie))j(ie);else{delete ie.layout.width,delete ie.layout.height;var se=ie.changed;ie.autoplay=!0,l.call("relayout",ie,{autosize:!0}).then(function(){ie.changed=se,ie._resolveResize===j&&(delete ie._resolveResize,j(ie))})}},100)});return Q&&Q(le),le},L.previousPromises=function(ie){if((ie._promises||[]).length)return Promise.all(ie._promises).then(function(){ie._promises=[]})},L.addLinks=function(ie){if(ie._context.showLink||ie._context.showSources){var Q=ie._fullLayout,le=h.ensureSingle(Q._paper,"text","js-plot-link-container",function(O){O.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:u.defaultLine,"pointer-events":"all"}).each(function(){var Y=s.select(this);Y.append("tspan").classed("js-link-to-tool",!0),Y.append("tspan").classed("js-link-spacer",!0),Y.append("tspan").classed("js-sourcelinks",!0)})}),j=le.node(),$={y:Q._paper.attr("height")-9};document.body.contains(j)&&j.getComputedTextLength()>=Q.width-20?($["text-anchor"]="start",$.x=5):($["text-anchor"]="end",$.x=Q._paper.attr("width")-7),le.attr($);var se=le.select(".js-link-to-tool"),ee=le.select(".js-link-spacer"),F=le.select(".js-sourcelinks");ie._context.showSources&&ie._context.showSources(ie),ie._context.showLink&&function(O,Y){Y.text("");var B=Y.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(O._context.linkText+" "+String.fromCharCode(187));if(O._context.sendData)B.on("click",function(){L.sendDataToCloud(O)});else{var ae=window.location.pathname.split("/"),ue=window.location.search;B.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ae[2].split(".")[0]+"/"+ae[1]+ue})}}(ie,se),ee.text(se.text()&&F.text()?" - ":"")}},L.sendDataToCloud=function(ie){var Q=(window.PLOTLYENV||{}).BASE_URL||ie._context.plotlyServerURL;if(Q){ie.emit("plotly_beforeexport");var le=s.select(ie).append("div").attr("id","hiddenform").style("display","none"),j=le.append("form").attr({action:Q+"/external",method:"post",target:"_blank"});return j.append("input").attr({type:"text",name:"data"}).node().value=L.graphJson(ie,!1,"keepdata"),j.node().submit(),le.remove(),ie.emit("plotly_afterexport"),!1}};var E=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],P=["year","month","dayMonth","dayMonthYear"];function S(ie,Q){var le=ie._context.locale;le||(le="en-US");var j=!1,$={};function se(ae){for(var ue=!0,fe=0;fe<Q.length;fe++){var he=Q[fe];$[he]||(ae[he]?$[he]=ae[he]:ue=!1)}ue&&(j=!0)}for(var ee=0;ee<2;ee++){for(var F=ie._context.locales,O=0;O<2;O++){var Y=(F[le]||{}).format;if(Y&&(se(Y),j))break;F=l.localeRegistry}var B=le.split("-")[0];if(j||B===le)break;le=B}return j||se(l.localeRegistry.en.format),$}function R(ie,Q){var le={_fullLayout:Q},j="x"===ie._id.charAt(0),$=ie._mainAxis._anchorAxis,se="",ee="",F="";if($&&(F=$._mainAxis._id,se=j?ie._id+F:F+ie._id),!se||!Q._plots[se]){se="";for(var O=ie._counterAxes,Y=0;Y<O.length;Y++){var B=O[Y],ae=j?ie._id+B:B+ie._id;ee||(ee=ae);var ue=b.getFromId(le,B);if(F&&ue.overlaying===F){se=ae;break}}}return se||ee}function G(ie){var Q=ie.transforms;if(Array.isArray(Q)&&Q.length)for(var le=0;le<Q.length;le++){var j=Q[le],$=j._module||I[j.type];if($&&$.makesData)return!0}return!1}function z(ie,Q,le,j){for(var $=ie.transforms,se=[ie],ee=0;ee<$.length;ee++){var F=$[ee],O=I[F.type];O&&O.transform&&(se=O.transform(se,{transform:F,fullTrace:ie,fullData:Q,layout:le,fullLayout:j,transformIndex:ee}))}return se}function X(ie){return"string"==typeof ie&&"px"===ie.substr(ie.length-2)&&parseFloat(ie)}function W(ie){var Q=ie.margin;if(!ie._size){var le=ie._size={l:Math.round(Q.l),r:Math.round(Q.r),t:Math.round(Q.t),b:Math.round(Q.b),p:Math.round(Q.pad)};le.w=Math.round(ie.width)-le.l-le.r,le.h=Math.round(ie.height)-le.t-le.b}ie._pushmargin||(ie._pushmargin={}),ie._pushmarginIds||(ie._pushmarginIds={})}L.supplyDefaults=function(ie,Q){var rt,ht,le=Q&&Q.skipUpdateCalc,j=ie._fullLayout||{};if(j._skipDefaults)delete j._skipDefaults;else{var $,se=ie._fullLayout={},ee=ie.layout||{},F=ie._fullData||[],O=ie._fullData=[],Y=ie.data||[],B=ie.calcdata||[],ae=ie._context||{};ie._transitionData||L.createTransitionData(ie),se._dfltTitle={plot:H(ie,"Click to enter Plot title"),x:H(ie,"Click to enter X axis title"),y:H(ie,"Click to enter Y axis title"),colorbar:H(ie,"Click to enter Colorscale title"),annotation:H(ie,"new text")},se._traceWord=H(ie,"trace");var ue=S(ie,E);if(se._mapboxAccessToken=ae.mapboxAccessToken,j._initialAutoSizeIsDone){var fe=j.width,he=j.height;L.supplyLayoutGlobalDefaults(ee,se,ue),ee.width||(se.width=fe),ee.height||(se.height=he),L.sanitizeMargins(se)}else{L.supplyLayoutGlobalDefaults(ee,se,ue);var xe=!ee.width||!ee.height,be=se.autosize;xe&&(be||ae.autosizable)?L.plotAutoSize(ie,ee,se):xe&&L.sanitizeMargins(se),!be&&xe&&(ee.width=se.width,ee.height=se.height)}se._d3locale=((rt=ue).decimal=(ht=se.separators).charAt(0),rt.thousands=ht.charAt(1),{numberFormat:function(Xe){try{Xe=p(rt).format(h.adjustFormat(Xe))}catch{return h.warnBadFormat(Xe),h.noFormat}return Xe},timeFormat:g(rt).utcFormat}),se._extraFormat=S(ie,P),se._initialAutoSizeIsDone=!0,se._dataLength=Y.length,se._modules=[],se._visibleModules=[],se._basePlotModules=[];var Pe=se._subplots=function(){var rt,ht,Xe=l.collectableSubplotTypes,gt={};if(!Xe){Xe=[];var xt=l.subplotsRegistry;for(var bt in xt){var Ot=xt[bt].attr;if(Ot&&(Xe.push(bt),Array.isArray(Ot)))for(ht=0;ht<Ot.length;ht++)h.pushUnique(Xe,Ot[ht])}}for(rt=0;rt<Xe.length;rt++)gt[Xe[rt]]=[];return gt}(),Re=se._splomAxes={x:{},y:{}},Ue=se._splomSubplots={};se._splomGridDflt={},se._scatterStackOpts={},se._firstScatter={},se._alignmentOpts={},se._colorAxes={},se._requestRangeslider={},se._traceUids=function(rt,ht){var Xe,gt,xt=ht.length,bt=[];for(Xe=0;Xe<rt.length;Xe++){var Ot=rt[Xe]._fullInput;Ot!==gt&&bt.push(Ot),gt=Ot}var wt=bt.length,Be=new Array(xt),Ge={};function vt(tn,Kt){Be[Kt]=tn,Ge[tn]=1}function Pt(tn,Kt){if(tn&&"string"==typeof tn&&!Ge[tn])return vt(tn,Kt),!0}for(Xe=0;Xe<xt;Xe++){var Jt=ht[Xe].uid;"number"==typeof Jt&&(Jt=String(Jt)),Pt(Jt,Xe)||Xe<wt&&Pt(bt[Xe].uid,Xe)||vt(h.randstr(Ge),Xe)}return Be}(F,Y),se._globalTransforms=(ie._context||{}).globalTransforms,L.supplyDataDefaults(Y,O,ee,se);var tt=Object.keys(Re.x),Ke=Object.keys(Re.y);if(tt.length>1&&Ke.length>1){for(l.getComponentMethod("grid","sizeDefaults")(ee,se),$=0;$<tt.length;$++)h.pushUnique(Pe.xaxis,tt[$]);for($=0;$<Ke.length;$++)h.pushUnique(Pe.yaxis,Ke[$]);for(var $e in Ue)h.pushUnique(Pe.cartesian,$e)}if(se._has=L._hasPlotType.bind(se),F.length===O.length)for($=0;$<O.length;$++)k(O[$],F[$]);L.supplyLayoutModuleDefaults(ee,se,O,ie._transitionData);var Me=se._visibleModules,ve=[];for($=0;$<Me.length;$++){var Se=Me[$].crossTraceDefaults;Se&&h.pushUnique(ve,Se)}for($=0;$<ve.length;$++)ve[$](O,se);se._hasOnlyLargeSploms=1===se._basePlotModules.length&&"splom"===se._basePlotModules[0].name&&tt.length>15&&Ke.length>15&&0===se.shapes.length&&0===se.images.length,L.linkSubplots(O,se,F,j),L.cleanPlot(O,se,F,j);var Te=!(!j._has||!j._has("gl2d")),qe=!(!se._has||!se._has("gl2d")),Oe=!(!j._has||!j._has("cartesian"))||Te,Fe=!(!se._has||!se._has("cartesian"))||qe;Oe&&!Fe?j._bgLayer.remove():Fe&&!Oe&&(se._shouldCreateBgLayer=!0),j._zoomlayer&&!ie._dragging&&M({_fullLayout:j}),function(rt,ht){var Xe,gt=[];ht.meta&&(Xe=ht._meta={meta:ht.meta,layout:{meta:ht.meta}});for(var xt=0;xt<rt.length;xt++){var bt=rt[xt];bt.meta?gt[bt.index]=bt._meta={meta:bt.meta}:ht.meta&&(bt._meta={meta:ht.meta}),ht.meta&&(bt._meta.layout={meta:ht.meta})}gt.length&&(Xe||(Xe=ht._meta={}),Xe.data=gt)}(O,se),k(se,j),l.getComponentMethod("colorscale","crossTraceDefaults")(O,se),se._preGUI||(se._preGUI={}),se._tracePreGUI||(se._tracePreGUI={});var Qe,nt=se._tracePreGUI,Ye={};for(Qe in nt)Ye[Qe]="old";for($=0;$<O.length;$++)Ye[Qe=O[$]._fullInput.uid]||(nt[Qe]={}),Ye[Qe]="new";for(Qe in Ye)"old"===Ye[Qe]&&delete nt[Qe];W(se),l.getComponentMethod("rangeslider","makeData")(se),le||B.length!==O.length||L.supplyDefaultsUpdateCalc(B,O)}},L.supplyDefaultsUpdateCalc=function(ie,Q){for(var le=0;le<Q.length;le++){var j=Q[le],$=(ie[le]||[])[0];if($&&$.trace){var se=$.trace;if(se._hasCalcTransform){var ee,F,O,Y=se._arrayAttrs;for(ee=0;ee<Y.length;ee++)O=h.nestedProperty(se,F=Y[ee]).get().slice(),h.nestedProperty(j,F).set(O)}$.trace=j}}},L.createTransitionData=function(ie){ie._transitionData||(ie._transitionData={}),ie._transitionData._frames||(ie._transitionData._frames=[]),ie._transitionData._frameHash||(ie._transitionData._frameHash={}),ie._transitionData._counter||(ie._transitionData._counter=0),ie._transitionData._interruptCallbacks||(ie._transitionData._interruptCallbacks=[])},L._hasPlotType=function(ie){var Q,le=this._basePlotModules||[];for(Q=0;Q<le.length;Q++)if(le[Q].name===ie)return!0;var j=this._modules||[];for(Q=0;Q<j.length;Q++){var $=j[Q].name;if($===ie)return!0;var se=l.modules[$];if(se&&se.categories[ie])return!0}return!1},L.cleanPlot=function(ie,Q,le,j){var $,se,ee=j._basePlotModules||[];for($=0;$<ee.length;$++){var F=ee[$];F.clean&&F.clean(ie,Q,le,j)}var O=j._has&&j._has("gl"),Y=Q._has&&Q._has("gl");O&&!Y&&void 0!==j._glcontainer&&(j._glcontainer.selectAll(".gl-canvas").remove(),j._glcontainer.selectAll(".no-webgl").remove(),j._glcanvas=null);var B=!!j._infolayer;e:for($=0;$<le.length;$++){var ae=le[$].uid;for(se=0;se<ie.length;se++)if(ae===ie[se].uid)continue e;B&&j._infolayer.select(".cb"+ae).remove()}},L.linkSubplots=function(ie,Q,le,j){var $,se,ee=j._plots||{},F=Q._plots={},O=Q._subplots,Y={_fullData:ie,_fullLayout:Q},B=O.cartesian.concat(O.gl2d||[]);for($=0;$<B.length;$++){var ae,ue=B[$],fe=ee[ue],he=b.getFromId(Y,ue,"x"),xe=b.getFromId(Y,ue,"y");for(fe?ae=F[ue]=fe:(ae=F[ue]={}).id=ue,he._counterAxes.push(xe._id),xe._counterAxes.push(he._id),he._subplotsWith.push(ue),xe._subplotsWith.push(ue),ae.xaxis=he,ae.yaxis=xe,ae._hasClipOnAxisFalse=!1,se=0;se<ie.length;se++){var be=ie[se];if(be.xaxis===ae.xaxis._id&&be.yaxis===ae.yaxis._id&&!1===be.cliponaxis){ae._hasClipOnAxisFalse=!0;break}}}var ke,Pe=b.list(Y,null,!0);for($=0;$<Pe.length;$++){var Re=null;(ke=Pe[$]).overlaying&&(Re=b.getFromId(Y,ke.overlaying))&&Re.overlaying&&(ke.overlaying=!1,Re=null),ke._mainAxis=Re||ke,Re&&(ke.domain=Re.domain.slice()),ke._anchorAxis="free"===ke.anchor?null:b.getFromId(Y,ke.anchor)}for($=0;$<Pe.length;$++)if((ke=Pe[$])._counterAxes.sort(b.idSort),ke._subplotsWith.sort(h.subplotSort),ke._mainSubplot=R(ke,Q),ke._counterAxes.length&&(ke.spikemode&&-1!==ke.spikemode.indexOf("across")||ke.automargin&&ke.mirror&&"free"!==ke.anchor||l.getComponentMethod("rangeslider","isVisible")(ke))){var Ue=1,tt=0;for(se=0;se<ke._counterAxes.length;se++){var Ke=b.getFromId(Y,ke._counterAxes[se]);Ue=Math.min(Ue,Ke.domain[0]),tt=Math.max(tt,Ke.domain[1])}Ue<tt&&(ke._counterDomainMin=Ue,ke._counterDomainMax=tt)}},L.clearExpandedTraceDefaultColors=function(ie){var Q,le,j;for(le=[],(Q=ie._module._colorAttrs)||(ie._module._colorAttrs=Q=[],m.crawl(ie._module.attributes,function($,se,ee,F){le[F]=se,le.length=F+1,"color"===$.valType&&void 0===$.dflt&&Q.push(le.join("."))})),j=0;j<Q.length;j++)h.nestedProperty(ie,"_input."+Q[j]).get()||h.nestedProperty(ie,Q[j]).set(null)},L.supplyDataDefaults=function(ie,Q,le,j){var $,se,ee,F=j._modules,O=j._visibleModules,Y=j._basePlotModules,B=0,ae=0;function ue($e){Q.push($e);var Me=$e._module;Me&&(h.pushUnique(F,Me),!0===$e.visible&&h.pushUnique(O,Me),h.pushUnique(Y,$e._module.basePlotModule),B++,!1!==$e._input.visible&&ae++)}j._transformModules=[];var fe={},he=[],be=d.traceTemplater((le.template||{}).data||{});for($=0;$<ie.length;$++){if((se=be.newTrace(ee=ie[$])).uid=j._traceUids[$],L.supplyTraceDefaults(ee,se,ae,j,$),se.index=$,se._input=ee,se._expandedIndex=B,se.transforms&&se.transforms.length)for(var ke=!1!==ee.visible&&!1===se.visible,Pe=z(se,Q,le,j),Re=0;Re<Pe.length;Re++){var Ue=Pe[Re],tt={_template:se._template,type:se.type,uid:se.uid+Re};ke&&!1===Ue.visible&&delete Ue.visible,L.supplyTraceDefaults(Ue,tt,B,j,$),k(tt,Ue),tt.index=$,tt._input=ee,tt._fullInput=se,tt._expandedIndex=B,tt._expandedInput=Ue,ue(tt)}else se._fullInput=se,se._expandedInput=se,ue(se);l.traceIs(se,"carpetAxis")&&(fe[se.carpet]=se),l.traceIs(se,"carpetDependent")&&he.push($)}for($=0;$<he.length;$++)if((se=Q[he[$]]).visible){var Ke=fe[se.carpet];se._carpet=Ke,Ke&&Ke.visible?(se.xaxis=Ke.xaxis,se.yaxis=Ke.yaxis):se.visible=!1}},L.supplyAnimationDefaults=function(ie){var Q;ie=ie||{};var le={};function j($,se){return h.coerce(ie||{},le,w,$,se)}if(j("mode"),j("direction"),j("fromcurrent"),Array.isArray(ie.frame))for(le.frame=[],Q=0;Q<ie.frame.length;Q++)le.frame[Q]=L.supplyAnimationFrameDefaults(ie.frame[Q]||{});else le.frame=L.supplyAnimationFrameDefaults(ie.frame||{});if(Array.isArray(ie.transition))for(le.transition=[],Q=0;Q<ie.transition.length;Q++)le.transition[Q]=L.supplyAnimationTransitionDefaults(ie.transition[Q]||{});else le.transition=L.supplyAnimationTransitionDefaults(ie.transition||{});return le},L.supplyAnimationFrameDefaults=function(ie){var Q={};function le(j,$){return h.coerce(ie||{},Q,w.frame,j,$)}return le("duration"),le("redraw"),Q},L.supplyAnimationTransitionDefaults=function(ie){var Q={};function le(j,$){return h.coerce(ie||{},Q,w.transition,j,$)}return le("duration"),le("easing"),Q},L.supplyFrameDefaults=function(ie){var Q={};function le(j,$){return h.coerce(ie,Q,N,j,$)}return le("group"),le("name"),le("traces"),le("baseframe"),le("data"),le("layout"),Q},L.supplyTraceDefaults=function(ie,Q,le,j,$){var se,ee=j.colorway||u.defaults,F=ee[le%ee.length];function O(Pe,Re){return h.coerce(ie,Q,L.attributes,Pe,Re)}var Y=O("visible");O("type"),O("name",j._traceWord+" "+$),O("uirevision",j.uirevision);var B=L.getModule(Q);if(Q._module=B,B){var ae=B.basePlotModule,ue=ae.attr,fe=ae.attributes;if(ue&&fe){var he=j._subplots,xe="";if(Y||"gl2d"!==ae.name){if(Array.isArray(ue))for(se=0;se<ue.length;se++){var be=ue[se],ke=h.coerce(ie,Q,fe,be);he[be]&&h.pushUnique(he[be],ke),xe+=ke}else xe=h.coerce(ie,Q,fe,ue);he[ae.name]&&h.pushUnique(he[ae.name],xe)}}}return Y&&(O("customdata"),O("ids"),O("meta"),l.traceIs(Q,"showLegend")?(h.coerce(ie,Q,B.attributes.showlegend?B.attributes:L.attributes,"showlegend"),O("legendgroup"),O("legendgrouptitle.text"),O("legendrank"),Q._dfltShowLegend=!0):Q._dfltShowLegend=!1,B&&B.supplyDefaults(ie,Q,F,j),l.traceIs(Q,"noOpacity")||O("opacity"),l.traceIs(Q,"notLegendIsolatable")&&(Q.visible=!!Q.visible),l.traceIs(Q,"noHover")||(Q.hovertemplate||h.coerceHoverinfo(ie,Q,j),"parcats"!==Q.type&&l.getComponentMethod("fx","supplyDefaults")(ie,Q,F,j)),B&&B.selectPoints&&O("selectedpoints"),L.supplyTransformDefaults(ie,Q,j)),Q},L.hasMakesDataTransform=G,L.supplyTransformDefaults=function(ie,Q,le){if(Q._length||G(ie)){var j=le._globalTransforms||[],$=le._transformModules||[];if(Array.isArray(ie.transforms)||0!==j.length)for(var ee=j.concat(ie.transforms||[]),F=Q.transforms=[],O=0;O<ee.length;O++){var Y,B=ee[O],ae=B.type,ue=I[ae],fe=!(B._module&&B._module===ue),he=ue&&"function"==typeof ue.transform;ue||h.warn("Unrecognized transform type "+ae+"."),ue&&ue.supplyDefaults&&(fe||he)?((Y=ue.supplyDefaults(B,Q,le,ie)).type=ae,Y._module=ue,h.pushUnique($,ue)):Y=h.extendFlat({},B),F.push(Y)}}},L.supplyLayoutGlobalDefaults=function(ie,Q,le){function j(O,Y){return h.coerce(ie,Q,L.layoutAttributes,O,Y)}var $=ie.template;h.isPlainObject($)&&(Q.template=$,Q._template=$.layout,Q._dataTemplate=$.data),j("autotypenumbers");var se=h.coerceFont(j,"font");h.coerceFont(j,"title.font",h.extendFlat({},se,{size:Math.round(1.4*se.size)})),j("title.text",Q._dfltTitle.plot),j("title.xref"),j("title.yref"),j("title.x"),j("title.y"),j("title.xanchor"),j("title.yanchor"),j("title.pad.t"),j("title.pad.r"),j("title.pad.b"),j("title.pad.l"),j("uniformtext.mode")&&j("uniformtext.minsize"),j("autosize",!(ie.width&&ie.height)),j("width"),j("height"),j("margin.l"),j("margin.r"),j("margin.t"),j("margin.b"),j("margin.pad"),j("margin.autoexpand"),ie.width&&ie.height&&L.sanitizeMargins(Q),l.getComponentMethod("grid","sizeDefaults")(ie,Q),j("paper_bgcolor"),j("separators",le.decimal+le.thousands),j("hidesources"),j("colorway"),j("datarevision");var F=j("uirevision");j("editrevision",F),j("selectionrevision",F),l.getComponentMethod("modebar","supplyLayoutDefaults")(ie,Q),l.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(ie,Q,j),j("meta"),h.isPlainObject(ie.transition)&&(j("transition.duration"),j("transition.easing"),j("transition.ordering")),l.getComponentMethod("calendars","handleDefaults")(ie,Q,"calendar"),l.getComponentMethod("fx","supplyLayoutGlobalDefaults")(ie,Q,j)},L.plotAutoSize=function(ie,Q,le){var j,$,se=ie._context||{},ee=se.frameMargins,F=h.isPlotDiv(ie);if(F&&ie.emit("plotly_autosize"),se.fillFrame)j=window.innerWidth,$=window.innerHeight,document.body.style.overflow="hidden";else{var O=F?window.getComputedStyle(ie):{};if(j=X(O.width)||X(O.maxWidth)||le.width,$=X(O.height)||X(O.maxHeight)||le.height,c(ee)&&ee>0){var Y=1-2*ee;j=Math.round(Y*j),$=Math.round(Y*$)}}var B=L.layoutAttributes.width.min,ae=L.layoutAttributes.height.min;j<B&&(j=B),$<ae&&($=ae);var ue=!Q.width&&Math.abs(le.width-j)>1,fe=!Q.height&&Math.abs(le.height-$)>1;(fe||ue)&&(ue&&(le.width=j),fe&&(le.height=$)),ie._initialAutoSize||(ie._initialAutoSize={width:j,height:$}),L.sanitizeMargins(le)},L.supplyLayoutModuleDefaults=function(ie,Q,le,j){var $,se,ee,F=l.componentsRegistry,O=Q._basePlotModules,Y=l.subplotsRegistry.cartesian;for($ in F)(ee=F[$]).includeBasePlot&&ee.includeBasePlot(ie,Q);for(var B in O.length||O.push(Y),Q._has("cartesian")&&(l.getComponentMethod("grid","contentDefaults")(ie,Q),Y.finalizeSubplots(ie,Q)),Q._subplots)Q._subplots[B].sort(h.subplotSort);for(se=0;se<O.length;se++)(ee=O[se]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(ie,Q,le);var ae=Q._modules;for(se=0;se<ae.length;se++)(ee=ae[se]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(ie,Q,le);var ue=Q._transformModules;for(se=0;se<ue.length;se++)(ee=ue[se]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(ie,Q,le,j);for($ in F)(ee=F[$]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(ie,Q,le)},L.purge=function(ie){var Q=ie._fullLayout||{};void 0!==Q._glcontainer&&(Q._glcontainer.selectAll(".gl-canvas").remove(),Q._glcontainer.remove(),Q._glcanvas=null),Q._modeBar&&Q._modeBar.destroy(),ie._transitionData&&(ie._transitionData._interruptCallbacks&&(ie._transitionData._interruptCallbacks.length=0),ie._transitionData._animationRaf&&window.cancelAnimationFrame(ie._transitionData._animationRaf)),h.clearThrottle(),h.clearResponsive(ie),delete ie.data,delete ie.layout,delete ie._fullData,delete ie._fullLayout,delete ie.calcdata,delete ie.empty,delete ie.fid,delete ie.undoqueue,delete ie.undonum,delete ie.autoplay,delete ie.changed,delete ie._promises,delete ie._redrawTimer,delete ie._hmlumcount,delete ie._hmpixcount,delete ie._transitionData,delete ie._transitioning,delete ie._initialAutoSize,delete ie._transitioningWithDuration,delete ie._dragging,delete ie._dragged,delete ie._dragdata,delete ie._hoverdata,delete ie._snapshotInProgress,delete ie._editing,delete ie._mouseDownTime,delete ie._legendMouseDownTime,ie.removeAllListeners&&ie.removeAllListeners()},L.style=function(ie){var Q,le=ie._fullLayout._visibleModules,j=[];for(Q=0;Q<le.length;Q++){var $=le[Q];$.style&&h.pushUnique(j,$.style)}for(Q=0;Q<j.length;Q++)j[Q](ie)},L.sanitizeMargins=function(ie){if(ie&&ie.margin){var Q,le=ie.width,j=ie.height,$=ie.margin,ee=j-($.t+$.b);le-($.l+$.r)<0&&(Q=(le-1)/($.l+$.r),$.l=Math.floor(Q*$.l),$.r=Math.floor(Q*$.r)),ee<0&&(Q=(j-1)/($.t+$.b),$.t=Math.floor(Q*$.t),$.b=Math.floor(Q*$.b))}},L.clearAutoMarginIds=function(ie){ie._fullLayout._pushmarginIds={}},L.allowAutoMargin=function(ie,Q){ie._fullLayout._pushmarginIds[Q]=1},L.autoMargin=function(ie,Q,le){var j=ie._fullLayout,$=j.width,se=j.height,ee=j.margin,F=h.constrain($-ee.l-ee.r,2,64),O=h.constrain(se-ee.t-ee.b,2,64),Y=Math.max(0,$-F),B=Math.max(0,se-O),ae=j._pushmargin,ue=j._pushmarginIds;if(!1!==ee.autoexpand){if(le){var fe=le.pad;if(void 0===fe&&(fe=Math.min(12,ee.l,ee.r,ee.t,ee.b)),Y){var he=(le.l+le.r)/Y;he>1&&(le.l/=he,le.r/=he)}if(B){var xe=(le.t+le.b)/B;xe>1&&(le.t/=xe,le.b/=xe)}ae[Q]={l:{val:void 0!==le.xl?le.xl:le.x,size:le.l+fe},r:{val:void 0!==le.xr?le.xr:le.x,size:le.r+fe},b:{val:void 0!==le.yb?le.yb:le.y,size:le.b+fe},t:{val:void 0!==le.yt?le.yt:le.y,size:le.t+fe}},ue[Q]=1}else delete ae[Q],delete ue[Q];if(!j._replotting)return L.doAutoMargin(ie)}},L.doAutoMargin=function(ie){var Q=ie._fullLayout,le=Q.width,j=Q.height;Q._size||(Q._size={}),W(Q);var $=Q._size,se=Q.margin,ee=h.extendFlat({},$),F=se.l,O=se.r,Y=se.t,B=se.b,ae=Q._pushmargin,ue=Q._pushmarginIds;if(!1!==Q.margin.autoexpand){for(var fe in ae)ue[fe]||delete ae[fe];for(var he in ae.base={l:{val:0,size:F},r:{val:1,size:O},t:{val:1,size:Y},b:{val:0,size:B}},ae){var xe=ae[he].l||{},be=ae[he].b||{},ke=xe.val,Pe=xe.size,Re=be.val,Ue=be.size;for(var tt in ae){if(c(Pe)&&ae[tt].r){var Ke=ae[tt].r.val,$e=ae[tt].r.size;if(Ke>ke){var Me=(Pe*Ke+($e-le)*ke)/(Ke-ke),ve=($e*(1-ke)+(Pe-le)*(1-Ke))/(Ke-ke);Me+ve>F+O&&(F=Me,O=ve)}}if(c(Ue)&&ae[tt].t){var Se=ae[tt].t.val,Te=ae[tt].t.size;if(Se>Re){var qe=(Ue*Se+(Te-j)*Re)/(Se-Re),Oe=(Te*(1-Re)+(Ue-j)*(1-Se))/(Se-Re);qe+Oe>B+Y&&(B=qe,Y=Oe)}}}}}var xt,Fe=h.constrain(le-se.l-se.r,2,64),Qe=h.constrain(j-se.t-se.b,2,64),nt=Math.max(0,le-Fe),Ye=Math.max(0,j-Qe);if(nt){var rt=(F+O)/nt;rt>1&&(F/=rt,O/=rt)}if(Ye){var ht=(B+Y)/Ye;ht>1&&(B/=ht,Y/=ht)}if($.l=Math.round(F),$.r=Math.round(O),$.t=Math.round(Y),$.b=Math.round(B),$.p=Math.round(se.pad),$.w=Math.round(le)-$.l-$.r,$.h=Math.round(j)-$.t-$.b,!Q._replotting&&L.didMarginChange(ee,$)){"_redrawFromAutoMarginCount"in Q?Q._redrawFromAutoMarginCount++:Q._redrawFromAutoMarginCount=1;var Xe=3*(1+Object.keys(ue).length);if(Q._redrawFromAutoMarginCount<Xe)return l.call("_doPlot",ie);Q._size=ee,h.warn("Too many auto-margin redraws.")}xt=b.list(ie,"",!0),["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(bt){for(var Ot=0;Ot<xt.length;Ot++){var wt=xt[Ot][bt];wt&&wt()}})};var Z=["l","r","t","b","p","w","h"];function ne(ie,Q,le){var j=!1,se=h.syncOrAsync([L.previousPromises,function(){if(ie._transitionData)return ie._transitioning=!1,function(ee){var F=Promise.resolve();if(!ee)return F;for(;ee.length;)F=F.then(ee.shift());return F}(ie._transitionData._interruptCallbacks)},le.prepareFn,L.rehover,function(){return ie.emit("plotly_transitioning",[]),new Promise(function(ee){ie._transitioning=!0,Q.duration>0&&(ie._transitioningWithDuration=!0),ie._transitionData._interruptCallbacks.push(function(){j=!0}),le.redraw&&ie._transitionData._interruptCallbacks.push(function(){return l.call("redraw",ie)}),ie._transitionData._interruptCallbacks.push(function(){ie.emit("plotly_transitioninterrupted",[])});var F=0,O=0;function Y(){return F++,function(){var B;O++,j||O!==F||(B=ee,ie._transitionData&&(function(ae){if(ae)for(;ae.length;)ae.shift()}(ie._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(le.redraw)return l.call("redraw",ie)}).then(function(){ie._transitioning=!1,ie._transitioningWithDuration=!1,ie.emit("plotly_transitioned",[])}).then(B)))}}le.runFn(Y),setTimeout(Y())})}],ie);return se&&se.then||(se=Promise.resolve()),se.then(function(){return ie})}L.didMarginChange=function(ie,Q){for(var le=0;le<Z.length;le++){var j=Z[le],$=ie[j],se=Q[j];if(!c($)||Math.abs(se-$)>1)return!0}return!1},L.graphJson=function(ie,Q,le,j,$,se){($&&Q&&!ie._fullData||$&&!Q&&!ie._fullLayout)&&L.supplyDefaults(ie);var F=$?ie._fullLayout:ie.layout,O=(ie._transitionData||{})._frames;function Y(ue,fe){if("function"==typeof ue)return fe?"_function_":null;if(h.isPlainObject(ue)){var he,xe={};return Object.keys(ue).sort().forEach(function(be){if(-1===["_","["].indexOf(be.charAt(0)))if("function"!=typeof ue[be]){if("keepdata"===le){if("src"===be.substr(be.length-3))return}else if("keepstream"===le){if("string"==typeof(he=ue[be+"src"])&&he.indexOf(":")>0&&!h.isPlainObject(ue.stream))return}else if("keepall"!==le&&"string"==typeof(he=ue[be+"src"])&&he.indexOf(":")>0)return;xe[be]=Y(ue[be],fe)}else fe&&(xe[be]="_function")}),xe}return Array.isArray(ue)?ue.map(function(be){return Y(be,fe)}):h.isTypedArray(ue)?h.simpleMap(ue,h.identity):h.isJSDate(ue)?h.ms2DateTimeLocal(+ue):ue}var B={data:(($?ie._fullData:ie.data)||[]).map(function(ue){var fe=Y(ue);return Q&&delete fe.fit,fe})};if(!Q&&(B.layout=Y(F),$)){var ae=F._size;B.layout.computed={margin:{b:ae.b,l:ae.l,r:ae.r,t:ae.t}}}return O&&(B.frames=Y(O)),se&&(B.config=Y(ie._context,!0)),"object"===j?B:JSON.stringify(B)},L.modifyFrames=function(ie,Q){var le,j,$,se=ie._transitionData._frames,ee=ie._transitionData._frameHash;for(le=0;le<Q.length;le++)switch((j=Q[le]).type){case"replace":var F=(se[j.index]||{}).name,O=($=j.value).name;se[j.index]=ee[O]=$,O!==F&&(delete ee[F],ee[O]=$);break;case"insert":ee[($=j.value).name]=$,se.splice(j.index,0,$);break;case"delete":delete ee[($=se[j.index]).name],se.splice(j.index,1)}return Promise.resolve()},L.computeFrame=function(ie,Q){var le,j,$,se,ee=ie._transitionData._frameHash;if(!Q)throw new Error("computeFrame must be given a string frame name");var F=ee[Q.toString()];if(!F)return!1;for(var O=[F],Y=[F.name];F.baseframe&&(F=ee[F.baseframe.toString()])&&-1===Y.indexOf(F.name);)O.push(F),Y.push(F.name);for(var B={};F=O.pop();)if(F.layout&&(B.layout=L.extendLayout(B.layout,F.layout)),F.data){if(B.data||(B.data=[]),!(j=F.traces))for(j=[],le=0;le<F.data.length;le++)j[le]=le;for(B.traces||(B.traces=[]),le=0;le<F.data.length;le++)null!=($=j[le])&&(-1===(se=B.traces.indexOf($))&&(B.traces[se=B.data.length]=$),B.data[se]=L.extendTrace(B.data[se],F.data[le]))}return B},L.recomputeFrameHash=function(ie){for(var Q=ie._transitionData._frameHash={},le=ie._transitionData._frames,j=0;j<le.length;j++){var $=le[j];$&&$.name&&(Q[$.name]=$)}},L.extendObjectWithContainers=function(ie,Q,le){var j,$,se,ee,F,O,Y,B=h.extendDeepNoArrays({},Q||{}),ae=h.expandObjectPaths(B),ue={};if(le&&le.length)for(se=0;se<le.length;se++)void 0===($=(j=h.nestedProperty(ae,le[se])).get())?h.nestedProperty(ue,le[se]).set(null):(j.set(null),h.nestedProperty(ue,le[se]).set($));if(ie=h.extendDeepNoArrays(ie||{},ae),le&&le.length)for(se=0;se<le.length;se++)if(O=h.nestedProperty(ue,le[se]).get()){for(Y=(F=h.nestedProperty(ie,le[se])).get(),Array.isArray(Y)||F.set(Y=[]),ee=0;ee<O.length;ee++){var fe=O[ee];Y[ee]=null===fe?null:L.extendObjectWithContainers(Y[ee],fe)}F.set(Y)}return ie},L.dataArrayContainers=["transforms","dimensions"],L.layoutArrayContainers=l.layoutArrayContainers,L.extendTrace=function(ie,Q){return L.extendObjectWithContainers(ie,Q,L.dataArrayContainers)},L.extendLayout=function(ie,Q){return L.extendObjectWithContainers(ie,Q,L.layoutArrayContainers)},L.transition=function(ie,Q,le,j,$,se){var ee={redraw:$.redraw},F={},O=[];return ee.prepareFn=function(){for(var Y=Array.isArray(Q)?Q.length:0,B=j.slice(0,Y),ae=0;ae<B.length;ae++){var ue=B[ae],fe=ie._fullData[ue]._module;if(fe){if(fe.animatable){var he=fe.basePlotModule.name;F[he]||(F[he]=[]),F[he].push(ue)}ie.data[B[ae]]=L.extendTrace(ie.data[B[ae]],Q[ae])}}var xe=h.expandObjectPaths(h.extendDeepNoArrays({},le)),be=/^[xy]axis[0-9]*$/;for(var ke in xe)be.test(ke)&&delete xe[ke].range;L.extendLayout(ie.layout,xe),delete ie.calcdata,L.supplyDefaults(ie),L.doCalcdata(ie);var Pe=h.expandObjectPaths(le);if(Pe){var Re=ie._fullLayout._plots;for(var Ue in Re){var tt=Re[Ue],Ke=tt.xaxis,$e=tt.yaxis,Me=Ke.range.slice(),ve=$e.range.slice(),Se=null,Te=null,qe=null,Oe=null;Array.isArray(Pe[Ke._name+".range"])?Se=Pe[Ke._name+".range"].slice():Array.isArray((Pe[Ke._name]||{}).range)&&(Se=Pe[Ke._name].range.slice()),Array.isArray(Pe[$e._name+".range"])?Te=Pe[$e._name+".range"].slice():Array.isArray((Pe[$e._name]||{}).range)&&(Te=Pe[$e._name].range.slice()),Me&&Se&&(Ke.r2l(Me[0])!==Ke.r2l(Se[0])||Ke.r2l(Me[1])!==Ke.r2l(Se[1]))&&(qe={xr0:Me,xr1:Se}),ve&&Te&&($e.r2l(ve[0])!==$e.r2l(Te[0])||$e.r2l(ve[1])!==$e.r2l(Te[1]))&&(Oe={yr0:ve,yr1:Te}),(qe||Oe)&&O.push(h.extendFlat({plotinfo:tt},qe,Oe))}}return Promise.resolve()},ee.runFn=function(Y){var B,ae,ue=ie._fullLayout._basePlotModules,fe=O.length;if(le)for(ae=0;ae<ue.length;ae++)ue[ae].transitionAxes&&ue[ae].transitionAxes(ie,O,se,Y);for(var he in fe?((B=h.extendFlat({},se)).duration=0,delete F.cartesian):B=se,F){var xe=F[he];ie._fullData[xe[0]]._module.basePlotModule.plot(ie,xe,B,Y)}},ne(ie,se,ee)},L.transitionFromReact=function(ie,Q,le,j){var $=ie._fullLayout,se=$.transition,ee={},F=[];return ee.prepareFn=function(){var O=$._plots;for(var Y in ee.redraw=!1,"some"===Q.anim&&(ee.redraw=!0),"some"===le.anim&&(ee.redraw=!0),O){var B=O[Y],ae=B.xaxis,ue=B.yaxis,fe=j[ae._name].range.slice(),he=j[ue._name].range.slice(),xe=ae.range.slice(),be=ue.range.slice();ae.setScale(),ue.setScale();var ke=null,Pe=null;ae.r2l(fe[0])===ae.r2l(xe[0])&&ae.r2l(fe[1])===ae.r2l(xe[1])||(ke={xr0:fe,xr1:xe}),ue.r2l(he[0])===ue.r2l(be[0])&&ue.r2l(he[1])===ue.r2l(be[1])||(Pe={yr0:he,yr1:be}),(ke||Pe)&&F.push(h.extendFlat({plotinfo:B},ke,Pe))}return Promise.resolve()},ee.runFn=function(O){for(var Y,B,ae,ue=ie._fullData,fe=ie._fullLayout._basePlotModules,he=[],xe=0;xe<ue.length;xe++)he.push(xe);function be(){if(ie._fullLayout)for(var Pe=0;Pe<fe.length;Pe++)fe[Pe].transitionAxes&&fe[Pe].transitionAxes(ie,F,Y,O)}function ke(){if(ie._fullLayout)for(var Pe=0;Pe<fe.length;Pe++)fe[Pe].plot(ie,ae,B,O)}F.length&&Q.anim?"traces first"===se.ordering?(Y=h.extendFlat({},se,{duration:0}),ae=he,B=se,setTimeout(be,se.duration),ke()):(Y=se,ae=null,B=h.extendFlat({},se,{duration:0}),setTimeout(ke,Y.duration),be()):F.length?(Y=se,be()):Q.anim&&(ae=he,B=se,ke())},ne(ie,se,ee)},L.doCalcdata=function(ie,Q){var le,j,$,se,ee=b.list(ie),F=ie._fullData,O=ie._fullLayout,Y=new Array(F.length),B=(ie.calcdata||[]).slice();for(ie.calcdata=Y,O._numBoxes=0,O._numViolins=0,O._violinScaleGroupStats={},ie._hmpixcount=0,ie._hmlumcount=0,O._piecolormap={},O._sunburstcolormap={},O._treemapcolormap={},O._iciclecolormap={},O._funnelareacolormap={},$=0;$<F.length;$++)Array.isArray(Q)&&-1===Q.indexOf($)&&(Y[$]=B[$]);for($=0;$<F.length;$++)(le=F[$])._arrayAttrs=m.findArrayAttributes(le),le._extremes={};var ae=O._subplots.polar||[];for($=0;$<ae.length;$++)ee.push(O[ae[$]].radialaxis,O[ae[$]].angularaxis);for(var ue in O._colorAxes){var fe=O[ue];!1!==fe.cauto&&(delete fe.cmin,delete fe.cmax)}var he=!1;function xe(Pe){if(j=(le=F[Pe])._module,!0===le.visible&&le.transforms){if(j&&j.calc){var Re=j.calc(ie,le);Re[0]&&Re[0].t&&Re[0].t._scene&&delete Re[0].t._scene.dirty}for(se=0;se<le.transforms.length;se++){var Ue=le.transforms[se];(j=I[Ue.type])&&j.calcTransform&&(le._hasCalcTransform=!0,he=!0,j.calcTransform(ie,le,Ue))}}}function be(Pe,Re){if(!!(j=(le=F[Pe])._module).isContainer===Re){var Ue=[];if(!0===le.visible&&0!==le._length){delete le._indexToPoints;var tt=le.transforms||[];for(se=tt.length-1;se>=0;se--)if(tt[se].enabled){le._indexToPoints=tt[se]._indexToPoints;break}j&&j.calc&&(Ue=j.calc(ie,le))}Array.isArray(Ue)&&Ue[0]||(Ue=[{x:C,y:C}]),Ue[0].t||(Ue[0].t={}),Ue[0].trace=le,Y[Pe]=Ue}}for(oe(ee,F,O),$=0;$<F.length;$++)be($,!0);for($=0;$<F.length;$++)xe($);for(he&&oe(ee,F,O),$=0;$<F.length;$++)be($,!0);for($=0;$<F.length;$++)be($,!1);Ce(ie);var ke=function(Pe,Re){var Ue,tt,Ke,$e,Me,ve=[];function Se(Nt,ge,_e){var We=ge._id.charAt(0);if("histogram2dcontour"===Nt){var Je=ge._counterAxes[0],ft=b.getFromId(Re,Je),st="x"===We||"x"===Je&&"category"===ft.type,et="y"===We||"y"===Je&&"category"===ft.type;return function(ut,St){return 0===ut||0===St||st&&ut===_e[St].length-1||et&&St===_e.length-1?-1:("y"===We?St:ut)-1}}return function(ut,St){return"y"===We?St:ut}}var Te={min:function(Nt){return h.aggNums(Math.min,null,Nt)},max:function(Nt){return h.aggNums(Math.max,null,Nt)},sum:function(Nt){return h.aggNums(function(ge,_e){return ge+_e},null,Nt)},total:function(Nt){return h.aggNums(function(ge,_e){return ge+_e},null,Nt)},mean:function(Nt){return h.mean(Nt)},median:function(Nt){return h.median(Nt)}};for(Ue=0;Ue<Pe.length;Ue++){var qe=Pe[Ue];if("category"===qe.type){var Oe=qe.categoryorder.match(te);if(Oe){var Fe=Oe[1],Qe=Oe[2],nt=qe._id.charAt(0),Ye="x"===nt,rt=[];for(tt=0;tt<qe._categories.length;tt++)rt.push([qe._categories[tt],[]]);for(tt=0;tt<qe._traceIndices.length;tt++){var ht=qe._traceIndices[tt],Xe=Re._fullData[ht];if(!0===Xe.visible){var gt=Xe.type;l.traceIs(Xe,"histogram")&&(delete Xe._xautoBinFinished,delete Xe._yautoBinFinished);var xt="splom"===gt,bt="scattergl"===gt,Ot=Re.calcdata[ht];for(Ke=0;Ke<Ot.length;Ke++){var wt,Be,Ge=Ot[Ke];if(xt){var vt=Xe._axesDim[qe._id];if(!Ye){var Pt=Xe._diag[vt][0];Pt&&(qe=Re._fullLayout[b.id2name(Pt)])}var Jt=Ge.trace.dimensions[vt].values;for($e=0;$e<Jt.length;$e++)for(wt=qe._categoriesMap[Jt[$e]],Me=0;Me<Ge.trace.dimensions.length;Me++)Me!==vt&&rt[wt][1].push(Ge.trace.dimensions[Me].values[$e])}else if(bt){for($e=0;$e<Ge.t.x.length;$e++)Ye?(wt=Ge.t.x[$e],Be=Ge.t.y[$e]):(wt=Ge.t.y[$e],Be=Ge.t.x[$e]),rt[wt][1].push(Be);Ge.t&&Ge.t._scene&&delete Ge.t._scene.dirty}else if(Ge.hasOwnProperty("z")){var Kt=Se(Xe.type,qe,Be=Ge.z);for($e=0;$e<Be.length;$e++)for(Me=0;Me<Be[$e].length;Me++)(wt=Kt(Me,$e))+1&&rt[wt][1].push(Be[$e][Me])}else for(void 0===(wt=Ge.p)&&(wt=Ge[nt]),void 0===(Be=Ge.s)&&(Be=Ge.v),void 0===Be&&(Be=Ye?Ge.y:Ge.x),Array.isArray(Be)||(Be=void 0===Be?[]:[Be]),$e=0;$e<Be.length;$e++)rt[wt][1].push(Be[$e])}}}qe._categoriesValue=rt;var qt=[];for(tt=0;tt<rt.length;tt++)qt.push([rt[tt][0],Te[Fe](rt[tt][1])]);qt.sort(function(Nt,ge){return Nt[1]-ge[1]}),qe._categoriesAggregatedValue=qt,qe._initialCategories=qt.map(function(Nt){return Nt[0]}),"descending"===Qe&&qe._initialCategories.reverse(),ve=ve.concat(qe.sortByInitialCategories())}}}return ve}(ee,ie);if(ke.length){for(O._numBoxes=0,O._numViolins=0,$=0;$<ke.length;$++)be(ke[$],!0);for($=0;$<ke.length;$++)be(ke[$],!1);Ce(ie)}l.getComponentMethod("fx","calc")(ie),l.getComponentMethod("errorbars","calc")(ie)};var te=/(total|sum|min|max|mean|median) (ascending|descending)/;function oe(ie,Q,le){var j={};function $(O){O.clearCalc(),"multicategory"===O.type&&O.setupMultiCategory(Q),j[O._id]=1}h.simpleMap(ie,$);for(var se=le._axisMatchGroups||[],ee=0;ee<se.length;ee++)for(var F in se[ee])j[F]||$(le[b.id2name(F)])}function Ce(ie){var Q,le,j,$=ie._fullLayout,se=$._visibleModules,ee={};for(le=0;le<se.length;le++){var F=se[le],O=F.crossTraceCalc;if(O){var Y=F.basePlotModule.name;ee[Y]?h.pushUnique(ee[Y],O):ee[Y]=[O]}}for(j in ee){var B=ee[j],ae=$._subplots[j];if(Array.isArray(ae))for(Q=0;Q<ae.length;Q++){var ue=ae[Q],fe="cartesian"===j?$._plots[ue]:$[ue];for(le=0;le<B.length;le++)B[le](ie,fe,ue)}else for(le=0;le<B.length;le++)B[le](ie)}}L.rehover=function(ie){ie._fullLayout._rehover&&ie._fullLayout._rehover()},L.redrag=function(ie){ie._fullLayout._redrag&&ie._fullLayout._redrag()},L.generalUpdatePerTraceModule=function(ie,Q,le,j){var $,se=Q.traceHash,ee={};for($=0;$<le.length;$++){var F=le[$],O=F[0].trace;O.visible&&(ee[O.type]=ee[O.type]||[],ee[O.type].push(F))}for(var Y in se)if(!ee[Y]){var B=se[Y][0];B[0].trace.visible=!1,ee[Y]=[B]}for(var ae in ee){var ue=ee[ae];ue[0][0].trace._module.plot(ie,Q,h.filterVisible(ue),j)}Q.traceHash=ee},L.plotBasePlot=function(ie,Q,le,j,$){var se=l.getModule(ie),ee=A(Q.calcdata,se)[0];se.plot(Q,ee,j,$)},L.cleanBasePlot=function(ie,Q,le,j,$){var se=$._has&&$._has(ie),ee=le._has&&le._has(ie);se&&!ee&&$["_"+ie+"layer"].selectAll("g.trace").remove()}},{"../components/color":102,"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plot_api/plot_template":268,"../plots/get_data":312,"../registry":318,"./animation_attributes":273,"./attributes":275,"./cartesian/axis_ids":283,"./cartesian/handle_outline":290,"./command":308,"./font_attributes":310,"./frame_attributes":311,"./layout_attributes":314,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],317:[function(v,pe,J){"use strict";function g(p){var c=p.description?" "+p.description:"",l=p.keys||[];if(l.length>0){for(var m=[],d=0;d<l.length;d++)m[d]="`"+l[d]+"`";c+="Finally, the template string has access to ",c=1===l.length?"variable "+m[0]:"variables "+m.slice(0,-1).join(", ")+" and "+m.slice(-1)+"."}return c}v("../constants/docs"),J.hovertemplateAttrs=function(p,c){p=p||{},g(c=c||{});var l={valType:"string",dflt:"",editType:p.editType||"none"};return!1!==p.arrayOk&&(l.arrayOk=!0),l},J.texttemplateAttrs=function(p,c){p=p||{},g(c=c||{});var l={valType:"string",dflt:"",editType:p.editType||"calc"};return!1!==p.arrayOk&&(l.arrayOk=!0),l}},{"../constants/docs":209}],318:[function(v,pe,J){"use strict";var s=v("./lib/loggers"),g=v("./lib/noop"),p=v("./lib/push_unique"),c=v("./lib/is_plain_object"),l=v("./lib/dom").addStyleRule,m=v("./lib/extend"),d=v("./plots/attributes"),h=v("./plots/layout_attributes"),u=m.extendFlat,C=m.extendDeepAll;function b(D){var E=D.name,P=D.categories,S=D.meta;if(J.modules[E])s.log("Type "+E+" already registered");else{J.subplotsRegistry[D.basePlotModule.name]||function(te){var oe=te.name;if(J.subplotsRegistry[oe])s.log("Plot type "+oe+" already registered.");else for(var Ce in A(te),J.subplotsRegistry[oe]=te,J.componentsRegistry)L(Ce,te.name)}(D.basePlotModule);for(var R={},G=0;G<P.length;G++)R[P[G]]=!0,J.allCategories[P[G]]=!0;for(var z in J.modules[E]={_module:D,categories:R},S&&Object.keys(S).length&&(J.modules[E].meta=S),J.allTypes.push(E),J.componentsRegistry)k(z,E);D.layoutAttributes&&u(J.traceLayoutAttributes,D.layoutAttributes);var X=D.basePlotModule,W=X.name;if("mapbox"===W){var Z=X.constants.styleRules;for(var ne in Z)l(".js-plotly-plot .plotly .mapboxgl-"+ne,Z[ne])}"geo"!==W&&"mapbox"!==W||void 0===typeof window||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function M(D){if("string"!=typeof D.name)throw new Error("Component module *name* must be a string.");var E=D.name;for(var P in J.componentsRegistry[E]=D,D.layoutAttributes&&(D.layoutAttributes._isLinkedToArray&&p(J.layoutArrayContainers,E),A(D)),J.modules)k(E,P);for(var S in J.subplotsRegistry)L(E,S);for(var R in J.transformsRegistry)H(E,R);D.schema&&D.schema.layout&&C(h,D.schema.layout)}function w(D){if("string"!=typeof D.name)throw new Error("Transform module *name* must be a string.");var E="Transform module "+D.name,P="function"==typeof D.transform,S="function"==typeof D.calcTransform;if(!P&&!S)throw new Error(E+" is missing a *transform* or *calcTransform* method.");for(var R in P&&S&&s.log([E+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),c(D.attributes)||s.log(E+" registered without an *attributes* object."),"function"!=typeof D.supplyDefaults&&s.log(E+" registered without a *supplyDefaults* method."),J.transformsRegistry[D.name]=D,J.componentsRegistry)H(R,D.name)}function N(D){var E=D.name,P=E.split("-")[0],S=D.dictionary,R=D.format,G=S&&Object.keys(S).length,z=R&&Object.keys(R).length,X=J.localeRegistry,W=X[E];if(W||(X[E]=W={}),P!==E){var Z=X[P];Z||(X[P]=Z={}),G&&Z.dictionary===W.dictionary&&(Z.dictionary=S),z&&Z.format===W.format&&(Z.format=R)}G&&(W.dictionary=S),z&&(W.format=R)}function A(D){if(D.layoutAttributes){var E=D.layoutAttributes._arrayAttrRegexps;if(E)for(var P=0;P<E.length;P++)p(J.layoutArrayRegexes,E[P])}}function k(D,E){var P=J.componentsRegistry[D].schema;if(P&&P.traces){var S=P.traces[E];S&&C(J.modules[E]._module.attributes,S)}}function H(D,E){var P=J.componentsRegistry[D].schema;if(P&&P.transforms){var S=P.transforms[E];S&&C(J.transformsRegistry[E].attributes,S)}}function L(D,E){var P=J.componentsRegistry[D].schema;if(P&&P.subplots){var S=J.subplotsRegistry[E],R=S.layoutAttributes,G="subplot"===S.attr?S.name:S.attr;Array.isArray(G)&&(G=G[0]);var z=P.subplots[G];R&&z&&C(R,z)}}function I(D){return"object"==typeof D&&(D=D.type),D}J.modules={},J.allCategories={},J.allTypes=[],J.subplotsRegistry={},J.transformsRegistry={},J.componentsRegistry={},J.layoutArrayContainers=[],J.layoutArrayRegexes=[],J.traceLayoutAttributes={},J.localeRegistry={},J.apiMethodRegistry={},J.collectableSubplotTypes=null,J.register=function(D){if(J.collectableSubplotTypes=null,!D)throw new Error("No argument passed to Plotly.register.");D&&!Array.isArray(D)&&(D=[D]);for(var E=0;E<D.length;E++){var P=D[E];if(!P)throw new Error("Invalid module was attempted to be registered!");switch(P.moduleType){case"trace":b(P);break;case"transform":w(P);break;case"component":M(P);break;case"locale":N(P);break;case"apiMethod":J.apiMethodRegistry[P.name]=P.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},J.getModule=function(D){var E=J.modules[I(D)];return!!E&&E._module},J.traceIs=function(D,E){if("various"===(D=I(D)))return!1;var P=J.modules[D];return P||(D&&s.log("Unrecognized trace type "+D+"."),P=J.modules[d.type.dflt]),!!P.categories[E]},J.getTransformIndices=function(D,E){for(var P=[],S=D.transforms||[],R=0;R<S.length;R++)S[R].type===E&&P.push(R);return P},J.hasTransform=function(D,E){for(var P=D.transforms||[],S=0;S<P.length;S++)if(P[S].type===E)return!0;return!1},J.getComponentMethod=function(D,E){var P=J.componentsRegistry[D];return P&&P[E]||g},J.call=function(){var D=arguments[0],E=[].slice.call(arguments,1);return J.apiMethodRegistry[D].apply(null,E)}},{"./lib/dom":224,"./lib/extend":226,"./lib/is_plain_object":233,"./lib/loggers":236,"./lib/noop":241,"./lib/push_unique":246,"./plots/attributes":275,"./plots/layout_attributes":314}],319:[function(v,pe,J){"use strict";var s=v("../registry"),g=v("../lib"),p=g.extendFlat,c=g.extendDeep;function l(m){var d;switch(m){case"themes__thumb":d={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":d={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:d={}}return d}pe.exports=function(m,d){var h,b=m.layout,M=c([],m.data),w=c({},b,l(d.tileClass)),N=m._context||{};if(d.width&&(w.width=d.width),d.height&&(w.height=d.height),"thumbnail"===d.tileClass||"themes__thumb"===d.tileClass){w.annotations=[];var A=Object.keys(w);for(h=0;h<A.length;h++)["xaxis","yaxis","zaxis"].indexOf(A[h].slice(0,5))>-1&&(w[A[h]].title={text:""});for(h=0;h<M.length;h++){var k=M[h];k.showscale=!1,k.marker&&(k.marker.showscale=!1),s.traceIs(k,"pie-like")&&(k.textposition="none")}}if(Array.isArray(d.annotations))for(h=0;h<d.annotations.length;h++)w.annotations.push(d.annotations[h]);var H=Object.keys(w).filter(function(P){return P.match(/^scene\d*$/)});if(H.length){var L={};for("thumbnail"===d.tileClass&&(L={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),h=0;h<H.length;h++){var I=w[H[h]];I.xaxis||(I.xaxis={}),I.yaxis||(I.yaxis={}),I.zaxis||(I.zaxis={}),p(I.xaxis,L),p(I.yaxis,L),p(I.zaxis,L),I._scene=null}}var D=document.createElement("div");d.tileClass&&(D.className=d.tileClass);var E={gd:D,td:D,layout:w,data:M,config:{staticPlot:void 0===d.staticPlot||d.staticPlot,plotGlPixelRatio:void 0===d.plotGlPixelRatio?2:d.plotGlPixelRatio,displaylogo:d.displaylogo||!1,showLink:d.showLink||!1,showTips:d.showTips||!1,mapboxAccessToken:N.mapboxAccessToken}};return"transparent"!==d.setBackground&&(E.config.setBackground=d.setBackground||"opaque"),E.gd.defaultLayout=l(d.tileClass),E}},{"../lib":232,"../registry":318}],320:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("../plot_api/to_image"),p=v("./filesaver"),c=v("./helpers");pe.exports=function(l,m){var d;return s.isPlainObject(l)||(d=s.getGraphDiv(l)),(m=m||{}).format=m.format||"png",m.width=m.width||null,m.height=m.height||null,m.imageDataOnly=!0,new Promise(function(h,u){d&&d._snapshotInProgress&&u(new Error("Snapshotting already in progress.")),s.isIE()&&"svg"!==m.format&&u(new Error(c.MSG_IE_BAD_FORMAT)),d&&(d._snapshotInProgress=!0);var C=g(l,m),b=m.filename||l.fn||"newplot";b+="."+m.format.replace("-","."),C.then(function(M){return d&&(d._snapshotInProgress=!1),p(M,b,m.format)}).then(function(M){h(M)}).catch(function(M){d&&(d._snapshotInProgress=!1),u(M)})})}},{"../lib":232,"../plot_api/to_image":271,"./filesaver":321,"./helpers":322}],321:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("./helpers");pe.exports=function(p,c,l){var m=document.createElement("a"),d="download"in m;return new Promise(function(h,u){var C,b;return s.isIE()?(C=g.createBlob(p,"svg"),window.navigator.msSaveBlob(C,c),C=null,h(c)):d?(C=g.createBlob(p,l),b=g.createObjectURL(C),m.href=b,m.download=c,document.body.appendChild(m),m.click(),document.body.removeChild(m),g.revokeObjectURL(b),C=null,h(c)):s.isSafari()?(g.octetStream(("svg"===l?",":";base64,")+encodeURIComponent(p)),h(c)):void u(new Error("download error"))})}},{"../lib":232,"./helpers":322}],322:[function(v,pe,J){"use strict";var s=v("../registry");J.getDelay=function(p){return p._has&&(p._has("gl3d")||p._has("gl2d")||p._has("mapbox"))?500:0},J.getRedrawFunc=function(p){return function(){s.getComponentMethod("colorbar","draw")(p)}},J.encodeSVG=function(p){return"data:image/svg+xml,"+encodeURIComponent(p)},J.encodeJSON=function(p){return"data:application/json,"+encodeURIComponent(p)};var g=window.URL||window.webkitURL;J.createObjectURL=function(p){return g.createObjectURL(p)},J.revokeObjectURL=function(p){return g.revokeObjectURL(p)},J.createBlob=function(p,c){if("svg"===c)return new window.Blob([p],{type:"image/svg+xml;charset=utf-8"});if("full-json"===c)return new window.Blob([p],{type:"application/json;charset=utf-8"});var l=function(m){for(var d=m.length,h=new ArrayBuffer(d),u=new Uint8Array(h),C=0;C<d;C++)u[C]=m.charCodeAt(C);return h}(window.atob(p));return new window.Blob([l],{type:"image/"+c})},J.octetStream=function(p){document.location.href="data:application/octet-stream"+p},J.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,J.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":318}],323:[function(v,pe,J){"use strict";var s=v("./helpers"),g={getDelay:s.getDelay,getRedrawFunc:s.getRedrawFunc,clone:v("./cloneplot"),toSVG:v("./tosvg"),svgToImg:v("./svgtoimg"),toImage:v("./toimage"),downloadImage:v("./download")};pe.exports=g},{"./cloneplot":319,"./download":320,"./helpers":322,"./svgtoimg":324,"./toimage":325,"./tosvg":326}],324:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("events").EventEmitter,p=v("./helpers");pe.exports=function(c){var l=c.emitter||new g,m=new Promise(function(d,h){var u=window.Image,C=c.svg,b=c.format||"png";if(s.isIE()&&"svg"!==b){var M=new Error(p.MSG_IE_BAD_FORMAT);return h(M),c.promise?m:l.emit("error",M)}var w,N,A=c.canvas,k=c.scale||1,I=k*(c.width||300),D=k*(c.height||150),E=A.getContext("2d",{willReadFrequently:!0}),P=new u;"svg"===b||s.isSafari()?N=p.encodeSVG(C):(w=p.createBlob(C,"svg"),N=p.createObjectURL(w)),A.width=I,A.height=D,P.onload=function(){var S;switch(w=null,p.revokeObjectURL(N),"svg"!==b&&E.drawImage(P,0,0,I,D),b){case"jpeg":S=A.toDataURL("image/jpeg");break;case"png":S=A.toDataURL("image/png");break;case"webp":S=A.toDataURL("image/webp");break;case"svg":S=N;break;default:var R="Image format is not jpeg, png, svg or webp.";if(h(new Error(R)),!c.promise)return l.emit("error",R)}d(S),c.promise||l.emit("success",S)},P.onerror=function(S){if(w=null,p.revokeObjectURL(N),h(S),!c.promise)return l.emit("error",S)},P.src=N});return c.promise?m:l}},{"../lib":232,"./helpers":322,events:12}],325:[function(v,pe,J){"use strict";var s=v("events").EventEmitter,g=v("../registry"),p=v("../lib"),c=v("./helpers"),l=v("./cloneplot"),m=v("./tosvg"),d=v("./svgtoimg");pe.exports=function(h,u){var C=new s,b=l(h,{format:"png"}),M=b.gd;M.style.position="absolute",M.style.left="-5000px",document.body.appendChild(M);var w=c.getRedrawFunc(M);return g.call("_doPlot",M,b.data,b.layout,b.config).then(w).then(function(){var N=c.getDelay(M._fullLayout);setTimeout(function(){var A=m(M),k=document.createElement("canvas");k.id=p.randstr(),(C=d({format:u.format,width:M._fullLayout.width,height:M._fullLayout.height,canvas:k,emitter:C,svg:A})).clean=function(){M&&document.body.removeChild(M)}},N)}).catch(function(N){C.emit("error",N)}),C}},{"../lib":232,"../registry":318,"./cloneplot":319,"./helpers":322,"./svgtoimg":324,"./tosvg":326,events:12}],326:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../lib"),p=v("../components/drawing"),c=v("../components/color"),l=v("../constants/xmlns_namespaces"),m=/"/g,d=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");pe.exports=function(h,u,C){var b,M=h._fullLayout,w=M._paper,N=M._toppaper,A=M.width,k=M.height;w.insert("rect",":first-child").call(p.setRect,0,0,A,k).call(c.fill,M.paper_bgcolor);var H=M._basePlotModules||[];for(b=0;b<H.length;b++){var L=H[b];L.toSVG&&L.toSVG(h)}if(N){var I=N.node().childNodes,D=Array.prototype.slice.call(I);for(b=0;b<D.length;b++){var E=D[b];E.childNodes.length&&w.node().appendChild(E)}}M._draggers&&M._draggers.remove(),w.node().style.background="",w.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var S=s.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){S.style({visibility:null,display:null});var R=this.style.fontFamily;R&&-1!==R.indexOf('"')&&S.style("font-family",R.replace(m,"TOBESTRIPPED"))}else S.remove()}),w.selectAll(".gradient_filled,.pattern_filled").each(function(){var S=s.select(this),R=this.style.fill;R&&-1!==R.indexOf("url(")&&S.style("fill",R.replace(m,"TOBESTRIPPED"));var G=this.style.stroke;G&&-1!==G.indexOf("url(")&&S.style("stroke",G.replace(m,"TOBESTRIPPED"))}),"pdf"!==u&&"eps"!==u||w.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),w.node().setAttributeNS(l.xmlns,"xmlns",l.svg),w.node().setAttributeNS(l.xmlns,"xmlns:xlink",l.xlink),"svg"===u&&C&&(w.attr("width",C*A),w.attr("height",C*k),w.attr("viewBox","0 0 "+A+" "+k));var S,R,G,P=(new window.XMLSerializer).serializeToString(w.node());return S=P,R=s.select("body").append("div").style({display:"none"}).html(""),G=S.replace(/(&[^;]*;)/gi,function(z){return"&lt;"===z?"&#60;":"&rt;"===z?"&#62;":-1!==z.indexOf("<")||-1!==z.indexOf(">")?"":R.html(z).text()}),R.remove(),P=(P=(P=G).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(d,"'"),g.isIE()&&(P=(P=(P=P.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),P}},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],327:[function(v,pe,J){"use strict";var s=v("../../lib");pe.exports=function(g,p){for(var c=0;c<g.length;c++)g[c].i=c;s.mergeArray(p.text,g,"tx"),s.mergeArray(p.hovertext,g,"htx");var l=p.marker;if(l){s.mergeArray(l.opacity,g,"mo",!0),s.mergeArray(l.color,g,"mc");var m=l.line;m&&(s.mergeArray(m.color,g,"mlc"),s.mergeArrayCastPositive(m.width,g,"mlw"))}}},{"../../lib":232}],328:[function(v,pe,J){"use strict";var s=v("../scatter/attributes"),g=v("../../plots/cartesian/axis_format_attributes").axisHoverFormat,p=v("../../plots/template_attributes").hovertemplateAttrs,c=v("../../plots/template_attributes").texttemplateAttrs,l=v("../../components/colorscale/attributes"),m=v("../../plots/font_attributes"),d=v("./constants"),h=v("../../components/drawing/attributes").pattern,u=v("../../lib/extend").extendFlat,C=m({editType:"calc",arrayOk:!0,colorEditType:"style"}),b=u({},s.marker.line.width,{dflt:0}),M=u({width:b,editType:"calc"},l("marker.line")),w=u({line:M,editType:"calc"},l("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:h});pe.exports={x:s.x,x0:s.x0,dx:s.dx,y:s.y,y0:s.y0,dy:s.dy,xperiod:s.xperiod,yperiod:s.yperiod,xperiod0:s.xperiod0,yperiod0:s.yperiod0,xperiodalignment:s.xperiodalignment,yperiodalignment:s.yperiodalignment,xhoverformat:g("x"),yhoverformat:g("y"),text:s.text,texttemplate:c({editType:"plot"},{keys:d.eventDataKeys}),hovertext:s.hovertext,hovertemplate:p({},{keys:d.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:u({},C,{}),insidetextfont:u({},C,{}),outsidetextfont:u({},C,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:u({},s.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:w,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:s.selected.marker.opacity,color:s.selected.marker.color,editType:"style"},textfont:s.selected.textfont,editType:"style"},unselected:{marker:{opacity:s.unselected.marker.opacity,color:s.unselected.marker.color,editType:"style"},textfont:s.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorscale/attributes":109,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":310,"../../plots/template_attributes":317,"../scatter/attributes":358,"./constants":330}],329:[function(v,pe,J){"use strict";var s=v("../../plots/cartesian/axes"),g=v("../../plots/cartesian/align_period"),p=v("../../components/colorscale/helpers").hasColorscale,c=v("../../components/colorscale/calc"),l=v("./arrays_to_calcdata"),m=v("../scatter/calc_selection");pe.exports=function(d,h){var u,C,b,M,w,N,A=s.getFromId(d,h.xaxis||"x"),k=s.getFromId(d,h.yaxis||"y"),H={msUTC:!(!h.base&&0!==h.base)};"h"===h.orientation?(u=A.makeCalcdata(h,"x",H),b=k.makeCalcdata(h,"y"),M=g(h,k,"y",b),w=!!h.yperiodalignment,N="y"):(u=k.makeCalcdata(h,"y",H),b=A.makeCalcdata(h,"x"),M=g(h,A,"x",b),w=!!h.xperiodalignment,N="x"),C=M.vals;for(var L=Math.min(C.length,u.length),I=new Array(L),D=0;D<L;D++)I[D]={p:C[D],s:u[D]},w&&(I[D].orig_p=b[D],I[D][N+"End"]=M.ends[D],I[D][N+"Start"]=M.starts[D]),h.ids&&(I[D].id=String(h.ids[D]));return p(h,"marker")&&c(d,h,{vals:h.marker.color,containerStr:"marker",cLetter:"c"}),p(h,"marker.line")&&c(d,h,{vals:h.marker.line.color,containerStr:"marker.line",cLetter:"c"}),l(I,h),m(I,h),I}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"../scatter/calc_selection":360,"./arrays_to_calcdata":327}],330:[function(v,pe,J){"use strict";pe.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},{}],331:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib").isArrayOrTypedArray,p=v("../../constants/numerical").BADNUM,c=v("../../registry"),l=v("../../plots/cartesian/axes"),m=v("../../plots/cartesian/constraints").getAxisGroup,d=v("./sieve.js");function h(L,I,D,E,P){if(E.length){var S,R,G,z;switch(function(X,W){var Z,ne;for(Z=0;Z<W.length;Z++){var te,oe=W[Z],Ce=oe[0].trace,ie="funnel"===Ce.type?Ce._base:Ce.base,Q="h"===Ce.orientation?Ce.xcalendar:Ce.ycalendar,le="category"===X.type||"multicategory"===X.type?function(){return null}:X.d2c;if(g(ie)){for(ne=0;ne<Math.min(ie.length,oe.length);ne++)te=le(ie[ne],0,Q),s(te)?(oe[ne].b=+te,oe[ne].hasB=1):oe[ne].b=0;for(;ne<oe.length;ne++)oe[ne].b=0}else{te=le(ie,0,Q);var j=s(te);for(te=j?te:0,ne=0;ne<oe.length;ne++)oe[ne].b=te,j&&(oe[ne].hasB=1)}}}(D,E),P.mode){case"overlay":u(I,D,E,P);break;case"group":for(S=[],R=[],G=0;G<E.length;G++)void 0===(z=E[G])[0].trace.offset?R.push(z):S.push(z);R.length&&(X=L,Z=D,oe=new d(R,{posAxis:W=I,sepNegVal:!1,overlapNoMerge:!(te=P).norm}),function(Ce,ie,Q,le){for(var j=Ce._fullLayout,ee=Q.minDiff,F=Q.traces,O=F.length,Y=Q.positions.length!==Q.distinctPositions.length,B=ee*(1-le.gap),ae=m(j,ie._id)+F[0][0].trace.orientation,ue=j._alignmentOpts[ae]||{},fe=0;fe<O;fe++){var he,xe,be=F[fe],ke=be[0].trace,Re=Object.keys((ue[ke.alignmentgroup]||{}).offsetGroups||{}).length,Ue=(he=Re?B/Re:Y?B/O:B)*(1-(le.groupgap||0));xe=Re?((2*ke._offsetIndex+1-Re)*he-Ue)/2:Y?((2*fe+1-O)*he-Ue)/2:-Ue/2;var tt=be[0].t;tt.barwidth=Ue,tt.poffset=xe,tt.bargroupwidth=B,tt.bardelta=ee}Q.binWidth=F[0][0].t.barwidth/100,b(Q),M(ie,Q),w(ie,Q,Y)}(X,W,oe,te),function(Ce,ie){for(var Q=Ce.traces,le=0;le<Q.length;le++){var j=Q[le];if(void 0===j[0].trace.base)for(var $=new d([j],{posAxis:ie,sepNegVal:!0,overlapNoMerge:!0}),se=0;se<j.length;se++){var ee=j[se];if(ee.p!==p){var F=$.put(ee.p,ee.b+ee.s);F&&(ee.b=F)}}}}(oe,W),te.norm?(A(oe),k(Z,oe,te)):N(Z,oe)),S.length&&u(I,D,S,P);break;case"stack":case"relative":for(S=[],R=[],G=0;G<E.length;G++)void 0===(z=E[G])[0].trace.base?R.push(z):S.push(z);R.length&&function(X,W,Z,ne,te){var oe=new d(ne,{posAxis:W,sepNegVal:"relative"===te.mode,overlapNoMerge:!(te.norm||"stack"===te.mode||"relative"===te.mode)});C(W,oe,te),function(j,$,se){var ee,F,O,Y,B,ae,ue=H(j),fe=$.traces;for(Y=0;Y<fe.length;Y++)if("funnel"===(F=(ee=fe[Y])[0].trace).type)for(B=0;B<ee.length;B++)(ae=ee[B]).s!==p&&$.put(ae.p,-.5*ae.s);for(Y=0;Y<fe.length;Y++){O="funnel"===(F=(ee=fe[Y])[0].trace).type;var he=[];for(B=0;B<ee.length;B++)if((ae=ee[B]).s!==p){var xe,be=$.put(ae.p,xe=O?ae.s:ae.s+ae.b),ke=be+xe;ae.b=be,ae[ue]=ke,se.norm||(he.push(ke),ae.hasB&&he.push(be))}se.norm||(F._extremes[j._id]=l.findExtremes(j,he,{tozero:!0,padded:!0}))}}(Z,oe,te);for(var Ce=0;Ce<ne.length;Ce++)for(var ie=ne[Ce],Q=0;Q<ie.length;Q++){var le=ie[Q];le.s!==p&&le.b+le.s===oe.get(le.p,le.s)&&(le._outmost=!0)}te.norm&&k(Z,oe,te)}(0,I,D,R,P),S.length&&u(I,D,S,P)}!function(X,W){var Z,ne,te,oe=H(W),Ce={},ie=1/0,Q=-1/0;for(Z=0;Z<X.length;Z++)for(te=X[Z],ne=0;ne<te.length;ne++){var le=te[ne].p;s(le)&&(ie=Math.min(ie,le),Q=Math.max(Q,le))}var j=1e4/(Q-ie),$=Ce.round=function(ae){return String(Math.round(j*(ae-ie)))};for(Z=0;Z<X.length;Z++){(te=X[Z])[0].t.extents=Ce;var se=te[0].t.poffset,ee=Array.isArray(se);for(ne=0;ne<te.length;ne++){var F=te[ne],O=F[oe]-F.w/2;if(s(O)){var Y=F[oe]+F.w/2,B=$(F.p);Ce[B]=Ce[B]?[Math.min(O,Ce[B][0]),Math.max(Y,Ce[B][1])]:[O,Y]}F.p0=F.p+(ee?se[ne]:se),F.p1=F.p0+F.w,F.s0=F.b,F.s1=F.s0+F.s}}}(E,I)}var X,W,Z,te,oe}function u(L,I,D,E){for(var P=0;P<D.length;P++){var R=new d([D[P]],{posAxis:L,sepNegVal:!1,overlapNoMerge:!E.norm});C(L,R,E),E.norm?(A(R),k(I,R,E)):N(I,R)}}function C(L,I,D){for(var E=I.minDiff,P=I.traces,S=E*(1-D.gap),R=S*(1-(D.groupgap||0)),G=-R/2,z=0;z<P.length;z++){var X=P[z][0].t;X.barwidth=R,X.poffset=G,X.bargroupwidth=S,X.bardelta=E}I.binWidth=P[0][0].t.barwidth/100,b(I),M(L,I),w(L,I)}function b(L){var I,D,E=L.traces;for(I=0;I<E.length;I++){var P,S=E[I],R=S[0],G=R.trace,z=R.t,X=G._offset||G.offset,W=z.poffset;if(g(X)){for(P=Array.prototype.slice.call(X,0,S.length),D=0;D<P.length;D++)s(P[D])||(P[D]=W);for(D=P.length;D<S.length;D++)P.push(W);z.poffset=P}else void 0!==X&&(z.poffset=X);var Z=G._width||G.width,ne=z.barwidth;if(g(Z)){var te=Array.prototype.slice.call(Z,0,S.length);for(D=0;D<te.length;D++)s(te[D])||(te[D]=ne);for(D=te.length;D<S.length;D++)te.push(ne);if(z.barwidth=te,void 0===X){for(P=[],D=0;D<S.length;D++)P.push(W+(ne-te[D])/2);z.poffset=P}}else void 0!==Z&&(z.barwidth=Z,void 0===X&&(z.poffset=W+(ne-Z)/2))}}function M(L,I){for(var D=I.traces,E=H(L),P=0;P<D.length;P++)for(var S=D[P],R=S[0].t,G=R.poffset,z=Array.isArray(G),X=R.barwidth,W=Array.isArray(X),Z=0;Z<S.length;Z++){var ne=S[Z],te=ne.w=W?X[Z]:X;ne[E]=ne.p+(z?G[Z]:G)+te/2}}function w(L,I,D){var E=I.traces,P=I.minDiff/2;l.minDtick(L,I.minDiff,I.distinctPositions[0],D);for(var S=0;S<E.length;S++){var R,G,z,X,W=E[S],Z=W[0],ne=Z.trace,te=[];for(X=0;X<W.length;X++)G=(R=W[X]).p-P,te.push(G,z=R.p+P);if(ne.width||ne.offset){var oe=Z.t,Ce=oe.poffset,ie=oe.barwidth,Q=Array.isArray(Ce),le=Array.isArray(ie);for(X=0;X<W.length;X++)z=(G=(R=W[X]).p+(Q?Ce[X]:Ce))+(le?ie[X]:ie),te.push(G,z)}ne._extremes[L._id]=l.findExtremes(L,te,{padded:!1})}}function N(L,I){for(var D=I.traces,E=H(L),P=0;P<D.length;P++){for(var S=D[P],R=S[0].trace,G=[],z=!1,X=0;X<S.length;X++){var W=S[X],Z=W.b,ne=Z+W.s;W[E]=ne,G.push(ne),W.hasB&&G.push(Z),W.hasB&&W.b||(z=!0)}R._extremes[L._id]=l.findExtremes(L,G,{tozero:z,padded:!0})}}function A(L){for(var I=L.traces,D=0;D<I.length;D++)for(var E=I[D],P=0;P<E.length;P++){var S=E[P];S.s!==p&&L.put(S.p,S.b+S.s)}}function k(L,I,D){var E=I.traces,P=H(L),S="fraction"===D.norm?1:100,R=S/1e9,G=L.l2c(L.c2l(0)),z="stack"===D.mode?S:G;function X(se){return s(L.c2l(se))&&(se<G-R||se>z+R||!s(G))}for(var W=0;W<E.length;W++){for(var Z=E[W],ne=Z[0].trace,te=[],oe=!1,Ce=!1,ie=0;ie<Z.length;ie++){var Q=Z[ie];if(Q.s!==p){var le=Math.abs(S/I.get(Q.p,Q.s));Q.b*=le,Q.s*=le;var j=Q.b,$=j+Q.s;Q[P]=$,te.push($),Ce=Ce||X($),Q.hasB&&(te.push(j),Ce=Ce||X(j)),Q.hasB&&Q.b||(oe=!0)}}ne._extremes[L._id]=l.findExtremes(L,te,{tozero:oe,padded:Ce})}}function H(L){return L._id.charAt(0)}pe.exports={crossTraceCalc:function(L,I){for(var D=I.xaxis,E=I.yaxis,P=L._fullLayout,S=L._fullData,R=L.calcdata,G=[],z=[],X=0;X<S.length;X++){var W=S[X];if(!0===W.visible&&c.traceIs(W,"bar")&&W.xaxis===D._id&&W.yaxis===E._id&&("h"===W.orientation?G.push(R[X]):z.push(R[X]),W._computePh))for(var Z=L.calcdata[X],ne=0;ne<Z.length;ne++)"function"==typeof Z[ne].ph0&&(Z[ne].ph0=Z[ne].ph0()),"function"==typeof Z[ne].ph1&&(Z[ne].ph1=Z[ne].ph1())}var te={xCat:"category"===D.type||"multicategory"===D.type,yCat:"category"===E.type||"multicategory"===E.type,mode:P.barmode,norm:P.barnorm,gap:P.bargap,groupgap:P.bargroupgap};h(L,D,E,z,te),h(L,E,D,G,te)},setGroupPositions:h}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../plots/cartesian/constraints":287,"../../registry":318,"./sieve.js":341,"fast-isnumeric":17}],332:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../components/color"),p=v("../../registry"),c=v("../scatter/xy_defaults"),l=v("../scatter/period_defaults"),m=v("./style_defaults"),d=v("../../plots/cartesian/constraints").getAxisGroup,h=v("./attributes"),u=s.coerceFont;function C(M,w,N,A){var k=w.orientation,L=d(N,w[{v:"x",h:"y"}[k]+"axis"])+k,I=N._alignmentOpts||{},D=A("alignmentgroup"),E=I[L];E||(E=I[L]={});var P=E[D];P?P.traces.push(w):P=E[D]={traces:[w],alignmentIndex:Object.keys(E).length,offsetGroups:{}};var S=A("offsetgroup"),R=P.offsetGroups,G=R[S];S&&(G||(G=R[S]={offsetIndex:Object.keys(R).length}),w._offsetIndex=G.offsetIndex)}function b(M,w,N,A,k,H){var L=!1!==(H=H||{}).moduleHasSelected,I=!1!==H.moduleHasUnselected,D=!1!==H.moduleHasConstrain,E=!1!==H.moduleHasCliponaxis,P=!1!==H.moduleHasTextangle,S=!1!==H.moduleHasInsideanchor,R=!!H.hasPathbar,G=Array.isArray(k)||"auto"===k,z=G||"inside"===k,X=G||"outside"===k;if(z||X){var W=u(A,"textfont",N.font),Z=s.extendFlat({},W),ne=!(M.textfont&&M.textfont.color);if(ne&&delete Z.color,u(A,"insidetextfont",Z),R){var te=s.extendFlat({},W);ne&&delete te.color,u(A,"pathbar.textfont",te)}X&&u(A,"outsidetextfont",W),L&&A("selected.textfont.color"),I&&A("unselected.textfont.color"),D&&A("constraintext"),E&&A("cliponaxis"),P&&A("textangle"),A("texttemplate")}z&&S&&A("insidetextanchor")}pe.exports={supplyDefaults:function(M,w,N,A){function k(D,E){return s.coerce(M,w,h,D,E)}if(c(M,w,A,k)){l(M,w,A,k),k("xhoverformat"),k("yhoverformat"),k("orientation",w.x&&!w.y?"h":"v"),k("base"),k("offset"),k("width"),k("text"),k("hovertext"),k("hovertemplate");var H=k("textposition");b(M,0,A,k,H,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),m(M,w,k,N,A);var L=(w.marker.line||{}).color,I=p.getComponentMethod("errorbars","supplyDefaults");I(M,w,L||g.defaultLine,{axis:"y"}),I(M,w,L||g.defaultLine,{axis:"x",inherit:"y"}),s.coerceSelectionMarkerOpacity(w,k)}else w.visible=!1},crossTraceDefaults:function(M,w){var N;function A(H){return s.coerce(N._input,N,h,H)}if("group"===w.barmode)for(var k=0;k<M.length;k++)"bar"===(N=M[k]).type&&C(0,N,w,A)},handleGroupingDefaults:C,handleText:b}},{"../../components/color":102,"../../lib":232,"../../plots/cartesian/constraints":287,"../../registry":318,"../scatter/period_defaults":378,"../scatter/xy_defaults":385,"./attributes":328,"./style_defaults":343}],333:[function(v,pe,J){"use strict";pe.exports=function(s,g,p){return s.x="xVal"in g?g.xVal:g.x,s.y="yVal"in g?g.yVal:g.y,g.xa&&(s.xaxis=g.xa),g.ya&&(s.yaxis=g.ya),"h"===p.orientation?(s.label=s.y,s.value=s.x):(s.label=s.x,s.value=s.y),s}},{}],334:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("tinycolor2"),p=v("../../lib").isArrayOrTypedArray;J.coerceString=function(c,l,m){if("string"==typeof l){if(l||!c.noBlank)return l}else if(("number"==typeof l||!0===l)&&!c.strict)return String(l);return void 0!==m?m:c.dflt},J.coerceNumber=function(c,l,m){if(s(l)){l=+l;var d=c.min,h=c.max;if(!(void 0!==d&&l<d||void 0!==h&&l>h))return l}return void 0!==m?m:c.dflt},J.coerceColor=function(c,l,m){return g(l).isValid()?l:void 0!==m?m:c.dflt},J.coerceEnumerated=function(c,l,m){return c.coerceNumber&&(l=+l),-1!==c.values.indexOf(l)?l:void 0!==m?m:c.dflt},J.getValue=function(c,l){var m;return Array.isArray(c)?l<c.length&&(m=c[l]):m=c,m},J.getLineWidth=function(c,l){return 0<l.mlw?l.mlw:p(c.marker.line.width)?0:c.marker.line.width}},{"../../lib":232,"fast-isnumeric":17,tinycolor2:67}],335:[function(v,pe,J){"use strict";var s=v("../../components/fx"),g=v("../../registry"),p=v("../../components/color"),c=v("../../lib").fillText,l=v("./helpers").getLineWidth,m=v("../../plots/cartesian/axes").hoverLabelText,d=v("../../constants/numerical").BADNUM;function h(C,b,M,w,N){var A,k,H,L,I,D,E,P=C.cd,S=P[0].trace,R=P[0].t,G="closest"===w,z="waterfall"===S.type,X=C.maxHoverDistance,W=C.maxSpikeDistance;"h"===S.orientation?(A=M,k=b,H="y",L="x",I=ee,D=$):(A=b,k=M,H="x",L="y",D=ee,I=$);var Z=S[H+"period"],ne=G||Z;function te(he){return Ce(he,-1)}function oe(he){return Ce(he,1)}function Ce(he,xe){return he[H]+xe*he.w/2}function ie(he){return he[H+"End"]-he[H+"Start"]}var Q=G?te:Z?function(he){return he.p-ie(he)/2}:function(he){return Math.min(te(he),he.p-R.bardelta/2)},le=G?oe:Z?function(he){return he.p+ie(he)/2}:function(he){return Math.max(oe(he),he.p+R.bardelta/2)};function j(he,xe,be){return N.finiteRange&&(be=0),s.inbox(he-A,xe-A,be+Math.min(1,Math.abs(xe-he)/E)-1)}function $(he){return j(Q(he),le(he),X)}function se(he){var xe=he[L];if(z){var be=Math.abs(he.rawS)||0;k>0?xe+=be:k<0&&(xe-=be)}return xe}function ee(he){var xe=k,be=he.b,ke=se(he);return s.inbox(be-xe,ke-xe,X+(ke-xe)/(ke-be)-1)}var F=C[H+"a"],O=C[L+"a"];E=Math.abs(F.r2c(F.range[1])-F.r2c(F.range[0]));var he,xe,be,ke,Y=s.getDistanceFunction(w,I,D,function(he){return(I(he)+D(he))/2});if(s.getClosest(P,Y,C),!1!==C.index&&P[C.index].p!==d){ne||(Q=function(he){return Math.min(te(he),he.p-R.bargroupwidth/2)},le=function(he){return Math.max(oe(he),he.p+R.bargroupwidth/2)});var B=P[C.index],ae=S.base?B.b+B.s:B.s;C[L+"0"]=C[L+"1"]=O.c2p(B[L],!0),C[L+"LabelVal"]=ae;var ue=R.extents[R.extents.round(B.p)];return C[H+"0"]=F.c2p(G?Q(B):ue[0],!0),C[H+"1"]=F.c2p(G?le(B):ue[1],!0),C[H+"LabelVal"]=void 0!==B.orig_p?B.orig_p:B.p,C.labelLabel=m(F,C[H+"LabelVal"],S[H+"hoverformat"]),C.valueLabel=m(O,C[L+"LabelVal"],S[L+"hoverformat"]),C.baseLabel=m(O,B.b,S[L+"hoverformat"]),C.spikeDistance=(xe=k,be=(he=B).b,ke=se(he),(s.inbox(be-xe,ke-xe,W+(ke-xe)/(ke-be)-1)+function(he){return j(te(he),oe(he),W)}(B))/2),C[H+"Spike"]=F.c2p(B.p,!0),c(B,S,C),C.hovertemplate=S.hovertemplate,C}}function u(C,b){var M=b.mcc||C.marker.color,w=b.mlcc||C.marker.line.color,N=l(C,b);return p.opacity(M)?M:p.opacity(w)&&N?w:void 0}pe.exports={hoverPoints:function(C,b,M,w,N){var A=h(C,b,M,w,N);if(A){var k=A.cd,H=k[0].trace,L=k[A.index];return A.color=u(H,L),g.getComponentMethod("errorbars","hoverInfo")(L,H,A),[A]}},hoverOnBars:h,getTraceColor:u}},{"../../components/color":102,"../../components/fx":142,"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./helpers":334}],336:[function(v,pe,J){"use strict";pe.exports={attributes:v("./attributes"),layoutAttributes:v("./layout_attributes"),supplyDefaults:v("./defaults").supplyDefaults,crossTraceDefaults:v("./defaults").crossTraceDefaults,supplyLayoutDefaults:v("./layout_defaults"),calc:v("./calc"),crossTraceCalc:v("./cross_trace_calc").crossTraceCalc,colorbar:v("../scatter/marker_colorbar"),arraysToCalcdata:v("./arrays_to_calcdata"),plot:v("./plot").plot,style:v("./style").style,styleOnSelect:v("./style").styleOnSelect,hoverPoints:v("./hover").hoverPoints,eventData:v("./event_data"),selectPoints:v("./select"),moduleType:"trace",name:"bar",basePlotModule:v("../../plots/cartesian"),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},{"../../plots/cartesian":293,"../scatter/marker_colorbar":376,"./arrays_to_calcdata":327,"./attributes":328,"./calc":329,"./cross_trace_calc":331,"./defaults":332,"./event_data":333,"./hover":335,"./layout_attributes":337,"./layout_defaults":338,"./plot":339,"./select":340,"./style":342}],337:[function(v,pe,J){"use strict";pe.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],338:[function(v,pe,J){"use strict";var s=v("../../registry"),g=v("../../plots/cartesian/axes"),p=v("../../lib"),c=v("./layout_attributes");pe.exports=function(l,m,d){function h(H,L){return p.coerce(l,m,c,H,L)}for(var u=!1,C=!1,b=!1,M={},w=h("barmode"),N=0;N<d.length;N++){var A=d[N];if(s.traceIs(A,"bar")&&A.visible){if(u=!0,"group"===w){var k=A.xaxis+A.yaxis;M[k]&&(b=!0),M[k]=!0}A.visible&&"histogram"===A.type&&"category"!==g.getFromId({_fullLayout:m},A["v"===A.orientation?"xaxis":"yaxis"]).type&&(C=!0)}}u?("overlay"!==w&&h("barnorm"),h("bargap",C&&!b?0:.2),h("bargroupgap")):delete m.barmode}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./layout_attributes":337}],339:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("fast-isnumeric"),p=v("../../lib"),c=v("../../lib/svg_text_utils"),l=v("../../components/color"),m=v("../../components/drawing"),d=v("../../registry"),h=v("../../plots/cartesian/axes").tickText,u=v("./uniform_text"),C=u.recordMinTextSize,b=u.clearMinTextSize,M=v("./style"),w=v("./helpers"),N=v("./constants"),A=v("./attributes"),k=A.text,H=A.textposition,L=v("../../components/fx/helpers").appendArrayPointValue,I=N.TEXTPAD;function D(W){return W.id}function P(W,Z){return W<Z?1:-1}function S(W,Z,ne,te){var oe;return!Z.uniformtext.mode&&R(ne)?(te&&(oe=te()),W.transition().duration(ne.duration).ease(ne.easing).each("end",function(){oe&&oe()}).each("interrupt",function(){oe&&oe()})):W}function R(W){return W&&W.duration>0}function G(W){return"auto"===W?0:W}function z(W,Z){var ne=Math.PI/180*Z,te=Math.abs(Math.sin(ne)),oe=Math.abs(Math.cos(ne));return{x:W.width*oe+W.height*te,y:W.width*te+W.height*oe}}function X(W,Z,ne,te,oe,Ce){var ie=!!Ce.isHorizontal,Q=!!Ce.constrained,le=Ce.angle||0,j=Ce.anchor||"end",$="end"===j,se="start"===j,ee=((Ce.leftToRight||0)+1)/2,F=1-ee,O=oe.width,Y=oe.height,B=Math.abs(Z-W),ae=Math.abs(te-ne),ue=B>2*I&&ae>2*I?I:0;B-=2*ue,ae-=2*ue;var fe=G(le);"auto"!==le||O<=B&&Y<=ae||!(O>B||Y>ae)||(O>ae||Y>B)&&O<Y==B<ae||(fe+=90);var he=z(oe,fe),xe=1;Q&&(xe=Math.min(1,B/he.x,ae/he.y));var be=oe.left*F+oe.right*ee,ke=(oe.top+oe.bottom)/2,Pe=(W+I)*F+(Z-I)*ee,Re=(ne+te)/2,Ue=0,tt=0;if(se||$){var Ke=(ie?he.x:he.y)/2,$e=ie?P(W,Z):P(ne,te);ie?se?(Pe=W+$e*ue,Ue=-$e*Ke):(Pe=Z-$e*ue,Ue=$e*Ke):se?(Re=ne+$e*ue,tt=-$e*Ke):(Re=te-$e*ue,tt=$e*Ke)}return{textX:be,textY:ke,targetX:Pe,targetY:Re,anchorX:Ue,anchorY:tt,scale:xe,rotate:fe}}pe.exports={plot:function(W,Z,ne,te,oe,Ce){var ie=Z.xaxis,Q=Z.yaxis,le=W._fullLayout;oe||(oe={mode:le.barmode,norm:le.barmode,gap:le.bargap,groupgap:le.bargroupgap},b("bar",le));var j=p.makeTraceGroups(te,ne,"trace bars").each(function($){var se=s.select(this),ee=$[0].trace,Y="bar"===ee.type||"funnel"===ee.type,B=0;"waterfall"===ee.type&&ee.connector.visible&&"between"===ee.connector.mode&&(B=ee.connector.line.width/2);var ae="h"===ee.orientation,ue=R(oe),fe=p.ensureSingle(se,"g","points"),he=function E(W){if(W.ids)return D}(ee),xe=fe.selectAll("g.point").data(p.identity,he);xe.enter().append("g").classed("point",!0),xe.exit().remove(),xe.each(function(ke,Pe){var Re,Ue,Ye,rt,ht,Xe,gt,xt,bt,Ot,tt=s.select(this),Ke=(rt=ie,ht=Q,xt=[],Ot=(Xe=ae)?ht:rt,(gt=[])[0]=(bt=Xe?rt:ht).c2p((Ye=ke).s0,!0),xt[0]=Ot.c2p(Ye.p0,!0),gt[1]=bt.c2p(Ye.s1,!0),xt[1]=Ot.c2p(Ye.p1,!0),Xe?[gt,xt]:[xt,gt]),$e=Ke[0][0],Me=Ke[0][1],ve=Ke[1][0],Se=Ke[1][1],Te=0==(ae?Me-$e:Se-ve);if(Te&&Y&&w.getLineWidth(ee,ke)&&(Te=!1),Te||(Te=!(g($e)&&g(Me)&&g(ve)&&g(Se))),ke.isBlank=Te,Te&&(ae?Me=$e:Se=ve),B&&!Te&&(ae?($e-=P($e,Me)*B,Me+=P($e,Me)*B):(ve-=P(ve,Se)*B,Se+=P(ve,Se)*B)),"waterfall"===ee.type){if(!Te){var qe=ee[ke.dir].marker;Re=qe.line.width,Ue=qe.color}}else Re=w.getLineWidth(ee,ke),Ue=ke.mc||ee.marker.color;function Oe(Ye){var rt=s.round(Re/2%1,2);return 0===oe.gap&&0===oe.groupgap?s.round(Math.round(Ye)-rt,2):Ye}if(!W._context.staticPlot){var Fe=l.opacity(Ue)<1||Re>.01?Oe:function(Ye,rt,ht){return ht&&Ye===rt?Ye:Math.abs(Ye-rt)>=2?Oe(Ye):Ye>rt?Math.ceil(Ye):Math.floor(Ye)};$e=Fe($e,Me,ae),Me=Fe(Me,$e,ae),ve=Fe(ve,Se,!ae),Se=Fe(Se,ve,!ae)}var Qe=S(p.ensureSingle(tt,"path"),le,oe,Ce);if(Qe.style("vector-effect","non-scaling-stroke").attr("d",isNaN((Me-$e)*(Se-ve))||Te&&W._context.staticPlot?"M0,0Z":"M"+$e+","+ve+"V"+Se+"H"+Me+"V"+ve+"Z").call(m.setClipUrl,Z.layerClipId,W),!le.uniformtext.mode&&ue){var nt=m.makePointStyleFns(ee);m.singlePointStyle(ke,Qe,ee,nt,W)}(function(Ye,rt,ht,Xe,gt,xt,bt,Ot,wt,Be,Ge){var vt,Pt=rt.xaxis,Jt=rt.yaxis,tn=Ye._fullLayout;function Kt(bn,Sn,Ln){return p.ensureSingle(bn,"text").text(Sn).attr({class:"bartext bartext-"+vt,"text-anchor":"middle","data-notex":1}).call(m.font,Ln).call(c.convertToTspans,Ye)}var Sn,Ln,Wn,kn,Xt,It,qt=Xe[0].trace,Nt="h"===qt.orientation,ge=(Ln=gt,Wn=Pt,kn=Jt,Xt=(It=(Sn=Xe)[0].trace).texttemplate?function(nn,gn,cn,Fn,An){var _n=gn[0].trace,r2=p.castOption(_n,cn,"texttemplate");if(!r2)return"";var g2,y2,h2,Yt,Yn="histogram"===_n.type,Bn="waterfall"===_n.type,n2="funnel"===_n.type,On="h"===_n.orientation;function w2(yn){return h(Yt,Yt.c2l(yn),!0).text}On?(g2="y",y2=An,h2="x",Yt=Fn):(g2="x",y2=Fn,h2="y",Yt=An);var p2=gn[cn],Rn={};Rn.label=p2.p,Rn.labelLabel=Rn[g2+"Label"]=h(y2,y2.c2l(p2.p),!0).text;var S2=p.castOption(_n,p2.i,"text");(0===S2||S2)&&(Rn.text=S2),Rn.value=p2.s,Rn.valueLabel=Rn[h2+"Label"]=w2(p2.s);var e2={};L(e2,_n,p2.i),(Yn||void 0===e2.x)&&(e2.x=On?Rn.value:Rn.label),(Yn||void 0===e2.y)&&(e2.y=On?Rn.label:Rn.value),(Yn||void 0===e2.xLabel)&&(e2.xLabel=On?Rn.valueLabel:Rn.labelLabel),(Yn||void 0===e2.yLabel)&&(e2.yLabel=On?Rn.labelLabel:Rn.valueLabel),Bn&&(Rn.delta=+p2.rawS||p2.s,Rn.deltaLabel=w2(Rn.delta),Rn.final=p2.v,Rn.finalLabel=w2(Rn.final),Rn.initial=Rn.final-Rn.delta,Rn.initialLabel=w2(Rn.initial)),n2&&(Rn.value=p2.s,Rn.valueLabel=w2(Rn.value),Rn.percentInitial=p2.begR,Rn.percentInitialLabel=p.formatPercent(p2.begR),Rn.percentPrevious=p2.difR,Rn.percentPreviousLabel=p.formatPercent(p2.difR),Rn.percentTotal=p2.sumR,Rn.percenTotalLabel=p.formatPercent(p2.sumR));var Un=p.castOption(_n,p2.i,"customdata");return Un&&(Rn.customdata=Un),p.texttemplateString(r2,Rn,nn._d3locale,e2,Rn,_n._meta||{})}(tn,Sn,Ln,Wn,kn):It.textinfo?function(nn,gn,cn,Fn){var An=nn[0].trace,_n="h"===An.orientation,r2="waterfall"===An.type,g2="funnel"===An.type;function y2(Un){return h(_n?cn:Fn,+Un,!0).text}var h2,Yn=nn[gn],Bn=An.textinfo.split("+"),n2=[],On=function(Un){return-1!==Bn.indexOf(Un)};if(On("label")&&n2.push(h(_n?Fn:cn,nn[gn].p,!0).text),On("text")&&(0===(h2=p.castOption(An,Yn.i,"text"))||h2)&&n2.push(h2),r2){var p2=+Yn.rawS||Yn.s,Rn=Yn.v,m2=Rn-p2;On("initial")&&n2.push(y2(m2)),On("delta")&&n2.push(y2(p2)),On("final")&&n2.push(y2(Rn))}if(g2){On("value")&&n2.push(y2(Yn.s));var S2=0;On("percent initial")&&S2++,On("percent previous")&&S2++,On("percent total")&&S2++;var e2=S2>1;On("percent initial")&&(h2=p.formatPercent(Yn.begR),e2&&(h2+=" of initial"),n2.push(h2)),On("percent previous")&&(h2=p.formatPercent(Yn.difR),e2&&(h2+=" of previous"),n2.push(h2)),On("percent total")&&(h2=p.formatPercent(Yn.sumR),e2&&(h2+=" of total"),n2.push(h2))}return n2.join("<br>")}(Sn,Ln,Wn,kn):w.getValue(It.text,Ln),w.coerceString(k,Xt));vt=function(bn,Sn){var Ln=w.getValue(bn.textposition,Sn);return w.coerceEnumerated(H,Ln)}(qt,gt);var We=Xe[gt],Je=!("stack"===Be.mode||"relative"===Be.mode)||We._outmost;if(ge&&"none"!==vt&&(!We.isBlank&&xt!==bt&&Ot!==wt||"auto"!==vt&&"inside"!==vt)){var ft=tn.font,st=M.getBarColor(Xe[gt],qt),et=M.getInsideTextFont(qt,gt,ft,st),ut=M.getOutsideTextFont(qt,gt,ft),St=ht.datum();Nt?"log"===Pt.type&&St.s0<=0&&(xt=Pt.range[0]<Pt.range[1]?0:Pt._length):"log"===Jt.type&&St.s0<=0&&(Ot=Jt.range[0]<Jt.range[1]?Jt._length:0);var Vt,Bt,an,Tt,Wt,dn=Math.abs(bt-xt)-2*I,At=Math.abs(wt-Ot)-2*I;if("outside"===vt&&(Je||We.hasB||(vt="inside")),"auto"===vt&&(Je?(vt="inside",Vt=Kt(ht,ge,Wt=p.ensureUniformFontSize(Ye,et)),Tt=(Bt=m.bBox(Vt.node())).height,(an=Bt.width)>0&&Tt>0&&(an<=dn&&Tt<=At||an<=At&&Tt<=dn||(Nt?dn>=an*(At/Tt):At>=Tt*(dn/an)))?vt="inside":(vt="outside",Vt.remove(),Vt=null)):vt="inside"),!Vt){var jt=(Vt=Kt(ht,ge,Wt=p.ensureUniformFontSize(Ye,"outside"===vt?ut:et))).attr("transform");if(Vt.attr("transform",""),an=(Bt=m.bBox(Vt.node())).width,Tt=Bt.height,Vt.attr("transform",jt),an<=0||Tt<=0)return void Vt.remove()}var en,wn=qt.textangle;en="outside"===vt?function(bn,Sn,Ln,Wn,kn,Xt){var It,nn=!!Xt.isHorizontal,gn=!!Xt.constrained,cn=Xt.angle||0,Fn=kn.width,An=kn.height,_n=Math.abs(Sn-bn),r2=Math.abs(Wn-Ln);It=nn?r2>2*I?I:0:_n>2*I?I:0;var g2=1;gn&&(g2=nn?Math.min(1,r2/An):Math.min(1,_n/Fn));var y2=G(cn),h2=z(kn,y2),Yt=(nn?h2.x:h2.y)/2,Yn=(kn.left+kn.right)/2,Bn=(kn.top+kn.bottom)/2,n2=(bn+Sn)/2,On=(Ln+Wn)/2,w2=0,p2=0,Rn=nn?P(Sn,bn):P(Ln,Wn);return nn?(n2=Sn-Rn*It,w2=Rn*Yt):(On=Wn+Rn*It,p2=-Rn*Yt),{textX:Yn,textY:Bn,targetX:n2,targetY:On,anchorX:w2,anchorY:p2,scale:g2,rotate:y2}}(xt,bt,Ot,wt,Bt,{isHorizontal:Nt,constrained:"both"===qt.constraintext||"outside"===qt.constraintext,angle:wn}):X(xt,bt,Ot,wt,Bt,{isHorizontal:Nt,constrained:"both"===qt.constraintext||"inside"===qt.constraintext,angle:wn,anchor:qt.insidetextanchor}),en.fontSize=Wt.size,C("histogram"===qt.type?"bar":qt.type,en,tn),We.transform=en,S(Vt,tn,Be,Ge).attr("transform",p.getTextTransform(en))}else ht.select("text").remove()})(W,Z,tt,$,Pe,$e,Me,ve,Se,oe,Ce),Z.layerClipId&&m.hideOutsideRangePoint(ke,tt.select("text"),ie,Q,ee.xcalendar,ee.ycalendar)}),m.setClipUrl(se,!1===ee.cliponaxis?null:Z.layerClipId,W)});d.getComponentMethod("errorbars","plot")(W,j,Z,oe)},toMoveInsideBar:X}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx/helpers":138,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":318,"./attributes":328,"./constants":330,"./helpers":334,"./style":342,"./uniform_text":344,"@plotly/d3":11,"fast-isnumeric":17}],340:[function(v,pe,J){"use strict";function s(g,p,c,l,m){var d=p.c2p(l?g.s0:g.p0,!0),h=p.c2p(l?g.s1:g.p1,!0),u=c.c2p(l?g.p0:g.s0,!0),C=c.c2p(l?g.p1:g.s1,!0);return m?[(d+h)/2,(u+C)/2]:l?[h,(u+C)/2]:[(d+h)/2,C]}pe.exports=function(g,p){var c,l=g.cd,m=g.xaxis,d=g.yaxis,h=l[0].trace,u="funnel"===h.type,C="h"===h.orientation,b=[];if(!1===p)for(c=0;c<l.length;c++)l[c].selected=0;else for(c=0;c<l.length;c++){var M=l[c],w="ct"in M?M.ct:s(M,m,d,C,u);p.contains(w,!1,c,g)?(b.push({pointNumber:c,x:m.c2d(M.x),y:d.c2d(M.y)}),M.selected=1):M.selected=0}return b}},{}],341:[function(v,pe,J){"use strict";pe.exports=p;var s=v("../../lib").distinctVals,g=v("../../constants/numerical").BADNUM;function p(c,l){this.traces=c,this.sepNegVal=l.sepNegVal,this.overlapNoMerge=l.overlapNoMerge;for(var m=1/0,d=[],h=0;h<c.length;h++){for(var u=c[h],C=0;C<u.length;C++){var b=u[C];b.p!==g&&d.push(b.p)}u[0]&&u[0].width1&&(m=Math.min(u[0].width1,m))}this.positions=d;var M=s(d);this.distinctPositions=M.vals,this.minDiff=1===M.vals.length&&m!==1/0?m:Math.min(M.minDiff,m);var w=(l.posAxis||{}).type;"category"!==w&&"multicategory"!==w||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}p.prototype.put=function(c,l){var m=this.getLabel(c,l),d=this.bins[m]||0;return this.bins[m]=d+l,d},p.prototype.get=function(c,l){var m=this.getLabel(c,l);return this.bins[m]||0},p.prototype.getLabel=function(c,l){return(l<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?c:Math.round(c/this.binWidth))}},{"../../constants/numerical":212,"../../lib":232}],342:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../components/color"),p=v("../../components/drawing"),c=v("../../lib"),l=v("../../registry"),m=v("./uniform_text").resizeText,d=v("./attributes"),h=d.textfont,u=d.insidetextfont,C=d.outsidetextfont,b=v("./helpers");function M(D,E,P){p.pointStyle(D.selectAll("path"),E,P),w(D,E,P)}function w(D,E,P){D.selectAll("text").each(function(S){var R=s.select(this),G=c.ensureUniformFontSize(P,N(R,S,E,P));p.font(R,G)})}function N(D,E,P,S){var R=S._fullLayout.font,G=P.textfont;if(D.classed("bartext-inside")){var z=I(E,P);G=k(P,E.i,R,z)}else D.classed("bartext-outside")&&(G=H(P,E.i,R));return G}function A(D,E,P){return L(h,D.textfont,E,P)}function k(D,E,P,S){var R=A(D,E,P);return(void 0===D._input.textfont||void 0===D._input.textfont.color||Array.isArray(D.textfont.color)&&void 0===D.textfont.color[E])&&(R={color:g.contrast(S),family:R.family,size:R.size}),L(u,D.insidetextfont,E,R)}function H(D,E,P){var S=A(D,E,P);return L(C,D.outsidetextfont,E,S)}function L(D,E,P,S){var R=b.getValue((E=E||{}).family,P),G=b.getValue(E.size,P),z=b.getValue(E.color,P);return{family:b.coerceString(D.family,R,S.family),size:b.coerceNumber(D.size,G,S.size),color:b.coerceColor(D.color,z,S.color)}}function I(D,E){return"waterfall"===E.type?E[D.dir].marker.color:D.mcc||D.mc||E.marker.color}pe.exports={style:function(D){var E=s.select(D).selectAll("g.barlayer").selectAll("g.trace");m(D,E,"bar");var P=E.size(),S=D._fullLayout;E.style("opacity",function(R){return R[0].trace.opacity}).each(function(R){("stack"===S.barmode&&P>1||0===S.bargap&&0===S.bargroupgap&&!R[0].trace.marker.line.width)&&s.select(this).attr("shape-rendering","crispEdges")}),E.selectAll("g.points").each(function(R){M(s.select(this),R[0].trace,D)}),l.getComponentMethod("errorbars","style")(E)},styleTextPoints:w,styleOnSelect:function(D,E,P){var R,G,z,X,W,Z,S=E[0].trace;S.selectedpoints?(G=S,z=D,p.selectedPointStyle((R=P).selectAll("path"),G),X=R.selectAll("text"),W=G,Z=z,X.each(function(ne){var te,oe=s.select(this);if(ne.selected){te=c.ensureUniformFontSize(Z,N(oe,ne,W,Z));var Ce=W.selected.textfont&&W.selected.textfont.color;Ce&&(te.color=Ce),p.font(oe,te)}else p.selectedTextStyle(oe,W)})):(M(P,S,D),l.getComponentMethod("errorbars","style")(P))},getInsideTextFont:k,getOutsideTextFont:H,getBarColor:I,resizeText:m}},{"../../components/color":102,"../../components/drawing":124,"../../lib":232,"../../registry":318,"./attributes":328,"./helpers":334,"./uniform_text":344,"@plotly/d3":11}],343:[function(v,pe,J){"use strict";var s=v("../../components/color"),g=v("../../components/colorscale/helpers").hasColorscale,p=v("../../components/colorscale/defaults"),c=v("../../lib").coercePattern;pe.exports=function(l,m,d,h,u){var C=d("marker.color",h),b=g(l,"marker");b&&p(l,m,u,d,{prefix:"marker.",cLetter:"c"}),d("marker.line.color",s.defaultLine),g(l,"marker.line")&&p(l,m,u,d,{prefix:"marker.line.",cLetter:"c"}),d("marker.line.width"),d("marker.opacity"),c(d,"marker.pattern",C,b),d("selected.marker.color"),d("unselected.marker.color")}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],344:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../lib");function p(c){return"_"+c+"Text_minsize"}pe.exports={recordMinTextSize:function(c,l,m){if(m.uniformtext.mode){var d=p(c),h=m.uniformtext.minsize,u=l.scale*l.fontSize;l.hide=u<h,m[d]=m[d]||1/0,l.hide||(m[d]=Math.min(m[d],Math.max(u,h)))}},clearMinTextSize:function(c,l){l[p(c)]=void 0},resizeText:function(c,l,m){var d=c._fullLayout,h=d["_"+m+"Text_minsize"];if(h){var u,C="hide"===d.uniformtext.mode;switch(m){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}l.selectAll(u).each(function(b){var M=b.transform;M&&(M.scale=C&&M.hide?0:h/M.fontSize,s.select(this).select("text").attr("transform",g.getTextTransform(M)))})}}}},{"../../lib":232,"@plotly/d3":11}],345:[function(v,pe,J){"use strict";var s=v("../../plots/attributes"),g=v("../../plots/domain").attributes,p=v("../../plots/font_attributes"),c=v("../../components/color/attributes"),l=v("../../plots/template_attributes").hovertemplateAttrs,m=v("../../plots/template_attributes").texttemplateAttrs,d=v("../../lib/extend").extendFlat,h=p({editType:"plot",arrayOk:!0,colorEditType:"plot"});pe.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:c.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:d({},s.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:l({},{keys:["label","color","value","percent","text"]}),texttemplate:m({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:d({},h,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:d({},h,{}),outsidetextfont:d({},h,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:d({},h,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:g({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:d({},h,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},{"../../components/color/attributes":101,"../../lib/extend":226,"../../plots/attributes":275,"../../plots/domain":309,"../../plots/font_attributes":310,"../../plots/template_attributes":317}],346:[function(v,pe,J){"use strict";var s=v("../../plots/plots");J.name="pie",J.plot=function(g,p,c,l){s.plotBasePlot(J.name,g,p,c,l)},J.clean=function(g,p,c,l){s.cleanBasePlot(J.name,g,p,c,l)}},{"../../plots/plots":316}],347:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("tinycolor2"),p=v("../../components/color"),c={};function l(d){return function(h,u){return!!h&&!!(h=g(h)).isValid()&&(h=p.addOpacity(h,h.getAlpha()),d[u]||(d[u]=h),h)}}function m(d,h){var u,C=JSON.stringify(d),b=h[C];if(!b){for(b=d.slice(),u=0;u<d.length;u++)b.push(g(d[u]).lighten(20).toHexString());for(u=0;u<d.length;u++)b.push(g(d[u]).darken(20).toHexString());h[C]=b}return b}pe.exports={calc:function(d,h){var u,C,b=[],M=d._fullLayout,w=M.hiddenlabels||[],N=h.labels,A=h.marker.colors||[],k=h.values,H=h._length,L=h._hasValues&&H;if(h.dlabel)for(N=new Array(H),u=0;u<H;u++)N[u]=String(h.label0+u*h.dlabel);var I={},D=l(M["_"+h.type+"colormap"]),E=0,P=!1;for(u=0;u<H;u++){var S,R,G;if(L){if(!s(S=k[u]))continue;S=+S}else S=1;void 0!==(R=N[u])&&""!==R||(R=u);var z=I[R=String(R)];void 0===z?(I[R]=b.length,(G=-1!==w.indexOf(R))||(E+=S),b.push({v:S,label:R,color:D(A[u],R),i:u,pts:[u],hidden:G})):(P=!0,(C=b[z]).v+=S,C.pts.push(u),C.hidden||(E+=S),!1===C.color&&A[u]&&(C.color=D(A[u],R)))}return b=b.filter(function(X){return X.v>=0}),("funnelarea"===h.type?P:h.sort)&&b.sort(function(X,W){return W.v-X.v}),b[0]&&(b[0].vTotal=E),b},crossTraceCalc:function(d,h){var u=(h||{}).type;u||(u="pie");var C=d._fullLayout,b=d.calcdata,M=C[u+"colorway"],w=C["_"+u+"colormap"];C["extend"+u+"colors"]&&(M=m(M,c));for(var N=0,A=0;A<b.length;A++){var k=b[A];if(k[0].trace.type===u)for(var H=0;H<k.length;H++){var L=k[H];!1===L.color&&(w[L.label]?L.color=w[L.label]:(w[L.label]=L.color=M[N%M.length],N++))}}},makePullColorFn:l,generateExtendedColors:m}},{"../../components/color":102,"fast-isnumeric":17,tinycolor2:67}],348:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib"),p=v("./attributes"),c=v("../../plots/domain").defaults,l=v("../bar/defaults").handleText;function m(d,h){var u=Array.isArray(d),C=g.isArrayOrTypedArray(h),b=Math.min(u?d.length:1/0,C?h.length:1/0);if(isFinite(b)||(b=0),b&&C){for(var M,w=0;w<b;w++){var N=h[w];if(s(N)&&N>0){M=!0;break}}M||(b=0)}return{hasLabels:u,hasValues:C,len:b}}pe.exports={handleLabelsAndValues:m,supplyDefaults:function(d,h,u,C){function b(D,E){return g.coerce(d,h,p,D,E)}var M=m(b("labels"),b("values")),w=M.len;if(h._hasLabels=M.hasLabels,h._hasValues=M.hasValues,!h._hasLabels&&h._hasValues&&(b("label0"),b("dlabel")),w){h._length=w,b("marker.line.width")&&b("marker.line.color"),b("marker.colors"),b("scalegroup");var N,A=b("text"),k=b("texttemplate");if(k||(N=b("textinfo",Array.isArray(A)?"text+percent":"percent")),b("hovertext"),b("hovertemplate"),k||N&&"none"!==N){var H=b("textposition");l(d,h,C,b,H,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(H)||"auto"===H||"outside"===H)&&b("automargin"),("inside"===H||"auto"===H||Array.isArray(H))&&b("insidetextorientation")}c(h,C,b);var L=b("hole");if(b("title.text")){var I=b("title.position",L?"middle center":"top center");L||"middle center"!==I||(h.title.position="top center"),g.coerceFont(b,"title.font",C.font)}b("sort"),b("direction"),b("rotation"),b("pull")}else h.visible=!1}}},{"../../lib":232,"../../plots/domain":309,"../bar/defaults":332,"./attributes":345,"fast-isnumeric":17}],349:[function(v,pe,J){"use strict";var s=v("../../components/fx/helpers").appendArrayMultiPointValues;pe.exports=function(g,p){var c={curveNumber:p.index,pointNumbers:g.pts,data:p._input,fullData:p,label:g.label,color:g.color,value:g.v,percent:g.percent,text:g.text,bbox:g.bbox,v:g.v};return 1===g.pts.length&&(c.pointNumber=c.i=g.pts[0]),s(c,p,g.pts),"funnelarea"===p.type&&(delete c.v,delete c.i),c}},{"../../components/fx/helpers":138}],350:[function(v,pe,J){"use strict";var s=v("../../lib");function g(p){return-1!==p.indexOf("e")?p.replace(/[.]?0+e/,"e"):-1!==p.indexOf(".")?p.replace(/[.]?0+$/,""):p}J.formatPiePercent=function(p,c){var l=g((100*p).toPrecision(3));return s.numSeparate(l,c)+"%"},J.formatPieValue=function(p,c){var l=g(p.toPrecision(10));return s.numSeparate(l,c)},J.getFirstFilled=function(p,c){if(Array.isArray(p))for(var l=0;l<c.length;l++){var m=p[c[l]];if(m||0===m||""===m)return m}},J.castOption=function(p,c){return Array.isArray(p)?J.getFirstFilled(p,c):p||void 0},J.getRotationAngle=function(p){return("auto"===p?0:p)*Math.PI/180}},{"../../lib":232}],351:[function(v,pe,J){"use strict";pe.exports={attributes:v("./attributes"),supplyDefaults:v("./defaults").supplyDefaults,supplyLayoutDefaults:v("./layout_defaults"),layoutAttributes:v("./layout_attributes"),calc:v("./calc").calc,crossTraceCalc:v("./calc").crossTraceCalc,plot:v("./plot").plot,style:v("./style"),styleOne:v("./style_one"),moduleType:"trace",name:"pie",basePlotModule:v("./base_plot"),categories:["pie-like","pie","showLegend"],meta:{}}},{"./attributes":345,"./base_plot":346,"./calc":347,"./defaults":348,"./layout_attributes":352,"./layout_defaults":353,"./plot":354,"./style":355,"./style_one":356}],352:[function(v,pe,J){"use strict";pe.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},{}],353:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("./layout_attributes");pe.exports=function(p,c){function l(m,d){return s.coerce(p,c,g,m,d)}l("hiddenlabels"),l("piecolorway",c.colorway),l("extendpiecolors")}},{"../../lib":232,"./layout_attributes":352}],354:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../plots/plots"),p=v("../../components/fx"),c=v("../../components/color"),l=v("../../components/drawing"),m=v("../../lib"),d=m.strScale,h=m.strTranslate,u=v("../../lib/svg_text_utils"),C=v("../bar/uniform_text"),b=C.recordMinTextSize,M=C.clearMinTextSize,w=v("../bar/constants").TEXTPAD,N=v("./helpers"),A=v("./event_data"),k=v("../../lib").isValidTextValue;function H(Q,le,j){var $=j[0],se=$.cx,ee=$.cy,F=$.trace,O="funnelarea"===F.type;"_hasHoverLabel"in F||(F._hasHoverLabel=!1),"_hasHoverEvent"in F||(F._hasHoverEvent=!1),Q.on("mouseover",function(Y){var B=le._fullLayout,ae=le._fullData[F.index];if(!le._dragging&&!1!==B.hovermode){var ue=ae.hoverinfo;if(Array.isArray(ue)&&(ue=p.castHoverinfo({hoverinfo:[N.castOption(ue,Y.pts)],_module:F._module},B,0)),"all"===ue&&(ue="label+text+value+percent+name"),ae.hovertemplate||"none"!==ue&&"skip"!==ue&&ue){var fe=Y.rInscribed||0,he=se+Y.pxmid[0]*(1-fe),xe=ee+Y.pxmid[1]*(1-fe),be=B.separators,ke=[];if(ue&&-1!==ue.indexOf("label")&&ke.push(Y.label),Y.text=N.castOption(ae.hovertext||ae.text,Y.pts),ue&&-1!==ue.indexOf("text")){var Pe=Y.text;m.isValidTextValue(Pe)&&ke.push(Pe)}Y.value=Y.v,Y.valueLabel=N.formatPieValue(Y.v,be),ue&&-1!==ue.indexOf("value")&&ke.push(Y.valueLabel),Y.percent=Y.v/$.vTotal,Y.percentLabel=N.formatPiePercent(Y.percent,be),ue&&-1!==ue.indexOf("percent")&&ke.push(Y.percentLabel);var Re=ae.hoverlabel,Ue=Re.font,tt=[];p.loneHover({trace:F,x0:he-fe*$.r,x1:he+fe*$.r,y:xe,_x0:O?se+Y.TL[0]:he-fe*$.r,_x1:O?se+Y.TR[0]:he+fe*$.r,_y0:O?ee+Y.TL[1]:xe-fe*$.r,_y1:O?ee+Y.BL[1]:xe+fe*$.r,text:ke.join("<br>"),name:ae.hovertemplate||-1!==ue.indexOf("name")?ae.name:void 0,idealAlign:Y.pxmid[0]<0?"left":"right",color:N.castOption(Re.bgcolor,Y.pts)||Y.color,borderColor:N.castOption(Re.bordercolor,Y.pts),fontFamily:N.castOption(Ue.family,Y.pts),fontSize:N.castOption(Ue.size,Y.pts),fontColor:N.castOption(Ue.color,Y.pts),nameLength:N.castOption(Re.namelength,Y.pts),textAlign:N.castOption(Re.align,Y.pts),hovertemplate:N.castOption(ae.hovertemplate,Y.pts),hovertemplateLabels:Y,eventData:[A(Y,ae)]},{container:B._hoverlayer.node(),outerContainer:B._paper.node(),gd:le,inOut_bbox:tt}),Y.bbox=tt[0],F._hasHoverLabel=!0}F._hasHoverEvent=!0,le.emit("plotly_hover",{points:[A(Y,ae)],event:s.event})}}),Q.on("mouseout",function(Y){var B=le._fullLayout,ae=le._fullData[F.index],ue=s.select(this).datum();F._hasHoverEvent&&(Y.originalEvent=s.event,le.emit("plotly_unhover",{points:[A(ue,ae)],event:s.event}),F._hasHoverEvent=!1),F._hasHoverLabel&&(p.loneUnhover(B._hoverlayer.node()),F._hasHoverLabel=!1)}),Q.on("click",function(Y){le._dragging||!1===le._fullLayout.hovermode||(le._hoverdata=[A(Y,le._fullData[F.index])],p.click(le,s.event))})}function L(Q,le,j){var $=N.castOption(Q.insidetextfont.color,le.pts);!$&&Q._input.textfont&&($=N.castOption(Q._input.textfont.color,le.pts));var se=N.castOption(Q.insidetextfont.family,le.pts)||N.castOption(Q.textfont.family,le.pts)||j.family,ee=N.castOption(Q.insidetextfont.size,le.pts)||N.castOption(Q.textfont.size,le.pts)||j.size;return{color:$||c.contrast(le.color),family:se,size:ee}}function I(Q,le){for(var j,$,se=0;se<Q.length;se++)if(($=(j=Q[se][0]).trace).title.text){var ee=$.title.text;$._meta&&(ee=m.templateString(ee,$._meta));var F=l.tester.append("text").attr("data-notex",1).text(ee).call(l.font,$.title.font).call(u.convertToTspans,le),O=l.bBox(F.node(),!0);j.titleBox={width:O.width,height:O.height},F.remove()}}function D(Q,le,j){var $=j.r||le.rpx1,se=le.rInscribed;if(le.startangle===le.stopangle)return{rCenter:1-se,scale:0,rotate:0,textPosAngle:0};var ee,F=le.ring,O=1===F&&Math.abs(le.startangle-le.stopangle)===2*Math.PI,Y=le.halfangle,B=le.midangle,ae=j.trace.insidetextorientation,ue="horizontal"===ae,fe="tangential"===ae,he="radial"===ae,xe="auto"===ae,be=[];if(!xe){var ke,Pe=function(Me,ve){if(nt=(Oe=le).stopangle,(Qe=Oe.startangle)>(Fe=Me)&&Fe>nt||Qe<Fe&&Fe<nt){var Se=Math.abs(Me-le.startangle),Te=Math.abs(Me-le.stopangle),qe=Se<Te?Se:Te;(ee="tan"===ve?P(Q,$,F,qe,0):E(Q,$,F,qe,Math.PI/2)).textPosAngle=Me,be.push(ee)}var Oe,Fe,Qe,nt};if(ue||fe){for(ke=4;ke>=-4;ke-=2)Pe(Math.PI*ke,"tan");for(ke=4;ke>=-4;ke-=2)Pe(Math.PI*(ke+1),"tan")}if(ue||he){for(ke=4;ke>=-4;ke-=2)Pe(Math.PI*(ke+1.5),"rad");for(ke=4;ke>=-4;ke-=2)Pe(Math.PI*(ke+.5),"rad")}}if(O||xe||ue){var Re=Math.sqrt(Q.width*Q.width+Q.height*Q.height);if((ee={scale:se*$*2/Re,rCenter:1-se,rotate:0}).textPosAngle=(le.startangle+le.stopangle)/2,ee.scale>=1)return ee;be.push(ee)}(xe||he)&&((ee=E(Q,$,F,Y,B)).textPosAngle=(le.startangle+le.stopangle)/2,be.push(ee)),(xe||fe)&&((ee=P(Q,$,F,Y,B)).textPosAngle=(le.startangle+le.stopangle)/2,be.push(ee));for(var Ue=0,tt=0,Ke=0;Ke<be.length;Ke++){var $e=be[Ke].scale;if(tt<$e&&(tt=$e,Ue=Ke),!xe&&tt>=1)break}return be[Ue]}function E(Q,le,j,$,se){le=Math.max(0,le-2*w);var ee=Q.width/Q.height,F=G(ee,$,le,j);return{scale:2*F/Q.height,rCenter:S(ee,F/le),rotate:R(se)}}function P(Q,le,j,$,se){le=Math.max(0,le-2*w);var ee=Q.height/Q.width,F=G(ee,$,le,j);return{scale:2*F/Q.width,rCenter:S(ee,F/le),rotate:R(se+Math.PI/2)}}function S(Q,le){return Math.cos(le)-Q*le}function R(Q){return(180/Math.PI*Q+720)%180-90}function G(Q,le,j,$){var se=Q+1/(2*Math.tan(le));return j*Math.min(1/(Math.sqrt(se*se+.5)+se),$/(Math.sqrt(Q*Q+$/2)+Q))}function z(Q,le){return Q.v!==le.vTotal||le.trace.hole?Math.min(1/(1+1/Math.sin(Q.halfangle)),Q.ring/2):1}function X(Q,le){var j=le.pxmid[0],$=le.pxmid[1],se=Q.width/2,ee=Q.height/2;return j<0&&(se*=-1),$<0&&(ee*=-1),{scale:1,rCenter:1,rotate:0,x:se+Math.abs(ee)*(se>0?1:-1)/2,y:ee/(1+j*j/($*$)),outside:!0}}function W(Q,le){var j,$,se,ee=Q.trace,F={x:Q.cx,y:Q.cy},O={tx:0,ty:0};O.ty+=ee.title.font.size,se=ne(ee),-1!==ee.title.position.indexOf("top")?(F.y-=(1+se)*Q.r,O.ty-=Q.titleBox.height):-1!==ee.title.position.indexOf("bottom")&&(F.y+=(1+se)*Q.r);var B,ae=Q.r/(void 0===(B=Q.trace.aspectratio)?1:B),ue=le.w*(ee.domain.x[1]-ee.domain.x[0])/2;return-1!==ee.title.position.indexOf("left")?(ue+=ae,F.x-=(1+se)*ae,O.tx+=Q.titleBox.width/2):-1!==ee.title.position.indexOf("center")?ue*=2:-1!==ee.title.position.indexOf("right")&&(ue+=ae,F.x+=(1+se)*ae,O.tx-=Q.titleBox.width/2),j=ue/Q.titleBox.width,$=Z(Q,le)/Q.titleBox.height,{x:F.x,y:F.y,scale:Math.min(j,$),tx:O.tx,ty:O.ty}}function Z(Q,le){var j=Q.trace;return Math.min(Q.titleBox.height,le.h*(j.domain.y[1]-j.domain.y[0])/2)}function ne(Q){var le,j=Q.pull;if(!j)return 0;if(Array.isArray(j))for(j=0,le=0;le<Q.pull.length;le++)Q.pull[le]>j&&(j=Q.pull[le]);return j}function te(Q,le){for(var j=[],$=0;$<Q.length;$++){var se=Q[$][0],ee=se.trace,F=ee.domain,O=le.w*(F.x[1]-F.x[0]),Y=le.h*(F.y[1]-F.y[0]);ee.title.text&&"middle center"!==ee.title.position&&(Y-=Z(se,le));var ae=Y/2;"funnelarea"!==ee.type||ee.scalegroup||(ae/=ee.aspectratio),se.r=Math.min(O/2,ae)/(1+ne(ee)),se.cx=le.l+le.w*(ee.domain.x[1]+ee.domain.x[0])/2,se.cy=le.t+le.h*(1-ee.domain.y[0])-Y/2,ee.title.text&&-1!==ee.title.position.indexOf("bottom")&&(se.cy-=Z(se,le)),ee.scalegroup&&-1===j.indexOf(ee.scalegroup)&&j.push(ee.scalegroup)}!function(ue,fe){for(var he,xe,be,ke=0;ke<fe.length;ke++){var Pe=1/0,Re=fe[ke];for(xe=0;xe<ue.length;xe++)if((be=(he=ue[xe][0]).trace).scalegroup===Re){var Ue;if("pie"===be.type)Ue=he.r*he.r;else if("funnelarea"===be.type){var tt,Ke;be.aspectratio>1?Ke=(tt=he.r)/be.aspectratio:tt=(Ke=he.r)*be.aspectratio,Ue=(tt*=(1+be.baseratio)/2)*Ke}Pe=Math.min(Pe,Ue/he.vTotal)}for(xe=0;xe<ue.length;xe++)if((be=(he=ue[xe][0]).trace).scalegroup===Re){var $e=Pe*he.vTotal;"funnelarea"===be.type&&($e/=(1+be.baseratio)/2,$e/=be.aspectratio),he.r=Math.sqrt($e)}}}(Q,j)}function oe(Q,le){return[Q*Math.sin(le),-Q*Math.cos(le)]}function Ce(Q,le,j){var Ue,$=Q._fullLayout,se=j.trace,ee=se.texttemplate,F=se.textinfo;if(!ee&&F&&"none"!==F){var O,Y=F.split("+"),B=function(Ue){return-1!==Y.indexOf(Ue)},ae=B("label"),ue=B("text"),fe=B("value"),he=B("percent"),xe=$.separators;if(O=ae?[le.label]:[],ue){var be=N.getFirstFilled(se.text,le.pts);k(be)&&O.push(be)}fe&&O.push(N.formatPieValue(le.v,xe)),he&&O.push(N.formatPiePercent(le.v/j.vTotal,xe)),le.text=O.join("<br>")}if(ee){var ke=m.castOption(se,le.i,"texttemplate");if(ke){var Pe={label:(Ue=le).label,value:Ue.v,valueLabel:N.formatPieValue(Ue.v,$.separators),percent:Ue.v/j.vTotal,percentLabel:N.formatPiePercent(Ue.v/j.vTotal,$.separators),color:Ue.color,text:Ue.text,customdata:m.castOption(se,Ue.i,"customdata")},Re=N.getFirstFilled(se.text,le.pts);(k(Re)||""===Re)&&(Pe.text=Re),le.text=m.texttemplateString(ke,Pe,Q._fullLayout._d3locale,Pe,se._meta||{})}else le.text=""}}function ie(Q,le){var j=Q.rotate*Math.PI/180,$=Math.cos(j),se=Math.sin(j),ee=(le.left+le.right)/2,F=(le.top+le.bottom)/2;Q.textX=ee*$-F*se,Q.textY=ee*se+F*$,Q.noCenter=!0}pe.exports={plot:function(Q,le){var j=Q._fullLayout,$=j._size;M("pie",j),I(le,Q),te(le,$);var se=m.makeTraceGroups(j._pielayer,le,"trace").each(function(ee){var F=s.select(this),O=ee[0],Y=O.trace;(function(B){var ae,ue,fe,he=B[0],xe=he.r,be=he.trace,ke=N.getRotationAngle(be.rotation),Pe=2*Math.PI/he.vTotal,Re="px0",Ue="px1";if("counterclockwise"===be.direction){for(ae=0;ae<B.length&&B[ae].hidden;ae++);if(ae===B.length)return;ke+=Pe*B[ae].v,Pe*=-1,Re="px1",Ue="px0"}for(fe=oe(xe,ke),ae=0;ae<B.length;ae++)(ue=B[ae]).hidden||(ue[Re]=fe,ue.startangle=ke,ue.pxmid=oe(xe,ke+=Pe*ue.v/2),ue.midangle=ke,fe=oe(xe,ke+=Pe*ue.v/2),ue.stopangle=ke,ue[Ue]=fe,ue.largeArc=ue.v>he.vTotal/2?1:0,ue.halfangle=Math.PI*Math.min(ue.v/he.vTotal,.5),ue.ring=1-be.hole,ue.rInscribed=z(ue,he))})(ee),F.attr("stroke-linejoin","round"),F.each(function(){var B=s.select(this).selectAll("g.slice").data(ee);B.enter().append("g").classed("slice",!0),B.exit().remove();var ae=[[[],[]],[[],[]]],ue=!1;B.each(function(Ue,tt){if(Ue.hidden)s.select(this).selectAll("path,g").remove();else{Ue.pointNumber=Ue.i,Ue.curveNumber=Y.index,ae[Ue.pxmid[1]<0?0:1][Ue.pxmid[0]<0?0:1].push(Ue);var Ke=O.cx,$e=O.cy,Me=s.select(this),ve=Me.selectAll("path.surface").data([Ue]);if(ve.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),Me.call(H,Q,ee),Y.pull){var Se=+N.castOption(Y.pull,Ue.pts)||0;Se>0&&(Ke+=Se*Ue.pxmid[0],$e+=Se*Ue.pxmid[1])}Ue.cxFinal=Ke,Ue.cyFinal=$e;var Te=Y.hole;if(Ue.v===O.vTotal){var qe="M"+(Ke+Ue.px0[0])+","+($e+Ue.px0[1])+Ye(Ue.px0,Ue.pxmid,!0,1)+Ye(Ue.pxmid,Ue.px0,!0,1)+"Z";ve.attr("d",Te?"M"+(Ke+Te*Ue.px0[0])+","+($e+Te*Ue.px0[1])+Ye(Ue.px0,Ue.pxmid,!1,Te)+Ye(Ue.pxmid,Ue.px0,!1,Te)+"Z"+qe:qe)}else{var Oe=Ye(Ue.px0,Ue.px1,!0,1);if(Te){var Fe=1-Te;ve.attr("d","M"+(Ke+Te*Ue.px1[0])+","+($e+Te*Ue.px1[1])+Ye(Ue.px1,Ue.px0,!1,Te)+"l"+Fe*Ue.px0[0]+","+Fe*Ue.px0[1]+Oe+"Z")}else ve.attr("d","M"+Ke+","+$e+"l"+Ue.px0[0]+","+Ue.px0[1]+Oe+"Z")}Ce(Q,Ue,O);var Qe=N.castOption(Y.textposition,Ue.pts),nt=Me.selectAll("g.slicetext").data(Ue.text&&"none"!==Qe?[0]:[]);nt.enter().append("g").classed("slicetext",!0),nt.exit().remove(),nt.each(function(){var Be,Ge,vt,rt=m.ensureSingle(s.select(this),"text","",function(Be){Be.attr("data-notex",1)}),ht=m.ensureUniformFontSize(Q,"outside"===Qe?(vt=j.font,{color:N.castOption((Be=Y).outsidetextfont.color,(Ge=Ue).pts)||N.castOption(Be.textfont.color,Ge.pts)||vt.color,family:N.castOption(Be.outsidetextfont.family,Ge.pts)||N.castOption(Be.textfont.family,Ge.pts)||vt.family,size:N.castOption(Be.outsidetextfont.size,Ge.pts)||N.castOption(Be.textfont.size,Ge.pts)||vt.size}):L(Y,Ue,j.font));rt.text(Ue.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(l.font,ht).call(u.convertToTspans,Q);var Xe,gt=l.bBox(rt.node());if("outside"===Qe)Xe=X(gt,Ue);else if(Xe=D(gt,Ue,O),"auto"===Qe&&Xe.scale<1){var xt=m.ensureUniformFontSize(Q,Y.outsidetextfont);rt.call(l.font,xt),Xe=X(gt=l.bBox(rt.node()),Ue)}var bt=Xe.textPosAngle,Ot=void 0===bt?Ue.pxmid:oe(O.r,bt);if(Xe.targetX=Ke+Ot[0]*Xe.rCenter+(Xe.x||0),Xe.targetY=$e+Ot[1]*Xe.rCenter+(Xe.y||0),ie(Xe,gt),Xe.outside){var wt=Xe.targetY;Ue.yLabelMin=wt-gt.height/2,Ue.yLabelMid=wt,Ue.yLabelMax=wt+gt.height/2,Ue.labelExtraX=0,Ue.labelExtraY=0,ue=!0}Xe.fontSize=ht.size,b(Y.type,Xe,j),ee[tt].transform=Xe,rt.attr("transform",m.getTextTransform(Xe))})}function Ye(rt,ht,Xe,gt){return"a"+gt*O.r+","+gt*O.r+" 0 "+Ue.largeArc+(Xe?" 1 ":" 0 ")+gt*(ht[0]-rt[0])+","+gt*(ht[1]-rt[1])}});var tt,fe=s.select(this).selectAll("g.titletext").data(Y.title.text?[0]:[]);if(fe.enter().append("g").classed("titletext",!0),fe.exit().remove(),fe.each(function(){var Ue,$e,Me,tt=m.ensureSingle(s.select(this),"text","",function($e){$e.attr("data-notex",1)}),Ke=Y.title.text;Y._meta&&(Ke=m.templateString(Ke,Y._meta)),tt.text(Ke).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(l.font,Y.title.font).call(u.convertToTspans,Q),Ue="middle center"===Y.title.position?($e=O,Me=Math.sqrt($e.titleBox.width*$e.titleBox.width+$e.titleBox.height*$e.titleBox.height),{x:$e.cx,y:$e.cy,scale:$e.trace.hole*$e.r*2/Me,tx:0,ty:-$e.titleBox.height/2+$e.trace.title.font.size}):W(O,$),tt.attr("transform",h(Ue.x,Ue.y)+d(Math.min(1,Ue.scale))+h(Ue.tx,Ue.ty))}),ue&&function(Ue,tt){var Ke,$e,Me,ve,Se,Te,qe,Oe,Fe,Qe,nt,Ye,rt;function ht(bt,Ot){return bt.pxmid[1]-Ot.pxmid[1]}function Xe(bt,Ot){return Ot.pxmid[1]-bt.pxmid[1]}function gt(bt,Ot){Ot||(Ot={});var wt,Be,Ge,vt,Pt=Ot.labelExtraY+($e?Ot.yLabelMax:Ot.yLabelMin),Jt=$e?bt.yLabelMin:bt.yLabelMax,tn=$e?bt.yLabelMax:bt.yLabelMin,Kt=bt.cyFinal+Se(bt.px0[1],bt.px1[1]),qt=Pt-Jt;if(qt*qe>0&&(bt.labelExtraY=qt),Array.isArray(tt.pull))for(Be=0;Be<Qe.length;Be++)(Ge=Qe[Be])===bt||(N.castOption(tt.pull,bt.pts)||0)>=(N.castOption(tt.pull,Ge.pts)||0)||((bt.pxmid[1]-Ge.pxmid[1])*qe>0?(qt=Ge.cyFinal+Se(Ge.px0[1],Ge.px1[1])-Jt-bt.labelExtraY)*qe>0&&(bt.labelExtraY+=qt):(tn+bt.labelExtraY-Kt)*qe>0&&(wt=3*Te*Math.abs(Be-Qe.indexOf(bt)),(vt=Ge.cxFinal+ve(Ge.px0[0],Ge.px1[0])+wt-(bt.cxFinal+bt.pxmid[0])-bt.labelExtraX)*Te>0&&(bt.labelExtraX+=vt)))}for($e=0;$e<2;$e++)for(Me=$e?ht:Xe,Se=$e?Math.max:Math.min,qe=$e?1:-1,Ke=0;Ke<2;Ke++){for(ve=Ke?Math.max:Math.min,Te=Ke?1:-1,(Oe=Ue[$e][Ke]).sort(Me),Qe=(Fe=Ue[1-$e][Ke]).concat(Oe),Ye=[],nt=0;nt<Oe.length;nt++)void 0!==Oe[nt].yLabelMid&&Ye.push(Oe[nt]);for(rt=!1,nt=0;$e&&nt<Fe.length;nt++)if(void 0!==Fe[nt].yLabelMid){rt=Fe[nt];break}for(nt=0;nt<Ye.length;nt++){var xt=nt&&Ye[nt-1];rt&&!nt&&(xt=rt),gt(Ye[nt],xt)}}}(ae,Y),tt=Y,B.each(function(Ke){var $e=s.select(this);if(Ke.labelExtraX||Ke.labelExtraY){var Me=$e.select("g.slicetext text");Ke.transform.targetX+=Ke.labelExtraX,Ke.transform.targetY+=Ke.labelExtraY,Me.attr("transform",m.getTextTransform(Ke.transform));var ve=Ke.cxFinal+Ke.pxmid[0],Se="M"+ve+","+(Ke.cyFinal+Ke.pxmid[1]),Te=(Ke.yLabelMax-Ke.yLabelMin)*(Ke.pxmid[0]<0?-1:1)/4;if(Ke.labelExtraX){var qe=Ke.labelExtraX*Ke.pxmid[1]/Ke.pxmid[0],Oe=Ke.yLabelMid+Ke.labelExtraY-(Ke.cyFinal+Ke.pxmid[1]);Math.abs(qe)>Math.abs(Oe)?Se+="l"+Oe*Ke.pxmid[0]/Ke.pxmid[1]+","+Oe+"H"+(ve+Ke.labelExtraX+Te):Se+="l"+Ke.labelExtraX+","+qe+"v"+(Oe-qe)+"h"+Te}else Se+="V"+(Ke.yLabelMid+Ke.labelExtraY)+"h"+Te;m.ensureSingle($e,"path","textline").call(c.stroke,tt.outsidetextfont.color).attr({"stroke-width":Math.min(2,tt.outsidetextfont.size/8),d:Se,fill:"none"})}else $e.select("path.textline").remove()}),ue&&Y.automargin){var he=l.bBox(F.node()),xe=Y.domain,Pe=($.w*(xe.x[1]-xe.x[0])*.5-O.r)/$.w,Re=($.h*(xe.y[1]-xe.y[0])*.5-O.r)/$.h;g.autoMargin(Q,"pie."+Y.uid+".automargin",{xl:xe.x[0]-Pe,xr:xe.x[1]+Pe,yb:xe.y[0]-Re,yt:xe.y[1]+Re,l:Math.max(O.cx-O.r-he.left,0),r:Math.max(he.right-(O.cx+O.r),0),b:Math.max(he.bottom-(O.cy+O.r),0),t:Math.max(O.cy-O.r-he.top,0),pad:5})}})});setTimeout(function(){se.selectAll("tspan").each(function(){var ee=s.select(this);ee.attr("dy")&&ee.attr("dy",ee.attr("dy"))})},0)},formatSliceLabel:Ce,transformInsideText:D,determineInsideTextFont:L,positionTitleOutside:W,prerenderTitles:I,layoutAreas:te,attachFxHandlers:H,computeTransform:ie}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx":142,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../bar/constants":330,"../bar/uniform_text":344,"./event_data":349,"./helpers":350,"@plotly/d3":11}],355:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("./style_one"),p=v("../bar/uniform_text").resizeText;pe.exports=function(c){var l=c._fullLayout._pielayer.selectAll(".trace");p(c,l,"pie"),l.each(function(m){var d=m[0].trace,h=s.select(this);h.style({opacity:d.opacity}),h.selectAll("path.surface").each(function(u){s.select(this).call(g,u,d)})})}},{"../bar/uniform_text":344,"./style_one":356,"@plotly/d3":11}],356:[function(v,pe,J){"use strict";var s=v("../../components/color"),g=v("./helpers").castOption;pe.exports=function(p,c,l){var m=l.marker.line,d=g(m.color,c.pts)||s.defaultLine,h=g(m.width,c.pts)||0;p.style("stroke-width",h).call(s.fill,c.color).call(s.stroke,d)}},{"../../components/color":102,"./helpers":350}],357:[function(v,pe,J){"use strict";var s=v("../../lib");pe.exports=function(g,p){for(var c=0;c<g.length;c++)g[c].i=c;s.mergeArray(p.text,g,"tx"),s.mergeArray(p.texttemplate,g,"txt"),s.mergeArray(p.hovertext,g,"htx"),s.mergeArray(p.customdata,g,"data"),s.mergeArray(p.textposition,g,"tp"),p.textfont&&(s.mergeArrayCastPositive(p.textfont.size,g,"ts"),s.mergeArray(p.textfont.color,g,"tc"),s.mergeArray(p.textfont.family,g,"tf"));var l=p.marker;if(l){s.mergeArrayCastPositive(l.size,g,"ms"),s.mergeArrayCastPositive(l.opacity,g,"mo"),s.mergeArray(l.symbol,g,"mx"),s.mergeArray(l.color,g,"mc");var m=l.line;l.line&&(s.mergeArray(m.color,g,"mlc"),s.mergeArrayCastPositive(m.width,g,"mlw"));var d=l.gradient;d&&"none"!==d.type&&(s.mergeArray(d.type,g,"mgt"),s.mergeArray(d.color,g,"mgc"))}}},{"../../lib":232}],358:[function(v,pe,J){"use strict";var s=v("../../plots/cartesian/axis_format_attributes").axisHoverFormat,g=v("../../plots/template_attributes").texttemplateAttrs,p=v("../../plots/template_attributes").hovertemplateAttrs,c=v("../../components/colorscale/attributes"),l=v("../../plots/font_attributes"),m=v("../../components/drawing/attributes").dash,d=v("../../components/drawing/attributes").pattern,h=v("../../components/drawing"),u=v("./constants"),C=v("../../lib/extend").extendFlat;pe.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:s("x"),yhoverformat:s("y"),stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:g({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:p({},{keys:u.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:C({},m,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:d,marker:C({symbol:{valType:"enumerated",values:h.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:C({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},c("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},c("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:l({editType:"calc",colorEditType:"style",arrayOk:!0})}},{"../../components/colorscale/attributes":109,"../../components/drawing":124,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":310,"../../plots/template_attributes":317,"./constants":362}],359:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib"),p=v("../../plots/cartesian/axes"),c=v("../../plots/cartesian/align_period"),l=v("../../constants/numerical").BADNUM,m=v("./subtypes"),d=v("./colorscale_calc"),h=v("./arrays_to_calcdata"),u=v("./calc_selection");function C(A,k,H,L,I,D,E){var P=k._length,S=A._fullLayout,R=H._id,G=L._id,z=S._firstScatter[w(k)]===k.uid,X=(N(k,S,H,L)||{}).orientation,W=k.fill;H._minDtick=0,L._minDtick=0;var Z={padded:!0},ne={padded:!0};E&&(Z.ppad=ne.ppad=E);var te=P<2||I[0]!==I[P-1]||D[0]!==D[P-1];te&&("tozerox"===W||"tonextx"===W&&(z||"h"===X))?Z.tozero=!0:(k.error_y||{}).visible||"tonexty"!==W&&"tozeroy"!==W&&(m.hasMarkers(k)||m.hasText(k))||(Z.padded=!1,Z.ppad=0),te&&("tozeroy"===W||"tonexty"===W&&(z||"v"===X))?ne.tozero=!0:"tonextx"!==W&&"tozerox"!==W||(ne.padded=!1),R&&(k._extremes[R]=p.findExtremes(H,I,Z)),G&&(k._extremes[G]=p.findExtremes(L,D,ne))}function b(A,k){if(m.hasMarkers(A)){var H,L=A.marker,I=1.6*(A.marker.sizeref||1);if(H="area"===A.marker.sizemode?function(R){return Math.max(Math.sqrt((R||0)/I),3)}:function(R){return Math.max((R||0)/I,3)},g.isArrayOrTypedArray(L.size)){var D={type:"linear"};p.setConvert(D);for(var E=D.makeCalcdata(A.marker,"size"),P=new Array(k),S=0;S<k;S++)P[S]=H(E[S]);return P}return H(L.size)}}function M(A,k){var H=w(k),L=A._firstScatter;L[H]||(L[H]=k.uid)}function w(A){var k=A.stackgroup;return A.xaxis+A.yaxis+A.type+(k?"-"+k:"")}function N(A,k,H,L){var I=A.stackgroup;if(I){var D=k._scatterStackOpts[H._id+L._id][I],E="v"===D.orientation?L:H;return"linear"===E.type||"log"===E.type?D:void 0}}pe.exports={calc:function(A,k){var H,L,I,D,E,P,S=A._fullLayout,R=p.getFromId(A,k.xaxis||"x"),G=p.getFromId(A,k.yaxis||"y"),z=R.makeCalcdata(k,"x"),X=G.makeCalcdata(k,"y"),W=c(k,R,"x",z),Z=c(k,G,"y",X),ne=W.vals,te=Z.vals,oe=k._length,Ce=new Array(oe),ie=k.ids,Q=N(k,S,R,G),le=!1;M(S,k);var j,$="x",se="y";Q?(g.pushUnique(Q.traceIndices,k._expandedIndex),(H="v"===Q.orientation)?(se="s",j="x"):($="s",j="y"),E="interpolate"===Q.stackgaps):C(A,k,R,G,ne,te,b(k,oe));var ee=!!k.xperiodalignment,F=!!k.yperiodalignment;for(L=0;L<oe;L++){var O=Ce[L]={},Y=s(ne[L]),B=s(te[L]);Y&&B?(O[$]=ne[L],O[se]=te[L],ee&&(O.orig_x=z[L],O.xEnd=W.ends[L],O.xStart=W.starts[L]),F&&(O.orig_y=X[L],O.yEnd=Z.ends[L],O.yStart=Z.starts[L])):Q&&(H?Y:B)?(O[j]=H?ne[L]:te[L],O.gap=!0,E?(O.s=l,le=!0):O.s=0):O[$]=O[se]=l,ie&&(O.id=String(ie[L]))}if(h(Ce,k),d(A,k),u(Ce,k),Q){for(L=0;L<Ce.length;)Ce[L][j]===l?Ce.splice(L,1):L++;if(g.sort(Ce,function(he,xe){return he[j]-xe[j]||he.i-xe.i}),le){for(L=0;L<Ce.length-1&&Ce[L].gap;)L++;for((P=Ce[L].s)||(P=Ce[L].s=0),I=0;I<L;I++)Ce[I].s=P;for(D=Ce.length-1;D>L&&Ce[D].gap;)D--;for(P=Ce[D].s,I=Ce.length-1;I>D;I--)Ce[I].s=P;for(;L<D;)if(Ce[++L].gap){for(I=L+1;Ce[I].gap;)I++;for(var ae=Ce[L-1][j],ue=Ce[L-1].s,fe=(Ce[I].s-ue)/(Ce[I][j]-ae);L<I;)Ce[L].s=ue+(Ce[L][j]-ae)*fe,L++}}}return Ce},calcMarkerSize:b,calcAxisExpansion:C,setFirstScatter:M,getStackOpts:N}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"./arrays_to_calcdata":357,"./calc_selection":360,"./colorscale_calc":361,"./subtypes":383,"fast-isnumeric":17}],360:[function(v,pe,J){"use strict";var s=v("../../lib");pe.exports=function(g,p){s.isArrayOrTypedArray(p.selectedpoints)&&s.tagSelected(g,p)}},{"../../lib":232}],361:[function(v,pe,J){"use strict";var s=v("../../components/colorscale/helpers").hasColorscale,g=v("../../components/colorscale/calc"),p=v("./subtypes");pe.exports=function(c,l){p.hasLines(l)&&s(l,"line")&&g(c,l,{vals:l.line.color,containerStr:"line",cLetter:"c"}),p.hasMarkers(l)&&(s(l,"marker")&&g(c,l,{vals:l.marker.color,containerStr:"marker",cLetter:"c"}),s(l,"marker.line")&&g(c,l,{vals:l.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"./subtypes":383}],362:[function(v,pe,J){"use strict";pe.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],363:[function(v,pe,J){"use strict";var s=v("./calc");function g(p,c,l,m,d,h,u){d[m]=!0;var M,w,A,k,H,C={i:null,gap:!0,s:0};if(C[u]=l,p.splice(c,0,C),c&&l===p[c-1][u]){var b=p[c-1];C.s=b.s,C.i=b.i,C.gap=b.gap}else h&&(C.s=(A=u,k=(M=p)[(w=c)-1],(H=M[w+1])?k?k.s+(H.s-k.s)*(l-k[A])/(H[A]-k[A]):H.s:k.s));c||(p[0].t=p[1].t,p[0].trace=p[1].trace,delete p[1].t,delete p[1].trace)}pe.exports=function(p,c){var l=c.xaxis,m=c.yaxis,h=p._fullLayout._scatterStackOpts[l._id+m._id];if(h){var u,C,b,M,w,N,A,k,H,L,I,D,E,P,S,R=p.calcdata;for(var G in h){var z=(L=h[G]).traceIndices;if(z.length){for(I="interpolate"===L.stackgaps,D=L.groupnorm,"v"===L.orientation?(E="x",P="y"):(E="y",P="x"),S=new Array(z.length),u=0;u<S.length;u++)S[u]=!1;N=R[z[0]];var X=new Array(N.length);for(u=0;u<N.length;u++)X[u]=N[u][E];for(u=1;u<z.length;u++){for(w=R[z[u]],C=b=0;C<w.length;C++){for(A=w[C][E];A>X[b]&&b<X.length;b++)g(w,C,X[b],u,S,I,E),C++;if(A!==X[b]){for(M=0;M<u;M++)g(R[z[M]],b,A,M,S,I,E);X.splice(b,0,A)}b++}for(;b<X.length;b++)g(w,C,X[b],u,S,I,E),C++}var W=X.length;for(C=0;C<N.length;C++){for(k=N[C][P]=N[C].s,u=1;u<z.length;u++)(w=R[z[u]])[0].trace._rawLength=w[0].trace._length,w[0].trace._length=W,w[C][P]=k+=w[C].s;if(D)for(H=("fraction"===D?k:k/100)||1,u=0;u<z.length;u++){var Z=R[z[u]][C];Z[P]/=H,Z.sNorm=Z.s/H}}for(u=0;u<z.length;u++){var ne=(w=R[z[u]])[0].trace,te=s.calcMarkerSize(ne,ne._rawLength),oe=Array.isArray(te);if(te&&S[u]||oe){var Ce=te;for(te=new Array(W),C=0;C<W;C++)te[C]=w[C].gap?0:oe?Ce[w[C].i]:Ce}var ie=new Array(W),Q=new Array(W);for(C=0;C<W;C++)ie[C]=w[C].x,Q[C]=w[C].y;s.calcAxisExpansion(p,ne,l,m,ie,Q,te),w[0].t.orientation=L.orientation}}}}}},{"./calc":359}],364:[function(v,pe,J){"use strict";pe.exports=function(s){for(var g=0;g<s.length;g++){var p=s[g];if("scatter"===p.type){var c=p.fill;if("none"!==c&&"toself"!==c&&(p.opacity=void 0,"tonexty"===c||"tonextx"===c))for(var l=g-1;l>=0;l--){var m=s[l];if("scatter"===m.type&&m.xaxis===p.xaxis&&m.yaxis===p.yaxis){m.opacity=void 0;break}}}}}},{}],365:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../registry"),p=v("./attributes"),c=v("./constants"),l=v("./subtypes"),m=v("./xy_defaults"),d=v("./period_defaults"),h=v("./stack_defaults"),u=v("./marker_defaults"),C=v("./line_defaults"),b=v("./line_shape_defaults"),M=v("./text_defaults"),w=v("./fillcolor_defaults"),N=v("../../lib").coercePattern;pe.exports=function(A,k,H,L){function I(X,W){return s.coerce(A,k,p,X,W)}var D=m(A,k,L,I);if(D||(k.visible=!1),k.visible){d(A,k,L,I),I("xhoverformat"),I("yhoverformat");var E=h(A,k,L,I),P=!E&&D<c.PTS_LINESONLY?"lines+markers":"lines";I("text"),I("hovertext"),I("mode",P),l.hasLines(k)&&(C(A,k,H,L,I),b(A,k,I),I("connectgaps"),I("line.simplify")),l.hasMarkers(k)&&u(A,k,H,L,I,{gradient:!0}),l.hasText(k)&&(I("texttemplate"),M(A,k,L,I));var S=[];(l.hasMarkers(k)||l.hasText(k))&&(I("cliponaxis"),I("marker.maxdisplayed"),S.push("points")),I("fill",E?E.fillDflt:"none"),"none"!==k.fill&&(w(A,k,H,I),l.hasLines(k)||b(A,k,I),N(I,"fillpattern",k.fillcolor,!1));var R=(k.line||{}).color,G=(k.marker||{}).color;"tonext"!==k.fill&&"toself"!==k.fill||S.push("fills"),I("hoveron",S.join("+")||"points"),"fills"!==k.hoveron&&I("hovertemplate");var z=g.getComponentMethod("errorbars","supplyDefaults");z(A,k,R||G||H,{axis:"y"}),z(A,k,R||G||H,{axis:"x",inherit:"y"}),s.coerceSelectionMarkerOpacity(k,I)}}},{"../../lib":232,"../../registry":318,"./attributes":358,"./constants":362,"./fillcolor_defaults":366,"./line_defaults":371,"./line_shape_defaults":373,"./marker_defaults":377,"./period_defaults":378,"./stack_defaults":381,"./subtypes":383,"./text_defaults":384,"./xy_defaults":385}],366:[function(v,pe,J){"use strict";var s=v("../../components/color"),g=v("../../lib").isArrayOrTypedArray;pe.exports=function(p,c,l,m){var d=!1;if(c.marker){var h=c.marker.color,u=(c.marker.line||{}).color;h&&!g(h)?d=h:u&&!g(u)&&(d=u)}m("fillcolor",s.addOpacity((c.line||{}).color||d||l,.5))}},{"../../components/color":102,"../../lib":232}],367:[function(v,pe,J){"use strict";var s=v("../../plots/cartesian/axes");pe.exports=function(g,p,c){var l={},m={_fullLayout:c},d=s.getFromTrace(m,p,"x"),h=s.getFromTrace(m,p,"y");return l.xLabel=s.tickText(d,d.c2l(g.x),!0).text,l.yLabel=s.tickText(h,h.c2l(g.y),!0).text,l}},{"../../plots/cartesian/axes":279}],368:[function(v,pe,J){"use strict";var s=v("../../components/color"),g=v("./subtypes");pe.exports=function(p,c){var l,m;if("lines"===p.mode)return(l=p.line.color)&&s.opacity(l)?l:p.fillcolor;if("none"===p.mode)return p.fill?p.fillcolor:"";var d=c.mcc||(p.marker||{}).color,h=c.mlcc||((p.marker||{}).line||{}).color;return(m=d&&s.opacity(d)?d:h&&s.opacity(h)&&(c.mlw||((p.marker||{}).line||{}).width)?h:"")?s.opacity(m)<.3?s.addOpacity(m,.3):m:(l=(p.line||{}).color)&&s.opacity(l)&&g.hasLines(p)&&p.line.width?l:p.fillcolor}},{"../../components/color":102,"./subtypes":383}],369:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../components/fx"),p=v("../../registry"),c=v("./get_trace_color"),l=v("../../components/color"),m=s.fillText;pe.exports=function(d,h,u,C){var b=d.cd,M=b[0].trace,w=d.xa,N=d.ya,A=w.c2p(h),k=N.c2p(u),H=[A,k],L=M.hoveron||"",I=-1!==M.mode.indexOf("markers")?3:.5,D=!!M.xperiodalignment,E=!!M.yperiodalignment;if(-1!==L.indexOf("points")){var P=function(be){var ke=Math.max(I,be.mrc||0),Pe=w.c2p(be.x)-A,Re=N.c2p(be.y)-k;return Math.max(Math.sqrt(Pe*Pe+Re*Re)-ke,1-I/ke)},S=g.getDistanceFunction(C,function(be){if(D){var ke=w.c2p(be.xStart),Pe=w.c2p(be.xEnd);return A>=Math.min(ke,Pe)&&A<=Math.max(ke,Pe)?0:1/0}var Re=Math.max(3,be.mrc||0),Ue=1-1/Re,tt=Math.abs(w.c2p(be.x)-A);return tt<Re?Ue*tt/Re:tt-Re+Ue},function(be){if(E){var ke=N.c2p(be.yStart),Pe=N.c2p(be.yEnd);return k>=Math.min(ke,Pe)&&k<=Math.max(ke,Pe)?0:1/0}var Re=Math.max(3,be.mrc||0),Ue=1-1/Re,tt=Math.abs(N.c2p(be.y)-k);return tt<Re?Ue*tt/Re:tt-Re+Ue},P);if(g.getClosest(b,S,d),!1!==d.index){var R=b[d.index],G=w.c2p(R.x,!0),z=N.c2p(R.y,!0),X=R.mrc||1;d.index=R.i;var W=b[0].t.orientation,Z=W&&(R.sNorm||R.s),ne="h"===W?Z:void 0!==R.orig_x?R.orig_x:R.x,te="v"===W?Z:void 0!==R.orig_y?R.orig_y:R.y;return s.extendFlat(d,{color:c(M,R),x0:G-X,x1:G+X,xLabelVal:ne,y0:z-X,y1:z+X,yLabelVal:te,spikeDistance:P(R),hovertemplate:M.hovertemplate}),m(R,M,d),p.getComponentMethod("errorbars","hoverInfo")(R,M,d),[d]}}if(-1!==L.indexOf("fills")&&M._polygons){var oe,Ce,ie,Q,le,j,se,ee,F=M._polygons,O=[],Y=!1,B=1/0,ae=-1/0,ue=1/0,fe=-1/0;for(oe=0;oe<F.length;oe++)(ie=F[oe]).contains(H)&&(Y=!Y,O.push(ie),ue=Math.min(ue,ie.ymin),fe=Math.max(fe,ie.ymax));if(Y){var he=((ue=Math.max(ue,0))+(fe=Math.min(fe,N._length)))/2;for(oe=0;oe<O.length;oe++)for(Q=O[oe].pts,Ce=1;Ce<Q.length;Ce++)(se=Q[Ce-1][1])>he!=(ee=Q[Ce][1])>=he&&(j=Q[Ce-1][0],ee-se&&(le=j+(Q[Ce][0]-j)*(he-se)/(ee-se),B=Math.min(B,le),ae=Math.max(ae,le)));B=Math.max(B,0),ae=Math.min(ae,w._length);var xe=l.defaultLine;return l.opacity(M.fillcolor)?xe=M.fillcolor:l.opacity((M.line||{}).color)&&(xe=M.line.color),s.extendFlat(d,{distance:d.maxHoverDistance,x0:B,x1:ae,y0:he,y1:he,color:xe,hovertemplate:!1}),delete d.index,d.text=M.text&&!Array.isArray(M.text)?String(M.text):M.name,[d]}}}},{"../../components/color":102,"../../components/fx":142,"../../lib":232,"../../registry":318,"./get_trace_color":368}],370:[function(v,pe,J){"use strict";var s=v("./subtypes");pe.exports={hasLines:s.hasLines,hasMarkers:s.hasMarkers,hasText:s.hasText,isBubble:s.isBubble,attributes:v("./attributes"),supplyDefaults:v("./defaults"),crossTraceDefaults:v("./cross_trace_defaults"),calc:v("./calc").calc,crossTraceCalc:v("./cross_trace_calc"),arraysToCalcdata:v("./arrays_to_calcdata"),plot:v("./plot"),colorbar:v("./marker_colorbar"),formatLabels:v("./format_labels"),style:v("./style").style,styleOnSelect:v("./style").styleOnSelect,hoverPoints:v("./hover"),selectPoints:v("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:v("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":293,"./arrays_to_calcdata":357,"./attributes":358,"./calc":359,"./cross_trace_calc":363,"./cross_trace_defaults":364,"./defaults":365,"./format_labels":367,"./hover":369,"./marker_colorbar":376,"./plot":379,"./select":380,"./style":382,"./subtypes":383}],371:[function(v,pe,J){"use strict";var s=v("../../lib").isArrayOrTypedArray,g=v("../../components/colorscale/helpers").hasColorscale,p=v("../../components/colorscale/defaults");pe.exports=function(c,l,m,d,h,u){var C=(c.marker||{}).color;h("line.color",m),g(c,"line")?p(c,l,d,h,{prefix:"line.",cLetter:"c"}):h("line.color",!s(C)&&C||m),h("line.width"),(u||{}).noDash||h("line.dash")}},{"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],372:[function(v,pe,J){"use strict";var s=v("../../constants/numerical"),g=s.BADNUM,p=s.LOG_CLIP,c=p+.5,l=p-.5,m=v("../../lib"),d=m.segmentsIntersect,h=m.constrain,u=v("./constants");pe.exports=function(C,b){var M,w,N,A,k,H,L,I,D,E,P,S,R,G,z,X,W,Z,ne=b.xaxis,te=b.yaxis,oe="log"===ne.type,Ce="log"===te.type,ie=ne._length,Q=te._length,le=b.connectGaps,j=b.baseTolerance,$=b.shape,se="linear"===$,ee=b.fill&&"none"!==b.fill,F=[],O=u.minTolerance,Y=C.length,B=new Array(Y),ae=0;function ue(Xe){var gt=C[Xe];if(!gt)return!1;var xt=b.linearized?ne.l2p(gt.x):ne.c2p(gt.x),bt=b.linearized?te.l2p(gt.y):te.c2p(gt.y);if(xt===g){if(oe&&(xt=ne.c2p(gt.x,!0)),xt===g)return!1;Ce&&bt===g&&(xt*=Math.abs(ne._m*Q*(ne._m>0?c:l)/(te._m*ie*(te._m>0?c:l)))),xt*=1e3}if(bt===g){if(Ce&&(bt=te.c2p(gt.y,!0)),bt===g)return!1;bt*=1e3}return[xt,bt]}function fe(Xe,gt,xt,bt){var Ot=xt-Xe,wt=bt-gt,Be=.5-Xe,Ge=.5-gt,vt=Ot*Ot+wt*wt,Pt=Ot*Be+wt*Ge;if(Pt>0&&Pt<vt){var Jt=Be*wt-Ge*Ot;if(Jt*Jt<vt)return!0}}function he(Xe,gt){var xt=Xe[0]/ie,bt=Xe[1]/Q,Ot=Math.max(0,-xt,xt-1,-bt,bt-1);return Ot&&void 0!==W&&fe(xt,bt,W,Z)&&(Ot=0),Ot&&gt&&fe(xt,bt,gt[0]/ie,gt[1]/Q)&&(Ot=0),(1+u.toleranceGrowth*Ot)*j}function xe(Xe,gt){var xt=Xe[0]-gt[0],bt=Xe[1]-gt[1];return Math.sqrt(xt*xt+bt*bt)}var be,ke,Pe,Re,Ue,tt,Ke,$e=u.maxScreensAway,Me=-ie*$e,ve=ie*(1+$e),Se=-Q*$e,Te=Q*(1+$e),qe=[[Me,Se,ve,Se],[ve,Se,ve,Te],[ve,Te,Me,Te],[Me,Te,Me,Se]];function Oe(Xe){if(Xe[0]<Me||Xe[0]>ve||Xe[1]<Se||Xe[1]>Te)return[h(Xe[0],Me,ve),h(Xe[1],Se,Te)]}function Fe(Xe,gt){return Xe[0]===gt[0]&&(Xe[0]===Me||Xe[0]===ve)||Xe[1]===gt[1]&&(Xe[1]===Se||Xe[1]===Te)||void 0}function Qe(Xe,gt,xt){return function(bt,Ot){var wt=Oe(bt),Be=Oe(Ot),Ge=[];if(wt&&Be&&Fe(wt,Be))return Ge;wt&&Ge.push(wt),Be&&Ge.push(Be);var vt=2*m.constrain((bt[Xe]+Ot[Xe])/2,gt,xt)-((wt||bt)[Xe]+(Be||Ot)[Xe]);return vt&&((wt&&Be?vt>0==wt[Xe]>Be[Xe]?wt:Be:wt||Be)[Xe]+=vt),Ge}}function nt(Xe){var gt=Xe[0],xt=Xe[1],bt=gt===B[ae-1][0],Ot=xt===B[ae-1][1];if(!bt||!Ot)if(ae>1){var wt=gt===B[ae-2][0],Be=xt===B[ae-2][1];bt&&(gt===Me||gt===ve)&&wt?Be?ae--:B[ae-1]=Xe:Ot&&(xt===Se||xt===Te)&&Be?wt?ae--:B[ae-1]=Xe:B[ae++]=Xe}else B[ae++]=Xe}function Ye(Xe){B[ae-1][0]!==Xe[0]&&B[ae-1][1]!==Xe[1]&&nt([Pe,Re]),nt(Xe),Ue=null,Pe=Re=0}function rt(Xe){if(W=Xe[0]/ie,Z=Xe[1]/Q,ke=Xe[1]<Se?Se:Xe[1]>Te?Te:0,(be=Xe[0]<Me?Me:Xe[0]>ve?ve:0)||ke){if(ae)if(Ue){var gt=Ke(Ue,Xe);gt.length>1&&(Ye(gt[0]),B[ae++]=gt[1])}else tt=Ke(B[ae-1],Xe)[0],B[ae++]=tt;else B[ae++]=[be||Xe[0],ke||Xe[1]];var xt=B[ae-1];be&&ke&&(xt[0]!==be||xt[1]!==ke)?(Ue&&(Pe!==be&&Re!==ke?nt(Pe&&Re?(wt=(Ot=Xe)[0]-(bt=Ue)[0],Be=(Ot[1]-bt[1])/wt,(bt[1]*Ot[0]-Ot[1]*bt[0])/wt>0?[Be>0?Me:ve,Te]:[Be>0?ve:Me,Se]):[Pe||be,Re||ke]):Pe&&Re&&nt([Pe,Re])),nt([be,ke])):Pe-be&&Re-ke&&nt([be||Pe,ke||Re]),Ue=Xe,Pe=be,Re=ke}else Ue&&Ye(Ke(Ue,Xe)[0]),B[ae++]=Xe;var bt,Ot,wt,Be}for("linear"===$||"spline"===$?Ke=function(Xe,gt){for(var xt=[],bt=0,Ot=0;Ot<4;Ot++){var wt=qe[Ot],Be=d(Xe[0],Xe[1],gt[0],gt[1],wt[0],wt[1],wt[2],wt[3]);Be&&(!bt||Math.abs(Be.x-xt[0][0])>1||Math.abs(Be.y-xt[0][1])>1)&&(Be=[Be.x,Be.y],bt&&xe(Be,Xe)<xe(xt[0],Xe)?xt.unshift(Be):xt.push(Be),bt++)}return xt}:"hv"===$||"vh"===$?Ke=function(Xe,gt){var xt=[],bt=Oe(Xe),Ot=Oe(gt);return bt&&Ot&&Fe(bt,Ot)||(bt&&xt.push(bt),Ot&&xt.push(Ot)),xt}:"hvh"===$?Ke=Qe(0,Me,ve):"vhv"===$&&(Ke=Qe(1,Se,Te)),M=0;M<Y;M++)if(w=ue(M)){for(ae=0,Ue=null,rt(w),M++;M<Y;M++){if(!(A=ue(M))){if(le)continue;break}if(se&&b.simplify){var ht=ue(M+1);if(E=xe(A,w),ee&&(0===ae||ae===Y-1)||!(E<he(A,ht)*O)){for(I=[(A[0]-w[0])/E,(A[1]-w[1])/E],k=w,P=E,S=G=z=0,L=!1,N=A,M++;M<C.length;M++){if(H=ht,ht=ue(M+1),!H){if(le)continue;break}if(X=(D=[H[0]-w[0],H[1]-w[1]])[0]*I[1]-D[1]*I[0],G=Math.min(G,X),(z=Math.max(z,X))-G>he(H,ht))break;N=H,(R=D[0]*I[0]+D[1]*I[1])>P?(P=R,A=H,L=!1):R<S&&(S=R,k=H,L=!0)}if(L?(rt(A),N!==k&&rt(k)):(k!==w&&rt(k),N!==A&&rt(A)),rt(N),M>=C.length||!H)break;rt(H),w=H}}else rt(A)}Ue&&nt([Pe||Ue[0],Re||Ue[1]]),F.push(B.slice(0,ae))}return F}},{"../../constants/numerical":212,"../../lib":232,"./constants":362}],373:[function(v,pe,J){"use strict";pe.exports=function(s,g,p){"spline"===p("line.shape")&&p("line.smoothing")}},{}],374:[function(v,pe,J){"use strict";var s={tonextx:1,tonexty:1,tonext:1};pe.exports=function(g,p,c){var l,m,d,h,u,C={},b=!1,M=-1,w=0,N=-1;for(m=0;m<c.length;m++)(d=(l=c[m][0].trace).stackgroup||"")?d in C?u=C[d]:(u=C[d]=w,w++):l.fill in s&&N>=0?u=N:(u=N=w,w++),u<M&&(b=!0),l._groupIndex=M=u;var A=c.slice();b&&A.sort(function(H,L){var I=H[0].trace,D=L[0].trace;return I._groupIndex-D._groupIndex||I.index-D.index});var k={};for(m=0;m<A.length;m++)d=(l=A[m][0].trace).stackgroup||"",!0===l.visible?(l._nexttrace=null,l.fill in s&&(l._prevtrace=(h=k[d])||null,h&&(h._nexttrace=l)),l._ownfill=l.fill&&("tozero"===l.fill.substr(0,6)||"toself"===l.fill||"to"===l.fill.substr(0,2)&&!l._prevtrace),k[d]=l):l._prevtrace=l._nexttrace=l._ownfill=null;return A}},{}],375:[function(v,pe,J){"use strict";var s=v("fast-isnumeric");pe.exports=function(g,p){p||(p=2);var c=g.marker,l=c.sizeref||1,m=c.sizemin||0,d="area"===c.sizemode?function(h){return Math.sqrt(h/l)}:function(h){return h/l};return function(h){var u=d(h/p);return s(u)&&u>0?Math.max(u,m):0}}},{"fast-isnumeric":17}],376:[function(v,pe,J){"use strict";pe.exports={container:"marker",min:"cmin",max:"cmax"}},{}],377:[function(v,pe,J){"use strict";var s=v("../../components/color"),g=v("../../components/colorscale/helpers").hasColorscale,p=v("../../components/colorscale/defaults"),c=v("./subtypes");pe.exports=function(l,m,d,h,u,C){var b=c.isBubble(l),M=(l.line||{}).color;C=C||{},M&&(d=M),u("marker.symbol"),u("marker.opacity",b?.7:1),u("marker.size"),u("marker.color",d),g(l,"marker")&&p(l,m,h,u,{prefix:"marker.",cLetter:"c"}),C.noSelect||(u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size")),C.noLine||(u("marker.line.color",M&&!Array.isArray(M)&&m.marker.color!==M?M:b?s.background:s.defaultLine),g(l,"marker.line")&&p(l,m,h,u,{prefix:"marker.line.",cLetter:"c"}),u("marker.line.width",b?1:0)),b&&(u("marker.sizeref"),u("marker.sizemin"),u("marker.sizemode")),C.gradient&&"none"!==u("marker.gradient.type")&&u("marker.gradient.color")}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"./subtypes":383}],378:[function(v,pe,J){"use strict";var s=v("../../lib").dateTick0,g=v("../../constants/numerical").ONEWEEK;function p(c,l){return s(l,c%g==0?1:0)}pe.exports=function(c,l,m,d,h){if(h||(h={x:!0,y:!0}),h.x){var u=d("xperiod");u&&(d("xperiod0",p(u,l.xcalendar)),d("xperiodalignment"))}if(h.y){var C=d("yperiod");C&&(d("yperiod0",p(C,l.ycalendar)),d("yperiodalignment"))}}},{"../../constants/numerical":212,"../../lib":232}],379:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../registry"),p=v("../../lib"),c=p.ensureSingle,l=p.identity,m=v("../../components/drawing"),d=v("./subtypes"),h=v("./line_points"),u=v("./link_traces"),C=v("../../lib/polygon").tester;function b(M,w,N,A,k,H,L){var I;!function(ve,Se,Te,qe,Oe){var Fe=Te.xaxis,Qe=Te.yaxis,nt=s.extent(p.simpleMap(Fe.range,Fe.r2c)),Ye=s.extent(p.simpleMap(Qe.range,Qe.r2c)),rt=qe[0].trace;if(d.hasMarkers(rt)){var ht=rt.marker.maxdisplayed;if(0!==ht){var Xe=qe.filter(function(Ot){return Ot.x>=nt[0]&&Ot.x<=nt[1]&&Ot.y>=Ye[0]&&Ot.y<=Ye[1]}),gt=Math.ceil(Xe.length/ht),xt=0;Oe.forEach(function(Ot,wt){var Be=Ot[0].trace;d.hasMarkers(Be)&&Be.marker.maxdisplayed>0&&wt<Se&&xt++});var bt=Math.round(xt*gt/3+Math.floor(xt/3)*gt/7.1);qe.forEach(function(Ot){delete Ot.vis}),Xe.forEach(function(Ot,wt){0===Math.round((wt+bt)%gt)&&(Ot.vis=!0)})}}}(0,w,N,A,k);var D=!!L&&L.duration>0;function E(ve){return D?ve.transition():ve}var P=N.xaxis,S=N.yaxis,R=A[0].trace,G=R.line,z=s.select(H),X=c(z,"g","errorbars"),W=c(z,"g","lines"),Z=c(z,"g","points"),ne=c(z,"g","text");if(g.getComponentMethod("errorbars","plot")(M,X,N,L),!0===R.visible){var te,oe;E(z).style("opacity",R.opacity);var Ce=R.fill.charAt(R.fill.length-1);"x"!==Ce&&"y"!==Ce&&(Ce=""),A[0][N.isRangePlot?"nodeRangePlot3":"node3"]=z;var ie,Q,le="",j=[],$=R._prevtrace;$&&(le=$._prevRevpath||"",oe=$._nextFill,j=$._polygons);var se,ee,F,O,Y,B,ae,ue="",fe="",he=[],xe=p.noop;if(te=R._ownFill,d.hasLines(R)||"none"!==R.fill){for(oe&&oe.datum(A),-1!==["hv","vh","hvh","vhv"].indexOf(G.shape)?(se=m.steps(G.shape),ee=m.steps(G.shape.split("").reverse().join(""))):se=ee="spline"===G.shape?function(ve){var Se=ve[ve.length-1];return ve.length>1&&ve[0][0]===Se[0]&&ve[0][1]===Se[1]?m.smoothclosed(ve.slice(1),G.smoothing):m.smoothopen(ve,G.smoothing)}:function(ve){return"M"+ve.join("L")},F=function(ve){return ee(ve.reverse())},he=h(A,{xaxis:P,yaxis:S,connectGaps:R.connectgaps,baseTolerance:Math.max(G.width||1,3)/4,shape:G.shape,simplify:G.simplify,fill:R.fill}),ae=R._polygons=new Array(he.length),I=0;I<he.length;I++)R._polygons[I]=C(he[I]);he.length&&(O=he[0][0],B=(Y=he[he.length-1])[Y.length-1]),xe=function(ve){return function(Se){if(ie=se(Se),Q=F(Se),ue?Ce?(ue+="L"+ie.substr(1),fe=Q+"L"+fe.substr(1)):(ue+="Z"+ie,fe=Q+"Z"+fe):(ue=ie,fe=Q),d.hasLines(R)&&Se.length>1){var Te=s.select(this);if(Te.datum(A),ve)E(Te.style("opacity",0).attr("d",ie).call(m.lineGroupStyle)).style("opacity",1);else{var qe=E(Te);qe.attr("d",ie),m.singleLineStyle(A,qe)}}}}}var be=W.selectAll(".js-line").data(he);E(be.exit()).style("opacity",0).remove(),be.each(xe(!1)),be.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(m.lineGroupStyle).each(xe(!0)),m.setClipUrl(be,N.layerClipId,M),he.length?(te?(te.datum(A),O&&B&&(Ce?("y"===Ce?O[1]=B[1]=S.c2p(0,!0):"x"===Ce&&(O[0]=B[0]=P.c2p(0,!0)),E(te).attr("d","M"+B+"L"+O+"L"+ue.substr(1)).call(m.singleFillStyle,M)):E(te).attr("d",ue+"Z").call(m.singleFillStyle,M))):oe&&("tonext"===R.fill.substr(0,6)&&ue&&le?("tonext"===R.fill?E(oe).attr("d",ue+"Z"+le+"Z").call(m.singleFillStyle,M):E(oe).attr("d",ue+"L"+le.substr(1)+"Z").call(m.singleFillStyle,M),R._polygons=R._polygons.concat(j)):(Pe(oe),R._polygons=null)),R._prevRevpath=fe,R._prevPolygons=ae):(te?Pe(te):oe&&Pe(oe),R._polygons=R._prevRevpath=R._prevPolygons=null),Z.datum(A),ne.datum(A),function(ve,Se,Te){var qe,Oe=Te[0].trace,Fe=d.hasMarkers(Oe),Qe=d.hasText(Oe),nt=function $e(ve){if(ve.ids)return Ke}(Oe),Ye=Me,rt=Me;if(Fe||Qe){var ht=l,Xe=Oe.stackgroup,gt=Xe&&"infer zero"===M._fullLayout._scatterStackOpts[P._id+S._id][Xe].stackgaps;Oe.marker.maxdisplayed||Oe._needsCull?ht=gt?Ue:Re:Xe&&!gt&&(ht=tt),Fe&&(Ye=ht),Qe&&(rt=ht)}var xt,bt=(qe=ve.selectAll("path.point").data(Ye,nt)).enter().append("path").classed("point",!0);D&&bt.call(m.pointStyle,Oe,M).call(m.translatePoints,P,S).style("opacity",0).transition().style("opacity",1),qe.order(),Fe&&(xt=m.makePointStyleFns(Oe)),qe.each(function(Ot){var wt=s.select(this),Be=E(wt);m.translatePoint(Ot,Be,P,S)?(m.singlePointStyle(Ot,Be,Oe,xt,M),N.layerClipId&&m.hideOutsideRangePoint(Ot,Be,P,S,Oe.xcalendar,Oe.ycalendar),Oe.customdata&&wt.classed("plotly-customdata",null!=Ot.data)):Be.remove()}),D?qe.exit().transition().style("opacity",0).remove():qe.exit().remove(),(qe=Se.selectAll("g").data(rt,nt)).enter().append("g").classed("textpoint",!0).append("text"),qe.order(),qe.each(function(Ot){var wt=s.select(this),Be=E(wt.select("text"));m.translatePoint(Ot,Be,P,S)?N.layerClipId&&m.hideOutsideRangePoint(Ot,wt,P,S,Oe.xcalendar,Oe.ycalendar):wt.remove()}),qe.selectAll("text").call(m.textPointStyle,Oe,M).each(function(Ot){var wt=P.c2p(Ot.x),Be=S.c2p(Ot.y);s.select(this).selectAll("tspan.line").each(function(){E(s.select(this)).attr({x:wt,y:Be})})}),qe.exit().remove()}(Z,ne,A);var ke=!1===R.cliponaxis?null:N.layerClipId;m.setClipUrl(Z,ke,M),m.setClipUrl(ne,ke,M)}function Pe(ve){E(ve).attr("d","M0,0Z")}function Re(ve){return ve.filter(function(Se){return!Se.gap&&Se.vis})}function Ue(ve){return ve.filter(function(Se){return Se.vis})}function tt(ve){return ve.filter(function(Se){return!Se.gap})}function Ke(ve){return ve.id}function Me(){return!1}}pe.exports=function(M,w,N,A,k,H){var L,I,S,G,D=!k,E=!!k&&k.duration>0,P=u(M,w,N);(L=A.selectAll("g.trace").data(P,function(S){return S[0].trace.uid})).enter().append("g").attr("class",function(S){return"trace scatter trace"+S[0].trace.uid}).style("stroke-miterlimit",2),L.order(),S=M,G=w,L.each(function(z){var X=c(s.select(this),"g","fills");m.setClipUrl(X,G.layerClipId,S);var W=z[0].trace,Z=[];W._ownfill&&Z.push("_ownFill"),W._nexttrace&&Z.push("_nextFill");var ne=X.selectAll("g").data(Z,l);ne.enter().append("g"),ne.exit().each(function(te){W[te]=null}).remove(),ne.order().each(function(te){W[te]=c(s.select(this),"path","js-fill")})}),E?(H&&(I=H()),s.transition().duration(k.duration).ease(k.easing).each("end",function(){I&&I()}).each("interrupt",function(){I&&I()}).each(function(){A.selectAll("g.trace").each(function(S,R){b(M,R,w,S,P,this,k)})})):L.each(function(S,R){b(M,R,w,S,P,this,k)}),D&&L.exit().remove(),A.selectAll("path:not([d])").remove()}},{"../../components/drawing":124,"../../lib":232,"../../lib/polygon":244,"../../registry":318,"./line_points":372,"./link_traces":374,"./subtypes":383,"@plotly/d3":11}],380:[function(v,pe,J){"use strict";var s=v("./subtypes");pe.exports=function(g,p){var c,l,m,d,h=g.cd,u=g.xaxis,C=g.yaxis,b=[],M=h[0].trace;if(!s.hasMarkers(M)&&!s.hasText(M))return[];if(!1===p)for(c=0;c<h.length;c++)h[c].selected=0;else for(c=0;c<h.length;c++)m=u.c2p((l=h[c]).x),d=C.c2p(l.y),null!==l.i&&p.contains([m,d],!1,c,g)?(b.push({pointNumber:l.i,x:u.c2d(l.x),y:C.c2d(l.y)}),l.selected=1):l.selected=0;return b}},{"./subtypes":383}],381:[function(v,pe,J){"use strict";var s=["orientation","groupnorm","stackgaps"];pe.exports=function(g,p,c,l){var m=c._scatterStackOpts,d=l("stackgroup");if(d){var h=p.xaxis+p.yaxis,u=m[h];u||(u=m[h]={});var C=u[d],b=!1;C?C.traces.push(p):(C=u[d]={traceIndices:[],traces:[p]},b=!0);for(var M={orientation:p.x&&!p.y?"h":"v"},w=0;w<s.length;w++){var N=s[w],A=N+"Found";if(!C[A]){var k=void 0!==g[N],H="orientation"===N;if((k||b)&&(C[N]=l(N,M[N]),H&&(C.fillDflt="h"===C[N]?"tonextx":"tonexty"),k&&(C[A]=!0,!b&&(delete C.traces[0][N],H))))for(var L=0;L<C.traces.length-1;L++){var I=C.traces[L];I._input.fill!==I.fill&&(I.fill=C.fillDflt)}}}return C}}},{}],382:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../components/drawing"),p=v("../../registry");function c(m,d,h){g.pointStyle(m.selectAll("path.point"),d,h)}function l(m,d,h){g.textPointStyle(m.selectAll("text"),d,h)}pe.exports={style:function(m){var d=s.select(m).selectAll("g.trace.scatter");d.style("opacity",function(h){return h[0].trace.opacity}),d.selectAll("g.points").each(function(h){c(s.select(this),h.trace||h[0].trace,m)}),d.selectAll("g.text").each(function(h){l(s.select(this),h.trace||h[0].trace,m)}),d.selectAll("g.trace path.js-line").call(g.lineGroupStyle),d.selectAll("g.trace path.js-fill").call(g.fillGroupStyle,m),p.getComponentMethod("errorbars","style")(d)},stylePoints:c,styleText:l,styleOnSelect:function(m,d,h){var u=d[0].trace;u.selectedpoints?(g.selectedPointStyle(h.selectAll("path.point"),u),g.selectedTextStyle(h.selectAll("text"),u)):(c(h,u,m),l(h,u,m))}}},{"../../components/drawing":124,"../../registry":318,"@plotly/d3":11}],383:[function(v,pe,J){"use strict";var s=v("../../lib");pe.exports={hasLines:function(g){return g.visible&&g.mode&&-1!==g.mode.indexOf("lines")},hasMarkers:function(g){return g.visible&&(g.mode&&-1!==g.mode.indexOf("markers")||"splom"===g.type)},hasText:function(g){return g.visible&&g.mode&&-1!==g.mode.indexOf("text")},isBubble:function(g){return s.isPlainObject(g.marker)&&s.isArrayOrTypedArray(g.marker.size)}}},{"../../lib":232}],384:[function(v,pe,J){"use strict";var s=v("../../lib");pe.exports=function(g,p,c,l,m){m=m||{},l("textposition"),s.coerceFont(l,"textfont",c.font),m.noSelect||(l("selected.textfont.color"),l("unselected.textfont.color"))}},{"../../lib":232}],385:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../registry");pe.exports=function(p,c,l,m){var d,h=m("x"),u=m("y");if(g.getComponentMethod("calendars","handleTraceDefaults")(p,c,["x","y"],l),h){var C=s.minRowLength(h);u?d=Math.min(C,s.minRowLength(u)):(d=C,m("y0"),m("dy"))}else{if(!u)return 0;d=s.minRowLength(u),m("x0"),m("dx")}return c._length=d,d}},{"../../lib":232,"../../registry":318}],386:[function(v,pe,J){"use strict";var s=v("../plots/cartesian/axes"),g=v("../lib"),p=v("../plot_api/plot_schema"),c=v("./helpers").pointsAccessorFunction,l=v("../constants/numerical").BADNUM;J.moduleType="transform",J.name="aggregate";var m=J.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},d=m.aggregations;function h(M,w,N,A){if(A.enabled){for(var k=A.target,H=g.nestedProperty(w,k),L=H.get(),I=function(P,S){var G=S.d2c,z=S.c2d;switch(P.func){case"count":return u;case"first":return C;case"last":return b;case"sum":return function(X,W){for(var Z=0,ne=0;ne<W.length;ne++){var te=G(X[W[ne]]);te!==l&&(Z+=te)}return z(Z)};case"avg":return function(X,W){for(var Z=0,ne=0,te=0;te<W.length;te++){var oe=G(X[W[te]]);oe!==l&&(Z+=oe,ne++)}return ne?z(Z/ne):l};case"min":return function(X,W){for(var Z=1/0,ne=0;ne<W.length;ne++){var te=G(X[W[ne]]);te!==l&&(Z=Math.min(Z,te))}return Z===1/0?l:z(Z)};case"max":return function(X,W){for(var Z=-1/0,ne=0;ne<W.length;ne++){var te=G(X[W[ne]]);te!==l&&(Z=Math.max(Z,te))}return Z===-1/0?l:z(Z)};case"range":return function(X,W){for(var Z=1/0,ne=-1/0,te=0;te<W.length;te++){var oe=G(X[W[te]]);oe!==l&&(Z=Math.min(Z,oe),ne=Math.max(ne,oe))}return ne===-1/0||Z===1/0?l:z(ne-Z)};case"change":return function(X,W){var Z=G(X[W[0]]),ne=G(X[W[W.length-1]]);return Z===l||ne===l?l:z(ne-Z)};case"median":return function(X,W){for(var Z=[],ne=0;ne<W.length;ne++){var te=G(X[W[ne]]);te!==l&&Z.push(te)}if(!Z.length)return l;Z.sort(g.sorterAsc);var oe=(Z.length-1)/2;return z((Z[Math.floor(oe)]+Z[Math.ceil(oe)])/2)};case"mode":return function(X,W){for(var Z={},ne=0,te=l,oe=0;oe<W.length;oe++){var Ce=G(X[W[oe]]);if(Ce!==l){var ie=Z[Ce]=(Z[Ce]||0)+1;ie>ne&&(ne=ie,te=Ce)}}return ne?z(te):l};case"rms":return function(X,W){for(var Z=0,ne=0,te=0;te<W.length;te++){var oe=G(X[W[te]]);oe!==l&&(Z+=oe*oe,ne++)}return ne?z(Math.sqrt(Z/ne)):l};case"stddev":return function(X,W){var Z,ne=0,te=0,oe=1,Ce=l;for(Z=0;Z<W.length&&Ce===l;Z++)Ce=G(X[W[Z]]);if(Ce===l)return l;for(;Z<W.length;Z++){var ie=G(X[W[Z]]);if(ie!==l){var Q=ie-Ce;ne+=Q,te+=Q*Q,oe++}}var le="sample"===P.funcmode?oe-1:oe;return le?Math.sqrt((te-ne*ne/oe)/le):0}}}(A,s.getDataConversions(M,w,k,L)),D=new Array(N.length),E=0;E<N.length;E++)D[E]=I(L,N[E]);H.set(D),"count"===A.func&&g.pushUnique(w._arrayAttrs,k)}}function u(M,w){return w.length}function C(M,w){return M[w[0]]}function b(M,w){return M[w[w.length-1]]}J.supplyDefaults=function(M,w){var N,A={};function k(z,X){return g.coerce(M,A,m,z,X)}if(!k("enabled"))return A;var H=p.findArrayAttributes(w),L={};for(N=0;N<H.length;N++)L[H[N]]=1;var I=k("groups");if(!Array.isArray(I)){if(!L[I])return A.enabled=!1,A;L[I]=0}var D,E=M.aggregations||[],P=A.aggregations=new Array(E.length);function S(z,X){return g.coerce(E[N],D,d,z,X)}for(N=0;N<E.length;N++){D={_index:N};var R=S("target"),G=S("func");S("enabled")&&R&&(L[R]||"count"===G&&void 0===L[R])?("stddev"===G&&S("funcmode"),L[R]=0,P[N]=D):P[N]={enabled:!1,_index:N}}for(N=0;N<H.length;N++)L[H[N]]&&P.push({target:H[N],func:d.func.dflt,enabled:!0,_index:-1});return A},J.calcTransform=function(M,w,N){if(N.enabled){var A=N.groups,k=g.getTargetArray(w,{target:A});if(k){var H,L,I,E={},P={},S=[],R=c(w.transforms,N),G=k.length;for(w._length&&(G=Math.min(G,w._length)),H=0;H<G;H++)void 0===(I=E[L=k[H]])?(E[L]=S.length,S.push([H]),P[E[L]]=R(H)):(S[I].push(H),P[E[L]]=(P[E[L]]||[]).concat(R(H)));N._indexToPoints=P;var z=N.aggregations;for(H=0;H<z.length;H++)h(M,w,S,z[H]);"string"==typeof A&&h(M,w,S,{target:A,func:"first",enabled:!0}),w._length=S.length}}}},{"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plots/cartesian/axes":279,"./helpers":389}],387:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("../registry"),p=v("../plots/cartesian/axes"),c=v("./helpers").pointsAccessorFunction,l=v("../constants/filter_ops"),m=l.COMPARISON_OPS,d=l.INTERVAL_OPS,h=l.SET_OPS;J.moduleType="transform",J.name="filter",J.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(m).concat(d).concat(h),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},J.supplyDefaults=function(u){var C={};function b(N,A){return s.coerce(u,C,J.attributes,N,A)}if(b("enabled")){var M=b("target");if(s.isArrayOrTypedArray(M)&&0===M.length)return C.enabled=!1,C;b("preservegaps"),b("operation"),b("value");var w=g.getComponentMethod("calendars","handleDefaults");w(u,C,"valuecalendar",null),w(u,C,"targetcalendar",null)}return C},J.calcTransform=function(u,C,b){if(b.enabled){var M=s.getTargetArray(C,b);if(M){var w=b.target,N=M.length;C._length&&(N=Math.min(N,C._length));var A=b.targetcalendar,k=C._arrayAttrs,H=b.preservegaps;if("string"==typeof w){var L=s.nestedProperty(C,w+"calendar").get();L&&(A=L)}var I,D,E=function(W,Z,ne){var te=W.operation,oe=W.value,Ce=Array.isArray(oe);function ie($){return-1!==$.indexOf(te)}var Q,le=function($){return Z($,0,W.valuecalendar)},j=function($){return Z($,0,ne)};switch(ie(m)?Q=le(Ce?oe[0]:oe):ie(d)?Q=Ce?[le(oe[0]),le(oe[1])]:[le(oe),le(oe)]:ie(h)&&(Q=Ce?oe.map(le):[le(oe)]),te){case"=":return function($){return j($)===Q};case"!=":return function($){return j($)!==Q};case"<":return function($){return j($)<Q};case"<=":return function($){return j($)<=Q};case">":return function($){return j($)>Q};case">=":return function($){return j($)>=Q};case"[]":return function($){var se=j($);return se>=Q[0]&&se<=Q[1]};case"()":return function($){var se=j($);return se>Q[0]&&se<Q[1]};case"[)":return function($){var se=j($);return se>=Q[0]&&se<Q[1]};case"(]":return function($){var se=j($);return se>Q[0]&&se<=Q[1]};case"][":return function($){var se=j($);return se<=Q[0]||se>=Q[1]};case")(":return function($){var se=j($);return se<Q[0]||se>Q[1]};case"](":return function($){var se=j($);return se<=Q[0]||se>Q[1]};case")[":return function($){var se=j($);return se<Q[0]||se>=Q[1]};case"{}":return function($){return-1!==Q.indexOf(j($))};case"}{":return function($){return-1===Q.indexOf(j($))}}}(b,p.getDataToCoordFunc(u,C,w,M),A),P={},S={},R=0;H?(I=function(W){P[W.astr]=s.extendDeep([],W.get()),W.set(new Array(N))},D=function(W,Z){var ne=P[W.astr][Z];W.get()[Z]=ne}):(I=function(W){P[W.astr]=s.extendDeep([],W.get()),W.set([])},D=function(W,Z){var ne=P[W.astr][Z];W.get().push(ne)}),X(I);for(var G=c(C.transforms,b),z=0;z<N;z++)E(M[z])?(X(D,z),S[R++]=G(z)):H&&R++;b._indexToPoints=S,C._length=R}}function X(W,Z){for(var ne=0;ne<k.length;ne++)W(s.nestedProperty(C,k[ne]),Z)}}},{"../constants/filter_ops":210,"../lib":232,"../plots/cartesian/axes":279,"../registry":318,"./helpers":389}],388:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("../plot_api/plot_schema"),p=v("../plots/plots"),c=v("./helpers").pointsAccessorFunction;function l(m,d){var h,u,C,b,M,w,N,A,k,H,L=d.transform,I=d.transformIndex,D=m.transforms[I].groups,E=c(m.transforms,L);if(!s.isArrayOrTypedArray(D)||0===D.length)return[m];var P=s.filterUnique(D),S=new Array(P.length),R=D.length,G=g.findArrayAttributes(m),z=L.styles||[],X={};for(h=0;h<z.length;h++)X[z[h].target]=z[h].value;L.styles&&(H=s.keyedContainer(L,"styles","target","value.name"));var W={},Z={};for(h=0;h<P.length;h++){W[w=P[h]]=h,Z[w]=0,(N=S[h]=s.extendDeepNoArrays({},m))._group=w,N.transforms[I]._indexToPoints={};var ne=null;for(H&&(ne=H.get(w)),N.name=ne||""===ne?ne:s.templateString(L.nameformat,{trace:m.name,group:w}),A=N.transforms,N.transforms=[],u=0;u<A.length;u++)N.transforms[u]=s.extendDeepNoArrays({},A[u]);for(u=0;u<G.length;u++)s.nestedProperty(N,G[u]).set([])}for(C=0;C<G.length;C++){for(b=G[C],u=0,k=[];u<P.length;u++)k[u]=s.nestedProperty(S[u],b).get();for(M=s.nestedProperty(m,b).get(),u=0;u<R;u++)k[W[D[u]]].push(M[u])}for(u=0;u<R;u++)(N=S[W[D[u]]]).transforms[I]._indexToPoints[Z[D[u]]]=E(u),Z[D[u]]++;for(h=0;h<P.length;h++)w=P[h],p.clearExpandedTraceDefaultColors(N=S[h]),N=s.extendDeepNoArrays(N,X[w]||{});return S}J.moduleType="transform",J.name="groupby",J.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},J.supplyDefaults=function(m,d,h){var u,C={};function b(k,H){return s.coerce(m,C,J.attributes,k,H)}if(!b("enabled"))return C;b("groups"),b("nameformat",h._dataLength>1?"%{group} (%{trace})":"%{group}");var M=m.styles,w=C.styles=[];if(M)for(u=0;u<M.length;u++){var N=w[u]={};s.coerce(M[u],w[u],J.attributes.styles,"target");var A=s.coerce(M[u],w[u],J.attributes.styles,"value");s.isPlainObject(A)?N.value=s.extendDeep({},A):A&&delete N.value}return C},J.transform=function(m,d){var h,u,C,b=[];for(u=0;u<m.length;u++)for(h=l(m[u],d),C=0;C<h.length;C++)b.push(h[C]);return b}},{"../lib":232,"../plot_api/plot_schema":267,"../plots/plots":316,"./helpers":389}],389:[function(v,pe,J){"use strict";J.pointsAccessorFunction=function(s,g){for(var p,c,l=0;l<s.length&&(p=s[l])!==g;l++)p._indexToPoints&&!1!==p.enabled&&(c=p._indexToPoints);return c?function(m){return c[m]}:function(m){return[m]}}},{}],390:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("../plots/cartesian/axes"),p=v("./helpers").pointsAccessorFunction,c=v("../constants/numerical").BADNUM;J.moduleType="transform",J.name="sort",J.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},J.supplyDefaults=function(l){var m={};function d(h,u){return s.coerce(l,m,J.attributes,h,u)}return d("enabled")&&(d("target"),d("order")),m},J.calcTransform=function(l,m,d){if(d.enabled){var h=s.getTargetArray(m,d);if(h){var u=d.target,C=h.length;m._length&&(C=Math.min(C,m._length));var b,M,w=m._arrayAttrs,N=function(D,E,P,S){var R,G=new Array(S),z=new Array(S);for(R=0;R<S;R++)G[R]={v:E[R],i:R};for(G.sort(function(X,W){switch(X.order){case"ascending":return function(Z,ne){var te=W(Z.v),oe=W(ne.v);return te===c?1:oe===c?-1:te-oe};case"descending":return function(Z,ne){var te=W(Z.v),oe=W(ne.v);return te===c?1:oe===c?-1:oe-te}}}(D,P)),R=0;R<S;R++)z[R]=G[R].i;return z}(d,h,g.getDataToCoordFunc(l,m,u,h),C),A=p(m.transforms,d),k={};for(b=0;b<w.length;b++){var H=s.nestedProperty(m,w[b]),L=H.get(),I=new Array(C);for(M=0;M<C;M++)I[M]=L[N[M]];H.set(I)}for(M=0;M<C;M++)k[M]=A(N[M]);d._indexToPoints=k,m._length=C}}}},{"../constants/numerical":212,"../lib":232,"../plots/cartesian/axes":279,"./helpers":389}],391:[function(v,pe,J){"use strict";J.version="2.12.0"},{}]},{},[8])(8)}},Ka=>{Ka(Ka.s=217)}]);