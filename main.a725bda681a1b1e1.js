(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[179],{397:(Ha,v,pe)=>{"use strict";function J(n){return"function"==typeof n}function s(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const g=s(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function p(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class c{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const a of t)a.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(J(r))try{r()}catch(a){e=a instanceof g?a.errors:[a]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const a of i)try{d(a)}catch(o){e=e??[],o instanceof g?e=[...e,...o.errors]:e.push(o)}}if(e)throw new g(e)}}add(e){var t;if(e&&e!==this)if(this.closed)d(e);else{if(e instanceof c){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&p(t,e)}remove(e){const{_finalizers:t}=this;t&&p(t,e),e instanceof c&&e._removeParent(this)}}c.EMPTY=(()=>{const n=new c;return n.closed=!0,n})();const l=c.EMPTY;function m(n){return n instanceof c||n&&"closed"in n&&J(n.remove)&&J(n.add)&&J(n.unsubscribe)}function d(n){J(n)?n():n.unsubscribe()}const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},u={setTimeout(n,e,...t){const{delegate:r}=u;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=u;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function C(n){u.setTimeout(()=>{const{onUnhandledError:e}=h;if(!e)throw n;e(n)})}function b(){}const M=A("C",void 0,void 0);function A(n,e,t){return{kind:n,value:e,error:t}}let V=null;function L(n){if(h.useDeprecatedSynchronousErrorHandling){const e=!V;if(e&&(V={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=V;if(V=null,t)throw r}}else n()}class I extends c{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,m(e)&&e.add(this)):this.destination=X}static create(e,t,r){return new S(e,t,r)}next(e){this.isStopped?z(function N(n){return A("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?z(function w(n){return A("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?z(M,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const D=Function.prototype.bind;function E(n,e){return D.call(n,e)}class P{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){R(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){R(r)}else R(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){R(t)}}}class S extends I{constructor(e,t,r){let i;if(super(),J(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let a;this&&h.useDeprecatedNextContext?(a=Object.create(e),a.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&E(e.next,a),error:e.error&&E(e.error,a),complete:e.complete&&E(e.complete,a)}):i=e}this.destination=new P(i)}}function R(n){h.useDeprecatedSynchronousErrorHandling?function H(n){h.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=n)}(n):C(n)}function z(n,e){const{onStoppedNotification:t}=h;t&&u.setTimeout(()=>t(n,e))}const X={closed:!0,next:b,error:function G(n){throw n},complete:b},W="function"==typeof Symbol&&Symbol.observable||"@@observable";function Z(n){return n}function te(n){return 0===n.length?Z:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let oe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const a=function Q(n){return n&&n instanceof I||function ie(n){return n&&J(n.next)&&J(n.error)&&J(n.complete)}(n)&&m(n)}(t)?t:new S(t,r,i);return L(()=>{const{operator:o,source:_}=this;a.add(o?o.call(a,_):_?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Ce(r))((i,a)=>{const o=new S({next:_=>{try{t(_)}catch(k){a(k),o.unsubscribe()}},error:a,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[W](){return this}pipe(...t){return te(t)(this)}toPromise(t){return new(t=Ce(t))((r,i)=>{let a;this.subscribe(o=>a=o,o=>i(o),()=>r(a))})}}return n.create=e=>new n(e),n})();function Ce(n){var e;return null!==(e=n??h.Promise)&&void 0!==e?e:Promise}const le=s(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let j=(()=>{class n extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new $(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new le}next(t){L(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){L(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){L(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:a}=this;return r||i?l:(this.currentObservers=null,a.push(t),new c(()=>{this.currentObservers=null,p(a,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:a}=this;r?t.error(i):a&&t.complete()}asObservable(){const t=new oe;return t.source=this,t}}return n.create=(e,t)=>new $(e,t),n})();class $ extends j{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:l}}function se(n){return J(n?.lift)}function ee(n){return e=>{if(se(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function F(n,e,t,r,i){return new O(n,e,t,r,i)}class O extends I{constructor(e,t,r,i,a,o){super(e),this.onFinalize=a,this.shouldUnsubscribe=o,this._next=t?function(_){try{t(_)}catch(k){e.error(k)}}:super._next,this._error=i?function(_){try{i(_)}catch(k){e.error(k)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(_){e.error(_)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Y(n,e){return ee((t,r)=>{let i=0;t.subscribe(F(r,a=>{r.next(n.call(e,a,i++))}))})}function Se(n){return this instanceof Se?(this.v=n,this):new Se(n)}function Te(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(Be){r[Be]&&(i[Be]=function(ct){return new Promise(function(wt,Gt){a.push([Be,ct,wt,Gt])>1||_(Be,ct)})})}function _(Be,ct){try{!function k(Be){Be.value instanceof Se?Promise.resolve(Be.value.v).then(q,de):ze(a[0][2],Be)}(r[Be](ct))}catch(wt){ze(a[0][3],wt)}}function q(Be){_("next",Be)}function de(Be){_("throw",Be)}function ze(Be,ct){Be(ct),a.shift(),a.length&&_(a[0][0],a[0][1])}}function Ee(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function tt(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=n[a]&&function(o){return new Promise(function(_,k){!function i(a,o,_,k){Promise.resolve(k).then(function(q){a({value:q,done:_})},o)}(_,k,(o=n[a](o)).done,o.value)})}}}const mt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function _t(n){return J(n?.then)}function yt(n){return J(n[W])}function Ot(n){return Symbol.asyncIterator&&J(n?.[Symbol.asyncIterator])}function bt(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ue=function Fe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function gt(n){return J(n?.[Ue])}function Pt(n){return Te(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Se(t.read());if(i)return yield Se(void 0);yield yield Se(r)}}finally{t.releaseLock()}})}function Qt(n){return J(n?.getReader)}function en(n){if(n instanceof oe)return n;if(null!=n){if(yt(n))return function Xt(n){return new oe(e=>{const t=n[W]();if(J(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(mt(n))return function Wt(n){return new oe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(_t(n))return function Nt(n){return new oe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,C)})}(n);if(Ot(n))return _e(n);if(gt(n))return function ge(n){return new oe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Qt(n))return function We(n){return _e(Pt(n))}(n)}throw bt(n)}function _e(n){return new oe(e=>{(function Je(n,e){var t,r,i,a;return function Ve(n,e,t,r){return new(t||(t=Promise))(function(a,o){function _(de){try{q(r.next(de))}catch(ze){o(ze)}}function k(de){try{q(r.throw(de))}catch(ze){o(ze)}}function q(de){de.done?a(de.value):function i(a){return a instanceof t?a:new t(function(o){o(a)})}(de.value).then(_,k)}q((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Ee(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(a=t.return)&&(yield a.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ft(n,e,t,r=0,i=!1){const a=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(a),!i)return a}function et(n,e,t=1/0){return J(e)?et((r,i)=>Y((a,o)=>e(r,a,i,o))(en(n(r,i))),t):("number"==typeof e&&(t=e),ee((r,i)=>function st(n,e,t,r,i,a,o,_){const k=[];let q=0,de=0,ze=!1;const Be=()=>{ze&&!k.length&&!q&&e.complete()},ct=Gt=>q<r?wt(Gt):k.push(Gt),wt=Gt=>{a&&e.next(Gt),q++;let ln=!1;en(t(Gt,de++)).subscribe(F(e,yn=>{i?.(yn),a?ct(yn):e.next(yn)},()=>{ln=!0},void 0,()=>{if(ln)try{for(q--;k.length&&q<r;){const yn=k.shift();o?ft(e,o,()=>wt(yn)):wt(yn)}Be()}catch(yn){e.error(yn)}}))};return n.subscribe(F(e,ct,()=>{ze=!0,Be()})),()=>{_?.()}}(r,i,n,t)))}function ut(n=1/0){return et(Z,n)}const xt=new oe(n=>n.complete());function rn(n){return n&&J(n.schedule)}function Dt(n){return n[n.length-1]}function $t(n){return J(Dt(n))?n.pop():void 0}function fn(n){return rn(Dt(n))?n.pop():void 0}function Mt(n,e=0){return ee((t,r)=>{t.subscribe(F(r,i=>ft(r,n,()=>r.next(i),e),()=>ft(r,n,()=>r.complete(),e),i=>ft(r,n,()=>r.error(i),e)))})}function an(n,e=0){return ee((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Mn(n,e){if(!n)throw new Error("Iterable cannot be null");return new oe(t=>{ft(t,e,()=>{const r=n[Symbol.asyncIterator]();ft(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ln(n,e){return e?function wn(n,e){if(null!=n){if(yt(n))return function Kt(n,e){return en(n).pipe(an(e),Mt(e))}(n,e);if(mt(n))return function Jt(n,e){return new oe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(_t(n))return function Ut(n,e){return en(n).pipe(an(e),Mt(e))}(n,e);if(Ot(n))return Mn(n,e);if(gt(n))return function Ft(n,e){return new oe(t=>{let r;return ft(t,e,()=>{r=n[Ue](),ft(t,e,()=>{let i,a;try{({value:i,done:a}=r.next())}catch(o){return void t.error(o)}a?t.complete():t.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}(n,e);if(Qt(n))return function _n(n,e){return Mn(Pt(n),e)}(n,e)}throw bt(n)}(n,e):en(n)}function $n(...n){const e=fn(n),t=function At(n,e){return"number"==typeof Dt(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?en(r[0]):ut(t)(Ln(r,e)):xt}function Zt(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new S({next:()=>{r.unsubscribe(),n()}});return en(e(...t)).subscribe(r)}function It(n){for(let e in n)if(n[e]===It)return e;throw Error("Could not find renamed property on target object.")}function tn(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function pn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(pn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function cn(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Pn=It({__forward_ref__:It});function Vn(n){return n.__forward_ref__=Vn,n.toString=function(){return pn(this())},n}function vn(n){return n2(n)?n():n}function n2(n){return"function"==typeof n&&n.hasOwnProperty(Pn)&&n.__forward_ref__===Vn}function h2(n){return n&&!!n.\u0275providers}const u2="https://g.co/ng/security#xss";class qt extends Error{constructor(e,t){super(function Wn(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function Fn(n){return"string"==typeof n?n:null==n?"":String(n)}function In(n,e){throw new qt(-201,!1)}function B2(n,e){null==n&&function U2(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function On(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function r1(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ir(n){return U1(n,ws)||U1(n,D3)}function U1(n,e){return n.hasOwnProperty(e)?n[e]:null}function hl(n){return n&&(n.hasOwnProperty(Qs)||n.hasOwnProperty(Po))?n[Qs]:null}const ws=It({\u0275prov:It}),Qs=It({\u0275inj:It}),D3=It({ngInjectableDef:It}),Po=It({ngInjectorDef:It});var w2=(()=>((w2=w2||{})[w2.Default=0]="Default",w2[w2.Host=1]="Host",w2[w2.Self=2]="Self",w2[w2.SkipSelf=4]="SkipSelf",w2[w2.Optional=8]="Optional",w2))();let Y1;function Tr(n){const e=Y1;return Y1=n,e}function V4(n,e,t){const r=Ir(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&w2.Optional?null:void 0!==e?e:void In(pn(n))}const f1=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xa={},Fo="__NG_DI_FLAG__",Hi="ngTempTokenPath",k4=/\n/gm,Ka="__source";let Da;function ci(n){const e=Da;return Da=n,e}function T3(n,e=w2.Default){if(void 0===Da)throw new qt(-203,!1);return null===Da?V4(n,void 0,e):Da.get(n,e&w2.Optional?null:void 0,e)}function gn(n,e=w2.Default){return(function T4(){return Y1}()||T3)(vn(n),e)}function q2(n,e=w2.Default){return gn(n,Ss(e))}function Ss(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function A4(n){const e=[];for(let t=0;t<n.length;t++){const r=vn(n[t]);if(Array.isArray(r)){if(0===r.length)throw new qt(900,!1);let i,a=w2.Default;for(let o=0;o<r.length;o++){const _=r[o],k=e6(_);"number"==typeof k?-1===k?i=_.token:a|=k:i=_}e.push(gn(i,a))}else e.push(gn(r))}return e}function zs(n,e){return n[Fo]=e,n.prototype[Fo]=e,n}function e6(n){return n[Fo]}function Ta(n){return{toString:n}.toString()}var li=(()=>((li=li||{})[li.OnPush=0]="OnPush",li[li.Default=1]="Default",li))(),Di=(()=>{return(n=Di||(Di={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Di;var n})();const Qi={},H1=[],Ji=It({\u0275cmp:It}),Ro=It({\u0275dir:It}),N4=It({\u0275pipe:It}),V3=It({\u0275mod:It}),ea=It({\u0275fac:It}),eo=It({__NG_ELEMENT_ID__:It});let pl=0;function I2(n){return Ta(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===li.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||H1,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Di.Emulated,id:"c"+pl++,styles:n.styles||H1,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},a=n.dependencies,o=n.features;return i.inputs=no(n.inputs,r),i.outputs=no(n.outputs),o&&o.forEach(_=>_(i)),i.directiveDefs=a?()=>("function"==typeof a?a():a).map(to).filter(P4):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Jr).filter(P4):null,i})}function to(n){return N1(n)||ir(n)}function P4(n){return null!==n}function $1(n){return Ta(()=>({type:n.type,bootstrap:n.bootstrap||H1,declarations:n.declarations||H1,imports:n.imports||H1,exports:n.exports||H1,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function no(n,e){if(null==n)return Qi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),t[i]=r,e&&(e[i]=a)}return t}const p2=I2;function W1(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function N1(n){return n[Ji]||null}function ir(n){return n[Ro]||null}function Jr(n){return n[N4]||null}function Ur(n,e){const t=n[V3]||null;if(!t&&!0===e)throw new Error(`Type ${pn(n)} does not have '\u0275mod' property.`);return t}function X2(n){return Array.isArray(n)&&"object"==typeof n[1]}function Bi(n){return Array.isArray(n)&&!0===n[1]}function E3(n){return 0!=(4&n.flags)}function Qa(n){return n.componentOffset>-1}function jo(n){return 1==(1&n.flags)}function Ui(n){return null!==n.template}function R4(n){return 0!=(256&n[2])}function ts(n,e){return n.hasOwnProperty(ea)?n[ea]:null}class $4{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function _1(){return vr}function vr(n){return n.type.prototype.ngOnChanges&&(n.setInput=gl),W4}function W4(){const n=q4(this),e=n?.current;if(e){const t=n.previous;if(t===Qi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function gl(n,e,t,r){const i=this.declaredInputs[t],a=q4(n)||function F3(n,e){return n[fi]=e}(n,{previous:Qi,current:null}),o=a.current||(a.current={}),_=a.previous,k=_[i];o[i]=new $4(k&&k.currentValue,e,_===Qi),n[r]=e}_1.ngInherit=!0;const fi="__ngSimpleChanges__";function q4(n){return n[fi]||null}function or(n){for(;Array.isArray(n);)n=n[0];return n}function R3(n,e){return or(e[n])}function hi(n,e){return or(e[n.index])}function vl(n,e){return n.data[e]}function so(n,e){return n[e]}function Or(n,e){const t=e[n];return X2(t)?t:t[0]}function ns(n){return 64==(64&n[2])}function Gr(n,e){return null==e?null:n[e]}function co(n){n[18]=0}function Vr(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Bn={lFrame:zn(null),bindingsEnabled:!0};function B3(){return Bn.bindingsEnabled}function Hn(){return Bn.lFrame.lView}function t1(){return Bn.lFrame.tView}function s2(n){return Bn.lFrame.contextLView=n,n[8]}function o2(n){return Bn.lFrame.contextLView=null,n}function wr(){let n=Cl();for(;null!==n&&64===n.type;)n=n.parent;return n}function Cl(){return Bn.lFrame.currentTNode}function y(n,e){const t=Bn.lFrame;t.currentTNode=n,t.isParent=e}function T(){return Bn.lFrame.isParent}function U(){Bn.lFrame.isParent=!1}function ye(){const n=Bn.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function He(){return Bn.lFrame.bindingIndex}function De(){return Bn.lFrame.bindingIndex++}function Ne(n){const e=Bn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function vt(n,e){const t=Bn.lFrame;t.bindingIndex=t.bindingRootIndex=n,ht(e)}function ht(n){Bn.lFrame.currentDirectiveIndex=n}function lt(){return Bn.lFrame.currentQueryIndex}function Rt(n){Bn.lFrame.currentQueryIndex=n}function zt(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function pt(n,e,t){if(t&w2.SkipSelf){let i=e,a=n;for(;!(i=i.parent,null!==i||t&w2.Host||(i=zt(a),null===i||(a=a[15],10&i.type))););if(null===i)return!1;e=i,n=a}const r=Bn.lFrame=sn();return r.currentTNode=e,r.lView=n,!0}function nn(n){const e=sn(),t=n[1];Bn.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function sn(){const n=Bn.lFrame,e=null===n?null:n.child;return null===e?zn(n):e}function zn(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Tn(){const n=Bn.lFrame;return Bn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Un=Tn;function qn(){const n=Tn();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function v2(){return Bn.lFrame.selectedIndex}function C1(n){Bn.lFrame.selectedIndex=n}function F2(){const n=Bn.lFrame;return vl(n.tView,n.selectedIndex)}function V1(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const a=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:_,ngAfterViewInit:k,ngAfterViewChecked:q,ngOnDestroy:de}=a;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),_&&((n.contentHooks||(n.contentHooks=[])).push(t,_),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,_)),k&&(n.viewHooks||(n.viewHooks=[])).push(-t,k),q&&((n.viewHooks||(n.viewHooks=[])).push(t,q),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,q)),null!=de&&(n.destroyHooks||(n.destroyHooks=[])).push(t,de)}}function o1(n,e,t){nr(n,e,3,t)}function tr(n,e,t,r){(3&n[2])===t&&nr(n,e,t,r)}function _r(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function nr(n,e,t,r){const a=r??-1,o=e.length-1;let _=0;for(let k=void 0!==r?65535&n[18]:0;k<o;k++)if("number"==typeof e[k+1]){if(_=e[k],null!=r&&_>=r)break}else e[k]<0&&(n[18]+=65536),(_<a||-1==a)&&(kr(n,t,e,k),n[18]=(4294901760&n[18])+k+2),k++}function kr(n,e,t,r){const i=t[r]<0,a=t[r+1],_=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{a.call(_)}finally{}}}else try{a.call(_)}finally{}}class Cr{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function pi(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const a=t[r++],o=t[r++],_=t[r++];n.setAttribute(e,o,_,a)}else{const a=i,o=t[++r];Y4(a)?n.setProperty(e,a,o):n.setAttribute(e,a,o),r++}}return r}function uo(n){return 3===n||4===n||6===n}function Y4(n){return 64===n.charCodeAt(0)}function Z4(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||j3(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function j3(n,e,t,r,i){let a=0,o=n.length;if(-1===e)o=-1;else for(;a<n.length;){const _=n[a++];if("number"==typeof _){if(_===e){o=-1;break}if(_>e){o=a-1;break}}}for(;a<n.length;){const _=n[a];if("number"==typeof _)break;if(_===t){if(null===r)return void(null!==i&&(n[a+1]=i));if(r===n[a+1])return void(n[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==o&&(n.splice(o,0,e),a=o+1),n.splice(a++,0,t),null!==r&&n.splice(a++,0,r),null!==i&&n.splice(a++,0,i)}function u5(n){return-1!==n}function bl(n){return 32767&n}function X4(n,e){let t=function f6(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let d6=!0;function xl(n){const e=d6;return d6=n,e}let Oh=0;const va={};function K4(n,e){const t=Q4(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,wl(r.data,n),wl(e,null),wl(r.blueprint,null));const i=p6(n,e),a=n.injectorIndex;if(u5(i)){const o=bl(i),_=X4(i,e),k=_[1].data;for(let q=0;q<8;q++)e[a+q]=_[o+q]|k[o+q]}return e[a+8]=i,a}function wl(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Q4(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function p6(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=ra(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Sl(n,e,t){!function f5(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(eo)&&(r=t[eo]),null==r&&(r=t[eo]=Oh++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function h5(n,e,t){if(t&w2.Optional||void 0!==n)return n;In()}function m6(n,e,t,r){if(t&w2.Optional&&void 0===r&&(r=null),!(t&(w2.Self|w2.Host))){const i=n[9],a=Tr(void 0);try{return i?i.get(e,r,t&w2.Optional):V4(e,r,t&w2.Optional)}finally{Tr(a)}}return h5(r,0,t)}function p5(n,e,t,r=w2.Default,i){if(null!==n){if(1024&e[2]){const o=function Fh(n,e,t,r,i){let a=n,o=e;for(;null!==a&&null!==o&&1024&o[2]&&!(256&o[2]);){const _=zl(a,o,t,r|w2.Self,va);if(_!==va)return _;let k=a.parent;if(!k){const q=o[21];if(q){const de=q.get(t,va,r);if(de!==va)return de}k=ra(o),o=o[15]}a=k}return i}(n,e,t,r,va);if(o!==va)return o}const a=zl(n,e,t,r,va);if(a!==va)return a}return m6(e,t,r,i)}function zl(n,e,t,r,i){const a=function g6(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(eo)?n[eo]:void 0;return"number"==typeof e?e>=0?255&e:J4:e}(t);if("function"==typeof a){if(!pt(e,n,r))return r&w2.Host?h5(i,0,r):m6(e,t,r,i);try{const o=a(r);if(null!=o||r&w2.Optional)return o;In()}finally{Un()}}else if("number"==typeof a){let o=null,_=Q4(n,e),k=-1,q=r&w2.Host?e[16][6]:null;for((-1===_||r&w2.SkipSelf)&&(k=-1===_?p6(n,e):e[_+8],-1!==k&&g5(r,!1)?(o=e[1],_=bl(k),e=X4(k,e)):_=-1);-1!==_;){const de=e[1];if(u1(a,_,de.data)){const ze=m5(_,e,t,o,r,q);if(ze!==va)return ze}k=e[_+8],-1!==k&&g5(r,e[1].data[_+8]===q)&&u1(a,_,e)?(o=de,_=bl(k),e=X4(k,e)):_=-1}}return i}function m5(n,e,t,r,i,a){const o=e[1],_=o.data[n+8],de=G3(_,o,t,null==r?Qa(_)&&d6:r!=o&&0!=(3&_.type),i&w2.Host&&a===_);return null!==de?Yo(e,o,de,_):va}function G3(n,e,t,r,i){const a=n.providerIndexes,o=e.data,_=1048575&a,k=n.directiveStart,de=a>>20,Be=i?_+de:n.directiveEnd;for(let ct=r?_:_+de;ct<Be;ct++){const wt=o[ct];if(ct<k&&t===wt||ct>=k&&wt.type===t)return ct}if(i){const ct=o[k];if(ct&&Ui(ct)&&ct.type===t)return k}return null}function Yo(n,e,t,r){let i=n[t];const a=e.data;if(function rs(n){return n instanceof Cr}(i)){const o=i;o.resolving&&function En(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new qt(-200,`Circular dependency in DI detected for ${n}${t}`)}(function e2(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Fn(n)}(a[t]));const _=xl(o.canSeeViewProviders);o.resolving=!0;const k=o.injectImpl?Tr(o.injectImpl):null;pt(n,r,w2.Default);try{i=n[t]=o.factory(void 0,a,n,r),e.firstCreatePass&&t>=r.directiveStart&&function m1(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:a}=e.type.prototype;if(r){const o=vr(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),a&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,a),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,a))}(t,a[t],e)}finally{null!==k&&Tr(k),xl(_),o.resolving=!1,Un()}}return i}function u1(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function g5(n,e){return!(n&w2.Self||n&w2.Host&&e)}class $3{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return p5(this._tNode,this._lView,e,Ss(r),t)}}function J4(){return new $3(wr(),Hn())}function Fr(n){return Ta(()=>{const e=n.prototype.constructor,t=e[ea]||v6(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const a=i[ea]||v6(i);if(a&&a!==t)return a;i=Object.getPrototypeOf(i)}return a=>new a})}function v6(n){return n2(n)?()=>{const e=v6(vn(n));return e&&e()}:ts(n)}function ra(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const fo="__parameters__";function ia(n,e,t){return Ta(()=>{const r=function Vi(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...a){if(this instanceof i)return r.apply(this,a),this;const o=new i(...a);return _.annotation=o,_;function _(k,q,de){const ze=k.hasOwnProperty(fo)?k[fo]:Object.defineProperty(k,fo,{value:[]})[fo];for(;ze.length<=de;)ze.push(null);return(ze[de]=ze[de]||[]).push(o),k}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class c2{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=On({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ho(n,e){n.forEach(t=>Array.isArray(t)?ho(t,e):e(t))}function x5(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function tc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function W3(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function mi(n,e,t){let r=Ko(n,e);return r>=0?n[1|r]=t:(r=~r,function $h(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function po(n,e){const t=Ko(n,e);if(t>=0)return n[1|t]}function Ko(n,e){return function M5(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const a=r+(i-r>>1),o=n[a<<t];if(e===o)return a<<t;o>e?i=a:r=a+1}return~(i<<t)}(n,e,1)}const Qo=zs(ia("Inject",n=>({token:n})),-1),mo=zs(ia("Optional"),8),ac=zs(ia("SkipSelf"),4);var $i=(()=>(($i=$i||{})[$i.Important=1]="Important",$i[$i.DashCase=2]="DashCase",$i))();const w6=new Map;let Qh=0;const Vl="__ngContext__";function ei(n,e){X2(e)?(n[Vl]=e[20],function O5(n){w6.set(n[20],n)}(e)):n[Vl]=e}function D6(n,e){return undefined(n,e)}function uc(n){const e=n[3];return Bi(e)?e[3]:e}function kl(n){return T6(n[13])}function Al(n){return T6(n[4])}function T6(n){for(;null!==n&&!Bi(n);)n=n[4];return n}function Q3(n,e,t,r,i){if(null!=r){let a,o=!1;Bi(r)?a=r:X2(r)&&(o=!0,r=r[0]);const _=or(r);0===n&&null!==t?null==i?Z5(e,t,_):Is(e,t,_,i||null,!0):1===n&&null!==t?Is(e,t,_,i||null,!0):2===n?function P6(n,e,t){const r=El(n,e);r&&function p9(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,_,o):3===n&&e.destroyNode(_),null!=a&&function O6(n,e,t,r,i){const a=t[7];a!==or(t)&&Q3(e,n,r,a,i);for(let _=10;_<t.length;_++){const k=t[_];fc(k[1],k,n,e,r,a)}}(e,n,a,t,i)}}function k6(n,e,t){return n.createElement(e,t)}function $5(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Vr(i,-1)),t.splice(r,1)}function A6(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&$5(i,r),e>0&&(n[t-1][4]=r[4]);const a=tc(n,10+e);!function o9(n,e){fc(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=a[19];null!==o&&o.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function W5(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&fc(n,e,t,3,null,null),function u9(n){let e=n[13];if(!e)return Nl(n[1],n);for(;e;){let t=null;if(X2(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)X2(e)&&Nl(e[1],e),e=e[3];null===e&&(e=n),X2(e)&&Nl(e[1],e),t=e&&e[4]}e=t}}(e)}}function Nl(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function h9(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Cr)){const a=t[r+1];if(Array.isArray(a))for(let o=0;o<a.length;o+=2){const _=i[a[o]],k=a[o+1];try{k.call(_)}finally{}}else try{a.call(i)}finally{}}}}(n,e),function d9(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let a=0;a<t.length-1;a+=2)if("string"==typeof t[a]){const o=t[a+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),a+=2}else{const o=r[i=t[a+1]];t[a].call(o)}if(null!==r){for(let a=i+1;a<r.length;a++)(0,r[a])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Bi(e[3])){t!==e[3]&&$5(t,e);const r=e[19];null!==r&&r.detachView(n)}!function e9(n){w6.delete(n[20])}(e)}}function q5(n,e,t){return function Y5(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:a}=n.data[r.directiveStart+i];if(a===Di.None||a===Di.Emulated)return null}return hi(r,t)}}(n,e.parent,t)}function Is(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Z5(n,e,t){n.appendChild(e,t)}function X5(n,e,t,r,i){null!==r?Is(n,e,t,r,i):Z5(n,e,t)}function El(n,e){return n.parentNode(e)}function K5(n,e,t){return J5(n,e,t)}let Ol,J3,Fl,J5=function Q5(n,e,t){return 40&n.type?hi(n,t):null};function Pl(n,e,t,r){const i=q5(n,r,e),a=e[11],_=K5(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let k=0;k<t.length;k++)X5(a,i,t[k],_,!1);else X5(a,i,t,_,!1)}function Il(n,e){if(null!==e){const t=e.type;if(3&t)return hi(e,n);if(4&t)return E6(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Il(n,r);{const i=n[e.index];return Bi(i)?E6(-1,i):or(i)}}if(32&t)return D6(e,n)()||or(n[e.index]);{const r=tf(n,e);return null!==r?Array.isArray(r)?r[0]:Il(uc(n[16]),r):Il(n,e.next)}}return null}function tf(n,e){return null!==e?n[16][6].projection[e.projection]:null}function E6(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Il(r,i)}return e[7]}function I6(n,e,t,r,i,a,o){for(;null!=t;){const _=r[t.index],k=t.type;if(o&&0===e&&(_&&ei(or(_),r),t.flags|=2),32!=(32&t.flags))if(8&k)I6(n,e,t.child,r,i,a,!1),Q3(e,n,i,_,a);else if(32&k){const q=D6(t,r);let de;for(;de=q();)Q3(e,n,i,de,a);Q3(e,n,i,_,a)}else 16&k?nf(n,e,r,t,i,a):Q3(e,n,i,_,a);t=o?t.projectionNext:t.next}}function fc(n,e,t,r,i,a){I6(t,r,n.firstChild,e,i,a,!1)}function nf(n,e,t,r,i,a){const o=t[16],k=o[6].projection[r.projection];if(Array.isArray(k))for(let q=0;q<k.length;q++)Q3(e,n,i,k[q],a);else I6(n,e,k,o[3],i,a,!0)}function af(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function sf(n,e,t){const{mergedAttrs:r,classes:i,styles:a}=t;null!==r&&pi(n,e,r),null!==i&&af(n,e,i),null!==a&&function v9(n,e,t){n.setAttribute(e,"style",t)}(n,e,a)}function i3(n){return function F6(){if(void 0===Ol&&(Ol=null,f1.trustedTypes))try{Ol=f1.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ol}()?.createHTML(n)||n}function R6(){if(void 0===Fl&&(Fl=null,f1.trustedTypes))try{Fl=f1.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Fl}function lf(n){return R6()?.createHTML(n)||n}function ff(n){return R6()?.createScriptURL(n)||n}class a3{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${u2})`}}class M9 extends a3{getTypeName(){return"HTML"}}class w9 extends a3{getTypeName(){return"Style"}}class S9 extends a3{getTypeName(){return"Script"}}class z9 extends a3{getTypeName(){return"URL"}}class L9 extends a3{getTypeName(){return"ResourceURL"}}function sa(n){return n instanceof a3?n.changingThisBreaksApplicationSecurity:n}function as(n,e){const t=function H9(n){return n instanceof a3&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${u2})`)}return t===e}class Rl{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(i3(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class k9{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=i3(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=i3(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const N9=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Bl(n){return(n=String(n)).match(N9)?n:"unsafe:"+n}function Os(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function dc(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const mf=Os("area,br,col,hr,img,wbr"),gf=Os("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vf=Os("rp,rt"),U6=dc(mf,dc(gf,Os("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dc(vf,Os("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dc(vf,gf)),Ul=Os("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),j6=dc(Ul,Os("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Os("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_f=Os("script,style,template");class Cf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!U6.hasOwnProperty(t))return this.sanitizedSomething=!0,!_f.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const a=r.item(i),o=a.name,_=o.toLowerCase();if(!j6.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let k=a.value;Ul[_]&&(k=Bl(k)),this.buf.push(" ",o,'="',xf(k),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();U6.hasOwnProperty(t)&&!mf.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(xf(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const bf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,P9=/([^\#-~ |!])/g;function xf(n){return n.replace(/&/g,"&amp;").replace(bf,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(P9,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jl;function hc(n,e){let t=null;try{jl=jl||function pf(n){const e=new k9(n);return function A9(){try{return!!(new window.DOMParser).parseFromString(i3(""),"text/html")}catch{return!1}}()?new Rl(e):e}(n);let r=e?String(e):"";t=jl.getInertBodyElement(r);let i=5,a=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=a,a=t.innerHTML,t=jl.getInertBodyElement(r)}while(r!==a);return i3((new Cf).sanitizeChildren(e4(t)||t))}finally{if(t){const r=e4(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function e4(n){return"content"in n&&function I9(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var q1=(()=>((q1=q1||{})[q1.NONE=0]="NONE",q1[q1.HTML=1]="HTML",q1[q1.STYLE=2]="STYLE",q1[q1.SCRIPT=3]="SCRIPT",q1[q1.URL=4]="URL",q1[q1.RESOURCE_URL=5]="RESOURCE_URL",q1))();function Gl(n){const e=mc();return e?lf(e.sanitize(q1.HTML,n)||""):as(n,"HTML")?lf(sa(n)):hc(function cf(){return void 0!==J3?J3:typeof document<"u"?document:void 0}(),Fn(n))}function pc(n){const e=mc();return e?e.sanitize(q1.URL,n)||"":as(n,"URL")?sa(n):Bl(Fn(n))}function wf(n){const e=mc();if(e)return ff(e.sanitize(q1.RESOURCE_URL,n)||"");if(as(n,"ResourceURL"))return ff(sa(n));throw new qt(904,!1)}function mc(){const n=Hn();return n&&n[12]}const $l=new c2("ENVIRONMENT_INITIALIZER"),zf=new c2("INJECTOR",-1),Ca=new c2("INJECTOR_DEF_TYPES");class Lf{get(e,t=Xa){if(t===Xa){const r=new Error(`NullInjectorError: No provider for ${pn(e)}!`);throw r.name="NullInjectorError",r}return t}}function s3(...n){return{\u0275providers:n1(0,n),\u0275fromNgModule:!0}}function n1(n,...e){const t=[],r=new Set;let i;return ho(e,a=>{const o=a;vi(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&Hf(i,t),t}function Hf(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];G6(i,a=>{e.push(a)})}}function vi(n,e,t,r){if(!(n=vn(n)))return!1;let i=null,a=hl(n);const o=!a&&N1(n);if(a||o){if(o&&!o.standalone)return!1;i=n}else{const k=n.ngModule;if(a=hl(k),!a)return!1;i=k}const _=r.has(i);if(o){if(_)return!1;if(r.add(i),o.dependencies){const k="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const q of k)vi(q,e,t,r)}}else{if(!a)return!1;{if(null!=a.imports&&!_){let q;r.add(i);try{ho(a.imports,de=>{vi(de,e,t,r)&&(q||(q=[]),q.push(de))})}finally{}void 0!==q&&Hf(q,e)}if(!_){const q=ts(i)||(()=>new i);e.push({provide:i,useFactory:q,deps:H1},{provide:Ca,useValue:i,multi:!0},{provide:$l,useValue:()=>gn(i),multi:!0})}const k=a.providers;null==k||_||G6(k,de=>{e.push(de)})}}return i!==n&&void 0!==n.providers}function G6(n,e){for(let t of n)h2(t)&&(t=t.\u0275providers),Array.isArray(t)?G6(t,e):e(t)}const _o=It({provide:String,useValue:It});function $6(n){return null!==n&&"object"==typeof n&&_o in n}function o3(n){return"function"==typeof n}const gc=new c2("Set Injector scope."),Wl={},Fs={};let ql;function c3(){return void 0===ql&&(ql=new Lf),ql}class R1{}class lr extends R1{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,l3(e,o=>this.processProvider(o)),this.records.set(zf,t4(void 0,this)),i.has("environment")&&this.records.set(R1,t4(void 0,this));const a=this.records.get(gc);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(Ca.multi,H1,w2.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=ci(this),r=Tr(void 0);try{return e()}finally{ci(t),Tr(r)}}get(e,t=Xa,r=w2.Default){this.assertNotDestroyed(),r=Ss(r);const i=ci(this),a=Tr(void 0);try{if(!(r&w2.SkipSelf)){let _=this.records.get(e);if(void 0===_){const k=function kf(n){return"function"==typeof n||"object"==typeof n&&n instanceof c2}(e)&&Ir(e);_=k&&this.injectableDefInScope(k)?t4(Yl(e),Wl):null,this.records.set(e,_)}if(null!=_)return this.hydrate(e,_)}return(r&w2.Self?c3():this.parent).get(e,t=r&w2.Optional&&t===Xa?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Hi]=o[Hi]||[]).unshift(pn(e)),i)throw o;return function t6(n,e,t,r){const i=n[Hi];throw e[Ka]&&i.unshift(e[Ka]),n.message=function n6(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=pn(e);if(Array.isArray(e))i=e.map(pn).join(" -> ");else if("object"==typeof e){let a=[];for(let o in e)if(e.hasOwnProperty(o)){let _=e[o];a.push(o+":"+("string"==typeof _?JSON.stringify(_):pn(_)))}i=`{${a.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(k4,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Hi]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Tr(a),ci(i)}}resolveInjectorInitializers(){const e=ci(this),t=Tr(void 0);try{const r=this.get($l.multi,H1,w2.Self);for(const i of r)i()}finally{ci(e),Tr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(pn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qt(205,!1)}processProvider(e){let t=o3(e=vn(e))?e:vn(e&&e.provide);const r=function G9(n){return $6(n)?t4(void 0,n.useValue):t4(Vf(n),Wl)}(e);if(o3(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=t4(void 0,Wl,!0),i.factory=()=>A4(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Wl&&(t.value=Fs,t.value=t.factory()),"object"==typeof t.value&&t.value&&function W9(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=vn(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Yl(n){const e=Ir(n),t=null!==e?e.factory:ts(n);if(null!==t)return t;if(n instanceof c2)throw new qt(204,!1);if(n instanceof Function)return function j9(n){const e=n.length;if(e>0)throw W3(e,"?"),new qt(204,!1);const t=function dl(n){const e=n&&(n[ws]||n[D3]);if(e){const t=function Eo(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new qt(204,!1)}function Vf(n,e,t){let r;if(o3(n)){const i=vn(n);return ts(i)||Yl(i)}if($6(n))r=()=>vn(n.useValue);else if(function Tf(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...A4(n.deps||[]));else if(function Df(n){return!(!n||!n.useExisting)}(n))r=()=>gn(vn(n.useExisting));else{const i=vn(n&&(n.useClass||n.provide));if(!function $9(n){return!!n.deps}(n))return ts(i)||Yl(i);r=()=>new i(...A4(n.deps))}return r}function t4(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function l3(n,e){for(const t of n)Array.isArray(t)?l3(t,e):t&&h2(t)?l3(t.\u0275providers,e):e(t)}class W6{}class Af{}class n4{resolveComponentFactory(e){throw function Nf(n){const e=Error(`No component factory found for ${pn(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Co=(()=>{class n{}return n.NULL=new n4,n})();function q9(){return r4(wr(),Hn())}function r4(n,e){return new K1(hi(n,e))}let K1=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=q9,n})();function Y9(n){return n instanceof K1?n.nativeElement:n}class i4{}let Nr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function c1(){const n=Hn(),t=Or(wr().index,n);return(X2(t)?t:n)[11]}(),n})(),Ef=(()=>{class n{}return n.\u0275prov=On({token:n,providedIn:"root",factory:()=>null}),n})();class yi{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Pf=new yi("15.1.1"),q6={};function Zl(n){return n.ngOriginalError}class Rs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Zl(e);for(;t&&Zl(t);)t=Zl(t);return t||null}}function If(n){return n.ownerDocument.defaultView}function Bs(n){return n instanceof Function?n():n}function Kl(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const a=e.length;if(i+a===r||n.charCodeAt(i+a)<=32)return i}t=i+1}}const Of="ng-template";function ip(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==Kl(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Ff(n){return 4===n.type&&n.value!==Of}function Wr(n,e,t){return e===(4!==n.type||t?n.value:Of)}function Wi(n,e,t){let r=4;const i=n.attrs||[],a=function sp(n){for(let e=0;e<n.length;e++)if(uo(n[e]))return e;return n.length}(i);let o=!1;for(let _=0;_<e.length;_++){const k=e[_];if("number"!=typeof k){if(!o)if(4&r){if(r=2|1&r,""!==k&&!Wr(n,k,t)||""===k&&1===e.length){if(Pa(r))return!1;o=!0}}else{const q=8&r?k:e[++_];if(8&r&&null!==n.attrs){if(!ip(n.attrs,q,t)){if(Pa(r))return!1;o=!0}continue}const ze=ap(8&r?"class":k,i,Ff(n),t);if(-1===ze){if(Pa(r))return!1;o=!0;continue}if(""!==q){let Be;Be=ze>a?"":i[ze+1].toLowerCase();const ct=8&r?Be:null;if(ct&&-1!==Kl(ct,q,0)||2&r&&q!==Be){if(Pa(r))return!1;o=!0}}}}else{if(!o&&!Pa(r)&&!Pa(k))return!1;if(o&&Pa(k))continue;o=!1,r=k|1&r}}return Pa(r)||o}function Pa(n){return 0==(1&n)}function ap(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let a=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){let _=e[++i];for(;"string"==typeof _;)_=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function op(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function Rf(n,e,t=!1){for(let r=0;r<e.length;r++)if(Wi(n,e[r],t))return!0;return!1}function cp(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Y6(n,e){return n?":not("+e.trim()+")":e}function lp(n){let e=n[0],t=1,r=2,i="",a=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const _=n[++t];i+="["+o+(_.length>0?'="'+_+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Pa(o)&&(e+=Y6(a,i),i=""),r=o,a=a||!Pa(r);t++}return""!==i&&(e+=Y6(a,i)),e}const K2={};function je(n){Uf(t1(),Hn(),v2()+n,!1)}function Uf(n,e,t,r){if(!r)if(3==(3&e[2])){const a=n.preOrderCheckHooks;null!==a&&o1(e,a,t)}else{const a=n.preOrderHooks;null!==a&&tr(e,a,0,t)}C1(t)}function Z6(n,e=null,t=null,r){const i=X6(n,e,t,r);return i.resolveInjectorInitializers(),i}function X6(n,e=null,t=null,r,i=new Set){const a=[t||H1,s3(n)];return r=r||("object"==typeof n?void 0:pn(n)),new lr(a,e||c3(),r||null,i)}let Ai=(()=>{class n{static create(t,r){if(Array.isArray(t))return Z6({name:""},r,t,"");{const i=t.name??"";return Z6({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Xa,n.NULL=new Lf,n.\u0275prov=On({token:n,providedIn:"any",factory:()=>gn(zf)}),n.__NG_ELEMENT_ID__=-1,n})();function Tt(n,e=w2.Default){const t=Hn();return null===t?gn(n,e):p5(wr(),t,vn(n),e)}function Ni(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const a=t[r+1];if(-1!==a){const o=n.data[a];Rt(t[r]),o.contentQueries(2,e[a],a)}}}function t0(n,e,t,r,i,a,o,_,k,q,de){const ze=e.blueprint.slice();return ze[0]=i,ze[2]=76|r,(null!==de||n&&1024&n[2])&&(ze[2]|=1024),co(ze),ze[3]=ze[15]=n,ze[8]=t,ze[10]=o||n&&n[10],ze[11]=_||n&&n[11],ze[12]=k||n&&n[12]||null,ze[9]=q||n&&n[9]||null,ze[6]=a,ze[20]=function Jh(){return Qh++}(),ze[21]=de,ze[16]=2==e.type?n[16]:ze,ze}function o4(n,e,t,r,i){let a=n.data[e];if(null===a)a=function n8(n,e,t,r,i){const a=Cl(),o=T(),k=n.data[e]=function l8(n,e,t,r,i,a){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=k),null!==a&&(o?null==a.child&&null!==k.parent&&(a.child=k):null===a.next&&(a.next=k)),k}(n,e,t,r,i),function at(){return Bn.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=t,a.value=r,a.attrs=i;const o=function qo(){const n=Bn.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();a.injectorIndex=null===o?-1:o.injectorIndex}return y(a,!0),a}function f3(n,e,t,r){if(0===t)return-1;const i=e.length;for(let a=0;a<t;a++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function r8(n,e,t){nn(e);try{const r=n.viewQuery;null!==r&&V2(1,r,t);const i=n.template;null!==i&&Kf(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Ni(n,e),n.staticViewQueries&&V2(2,n.viewQuery,t);const a=n.components;null!==a&&function Vp(n,e){for(let t=0;t<e.length;t++)Sn(n,e[t])}(e,a)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,qn()}}function c4(n,e,t,r){const i=e[2];if(128!=(128&i)){nn(e);try{co(e),function Le(n){return Bn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Kf(n,e,t,2,r);const o=3==(3&i);if(o){const q=n.preOrderCheckHooks;null!==q&&o1(e,q,null)}else{const q=n.preOrderHooks;null!==q&&tr(e,q,0,null),_r(e,0)}if(function Et(n){for(let e=kl(n);null!==e;e=Al(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r];512&i[2]||Vr(i[3],1),i[2]|=512}}}(e),function St(n){for(let e=kl(n);null!==e;e=Al(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];ns(r)&&c4(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&Ni(n,e),o){const q=n.contentCheckHooks;null!==q&&o1(e,q)}else{const q=n.contentHooks;null!==q&&tr(e,q,1),_r(e,1)}!function Tp(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)C1(~i);else{const a=i,o=t[++r],_=t[++r];vt(o,a),_(2,e[a])}}}finally{C1(-1)}}(n,e);const _=n.components;null!==_&&function t8(n,e){for(let t=0;t<e.length;t++)Yt(n,e[t])}(e,_);const k=n.viewQuery;if(null!==k&&V2(2,k,r),o){const q=n.viewCheckHooks;null!==q&&o1(e,q)}else{const q=n.viewHooks;null!==q&&tr(e,q,2),_r(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Vr(e[3],-1))}finally{qn()}}}function Kf(n,e,t,r,i){const a=v2(),o=2&r;try{C1(-1),o&&e.length>22&&Uf(n,e,22,!1),t(r,i)}finally{C1(a)}}function i8(n,e,t){if(E3(e)){const i=e.directiveEnd;for(let a=e.directiveStart;a<i;a++){const o=n.data[a];o.contentQueries&&o.contentQueries(1,t[a],a)}}}function a8(n,e,t){B3()&&(function Fp(n,e,t,r){const i=t.directiveStart,a=t.directiveEnd;Qa(t)&&function f(n,e,t){const r=hi(e,n),i=o8(t),a=n[10],o=Zn(n,t0(n,i,null,t.onPush?32:16,r,e,a,a.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||K4(t,e),ei(r,e);const o=t.initialInputs;for(let _=i;_<a;_++){const k=n.data[_],q=Yo(e,n,_,t);ei(q,e),null!==o&&we(0,_-i,q,k,0,o),Ui(k)&&(Or(t.index,e)[8]=Yo(e,n,_,t))}}(n,e,t,hi(t,e)),64==(64&t.flags)&&n7(n,e,t))}function s8(n,e,t=hi){const r=e.localNames;if(null!==r){let i=e.index+1;for(let a=0;a<r.length;a+=2){const o=r[a+1],_=-1===o?t(e,n):n[o];n[i++]=_}}}function o8(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=c8(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function c8(n,e,t,r,i,a,o,_,k,q){const de=22+r,ze=de+i,Be=function kp(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:K2);return t}(de,ze),ct="function"==typeof q?q():q;return Be[1]={type:n,blueprint:Be,template:t,queries:null,viewQuery:_,declTNode:e,data:Be.slice().fill(null,de),bindingStartIndex:de,expandoStartIndex:ze,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:k,consts:ct,incompleteFirstPass:!1}}function n0(n,e,t,r){const i=S1(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&qi(n).push(r,i.length-1))}function Qf(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const a=n[i];null===r?Jf(t,e,i,a):r.hasOwnProperty(i)&&Jf(t,e,r[i],a)}return t}function Jf(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function oa(n,e,t,r,i,a,o,_){const k=hi(e,t);let de,q=e.inputs;!_&&null!=q&&(de=q[r])?(ur(n,t,de,r,i),Qa(e)&&e7(t,e.index)):3&e.type&&(r=function Ep(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,a.setProperty(k,r,i))}function e7(n,e){const t=Or(e,n);16&t[2]||(t[2]|=32)}function u8(n,e,t,r){let i=!1;if(B3()){const a=null===r?null:{"":-1},o=function Bp(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let a=0;a<t.length;a++){const o=t[a];if(Rf(e,o.selectors,!1))if(r||(r=[]),Ui(o))if(null!==o.findHostDirectiveDefs){const _=[];i=i||new Map,o.findHostDirectiveDefs(o,_,i),r.unshift(..._,o),f8(n,e,_.length)}else r.unshift(o),f8(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let _,k;null===o?_=k=null:[_,k]=o,null!==_&&(i=!0,t7(n,e,t,_,a,k)),a&&function Up(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const a=t[e[i+1]];if(null==a)throw new qt(-301,!1);r.push(e[i],a)}}}(t,r,a)}return t.mergedAttrs=Z4(t.mergedAttrs,t.attrs),i}function t7(n,e,t,r,i,a){for(let q=0;q<r.length;q++)Sl(K4(t,e),n,r[q].type);!function Gp(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let q=0;q<r.length;q++){const de=r[q];de.providersResolver&&de.providersResolver(de)}let o=!1,_=!1,k=f3(n,e,r.length,null);for(let q=0;q<r.length;q++){const de=r[q];t.mergedAttrs=Z4(t.mergedAttrs,de.hostAttrs),$p(n,t,e,k,de),jp(k,de,i),null!==de.contentQueries&&(t.flags|=4),(null!==de.hostBindings||null!==de.hostAttrs||0!==de.hostVars)&&(t.flags|=64);const ze=de.type.prototype;!o&&(ze.ngOnChanges||ze.ngOnInit||ze.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),o=!0),!_&&(ze.ngOnChanges||ze.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),_=!0),k++}!function Np(n,e,t){const i=e.directiveEnd,a=n.data,o=e.attrs,_=[];let k=null,q=null;for(let de=e.directiveStart;de<i;de++){const ze=a[de],Be=t?t.get(ze):null,wt=Be?Be.outputs:null;k=Qf(ze.inputs,de,k,Be?Be.inputs:null),q=Qf(ze.outputs,de,q,wt);const Gt=null===k||null===o||Ff(e)?null:ke(k,de,o);_.push(Gt)}null!==k&&(k.hasOwnProperty("class")&&(e.flags|=8),k.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=_,e.inputs=k,e.outputs=q}(n,t,a)}function n7(n,e,t){const r=t.directiveStart,i=t.directiveEnd,a=t.index,o=function Vt(){return Bn.lFrame.currentDirectiveIndex}();try{C1(a);for(let _=r;_<i;_++){const k=n.data[_],q=e[_];ht(_),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&Rp(k,q)}}finally{C1(-1),ht(o)}}function Rp(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function f8(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function jp(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ui(e)&&(t[""]=n)}}function $p(n,e,t,r,i){n.data[r]=i;const a=i.factory||(i.factory=ts(i.type)),o=new Cr(a,Ui(i),Tt);n.blueprint[r]=o,t[r]=o,function Ip(n,e,t,r,i){const a=i.hostBindings;if(a){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const _=~e.index;(function Op(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=_&&o.push(_),o.push(t,r,a)}}(n,e,r,f3(n,t,i.hostVars,K2),i)}function x(n,e,t,r,i,a){const o=hi(n,e);!function K(n,e,t,r,i,a,o){if(null==a)n.removeAttribute(e,i,t);else{const _=null==o?Fn(a):o(a,r||"",i);n.setAttribute(e,i,_,t)}}(e[11],o,a,n.value,t,r,i)}function we(n,e,t,r,i,a){const o=a[e];if(null!==o){const _=r.setInput;for(let k=0;k<o.length;){const q=o[k++],de=o[k++],ze=o[k++];null!==_?r.setInput(t,ze,q,de):t[de]=ze}}}function ke(n,e,t){let r=null,i=0;for(;i<t.length;){const a=t[i];if(0!==a)if(5!==a){if("number"==typeof a)break;if(n.hasOwnProperty(a)){null===r&&(r=[]);const o=n[a];for(let _=0;_<o.length;_+=2)if(o[_]===e){r.push(a,o[_+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function it(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function Yt(n,e){const t=Or(e,n);if(ns(t)){const r=t[1];48&t[2]?c4(r,t,r.template,t[8]):t[5]>0&&Cn(t)}}function Cn(n){for(let r=kl(n);null!==r;r=Al(r))for(let i=10;i<r.length;i++){const a=r[i];if(ns(a))if(512&a[2]){const o=a[1];c4(o,a,o.template,a[8])}else a[5]>0&&Cn(a)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Or(t[r],n);ns(i)&&i[5]>0&&Cn(i)}}function Sn(n,e){const t=Or(e,n),r=t[1];(function An(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),r8(r,t,t[8])}function Zn(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function m2(n){for(;n;){n[2]|=32;const e=uc(n);if(R4(n)&&!e)return n;n=e}return null}function D2(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{c4(n,e,n.template,t)}catch(o){throw r&&Yi(e,o),o}finally{i.end&&i.end()}}function V2(n,e,t){Rt(0),e(n,t)}function S1(n){return n[7]||(n[7]=[])}function qi(n){return n.cleanup||(n.cleanup=[])}function Yi(n,e){const t=n[9],r=t?t.get(Rs,null):null;r&&r.handleError(e)}function ur(n,e,t,r,i){for(let a=0;a<t.length;){const o=t[a++],_=t[a++],k=e[o],q=n.data[o];null!==q.setInput?q.setInput(k,i,r,_):k[_]=i}}function Rr(n,e,t){const r=R3(e,n);!function j5(n,e,t){n.setValue(e,t)}(n[11],r,t)}function xa(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,a=0;if(null!==e)for(let o=0;o<e.length;o++){const _=e[o];"number"==typeof _?a=_:1==a?i=cn(i,_):2==a&&(r=cn(r,_+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function yc(n,e,t,r,i=!1){for(;null!==t;){const a=e[t.index];if(null!==a&&r.push(or(a)),Bi(a))for(let _=10;_<a.length;_++){const k=a[_],q=k[1].firstChild;null!==q&&yc(k[1],k,q,r)}const o=t.type;if(8&o)yc(n,e,t.child,r);else if(32&o){const _=D6(t,e);let k;for(;k=_();)r.push(k)}else if(16&o){const _=tf(e,t);if(Array.isArray(_))r.push(..._);else{const k=uc(e[16]);yc(k[1],k,_,r,!0)}}t=i?t.projectionNext:t.next}return r}class d8{get rootNodes(){const e=this._lView,t=e[1];return yc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Bi(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(A6(e,r),tc(t,r))}this._attachedToViewContainer=!1}W5(this._lView[1],this._lView)}onDestroy(e){n0(this._lView[1],this._lView,null,e)}markForCheck(){m2(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){D2(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new qt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function l9(n,e){fc(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new qt(902,!1);this._appRef=e}}class tO extends d8{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;D2(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class hC extends Co{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=N1(e);return new h8(t,this.ngModule)}}function pC(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class rO{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Ss(r);const i=this.injector.get(e,q6,r);return i!==q6||t===q6?i:this.parentInjector.get(e,t,r)}}class h8 extends Af{get inputs(){return pC(this.componentDef.inputs)}get outputs(){return pC(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function up(n){return n.map(lp).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let a=(i=i||this.ngModule)instanceof R1?i:i?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const o=a?new rO(e,a):e,_=o.get(i4,null);if(null===_)throw new qt(407,!1);const k=o.get(Ef,null),q=_.createRenderer(null,this.componentDef),de=this.componentDef.selectors[0][0]||"div",ze=r?function Ap(n,e,t){return n.selectRootElement(e,t===Di.ShadowDom)}(q,r,this.componentDef.encapsulation):k6(q,de,function nO(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(de)),Be=this.componentDef.onPush?288:272,ct=c8(0,null,null,1,0,null,null,null,null,null),wt=t0(null,ct,null,Be,null,null,_,q,k,o,null);let Gt,ln;nn(wt);try{const yn=this.componentDef;let Nn,hn=null;yn.findHostDirectiveDefs?(Nn=[],hn=new Map,yn.findHostDirectiveDefs(yn,Nn,hn),Nn.push(yn)):Nn=[yn];const Kn=function aO(n,e){const t=n[1];return n[22]=e,o4(t,22,2,"#host",null)}(wt,ze),Z2=function sO(n,e,t,r,i,a,o,_){const k=i[1];!function oO(n,e,t,r){for(const i of n)e.mergedAttrs=Z4(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(xa(e,e.mergedAttrs,!0),null!==t&&sf(r,t,e))}(r,n,e,o);const q=a.createRenderer(e,t),de=t0(i,o8(t),null,t.onPush?32:16,i[n.index],n,a,q,_||null,null,null);return k.firstCreatePass&&f8(k,n,r.length-1),Zn(i,de),i[n.index]=de}(Kn,ze,yn,Nn,wt,_,q);ln=vl(ct,22),ze&&function lO(n,e,t,r){if(r)pi(n,t,["ng-version",Pf.full]);else{const{attrs:i,classes:a}=function fp(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let a=n[r];if("string"==typeof a)2===i?""!==a&&e.push(a,n[++r]):8===i&&t.push(a);else{if(!Pa(i))break;i=a}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&pi(n,t,i),a&&a.length>0&&af(n,t,a.join(" "))}}(q,yn,ze,r),void 0!==t&&function uO(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const a=t[i];r.push(null!=a?Array.from(a):null)}}(ln,this.ngContentSelectors,t),Gt=function cO(n,e,t,r,i,a){const o=wr(),_=i[1],k=hi(o,i);t7(_,i,o,t,null,r);for(let de=0;de<t.length;de++)ei(Yo(i,_,o.directiveStart+de,o),i);n7(_,i,o),k&&ei(k,i);const q=Yo(i,_,o.directiveStart+o.componentOffset,o);if(n[8]=i[8]=q,null!==a)for(const de of a)de(q,e);return i8(_,o,n),q}(Z2,yn,Nn,hn,wt,[fO]),r8(ct,wt,null)}finally{qn()}return new iO(this.componentType,Gt,r4(ln,wt),wt,ln)}}class iO extends W6{constructor(e,t,r,i,a){super(),this.location=r,this._rootLView=i,this._tNode=a,this.instance=t,this.hostView=this.changeDetectorRef=new tO(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const a=this._rootLView;ur(a[1],a,i,e,t),e7(a,this._tNode.index)}}get injector(){return new $3(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function fO(){const n=wr();V1(Hn()[1],n)}function g1(n){let e=function mC(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Ui(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new qt(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Wp(n.inputs),o.declaredInputs=Wp(n.declaredInputs),o.outputs=Wp(n.outputs);const _=i.hostBindings;_&&mO(n,_);const k=i.viewQuery,q=i.contentQueries;if(k&&hO(n,k),q&&pO(n,q),tn(n.inputs,i.inputs),tn(n.declaredInputs,i.declaredInputs),tn(n.outputs,i.outputs),Ui(i)&&i.data.animation){const de=n.data;de.animation=(de.animation||[]).concat(i.data.animation)}}const a=i.features;if(a)for(let o=0;o<a.length;o++){const _=a[o];_&&_.ngInherit&&_(n),_===g1&&(t=!1)}}e=Object.getPrototypeOf(e)}!function dO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Z4(i.hostAttrs,t=Z4(t,i.hostAttrs))}}(r)}function Wp(n){return n===Qi?{}:n===H1?[]:n}function hO(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function pO(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,a)=>{e(r,i,a),t(r,i,a)}:e}function mO(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let r7=null;function _c(){if(!r7){const n=f1.Symbol;if(n&&n.iterator)r7=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(r7=r)}}}return r7}function i7(n){return!!qp(n)&&(Array.isArray(n)||!(n instanceof Map)&&_c()in n)}function qp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function bo(n,e,t){return n[e]=t}function Zi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Cc(n,e,t,r){const i=Zi(n,e,t);return Zi(n,e+1,r)||i}function ss(n,e,t,r,i,a){const o=Cc(n,e,t,r);return Cc(n,e+2,i,a)||o}function Ia(n,e,t,r){const i=Hn();return Zi(i,De(),e)&&(t1(),x(F2(),i,n,e,t,r)),Ia}function a0(n,e,t,r){return Zi(n,De(),t)?e+Fn(t)+r:K2}function o0(n,e,t,r,i,a,o,_){const q=function a7(n,e,t,r,i){const a=Cc(n,e,t,r);return Zi(n,e+2,i)||a}(n,He(),t,i,o);return Ne(3),q?e+Fn(t)+r+Fn(i)+a+Fn(o)+_:K2}function kn(n,e,t,r,i,a,o,_){const k=Hn(),q=t1(),de=n+22,ze=q.firstCreatePass?function SO(n,e,t,r,i,a,o,_,k){const q=e.consts,de=o4(e,n,4,o||null,Gr(q,_));u8(e,t,de,Gr(q,k)),V1(e,de);const ze=de.tViews=c8(2,de,r,i,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,q);return null!==e.queries&&(e.queries.template(e,de),ze.queries=e.queries.embeddedTView(de)),de}(de,q,k,e,t,r,i,a,o):q.data[de];y(ze,!1);const Be=k[11].createComment("");Pl(q,k,Be,ze),ei(Be,k),Zn(k,k[de]=it(Be,k,Be,ze)),jo(ze)&&a8(q,k,ze),null!=o&&s8(k,ze,_)}function Ht(n,e,t){const r=Hn();return Zi(r,De(),e)&&oa(t1(),F2(),r,n,e,r[11],t,!1),Ht}function Yp(n,e,t,r,i){const o=i?"class":"style";ur(n,t,e.inputs[o],o,r)}function Pe(n,e,t,r){const i=Hn(),a=t1(),o=22+n,_=i[11],k=i[o]=k6(_,e,function s1(){return Bn.lFrame.currentNamespace}()),q=a.firstCreatePass?function LO(n,e,t,r,i,a,o){const _=e.consts,q=o4(e,n,2,i,Gr(_,a));return u8(e,t,q,Gr(_,o)),null!==q.attrs&&xa(q,q.attrs,!1),null!==q.mergedAttrs&&xa(q,q.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,q),q}(o,a,i,0,e,t,r):a.data[o];return y(q,!0),sf(_,k,q),32!=(32&q.flags)&&Pl(a,i,k,q),0===function yl(){return Bn.lFrame.elementDepthCount}()&&ei(k,i),function Aa(){Bn.lFrame.elementDepthCount++}(),jo(q)&&(a8(a,i,q),i8(a,q,i)),null!==r&&s8(i,q),Pe}function Ge(){let n=wr();T()?U():(n=n.parent,y(n,!1));const e=n;!function u6(){Bn.lFrame.elementDepthCount--}();const t=t1();return t.firstCreatePass&&(V1(t,n),E3(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Na(n){return 0!=(8&n.flags)}(e)&&Yp(t,e,Hn(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function is(n){return 0!=(16&n.flags)}(e)&&Yp(t,e,Hn(),e.stylesWithoutHost,!1),Ge}function jn(n,e,t,r){return Pe(n,e,t,r),Ge(),jn}function fr(n,e,t){const r=Hn(),i=t1(),a=n+22,o=i.firstCreatePass?function HO(n,e,t,r,i){const a=e.consts,o=Gr(a,r),_=o4(e,n,8,"ng-container",o);return null!==o&&xa(_,o,!0),u8(e,t,_,Gr(a,i)),null!==e.queries&&e.queries.elementStart(e,_),_}(a,i,r,e,t):i.data[a];y(o,!0);const _=r[a]=r[11].createComment("");return Pl(i,r,_,o),ei(_,r),jo(o)&&(a8(i,r,o),i8(i,o,r)),null!=t&&s8(r,o),fr}function dr(){let n=wr();const e=t1();return T()?U():(n=n.parent,y(n,!1)),e.firstCreatePass&&(V1(e,n),E3(n)&&e.queries.elementEnd(n)),dr}function k1(){return Hn()}function m8(n){return!!n&&"function"==typeof n.then}const Zp=function TC(n){return!!n&&"function"==typeof n.subscribe};function xn(n,e,t,r){const i=Hn(),a=t1(),o=wr();return function kC(n,e,t,r,i,a,o){const _=jo(r),q=n.firstCreatePass&&qi(n),de=e[8],ze=S1(e);let Be=!0;if(3&r.type||o){const Gt=hi(r,e),ln=o?o(Gt):Gt,yn=ze.length,Nn=o?Kn=>o(or(Kn[r.index])):r.index;let hn=null;if(!o&&_&&(hn=function DO(n,e,t,r){const i=n.cleanup;if(null!=i)for(let a=0;a<i.length-1;a+=2){const o=i[a];if(o===t&&i[a+1]===r){const _=e[7],k=i[a+2];return _.length>k?_[k]:null}"string"==typeof o&&(a+=2)}return null}(n,e,i,r.index)),null!==hn)(hn.__ngLastListenerFn__||hn).__ngNextListenerFn__=a,hn.__ngLastListenerFn__=a,Be=!1;else{a=NC(r,e,de,a,!1);const Kn=t.listen(ln,i,a);ze.push(a,Kn),q&&q.push(i,Nn,yn,yn+1)}}else a=NC(r,e,de,a,!1);const ct=r.outputs;let wt;if(Be&&null!==ct&&(wt=ct[i])){const Gt=wt.length;if(Gt)for(let ln=0;ln<Gt;ln+=2){const Z2=e[wt[ln]][wt[ln+1]].subscribe(a),y1=ze.length;ze.push(a,Z2),q&&q.push(i,r.index,y1,-(y1+1))}}}(a,i,i[11],o,n,e,r),xn}function AC(n,e,t,r){try{return!1!==t(r)}catch(i){return Yi(n,i),!1}}function NC(n,e,t,r,i){return function a(o){if(o===Function)return r;m2(n.componentOffset>-1?Or(n.index,e):e);let k=AC(e,0,r,o),q=a.__ngNextListenerFn__;for(;q;)k=AC(e,0,q,o)&&k,q=q.__ngNextListenerFn__;return i&&!1===k&&(o.preventDefault(),o.returnValue=!1),k}}function on(n=1){return function _2(n){return(Bn.lFrame.contextLView=function Gn(n,e){for(;n>0;)e=e[15],n--;return e}(n,Bn.lFrame.contextLView))[8]}(n)}function TO(n,e){let t=null;const r=function Bf(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const a=e[i];if("*"!==a){if(null===r?Rf(n,a,!0):cp(r,a))return i}else t=i}return t}function g8(n){const e=Hn()[16][6];if(!e.projection){const r=e.projection=W3(n?n.length:1,null),i=r.slice();let a=e.child;for(;null!==a;){const o=n?TO(a,n):0;null!==o&&(i[o]?i[o].projectionNext=a:r[o]=a,i[o]=a),a=a.next}}}function bc(n,e=0,t){const r=Hn(),i=t1(),a=o4(i,22+n,16,null,t||null);null===a.projection&&(a.projection=e),U(),32!=(32&a.flags)&&function g9(n,e,t){nf(e[11],0,e,t,q5(n,t,e),K5(t.parent||e[6],t,e))}(i,r,a)}function Xp(n,e,t){return v8(n,"",e,"",t),Xp}function v8(n,e,t,r,i){const a=Hn(),o=a0(a,e,t,r);return o!==K2&&oa(t1(),F2(),a,n,o,a[11],i,!1),v8}function s7(n,e){return n<<17|e<<2}function l4(n){return n>>17&32767}function Kp(n){return 2|n}function xc(n){return(131068&n)>>2}function Qp(n,e){return-131069&n|e<<2}function Jp(n){return 1|n}function jC(n,e,t,r,i){const a=n[t+1],o=null===e;let _=r?l4(a):xc(a),k=!1;for(;0!==_&&(!1===k||o);){const de=n[_+1];PO(n[_],e)&&(k=!0,n[_+1]=r?Jp(de):Kp(de)),_=r?l4(de):xc(de)}k&&(n[t+1]=r?Kp(a):Jp(a))}function PO(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ko(n,e)>=0}const ti={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function GC(n){return n.substring(ti.key,ti.keyEnd)}function $C(n,e){const t=ti.textEnd;return t===e?-1:(e=ti.keyEnd=function RO(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,ti.key=e,t),h0(n,e,t))}function h0(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function y8(n,e,t){return Us(n,e,t,!1),y8}function k2(n,e){return Us(n,e,null,!0),k2}function Mo(n,e){for(let t=function OO(n){return function qC(n){ti.key=0,ti.keyEnd=0,ti.value=0,ti.valueEnd=0,ti.textEnd=n.length}(n),$C(n,h0(n,0,ti.textEnd))}(e);t>=0;t=$C(e,t))mi(n,GC(e),!0)}function Us(n,e,t,r){const i=Hn(),a=t1(),o=Ne(2);a.firstUpdatePass&&KC(a,n,o,r),e!==K2&&Zi(i,o,e)&&JC(a,a.data[v2()],i,i[11],n,i[o+1]=function KO(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=pn(sa(n)))),n}(e,t),r,o)}function XC(n,e){return e>=n.expandoStartIndex}function KC(n,e,t,r){const i=n.data;if(null===i[t+1]){const a=i[v2()],o=XC(n,t);tb(a,r)&&null===e&&!o&&(e=!1),e=function $O(n,e,t,r){const i=function Ct(n){const e=Bn.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let a=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=_8(t=em(null,n,e,t,r),e.attrs,r),a=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=em(i,n,e,t,r),null===a){let k=function WO(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==xc(r))return n[l4(r)]}(n,e,r);void 0!==k&&Array.isArray(k)&&(k=em(null,n,e,k[1],r),k=_8(k,e.attrs,r),function qO(n,e,t,r){n[l4(t?e.classBindings:e.styleBindings)]=r}(n,e,r,k))}else a=function YO(n,e,t){let r;const i=e.directiveEnd;for(let a=1+e.directiveStylingLast;a<i;a++)r=_8(r,n[a].hostAttrs,t);return _8(r,e.attrs,t)}(n,e,r)}return void 0!==a&&(r?e.residualClasses=a:e.residualStyles=a),t}(i,a,e,r),function NO(n,e,t,r,i,a){let o=a?e.classBindings:e.styleBindings,_=l4(o),k=xc(o);n[r]=t;let de,q=!1;if(Array.isArray(t)?(de=t[1],(null===de||Ko(t,de)>0)&&(q=!0)):de=t,i)if(0!==k){const Be=l4(n[_+1]);n[r+1]=s7(Be,_),0!==Be&&(n[Be+1]=Qp(n[Be+1],r)),n[_+1]=function kO(n,e){return 131071&n|e<<17}(n[_+1],r)}else n[r+1]=s7(_,0),0!==_&&(n[_+1]=Qp(n[_+1],r)),_=r;else n[r+1]=s7(k,0),0===_?_=r:n[k+1]=Qp(n[k+1],r),k=r;q&&(n[r+1]=Kp(n[r+1])),jC(n,de,r,!0),jC(n,de,r,!1),function EO(n,e,t,r,i){const a=i?n.residualClasses:n.residualStyles;null!=a&&"string"==typeof e&&Ko(a,e)>=0&&(t[r+1]=Jp(t[r+1]))}(e,de,n,r,a),o=s7(_,k),a?e.classBindings=o:e.styleBindings=o}(i,a,e,t,o,r)}}function em(n,e,t,r,i){let a=null;const o=t.directiveEnd;let _=t.directiveStylingLast;for(-1===_?_=t.directiveStart:_++;_<o&&(a=e[_],r=_8(r,a.hostAttrs,i),a!==n);)_++;return null!==n&&(t.directiveStylingLast=_),r}function _8(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let a=0;a<e.length;a++){const o=e[a];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),mi(n,o,!!t||e[++a]))}return void 0===n?null:n}function JC(n,e,t,r,i,a,o,_){if(!(3&e.type))return;const k=n.data,q=k[_+1],de=function AO(n){return 1==(1&n)}(q)?eb(k,e,t,i,xc(q),o):void 0;o7(de)||(o7(a)||function VO(n){return 2==(2&n)}(q)&&(a=eb(k,null,t,i,_,o)),function rf(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let a=-1===r.indexOf("-")?void 0:$i.DashCase;null==i?n.removeStyle(t,r,a):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),a|=$i.Important),n.setStyle(t,r,i,a))}}(r,o,R3(v2(),t),i,a))}function eb(n,e,t,r,i,a){const o=null===e;let _;for(;i>0;){const k=n[i],q=Array.isArray(k),de=q?k[1]:k,ze=null===de;let Be=t[i+1];Be===K2&&(Be=ze?H1:void 0);let ct=ze?po(Be,r):de===r?Be:void 0;if(q&&!o7(ct)&&(ct=po(k,r)),o7(ct)&&(_=ct,o))return _;const wt=n[i+1];i=o?l4(wt):xc(wt)}if(null!==e){let k=a?e.residualClasses:e.residualStyles;null!=k&&(_=po(k,r))}return _}function o7(n){return void 0!==n}function tb(n,e){return 0!=(n.flags&(e?8:16))}function Lt(n,e=""){const t=Hn(),r=t1(),i=n+22,a=r.firstCreatePass?o4(r,i,1,e,null):r.data[i],o=t[i]=function V6(n,e){return n.createText(e)}(t[11],e);Pl(r,t,o,a),y(a,!1)}function z1(n){return t2("",n,""),z1}function t2(n,e,t){const r=Hn(),i=a0(r,n,e,t);return i!==K2&&Rr(r,v2(),i),t2}function os(n,e,t,r,i){const a=Hn(),o=function s0(n,e,t,r,i,a){const _=Cc(n,He(),t,i);return Ne(2),_?e+Fn(t)+r+Fn(i)+a:K2}(a,n,e,t,r,i);return o!==K2&&Rr(a,v2(),o),os}function d3(n,e,t,r,i,a,o){const _=Hn(),k=o0(_,n,e,t,r,i,a,o);return k!==K2&&Rr(_,v2(),k),d3}function tm(n,e,t,r,i,a,o,_,k){const q=Hn(),de=function c0(n,e,t,r,i,a,o,_,k,q){const ze=ss(n,He(),t,i,o,k);return Ne(4),ze?e+Fn(t)+r+Fn(i)+a+Fn(o)+_+Fn(k)+q:K2}(q,n,e,t,r,i,a,o,_,k);return de!==K2&&Rr(q,v2(),de),tm}function nm(n,e,t){!function js(n,e,t,r){const i=t1(),a=Ne(2);i.firstUpdatePass&&KC(i,null,a,r);const o=Hn();if(t!==K2&&Zi(o,a,t)){const _=i.data[v2()];if(tb(_,r)&&!XC(i,a)){let k=r?_.classesWithoutHost:_.stylesWithoutHost;null!==k&&(t=cn(k,t||"")),Yp(i,_,o,t,r)}else!function XO(n,e,t,r,i,a,o,_){i===K2&&(i=H1);let k=0,q=0,de=0<i.length?i[0]:null,ze=0<a.length?a[0]:null;for(;null!==de||null!==ze;){const Be=k<i.length?i[k+1]:void 0,ct=q<a.length?a[q+1]:void 0;let Gt,wt=null;de===ze?(k+=2,q+=2,Be!==ct&&(wt=ze,Gt=ct)):null===ze||null!==de&&de<ze?(k+=2,wt=de):(q+=2,wt=ze,Gt=ct),null!==wt&&JC(n,e,t,r,wt,Gt,o,_),de=k<i.length?i[k]:null,ze=q<a.length?a[q]:null}}(i,_,o,o[11],o[a+1],o[a+1]=function ZO(n,e,t){if(null==t||""===t)return H1;const r=[],i=sa(t);if(Array.isArray(i))for(let a=0;a<i.length;a++)n(r,i[a],!0);else if("object"==typeof i)for(const a in i)i.hasOwnProperty(a)&&n(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,a)}}(mi,Mo,a0(Hn(),n,e,t),!0)}function rm(n,e,t){const r=Hn();return Zi(r,De(),e)&&oa(t1(),F2(),r,n,e,r[11],t,!0),rm}const Mc=void 0;var gF=["en",[["a","p"],["AM","PM"],Mc],[["AM","PM"],Mc,Mc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mc,"{1} 'at' {0}",Mc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mF(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let p0={};function ca(n){const e=function vF(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=yb(e);if(t)return t;const r=e.split("-")[0];if(t=yb(r),t)return t;if("en"===r)return gF;throw new qt(701,!1)}function yb(n){return n in p0||(p0[n]=f1.ng&&f1.ng.common&&f1.ng.common.locales&&f1.ng.common.locales[n]),p0[n]}var r2=(()=>((r2=r2||{})[r2.LocaleId=0]="LocaleId",r2[r2.DayPeriodsFormat=1]="DayPeriodsFormat",r2[r2.DayPeriodsStandalone=2]="DayPeriodsStandalone",r2[r2.DaysFormat=3]="DaysFormat",r2[r2.DaysStandalone=4]="DaysStandalone",r2[r2.MonthsFormat=5]="MonthsFormat",r2[r2.MonthsStandalone=6]="MonthsStandalone",r2[r2.Eras=7]="Eras",r2[r2.FirstDayOfWeek=8]="FirstDayOfWeek",r2[r2.WeekendRange=9]="WeekendRange",r2[r2.DateFormat=10]="DateFormat",r2[r2.TimeFormat=11]="TimeFormat",r2[r2.DateTimeFormat=12]="DateTimeFormat",r2[r2.NumberSymbols=13]="NumberSymbols",r2[r2.NumberFormats=14]="NumberFormats",r2[r2.CurrencyCode=15]="CurrencyCode",r2[r2.CurrencySymbol=16]="CurrencySymbol",r2[r2.CurrencyName=17]="CurrencyName",r2[r2.Currencies=18]="Currencies",r2[r2.Directionality=19]="Directionality",r2[r2.PluralCase=20]="PluralCase",r2[r2.ExtraData=21]="ExtraData",r2))();const m0="en-US";let _b=m0;function sm(n,e,t,r,i){if(n=vn(n),Array.isArray(n))for(let a=0;a<n.length;a++)sm(n[a],e,t,r,i);else{const a=t1(),o=Hn();let _=o3(n)?n:vn(n.provide),k=Vf(n);const q=wr(),de=1048575&q.providerIndexes,ze=q.directiveStart,Be=q.providerIndexes>>20;if(o3(n)||!n.multi){const ct=new Cr(k,i,Tt),wt=cm(_,e,i?de:de+Be,ze);-1===wt?(Sl(K4(q,o),a,_),om(a,n,e.length),e.push(_),q.directiveStart++,q.directiveEnd++,i&&(q.providerIndexes+=1048576),t.push(ct),o.push(ct)):(t[wt]=ct,o[wt]=ct)}else{const ct=cm(_,e,de+Be,ze),wt=cm(_,e,de,de+Be),ln=wt>=0&&t[wt];if(i&&!ln||!i&&!(ct>=0&&t[ct])){Sl(K4(q,o),a,_);const yn=function pR(n,e,t,r,i){const a=new Cr(n,t,Tt);return a.multi=[],a.index=e,a.componentProviders=0,Gb(a,i,r&&!t),a}(i?hR:dR,t.length,i,r,k);!i&&ln&&(t[wt].providerFactory=yn),om(a,n,e.length,0),e.push(_),q.directiveStart++,q.directiveEnd++,i&&(q.providerIndexes+=1048576),t.push(yn),o.push(yn)}else om(a,n,ct>-1?ct:wt,Gb(t[i?wt:ct],k,!i&&r));!i&&r&&ln&&t[wt].componentProviders++}}}function om(n,e,t,r){const i=o3(e),a=function U9(n){return!!n.useClass}(e);if(i||a){const k=(a?vn(e.useClass):e).prototype.ngOnDestroy;if(k){const q=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const de=q.indexOf(t);-1===de?q.push(t,[r,k]):q[de+1].push(r,k)}else q.push(t,k)}}}function Gb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function cm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function dR(n,e,t,r){return lm(this.multi,[])}function hR(n,e,t,r){const i=this.multi;let a;if(this.providerFactory){const o=this.providerFactory.componentProviders,_=Yo(t,t[1],this.providerFactory.index,r);a=_.slice(0,o),lm(i,a);for(let k=o;k<_.length;k++)a.push(_[k])}else a=[],lm(i,a);return a}function lm(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function hr(n,e=[]){return t=>{t.providersResolver=(r,i)=>function fR(n,e,t){const r=t1();if(r.firstCreatePass){const i=Ui(n);sm(t,r.data,r.blueprint,i,!0),sm(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class g0{}class $b{}class Wb extends g0{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hC(this);const r=Ur(e);this._bootstrapComponents=Bs(r.bootstrap),this._r3Injector=X6(e,t,[{provide:g0,useValue:this},{provide:Co,useValue:this.componentFactoryResolver}],pn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class um extends $b{constructor(e){super(),this.moduleType=e}create(e){return new Wb(this.moduleType,e)}}class gR extends g0{constructor(e,t,r){super(),this.componentFactoryResolver=new hC(this),this.instance=null;const i=new lr([...e,{provide:g0,useValue:this},{provide:Co,useValue:this.componentFactoryResolver}],t||c3(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function d7(n,e,t=null){return new gR(n,e,t).injector}let vR=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=n1(0,t.type),i=r.length>0?d7([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=On({token:n,providedIn:"environment",factory:()=>new n(gn(R1))}),n})();function fm(n){n.getStandaloneInjector=e=>e.get(vR).getOrCreateStandaloneInjector(n)}function S8(n,e,t,r){return function ex(n,e,t,r,i,a){const o=e+t;return Zi(n,o,i)?bo(n,o+1,a?r.call(a,i):r(i)):z8(n,o+1)}(Hn(),ye(),n,e,t,r)}function v0(n,e,t,r,i){return tx(Hn(),ye(),n,e,t,r,i)}function z8(n,e){const t=n[e];return t===K2?void 0:t}function tx(n,e,t,r,i,a,o){const _=e+t;return Cc(n,_,i,a)?bo(n,_+2,o?r.call(o,i,a):r(i,a)):z8(n,_+2)}function j2(n,e){const t=t1();let r;const i=n+22;t.firstCreatePass?(r=function AR(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const a=r.factory||(r.factory=ts(r.type)),o=Tr(Tt);try{const _=xl(!1),k=a();return xl(_),function zO(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,Hn(),i,k),k}finally{Tr(o)}}function G2(n,e,t,r){const i=n+22,a=Hn(),o=so(a,i);return function L8(n,e){return n[1].data[e].pure}(a,i)?tx(a,ye(),e,o.transform,t,r,o):o.transform(t,r)}function hm(n){return e=>{setTimeout(n,void 0,e)}}const v1=class OR extends j{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,a=t||(()=>null),o=r;if(e&&"object"==typeof e){const k=e;i=k.next?.bind(k),a=k.error?.bind(k),o=k.complete?.bind(k)}this.__isAsync&&(a=hm(a),i&&(i=hm(i)),o&&(o=hm(o)));const _=super.subscribe({next:i,error:a,complete:o});return e instanceof c&&e.add(_),_}};function FR(){return this._results[_c()]()}class pm{get changes(){return this._changes||(this._changes=new v1)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=_c(),r=pm.prototype;r[t]||(r[t]=FR)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function aa(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Gh(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],a=e[r];if(t&&(i=t(i),a=t(a)),a!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let cs=(()=>{class n{}return n.__NG_ELEMENT_ID__=UR,n})();const RR=cs,BR=class extends RR{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=t0(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),r8(r,i,e),new d8(i)}};function UR(){return h7(wr(),Hn())}function h7(n,e){return 4&n.type?new BR(e,n,r4(n,e)):null}let la=(()=>{class n{}return n.__NG_ELEMENT_ID__=jR,n})();function jR(){return ox(wr(),Hn())}const GR=la,ax=class extends GR{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return r4(this._hostTNode,this._hostLView)}get injector(){return new $3(this._hostTNode,this._hostLView)}get parentInjector(){const e=p6(this._hostTNode,this._hostLView);if(u5(e)){const t=X4(e,this._hostLView),r=bl(e);return new $3(t[1].data[r+8],t)}return new $3(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=sx(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,a;"number"==typeof r?i=r:null!=r&&(i=r.index,a=r.injector);const o=e.createEmbeddedView(t||{},a);return this.insert(o,i),o}createComponent(e,t,r,i,a){const o=e&&!function ec(n){return"function"==typeof n}(e);let _;if(o)_=t;else{const ze=t||{};_=ze.index,r=ze.injector,i=ze.projectableNodes,a=ze.environmentInjector||ze.ngModuleRef}const k=o?e:new h8(N1(e)),q=r||this.parentInjector;if(!a&&null==k.ngModule){const Be=(o?q:this.parentInjector).get(R1,null);Be&&(a=Be)}const de=k.create(q,i,void 0,a);return this.insert(de.hostView,_),de}insert(e,t){const r=e._lView,i=r[1];if(function Ze(n){return Bi(n[3])}(r)){const de=this.indexOf(e);if(-1!==de)this.detach(de);else{const ze=r[3],Be=new ax(ze,ze[6],ze[3]);Be.detach(Be.indexOf(e))}}const a=this._adjustIndex(t),o=this._lContainer;!function f9(n,e,t,r){const i=10+r,a=t.length;r>0&&(t[i-1][4]=e),r<a-10?(e[4]=t[i],x5(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function _a(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const _=e[19];null!==_&&_.insertView(n),e[2]|=64}(i,r,o,a);const _=E6(a,o),k=r[11],q=El(k,o[7]);return null!==q&&function c9(n,e,t,r,i,a){r[0]=i,r[6]=e,fc(n,r,t,1,i,a)}(i,o[6],k,r,q,_),e.attachToViewContainerRef(),x5(mm(o),a,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=sx(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=A6(this._lContainer,t);r&&(tc(mm(this._lContainer),t),W5(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=A6(this._lContainer,t);return r&&null!=tc(mm(this._lContainer),t)?new d8(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function sx(n){return n[8]}function mm(n){return n[8]||(n[8]=[])}function ox(n,e){let t;const r=e[n.index];if(Bi(r))t=r;else{let i;if(8&n.type)i=or(r);else{const a=e[11];i=a.createComment("");const o=hi(n,e);Is(a,El(a,o),i,function m9(n,e){return n.nextSibling(e)}(a,o),!1)}e[n.index]=t=it(r,e,i,n),Zn(e,t)}return new ax(t,n,e)}class gm{constructor(e){this.queryList=e,this.matches=null}clone(){return new gm(this.queryList)}setDirty(){this.queryList.setDirty()}}class vm{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let a=0;a<r;a++){const o=t.getByIndex(a);i.push(this.queries[o.indexInDeclarationView].clone())}return new vm(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==dx(e,t).matches&&this.queries[t].setDirty()}}class cx{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class ym{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,a=this.getByIndex(r).embeddedTView(e,i);a&&(a.indexInDeclarationView=r,null!==t?t.push(a):t=[a])}return null!==t?new ym(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class _m{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new _m(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const a=r[i];this.matchTNodeWithReadOption(e,t,$R(t,a)),this.matchTNodeWithReadOption(e,t,G3(t,e,a,!1,!1))}else r===cs?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,G3(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===K1||i===la||i===cs&&4&t.type)this.addMatch(t.index,-2);else{const a=G3(t,e,i,!1,!1);null!==a&&this.addMatch(t.index,a)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function $R(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function qR(n,e,t,r){return-1===t?function WR(n,e){return 11&n.type?r4(n,e):4&n.type?h7(n,e):null}(e,n):-2===t?function YR(n,e,t){return t===K1?r4(e,n):t===cs?h7(e,n):t===la?ox(e,n):void 0}(n,e,r):Yo(n,n[1],t,e)}function lx(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const a=n.data,o=t.matches,_=[];for(let k=0;k<o.length;k+=2){const q=o[k];_.push(q<0?null:qR(e,a[q],o[k+1],t.metadata.read))}i.matches=_}return i.matches}function Cm(n,e,t,r){const i=n.queries.getByIndex(t),a=i.matches;if(null!==a){const o=lx(n,e,i,t);for(let _=0;_<a.length;_+=2){const k=a[_];if(k>0)r.push(o[_/2]);else{const q=a[_+1],de=e[-k];for(let ze=10;ze<de.length;ze++){const Be=de[ze];Be[17]===Be[3]&&Cm(Be[1],Be,q,r)}if(null!==de[9]){const ze=de[9];for(let Be=0;Be<ze.length;Be++){const ct=ze[Be];Cm(ct[1],ct,q,r)}}}}}return r}function wo(n){const e=Hn(),t=t1(),r=lt();Rt(r+1);const i=dx(t,r);if(n.dirty&&function oo(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const a=i.crossesNgTemplate?Cm(t,e,r,[]):lx(t,e,i,r);n.reset(a,Y9),n.notifyOnChanges()}return!0}return!1}function p7(n,e,t){const r=t1();r.firstCreatePass&&(fx(r,new cx(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),ux(r,Hn(),e)}function wc(n,e,t,r){const i=t1();if(i.firstCreatePass){const a=wr();fx(i,new cx(e,t,r),a.index),function XR(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}ux(i,Hn(),t)}function So(){return function ZR(n,e){return n[19].queries[e].queryList}(Hn(),lt())}function ux(n,e,t){const r=new pm(4==(4&t));n0(n,e,r,r.destroy),null===e[19]&&(e[19]=new vm),e[19].queries.push(new gm(r))}function fx(n,e,t){null===n.queries&&(n.queries=new ym),n.queries.track(new _m(e,t))}function dx(n,e){return n.queries.getByIndex(e)}function hx(n,e){return h7(n,e)}function g7(...n){}const D8=new c2("Application Initializer");let v7=(()=>{class n{constructor(t){this.appInits=t,this.resolve=g7,this.reject=g7,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const a=this.appInits[i]();if(m8(a))t.push(a);else if(Zp(a)){const o=new Promise((_,k)=>{a.subscribe({complete:_,error:k})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(gn(D8,8))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const T8=new c2("AppId",{providedIn:"root",factory:function kx(){return`${Sm()}${Sm()}${Sm()}`}});function Sm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ax=new c2("Platform Initializer"),V8=new c2("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Nx=new c2("appBootstrapListener"),zm=new c2("AnimationModuleType");let gB=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const h3=new c2("LocaleId",{providedIn:"root",factory:()=>q2(h3,w2.Optional|w2.SkipSelf)||function vB(){return typeof $localize<"u"&&$localize.locale||m0}()});class _B{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Ex=(()=>{class n{compileModuleSync(t){return new um(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),a=Bs(Ur(t).declarations).reduce((o,_)=>{const k=N1(_);return k&&o.push(new h8(k)),o},[]);return new _B(r,a)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xB=(()=>Promise.resolve(0))();function Lm(n){typeof Zone>"u"?xB.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class P1{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new v1(!1),this.onMicrotaskEmpty=new v1(!1),this.onStable=new v1(!1),this.onError=new v1(!1),typeof Zone>"u")throw new qt(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function MB(){let n=f1.requestAnimationFrame,e=f1.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function zB(n){const e=()=>{!function SB(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(f1,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Dm(n),n.isCheckStableRunning=!0,Hm(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Dm(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,a,o,_)=>{try{return Ox(n),t.invokeTask(i,a,o,_)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||n.shouldCoalesceRunChangeDetection)&&e(),Fx(n)}},onInvoke:(t,r,i,a,o,_,k)=>{try{return Ox(n),t.invoke(i,a,o,_,k)}finally{n.shouldCoalesceRunChangeDetection&&e(),Fx(n)}},onHasTask:(t,r,i,a)=>{t.hasTask(i,a),r===i&&("microTask"==a.change?(n._hasPendingMicrotasks=a.microTask,Dm(n),Hm(n)):"macroTask"==a.change&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(t,r,i,a)=>(t.handleError(i,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!P1.isInAngularZone())throw new qt(909,!1)}static assertNotInAngularZone(){if(P1.isInAngularZone())throw new qt(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const a=this._inner,o=a.scheduleEventTask("NgZoneEvent: "+i,e,wB,g7,g7);try{return a.runTask(o,t,r)}finally{a.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const wB={};function Hm(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Dm(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Ox(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Fx(n){n._nesting--,Hm(n)}class LB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new v1,this.onMicrotaskEmpty=new v1,this.onStable=new v1,this.onError=new v1}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const Rx=new c2(""),y7=new c2("");let km,Tm=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,km||(function HB(n){km=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{P1.assertNotInAngularZone(),Lm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lm(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==a),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:a,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(gn(P1),gn(Vm),gn(y7))},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})(),Vm=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return km?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),u4=null;const Bx=new c2("AllowMultipleToken"),Am=new c2("PlatformDestroyListeners");class Ux{constructor(e,t){this.name=e,this.token=t}}function Gx(n,e,t=[]){const r=`Platform: ${e}`,i=new c2(r);return(a=[])=>{let o=Nm();if(!o||o.injector.get(Bx,!1)){const _=[...t,...a,{provide:i,useValue:!0}];n?n(_):function VB(n){if(u4&&!u4.get(Bx,!1))throw new qt(400,!1);u4=n;const e=n.get(Wx);(function jx(n){const e=n.get(Ax,null);e&&e.forEach(t=>t())})(n)}(function $x(n=[],e){return Ai.create({name:e,providers:[{provide:gc,useValue:"platform"},{provide:Am,useValue:new Set([()=>u4=null])},...n]})}(_,r))}return function AB(n){const e=Nm();if(!e)throw new qt(401,!1);return e}()}}function Nm(){return u4?.get(Wx)??null}let Wx=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Yx(n,e){let t;return t="noop"===n?new LB:("zone.js"===n?void 0:n)||new P1(e),t}(r?.ngZone,function qx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),a=[{provide:P1,useValue:i}];return i.run(()=>{const o=Ai.create({providers:a,parent:this.injector,name:t.moduleType.name}),_=t.create(o),k=_.injector.get(Rs,null);if(!k)throw new qt(402,!1);return i.runOutsideAngular(()=>{const q=i.onError.subscribe({next:de=>{k.handleError(de)}});_.onDestroy(()=>{_7(this._modules,_),q.unsubscribe()})}),function Zx(n,e,t){try{const r=t();return m8(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(k,i,()=>{const q=_.injector.get(v7);return q.runInitializers(),q.donePromise.then(()=>(function Cb(n){B2(n,"Expected localeId to be defined"),"string"==typeof n&&(_b=n.toLowerCase().replace(/_/g,"-"))}(_.injector.get(h3,m0)||m0),this._moduleDoBootstrap(_),_))})})}bootstrapModule(t,r=[]){const i=Xx({},r);return function DB(n,e,t){const r=new um(t);return Promise.resolve(r)}(0,0,t).then(a=>this.bootstrapModuleFactory(a,i))}_moduleDoBootstrap(t){const r=t.injector.get(Sc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new qt(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qt(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Am,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(gn(Ai))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Xx(n,e){return Array.isArray(e)?e.reduce(Xx,n):{...n,...e}}let Sc=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new oe(_=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{_.next(this._stable),_.complete()})}),o=new oe(_=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{P1.assertNotInAngularZone(),Lm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,_.next(!0))})})});const q=this._zone.onUnstable.subscribe(()=>{P1.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{_.next(!1)}))});return()=>{k.unsubscribe(),q.unsubscribe()}});this.isStable=$n(a,o.pipe(function Dn(n={}){const{connector:e=(()=>new j),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return a=>{let o,_,k,q=0,de=!1,ze=!1;const Be=()=>{_?.unsubscribe(),_=void 0},ct=()=>{Be(),o=k=void 0,de=ze=!1},wt=()=>{const Gt=o;ct(),Gt?.unsubscribe()};return ee((Gt,ln)=>{q++,!ze&&!de&&Be();const yn=k=k??e();ln.add(()=>{q--,0===q&&!ze&&!de&&(_=Zt(wt,i))}),yn.subscribe(ln),!o&&q>0&&(o=new S({next:Nn=>yn.next(Nn),error:Nn=>{ze=!0,Be(),_=Zt(ct,t,Nn),yn.error(Nn)},complete:()=>{de=!0,Be(),_=Zt(ct,r),yn.complete()}}),en(Gt).subscribe(o))})(a)}}()))}bootstrap(t,r){const i=t instanceof Af;if(!this._injector.get(v7).done)throw!i&&function ro(n){const e=N1(n)||ir(n)||Jr(n);return null!==e&&e.standalone}(t),new qt(405,false);let o;o=i?t:this._injector.get(Co).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const _=function TB(n){return n.isBoundToModule}(o)?void 0:this._injector.get(g0),q=o.create(Ai.NULL,[],r||o.selector,_),de=q.location.nativeElement,ze=q.injector.get(Rx,null);return ze?.registerApplication(de),q.onDestroy(()=>{this.detachView(q.hostView),_7(this.components,q),ze?.unregisterApplication(de)}),this._loadComponent(q),q}tick(){if(this._runningTick)throw new qt(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;_7(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Nx,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>_7(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new qt(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(gn(P1),gn(R1),gn(Rs))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _7(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let f4=(()=>{class n{}return n.__NG_ELEMENT_ID__=EB,n})();function EB(n){return function PB(n,e,t){if(Qa(n)&&!t){const r=Or(n.index,e);return new d8(r,r)}return 47&n.type?new d8(e[16],e):null}(wr(),Hn(),16==(16&n))}class tM{constructor(){}supports(e){return i7(e)}create(e){return new UB(e)}}const BB=(n,e)=>e;class UB{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||BB}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,a=null;for(;t||r;){const o=!r||t&&t.currentIndex<rM(r,i,a)?t:r,_=rM(o,i,a),k=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{a||(a=[]);const q=_-i,de=k-i;if(q!=de){for(let Be=0;Be<q;Be++){const ct=Be<a.length?a[Be]:a[Be]=0,wt=ct+Be;de<=wt&&wt<q&&(a[Be]=ct+1)}a[o.previousIndex]=de-q}}_!==k&&e(o,_,k)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!i7(e))throw new qt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,a,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let _=0;_<this.length;_++)a=e[_],o=this._trackByFn(_,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,_)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,_),r=!0),t=t._next}else i=0,function xO(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[_c()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,_=>{o=this._trackByFn(i,_),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,_,o,i)),Object.is(t.item,_)||this._addIdentityChange(t,_)):(t=this._mismatch(t,_,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let a;return null===e?a=this._itTail:(a=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,a,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,a,i)):e=this._addAfter(new jB(t,r),a,i),e}_verifyReinsertion(e,t,r,i){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==a?e=this._reinsertAfter(a,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,a=e._nextRemoved;return null===i?this._removalsHead=a:i._nextRemoved=a,null===a?this._removalsTail=i:a._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new nM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class jB{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class GB{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class nM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new GB,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rM(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class iM{constructor(){}supports(e){return e instanceof Map||qp(e)}create(){return new $B}}class $B{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||qp(e)))throw new qt(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const a=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,a)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const a=i._prev,o=i._next;return a&&(a._next=o),o&&(o._prev=a),i._next=null,i._prev=null,i}const r=new WB(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class WB{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aM(){return new x7([new tM])}let x7=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||aM()),deps:[[n,new ac,new mo]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new qt(901,!1)}}return n.\u0275prov=On({token:n,providedIn:"root",factory:aM}),n})();function sM(){return new k8([new iM])}let k8=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||sM()),deps:[[n,new ac,new mo]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new qt(901,!1)}}return n.\u0275prov=On({token:n,providedIn:"root",factory:sM}),n})();const ZB=Gx(null,"core",[]);let XB=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(gn(Sc))},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({}),n})();function C0(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Fm=null;function zo(){return Fm}class JB{}const j1=new c2("DocumentToken");let Rm=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:function(){return function eU(){return gn(oM)}()},providedIn:"platform"}),n})();const tU=new c2("Location Initialized");let oM=(()=>{class n extends Rm{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zo().getBaseHref(this._doc)}onPopState(t){const r=zo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=zo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){cM()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){cM()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(gn(j1))},n.\u0275prov=On({token:n,factory:function(){return function nU(){return new oM(gn(j1))}()},providedIn:"platform"}),n})();function cM(){return!!window.history.pushState}function Bm(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function lM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function m3(n){return n&&"?"!==n[0]?"?"+n:n}let Lc=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:function(){return q2(fM)},providedIn:"root"}),n})();const uM=new c2("appBaseHref");let fM=(()=>{class n extends Lc{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??q2(j1).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Bm(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+m3(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const o=this.prepareExternalUrl(i+m3(a));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,a){const o=this.prepareExternalUrl(i+m3(a));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(gn(Rm),gn(uM,8))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rU=(()=>{class n extends Lc{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Bm(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let o=this.prepareExternalUrl(i+m3(a));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,a){let o=this.prepareExternalUrl(i+m3(a));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(gn(Rm),gn(uM,8))},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})(),A8=(()=>{class n{constructor(t){this._subject=new v1,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function sU(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(lM(dM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+m3(r))}normalize(t){return n.stripTrailingSlash(function aU(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,dM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m3(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m3(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=m3,n.joinWithSlash=Bm,n.stripTrailingSlash=lM,n.\u0275fac=function(t){return new(t||n)(gn(Lc))},n.\u0275prov=On({token:n,factory:function(){return function iU(){return new A8(gn(Lc))}()},providedIn:"root"}),n})();function dM(n){return n.replace(/\/index.html$/,"")}var Ma=(()=>((Ma=Ma||{})[Ma.Decimal=0]="Decimal",Ma[Ma.Percent=1]="Percent",Ma[Ma.Currency=2]="Currency",Ma[Ma.Scientific=3]="Scientific",Ma))(),Br=(()=>((Br=Br||{})[Br.Format=0]="Format",Br[Br.Standalone=1]="Standalone",Br))(),D1=(()=>((D1=D1||{})[D1.Narrow=0]="Narrow",D1[D1.Abbreviated=1]="Abbreviated",D1[D1.Wide=2]="Wide",D1[D1.Short=3]="Short",D1))(),zr=(()=>((zr=zr||{})[zr.Short=0]="Short",zr[zr.Medium=1]="Medium",zr[zr.Long=2]="Long",zr[zr.Full=3]="Full",zr))(),O2=(()=>((O2=O2||{})[O2.Decimal=0]="Decimal",O2[O2.Group=1]="Group",O2[O2.List=2]="List",O2[O2.PercentSign=3]="PercentSign",O2[O2.PlusSign=4]="PlusSign",O2[O2.MinusSign=5]="MinusSign",O2[O2.Exponential=6]="Exponential",O2[O2.SuperscriptingExponent=7]="SuperscriptingExponent",O2[O2.PerMille=8]="PerMille",O2[O2.Infinity=9]="Infinity",O2[O2.NaN=10]="NaN",O2[O2.TimeSeparator=11]="TimeSeparator",O2[O2.CurrencyDecimal=12]="CurrencyDecimal",O2[O2.CurrencyGroup=13]="CurrencyGroup",O2))();function M7(n,e){return us(ca(n)[r2.DateFormat],e)}function w7(n,e){return us(ca(n)[r2.TimeFormat],e)}function S7(n,e){return us(ca(n)[r2.DateTimeFormat],e)}function ls(n,e){const t=ca(n),r=t[r2.NumberSymbols][e];if(typeof r>"u"){if(e===O2.CurrencyDecimal)return t[r2.NumberSymbols][O2.Decimal];if(e===O2.CurrencyGroup)return t[r2.NumberSymbols][O2.Group]}return r}function pM(n){if(!n[r2.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[r2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function us(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function jm(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const _U=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,N8={},CU=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ni=(()=>((ni=ni||{})[ni.Short=0]="Short",ni[ni.ShortGMT=1]="ShortGMT",ni[ni.Long=2]="Long",ni[ni.Extended=3]="Extended",ni))(),$2=(()=>(($2=$2||{})[$2.FullYear=0]="FullYear",$2[$2.Month=1]="Month",$2[$2.Date=2]="Date",$2[$2.Hours=3]="Hours",$2[$2.Minutes=4]="Minutes",$2[$2.Seconds=5]="Seconds",$2[$2.FractionalSeconds=6]="FractionalSeconds",$2[$2.Day=7]="Day",$2))(),h1=(()=>((h1=h1||{})[h1.DayPeriods=0]="DayPeriods",h1[h1.Days=1]="Days",h1[h1.Months=2]="Months",h1[h1.Eras=3]="Eras",h1))();function bU(n,e,t,r){let i=function TU(n){if(vM(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,o=1]=n.split("-").map(_=>+_);return z7(i,a-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(_U))return function VU(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,_=Number(n[5]||0)-r,k=Number(n[6]||0),q=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,o,_,k,q),e}(r)}const e=new Date(n);if(!vM(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=g3(t,e)||e;let _,o=[];for(;e;){if(_=CU.exec(e),!_){o.push(e);break}{o=o.concat(_.slice(1));const de=o.pop();if(!de)break;e=de}}let k=i.getTimezoneOffset();r&&(k=gM(r,k),i=function DU(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function HU(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(gM(e,i)-i))}(i,r,!0));let q="";return o.forEach(de=>{const ze=function LU(n){if($m[n])return $m[n];let e;switch(n){case"G":case"GG":case"GGG":e=rr(h1.Eras,D1.Abbreviated);break;case"GGGG":e=rr(h1.Eras,D1.Wide);break;case"GGGGG":e=rr(h1.Eras,D1.Narrow);break;case"y":e=Yr($2.FullYear,1,0,!1,!0);break;case"yy":e=Yr($2.FullYear,2,0,!0,!0);break;case"yyy":e=Yr($2.FullYear,3,0,!1,!0);break;case"yyyy":e=Yr($2.FullYear,4,0,!1,!0);break;case"Y":e=T7(1);break;case"YY":e=T7(2,!0);break;case"YYY":e=T7(3);break;case"YYYY":e=T7(4);break;case"M":case"L":e=Yr($2.Month,1,1);break;case"MM":case"LL":e=Yr($2.Month,2,1);break;case"MMM":e=rr(h1.Months,D1.Abbreviated);break;case"MMMM":e=rr(h1.Months,D1.Wide);break;case"MMMMM":e=rr(h1.Months,D1.Narrow);break;case"LLL":e=rr(h1.Months,D1.Abbreviated,Br.Standalone);break;case"LLLL":e=rr(h1.Months,D1.Wide,Br.Standalone);break;case"LLLLL":e=rr(h1.Months,D1.Narrow,Br.Standalone);break;case"w":e=Gm(1);break;case"ww":e=Gm(2);break;case"W":e=Gm(1,!0);break;case"d":e=Yr($2.Date,1);break;case"dd":e=Yr($2.Date,2);break;case"c":case"cc":e=Yr($2.Day,1);break;case"ccc":e=rr(h1.Days,D1.Abbreviated,Br.Standalone);break;case"cccc":e=rr(h1.Days,D1.Wide,Br.Standalone);break;case"ccccc":e=rr(h1.Days,D1.Narrow,Br.Standalone);break;case"cccccc":e=rr(h1.Days,D1.Short,Br.Standalone);break;case"E":case"EE":case"EEE":e=rr(h1.Days,D1.Abbreviated);break;case"EEEE":e=rr(h1.Days,D1.Wide);break;case"EEEEE":e=rr(h1.Days,D1.Narrow);break;case"EEEEEE":e=rr(h1.Days,D1.Short);break;case"a":case"aa":case"aaa":e=rr(h1.DayPeriods,D1.Abbreviated);break;case"aaaa":e=rr(h1.DayPeriods,D1.Wide);break;case"aaaaa":e=rr(h1.DayPeriods,D1.Narrow);break;case"b":case"bb":case"bbb":e=rr(h1.DayPeriods,D1.Abbreviated,Br.Standalone,!0);break;case"bbbb":e=rr(h1.DayPeriods,D1.Wide,Br.Standalone,!0);break;case"bbbbb":e=rr(h1.DayPeriods,D1.Narrow,Br.Standalone,!0);break;case"B":case"BB":case"BBB":e=rr(h1.DayPeriods,D1.Abbreviated,Br.Format,!0);break;case"BBBB":e=rr(h1.DayPeriods,D1.Wide,Br.Format,!0);break;case"BBBBB":e=rr(h1.DayPeriods,D1.Narrow,Br.Format,!0);break;case"h":e=Yr($2.Hours,1,-12);break;case"hh":e=Yr($2.Hours,2,-12);break;case"H":e=Yr($2.Hours,1);break;case"HH":e=Yr($2.Hours,2);break;case"m":e=Yr($2.Minutes,1);break;case"mm":e=Yr($2.Minutes,2);break;case"s":e=Yr($2.Seconds,1);break;case"ss":e=Yr($2.Seconds,2);break;case"S":e=Yr($2.FractionalSeconds,1);break;case"SS":e=Yr($2.FractionalSeconds,2);break;case"SSS":e=Yr($2.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=H7(ni.Short);break;case"ZZZZZ":e=H7(ni.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=H7(ni.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=H7(ni.Long);break;default:return null}return $m[n]=e,e}(de);q+=ze?ze(i,t,k):"''"===de?"'":de.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),q}function z7(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function g3(n,e){const t=function oU(n){return ca(n)[r2.LocaleId]}(n);if(N8[t]=N8[t]||{},N8[t][e])return N8[t][e];let r="";switch(e){case"shortDate":r=M7(n,zr.Short);break;case"mediumDate":r=M7(n,zr.Medium);break;case"longDate":r=M7(n,zr.Long);break;case"fullDate":r=M7(n,zr.Full);break;case"shortTime":r=w7(n,zr.Short);break;case"mediumTime":r=w7(n,zr.Medium);break;case"longTime":r=w7(n,zr.Long);break;case"fullTime":r=w7(n,zr.Full);break;case"short":const i=g3(n,"shortTime"),a=g3(n,"shortDate");r=L7(S7(n,zr.Short),[i,a]);break;case"medium":const o=g3(n,"mediumTime"),_=g3(n,"mediumDate");r=L7(S7(n,zr.Medium),[o,_]);break;case"long":const k=g3(n,"longTime"),q=g3(n,"longDate");r=L7(S7(n,zr.Long),[k,q]);break;case"full":const de=g3(n,"fullTime"),ze=g3(n,"fullDate");r=L7(S7(n,zr.Full),[de,ze])}return r&&(N8[t][e]=r),r}function L7(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function $s(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),a+o}function Yr(n,e,t=0,r=!1,i=!1){return function(a,o){let _=function MU(n,e){switch(n){case $2.FullYear:return e.getFullYear();case $2.Month:return e.getMonth();case $2.Date:return e.getDate();case $2.Hours:return e.getHours();case $2.Minutes:return e.getMinutes();case $2.Seconds:return e.getSeconds();case $2.FractionalSeconds:return e.getMilliseconds();case $2.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||_>-t)&&(_+=t),n===$2.Hours)0===_&&-12===t&&(_=12);else if(n===$2.FractionalSeconds)return function xU(n,e){return $s(n,3).substring(0,e)}(_,e);const k=ls(o,O2.MinusSign);return $s(_,e,k,r,i)}}function rr(n,e,t=Br.Format,r=!1){return function(i,a){return function wU(n,e,t,r,i,a){switch(t){case h1.Months:return function uU(n,e,t){const r=ca(n),a=us([r[r2.MonthsFormat],r[r2.MonthsStandalone]],e);return us(a,t)}(e,i,r)[n.getMonth()];case h1.Days:return function lU(n,e,t){const r=ca(n),a=us([r[r2.DaysFormat],r[r2.DaysStandalone]],e);return us(a,t)}(e,i,r)[n.getDay()];case h1.DayPeriods:const o=n.getHours(),_=n.getMinutes();if(a){const q=function pU(n){const e=ca(n);return pM(e),(e[r2.ExtraData][2]||[]).map(r=>"string"==typeof r?jm(r):[jm(r[0]),jm(r[1])])}(e),de=function mU(n,e,t){const r=ca(n);pM(r);const a=us([r[r2.ExtraData][0],r[r2.ExtraData][1]],e)||[];return us(a,t)||[]}(e,i,r),ze=q.findIndex(Be=>{if(Array.isArray(Be)){const[ct,wt]=Be,Gt=o>=ct.hours&&_>=ct.minutes,ln=o<wt.hours||o===wt.hours&&_<wt.minutes;if(ct.hours<wt.hours){if(Gt&&ln)return!0}else if(Gt||ln)return!0}else if(Be.hours===o&&Be.minutes===_)return!0;return!1});if(-1!==ze)return de[ze]}return function cU(n,e,t){const r=ca(n),a=us([r[r2.DayPeriodsFormat],r[r2.DayPeriodsStandalone]],e);return us(a,t)}(e,i,r)[o<12?0:1];case h1.Eras:return function fU(n,e){return us(ca(n)[r2.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function H7(n){return function(e,t,r){const i=-1*r,a=ls(t,O2.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case ni.Short:return(i>=0?"+":"")+$s(o,2,a)+$s(Math.abs(i%60),2,a);case ni.ShortGMT:return"GMT"+(i>=0?"+":"")+$s(o,1,a);case ni.Long:return"GMT"+(i>=0?"+":"")+$s(o,2,a)+":"+$s(Math.abs(i%60),2,a);case ni.Extended:return 0===r?"Z":(i>=0?"+":"")+$s(o,2,a)+":"+$s(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function mM(n){return z7(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Gm(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+a)/7)}else{const a=mM(t),o=function zU(n){const e=z7(n,0,1).getDay();return z7(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),_=a.getTime()-o.getTime();i=1+Math.round(_/6048e5)}return $s(i,n,ls(r,O2.MinusSign))}}function T7(n,e=!1){return function(t,r){return $s(mM(t).getFullYear(),n,ls(r,O2.MinusSign),e)}}const $m={};function gM(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function vM(n){return n instanceof Date&&!isNaN(n.valueOf())}const kU=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Zm(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}const Km=/\s+/,bM=[];let Hc=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this.initialClasses=bM,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Km):bM}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Km):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Km).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(Tt(x7),Tt(k8),Tt(K1),Tt(Nr))},n.\u0275dir=p2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class $U{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let v3=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new $U(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===a?void 0:a);else if(null!==a){const _=r.get(a);r.move(_,o),wM(_,i)}});for(let i=0,a=r.length;i<a;i++){const _=r.get(i).context;_.index=i,_.count=a,_.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{wM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(Tt(la),Tt(cs),Tt(x7))},n.\u0275dir=p2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function wM(n,e){n.context.$implicit=e.item}let Zr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new qU,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){SM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){SM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(Tt(la),Tt(cs))},n.\u0275dir=p2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class qU{constructor(){this.$implicit=null,this.ngIf=null}}function SM(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${pn(e)}'.`)}function Ws(n,e){return new qt(2100,!1)}const sj=new c2("DATE_PIPE_DEFAULT_TIMEZONE"),oj=new c2("DATE_PIPE_DEFAULT_OPTIONS");let eg=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,a){if(null==t||""===t||t!=t)return null;try{return bU(t,r??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw Ws()}}}return n.\u0275fac=function(t){return new(t||n)(Tt(h3,16),Tt(sj,24),Tt(oj,24))},n.\u0275pipe=W1({name:"date",type:n,pure:!0,standalone:!0}),n})(),Oa=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function tg(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function OU(n,e,t){return function qm(n,e,t,r,i,a,o=!1){let _="",k=!1;if(isFinite(n)){let q=function RU(n){let r,i,a,o,_,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(i<0&&(i=a),i+=+e.slice(a+1),e=e.substring(0,a)):i<0&&(i=e.length),a=0;"0"===e.charAt(a);a++);if(a===(_=e.length))r=[0],i=1;else{for(_--;"0"===e.charAt(_);)_--;for(i-=a,r=[],o=0;a<=_;a++,o++)r[o]=Number(e.charAt(a))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(q=function FU(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(q));let de=e.minInt,ze=e.minFrac,Be=e.maxFrac;if(a){const Nn=a.match(kU);if(null===Nn)throw new Error(`${a} is not a valid digit info`);const hn=Nn[1],Kn=Nn[3],Z2=Nn[5];null!=hn&&(de=Zm(hn)),null!=Kn&&(ze=Zm(Kn)),null!=Z2?Be=Zm(Z2):null!=Kn&&ze>Be&&(Be=ze)}!function BU(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const a=Math.min(Math.max(e,i),t);let o=a+n.integerLen,_=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let ze=o;ze<r.length;ze++)r[ze]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=a+1),r[0]=0;for(let ze=1;ze<o;ze++)r[ze]=0}if(_>=5)if(o-1<0){for(let ze=0;ze>o;ze--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,a);i++)r.push(0);let k=0!==a;const q=e+n.integerLen,de=r.reduceRight(function(ze,Be,ct,wt){return wt[ct]=(Be+=ze)<10?Be:Be-10,k&&(0===wt[ct]&&ct>=q?wt.pop():k=!1),Be>=10?1:0},0);de&&(r.unshift(de),n.integerLen++)}(q,ze,Be);let ct=q.digits,wt=q.integerLen;const Gt=q.exponent;let ln=[];for(k=ct.every(Nn=>!Nn);wt<de;wt++)ct.unshift(0);for(;wt<0;wt++)ct.unshift(0);wt>0?ln=ct.splice(wt,ct.length):(ln=ct,ct=[0]);const yn=[];for(ct.length>=e.lgSize&&yn.unshift(ct.splice(-e.lgSize,ct.length).join(""));ct.length>e.gSize;)yn.unshift(ct.splice(-e.gSize,ct.length).join(""));ct.length&&yn.unshift(ct.join("")),_=yn.join(ls(t,r)),ln.length&&(_+=ls(t,i)+ln.join("")),Gt&&(_+=ls(t,O2.Exponential)+"+"+Gt)}else _=ls(t,O2.Infinity);return _=n<0&&!k?e.negPre+_+e.negSuf:e.posPre+_+e.posSuf,_}(n,function Ym(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],a=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],_=o[0],k=o[1]||"";t.posPre=_.substring(0,_.indexOf("#"));for(let de=0;de<k.length;de++){const ze=k.charAt(de);"0"===ze?t.minFrac=t.maxFrac=de+1:"#"===ze?t.maxFrac=de+1:t.posSuf+=ze}const q=_.split(",");if(t.gSize=q[1]?q[1].length:0,t.lgSize=q[2]||q[1]?(q[2]||q[1]).length:0,a){const de=i.length-t.posPre.length-t.posSuf.length,ze=a.indexOf("#");t.negPre=a.substring(0,ze).replace(/'/g,""),t.negSuf=a.slice(ze+de).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Um(n,e){return ca(n)[r2.NumberFormats][e]}(e,Ma.Decimal),ls(e,O2.MinusSign)),e,O2.Group,O2.Decimal,t)}(function ng(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(a){throw Ws()}}}return n.\u0275fac=function(t){return new(t||n)(Tt(h3,16))},n.\u0275pipe=W1({name:"number",type:n,pure:!0,standalone:!0}),n})();let P8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({}),n})();const HM="browser";function rg(n){return n===HM}let _j=(()=>{class n{}return n.\u0275prov=On({token:n,providedIn:"root",factory:()=>new Cj(gn(j1),window)}),n})();class Cj{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function bj(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const o=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=DM(this.window.history)||DM(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function DM(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Zj extends JB{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class sg extends Zj{static makeCurrent(){!function QB(n){Fm||(Fm=n)}(new sg)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Xj(){return O8=O8||document.querySelector("base"),O8?O8.getAttribute("href"):null}();return null==t?null:function Kj(n){A7=A7||document.createElement("a"),A7.setAttribute("href",n);const e=A7.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){O8=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function jU(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let A7,O8=null;const EM=new c2("TRANSITION_ID"),Jj=[{provide:D8,useFactory:function Qj(n,e,t){return()=>{t.get(v7).donePromise.then(()=>{const r=zo(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[EM,j1,Ai],multi:!0}];let tG=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})();const N7=new c2("EventManagerPlugins");let E7=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const o=i[a];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(gn(N7),gn(P1))},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})();class PM{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=zo().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let IM=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})(),F8=(()=>{class n extends IM{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const o=this._doc.createElement("style");o.textContent=a,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(OM),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(OM))}}return n.\u0275fac=function(t){return new(t||n)(gn(j1))},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})();function OM(n){zo().remove(n)}const og={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cg=/%COMP%/g;function lg(n,e){return e.flat(100).map(t=>t.replace(cg,n))}function BM(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let P7=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ug(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Di.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new oG(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case Di.ShadowDom:return new cG(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=lg(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(gn(E7),gn(F8),gn(T8))},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})();class ug{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(og[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(jM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(jM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=og[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=og[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&($i.DashCase|$i.Important)?e.style.setProperty(t,r,i&$i.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&$i.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,BM(r)):this.eventManager.addEventListener(e,t,BM(r))}}function jM(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class oG extends ug{constructor(e,t,r,i){super(e),this.component=r;const a=lg(i+"-"+r.id,r.styles);t.addStyles(a),this.contentAttr=function iG(n){return"_ngcontent-%COMP%".replace(cg,n)}(i+"-"+r.id),this.hostAttr=function aG(n){return"_nghost-%COMP%".replace(cg,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class cG extends ug{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=lg(i.id,i.styles);for(let o=0;o<a.length;o++){const _=document.createElement("style");_.textContent=a[o],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let lG=(()=>{class n extends PM{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(gn(j1))},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})();const GM=["alt","control","meta","shift"],uG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fG={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let dG=(()=>{class n extends PM{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),o=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zo().onAndCancel(t,a.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let o="",_=r.indexOf("code");if(_>-1&&(r.splice(_,1),o="code."),GM.forEach(q=>{const de=r.indexOf(q);de>-1&&(r.splice(de,1),o+=q+".")}),o+=a,0!=r.length||0===a.length)return null;const k={};return k.domEventName=i,k.fullKey=o,k}static matchEventFullKeyCode(t,r){let i=uG[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),GM.forEach(o=>{o!==i&&(0,fG[o])(t)&&(a+=o+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(gn(j1))},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})();const gG=Gx(ZB,"browser",[{provide:V8,useValue:HM},{provide:Ax,useValue:function hG(){sg.makeCurrent()},multi:!0},{provide:j1,useFactory:function mG(){return function x9(n){J3=n}(document),document},deps:[]}]),qM=new c2(""),YM=[{provide:y7,useClass:class eG{addToWindow(e){f1.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},f1.getAllAngularTestabilities=()=>e.getAllTestabilities(),f1.getAllAngularRootElements=()=>e.getAllRootElements(),f1.frameworkStabilizers||(f1.frameworkStabilizers=[]),f1.frameworkStabilizers.push(r=>{const i=f1.getAllAngularTestabilities();let a=i.length,o=!1;const _=function(k){o=o||k,a--,0==a&&r(o)};i.forEach(function(k){k.whenStable(_)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?zo().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Rx,useClass:Tm,deps:[P1,Vm,y7]},{provide:Tm,useClass:Tm,deps:[P1,Vm,y7]}],ZM=[{provide:gc,useValue:"root"},{provide:Rs,useFactory:function pG(){return new Rs},deps:[]},{provide:N7,useClass:lG,multi:!0,deps:[j1,P1,V8]},{provide:N7,useClass:dG,multi:!0,deps:[j1]},{provide:P7,useClass:P7,deps:[E7,F8,T8]},{provide:i4,useExisting:P7},{provide:IM,useExisting:F8},{provide:F8,useClass:F8,deps:[j1]},{provide:E7,useClass:E7,deps:[N7,P1]},{provide:class xj{},useClass:tG,deps:[]},[]];let XM=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:T8,useValue:t.appId},{provide:EM,useExisting:T8},Jj]}}}return n.\u0275fac=function(t){return new(t||n)(gn(qM,12))},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({providers:[...ZM,...YM],imports:[P8,XB]}),n})(),KM=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(gn(j1))},n.\u0275prov=On({token:n,factory:function(t){let r=null;return r=t?new t:function yG(){return new KM(gn(j1))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let ew=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:function(t){let r=null;return r=t?new(t||n):gn(tw),r},providedIn:"root"}),n})(),tw=(()=>{class n extends ew{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case q1.NONE:return r;case q1.HTML:return as(r,"HTML")?sa(r):hc(this._doc,String(r)).toString();case q1.STYLE:return as(r,"Style")?sa(r):r;case q1.SCRIPT:if(as(r,"Script"))return sa(r);throw new Error("unsafe value used in a script context");case q1.URL:return as(r,"URL")?sa(r):Bl(String(r));case q1.RESOURCE_URL:if(as(r,"ResourceURL"))return sa(r);throw new Error(`unsafe value used in a resource URL context (see ${u2})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${u2})`)}}bypassSecurityTrustHtml(t){return function df(n){return new M9(n)}(t)}bypassSecurityTrustStyle(t){return function hf(n){return new w9(n)}(t)}bypassSecurityTrustScript(t){return function D9(n){return new S9(n)}(t)}bypassSecurityTrustUrl(t){return function T9(n){return new z9(n)}(t)}bypassSecurityTrustResourceUrl(t){return function V9(n){return new L9(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(gn(j1))},n.\u0275prov=On({token:n,factory:function(t){let r=null;return r=t?new t:function SG(n){return new tw(n.get(j1))}(gn(Ai)),r},providedIn:"root"}),n})();const{isArray:zG}=Array,{getPrototypeOf:LG,prototype:HG,keys:DG}=Object;function nw(n){if(1===n.length){const e=n[0];if(zG(e))return{args:e,keys:null};if(function TG(n){return n&&"object"==typeof n&&LG(n)===HG}(e)){const t=DG(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:VG}=Array;function hg(n){return Y(e=>function kG(n,e){return VG(e)?n(...e):n(e)}(n,e))}function rw(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let iw=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(Tt(Nr),Tt(K1))},n.\u0275dir=p2({type:n}),n})(),Dc=(()=>{class n extends iw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Fr(n)))(r||n)}}(),n.\u0275dir=p2({type:n,features:[g1]}),n})();const Lo=new c2("NgValueAccessor"),EG={provide:Lo,useExisting:Vn(()=>fa),multi:!0},IG=new c2("CompositionEventMode");let fa=(()=>{class n extends iw{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function PG(){const n=zo()?zo().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(Tt(Nr),Tt(K1),Tt(IG,8))},n.\u0275dir=p2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&xn("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[hr([EG]),g1]}),n})();function h4(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function sw(n){return null!=n&&"number"==typeof n.length}const Xi=new c2("NgValidators"),p4=new c2("NgAsyncValidators"),FG=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Tc{static min(e){return ow(e)}static max(e){return cw(e)}static required(e){return lw(e)}static requiredTrue(e){return function uw(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function fw(n){return h4(n.value)||FG.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function dw(n){return e=>h4(e.value)||!sw(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function hw(n){return e=>sw(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function pw(n){if(!n)return I7;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(h4(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Cw(e)}static composeAsync(e){return bw(e)}}function ow(n){return e=>{if(h4(e.value)||h4(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function cw(n){return e=>{if(h4(e.value)||h4(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function lw(n){return h4(n.value)?{required:!0}:null}function I7(n){return null}function mw(n){return null!=n}function gw(n){return m8(n)?Ln(n):n}function vw(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function yw(n,e){return e.map(t=>t(n))}function _w(n){return n.map(e=>function RG(n){return!n.validate}(e)?e:t=>e.validate(t))}function Cw(n){if(!n)return null;const e=n.filter(mw);return 0==e.length?null:function(t){return vw(yw(t,e))}}function pg(n){return null!=n?Cw(_w(n)):null}function bw(n){if(!n)return null;const e=n.filter(mw);return 0==e.length?null:function(t){return function AG(...n){const e=$t(n),{args:t,keys:r}=nw(n),i=new oe(a=>{const{length:o}=t;if(!o)return void a.complete();const _=new Array(o);let k=o,q=o;for(let de=0;de<o;de++){let ze=!1;en(t[de]).subscribe(F(a,Be=>{ze||(ze=!0,q--),_[de]=Be},()=>k--,void 0,()=>{(!k||!ze)&&(q||a.next(r?rw(r,_):_),a.complete())}))}});return e?i.pipe(hg(e)):i}(yw(t,e).map(gw)).pipe(Y(vw))}}function mg(n){return null!=n?bw(_w(n)):null}function xw(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Mw(n){return n._rawValidators}function ww(n){return n._rawAsyncValidators}function gg(n){return n?Array.isArray(n)?n:[n]:[]}function O7(n,e){return Array.isArray(n)?n.includes(e):n===e}function Sw(n,e){const t=gg(e);return gg(n).forEach(i=>{O7(t,i)||t.push(i)}),t}function zw(n,e){return gg(e).filter(t=>!O7(n,t))}class Lw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class da extends Lw{get formDirective(){return null}get path(){return null}}class m4 extends Lw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hw{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Fa=(()=>{class n extends Hw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(Tt(m4,2))},n.\u0275dir=p2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&k2("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[g1]}),n})(),Ra=(()=>{class n extends Hw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(Tt(da,10))},n.\u0275dir=p2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&k2("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[g1]}),n})();const R8="VALID",R7="INVALID",b0="PENDING",B8="DISABLED";function Cg(n){return(B7(n)?n.validators:n)||null}function bg(n,e){return(B7(e)?e.asyncValidators:n)||null}function B7(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Tw(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new qt(1e3,"");if(!r[t])throw new qt(1001,"")}function Vw(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new qt(1002,"")})}class U7{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===R8}get invalid(){return this.status===R7}get pending(){return this.status==b0}get disabled(){return this.status===B8}get enabled(){return this.status!==B8}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Sw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Sw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zw(e,this._rawAsyncValidators))}hasValidator(e){return O7(this._rawValidators,e)}hasAsyncValidator(e){return O7(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=b0,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=B8,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=R8,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===R8||this.status===b0)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?B8:R8}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=b0,this._hasOwnPendingAsyncValidator=!0;const t=gw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new v1,this.statusChanges=new v1}_calculateStatus(){return this._allControlsDisabled()?B8:this.errors?R7:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(b0)?b0:this._anyControlsHaveStatus(R7)?R7:R8}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){B7(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function qG(n){return Array.isArray(n)?pg(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function YG(n){return Array.isArray(n)?mg(n):n||null}(this._rawAsyncValidators)}}class U8 extends U7{constructor(e,t,r){super(Cg(t),bg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Vw(this,0,e),Object.keys(e).forEach(r=>{Tw(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class kw extends U8{}const x0=new c2("CallSetDisabledState",{providedIn:"root",factory:()=>j7}),j7="always";function G7(n,e){return[...e.path,n]}function j8(n,e,t=j7){xg(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function XG(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Aw(n,e)})}(n,e),function QG(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function KG(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Aw(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ZG(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function $7(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),q7(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function W7(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xg(n,e){const t=Mw(n);null!==e.validator?n.setValidators(xw(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=ww(n);null!==e.asyncValidator?n.setAsyncValidators(xw(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();W7(e._rawValidators,i),W7(e._rawAsyncValidators,i)}function q7(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Mw(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(o=>o!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=ww(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(o=>o!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return W7(e._rawValidators,r),W7(e._rawAsyncValidators,r),t}function Aw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Pw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Iw(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const $8=class extends U7{constructor(e=null,t,r){super(Cg(t),bg(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),B7(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Iw(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Pw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Pw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Iw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Ow=(()=>{class n extends da{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return G7(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Fr(n)))(r||n)}}(),n.\u0275dir=p2({type:n,features:[g1]}),n})(),Vc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const o$={provide:Lo,useExisting:Vn(()=>Ba),multi:!0};let Ba=(()=>{class n extends Dc{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Fr(n)))(r||n)}}(),n.\u0275dir=p2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&xn("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[hr([o$]),g1]}),n})();const c$={provide:Lo,useExisting:Vn(()=>Lg),multi:!0};let Uw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({}),n})(),l$=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:Uw}),n})(),Lg=(()=>{class n extends Dc{constructor(t,r,i,a){super(t,r),this._registry=i,this._injector=a,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(m4),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(t){return new(t||n)(Tt(Nr),Tt(K1),Tt(l$),Tt(Ai))},n.\u0275dir=p2({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,r){1&t&&xn("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[hr([c$]),g1]}),n})();const Hg=new c2("NgModelWithFormControlWarning"),d$={provide:da,useExisting:Vn(()=>ha)};let ha=(()=>{class n extends da{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new v1,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(q7(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return j8(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){$7(t.control||null,t,!1),function n$(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Ew(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&($7(r||null,t),(n=>n instanceof $8)(i)&&(j8(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Nw(n,e){xg(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function JG(n,e){return q7(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xg(this.form,this),this._oldForm&&q7(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(Tt(Xi,10),Tt(p4,10),Tt(x0,8))},n.\u0275dir=p2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&xn("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[hr([d$]),g1,_1]}),n})();const h$={provide:da,useExisting:Vn(()=>W8)};let W8=(()=>{class n extends Ow{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){$w(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(Tt(da,13),Tt(Xi,10),Tt(p4,10))},n.\u0275dir=p2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[hr([h$]),g1]}),n})();const p$={provide:da,useExisting:Vn(()=>q8)};let q8=(()=>{class n extends da{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return G7(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){$w(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(Tt(da,13),Tt(Xi,10),Tt(p4,10))},n.\u0275dir=p2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[hr([p$]),g1]}),n})();function $w(n){return!(n instanceof W8||n instanceof ha||n instanceof q8)}const m$={provide:m4,useExisting:Vn(()=>wa)};let wa=(()=>{class n extends m4{set isDisabled(t){}constructor(t,r,i,a,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new v1,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Sg(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===fa?t=a:function t$(n){return Object.getPrototypeOf(n.constructor)===Dc}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){this._added||this._setUpControl(),function wg(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return G7(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(Tt(da,13),Tt(Xi,10),Tt(p4,10),Tt(Lo,10),Tt(Hg,8))},n.\u0275dir=p2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[hr([m$]),g1,_1]}),n})();function Zw(n){return"number"==typeof n?n:parseFloat(n)}let kc=(()=>{class n{constructor(){this._validator=I7}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):I7,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p2({type:n,features:[_1]}),n})();const x$={provide:Xi,useExisting:Vn(()=>Ua),multi:!0};let Ua=(()=>{class n extends kc{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>Zw(t),this.createValidator=t=>cw(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Fr(n)))(r||n)}}(),n.\u0275dir=p2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Ia("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[hr([x$]),g1]}),n})();const M$={provide:Xi,useExisting:Vn(()=>ja),multi:!0};let ja=(()=>{class n extends kc{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>Zw(t),this.createValidator=t=>ow(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Fr(n)))(r||n)}}(),n.\u0275dir=p2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Ia("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[hr([M$]),g1]}),n})();const w$={provide:Xi,useExisting:Vn(()=>Ho),multi:!0};let Ho=(()=>{class n extends kc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=C0,this.createValidator=t=>lw}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Fr(n)))(r||n)}}(),n.\u0275dir=p2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&Ia("required",r._enabled?"":null)},inputs:{required:"required"},features:[hr([w$]),g1]}),n})(),tS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({imports:[Uw]}),n})();class nS extends U7{constructor(e,t,r){super(Cg(t),bg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Vw(this,0,e),e.forEach((r,i)=>{Tw(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function rS(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let T$=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return rS(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new U8(i,a)}record(t,r=null){const i=this._reduceControls(t);return new kw(i,r)}control(t,r,i){let a={};return this.useNonNullable?(rS(r)?a=r:(a.validators=r,a.asyncValidators=i),new $8(t,{...a,nonNullable:!0})):new $8(t,r,i)}array(t,r,i){const a=t.map(o=>this._createControl(o));return new nS(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof $8||t instanceof U7?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fs=(()=>{class n extends T${group(t,r=null){return super.group(t,r)}control(t,r,i){return super.control(t,r,i)}array(t,r,i){return super.array(t,r,i)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Fr(n)))(r||n)}}(),n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:x0,useValue:t.callSetDisabledState??j7}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({imports:[tS]}),n})(),k$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Hg,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:x0,useValue:t.callSetDisabledState??j7}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({imports:[tS]}),n})();function Y7(n){return new oe(e=>{en(n()).subscribe(e)})}function M0(n,e){const t=J(n)?n:()=>n,r=i=>i.error(t());return new oe(e?i=>e.schedule(r,0,i):r)}const A$=["addListener","removeListener"],N$=["addEventListener","removeEventListener"],E$=["on","off"];function ds(n,e,t,r){if(J(t)&&(r=t,t=void 0),r)return ds(n,e,t).pipe(hg(r));const[i,a]=function O$(n){return J(n.addEventListener)&&J(n.removeEventListener)}(n)?N$.map(o=>_=>n[o](e,_,t)):function P$(n){return J(n.addListener)&&J(n.removeListener)}(n)?A$.map(iS(n,e)):function I$(n){return J(n.on)&&J(n.off)}(n)?E$.map(iS(n,e)):[];if(!i&&mt(n))return et(o=>ds(o,e,t))(en(n));if(!i)throw new TypeError("Invalid event target");return new oe(o=>{const _=(...k)=>o.next(1<k.length?k:k[0]);return i(_),()=>a(_)})}function iS(n,e){return t=>r=>n[t](e,r)}function T2(...n){return Ln(n,fn(n))}function w0(...n){return function F$(){return ut(1)}()(Ln(n,fn(n)))}const g4=new oe(b);function Ci(n,e){return ee((t,r)=>{let i=0;t.subscribe(F(r,a=>n.call(e,a,i++)&&r.next(a)))})}function Sa(n,e){return ee((t,r)=>{let i=null,a=0,o=!1;const _=()=>o&&!i&&r.complete();t.subscribe(F(r,k=>{i?.unsubscribe();let q=0;const de=a++;en(n(k,de)).subscribe(i=F(r,ze=>r.next(e?e(k,ze,de,q++):ze),()=>{i=null,_()}))},()=>{o=!0,_()}))})}function Vg(){return ee((n,e)=>{let t=null;n._refCount++;const r=F(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class kg extends oe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,se(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new c;const t=this.getSubject();e.add(this.source.subscribe(F(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=c.EMPTY)}return e}refCount(){return Vg()(this)}}const B$={connector:()=>new j};function aS(n,e=B$){const{connector:t}=e;return ee((r,i)=>{const a=t();en(n(function R$(n){return new oe(e=>n.subscribe(e))}(a))).subscribe(i),i.add(r.subscribe(a))})}function bi(n){return n<=0?()=>xt:ee((e,t)=>{let r=0;e.subscribe(F(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ei(n,e,t){const r=J(n)||e||t?{next:n,error:e,complete:t}:n;return r?ee((i,a)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let _=!0;i.subscribe(F(a,k=>{var q;null===(q=r.next)||void 0===q||q.call(r,k),a.next(k)},()=>{var k;_=!1,null===(k=r.complete)||void 0===k||k.call(r),a.complete()},k=>{var q;_=!1,null===(q=r.error)||void 0===q||q.call(r,k),a.error(k)},()=>{var k,q;_&&(null===(k=r.unsubscribe)||void 0===k||k.call(r)),null===(q=r.finalize)||void 0===q||q.call(r)}))}):Z}class G$ extends c{constructor(e,t){super()}schedule(e,t=0){return this}}const Z7={setInterval(n,e,...t){const{delegate:r}=Z7;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Z7;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Ag extends G${constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(a,this.id,t),this}requestAsyncId(e,t,r=0){return Z7.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Z7.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(a){r=!0,i=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,p(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const sS={now:()=>(sS.delegate||Date).now(),delegate:void 0};class Y8{constructor(e,t=Y8.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Y8.now=sS.now;class Ng extends Y8{constructor(e,t=Y8.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const X7=new Ng(Ag),$$=X7;function oS(n){return Y(()=>n)}function cS(n,e){return e?t=>w0(e.pipe(bi(1),function W$(){return ee((n,e)=>{n.subscribe(F(e,b))})}()),t.pipe(cS(n))):et((t,r)=>en(n(t,r)).pipe(bi(1),oS(t)))}function lS(n=0,e,t=$$){let r=-1;return null!=e&&(rn(e)?t=e:r=e),new oe(i=>{let a=function q$(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},a)})}const Z8="Service workers are disabled or not supported by this browser";class K7{constructor(e){if(this.serviceWorker=e,e){const r=ds(e,"controllerchange").pipe(Y(()=>e.controller)),a=w0(Y7(()=>T2(e.controller)),r);this.worker=a.pipe(Ci(de=>!!de)),this.registration=this.worker.pipe(Sa(()=>e.getRegistration()));const q=ds(e,"message").pipe(Y(de=>de.data)).pipe(Ci(de=>de&&de.type)).pipe(function j$(n){return n?e=>aS(n)(e):e=>function U$(n,e){const t=J(n)?n:()=>n;return J(e)?aS(e,{connector:t}):r=>new kg(r,t)}(new j)(e)}());q.connect(),this.events=q}else this.worker=this.events=this.registration=function Z$(n){return Y7(()=>M0(new Error(n)))}(Z8)}postMessage(e,t){return this.worker.pipe(bi(1),Ei(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),a=this.postMessage(e,t);return Promise.all([a,i]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Ci(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(bi(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ci(t=>t.nonce===e),bi(1),Y(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let X$=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.subscriptionChanges=new j,!t.isEnabled)return this.messages=g4,this.notificationClicks=g4,void(this.subscription=g4);this.messages=this.sw.eventsOfType("PUSH").pipe(Y(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Y(i=>i.data)),this.pushManager=this.sw.registration.pipe(Y(i=>i.pushManager));const r=this.pushManager.pipe(Sa(i=>i.getSubscription()));this.subscription=$n(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(Z8));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return r.applicationServerKey=a,this.pushManager.pipe(Sa(o=>o.subscribe(r)),bi(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(bi(1),Sa(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Z8))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(gn(K7))},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})(),K$=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=g4,this.available=g4,this.activated=g4,void(this.unrecoverable=g4);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Ci(r=>"VERSION_READY"===r.type),Y(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Z8));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Z8));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(gn(K7))},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})();class Eg{}const uS=new c2("NGSW_REGISTER_SCRIPT");function Q$(n,e,t,r){return()=>{if(!rg(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[o,..._]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":i=T2(null);break;case"registerWithDelay":i=fS(+_[0]||0);break;case"registerWhenStable":i=_[0]?$n(dS(n),fS(+_[0])):dS(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(P1).runOutsideAngular(()=>i.pipe(bi(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function fS(n){return T2(null).pipe(function Y$(n,e=X7){const t=lS(n,e);return cS(()=>t)}(n))}function dS(n){return n.get(Sc).isStable.pipe(Ci(t=>t))}function J$(n,e){return new K7(rg(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let eW=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:uS,useValue:t},{provide:Eg,useValue:r},{provide:K7,useFactory:J$,deps:[Eg,V8]},{provide:D8,useFactory:Q$,deps:[Ai,uS,Eg,V8],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({providers:[X$,K$]}),n})();class hS{}class tW{}const y3="*";function pS(n,e){return{type:7,name:n,definitions:e,options:{}}}function Pg(n,e=null){return{type:4,styles:e,timings:n}}function mS(n,e=null){return{type:2,steps:n,options:e}}function Ac(n){return{type:6,styles:n,offset:null}}function gS(n,e,t){return{type:0,name:n,styles:e,options:t}}function Ig(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function rW(n,e=null){return{type:8,animation:n,options:e}}function iW(n,e=null){return{type:10,animation:n,options:e}}function vS(n){Promise.resolve().then(n)}class X8{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){vS(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class yS{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?vS(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==a&&this._onFinish()}),o.onDestroy(()=>{++r==a&&this._onDestroy()}),o.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((o,_)=>Math.max(o,_.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function _S(n){return new qt(3e3,!1)}function FW(){return typeof window<"u"&&typeof window.document<"u"}function Fg(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function v4(n){switch(n.length){case 0:return new X8;case 1:return n[0];default:return new yS(n)}}function CS(n,e,t,r,i=new Map,a=new Map){const o=[],_=[];let k=-1,q=null;if(r.forEach(de=>{const ze=de.get("offset"),Be=ze==k,ct=Be&&q||new Map;de.forEach((wt,Gt)=>{let ln=Gt,yn=wt;if("offset"!==Gt)switch(ln=e.normalizePropertyName(ln,o),yn){case"!":yn=i.get(Gt);break;case y3:yn=a.get(Gt);break;default:yn=e.normalizeStyleValue(Gt,ln,yn,o)}ct.set(ln,yn)}),Be||_.push(ct),q=ct,k=ze}),o.length)throw function LW(n){return new qt(3502,!1)}();return _}function Rg(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Bg(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Bg(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Bg(t,"destroy",n)))}}function Bg(n,e,t){const a=Ug(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(a._data=o),a}function Ug(n,e,t,r,i="",a=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!o}}function Ga(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function bS(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let jg=(n,e)=>!1,xS=(n,e,t)=>[],MS=null;function Gg(n){const e=n.parentNode||n.host;return e===MS?null:e}(Fg()||typeof Element<"u")&&(FW()?(MS=(()=>document.documentElement)(),jg=(n,e)=>{for(;e;){if(e===n)return!0;e=Gg(e)}return!1}):jg=(n,e)=>n.contains(e),xS=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Nc=null,wS=!1;const SS=jg,zS=xS;let LS=(()=>{class n{validateStyleProperty(t){return function BW(n){Nc||(Nc=function UW(){return typeof document<"u"?document.body:null}()||{},wS=!!Nc.style&&"WebkitAppearance"in Nc.style);let e=!0;return Nc.style&&!function RW(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Nc.style,!e&&wS&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Nc.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return SS(t,r)}getParentElement(t){return Gg(t)}query(t,r,i){return zS(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,o,_=[],k){return new X8(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})(),$g=(()=>{class n{}return n.NOOP=new LS,n})();const Wg="ng-enter",Q7="ng-leave",J7="ng-trigger",ed=".ng-trigger",DS="ng-animating",qg=".ng-animating";function _3(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Yg(parseFloat(e[1]),e[2])}function Yg(n,e){return"s"===e?1e3*n:n}function td(n,e,t){return n.hasOwnProperty("duration")?n:function $W(n,e,t){let i,a=0,o="";if("string"==typeof n){const _=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return e.push(_S()),{duration:0,delay:0,easing:""};i=Yg(parseFloat(_[1]),_[2]);const k=_[3];null!=k&&(a=Yg(parseFloat(k),_[4]));const q=_[5];q&&(o=q)}else i=n;if(!t){let _=!1,k=e.length;i<0&&(e.push(function aW(){return new qt(3100,!1)}()),_=!0),a<0&&(e.push(function sW(){return new qt(3101,!1)}()),_=!0),_&&e.splice(k,0,_S())}return{duration:i,delay:a,easing:o}}(n,e,t)}function K8(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function TS(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function y4(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function kS(n,e,t){return t?e+":"+t+";":""}function AS(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=kS(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=kS(0,ZW(t),n.style[t]));n.setAttribute("style",e)}function Do(n,e,t){n.style&&(e.forEach((r,i)=>{const a=Xg(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),Fg()&&AS(n))}function Ec(n,e){n.style&&(e.forEach((t,r)=>{const i=Xg(r);n.style[i]=""}),Fg()&&AS(n))}function Q8(n){return Array.isArray(n)?1==n.length?n[0]:mS(n):n}const Zg=new RegExp("{{\\s*(.+?)\\s*}}","g");function NS(n){let e=[];if("string"==typeof n){let t;for(;t=Zg.exec(n);)e.push(t[1]);Zg.lastIndex=0}return e}function J8(n,e,t){const r=n.toString(),i=r.replace(Zg,(a,o)=>{let _=e[o];return null==_&&(t.push(function cW(n){return new qt(3003,!1)}()),_=""),_.toString()});return i==r?n:i}function nd(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const YW=/-+([a-z0-9])/g;function Xg(n){return n.replace(YW,(...e)=>e[1].toUpperCase())}function ZW(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function $a(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function lW(n){return new qt(3004,!1)}()}}function ES(n,e){return window.getComputedStyle(n)[e]}function tq(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function nq(n,e,t){if(":"==n[0]){const k=function rq(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function MW(n){return new qt(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof k)return void e.push(k);n=k}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function xW(n){return new qt(3015,!1)}()),e;const i=r[1],a=r[2],o=r[3];e.push(PS(i,o));"<"==a[0]&&!("*"==i&&"*"==o)&&e.push(PS(o,i))}(r,t,e)):t.push(n),t}const sd=new Set(["true","1"]),od=new Set(["false","0"]);function PS(n,e){const t=sd.has(n)||od.has(n),r=sd.has(e)||od.has(e);return(i,a)=>{let o="*"==n||n==i,_="*"==e||e==a;return!o&&t&&"boolean"==typeof i&&(o=i?sd.has(n):od.has(n)),!_&&r&&"boolean"==typeof a&&(_=a?sd.has(e):od.has(e)),o&&_}}const iq=new RegExp("s*:selfs*,?","g");function Kg(n,e,t,r){return new aq(n).build(e,t,r)}class aq{constructor(e){this._driver=e}build(e,t,r){const i=new cq(t);return this._resetContextStyleTimingState(i),$a(this,Q8(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function fW(){return new qt(3006,!1)}()),e.definitions.forEach(_=>{if(this._resetContextStyleTimingState(t),0==_.type){const k=_,q=k.name;q.toString().split(/\s*,\s*/).forEach(de=>{k.name=de,a.push(this.visitState(k,t))}),k.name=q}else if(1==_.type){const k=this.visitTransition(_,t);r+=k.queryCount,i+=k.depCount,o.push(k)}else t.errors.push(function dW(){return new qt(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,o=i||{};r.styles.forEach(_=>{_ instanceof Map&&_.forEach(k=>{NS(k).forEach(q=>{o.hasOwnProperty(q)||a.add(q)})})}),a.size&&(nd(a.values()),t.errors.push(function hW(n,e){return new qt(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=$a(this,Q8(e.animation),t);return{type:1,matchers:tq(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Pc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>$a(this,r,t)),options:Pc(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(o=>{t.currentTime=r;const _=$a(this,o,t);return i=Math.max(i,t.currentTime),_});return t.currentTime=i,{type:3,steps:a,options:Pc(e.options)}}visitAnimate(e,t){const r=function uq(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Qg(td(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Qg(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=td(t,e);return Qg(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Ac({});if(5==a.type)i=this.visitKeyframes(a,t);else{let o=e.styles,_=!1;if(!o){_=!0;const q={};r.easing&&(q.easing=r.easing),o=Ac(q)}t.currentTime+=r.duration+r.delay;const k=this.visitStyle(o,t);k.isEmptyStep=_,i=k}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let _ of i)"string"==typeof _?_===y3?r.push(_):t.errors.push(new qt(3002,!1)):r.push(TS(_));let a=!1,o=null;return r.forEach(_=>{if(_ instanceof Map&&(_.has("easing")&&(o=_.get("easing"),_.delete("easing")),!a))for(let k of _.values())if(k.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((_,k)=>{const q=t.collectedStyles.get(t.currentQuerySelector),de=q.get(k);let ze=!0;de&&(a!=i&&a>=de.startTime&&i<=de.endTime&&(t.errors.push(function mW(n,e,t,r,i){return new qt(3010,!1)}()),ze=!1),a=de.startTime),ze&&q.set(k,{startTime:a,endTime:i}),t.options&&function qW(n,e,t){const r=e.params||{},i=NS(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function oW(n){return new qt(3001,!1)}())})}(_,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function gW(){return new qt(3011,!1)}()),r;let a=0;const o=[];let _=!1,k=!1,q=0;const de=e.steps.map(yn=>{const Nn=this._makeStyleAst(yn,t);let hn=null!=Nn.offset?Nn.offset:function lq(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Nn.styles),Kn=0;return null!=hn&&(a++,Kn=Nn.offset=hn),k=k||Kn<0||Kn>1,_=_||Kn<q,q=Kn,o.push(Kn),Nn});k&&t.errors.push(function vW(){return new qt(3012,!1)}()),_&&t.errors.push(function yW(){return new qt(3200,!1)}());const ze=e.steps.length;let Be=0;a>0&&a<ze?t.errors.push(function _W(){return new qt(3202,!1)}()):0==a&&(Be=1/(ze-1));const ct=ze-1,wt=t.currentTime,Gt=t.currentAnimateTimings,ln=Gt.duration;return de.forEach((yn,Nn)=>{const hn=Be>0?Nn==ct?1:Be*Nn:o[Nn],Kn=hn*ln;t.currentTime=wt+Gt.delay+Kn,Gt.duration=Kn,this._validateStyleAst(yn,t),yn.offset=hn,r.styles.push(yn)}),r}visitReference(e,t){return{type:8,animation:$a(this,Q8(e.animation),t),options:Pc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Pc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Pc(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,o]=function sq(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(iq,"")),n=n.replace(/@\*/g,ed).replace(/@\w+/g,t=>ed+"-"+t.slice(1)).replace(/:animating/g,qg),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Ga(t.collectedStyles,t.currentQuerySelector,new Map);const _=$a(this,Q8(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:_,originalSelector:e.selector,options:Pc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function CW(){return new qt(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:td(e.timings,t.errors,!0);return{type:12,animation:$a(this,Q8(e.animation),t),timings:r,options:null}}}class cq{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Pc(n){return n?(n=K8(n)).params&&(n.params=function oq(n){return n?K8(n):null}(n.params)):n={},n}function Qg(n,e,t){return{duration:n,delay:e,easing:t}}function Jg(n,e,t,r,i,a,o=null,_=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:o,subTimeline:_}}class cd{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const hq=new RegExp(":enter","g"),mq=new RegExp(":leave","g");function ev(n,e,t,r,i,a=new Map,o=new Map,_,k,q=[]){return(new gq).buildKeyframes(n,e,t,r,i,a,o,_,k,q)}class gq{buildKeyframes(e,t,r,i,a,o,_,k,q,de=[]){q=q||new cd;const ze=new tv(e,t,q,i,a,de,[]);ze.options=k;const Be=k.delay?_3(k.delay):0;ze.currentTimeline.delayNextStep(Be),ze.currentTimeline.setStyles([o],null,ze.errors,k),$a(this,r,ze);const ct=ze.timelines.filter(wt=>wt.containsAnimation());if(ct.length&&_.size){let wt;for(let Gt=ct.length-1;Gt>=0;Gt--){const ln=ct[Gt];if(ln.element===t){wt=ln;break}}wt&&!wt.allowOnlyTimelineStyles()&&wt.setStyles([_],null,ze.errors,k)}return ct.length?ct.map(wt=>wt.buildKeyframes()):[Jg(t,[],[],[],0,Be,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);a!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const o="number"==typeof a?a:_3(J8(a,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const o=null!=r.duration?_3(r.duration):null,_=null!=r.delay?_3(r.delay):null;return 0!==o&&e.forEach(k=>{const q=t.appendInstructionToTimeline(k,o,_);a=Math.max(a,q.duration+q.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),$a(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ld);const o=_3(a.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>$a(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?_3(e.options.delay):0;e.steps.forEach(o=>{const _=t.createSubContext(e.options);a&&_.delayNextStep(a),$a(this,o,_),i=Math.max(i,_.currentTimeline.currentTime),r.push(_.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return td(t.params?J8(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,_=t.createSubContext().currentTimeline;_.easing=r.easing,e.styles.forEach(k=>{_.forwardTime((k.offset||0)*a),_.setStyles(k.styles,k.easing,t.errors,t.options),_.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(_),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?_3(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ld);let o=r;const _=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=_.length;let k=null;_.forEach((q,de)=>{t.currentQueryIndex=de;const ze=t.createSubContext(e.options,q);a&&ze.delayNextStep(a),q===t.element&&(k=ze.currentTimeline),$a(this,e.animation,ze),ze.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,ze.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),k&&(t.currentTimeline.mergeTimelineCollectedStyles(k),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,o=Math.abs(a.duration),_=o*(t.currentQueryTotal-1);let k=o*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":k=_-k;break;case"full":k=r.currentStaggerTime}const de=t.currentTimeline;k&&de.delayNextStep(k);const ze=de.currentTime;$a(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-ze+(i.startTime-r.currentTimeline.startTime)}}const ld={};class tv{constructor(e,t,r,i,a,o,_,k){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=o,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ld,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=k||new ud(this._driver,t,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=_3(r.duration)),null!=r.delay&&(i.delay=_3(r.delay));const a=r.params;if(a){let o=i.params;o||(o=this.options.params={}),Object.keys(a).forEach(_=>{(!t||!o.hasOwnProperty(_))&&(o[_]=J8(a[_],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new tv(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=ld,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new vq(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,o){let _=[];if(i&&_.push(this.element),e.length>0){e=(e=e.replace(hq,"."+this._enterClassName)).replace(mq,"."+this._leaveClassName);let q=this._driver.query(this.element,e,1!=r);0!==r&&(q=r<0?q.slice(q.length+r,q.length):q.slice(0,r)),_.push(...q)}return!a&&0==_.length&&o.push(function bW(n){return new qt(3014,!1)}()),_}}class ud{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ud(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||y3),this._currentKeyframe.set(t,y3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},o=function yq(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,y3)}else y4(i,t)}),t}(e,this._globalTimelineStyles);for(let[_,k]of o){const q=J8(k,a,r);this._pendingStyles.set(_,q),this._localTimelineStyles.has(_)||this._backFill.set(_,this._globalTimelineStyles.get(_)??y3),this._updateStyle(_,q)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((_,k)=>{const q=y4(_,new Map,this._backFill);q.forEach((de,ze)=>{"!"===de?e.add(ze):de===y3&&t.add(ze)}),r||q.set("offset",k/this.duration),i.push(q)});const a=e.size?nd(e.values()):[],o=t.size?nd(t.values()):[];if(r){const _=i[0],k=new Map(_);_.set("offset",0),k.set("offset",1),i=[_,k]}return Jg(this.element,i,a,o,this.duration,this.startTime,this.easing,!1)}}class vq extends ud{constructor(e,t,r,i,a,o,_=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=_,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],o=r+t,_=t/o,k=y4(e[0]);k.set("offset",0),a.push(k);const q=y4(e[0]);q.set("offset",FS(_)),a.push(q);const de=e.length-1;for(let ze=1;ze<=de;ze++){let Be=y4(e[ze]);const ct=Be.get("offset");Be.set("offset",FS((t+ct*r)/o)),a.push(Be)}r=o,t=0,i="",e=a}return Jg(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function FS(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class nv{}const _q=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Cq extends nv{normalizePropertyName(e,t){return Xg(e)}normalizeStyleValue(e,t,r,i){let a="";const o=r.toString().trim();if(_q.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const _=r.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&i.push(function uW(n,e){return new qt(3005,!1)}())}return o+a}}function RS(n,e,t,r,i,a,o,_,k,q,de,ze,Be){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:o,timelines:_,queriedElements:k,preStyleProps:q,postStyleProps:de,totalTime:ze,errors:Be}}const rv={};class BS{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function bq(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,o,_,k,q,de){const ze=[],Be=this.ast.options&&this.ast.options.params||rv,wt=this.buildStyles(r,_&&_.params||rv,ze),Gt=k&&k.params||rv,ln=this.buildStyles(i,Gt,ze),yn=new Set,Nn=new Map,hn=new Map,Kn="void"===i,Z2={params:xq(Gt,Be),delay:this.ast.options?.delay},y1=de?[]:ev(e,t,this.ast.animation,a,o,wt,ln,Z2,q,ze);let xr=0;if(y1.forEach(Si=>{xr=Math.max(Si.duration+Si.delay,xr)}),ze.length)return RS(t,this._triggerName,r,i,Kn,wt,ln,[],[],Nn,hn,xr,ze);y1.forEach(Si=>{const Ks=Si.element,KI=Ga(Nn,Ks,new Set);Si.preStyleProps.forEach(ul=>KI.add(ul));const c5=Ga(hn,Ks,new Set);Si.postStyleProps.forEach(ul=>c5.add(ul)),Ks!==t&&yn.add(Ks)});const Ya=nd(yn.values());return RS(t,this._triggerName,r,i,Kn,wt,ln,y1,Ya,Nn,hn,xr)}}function xq(n,e){const t=K8(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Mq{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=K8(this.defaultParams);return Object.keys(e).forEach(a=>{const o=e[a];null!==o&&(i[a]=o)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((o,_)=>{o&&(o=J8(o,i,t));const k=this.normalizer.normalizePropertyName(_,t);o=this.normalizer.normalizeStyleValue(_,k,o,t),r.set(_,o)})}),r}}class Sq{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Mq(i.style,i.options&&i.options.params||{},r))}),US(this.states,"true","1"),US(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new BS(e,i,this.states))}),this.fallbackTransition=function zq(n,e,t){return new BS(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,_)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function US(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Lq=new cd;class Hq{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=Kg(this._driver,t,r,[]);if(r.length)throw function HW(n){return new qt(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=CS(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let o;const _=new Map;if(a?(o=ev(this._driver,t,a,Wg,Q7,new Map,new Map,r,Lq,i),o.forEach(de=>{const ze=Ga(_,de.element,new Map);de.postStyleProps.forEach(Be=>ze.set(Be,null))})):(i.push(function DW(){return new qt(3300,!1)}()),o=[]),i.length)throw function TW(n){return new qt(3504,!1)}();_.forEach((de,ze)=>{de.forEach((Be,ct)=>{de.set(ct,this._driver.computeStyle(ze,ct,y3))})});const q=v4(o.map(de=>{const ze=_.get(de.element);return this._buildPlayer(de,new Map,ze)}));return this._playersById.set(e,q),q.onDestroy(()=>this.destroy(e)),this.players.push(q),q}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function VW(n){return new qt(3301,!1)}();return t}listen(e,t,r,i){const a=Ug(t,"","","");return Rg(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const jS="ng-animate-queued",iv="ng-animate-disabled",Aq=[],GS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nq={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hs="__ng_removed";class av{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Oq(n){return n??null}(r?e.value:e),r){const a=K8(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const eu="void",sv=new av(eu);class Eq{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ps(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function kW(n,e){return new qt(3302,!1)}();if(null==r||0==r.length)throw function AW(n){return new qt(3303,!1)}();if(!function Fq(n){return"start"==n||"done"==n}(r))throw function NW(n,e){return new qt(3400,!1)}();const a=Ga(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};a.push(o);const _=Ga(this._engine.statesByElement,e,new Map);return _.has(t)||(ps(e,J7),ps(e,J7+"-"+t),_.set(t,sv)),()=>{this._engine.afterFlush(()=>{const k=a.indexOf(o);k>=0&&a.splice(k,1),this._triggers.has(t)||_.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function EW(n){return new qt(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),o=new ov(this.id,t,e);let _=this._engine.statesByElement.get(e);_||(ps(e,J7),ps(e,J7+"-"+t),this._engine.statesByElement.set(e,_=new Map));let k=_.get(t);const q=new av(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&k&&q.absorbOptions(k.options),_.set(t,q),k||(k=sv),q.value!==eu&&k.value===q.value){if(!function Uq(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(k.params,q.params)){const Gt=[],ln=a.matchStyles(k.value,k.params,Gt),yn=a.matchStyles(q.value,q.params,Gt);Gt.length?this._engine.reportError(Gt):this._engine.afterFlush(()=>{Ec(e,ln),Do(e,yn)})}return}const Be=Ga(this._engine.playersByElement,e,[]);Be.forEach(Gt=>{Gt.namespaceId==this.id&&Gt.triggerName==t&&Gt.queued&&Gt.destroy()});let ct=a.matchTransition(k.value,q.value,e,q.params),wt=!1;if(!ct){if(!i)return;ct=a.fallbackTransition,wt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:ct,fromState:k,toState:q,player:o,isFallbackTransition:wt}),wt||(ps(e,jS),o.onStart(()=>{S0(e,jS)})),o.onDone(()=>{let Gt=this.players.indexOf(o);Gt>=0&&this.players.splice(Gt,1);const ln=this._engine.playersByElement.get(e);if(ln){let yn=ln.indexOf(o);yn>=0&&ln.splice(yn,1)}}),this.players.push(o),Be.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,ed,!0);r.forEach(i=>{if(i[hs])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),o=new Map;if(a){const _=[];if(a.forEach((k,q)=>{if(o.set(q,k.value),this._triggers.has(q)){const de=this.trigger(e,q,eu,i);de&&_.push(de)}}),_.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&v4(_).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const o=a.name;if(i.has(o))return;i.add(o);const k=this._triggers.get(o).fallbackTransition,q=r.get(o)||sv,de=new av(eu),ze=new ov(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:k,fromState:q,toState:de,player:ze,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[hs];(!a||a===GS)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ps(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,o=this._elementListeners.get(a);o&&o.forEach(_=>{if(_.name==r.triggerName){const k=Ug(a,r.triggerName,r.fromState.value,r.toState.value);k._data=e,Rg(r.player,_.phase,k,_.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==a||0==o?a-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Pq{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Eq(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,_=this.driver.getParentElement(t);for(;_;){const k=i.get(_);if(k){const q=r.indexOf(k);r.splice(q+1,0,e),o=!0;break}_=this.driver.getParentElement(_)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(fd(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!fd(t))return;const a=t[hs];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ps(e,iv)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),S0(e,iv))}removeNode(e,t,r,i){if(fd(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[hs]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return fd(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,ed,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,qg,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return v4(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[hs];if(t&&t.setForRemoval){if(e[hs]=GS,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(iv)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ps(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?v4(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function PW(n){return new qt(3402,!1)}()}_flushAnimations(e,t){const r=new cd,i=[],a=new Map,o=[],_=new Map,k=new Map,q=new Map,de=new Set;this.disabledNodes.forEach(y2=>{de.add(y2);const P2=this.driver.query(y2,".ng-animate-queued",!0);for(let W2=0;W2<P2.length;W2++)de.add(P2[W2])});const ze=this.bodyNode,Be=Array.from(this.statesByElement.keys()),ct=qS(Be,this.collectedEnterElements),wt=new Map;let Gt=0;ct.forEach((y2,P2)=>{const W2=Wg+Gt++;wt.set(P2,W2),y2.forEach(B1=>ps(B1,W2))});const ln=[],yn=new Set,Nn=new Set;for(let y2=0;y2<this.collectedLeaveElements.length;y2++){const P2=this.collectedLeaveElements[y2],W2=P2[hs];W2&&W2.setForRemoval&&(ln.push(P2),yn.add(P2),W2.hasAnimation?this.driver.query(P2,".ng-star-inserted",!0).forEach(B1=>yn.add(B1)):Nn.add(P2))}const hn=new Map,Kn=qS(Be,Array.from(yn));Kn.forEach((y2,P2)=>{const W2=Q7+Gt++;hn.set(P2,W2),y2.forEach(B1=>ps(B1,W2))}),e.push(()=>{ct.forEach((y2,P2)=>{const W2=wt.get(P2);y2.forEach(B1=>S0(B1,W2))}),Kn.forEach((y2,P2)=>{const W2=hn.get(P2);y2.forEach(B1=>S0(B1,W2))}),ln.forEach(y2=>{this.processLeaveNode(y2)})});const Z2=[],y1=[];for(let y2=this._namespaceList.length-1;y2>=0;y2--)this._namespaceList[y2].drainQueuedTransitions(t).forEach(W2=>{const B1=W2.player,zi=W2.element;if(Z2.push(B1),this.collectedEnterElements.length){const Ki=zi[hs];if(Ki&&Ki.setForMove){if(Ki.previousTriggersValues&&Ki.previousTriggersValues.has(W2.triggerName)){const fl=Ki.previousTriggersValues.get(W2.triggerName),Ms=this.statesByElement.get(W2.element);if(Ms&&Ms.has(W2.triggerName)){const Ih=Ms.get(W2.triggerName);Ih.value=fl,Ms.set(W2.triggerName,Ih)}}return void B1.destroy()}}const No=!ze||!this.driver.containsElement(ze,zi),Za=hn.get(zi),D4=wt.get(zi),Hr=this._buildInstruction(W2,r,D4,Za,No);if(Hr.errors&&Hr.errors.length)return void y1.push(Hr);if(No)return B1.onStart(()=>Ec(zi,Hr.fromStyles)),B1.onDestroy(()=>Do(zi,Hr.toStyles)),void i.push(B1);if(W2.isFallbackTransition)return B1.onStart(()=>Ec(zi,Hr.fromStyles)),B1.onDestroy(()=>Do(zi,Hr.toStyles)),void i.push(B1);const eO=[];Hr.timelines.forEach(Ki=>{Ki.stretchStartingKeyframe=!0,this.disabledNodes.has(Ki.element)||eO.push(Ki)}),Hr.timelines=eO,r.append(zi,Hr.timelines),o.push({instruction:Hr,player:B1,element:zi}),Hr.queriedElements.forEach(Ki=>Ga(_,Ki,[]).push(B1)),Hr.preStyleProps.forEach((Ki,fl)=>{if(Ki.size){let Ms=k.get(fl);Ms||k.set(fl,Ms=new Set),Ki.forEach((Ih,R_)=>Ms.add(R_))}}),Hr.postStyleProps.forEach((Ki,fl)=>{let Ms=q.get(fl);Ms||q.set(fl,Ms=new Set),Ki.forEach((Ih,R_)=>Ms.add(R_))})});if(y1.length){const y2=[];y1.forEach(P2=>{y2.push(function IW(n,e){return new qt(3505,!1)}())}),Z2.forEach(P2=>P2.destroy()),this.reportError(y2)}const xr=new Map,Ya=new Map;o.forEach(y2=>{const P2=y2.element;r.has(P2)&&(Ya.set(P2,P2),this._beforeAnimationBuild(y2.player.namespaceId,y2.instruction,xr))}),i.forEach(y2=>{const P2=y2.element;this._getPreviousPlayers(P2,!1,y2.namespaceId,y2.triggerName,null).forEach(B1=>{Ga(xr,P2,[]).push(B1),B1.destroy()})});const Si=ln.filter(y2=>ZS(y2,k,q)),Ks=new Map;WS(Ks,this.driver,Nn,q,y3).forEach(y2=>{ZS(y2,k,q)&&Si.push(y2)});const c5=new Map;ct.forEach((y2,P2)=>{WS(c5,this.driver,new Set(y2),k,"!")}),Si.forEach(y2=>{const P2=Ks.get(y2),W2=c5.get(y2);Ks.set(y2,new Map([...Array.from(P2?.entries()??[]),...Array.from(W2?.entries()??[])]))});const ul=[],QI=[],JI={};o.forEach(y2=>{const{element:P2,player:W2,instruction:B1}=y2;if(r.has(P2)){if(de.has(P2))return W2.onDestroy(()=>Do(P2,B1.toStyles)),W2.disabled=!0,W2.overrideTotalTime(B1.totalTime),void i.push(W2);let zi=JI;if(Ya.size>1){let Za=P2;const D4=[];for(;Za=Za.parentNode;){const Hr=Ya.get(Za);if(Hr){zi=Hr;break}D4.push(Za)}D4.forEach(Hr=>Ya.set(Hr,zi))}const No=this._buildAnimation(W2.namespaceId,B1,xr,a,c5,Ks);if(W2.setRealPlayer(No),zi===JI)ul.push(W2);else{const Za=this.playersByElement.get(zi);Za&&Za.length&&(W2.parentPlayer=v4(Za)),i.push(W2)}}else Ec(P2,B1.fromStyles),W2.onDestroy(()=>Do(P2,B1.toStyles)),QI.push(W2),de.has(P2)&&i.push(W2)}),QI.forEach(y2=>{const P2=a.get(y2.element);if(P2&&P2.length){const W2=v4(P2);y2.setRealPlayer(W2)}}),i.forEach(y2=>{y2.parentPlayer?y2.syncPlayerEvents(y2.parentPlayer):y2.destroy()});for(let y2=0;y2<ln.length;y2++){const P2=ln[y2],W2=P2[hs];if(S0(P2,Q7),W2&&W2.hasAnimation)continue;let B1=[];if(_.size){let No=_.get(P2);No&&No.length&&B1.push(...No);let Za=this.driver.query(P2,qg,!0);for(let D4=0;D4<Za.length;D4++){let Hr=_.get(Za[D4]);Hr&&Hr.length&&B1.push(...Hr)}}const zi=B1.filter(No=>!No.destroyed);zi.length?Rq(this,P2,zi):this.processLeaveNode(P2)}return ln.length=0,ul.forEach(y2=>{this.players.push(y2),y2.onDone(()=>{y2.destroy();const P2=this.players.indexOf(y2);this.players.splice(P2,1)}),y2.play()}),ul}elementContainsData(e,t){let r=!1;const i=t[hs];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let o=[];if(t){const _=this.playersByQueriedElement.get(e);_&&(o=_)}else{const _=this.playersByElement.get(e);if(_){const k=!a||a==eu;_.forEach(q=>{q.queued||!k&&q.triggerName!=i||o.push(q)})}}return(r||i)&&(o=o.filter(_=>!(r&&r!=_.namespaceId||i&&i!=_.triggerName))),o}_beforeAnimationBuild(e,t,r){const a=t.element,o=t.isRemovalTransition?void 0:e,_=t.isRemovalTransition?void 0:t.triggerName;for(const k of t.timelines){const q=k.element,de=q!==a,ze=Ga(r,q,[]);this._getPreviousPlayers(q,de,o,_,t.toState).forEach(ct=>{const wt=ct.getRealPlayer();wt.beforeDestroy&&wt.beforeDestroy(),ct.destroy(),ze.push(ct)})}Ec(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,o){const _=t.triggerName,k=t.element,q=[],de=new Set,ze=new Set,Be=t.timelines.map(wt=>{const Gt=wt.element;de.add(Gt);const ln=Gt[hs];if(ln&&ln.removedBeforeQueried)return new X8(wt.duration,wt.delay);const yn=Gt!==k,Nn=function Bq(n){const e=[];return YS(n,e),e}((r.get(Gt)||Aq).map(xr=>xr.getRealPlayer())).filter(xr=>!!xr.element&&xr.element===Gt),hn=a.get(Gt),Kn=o.get(Gt),Z2=CS(0,this._normalizer,0,wt.keyframes,hn,Kn),y1=this._buildPlayer(wt,Z2,Nn);if(wt.subTimeline&&i&&ze.add(Gt),yn){const xr=new ov(e,_,Gt);xr.setRealPlayer(y1),q.push(xr)}return y1});q.forEach(wt=>{Ga(this.playersByQueriedElement,wt.element,[]).push(wt),wt.onDone(()=>function Iq(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,wt.element,wt))}),de.forEach(wt=>ps(wt,DS));const ct=v4(Be);return ct.onDestroy(()=>{de.forEach(wt=>S0(wt,DS)),Do(k,t.toStyles)}),ze.forEach(wt=>{Ga(i,wt,[]).push(ct)}),ct}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new X8(e.duration,e.delay)}}class ov{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new X8,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Rg(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ga(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function fd(n){return n&&1===n.nodeType}function $S(n,e){const t=n.style.display;return n.style.display=e??"none",t}function WS(n,e,t,r,i){const a=[];t.forEach(k=>a.push($S(k)));const o=[];r.forEach((k,q)=>{const de=new Map;k.forEach(ze=>{const Be=e.computeStyle(q,ze,i);de.set(ze,Be),(!Be||0==Be.length)&&(q[hs]=Nq,o.push(q))}),n.set(q,de)});let _=0;return t.forEach(k=>$S(k,a[_++])),o}function qS(n,e){const t=new Map;if(n.forEach(_=>t.set(_,[])),0==e.length)return t;const i=new Set(e),a=new Map;function o(_){if(!_)return 1;let k=a.get(_);if(k)return k;const q=_.parentNode;return k=t.has(q)?q:i.has(q)?1:o(q),a.set(_,k),k}return e.forEach(_=>{const k=o(_);1!==k&&t.get(k).push(_)}),t}function ps(n,e){n.classList?.add(e)}function S0(n,e){n.classList?.remove(e)}function Rq(n,e,t){v4(t).onDone(()=>n.processLeaveNode(e))}function YS(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof yS?YS(r.players,e):e.push(r)}}function ZS(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class dd{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new Pq(e,t,r),this._timelineEngine=new Hq(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const o=e+"-"+i;let _=this._triggerCache[o];if(!_){const k=[],de=Kg(this._driver,a,k,[]);if(k.length)throw function zW(n,e){return new qt(3404,!1)}();_=function wq(n,e,t){return new Sq(n,e,t)}(i,de,this._normalizer),this._triggerCache[o]=_}this._transitionEngine.registerTrigger(t,i,_)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,o]=bS(r);this._timelineEngine.command(a,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[o,_]=bS(r);return this._timelineEngine.listen(o,t,_,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Gq=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Do(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Do(this._element,this._initialStyles),this._endStyles&&(Do(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ec(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ec(this._element,this._endStyles),this._endStyles=null),Do(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function cv(n){let e=null;return n.forEach((t,r)=>{(function $q(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class XS{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:ES(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Wq{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return SS(e,t)}getParentElement(e){return Gg(e)}query(e,t,r){return zS(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,o=[]){const k={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(k.easing=a);const q=new Map,de=o.filter(ct=>ct instanceof XS);(function XW(n,e){return 0===n||0===e})(r,i)&&de.forEach(ct=>{ct.currentSnapshot.forEach((wt,Gt)=>q.set(Gt,wt))});let ze=function WW(n){return n.length?n[0]instanceof Map?n:n.map(e=>TS(e)):[]}(t).map(ct=>y4(ct));ze=function KW(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,o)=>{r.has(o)||i.push(o),r.set(o,a)}),i.length)for(let a=1;a<e.length;a++){let o=e[a];i.forEach(_=>o.set(_,ES(n,_)))}}return e}(e,ze,q);const Be=function jq(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=cv(e[0]),e.length>1&&(r=cv(e[e.length-1]))):e instanceof Map&&(t=cv(e)),t||r?new Gq(n,t,r):null}(e,ze);return new XS(e,ze,k,Be)}}let qq=(()=>{class n extends hS{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Di.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?mS(t):t;return KS(this._renderer,null,r,"register",[i]),new Yq(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(gn(i4),gn(j1))},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})();class Yq extends tW{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Zq(this._id,e,t||{},this._renderer)}}class Zq{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return KS(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function KS(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const QS="@.disabled";let Xq=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,o)=>{const _=o?.parentNode(a);_&&o.removeChild(_,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let de=this._rendererCache.get(a);return de||(de=new JS("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,de)),de}const o=r.id,_=r.id+"-"+this._currentId;this._currentId++,this.engine.register(_,t);const k=de=>{Array.isArray(de)?de.forEach(k):this.engine.registerTrigger(o,_,t,de.name,de)};return r.data.animation.forEach(k),new Kq(this,_,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[o,_]=a;o(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(gn(i4),gn(dd),gn(P1))},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})();class JS{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==QS?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Kq extends JS{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==QS?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Qq(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),o="";return"@"!=a.charAt(0)&&([a,o]=function Jq(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,o,_=>{this.factory.scheduleListenerCallback(_._data||-1,r,_)})}return this.delegate.listen(e,t,r)}}const ez=[{provide:hS,useClass:qq},{provide:nv,useFactory:function tY(){return new Cq}},{provide:dd,useClass:(()=>{class n extends dd{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(gn(j1),gn($g),gn(nv),gn(Sc))},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})()},{provide:i4,useFactory:function nY(n,e,t){return new Xq(n,e,t)},deps:[P7,dd,P1]}],lv=[{provide:$g,useFactory:()=>new Wq},{provide:zm,useValue:"BrowserAnimations"},...ez],tz=[{provide:$g,useClass:LS},{provide:zm,useValue:"NoopAnimations"},...ez];let rY=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?tz:lv}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({providers:lv,imports:[XM]}),n})();function nz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function l2(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?nz(Object(t),!0).forEach(function(r){ii(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pd(n){return(pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function rz(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ii(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uv(n,e){return function cY(n){if(Array.isArray(n))return n}(n)||function uY(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var o,_,r=[],i=!0,a=!1;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(k){a=!0,_=k}finally{try{!i&&null!=t.return&&t.return()}finally{if(a)throw _}}return r}}(n,e)||iz(n,e)||function dY(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nu(n){return function oY(n){if(Array.isArray(n))return fv(n)}(n)||function lY(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||iz(n)||function fY(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iz(n,e){if(n){if("string"==typeof n)return fv(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fv(n,e)}}function fv(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var az=function(){},dv={},sz={},oz=null,cz={mark:az,measure:az};try{typeof window<"u"&&(dv=window),typeof document<"u"&&(sz=document),typeof MutationObserver<"u"&&(oz=MutationObserver),typeof performance<"u"&&(cz=performance)}catch{}var vd,yd,_d,Cd,bd,lz=(dv.navigator||{}).userAgent,uz=void 0===lz?"":lz,_4=dv,pr=sz,fz=oz,gd=cz,C3=!!pr.documentElement&&!!pr.head&&"function"==typeof pr.addEventListener&&"function"==typeof pr.createElement,dz=~uz.indexOf("MSIE")||~uz.indexOf("Trident/"),b3="___FONT_AWESOME___",pz="svg-inline--fa",Ic="data-fa-i2svg",pv="data-fa-pseudo-element",mv="data-prefix",gv="data-icon",mz="fontawesome-i2svg",gY=["HTML","HEAD","STYLE","SCRIPT"],gz=function(){try{return!0}catch{return!1}}(),mr="classic",Pr="sharp",vv=[mr,Pr];function ru(n){return new Proxy(n,{get:function(t,r){return r in t?t[r]:t[mr]}})}var iu=ru((ii(vd={},mr,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),ii(vd,Pr,{fa:"solid",fass:"solid","fa-solid":"solid"}),vd)),au=ru((ii(yd={},mr,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),ii(yd,Pr,{solid:"fass"}),yd)),su=ru((ii(_d={},mr,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),ii(_d,Pr,{fass:"fa-solid"}),_d)),vY=ru((ii(Cd={},mr,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),ii(Cd,Pr,{"fa-solid":"fass"}),Cd)),yY=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,vz="fa-layers-text",_Y=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,CY=ru((ii(bd={},mr,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),ii(bd,Pr,{900:"fass"}),bd)),yz=[1,2,3,4,5,6,7,8,9,10],bY=yz.concat([11,12,13,14,15,16,17,18,19,20]),xY=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ou=new Set;Object.keys(au[mr]).map(ou.add.bind(ou)),Object.keys(au[Pr]).map(ou.add.bind(ou));var MY=[].concat(vv,nu(ou),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(yz.map(function(n){return"".concat(n,"x")})).concat(bY.map(function(n){return"w-".concat(n)})),cu=_4.FontAwesomeConfig||{};pr&&"function"==typeof pr.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=uv(n,2),r=e[1],i=function SY(n){return""===n||"false"!==n&&("true"===n||n)}(function wY(n){var e=pr.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(cu[r]=i)});var _z={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:pz,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};cu.familyPrefix&&(cu.cssPrefix=cu.familyPrefix);var z0=l2(l2({},_z),cu);z0.autoReplaceSvg||(z0.observeMutations=!1);var C2={};Object.keys(_z).forEach(function(n){Object.defineProperty(C2,n,{enumerable:!0,set:function(t){z0[n]=t,lu.forEach(function(r){return r(C2)})},get:function(){return z0[n]}})}),Object.defineProperty(C2,"familyPrefix",{enumerable:!0,set:function(e){z0.cssPrefix=e,lu.forEach(function(t){return t(C2)})},get:function(){return z0.cssPrefix}}),_4.FontAwesomeConfig=C2;var lu=[],To={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function uu(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function L0(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function yv(n){return n.classList?L0(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function Cz(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xd(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function _v(n){return n.size!==To.size||n.x!==To.x||n.y!==To.y||n.rotate!==To.rotate||n.flipX||n.flipY}function bz(){var n="fa",e=pz,t=C2.cssPrefix,r=C2.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(t!==n||r!==e){var a=new RegExp("\\.".concat(n,"\\-"),"g"),o=new RegExp("\\--".concat(n,"\\-"),"g"),_=new RegExp("\\.".concat(e),"g");i=i.replace(a,".".concat(t,"-")).replace(o,"--".concat(t,"-")).replace(_,".".concat(r))}return i}var xz=!1;function Cv(){C2.autoAddCss&&!xz&&(function HY(n){if(n&&C3){var e=pr.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=pr.head.childNodes,r=null,i=t.length-1;i>-1;i--){var a=t[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}pr.head.insertBefore(e,r)}}(bz()),xz=!0)}var NY={mixout:function(){return{dom:{css:bz,insertCss:Cv}}},hooks:function(){return{beforeDOMElementCreation:function(){Cv()},beforeI2svg:function(){Cv()}}}},x3=_4||{};x3[b3]||(x3[b3]={}),x3[b3].styles||(x3[b3].styles={}),x3[b3].hooks||(x3[b3].hooks={}),x3[b3].shims||(x3[b3].shims=[]);var qs=x3[b3],Mz=[],Md=!1;function PY(n){C3&&(Md?setTimeout(n,0):Mz.push(n))}function fu(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,i=n.children,a=void 0===i?[]:i;return"string"==typeof n?Cz(n):"<".concat(e," ").concat(function TY(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(Cz(n[t]),'" ')},"").trim()}(r),">").concat(a.map(fu).join(""),"</").concat(e,">")}function wz(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}C3&&((Md=(pr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(pr.readyState))||pr.addEventListener("DOMContentLoaded",function n(){pr.removeEventListener("DOMContentLoaded",n),Md=1,Mz.map(function(e){return e()})}));var bv=function(e,t,r,i){var k,q,de,a=Object.keys(e),o=a.length,_=void 0!==i?function(e,t){return function(r,i,a,o){return e.call(t,r,i,a,o)}}(t,i):t;for(void 0===r?(k=1,de=e[a[0]]):(k=0,de=r);k<o;k++)de=_(de,e[q=a[k]],q,e);return de};function xv(n){var e=function OY(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var a=n.charCodeAt(t++);56320==(64512&a)?e.push(((1023&i)<<10)+(1023&a)+65536):(e.push(i),t--)}else e.push(i)}return e}(n);return 1===e.length?e[0].toString(16):null}function Sz(n){return Object.keys(n).reduce(function(e,t){var r=n[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function Mv(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,i=void 0!==r&&r,a=Sz(e);"function"!=typeof qs.hooks.addPack||i?qs.styles[n]=l2(l2({},qs.styles[n]||{}),a):qs.hooks.addPack(n,Sz(e)),"fas"===n&&Mv("fa",e)}var wd,Sd,zd,H0=qs.styles,RY=qs.shims,BY=(ii(wd={},mr,Object.values(su[mr])),ii(wd,Pr,Object.values(su[Pr])),wd),wv=null,zz={},Lz={},Hz={},Dz={},Tz={},UY=(ii(Sd={},mr,Object.keys(iu[mr])),ii(Sd,Pr,Object.keys(iu[Pr])),Sd);function GY(n,e){var t=e.split("-"),r=t[0],i=t.slice(1).join("-");return r!==n||""===i||function jY(n){return~MY.indexOf(n)}(i)?null:i}var Vz=function(){var e=function(a){return bv(H0,function(o,_,k){return o[k]=bv(_,a,{}),o},{})};zz=e(function(i,a,o){return a[3]&&(i[a[3]]=o),a[2]&&a[2].filter(function(k){return"number"==typeof k}).forEach(function(k){i[k.toString(16)]=o}),i}),Lz=e(function(i,a,o){return i[o]=o,a[2]&&a[2].filter(function(k){return"string"==typeof k}).forEach(function(k){i[k]=o}),i}),Tz=e(function(i,a,o){var _=a[2];return i[o]=o,_.forEach(function(k){i[k]=o}),i});var t="far"in H0||C2.autoFetchSvg,r=bv(RY,function(i,a){var o=a[0],_=a[1],k=a[2];return"far"===_&&!t&&(_="fas"),"string"==typeof o&&(i.names[o]={prefix:_,iconName:k}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:_,iconName:k}),i},{names:{},unicodes:{}});Hz=r.names,Dz=r.unicodes,wv=Ld(C2.styleDefault,{family:C2.familyDefault})};function Sv(n,e){return(zz[n]||{})[e]}function Fc(n,e){return(Tz[n]||{})[e]}function kz(n){return Hz[n]||{prefix:null,iconName:null}}function b4(){return wv}function Ld(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.family,r=void 0===t?mr:t,i=iu[r][n],a=au[r][n]||au[r][i],o=n in qs.styles?n:null;return a||o||null}(function LY(n){lu.push(n)})(function(n){wv=Ld(n.styleDefault,{family:C2.familyDefault})}),Vz();var Az=(ii(zd={},mr,Object.keys(su[mr])),ii(zd,Pr,Object.keys(su[Pr])),zd);function Hd(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.skipLookups,i=void 0!==r&&r,a=(ii(e={},mr,"".concat(C2.cssPrefix,"-").concat(mr)),ii(e,Pr,"".concat(C2.cssPrefix,"-").concat(Pr)),e),o=null,_=mr;(n.includes(a[mr])||n.some(function(q){return Az[mr].includes(q)}))&&(_=mr),(n.includes(a[Pr])||n.some(function(q){return Az[Pr].includes(q)}))&&(_=Pr);var k=n.reduce(function(q,de){var ze=GY(C2.cssPrefix,de);if(H0[de]?(de=BY[_].includes(de)?vY[_][de]:de,o=de,q.prefix=de):UY[_].indexOf(de)>-1?(o=de,q.prefix=Ld(de,{family:_})):ze?q.iconName=ze:de!==C2.replacementClass&&de!==a[mr]&&de!==a[Pr]&&q.rest.push(de),!i&&q.prefix&&q.iconName){var Be="fa"===o?kz(q.iconName):{},ct=Fc(q.prefix,q.iconName);Be.prefix&&(o=null),q.iconName=Be.iconName||ct||q.iconName,q.prefix=Be.prefix||q.prefix,"far"===q.prefix&&!H0.far&&H0.fas&&!C2.autoFetchSvg&&(q.prefix="fas")}return q},{prefix:null,iconName:null,rest:[]});return(n.includes("fa-brands")||n.includes("fab"))&&(k.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(k.prefix="fad"),!k.prefix&&_===Pr&&(H0.fass||C2.autoFetchSvg)&&(k.prefix="fass",k.iconName=Fc(k.prefix,k.iconName)||k.iconName),("fa"===k.prefix||"fa"===o)&&(k.prefix=b4()||"fas"),k}var qY=function(){function n(){(function iY(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function aY(n,e,t){e&&rz(n.prototype,e),t&&rz(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(_){t.definitions[_]=l2(l2({},t.definitions[_]||{}),o[_]),Mv(_,o[_]);var k=su[mr][_];k&&Mv(k,o[_]),Vz()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(a){var o=i[a],_=o.prefix,k=o.iconName,q=o.icon,de=q[2];t[_]||(t[_]={}),de.length>0&&de.forEach(function(ze){"string"==typeof ze&&(t[_][ze]=q)}),t[_][k]=q}),t}}]),n}(),Nz=[],D0={},T0={},YY=Object.keys(T0);function Lv(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var a=D0[n]||[];return a.forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Rc(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=D0[n]||[];i.forEach(function(a){a.apply(null,t)})}function M3(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return T0[n]?T0[n].apply(null,e):void 0}function Hv(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||b4();if(e)return e=Fc(t,e)||e,wz(Ez.definitions,t,e)||wz(qs.styles,t,e)}var Ez=new qY,KY={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C3?(Rc("beforeI2svg",e),M3("pseudoElements2svg",e),M3("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===C2.autoReplaceSvg&&(C2.autoReplaceSvg=!0),C2.observeMutations=!0,PY(function(){JY({autoReplaceSvgRoot:t}),Rc("watch",e)})}},Wa={noAuto:function(){C2.autoReplaceSvg=!1,C2.observeMutations=!1,Rc("noAuto")},config:C2,dom:KY,parse:{icon:function(e){if(null===e)return null;if("object"===pd(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Fc(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=Ld(e[0]);return{prefix:r,iconName:Fc(r,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(C2.cssPrefix,"-"))>-1||e.match(yY))){var i=Hd(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||b4(),iconName:Fc(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var a=b4();return{prefix:a,iconName:Fc(a,e)||e}}}},library:Ez,findIconDefinition:Hv,toHtml:fu},JY=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,r=void 0===t?pr:t;(Object.keys(qs.styles).length>0||C2.autoFetchSvg)&&C3&&C2.autoReplaceSvg&&Wa.dom.i2svg({node:r})};function Dd(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return fu(r)})}}),Object.defineProperty(n,"node",{get:function(){if(C3){var r=pr.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function Dv(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,a=n.iconName,o=n.transform,_=n.symbol,k=n.title,q=n.maskId,de=n.titleId,ze=n.extra,Be=n.watchable,ct=void 0!==Be&&Be,wt=r.found?r:t,Gt=wt.width,ln=wt.height,yn="fak"===i,Nn=[C2.replacementClass,a?"".concat(C2.cssPrefix,"-").concat(a):""].filter(function(Si){return-1===ze.classes.indexOf(Si)}).filter(function(Si){return""!==Si||!!Si}).concat(ze.classes).join(" "),hn={children:[],attributes:l2(l2({},ze.attributes),{},{"data-prefix":i,"data-icon":a,class:Nn,role:ze.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Gt," ").concat(ln)})},Kn=yn&&!~ze.classes.indexOf("fa-fw")?{width:"".concat(Gt/ln*16*.0625,"em")}:{};ct&&(hn.attributes[Ic]=""),k&&(hn.children.push({tag:"title",attributes:{id:hn.attributes["aria-labelledby"]||"title-".concat(de||uu())},children:[k]}),delete hn.attributes.title);var Z2=l2(l2({},hn),{},{prefix:i,iconName:a,main:t,mask:r,maskId:q,transform:o,symbol:_,styles:l2(l2({},Kn),ze.styles)}),y1=r.found&&t.found?M3("generateAbstractMask",Z2)||{children:[],attributes:{}}:M3("generateAbstractIcon",Z2)||{children:[],attributes:{}},Ya=y1.attributes;return Z2.children=y1.children,Z2.attributes=Ya,_?function tZ(n){var t=n.iconName,r=n.children,i=n.attributes,a=n.symbol,o=!0===a?"".concat(n.prefix,"-").concat(C2.cssPrefix,"-").concat(t):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:l2(l2({},i),{},{id:o}),children:r}]}]}(Z2):function eZ(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,a=n.styles,o=n.transform;if(_v(o)&&t.found&&!r.found){var q={x:t.width/t.height/2,y:.5};i.style=xd(l2(l2({},a),{},{"transform-origin":"".concat(q.x+o.x/16,"em ").concat(q.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(Z2)}function Pz(n){var e=n.content,t=n.width,r=n.height,i=n.transform,a=n.title,o=n.extra,_=n.watchable,k=void 0!==_&&_,q=l2(l2(l2({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});k&&(q[Ic]="");var de=l2({},o.styles);_v(i)&&(de.transform=function kY(n){var e=n.transform,t=n.width,i=n.height,a=void 0===i?16:i,o=n.startCentered,_=void 0!==o&&o,k="";return k+=_&&dz?"translate(".concat(e.x/16-(void 0===t?16:t)/2,"em, ").concat(e.y/16-a/2,"em) "):_?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(k+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:t,height:r}),de["-webkit-transform"]=de.transform);var ze=xd(de);ze.length>0&&(q.style=ze);var Be=[];return Be.push({tag:"span",attributes:q,children:[e]}),a&&Be.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),Be}function nZ(n){var e=n.content,t=n.title,r=n.extra,i=l2(l2(l2({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),a=xd(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),t&&o.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),o}var Tv=qs.styles;function Vv(n){var e=n[0],t=n[1],a=uv(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(a)?{tag:"g",attributes:{class:"".concat(C2.cssPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(C2.cssPrefix,"-").concat("secondary"),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(C2.cssPrefix,"-").concat("primary"),fill:"currentColor",d:a[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:a}}}}var rZ={found:!1,width:512,height:512};function kv(n,e){var t=e;return"fa"===e&&null!==C2.styleDefault&&(e=b4()),new Promise(function(r,i){if(M3("missingIconAbstract"),"fa"===t){var o=kz(n)||{};n=o.iconName||n,e=o.prefix||e}if(n&&e&&Tv[e]&&Tv[e][n])return r(Vv(Tv[e][n]));(function iZ(n,e){!gz&&!C2.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),r(l2(l2({},rZ),{},{icon:C2.showMissingIcons&&n&&M3("missingIconAbstract")||{}}))})}var Iz=function(){},Av=C2.measurePerformance&&gd&&gd.mark&&gd.measure?gd:{mark:Iz,measure:Iz},du='FA "6.2.1"',Nv_begin=function(e){return Av.mark("".concat(du," ").concat(e," begins")),function(){return function(e){Av.mark("".concat(du," ").concat(e," ends")),Av.measure("".concat(du," ").concat(e),"".concat(du," ").concat(e," begins"),"".concat(du," ").concat(e," ends"))}(e)}},Td=function(){};function Fz(n){return"string"==typeof(n.getAttribute?n.getAttribute(Ic):null)}function lZ(n){return pr.createElementNS("http://www.w3.org/2000/svg",n)}function uZ(n){return pr.createElement(n)}function Rz(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.ceFn,r=void 0===t?"svg"===n.tag?lZ:uZ:t;if("string"==typeof n)return pr.createTextNode(n);var i=r(n.tag);Object.keys(n.attributes||[]).forEach(function(o){i.setAttribute(o,n.attributes[o])});var a=n.children||[];return a.forEach(function(o){i.appendChild(Rz(o,{ceFn:r}))}),i}var Vd={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(i){t.parentNode.insertBefore(Rz(i),t)}),null===t.getAttribute(Ic)&&C2.keepOriginalSource){var r=pr.createComment(function fZ(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(e){var t=e[0],r=e[1];if(~yv(t).indexOf(C2.replacementClass))return Vd.replace(e);var i=new RegExp("".concat(C2.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var a=r[0].attributes.class.split(" ").reduce(function(_,k){return k===C2.replacementClass||k.match(i)?_.toSvg.push(k):_.toNode.push(k),_},{toNode:[],toSvg:[]});r[0].attributes.class=a.toSvg.join(" "),0===a.toNode.length?t.removeAttribute("class"):t.setAttribute("class",a.toNode.join(" "))}var o=r.map(function(_){return fu(_)}).join("\n");t.setAttribute(Ic,""),t.innerHTML=o}};function Bz(n){n()}function Uz(n,e){var t="function"==typeof e?e:Td;if(0===n.length)t();else{var r=Bz;"async"===C2.mutateApproach&&(r=_4.requestAnimationFrame||Bz),r(function(){var i=function cZ(){return!0===C2.autoReplaceSvg?Vd.replace:Vd[C2.autoReplaceSvg]||Vd.replace}(),a=Nv_begin("mutate");n.map(i),a(),t()})}}var Ev=!1;function jz(){Ev=!0}function Pv(){Ev=!1}var kd=null;function Gz(n){if(fz&&C2.observeMutations){var e=n.treeCallback,t=void 0===e?Td:e,r=n.nodeCallback,i=void 0===r?Td:r,a=n.pseudoElementsCallback,o=void 0===a?Td:a,_=n.observeMutationsRoot,k=void 0===_?pr:_;kd=new fz(function(q){if(!Ev){var de=b4();L0(q).forEach(function(ze){if("childList"===ze.type&&ze.addedNodes.length>0&&!Fz(ze.addedNodes[0])&&(C2.searchPseudoElements&&o(ze.target),t(ze.target)),"attributes"===ze.type&&ze.target.parentNode&&C2.searchPseudoElements&&o(ze.target.parentNode),"attributes"===ze.type&&Fz(ze.target)&&~xY.indexOf(ze.attributeName))if("class"===ze.attributeName&&function sZ(n){var e=n.getAttribute?n.getAttribute(mv):null,t=n.getAttribute?n.getAttribute(gv):null;return e&&t}(ze.target)){var Be=Hd(yv(ze.target)),wt=Be.iconName;ze.target.setAttribute(mv,Be.prefix||de),wt&&ze.target.setAttribute(gv,wt)}else(function oZ(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(C2.replacementClass)})(ze.target)&&i(ze.target)})}}),C3&&kd.observe(k,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function hZ(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(r,i){var a=i.split(":"),o=a[0],_=a.slice(1);return o&&_.length>0&&(r[o]=_.join(":").trim()),r},{})),t}function pZ(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",i=Hd(yv(n));return i.prefix||(i.prefix=b4()),e&&t&&(i.prefix=e,i.iconName=t),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function $Y(n,e){return(Lz[n]||{})[e]}(i.prefix,n.innerText)||Sv(i.prefix,xv(n.innerText))),!i.iconName&&C2.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=n.firstChild.data)),i}function mZ(n){var e=L0(n.attributes).reduce(function(i,a){return"class"!==i.name&&"style"!==i.name&&(i[a.name]=a.value),i},{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return C2.autoA11y&&(t?e["aria-labelledby"]="".concat(C2.replacementClass,"-title-").concat(r||uu()):(e["aria-hidden"]="true",e.focusable="false")),e}function $z(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=pZ(n),r=t.iconName,i=t.prefix,a=t.rest,o=mZ(n),_=Lv("parseNodeAttributes",{},n),k=e.styleParser?hZ(n):[];return l2({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:To,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:k,attributes:o}},_)}var vZ=qs.styles;function Wz(n){var e="nest"===C2.autoReplaceSvg?$z(n,{styleParser:!1}):$z(n);return~e.extra.classes.indexOf(vz)?M3("generateLayersText",n,e):M3("generateSvgReplacementMutation",n,e)}var x4=new Set;function qz(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!C3)return Promise.resolve();var t=pr.documentElement.classList,r=function(ze){return t.add("".concat(mz,"-").concat(ze))},i=function(ze){return t.remove("".concat(mz,"-").concat(ze))},a=C2.autoFetchSvg?x4:vv.map(function(de){return"fa-".concat(de)}).concat(Object.keys(vZ));a.includes("fa")||a.push("fa");var o=[".".concat(vz,":not([").concat(Ic,"])")].concat(a.map(function(de){return".".concat(de,":not([").concat(Ic,"])")})).join(", ");if(0===o.length)return Promise.resolve();var _=[];try{_=L0(n.querySelectorAll(o))}catch{}if(!(_.length>0))return Promise.resolve();r("pending"),i("complete");var k=Nv_begin("onTree"),q=_.reduce(function(de,ze){try{var Be=Wz(ze);Be&&de.push(Be)}catch(ct){gz||"MissingIcon"===ct.name&&console.error(ct)}return de},[]);return new Promise(function(de,ze){Promise.all(q).then(function(Be){Uz(Be,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),k(),de()})}).catch(function(Be){k(),ze(Be)})})}function yZ(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Wz(n).then(function(t){t&&Uz([t],e)})}vv.map(function(n){x4.add("fa-".concat(n))}),Object.keys(iu[mr]).map(x4.add.bind(x4)),Object.keys(iu[Pr]).map(x4.add.bind(x4)),x4=nu(x4);var CZ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.transform,i=void 0===r?To:r,a=t.symbol,o=void 0!==a&&a,_=t.mask,k=void 0===_?null:_,q=t.maskId,de=void 0===q?null:q,ze=t.title,Be=void 0===ze?null:ze,ct=t.titleId,wt=void 0===ct?null:ct,Gt=t.classes,ln=void 0===Gt?[]:Gt,yn=t.attributes,Nn=void 0===yn?{}:yn,hn=t.styles,Kn=void 0===hn?{}:hn;if(e){var Z2=e.prefix,y1=e.iconName,xr=e.icon;return Dd(l2({type:"icon"},e),function(){return Rc("beforeDOMElementCreation",{iconDefinition:e,params:t}),C2.autoA11y&&(Be?Nn["aria-labelledby"]="".concat(C2.replacementClass,"-title-").concat(wt||uu()):(Nn["aria-hidden"]="true",Nn.focusable="false")),Dv({icons:{main:Vv(xr),mask:k?Vv(k.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Z2,iconName:y1,transform:l2(l2({},To),i),symbol:o,title:Be,maskId:de,titleId:wt,extra:{attributes:Nn,styles:Kn,classes:ln}})})}},bZ={mixout:function(){return{icon:(n=CZ,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:Hv(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:Hv(i||{})),n(r,l2(l2({},t),{},{mask:i}))})};var n},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=qz,t.nodeCallback=yZ,t}}},provides:function(e){e.i2svg=function(t){var r=t.node,a=t.callback;return qz(void 0===r?pr:r,void 0===a?function(){}:a)},e.generateSvgReplacementMutation=function(t,r){var i=r.iconName,a=r.title,o=r.titleId,_=r.prefix,k=r.transform,q=r.symbol,de=r.mask,ze=r.maskId,Be=r.extra;return new Promise(function(ct,wt){Promise.all([kv(i,_),de.iconName?kv(de.iconName,de.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(Gt){var ln=uv(Gt,2);ct([t,Dv({icons:{main:ln[0],mask:ln[1]},prefix:_,iconName:i,transform:k,symbol:q,maskId:ze,title:a,titleId:o,extra:Be,watchable:!0})])}).catch(wt)})},e.generateAbstractIcon=function(t){var q,r=t.children,i=t.attributes,a=t.main,o=t.transform,k=xd(t.styles);return k.length>0&&(i.style=k),_v(o)&&(q=M3("generateAbstractTransformGrouping",{main:a,transform:o,containerWidth:a.width,iconWidth:a.width})),r.push(q||a.icon),{children:r,attributes:i}}}},xZ={mixout:function(){return{layer:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,a=void 0===i?[]:i;return Dd({type:"layer"},function(){Rc("beforeDOMElementCreation",{assembler:t,params:r});var o=[];return t(function(_){Array.isArray(_)?_.map(function(k){o=o.concat(k.abstract)}):o=o.concat(_.abstract)}),[{tag:"span",attributes:{class:["".concat(C2.cssPrefix,"-layers")].concat(nu(a)).join(" ")},children:o}]})}}}},MZ={mixout:function(){return{counter:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,a=void 0===i?null:i,o=r.classes,_=void 0===o?[]:o,k=r.attributes,q=void 0===k?{}:k,de=r.styles,ze=void 0===de?{}:de;return Dd({type:"counter",content:t},function(){return Rc("beforeDOMElementCreation",{content:t,params:r}),nZ({content:t.toString(),title:a,extra:{attributes:q,styles:ze,classes:["".concat(C2.cssPrefix,"-layers-counter")].concat(nu(_))}})})}}}},wZ={mixout:function(){return{text:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,a=void 0===i?To:i,o=r.title,_=void 0===o?null:o,k=r.classes,q=void 0===k?[]:k,de=r.attributes,ze=void 0===de?{}:de,Be=r.styles,ct=void 0===Be?{}:Be;return Dd({type:"text",content:t},function(){return Rc("beforeDOMElementCreation",{content:t,params:r}),Pz({content:t,transform:l2(l2({},To),a),title:_,extra:{attributes:ze,styles:ct,classes:["".concat(C2.cssPrefix,"-layers-text")].concat(nu(q))}})})}}},provides:function(e){e.generateLayersText=function(t,r){var i=r.title,a=r.transform,o=r.extra,_=null,k=null;if(dz){var q=parseInt(getComputedStyle(t).fontSize,10),de=t.getBoundingClientRect();_=de.width/q,k=de.height/q}return C2.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([t,Pz({content:t.innerHTML,width:_,height:k,transform:a,title:i,extra:o,watchable:!0})])}}},SZ=new RegExp('"',"ug"),Yz=[1105920,1112319];function Zz(n,e){var t="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==n.getAttribute(t))return r();var o=L0(n.children).filter(function(xr){return xr.getAttribute(pv)===e})[0],_=_4.getComputedStyle(n,e),k=_.getPropertyValue("font-family").match(_Y),q=_.getPropertyValue("font-weight"),de=_.getPropertyValue("content");if(o&&!k)return n.removeChild(o),r();if(k&&"none"!==de&&""!==de){var ze=_.getPropertyValue("content"),Be=~["Sharp"].indexOf(k[2])?Pr:mr,ct=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(k[2])?au[Be][k[2].toLowerCase()]:CY[Be][q],wt=function zZ(n){var e=n.replace(SZ,""),t=function FY(n,e){var i,t=n.length,r=n.charCodeAt(e);return r>=55296&&r<=56319&&t>e+1&&(i=n.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=t>=Yz[0]&&t<=Yz[1],i=2===e.length&&e[0]===e[1];return{value:xv(i?e[0]:e),isSecondary:r||i}}(ze),Gt=wt.value,ln=wt.isSecondary,yn=k[0].startsWith("FontAwesome"),Nn=Sv(ct,Gt),hn=Nn;if(yn){var Kn=function WY(n){var e=Dz[n],t=Sv("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(Gt);Kn.iconName&&Kn.prefix&&(Nn=Kn.iconName,ct=Kn.prefix)}if(!Nn||ln||o&&o.getAttribute(mv)===ct&&o.getAttribute(gv)===hn)r();else{n.setAttribute(t,hn),o&&n.removeChild(o);var Z2=function gZ(){return{iconName:null,title:null,titleId:null,prefix:null,transform:To,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),y1=Z2.extra;y1.attributes[pv]=e,kv(Nn,ct).then(function(xr){var Ya=Dv(l2(l2({},Z2),{},{icons:{main:xr,mask:{prefix:null,iconName:null,rest:[]}},prefix:ct,iconName:hn,extra:y1,watchable:!0})),Si=pr.createElement("svg");"::before"===e?n.insertBefore(Si,n.firstChild):n.appendChild(Si),Si.outerHTML=Ya.map(function(Ks){return fu(Ks)}).join("\n"),n.removeAttribute(t),r()}).catch(i)}}else r()})}function LZ(n){return Promise.all([Zz(n,"::before"),Zz(n,"::after")])}function HZ(n){return!(n.parentNode===document.head||~gY.indexOf(n.tagName.toUpperCase())||n.getAttribute(pv)||n.parentNode&&"svg"===n.parentNode.tagName)}function Xz(n){if(C3)return new Promise(function(e,t){var r=L0(n.querySelectorAll("*")).filter(HZ).map(LZ),i=Nv_begin("searchPseudoElements");jz(),Promise.all(r).then(function(){i(),Pv(),e()}).catch(function(){i(),Pv(),t()})})}var Kz=!1,Qz=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var a=i.toLowerCase().split("-"),o=a[0],_=a.slice(1).join("-");if(o&&"h"===_)return r.flipX=!0,r;if(o&&"v"===_)return r.flipY=!0,r;if(_=parseFloat(_),isNaN(_))return r;switch(o){case"grow":r.size=r.size+_;break;case"shrink":r.size=r.size-_;break;case"left":r.x=r.x-_;break;case"right":r.x=r.x+_;break;case"up":r.y=r.y-_;break;case"down":r.y=r.y+_;break;case"rotate":r.rotate=r.rotate+_}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Iv={x:0,y:0,width:"100%",height:"100%"};function Jz(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}!function ZY(n,e){var t=e.mixoutsTo;Nz=n,D0={},Object.keys(T0).forEach(function(r){-1===YY.indexOf(r)&&delete T0[r]}),Nz.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(t[o]=i[o]),"object"===pd(i[o])&&Object.keys(i[o]).forEach(function(_){t[o]||(t[o]={}),t[o][_]=i[o][_]})}),r.hooks){var a=r.hooks();Object.keys(a).forEach(function(o){D0[o]||(D0[o]=[]),D0[o].push(a[o])})}r.provides&&r.provides(T0)})}([NY,bZ,xZ,MZ,wZ,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=Xz,t}}},provides:function(e){e.pseudoElements2svg=function(t){var r=t.node;C2.searchPseudoElements&&Xz(void 0===r?pr:r)}}},{mixout:function(){return{dom:{unwatch:function(){jz(),Kz=!0}}}},hooks:function(){return{bootstrap:function(){Gz(Lv("mutationObserverCallbacks",{}))},noAuto:function(){!function dZ(){kd&&kd.disconnect()}()},watch:function(t){var r=t.observeMutationsRoot;Kz?Pv():Gz(Lv("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(t){return Qz(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-transform");return i&&(t.transform=Qz(i)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var r=t.main,i=t.transform,o=t.iconWidth,_={transform:"translate(".concat(t.containerWidth/2," 256)")},k="translate(".concat(32*i.x,", ").concat(32*i.y,") "),q="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),de="rotate(".concat(i.rotate," 0 0)"),ct={outer:_,inner:{transform:"".concat(k," ").concat(q," ").concat(de)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:l2({},ct.outer),children:[{tag:"g",attributes:l2({},ct.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:l2(l2({},r.icon.attributes),ct.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-mask"),a=i?Hd(i.split(" ").map(function(o){return o.trim()})):{prefix:null,iconName:null,rest:[]};return a.prefix||(a.prefix=b4()),t.mask=a,t.maskId=r.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var n,r=t.children,i=t.attributes,a=t.main,o=t.mask,_=t.maskId,de=a.icon,Be=o.icon,ct=function VY(n){var e=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},a="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),_="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(_)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:t.transform,containerWidth:o.width,iconWidth:a.width}),wt={tag:"rect",attributes:l2(l2({},Iv),{},{fill:"white"})},Gt=de.children?{children:de.children.map(Jz)}:{},ln={tag:"g",attributes:l2({},ct.inner),children:[Jz(l2({tag:de.tag,attributes:l2(l2({},de.attributes),ct.path)},Gt))]},yn={tag:"g",attributes:l2({},ct.outer),children:[ln]},Nn="mask-".concat(_||uu()),hn="clip-".concat(_||uu()),Kn={tag:"mask",attributes:l2(l2({},Iv),{},{id:Nn,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[wt,yn]},Z2={tag:"defs",children:[{tag:"clipPath",attributes:{id:hn},children:(n=Be,"g"===n.tag?n.children:[n])},Kn]};return r.push(Z2,{tag:"rect",attributes:l2({fill:"currentColor","clip-path":"url(#".concat(hn,")"),mask:"url(#".concat(Nn,")")},Iv)}),{children:r,attributes:i}}}},{provides:function(e){var t=!1;_4.matchMedia&&(t=_4.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:l2(l2({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=l2(l2({},a),{},{attributeName:"opacity"}),_={tag:"circle",attributes:l2(l2({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||_.children.push({tag:"animate",attributes:l2(l2({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:l2(l2({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(_),r.push({tag:"path",attributes:l2(l2({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:l2(l2({},o),{},{values:"1;0;0;0;0;1;"})}]}),t||r.push({tag:"path",attributes:l2(l2({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:l2(l2({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-symbol");return t.symbol=null!==i&&(""===i||i),t}}}}],{mixoutsTo:Wa});var IZ=Wa.parse,OZ=Wa.icon;const FZ=["*"],UZ=n=>{const e={[`fa-${n.animation}`]:null!=n.animation&&!n.animation.startsWith("spin"),"fa-spin":"spin"===n.animation||"spin-reverse"===n.animation,"fa-spin-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-spin-reverse":"spin-reverse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let $Z=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WZ=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...t){for(const r of t){const i=Object.keys(r).map(a=>r[a]);this.addIcons(...i)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qZ=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[_1]}),n})(),YZ=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(Tt(Nr),Tt(K1))},n.\u0275cmp=I2({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[_1],ngContentSelectors:FZ,decls:1,vars:0,template:function(t,r){1&t&&(g8(),bc(0))},encapsulation:2}),n})(),pa=(()=>{class n{constructor(t,r,i,a,o){this.sanitizer=t,this.config=r,this.iconLibrary=i,this.stackItem=a,this.classes=[],null!=o&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}set spin(t){this.animation=t?"spin":void 0}set pulse(t){this.animation=t?"spin-pulse":void 0}ngOnChanges(t){if(null!=this.icon||null!=this.config.fallbackIcon){if(t){const i=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=i){const a=this.buildParams();this.renderIcon(i,a)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:"string"==typeof n?{prefix:e,iconName:n}:{prefix:n[0],iconName:n[1]})(t,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?IZ.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...UZ(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const i=OZ(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(Tt(ew),Tt($Z),Tt(WZ),Tt(qZ,8),Tt(YZ,8))},n.\u0275cmp=I2({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(rm("innerHTML",r.renderedIconHTML,Gl),Ia("title",r.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[_1],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),ZZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({}),n})();const XZ=new c2("WindowToken",typeof window<"u"&&window.document?{providedIn:"root",factory:()=>window}:{providedIn:"root",factory:()=>{}});let KZ=(()=>{class n{constructor(t,r,i){this.ngZone=t,this.document=r,this.window=i,this.copySubject=new j,this.copyResponse$=this.copySubject.asObservable(),this.config={}}configure(t){this.config=t}copy(t){if(!this.isSupported||!t)return this.pushCopyResponse({isSuccess:!1,content:t});const r=this.copyFromContent(t);return this.pushCopyResponse(r?{content:t,isSuccess:r}:{isSuccess:!1,content:t})}get isSupported(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}isTargetValid(t){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){if(t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}copyFromInputElement(t,r=!0){try{this.selectTarget(t);const i=this.copyText();return this.clearSelection(r?t:void 0,this.window),i&&this.isCopySuccessInIE11()}catch{return!1}}isCopySuccessInIE11(){const t=this.window.clipboardData;return!(t&&t.getData&&!t.getData("Text"))}copyFromContent(t,r=this.document.body){if(this.tempTextArea&&!r.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{r.appendChild(this.tempTextArea)}catch{throw new Error("Container should be a Dom element")}}this.tempTextArea.value=t;const i=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),i}destroy(t=this.document.body){this.tempTextArea&&(t.removeChild(this.tempTextArea),this.tempTextArea=void 0)}selectTarget(t){return t.select(),t.setSelectionRange(0,t.value.length),t.value.length}copyText(){return this.document.execCommand("copy")}clearSelection(t,r){t&&t.focus(),r.getSelection()?.removeAllRanges()}createTempTextArea(t,r){const i="rtl"===t.documentElement.getAttribute("dir");let a;return a=t.createElement("textarea"),a.style.fontSize="12pt",a.style.border="0",a.style.padding="0",a.style.margin="0",a.style.position="absolute",a.style[i?"right":"left"]="-9999px",a.style.top=(r.pageYOffset||t.documentElement.scrollTop)+"px",a.setAttribute("readonly",""),a}pushCopyResponse(t){this.copySubject.observers.length>0&&this.ngZone.run(()=>{this.copySubject.next(t)})}pushCopyReponse(t){this.pushCopyResponse(t)}}return n.\u0275fac=function(t){return new(t||n)(gn(P1),gn(j1),gn(XZ,8))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({imports:[[P8]]}),n})(),JZ=(()=>{class n{constructor(t,r){this._elementRef=t,this._renderer=r,this.collapseClass=!0,this.collapseShow=new v1,this.collapseShown=new v1,this.collapseHide=new v1,this.collapseHidden=new v1,this._collapsed=!0,this._isTransitioning=!1}set collapsed(t){t!==this._collapsed&&(t?this.hide():this.show(),this._collapsed=t)}get collapsed(){return this._collapsed}get host(){return this._elementRef.nativeElement}show(){if(this._isTransitioning||!this.collapsed)return;this.collapseShow.emit(this),this._renderer.removeClass(this.host,"collapse"),this._renderer.addClass(this.host,"collapsing"),this._renderer.setStyle(this.host,"height","0px"),this._isTransitioning=!0;const t=this.host.scrollHeight;ds(this.host,"transitionend").pipe(bi(1)).subscribe(()=>{this._isTransitioning=!1,this.collapsed=!1,this._renderer.removeClass(this.host,"collapsing"),this._renderer.addClass(this.host,"collapse"),this._renderer.addClass(this.host,"show"),this._renderer.removeStyle(this.host,"height"),this.collapseShown.emit(this)}),this._emulateTransitionEnd(this.host,350),this._renderer.setStyle(this.host,"height",`${t}px`)}hide(){if(this._isTransitioning||this.collapsed)return;this.collapseHide.emit(this);const t=this.host.getBoundingClientRect().height;this._renderer.setStyle(this.host,"height",`${t}px`),this._reflow(this.host),this._renderer.addClass(this.host,"collapsing"),this._renderer.removeClass(this.host,"collapse"),this._renderer.removeClass(this.host,"show"),this._isTransitioning=!0,ds(this.host,"transitionend").pipe(bi(1)).subscribe(()=>{this._renderer.removeClass(this.host,"collapsing"),this._renderer.addClass(this.host,"collapse"),this._isTransitioning=!1,this.collapsed=!0,this.collapseHidden.emit(this)}),this._renderer.removeStyle(this.host,"height"),this._emulateTransitionEnd(this.host,350)}toggle(){this._isTransitioning||(this.collapsed=!this.collapsed,this.collapsed?this.hide():this.show())}_reflow(t){return t.offsetHeight}_emulateTransitionEnd(t,r){let i=!1;const o=r+5;ds(t,"transitionend").pipe(bi(1)).subscribe(()=>{i=!0}),setTimeout(()=>{i||t.dispatchEvent(new Event("transitionend"))},o)}}return n.\u0275fac=function(t){return new(t||n)(Tt(K1),Tt(Nr))},n.\u0275dir=p2({type:n,selectors:[["","mdbCollapse",""]],hostVars:2,hostBindings:function(t,r){2&t&&k2("collapse",r.collapseClass)},inputs:{collapsed:"collapsed"},outputs:{collapseShow:"collapseShow",collapseShown:"collapseShown",collapseHide:"collapseHide",collapseHidden:"collapseHidden"},exportAs:["mdbCollapse"]}),n})(),eX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({}),n})();function M4(n){return null!=n&&"false"!=`${n}`}function Ad(n){return Array.isArray(n)?n:[n]}function Xr(n){return null==n?"":"string"==typeof n?n:`${n}px`}const hu={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=hu;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new c(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=hu;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=hu;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},aX=new class iX extends Ng{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class rX extends Ag{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=hu.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(hu.cancelAnimationFrame(t),e._scheduled=void 0)}});let Ov,sX=1;const Nd={};function tL(n){return n in Nd&&(delete Nd[n],!0)}const oX={setImmediate(n){const e=sX++;return Nd[e]=!0,Ov||(Ov=Promise.resolve()),Ov.then(()=>tL(e)&&n()),e},clearImmediate(n){tL(n)}},{setImmediate:cX,clearImmediate:lX}=oX,Ed={setImmediate(...n){const{delegate:e}=Ed;return(e?.setImmediate||cX)(...n)},clearImmediate(n){const{delegate:e}=Ed;return(e?.clearImmediate||lX)(n)},delegate:void 0},dX=new class fX extends Ng{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class uX extends Ag{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ed.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(Ed.clearImmediate(t),e._scheduled=void 0)}});function Fv(n,e=X7){return function hX(n){return ee((e,t)=>{let r=!1,i=null,a=null,o=!1;const _=()=>{if(a?.unsubscribe(),a=null,r){r=!1;const q=i;i=null,t.next(q)}o&&t.complete()},k=()=>{a=null,o&&t.complete()};e.subscribe(F(t,q=>{r=!0,i=q,a||en(n(q)).subscribe(a=F(t,_,k))},()=>{o=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>lS(n,e))}function Q1(n){return ee((e,t)=>{en(n).subscribe(F(t,()=>t.complete(),b)),!t.closed&&e.subscribe(t)})}function Rv(...n){const e=fn(n);return ee((t,r)=>{(e?w0(n,t,e):w0(n,t)).subscribe(r)})}let Bv;try{Bv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Bv=!1}let Pd,Uc,Bc=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?rg(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Bv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(gn(V8))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rL(){if(null==Uc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Uc=!1,Uc;if("scrollBehavior"in document.documentElement.style)Uc=!0;else{const n=Element.prototype.scrollTo;Uc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Uc}function mu(){if("object"!=typeof document||!document)return 0;if(null==Pd){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),Pd=0,0===n.scrollLeft&&(n.scrollLeft=1,Pd=0===n.scrollLeft?1:2),n.remove()}return Pd}function iL(n){return n.composedPath?n.composedPath()[0]:n.target}function aL(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const gX=new c2("cdk-dir-doc",{providedIn:"root",factory:function vX(){return q2(j1)}}),yX=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Id=(()=>{class n{constructor(t){this.value="ltr",this.change=new v1,t&&(this.value=function _X(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?yX.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(gn(gX,8))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({}),n})();const CX=["contentWrapper"],bX=["*"],xX=new c2("VIRTUAL_SCROLL_STRATEGY");let Od=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new j,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new oe(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(Fv(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):T2()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Ci(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=function nX(n){return n instanceof K1?n.nativeElement:n}(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ds(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(gn(P1),gn(Bc),gn(j1,8))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sL=(()=>{class n{constructor(t,r,i,a){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=a,this._destroyed=new j,this._elementScrolled=new oe(o=>this.ngZone.runOutsideAngular(()=>ds(this.elementRef.nativeElement,"scroll").pipe(Q1(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=mu()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==mu()?t.left=t.right:1==mu()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;rL()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?i:r:"end"==t&&(t=o?r:i),o&&2==mu()?t==r?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:o&&1==mu()?t==r?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==r?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(Tt(K1),Tt(Od),Tt(P1),Tt(Id,8))},n.\u0275dir=p2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),Gv=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new j,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Fv(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(gn(Bc),gn(P1),gn(j1,8))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oL=new c2("VIRTUAL_SCROLLABLE");let SX=(()=>{class n extends sL{constructor(t,r,i,a){super(t,r,i,a)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(Tt(K1),Tt(Od),Tt(P1),Tt(Id,8))},n.\u0275dir=p2({type:n,features:[g1]}),n})();const LX=typeof requestAnimationFrame<"u"?aX:dX;let HX=(()=>{class n extends SX{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=M4(t)}constructor(t,r,i,a,o,_,k,q){super(t,_,i,o),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=a,this.scrollable=q,this._platform=q2(Bc),this._detachedSubject=new j,this._renderedRangeSubject=new j,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new oe(de=>this._scrollStrategy.scrolledIndexChange.subscribe(ze=>Promise.resolve().then(()=>this.ngZone.run(()=>de.next(ze))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=c.EMPTY,this._viewportChanges=k.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Rv(null),Fv(0,LX)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Q1(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function zX(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const a="horizontal"==this.orientation,o=a?"X":"Y";let k=`translate${o}(${Number((a&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(k+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=k&&(this._renderedContentTransform=k,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",a="right",o="rtl"==this.dir?.value;r="start"==t?o?a:i:"end"==t?o?i:a:t||("horizontal"===this.orientation?"left":"top");const _=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-_}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(Tt(K1),Tt(f4),Tt(P1),Tt(xX,8),Tt(Id,8),Tt(Od),Tt(Gv),Tt(oL,8))},n.\u0275cmp=I2({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&p7(CX,7),2&t){let i;wo(i=So())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&k2("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[hr([{provide:sL,useFactory:(e,t)=>e||t,deps:[[new mo,new Qo(oL)],n]}]),g1,fm],ngContentSelectors:bX,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(g8(),Pe(0,"div",0,1),bc(2),Ge(),jn(3,"div",2)),2&t&&(je(3),y8("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),cL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({}),n})(),lL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({imports:[jv,cL,HX,jv,cL]}),n})();class $v{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class DX extends $v{constructor(e,t,r,i,a){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=a}}class Fd extends $v{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class TX extends $v{constructor(e){super(),this.element=e instanceof K1?e.nativeElement:e}}class uL{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof DX?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Fd?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof TX?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class VX extends uL{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const _=o.element,k=this._document.createComment("dom-portal");_.parentNode.insertBefore(k,_),this.outletElement.appendChild(_),this._attachedPortal=o,super.setDisposeFn(()=>{k.parentNode&&k.parentNode.replaceChild(_,k)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Ai.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let fL=(()=>{class n extends uL{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new v1,this.attachDomPortal=a=>{const o=a.element,_=this._document.createComment("dom-portal");a.setAttachedHost(this),o.parentNode.insertBefore(_,o),this._getRootNode().appendChild(o),this._attachedPortal=a,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(o,_)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(a,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(Tt(Co),Tt(la),Tt(j1))},n.\u0275dir=p2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[g1]}),n})(),dL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({}),n})();const hL=rL();class kX{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Xr(-this._previousScrollPosition.left),e.style.top=Xr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),hL&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),hL&&(r.scrollBehavior=a,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class AX{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class pL{enable(){}disable(){}attach(){}}function Wv(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function mL(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class NX{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Wv(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let EX=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new pL,this.close=o=>new AX(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new kX(this._viewportRuler,this._document),this.reposition=o=>new NX(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(gn(Od),gn(Gv),gn(P1),gn(j1))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gL{constructor(e){if(this.scrollStrategy=new pL,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class PX{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let vL=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(gn(j1))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IX=(()=>{class n extends vL{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let o=a.length-1;o>-1;o--)if(a[o]._keydownEvents.observers.length>0){const _=a[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>_.next(i)):_.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(gn(j1),gn(P1,8))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OX=(()=>{class n extends vL{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=iL(a)},this._clickListener=a=>{const o=iL(a),_="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const k=this._attachedOverlays.slice();for(let q=k.length-1;q>-1;q--){const de=k[q];if(de._outsidePointerEvents.observers.length<1||!de.hasAttached())continue;if(de.overlayElement.contains(o)||de.overlayElement.contains(_))break;const ze=de._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ze.next(a)):ze.next(a)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(gn(j1),gn(Bc),gn(P1,8))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yL=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||aL()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),aL()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(gn(j1),gn(Bc))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class FX{constructor(e,t,r,i,a,o,_,k,q,de=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=o,this._document=_,this._location=k,this._outsideClickDispatcher=q,this._animationsDisabled=de,this._backdropElement=null,this._backdropClick=new j,this._attachments=new j,this._detachments=new j,this._locationChanges=c.EMPTY,this._backdropClickHandler=ze=>this._backdropClick.next(ze),this._backdropTransitionendHandler=ze=>{this._disposeBackdrop(ze.target)},this._keydownEvents=new j,this._outsidePointerEvents=new j,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(bi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Xr(this._config.width),e.height=Xr(this._config.height),e.minWidth=Xr(this._config.minWidth),e.minHeight=Xr(this._config.minHeight),e.maxWidth=Xr(this._config.maxWidth),e.maxHeight=Xr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=Ad(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Q1($n(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const _L="cdk-overlay-connected-position-bounding-box",RX=/([A-Za-z%]+)$/;class BX{get positions(){return this._preferredPositions}constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new j,this._resizeSubscription=c.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(_L),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let o;for(let _ of this._preferredPositions){let k=this._getOriginPoint(e,i,_),q=this._getOverlayPoint(k,t,_),de=this._getOverlayFit(q,t,r,_);if(de.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(_,k);this._canFitWithFlexibleDimensions(de,q,r)?a.push({position:_,origin:k,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(k,_)}):(!o||o.overlayFit.visibleArea<de.visibleArea)&&(o={overlayFit:de,overlayPoint:q,originPoint:k,position:_,overlayRect:t})}if(a.length){let _=null,k=-1;for(const q of a){const de=q.boundingBoxRect.width*q.boundingBoxRect.height*(q.position.weight||1);de>k&&(k=de,_=q)}return this._isPushed=!1,void this._applyPosition(_.position,_.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&jc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(_L),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,_=this._isRtl()?e.left:e.right;i="start"==r.originX?o:_}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=bL(t);let{x:o,y:_}=e,k=this._getOffset(i,"x"),q=this._getOffset(i,"y");k&&(o+=k),q&&(_+=q);let Be=0-_,ct=_+a.height-r.height,wt=this._subtractOverflows(a.width,0-o,o+a.width-r.width),Gt=this._subtractOverflows(a.height,Be,ct),ln=wt*Gt;return{visibleArea:ln,isCompletelyWithinViewport:a.width*a.height===ln,fitsInViewportVertically:Gt===a.height,fitsInViewportHorizontally:wt==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,o=CL(this._overlayRef.getConfig().minHeight),_=CL(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=_&&_<=a)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=bL(t),a=this._viewportRect,o=Math.max(e.x+i.width-a.width,0),_=Math.max(e.y+i.height-a.height,0),k=Math.max(a.top-r.top-e.y,0),q=Math.max(a.left-r.left-e.x,0);let de=0,ze=0;return de=i.width<=a.width?q||-o:e.x<this._viewportMargin?a.left-r.left-e.x:0,ze=i.height<=a.height?k||-_:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:de,y:ze},{x:e.x+de,y:e.y+ze}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new PX(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,o,_,de,ze,Be;if("top"===t.overlayY)o=e.y,a=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)_=r.height-e.y+2*this._viewportMargin,a=r.height-_+this._viewportMargin;else{const ct=Math.min(r.bottom-e.y+r.top,e.y),wt=this._lastBoundingBoxSize.height;a=2*ct,o=e.y-ct,a>wt&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-wt/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)Be=r.width-e.x+this._viewportMargin,de=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)ze=e.x,de=r.right-e.x;else{const ct=Math.min(r.right-e.x+r.left,e.x),wt=this._lastBoundingBoxSize.width;de=2*ct,ze=e.x-ct,de>wt&&!this._isInitialRender&&!this._growAfterOpen&&(ze=e.x-wt/2)}return{top:o,left:ze,bottom:_,right:Be,width:de,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Xr(r.height),i.top=Xr(r.top),i.bottom=Xr(r.bottom),i.width=Xr(r.width),i.left=Xr(r.left),i.right=Xr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=Xr(a)),o&&(i.maxWidth=Xr(o))}this._lastBoundingBoxSize=r,jc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){jc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){jc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const de=this._viewportRuler.getViewportScrollPosition();jc(r,this._getExactOverlayY(t,e,de)),jc(r,this._getExactOverlayX(t,e,de))}else r.position="static";let _="",k=this._getOffset(t,"x"),q=this._getOffset(t,"y");k&&(_+=`translateX(${k}px) `),q&&(_+=`translateY(${q}px)`),r.transform=_.trim(),o.maxHeight&&(i?r.maxHeight=Xr(o.maxHeight):a&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=Xr(o.maxWidth):a&&(r.maxWidth="")),jc(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=Xr(a.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=Xr(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mL(e,r),isOriginOutsideView:Wv(e,r),isOverlayClipped:mL(t,r),isOverlayOutsideView:Wv(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Ad(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof K1)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function jc(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function CL(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(RX);return t&&"px"!==t?null:parseFloat(e)}return n||null}function bL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const xL="cdk-global-overlay-wrapper";class UX{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(xL),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:o,maxHeight:_}=r,k=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),q=!("100%"!==a&&"100vh"!==a||_&&"100%"!==_&&"100vh"!==_),de=this._xPosition,ze=this._xOffset,Be="rtl"===this._overlayRef.getConfig().direction;let ct="",wt="",Gt="";k?Gt="flex-start":"center"===de?(Gt="center",Be?wt=ze:ct=ze):Be?"left"===de||"end"===de?(Gt="flex-end",ct=ze):("right"===de||"start"===de)&&(Gt="flex-start",wt=ze):"left"===de||"start"===de?(Gt="flex-start",ct=ze):("right"===de||"end"===de)&&(Gt="flex-end",wt=ze),e.position=this._cssPosition,e.marginLeft=k?"0":ct,e.marginTop=q?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=k?"0":wt,t.justifyContent=Gt,t.alignItems=q?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(xL),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let ML=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new UX}flexibleConnectedTo(t){return new BX(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(gn(Gv),gn(j1),gn(Bc),gn(yL))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jX=0,qv=(()=>{class n{constructor(t,r,i,a,o,_,k,q,de,ze,Be,ct){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=o,this._injector=_,this._ngZone=k,this._document=q,this._directionality=de,this._location=ze,this._outsideClickDispatcher=Be,this._animationsModuleType=ct}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),o=new gL(t);return o.direction=o.direction||this._directionality.value,new FX(a,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+jX++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Sc)),new VX(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(gn(EX),gn(yL),gn(Co),gn(ML),gn(IX),gn(Ai),gn(P1),gn(j1),gn(Id),gn(A8),gn(OX),gn(zm,8))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const WX={provide:new c2("cdk-connected-overlay-scroll-strategy"),deps:[qv],useFactory:function $X(n){return()=>n.scrollStrategies.reposition()}};let qX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({providers:[qv,WX],imports:[jv,dL,lL,lL]}),n})();function Yv(...n){const e=fn(n),t=$t(n),{args:r,keys:i}=nw(n);if(0===r.length)return Ln([],e);const a=new oe(function YX(n,e,t=Z){return r=>{wL(e,()=>{const{length:i}=n,a=new Array(i);let o=i,_=i;for(let k=0;k<i;k++)wL(e,()=>{const q=Ln(n[k],e);let de=!1;q.subscribe(F(r,ze=>{a[k]=ze,de||(de=!0,_--),_||r.next(t(a.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>rw(i,o):Z));return t?a.pipe(hg(t)):a}function wL(n,e,t){n?ft(t,n,e):e()}const SL=new Set;let k0,KX=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):JX}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function QX(n){if(!SL.has(n))try{k0||(k0=document.createElement("style"),k0.setAttribute("type","text/css"),document.head.appendChild(k0)),k0.sheet&&(k0.sheet.insertRule(`@media ${n} {body{ }}`,0),SL.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(gn(Bc))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JX(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let eK=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new j}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return zL(Ad(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=Yv(zL(Ad(t)).map(o=>this._registerQuery(o).observable));return a=w0(a.pipe(bi(1)),a.pipe(function ZX(n){return Ci((e,t)=>n<=t)}(1),function XX(n,e=X7){return ee((t,r)=>{let i=null,a=null,o=null;const _=()=>{if(i){i.unsubscribe(),i=null;const q=a;a=null,r.next(q)}};function k(){const q=o+n,de=e.now();if(de<q)return i=this.schedule(void 0,q-de),void r.add(i);_()}t.subscribe(F(r,q=>{a=q,o=e.now(),i||(i=e.schedule(k,n),r.add(i))},()=>{_(),r.complete()},void 0,()=>{a=i=null}))})}(0))),a.pipe(Y(o=>{const _={matches:!1,breakpoints:{}};return o.forEach(({matches:k,query:q})=>{_.matches=_.matches||k,_.breakpoints[q]=k}),_}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new oe(o=>{const _=k=>this._zone.run(()=>o.next(k));return r.addListener(_),()=>{r.removeListener(_)}}).pipe(Rv(r),Y(({matches:o})=>({query:t,matches:o})),Q1(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(gn(KX),gn(P1))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zL(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const tK=["dropdownTemplate"],nK=["mdbDropdown",""];function rK(n,e){if(1&n){const t=k1();Pe(0,"div"),xn("@fade.done",function(i){return s2(t),o2(on().onAnimationEnd(i))}),bc(1,2),Ge()}if(2&n){const t=on();Ht("@fade",t._animationState)("@.disabled",!t.animation)}}const iK=["*",[["",8,"dropdown-toggle"]],[["",8,"dropdown-menu"]]],aK=["*",".dropdown-toggle",".dropdown-menu"];let w3=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p2({type:n,selectors:[["","mdbDropdownToggle",""]],exportAs:["mdbDropdownToggle"]}),n})(),S3=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p2({type:n,selectors:[["","mdbDropdownMenu",""]],exportAs:["mdbDropdownMenu"]}),n})(),w4=(()=>{class n{constructor(t,r,i,a,o,_){this._overlay=t,this._overlayPositionBuilder=r,this._elementRef=i,this._vcr=a,this._breakpointObserver=o,this._cdRef=_,this._animation=!0,this.offset=0,this.closeOnOutsideClick=!0,this.closeOnItemClick=!0,this.closeOnEsc=!0,this.withPush=!1,this.dropdownShow=new v1,this.dropdownShown=new v1,this.dropdownHide=new v1,this.dropdownHidden=new v1,this._open=!1,this._breakpoints={isSm:this._breakpointObserver.isMatched("(min-width: 576px)"),isMd:this._breakpointObserver.isMatched("(min-width: 768px)"),isLg:this._breakpointObserver.isMatched("(min-width: 992px)"),isXl:this._breakpointObserver.isMatched("(min-width: 1200px)"),isXxl:this._breakpointObserver.isMatched("(min-width: 1400px)")},this._destroy$=new j,this._animationState="hidden"}get animation(){return this._animation}set animation(t){this._animation=M4(t)}ngAfterContentInit(){this._bindDropdownToggleClick()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.detach(),this._overlayRef.dispose()),this._destroy$.next(),this._destroy$.complete()}_bindDropdownToggleClick(){ds(this._dropdownToggle.nativeElement,"click").pipe(Q1(this._destroy$)).subscribe(()=>this.toggle())}_createOverlayConfig(){return new gL({hasBackdrop:!1,scrollStrategy:this._overlay.scrollStrategies.reposition(),positionStrategy:this._createPositionStrategy()})}_createOverlay(){this._overlayRef=this._overlay.create(this._createOverlayConfig())}_createPositionStrategy(){return this._overlayPositionBuilder.flexibleConnectedTo(this._dropdownToggle).withPositions(this._getPosition()).withFlexibleDimensions(!1).withPush(this.withPush)}_getPosition(){this._isDropUp=this._elementRef.nativeElement.classList.contains("dropup"),this._isDropStart=this._elementRef.nativeElement.classList.contains("dropstart"),this._isDropEnd=this._elementRef.nativeElement.classList.contains("dropend"),this._isDropdownMenuEnd=this._dropdownMenu.nativeElement.classList.contains("dropdown-menu-end"),this._xPosition=this._isDropdownMenuEnd?"end":"start";const t=new RegExp(/dropdown-menu-(sm|md|lg|xl|xxl)-(start|end)/,"g"),r=this._dropdownMenu.nativeElement.className.match(t);if(r){this._subscribeBrakpoints();const q=new RegExp(/start|end/,"g"),de=new RegExp(/(sm|md|lg|xl|xxl)/,"g"),ze=q.exec(r)[0],Be=de.exec(r)[0];switch(!0){case"xxl"===Be&&this._breakpoints.isXxl:case"xl"===Be&&this._breakpoints.isXl:case"lg"===Be&&this._breakpoints.isLg:case"md"===Be&&this._breakpoints.isMd:case"sm"===Be&&this._breakpoints.isSm:this._xPosition=ze}}let i;const a={originX:this._xPosition,originY:"top",overlayX:this._xPosition,overlayY:"bottom",offsetY:-this.offset},o={originX:this._xPosition,originY:"bottom",overlayX:this._xPosition,overlayY:"top",offsetY:this.offset},_={originX:"start",originY:"top",overlayX:"end",overlayY:"top",offsetX:this.offset},k={originX:"end",originY:"top",overlayX:"start",overlayY:"top",offsetX:-this.offset};switch(!0){case this._isDropEnd:i=[k,_];break;case this._isDropStart:i=[_,k];break;case this._isDropUp:i=[a,o];break;default:i=[o,a]}return i}_listenToEscKeyup(t){return ds(document,"keyup").pipe(Ci(r=>"Escape"===r.key),Q1(t.detachments()))}_listenToClick(t,r){return ds(document,"click").pipe(Ci(i=>{const a=i.target,o=this._dropdownMenu.nativeElement.contains(a),_=!this._dropdownToggle.nativeElement.contains(a),k=!o||a.classList&&a.classList.contains("dropdown-item");return a!==r&&_&&k}),Q1(t.detachments()))}onAnimationEnd(t){"visible"===t.fromState&&"hidden"===t.toState&&(this._overlayRef.detach(),this._open=!1,this.dropdownHidden.emit(this)),"hidden"===t.fromState&&"visible"===t.toState&&this.dropdownShown.emit(this)}_subscribeBrakpoints(){const t=["(min-width: 576px)","(min-width: 768px)","(min-width: 992px)","(min-width: 1200px)","(min-width: 1400px)"];this._breakpointSubscription=this._breakpointObserver.observe(t).pipe(Q1(this._destroy$)).subscribe(r=>{Object.keys(this._breakpoints).forEach((i,a)=>{const _=r.breakpoints[t[a]];_!==this._breakpoints[i]&&(this._breakpoints[i]=_,this._open&&this._overlayRef.updatePositionStrategy(this._createPositionStrategy()))})})}show(){this._cdRef.markForCheck(),!this._open&&(this._overlayRef||this._createOverlay(),this._portal=new Fd(this._template,this._vcr),this.dropdownShow.emit(this),this._open=!0,this._overlayRef.attach(this._portal),this._listenToEscKeyup(this._overlayRef).subscribe(t=>{t&&this.closeOnEsc&&this.hide()}),this._overlayRef.keydownEvents().pipe(Q1(this._overlayRef.detachments())).subscribe(t=>{this._handleKeyboardNavigation(t)}),this._listenToClick(this._overlayRef,this._dropdownToggle.nativeElement).subscribe(t=>{const r=t.target,i=r.classList&&r.classList.contains("dropdown-item");this.closeOnItemClick&&i?this.hide():!this.closeOnOutsideClick||i||this.hide()}),this._animationState="visible")}_handleKeyboardNavigation(t){const r=Array.from(this._dropdownMenu.nativeElement.querySelectorAll(".dropdown-item")),i=t.key;if(0===r.length)return;let o=r.indexOf(this._dropdownMenu.nativeElement.ownerDocument.activeElement);switch(i){case"ArrowDown":t.preventDefault(),o=Math.min(o+1,r.length-1);break;case"ArrowUp":if(t.preventDefault(),-1===o){o=r.length-1;break}o=Math.max(o-1,0)}const _=r[o];_&&_.focus()}hide(){this._cdRef.markForCheck(),this._open&&(this.dropdownHide.emit(this),this._animationState="hidden")}toggle(){this._cdRef.markForCheck(),this._open?this.hide():this.show()}}return n.\u0275fac=function(t){return new(t||n)(Tt(qv),Tt(ML),Tt(K1),Tt(la),Tt(eK),Tt(f4))},n.\u0275cmp=I2({type:n,selectors:[["","mdbDropdown",""]],contentQueries:function(t,r,i){if(1&t&&(wc(i,w3,5,K1),wc(i,S3,5,K1)),2&t){let a;wo(a=So())&&(r._dropdownToggle=a.first),wo(a=So())&&(r._dropdownMenu=a.first)}},viewQuery:function(t,r){if(1&t&&p7(tK,5),2&t){let i;wo(i=So())&&(r._template=i.first)}},inputs:{animation:"animation",offset:"offset",closeOnOutsideClick:"closeOnOutsideClick",closeOnItemClick:"closeOnItemClick",closeOnEsc:"closeOnEsc",withPush:"withPush"},outputs:{dropdownShow:"dropdownShow",dropdownShown:"dropdownShown",dropdownHide:"dropdownHide",dropdownHidden:"dropdownHidden"},attrs:nK,ngContentSelectors:aK,decls:4,vars:0,consts:[["dropdownTemplate",""]],template:function(t,r){1&t&&(g8(iK),bc(0),bc(1,1),kn(2,rK,2,2,"ng-template",null,0,hx))},encapsulation:2,data:{animation:[pS("fade",[gS("visible",Ac({opacity:1})),gS("hidden",Ac({opacity:0})),Ig("visible => hidden",Pg("150ms linear")),Ig("hidden => visible",[Ac({opacity:0}),Pg("150ms linear")])])]},changeDetection:0}),n})(),sK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({imports:[P8,qX]}),n})(),ms=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p2({type:n,selectors:[["","mdbLabel",""]],exportAs:["mdbLabel"]}),n})(),oK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({imports:[P8,V$]}),n})();function cK(n,e){1&n&&bc(0)}const lK=["*"];function uK(n,e){}function fK(n,e){1&n&&kn(0,uK,0,0,"ng-template",6),2&n&&Ht("cdkPortalOutlet",on().$implicit.titleContent)}function dK(n,e){1&n&&Lt(0),2&n&&z1(on().$implicit.title)}function hK(n,e){if(1&n){const t=k1();Pe(0,"li",3),xn("click",function(){const a=s2(t).index;return o2(on().setActiveTab(a))}),Pe(1,"a",4),kn(2,fK,1,1,"ng-template",5),kn(3,dK,1,1,"ng-template",5),Ge()()}if(2&n){const t=e.$implicit;je(1),k2("active",t.active)("disabled",t.disabled),je(1),Ht("ngIf",t.titleContent),je(1),Ht("ngIf",!t.titleContent)}}function pK(n,e){}const mK=function(n,e){return{show:n,active:e}};function gK(n,e){if(1&n){const t=k1();fr(0),Pe(1,"div",7),xn("@fadeIn.done",function(){return s2(t),o2(on().onAnimationDone())}),kn(2,pK,0,0,"ng-template",8),Ge(),dr()}if(2&n){const t=e.$implicit,r=on();je(1),Ht("@fadeIn",r.animationState)("ngClass",v0(3,mK,t.active,t.active)),je(1),Ht("tab",t)}}const vK=function(n,e,t,r,i,a){return{"nav-pills":n,"nav-tabs":e,"nav-fill":t,"nav-justified":r,"flex-column":i,"text-center":a}},yK=new c2("MdbTabContentDirective"),_K=new c2("MdbTabTitleDirective");let LL=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._renderer=r,this._vcr=i,this.activeStateChange$=new j,this._disabled=!1,this._fade=!0,this._contentPortal=null,this._titlePortal=null,this._active=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=M4(t)}get fade(){return this._fade}set fade(t){this._fade=M4(t)}get active(){return this._active}get content(){return this._contentPortal}get titleContent(){return this._titlePortal}get shouldAttach(){return void 0===this._lazyContent}set active(t){t?(this._renderer.addClass(this._elementRef.nativeElement,"show"),this._renderer.addClass(this._elementRef.nativeElement,"active")):(this._renderer.removeClass(this._elementRef.nativeElement,"show"),this._renderer.removeClass(this._elementRef.nativeElement,"active")),this._active=t,this.activeStateChange$.next(t)}ngOnInit(){this._createContentPortal(),this._titleContent&&this._createTitlePortal()}_createContentPortal(){this._contentPortal=new Fd(this._lazyContent||this._content,this._vcr)}_createTitlePortal(){this._titlePortal=new Fd(this._titleContent,this._vcr)}}return n.\u0275fac=function(t){return new(t||n)(Tt(K1),Tt(Nr),Tt(la))},n.\u0275cmp=I2({type:n,selectors:[["mdb-tab"]],contentQueries:function(t,r,i){if(1&t&&(wc(i,yK,7,cs),wc(i,_K,7,cs)),2&t){let a;wo(a=So())&&(r._lazyContent=a.first),wo(a=So())&&(r._titleContent=a.first)}},viewQuery:function(t,r){if(1&t&&p7(cs,7),2&t){let i;wo(i=So())&&(r._content=i.first)}},inputs:{disabled:"disabled",fade:"fade",title:"title"},ngContentSelectors:lK,decls:1,vars:0,template:function(t,r){1&t&&(g8(),kn(0,cK,1,0,"ng-template"))},encapsulation:2}),n})();function CK(){return pS("fadeIn",[Ig("0 => 1",[iW(rW([Pg("500ms 0ms",(n=[Ac({opacity:0,offset:0}),Ac({opacity:1,offset:1})],{type:5,steps:n}))],{delay:0}))])]);var n}let bK=(()=>{class n extends fL{constructor(t,r,i){super(t,r,i),this._destroy$=new j}ngOnInit(){super.ngOnInit(),!this.tab.shouldAttach&&!this.tab.active||this.hasAttached()?this.tab.activeStateChange$.pipe(Q1(this._destroy$)).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this.tab.content)}):this.attach(this.tab.content)}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(Tt(Co),Tt(la),Tt(j1))},n.\u0275dir=p2({type:n,selectors:[["","mdbTabPortalOutlet",""]],inputs:{tab:"tab"},features:[g1]}),n})();class xK{}let MK=(()=>{class n{constructor(){this._destroy$=new j,this._fill=!1,this._justified=!1,this._pills=!1,this._vertical=!1,this.navColumnClass="col-3",this.contentColumnClass="col-9",this.animationState=!1,this.activeTabChange=new v1}get fill(){return this._fill}set fill(t){this._fill=M4(t)}get justified(){return this._justified}set justified(t){this._justified=M4(t)}get pills(){return this._pills}set pills(t){this._pills=M4(t)}get vertical(){return this._vertical}set vertical(t){this._vertical=M4(t)}get navColClass(){return this.vertical?this.navColumnClass:""}get contentColClass(){return this.vertical?this.contentColumnClass:""}onAnimationDone(){this.animationState=!1}ngAfterContentInit(){const t=this.tabs.toArray().findIndex(r=>!r.disabled);this.setActiveTab(t),this.tabs.changes.pipe(Q1(this._destroy$)).subscribe(()=>{if(!this.tabs.find(i=>i.active)){const i=this._getClosestTabIndex(this._selectedIndex);-1!==i&&this.setActiveTab(i)}})}_runAnimation(){this.animationState=!1,setTimeout(()=>{this.animationState=!0},0)}setActiveTab(t){const r=this.tabs.toArray()[t];if(!r||r&&r.disabled)return;this.tabs.forEach(a=>a.active=a===r),r.fade&&this._selectedIndex!==t&&this._runAnimation(),this._selectedIndex=t;const i=this._getTabChangeEvent(t,r);this.activeTabChange.emit(i)}_getTabChangeEvent(t,r){const i=new xK;return i.index=t,i.tab=r,i}_getClosestTabIndex(t){const r=this.tabs.toArray(),i=r.length;if(!i)return-1;for(let a=1;a<=i;a+=1){const o=t-a,_=t+a;if(r[o]&&!r[o].disabled)return o;if(r[_]&&!r[_].disabled)return _}return-1}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=I2({type:n,selectors:[["mdb-tabs"]],contentQueries:function(t,r,i){if(1&t&&wc(i,LL,4),2&t){let a;wo(a=So())&&(r.tabs=a)}},hostVars:2,hostBindings:function(t,r){2&t&&k2("row",r.vertical)},inputs:{fill:"fill",justified:"justified",pills:"pills",vertical:"vertical",navColumnClass:"navColumnClass",contentColumnClass:"contentColumnClass"},outputs:{activeTabChange:"activeTabChange"},decls:4,vars:16,consts:[["role","tablist",3,"ngClass"],["class","nav-item","role","presentation",3,"click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["role","presentation",1,"nav-item",3,"click"],["href","javascript:void(0)","role","tab",1,"nav-link"],[3,"ngIf"],[3,"cdkPortalOutlet"],[1,"tab-pane",3,"ngClass"],["mdbTabPortalOutlet","",3,"tab"]],template:function(t,r){1&t&&(Pe(0,"ul",0),kn(1,hK,4,6,"li",1),Ge(),Pe(2,"div"),kn(3,gK,3,6,"ng-container",2),Ge()),2&t&&(nm("nav mb-3 flex-column ",r.navColClass,""),Ht("ngClass",function Jb(n,e,t,r,i,a,o,_,k){const q=ye()+n,de=Hn(),ze=ss(de,q,t,r,i,a);return Cc(de,q+4,o,_)||ze?bo(de,q+6,k?e.call(k,t,r,i,a,o,_):e(t,r,i,a,o,_)):function p8(n,e){return n[e]}(de,q+6)}(9,vK,r.pills,!r.pills,r.fill,r.justified,r.vertical,r.vertical)),je(1),Ht("ngForOf",r.tabs),je(1),nm("tab-content ",r.contentColClass,""),je(1),Ht("ngForOf",r.tabs))},dependencies:[Hc,v3,Zr,fL,bK],encapsulation:2,data:{animation:[CK()]}}),n})(),wK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({imports:[P8,dL]}),n})();class gs extends j{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Rd=s(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Bd(n){return ee((e,t)=>{let r=!1;e.subscribe(F(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function HL(n=SK){return ee((e,t)=>{let r=!1;e.subscribe(F(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function SK(){return new Rd}function S4(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ci((i,a)=>n(i,a,r)):Z,bi(1),t?Bd(e):HL(()=>new Rd))}function Gc(n,e){return J(e)?et(n,e,1):et(n,1)}function z4(n){return ee((e,t)=>{let a,r=null,i=!1;r=e.subscribe(F(t,void 0,void 0,o=>{a=en(n(o,z4(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function zK(n,e,t,r,i){return(a,o)=>{let _=t,k=e,q=0;a.subscribe(F(o,de=>{const ze=q++;k=_?n(k,de,ze):(_=!0,de),r&&o.next(k)},i&&(()=>{_&&o.next(k),o.complete()})))}}function DL(n,e){return ee(zK(n,e,arguments.length>=2,!0))}function Xv(n){return n<=0?()=>xt:ee((e,t)=>{let r=[];e.subscribe(F(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function TL(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ci((i,a)=>n(i,a,r)):Z,Xv(1),t?Bd(e):HL(()=>new Rd))}function Kv(n){return ee((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const b1="primary",gu=Symbol("RouteTitle");class HK{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function A0(n){return new HK(n)}function DK(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const o=r[a],_=n[a];if(o.startsWith(":"))i[o.substring(1)]=_;else if(o!==_.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Vo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!VL(n[i],e[i]))return!1;return!0}function VL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function kL(n){return Array.prototype.concat.apply([],n)}function AL(n){return n.length>0?n[n.length-1]:null}function Pi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function L4(n){return Zp(n)?n:m8(n)?Ln(Promise.resolve(n)):T2(n)}const Ud=!1,VK={exact:function PL(n,e,t){if(!Wc(n.segments,e.segments)||!jd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!PL(n.children[r],e.children[r],t))return!1;return!0},subset:IL},NL={exact:function kK(n,e){return Vo(n,e)},subset:function AK(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>VL(n[t],e[t]))},ignored:()=>!0};function EL(n,e,t){return VK[t.paths](n.root,e.root,t.matrixParams)&&NL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function IL(n,e,t){return OL(n,e,e.segments,t)}function OL(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Wc(i,t)||e.hasChildren()||!jd(i,t,r))}if(n.segments.length===t.length){if(!Wc(n.segments,t)||!jd(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!IL(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Wc(n.segments,i)&&jd(n.segments,i,r)&&n.children[b1])&&OL(n.children[b1],e,a,r)}}function jd(n,e,t){return e.every((r,i)=>NL[t](n[i].parameters,r.parameters))}class $c{constructor(e=new L1([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=A0(this.queryParams)),this._queryParamMap}toString(){return PK.serialize(this)}}class L1{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Pi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gd(this)}}class vu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=A0(this.parameters)),this._parameterMap}toString(){return BL(this)}}function Wc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let yu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:function(){return new Qv},providedIn:"root"}),n})();class Qv{parse(e){const t=new $K(e);return new $c(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${_u(e.root,!0)}`,r=function FK(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${$d(t)}=${$d(i)}`).join("&"):`${$d(t)}=${$d(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function IK(n){return encodeURI(n)}(e.fragment)}`:""}`}}const PK=new Qv;function Gd(n){return n.segments.map(e=>BL(e)).join("/")}function _u(n,e){if(!n.hasChildren())return Gd(n);if(e){const t=n.children[b1]?_u(n.children[b1],!1):"",r=[];return Pi(n.children,(i,a)=>{a!==b1&&r.push(`${a}:${_u(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function EK(n,e){let t=[];return Pi(n.children,(r,i)=>{i===b1&&(t=t.concat(e(r,i)))}),Pi(n.children,(r,i)=>{i!==b1&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===b1?[_u(n.children[b1],!1)]:[`${i}:${_u(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[b1]?`${Gd(n)}/${t[0]}`:`${Gd(n)}/(${t.join("//")})`}}function FL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $d(n){return FL(n).replace(/%3B/gi,";")}function Jv(n){return FL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wd(n){return decodeURIComponent(n)}function RL(n){return Wd(n.replace(/\+/g,"%20"))}function BL(n){return`${Jv(n.path)}${function OK(n){return Object.keys(n).map(e=>`;${Jv(e)}=${Jv(n[e])}`).join("")}(n.parameters)}`}const RK=/^[^\/()?;=#]+/;function qd(n){const e=n.match(RK);return e?e[0]:""}const BK=/^[^=?&#]+/,jK=/^[^&#]+/;class $K{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new L1([],{}):new L1([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[b1]=new L1(e,t)),r}parseSegment(){const e=qd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new qt(4009,Ud);return this.capture(e),new vu(Wd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=qd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=qd(this.remaining);i&&(r=i,this.capture(r))}e[Wd(t)]=Wd(r)}parseQueryParam(e){const t=function UK(n){const e=n.match(BK);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function GK(n){const e=n.match(jK);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=RL(t),a=RL(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=qd(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new qt(4010,Ud);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=b1);const o=this.parseChildren();t[a]=1===Object.keys(o).length?o[b1]:new L1([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new qt(4011,Ud)}}function ey(n){return n.segments.length>0?new L1([],{[b1]:n}):n}function Yd(n){const e={};for(const r of Object.keys(n.children)){const a=Yd(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function WK(n){if(1===n.numberOfChildren&&n.children[b1]){const e=n.children[b1];return new L1(n.segments.concat(e.segments),e.children)}return n}(new L1(n.segments,e))}function qc(n){return n instanceof $c}function ZK(n,e,t,r,i){if(0===t.length)return N0(e.root,e.root,e.root,r,i);const a=function GL(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new jL(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,o)=>{if("object"==typeof a&&null!=a){if(a.outlets){const _={};return Pi(a.outlets,(k,q)=>{_[q]="string"==typeof k?k.split("/"):k}),[...i,{outlets:_}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===o?(a.split("/").forEach((_,k)=>{0==k&&"."===_||(0==k&&""===_?t=!0:".."===_?e++:""!=_&&i.push(_))}),i):[...i,a]},[]);return new jL(t,e,r)}(t);return a.toRoot()?N0(e.root,e.root,new L1([],{}),r,i):function o(k){const q=function KK(n,e,t,r){if(n.isAbsolute)return new E0(e.root,!0,0);if(-1===r)return new E0(t,t===e.root,0);return function $L(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new qt(4005,!1);i=r.segments.length}return new E0(r,!1,i-a)}(t,r+(Cu(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,k),de=q.processChildren?xu(q.segmentGroup,q.index,a.commands):ny(q.segmentGroup,q.index,a.commands);return N0(e.root,q.segmentGroup,de,r,i)}(n.snapshot?._lastPathIndex)}function Cu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function bu(n){return"object"==typeof n&&null!=n&&n.outlets}function N0(n,e,t,r,i){let o,a={};r&&Pi(r,(k,q)=>{a[q]=Array.isArray(k)?k.map(de=>`${de}`):`${k}`}),o=n===e?t:UL(n,e,t);const _=ey(Yd(o));return new $c(_,a,i)}function UL(n,e,t){const r={};return Pi(n.children,(i,a)=>{r[a]=i===e?t:UL(i,e,t)}),new L1(n.segments,r)}class jL{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Cu(r[0]))throw new qt(4003,!1);const i=r.find(bu);if(i&&i!==AL(r))throw new qt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class E0{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ny(n,e,t){if(n||(n=new L1([],{})),0===n.segments.length&&n.hasChildren())return xu(n,e,t);const r=function JK(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const o=n.segments[i],_=t[r];if(bu(_))break;const k=`${_}`,q=r<t.length-1?t[r+1]:null;if(i>0&&void 0===k)break;if(k&&q&&"object"==typeof q&&void 0===q.outlets){if(!qL(k,q,o))return a;r+=2}else{if(!qL(k,{},o))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new L1(n.segments.slice(0,r.pathIndex),{});return a.children[b1]=new L1(n.segments.slice(r.pathIndex),n.children),xu(a,0,i)}return r.match&&0===i.length?new L1(n.segments,{}):r.match&&!n.hasChildren()?ry(n,e,t):r.match?xu(n,0,i):ry(n,e,t)}function xu(n,e,t){if(0===t.length)return new L1(n.segments,{});{const r=function QK(n){return bu(n[0])?n[0].outlets:{[b1]:n}}(t),i={};return Pi(r,(a,o)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[o]=ny(n.children[o],e,a))}),Pi(n.children,(a,o)=>{void 0===r[o]&&(i[o]=a)}),new L1(n.segments,i)}}function ry(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(bu(a)){const k=eQ(a.outlets);return new L1(r,k)}if(0===i&&Cu(t[0])){r.push(new vu(n.segments[e].path,WL(t[0]))),i++;continue}const o=bu(a)?a.outlets[b1]:`${a}`,_=i<t.length-1?t[i+1]:null;o&&_&&Cu(_)?(r.push(new vu(o,WL(_))),i+=2):(r.push(new vu(o,{})),i++)}return new L1(r,{})}function eQ(n){const e={};return Pi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=ry(new L1([],{}),0,t))}),e}function WL(n){const e={};return Pi(n,(t,r)=>e[r]=`${t}`),e}function qL(n,e,t){return n==t.path&&Vo(e,t.parameters)}const Mu="imperative";class ko{constructor(e,t){this.id=e,this.url=t}}class iy extends ko{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yc extends ko{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zd extends ko{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class YL extends ko{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class ZL extends ko{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tQ extends ko{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nQ extends ko{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rQ extends ko{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class iQ extends ko{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aQ extends ko{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sQ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class oQ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cQ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lQ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uQ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fQ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XL{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let hQ=(()=>{class n{createUrlTree(t,r,i,a,o,_){return ZK(t||r.root,i,a,o,_)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})(),pQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:function(e){return hQ.\u0275fac(e)},providedIn:"root"}),n})();class KL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ay(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ay(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=sy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sy(e,this._root).map(t=>t.value)}}function ay(n,e){if(n===e.value)return e;for(const t of e.children){const r=ay(n,t);if(r)return r}return null}function sy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=sy(n,t);if(r.length)return r.unshift(e),r}return[]}class z3{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function P0(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class QL extends KL{constructor(e,t){super(e),this.snapshot=t,oy(this,e)}toString(){return this.snapshot.toString()}}function JL(n,e){const t=function mQ(n,e){const o=new Xd([],{},{},"",{},b1,e,null,n.root,-1,{});return new tH("",new z3(o,[]))}(n,e),r=new gs([new vu("",{})]),i=new gs({}),a=new gs({}),o=new gs({}),_=new gs(""),k=new I0(r,i,o,_,a,b1,e,t.root);return k.snapshot=t.root,new QL(new z3(k,[]),t)}class I0{constructor(e,t,r,i,a,o,_,k){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=o,this.component=_,this.title=this.data?.pipe(Y(q=>q[gu]))??T2(void 0),this._futureSnapshot=k}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Y(e=>A0(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Y(e=>A0(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function eH(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function gQ(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Xd{get title(){return this.data?.[gu]}constructor(e,t,r,i,a,o,_,k,q,de,ze){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=o,this.component=_,this.routeConfig=k,this._urlSegment=q,this._lastPathIndex=de,this._resolve=ze}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=A0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=A0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tH extends KL{constructor(e,t){super(t),this.url=e,oy(this,t)}toString(){return nH(this._root)}}function oy(n,e){e.value._routerState=n,e.children.forEach(t=>oy(n,t))}function nH(n){const e=n.children.length>0?` { ${n.children.map(nH).join(", ")} } `:"";return`${n.value}${e}`}function cy(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Vo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Vo(e.params,t.params)||n.params.next(t.params),function TK(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Vo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Vo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ly(n,e){const t=Vo(n.params,e.params)&&function NK(n,e){return Wc(n,e)&&n.every((t,r)=>Vo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ly(n.parent,e.parent))}function wu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function yQ(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return wu(n,r,i);return wu(n,r)})}(n,e,t);return new z3(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const o=a.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(_=>wu(n,_)),o}}const r=function _Q(n){return new I0(new gs(n.url),new gs(n.params),new gs(n.queryParams),new gs(n.fragment),new gs(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>wu(n,a));return new z3(r,i)}}const uy="ngNavigationCancelingError";function rH(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=qc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=iH(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function iH(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[uy]=!0,r.cancellationCode=e,t&&(r.url=t),r}function aH(n){return sH(n)&&qc(n.url)}function sH(n){return n&&n[uy]}class CQ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Su,this.attachRef=null}}let Su=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new CQ,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kd=!1;let fy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=b1,this.activateEvents=new v1,this.deactivateEvents=new v1,this.attachEvents=new v1,this.detachEvents=new v1,this.parentContexts=q2(Su),this.location=q2(la),this.changeDetector=q2(f4),this.environmentInjector=q2(R1)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new qt(4012,Kd);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new qt(4012,Kd);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new qt(4012,Kd);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new qt(4013,Kd);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,_=this.parentContexts.getOrCreateContext(this.name).children,k=new bQ(t,_,i.injector);if(r&&function xQ(n){return!!n.resolveComponentFactory}(r)){const q=r.resolveComponentFactory(o);this.activated=i.createComponent(q,i.length,k)}else this.activated=i.createComponent(o,{index:i.length,injector:k,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_1]}),n})();class bQ{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===I0?this.route:e===Su?this.childContexts:this.parent.get(e,t)}}let dy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=I2({type:n,selectors:[["ng-component"]],standalone:!0,features:[fm],decls:1,vars:0,template:function(t,r){1&t&&jn(0,"router-outlet")},dependencies:[fy],encapsulation:2}),n})();function oH(n,e){return n.providers&&!n._injector&&(n._injector=d7(n.providers,e,`Route: ${n.path}`)),n._injector??e}function py(n){const e=n.children&&n.children.map(py),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==b1&&(t.component=dy),t}function vs(n){return n.outlet||b1}function cH(n,e){const t=n.filter(r=>vs(r)===e);return t.push(...n.filter(r=>vs(r)!==e)),t}function zu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class LQ{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),cy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=P0(t);e.children.forEach(a=>{const o=a.value.outlet;this.deactivateRoutes(a,i[o],r),delete i[o]}),Pi(i,(a,o)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=P0(e);for(const o of Object.keys(a))this.deactivateRouteAndItsChildren(a[o],i);if(r&&r.outlet){const o=r.outlet.detach(),_=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:_})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=P0(e);for(const o of Object.keys(a))this.deactivateRouteAndItsChildren(a[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=P0(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new fQ(a.value.snapshot))}),e.children.length&&this.forwardEvent(new lQ(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(cy(i),i===a)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const _=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(_.contexts),o.attachRef=_.componentRef,o.route=_.route.value,o.outlet&&o.outlet.attach(_.componentRef,_.route.value),cy(_.route.value),this.activateChildRoutes(e,null,o.children)}else{const _=zu(i.snapshot),k=_?.get(Co)??null;o.attachRef=null,o.route=i,o.resolver=k,o.injector=_,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class lH{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qd{constructor(e,t){this.component=e,this.route=t}}function HQ(n,e,t){const r=n._root;return Lu(r,e?e._root:null,t,[r.value])}function O0(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function e1(n){return null!==Ir(n)}(n)?e.get(n):n:r}function Lu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=P0(e);return n.children.forEach(o=>{(function TQ(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,o=e?e.value:null,_=t?t.getContext(n.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){const k=function VQ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Wc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Wc(n.url,e.url)||!Vo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ly(n,e)||!Vo(n.queryParams,e.queryParams);default:return!ly(n,e)}}(o,a,a.routeConfig.runGuardsAndResolvers);k?i.canActivateChecks.push(new lH(r)):(a.data=o.data,a._resolvedData=o._resolvedData),Lu(n,e,a.component?_?_.children:null:t,r,i),k&&_&&_.outlet&&_.outlet.isActivated&&i.canDeactivateChecks.push(new Qd(_.outlet.component,o))}else o&&Hu(e,_,i),i.canActivateChecks.push(new lH(r)),Lu(n,null,a.component?_?_.children:null:t,r,i)})(o,a[o.value.outlet],t,r.concat([o.value]),i),delete a[o.value.outlet]}),Pi(a,(o,_)=>Hu(o,t.getContext(_),i)),i}function Hu(n,e,t){const r=P0(n),i=n.value;Pi(r,(a,o)=>{Hu(a,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Qd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Du(n){return"function"==typeof n}function my(n){return n instanceof Rd||"EmptyError"===n?.name}const Jd=Symbol("INITIAL_VALUE");function F0(){return Sa(n=>Yv(n.map(e=>e.pipe(bi(1),Rv(Jd)))).pipe(Y(e=>{for(const t of e)if(!0!==t){if(t===Jd)return Jd;if(!1===t||t instanceof $c)return t}return!0}),Ci(e=>e!==Jd),bi(1)))}function uH(n){return function ne(...n){return te(n)}(Ei(e=>{if(qc(e))throw rH(0,e)}),Y(e=>!0===e))}const gy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fH(n,e,t,r,i){const a=vy(n,e,t);return a.matched?function YQ(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?T2(i.map(o=>{const _=O0(o,n);return L4(function IQ(n){return n&&Du(n.canMatch)}(_)?_.canMatch(e,t):n.runInContext(()=>_(e,t)))})).pipe(F0(),uH()):T2(!0)}(r=oH(e,r),e,t).pipe(Y(o=>!0===o?a:{...gy})):T2(a)}function vy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...gy}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||DK)(t,n,e);if(!i)return{...gy};const a={};Pi(i.posParams,(_,k)=>{a[k]=_.path});const o=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function eh(n,e,t,r){if(t.length>0&&function KQ(n,e,t){return t.some(r=>th(n,e,r)&&vs(r)!==b1)}(n,t,r)){const a=new L1(e,function XQ(n,e,t,r){const i={};i[b1]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&vs(a)!==b1){const o=new L1([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[vs(a)]=o}return i}(n,e,r,new L1(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function QQ(n,e,t){return t.some(r=>th(n,e,r))}(n,t,r)){const a=new L1(n.segments,function ZQ(n,e,t,r,i){const a={};for(const o of r)if(th(n,t,o)&&!i[vs(o)]){const _=new L1([],{});_._sourceSegment=n,_._segmentIndexShift=e.length,a[vs(o)]=_}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new L1(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function th(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function dH(n,e,t,r){return!!(vs(n)===r||r!==b1&&th(e,t,n))&&("**"===n.path||vy(e,n,t).matched)}function hH(n,e,t){return 0===e.length&&!n.children[t]}const nh=!1;class rh{constructor(e){this.segmentGroup=e||null}}class pH{constructor(e){this.urlTree=e}}function Tu(n){return M0(new rh(n))}function mH(n){return M0(new pH(n))}class nJ{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=eh(this.urlTree.root,[],[],this.config).segmentGroup,t=new L1(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,b1).pipe(Y(a=>this.createUrlTree(Yd(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(z4(a=>{if(a instanceof pH)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof rh?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,b1).pipe(Y(i=>this.createUrlTree(Yd(i),e.queryParams,e.fragment))).pipe(z4(i=>{throw i instanceof rh?this.noMatchError(i):i}))}noMatchError(e){return new qt(4002,nh)}createUrlTree(e,t,r){const i=ey(e);return new $c(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Y(a=>new L1([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return Ln(i).pipe(Gc(a=>{const o=r.children[a],_=cH(t,a);return this.expandSegmentGroup(e,_,o,a).pipe(Y(k=>({segment:k,outlet:a})))}),DL((a,o)=>(a[o.outlet]=o.segment,a),{}),TL())}expandSegment(e,t,r,i,a,o){return Ln(r).pipe(Gc(_=>this.expandSegmentAgainstRoute(e,t,r,_,i,a,o).pipe(z4(q=>{if(q instanceof rh)return T2(null);throw q}))),S4(_=>!!_),z4((_,k)=>{if(my(_))return hH(t,i,a)?T2(new L1([],{})):Tu(t);throw _}))}expandSegmentAgainstRoute(e,t,r,i,a,o,_){return dH(i,t,a,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,o):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,o):Tu(t):Tu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?mH(a):this.lineralizeSegments(r,a).pipe(et(o=>{const _=new L1(o,{});return this.expandSegment(e,_,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,o){const{matched:_,consumedSegments:k,remainingSegments:q,positionalParamSegments:de}=vy(t,i,a);if(!_)return Tu(t);const ze=this.applyRedirectCommands(k,i.redirectTo,de);return i.redirectTo.startsWith("/")?mH(ze):this.lineralizeSegments(i,ze).pipe(et(Be=>this.expandSegment(e,t,r,Be.concat(q),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=oH(r,e),r.loadChildren?(r._loadedRoutes?T2({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Y(_=>(r._loadedRoutes=_.routes,r._loadedInjector=_.injector,new L1(i,{})))):T2(new L1(i,{}))):fH(t,r,i,e).pipe(Sa(({matched:o,consumedSegments:_,remainingSegments:k})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(et(de=>{const ze=de.injector??e,Be=de.routes,{segmentGroup:ct,slicedSegments:wt}=eh(t,_,k,Be),Gt=new L1(ct.segments,ct.children);if(0===wt.length&&Gt.hasChildren())return this.expandChildren(ze,Be,Gt).pipe(Y(hn=>new L1(_,hn)));if(0===Be.length&&0===wt.length)return T2(new L1(_,{}));const ln=vs(r)===a;return this.expandSegment(ze,Gt,Be,wt,ln?b1:a,!0).pipe(Y(Nn=>new L1(_.concat(Nn.segments),Nn.children)))})):Tu(t)))}getChildConfig(e,t,r){return t.children?T2({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?T2({routes:t._loadedRoutes,injector:t._loadedInjector}):function qQ(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?T2(!0):T2(i.map(o=>{const _=O0(o,n);return L4(function AQ(n){return n&&Du(n.canLoad)}(_)?_.canLoad(e,t):n.runInContext(()=>_(e,t)))})).pipe(F0(),uH())}(e,t,r).pipe(et(i=>i?this.configLoader.loadChildren(e,t).pipe(Ei(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function eJ(n){return M0(iH(nh,3))}())):T2({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return T2(r);if(i.numberOfChildren>1||!i.children[b1])return M0(new qt(4e3,nh));i=i.children[b1]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new $c(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Pi(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const _=i.substring(1);r[a]=t[_]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let o={};return Pi(t.children,(_,k)=>{o[k]=this.createSegmentGroup(e,_,r,i)}),new L1(a,o)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new qt(4001,nh);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class iJ{}class oJ{constructor(e,t,r,i,a,o,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=o,this.urlSerializer=_}recognize(){const e=eh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,b1).pipe(Y(t=>{if(null===t)return null;const r=new Xd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},b1,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new z3(r,t),a=new tH(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=eH(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return Ln(Object.keys(r.children)).pipe(Gc(i=>{const a=r.children[i],o=cH(t,i);return this.processSegmentGroup(e,o,a,i)}),DL((i,a)=>i&&a?(i.push(...a),i):null),function LK(n,e=!1){return ee((t,r)=>{let i=0;t.subscribe(F(r,a=>{const o=n(a,i++);(o||e)&&r.next(a),!o&&r.complete()}))})}(i=>null!==i),Bd(null),TL(),Y(i=>{if(null===i)return null;const a=vH(i);return function cJ(n){n.sort((e,t)=>e.value.outlet===b1?-1:t.value.outlet===b1?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return Ln(t).pipe(Gc(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,a)),S4(o=>!!o),z4(o=>{if(my(o))return hH(r,i,a)?T2([]):T2(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!dH(t,r,i,a))return T2(null);let o;if("**"===t.path){const _=i.length>0?AL(i).parameters:{},k=_H(r)+i.length;o=T2({snapshot:new Xd(i,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,CH(t),vs(t),t.component??t._loadedComponent??null,t,yH(r),k,bH(t)),consumedSegments:[],remainingSegments:[]})}else o=fH(r,t,i,e).pipe(Y(({matched:_,consumedSegments:k,remainingSegments:q,parameters:de})=>{if(!_)return null;const ze=_H(r)+k.length;return{snapshot:new Xd(k,de,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,CH(t),vs(t),t.component??t._loadedComponent??null,t,yH(r),ze,bH(t)),consumedSegments:k,remainingSegments:q}}));return o.pipe(Sa(_=>{if(null===_)return T2(null);const{snapshot:k,consumedSegments:q,remainingSegments:de}=_;e=t._injector??e;const ze=t._loadedInjector??e,Be=function lJ(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:ct,slicedSegments:wt}=eh(r,q,de,Be.filter(ln=>void 0===ln.redirectTo));if(0===wt.length&&ct.hasChildren())return this.processChildren(ze,Be,ct).pipe(Y(ln=>null===ln?null:[new z3(k,ln)]));if(0===Be.length&&0===wt.length)return T2([new z3(k,[])]);const Gt=vs(t)===a;return this.processSegment(ze,Be,ct,wt,Gt?b1:a).pipe(Y(ln=>null===ln?null:[new z3(k,ln)]))}))}}function uJ(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function vH(n){const e=[],t=new Set;for(const r of n){if(!uJ(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=vH(r.children);e.push(new z3(r.value,i))}return e.filter(r=>!t.has(r))}function yH(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function _H(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function CH(n){return n.data||{}}function bH(n){return n.resolve||{}}function xH(n){return"string"==typeof n.title||null===n.title}function yy(n){return Sa(e=>{const t=n(e);return t?Ln(t).pipe(Y(()=>e)):T2(e)})}const R0=new c2("ROUTES");let _y=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return T2(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=L4(t.loadComponent()).pipe(Y(wH),Ei(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Kv(()=>{this.componentLoaders.delete(t)})),i=new kg(r,()=>new j).pipe(Vg());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return T2({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Y(_=>{this.onLoadEndListener&&this.onLoadEndListener(r);let k,q,de=!1;Array.isArray(_)?q=_:(k=_.create(t).injector,q=kL(k.get(R0,[],w2.Self|w2.Optional)));return{routes:q.map(py),injector:k}}),Kv(()=>{this.childrenLoaders.delete(r)})),o=new kg(a,()=>new j).pipe(Vg());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return L4(t()).pipe(Y(wH),et(i=>i instanceof $b||Array.isArray(i)?T2(i):Ln(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(gn(Ai),gn(Ex))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wH(n){return function _J(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ah=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new j,this.configLoader=q2(_y),this.environmentInjector=q2(R1),this.urlSerializer=q2(yu),this.rootContexts=q2(Su),this.navigationId=0,this.afterPreactivation=()=>T2(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new oQ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new sQ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new gs({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mu,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ci(r=>0!==r.id),Y(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Sa(r=>{let i=!1,a=!1;return T2(r).pipe(Ei(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Sa(o=>{const _=t.browserUrlTree.toString(),k=!t.navigated||o.extractedUrl.toString()!==_||_!==t.currentUrlTree.toString();if(!k&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const de="";return this.events.next(new YL(o.id,t.serializeUrl(r.rawUrl),de,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),xt}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return SH(o.source)&&(t.browserUrlTree=o.extractedUrl),T2(o).pipe(Sa(de=>{const ze=this.transitions?.getValue();return this.events.next(new iy(de.id,this.urlSerializer.serialize(de.extractedUrl),de.source,de.restoredState)),ze!==this.transitions?.getValue()?xt:Promise.resolve(de)}),function rJ(n,e,t,r){return Sa(i=>function tJ(n,e,t,r,i){return new nJ(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Y(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Ei(de=>{this.currentNavigation={...this.currentNavigation,finalUrl:de.urlAfterRedirects},r.urlAfterRedirects=de.urlAfterRedirects}),function dJ(n,e,t,r,i){return et(a=>function sJ(n,e,t,r,i,a,o="emptyOnly"){return new oJ(n,e,t,r,i,o,a).recognize().pipe(Sa(_=>null===_?function aJ(n){return new oe(e=>e.error(n))}(new iJ):T2(_)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe(Y(o=>({...a,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Ei(de=>{if(r.targetSnapshot=de.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!de.extras.skipLocationChange){const Be=t.urlHandlingStrategy.merge(de.urlAfterRedirects,de.rawUrl);t.setBrowserUrl(Be,de)}t.browserUrlTree=de.urlAfterRedirects}const ze=new tQ(de.id,this.urlSerializer.serialize(de.extractedUrl),this.urlSerializer.serialize(de.urlAfterRedirects),de.targetSnapshot);this.events.next(ze)}));if(k&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:de,extractedUrl:ze,source:Be,restoredState:ct,extras:wt}=o,Gt=new iy(de,this.urlSerializer.serialize(ze),Be,ct);this.events.next(Gt);const ln=JL(ze,this.rootComponentType).snapshot;return T2(r={...o,targetSnapshot:ln,urlAfterRedirects:ze,extras:{...wt,skipLocationChange:!1,replaceUrl:!1}})}{const de="";return this.events.next(new YL(o.id,t.serializeUrl(r.extractedUrl),de,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),xt}}),Ei(o=>{const _=new nQ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(_)}),Y(o=>r={...o,guards:HQ(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function FQ(n,e){return et(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:o}}=t;return 0===o.length&&0===a.length?T2({...t,guardsResult:!0}):function RQ(n,e,t,r){return Ln(n).pipe(et(i=>function WQ(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?T2(a.map(_=>{const k=zu(e)??i,q=O0(_,k);return L4(function PQ(n){return n&&Du(n.canDeactivate)}(q)?q.canDeactivate(n,e,t,r):k.runInContext(()=>q(n,e,t,r))).pipe(S4())})).pipe(F0()):T2(!0)}(i.component,i.route,t,e,r)),S4(i=>!0!==i,!0))}(o,r,i,n).pipe(et(_=>_&&function kQ(n){return"boolean"==typeof n}(_)?function BQ(n,e,t,r){return Ln(e).pipe(Gc(i=>w0(function jQ(n,e){return null!==n&&e&&e(new cQ(n)),T2(!0)}(i.route.parent,r),function UQ(n,e){return null!==n&&e&&e(new uQ(n)),T2(!0)}(i.route,r),function $Q(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(o=>function DQ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Y7(()=>T2(o.guards.map(k=>{const q=zu(o.node)??t,de=O0(k,q);return L4(function EQ(n){return n&&Du(n.canActivateChild)}(de)?de.canActivateChild(r,n):q.runInContext(()=>de(r,n))).pipe(S4())})).pipe(F0())));return T2(a).pipe(F0())}(n,i.path,t),function GQ(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return T2(!0);const i=r.map(a=>Y7(()=>{const o=zu(e)??t,_=O0(a,o);return L4(function NQ(n){return n&&Du(n.canActivate)}(_)?_.canActivate(e,n):o.runInContext(()=>_(e,n))).pipe(S4())}));return T2(i).pipe(F0())}(n,i.route,t))),S4(i=>!0!==i,!0))}(r,a,n,e):T2(_)),Y(_=>({...t,guardsResult:_})))})}(this.environmentInjector,o=>this.events.next(o)),Ei(o=>{if(r.guardsResult=o.guardsResult,qc(o.guardsResult))throw rH(0,o.guardsResult);const _=new rQ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(_)}),Ci(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),yy(o=>{if(o.guards.canActivateChecks.length)return T2(o).pipe(Ei(_=>{const k=new iQ(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(k)}),Sa(_=>{let k=!1;return T2(_).pipe(function hJ(n,e){return et(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return T2(t);let a=0;return Ln(i).pipe(Gc(o=>function pJ(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!xH(i)&&(a[gu]=i.title),function mJ(n,e,t,r){const i=function gJ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return T2({});const a={};return Ln(i).pipe(et(o=>function vJ(n,e,t,r){const i=zu(e)??r,a=O0(n,i);return L4(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[o],e,t,r).pipe(S4(),Ei(_=>{a[o]=_}))),Xv(1),oS(a),z4(o=>my(o)?xt:M0(o)))}(a,n,e,r).pipe(Y(o=>(n._resolvedData=o,n.data=eH(n,t).resolve,i&&xH(i)&&(n.data[gu]=i.title),null)))}(o.route,r,n,e)),Ei(()=>a++),Xv(1),et(o=>a===i.length?T2(t):xt))})}(t.paramsInheritanceStrategy,this.environmentInjector),Ei({next:()=>k=!0,complete:()=>{k||(t.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),Ei(_=>{const k=new aQ(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(k)}))}),yy(o=>{const _=k=>{const q=[];k.routeConfig?.loadComponent&&!k.routeConfig._loadedComponent&&q.push(this.configLoader.loadComponent(k.routeConfig).pipe(Ei(de=>{k.component=de}),Y(()=>{})));for(const de of k.children)q.push(..._(de));return q};return Yv(_(o.targetSnapshot.root)).pipe(Bd(),bi(1))}),yy(()=>this.afterPreactivation()),Y(o=>{const _=function vQ(n,e,t){const r=wu(n,e._root,t?t._root:void 0);return new QL(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:_}}),Ei(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>Y(r=>(new LQ(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),Ei({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Yc(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Kv(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),z4(o=>{if(a=!0,sH(o)){aH(o)||(t.navigated=!0,t.restoreHistory(r,!0));const _=new Zd(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(_),aH(o)){const k=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),q={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||SH(r.source)};t.scheduleNavigation(k,Mu,null,q,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const _=new ZL(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(_);try{r.resolve(t.errorHandler(o))}catch(k){r.reject(k)}}return xt}))}))}cancelNavigationTransition(t,r,i){const a=new Zd(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SH(n){return n!==Mu}let zH=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===b1);return r}getResolvedTitleForRoute(t){return t.data[gu]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:function(){return q2(CJ)},providedIn:"root"}),n})(),CJ=(()=>{class n extends zH{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(gn(KM))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:function(){return q2(MJ)},providedIn:"root"}),n})();class xJ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let MJ=(()=>{class n extends xJ{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Fr(n)))(r||n)}}(),n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sh=new c2("",{providedIn:"root",factory:()=>({})});let SJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:function(){return q2(zJ)},providedIn:"root"}),n})(),zJ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LJ(n){throw n}function HJ(n,e,t){return e.parse("/")}const DJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ii=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=q2(gB),this.isNgZoneEnabled=!1,this.options=q2(sh,{optional:!0})||{},this.errorHandler=this.options.errorHandler||LJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||HJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=q2(SJ),this.routeReuseStrategy=q2(bJ),this.urlCreationStrategy=q2(pQ),this.titleStrategy=q2(zH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=kL(q2(R0,{optional:!0})??[]),this.navigationTransitions=q2(ah),this.urlSerializer=q2(yu),this.location=q2(A8),this.isNgZoneEnabled=q2(P1)instanceof P1&&P1.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new $c,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=JL(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Mu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const k={...i};delete k.navigationId,delete k.\u0275routerPageId,0!==Object.keys(k).length&&(a.state=k)}const _=this.parseUrl(t);this.scheduleNavigation(_,r,o,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(py),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:o,queryParamsHandling:_,preserveFragment:k}=r,q=k?this.currentUrlTree.fragment:o;let de=null;switch(_){case"merge":de={...this.currentUrlTree.queryParams,...a};break;case"preserve":de=this.currentUrlTree.queryParams;break;default:de=a||null}return null!==de&&(de=this.removeEmptyProps(de)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,de,q??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=qc(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,Mu,null,r)}navigate(t,r={skipLocationChange:!1}){return function VJ(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new qt(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...DJ}:!1===r?{...TJ}:r,qc(t))return EL(this.currentUrlTree,t,i);const a=this.parseUrl(t);return EL(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,o){if(this.disposed)return Promise.resolve(!1);let _,k,q,de;return o?(_=o.resolve,k=o.reject,q=o.promise):q=new Promise((ze,Be)=>{_=ze,k=Be}),de="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:de,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:_,reject:k,promise:q,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),q.catch(ze=>Promise.reject(ze))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oh=(()=>{class n{constructor(t,r,i,a,o,_){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=o,this.locationStrategy=_,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new j;const k=o.nativeElement.tagName;this.isAnchorElement="A"===k||"AREA"===k,this.isAnchorElement?this.subscription=t.events.subscribe(q=>{q instanceof Yc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=C0(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=C0(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=C0(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function Sf(n,e,t){return function B9(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?wf:pc}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(Tt(Ii),Tt(I0),function Ll(n){return function d5(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const a=t[i];if(uo(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(a===e)return t[i+1];i+=2}}}return null}(wr(),n)}("tabindex"),Tt(Nr),Tt(K1),Tt(Lc))},n.\u0275dir=p2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&xn("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&Ia("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[_1]}),n})();class HH{}let NJ=(()=>{class n{constructor(t,r,i,a,o){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ci(t=>t instanceof Yc),Gc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=d7(a.providers,t,`Route: ${a.path}`));const o=a._injector??t,_=a._loadedInjector??o;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(o,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(_,a.children??a._loadedRoutes))}return Ln(i).pipe(ut())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):T2(null);const a=i.pipe(et(o=>null===o?T2(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Ln([a,this.loader.loadComponent(r)]).pipe(ut()):a})}}return n.\u0275fac=function(t){return new(t||n)(gn(Ii),gn(Ex),gn(R1),gn(HH),gn(_y))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cy=new c2("");let DH=(()=>{class n{constructor(t,r,i,a,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof iy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Yc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof XL&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new XL(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function Xf(){throw new Error("invalid")}()},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})();function Zc(n,e){return{\u0275kind:n,\u0275providers:e}}function VH(){const n=q2(Ai);return e=>{const t=n.get(Sc);if(e!==t.components[0])return;const r=n.get(Ii),i=n.get(kH);1===n.get(xy)&&r.initialNavigation(),n.get(AH,null,w2.Optional)?.setUpPreloading(),n.get(Cy,null,w2.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const kH=new c2("",{factory:()=>new j}),xy=new c2("",{providedIn:"root",factory:()=>1});const AH=new c2("");function FJ(n){return Zc(0,[{provide:AH,useExisting:NJ},{provide:HH,useExisting:n}])}const NH=new c2("ROUTER_FORROOT_GUARD"),RJ=[A8,{provide:yu,useClass:Qv},Ii,Su,{provide:I0,useFactory:function TH(n){return n.routerState.root},deps:[Ii]},_y,[]];function BJ(){return new Ux("Router",Ii)}let EH=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[RJ,[],{provide:R0,multi:!0,useValue:t},{provide:NH,useFactory:$J,deps:[[Ii,new mo,new ac]]},{provide:sh,useValue:r||{}},r?.useHash?{provide:Lc,useClass:rU}:{provide:Lc,useClass:fM},{provide:Cy,useFactory:()=>{const n=q2(_j),e=q2(P1),t=q2(sh),r=q2(ah),i=q2(yu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new DH(i,r,n,e,t)}},r?.preloadingStrategy?FJ(r.preloadingStrategy).\u0275providers:[],{provide:Ux,multi:!0,useFactory:BJ},r?.initialNavigation?WJ(r):[],[{provide:PH,useFactory:VH},{provide:Nx,multi:!0,useExisting:PH}]]}}static forChild(t){return{ngModule:n,providers:[{provide:R0,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(gn(NH,8))},n.\u0275mod=$1({type:n}),n.\u0275inj=r1({imports:[dy]}),n})();function $J(n){return"guarded"}function WJ(n){return["disabled"===n.initialNavigation?Zc(3,[{provide:D8,multi:!0,useFactory:()=>{const e=q2(Ii);return()=>{e.setUpLocationChangeListener()}}},{provide:xy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Zc(2,[{provide:xy,useValue:0},{provide:D8,multi:!0,deps:[Ai],useFactory:e=>{const t=e.get(tU,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const a=e.get(Ii),o=e.get(kH);(function r(i){e.get(Ii).events.pipe(Ci(o=>o instanceof Yc||o instanceof Zd||o instanceof ZL),Y(o=>o instanceof Yc||o instanceof Zd&&(0===o.code||1===o.code)&&null),Ci(o=>null!==o),bi(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(ah).afterPreactivation=()=>(i(!0),o.closed?T2(void 0):o),a.initialNavigation()}))}}]).\u0275providers:[]]}const PH=new c2("");function IH(n,e,t,r,i,a,o){try{var _=n[a](o),k=_.value}catch(q){return void t(q)}_.done?e(k):Promise.resolve(k).then(r,i)}function ch(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var a=n.apply(e,t);function o(k){IH(a,r,i,o,_,"next",k)}function _(k){IH(a,r,i,o,_,"throw",k)}o(void 0)})}}var KH={prefix:"far",iconName:"flag",icon:[448,512,[127988,61725],"f024","M48 24C48 10.7 37.3 0 24 0S0 10.7 0 24V64 350.5 400v88c0 13.3 10.7 24 24 24s24-10.7 24-24V388l80.3-20.1c41.1-10.3 84.6-5.5 122.5 13.4c44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30V66.1c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0c-35.1-17.6-75.4-22-113.5-12.5L48 52V24zm0 77.5l96.6-24.2c27-6.7 55.5-3.6 80.4 8.8c54.9 27.4 118.7 29.7 175 6.8V334.7l-24.4 9.1c-33.7 12.6-71.2 10.7-103.4-5.4c-48.2-24.1-103.3-30.1-155.6-17.1L48 338.5v-237z"]};class Oi{constructor(e,t,r,i,a,o){this._n2HalfTime=e,this._n2A=t,this._n2B=r,this._heHalfTime=i,this._heA=a,this._heB=o}get n2HalfTime(){return this._n2HalfTime}get n2A(){return this._n2A}get n2B(){return this._n2B}get heHalfTime(){return this._heHalfTime}get heA(){return this._heA}get heB(){return this._heB}}class Dy{}Dy.Buhlmann_ZHL16C=[new Oi(5,1.1696,.5578,1.88,1.6189,.477),new Oi(8,1,.6514,3.02,1.383,.5747),new Oi(12.5,.8618,.7222,4.72,1.1919,.6527),new Oi(18.5,.7562,.7826,6.99,1.0458,.7223),new Oi(27,.62,.8125,10.21,.922,.7582),new Oi(38.3,.5043,.8434,14.48,.8205,.7957),new Oi(54.3,.441,.8693,20.53,.7305,.8279),new Oi(77,.4,.891,29.11,.6502,.8553),new Oi(109,.375,.9092,41.2,.595,.8757),new Oi(146,.35,.9222,55.19,.5545,.8903),new Oi(187,.3295,.9319,70.69,.5333,.8997),new Oi(239,.3065,.9403,90.34,.5189,.9073),new Oi(305,.2835,.9477,115.29,.5181,.9122),new Oi(390,.261,.9544,147.42,.5176,.9171),new Oi(498,.248,.9602,188.24,.5172,.9217),new Oi(635,.2327,.9653,240.03,.5119,.9267)];class A2{static fix(e){return Number(e.toFixed(10))}static roundTwoDecimals(e){return A2.round(e,2)}static round(e,t=0){return A2.adapt(Math.round,e,t)}static floorTwoDecimals(e){return A2.floor(e,2)}static floor(e,t=0){return A2.adapt(Math.floor,e,t)}static ceilTwoDecimals(e){return A2.ceil(e,2)}static ceil(e,t=0){return A2.adapt(Math.ceil,e,t)}static ceilDistance(e,t){return A2.adaptDistance(Math.ceil,e,t)}static roundDistance(e,t){return A2.adaptDistance(Math.round,e,t)}static floorDistance(e,t){return A2.adaptDistance(Math.floor,e,t)}static adapt(e,t,r){const i=Math.pow(10,r);return e(t*i)/i}static adaptDistance(e,t,r){return e(t/r)*r}}var Kr=(()=>{return(n=Kr||(Kr={}))[n.noAction=0]="noAction",n[n.error=1]="error",n[n.gasSwitch=2]="gasSwitch",n[n.reachedNoDeco=3]="reachedNoDeco",n[n.lowPpO2=4]="lowPpO2",n[n.highPpO2=5]="highPpO2",n[n.highAscentSpeed=6]="highAscentSpeed",n[n.highDescentSpeed=7]="highDescentSpeed",n[n.brokenCeiling=8]="brokenCeiling",n[n.maxEndExceeded=9]="maxEndExceeded",n[n.switchToHigherN2=10]="switchToHigherN2",Kr;var n})();class n2e{constructor(e,t,r,i,a){this.timeStamp=e,this.depth=t,this.type=r,this.message=i,this.gas=a}}class ys{static createGasSwitch(e,t,r){return{timeStamp:e,depth:t,type:Kr.gasSwitch,gas:r}}static createError(e){return{timeStamp:0,depth:0,type:Kr.error,message:e}}static createLowPpO2(e,t){return{timeStamp:e,depth:t,type:Kr.lowPpO2}}static createHighPpO2(e,t){return{timeStamp:e,depth:t,type:Kr.highPpO2}}static createHighAscentSpeed(e,t){return{timeStamp:e,depth:t,type:Kr.highAscentSpeed}}static createHighDescentSpeed(e,t){return{timeStamp:e,depth:t,type:Kr.highDescentSpeed}}static createBrokenCeiling(e,t){return{timeStamp:e,depth:t,type:Kr.brokenCeiling}}static createMaxEndExceeded(e,t,r){return{timeStamp:e,depth:t,type:Kr.maxEndExceeded,gas:r}}static createSwitchToHigherN2(e,t,r){return{timeStamp:e,depth:t,type:Kr.switchToHigherN2,gas:r}}}class uT{constructor(){this.items=[]}add(e){this.items.push(e)}}class r2e{constructor(e,t){this.time=e,this.depth=t}get notAtSurface(){return this.depth>0}static isDecoDive(e){for(const t of e)if(t.notAtSurface)return!0;return!1}}class U0{get segments(){return this.seg}get ceilings(){return this.ceil}get errors(){return this.err}constructor(e,t,r){this.seg=e,this.ceil=t,this.err=r}static fromErrors(e,t){return new U0(e,[],t)}static fromProfile(e,t){return new U0(e,t,[])}}class i2e{static validate(e,t,r){const i=[];if(!e.hasBottomGas){const a=ys.createError("At least one bottom gas has to be defined.");return i.push(a),i}return i}}class Xc{constructor(){this.bottomGases=[]}get all(){return this.bottomGases.slice()}get hasBottomGas(){return this.bottomGases.length>=1}static fromTanks(e){const t=new Xc;return e.forEach(r=>{t.add(r.gas)}),t}bestGas(e,t,r){const i=t.toBar(r.currentDepth);let a=r.currentGas;return this.bottomGases.forEach((o,_)=>{const k=this.bottomGases[_],q=k.mod(r.maxDecoPpO2),de=e.toDecoStop(q),ze=k.end(i,r.oxygenNarcotic);r.currentDepth<=de&&ze<=r.maxEndPressure&&(!a||a.fO2<k.fO2)&&(a=k)}),a}add(e){this.bottomGases.push(e)}isRegistered(e){return this.bottomGases.includes(e)}}class _s{static partialPressure(e,t){return e*t}static mod(e,t){return e/t}static bestMix(e,t,r){const a=e/r.toBar(t);return a>1?1:a}static ead(e,t){return _s.end(t,1-e)/H2.nitroxInAir}static end(e,t,r=0){return e*this.narcoticIndex(r,t)}static mnd(e,t,r=0){return e/this.narcoticIndex(r,t)}static ceiling(e,t){const a=.18/e*t;return a<t?t:a}static narcoticIndex(e,t=0){return t+e}}class xi{constructor(e,t){if(this._fO2=e,this._fHe=t,this.contentExceeds100percent())throw new Error("O2 + He can't exceed 100 %")}get fN2(){return 1-this._fO2-this._fHe}get fO2(){return this._fO2}get fHe(){return this._fHe}set fO2(e){this._fO2=e>1?1:e,this.contentExceeds100percent()&&(this._fHe=this.countRemaining(this._fO2))}set fHe(e){this._fHe=e>.99?.99:e,this.contentExceeds100percent()&&(this._fO2=this.countRemaining(this._fHe))}copy(){return new xi(this._fO2,this._fHe)}mod(e){return _s.mod(e,this._fO2)}end(e,t){return _s.end(e,this.fN2,t?this._fO2:0)}mnd(e,t){return _s.mnd(e,this.fN2,t?this._fO2:0)}ceiling(e){return _s.ceiling(this._fO2,e)}compositionEquals(e){return!!e&&this._fO2===e._fO2&&this._fHe===e._fHe}contentCode(){return A2.round(1e4*this._fO2*1e4)+A2.round(1e4*this._fHe)}contentExceeds100percent(){return this._fO2+this._fHe>1}countRemaining(e){return A2.round(1-e,5)}}class H2{static nitroxNames(){return H2.allNames().slice(0,6)}static allNames(){return Array.from(H2.map.keys())}static nameFor(e,t=0){const i=A2.round(100*e),a=A2.round(100*t);return i<=0?"":a<=0?i>=100?H2.oxygenName:21===i?H2.airName:"EAN"+i.toString():`${i>=21?"Helitrox":"Trimix"} ${i.toString()}/${a.toString()}`}static byName(e){if(H2.map.has(e))return H2.map.get(e)??null;const t=H2.namesRegEx.exec(e);if(t){if(t[1]){const r=Number(t[1])/100;if(r>0)return new xi(r,0)}if(t[2]&&t[3]){const r=Number(t[2])/100,i=Number(t[3])/100;if(r>0&&i>0)return new xi(r,i)}}return null}}H2.o2InAir=.209,H2.nitroxInAir=1-H2.o2InAir,H2.oxygen=new xi(1,0),H2.ean50=new xi(.5,0),H2.ean38=new xi(.38,0),H2.ean36=new xi(.36,0),H2.ean32=new xi(.32,0),H2.trimix3525=new xi(.35,.25),H2.trimix2525=new xi(.25,.25),H2.air=new xi(H2.o2InAir,0),H2.trimix2135=new xi(.21,.35),H2.trimix1845=new xi(.18,.45),H2.trimix1555=new xi(.15,.55),H2.trimix1260=new xi(.12,.6),H2.trimix1070=new xi(.1,.7),H2.airName="Air",H2.oxygenName="Oxygen",H2.namesRegEx=/[EAN](?<fO2>\d{2})|(?<fO2b>\d{2})\/(?<fHe>\d{2})/i,H2.map=new Map([[H2.airName,H2.air],["EAN32",H2.ean32],["EAN36",H2.ean36],["EAN38",H2.ean38],["EAN50",H2.ean50],[H2.oxygenName,H2.oxygen],["Helitrox 35/25",H2.trimix3525],["Helitrox 25/25",H2.trimix2525],["Helitrox 21/35",H2.trimix2135],["Trimix 18/45",H2.trimix1845],["Trimix 15/55",H2.trimix1555],["Trimix 12/60",H2.trimix1260],["Trimix 10/70",H2.trimix1070]]);class Ty extends Oi{constructor(e,t){super(e.n2HalfTime,e.n2A,e.n2B,e.heHalfTime,e.heA,e.heB),this._pN2=0,this._pHe=0,this._pTotal=0,this._a=0,this._b=0,this._pN2=_s.partialPressure(t,.79)-.0627,this._pHe=0,this._pTotal=this.pN2+this.pHe}get pN2(){return this._pN2}get pHe(){return this._pHe}get pTotal(){return this._pTotal}get a(){return this._a}get b(){return this._b}copy(){const e=new Ty(this,1);return e._pN2=this._pN2,e._pHe=this._pHe,e._pTotal=this._pTotal,e._a=this._a,e._b=this._b,e}ceiling(e){return(this.pTotal-this.a*e)/(e/this.b+1-e)}load(e,t){this._pN2=this.loadGas(e,t.fN2,this.pN2,this.n2HalfTime),this._pHe=this.loadGas(e,t.fHe,this.pHe,this.heHalfTime);const r=this.pTotal;return this._pTotal=this.pN2+this.pHe,this._a=(this.n2A*this.pN2+this.heA*this.pHe)/this.pTotal,this._b=(this.n2B*this.pN2+this.heB*this.pHe)/this.pTotal,this.pTotal-r}loadGas(e,t,r,i){return this.schreinerEquation(r,e.startPressure*t,e.duration,i,e.speed*t)}schreinerEquation(e,t,r,i,a){const _=.01155245301/i;return t+a*(r-1/_)-(t-e-a/_)*Math.exp(-_*r)}}class Kc{constructor(){this.compartments=[]}static createFromOther(e){const t=new Kc;return t.compartments=Kc.copy(e),t}static createFromSurfacePressure(e){const t=new Kc;for(let r=0;r<Dy.Buhlmann_ZHL16C.length;r++){const a=new Ty(Dy.Buhlmann_ZHL16C[r],e);t.compartments.push(a)}return t}static copy(e){const t=[];for(let r=0;r<e.length;r++){const i=e[r].copy();t.push(i)}return t}ceiling(e){let t=0;for(let r=0;r<this.compartments.length;r++){const i=this.compartments[r].ceiling(e);i>t&&(t=i)}return t}load(e,t){let r=0;for(let i=0;i<this.compartments.length;i++)r+=this.compartments[i].load(e,t);return r}}class R2{static toSeconds(e){return e*R2.oneMinute}static toMinutes(e){return e/R2.oneMinute}static toDate(e){return new Date(1970,1,1,0,0,e,0)}static secondsFromDate(e){const t=new Date(e);let r=t.getSeconds();return r+=t.getMinutes()*R2.oneMinute,r+=t.getHours()*Math.pow(R2.oneMinute,2),r}}R2.oneSecond=1,R2.oneMinute=60,R2.oneDay=1440*R2.oneMinute;class Vy{static validate(e,t){const r=[];if(!e.any()){const i=ys.createError("There needs to be at least one segment at depth.");r.push(i)}return e.withAll(i=>{Vy.validateRegisteredGas(r,t,i)}),r}static validateRegisteredGas(e,t,r){if(!t.isRegistered(r.gas)){const a=ys.createError(`Segment ${r.startDepth}-${r.endDepth} has gas not registered in gases.`);e.push(a)}}}class Ys{constructor(e,t,r,i){this.startDepth=e,this.endDepth=t,this._gas=r,this.duration=i}get gas(){return this._gas}get tank(){return this._tank}get speed(){return(this.endDepth-this.startDepth)/this.duration}get averageDepth(){return(this.startDepth+this.endDepth)/2}set tank(e){this._tank=e,e&&(this._gas=e.gas)}static from(e){const t=new Ys(e.startDepth,e.endDepth,e._gas,e.duration);return t.tank=e.tank,t}static depthAt(e,t,r){return e+t*r}contentEquals(e){return this.speed===e.speed&&this._gas===e._gas}depthAt(e){return Ys.depthAt(this.startDepth,this.speed,e)}mergeFrom(e){this.duration+=e.duration,this.endDepth=e.endDepth}}class ai{constructor(){this.segments=[],this._maxDepth=0}get startAscentIndex(){return this.deepestPart().length}get startAscentTime(){const e=this.deepestPart();return ai.duration(e)}get length(){return this.segments.length}get items(){return this.segments.slice()}get maxDepth(){return this._maxDepth}get currentDepth(){return this.any()?this.last().endDepth:0}get duration(){return ai.duration(this.segments)}static from(e){return ai.fromCollection(e.segments)}static fromCollection(e){const t=new ai;return e.forEach(r=>{const i=Ys.from(r);t.segments.push(i),t.updateMaxDepth(i)}),t}static duration(e){let t=0;for(const r of e)t+=r.duration;return t}static averageDepth(e){if(e.length<=0)return 0;let t=0,r=0;return e.forEach(i=>{if(i.duration>0){const a=i.averageDepth*i.duration+r*t;r+=i.duration,t=a/r}}),t}add(e,t,r,i){const a=new Ys(e,t,r,i);return this.segments.push(a),this.updateMaxDepth(a),a}addFlat(e,t,r){return this.add(e,e,t,r)}addChangeTo(e,t,r){return this.add(this.currentDepth,e,t,r)}mergeFlat(e=0){if(e<0)return this.items;const t=[];for(let r=this.segments.length-1;r>e;r--){const i=this.segments[r-1],a=this.segments[r];i.contentEquals(a)&&(i.mergeFrom(a),t.push(a))}return this.segments=this.segments.filter(r=>!t.includes(r)),this.items}remove(e){this.segments=this.segments.filter(t=>t!==e),this.fixStartDepths()}cutDown(e){this.segments=this.segments.slice(0,this.segments.length-e),this.fixStartDepths()}withAll(e){for(let t=0;t<this.segments.length;t++)e(this.segments[t])}any(){return 0!==this.segments.length}last(){return this.segments[this.segments.length-1]}copy(){return ai.from(this)}fixStartDepths(){this.any()&&(this.segments[0].startDepth=0);for(let e=0;e<this.segments.length-1;e++){const r=this.segments[e+1];r.startDepth=this.segments[e].endDepth,this.updateMaxDepth(r)}}deepestPart(){for(let e=this.segments.length-1;e>=0;e--)if(this.segments[e].endDepth===this.maxDepth)return this.items.slice(0,e+1);return[]}updateMaxDepth(e){e.endDepth>this._maxDepth&&(this._maxDepth=e.endDepth)}}class ku{static createForPlan(e,t,r,i){const a=new ai,o=ku.descentDuration(e,i);a.add(0,e,r.gas,o).tank=r;let k=R2.toSeconds(t)-o;return k=k<0?0:k,a.addFlat(e,r.gas,k).tank=r,a}static descentDuration(e,t){let r=e/t.descentSpeed;return r=A2.ceil(r,1),r=R2.toSeconds(r),A2.ceil(r)}}var ma=(()=>{return(n=ma||(ma={}))[n.fresh=1]="fresh",n[n.brackish=2]="brackish",n[n.salt=3]="salt",ma;var n})();let uh=(()=>{class n{}return n.fresh=1e3,n.brackish=1020,n.salt=1030,n})(),fT=(()=>{class n{}return n.standard=9.80665,n})(),fh=(()=>{class n{static pascalToBar(t){return t/n.coefficient}static barToPascal(t){return t*n.coefficient}}return n.coefficient=1e5,n})(),a2e=(()=>{class n{static atAltitude(t){return fh.barToPascal(this.standard)*Math.pow(288.15/(288.15+-.0065*t),.0289644*fT.standard/-.05404308)}}return n.standard=1.01325,n})();class Au{constructor(e){this.options=e}create(){switch(this.options.salinity){case ma.salt:return Cs.forSaltWater(this.options.altitude);case ma.brackish:return Cs.forBrackishWater(this.options.altitude);default:return Cs.forFreshWater(this.options.altitude)}}}class Cs{constructor(e,t){this.density=e,this._gravity=fT.standard;const r=a2e.atAltitude(t);this._surfacePressure=fh.pascalToBar(r)}get surfacePressure(){return this._surfacePressure}static forSaltWater(e=0){return new Cs(uh.salt,e)}static forBrackishWater(e=0){return new Cs(uh.brackish,e)}static forFreshWater(e=0){return new Cs(uh.fresh,e)}static simple(){const e=new Cs(uh.fresh,0);return e._surfacePressure=1,e._gravity=10,e}toBar(e){return fh.pascalToBar(e*(this.density*this._gravity))+this._surfacePressure}fromBar(e){if(e<this._surfacePressure)throw new Error("Lower pressure than altitude isn`t convertible to depth.");const t=this.density*this._gravity;return fh.barToPascal(e-this._surfacePressure)/t}}class s2e{constructor(e,t,r){this.depthConverter=e,this.options=t,this.tissues=r,this.lowestCeiling=0,this.lowestCeiling=this.depthConverter.surfacePressure+1}ceiling(){let e=this.tolerated();return e<this.depthConverter.surfacePressure&&(e=this.depthConverter.surfacePressure),this.depthConverter.fromBar(e)}toleratedTissues(e,t,r,i){const a=this.tissues.compartments;let o=0;for(let _=0;_<a.length;_++){const k=a[_];let q=o;(e/k.b+k.a-e)*r+e<(t/k.b+k.a-t)*i+t&&(q=(-k.a*k.b*(r*t-i*e)-(1-k.b)*(r-i)*t*e+k.b*(t-e)*k.pTotal)/(-k.a*k.b*(r-i)+(1-k.b)*(i*t-r*e)+k.b*(t-e))),q>=o&&(o=q)}return o}tolerated(){const e=this.options.gfLow,t=this.options.gfHigh,r=this.depthConverter.surfacePressure,i=this.tissues.ceiling(e);return i>this.lowestCeiling&&(this.lowestCeiling=i),this.toleratedTissues(r,this.lowestCeiling,t,e)}}let dT=(()=>{class n{constructor(t){this.options=t,this.averageDepth=0}markAverageDepth(t){const r=t.deepestPart();this.averageDepth=ai.averageDepth(r)}ascent(t){return t>n.sixMeters?t>this.averageDepth/2?this.options.ascentSpeed50perc:this.options.ascentSpeed50percTo6m:this.options.ascentSpeed6m}}return n.sixMeters=6,n})();var za=(()=>{return(n=za||(za={}))[n.never=1]="never",n[n.auto=2]="auto",n[n.always=3]="always",za;var n})();class a2{static setMediumConservatism(e){e.gfLow=a2.gfLow,e.gfHigh=a2.gfHigh}static useRecreational(e){a2.useGeneralRecommended(e),e.ascentSpeed50perc=a2.ascentSpeed50perc,e.ascentSpeed50percTo6m=a2.ascentSpeed50perc,e.ascentSpeed6m=a2.ascentSpeed50perc,e.lastStopDepth=a2.lastStopDepthRecre}static useRecommended(e){a2.useGeneralRecommended(e),e.ascentSpeed50perc=a2.ascentSpeed50perc,e.ascentSpeed50percTo6m=a2.ascentSpeed50percTo6m,e.ascentSpeed6m=a2.ascentSpeed6m,e.lastStopDepth=a2.lastStopDepth}static useGeneralRecommended(e){e.safetyStop=a2.safetyStopRecre,e.roundStopsToMinutes=a2.roundStopsToMinutes,e.gasSwitchDuration=a2.gasSwitchDuration,e.descentSpeed=a2.descentSpeed,e.oxygenNarcotic=a2.oxygenNarcotic,e.maxEND=a2.maxEND}}a2.altitude=0,a2.saltWater=ma.salt,a2.roundStopsToMinutes=!1,a2.gasSwitchDuration=2,a2.problemSolvingDuration=1,a2.lastStopDepth=3,a2.lastStopDepthRecre=5,a2.safetyStopRecre=za.auto,a2.decoStopDistance=3,a2.minimumAutoStopDepth=10,a2.addSafetyStop=!0,a2.maxEND=30,a2.oxygenNarcotic=!0,a2.ascentSpeed6m=3,a2.ascentSpeed50percTo6m=6,a2.ascentSpeed50perc=9,a2.descentSpeed=18,a2.gfLow=.4,a2.gfHigh=.85,a2.maxPpO2=1.4,a2.maxDecoPpO2=1.6;class Nu{constructor(e=a2.gfLow,t=a2.gfHigh,r=a2.maxPpO2,i=a2.maxDecoPpO2,a=a2.saltWater){this.gfLow=e,this.gfHigh=t,this.maxPpO2=r,this.maxDecoPpO2=i,this.salinity=a,this.altitude=a2.altitude,this.roundStopsToMinutes=a2.roundStopsToMinutes,this.gasSwitchDuration=a2.gasSwitchDuration,this.safetyStop=a2.safetyStopRecre,this.lastStopDepth=a2.lastStopDepth,this.decoStopDistance=a2.decoStopDistance,this.minimumAutoStopDepth=a2.minimumAutoStopDepth,this.maxEND=a2.maxEND,this.oxygenNarcotic=!0,this.ascentSpeed6m=a2.ascentSpeed6m,this.ascentSpeed50percTo6m=a2.ascentSpeed50percTo6m,this.ascentSpeed50perc=a2.ascentSpeed50perc,this.descentSpeed=a2.descentSpeed,this.problemSolvingDuration=a2.problemSolvingDuration,this.gfLow=e||a2.gfLow,this.gfHigh=t||a2.gfHigh,this.maxPpO2=r||a2.maxPpO2,this.maxDecoPpO2=i||a2.maxDecoPpO2,this.salinity=a||a2.saltWater}loadFrom(e){this.gfLow=e.gfLow||this.gfLow,this.gfHigh=e.gfHigh||this.gfHigh,this.maxPpO2=e.maxPpO2||this.maxPpO2,this.maxDecoPpO2=e.maxDecoPpO2||this.maxDecoPpO2,this.oxygenNarcotic=!!e.oxygenNarcotic,this.salinity=e.salinity||this.salinity,this.altitude=e.altitude||0===e.altitude?e.altitude:this.altitude,this.roundStopsToMinutes=!!e.roundStopsToMinutes,this.gasSwitchDuration=e.gasSwitchDuration||this.gasSwitchDuration,this.problemSolvingDuration=e.problemSolvingDuration||this.problemSolvingDuration,this.lastStopDepth=e.lastStopDepth||this.lastStopDepth,this.decoStopDistance=e.decoStopDistance||this.decoStopDistance,this.minimumAutoStopDepth=e.minimumAutoStopDepth||this.minimumAutoStopDepth,this.safetyStop=e.safetyStop||this.safetyStop,this.maxEND=e.maxEND||this.maxEND,this.ascentSpeed6m=e.ascentSpeed6m||this.ascentSpeed6m,this.ascentSpeed50percTo6m=e.ascentSpeed50percTo6m||this.ascentSpeed50percTo6m,this.ascentSpeed50perc=e.ascentSpeed50perc||this.ascentSpeed50perc,this.descentSpeed=e.descentSpeed||this.descentSpeed}}class ky{constructor(e,t){this.depthConverter=e,this.options=t}toDecoStop(e){const t=this.depthConverter.fromBar(e);return A2.roundDistance(t,this.options.decoStopDistance)}nextStop(e){if(e<=this.options.lastStopDepth)return 0;const t=A2.floorDistance(e,this.options.decoStopDistance);if(t!==e)return t;const r=e-this.options.decoStopDistance;return r<=this.options.lastStopDepth?this.options.lastStopDepth:r}addSafetyStop(e,t){return(this.options.safetyStop===za.always||this.options.safetyStop===za.auto&&t>this.options.minimumAutoStopDepth)&&e===this.options.lastStopDepth}}let hT=(()=>{class n{constructor(){}search(t){if(t.maxValue<t.initialValue)throw Error("Max value cant be smaller than initial value");if(t.estimationStep>t.maxValue-t.initialValue)throw Error("Step cant be larger than range");const r=this.findInitialLimit(t);return this.searchInsideInterval(t,r)}searchInsideInterval(t,r){for(;r.right-r.left>n.minimalStep;){let i=r.left+(r.right-r.left)/2;i=Math.round(i),t.doWork(i),t.meetsCondition()?r.left=i:r.right=i}return r.left}findInitialLimit(t){let r=t.initialValue;for(t.doWork(r);t.meetsCondition()&&r<=t.maxValue;)r+=t.estimationStep,t.doWork(r);let i=r-t.estimationStep;return i=i<t.initialValue?t.initialValue:i,{left:i,right:r>t.maxValue?t.maxValue:r}}}return n.minimalStep=1,n})();class pT{constructor(e,t,r,i){this.gases=e,this.segments=t,this.options=r,this.depthConverter=i,this.ceilings=[],this.runTime=0,this.tissues=Kc.createFromSurfacePressure(i.surfacePressure),this.gradients=new s2e(i,r,this.tissues);const a=t.last();this.currentGas=a.gas,this.bestGasOptions={currentDepth:this.currentDepth,maxDecoPpO2:this.options.maxDecoPpO2,oxygenNarcotic:this.options.oxygenNarcotic,maxEndPressure:this.depthConverter.toBar(this.options.maxEND),currentGas:this.currentGas},this.speeds=new dT(this.options),this.levels=new ky(i,r)}get ascentSpeed(){return this.speeds.ascent(this.currentDepth)}get currentDepth(){return this.segments.currentDepth}get ambientPressure(){return this.depthConverter.toBar(this.currentDepth)}get addSafetyStop(){return this.levels.addSafetyStop(this.currentDepth,this.segments.maxDepth)}get decoStopDuration(){return this.options.roundStopsToMinutes?R2.oneMinute:R2.oneSecond}get isAtSurface(){return 0===this.segments.last().endDepth}markAverageDepth(){this.speeds.markAverageDepth(this.segments)}addCeiling(){const e=this.ceiling(),t=new r2e(this.runTime,e);this.ceilings.push(t)}ceiling(){return this.gradients.ceiling()}bestDecoGas(){return this.bestGasOptions.currentDepth=this.currentDepth,this.bestGasOptions.currentGas=this.currentGas,this.gases.bestGas(this.levels,this.depthConverter,this.bestGasOptions)}createMemento(){return{runTime:this.runTime,tissues:Kc.copy(this.tissues.compartments),ceilings:this.ceilings.length,segments:this.segments.length,lowestCeiling:this.gradients.lowestCeiling}}restore(e){this.tissues.compartments=Kc.copy(e.tissues),this.gradients.lowestCeiling=e.lowestCeiling,this.runTime=e.runTime,this.ceilings=this.ceilings.slice(0,e.ceilings),this.segments.cutDown(this.segments.length-e.segments)}nextStop(e){return this.levels.nextStop(e)}shouldSwitchTo(e){return e&&!this.currentGas.compositionEquals(e)}addGasSwitchSegment(){return this.addStopSegment(this.options.gasSwitchDuration*R2.oneMinute)}addDecoStopSegment(){return this.addStopSegment(0)}addSafetyStopSegment(){return this.addStopSegment(3*R2.oneMinute)}addAscentSegment(e,t){return this.segments.add(this.currentDepth,e,this.currentGas,t)}addStopSegment(e){return this.segments.add(this.currentDepth,this.currentDepth,this.currentGas,e)}}class Eu{noDecoLimit(e,t,r){const i=new Xc;i.add(t);const a=new ai,o=this.duration(e,r.descentSpeed);return a.add(0,e,t,o),this.noDecoLimitMultiLevel(a,i,r)}noDecoLimitMultiLevel(e,t,r){const i=new Au(r).create(),a=new pT(t,e,r,i);return this.swimNoDecoLimit(e,t,a,r)}calculateDecompression(e,t,r){const i=new Au(e).create(),a=r.copy(),o=this.validate(a,t,e,i);if(o.length>0){const de=a.mergeFlat(r.length);return U0.fromErrors(de,o)}const _=new pT(t,a,e,i);this.swimPlan(_),_.markAverageDepth();let k=_.nextStop(_.currentDepth);for(;k>=0&&!_.isAtSurface;)this.tryGasSwitch(_),this.stayAtDecoStop(_,k),this.stayAtSafetyStop(_),this.ascentToNextStop(_,k),k=_.nextStop(k);const q=_.segments.mergeFlat(r.length);return U0.fromProfile(q,_.ceilings)}tryGasSwitch(e){const t=e.bestDecoGas();if(e.shouldSwitchTo(t)){e.currentGas=t;const r=e.addGasSwitchSegment();this.swim(e,r)}}stayAtDecoStop(e,t){if(this.needsDecoStop(e,t)){const r=e.createMemento(),i={estimationStep:20*R2.oneMinute,initialValue:0,maxValue:R2.oneDay,doWork:k=>this.swimDecoStop(e,r,k),meetsCondition:()=>this.needsDecoStop(e,t)},o=(new hT).search(i)+R2.oneSecond,_=A2.ceilDistance(o,e.decoStopDuration);this.swimDecoStop(e,r,_)}}swimDecoStop(e,t,r){e.restore(t);const i=e.addDecoStopSegment();i.duration=r,this.swim(e,i)}needsDecoStop(e,t){if(t>=e.ceiling())return!1;const r=e.createMemento();this.ascentToNextStop(e,t);const i=t<e.ceiling();return e.restore(r),i}stayAtSafetyStop(e){if(e.addSafetyStop){const t=e.addSafetyStopSegment();this.swim(e,t)}}ascentToNextStop(e,t){const i=this.duration(e.currentDepth-t,e.ascentSpeed),a=e.addAscentSegment(t,i);this.swim(e,a)}validate(e,t,r,i){const a=Vy.validate(e,t);if(a.length>0)return a;const o=i2e.validate(t,r,i.surfacePressure);return o.length>0?o:[]}duration(e,t){return e/R2.toMinutes(t)}swimPlan(e){e.addCeiling(),e.segments.withAll(t=>{this.swim(e,t)})}swim(e,t){let r=t.startDepth;const i=R2.oneSecond;for(let a=0;a<t.duration;a+=i){const o=Ys.depthAt(r,t.speed,i),_=new Ys(r,o,t.gas,i);this.swimPart(e,_),r=_.endDepth}}swimPart(e,t){const r=this.toLoadSegment(e.depthConverter,t);e.tissues.load(r,t.gas),e.runTime+=t.duration,e.addCeiling()}swimNoDecoLimit(e,t,r,i){if(this.validate(e,t,i,r.depthConverter).length>0)return 0;this.swimPlan(r);const o=this.currentNdl(r.ceilings);return o!==Number.POSITIVE_INFINITY?o:this.predictNoDecoLimit(e,r)}predictNoDecoLimit(e,t){const r=e.last(),i=r.endDepth,a=new Ys(i,i,r.gas,R2.oneMinute),o=this.toLoadSegment(t.depthConverter,a);let _=1;for(;t.ceiling()<=0&&_>0;)_=t.tissues.load(o,r.gas),t.runTime+=R2.oneMinute;return 0===_||0===i?Number.POSITIVE_INFINITY:this.floorNdl(t.runTime)}floorNdl(e){let t=R2.toMinutes(e);return t=A2.floor(t),t-1}currentNdl(e){for(let t=0;t<e.length;t+=R2.oneMinute){const r=e[t];if(r.notAtSurface)return this.floorNdl(r.time)}return Number.POSITIVE_INFINITY}toLoadSegment(e,t){const r=e.toBar(t.speed)-e.surfacePressure;return{startPressure:e.toBar(t.startDepth),duration:t.duration,speed:r}}}class Qc{static haveReserve(e){for(let t=0;t<e.length;t++)if(!e[t].hasReserve)return!1;return!0}static resetConsumption(e){e.forEach(t=>{t.consumed=0,t.reserve=0})}static removeTank(e,t){const r=e.filter(i=>i!==t);return Qc.renumberIds(r),r}static renumberIds(e){for(let t=0;t<e.length;t++)e[t].id=t+1}}class L3{constructor(e,t,r){this.size=e,this.startPressure=t,this.id=0,this.consumed=0,this.reserve=0,this._gas=H2.air.copy(),this.o2=r}get gas(){return this._gas}get o2(){const e=100*this.gas.fO2;return this.isInAirRange(e)?A2.round(e):A2.roundTwoDecimals(e)}get he(){return A2.roundTwoDecimals(100*this.gas.fHe)}get volume(){return this.size*this.startPressure}get name(){return H2.nameFor(this._gas.fO2,this._gas.fHe)}get endPressure(){const e=this.startPressure-this.consumed;return e>0?e:0}get percentsRemaining(){return this.endPressure/this.startPressure*100}get percentsReserve(){const e=this.reserve/this.startPressure*100;return e>100?100:e}get hasReserve(){return this.endPressure>=this.reserve}set o2(e){this.isInAirRange(e)?this.gas.fO2=H2.o2InAir:this._gas.fO2=e/100}set he(e){this.gas.fHe=e/100}static createDefault(){return new L3(15,200,100*H2.o2InAir)}assignStandardGas(e){const t=H2.byName(e);t&&(this._gas.fO2=t.fO2,this._gas.fHe=t.fHe)}loadFrom(e){this.size=e.size,this.startPressure=e.startPressure,this.consumed=e.consumed,this.reserve=e.reserve,this.gas.fO2=e._gas.fO2,this.gas.fHe=e._gas.fHe}isInAirRange(e){return 20.9<=e&&e<=21&&0===this.gas.fHe}}class dh{constructor(e,t,r,i){this.duration=e,this.startTime=0,this.endTime=0,this.averageDepth=0,this._startDepth=0,this._endDepth=0,this.endTime=A2.roundTwoDecimals(e),this._endDepth=t,this._startDepth=r,this.averageDepth=i}get startDepth(){return this._startDepth}get endDepth(){return this._endDepth}static fromSegment(e){return new dh(e.duration,e.endDepth,e.startDepth,e.averageDepth)}}let o2e=(()=>{class n{constructor(t){this.depthConverter=t}static calculateDecompression(t,r,i){const a=Xc.fromTanks(r),o=new Eu,_=t.copy();return o.calculateDecompression(i,a,_)}consumeFromTanks(t,r,i,a){if(t.length<2)throw new Error("Profile needs to contain at least 2 segments.");const o=this.emergencyAscent(t,r,i);this.consumeFromTanks2(t,o,r,i,a)}consumeFromTanks2(t,r,i,a,o){if(t.length<2)throw new Error("Profile needs to contain at least 2 segments.");Qc.resetConsumption(a);const _=this.consumeByTanks(t,o.rmv);this.consumeByGases(t,a,o.rmv,_),this.updateReserve(r,a,o.stressRmv)}emergencyAscent(t,r,i){const o=ai.fromCollection(t).deepestPart(),_=ai.fromCollection(o),k=Xc.fromTanks(i),ze=(new Eu).calculateDecompression(r,k,_).segments,Be=ze.slice(o.length,ze.length);return this.addSolvingSegment(Be,r.problemSolvingDuration),Be}calculateMaxBottomTime(t,r,i,a){const o=this.createTestProfile(t),_=o.last(),k={estimationStep:40*R2.oneMinute,initialValue:0,maxValue:R2.oneDay,doWork:Be=>{_.duration=Be,this.consumeFromProfile(o,r,i,a)},meetsCondition:()=>Qc.haveReserve(r)},de=(new hT).search(k);if(0===de)return 0;const ze=R2.toMinutes(t.duration+de);return A2.floor(ze)}consumeFromProfile(t,r,i,a){const o=n.calculateDecompression(t,r,a);this.consumeFromTanks(o.segments,a,r,i)}createTestProfile(t){const r=t.copy(),i=t.last();return r.addFlat(i.endDepth,i.gas,0),r}updateReserve(t,r,i){const a=this.toBeConsumed(t,i,o=>!0);for(let o=0;o<=r.length-1;o++){const _=r[o],k=_.gas.contentCode();let q=a.get(k)||0;q=this.addReserveToTank(_,q),a.set(k,q)}r[0].reserve<n.minimumRockBottom&&(r[0].reserve=n.minimumRockBottom)}addReserveToTank(t,r){const i=A2.ceil(r/t.size),a=i+t.reserve>t.startPressure?t.startPressure-t.reserve:i;return t.reserve+=a,this.extractRemaining(r,a,t.size)}addSolvingSegment(t,r){if(0===t.length)return;const a=t[0].startDepth,o=new Ys(a,a,t[0].gas,r*R2.oneMinute);t.unshift(o)}consumeByGases(t,r,i,a){const o=this.toBeConsumedYet(t,i,a,_=>!_.tank);for(let _=r.length-1;_>=0;_--){const k=r[_],q=k.gas.contentCode();let de=o.get(q)||0;de=this.consumeFromTank(k,de),o.set(q,de)}}consumeByTanks(t,r){const i=new Map,a=R2.toMinutes(r);return t.forEach(o=>{if(o.tank){const _=o.tank,k=o.gas.contentCode(),q=dh.fromSegment(o),de=this.consumedBySegment(q,a),ze=this.consumeFromTank(_,de);let Be=i.get(k)||0;Be+=ze,i.set(k,Be)}}),i}consumeFromTank(t,r){const i=A2.ceil(r/t.size),a=i>t.endPressure?t.endPressure:i;return t.consumed+=a,this.extractRemaining(r,a,t.size)}extractRemaining(t,r,i){return(t-=r*i)<0?0:t}toBeConsumed(t,r,i){return this.toBeConsumedYet(t,r,new Map,i)}toBeConsumedYet(t,r,i,a){const o=R2.toMinutes(r);for(let _=0;_<t.length;_++){const k=t[_];if(a(k)){const de=k.gas.contentCode(),ze=dh.fromSegment(k),Be=this.consumedBySegment(ze,o);let ct=i.get(de)||0;ct+=Be,i.set(de,ct)}}return i}consumedBySegment(t,r){const i=this.depthConverter.toBar(t.averageDepth);return t.duration*i*r}}return n.minimumRockBottom=30,n})();class c2e{constructor(e){this.depthConverter=e,this.minimumPpO2=.5}calculateForProfile(e){let t=0;return e.forEach(r=>{const a=this.calculate(r.gas.fO2,r.startDepth,r.endDepth,r.duration);t+=a}),t}calculate(e,t,r,i){const _=e*this.depthConverter.toBar((t+r)/2);if(_<=this.minimumPpO2)return 0;const k=this.exponentByPpO2(_);return i*Math.exp(k)}exponentByPpO2(e){return e<=1.5?1.93873*e-11.7853:9.80829*e-23.6349}}let j0=(()=>{class n{constructor(t=n.defaultSac,r=a2.maxPpO2){this.rmv=t,this.maxPpO2=r,this.maxDecoPpO2=a2.maxDecoPpO2}get stressRmv(){return 3*this.rmv}static gasSac(t,r){return t/r}gasSac(t){return n.gasSac(this.rmv,t.size)}loadFrom(t){this.rmv=t.rmv,this.maxPpO2=t.maxPpO2,this.maxDecoPpO2=t.maxDecoPpO2}}return n.defaultSac=20,n})();class mT{constructor(e,t){this.depthLevels=e,this.depthConverter=t}ead(e,t){const r=e/100,i=this.depthConverter.toBar(t),a=_s.ead(r,i);if(a<=this.depthConverter.surfacePressure)return 0;let o=this.depthConverter.fromBar(a);return o=A2.fix(o),A2.ceilTwoDecimals(o)}bestMix(e,t){let r=100*_s.bestMix(e,t,this.depthConverter);return r=A2.fix(r),A2.floor(r,2)}mod(e,t){let i=_s.mod(e,t/100);return i=this.depthConverter.fromBar(i),i=A2.fix(i),A2.floor(i,2)}gasSwitch(e,t){const i=_s.mod(e,t/100);return this.depthLevels.toDecoStop(i)}partialPressure(e,t){const r=this.depthConverter.toBar(t);let i=_s.partialPressure(r,e)/100;return i=A2.fix(i),A2.ceilTwoDecimals(i)}}let Ay=(()=>{class n{constructor(t){this.depthConverter=t,this.minPressure=.5}calculateForProfile(t){let r=0;return t.forEach(i=>{const o=this.calculate(i.duration,i.gas.fO2,i.startDepth,i.endDepth);r+=o}),r}calculate(t,r,i,a){let o=R2.toMinutes(t),q=this.depthConverter.toBar(i)*r,de=this.depthConverter.toBar(a)*r;if(q<=this.minPressure&&de<=this.minPressure)return 0;q<=this.minPressure?(o=o*(de-this.minPressure)/(de-q),q=.501):de<=this.minPressure&&(o=o*(q-this.minPressure)/(q-de),de=.501);const ze=q+de-1;return Math.pow(ze,5/6)*(1-5*Math.pow(de-q,2)/216/Math.pow(ze,2))*o}}return n.dailyLimit=300,n})();class l2e{constructor(e,t){this.startDepth=e,this.endDepth=t}get minDepth(){return Math.min(this.startDepth,this.endDepth)}get maxDepth(){return Math.max(this.startDepth,this.endDepth)}get isDescent(){return this.startDepth<this.endDepth}get isFlat(){return this.startDepth===this.endDepth}get isAscent(){return this.startDepth>this.endDepth}}class u2e{constructor(e,t,r,i){this.startAscentIndex=e,this.profile=t,this.depthConverter=r,this.options=i,this.events=new uT,this.elapsed=0,this.index=0,this.fixedMnd=!0,this._mndBars=0,this.speeds=new dT(i);const a=ai.fromCollection(t);this.speeds.markAverageDepth(a),this._mndBars=r.toBar(i.maxEND)}get previous(){return this.index>0?this.profile[this.index-1]:null}get isBeforeDecoAscent(){return this.index<this.startAscentIndex}get maxPpo(){return this.isBeforeDecoAscent?this.options.maxPpO2:this.options.maxDecoPpO2}get current(){return this.profile[this.index]}get switchingGas(){return!!this.previous&&!this.current.gas.compositionEquals(this.previous.gas)}get switchingTank(){return!!this.previous&&!!this.previous.tank&&!!this.current.tank&&this.previous.tank!==this.current.tank}get maxMnd(){return this._mndBars}gasEnd(e){return this.current.gas.end(e,this.options.oxygenNarcotic)}}class Ny{static fromProfile(e,t,r,i){const a=new Au(i).create(),o=new u2e(e,t,a,i),_=new f2e(o.events);for(o.index=0;o.index<t.length;o.index++){const k=this.toPressureSegment(o.current,a);this.addHighPpO2(o,k),this.addLowPpO2(o,k),this.addGasSwitch(o),this.addUserTankSwitch(o),this.addHighDescentSpeed(o),this.addHighAscentSpeed(o),this.addSwitchHighN2(o),this.addMndExceeded(o,k),_.assignSegment(o.current),Ny.addBrokenCeiling(_,r,o.current),o.elapsed+=o.current.duration}return o.events}static addHighAscentSpeed(e){const t=e.current;let r=R2.toSeconds(t.speed);if(r=A2.roundTwoDecimals(r),-r>e.speeds.ascent(t.startDepth)){const i=ys.createHighAscentSpeed(e.elapsed,t.startDepth);e.events.add(i)}}static addHighDescentSpeed(e){const t=e.current;if(R2.toSeconds(t.speed)>e.options.descentSpeed){const i=ys.createHighDescentSpeed(e.elapsed,t.startDepth);e.events.add(i)}}static addGasSwitch(e){if(e.switchingGas){const t=e.current,r=ys.createGasSwitch(e.elapsed,t.startDepth,t.gas);e.events.add(r)}}static addUserTankSwitch(e){if(e.switchingTank){const t=e.current,r=ys.createGasSwitch(e.elapsed,t.startDepth,t.gas);e.events.add(r)}}static toPressureSegment(e,t){const r=t.toBar(e.startDepth),i=t.toBar(e.endDepth);return new l2e(r,i)}static addHighPpO2(e,t){if(t.isDescent||e.isBeforeDecoAscent&&e.switchingGas){const r=e.current.gas.mod(e.maxPpo);if(t.maxDepth>r){const i=e.depthConverter.fromBar(r),a=ys.createHighPpO2(e.elapsed,i);e.events.add(a)}}}static addLowPpO2(e,t){const r=e.current.gas.ceiling(e.depthConverter.surfacePressure);if(t.minDepth<r&&e.switchingGas||t.startDepth>r&&r>t.endDepth&&t.isAscent||0===e.current.startDepth&&t.startDepth<r&&t.isDescent){const a=e.depthConverter.fromBar(r),o=ys.createLowPpO2(e.elapsed,a);e.events.add(o)}}static addBrokenCeiling(e,t,r){for(;e.lastCeilingIndex<e.currentSegmentEndTime&&e.lastCeilingIndex<t.length-1;){const i=t[e.lastCeilingIndex];e.lastCeilingIndex++;const a=e.belowCeiling(i,r);if(!a&&e.fixedBrokenCeiling){const o=ys.createBrokenCeiling(i.time,i.depth);e.events.add(o),e.fixedBrokenCeiling=!1;break}if(a&&!e.fixedBrokenCeiling&&(e.fixedBrokenCeiling=!0),i.time>e.currentSegmentEndTime)break}}static addSwitchHighN2(e){const t=e.current,r=e.previous;if(e.switchingGas&&r&&r.gas.fHe>0&&5*(t.gas.fN2-r.gas.fN2)>-(t.gas.fHe-r.gas.fHe)){const o=ys.createSwitchToHigherN2(e.elapsed,t.startDepth,t.gas);e.events.add(o)}}static addMndExceeded(e,t){const r=e.current,i=e.gasEnd(t.startDepth);e.maxMnd<i&&e.fixedMnd&&this.addMndEvent(e,e.elapsed,r.startDepth);const a=e.gasEnd(t.endDepth);e.maxMnd<a&&e.fixedMnd&&this.addMndEvent(e,e.elapsed+r.duration,r.endDepth),e.fixedMnd=a<=e.maxMnd}static addMndEvent(e,t,r){const a=ys.createMaxEndExceeded(t,r,e.current.gas);e.events.add(a),e.fixedMnd=!0}}class f2e{constructor(e){this.events=e,this.lastCeilingIndex=0,this.currentSegmentStartTime=0,this.currentSegmentEndTime=0,this.fixedBrokenCeiling=!0}assignSegment(e){this.currentSegmentStartTime=this.currentSegmentEndTime,this.currentSegmentEndTime=this.currentSegmentStartTime+e.duration}belowCeiling(e,t){return t.depthAt(e.time-this.currentSegmentStartTime)>=e.depth}}class d2e{constructor(e){this.depthConverter=e}calculateSac(e,t,r,i){const a=this.depthConverter.toBar(e);return A2.ceilTwoDecimals(t*r/i/a)}calculateDuration(e,t,r,i){const a=this.depthConverter.toBar(e);return A2.ceil(t*r/i/a)}calculateUsed(e,t,r,i){const a=this.depthConverter.toBar(e);return A2.ceil(r*a*i/t)}}class Ey{get name(){return"Metric"}get lengthShortcut(){return"m"}get pressureShortcut(){return"bar"}get volumeShortcut(){return"l"}get altitudeShortcut(){return"m.a.s.l"}get lastSpeedLevel(){return 6}get autoStopLevel(){return 10}get stopsDistance(){return 3}toMeters(e){return e}fromMeters(e){return e}toBar(e){return e}fromBar(e){return e}toLiter(e){return e}fromLiter(e){return e}fromTankLiters(e,t){return e}toTankLiters(e,t){return e}}let Py=(()=>{class n{get name(){return"Imperial"}get lengthShortcut(){return"ft"}get pressureShortcut(){return"psi"}get volumeShortcut(){return"cuft"}get altitudeShortcut(){return"ft.a.s.l"}get lastSpeedLevel(){return 20}get autoStopLevel(){return 33}get stopsDistance(){return 10}toMeters(t){return t*n.footRate}fromMeters(t){return t/n.footRate}toBar(t){return t/n.psiRate}fromBar(t){return t*n.psiRate}toLiter(t){return t*n.cftRate}fromLiter(t){return t/n.cftRate}fromTankLiters(t,r){return this.fromLiter(t)*r}toTankLiters(t,r){return this.toLiter(t)/r}}return n.defaultWorkingPressure=206.84,n.psiRate=14.503773773022,n.cftRate=28.316846592,n.footRate=.3048,n})();class Lr{constructor(){this._imperialUnits=!1,this.current=new Ey,this.ranges=new Iy(this.current),this.ranges$=new gs(this.ranges)}get length(){return this.current.lengthShortcut}get pressure(){return this.current.pressureShortcut}get volume(){return this.current.volumeShortcut}get altitude(){return this.current.altitudeShortcut}get speed(){return this.length+Jc}get sac(){return this.pressure+Jc}get rmv(){return this.volume+Jc}get lastSpeedLevel(){return this.current.lastSpeedLevel}get autoStopLevel(){return this.current.autoStopLevel}get stopsDistance(){return this.current.stopsDistance}get imperialUnits(){return this._imperialUnits}set imperialUnits(e){this._imperialUnits=e,this._imperialUnits?(this.current=new Py,this.ranges=new h2e(this.current)):(this.current=new Ey,this.ranges=new Iy(this.current)),this.ranges$.next(this.ranges)}static createMetricRanges(){return new Iy(new Ey)}toLiter(e){return this.current.toLiter(e)}fromLiter(e){return this.current.fromLiter(e)}toMeters(e){return this.current.toMeters(e)}fromMeters(e){return this.current.fromMeters(e)}toBar(e){return this.current.toBar(e)}fromBar(e){return this.current.fromBar(e)}fromTankLiters(e){return this.current.fromTankLiters(e,Py.defaultWorkingPressure)}toTankLiters(e){return this.current.toTankLiters(e,Py.defaultWorkingPressure)}}const Jc="/min",br=(n,e)=>`${n[0]} - ${n[1]} ${e}`;class Iy{constructor(e){this.units=e,this.altitude=[0,5e3],this.altitudeLabel=br(this.altitude,this.units.altitudeShortcut),this.depth=[1,350],this.depthLabel=br(this.depth,this.units.lengthShortcut),this.diverRmv=[5,90],this.diverRmvLabel=br(this.diverRmv,this.units.volumeShortcut+Jc),this.duration=[1,1440],this.durationLabel=br(this.duration,"min"),this.narcoticDepth=[1,100],this.narcoticDepthLabel=br(this.narcoticDepth,this.units.lengthShortcut),this.nitroxOxygen=[21,100],this.nitroxOxygenLabel=br(this.nitroxOxygen,"%"),this.lastStopDepth=[3,6],this.lastStopDepthLabel=br(this.lastStopDepth,this.units.lengthShortcut),this.ppO2=[.21,3],this.tankHe=[0,99],this.tankHeLabel=br(this.tankHe,"%"),this.tankPressure=[30,350],this.tankPressureLabel=br(this.tankPressure,this.units.pressureShortcut),this.tankSize=[1,50],this.tankSizeLabel=br(this.tankSize,this.units.volumeShortcut),this.trimixOxygen=[1,100],this.trimixOxygenLabel=br(this.trimixOxygen,"%"),this.speed=[1,100],this.speedLabel=br(this.speed,this.units.lengthShortcut+Jc)}}class h2e{constructor(e){this.units=e,this.altitude=[0,16500],this.altitudeLabel=br(this.altitude,this.units.altitudeShortcut),this.depth=[3,1150],this.depthLabel=br(this.depth,this.units.lengthShortcut),this.diverRmv=[.17,3.178],this.diverRmvLabel=br(this.diverRmv,this.units.volumeShortcut+Jc),this.duration=[1,1440],this.durationLabel=br(this.duration,"min"),this.narcoticDepth=[1,300],this.narcoticDepthLabel=br(this.narcoticDepth,this.units.lengthShortcut),this.nitroxOxygen=[21,100],this.nitroxOxygenLabel=br(this.nitroxOxygen,"%"),this.lastStopDepth=[10,20],this.lastStopDepthLabel=br(this.lastStopDepth,this.units.lengthShortcut),this.ppO2=[.21,3],this.tankHe=[0,99],this.tankHeLabel=br(this.tankHe,"%"),this.tankPressure=[400,5100],this.tankPressureLabel=br(this.tankPressure,this.units.pressureShortcut),this.tankSize=[1,300],this.tankSizeLabel=br(this.tankSize,this.units.volumeShortcut),this.trimixOxygen=[1,100],this.trimixOxygenLabel=br(this.trimixOxygen,"%"),this.speed=[1,300],this.speedLabel=br(this.speed,this.units.lengthShortcut+Jc)}}var Zs=(()=>{return(n=Zs||(Zs={}))[n.ALL=1]="ALL",n[n.HALF=2]="HALF",n[n.THIRD=3]="THIRD",Zs;var n})();class hh{constructor(e,t){this.units=e,this.segment=t}get duration(){return R2.toMinutes(this.segment.duration)}get startDepth(){return this.units.fromMeters(this.segment.startDepth)}get endDepth(){return this.units.fromMeters(this.segment.endDepth)}get tank(){return this.segment.tank}get tankLabel(){return hh.tankLabel(this.units,this.segment.tank)}set duration(e){this.segment.duration=R2.toSeconds(e)}set endDepth(e){const t=this.units.toMeters(e);this.segment.endDepth=t}set tank(e){this.segment.tank=e}static tankLabel(e,t){if(!t)return"";const r=e.fromTankLiters(t.size),i=e.fromBar(t.startPressure);return`${t.id}. ${t.name}/${r}/${i}`}}class ph{constructor(e,t,r,i,a){this.strategy=e,this.noDecoTime=0,this._segments=new ai,this.onReloaded=new j,this.reloaded$=this.onReloaded.asObservable(),this.reset(t,r,i,a)}get length(){return this._segments.length}get minimumSegments(){return this.length>1}get notEnoughTime(){return 2===this.length&&0===this.segments[1].duration}get segments(){return this._segments.items}get maxDepth(){return this._segments.maxDepth}get startAscentIndex(){return this._segments.startAscentIndex}get startAscentTime(){return this._segments.startAscentTime}get duration(){return R2.toMinutes(this._segments.duration)}get availablePressureRatio(){return this.strategy===Zs.THIRD?2/3:1}get needsReturn(){return this.strategy!==Zs.ALL}get noDecoExceeded(){return this.duration>this.noDecoTime}copySegments(){return this._segments.copy()}setSimple(e,t,r,i){this.reset(e,t,r,i),this.onReloaded.next()}assignDepth(e,t,r){this._segments=ku.createForPlan(e,this.duration,t,r),this.onReloaded.next()}assignDuration(e,t,r){this._segments=ku.createForPlan(this.maxDepth,e,t,r),this.onReloaded.next()}addSegment(e){const t=this._segments.last();this._segments.addChangeTo(t.endDepth,e.gas,ph.defaultDuration).tank=e}removeSegment(e){this._segments.remove(e)}fixDepths(){this._segments.fixStartDepths()}loadFrom(e){this._segments=ai.fromCollection(e),this.onReloaded.next()}resetSegments(e,t){this.segments.forEach(r=>{r.tank===e&&(r.tank=t)}),this.onReloaded.next()}reset(e,t,r,i){this._segments=ku.createForPlan(e,t,r,i)}}ph.defaultDuration=10*R2.oneMinute;class p2e{constructor(){this.calculated=!1,this.diveInfoCalculated=!1,this.profileCalculated=!1,this.calculationFailed=!1,this.maxTime=0,this.timeToSurface=0,this.turnPressure=0,this.turnTime=0,this.needsReturn=!1,this.notEnoughGas=!1,this.notEnoughTime=!1,this.noDecoExceeded=!1,this.emergencyAscentStart=0,this.averageDepth=0,this.otu=0,this.cns=0,this.wayPoints=[],this.ceilings=[],this.events=[]}get totalDuration(){return 0===this.wayPoints.length?0:this.wayPoints[this.wayPoints.length-1].endTime}get hasErrors(){return this.calculated&&(this.calculationFailed||this.notEnoughTime)}get showResults(){return this.calculated&&!this.hasErrors}get otuExceeded(){return this.otu>.8*Ay.dailyLimit}get cnsExeeded(){return this.cns>.8}get showMaxDuration(){return this.calculated&&this.maxTime>0}emptyProfile(){this.wayPoints=[],this.ceilings=[],this.events=[]}}var Mi=(()=>{return(n=Mi||(Mi={}))[n.hover=0]="hover",n[n.ascent=1]="ascent",n[n.descent=2]="descent",n[n.switch=3]="switch",Mi;var n})();class mh{constructor(e,t,r=0){this.duration=e,this.selected=!1,this.startTime=0,this.endTime=0,this._startDepth=0,this._endDepth=0,this.speed=0,this.action=Mi.hover,this._gasName="",this.endTime=A2.roundTwoDecimals(e),this._endDepth=t,this._startDepth=r,this.updateSwimAction()}get gasName(){return this._gasName}get startDepth(){return this._startDepth}get endDepth(){return this._endDepth}get averageDepth(){return(this.startDepth+this.endDepth)/2}get swimAction(){return this.action}get label(){if(this.startDepth!==this.endDepth)return"";const e=`${this.endDepth} m`;let t=A2.round(this.duration).toString();return t+=" min.",`${e},${t}`}static fromSegment(e){const t=new mh(e.duration,e.endDepth),r=H2.nameFor(e.gas.fO2,e.gas.fHe);return t._gasName=r,t.speed=e.speed,t}asGasSwitch(){this.action=Mi.switch}toLevel(e){const t=mh.fromSegment(e);return t.startTime=this.endTime,t.endTime=A2.roundTwoDecimals(this.endTime+e.duration),t._startDepth=this.endDepth,t.updateSwimAction(),t}fits(e){return this.startTime<=e&&e<this.endTime}depthAt(e){return Ys.depthAt(this.startDepth,this.speed,e)}updateSwimAction(){this.action=Mi.hover,this.startDepth<this.endDepth&&(this.action=Mi.descent),this.startDepth>this.endDepth&&(this.action=Mi.ascent)}}class gh{constructor(e,t,r,i){this.origin=e,this.wayPoints=t,this.ceilings=r,this.events=i}get endsOnSurface(){const e=this.wayPoints.length;return e>0&&0===this.wayPoints[e-1].endDepth}static newEmpty(e){return new gh([],[],[],e)}}class m2e{static calculateWayPoints(e,t){const r=[];if(e.errors.length>0)return gh.newEmpty(e.errors);const i=e.segments[0];let a=mh.fromSegment(i),o=i;return r.push(a),e.segments.slice(1).forEach(k=>{const q=this.toWayPoint(k,a,o);a=q,o=k,r.push(q)}),new gh(e.segments,r,e.ceilings,t.items)}static toWayPoint(e,t,r){const i=t.toLevel(e);return!e.gas.compositionEquals(r.gas)&&i.asGasSwitch(),i}}class A1{static toTanks(e){const t=[];return e.forEach(r=>{const i=new L3(r.size,r.startPressure,0);i.id=r.id,i.gas.fO2=r.gas.fO2,i.gas.fHe=r.gas.fHe,i.consumed=r.consumed,i.reserve=r.reserve,t.push(i)}),Qc.renumberIds(t),t}static fromTanks(e){const t=[];return e.forEach(r=>{t.push({id:r.id,size:r.size,startPressure:r.startPressure,consumed:r.consumed,reserve:r.reserve,gas:{fO2:r.gas.fO2,fHe:r.gas.fHe}})}),t}static toSegments(e,t){const r=[];for(let i=0;i<e.length;i++){const a=e[i],o=H2.air.copy();o.fO2=a.gas.fO2,o.fHe=a.gas.fHe;const _=new Ys(a.startDepth,a.endDepth,o,a.duration);a.tankId>0&&a.tankId<=t.length&&(_.tank=t[a.tankId-1]),r.push(_)}return r}static fromSegments(e){const t=[];return e.forEach(r=>{t.push({startDepth:r.startDepth,endDepth:r.endDepth,duration:r.duration,tankId:r.tank?r.tank.id:0,gas:{fO2:r.gas.fO2,fHe:r.gas.fHe}})}),t}static toProfile(e,t){const r=A1.toSegments(e.segments,t);return U0.fromProfile(r,e.ceilings)}static fromProfile(e){return{segments:A1.fromSegments(e.segments),ceilings:e.ceilings,errors:A1.fromEvents(e.errors)}}static toEvents(e){const t=new uT;return e.forEach(r=>{const i=new n2e(r.timeStamp,r.depth,r.type,r.message);r.gas&&(i.gas=new xi(r.gas?.fO2,r.gas?.fHe)),t.add(i)}),t}static fromEvents(e){const t=[];return e.forEach(r=>{const i={timeStamp:r.timeStamp,depth:r.depth,type:r.type,message:r.message};r.gas&&(i.gas={fO2:r.gas.fO2,fHe:r.gas.fHe}),t.push(i)}),t}static fromDiver(e){return{rmv:e.rmv,maxPpO2:e.maxPpO2,maxDecoPpO2:e.maxDecoPpO2}}static toDiver(e){const t=new j0(e.rmv,e.maxPpO2);return t.maxDecoPpO2=e.maxDecoPpO2,t}static fromOptions(e){return{gfLow:e.gfLow,gfHigh:e.gfHigh,maxPpO2:e.maxPpO2,maxDecoPpO2:e.maxDecoPpO2,salinity:e.salinity,altitude:e.altitude,roundStopsToMinutes:e.roundStopsToMinutes,gasSwitchDuration:e.gasSwitchDuration,safetyStop:e.safetyStop,lastStopDepth:e.lastStopDepth,decoStopDistance:e.decoStopDistance,minimumAutoStopDepth:e.minimumAutoStopDepth,maxEND:e.maxEND,oxygenNarcotic:e.oxygenNarcotic,ascentSpeed6m:e.ascentSpeed6m,ascentSpeed50percTo6m:e.ascentSpeed50percTo6m,ascentSpeed50perc:e.ascentSpeed50perc,descentSpeed:e.descentSpeed,problemSolvingDuration:e.problemSolvingDuration}}static toOptions(e){const t=new Nu(e.gfLow,e.gfHigh,e.maxPpO2,e.maxDecoPpO2,e.salinity);return t.altitude=e.altitude,t.roundStopsToMinutes=e.roundStopsToMinutes,t.gasSwitchDuration=e.gasSwitchDuration,t.safetyStop=e.safetyStop,t.lastStopDepth=e.lastStopDepth,t.decoStopDistance=e.decoStopDistance,t.minimumAutoStopDepth=e.minimumAutoStopDepth,t.maxEND=e.maxEND,t.oxygenNarcotic=e.oxygenNarcotic,t.ascentSpeed6m=e.ascentSpeed6m,t.ascentSpeed50percTo6m=e.ascentSpeed50percTo6m,t.ascentSpeed50perc=e.ascentSpeed50perc,t.descentSpeed=e.descentSpeed,t.problemSolvingDuration=e.problemSolvingDuration,t}}class qa{constructor(){this.unsubscribe$=new j}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}qa.\u0275fac=function(e){return new(e||qa)},qa.\u0275prov=On({token:qa,factory:qa.\u0275fac});class Oy{static calculateDecompression(e){const t=A1.toTanks(e.tanks),r=A1.toSegments(e.plan,t),i=ai.fromCollection(r),a=Xc.fromTanks(t),o=new Eu,_=A1.toOptions(e.options),k=o.calculateDecompression(_,a,i),q=A1.fromProfile(k),de=Ny.fromProfile(i.startAscentIndex,k.segments,k.ceilings,_);return{profile:q,events:A1.fromEvents(de.items)}}static diveInfo(e){const t=A1.toTanks(e.tanks),r=Xc.fromTanks(t),i=A1.toSegments(e.plan,t),a=ai.fromCollection(i),o=new Eu,_=A1.toOptions(e.options),k=o.noDecoLimitMultiLevel(a,r,_),q=new Au(e.options).create();return{noDeco:k,otu:new Ay(q).calculateForProfile(i),cns:new c2e(q).calculateForProfile(i)}}static calculateConsumption(e){const t=new Au(e.options).create(),r=new o2e(t),i=A1.toTanks(e.tanks),a=A1.toSegments(e.profile,i),o=A1.toSegments(e.plan,i),_=ai.fromCollection(o),k=new j0(e.diver.rmv,e.options.maxPpO2),q=A1.toOptions(e.options),de=r.calculateMaxBottomTime(_,i,k,q),ze=r.emergencyAscent(a,q,i);let Be=ai.duration(ze);return Be=R2.toMinutes(Be),r.consumeFromTanks2(a,ze,q,i,k),{maxTime:de,timeToSurface:Be,tanks:A1.fromTanks(i)}}}class Fy{createProfileWorker(){const e=new j,t=new j;return{calculated$:e,calculate:r=>{this.tryAction(i=>Oy.calculateDecompression(i),r,e,t)},failed$:t}}createDiveInfoWorker(){const e=new j,t=new j;return{calculated$:e,calculate:r=>{this.tryAction(i=>Oy.diveInfo(i),r,e,t)},failed$:t}}createConsumptionWorker(){const e=new j,t=new j;return{calculated$:e,calculate:r=>{this.tryAction(i=>Oy.calculateConsumption(i),r,e,t)},failed$:t}}tryAction(e,t,r,i){try{const a=e(t);r.next(a)}catch{i.next()}}}class gr extends qa{constructor(e){super(),this.workerFactory=e,this.diver=new j0,this.dive=new p2e,this.onTanksReloaded=new j,this.onViewSwitched=new j,this._isComplex=!1,this.calculating=!1,this.calculatingDiveInfo=!1,this.calculatingProfile=!1,this._tanks=[],this.onInfoCalculated=new j,this.onWayPointsCalculated=new j,this._options=new Nu,this._options.salinity=ma.fresh,this._options.safetyStop=za.auto;const t=L3.createDefault();t.id=1,this._tanks.push(t),this.infoCalculated$=this.onInfoCalculated.asObservable(),this.wayPointsCalculated$=this.onWayPointsCalculated.asObservable(),this.plan=new ph(Zs.ALL,30,12,this.firstTank,this.options),this.tanksReloaded=this.onTanksReloaded.asObservable(),this.viewSwitched=this.onViewSwitched.asObservable(),this.profileTask=this.workerFactory.createProfileWorker(),this.profileTask.calculated$.pipe(Q1(this.unsubscribe$)).subscribe(r=>this.continueCalculation(r)),this.profileTask.failed$.pipe(Q1(this.unsubscribe$)).subscribe(()=>this.profileFailed()),this.diveInfoTask=this.workerFactory.createDiveInfoWorker(),this.diveInfoTask.calculated$.pipe(Q1(this.unsubscribe$)).subscribe(r=>this.finishDiveInfo(r)),this.diveInfoTask.failed$.pipe(Q1(this.unsubscribe$)).subscribe(()=>this.profileFailed()),this.consumptionTask=this.workerFactory.createConsumptionWorker(),this.consumptionTask.calculated$.pipe(Q1(this.unsubscribe$)).subscribe(r=>this.finishCalculation(r)),this.consumptionTask.failed$.pipe(Q1(this.unsubscribe$)).subscribe(()=>this.profileFailed())}get isComplex(){return this._isComplex}get options(){return this._options}get tanks(){return this._tanks}get firstTank(){return this._tanks[0]}get ndlValid(){return this.dive.diveInfoCalculated&&this.plan.noDecoTime<gr.maxAcceptableNdl}set isComplex(e){this._isComplex=e,e||this.resetToSimple(),this.onViewSwitched.next()}addTank(){const e=L3.createDefault();e.size=11,this._tanks.push(e),e.id=this._tanks.length}removeTank(e){this._tanks=Qc.removeTank(this._tanks,e),this.plan.resetSegments(e,this.firstTank)}addSegment(){const e=this.plan.segments;this.plan.addSegment(e[e.length-1].tank||this.firstTank)}removeSegment(e){this.plan.removeSegment(e)}applyMaxDuration(){this.assignDuration(this.dive.maxTime)}applyNdlDuration(){this.assignDuration(this.plan.noDecoTime)}assignDuration(e){this.plan.assignDuration(e,this.firstTank,this.options)}assignDepth(e){this.plan.assignDepth(e,this.firstTank,this.options)}applyDiver(e){this.diver.loadFrom(e)}loadFrom(e,t,r,i,a){this.assignOptions(t),this.applyDiver(r),i.length>0&&(this._tanks=i),a.length>1&&this.plan.loadFrom(a),this.isComplex=e,e?this.onTanksReloaded.next():this.resetToSimple()}assignOptions(e){this._options.loadFrom(e)}calculate(){this.startCalculatingState(),setTimeout(()=>{this.showStillRunning()},500);const e={tanks:A1.fromTanks(this._tanks),plan:A1.fromSegments(this.plan.segments),options:A1.fromOptions(this.options)};this.profileTask.calculate(e)}startCalculatingState(){this.calculating=!0,this.calculatingProfile=!0,this.calculatingDiveInfo=!0}endCalculatingState(){this.calculating=!1,this.calculatingProfile=!1,this.calculatingDiveInfo=!1,this.dive.profileCalculated=!0,this.dive.diveInfoCalculated=!0,this.dive.calculated=!0}showStillRunning(){this.calculatingProfile&&(this.dive.profileCalculated=!1,this.dive.emptyProfile()),this.calculatingDiveInfo&&(this.dive.diveInfoCalculated=!1),this.calculating&&(this.dive.calculated=!1)}continueCalculation(e){const t=A1.fromSegments(this.plan.segments),r=A1.fromTanks(this._tanks),i=A1.toProfile(e.profile,this._tanks),a=A1.toEvents(e.events),o=m2e.calculateWayPoints(i,a);this.dive.wayPoints=o.wayPoints,this.dive.ceilings=o.ceilings,this.dive.events=o.events,this.dive.averageDepth=ai.averageDepth(o.origin);const _=A1.fromOptions(this.options);if(o.endsOnSurface){this.diveInfoTask.calculate({tanks:r,plan:t,options:_});const q={plan:t,profile:A1.fromSegments(o.origin),options:_,diver:A1.fromDiver(this.diver),tanks:r};this.consumptionTask.calculate(q),this.dive.profileCalculated=!0,this.calculatingProfile=!1,this.onWayPointsCalculated.next()}else this.profileFailed(),console.table(i.errors)}profileFailed(){this.dive.calculationFailed=!0,this.dive.events=[],this.dive.wayPoints=[],this.dive.ceilings=[],this.endCalculatingState(),this.onWayPointsCalculated.next(),this.onInfoCalculated.next()}finishDiveInfo(e){this.plan.noDecoTime=e.noDeco,this.dive.otu=e.otu,this.dive.cns=e.cns,this.dive.noDecoExceeded=this.plan.noDecoExceeded,this.dive.notEnoughTime=this.plan.notEnoughTime,this.dive.diveInfoCalculated=!0,this.calculatingDiveInfo=!1}finishCalculation(e){this.copyTanksConsumption(e.tanks),this.dive.maxTime=e.maxTime,this.dive.timeToSurface=e.timeToSurface,this.dive.emergencyAscentStart=this.plan.startAscentTime,this.dive.turnPressure=this.calculateTurnPressure(),this.dive.turnTime=A2.floor(this.plan.duration/2),this.dive.needsReturn=this.plan.needsReturn&&1===this._tanks.length,this.dive.notEnoughGas=!Qc.haveReserve(this._tanks),this.dive.calculated=!0,this.dive.calculationFailed=!1,this.calculating=!1,this.onInfoCalculated.next()}resetToSimple(){this._tanks=this._tanks.slice(0,1),this.firstTank.he>0&&this.firstTank.assignStandardGas("Air"),this.onTanksReloaded.next(),this.plan.setSimple(this.plan.maxDepth,this.plan.duration,this.firstTank,this.options)}copyTanksConsumption(e){for(let t=0;t<this.tanks.length;t++){const r=e[t],i=this.tanks[t];i.consumed=r.consumed,i.reserve=r.reserve}}calculateTurnPressure(){return this.firstTank.startPressure-A2.floor(this.firstTank.consumed/2)}}gr.maxAcceptableNdl=1e3,gr.\u0275fac=function(e){return new(e||gr)(gn(Fy))},gr.\u0275prov=On({token:gr,factory:gr.\u0275fac});class el{constructor(e,t){this.gfLow=e,this.gfHeigh=t}}class tl{constructor(){this.lowName="Low (45/95)",this.mediumName="Medium (40/85)",this.highName="High (30/75)",this.empty=new el(1,1),this.gfMap=new Map,this.gfMap.set(this.lowName,new el(.45,.95)),this.gfMap.set(this.mediumName,new el(a2.gfLow,a2.gfHigh)),this.gfMap.set(this.highName,new el(.3,.75))}labelFor(e,t){for(const r of this.gfMap.keys()){const i=this.gfMap.get(r)||this.empty;if(i.gfLow===e&&i.gfHeigh===t)return r}return""}get(e){return this.gfMap.get(e)||this.empty}}tl.\u0275fac=function(e){return new(e||tl)},tl.\u0275prov=On({token:tl,factory:tl.\u0275fac});class bs{constructor(){this.standardGradients=new tl,this.options=new Nu,this.onReloaded=new j,this.options.salinity=ma.fresh,this.options.safetyStop=za.auto,this.reloaded$=this.onReloaded.asObservable()}get altitude(){return this.options.altitude}get ascentSpeed50perc(){return this.options.ascentSpeed50perc}get ascentSpeed50percTo6m(){return this.options.ascentSpeed50percTo6m}get ascentSpeed6m(){return this.options.ascentSpeed6m}get decoStopDistance(){return this.options.decoStopDistance}get descentSpeed(){return this.options.descentSpeed}get gasSwitchDuration(){return this.options.gasSwitchDuration}get gfLow(){return this.options.gfLow}get gfHigh(){return this.options.gfHigh}get lastStopDepth(){return this.options.lastStopDepth}get maxDecoPpO2(){return this.options.maxDecoPpO2}get maxEND(){return this.options.maxEND}get maxPpO2(){return this.options.maxPpO2}get minimumAutoStopDepth(){return this.options.minimumAutoStopDepth}get oxygenNarcotic(){return this.options.oxygenNarcotic}get problemSolvingDuration(){return this.options.problemSolvingDuration}get roundStopsToMinutes(){return this.options.roundStopsToMinutes}get safetyStop(){return this.options.safetyStop}get salinity(){return this.options.salinity}set altitude(e){this.options.altitude=e}set ascentSpeed50perc(e){e<1||(this.options.ascentSpeed50perc=e)}set ascentSpeed50percTo6m(e){e<1||(this.options.ascentSpeed50percTo6m=e)}set ascentSpeed6m(e){e<1||(this.options.ascentSpeed6m=e)}set decoStopDistance(e){this.options.decoStopDistance=e}set descentSpeed(e){e<1||(this.options.descentSpeed=e)}set gasSwitchDuration(e){this.options.gasSwitchDuration=e}set gfLow(e){this.options.gfLow=e}set gfHigh(e){this.options.gfHigh=e}set lastStopDepth(e){this.options.lastStopDepth=e}set maxDecoPpO2(e){this.options.maxDecoPpO2=e}set maxEND(e){this.options.maxEND=e}set maxPpO2(e){this.options.maxPpO2=e}set minimumAutoStopDepth(e){this.options.minimumAutoStopDepth=e}set oxygenNarcotic(e){this.options.oxygenNarcotic=e}set problemSolvingDuration(e){this.options.problemSolvingDuration=e}set roundStopsToMinutes(e){this.options.roundStopsToMinutes=e}set safetyStop(e){this.options.safetyStop=e}set salinity(e){this.options.salinity=e}useRecreational(){a2.useRecreational(this.options)}useRecommended(){a2.useRecommended(this.options)}useSafetyOff(){this.options.safetyStop=za.never}useSafetyAuto(){this.options.safetyStop=za.auto}useSafetyOn(){this.options.safetyStop=za.always}loadFrom(e){this.options.loadFrom(e),this.onReloaded.next()}applyDiver(e){this.options.maxPpO2=e.maxPpO2,this.options.maxDecoPpO2=e.maxDecoPpO2}resetToSimple(){""===this.standardGradients.labelFor(this.gfLow,this.gfHigh)&&a2.setMediumConservatism(this.options)}getOptions(){return this.options}}bs.\u0275fac=function(e){return new(e||bs)},bs.\u0275prov=On({token:bs,factory:bs.\u0275fac});class nl{constructor(e,t,r){this.planner=e,this.options=t,this.units=r}get ranges(){return this.units.ranges}apply(e,t){this.units.imperialUnits=t,this.planner.applyDiver(e),this.applyToOptions(e),this.normalizeTanks(),this.normalizeSegments()}applyToOptions(e){this.options.applyDiver(e),this.applyOptionsCalculationValues(),this.normalizeOptions(this.ranges),this.planner.assignOptions(this.options)}applyOptionsCalculationValues(){this.options.decoStopDistance=this.units.toMeters(this.units.stopsDistance),this.options.lastStopDepth=this.units.toMeters(this.units.stopsDistance),this.options.minimumAutoStopDepth=this.units.toMeters(this.units.autoStopLevel)}normalizeOptions(e){this.options.maxEND=this.fitLengthToRange(this.options.maxEND,e.narcoticDepth),this.options.altitude=this.fitLengthToRange(this.options.altitude,e.altitude),this.options.ascentSpeed50perc=this.fitLengthToRange(this.options.ascentSpeed50perc,e.speed),this.options.ascentSpeed50percTo6m=this.fitLengthToRange(this.options.ascentSpeed50percTo6m,e.speed),this.options.ascentSpeed6m=this.fitLengthToRange(this.options.ascentSpeed6m,e.speed),this.options.descentSpeed=this.fitLengthToRange(this.options.descentSpeed,e.speed)}normalizeTanks(){this.planner.tanks.forEach(t=>{t.startPressure=this.fitPressureToRange(t.startPressure,this.ranges.tankPressure),t.size=this.fitTankSizeToRange(t.size,this.ranges.tankSize)})}normalizeSegments(){this.planner.plan.segments.forEach(t=>{t.startDepth=this.fitLengthToRange(t.startDepth,this.ranges.depth),t.endDepth=this.fitLengthToRange(t.endDepth,this.ranges.depth)}),this.planner.plan.fixDepths()}fitLengthToRange(e,t){return this.fitUnit(r=>this.units.fromMeters(r),r=>this.units.toMeters(r),e,t)}fitPressureToRange(e,t){return this.fitUnit(r=>this.units.fromBar(r),r=>this.units.toBar(r),e,t)}fitTankSizeToRange(e,t){return this.fitUnit(r=>this.units.fromTankLiters(r),r=>this.units.toTankLiters(r),e,t)}fitUnit(e,t,r,i){let a=e(r);return a=A2.round(a,0),a=this.fitToRange(a,i[0],i[1]),t(a)}fitToRange(e,t,r){return e>r?r:e<t?t:e}}nl.\u0275fac=function(e){return new(e||nl)(gn(gr),gn(bs),gn(Lr))},nl.\u0275prov=On({token:nl,factory:nl.\u0275fac});var iV={prefix:"fas",iconName:"table",icon:[512,512,[],"f0ce","M64 256V160H224v96H64zm0 64H224v96H64V320zm224 96V320H448v96H288zM448 256H288V160H448v96zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"]},jy={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},pV={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zm32 224c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"]},Wy={prefix:"fas",iconName:"chart-area",icon:[512,512,["area-chart"],"f1fe","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64V400c0 44.2 35.8 80 80 80H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H80c-8.8 0-16-7.2-16-16V64zm96 288H448c17.7 0 32-14.3 32-32V251.8c0-7.6-2.7-15-7.7-20.8l-65.8-76.8c-12.1-14.2-33.7-15-46.9-1.8l-21 21c-10 10-26.4 9.2-35.4-1.6l-39.2-47c-12.6-15.1-35.7-15.4-48.7-.6L135.9 215c-5.1 5.8-7.9 13.3-7.9 21.1v84c0 17.7 14.3 32 32 32z"]},rk={prefix:"fas",iconName:"shuffle",icon:[512,512,[128256,"random"],"f074","M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160H352c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96h32V64c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V416H352c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8h32V320c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"]},yA={prefix:"fas",iconName:"layer-group",icon:[576,512,[],"f5fd","M264.5 5.2c14.9-6.9 32.1-6.9 47 0l218.6 101c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 149.8C37.4 145.8 32 137.3 32 128s5.4-17.9 13.9-21.8L264.5 5.2zM476.9 209.6l53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 277.8C37.4 273.8 32 265.3 32 256s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0l152-70.2zm-152 198.2l152-70.2 53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 405.8C37.4 401.8 32 393.3 32 384s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0z"]},BA={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},HN={prefix:"fas",iconName:"user-gear",icon:[640,512,["user-cog"],"f4fe","M224 256c-70.7 0-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128s-57.3 128-128 128zm-45.7 48h91.4c11.8 0 23.4 1.2 34.5 3.3c-2.1 18.5 7.4 35.6 21.8 44.8c-16.6 10.6-26.7 31.6-20 53.3c4 12.9 9.4 25.5 16.4 37.6s15.2 23.1 24.4 33c15.7 16.9 39.6 18.4 57.2 8.7v.9c0 9.2 2.7 18.5 7.9 26.3H29.7C13.3 512 0 498.7 0 482.3C0 383.8 79.8 304 178.3 304zM436 218.2c0-7 4.5-13.3 11.3-14.8c10.5-2.4 21.5-3.7 32.7-3.7s22.2 1.3 32.7 3.7c6.8 1.5 11.3 7.8 11.3 14.8v30.6c7.9 3.4 15.4 7.7 22.3 12.8l24.9-14.3c6.1-3.5 13.7-2.7 18.5 2.4c7.6 8.1 14.3 17.2 20.1 27.2s10.3 20.4 13.5 31c2.1 6.7-1.1 13.7-7.2 17.2l-25 14.4c.4 4 .7 8.1 .7 12.3s-.2 8.2-.7 12.3l25 14.4c6.1 3.5 9.2 10.5 7.2 17.2c-3.3 10.6-7.8 21-13.5 31s-12.5 19.1-20.1 27.2c-4.8 5.1-12.5 5.9-18.5 2.4l-24.9-14.3c-6.9 5.1-14.3 9.4-22.3 12.8l0 30.6c0 7-4.5 13.3-11.3 14.8c-10.5 2.4-21.5 3.7-32.7 3.7s-22.2-1.3-32.7-3.7c-6.8-1.5-11.3-7.8-11.3-14.8V454.8c-8-3.4-15.6-7.7-22.5-12.9l-24.7 14.3c-6.1 3.5-13.7 2.7-18.5-2.4c-7.6-8.1-14.3-17.2-20.1-27.2s-10.3-20.4-13.5-31c-2.1-6.7 1.1-13.7 7.2-17.2l24.8-14.3c-.4-4.1-.7-8.2-.7-12.4s.2-8.3 .7-12.4L343.8 325c-6.1-3.5-9.2-10.5-7.2-17.2c3.3-10.6 7.7-21 13.5-31s12.5-19.1 20.1-27.2c4.8-5.1 12.4-5.9 18.5-2.4l24.8 14.3c6.9-5.1 14.5-9.4 22.5-12.9V218.2zm92.1 133.5c0-26.5-21.5-48-48.1-48s-48.1 21.5-48.1 48s21.5 48 48.1 48s48.1-21.5 48.1-48z"]},qN={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"]},Sh={prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"]},d_={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336c44.2 0 80-35.8 80-80s-35.8-80-80-80s-80 35.8-80 80s35.8 80 80 80z"]},h_={prefix:"fas",iconName:"battery-half",icon:[576,512,["battery-3"],"f242","M0 176c0-44.2 35.8-80 80-80H464c44.2 0 80 35.8 80 80v16c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32v16c0 44.2-35.8 80-80 80H80c-44.2 0-80-35.8-80-80V176zm80-16c-8.8 0-16 7.2-16 16V336c0 8.8 7.2 16 16 16H464c8.8 0 16-7.2 16-16V176c0-8.8-7.2-16-16-16H80zm208 32V320H96V192H288z"]},vE={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M0 416c0-17.7 14.3-32 32-32l54.7 0c12.3-28.3 40.5-48 73.3-48s61 19.7 73.3 48L480 384c17.7 0 32 14.3 32 32s-14.3 32-32 32l-246.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 448c-17.7 0-32-14.3-32-32zm192 0c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32zM384 256c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32zm-32-80c32.8 0 61 19.7 73.3 48l54.7 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-54.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l246.7 0c12.3-28.3 40.5-48 73.3-48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32s-14.3-32-32-32zm73.3 0L480 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l-214.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 128C14.3 128 0 113.7 0 96S14.3 64 32 64l86.7 0C131 35.7 159.2 16 192 16s61 19.7 73.3 48z"]},p_={prefix:"fas",iconName:"calculator",icon:[384,512,[128425],"f1ec","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64zM96 64H288c17.7 0 32 14.3 32 32v32c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32zM64 224c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32zm32 64c17.7 0 32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32zM64 416c0-17.7 14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H96c-17.7 0-32-14.3-32-32zM192 192c17.7 0 32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32zM160 320c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32zM288 192c17.7 0 32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32zM256 320c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32zm32 64c17.7 0 32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32z"]},ZE={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},lP={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},fP={prefix:"fas",iconName:"list-check",icon:[576,512,["tasks"],"f0ae","M184.1 38.2c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L39 113c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zm0 160c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L39 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zM256 96c0-17.7 14.3-32 32-32H512c17.7 0 32 14.3 32 32s-14.3 32-32 32H288c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32H512c17.7 0 32 14.3 32 32s-14.3 32-32 32H288c-17.7 0-32-14.3-32-32zM192 416c0-17.7 14.3-32 32-32H512c17.7 0 32 14.3 32 32s-14.3 32-32 32H224c-17.7 0-32-14.3-32-32zM80 464c-26.5 0-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48z"]},H_={prefix:"fas",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M352 224H305.5c-45 0-81.5 36.5-81.5 81.5c0 22.3 10.3 34.3 19.2 40.5c6.8 4.7 12.8 12 12.8 20.3c0 9.8-8 17.8-17.8 17.8h-2.5c-2.4 0-4.8-.4-7.1-1.4C210.8 374.8 128 333.4 128 240c0-79.5 64.5-144 144-144h80V34.7C352 15.5 367.5 0 386.7 0c8.6 0 16.8 3.2 23.2 8.9L548.1 133.3c7.6 6.8 11.9 16.5 11.9 26.7s-4.3 19.9-11.9 26.7l-139 125.1c-5.9 5.3-13.5 8.2-21.4 8.2H384c-17.7 0-32-14.3-32-32V224zM80 96c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16H400c8.8 0 16-7.2 16-16V384c0-17.7 14.3-32 32-32s32 14.3 32 32v48c0 44.2-35.8 80-80 80H80c-44.2 0-80-35.8-80-80V112C0 67.8 35.8 32 80 32h48c17.7 0 32 14.3 32 32s-14.3 32-32 32H80z"]},kh={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},Eh={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32z"]};class Fi{constructor(e){this.numberPipe=e}controlInValid(e){return e.invalid&&(e.dirty||e.touched)}formatNumber(e,t=1){return this.numberPipe.transform(e,`1.0-${t}`)}}Fi.\u0275fac=function(e){return new(e||Fi)(gn(Oa))},Fi.\u0275prov=On({token:Fi,factory:Fi.\u0275fac});class Ri{constructor(e){this.units=e}get nitroxOxygen(){return this.rangeFor(this.ranges.nitroxOxygen)}get trimixOxygen(){return this.rangeFor(this.ranges.trimixOxygen)}get trimixHe(){return this.rangeFor(this.ranges.tankHe)}get ppO2(){return this.rangeFor(this.ranges.ppO2)}get depth(){return this.rangeFor(this.ranges.depth)}get duration(){return this.rangeFor(this.ranges.duration)}get tankPressure(){return this.rangeFor(this.ranges.tankPressure)}get tankSize(){return this.rangeFor(this.ranges.tankSize)}get altitude(){return this.rangeFor(this.ranges.altitude)}get gradients(){return this.rangeFor([10,100])}get speed(){return this.rangeFor(this.ranges.speed)}get lastStopDepth(){return this.rangeFor(this.ranges.lastStopDepth)}get gasSwitchDuration(){return this.rangeFor([1,100])}get problemSolvingDuration(){return this.rangeFor([1,100])}get maxEnd(){return this.rangeFor(this.ranges.narcoticDepth)}get diverRmv(){return[Tc.required,this.validateMinRmv,this.validateMaxRmv]}get ranges(){return this.units.ranges}validateMinRmv(){return e=>Tc.min(this.ranges.diverRmv[0])(e)}validateMaxRmv(){return e=>Tc.max(this.ranges.diverRmv[1])(e)}rangeFor(e){return[Tc.required,Tc.min(e[0]),Tc.max(e[1])]}}Ri.\u0275fac=function(e){return new(e||Ri)(gn(Lr))},Ri.\u0275prov=On({token:Ri,factory:Ri.\u0275fac});class G0{constructor(e,t,r,i){this.fb=e,this.inputs=t,this.validators=r,this.units=i,this.maxPpO2=1.4,this.label="",this.controlName="maxPpO2",this.ppO2Change=new v1}get ppO2Invalid(){const e=this.pO2Form.get(this.controlName);return!e||this.inputs.controlInValid(e)}ngOnInit(){this.pO2Form||(this.pO2Form=this.fb.group({}));const e=this.fb.control(this.inputs.formatNumber(this.maxPpO2),this.validators.ppO2);this.pO2Form.addControl(this.controlName,e)}fireChanged(){if(this.ppO2Invalid)return;const e=this.pO2Form.get(this.controlName),t=Number(e?.value);this.ppO2Change.emit(t)}}G0.\u0275fac=function(e){return new(e||G0)(Tt(fs),Tt(Fi),Tt(Ri),Tt(Lr))},G0.\u0275cmp=I2({type:G0,selectors:[["app-pp-o2"]],inputs:{maxPpO2:"maxPpO2",label:"label",controlName:"controlName",pO2Form:"pO2Form"},outputs:{ppO2Change:"ppO2Change"},decls:6,vars:7,consts:[[3,"formGroup"],["for","maxPpO2","mdbLabel","",1,"form-label"],["id","maxPpO2","type","number","step","0.1",1,"form-control",3,"formControlName","min","max","input"],[1,"invalid-feedback","position-absolute"]],template:function(e,t){1&e&&(fr(0,0),Pe(1,"label",1),Lt(2),Ge(),Pe(3,"input",2),xn("input",function(){return t.fireChanged()}),Ge(),Pe(4,"div",3),Lt(5,"Needs to be number 0.21-3"),Ge(),dr()),2&e&&(Ht("formGroup",t.pO2Form),je(2),z1(t.label),je(1),k2("is-invalid",t.ppO2Invalid),Ht("formControlName",t.controlName)("min",t.units.ranges.ppO2[0])("max",t.units.ranges.ppO2[1]))},dependencies:[fa,Ba,Fa,Ra,ja,Ua,ha,wa,ms]});class Bu extends qa{constructor(e,t,r,i){super(),this.fb=e,this.inputs=t,this.validators=r,this.units=i,this.diver=new j0,this.icon=HN}get ranges(){return this.units.ranges}get rmv(){return this.units.fromLiter(this.diver.rmv)}get rmvInvalid(){return this.inputs.controlInValid(this.diverForm.controls.rmv)}ngOnInit(){this.diverForm||(this.diverForm=this.fb.group({}));const e=this.fb.control(this.inputs.formatNumber(this.rmv),this.validators.diverRmv);this.diverForm.addControl("rmv",e),this.units.ranges$.pipe(Q1(this.unsubscribe$)).subscribe(()=>this.diverForm.patchValue({rmv:this.inputs.formatNumber(this.rmv)}))}inputChanged(){if(this.diverForm.invalid)return;const e=Number(this.diverForm.value.rmv);this.diver.rmv=this.units.toLiter(e)}maxPpO2Changed(e){this.diver.maxPpO2=e}maxDecoPpO2Changed(e){this.diver.maxDecoPpO2=e}}function LCe(n,e){if(1&n&&(Pe(0,"div",8)(1,"div",9)(2,"div",10),jn(3,"fa-icon",11),Pe(4,"span"),Lt(5,"Units"),Ge()(),Pe(6,"div",12)(7,"div",13),jn(8,"input",14),Pe(9,"label",15),Lt(10,"Metric units (m, l, bar)"),Ge()(),Pe(11,"div",13),jn(12,"input",16),Pe(13,"label",17),Lt(14,"Imperial units (ft, cuft, psi)"),jn(15,"br"),Lt(16," (Experimental, not recommended)"),Ge()()()()()),2&n){const t=on();je(3),Ht("icon",t.flagIcon),je(5),Ht("value",!1),je(4),Ht("value",!0)}}Bu.\u0275fac=function(e){return new(e||Bu)(Tt(fs),Tt(Fi),Tt(Ri),Tt(Lr))},Bu.\u0275cmp=I2({type:Bu,selectors:[["app-diver"]],inputs:{diver:"diver",diverForm:"diverForm"},features:[g1],decls:18,vars:12,consts:[[1,"mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"mt-2"],["for","sac","mdbLabel","",1,"form-label"],["id","sac","formControlName","rmv","type","number","step","0.1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],[1,"pt-2","mt-4"],["label","Maximum ppO2:","controlName","maxPO2",3,"maxPpO2","pO2Form","ppO2Change"],[1,"pt-2","my-4"],["label","Maximum deco ppO2:","controlName","maxDecoPO2",3,"maxPpO2","pO2Form","ppO2Change"]],template:function(e,t){1&e&&(Pe(0,"div",0)(1,"div",1)(2,"div",2),jn(3,"fa-icon",3),Pe(4,"span"),Lt(5,"Diver"),Ge()(),Pe(6,"div",4),fr(7,5),Pe(8,"div",6)(9,"label",7),Lt(10),Ge(),Pe(11,"input",8),xn("input",function(){return t.inputChanged()}),Ge(),Pe(12,"div",9),Lt(13),Ge()(),Pe(14,"div",10)(15,"app-pp-o2",11),xn("ppO2Change",function(i){return t.maxPpO2Changed(i)}),Ge()(),Pe(16,"div",12)(17,"app-pp-o2",13),xn("ppO2Change",function(i){return t.maxDecoPpO2Changed(i)}),Ge()(),dr(),Ge()()()),2&e&&(je(3),Ht("icon",t.icon),je(4),Ht("formGroup",t.diverForm),je(3),t2("RMV [",t.units.rmv,"]:"),je(1),k2("is-invalid",t.rmvInvalid),Ht("min",t.ranges.diverRmv[0])("max",t.ranges.diverRmv[1]),je(2),t2("Needs to be number ",t.ranges.diverRmvLabel,""),je(2),Ht("maxPpO2",t.diver.maxPpO2)("pO2Form",t.diverForm),je(2),Ht("maxPpO2",t.diver.maxDecoPpO2)("pO2Form",t.diverForm))},dependencies:[fa,Ba,Fa,Ra,ja,Ua,ha,wa,pa,ms,G0]});class Uu{constructor(e,t,r,i,a,o){this.units=e,this.settingsNormalization=t,this.formBuilder=r,this.router=i,this.cd=a,this.planner=o,this.flagIcon=KH,this.diver=new j0,this.diver.loadFrom(this.planner.diver)}ngOnInit(){this.settingsForm=this.formBuilder.group({imperialUnits:[this.units.imperialUnits,[Tc.required]]})}goBack(){var e=this;return ch(function*(){return yield e.router.navigateByUrl("/")})()}use(){if(this.settingsForm.invalid)return;const e=Boolean(this.settingsForm.controls.imperialUnits.value);this.settingsNormalization.apply(this.diver,e),this.cd.detectChanges()}}Uu.\u0275fac=function(e){return new(e||Uu)(Tt(Lr),Tt(nl),Tt(fs),Tt(Ii),Tt(f4),Tt(gr))},Uu.\u0275cmp=I2({type:Uu,selectors:[["app-app-settings"]],decls:10,vars:5,consts:[[1,"row","mt-5"],[1,"row",3,"formGroup"],[1,"col","col-12","col-sm-5","col-lg-4","col-xl-3","col-xxl-2",3,"diver","diverForm"],["class","col col-12 col-sm-7 col-lg-5 col-xl-4 col-xxl-3 mt-3",4,"ngIf"],[1,"row"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-secondary",3,"hidden","click"],[1,"col","col-12","col-sm-7","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[1,"form-check"],["type","radio","id","metricRadio","formControlName","imperialUnits",1,"form-check-input",3,"value"],["for","metricRadio","value","metric",1,"custom-control-label"],["type","radio","id","imperialRadio","formControlName","imperialUnits",1,"form-check-input",3,"value"],["for","imperialRadio",1,"custom-control-label"]],template:function(e,t){1&e&&(Pe(0,"div",0)(1,"form",1),jn(2,"app-diver",2),kn(3,LCe,17,3,"div",3),Ge()(),Pe(4,"div",4)(5,"div",5)(6,"button",6),xn("click",function(){return t.goBack()}),Lt(7,"Back"),Ge(),Pe(8,"button",7),xn("click",function(){return t.use()}),Lt(9,"Use"),Ge()()()),2&e&&(je(1),Ht("formGroup",t.settingsForm),je(1),Ht("diver",t.diver)("diverForm",t.settingsForm),je(1),Ht("ngIf",!1),je(5),Ht("hidden",!t.settingsForm.valid))},dependencies:[Zr,Vc,fa,Lg,Fa,Ra,ha,wa,pa,Bu]});var HCe=pe(489),Ph=pe.n(HCe);class DCe{constructor(){this.ranges=Lr.createMetricRanges();const e=R2.toSeconds(this.ranges.duration[0]),t=R2.toSeconds(this.ranges.duration[1]);this.simpleDurationRange=[1,t],this.complexDurationRange=[e,t]}validate(e){const t=e.tanks.length+1,r=this.selectContentRanges(e.isComplex),i=this.allTanksValid(e.tanks,t,r),a=this.selectDurationRanges(e.isComplex),o=this.allSegmentsValid(e.plan,t,a,r),_=this.optionsValid(e.options),k=this.diverValid(e.diver),q=this.complexModeValid(e);return i&&o&&_&&k&&q}selectContentRanges(e){return e?[this.ranges.trimixOxygen,this.ranges.tankHe]:[this.ranges.nitroxOxygen,[0,0]]}selectDurationRanges(e){return e?this.complexDurationRange:this.simpleDurationRange}allTanksValid(e,t,r){const i=e.length>0,a=Ph()(e).every(k=>this.isValidTank(k,t,r)),_=Ph()(e).map(k=>k.id).uniq().size()===e.length;return i&&a&&_}isValidTank(e,t,r){const i=this.isInRange(e.id,[1,t]),a=this.isInRange(e.size,this.ranges.tankSize),o=this.isInRange(e.startPressure,this.ranges.tankPressure),_=this.isValidGas(e.gas,r);return i&&a&&o&&_}isValidGas(e,t){const r=.209===e.fO2&&0===e.fHe,i=this.isInRange(100*e.fO2,t[0]),a=this.isInRange(100*e.fHe,t[1]);return r||i&&a&&e.fO2+e.fHe<=1}allSegmentsValid(e,t,r,i){return e.length>0&&Ph()(e).every(a=>this.isValidSegment(a,t,r,i))}isValidSegment(e,t,r,i){const a=this.isInRange(e.tankId,[1,t]),o=this.isInRange(e.startDepth,[0,350]),_=this.isInRange(e.endDepth,[0,350]),k=this.isInRange(e.duration,r),q=this.isValidGas(e.gas,i);return a&&o&&_&&k&&q}optionsValid(e){return this.isInRange(e.altitude,this.ranges.altitude)&&this.isInRange(e.ascentSpeed50perc,this.ranges.speed)&&this.isInRange(e.ascentSpeed50percTo6m,this.ranges.speed)&&this.isInRange(e.ascentSpeed6m,this.ranges.speed)&&this.isInRange(e.descentSpeed,this.ranges.speed)&&this.isInRange(e.gasSwitchDuration,[1,10])&&this.isInRange(e.gfHigh,[.1,1])&&this.isInRange(e.gfLow,[.1,1])&&this.isInRange(e.maxDecoPpO2,this.ranges.ppO2)&&this.isInRange(e.maxEND,this.ranges.narcoticDepth)&&this.isInRange(e.maxPpO2,this.ranges.ppO2)&&this.isInRange(e.problemSolvingDuration,[1,100])&&e.safetyStop in za&&e.salinity in ma}diverValid(e){return this.isInRange(e.rmv,this.ranges.diverRmv)&&this.isInRange(e.maxPpO2,this.ranges.ppO2)&&this.isInRange(e.maxDecoPpO2,this.ranges.ppO2)}complexModeValid(e){return e.isComplex||2===e.plan.length&&1===e.tanks.length}isInRange(e,t){return t[0]<=e&&e<=t[1]}}class qI{toPreferences(e,t){return{isComplex:e.isComplex,options:A1.fromOptions(t.getOptions()),diver:A1.fromDiver(e.diver),tanks:A1.fromTanks(e.tanks),plan:A1.fromSegments(e.plan.segments)}}applyLoaded(e,t,r){const i=A1.toTanks(r.tanks),a=A1.toSegments(r.plan,i),o=A1.toDiver(r.diver),_=A1.toOptions(r.options);t.loadFrom(_),r.isComplex||t.resetToSimple(),e.loadFrom(r.isComplex,_,o,i,a),e.calculate()}}class La{constructor(e,t){this.paramValues=e.split(t)}static serializeBoolean(e){return e?La.trueValue:"0"}static deserializeBoolean(e){return e===La.trueValue}parseNumber(e){return Number(this.paramValues[e])}parseEnum(e){return Number(this.paramValues[e])}parseBoolean(e){return La.deserializeBoolean(this.paramValues[e])}processValues(e,t){for(let r=0;r<this.paramValues.length;r++)t(this.toPartContext(r,e))}toPartContext(e,t){return new La(this.paramValues[e],t)}}La.trueValue="1";class xs{static toUrl(e,t){return`t=${xs.toTanksParam(e.tanks)}&de=${xs.toDepthsParam(e.plan.segments)}&di=${xs.toDiverParam(e.diver)}&o=${xs.toOptionsParam(t.getOptions())}&c=${La.serializeBoolean(e.isComplex)}`}static fromUrl(e,t,r){try{if(!e)return;const i=decodeURIComponent(e),a=xs.parseDto(i);(new DCe).validate(a)?(new qI).applyLoaded(r,t,a):console.log("Unable to load planner from url parameters, due to invalid data.")}catch{console.log("Failed loading of planner from url parameters.")}}static parseDto(e){const t=new URLSearchParams(e),r=t.get("c")||"",i=t.get("o")||"",a=t.get("di")||"",o=t.get("t")||"",_=t.get("de")||"",k=xs.fromTanksParam(o);return{isComplex:La.deserializeBoolean(r),options:xs.fromOptionsParam(i),diver:xs.fromDiverParam(a),tanks:k,plan:xs.fromDepthsParam(k,_)}}static fromOptionsParam(e){const t=new La(e,",");return{altitude:t.parseNumber(0),ascentSpeed50perc:t.parseNumber(1),ascentSpeed50percTo6m:t.parseNumber(2),ascentSpeed6m:t.parseNumber(3),decoStopDistance:t.parseNumber(4),descentSpeed:t.parseNumber(5),gasSwitchDuration:t.parseNumber(6),gfHigh:t.parseNumber(7),gfLow:t.parseNumber(8),lastStopDepth:t.parseNumber(9),maxDecoPpO2:t.parseNumber(10),maxEND:t.parseNumber(11),maxPpO2:t.parseNumber(12),minimumAutoStopDepth:t.parseNumber(13),oxygenNarcotic:t.parseBoolean(14),problemSolvingDuration:t.parseNumber(15),roundStopsToMinutes:t.parseBoolean(16),safetyStop:t.parseEnum(17),salinity:t.parseEnum(18)}}static toOptionsParam(e){const t=La.serializeBoolean(e.oxygenNarcotic),r=La.serializeBoolean(e.roundStopsToMinutes);return`${e.altitude},${e.ascentSpeed50perc},${e.ascentSpeed50percTo6m},${e.ascentSpeed6m},${e.decoStopDistance},${e.descentSpeed},${e.gasSwitchDuration},${e.gfHigh},${e.gfLow},${e.lastStopDepth},${e.maxDecoPpO2},${e.maxEND},${e.maxPpO2},${e.minimumAutoStopDepth},${t},${e.problemSolvingDuration},${r},${e.safetyStop},${e.salinity}`}static fromDiverParam(e){const t=new La(e,",");return{rmv:t.parseNumber(0),maxPpO2:t.parseNumber(1),maxDecoPpO2:t.parseNumber(2)}}static toDiverParam(e){return`${e.rmv},${e.maxPpO2},${e.maxDecoPpO2}`}static fromTanksParam(e){let t=[];return new La(e,",").processValues("-",i=>{const a={id:i.parseNumber(0),size:i.parseNumber(1),startPressure:i.parseNumber(2),gas:{fO2:i.parseNumber(3),fHe:i.parseNumber(4)},consumed:0,reserve:0};t.push(a)}),t=Ph().sortBy(t,[i=>i.id]),t}static toTanksParam(e){const t=[];return e.forEach(r=>{t.push(`${r.id}-${r.size}-${r.startPressure}-${r.gas.fO2}-${r.gas.fHe}`)}),t.join(",")}static fromDepthsParam(e,t){const r=[];let a;return new La(t,",").processValues("-",o=>{const k=this.toSegment(o,e,a?a.endDepth:0);a=k,r.push(k)}),r}static toSegment(e,t,r){const i={startDepth:r,endDepth:e.parseNumber(1),duration:e.parseNumber(2),tankId:1,gas:{fO2:0,fHe:0}},a=e.parseNumber(3);if(0<a&&a<=t.length){const o=t[a-1];i.tankId=a,i.gas.fO2=o.gas.fO2,i.gas.fHe=o.gas.fHe}return i}static toDepthsParam(e){const t=[];return e.forEach(r=>{t.push(`${r.startDepth}-${r.endDepth}-${r.duration}-${r.tank?r.tank.id:0}`)}),t.join(",")}}class wi{constructor(e,t){this.planner=e,this.options=t,this.preferencesFactory=new qI}loadDefaults(){const e=localStorage.getItem(wi.storageKey);if(!e)return;const t=JSON.parse(e);this.preferencesFactory.applyLoaded(this.planner,this.options,t)}saveDefaults(){const e=this.preferencesFactory.toPreferences(this.planner,this.options),t=JSON.stringify(e);localStorage.setItem(wi.storageKey,t)}disableDisclaimer(){localStorage.setItem(wi.disclaimerKey,wi.disclaimerValue)}disclaimerEnabled(){return localStorage.getItem(wi.disclaimerKey)!==wi.disclaimerValue}}wi.disclaimerValue="confirmed",wi.storageKey="preferences",wi.disclaimerKey="disclaimer",wi.\u0275fac=function(e){return new(e||wi)(gn(gr),gn(bs))},wi.\u0275prov=On({token:wi,factory:wi.\u0275fac});class Ao{constructor(e){this.planner=e,this.scheduled=!1}schedule(){this.scheduled||(this.scheduled=!0,setTimeout(()=>{this.planner.calculate(),this.scheduled=!1},100))}}Ao.\u0275fac=function(e){return new(e||Ao)(gn(gr))},Ao.\u0275prov=On({token:Ao,factory:Ao.\u0275fac});class rl{constructor(e=new Nu){this.options=e,this.depthConverter=Cs.simple();const t=new ky(this.depthConverter,this.options);this.nitroxCalculator=new mT(t,this.depthConverter)}modForGas(e){return this.nitroxCalculator.mod(this.options.maxPpO2,e.o2)}mndForGas(e){const t=this.depthConverter.toBar(this.options.maxEND),r=e.mnd(t,this.options.oxygenNarcotic),i=this.depthConverter.fromBar(r);let a=A2.fix(i);return a=A2.roundTwoDecimals(a),a}switchDepth(e){return this.nitroxCalculator.gasSwitch(this.options.maxDecoPpO2,e.o2)}maxDepth(e){const t=this.mndForGas(e.gas),r=this.modForGas(e),i=Math.min(t,r);return A2.floor(i)}bestNitroxMix(e){const r=this.nitroxCalculator.bestMix(this.options.maxPpO2,e);return A2.round(r)}}function TCe(n,e){if(1&n&&(Pe(0,"span",3),Lt(1),Ge()),2&n){const t=on();je(1),t2("",t.tank.name," ")}}function VCe(n,e){if(1&n&&(Pe(0,"span"),Lt(1),j2(2,"number"),Ge()),2&n){const t=on();je(1),os(", MND: ",G2(2,2,t.gasMnd,"1.0-0")," ",t.units.length,"")}}class il{constructor(e){this.units=e,this.tank=L3.createDefault(),this.showName=!0,this.toxicity=new rl}get gasMod(){const e=this.toxicity.modForGas(this.tank),t=this.units.fromMeters(e);return A2.floor(t)}get gasMnd(){const e=this.toxicity.mndForGas(this.tank.gas),t=this.units.fromMeters(e);return A2.floor(t)}get isTrimix(){return this.tank.he>0}get gasDecoMod(){const e=this.toxicity.switchDepth(this.tank),t=this.units.fromMeters(e);return A2.floor(t)}}function kCe(n,e){if(1&n){const t=k1();Pe(0,"li",10),xn("click",function(){return s2(t),o2(on().fireAssignBestMix())}),Pe(1,"a",11),Lt(2,"Best mix "),Ge()()}}function ACe(n,e){if(1&n){const t=k1();Pe(0,"li",10),xn("click",function(){const a=s2(t).$implicit;return o2(on().assignStandardGas(a))}),Pe(1,"a",11),Lt(2),Ge()()}if(2&n){const t=e.$implicit;je(2),z1(t)}}function NCe(n,e){if(1&n&&(Pe(0,"div",12),Lt(1),Ge()),2&n){const t=on();je(1),t2("Needs to be number ",t.units.ranges.nitroxOxygenLabel,"")}}il.\u0275fac=function(e){return new(e||il)(Tt(Lr))},il.\u0275cmp=I2({type:il,selectors:[["app-gaslabel"]],inputs:{tank:"tank",showName:"showName",toxicity:"toxicity"},decls:6,vars:12,consts:[[1,"text-muted"],["class","fw-bold",4,"ngIf"],[4,"ngIf"],[1,"fw-bold"]],template:function(e,t){1&e&&(Pe(0,"small",0),kn(1,TCe,2,1,"span",1),Lt(2),j2(3,"number"),j2(4,"number"),kn(5,VCe,3,5,"span",2),Ge()),2&e&&(je(1),Ht("ngIf",t.showName),je(1),tm(" MOD: ",G2(3,6,t.gasMod,"1.0-0")," ",t.units.length,", switch ",G2(4,9,t.gasDecoMod,"1.0-0")," ",t.units.length," "),je(3),Ht("ngIf",t.isTrimix))},dependencies:[Zr,Oa]});class $0{constructor(e,t,r,i){this.fb=e,this.inputs=t,this.validators=r,this.units=i,this.tank=new L3(15,200,21),this.toxicity=new rl,this.showBestMix=!0,this.gasChange=new v1,this.assignBestMix=new v1,this.nitroxNames=H2.nitroxNames()}get gasO2Invalid(){return this.inputs.controlInValid(this.nitroxForm.controls.o2)}ngOnInit(){this.nitroxForm=this.fb.group({o2:[this.inputs.formatNumber(this.tank.o2),this.validators.nitroxOxygen]})}fireAssignBestMix(){this.assignBestMix.emit(),this.reload()}fireGasChanged(){this.gasO2Invalid||(this.tank.o2=Number(this.nitroxForm.controls.o2.value),this.gasChange.emit())}assignStandardGas(e){this.tank.assignStandardGas(e),this.reload(),this.fireGasChanged()}reload(){this.nitroxForm.patchValue({o2:this.inputs.formatNumber(this.tank.o2)})}}function ECe(n,e){1&n&&(Pe(0,"span"),Lt(1,"Bottom gas tank"),Ge())}function PCe(n,e){1&n&&(Pe(0,"span"),Lt(1,"Tanks"),Ge())}function ICe(n,e){if(1&n){const t=k1();Pe(0,"button",44),xn("click",function(){s2(t);const i=on().index;return o2(on(2).removeTank(i))}),jn(1,"fa-icon",45),Ge()}if(2&n){const t=on(3);je(1),Ht("icon",t.minusIcon)}}function OCe(n,e){if(1&n&&(Pe(0,"div",46),Lt(1),Ge()),2&n){const t=on(3);je(1),t2("Needs to be number ",t.ranges.tankSizeLabel," ")}}function FCe(n,e){if(1&n&&(Pe(0,"div",46),Lt(1),Ge()),2&n){const t=on(3);je(1),t2(" Needs to be number ",t.ranges.tankPressureLabel,"")}}function RCe(n,e){if(1&n){const t=k1();Pe(0,"li",47),xn("click",function(){const a=s2(t).$implicit,o=on().index;return o2(on(2).assignStandardGas(o,a))}),Pe(1,"a",48),Lt(2),Ge()()}if(2&n){const t=e.$implicit;je(2),z1(t)}}function BCe(n,e){if(1&n&&(Pe(0,"div",46),Lt(1),Ge()),2&n){const t=on(3);je(1),t2("Needs to be number ",t.ranges.trimixOxygenLabel,"")}}function UCe(n,e){if(1&n&&(Pe(0,"div",46),Lt(1),Ge()),2&n){const t=on(3);je(1),t2("Needs to be number ",t.ranges.tankHeLabel,"")}}function jCe(n,e){if(1&n){const t=k1();Pe(0,"button",44),xn("click",function(){s2(t);const i=on().index;return o2(on(2).removeTank(i))}),jn(1,"fa-icon",45),Ge()}if(2&n){const t=on(3);je(1),Ht("icon",t.minusIcon)}}function GCe(n,e){if(1&n){const t=k1();Pe(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20),Lt(4),Ge(),Pe(5,"div",21),kn(6,ICe,2,1,"button",22),Ge()()(),Pe(7,"div",23)(8,"div",24),Lt(9),Ge(),Pe(10,"div",25)(11,"label",26),Lt(12),Ge(),Pe(13,"input",27),xn("input",function(){const a=s2(t).index;return o2(on(2).tankChanged(a))}),Ge(),kn(14,OCe,2,1,"div",28),Ge(),Pe(15,"div",25)(16,"label",29),Lt(17),Ge(),Pe(18,"input",30),xn("input",function(){const a=s2(t).index;return o2(on(2).tankChanged(a))}),Ge(),kn(19,FCe,2,1,"div",28),Ge(),Pe(20,"div",31)(21,"label",32),Lt(22,"O2 [%]:"),Ge(),Pe(23,"div",33)(24,"input",34),xn("input",function(){const a=s2(t).index;return o2(on(2).tankChanged(a))}),Ge(),jn(25,"button",35),Pe(26,"ul",36),kn(27,RCe,3,1,"li",37),Ge()(),kn(28,BCe,2,1,"div",28),Ge(),Pe(29,"div",25)(30,"label",32),Lt(31,"He [%]:"),Ge(),Pe(32,"input",38),xn("input",function(){const a=s2(t).index;return o2(on(2).tankChanged(a))}),Ge(),kn(33,UCe,2,1,"div",28),Ge(),Pe(34,"div",39),kn(35,jCe,2,1,"button",22),Ge()(),Pe(36,"div",8),jn(37,"div",40),Pe(38,"div",41)(39,"small",42),Lt(40),j2(41,"number"),Ge(),jn(42,"app-gaslabel",43),Ge(),jn(43,"div",40),Ge()()}if(2&n){const t=e.index,r=on(2);Ht("formGroupName",t),je(4),t2(" ",r.tanks[t].id,". "),je(2),Ht("ngIf",0!==t),je(3),t2("",r.tanks[t].id,"."),je(3),t2("Size [",r.units.volume,"]:"),je(1),k2("is-invalid",r.tankSizeInvalid(t)),Ht("min",r.ranges.tankSize[0])("max",r.ranges.tankSize[1]),je(1),Ht("ngIf",r.tankSizeInvalid(t)),je(3),t2("Pressure [",r.units.pressure,"]:"),je(1),k2("is-invalid",r.startPressureInvalid(t)),Ht("min",r.ranges.tankPressure[0])("max",r.ranges.tankPressure[1]),je(1),Ht("ngIf",r.startPressureInvalid(t)),je(5),k2("is-invalid",r.gasO2Invalid(t)),Ht("min",r.ranges.trimixOxygen[0])("max",r.ranges.trimixOxygen[1]),je(3),Ht("ngForOf",r.allNames),je(1),Ht("ngIf",r.gasO2Invalid(t)),je(4),k2("is-invalid",r.gasHeInvalid(t)),Ht("min",r.ranges.tankHe[0])("max",r.ranges.tankHe[1]),je(1),Ht("ngIf",r.gasHeInvalid(t)),je(2),Ht("ngIf",0!==t),je(5),os("SAC: ",G2(41,32,r.gasSac(t),"1.0-2")," ",r.units.sac,""),je(2),Ht("tank",r.tanks[t].tank)("toxicity",r.toxicity)}}function $Ce(n,e){if(1&n){const t=k1();Pe(0,"div",7)(1,"div",8),jn(2,"div",9),Pe(3,"div",10),Lt(4),Ge(),Pe(5,"div",10),Lt(6),Ge(),Pe(7,"div",11),Lt(8,"O2 [%]"),Ge(),Pe(9,"div",10),Lt(10,"He [%]"),Ge(),Pe(11,"div",9)(12,"button",12),xn("click",function(){return s2(t),o2(on().addTank())}),jn(13,"fa-icon",13),Ge()()(),kn(14,GCe,44,35,"div",14),Pe(15,"div",15)(16,"div",16)(17,"button",12),xn("click",function(){return s2(t),o2(on().addTank())}),jn(18,"fa-icon",13),Ge()()()()}if(2&n){const t=on();je(4),t2("Size [",t.units.volume,"]"),je(2),t2("Pressure [",t.units.pressure,"]"),je(7),Ht("icon",t.plusIcon),je(1),Ht("ngForOf",t.tanksGroup.controls),je(4),Ht("icon",t.plusIcon)}}function WCe(n,e){if(1&n){const t=k1();Pe(0,"div",49)(1,"div",50)(2,"label",51),Lt(3),Ge(),Pe(4,"input",52),xn("input",function(){return s2(t),o2(on().applySimple())}),Ge(),Pe(5,"div",53),Lt(6),Ge(),Pe(7,"div",42),Lt(8),j2(9,"number"),Ge()(),Pe(10,"div",50)(11,"label",54),Lt(12),Ge(),Pe(13,"input",55),xn("input",function(){return s2(t),o2(on().applySimple())}),Ge(),Pe(14,"div",53),Lt(15),Ge()(),Pe(16,"div",50)(17,"app-oxygen",56),xn("gasChange",function(){return s2(t),o2(on().applySimple())})("assignBestMix",function(){return s2(t),o2(on().assignBestMix())}),Ge()()()}if(2&n){const t=on();je(3),t2("Size [",t.units.volume,"]:"),je(1),k2("is-invalid",t.firstTankSizeInvalid),Ht("min",t.ranges.tankSize[0])("max",t.ranges.tankSize[1]),je(2),t2("Needs to be number ",t.ranges.tankSizeLabel,""),je(1),k2("invisible",t.firstTankSizeInvalid),je(1),os("SAC: ",G2(9,18,t.gasSac(0),"1.0-2")," ",t.units.sac,""),je(4),t2("Start pressure [",t.units.pressure,"]: "),je(1),k2("is-invalid",t.firstTankStartPressureInvalid),Ht("min",t.ranges.tankPressure[0])("max",t.ranges.tankPressure[1]),je(2),t2("Needs to be number ",t.ranges.tankPressureLabel,""),je(2),Ht("tank",t.firstTank.tank)("toxicity",t.toxicity)}}$0.\u0275fac=function(e){return new(e||$0)(Tt(fs),Tt(Fi),Tt(Ri),Tt(Lr))},$0.\u0275cmp=I2({type:$0,selectors:[["app-oxygen"]],inputs:{tank:"tank",toxicity:"toxicity",showBestMix:"showBestMix"},outputs:{gasChange:"gasChange",assignBestMix:"assignBestMix"},decls:11,vars:12,consts:[[3,"formGroup"],["for","gasO2","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["type","number","formControlName","o2","required","","step","1","id","o2Nitrox",1,"form-control",3,"min","max","input"],["aria-expanded","false","id","o2Menu","type","button","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],["class","text-danger form-text position-absolute",4,"ngIf"],[3,"tank","toxicity"],[3,"click"],[1,"dropdown-item"],[1,"text-danger","form-text","position-absolute"]],template:function(e,t){1&e&&(fr(0,0),Pe(1,"label",1),Lt(2,"Percent O2:"),Ge(),Pe(3,"div",2)(4,"input",3),xn("input",function(){return t.fireGasChanged()}),Ge(),jn(5,"button",4),Pe(6,"ul",5),kn(7,kCe,3,0,"li",6),kn(8,ACe,3,1,"li",7),Ge()(),kn(9,NCe,2,1,"div",8),jn(10,"app-gaslabel",9),dr()),2&e&&(Ht("formGroup",t.nitroxForm),je(4),k2("is-invalid",t.gasO2Invalid),Ht("min",t.units.ranges.nitroxOxygen[0])("max",t.units.ranges.nitroxOxygen[1]),je(3),Ht("ngIf",t.showBestMix),je(1),Ht("ngForOf",t.nitroxNames),je(1),Ht("ngIf",t.gasO2Invalid),je(1),k2("invisible",t.gasO2Invalid),Ht("tank",t.tank)("toxicity",t.toxicity))},dependencies:[v3,Zr,fa,Ba,Fa,Ra,Ho,ja,Ua,ha,wa,w4,w3,S3,ms,il]});class YI{constructor(e,t){this.tank=e,this.units=t}get id(){return this.tank.id}get size(){return this.units.fromTankLiters(this.tank.size)}get startPressure(){return this.units.fromBar(this.tank.startPressure)}get o2(){return this.tank.o2}get he(){return this.tank.he}set size(e){this.tank.size=this.units.toTankLiters(e)}set startPressure(e){this.tank.startPressure=this.units.toBar(e)}set o2(e){this.tank.o2=e}set he(e){this.tank.he=e}}class ju extends qa{constructor(e,t,r,i,a,o){super(),this.planner=e,this.units=t,this.fb=r,this.inputs=i,this.validators=a,this.delayedCalc=o,this.icon=h_,this.plusIcon=kh,this.minusIcon=Sh,this.bound=[],this.toxicity=new rl(this.planner.options),this.allNames=H2.allNames(),this.updateTanks()}get firstTank(){return this.bound[0]}get ranges(){return this.units.ranges}get tanks(){return this.bound}get tanksGroup(){return this.tanksForm.controls.boundTanks}get isComplex(){return this.planner.isComplex}get firstTankSizeInvalid(){return this.inputs.controlInValid(this.tanksForm.controls.firstTankSize)}get firstTankStartPressureInvalid(){return this.inputs.controlInValid(this.tanksForm.controls.firstTankStartPressure)}ngOnInit(){this.tanksForm=this.fb.group({firstTankSize:[this.inputs.formatNumber(this.firstTank.size),this.validators.tankSize],firstTankStartPressure:[this.inputs.formatNumber(this.firstTank.startPressure),this.validators.tankPressure],boundTanks:this.fb.array(this.createTankControls())}),this.planner.tanksReloaded.pipe(Q1(this.unsubscribe$)).subscribe(()=>this.reloadAll()),this.planner.viewSwitched.pipe(Q1(this.unsubscribe$)).subscribe(()=>this.reloadAll())}gasSac(e){const r=this.planner.diver.gasSac(this.tanks[e].tank);return this.units.fromBar(r)}gasHeInvalid(e){const t=this.tanksGroup.at(e);return this.inputs.controlInValid(t.controls.tankHe)}gasO2Invalid(e){const t=this.tanksGroup.at(e);return this.inputs.controlInValid(t.controls.tankO2)}startPressureInvalid(e){const t=this.tanksGroup.at(e);return this.inputs.controlInValid(t.controls.tankStartPressure)}tankSizeInvalid(e){const t=this.tanksGroup.at(e);return this.inputs.controlInValid(t.controls.tankSize)}addTank(){if(this.tanksForm.invalid)return;this.planner.addTank(),this.updateTanks();const t=this.createTankControl(this.tanks[this.tanks.length-1]);this.tanksGroup.push(t),this.delayedCalc.schedule()}removeTank(e){this.tanksForm.invalid||this.tanks.length<=1||(this.planner.removeTank(this.tanks[e].tank),this.tanksGroup.removeAt(e),this.updateTanks(),this.delayedCalc.schedule())}assignBestMix(){this.firstTank.o2=this.toxicity.bestNitroxMix(this.planner.plan.maxDepth),this.reload(this.firstTank,1),this.delayedCalc.schedule()}assignStandardGas(e,t){const r=this.tanks[e];r.tank.assignStandardGas(t),this.reload(r,e),this.delayedCalc.schedule()}tankChanged(e){if(this.tanksForm.invalid)return;const t=this.tanksGroup.at(e),r=this.tanks[e],i=t.value;r.size=Number(i.tankSize),r.startPressure=Number(i.tankStartPressure),r.o2=Number(i.tankO2),r.he=Number(i.tankHe),this.reload(r,e),this.delayedCalc.schedule()}applySimple(){if(this.tanksForm.invalid)return;const e=this.tanksForm.value;this.firstTank.size=Number(e.firstTankSize),this.firstTank.startPressure=Number(e.firstTankStartPressure),this.delayedCalc.schedule()}reloadAll(){this.updateTanks(),this.tanksForm.patchValue({firstTankSize:this.inputs.formatNumber(this.firstTank.size),firstTankStartPressure:this.inputs.formatNumber(this.firstTank.startPressure)}),this.tanksGroup.clear(),this.createTankControls().forEach(e=>this.tanksGroup.push(e))}updateTanks(){const e=[];this.planner.tanks.forEach(t=>{const r=this.toBound(t);e.push(r)}),this.bound=e}toBound(e){return new YI(e,this.units)}reload(e,t){this.tanksGroup.at(t).patchValue({tankSize:e.size,tankStartPressure:e.startPressure,tankO2:e.o2,tankHe:e.he})}createTankControls(){const e=[];for(const t of this.tanks){const r=this.createTankControl(t);e.push(r)}return e}createTankControl(e){return this.fb.group({tankSize:[this.inputs.formatNumber(e.size),this.validators.tankSize],tankStartPressure:[this.inputs.formatNumber(e.startPressure),this.validators.tankPressure],tankO2:[this.inputs.formatNumber(e.o2),this.validators.trimixOxygen],tankHe:[this.inputs.formatNumber(e.he),this.validators.trimixHe]})}}ju.\u0275fac=function(e){return new(e||ju)(Tt(gr),Tt(Lr),Tt(fs),Tt(Fi),Tt(Ri),Tt(Ao))},ju.\u0275cmp=I2({type:ju,selectors:[["app-tanks"]],features:[g1],decls:8,vars:6,consts:[[1,"card"],[3,"formGroup"],[1,"card-header"],[1,"me-3",3,"icon"],[4,"ngIf"],["class","card-body","formArrayName","boundTanks",4,"ngIf"],["class","card-body row",4,"ngIf"],["formArrayName","boundTanks",1,"card-body"],[1,"row","pb-2"],[1,"col","col-1","m-0","px-1","d-none","d-sm-block"],[1,"col","col-2","m-0","px-1","d-none","d-sm-block"],[1,"col","col-4","m-0","px-1","d-none","d-sm-block"],["type","button",1,"p-1","btn","btn-secondary",3,"click"],[1,"fa-xl",3,"icon"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","justify-content-end","m-1","px-1"],[1,"col","col-1","d-sm-none","d-block"],[3,"formGroupName"],[1,"col","col-12","col-sm-1","m-0","pb-0","px-1","d-sm-none","d-block"],[1,"row"],[1,"col","col-6"],[1,"col","col-6","text-end"],["class","m-0 p-1 btn btn-secondary","type","button",3,"click",4,"ngIf"],[1,"row","p-0"],[1,"col","col-12","col-sm-1","m-0","pb-0","px-1","text-end","d-none","d-sm-block","align-self-center"],[1,"col","col-12","col-sm-2","m-0","pb-0","px-1"],["for","sizeItem",1,"form-label","d-sm-none","d-block"],["formControlName","tankSize","type","number","required","","step","1","id","sizeItem",1,"form-control",3,"min","max","input"],["class","text-danger",4,"ngIf"],["for","pressureItem",1,"form-label","d-sm-none","d-block","mt-2"],["formControlName","tankStartPressure","type","number","required","","step","1","id","pressureItem",1,"form-control",3,"min","max","input"],[1,"col","col-12","col-sm-4","m-0","pb-0","px-1"],["for","o2Item",1,"form-label","d-sm-none","d-block","mt-2"],["mdbDropdown","",1,"input-group","dropdown"],["formControlName","tankO2","type","number","required","","step","1","id","o2Item",1,"form-control",3,"min","max","input"],["id","o2Menu","type","button","aria-expanded","false","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click",4,"ngFor","ngForOf"],["formControlName","tankHe","type","number","step","1","required","","id","heItem",1,"form-control",3,"min","max","input"],[1,"col","col-12","col-sm-1","m-0","pb-0","px-1","d-none","d-sm-block","align-self-center"],[1,"col","col-1"],[1,"col","col-10","m-0","p-0"],[1,"form-text","text-muted"],[1,"float-end",3,"tank","toxicity"],["type","button",1,"m-0","p-1","btn","btn-secondary",3,"click"],[1,"p-0","m-0","fa-xl",3,"icon"],[1,"text-danger"],[3,"click"],[1,"dropdown-item"],[1,"card-body","row"],[1,"mb-4","col","col-12","col-md-6"],["for","size","mdbLabel","",1,"form-label"],["formControlName","firstTankSize","type","number","required","","step","1","id","sizeFirstTank",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],["for","startPressure","mdbLabel","",1,"form-label"],["type","number","id","startPressureFirstTank","formControlName","firstTankStartPressure","required","","step","1",1,"form-control",3,"min","max","input"],[3,"tank","toxicity","gasChange","assignBestMix"]],template:function(e,t){1&e&&(Pe(0,"div",0)(1,"form",1)(2,"div",2),jn(3,"fa-icon",3),kn(4,ECe,2,0,"span",4),kn(5,PCe,2,0,"span",4),Ge(),kn(6,$Ce,19,5,"div",5),kn(7,WCe,18,21,"div",6),Ge()()),2&e&&(je(1),Ht("formGroup",t.tanksForm),je(2),Ht("icon",t.icon),je(1),Ht("ngIf",!t.isComplex),je(1),Ht("ngIf",t.isComplex),je(1),Ht("ngIf",t.isComplex),je(1),Ht("ngIf",!t.isComplex))},dependencies:[v3,Zr,Vc,fa,Ba,Fa,Ra,Ho,ja,Ua,ha,wa,W8,q8,pa,w4,w3,S3,ms,il,$0,Oa]});class W0{constructor(){this.salinity=ma.fresh,this.inputChange=new v1,this.freshName="Fresh",this.brackishName="Brackish (EN13319)",this.saltName="Salt"}get salinityOption(){switch(this.salinity){case ma.salt:return this.saltName;case ma.brackish:return this.brackishName;default:return this.freshName}}useFresh(){this.salinity=ma.fresh,this.inputChange.emit(this.salinity)}useBrackish(){this.salinity=ma.brackish,this.inputChange.emit(this.salinity)}useSalt(){this.salinity=ma.salt,this.inputChange.emit(this.salinity)}}function qCe(n,e){if(1&n&&(Pe(0,"div",8),Lt(1),Ge()),2&n){const t=on();je(1),t2(" Needs to be number ",t.units.ranges.altitudeLabel," ")}}W0.\u0275fac=function(e){return new(e||W0)},W0.\u0275cmp=I2({type:W0,selectors:[["app-salinity"]],inputs:{salinity:"salinity"},outputs:{inputChange:"inputChange"},decls:15,vars:5,consts:[["for","salinity","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["id","salinity","type","text",1,"form-control",3,"value","readonly"],["aria-expanded","false","id","salinityMenu","type","button","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click"],[1,"dropdown-item"]],template:function(e,t){1&e&&(Pe(0,"label",0),Lt(1,"Water salinity:"),Ge(),Pe(2,"div",1),jn(3,"input",2)(4,"button",3),Pe(5,"ul",4)(6,"li",5),xn("click",function(){return t.useFresh()}),Pe(7,"a",6),Lt(8),Ge()(),Pe(9,"li",5),xn("click",function(){return t.useBrackish()}),Pe(10,"a",6),Lt(11),Ge()(),Pe(12,"li",5),xn("click",function(){return t.useSalt()}),Pe(13,"a",6),Lt(14),Ge()()()()),2&e&&(je(3),Ht("value",t.salinityOption)("readonly",!0),je(5),z1(t.freshName),je(3),z1(t.brackishName),je(3),z1(t.saltName))},dependencies:[w4,w3,S3,ms]});class q0{constructor(e,t,r,i){this.fb=e,this.inputs=t,this.validators=r,this.units=i,this.inputChange=new v1,this.altitude=0,this.metricLevels=[0,300,800,1500],this.imperialLevels=[0,1e3,2600,5e3]}get altitudeBound(){return this.units.fromMeters(this.altitude)}get smallHill(){return this.levelLabel(1)}get mountains(){return this.levelLabel(2)}get highMountains(){return this.levelLabel(3)}get altitudeInvalid(){return this.inputs.controlInValid(this.altitudeForm.controls.altitude)}ngOnInit(){this.altitudeForm=this.fb.group({altitude:[this.altitudeBound,this.validators.altitude]})}altitudeChanged(){if(this.altitudeForm.invalid)return;const e=Number(this.altitudeForm.value.altitude);this.altitude=this.units.toMeters(e),this.inputChange.emit(this.altitude)}seaLevel(){this.setLevel(0)}setHill(){this.setLevel(1)}setMountains(){this.setLevel(2)}setHighMountains(){this.setLevel(3)}setLevel(e){const t=this.selectLevels()[e];this.altitudeForm.patchValue({altitude:t}),this.altitudeChanged()}levelLabel(e){return`${this.selectLevels()[e]} ${this.units.altitude}`}selectLevels(){return this.units.imperialUnits?this.imperialLevels:this.metricLevels}}function YCe(n,e){1&n&&(Pe(0,"div",13)(1,"label",14),Lt(2,"Conservatism (Gradient factors):"),Ge()())}function ZCe(n,e){1&n&&(Pe(0,"label",15),Lt(1,"Gradient low [%]:"),Ge())}function XCe(n,e){1&n&&jn(0,"input",16),2&n&&Ht("value",on().conservatism)("readonly",!0)}function KCe(n,e){if(1&n){const t=k1();Pe(0,"input",17),xn("input",function(){return s2(t),o2(on().gfLowChanged())}),Ge()}2&n&&k2("is-invalid",on().gfLowInvalid)}function QCe(n,e){1&n&&(Pe(0,"div",18),Lt(1," Needs to be number 10 - 100 lower than gradient high"),Ge())}function JCe(n,e){if(1&n){const t=k1();Pe(0,"div",19)(1,"label",20),Lt(2,"Gradient high [%]:"),Ge(),Pe(3,"input",21),xn("input",function(){return s2(t),o2(on().gfHighChanged())}),Ge(),Pe(4,"div",22),Lt(5," Needs to be number 10 - 100 higher than gradient low "),Ge()()}if(2&n){const t=on();je(3),k2("is-invalid",t.gfHighInvalid)}}q0.\u0275fac=function(e){return new(e||q0)(Tt(fs),Tt(Fi),Tt(Ri),Tt(Lr))},q0.\u0275cmp=I2({type:q0,selectors:[["app-altitude"]],inputs:{altitude:"altitude"},outputs:{inputChange:"inputChange"},decls:20,vars:10,consts:[[1,"mb-2",3,"formGroup"],["for","altitudeField","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["id","altitudeField","type","number","required","","step","1","formControlName","altitude",1,"form-control",3,"min","max","input"],["type","button","aria-expanded","false","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],["class","text-danger form-text position-absolute",4,"ngIf"],[1,"text-danger","form-text","position-absolute"]],template:function(e,t){1&e&&(Pe(0,"div",0)(1,"label",1),Lt(2),Ge(),Pe(3,"div",2)(4,"input",3),xn("input",function(){return t.altitudeChanged()}),Ge(),jn(5,"button",4),Pe(6,"ul",5)(7,"li",6),xn("click",function(){return t.seaLevel()}),Pe(8,"a"),Lt(9,"Sea level"),Ge()(),Pe(10,"li",6),xn("click",function(){return t.setHill()}),Pe(11,"a"),Lt(12),Ge()(),Pe(13,"li",6),xn("click",function(){return t.setMountains()}),Pe(14,"a"),Lt(15),Ge()(),Pe(16,"li",6),xn("click",function(){return t.setHighMountains()}),Pe(17,"a"),Lt(18),Ge()()()(),kn(19,qCe,2,1,"div",7),Ge()),2&e&&(Ht("formGroup",t.altitudeForm),je(2),t2("Altitude [",t.units.altitude,"]:"),je(2),k2("is-invalid",t.altitudeInvalid),Ht("min",t.units.ranges.altitude[0])("max",t.units.ranges.altitude[1]),je(8),z1(t.smallHill),je(3),z1(t.mountains),je(3),z1(t.highMountains),je(1),Ht("ngIf",t.altitudeInvalid))},dependencies:[Zr,fa,Ba,Fa,Ra,Ho,ja,Ua,ha,wa,w4,w3,S3,ms]});const ebe=function(n){return{"col-sm-6":n}};class Y0{constructor(e,t,r){this.fb=e,this.inputs=t,this.validators=r,this.showTitle=!1,this.simple=!1,this.gfLow=a2.gfLow,this.gfHigh=a2.gfHigh,this.inputChange=new v1,this.standards=new tl}get conservatism(){return this.standards.labelFor(this.gfLow,this.gfHigh)}get gfLowInvalid(){return this.inputs.controlInValid(this.gfForm.controls.gfLow)}get gfHighInvalid(){return this.inputs.controlInValid(this.gfForm.controls.gfHigh)}gfHighChanged(){if(this.gfHighInvalid)return;const e=Number(this.gfForm.controls.gfHigh.value);this.gfHigh=e/100,this.inputChange.emit(new el(this.gfLow,this.gfHigh))}gfLowChanged(){if(this.gfLowInvalid)return;const e=Number(this.gfForm.controls.gfLow.value);this.gfLow=e/100,this.inputChange.emit(new el(this.gfLow,this.gfHigh))}ngOnInit(){this.gfForm=this.fb.group({gfLow:[this.inputs.formatNumber(100*this.gfLow),this.validators.gradients],gfHigh:[this.inputs.formatNumber(100*this.gfHigh),this.validators.gradients]})}lowConservatism(){this.applyStandards(this.standards.lowName)}mediumConservatism(){this.applyStandards(this.standards.mediumName)}highConservatism(){this.applyStandards(this.standards.highName)}applyStandards(e){const t=this.standards.get(e);this.gfLow=t.gfLow,this.gfHigh=t.gfHeigh,this.gfForm.patchValue({gfLow:this.inputs.formatNumber(100*this.gfLow),gfHigh:this.inputs.formatNumber(100*this.gfHigh),conservatism:this.conservatism}),this.inputChange.emit(new el(this.gfLow,this.gfHigh))}}function tbe(n,e){if(1&n){const t=k1();Pe(0,"div")(1,"div",13)(2,"div",14)(3,"app-salinity",15),xn("inputChange",function(i){return s2(t),o2(on().salinityChanged(i))}),Ge()(),Pe(4,"div",14)(5,"app-altitude",16),xn("inputChange",function(i){return s2(t),o2(on().altitudeChanged(i))}),Ge()(),Pe(6,"div",17)(7,"app-gradients",18),xn("inputChange",function(i){return s2(t),o2(on().updateGradients(i))}),Ge()()()()}if(2&n){const t=on();je(3),Ht("salinity",t.options.salinity),je(2),Ht("altitude",t.options.altitude),je(2),Ht("gfLow",t.options.gfLow)("gfHigh",t.options.gfHigh)("simple",!0)("showTitle",!0)}}function nbe(n,e){if(1&n){const t=k1();Pe(0,"div")(1,"mdb-tabs")(2,"mdb-tab",19)(3,"div",20)(4,"div",21)(5,"app-altitude",16),xn("inputChange",function(i){return s2(t),o2(on().altitudeChanged(i))}),Ge()(),Pe(6,"div",21)(7,"app-salinity",15),xn("inputChange",function(i){return s2(t),o2(on().salinityChanged(i))}),Ge()()()(),Pe(8,"mdb-tab",22)(9,"div",23)(10,"app-gradients",18),xn("inputChange",function(i){return s2(t),o2(on().updateGradients(i))}),Ge()()(),Pe(11,"mdb-tab",24)(12,"div",20)(13,"div",25)(14,"label",26),Lt(15),Ge(),Pe(16,"input",27),xn("input",function(){return s2(t),o2(on().applyOptions())}),Ge(),Pe(17,"div",28),Lt(18),Ge()(),Pe(19,"div",29)(20,"div",30)(21,"input",31),xn("change",function(){return s2(t),o2(on().switchOxygenNarcotic())}),Ge(),Pe(22,"label",32),Lt(23,"Oxygen is narcotic"),Ge()()()()(),Pe(24,"mdb-tab",33)(25,"div",34)(26,"div",35)(27,"label",36),Lt(28,"Solve problem [min]:"),Ge(),Pe(29,"input",37),xn("input",function(){return s2(t),o2(on().applyOptions())}),Ge(),Pe(30,"div",28),Lt(31," Needs to be number 1 - 100 mim "),Ge()(),Pe(32,"div",35)(33,"label",38),Lt(34,"Gas switch [min]:"),Ge(),Pe(35,"input",39),xn("input",function(){return s2(t),o2(on().applyOptions())}),Ge(),Pe(36,"div",28),Lt(37," Needs to be number 1 - 100 min "),Ge()(),Pe(38,"div",35)(39,"label",40),Lt(40,"Add 3 min safety stop:"),Ge(),Pe(41,"div",41),jn(42,"input",42)(43,"button",43),Pe(44,"ul",44)(45,"li",45),xn("click",function(){return s2(t),o2(on().useSafetyOff())}),Pe(46,"a",46),Lt(47),Ge()(),Pe(48,"li",45),xn("click",function(){return s2(t),o2(on().useSafetyAuto())}),Pe(49,"a",46),Lt(50),Ge()(),Pe(51,"li",45),xn("click",function(){return s2(t),o2(on().useSafetyOn())}),Pe(52,"a",46),Lt(53),Ge()()()()(),Pe(54,"div",35)(55,"label",47),Lt(56),Ge(),Pe(57,"input",48),xn("input",function(){return s2(t),o2(on().applyOptions())}),Ge(),Pe(58,"div",28),Lt(59),Ge()(),Pe(60,"div",49)(61,"div",5)(62,"input",50),xn("change",function(){return s2(t),o2(on().switchStopsRounding())}),Ge(),Pe(63,"label",32),Lt(64,"Round deco stops to minutes"),Ge()()()()(),Pe(65,"mdb-tab",51)(66,"div",34)(67,"div",52)(68,"label",53),Lt(69),Ge(),Pe(70,"input",54),xn("input",function(){return s2(t),o2(on().applyOptions())}),Ge(),Pe(71,"div",28),Lt(72),Ge()(),Pe(73,"div",52)(74,"label",55),Lt(75),Ge(),Pe(76,"input",56),xn("input",function(){return s2(t),o2(on().applyOptions())}),Ge(),Pe(77,"div",28),Lt(78),Ge()(),Pe(79,"div",52)(80,"label",57),Lt(81),Ge(),Pe(82,"input",58),xn("input",function(){return s2(t),o2(on().applyOptions())}),Ge(),Pe(83,"div",28),Lt(84),Ge()(),Pe(85,"div",52)(86,"label",59),Lt(87),Ge(),Pe(88,"input",60),xn("input",function(){return s2(t),o2(on().applyOptions())}),Ge(),Pe(89,"div",28),Lt(90),Ge()()()()()()}if(2&n){const t=on();je(5),Ht("altitude",t.options.altitude),je(2),Ht("salinity",t.options.salinity),je(3),Ht("gfLow",t.options.gfLow)("gfHigh",t.options.gfHigh)("simple",!1)("showTitle",!1),je(5),t2("Max narcotic depth [",t.units.length,"]:"),je(1),k2("is-invalid",t.narcoticDepthInvalid),Ht("min",t.ranges.narcoticDepth[0])("max",t.ranges.narcoticDepth[1]),je(2),t2(" Needs to be number ",t.ranges.narcoticDepthLabel," "),je(3),Ht("checked",t.options.oxygenNarcotic),je(8),k2("is-invalid",t.problemInvalid),je(6),k2("is-invalid",t.switchDurationInvalid),je(7),Ht("value",t.safetyStopOption)("readonly",!0),je(5),z1(t.safetyOffName),je(3),z1(t.safetyAutoName),je(3),z1(t.safetyOnName),je(3),t2("Last stop depth [",t.units.length,"]:"),je(1),k2("is-invalid",t.lastStopInvalid),Ht("min",t.ranges.lastStopDepth[0])("max",t.ranges.lastStopDepth[1]),je(2),t2(" Needs to be number ",t.ranges.lastStopDepthLabel," "),je(3),Ht("checked",t.options.roundStopsToMinutes),je(7),t2("Descent [",t.units.speed,"]:"),je(1),k2("is-invalid",t.descSpeedInvalid),Ht("min",t.ranges.speed[0])("max",t.ranges.speed[1]),je(2),t2(" Needs to be number ",t.ranges.speedLabel," "),je(3),t2("Ascent to 50% [",t.units.speed,"]:"),je(1),k2("is-invalid",t.ascentSpeed50percInvalid),Ht("min",t.ranges.speed[0])("max",t.ranges.speed[1]),je(2),t2(" Needs to be number ",t.ranges.speedLabel," "),je(3),d3("Ascent to ",t.units.lastSpeedLevel," ",t.units.length," [",t.units.speed,"]:"),je(1),k2("is-invalid",t.ascentSpeed50percTo6mInvalid),Ht("min",t.ranges.speed[0])("max",t.ranges.speed[1]),je(2),t2(" Needs to be number ",t.ranges.speedLabel," "),je(3),d3("Ascent ",t.units.lastSpeedLevel," ",t.units.length," to surface [",t.units.speed,"]:"),je(1),k2("is-invalid",t.ascSpeedInvalid),Ht("min",t.ranges.speed[0])("max",t.ranges.speed[1]),je(2),t2(" Needs to be number ",t.ranges.speedLabel," ")}}Y0.\u0275fac=function(e){return new(e||Y0)(Tt(fs),Tt(Fi),Tt(Ri))},Y0.\u0275cmp=I2({type:Y0,selectors:[["app-gradients"]],inputs:{showTitle:"showTitle",simple:"simple",gfLow:"gfLow",gfHigh:"gfHigh"},outputs:{inputChange:"inputChange"},decls:21,vars:13,consts:[[1,"row",3,"formGroup"],["class","row",4,"ngIf"],[1,"mb-4","col","col-12",3,"ngClass"],["for","gfLowField","class","form-label","mdbLabel","",4,"ngIf"],["mdbDropdown","",1,"input-group","dropdown"],["id","gfLowField","class","form-control","type","text",3,"value","readonly",4,"ngIf"],["id","gfLowField","class","form-control","type","number","formControlName","gfLow","required","","min","10","max","100","step","1",3,"is-invalid","input",4,"ngIf"],["type","button","id","conservatismMenu","mdbDropdownToggle","","data-mdb-toggle","dropdown","aria-expanded","false",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click"],[1,"dropdown-item"],["class","text-danger form-text position-absolute",4,"ngIf"],["class","mb-4 col col-12 col-sm-6",4,"ngIf"],[1,"row"],["for","conservatism",1,"form-label"],["for","gfLowField","mdbLabel","",1,"form-label"],["id","gfLowField","type","text",1,"form-control",3,"value","readonly"],["id","gfLowField","type","number","formControlName","gfLow","required","","min","10","max","100","step","1",1,"form-control",3,"input"],[1,"text-danger","form-text","position-absolute"],[1,"mb-4","col","col-12","col-sm-6"],["for","gfHighField","mdbLabel","",1,"form-label"],["id","gfHighField","formControlName","gfHigh","type","number","required","","min","10","max","100","step","1",1,"form-control",3,"input"],[1,"invalid-feedback","position-absolute"]],template:function(e,t){1&e&&(Pe(0,"div",0),kn(1,YCe,3,0,"div",1),Pe(2,"div",2)(3,"div"),kn(4,ZCe,2,0,"label",3),Pe(5,"div",4),kn(6,XCe,1,2,"input",5),kn(7,KCe,1,2,"input",6),jn(8,"button",7),Pe(9,"ul",8)(10,"li",9),xn("click",function(){return t.lowConservatism()}),Pe(11,"a",10),Lt(12),Ge()(),Pe(13,"li",9),xn("click",function(){return t.mediumConservatism()}),Pe(14,"a",10),Lt(15),Ge()(),Pe(16,"li",9),xn("click",function(){return t.highConservatism()}),Pe(17,"a",10),Lt(18),Ge()()()(),kn(19,QCe,2,0,"div",11),Ge()(),kn(20,JCe,6,2,"div",12),Ge()),2&e&&(Ht("formGroup",t.gfForm),je(1),Ht("ngIf",t.showTitle),je(1),Ht("ngClass",S8(11,ebe,!t.simple)),je(2),Ht("ngIf",!t.simple),je(2),Ht("ngIf",t.simple),je(1),Ht("ngIf",!t.simple),je(5),z1(t.standards.lowName),je(3),z1(t.standards.mediumName),je(3),z1(t.standards.highName),je(1),Ht("ngIf",t.gfLowInvalid),je(1),Ht("ngIf",!t.simple))},dependencies:[Hc,Zr,fa,Ba,Fa,Ra,Ho,ja,Ua,ha,wa,w4,w3,S3,ms]});class Gu extends qa{constructor(e,t,r,i,a,o,_){super(),this.units=e,this.options=t,this.fb=r,this.inputs=i,this.validators=a,this.planner=o,this.delayedCalc=_,this.formValid=!0,this.allUsableName="All usable",this.halfUsableName="Half usable",this.thirdUsableName="Thirds usable",this.safetyOffName="Never",this.safetyOnName="Always",this.strategy=this.allUsableName,this.icon=d_,this.plan=this.planner.plan}get isComplex(){return this.planner.isComplex}get ranges(){return this.units.ranges}get safetyAutoName(){return`Auto (> ${this.units.autoStopLevel} ${this.units.length})`}get safetyStopOption(){switch(this.options.safetyStop){case za.never:return this.safetyOffName;case za.always:return this.safetyOnName;default:return this.safetyAutoName}}get narcoticDepthInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.maxEND)}get problemInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.problem)}get switchDurationInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.gasSwitch)}get lastStopInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.lastStopDepth)}get descSpeedInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.descentSpeed)}get ascSpeedInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.ascentSpeed6m)}get ascentSpeed50percTo6mInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.ascentSpeed50percTo6m)}get ascentSpeed50percInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.ascentSpeed50perc)}get maxEND(){return this.units.fromMeters(this.options.maxEND)}get lastStopDepth(){return this.units.fromMeters(this.options.lastStopDepth)}get descentSpeed(){return this.units.fromMeters(this.options.descentSpeed)}get ascentSpeed6m(){return this.units.fromMeters(this.options.ascentSpeed6m)}get ascentSpeed50percTo6m(){return this.units.fromMeters(this.options.ascentSpeed50percTo6m)}get ascentSpeed50perc(){return this.units.fromMeters(this.options.ascentSpeed50perc)}set maxEND(e){this.options.maxEND=this.units.toMeters(e)}set lastStopDepth(e){this.options.lastStopDepth=this.units.toMeters(e)}set descentSpeed(e){this.options.descentSpeed=this.units.toMeters(e)}set ascentSpeed6m(e){this.options.ascentSpeed6m=this.units.toMeters(e)}set ascentSpeed50percTo6m(e){this.options.ascentSpeed50percTo6m=this.units.toMeters(e)}set ascentSpeed50perc(e){this.options.ascentSpeed50perc=this.units.toMeters(e)}set isComplex(e){e||(this.setAllUsable(),this.options.resetToSimple()),this.planner.isComplex=e,this.applyOptions()}ngOnInit(){this.optionsForm=this.fb.group({maxEND:[this.inputs.formatNumber(this.maxEND),this.validators.maxEnd],problem:[this.inputs.formatNumber(this.options.problemSolvingDuration),this.validators.problemSolvingDuration],gasSwitch:[this.inputs.formatNumber(this.options.gasSwitchDuration),this.validators.gasSwitchDuration],lastStopDepth:[this.inputs.formatNumber(this.lastStopDepth),this.validators.lastStopDepth],descentSpeed:[this.inputs.formatNumber(this.descentSpeed),this.validators.speed],ascentSpeed6m:[this.inputs.formatNumber(this.ascentSpeed6m),this.validators.speed],ascentSpeed50percTo6m:[this.inputs.formatNumber(this.ascentSpeed50percTo6m),this.validators.speed],ascentSpeed50perc:[this.inputs.formatNumber(this.ascentSpeed50perc),this.validators.speed]}),this.options.reloaded$.pipe(Q1(this.unsubscribe$)).subscribe(()=>this.reloadForm())}reset(){switch(this.plan.strategy){case Zs.HALF:this.halfUsable();break;case Zs.THIRD:this.thirdUsable();break;default:this.allUsable()}}allUsable(){this.setAllUsable(),this.applyOptions()}setAllUsable(){this.plan.strategy=Zs.ALL,this.strategy=this.allUsableName}halfUsable(){this.plan.strategy=Zs.HALF,this.strategy=this.halfUsableName,this.applyOptions()}thirdUsable(){this.plan.strategy=Zs.THIRD,this.strategy=this.thirdUsableName,this.applyOptions()}useRecreational(){this.options.useRecreational(),this.fireCalculation(),this.reloadForm()}useRecommended(){this.options.useRecommended(),this.fireCalculation(),this.reloadForm()}switchStopsRounding(){this.options.roundStopsToMinutes=!this.options.roundStopsToMinutes,this.applyOptions()}useSafetyOff(){this.options.useSafetyOff(),this.applyOptions()}useSafetyAuto(){this.options.useSafetyAuto(),this.applyOptions()}useSafetyOn(){this.options.useSafetyOn(),this.applyOptions()}switchOxygenNarcotic(){this.options.oxygenNarcotic=!this.options.oxygenNarcotic,this.applyOptions()}updateGradients(e){this.options.gfLow=e.gfLow,this.options.gfHigh=e.gfHeigh,this.applyOptions()}salinityChanged(e){this.options.salinity=e,this.applyOptions()}altitudeChanged(e){this.options.altitude=e,this.applyOptions()}applyOptions(){if(this.optionsForm.invalid)return;const e=this.optionsForm.value;this.maxEND=Number(e.maxEND),this.options.problemSolvingDuration=Number(e.problem),this.options.gasSwitchDuration=Number(e.gasSwitch),this.lastStopDepth=Number(e.lastStopDepth),this.descentSpeed=Number(e.descentSpeed),this.ascentSpeed6m=Number(e.ascentSpeed6m),this.ascentSpeed50percTo6m=Number(e.ascentSpeed50percTo6m),this.ascentSpeed50perc=Number(e.ascentSpeed50perc),this.fireCalculation()}fireCalculation(){this.planner.assignOptions(this.options.getOptions()),this.delayedCalc.schedule()}reloadForm(){this.optionsForm.patchValue({maxEND:this.inputs.formatNumber(this.maxEND),problem:this.inputs.formatNumber(this.options.problemSolvingDuration),gasSwitch:this.inputs.formatNumber(this.options.gasSwitchDuration),lastStopDepth:this.inputs.formatNumber(this.lastStopDepth),descentSpeed:this.inputs.formatNumber(this.descentSpeed),ascentSpeed6m:this.inputs.formatNumber(this.ascentSpeed6m),ascentSpeed50percTo6m:this.inputs.formatNumber(this.ascentSpeed50percTo6m),ascentSpeed50perc:this.inputs.formatNumber(this.ascentSpeed50perc)})}}Gu.\u0275fac=function(e){return new(e||Gu)(Tt(Lr),Tt(bs),Tt(fs),Tt(Fi),Tt(Ri),Tt(gr),Tt(Ao))},Gu.\u0275cmp=I2({type:Gu,selectors:[["app-diveoptions"]],inputs:{formValid:"formValid"},features:[g1],decls:20,vars:5,consts:[[1,"card"],[1,"card-header"],[1,"float-start"],[1,"me-3",3,"icon"],[1,"float-end"],[1,"form-check","form-switch"],["type","checkbox","id","isComplex","mdbCheckbox","",1,"form-check-input",3,"checked","change"],["for","isComplex",1,"custom-control-label"],[1,"card-body"],[3,"formGroup"],[4,"ngIf"],["type","button",1,"btn","btn-secondary","me-2","mt-3",3,"click"],["type","button",1,"btn","btn-secondary","mt-3",3,"click"],[1,"mt-3","row"],[1,"mb-4","col","col-12","col-sm-6","col-md-4","col-xxl-6"],[3,"salinity","inputChange"],[3,"altitude","inputChange"],[1,"mb-4","col","col-12","col-sm-12","col-md-4","col-xxl-12"],[3,"gfLow","gfHigh","simple","showTitle","inputChange"],["title","Environment"],[1,"pt-3","row"],[1,"mb-4","col","col-12","col-sm-6"],["title","Conservatism"],[1,"pt-3"],["title","Gases"],[1,"mb-3","col","col-12","col-sm-6"],["for","maxNarcoticDepth","mdbLabel","",1,"form-label"],["id","maxNarcoticDepth","type","number","formControlName","maxEND","required","","step","1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],[1,"col","col-12","col-sm-6"],[1,"form-check","form-switch","pb-1"],["type","checkbox","id","oxygenNarcotic","mdbCheckbox","",1,"form-check-input",3,"checked","change"],["for","roundStops",1,"form-check-label"],["title","Stops"],[1,"row","pt-3"],[1,"mb-4","col","col-12","col-sm-6","col-md-3","col-xxl-6"],["for","problem","mdbLabel","",1,"form-label"],["id","problem","formControlName","problem","type","number","required","","min","1","max","100","step","1",1,"form-control",3,"input"],["for","switchDuration","mdbLabel","",1,"form-label"],["id","switchDuration","formControlName","gasSwitch","type","number","required","","min","1","max","100","step","1",1,"form-control",3,"input"],["for","safetyStop","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["id","safetyStop","type","text",1,"form-control",3,"value","readonly"],["type","button","id","safetyStopMenu","aria-expanded","false","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click"],[1,"dropdown-item"],["for","lastStop","mdbLabel","",1,"form-label"],["id","lastStop","formControlName","lastStopDepth","type","number","required","","step","1",1,"form-control",3,"min","max","input"],[1,"row","ms-2"],["type","checkbox","id","roundStops","mdbCheckbox","",1,"form-check-input",3,"checked","change"],["title","Speeds"],[1,"mb-4","col","col-12","col-sm-6","col-lg-3","col-xxl-6"],["for","descSpeed","mdbLabel","",1,"form-label"],["id","descSpeed","formControlName","descentSpeed","type","number","required","","step","1",1,"form-control",3,"min","max","input"],["for","ascSpeed3","mdbLabel","",1,"form-label"],["id","ascSpeed3","formControlName","ascentSpeed50perc","type","number","required","","step","1",1,"form-control",3,"min","max","input"],["for","ascSpeed2","mdbLabel","",1,"form-label"],["id","ascSpeed2","formControlName","ascentSpeed50percTo6m","type","number","required","","step","1",1,"form-control",3,"min","max","input"],["for","ascSpeed","mdbLabel","",1,"form-label"],["id","ascSpeed","formControlName","ascentSpeed6m","type","number","required","","step","1",1,"form-control",3,"min","max","input"]],template:function(e,t){1&e&&(Pe(0,"div",0)(1,"div",1)(2,"div",2),jn(3,"fa-icon",3),Pe(4,"span"),Lt(5,"Options"),Ge()(),Pe(6,"div",4)(7,"div",5)(8,"input",6),xn("change",function(){return t.isComplex=!t.isComplex}),Ge(),Pe(9,"label",7),Lt(10,"Extended (Trimix)"),Ge()()()(),Pe(11,"div",8)(12,"form",9),kn(13,tbe,8,6,"div",10),kn(14,nbe,91,57,"div",10),Pe(15,"div")(16,"button",11),xn("click",function(){return t.useRecreational()}),Lt(17,"Recreational"),Ge(),Pe(18,"button",12),xn("click",function(){return t.useRecommended()}),Lt(19,"Recommended"),Ge()()()()()),2&e&&(je(3),Ht("icon",t.icon),je(5),Ht("checked",t.isComplex),je(4),Ht("formGroup",t.optionsForm),je(1),Ht("ngIf",!t.isComplex),je(1),Ht("ngIf",t.isComplex))},dependencies:[Zr,Vc,fa,Ba,Fa,Ra,Ho,ja,Ua,ha,wa,pa,w4,w3,S3,ms,LL,MK,W0,q0,Y0]});class H3{constructor(e,t,r){this.units=e,this.planner=t,this.delayedCalc=r,this._levels=[],this.plan=this.planner.plan,this.toxicity=new rl(this.planner.options)}get levels(){return this._levels}get bestNitroxMix(){const e=this.toxicity.bestNitroxMix(this.plan.maxDepth)/100;return H2.nameFor(e)}get plannedDepth(){return this.units.fromMeters(this.plan.maxDepth)}get planDuration(){return this.plan.duration}set plannedDepth(e){const t=this.units.toMeters(e);this.planner.assignDepth(t),this.levelChanged()}set planDuration(e){this.planner.assignDuration(e),this.apply()}addSegment(){this.planner.addSegment(),this.updateLevels(),this.apply()}removeSegment(e){this.planner.removeSegment(e.segment),this.updateLevels(),this.apply()}applyMaxDuration(){this.planner.applyMaxDuration(),this.apply()}applyNdlDuration(){this.planner.applyNdlDuration(),this.apply()}applyMaxDepth(){const t=this.toxicity.maxDepth(this.planner.firstTank);this.planner.assignDepth(t),this.levelChanged()}levelChanged(){this.plan.fixDepths(),this.apply()}assignTank(e,t){e.tank=t,this.apply()}updateLevels(){const t=[];this.plan.segments.forEach(r=>{const i=new hh(this.units,r);t.push(i)}),this._levels=t}apply(){this.delayedCalc.schedule()}}function rbe(n,e){if(1&n&&(Pe(0,"span"),Lt(1),Ge()),2&n){const t=on();je(1),t2(" ",t.tank.id,".")}}H3.\u0275fac=function(e){return new(e||H3)(gn(Lr),gn(gr),gn(Ao))},H3.\u0275prov=On({token:H3,factory:H3.\u0275fac});const ibe=function(n,e){return{"progress-bar rounded-progress":!0,"bg-success":n,"bg-danger":e}};class $u{constructor(e){this.units=e,this.tank=L3.createDefault(),this.toxicity=new rl,this.showId=!1}get endPressure(){return this.units.fromBar(this.tank.endPressure)}get startPressure(){return this.units.fromBar(this.tank.startPressure)}get reserve(){return this.units.fromBar(this.tank.reserve)}}function abe(n,e){1&n&&(Pe(0,"div",1),Lt(1," Calculating "),jn(2,"div",2)(3,"div",3)(4,"div",4),Ge())}$u.\u0275fac=function(e){return new(e||$u)(Tt(Lr))},$u.\u0275cmp=I2({type:$u,selectors:[["app-tankchart"]],inputs:{tank:"tank",toxicity:"toxicity",showId:"showId"},decls:27,vars:39,consts:[[1,"my-4"],[1,"d-flex","flex-row","justify-content-between"],[1,"text-start"],[4,"ngIf"],[1,"text-end",3,"tank","toxicity","showName"],[1,"text-start","text-muted"],[1,"text-end","text-muted"],[1,"progress","gas-bar","mt-1","mb-2"],[1,"combined_wrapper"],["role","progressbar","aria-valuemin","0",1,"reserve-bar","rounded-progress"],[1,"reserve-overlay"],[1,"reserve-value"],["role","progressbar","aria-valuemin","0",3,"ngClass"]],template:function(e,t){1&e&&(Pe(0,"div",0)(1,"div",1)(2,"strong",2),kn(3,rbe,2,1,"span",3),Lt(4),Ge(),jn(5,"app-gaslabel",4),Ge(),Pe(6,"div",1)(7,"small",5),Lt(8),j2(9,"number"),j2(10,"number"),Ge(),Pe(11,"small",6),Lt(12,"Rock bottom: "),Pe(13,"strong"),Lt(14),j2(15,"number"),Ge(),Lt(16),Ge()(),Pe(17,"div",7)(18,"div",8)(19,"div",9)(20,"div",10)(21,"div",11),Lt(22),j2(23,"number"),Ge()()(),Pe(24,"div",12),Lt(25),j2(26,"number"),Ge()()()()),2&e&&(je(3),Ht("ngIf",t.showId),je(1),t2(" ",t.tank.name,""),je(1),Ht("tank",t.tank)("toxicity",t.toxicity)("showName",!1),je(3),d3("Gas remaining: ",G2(9,21,t.endPressure,"1.0-0"),"/",G2(10,24,t.startPressure,"1.0-0")," ",t.units.pressure,""),je(6),z1(G2(15,27,t.reserve,"1.0-0")),je(2),t2(" ",t.units.pressure,""),je(3),y8("width",t.tank.percentsReserve+"%"),Ia("aria-valuemax",t.tank.startPressure)("aria-valuenow",t.tank.reserve),je(3),z1(G2(23,30,t.reserve,"1.0-0")),je(2),y8("width",t.tank.percentsRemaining+"%"),Ht("ngClass",v0(36,ibe,t.tank.hasReserve,!t.tank.hasReserve)),Ia("aria-valuemax",t.tank.startPressure)("aria-valuenow",t.tank.endPressure),je(1),t2(" ",G2(26,33,t.endPressure,"1.0-0"),""))},dependencies:[Hc,Zr,il,Oa],styles:[".gas-bar[_ngcontent-%COMP%]{padding:5px 8px;height:2em;font-size:1em;border:1px solid #a1a1a1;border-radius:.5em;background:transparent;box-shadow:none;overflow:visible;position:static}.rounded-progress[_ngcontent-%COMP%]{height:100%}.reserve-overlay[_ngcontent-%COMP%]{position:relative}.reserve-value[_ngcontent-%COMP%]{position:absolute;bottom:-3.75em;right:3px;text-align:right}.reserve-bar[_ngcontent-%COMP%]{position:absolute;padding:0;height:4em;top:-.1em;left:0;text-align:right;font-size:.75em;border-right:2px solid darkorange}.combined_wrapper[_ngcontent-%COMP%]{position:relative;width:100%}"]});class al{constructor(){this.show=!1}}al.\u0275fac=function(e){return new(e||al)},al.\u0275cmp=I2({type:al,selectors:[["app-calculating"]],inputs:{show:"show"},decls:1,vars:1,consts:[["class","mb-2 container loadbar",4,"ngIf"],[1,"mb-2","container","loadbar"],[1,"ms-2","orange","orange1"],[1,"orange","orange2"],[1,"orange","orange3"]],template:function(e,t){1&e&&kn(0,abe,5,0,"div",0),2&e&&Ht("ngIf",t.show)},dependencies:[Zr],styles:[".orange[_ngcontent-%COMP%]{background-color:#ffa049}.loadbar[_ngcontent-%COMP%]   .orange1[_ngcontent-%COMP%]{animation-delay:.1s}.loadbar[_ngcontent-%COMP%]   .orange2[_ngcontent-%COMP%]{animation-delay:.2s}.loadbar[_ngcontent-%COMP%]   .orange3[_ngcontent-%COMP%]{animation-delay:.3s}.container[_ngcontent-%COMP%]{display:flex;justify-self:center;align-items:center;flex-direction:row}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:.5vw;height:.5vw;border-radius:100%;margin:.2vw;background-image:linear-gradient(145deg,rgba(255,255,255,.5) 0%,rgba(0,0,0,0) 100%);animation:_ngcontent-%COMP%_bounce 1.5s .5s linear infinite}@keyframes _ngcontent-%COMP%_bounce{0%,50%,to{transform:scale(1)}25%{transform:scale(.6)}75%{transform:scale(1.4)}}"]});class Xs{static selectChartTimeFormat(e){return Xs.hasHoursRuntime(e)?"%H:%M:%S":"%M:%S"}static selectTimeFormat(e){return Xs.hasHoursRuntime(e)?"mm:ss":"m:ss"}static hoursDuration(e){return e/Xs.secondsPerHour}static hasHoursRuntime(e){return Xs.hoursDuration(e)>=1}}Xs.secondsPerHour=3600,Xs.secondsPerDay=24*Xs.secondsPerHour;class sl{constructor(e){this.datePipe=e}transform(e,t){const r=R2.toDate(e),i=Xs.selectTimeFormat(t),a=this.datePipe.transform(r,i)||"";let o=Xs.hoursDuration(e);return o=Math.trunc(o),o>=1?`${o}:${a}`:a}}function sbe(n,e){if(1&n&&(Pe(0,"div",2),jn(1,"fa-icon",3),Pe(2,"span"),Lt(3,"There was an error while calculating profile."),Ge()()),2&n){const t=on();je(1),Ht("icon",t.exclamation)}}function obe(n,e){if(1&n&&(Pe(0,"div",2),jn(1,"fa-icon",3),Pe(2,"span"),Lt(3),j2(4,"number"),Ge()()),2&n){const t=on();je(1),Ht("icon",t.exclamation),je(2),t2("Not enough time to realize the dive (duration needs to be at least ",G2(4,2,t.minimumDuration,"1.0-0")," min)! Set longer planed dive time.")}}function cbe(n,e){if(1&n&&(Pe(0,"div",2),jn(1,"fa-icon",3),Pe(2,"span"),Lt(3),j2(4,"number"),Ge()()),2&n){const t=on(2);je(1),Ht("icon",t.exclamation),je(2),t2("Not enough gas to realize the dive! Maximum bottom time for current amount of gas is ",G2(4,2,t.dive.maxTime,"1.0-0")," min. Use larger tank, fill it with more gas, reduce dive duration or planned depth.")}}function lbe(n,e){if(1&n&&(Pe(0,"div",6),jn(1,"fa-icon",3),Pe(2,"span"),Lt(3),j2(4,"number"),Ge()()),2&n){const t=on(2);je(1),Ht("icon",t.info),je(2),t2("No decompression time for current depth exceeded (For no decompression dive set dive time maximum to ",G2(4,2,t.noDeco,"1.0-0")," min)!")}}function ube(n,e){if(1&n&&(Pe(0,"div",8),jn(1,"fa-icon",3),Pe(2,"span"),Lt(3),j2(4,"number"),Ge()()),2&n){const t=on(3);je(1),Ht("icon",t.exclamation),je(2),os("Exceeded 80 % of maximum single exposure oxygen toxicity units (",G2(4,3,t.dive.otu,"1.0-0"),"/",t.otuLimit," OTU)! There is a high risk of lungs injury. Reduce amount of oxygen in your gases, dive duration or target depths.")}}function fbe(n,e){if(1&n&&(Pe(0,"div",8),jn(1,"fa-icon",3),Pe(2,"span"),Lt(3),j2(4,"number"),Ge()()),2&n){const t=on(3);je(1),Ht("icon",t.exclamation),je(2),t2("Exceeded 80 % of maximum single exposure oxygen toxicity (",G2(4,2,100*t.dive.cns,"1.0-0")," %)! There is a high risk of CNS injury. Reduce amount of oxygen in your gases, dive duration or target depths.")}}function dbe(n,e){if(1&n&&(fr(0),kn(1,ube,5,6,"div",7),kn(2,fbe,5,5,"div",7),dr()),2&n){const t=on(2);je(1),Ht("ngIf",t.dive.diveInfoCalculated&&t.dive.otuExceeded),je(1),Ht("ngIf",t.dive.diveInfoCalculated&&t.dive.cnsExeeded)}}function hbe(n,e){if(1&n&&(Pe(0,"div",8),jn(1,"fa-icon",3),Pe(2,"span"),Lt(3),j2(4,"number"),Ge()()),2&n){const t=on().$implicit,r=on(2);je(1),Ht("icon",r.warning),je(2),os("Low partial pressure of oxygen reached at depth ",G2(4,3,r.eventDepthFor(t),"1.0-0")," ",r.units.length," (minimum depth exceeded)! There is a risk of hypoxia. Use gas with higher oxygen content.")}}function pbe(n,e){if(1&n&&(Pe(0,"div",8),jn(1,"fa-icon",3),Pe(2,"span"),Lt(3),j2(4,"number"),Ge()()),2&n){const t=on().$implicit,r=on(2);je(1),Ht("icon",r.warning),je(2),os("High partial pressure of oxygen reached at depth ",G2(4,3,r.eventDepthFor(t),"1.0-0")," ",r.units.length," (maximum depth exceeded)! There is a risk of oxygen toxicity. Reduce the depth or use gas with lower oxygen content.")}}function mbe(n,e){if(1&n&&(Pe(0,"div",8),jn(1,"fa-icon",3),Pe(2,"span"),Lt(3),j2(4,"duration"),Ge()()),2&n){const t=on().$implicit,r=on(2);je(1),Ht("icon",r.warning),je(2),t2("High descent speed at ",G2(4,2,t.timeStamp,t.timeStamp)," min! Descent longer time or descent to lower depth.")}}function gbe(n,e){if(1&n&&(Pe(0,"div",8),jn(1,"fa-icon",3),Pe(2,"span"),Lt(3),j2(4,"duration"),Ge()()),2&n){const t=on().$implicit,r=on(2);je(1),Ht("icon",r.warning),je(2),t2("High ascent speed at ",G2(4,2,t.timeStamp,t.timeStamp)," min! Ascent to higher depth only or ascent longer time.")}}function vbe(n,e){if(1&n&&(Pe(0,"div",8),jn(1,"fa-icon",3),Pe(2,"span"),Lt(3),j2(4,"number"),j2(5,"duration"),Ge()()),2&n){const t=on().$implicit,r=on(2);je(1),Ht("icon",r.warning),je(2),d3("Ceiling depth ",G2(4,4,r.eventDepthFor(t),"1.0-0")," ",r.units.length," broken at ",G2(5,7,t.timeStamp,t.timeStamp)," min! Change your plan to higher depth at this point.")}}function ybe(n,e){if(1&n&&(Pe(0,"div",8),jn(1,"fa-icon",3),Pe(2,"span"),Lt(3),j2(4,"number"),j2(5,"duration"),Ge()()),2&n){const t=on().$implicit,r=on(2);je(1),Ht("icon",r.warning),je(2),d3("Gas switch to gas with higher nitrogen content in ",G2(4,4,r.eventDepthFor(t),"1.0-0")," ",r.units.length," at ",G2(5,7,t.timeStamp,t.timeStamp)," min is not recommended! There is a risk od isobaric counter diffusion (IDC). Switch to another gas with higher helium content or lower nitrogen content.")}}function _be(n,e){if(1&n&&(Pe(0,"div",8),jn(1,"fa-icon",3),Pe(2,"span"),Lt(3),j2(4,"number"),j2(5,"duration"),Ge()()),2&n){const t=on().$implicit,r=on(2);je(1),Ht("icon",r.warning),je(2),d3("Exceeded maximum narcotic depth for selected gas in ",G2(4,4,r.eventDepthFor(t),"1.0-0")," ",r.units.length," at ",G2(5,7,t.timeStamp,t.timeStamp)," min! Reduce the depth or use gas with higher helium content.")}}function Cbe(n,e){if(1&n&&(fr(0),kn(1,hbe,5,6,"div",7),kn(2,pbe,5,6,"div",7),kn(3,mbe,5,5,"div",7),kn(4,gbe,5,5,"div",7),kn(5,vbe,6,10,"div",7),kn(6,ybe,6,10,"div",7),kn(7,_be,6,10,"div",7),dr()),2&n){const t=e.$implicit,r=on(2);je(1),Ht("ngIf",r.isLowPpO2(t)),je(1),Ht("ngIf",r.isHighPpO2(t)),je(1),Ht("ngIf",r.isHighDescentSpeed(t)),je(1),Ht("ngIf",r.isHighAscentSpeed(t)),je(1),Ht("ngIf",r.isBrokenCeiling(t)),je(1),Ht("ngIf",r.isHighN2Switch(t)),je(1),Ht("ngIf",r.isMndExceeded(t))}}function bbe(n,e){if(1&n&&(fr(0),kn(1,cbe,5,5,"div",0),kn(2,lbe,5,5,"div",4),kn(3,dbe,3,2,"ng-container",1),kn(4,Cbe,8,7,"ng-container",5),dr()),2&n){const t=on();je(1),Ht("ngIf",t.dive.calculated&&t.dive.notEnoughGas),je(1),Ht("ngIf",t.dive.diveInfoCalculated&&t.dive.noDecoExceeded),je(1),Ht("ngIf",!1),je(1),Ht("ngForOf",t.dive.events)}}sl.\u0275fac=function(e){return new(e||sl)(Tt(eg,16))},sl.\u0275pipe=W1({name:"duration",type:sl,pure:!0});class Wu{constructor(e,t){this.planner=e,this.units=t,this.exclamation=pV,this.warning=Eh,this.info=qN,this.otuLimit=Ay.dailyLimit,this.dive=this.planner.dive}get minimumDuration(){return this.planner.plan.duration+1}get noDeco(){return this.planner.plan.noDecoTime}isLowPpO2(e){return e.type===Kr.lowPpO2}isHighPpO2(e){return e.type===Kr.highPpO2}isHighAscentSpeed(e){return e.type===Kr.highAscentSpeed}isHighDescentSpeed(e){return e.type===Kr.highDescentSpeed}isBrokenCeiling(e){return e.type===Kr.brokenCeiling}isHighN2Switch(e){return e.type===Kr.switchToHigherN2}isMndExceeded(e){return e.type===Kr.maxEndExceeded}eventDepthFor(e){return this.units.fromMeters(e.depth)}}function xbe(n,e){if(1&n){const t=k1();Pe(0,"div",16)(1,"div",17),jn(2,"fa-icon",6),Pe(3,"strong",18),Lt(4,"Share plan"),Ge(),Pe(5,"button",19),xn("click",function(){return s2(t),o2(on().hideToast())}),Ge()(),Pe(6,"div",20),Lt(7," URL address of this dive plan was copied to the clipboard. "),Ge()()}if(2&n){const t=on();je(2),Ht("icon",t.iconShare)}}function Mbe(n,e){if(1&n&&(Pe(0,"strong"),Lt(1),j2(2,"number"),Ge()),2&n){const t=on();je(1),z1(G2(2,1,t.dive.timeToSurface,"1.0-0"))}}function wbe(n,e){if(1&n&&(Pe(0,"strong"),Lt(1),j2(2,"number"),Ge()),2&n){const t=on();je(1),z1(G2(2,1,t.averageDepth,"1.0-1"))}}function Sbe(n,e){if(1&n&&(Pe(0,"strong"),Lt(1),j2(2,"duration"),Ge()),2&n){const t=on();je(1),t2("",G2(2,1,t.dive.emergencyAscentStart,t.dive.emergencyAscentStart)," ")}}function zbe(n,e){if(1&n){const t=k1();Pe(0,"button",21),xn("click",function(){return s2(t),o2(on().applyNdlDuration())}),Lt(1,"Use"),Ge()}}function Lbe(n,e){if(1&n&&(Pe(0,"strong"),Lt(1),j2(2,"number"),Ge()),2&n){const t=on();je(1),z1(G2(2,1,t.noDeco,"1.0-0"))}}function Hbe(n,e){if(1&n){const t=k1();Pe(0,"button",21),xn("click",function(){return s2(t),o2(on(2).applyMaxDuration())}),Lt(1,"Use"),Ge()}}function Dbe(n,e){if(1&n&&(Pe(0,"strong"),Lt(1),j2(2,"number"),Ge()),2&n){const t=on(2);je(1),z1(G2(2,1,t.dive.maxTime,"1.0-0"))}}function Tbe(n,e){if(1&n&&(Pe(0,"tr")(1,"td"),Lt(2,"Maximum bottom time [min]: "),kn(3,Hbe,2,0,"button",14),Ge(),Pe(4,"td",12),kn(5,Dbe,3,4,"strong",13),Ge()()),2&n){const t=on();je(3),Ht("ngIf",t.showApply&&t.dive.calculated),je(2),Ht("ngIf",t.dive.calculated)}}function Vbe(n,e){if(1&n&&(Pe(0,"strong"),Lt(1),j2(2,"number"),Ge()),2&n){const t=on(2);je(1),z1(G2(2,1,t.dive.turnTime,"1.0-0"))}}function kbe(n,e){if(1&n&&(Pe(0,"tr")(1,"td"),Lt(2,"Turn time [min]:"),Ge(),Pe(3,"td",12),kn(4,Vbe,3,4,"strong",13),Ge()()),2&n){const t=on();je(4),Ht("ngIf",t.dive.calculated)}}function Abe(n,e){if(1&n&&(Pe(0,"strong"),Lt(1),j2(2,"number"),Ge()),2&n){const t=on(2);je(1),z1(G2(2,1,t.dive.turnPressure,"1.0-0"))}}function Nbe(n,e){if(1&n&&(Pe(0,"tr")(1,"td"),Lt(2),Ge(),Pe(3,"td",12),kn(4,Abe,3,4,"strong",13),Ge()()),2&n){const t=on();je(2),t2("Turn pressure [",t.units.pressure,"]:"),je(2),Ht("ngIf",t.dive.calculated)}}function Ebe(n,e){if(1&n&&(Pe(0,"strong"),Lt(1),j2(2,"number"),Ge()),2&n){const t=on(3);je(1),z1(G2(2,1,t.dive.otu,"1.0-0"))}}function Pbe(n,e){if(1&n&&(Pe(0,"tr")(1,"td"),Lt(2,"OTU toxicity [OTU]:"),Ge(),Pe(3,"td",12),kn(4,Ebe,3,4,"strong",13),Ge()()),2&n){const t=on(2);je(4),Ht("ngIf",t.dive.calculated)}}function Ibe(n,e){if(1&n&&(Pe(0,"strong"),Lt(1),j2(2,"number"),Ge()),2&n){const t=on(3);je(1),z1(G2(2,1,100*t.dive.cns,"1.0-0"))}}function Obe(n,e){if(1&n&&(Pe(0,"tr")(1,"td"),Lt(2,"CNS toxicity [%]:"),Ge(),Pe(3,"td",12),kn(4,Ibe,3,4,"strong",13),Ge()()),2&n){const t=on(2);je(4),Ht("ngIf",t.dive.calculated)}}function Fbe(n,e){if(1&n&&(fr(0),kn(1,Pbe,5,1,"tr",13),kn(2,Obe,5,1,"tr",13),dr()),2&n){const t=on();je(1),Ht("ngIf",t.dive.profileCalculated),je(1),Ht("ngIf",t.dive.profileCalculated)}}function Rbe(n,e){if(1&n&&jn(0,"app-tankchart",23),2&n){const t=e.$implicit,r=on(2);Ht("tank",t)("showId",r.showTankId)("toxicity",r.toxicity)}}function Bbe(n,e){if(1&n&&(Pe(0,"div"),kn(1,Rbe,1,3,"app-tankchart",22),Ge()),2&n){const t=on();je(1),Ht("ngForOf",t.tanks)}}Wu.\u0275fac=function(e){return new(e||Wu)(Tt(gr),Tt(Lr))},Wu.\u0275cmp=I2({type:Wu,selectors:[["app-dive-issues"]],decls:3,vars:3,consts:[["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-danger"],[1,"me-2",3,"icon"],["class","alert alert-info",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"alert","alert-info"],["class","alert alert-warning",4,"ngIf"],[1,"alert","alert-warning"]],template:function(e,t){1&e&&(kn(0,sbe,4,1,"div",0),kn(1,obe,5,5,"div",0),kn(2,bbe,5,4,"ng-container",1)),2&e&&(Ht("ngIf",t.dive.calculated&&t.dive.calculationFailed),je(1),Ht("ngIf",t.dive.diveInfoCalculated&&t.dive.notEnoughTime),je(1),Ht("ngIf",!t.dive.hasErrors))},dependencies:[v3,Zr,pa,Oa,sl]});class qu extends qa{constructor(e,t,r,i){super(),this.clipboard=e,this.depthsService=t,this.planner=r,this.units=i,this.icon=vE,this.iconShare=H_,this.toastVisible=!1,this.dive=this.planner.dive,this.toxicity=new rl(this.planner.options),this.clipboard.copyResponse$.pipe(Q1(this.unsubscribe$)).subscribe(a=>{a.isSuccess&&(this.toastVisible=!0,setTimeout(()=>{this.hideToast()},5e3))})}get tanks(){return this.planner.tanks}get showTankId(){return this.planner.isComplex}get showMaxBottomTime(){return this.dive.maxTime>0}get needsReturn(){return this.planner.plan.needsReturn}get noDeco(){return this.planner.plan.noDecoTime}get showApply(){return!this.planner.isComplex}get averageDepth(){return this.units.fromMeters(this.dive.averageDepth)}applyMaxDuration(){this.depthsService.applyMaxDuration()}applyNdlDuration(){this.depthsService.applyNdlDuration()}sharePlan(){this.clipboard.copy(window.location.href)}hideToast(){this.toastVisible=!1}}qu.\u0275fac=function(e){return new(e||qu)(Tt(KZ),Tt(H3),Tt(gr),Tt(Lr))},qu.\u0275cmp=I2({type:qu,selectors:[["app-consumption"]],features:[g1],decls:45,vars:15,consts:[[1,"card"],[1,"card-header"],[1,"float-start","mt-1"],[1,"me-3",3,"icon"],[1,"float-end"],["type","button",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"me-2",3,"icon"],[1,"position-fixed","top-0","end-0","px-3","py-2","m-16","mt-5","success"],["role","alert","aria-live","assertive","aria-atomic","true","class","toast fade text-light mt-2 bg-success success","data-autohide","true",4,"ngIf"],[1,"card-body","card-minheight"],[1,"pb-3"],[1,"table","table-sm"],[1,"table-active"],[4,"ngIf"],["type","button","class","btn btn-secondary btn-sm ml-2",3,"click",4,"ngIf"],[3,"show"],["role","alert","aria-live","assertive","aria-atomic","true","data-autohide","true",1,"toast","fade","text-light","mt-2","bg-success","success"],[1,"toast-header","bg-success","success","text-light"],[1,"me-auto"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"toast-body","alert-success"],["type","button",1,"btn","btn-secondary","btn-sm","ml-2",3,"click"],[3,"tank","showId","toxicity",4,"ngFor","ngForOf"],[3,"tank","showId","toxicity"]],template:function(e,t){1&e&&(Pe(0,"div",0)(1,"div",1)(2,"div",2),jn(3,"fa-icon",3),Pe(4,"span"),Lt(5,"Dive info"),Ge()(),Pe(6,"div",4)(7,"button",5),xn("click",function(){return t.sharePlan()}),jn(8,"fa-icon",6),Lt(9,"Share "),Ge()()(),Pe(10,"div",7),kn(11,xbe,8,1,"div",8),Ge(),Pe(12,"div",9)(13,"div")(14,"div",10)(15,"table",11)(16,"tbody")(17,"tr")(18,"td"),Lt(19,"Time to surface [min]:"),Ge(),Pe(20,"td",12),kn(21,Mbe,3,4,"strong",13),Ge()(),Pe(22,"tr")(23,"td"),Lt(24),Ge(),Pe(25,"td",12),kn(26,wbe,3,4,"strong",13),Ge()(),Pe(27,"tr")(28,"td"),Lt(29,"Rock bottom at:"),Ge(),Pe(30,"td",12),kn(31,Sbe,3,4,"strong",13),Ge()(),Pe(32,"tr")(33,"td"),Lt(34,"No decompression time [min]: "),kn(35,zbe,2,0,"button",14),Ge(),Pe(36,"td",12),kn(37,Lbe,3,4,"strong",13),Ge()(),kn(38,Tbe,6,2,"tr",13),kn(39,kbe,5,1,"tr",13),kn(40,Nbe,5,2,"tr",13),kn(41,Fbe,3,2,"ng-container",13),Ge()(),kn(42,Bbe,2,1,"div",13),Ge(),jn(43,"app-calculating",15)(44,"app-dive-issues"),Ge()()()),2&e&&(je(3),Ht("icon",t.icon),je(5),Ht("icon",t.iconShare),je(3),Ht("ngIf",t.toastVisible),je(10),Ht("ngIf",t.dive.calculated),je(3),t2("Average depth [",t.units.length,"]:"),je(2),Ht("ngIf",t.dive.profileCalculated),je(5),Ht("ngIf",t.dive.calculated),je(4),Ht("ngIf",t.showApply&&t.dive.diveInfoCalculated),je(2),Ht("ngIf",t.dive.diveInfoCalculated),je(1),Ht("ngIf",t.showMaxBottomTime),je(1),Ht("ngIf",t.dive.needsReturn),je(1),Ht("ngIf",t.dive.needsReturn),je(1),Ht("ngIf",!1),je(1),Ht("ngIf",t.dive.showResults),je(1),Ht("show",!t.dive.calculated))},dependencies:[v3,Zr,pa,$u,al,Wu,Oa,sl]});class H4{constructor(e){this.plannerService=e,this.selectedChanged=new v1}set selectedTimeStamp(e){let t;if(e){const r=R2.secondsFromDate(e);t=this.plannerService.dive.wayPoints.find(i=>i.fits(r))}this.selected=t}set selected(e){this.lastSelected&&(this.lastSelected.selected=!1),this.lastSelected=e,e&&this.lastSelected&&(this.lastSelected.selected=!0),this.selectedChanged.emit(this.lastSelected)}}function Ube(n,e){1&n&&(Pe(0,"th",6),Lt(1,"Gas"),Ge())}function jbe(n,e){1&n&&(Pe(0,"tr")(1,"td",10),jn(2,"app-calculating",11),Ge()()),2&n&&(je(2),Ht("show",!0))}function Gbe(n,e){if(1&n&&(Pe(0,"td",15),Lt(1),Ge()),2&n){const t=on().$implicit;je(1),z1(t.gasName)}}H4.\u0275fac=function(e){return new(e||H4)(gn(gr))},H4.\u0275prov=On({token:H4,factory:H4.\u0275fac});const $be=function(n){return{"table-active":n}};function Wbe(n,e){if(1&n){const t=k1();Pe(0,"tr",12),xn("mouseover",function(){const a=s2(t).$implicit;return o2(on().highlightRow(a))})("mouseleave",function(){return s2(t),o2(on().highlightRow(void 0))}),Pe(1,"td",13),jn(2,"fa-icon",14),Ge(),Pe(3,"td",15),Lt(4),j2(5,"number"),Ge(),Pe(6,"td",15),Lt(7),j2(8,"duration"),Ge(),Pe(9,"td",15),Lt(10),j2(11,"duration"),Ge(),kn(12,Gbe,2,1,"td",16),Ge()}if(2&n){const t=e.$implicit,r=on();Ht("ngClass",S8(17,$be,t.selected)),je(2),Ht("icon",r.swimActionIcon(t))("ngClass",r.iconClasses(t))("title",r.iconTitle(t)),je(2),z1(G2(5,8,r.toEndDepth(t),"1.0-0")),je(3),z1(G2(8,11,t.duration,r.totalDuration)),je(3),z1(G2(11,14,t.endTime,r.totalDuration)),je(2),Ht("ngIf",r.isComplex)}}class Yu{constructor(e,t,r){this.planner=e,this.units=t,this.selectedWaypoint=r,this.down=ZE,this.up=lP,this.hover=BA,this.tasks=fP,this.switch=rk,this.dive=this.planner.dive}get isComplex(){return this.planner.isComplex}get totalDuration(){return this.dive.totalDuration}swimActionIcon(e){switch(e.swimAction){case Mi.ascent:return this.up;case Mi.descent:return this.down;case Mi.switch:return this.switch;default:return this.hover}}iconTitle(e){switch(e.swimAction){case Mi.ascent:return"ascent";case Mi.descent:return"descent";case Mi.switch:return"switch";default:return"hover"}}toEndDepth(e){return this.units.fromMeters(e.endDepth)}iconClasses(e){return{"swim-down":e.swimAction===Mi.descent,"swim-up":e.swimAction===Mi.ascent,"swim-hover":e.swimAction===Mi.hover||e.swimAction===Mi.switch}}highlightRow(e){this.selectedWaypoint.selected=e}}Yu.\u0275fac=function(e){return new(e||Yu)(Tt(gr),Tt(Lr),Tt(H4))},Yu.\u0275cmp=I2({type:Yu,selectors:[["app-waypoints"]],decls:20,vars:5,consts:[[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body","card-minheight","table-responsive"],[1,"table","table-sm","p-0"],[1,"table-light"],[1,"fw-bold","px-1"],["class","fw-bold px-1",4,"ngIf"],[4,"ngIf"],[3,"ngClass","mouseover","mouseleave",4,"ngFor","ngForOf"],["colspan","5"],[3,"show"],[3,"ngClass","mouseover","mouseleave"],[1,"px-1","text-center"],[3,"icon","ngClass","title"],[1,"px-1"],["class","px-1",4,"ngIf"]],template:function(e,t){1&e&&(Pe(0,"div",0)(1,"div",1),jn(2,"fa-icon",2),Pe(3,"span"),Lt(4,"Dive way points"),Ge()(),Pe(5,"div",3)(6,"table",4)(7,"thead",5)(8,"tr"),jn(9,"th"),Pe(10,"th",6),Lt(11),Ge(),Pe(12,"th",6),Lt(13,"Duration [min]"),Ge(),Pe(14,"th",6),Lt(15,"Run [min]"),Ge(),kn(16,Ube,2,0,"th",7),Ge()(),Pe(17,"tbody"),kn(18,jbe,3,1,"tr",8),kn(19,Wbe,13,19,"tr",9),Ge()()()()),2&e&&(je(2),Ht("icon",t.tasks),je(9),t2("Depth [",t.units.length,"]"),je(5),Ht("ngIf",t.isComplex),je(2),Ht("ngIf",!t.dive.profileCalculated),je(1),Ht("ngForOf",t.dive.wayPoints))},dependencies:[Hc,v3,Zr,pa,al,Oa,sl],styles:[".swim-down[_ngcontent-%COMP%]{color:#deb887}.swim-up[_ngcontent-%COMP%]{color:#8a2be2}.swim-hover[_ngcontent-%COMP%]{color:#1e90ff}"]});var ZI=pe(500);const qbe=function(n,e){return{"plot-display":n,"plot-hidden":e}};class Zu extends qa{constructor(e,t,r){super(),this.planer=e,this.units=t,this.selectedWaypoint=r,this.icon=Wy,this.elementName="diveplot",this.options={displaylogo:!1,displayModeBar:!1,responsive:!0,autosize:!0,scrollZoom:!1,editable:!1},this.cursor1={xid:1,type:"line",xref:"x",yref:"y",x0:new Date("2001-06-12 12:30"),y0:0,x1:new Date("2001-06-12 12:30"),y1:1,fillcolor:"#d3d3d3",line:{color:"rgb(31, 119, 180)",width:5}},this.dive=this.planer.dive,this.layout={autosize:!0,showlegend:!1,xaxis:{fixedrange:!0,title:{text:"Time [min]"}},yaxis:{fixedrange:!0,autorange:"reversed",title:{text:`Depth [${t.length}]`}},margin:{l:40,r:10,b:40,t:10},hovermode:"x unified",hoverlabel:{bgcolor:"rgba(200, 200, 200, 0.25)",bordercolor:"rgba(200, 200, 200, 0.25)"},shapes:[]},this.updateLayoutThickFormat(),this.planer.wayPointsCalculated$.pipe(Q1(this.unsubscribe$)).subscribe(()=>this.plotCharts()),this.selectedWaypoint.selectedChanged.pipe(Q1(this.unsubscribe$)).subscribe(i=>this.selectWayPoint(i))}get noDecoTime(){return this.planer.plan.noDecoTime}ngOnInit(){this.plotCharts(),this.hookChartEvents()}scaleWidth(e,t){return e*t/this.dive.totalDuration}scaleHeight(e,t){return e*(t-10)/this.planer.plan.maxDepth}plotlyHover(e){this.selectedWaypoint.selectedTimeStamp=e.points[0].x}plotlyHoverLeave(e){this.selectedWaypoint.selectedTimeStamp=""}selectWayPoint(e){const r={shapes:[]};e&&(this.cursor1.x0=R2.toDate(e.startTime),this.cursor1.x1=R2.toDate(e.endTime),this.cursor1.y0=this.convertDepth(e.startDepth),this.cursor1.y1=this.convertDepth(e.endDepth),r.shapes.push(this.cursor1)),ZI.relayout(this.elementName,r)}plotCharts(){this.updateLayoutThickFormat();const e=this.plotAverageDepth(),t=this.plotDepths(),r=this.plotCeilings(),i=this.plotEvents();ZI.react(this.elementName,[e,t,r,i],this.layout,this.options)}hookChartEvents(){this.chartElement=document.getElementById(this.elementName),this.chartElement.on("plotly_hover",e=>this.plotlyHover(e)),this.chartElement.on("plotly_click",e=>this.plotlyHover(e)),this.chartElement.on("plotly_unhover",e=>this.plotlyHoverLeave(e))}updateLayoutThickFormat(){this.layout.xaxis.tickformat=Xs.selectChartTimeFormat(this.dive.totalDuration)}plotAverageDepth(){const e=[],t=[];return this.dive.wayPoints.length>0&&this.transformAverageDepth(this.dive.wayPoints,e,t),{x:e,y:t,type:"scatter",line:{dash:"dot"},name:"Avg. depth",marker:{color:"rgb(62, 157, 223)"},hovertemplate:`%{y:.2f}  ${this.units.length}`}}transformAverageDepth(e,t,r){if(e.length<=0)return 0;let i=0,a=0;return e.forEach(o=>{if(o.duration>0)for(let _=0;_<o.duration;_++){t.push(R2.toDate(a));const q=o.depthAt(_)+a*i;a++,i=q/a;const de=this.convertDepth(i);r.push(de)}}),i}plotDepths(){const e=[],t=[],r={x:e,y:t,type:"scatter",name:"Depth",marker:{color:"rgb(31, 119, 180)"},hovertemplate:`%{y:.2f}  ${this.units.length}`};return this.dive.wayPoints.forEach((i,a,o)=>{this.resampleDepthsToSeconds(e,t,i)}),r}plotCeilings(){const e=[],t=[];return this.dive.ceilings.forEach((i,a,o)=>{e.push(R2.toDate(i.time));const _=this.convertDepth(i.depth);t.push(_)}),{x:e,y:t,type:"scatter",fill:"tozeroy",name:"Ceiling",marker:{color:"rgb(255, 160, 73)"},hovertemplate:`%{y:.2f}  ${this.units.length}`}}plotEvents(){const e=[],t=[],r=[],i={x:e,y:t,labels:r,text:r,type:"scatter",mode:"text+markers",fill:"tozeroy",name:"Event",hovertemplate:"Switch to %{text}",texttemplate:"%{text}",textposition:"top center",fillcolor:"rgba(0, 0, 0, 0)",marker:{color:"rgba(31, 119, 180, 0.5)",size:8,line:{color:"rgba(31, 119, 180, 0.7)",width:2}},showlegend:!1};return this.convertEvents(e,t,r),i}convertEvents(e,t,r){this.dive.events.forEach((i,a,o)=>{if(i.type===Kr.gasSwitch){e.push(R2.toDate(i.timeStamp));const _=this.convertDepth(i.depth);t.push(_);const k=i.gas;if(k){const q=H2.nameFor(k.fO2,k.fHe);r.push(`${q}`)}}})}resampleDepthsToSeconds(e,t,r){const i=(r.endDepth-r.startDepth)/r.duration;for(let o=r.startTime;o<r.endTime;o++){e.push(R2.toDate(o));const k=this.convertDepth(r.startDepth+(o-r.startTime)*i);t.push(k)}e.push(R2.toDate(r.endTime));const a=this.convertDepth(r.endDepth);t.push(a)}convertDepth(e){const t=this.units.fromMeters(e);return A2.round(t,1)}}Zu.\u0275fac=function(e){return new(e||Zu)(Tt(gr),Tt(Lr),Tt(H4))},Zu.\u0275cmp=I2({type:Zu,selectors:[["app-profilechart"]],features:[g1],decls:8,vars:6,consts:[[1,"card"],[1,"card-header"],["flip","vertical",1,"me-3",3,"icon"],[1,"card-body","card-minheight"],[3,"show"],["id","diveplot",1,"diveplot",3,"ngClass"]],template:function(e,t){1&e&&(Pe(0,"div",0)(1,"div",1),jn(2,"fa-icon",2),Pe(3,"span"),Lt(4,"Profile chart"),Ge()(),Pe(5,"div",3),jn(6,"app-calculating",4)(7,"div",5),Ge()()),2&e&&(je(2),Ht("icon",t.icon),je(4),Ht("show",!t.dive.profileCalculated),je(1),Ht("ngClass",v0(3,qbe,t.dive.profileCalculated,!t.dive.profileCalculated)))},dependencies:[Hc,pa,al],styles:[".dive-level[_ngcontent-%COMP%]{stroke:#4169e1;stroke-width:2}.dive-surface[_ngcontent-%COMP%]{stroke:navy;stroke-width:4}.dive-waypoint[_ngcontent-%COMP%]{text-anchor:end}.dive-nodeco[_ngcontent-%COMP%]{fill:red;r:6}.dive-plot[_ngcontent-%COMP%]{position:relative;width:100%;height:450px}.plot-display[_ngcontent-%COMP%]{display:block}.plot-hidden[_ngcontent-%COMP%]{display:none}"]});class Xu{constructor(e,t,r,i,a){this.fb=e,this.inputs=t,this.validators=r,this.units=i,this.depths=a}get depthInvalid(){return this.inputs.controlInValid(this.depthForm.controls.depth)}depthChanged(){this.depthForm.invalid||(this.depths.plannedDepth=Number(this.depthForm.controls.depth.value))}applyMaxDepth(){this.depths.applyMaxDepth(),this.depthForm.patchValue({depth:this.inputs.formatNumber(this.depths.plannedDepth)})}ngOnInit(){this.depthForm=this.fb.group({depth:[this.inputs.formatNumber(this.depths.plannedDepth),this.validators.depth]})}}function Ybe(n,e){1&n&&(Pe(0,"span"),Lt(1,"Depth"),Ge())}function Zbe(n,e){1&n&&(Pe(0,"span"),Lt(1,"Depths"),Ge())}function Xbe(n,e){if(1&n){const t=k1();Pe(0,"div",7)(1,"form",5)(2,"div",8)(3,"label",9),Lt(4,"Bottom time [min]:"),Ge(),Pe(5,"input",10),xn("input",function(){return s2(t),o2(on().durationChanged())}),Ge(),Pe(6,"div",11),Lt(7),Ge(),Pe(8,"div",12),Lt(9),j2(10,"number"),Ge(),Pe(11,"button",13),xn("click",function(){return s2(t),o2(on().depths.applyMaxDuration())}),Lt(12,"Max"),Ge(),Pe(13,"button",14),xn("click",function(){return s2(t),o2(on().depths.applyNdlDuration())}),Lt(14,"No deco"),Ge()(),Pe(15,"div",15),jn(16,"app-depth"),Ge()()()}if(2&n){const t=on();je(1),Ht("formGroup",t.simpleForm),je(4),k2("is-invalid",t.durationInvalid),Ht("min",t.ranges.duration[0])("max",t.ranges.duration[1]),je(2),t2("Needs to be number ",t.ranges.durationLabel," "),je(1),k2("invisible",t.durationInvalid),je(1),t2("No deco limit ",G2(10,13,t.noDecoTime,"1.0-0")," min"),je(2),k2("invisible",!t.dive.showMaxDuration),je(2),k2("invisible",!t.planner.ndlValid)}}function Kbe(n,e){if(1&n&&(Pe(0,"div",51),Lt(1),Ge()),2&n){const t=on(3);je(1),t2(" Needs to be number ",t.ranges.depthLabel,"")}}function Qbe(n,e){if(1&n&&(Pe(0,"div",51),Lt(1),Ge()),2&n){const t=on(3);je(1),t2("Needs to be number ",t.ranges.durationLabel,"")}}function Jbe(n,e){if(1&n){const t=k1();Pe(0,"li",52),xn("click",function(){const a=s2(t).$implicit,o=on().index;return o2(on(2).assignTank(o,a))}),Pe(1,"a",53),Lt(2),Ge()()}if(2&n){const t=e.$implicit,r=on(3);je(2),z1(r.tankLabel(t))}}function exe(n,e){if(1&n){const t=k1();Pe(0,"button",54),xn("click",function(){s2(t);const i=on().index;return o2(on(2).removeLevel(i))}),jn(1,"fa-icon",34),Ge()}if(2&n){const t=on(3);je(1),Ht("icon",t.removeIcon)}}function txe(n,e){if(1&n){const t=k1();Pe(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31),Lt(4),j2(5,"number"),Ge(),Pe(6,"div",32)(7,"button",33),xn("click",function(){const a=s2(t).index;return o2(on(2).removeLevel(a))}),jn(8,"fa-icon",34),Ge()()()(),Pe(9,"div",35)(10,"div",36),Lt(11),j2(12,"number"),Ge(),Pe(13,"div",37)(14,"input",38),xn("input",function(){const a=s2(t).index;return o2(on(2).levelChanged(a))}),Ge(),kn(15,Kbe,2,1,"div",39),Ge(),Pe(16,"div",37)(17,"label",40),Lt(18,"Duration [min]:"),Ge(),Pe(19,"input",41),xn("input",function(){const a=s2(t).index;return o2(on(2).levelChanged(a))}),Ge(),kn(20,Qbe,2,1,"div",39),Ge(),Pe(21,"div",42)(22,"label",43),Lt(23,"Tank:"),Ge(),Pe(24,"div",44),jn(25,"input",45)(26,"button",46),Pe(27,"ul",47),kn(28,Jbe,3,1,"li",48),Ge()()(),Pe(29,"div",49),kn(30,exe,2,1,"button",50),Ge()()()}if(2&n){const t=e.index,r=on(2);Ht("formGroupName",t),je(4),d3("From ",G2(5,19,r.startDepth(t),"1.0-0")," [",r.units.length,"] To [",r.units.length,"]: "),je(4),Ht("icon",r.removeIcon),je(3),z1(G2(12,22,r.startDepth(t),"1.0-0")),je(3),k2("is-invalid",r.depthItemInvalid(t)),Ht("min",r.ranges.depth[0])("max",r.ranges.depth[1]),je(1),Ht("ngIf",r.depthItemInvalid(t)),je(4),k2("is-invalid",r.durationItemInvalid(t)),Ht("min",r.ranges.duration[0])("max",r.ranges.duration[1]),je(1),Ht("ngIf",r.durationItemInvalid(t)),je(5),Ht("value",r.tankLabelFor(t)),je(3),Ht("ngForOf",r.tanks),je(2),Ht("ngIf",r.minimumSegments)}}function nxe(n,e){if(1&n){const t=k1();Pe(0,"div",16)(1,"div",17)(2,"div",18),Lt(3),Ge(),Pe(4,"div",19),Lt(5),Ge(),Pe(6,"div",19),Lt(7,"Duration [min]"),Ge(),Pe(8,"div",20),Lt(9,"Tank"),Ge(),Pe(10,"div",21)(11,"button",22),xn("click",function(){return s2(t),o2(on().addLevel())}),jn(12,"fa-icon",23),Ge()()(),kn(13,txe,31,25,"div",24),Pe(14,"div",25)(15,"div",26)(16,"button",27),xn("click",function(){return s2(t),o2(on().addLevel())}),jn(17,"fa-icon",23),Ge()()()()}if(2&n){const t=on();je(3),t2("From [",t.units.length,"]"),je(2),t2("To [",t.units.length,"]"),je(7),Ht("icon",t.addIcon),je(1),Ht("ngForOf",t.levelControls.controls),je(4),Ht("icon",t.addIcon)}}Xu.\u0275fac=function(e){return new(e||Xu)(Tt(fs),Tt(Fi),Tt(Ri),Tt(Lr),Tt(H3))},Xu.\u0275cmp=I2({type:Xu,selectors:[["app-depth"]],decls:10,vars:10,consts:[[3,"formGroup"],["for","depthField","mdbLabel","",1,"form-label"],["id","depthField","formControlName","depth","type","number","required","","step","1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],[1,"text-muted","form-text"],["type","button","id","applyMaxDepthBtn",1,"btn","btn-secondary","mt-2",3,"click"]],template:function(e,t){1&e&&(fr(0,0),Pe(1,"label",1),Lt(2),Ge(),Pe(3,"input",2),xn("input",function(){return t.depthChanged()}),Ge(),Pe(4,"div",3),Lt(5),Ge(),Pe(6,"div",4),Lt(7),Ge(),Pe(8,"button",5),xn("click",function(){return t.applyMaxDepth()}),Lt(9,"Max"),Ge(),dr()),2&e&&(Ht("formGroup",t.depthForm),je(2),t2("Depth [",t.units.length,"]:"),je(1),k2("is-invalid",t.depthInvalid),Ht("min",t.units.ranges.depth[0])("max",t.units.ranges.depth[1]),je(2),t2("Needs to be number ",t.units.ranges.depthLabel,""),je(1),k2("invisible",t.depthInvalid),je(1),t2("Best mix is ",t.depths.bestNitroxMix,""))},dependencies:[fa,Ba,Fa,Ra,Ho,ja,Ua,ha,wa,ms]});class Ku extends qa{constructor(e,t,r,i,a,o){super(),this.fb=e,this.inputs=t,this.validators=r,this.planner=i,this.depths=a,this.units=o,this.cardIcon=yA,this.addIcon=kh,this.removeIcon=Sh,this.plan=this.planner.plan,this.dive=this.planner.dive,this.depths.updateLevels()}get ranges(){return this.units.ranges}get isComplex(){return this.planner.isComplex}get minimumSegments(){return this.plan.minimumSegments}get tanks(){return this.planner.tanks}get noDecoTime(){return this.plan.noDecoTime}get durationInvalid(){return this.inputs.controlInValid(this.simpleForm.controls.planDuration)}get levelControls(){return this.complexForm.controls.levels}depthItemInvalid(e){const r=this.levelControls.at(e).controls.endDepth;return this.inputs.controlInValid(r)}durationItemInvalid(e){const r=this.levelControls.at(e).controls.duration;return this.inputs.controlInValid(r)}startDepth(e){return this.levelAt(e).startDepth}tankLabelFor(e){return this.levelAt(e).tankLabel}assignTank(e,t){const r=this.levelAt(e);this.depths.assignTank(r,t)}ngOnInit(){this.complexForm=this.fb.group({levels:this.fb.array(this.createLevelControls())}),this.simpleForm=this.fb.group({planDuration:this.createDurationControl(this.depths.planDuration)}),this.plan.reloaded$.pipe(Q1(this.unsubscribe$)).subscribe(()=>{this.depths.updateLevels(),this.reloadSimple(),this.reloadComplex()}),this.planner.viewSwitched.pipe(Q1(this.unsubscribe$)).subscribe(()=>{this.depths.updateLevels(),this.reloadComplex()})}addLevel(){if(this.complexForm.invalid)return;this.depths.addSegment();const t=this.levelAt(this.depths.levels.length-1),r=this.createLevelControl(t);this.levelControls.push(r)}removeLevel(e){if(this.complexForm.invalid||!this.minimumSegments)return;const t=this.levelAt(e);this.depths.removeSegment(t),this.levelControls.removeAt(e)}levelChanged(e){if(this.complexForm.invalid)return;const t=this.levelAt(e),i=this.levelControls.at(e).value;t.duration=Number(i.duration),t.endDepth=Number(i.endDepth),this.depths.levelChanged()}durationChanged(){this.simpleForm.invalid||(this.depths.planDuration=Number(this.simpleForm.value.planDuration))}tankLabel(e){return hh.tankLabel(this.units,e)}reloadSimple(){this.simpleForm.patchValue({planDuration:this.inputs.formatNumber(this.depths.planDuration)})}reloadComplex(){this.levelControls.clear(),this.createLevelControls().forEach(e=>this.levelControls.push(e))}createLevelControls(){const e=[];for(const t of this.depths.levels){const r=this.createLevelControl(t);e.push(r)}return e}createLevelControl(e){return this.fb.group({duration:this.createDurationControl(e.duration),endDepth:[this.inputs.formatNumber(e.endDepth),this.validators.depth]})}createDurationControl(e){return[this.inputs.formatNumber(e),this.validators.duration]}levelAt(e){return this.depths.levels[e]}}function rxe(n,e){if(1&n){const t=k1();Pe(0,"div",7),jn(1,"fa-icon",8),Pe(2,"span")(3,"strong"),Lt(4,"Disclaimer:"),Ge(),Lt(5," None of the authors, contributors, administrators, or anyone else connected with this project can be responsible for your use of the information provided by this application or linked from these web pages. Use the results at your own risk."),Ge(),Pe(6,"button",9),xn("click",function(){return s2(t),o2(on().stopDisclaimer())}),Ge()()}if(2&n){const t=on();je(1),Ht("icon",t.exclamation)}}Ku.\u0275fac=function(e){return new(e||Ku)(Tt(fs),Tt(Fi),Tt(Ri),Tt(gr),Tt(H3),Tt(Lr))},Ku.\u0275cmp=I2({type:Ku,selectors:[["app-depths"]],features:[g1],decls:8,vars:6,consts:[[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[4,"ngIf"],["class","card-body row",4,"ngIf"],[3,"formGroup"],["class","card-body","formArrayName","levels",4,"ngIf"],[1,"card-body","row"],[1,"mb-4","col","col-12","col-md-6"],["for","duration","mdbLabel","",1,"form-label"],["id","duration","formControlName","planDuration","type","number","required","","step","1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],[1,"text-muted","form-text"],["type","button","id","btnApplyDuration",1,"btn","btn-secondary","mt-2","me-2","col","col-auto",3,"click"],["type","button","id","btnApplyNdl",1,"btn","btn-secondary","mt-2","col","col-auto",3,"click"],[1,"col","col-12","col-md-6"],["formArrayName","levels",1,"card-body"],[1,"row","pb-2"],[1,"col","col-1","m-0","px-1","d-none","d-sm-block","text-end"],[1,"col","col-2","m-0","px-1","d-none","d-sm-block"],[1,"col","col-6","m-0","px-1","d-none","d-sm-block"],[1,"col","col-1","m-0","px-1","d-none","d-sm-block"],["id","addLevel","type","button",1,"p-1","btn","btn-secondary",3,"click"],[1,"fa-xl",3,"icon"],["class","px-0 pb-2",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","justify-content-end","m-1","px-1","pb-2"],[1,"col","col-1","d-sm-none","d-block"],["type","button",1,"p-1","btn","btn-secondary",3,"click"],[1,"px-0","pb-2",3,"formGroupName"],[1,"col","col-12","col-sm-1","m-0","pb-0","px-1","pt-2","d-sm-none","d-block"],[1,"row"],[1,"col","col-10","form-label"],[1,"col","col-2","text-end"],["type","button",1,"m-0","p-1","btn","btn-secondary",3,"click"],[1,"p-0","m-0","fa-xl",3,"icon"],[1,"row","p-0","pb-2"],[1,"col","col-12","col-sm-1","m-0","pb-0","px-1","d-none","d-sm-block","text-end","align-self-center"],[1,"col","col-12","col-sm-2","m-0","pb-0","px-1"],["formControlName","endDepth","type","number","id","depthItem","required","","step","1",1,"form-control",3,"min","max","input"],["class","text-danger",4,"ngIf"],["for","durationItem",1,"form-label","d-sm-none","d-block","mt-2"],["formControlName","duration","type","number","id","durationItem","required","","step","1",1,"form-control",3,"min","max","input"],[1,"col","col-12","col-sm-6","m-0","pb-0","px-1"],["for","tanks",1,"form-label","d-sm-none","d-block","mt-2"],["mdbDropdown","",1,"input-group","dropdown"],["id","tanks","type","text","readonly","",1,"form-control",3,"value"],["id","tankMenu","type","button","mdbDropdownToggle","","aria-expanded","false","data-mdb-toggle","dropdown",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click",4,"ngFor","ngForOf"],[1,"col","col-12","col-sm-1","m-0","pb-0","px-1","d-none","d-sm-block","align-self-center"],["type","button","class","m-0 p-1 btn btn-secondary","id","removeLevel",3,"click",4,"ngIf"],[1,"text-danger"],[3,"click"],[1,"dropdown-item"],["type","button","id","removeLevel",1,"m-0","p-1","btn","btn-secondary",3,"click"]],template:function(e,t){1&e&&(Pe(0,"div",0)(1,"div",1),jn(2,"fa-icon",2),kn(3,Ybe,2,0,"span",3),kn(4,Zbe,2,0,"span",3),Ge(),kn(5,Xbe,17,16,"div",4),Pe(6,"form",5),kn(7,nxe,18,5,"div",6),Ge()()),2&e&&(je(2),Ht("icon",t.cardIcon),je(1),Ht("ngIf",!t.isComplex),je(1),Ht("ngIf",t.isComplex),je(1),Ht("ngIf",!t.isComplex),je(1),Ht("formGroup",t.complexForm),je(1),Ht("ngIf",t.isComplex))},dependencies:[v3,Zr,Vc,fa,Ba,Fa,Ra,Ho,ja,Ua,ha,wa,W8,q8,pa,w4,w3,S3,ms,Xu,Oa]});const XI=function(n){return{"col-sm-6":n}},ixe=function(n,e){return{"col-md-12":n,"col-sm-12":e}},axe=function(n,e){return{"col-lg-12":n,"col-lg-8":e}};class Qu extends qa{constructor(e,t,r,i,a){super(),this.location=e,this.preferences=t,this.options=r,this.planner=i,this.delayedCalc=a,this.showDisclaimer=!0,this.exclamation=Eh}get isComplex(){return this.planner.isComplex}ngOnInit(){this.showDisclaimer=this.preferences.disclaimerEnabled();const e=window.location.search;""!==e?xs.fromUrl(e,this.options,this.planner):this.delayedCalc.schedule(),this.planner.infoCalculated$.pipe(Q1(this.unsubscribe$)).subscribe(()=>this.updateQueryParams())}stopDisclaimer(){this.showDisclaimer=!1,this.preferences.disableDisclaimer()}updateQueryParams(){const e=xs.toUrl(this.planner,this.options);this.location.go("?"+e)}}Qu.\u0275fac=function(e){return new(e||Qu)(Tt(A8),Tt(wi),Tt(bs),Tt(gr),Tt(Ao))},Qu.\u0275cmp=I2({type:Qu,selectors:[["app-dashboard"]],features:[g1],decls:16,vars:15,consts:[[1,"mt-5"],[1,"row"],["class","alert alert-warning alert-dismissible fade show mt-4","role","alert",4,"ngIf"],[1,"col-12","col-lg-6","col-xxl-4","mt-4",3,"ngClass"],[1,"col-12","col-xxl-4","mt-4",3,"ngClass"],[1,"col-12","col-xxl-6","mt-4",3,"ngClass"],[1,"col-md-6","col-xxl-3","mt-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","mt-4"],[1,"me-2","fa-lg",3,"icon"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(e,t){1&e&&(Pe(0,"div",0)(1,"div",1)(2,"div"),kn(3,rxe,7,1,"div",2),Ge(),Pe(4,"div",3),jn(5,"app-tanks"),Ge(),Pe(6,"div",3),jn(7,"app-depths"),Ge(),Pe(8,"div",4),jn(9,"app-diveoptions"),Ge(),Pe(10,"div",5),jn(11,"app-profilechart"),Ge(),Pe(12,"div",6),jn(13,"app-waypoints"),Ge(),Pe(14,"div",6),jn(15,"app-consumption"),Ge()()()),2&e&&(je(3),Ht("ngIf",t.showDisclaimer),je(1),Ht("ngClass",S8(5,XI,!t.isComplex)),je(2),Ht("ngClass",S8(7,XI,!t.isComplex)),je(2),Ht("ngClass",v0(9,ixe,!t.isComplex,!t.isComplex)),je(2),Ht("ngClass",v0(12,axe,!t.isComplex,t.isComplex)))},dependencies:[Hc,Zr,pa,ju,Gu,qu,Yu,Zu,Ku]});class O_{}O_.depthConverterWarning="This calculator uses simple depth conversion (where 1 ATM = 1 bar), so thevalues shown here are less precise, than in rest of the application.";class ol{constructor(){this._depth=15,this._tank=15,this._used=150,this._duration=45,this._rmv=0;const e=Cs.simple();this.sacCalculator=new d2e(e),this.calculate=this.calculateSac,this.calculate()}get depth(){return this._depth}get tank(){return this._tank}get rmv(){return this._rmv}get duration(){return this._duration}get used(){return this._used}get inDuration(){return this.calculate===this.calculateDuration}get inUsed(){return this.calculate===this.calculateUsed}get inSac(){return this.calculate===this.calculateSac}set depth(e){this._depth=e,this.calculate()}set tank(e){this._tank=e,this.calculate()}set rmv(e){this._rmv=e,this.calculate()}set duration(e){this._duration=e,this.calculate()}set used(e){this._used=e,this.calculate()}toDuration(){this.calculate=this.calculateDuration}toUsed(){this.calculate=this.calculateUsed}toSac(){this.calculate=this.calculateSac}calculateSac(){this._rmv=this.sacCalculator.calculateSac(this.depth,this.tank,this.used,this.duration)}calculateDuration(){this._duration=this.sacCalculator.calculateDuration(this.depth,this.tank,this.used,this.rmv)}calculateUsed(){this._used=this.sacCalculator.calculateUsed(this.depth,this.tank,this.duration,this.rmv)}}function sxe(n,e){if(1&n){const t=k1();fr(0),Pe(1,"div",11)(2,"label",21),Lt(3,"Dive time [min]:"),Ge(),Pe(4,"input",22),xn("input",function(){return s2(t),o2(on().inputChanged())}),Ge(),Pe(5,"div",14),Lt(6),Ge()(),dr()}if(2&n){const t=on();je(4),k2("is-invalid",t.durationInvalid),Ht("min",t.ranges.duration[0])("max",t.ranges.duration[1]),je(2),t2(" Needs to be number ",t.ranges.durationLabel,"")}}function oxe(n,e){if(1&n){const t=k1();fr(0),Pe(1,"div",11)(2,"label",23),Lt(3),Ge(),Pe(4,"input",24),xn("input",function(){return s2(t),o2(on().inputChanged())}),Ge(),Pe(5,"div",14),Lt(6),Ge()(),dr()}if(2&n){const t=on();je(3),t2("Gas consumed [",t.units.pressure,"]:"),je(1),k2("is-invalid",t.usedInvalid),Ht("min",t.ranges.tankPressure[0])("max",t.ranges.tankPressure[1]),je(2),t2("Needs to be number ",t.ranges.tankPressureLabel," ")}}function cxe(n,e){if(1&n){const t=k1();fr(0),Pe(1,"div",11)(2,"label",25),Lt(3),Ge(),Pe(4,"input",26),xn("input",function(){return s2(t),o2(on().inputChanged())}),Ge(),Pe(5,"div",14),Lt(6),Ge(),Pe(7,"div",27),Lt(8),j2(9,"number"),Ge()(),dr()}if(2&n){const t=on();je(3),t2("RMV [",t.units.rmv,"]:"),je(1),k2("is-invalid",t.rmvInvalid),Ht("min",t.ranges.diverRmv[0])("max",t.ranges.diverRmv[1]),je(2),t2("Needs to be number ",t.ranges.diverRmvLabel," "),je(1),k2("invisible",t.rmvInvalid),je(1),os("SAC: ",G2(9,10,t.gasSac,"1.0-2")," ",t.units.sac,"")}}function lxe(n,e){if(1&n&&(fr(0),Pe(1,"div",11)(2,"label",25),Lt(3),Ge(),jn(4,"input",28),Pe(5,"small",29),Lt(6),j2(7,"number"),Ge()(),dr()),2&n){const t=on();je(3),t2("RMV [",t.units.rmv,"]:"),je(1),Ht("readonly",!0)("value",t.calcRmv),je(2),os("SAC: ",G2(7,5,t.gasSac,"1.0-2")," ",t.units.sac,"")}}function uxe(n,e){if(1&n&&(fr(0),Pe(1,"div",11)(2,"label",25),Lt(3),Ge(),jn(4,"input",28),Ge(),dr()),2&n){const t=on();je(3),t2("Gas consumed [",t.units.pressure,"]:"),je(1),Ht("readonly",!0)("value",t.calcUsed)}}function fxe(n,e){if(1&n&&(fr(0),Pe(1,"div",11)(2,"label",25),Lt(3,"Dive time [min]:"),Ge(),jn(4,"input",28),Ge(),dr()),2&n){const t=on();je(4),Ht("readonly",!0)("value",t.calcDuration)}}function dxe(n,e){if(1&n){const t=k1();Pe(0,"button",30),xn("click",function(){return s2(t),o2(on().use())}),Lt(1,"Use"),Ge()}}ol.\u0275fac=function(e){return new(e||ol)},ol.\u0275prov=On({token:ol,factory:ol.\u0275fac});class Ju{constructor(e,t,r,i,a,o,_,k){this.validators=e,this.inputs=t,this.formBuilder=r,this.router=i,this.planer=a,this.cd=o,this.calc=_,this.units=k,this.calcIcon=p_,this.depthConverterWarning=O_.depthConverterWarning}get gasSac(){const e=j0.gasSac(this.calc.rmv,this.calc.tank);return this.units.fromBar(e)}get ranges(){return this.units.ranges}get depthInvalid(){return this.inputs.controlInValid(this.formSac.controls.depth)}get tankInvalid(){return this.inputs.controlInValid(this.formSac.controls.tankSize)}get usedInvalid(){return this.inputs.controlInValid(this.formSac.controls.used)}get rmvInvalid(){return this.inputs.controlInValid(this.formSac.controls.rmv)}get durationInvalid(){return this.inputs.controlInValid(this.formSac.controls.duration)}get calcDepth(){return this.units.fromMeters(this.calc.depth)}get calcTank(){return this.units.fromTankLiters(this.calc.tank)}get calcUsed(){return this.units.fromBar(this.calc.used)}get calcRmv(){return this.units.fromLiter(this.calc.rmv)}get calcDuration(){return this.calc.duration}get dataModel(){return{depth:this.inputs.formatNumber(this.calcDepth),tankSize:this.inputs.formatNumber(this.calcTank),used:this.inputs.formatNumber(this.calcUsed),duration:this.calcDuration,rmv:this.inputs.formatNumber(this.calcRmv,2)}}ngOnInit(){this.durationControl=this.formBuilder.control(this.inputs.formatNumber(this.calcDuration),this.validators.duration),this.usedControl=this.formBuilder.control(this.inputs.formatNumber(this.calcUsed),this.validators.tankPressure),this.rmvControl=this.formBuilder.control(this.inputs.formatNumber(this.calcRmv),this.validators.diverRmv),this.formSac=this.formBuilder.group({depth:[this.inputs.formatNumber(this.calcDepth),this.validators.depth],tankSize:[this.inputs.formatNumber(this.calcTank),this.validators.tankSize]}),this.toSac()}inputChanged(){if(this.formSac.invalid)return;const e=this.formSac.value;this.calc.depth=this.units.toMeters(Number(e.depth)),this.calc.tank=this.units.toTankLiters(Number(e.tankSize)),this.calc.used=this.units.toBar(Number(e.used)),this.calc.rmv=this.units.toLiter(Number(e.rmv)),this.calc.duration=Number(e.duration),this.reload()}toDuration(){this.calc.toDuration(),this.enableAll(),this.formSac.removeControl("duration"),this.cd.detectChanges()}toUsed(){this.calc.toUsed(),this.enableAll(),this.formSac.removeControl("used"),this.cd.detectChanges()}toSac(){this.calc.toSac(),this.enableAll(),this.formSac.removeControl("rmv"),this.cd.detectChanges()}goBack(){var e=this;return ch(function*(){return yield e.router.navigateByUrl("/")})()}use(){this.formSac.invalid||(this.planer.diver.rmv=this.calc.rmv)}enableAll(){this.formSac.addControl("used",this.usedControl),this.formSac.addControl("duration",this.durationControl),this.formSac.addControl("rmv",this.rmvControl),this.reload()}reload(){this.formSac.patchValue(this.dataModel)}}Ju.\u0275fac=function(e){return new(e||Ju)(Tt(Ri),Tt(Fi),Tt(fs),Tt(Ii),Tt(gr),Tt(f4),Tt(ol),Tt(Lr))},Ju.\u0275cmp=I2({type:Ju,selectors:[["app-sac"]],decls:41,vars:28,consts:[[1,"mt-5"],[1,"row"],[1,"col","col-sm-8","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"mb-4"],["role","group",1,"btn-group","mb-3"],["type","button",1,"btn",3,"click"],[1,"pt-2","mb-4"],["for","depth","mdbLabel","",1,"form-label"],["formControlName","depth","name","depth","id","depth","type","number","step","1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],["for","tank","mdbLabel","",1,"form-label"],["formControlName","tankSize","name","tank","id","tank","type","number","step","1",1,"form-control",3,"min","max","input"],[4,"ngIf"],[1,"form-group","mt-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],["for","duration","mdbLabel","",1,"form-label"],["formControlName","duration","name","duration","id","duration","type","number","step","1",1,"form-control",3,"min","max","input"],["for","used","mdbLabel","",1,"form-label"],["formControlName","used","name","used","id","used","type","number","step","1",1,"form-control",3,"min","max","input"],["for","sac","mdbLabel","",1,"form-label"],["formControlName","rmv","name","sac","id","sac","type","number","step","1","aria-describedby","rmvDescribe",1,"form-control",3,"min","max","input"],["id","rmvDescribe",1,"form-text"],[1,"form-control",3,"readonly","value"],[1,"form-text","text-muted"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(e,t){1&e&&(Pe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),jn(5,"fa-icon",5),Pe(6,"span"),Lt(7,"Respiratory minute volume"),Ge()(),Pe(8,"div",6)(9,"form",7)(10,"div",8),Lt(11),Ge(),Pe(12,"div",9)(13,"button",10),xn("click",function(){return t.toSac()}),Lt(14,"RMV"),Ge(),Pe(15,"button",10),xn("click",function(){return t.toUsed()}),Lt(16,"Used"),Ge(),Pe(17,"button",10),xn("click",function(){return t.toDuration()}),Lt(18,"Duration"),Ge()(),Pe(19,"div",11)(20,"label",12),Lt(21),Ge(),Pe(22,"input",13),xn("input",function(){return t.inputChanged()}),Ge(),Pe(23,"div",14),Lt(24),Ge()(),Pe(25,"div",11)(26,"label",15),Lt(27),Ge(),Pe(28,"input",16),xn("input",function(){return t.inputChanged()}),Ge(),Pe(29,"div",14),Lt(30),Ge()(),kn(31,sxe,7,5,"ng-container",17),kn(32,oxe,7,6,"ng-container",17),kn(33,cxe,10,13,"ng-container",17),kn(34,lxe,8,8,"ng-container",17),kn(35,uxe,5,3,"ng-container",17),kn(36,fxe,5,2,"ng-container",17),Ge()()(),Pe(37,"div",18)(38,"button",19),xn("click",function(){return t.goBack()}),Lt(39,"Back"),Ge(),kn(40,dxe,2,0,"button",20),Ge()()()()),2&e&&(je(5),Ht("icon",t.calcIcon),je(4),Ht("formGroup",t.formSac),je(2),z1(t.depthConverterWarning),je(2),k2("btn-primary",t.calc.inSac),je(2),k2("btn-primary",t.calc.inUsed),je(2),k2("btn-primary",t.calc.inDuration),je(4),t2("Average depth [",t.units.length,"]:"),je(1),k2("is-invalid",t.depthInvalid),Ht("min",t.ranges.depth[0])("max",t.ranges.depth[1]),je(2),t2("Needs to be number ",t.ranges.depthLabel," "),je(3),t2("Tank size [",t.units.volume,"]:"),je(1),k2("is-invalid",t.tankInvalid),Ht("min",t.ranges.tankSize[0])("max",t.ranges.tankSize[1]),je(2),t2("Needs to be number ",t.ranges.tankSizeLabel," "),je(1),Ht("ngIf",!t.calc.inDuration),je(1),Ht("ngIf",!t.calc.inUsed),je(1),Ht("ngIf",!t.calc.inSac),je(1),Ht("ngIf",t.calc.inSac),je(1),Ht("ngIf",t.calc.inUsed),je(1),Ht("ngIf",t.calc.inDuration),je(4),Ht("ngIf",!t.formSac.invalid))},dependencies:[Zr,Vc,fa,Ba,Fa,Ra,ja,Ua,ha,wa,pa,ms,Oa]});class hxe{static lowMod(e){return()=>e()?{lowMod:!0}:null}}class cl{constructor(e){this._pO2=1.6,this._fO2=50,this._mod=22,this.calculateCurrentMod=()=>{this._mod=this.nitroxCalculator.mod(this._pO2,this._fO2)},this.calculateBestMix=()=>{this._fO2=this.nitroxCalculator.bestMix(this._pO2,this._mod)},this.calculatePartial=()=>{this._pO2=this.nitroxCalculator.partialPressure(this._fO2,this._mod)};const t=Cs.simple(),r=new ky(t,e);this.nitroxCalculator=new mT(r,t),this.calculate=this.calculateCurrentMod}get inMod(){return this.calculate===this.calculateCurrentMod}get inBestMix(){return this.calculate===this.calculateBestMix}get inPO2(){return this.calculate===this.calculatePartial}get pO2(){return this._pO2}get fO2(){return this._fO2}get ead(){return this.nitroxCalculator.ead(this._fO2,this._mod)}get mod(){return this._mod}set pO2(e){this._pO2=e,this.calculate()}set fO2(e){this._fO2=e,this.calculate()}set mod(e){this._mod=e,this.calculate()}toMod(){this.calculate=this.calculateCurrentMod}toBestMix(){this.calculate=this.calculateBestMix}toPO2(){this.calculate=this.calculatePartial}}function pxe(n,e){if(1&n){const t=k1();fr(0),Pe(1,"div",15)(2,"label",16),Lt(3,"ppO2:"),Ge(),Pe(4,"input",17),xn("input",function(){return s2(t),o2(on().inputChanged())}),Ge(),Pe(5,"div",18),Lt(6,"Needs to be number 0.21-3 "),Ge()(),dr()}if(2&n){const t=on();je(4),k2("is-invalid",t.pO2Invalid),Ht("min",t.ranges.ppO2[0])("max",t.ranges.ppO2[1])}}function mxe(n,e){if(1&n){const t=k1();fr(0),Pe(1,"div",15)(2,"label",19),Lt(3,"Percent O2:"),Ge(),Pe(4,"input",20),xn("input",function(){return s2(t),o2(on().inputChanged())}),Ge(),Pe(5,"div",18),Lt(6),Ge()(),dr()}if(2&n){const t=on();je(4),k2("is-invalid",t.fO2Invalid),Ht("min",t.ranges.nitroxOxygen[0])("max",t.ranges.nitroxOxygen[1]),je(2),t2("Needs to be number ",t.ranges.nitroxOxygenLabel," ")}}function gxe(n,e){if(1&n){const t=k1();fr(0),Pe(1,"div",15)(2,"label",21),Lt(3),Ge(),Pe(4,"input",22),xn("input",function(){return s2(t),o2(on().inputChanged())}),Ge(),Pe(5,"div",18),Lt(6),Ge(),Pe(7,"div",23),Lt(8),j2(9,"number"),Ge()(),dr()}if(2&n){const t=on();je(3),t2("MOD [",t.units.length,"]:"),je(1),k2("is-invalid",t.modInvalid),Ht("min",t.ranges.depth[0])("max",t.ranges.depth[1]),je(2),t2("Needs to be number ",t.ranges.depthLabel,""),je(1),k2("invisible",t.modInvalid),je(1),os(" EAD: ",G2(9,10,t.ead,"1.0-1")," ",t.units.length,"")}}function vxe(n,e){if(1&n&&(fr(0),Pe(1,"div",15)(2,"label",21),Lt(3),Ge(),jn(4,"input",24),j2(5,"number"),Pe(6,"small",25),Lt(7),j2(8,"number"),Ge()(),dr()),2&n){const t=on();je(3),t2("MOD [",t.units.length,"]:"),je(1),Ht("readonly",!0)("value",G2(5,5,t.calcMod,"1.0-1")),je(3),os("EAD: ",G2(8,8,t.ead,"1.0-1")," ",t.units.length,"")}}function yxe(n,e){if(1&n&&(fr(0),Pe(1,"div",15)(2,"label",19),Lt(3,"Percent O2:"),Ge(),jn(4,"input",24),j2(5,"number"),Ge(),dr()),2&n){const t=on();je(4),Ht("readonly",!0)("value",G2(5,2,t.calc.fO2,"1.0-1"))}}function _xe(n,e){if(1&n&&(fr(0),Pe(1,"div",15)(2,"label",16),Lt(3,"ppO2:"),Ge(),jn(4,"input",24),j2(5,"number"),Ge(),dr()),2&n){const t=on();je(4),Ht("readonly",!0)("value",G2(5,2,t.calc.pO2,"1.0-2"))}}function Cxe(n,e){1&n&&(fr(0),Pe(1,"div",26),Lt(2," Too small final operation depth. Increase ppO2 or reduce Percent O2. "),Ge(),dr())}function bxe(n,e){if(1&n){const t=k1();Pe(0,"button",27),xn("click",function(){return s2(t),o2(on().use())}),Lt(1,"Use"),Ge()}}cl.\u0275fac=function(e){return new(e||cl)(gn(bs))},cl.\u0275prov=On({token:cl,factory:cl.\u0275fac});class e5{constructor(e,t,r,i,a,o,_){this.fb=e,this.inputs=t,this.validators=r,this.calc=i,this.router=a,this.planer=o,this.units=_,this.calcIcon=p_,this.depthConverterWarning=O_.depthConverterWarning,this.failingMod=!1,this.calc.fO2=this.planer.firstTank.o2,this.calc.pO2=this.planer.diver.maxPpO2}get ranges(){return this.units.ranges}get ead(){return this.units.fromMeters(this.calc.ead)}get pO2Invalid(){return this.inputs.controlInValid(this.nitroxForm.controls.pO2)}get modInvalid(){return this.inputs.controlInValid(this.nitroxForm.controls.mod)}get fO2Invalid(){return this.inputs.controlInValid(this.nitroxForm.controls.fO2)}get calcMod(){return this.failingMod?0:this.units.fromMeters(this.calc.mod)}get dataModel(){return{fO2:this.inputs.formatNumber(this.calc.fO2),pO2:this.inputs.formatNumber(this.calc.pO2,2),mod:this.inputs.formatNumber(this.calcMod)}}ngOnInit(){this.fO2Control=this.fb.control(this.inputs.formatNumber(this.calc.fO2),this.validators.nitroxOxygen),this.pO2Control=this.fb.control(this.inputs.formatNumber(this.calc.pO2),this.validators.ppO2),this.modControl=this.fb.control(this.inputs.formatNumber(this.calcMod),this.validators.depth),this.nitroxForm=this.fb.group({},{validator:hxe.lowMod(()=>this.failingMod)}),this.toMod()}inputChanged(){try{if(this.failingMod=!1,this.nitroxForm.updateValueAndValidity(),this.nitroxForm.invalid)return;const e=this.nitroxForm.value;this.calc.pO2=Number(e.pO2),this.calc.fO2=Number(e.fO2);const t=Number(e.mod);this.calc.mod=this.units.toMeters(t),this.reload()}catch{this.failingMod=!0,this.nitroxForm.updateValueAndValidity()}}goBack(){var e=this;return ch(function*(){return yield e.router.navigateByUrl("/")})()}use(){this.nitroxForm.invalid||(this.planer.firstTank.o2=this.calc.fO2,this.planer.diver.maxPpO2=this.calc.pO2)}toMod(){this.calc.toMod(),this.enableAll(),this.nitroxForm.removeControl("mod")}toBestMix(){this.calc.toBestMix(),this.enableAll(),this.nitroxForm.removeControl("fO2")}toPO2(){this.calc.toPO2(),this.enableAll(),this.nitroxForm.removeControl("pO2")}enableAll(){this.nitroxForm.addControl("mod",this.modControl),this.nitroxForm.addControl("fO2",this.fO2Control),this.nitroxForm.addControl("pO2",this.pO2Control),this.reload()}reload(){this.nitroxForm.patchValue(this.dataModel)}}e5.\u0275fac=function(e){return new(e||e5)(Tt(fs),Tt(Fi),Tt(Ri),Tt(cl),Tt(Ii),Tt(gr),Tt(Lr))},e5.\u0275cmp=I2({type:e5,selectors:[["app-nitrox"]],decls:30,vars:17,consts:[[1,"row","mt-5"],[1,"col","col-sm-8","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"mb-4"],["role","group",1,"btn-group","mb-3"],["type","button",1,"btn",3,"click"],[4,"ngIf"],[1,"pt-2","pb-4","pe-3","mb-4"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],[1,"pt-2","mb-4"],["for","pO2","mdbLabel","",1,"form-label"],["name","pO2","id","pO2","type","number","formControlName","pO2","step","0.1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],["for","fO2","mdbLabel","",1,"form-label"],["name","fO2","id","fO2","type","number","formControlName","fO2","step","1",1,"form-control",3,"min","max","input"],["for","mod","mdbLabel","",1,"form-label"],["name","mod","id","mod","type","number","formControlName","mod","step","1","aria-describedby","eadDescribe",1,"form-control",3,"min","max","input"],["id","eadDescribe",1,"form-text"],[1,"form-control",3,"readonly","value"],[1,"form-text","text-muted"],[1,"text-danger","form-text","position-absolute"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(e,t){1&e&&(Pe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),jn(4,"fa-icon",4),Pe(5,"span"),Lt(6,"Nitrox calculator"),Ge()(),Pe(7,"div",5)(8,"form",6)(9,"div",7),Lt(10),Ge(),Pe(11,"div",8)(12,"button",9),xn("click",function(){return t.toMod()}),Lt(13,"MOD"),Ge(),Pe(14,"button",9),xn("click",function(){return t.toBestMix()}),Lt(15,"Best mix"),Ge(),Pe(16,"button",9),xn("click",function(){return t.toPO2()}),Lt(17,"ppO2"),Ge()(),kn(18,pxe,7,4,"ng-container",10),kn(19,mxe,7,5,"ng-container",10),kn(20,gxe,10,13,"ng-container",10),kn(21,vxe,9,11,"ng-container",10),kn(22,yxe,6,5,"ng-container",10),kn(23,_xe,6,5,"ng-container",10),Pe(24,"div",11),kn(25,Cxe,3,0,"ng-container",10),Ge()()()(),Pe(26,"div",12)(27,"button",13),xn("click",function(){return t.goBack()}),Lt(28,"Back"),Ge(),kn(29,bxe,2,0,"button",14),Ge()()()),2&e&&(je(4),Ht("icon",t.calcIcon),je(4),Ht("formGroup",t.nitroxForm),je(2),z1(t.depthConverterWarning),je(2),k2("btn-primary",t.calc.inMod),je(2),k2("btn-primary",t.calc.inBestMix),je(2),k2("btn-primary",t.calc.inPO2),je(2),Ht("ngIf",!t.calc.inPO2),je(1),Ht("ngIf",!t.calc.inBestMix),je(1),Ht("ngIf",!t.calc.inMod),je(1),Ht("ngIf",t.calc.inMod),je(1),Ht("ngIf",t.calc.inBestMix),je(1),Ht("ngIf",t.calc.inPO2),je(2),Ht("ngIf",null==t.nitroxForm.errors?null:t.nitroxForm.errors.lowMod),je(4),Ht("ngIf",!t.nitroxForm.invalid))},dependencies:[Zr,Vc,fa,Ba,Fa,Ra,ja,Ua,ha,wa,pa,ms,Oa]});class t5{}t5.rootUrl="https://github.com/jirkapok/GasPlanner",t5.mainHelpUrl=t5.rootUrl+"/blob/master/doc";class Z0{constructor(){this.appVersion="0.1.17"}}Z0.\u0275fac=function(e){return new(e||Z0)},Z0.\u0275cmp=I2({type:Z0,selectors:[["app-info"]],decls:2,vars:1,consts:[[1,"text-muted"]],template:function(e,t){1&e&&(Pe(0,"span",0),Lt(1),Ge()),2&e&&(je(1),t2("\xa9 2020 JIRI POKORNY, Version ",t.appVersion,""))}});class n5{constructor(){this.exclamation=Eh}get projectUrl(){return t5.rootUrl}}n5.\u0275fac=function(e){return new(e||n5)},n5.\u0275cmp=I2({type:n5,selectors:[["app-about"]],decls:17,vars:2,consts:[[1,"jumbotron","m-4","pt-5"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","mt-4"],[1,"me-2","fa-lg",3,"icon"],[1,"mt-4"],["target","_blank",1,"btn","btn-primary","btn-lg",3,"href"]],template:function(e,t){1&e&&(Pe(0,"div",0)(1,"h1"),Lt(2,"About Gas Planner"),Ge(),Pe(3,"p"),Lt(4,"Open source Scuba diving application to help divers plan their dives."),jn(5,"br"),Lt(6," Plan your dive and dive your plan!"),Ge(),jn(7,"app-info"),Pe(8,"div",1),jn(9,"fa-icon",2),Pe(10,"span")(11,"strong"),Lt(12,"Disclaimer:"),Ge(),Lt(13," None of the authors, contributors, administrators, or anyone else connected with this project can be responsible for your use of the information provided by this application or linked from these web pages. Use the results at your own risk."),Ge()(),Pe(14,"div",3)(15,"a",4),Lt(16,"Github project"),Ge()()()),2&e&&(je(9),Ht("icon",t.exclamation),je(6),Xp("href",t.projectUrl,pc))},dependencies:[pa,Z0]});class ll{calculate(e,t){const r=[],i=new Eu,a=Cs.simple(),o=e.mod(t.maxPpO2);let _=a.fromBar(o);_>42&&(_=42);for(let k=12;k<=_;k+=t.decoStopDistance){const q=i.noDecoLimit(k,e,t);r.push({depth:k,limit:q})}return r}}function Mxe(n,e){1&n&&(Pe(0,"tr")(1,"td",22),Lt(2," No NDL limits found in meaningful depth range."),jn(3,"br"),Lt(4," Change gas O2 content. "),Ge()())}function wxe(n,e){if(1&n&&(Pe(0,"tr")(1,"td"),Lt(2),Ge(),Pe(3,"td"),Lt(4),j2(5,"number"),Ge()()),2&n){const t=e.$implicit;je(2),z1(t.depth),je(2),z1(G2(5,2,t.limit,"1.0-0"))}}ll.\u0275fac=function(e){return new(e||ll)},ll.\u0275prov=On({token:ll,factory:ll.\u0275fac});class r5{constructor(e,t,r,i){this.router=e,this.units=t,this.ndl=r,this.icon=iV,this.iconConfig=d_,this.totalDuration=R2.oneDay,this.isComplex=!1,this.limits=[],this.tank=new YI(new L3(15,200,21),this.units),this.options=new Nu,this.copyOptions(i),this.toxicity=new rl(this.options),this.calculate()}get noResults(){return 0===this.limits.length}calculate(){this.limits=this.ndl.calculate(this.tank.tank.gas,this.options);for(let t=0;t<this.limits.length;t++)this.limits[t].depth=this.units.stopsDistance*(t+4)}ppO2Changed(e){this.options.maxPpO2=e,this.calculate()}salinityChanged(e){this.options.salinity=e,this.calculate()}altitudeChanged(e){this.options.altitude=e,this.calculate()}gradientsChanged(e){this.options.gfLow=e.gfLow,this.options.gfHigh=e.gfHeigh,this.calculate()}goBack(){var e=this;return ch(function*(){return yield e.router.navigateByUrl("/")})()}copyOptions(e){this.options.gfLow=e.gfLow,this.options.gfHigh=e.gfHigh,this.options.salinity=e.salinity,this.options.altitude=e.altitude,this.options.maxPpO2=e.maxPpO2}}r5.\u0275fac=function(e){return new(e||r5)(Tt(Ii),Tt(Lr),Tt(ll),Tt(bs))},r5.\u0275cmp=I2({type:r5,selectors:[["app-ndl-limits"]],decls:39,vars:15,consts:[[1,"row","mt-5"],[1,"col","col-12","col-sm-7","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card","ndl-minheight"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[1,"pt-2","mb-4"],[3,"tank","showBestMix","toxicity","gasChange"],["label","Maximum ppO2:",3,"maxPpO2","ppO2Change"],[3,"salinity","inputChange"],[3,"altitude","inputChange"],[1,"pt-2"],[3,"gfLow","gfHigh","simple","showTitle","inputChange"],[1,"col","col-12","col-sm-5","col-md-5","col-lg-3","col-xxl-2","mt-3"],[1,"table","table-sm","p-0"],[1,"table-light"],[1,"fw-bold","px-1"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["colspan","2"]],template:function(e,t){1&e&&(Pe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),jn(4,"fa-icon",4),Pe(5,"span"),Lt(6,"Options"),Ge()(),Pe(7,"div",5)(8,"div",6)(9,"app-oxygen",7),xn("gasChange",function(){return t.calculate()}),Ge()(),Pe(10,"div",6)(11,"app-pp-o2",8),xn("ppO2Change",function(i){return t.ppO2Changed(i)}),Ge()(),Pe(12,"div",6)(13,"app-salinity",9),xn("inputChange",function(i){return t.salinityChanged(i)}),Ge()(),Pe(14,"div",6)(15,"app-altitude",10),xn("inputChange",function(i){return t.altitudeChanged(i)}),Ge()(),Pe(16,"div",11)(17,"app-gradients",12),xn("inputChange",function(i){return t.gradientsChanged(i)}),Ge()()()()(),Pe(18,"div",13)(19,"div",2)(20,"div",3),jn(21,"fa-icon",4),Pe(22,"span"),Lt(23,"No decompression limits"),Ge()(),Pe(24,"div",5)(25,"table",14)(26,"thead",15)(27,"tr")(28,"th",16),Lt(29),Ge(),Pe(30,"th",16),Lt(31,"Limit [min]"),Ge()()(),Pe(32,"tbody"),kn(33,Mxe,5,0,"tr",17),kn(34,wxe,6,5,"tr",18),Ge()()()()()(),Pe(35,"div",19)(36,"div",20)(37,"button",21),xn("click",function(){return t.goBack()}),Lt(38,"Back"),Ge()()()),2&e&&(je(4),Ht("icon",t.iconConfig),je(5),Ht("tank",t.tank.tank)("showBestMix",!1)("toxicity",t.toxicity),je(2),Ht("maxPpO2",t.options.maxPpO2),je(2),Ht("salinity",t.options.salinity),je(2),Ht("altitude",t.options.altitude),je(2),Ht("gfLow",t.options.gfLow)("gfHigh",t.options.gfHigh)("simple",!1)("showTitle",!0),je(4),Ht("icon",t.icon),je(8),t2("Depth [",t.units.length,"]"),je(4),Ht("ngIf",t.noResults),je(1),Ht("ngForOf",t.limits))},dependencies:[v3,Zr,pa,W0,q0,Y0,$0,G0,Oa],styles:[".ndl-minheight[_ngcontent-%COMP%]{min-height:690px}"]});const Sxe=[{path:"settings",component:Uu},{path:"sac",component:Ju},{path:"nitrox",component:e5},{path:"ndl",component:r5},{path:"about",component:n5},{path:"**",component:Qu}];class X0{}function zxe(n,e){if(1&n){const t=k1();Pe(0,"button",22),xn("click",function(){return s2(t),o2(on().addToHomeScreen())}),Lt(1,"Add to Home screen"),Ge()}}X0.\u0275fac=function(e){return new(e||X0)},X0.\u0275mod=$1({type:X0}),X0.\u0275inj=r1({imports:[EH.forRoot(Sxe),EH]});class a5{constructor(e){this.preferences=e,this.isNavbarCollapsed=!0,this.faBars=jy,this.showInstallButton=!1}get mainHelpUrl(){return t5.mainHelpUrl}onbeforeinstallprompt(e){e.preventDefault(),this.deferredPrompt=e,this.showInstallButton=!0}saveDefaults(){this.preferences.saveDefaults()}loadDefaults(){this.preferences.loadDefaults()}addToHomeScreen(){this.showInstallButton=!1,this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(e=>{this.deferredPrompt=null}))}}a5.\u0275fac=function(e){return new(e||a5)(Tt(wi))},a5.\u0275cmp=I2({type:a5,selectors:[["app-mainmenu"]],hostBindings:function(e,t){1&e&&xn("beforeinstallprompt",function(i){return t.onbeforeinstallprompt(i)},0,If)},decls:38,vars:4,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-primary","fixed-top"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand","ps-3"],["type","button","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"me-3",3,"icon"],["id","navbarSupportedContent","mdbCollapse","",1,"collapse","navbar-collapse"],["basicNavbar","mdbCollapse"],[1,"navbar-nav","mr-auto"],["mdbDropdown","",1,"nav-item","dropdown"],["id","id01","mdbDropdownToggle","",1,"nav-link","dropdown-toggle"],["aria-labelledby","id01","mdbDropdownMenu","",1,"dropdown-menu"],["routerLink","/sac",1,"dropdown-item"],["routerLink","/nitrox",1,"dropdown-item"],["routerLink","/ndl",1,"dropdown-item"],["id","id02","mdbDropdownToggle","",1,"nav-link","dropdown-toggle"],["aria-labelledby","id02","mdbDropdownMenu","",1,"dropdown-menu"],["routerLink","/settings",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["target","_blank",1,"nav-link",3,"href"],["routerLink","/about",1,"nav-link"],[1,"nav","navbar-nav","navbar-right"],["class","btn btn-success btn-small mr-auto",3,"click",4,"ngIf"],[1,"btn","btn-success","btn-small","mr-auto",3,"click"]],template:function(e,t){if(1&e){const r=k1();Pe(0,"nav",0)(1,"div",1)(2,"a",2),Lt(3,"Gas planner"),Ge(),Pe(4,"button",3),xn("click",function(){return s2(r),o2(function HC(n){return so(function re(){return Bn.lFrame.contextLView}(),22+n)}(7).toggle())}),jn(5,"fa-icon",4),Ge(),Pe(6,"div",5,6)(8,"ul",7)(9,"li",8)(10,"a",9),Lt(11,"Calculators"),Ge(),Pe(12,"div",10)(13,"a",11),Lt(14,"RMV/SAC"),Ge(),Pe(15,"a",12),Lt(16,"Nitrox"),Ge(),Pe(17,"a",13),Lt(18,"NDL table"),Ge()()(),Pe(19,"li",8)(20,"a",14),Lt(21,"Settings"),Ge(),Pe(22,"div",15)(23,"a",16),Lt(24,"Edit"),Ge(),Pe(25,"a",17),xn("click",function(){return t.saveDefaults()}),Lt(26,"Save defaults"),Ge(),Pe(27,"a",17),xn("click",function(){return t.loadDefaults()}),Lt(28,"Reload defaults"),Ge()()(),Pe(29,"a",18),Lt(30,"Standard gases"),Ge(),Pe(31,"a",18),Lt(32,"Help/Learn"),Ge(),Pe(33,"a",19),Lt(34,"About"),Ge()(),Pe(35,"ul",20)(36,"li"),kn(37,zxe,2,0,"button",21),Ge()()()()()}2&e&&(je(5),Ht("icon",t.faBars),je(24),v8("href","",t.mainHelpUrl,"/standard_gases.md",pc),je(2),v8("href","",t.mainHelpUrl,"/help.md",pc),je(6),Ht("ngIf",t.showInstallButton))},dependencies:[Zr,pa,oh,JZ,w4,w3,S3]});class s5{}s5.\u0275fac=function(e){return new(e||s5)},s5.\u0275cmp=I2({type:s5,selectors:[["app-footer"]],decls:4,vars:0,consts:[[1,"mt-5"],[1,"page-footer","font-small","bg-light","fixed-bottom","d-none","d-lg-block"],[1,"footer-copyright","text-center","py-2"]],template:function(e,t){1&e&&(jn(0,"div",0),Pe(1,"footer",1)(2,"div",2),jn(3,"app-info"),Ge()())},dependencies:[Z0]});class o5{constructor(){}}o5.\u0275fac=function(e){return new(e||o5)},o5.\u0275cmp=I2({type:o5,selectors:[["app-root"]],decls:3,vars:0,template:function(e,t){1&e&&jn(0,"app-mainmenu")(1,"router-outlet")(2,"app-footer")},dependencies:[fy,a5,s5]});class F_{constructor(e){this.worker=e,this.onCalculated=new j,this.onFailed=new j,this.calculated$=this.onCalculated.asObservable(),this.failed$=this.onFailed.asObservable(),this.worker.addEventListener("message",t=>this.processMessage(t)),this.worker.addEventListener("error",()=>this.onFailed.next())}calculate(e){this.worker.postMessage(e)}processMessage(e){this.onCalculated.next(e.data)}}const Hxe=[XM,k$,rY,ZZ,X0],Dxe=[eX,sK,oK,wK];class K0{}K0.\u0275fac=function(e){return new(e||K0)},K0.\u0275mod=$1({type:K0,bootstrap:[o5]}),K0.\u0275inj=r1({providers:[{provide:Fy,useClass:class Lxe extends Fy{createProfileWorker(){const e=new Worker(pe.tu(new URL(pe.p+pe.u(481),pe.b)));return new F_(e)}createDiveInfoWorker(){const e=new Worker(pe.tu(new URL(pe.p+pe.u(39),pe.b)));return new F_(e)}createConsumptionWorker(){const e=new Worker(pe.tu(new URL(pe.p+pe.u(626),pe.b)));return new F_(e)}}},gr,wi,Lr,H4,bs,Ao,ol,cl,nl,H3,ll,Fi,Ri,eg,Oa],imports:[Hxe,Dxe,QZ,eW.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]}),gG().bootstrapModule(K0).catch(n=>console.error(n))},489:function(Ha,v,pe){var J;Ha=pe.nmd(Ha),function(){var s,l="Expected a function",d="__lodash_hash_undefined__",u="__lodash_placeholder__",D=32,P=128,oe=1/0,Ce=9007199254740991,Q=NaN,le=4294967295,se=[["ary",P],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",D],["partialRight",64],["rearg",256]],ee="[object Arguments]",F="[object Array]",Y="[object Boolean]",B="[object Date]",ue="[object Error]",fe="[object Function]",he="[object GeneratorFunction]",xe="[object Map]",be="[object Number]",Ae="[object Object]",Oe="[object Promise]",tt="[object RegExp]",Ke="[object Set]",$e="[object String]",Me="[object Symbol]",Se="[object WeakMap]",qe="[object ArrayBuffer]",Ee="[object DataView]",Ie="[object Float32Array]",Qe="[object Float64Array]",nt="[object Int8Array]",Ye="[object Int16Array]",rt="[object Int32Array]",dt="[object Uint8Array]",Xe="[object Uint8ClampedArray]",mt="[object Uint16Array]",_t="[object Uint32Array]",yt=/\b__p \+= '';/g,Ot=/\b(__p \+=) '' \+/g,bt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Fe=/&(?:amp|lt|gt|quot|#39);/g,Ue=/[&<>"']/g,gt=RegExp(Fe.source),Pt=RegExp(Ue.source),Qt=/<%-([\s\S]+?)%>/g,en=/<%([\s\S]+?)%>/g,Xt=/<%=([\s\S]+?)%>/g,Wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nt=/^\w*$/,ge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_e=/[\\^$.*+?()[\]{}|]/g,We=RegExp(_e.source),Je=/^\s+/,ft=/\s/,st=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,et=/\{\n\/\* \[wrapped with (.+)\] \*/,ut=/,? & /,xt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,kt=/[()=,{}\[\]\/\s]/,Bt=/\\(\\)?/g,rn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dt=/\w*$/,$t=/^[-+]0x[0-9a-f]+$/i,fn=/^0b[01]+$/i,At=/^\[object .+?Constructor\]$/,Mt=/^0o[0-7]+$/i,an=/^(?:0|[1-9]\d*)$/,Kt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ut=/($^)/,Jt=/['\n\r\u2028\u2029\\]/g,Ft="\\ud800-\\udfff",Ln="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",$n="\\u2700-\\u27bf",Dn="a-z\\xdf-\\xf6\\xf8-\\xff",cn="A-Z\\xc0-\\xd6\\xd8-\\xde",Pn="\\ufe0e\\ufe0f",Vn="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n2="["+Ft+"]",h2="["+Vn+"]",g2="["+Ln+"]",u2="\\d+",qt="["+$n+"]",Wn="["+Dn+"]",Fn="[^"+Ft+Vn+u2+$n+Dn+cn+"]",e2="\\ud83c[\\udffb-\\udfff]",b2="[^"+Ft+"]",f2="(?:\\ud83c[\\udde6-\\uddff]){2}",In="[\\ud800-\\udbff][\\udc00-\\udfff]",d2="["+cn+"]",Qn="(?:"+Wn+"|"+Fn+")",Rn="(?:"+d2+"|"+Fn+")",mn="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",M2="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",x1="(?:"+g2+"|"+e2+")?",Q2="["+Pn+"]?",M1=Q2+x1+"(?:\\u200d(?:"+[b2,f2,In].join("|")+")"+Q2+x1+")*",T1="(?:"+[qt,f2,In].join("|")+")"+M1,B2="(?:"+[b2+g2+"?",g2,f2,In,n2].join("|")+")",U2=RegExp("['\u2019]","g"),Dr=RegExp(g2,"g"),Qr=RegExp(e2+"(?="+e2+")|"+B2+M1,"g"),Li=RegExp([d2+"?"+Wn+"+"+mn+"(?="+[h2,d2,"$"].join("|")+")",Rn+"+"+M2+"(?="+[h2,d2+Qn,"$"].join("|")+")",d2+"?"+Qn+"+"+mn,d2+"+"+M2,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",u2,T1].join("|"),"g"),On=RegExp("[\\u200d"+Ft+Ln+Pn+"]"),O1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,r1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ir=-1,e1={};e1[Ie]=e1[Qe]=e1[nt]=e1[Ye]=e1[rt]=e1[dt]=e1[Xe]=e1[mt]=e1[_t]=!0,e1[ee]=e1[F]=e1[qe]=e1[Y]=e1[Ee]=e1[B]=e1[ue]=e1[fe]=e1[xe]=e1[be]=e1[Ae]=e1[tt]=e1[Ke]=e1[$e]=e1[Se]=!1;var U1={};U1[ee]=U1[F]=U1[qe]=U1[Ee]=U1[Y]=U1[B]=U1[Ie]=U1[Qe]=U1[nt]=U1[Ye]=U1[rt]=U1[xe]=U1[be]=U1[Ae]=U1[tt]=U1[Ke]=U1[$e]=U1[Me]=U1[dt]=U1[Xe]=U1[mt]=U1[_t]=!0,U1[ue]=U1[fe]=U1[Se]=!1;var ws={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qs=parseFloat,D3=parseInt,Po="object"==typeof global&&global&&global.Object===Object&&global,w2="object"==typeof self&&self&&self.Object===Object&&self,Y1=Po||w2||Function("return this")(),T4=v&&!v.nodeType&&v,Tr=T4&&Ha&&!Ha.nodeType&&Ha,V4=Tr&&Tr.exports===T4,Io=V4&&Po.process,f1=function(){try{return Tr&&Tr.require&&Tr.require("util").types||Io&&Io.binding&&Io.binding("util")}catch{}}(),Q0=f1&&f1.isArrayBuffer,Oo=f1&&f1.isDate,J0=f1&&f1.isMap,Xa=f1&&f1.isRegExp,Fo=f1&&f1.isSet,Hi=f1&&f1.isTypedArray;function si(jt,dn,un){switch(un.length){case 0:return jt.call(dn);case 1:return jt.call(dn,un[0]);case 2:return jt.call(dn,un[0],un[1]);case 3:return jt.call(dn,un[0],un[1],un[2])}return jt.apply(dn,un)}function k4(jt,dn,un,Jn){for(var S2=-1,p1=null==jt?0:jt.length;++S2<p1;){var ar=jt[S2];dn(Jn,ar,un(ar),jt)}return Jn}function oi(jt,dn){for(var un=-1,Jn=null==jt?0:jt.length;++un<Jn&&!1!==dn(jt[un],un,jt););return jt}function Ka(jt,dn){for(var un=null==jt?0:jt.length;un--&&!1!==dn(jt[un],un,jt););return jt}function Da(jt,dn){for(var un=-1,Jn=null==jt?0:jt.length;++un<Jn;)if(!dn(jt[un],un,jt))return!1;return!0}function ci(jt,dn){for(var un=-1,Jn=null==jt?0:jt.length,S2=0,p1=[];++un<Jn;){var ar=jt[un];dn(ar,un,jt)&&(p1[S2++]=ar)}return p1}function T3(jt,dn){return!(null==jt||!jt.length)&&Js(jt,dn,0)>-1}function gn(jt,dn,un){for(var Jn=-1,S2=null==jt?0:jt.length;++Jn<S2;)if(un(dn,jt[Jn]))return!0;return!1}function G1(jt,dn){for(var un=-1,Jn=null==jt?0:jt.length,S2=Array(Jn);++un<Jn;)S2[un]=dn(jt[un],un,jt);return S2}function q2(jt,dn){for(var un=-1,Jn=dn.length,S2=jt.length;++un<Jn;)jt[S2+un]=dn[un];return jt}function Ss(jt,dn,un,Jn){var S2=-1,p1=null==jt?0:jt.length;for(Jn&&p1&&(un=jt[++S2]);++S2<p1;)un=dn(un,jt[S2],S2,jt);return un}function A4(jt,dn,un,Jn){var S2=null==jt?0:jt.length;for(Jn&&S2&&(un=jt[--S2]);S2--;)un=dn(un,jt[S2],S2,jt);return un}function zs(jt,dn){for(var un=-1,Jn=null==jt?0:jt.length;++un<Jn;)if(dn(jt[un],un,jt))return!0;return!1}var e6=H1("length");function Ta(jt,dn,un){var Jn;return un(jt,function(S2,p1,ar){if(dn(S2,p1,ar))return Jn=p1,!1}),Jn}function li(jt,dn,un,Jn){for(var S2=jt.length,p1=un+(Jn?1:-1);Jn?p1--:++p1<S2;)if(dn(jt[p1],p1,jt))return p1;return-1}function Js(jt,dn,un){return dn==dn?function ta(jt,dn,un){for(var Jn=un-1,S2=jt.length;++Jn<S2;)if(jt[Jn]===dn)return Jn;return-1}(jt,dn,un):li(jt,Di,un)}function r6(jt,dn,un,Jn){for(var S2=un-1,p1=jt.length;++S2<p1;)if(Jn(jt[S2],dn))return S2;return-1}function Di(jt){return jt!=jt}function Qi(jt,dn){var un=null==jt?0:jt.length;return un?V3(jt,dn)/un:Q}function H1(jt){return function(dn){return null==dn?s:dn[jt]}}function Ji(jt){return function(dn){return null==jt?s:jt[dn]}}function Ro(jt,dn,un,Jn,S2){return S2(jt,function(p1,ar,z2){un=Jn?(Jn=!1,p1):dn(un,p1,ar,z2)}),un}function V3(jt,dn){for(var un,Jn=-1,S2=jt.length;++Jn<S2;){var p1=dn(jt[Jn]);p1!==s&&(un=un===s?p1:un+p1)}return un}function ea(jt,dn){for(var un=-1,Jn=Array(jt);++un<jt;)Jn[un]=dn(un);return Jn}function pl(jt){return jt&&jt.slice(0,er(jt)+1).replace(Je,"")}function I2(jt){return function(dn){return jt(dn)}}function E4(jt,dn){return G1(dn,function(un){return jt[un]})}function to(jt,dn){return jt.has(dn)}function P4(jt,dn){for(var un=-1,Jn=jt.length;++un<Jn&&Js(dn,jt[un],0)>-1;);return un}function $1(jt,dn){for(var un=jt.length;un--&&Js(dn,jt[un],0)>-1;);return un}function i6(jt,dn){for(var un=jt.length,Jn=0;un--;)jt[un]===dn&&++Jn;return Jn}var no=Ji({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),p2=Ji({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function W1(jt){return"\\"+ws[jt]}function ir(jt){return On.test(jt)}function Ur(jt){var dn=-1,un=Array(jt.size);return jt.forEach(function(Jn,S2){un[++dn]=[S2,Jn]}),un}function ga(jt,dn){return function(un){return jt(dn(un))}}function Xn(jt,dn){for(var un=-1,Jn=jt.length,S2=0,p1=[];++un<Jn;){var ar=jt[un];(ar===dn||ar===u)&&(jt[un]=u,p1[S2++]=un)}return p1}function Y2(jt){var dn=-1,un=Array(jt.size);return jt.forEach(function(Jn){un[++dn]=Jn}),un}function Z1(jt){return ir(jt)?function A3(jt){for(var dn=Qr.lastIndex=0;Qr.test(jt);)++dn;return dn}(jt):e6(jt)}function jr(jt){return ir(jt)?function a1(jt){return jt.match(Qr)||[]}(jt):function t6(jt){return jt.split("")}(jt)}function er(jt){for(var dn=jt.length;dn--&&ft.test(jt.charAt(dn)););return dn}var k3=Ji({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ls=function jt(dn){var f,un=(dn=null==dn?Y1:Ls.defaults(Y1.Object(),dn,Ls.pick(Y1,r1))).Array,Jn=dn.Date,S2=dn.Error,p1=dn.Function,ar=dn.Math,z2=dn.Object,N3=dn.RegExp,O4=dn.String,Ti=dn.TypeError,ka=un.prototype,ui=z2.prototype,sr=dn["__core-js_shared__"],F4=p1.prototype.toString,X2=ui.hasOwnProperty,Bi=0,E3=(f=/[^.]+$/.exec(sr&&sr.keys&&sr.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",Qa=ui.toString,jo=F4.call(z2),Ui=Y1._,R4=N3("^"+F4.call(X2).replace(_e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Go=V4?dn.Buffer:s,Ja=dn.Symbol,Hs=dn.Uint8Array,a6=Go?Go.allocUnsafe:s,B4=ga(z2.getPrototypeOf,z2),s6=z2.create,o6=ui.propertyIsEnumerable,U4=ka.splice,P3=Ja?Ja.isConcatSpreadable:s,I3=Ja?Ja.iterator:s,io=Ja?Ja.toStringTag:s,O3=function(){try{var f=vo(z2,"defineProperty");return f({},"",{}),f}catch{}}(),c6=dn.clearTimeout!==Y1.clearTimeout&&dn.clearTimeout,l5=Jn&&Jn.now!==Y1.Date.now&&Jn.now,j4=dn.setTimeout!==Y1.setTimeout&&dn.setTimeout,es=ar.ceil,ao=ar.floor,G4=z2.getOwnPropertySymbols,ml=Go?Go.isBuffer:s,na=dn.isFinite,ts=ka.join,$4=ga(z2.keys,z2),_1=ar.max,vr=ar.min,W4=Jn.now,gl=dn.parseInt,fi=ar.random,q4=ka.reverse,F3=vo(dn,"DataView"),di=vo(dn,"Map"),$o=vo(dn,"Promise"),Mr=vo(dn,"Set"),Ds=vo(dn,"WeakMap"),Ts=vo(z2,"create"),or=Ds&&new Ds,Vs={},R3=r3(F3),hi=r3(di),l6=r3($o),vl=r3(Mr),so=r3(Ds),Or=Ja?Ja.prototype:s,oo=Or?Or.valueOf:s,ns=Or?Or.toString:s;function Ze(f){if(lr(f)&&!n1(f)&&!(f instanceof Bn)){if(f instanceof Vr)return f;if(X2.call(f,"__wrapped__"))return R5(f)}return new Vr(f)}var Gr=function(){function f(){}return function(x){if(!R1(x))return{};if(s6)return s6(x);f.prototype=x;var K=new f;return f.prototype=s,K}}();function co(){}function Vr(f,x){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!x,this.__index__=0,this.__values__=s}function Bn(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function Aa(f){var x=-1,K=null==f?0:f.length;for(this.clear();++x<K;){var we=f[x];this.set(we[0],we[1])}}function t1(f){var x=-1,K=null==f?0:f.length;for(this.clear();++x<K;){var we=f[x];this.set(we[0],we[1])}}function y(f){var x=-1,K=null==f?0:f.length;for(this.clear();++x<K;){var we=f[x];this.set(we[0],we[1])}}function ye(f){var x=-1,K=null==f?0:f.length;for(this.__data__=new y;++x<K;)this.add(f[x])}function De(f){var x=this.__data__=new t1(f);this.size=x.size}function ht(f,x){var K=n1(f),we=!K&&s3(f),ke=!K&&!we&&_o(f),it=!K&&!we&&!ke&&n4(f),St=K||we||ke||it,Et=St?ea(f.length,O4):[],Yt=Et.length;for(var Cn in f)(x||X2.call(f,Cn))&&(!St||!("length"==Cn||ke&&("offset"==Cn||"parent"==Cn)||it&&("buffer"==Cn||"byteLength"==Cn||"byteOffset"==Cn)||Ps(Cn,Yt)))&&Et.push(Cn);return Et}function Ct(f){var x=f.length;return x?f[G3(0,x-1)]:s}function lt(f,x){return yo(Gi(f),_2(x,0,f.length))}function Rt(f){return yo(Gi(f))}function zt(f,x,K){(K!==s&&!Ca(f[x],K)||K===s&&!(x in f))&&Un(f,x,K)}function pt(f,x,K){var we=f[x];(!X2.call(f,x)||!Ca(we,K)||K===s&&!(x in f))&&Un(f,x,K)}function nn(f,x){for(var K=f.length;K--;)if(Ca(f[K][0],x))return K;return-1}function sn(f,x,K,we){return Yn(f,function(ke,it,St){x(we,ke,K(ke),St)}),we}function zn(f,x){return f&&Ns(x,Wr(x),f)}function Un(f,x,K){"__proto__"==x&&O3?O3(f,x,{configurable:!0,enumerable:!0,value:K,writable:!0}):f[x]=K}function qn(f,x){for(var K=-1,we=x.length,ke=un(we),it=null==f;++K<we;)ke[K]=it?s:Xl(f,x[K]);return ke}function _2(f,x,K){return f==f&&(K!==s&&(f=f<=K?f:K),x!==s&&(f=f>=x?f:x)),f}function Gn(f,x,K,we,ke,it){var St,Et=1&x,Yt=2&x,Cn=4&x;if(K&&(St=ke?K(f,we,ke,it):K(f)),St!==s)return St;if(!R1(f))return f;var Sn=n1(f);if(Sn){if(St=function q_(f){var x=f.length,K=new f.constructor(x);return x&&"string"==typeof f[0]&&X2.call(f,"index")&&(K.index=f.index,K.input=f.input),K}(f),!Et)return Gi(f,St)}else{var An=$r(f),Zn=An==fe||An==he;if(_o(f))return jh(f,Et);if(An==Ae||An==ee||Zn&&!ke){if(St=Yt||Zn?{}:Kh(f),!Et)return Yt?function j_(f,x){return Ns(f,k5(f),x)}(f,function Tn(f,x){return f&&Ns(x,Wi(x),f)}(St,f)):function $h(f,x){return Ns(f,M6(f),x)}(f,zn(St,f))}else{if(!U1[An])return ke?f:{};St=function Y_(f,x,K){var we=f.constructor;switch(x){case qe:return Sr(f);case Y:case B:return new we(+f);case Ee:return function _6(f,x){var K=x?Sr(f.buffer):f.buffer;return new f.constructor(K,f.byteOffset,f.byteLength)}(f,K);case Ie:case Qe:case nt:case Ye:case rt:case dt:case Xe:case mt:case _t:return aa(f,K);case xe:return new we;case be:case $e:return new we(f);case tt:return function ec(f){var x=new f.constructor(f.source,Dt.exec(f));return x.lastIndex=f.lastIndex,x}(f);case Ke:return new we;case Me:return function Gh(f){return oo?z2(oo.call(f)):{}}(f)}}(f,An,Et)}}it||(it=new De);var m2=it.get(f);if(m2)return m2;it.set(f,St),Nf(f)?f.forEach(function(V2){St.add(Gn(V2,x,K,V2,f,it))}):Yl(f)&&f.forEach(function(V2,w1){St.set(w1,Gn(V2,x,K,w1,f,it))});var d1=Sn?s:(Cn?Yt?b6:C6:Yt?Wi:Wr)(f);return oi(d1||f,function(V2,w1){d1&&(V2=f[w1=V2]),pt(St,w1,Gn(V2,x,K,w1,f,it))}),St}function C1(f,x,K){var we=K.length;if(null==f)return!we;for(f=z2(f);we--;){var ke=K[we],St=f[ke];if(St===s&&!(ke in f)||!(0,x[ke])(St))return!1}return!0}function F2(f,x,K){if("function"!=typeof f)throw new Ti(l);return n3(function(){f.apply(s,K)},x)}function bn(f,x,K,we){var ke=-1,it=T3,St=!0,Et=f.length,Yt=[],Cn=x.length;if(!Et)return Yt;K&&(x=G1(x,I2(K))),we?(it=gn,St=!1):x.length>=200&&(it=to,St=!1,x=new ye(x));e:for(;++ke<Et;){var Sn=f[ke],An=null==K?Sn:K(Sn);if(Sn=we||0!==Sn?Sn:0,St&&An==An){for(var Zn=Cn;Zn--;)if(x[Zn]===An)continue e;Yt.push(Sn)}else it(x,An,we)||Yt.push(Sn)}return Yt}Ze.templateSettings={escape:Qt,evaluate:en,interpolate:Xt,variable:"",imports:{_:Ze}},(Ze.prototype=co.prototype).constructor=Ze,(Vr.prototype=Gr(co.prototype)).constructor=Vr,(Bn.prototype=Gr(co.prototype)).constructor=Bn,Aa.prototype.clear=function u6(){this.__data__=Ts?Ts(null):{},this.size=0},Aa.prototype.delete=function B3(f){var x=this.has(f)&&delete this.__data__[f];return this.size-=x?1:0,x},Aa.prototype.get=function U3(f){var x=this.__data__;if(Ts){var K=x[f];return K===d?s:K}return X2.call(x,f)?x[f]:s},Aa.prototype.has=function _l(f){var x=this.__data__;return Ts?x[f]!==s:X2.call(x,f)},Aa.prototype.set=function Hn(f,x){var K=this.__data__;return this.size+=this.has(f)?0:1,K[f]=Ts&&x===s?d:x,this},t1.prototype.clear=function s2(){this.__data__=[],this.size=0},t1.prototype.delete=function o2(f){var x=this.__data__,K=nn(x,f);return!(K<0||(K==x.length-1?x.pop():U4.call(x,K,1),--this.size,0))},t1.prototype.get=function wr(f){var x=this.__data__,K=nn(x,f);return K<0?s:x[K][1]},t1.prototype.has=function Cl(f){return nn(this.__data__,f)>-1},t1.prototype.set=function qo(f,x){var K=this.__data__,we=nn(K,f);return we<0?(++this.size,K.push([f,x])):K[we][1]=x,this},y.prototype.clear=function T(){this.size=0,this.__data__={hash:new Aa,map:new(di||t1),string:new Aa}},y.prototype.delete=function U(f){var x=oc(this,f).delete(f);return this.size-=x?1:0,x},y.prototype.get=function re(f){return oc(this,f).get(f)},y.prototype.has=function ce(f){return oc(this,f).has(f)},y.prototype.set=function me(f,x){var K=oc(this,f),we=K.size;return K.set(f,x),this.size+=K.size==we?0:1,this},ye.prototype.add=ye.prototype.push=function He(f){return this.__data__.set(f,d),this},ye.prototype.has=function Le(f){return this.__data__.has(f)},De.prototype.clear=function Ne(){this.__data__=new t1,this.size=0},De.prototype.delete=function at(f){var x=this.__data__,K=x.delete(f);return this.size=x.size,K},De.prototype.get=function ot(f){return this.__data__.get(f)},De.prototype.has=function vt(f){return this.__data__.has(f)},De.prototype.set=function Vt(f,x){var K=this.__data__;if(K instanceof t1){var we=K.__data__;if(!di||we.length<199)return we.push([f,x]),this.size=++K.size,this;K=this.__data__=new y(we)}return K.set(f,x),this.size=K.size,this};var Yn=Ko(nr),N2=Ko(kr,!0);function L2(f,x){var K=!0;return Yn(f,function(we,ke,it){return K=!!x(we,ke,it)}),K}function s1(f,x,K){for(var we=-1,ke=f.length;++we<ke;){var it=f[we],St=x(it);if(null!=St&&(Et===s?St==St&&!ba(St):K(St,Et)))var Et=St,Yt=it}return Yt}function V1(f,x){var K=[];return Yn(f,function(we,ke,it){x(we,ke,it)&&K.push(we)}),K}function o1(f,x,K,we,ke){var it=-1,St=f.length;for(K||(K=X_),ke||(ke=[]);++it<St;){var Et=f[it];x>0&&K(Et)?x>1?o1(Et,x-1,K,we,ke):q2(ke,Et):we||(ke[ke.length]=Et)}return ke}var tr=Wh(),_r=Wh(!0);function nr(f,x){return f&&tr(f,x,Wr)}function kr(f,x){return f&&_r(f,x,Wr)}function X1(f,x){return ci(x,function(K){return Fs(f[K])})}function Cr(f,x){for(var K=0,we=(x=Xo(x,f)).length;null!=f&&K<we;)f=f[Ea(x[K++])];return K&&K==we?f:s}function rs(f,x,K){var we=x(f);return n1(f)?we:q2(we,K(f))}function F1(f){return null==f?f===s?"[object Undefined]":"[object Null]":io&&io in z2(f)?function G_(f){var x=X2.call(f,io),K=f[io];try{f[io]=s;var we=!0}catch{}var ke=Qa.call(f);return we&&(x?f[io]=K:delete f[io]),ke}(f):function Jh(f){return Qa.call(f)}(f)}function cr(f,x){return f>x}function ji(f,x){return null!=f&&X2.call(f,x)}function Na(f,x){return null!=f&&x in z2(f)}function ks(f,x,K){for(var we=K?gn:T3,ke=f[0].length,it=f.length,St=it,Et=un(it),Yt=1/0,Cn=[];St--;){var Sn=f[St];St&&x&&(Sn=G1(Sn,I2(x))),Yt=vr(Sn.length,Yt),Et[St]=!K&&(x||ke>=120&&Sn.length>=120)?new ye(St&&Sn):s}Sn=f[0];var An=-1,Zn=Et[0];e:for(;++An<ke&&Cn.length<Yt;){var m2=Sn[An],D2=x?x(m2):m2;if(m2=K||0!==m2?m2:0,!(Zn?to(Zn,D2):we(Cn,D2,K))){for(St=it;--St;){var d1=Et[St];if(!(d1?to(d1,D2):we(f[St],D2,K)))continue e}Zn&&Zn.push(D2),Cn.push(m2)}}return Cn}function pi(f,x,K){var we=null==(f=S6(f,x=Xo(x,f)))?f:f[Ea(_a(x))];return null==we?s:si(we,f,K)}function uo(f){return lr(f)&&F1(f)==ee}function j3(f,x,K,we,ke){return f===x||(null==f||null==x||!lr(f)&&!lr(x)?f!=f&&x!=x:function u5(f,x,K,we,ke,it){var St=n1(f),Et=n1(x),Yt=St?F:$r(f),Cn=Et?F:$r(x),Sn=(Yt=Yt==ee?Ae:Yt)==Ae,An=(Cn=Cn==ee?Ae:Cn)==Ae,Zn=Yt==Cn;if(Zn&&_o(f)){if(!_o(x))return!1;St=!0,Sn=!1}if(Zn&&!Sn)return it||(it=new De),St||n4(f)?Zh(f,x,K,we,ke,it):function T5(f,x,K,we,ke,it,St){switch(K){case Ee:if(f.byteLength!=x.byteLength||f.byteOffset!=x.byteOffset)return!1;f=f.buffer,x=x.buffer;case qe:return!(f.byteLength!=x.byteLength||!it(new Hs(f),new Hs(x)));case Y:case B:case be:return Ca(+f,+x);case ue:return f.name==x.name&&f.message==x.message;case tt:case $e:return f==x+"";case xe:var Et=Ur;case Ke:if(Et||(Et=Y2),f.size!=x.size&&!(1&we))return!1;var Cn=St.get(f);if(Cn)return Cn==x;we|=2,St.set(f,x);var Sn=Zh(Et(f),Et(x),we,ke,it,St);return St.delete(f),Sn;case Me:if(oo)return oo.call(f)==oo.call(x)}return!1}(f,x,Yt,K,we,ke,it);if(!(1&K)){var m2=Sn&&X2.call(f,"__wrapped__"),D2=An&&X2.call(x,"__wrapped__");if(m2||D2){var d1=m2?f.value():f,V2=D2?x.value():x;return it||(it=new De),ke(d1,V2,K,we,it)}}return!!Zn&&(it||(it=new De),function Xh(f,x,K,we,ke,it){var St=1&K,Et=C6(f),Yt=Et.length;if(Yt!=C6(x).length&&!St)return!1;for(var An=Yt;An--;){var Zn=Et[An];if(!(St?Zn in x:X2.call(x,Zn)))return!1}var m2=it.get(f),D2=it.get(x);if(m2&&D2)return m2==x&&D2==f;var d1=!0;it.set(f,x),it.set(x,f);for(var V2=St;++An<Yt;){var w1=f[Zn=Et[An]],S1=x[Zn];if(we)var qi=St?we(S1,w1,Zn,x,f,it):we(w1,S1,Zn,f,x,it);if(!(qi===s?w1===S1||ke(w1,S1,K,we,it):qi)){d1=!1;break}V2||(V2="constructor"==Zn)}if(d1&&!V2){var _i=f.constructor,Yi=x.constructor;_i!=Yi&&"constructor"in f&&"constructor"in x&&!("function"==typeof _i&&_i instanceof _i&&"function"==typeof Yi&&Yi instanceof Yi)&&(d1=!1)}return it.delete(f),it.delete(x),d1}(f,x,K,we,ke,it))}(f,x,K,we,j3,ke))}function f6(f,x,K,we){var ke=K.length,it=ke,St=!we;if(null==f)return!it;for(f=z2(f);ke--;){var Et=K[ke];if(St&&Et[2]?Et[1]!==f[Et[0]]:!(Et[0]in f))return!1}for(;++ke<it;){var Yt=(Et=K[ke])[0],Cn=f[Yt],Sn=Et[1];if(St&&Et[2]){if(Cn===s&&!(Yt in f))return!1}else{var An=new De;if(we)var Zn=we(Cn,Sn,Yt,f,x,An);if(!(Zn===s?j3(Sn,Cn,3,we,An):Zn))return!1}}return!0}function X4(f){return!(!R1(f)||function N5(f){return!!E3&&E3 in f}(f))&&(Fs(f)?R4:At).test(r3(f))}function h6(f){return"function"==typeof f?f:null==f?Ni:"object"==typeof f?n1(f)?wl(f[0],f[1]):K4(f):o8(f)}function Ml(f){if(!lc(f))return $4(f);var x=[];for(var K in z2(f))X2.call(f,K)&&"constructor"!=K&&x.push(K);return x}function va(f,x){return f<x}function f5(f,x){var K=-1,we=vi(f)?un(f.length):[];return Yn(f,function(ke,it,St){we[++K]=x(ke,it,St)}),we}function K4(f){var x=V5(f);return 1==x.length&&x[0][2]?P5(x[0][0],x[0][1]):function(K){return K===f||f6(K,f,x)}}function wl(f,x){return cc(f)&&E5(x)?P5(Ea(f),x):function(K){var we=Xl(K,f);return we===s&&we===x?Kl(K,f):j3(x,we,3)}}function Q4(f,x,K,we,ke){f!==x&&tr(x,function(it,St){if(ke||(ke=new De),R1(it))!function p6(f,x,K,we,ke,it,St){var Et=z6(f,K),Yt=z6(x,K),Cn=St.get(Yt);if(Cn)zt(f,K,Cn);else{var Sn=it?it(Et,Yt,K+"",f,x,St):s,An=Sn===s;if(An){var Zn=n1(Yt),m2=!Zn&&_o(Yt),D2=!Zn&&!m2&&n4(Yt);Sn=Yt,Zn||m2||D2?n1(Et)?Sn=Et:Ar(Et)?Sn=Gi(Et):m2?(An=!1,Sn=jh(Yt,!0)):D2?(An=!1,Sn=aa(Yt,!0)):Sn=[]:l3(Yt)||s3(Yt)?(Sn=Et,s3(Et)?Sn=Pf(Et):(!R1(Et)||Fs(Et))&&(Sn=Kh(Yt))):An=!1}An&&(St.set(Yt,Sn),ke(Sn,Yt,we,it,St),St.delete(Yt)),zt(f,K,Sn)}}(f,x,St,K,Q4,we,ke);else{var Et=we?we(z6(f,St),it,St+"",f,x,ke):s;Et===s&&(Et=it),zt(f,St,Et)}},Wi)}function Sl(f,x){var K=f.length;if(K)return Ps(x+=x<0?K:0,K)?f[x]:s}function d5(f,x,K){x=x.length?G1(x,function(it){return n1(it)?function(St){return Cr(St,1===it.length?it[0]:it)}:it}):[Ni];var we=-1;return x=G1(x,I2(E2())),function N4(jt,dn){var un=jt.length;for(jt.sort(dn);un--;)jt[un]=jt[un].value;return jt}(f5(f,function(it,St,Et){return{criteria:G1(x,function(Cn){return Cn(it)}),index:++we,value:it}}),function(it,St){return function x5(f,x,K){for(var we=-1,ke=f.criteria,it=x.criteria,St=ke.length,Et=K.length;++we<St;){var Yt=ho(ke[we],it[we]);if(Yt)return we>=Et?Yt:Yt*("desc"==K[we]?-1:1)}return f.index-x.index}(it,St,K)})}function m6(f,x,K){for(var we=-1,ke=x.length,it={};++we<ke;){var St=x[we],Et=Cr(f,St);K(Et,St)&&J4(it,Xo(St,f),Et)}return it}function zl(f,x,K,we){var ke=we?r6:Js,it=-1,St=x.length,Et=f;for(f===x&&(x=Gi(x)),K&&(Et=G1(f,I2(K)));++it<St;)for(var Yt=0,Cn=x[it],Sn=K?K(Cn):Cn;(Yt=ke(Et,Sn,Yt,we))>-1;)Et!==f&&U4.call(Et,Yt,1),U4.call(f,Yt,1);return f}function m5(f,x){for(var K=f?x.length:0,we=K-1;K--;){var ke=x[K];if(K==we||ke!==it){var it=ke;Ps(ke)?U4.call(f,ke,1):v5(f,ke)}}return f}function G3(f,x){return f+ao(fi()*(x-f+1))}function g6(f,x){var K="";if(!f||x<1||x>Ce)return K;do{x%2&&(K+=f),(x=ao(x/2))&&(f+=f)}while(x);return K}function u1(f,x){return Tl(O5(f,x,Ni),f+"")}function g5(f){return Ct(u3(f))}function $3(f,x){var K=u3(f);return yo(K,_2(x,0,K.length))}function J4(f,x,K,we){if(!R1(f))return f;for(var ke=-1,it=(x=Xo(x,f)).length,St=it-1,Et=f;null!=Et&&++ke<it;){var Yt=Ea(x[ke]),Cn=K;if("__proto__"===Yt||"constructor"===Yt||"prototype"===Yt)return f;if(ke!=St){var Sn=Et[Yt];(Cn=we?we(Sn,Yt,Et):s)===s&&(Cn=R1(Sn)?Sn:Ps(x[ke+1])?[]:{})}pt(Et,Yt,Cn),Et=Et[Yt]}return f}var Fr=or?function(f,x){return or.set(f,x),f}:Ni,v6=O3?function(f,x){return O3(f,"toString",{configurable:!0,enumerable:!1,value:Zf(x),writable:!0})}:Ni;function Fh(f){return yo(u3(f))}function ra(f,x,K){var we=-1,ke=f.length;x<0&&(x=-x>ke?0:ke+x),(K=K>ke?ke:K)<0&&(K+=ke),ke=x>K?0:K-x>>>0,x>>>=0;for(var it=un(ke);++we<ke;)it[we]=f[we+x];return it}function Ll(f,x){var K;return Yn(f,function(we,ke,it){return!(K=x(we,ke,it))}),!!K}function As(f,x,K){var we=0,ke=null==f?we:f.length;if("number"==typeof x&&x==x&&ke<=2147483647){for(;we<ke;){var it=we+ke>>>1,St=f[it];null!==St&&!ba(St)&&(K?St<=x:St<x)?we=it+1:ke=it}return ke}return fo(f,x,Ni,K)}function fo(f,x,K,we){var ke=0,it=null==f?0:f.length;if(0===it)return 0;for(var St=(x=K(x))!=x,Et=null===x,Yt=ba(x),Cn=x===s;ke<it;){var Sn=ao((ke+it)/2),An=K(f[Sn]),Zn=An!==s,m2=null===An,D2=An==An,d1=ba(An);if(St)var V2=we||D2;else V2=Cn?D2&&(we||Zn):Et?D2&&Zn&&(we||!m2):Yt?D2&&Zn&&!m2&&(we||!d1):!m2&&!d1&&(we?An<=x:An<x);V2?ke=Sn+1:it=Sn}return vr(it,4294967294)}function Zo(f,x){for(var K=-1,we=f.length,ke=0,it=[];++K<we;){var St=f[K],Et=x?x(St):St;if(!K||!Ca(Et,Yt)){var Yt=Et;it[ke++]=0===St?0:St}}return it}function y6(f){return"number"==typeof f?f:ba(f)?Q:+f}function Vi(f){if("string"==typeof f)return f;if(n1(f))return G1(f,Vi)+"";if(ba(f))return ns?ns.call(f):"";var x=f+"";return"0"==x&&1/f==-oe?"-0":x}function ia(f,x,K){var we=-1,ke=T3,it=f.length,St=!0,Et=[],Yt=Et;if(K)St=!1,ke=gn;else if(it>=200){var Cn=x?null:H5(f);if(Cn)return Y2(Cn);St=!1,ke=to,Yt=new ye}else Yt=x?[]:Et;e:for(;++we<it;){var Sn=f[we],An=x?x(Sn):Sn;if(Sn=K||0!==Sn?Sn:0,St&&An==An){for(var Zn=Yt.length;Zn--;)if(Yt[Zn]===An)continue e;x&&Yt.push(An),Et.push(Sn)}else ke(Yt,An,K)||(Yt!==Et&&Yt.push(An),Et.push(Sn))}return Et}function v5(f,x){return null==(f=S6(f,x=Xo(x,f)))||delete f[Ea(_a(x))]}function y5(f,x,K,we){return J4(f,x,K(Cr(f,x)),we)}function c2(f,x,K,we){for(var ke=f.length,it=we?ke:-1;(we?it--:++it<ke)&&x(f[it],it,f););return K?ra(f,we?0:it,we?it+1:ke):ra(f,we?it+1:0,we?ke:it)}function Rh(f,x){var K=f;return K instanceof Bn&&(K=K.value()),Ss(x,function(we,ke){return ke.func.apply(ke.thisArg,q2([we],ke.args))},K)}function _5(f,x,K){var we=f.length;if(we<2)return we?ia(f[0]):[];for(var ke=-1,it=un(we);++ke<we;)for(var St=f[ke],Et=-1;++Et<we;)Et!=ke&&(it[ke]=bn(it[ke]||St,f[Et],x,K));return ia(o1(it,1),x,K)}function Bh(f,x,K){for(var we=-1,ke=f.length,it=x.length,St={};++we<ke;)K(St,f[we],we<it?x[we]:s);return St}function C5(f){return Ar(f)?f:[]}function b5(f){return"function"==typeof f?f:Ni}function Xo(f,x){return n1(f)?f:cc(f,x)?[f]:L6(E1(f))}var U_=u1;function ya(f,x,K){var we=f.length;return K=K===s?we:K,!x&&K>=we?f:ra(f,x,K)}var Uh=c6||function(f){return Y1.clearTimeout(f)};function jh(f,x){if(x)return f.slice();var K=f.length,we=a6?a6(K):new f.constructor(K);return f.copy(we),we}function Sr(f){var x=new f.constructor(f.byteLength);return new Hs(x).set(new Hs(f)),x}function aa(f,x){var K=x?Sr(f.buffer):f.buffer;return new f.constructor(K,f.byteOffset,f.length)}function ho(f,x){if(f!==x){var K=f!==s,we=null===f,ke=f==f,it=ba(f),St=x!==s,Et=null===x,Yt=x==x,Cn=ba(x);if(!Et&&!Cn&&!it&&f>x||it&&St&&Yt&&!Et&&!Cn||we&&St&&Yt||!K&&Yt||!ke)return 1;if(!we&&!it&&!Cn&&f<x||Cn&&K&&ke&&!we&&!it||Et&&K&&ke||!St&&ke||!Yt)return-1}return 0}function tc(f,x,K,we){for(var ke=-1,it=f.length,St=K.length,Et=-1,Yt=x.length,Cn=_1(it-St,0),Sn=un(Yt+Cn),An=!we;++Et<Yt;)Sn[Et]=x[Et];for(;++ke<St;)(An||ke<it)&&(Sn[K[ke]]=f[ke]);for(;Cn--;)Sn[Et++]=f[ke++];return Sn}function W3(f,x,K,we){for(var ke=-1,it=f.length,St=-1,Et=K.length,Yt=-1,Cn=x.length,Sn=_1(it-Et,0),An=un(Sn+Cn),Zn=!we;++ke<Sn;)An[ke]=f[ke];for(var m2=ke;++Yt<Cn;)An[m2+Yt]=x[Yt];for(;++St<Et;)(Zn||ke<it)&&(An[m2+K[St]]=f[ke++]);return An}function Gi(f,x){var K=-1,we=f.length;for(x||(x=un(we));++K<we;)x[K]=f[K];return x}function Ns(f,x,K,we){var ke=!K;K||(K={});for(var it=-1,St=x.length;++it<St;){var Et=x[it],Yt=we?we(K[Et],f[Et],Et,K,f):s;Yt===s&&(Yt=f[Et]),ke?Un(K,Et,Yt):pt(K,Et,Yt)}return K}function mi(f,x){return function(K,we){var ke=n1(K)?k4:sn,it=x?x():{};return ke(K,f,E2(we,2),it)}}function po(f){return u1(function(x,K){var we=-1,ke=K.length,it=ke>1?K[ke-1]:s,St=ke>2?K[2]:s;for(it=f.length>3&&"function"==typeof it?(ke--,it):s,St&&gi(K[0],K[1],St)&&(it=ke<3?s:it,ke=1),x=z2(x);++we<ke;){var Et=K[we];Et&&f(x,Et,we,it)}return x})}function Ko(f,x){return function(K,we){if(null==K)return K;if(!vi(K))return f(K,we);for(var ke=K.length,it=x?ke:-1,St=z2(K);(x?it--:++it<ke)&&!1!==we(St[it],it,St););return K}}function Wh(f){return function(x,K,we){for(var ke=-1,it=z2(x),St=we(x),Et=St.length;Et--;){var Yt=St[f?Et:++ke];if(!1===K(it[Yt],Yt,it))break}return x}}function w5(f){return function(x){var K=ir(x=E1(x))?jr(x):s,we=K?K[0]:x.charAt(0),ke=K?ya(K,1).join(""):x.slice(1);return we[f]()+ke}}function q3(f){return function(x){return Ss(J6(X6(x).replace(U2,"")),f,"")}}function nc(f){return function(){var x=arguments;switch(x.length){case 0:return new f;case 1:return new f(x[0]);case 2:return new f(x[0],x[1]);case 3:return new f(x[0],x[1],x[2]);case 4:return new f(x[0],x[1],x[2],x[3]);case 5:return new f(x[0],x[1],x[2],x[3],x[4]);case 6:return new f(x[0],x[1],x[2],x[3],x[4],x[5]);case 7:return new f(x[0],x[1],x[2],x[3],x[4],x[5],x[6])}var K=Gr(f.prototype),we=f.apply(K,x);return R1(we)?we:K}}function S5(f){return function(x,K,we){var ke=z2(x);if(!vi(x)){var it=E2(K,3);x=Wr(x),K=function(Et){return it(ke[Et],Et,ke)}}var St=f(x,K,we);return St>-1?ke[it?x[St]:St]:s}}function z5(f){return go(function(x){var K=x.length,we=K,ke=Vr.prototype.thru;for(f&&x.reverse();we--;){var it=x[we];if("function"!=typeof it)throw new Ti(l);if(ke&&!St&&"wrapper"==e3(it))var St=new Vr([],!0)}for(we=St?we:K;++we<K;){var Et=e3(it=x[we]),Yt="wrapper"==Et?x6(it):s;St=Yt&&Dl(Yt[0])&&424==Yt[1]&&!Yt[4].length&&1==Yt[9]?St[e3(Yt[0])].apply(St,Yt[3]):1==it.length&&Dl(it)?St[Et]():St.thru(it)}return function(){var Cn=arguments,Sn=Cn[0];if(St&&1==Cn.length&&n1(Sn))return St.plant(Sn).value();for(var An=0,Zn=K?x[An].apply(this,Cn):Sn;++An<K;)Zn=x[An].call(this,Zn);return Zn}})}function Y3(f,x,K,we,ke,it,St,Et,Yt,Cn){var Sn=x&P,An=1&x,Zn=2&x,m2=24&x,D2=512&x,d1=Zn?s:nc(f);return function V2(){for(var w1=arguments.length,S1=un(w1),qi=w1;qi--;)S1[qi]=arguments[qi];if(m2)var _i=t3(V2),Yi=i6(S1,_i);if(we&&(S1=tc(S1,we,ke,m2)),it&&(S1=W3(S1,it,St,m2)),w1-=Yi,m2&&w1<Cn){var ur=Xn(S1,_i);return Z3(f,x,Y3,V2.placeholder,K,S1,ur,Et,Yt,Cn-w1)}var Rr=An?K:this,xa=Zn?Rr[f]:f;return w1=S1.length,Et?S1=e9(S1,Et):D2&&w1>1&&S1.reverse(),Sn&&Yt<w1&&(S1.length=Yt),this&&this!==Y1&&this instanceof V2&&(xa=d1||nc(xa)),xa.apply(Rr,S1)}}function rc(f,x){return function(K,we){return function lo(f,x,K,we){return nr(f,function(ke,it,St){x(we,K(ke),it,St)}),we}(K,f,x(we),{})}}function Qo(f,x){return function(K,we){var ke;if(K===s&&we===s)return x;if(K!==s&&(ke=K),we!==s){if(ke===s)return we;"string"==typeof K||"string"==typeof we?(K=Vi(K),we=Vi(we)):(K=y6(K),we=y6(we)),ke=f(K,we)}return ke}}function mo(f){return go(function(x){return x=G1(x,I2(E2())),u1(function(K){var we=this;return f(x,function(ke){return si(ke,we,K)})})})}function ic(f,x){var K=(x=x===s?" ":Vi(x)).length;if(K<2)return K?g6(x,f):x;var we=g6(x,es(f/Z1(x)));return ir(x)?ya(jr(we),0,f).join(""):we.slice(0,f)}function L5(f){return function(x,K,we){return we&&"number"!=typeof we&&gi(x,K,we)&&(K=we=s),x=Nr(x),K===s?(K=x,x=0):K=Nr(K),function Yo(f,x,K,we){for(var ke=-1,it=_1(es((x-f)/(K||1)),0),St=un(it);it--;)St[we?it:++ke]=f,f+=K;return St}(x,K,we=we===s?x<K?1:-1:Nr(we),f)}}function sc(f){return function(x,K){return"string"==typeof x&&"string"==typeof K||(x=yi(x),K=yi(K)),f(x,K)}}function Z3(f,x,K,we,ke,it,St,Et,Yt,Cn){var Sn=8&x;x|=Sn?D:64,4&(x&=~(Sn?64:D))||(x&=-4);var d1=[f,x,ke,Sn?it:s,Sn?St:s,Sn?s:it,Sn?s:St,Et,Yt,Cn],V2=K.apply(s,d1);return Dl(f)&&ki(V2,d1),V2.placeholder=we,Vl(V2,f,x)}function X3(f){var x=ar[f];return function(K,we){if(K=yi(K),(we=null==we?0:vr(c1(we),292))&&na(K)){var ke=(E1(K)+"e").split("e");return+((ke=(E1(x(ke[0]+"e"+(+ke[1]+we)))+"e").split("e"))[0]+"e"+(+ke[1]-we))}return x(K)}}var H5=Mr&&1/Y2(new Mr([,-0]))[1]==oe?function(f){return new Mr(f)}:c4;function D5(f){return function(x){var K=$r(x);return K==xe?Ur(x):K==Ke?function J1(jt){var dn=-1,un=Array(jt.size);return jt.forEach(function(Jn){un[++dn]=[Jn,Jn]}),un}(x):function eo(jt,dn){return G1(dn,function(un){return[un,jt[un]]})}(x,f(x))}}function Es(f,x,K,we,ke,it,St,Et){var Yt=2&x;if(!Yt&&"function"!=typeof f)throw new Ti(l);var Cn=we?we.length:0;if(Cn||(x&=-97,we=ke=s),St=St===s?St:_1(c1(St),0),Et=Et===s?Et:c1(Et),Cn-=ke?ke.length:0,64&x){var Sn=we,An=ke;we=ke=s}var Zn=Yt?s:x6(f),m2=[f,x,K,we,ke,Sn,An,it,St,Et];if(Zn&&function w6(f,x){var K=f[1],we=x[1],ke=K|we;if(!(ke<131)&&!(we==P&&8==K||we==P&&256==K&&f[7].length<=x[8]||384==we&&x[7].length<=x[8]&&8==K))return f;1&we&&(f[2]=x[2],ke|=1&K?0:4);var Et=x[3];if(Et){var Yt=f[3];f[3]=Yt?tc(Yt,Et,x[4]):Et,f[4]=Yt?Xn(f[3],u):x[4]}(Et=x[5])&&(f[5]=(Yt=f[5])?W3(Yt,Et,x[6]):Et,f[6]=Yt?Xn(f[5],u):x[6]),(Et=x[7])&&(f[7]=Et),we&P&&(f[8]=null==f[8]?x[8]:vr(f[8],x[8])),null==f[9]&&(f[9]=x[9]),f[0]=x[0],f[1]=ke}(m2,Zn),f=m2[0],x=m2[1],K=m2[2],we=m2[3],ke=m2[4],!(Et=m2[9]=m2[9]===s?Yt?0:f.length:_1(m2[9]-Cn,0))&&24&x&&(x&=-25),x&&1!=x)D2=8==x||16==x?function qh(f,x,K){var we=nc(f);return function ke(){for(var it=arguments.length,St=un(it),Et=it,Yt=t3(ke);Et--;)St[Et]=arguments[Et];var Cn=it<3&&St[0]!==Yt&&St[it-1]!==Yt?[]:Xn(St,Yt);return(it-=Cn.length)<K?Z3(f,x,Y3,ke.placeholder,s,St,Cn,s,s,K-it):si(this&&this!==Y1&&this instanceof ke?we:f,this,St)}}(f,x,Et):x!=D&&33!=x||ke.length?Y3.apply(s,m2):function ac(f,x,K,we){var ke=1&x,it=nc(f);return function St(){for(var Et=-1,Yt=arguments.length,Cn=-1,Sn=we.length,An=un(Sn+Yt),Zn=this&&this!==Y1&&this instanceof St?it:f;++Cn<Sn;)An[Cn]=we[Cn];for(;Yt--;)An[Cn++]=arguments[++Et];return si(Zn,ke?K:this,An)}}(f,x,K,we);else var D2=function M5(f,x,K){var we=1&x,ke=nc(f);return function it(){return(this&&this!==Y1&&this instanceof it?ke:f).apply(we?K:this,arguments)}}(f,x,K);return Vl((Zn?Fr:ki)(D2,m2),f,x)}function Jo(f,x,K,we){return f===s||Ca(f,ui[K])&&!X2.call(we,K)?x:f}function K3(f,x,K,we,ke,it){return R1(f)&&R1(x)&&(it.set(x,f),Q4(f,x,s,K3,it),it.delete(x)),f}function Yh(f){return l3(f)?s:f}function Zh(f,x,K,we,ke,it){var St=1&K,Et=f.length,Yt=x.length;if(Et!=Yt&&!(St&&Yt>Et))return!1;var Cn=it.get(f),Sn=it.get(x);if(Cn&&Sn)return Cn==x&&Sn==f;var An=-1,Zn=!0,m2=2&K?new ye:s;for(it.set(f,x),it.set(x,f);++An<Et;){var D2=f[An],d1=x[An];if(we)var V2=St?we(d1,D2,An,x,f,it):we(D2,d1,An,f,x,it);if(V2!==s){if(V2)continue;Zn=!1;break}if(m2){if(!zs(x,function(w1,S1){if(!to(m2,S1)&&(D2===w1||ke(D2,w1,K,we,it)))return m2.push(S1)})){Zn=!1;break}}else if(D2!==d1&&!ke(D2,d1,K,we,it)){Zn=!1;break}}return it.delete(f),it.delete(x),Zn}function go(f){return Tl(O5(f,s,T6),f+"")}function C6(f){return rs(f,Wr,M6)}function b6(f){return rs(f,Wi,k5)}var x6=or?function(f){return or.get(f)}:c4;function e3(f){for(var x=f.name+"",K=Vs[x],we=X2.call(Vs,x)?K.length:0;we--;){var ke=K[we],it=ke.func;if(null==it||it==f)return ke.name}return x}function t3(f){return(X2.call(Ze,"placeholder")?Ze:f).placeholder}function E2(){var f=Ze.iteratee||t8;return f=f===t8?h6:f,arguments.length?f(arguments[0],arguments[1]):f}function oc(f,x){var K=f.__data__;return function A5(f){var x=typeof f;return"string"==x||"number"==x||"symbol"==x||"boolean"==x?"__proto__"!==f:null===f}(x)?K["string"==typeof x?"string":"hash"]:K.map}function V5(f){for(var x=Wr(f),K=x.length;K--;){var we=x[K],ke=f[we];x[K]=[we,ke,E5(ke)]}return x}function vo(f,x){var K=function N1(jt,dn){return null==jt?s:jt[dn]}(f,x);return X4(K)?K:s}var M6=G4?function(f){return null==f?[]:(f=z2(f),ci(G4(f),function(x){return o6.call(f,x)}))}:n0,k5=G4?function(f){for(var x=[];f;)q2(x,M6(f)),f=B4(f);return x}:n0,$r=F1;function Hl(f,x,K){for(var we=-1,ke=(x=Xo(x,f)).length,it=!1;++we<ke;){var St=Ea(x[we]);if(!(it=null!=f&&K(f,St)))break;f=f[St]}return it||++we!=ke?it:!!(ke=null==f?0:f.length)&&c3(ke)&&Ps(St,ke)&&(n1(f)||s3(f))}function Kh(f){return"function"!=typeof f.constructor||lc(f)?{}:Gr(B4(f))}function X_(f){return n1(f)||s3(f)||!!(P3&&f&&f[P3])}function Ps(f,x){var K=typeof f;return!!(x=x??Ce)&&("number"==K||"symbol"!=K&&an.test(f))&&f>-1&&f%1==0&&f<x}function gi(f,x,K){if(!R1(K))return!1;var we=typeof x;return!!("number"==we?vi(K)&&Ps(x,K.length):"string"==we&&x in K)&&Ca(K[x],f)}function cc(f,x){if(n1(f))return!1;var K=typeof f;return!("number"!=K&&"symbol"!=K&&"boolean"!=K&&null!=f&&!ba(f))||Nt.test(f)||!Wt.test(f)||null!=x&&f in z2(x)}function Dl(f){var x=e3(f),K=Ze[x];if("function"!=typeof K||!(x in Bn.prototype))return!1;if(f===K)return!0;var we=x6(K);return!!we&&f===we[0]}(F3&&$r(new F3(new ArrayBuffer(1)))!=Ee||di&&$r(new di)!=xe||$o&&$r($o.resolve())!=Oe||Mr&&$r(new Mr)!=Ke||Ds&&$r(new Ds)!=Se)&&($r=function(f){var x=F1(f),K=x==Ae?f.constructor:s,we=K?r3(K):"";if(we)switch(we){case R3:return Ee;case hi:return xe;case l6:return Oe;case vl:return Ke;case so:return Se}return x});var $i=sr?Fs:l8;function lc(f){var x=f&&f.constructor;return f===("function"==typeof x&&x.prototype||ui)}function E5(f){return f==f&&!R1(f)}function P5(f,x){return function(K){return null!=K&&K[f]===x&&(x!==s||f in z2(K))}}function O5(f,x,K){return x=_1(x===s?f.length-1:x,0),function(){for(var we=arguments,ke=-1,it=_1(we.length-x,0),St=un(it);++ke<it;)St[ke]=we[x+ke];ke=-1;for(var Et=un(x+1);++ke<x;)Et[ke]=we[ke];return Et[x]=K(St),si(f,this,Et)}}function S6(f,x){return x.length<2?f:Cr(f,ra(x,0,-1))}function e9(f,x){for(var K=f.length,we=vr(x.length,K),ke=Gi(f);we--;){var it=x[we];f[we]=Ps(it,K)?ke[it]:s}return f}function z6(f,x){if(("constructor"!==x||"function"!=typeof f[x])&&"__proto__"!=x)return f[x]}var ki=ei(Fr),n3=j4||function(f,x){return Y1.setTimeout(f,x)},Tl=ei(v6);function Vl(f,x,K){var we=x+"";return Tl(f,function Z_(f,x){var K=x.length;if(!K)return f;var we=K-1;return x[we]=(K>1?"& ":"")+x[we],x=x.join(K>2?", ":" "),f.replace(st,"{\n/* [wrapped with "+x+"] */\n")}(we,function F5(f,x){return oi(se,function(K){var we="_."+K[0];x&K[1]&&!T3(f,we)&&f.push(we)}),f.sort()}(function W_(f){var x=f.match(et);return x?x[1].split(ut):[]}(we),K)))}function ei(f){var x=0,K=0;return function(){var we=W4(),ke=16-(we-K);if(K=we,ke>0){if(++x>=800)return arguments[0]}else x=0;return f.apply(s,arguments)}}function yo(f,x){var K=-1,we=f.length,ke=we-1;for(x=x===s?we:x;++K<x;){var it=G3(K,ke),St=f[it];f[it]=f[K],f[K]=St}return f.length=x,f}var L6=function I5(f){var x=hc(f,function(we){return 500===K.size&&K.clear(),we}),K=x.cache;return x}(function(f){var x=[];return 46===f.charCodeAt(0)&&x.push(""),f.replace(ge,function(K,we,ke,it){x.push(ke?it.replace(Bt,"$1"):we||K)}),x});function Ea(f){if("string"==typeof f||ba(f))return f;var x=f+"";return"0"==x&&1/f==-oe?"-0":x}function r3(f){if(null!=f){try{return F4.call(f)}catch{}try{return f+""}catch{}}return""}function R5(f){if(f instanceof Bn)return f.clone();var x=new Vr(f.__wrapped__,f.__chain__);return x.__actions__=Gi(f.__actions__),x.__index__=f.__index__,x.__values__=f.__values__,x}var n9=u1(function(f,x){return Ar(f)?bn(f,o1(x,1,Ar,!0)):[]}),r9=u1(function(f,x){var K=_a(x);return Ar(K)&&(K=s),Ar(f)?bn(f,o1(x,1,Ar,!0),E2(K,2)):[]}),H6=u1(function(f,x){var K=_a(x);return Ar(K)&&(K=s),Ar(f)?bn(f,o1(x,1,Ar,!0),s,K):[]});function kl(f,x,K){var we=null==f?0:f.length;if(!we)return-1;var ke=null==K?0:c1(K);return ke<0&&(ke=_1(we+ke,0)),li(f,E2(x,3),ke)}function Al(f,x,K){var we=null==f?0:f.length;if(!we)return-1;var ke=we-1;return K!==s&&(ke=c1(K),ke=K<0?_1(we+ke,0):vr(ke,we-1)),li(f,E2(x,3),ke,!0)}function T6(f){return null!=f&&f.length?o1(f,1):[]}function G5(f){return f&&f.length?f[0]:s}var c9=u1(function(f){var x=G1(f,C5);return x.length&&x[0]===f[0]?ks(x):[]}),l9=u1(function(f){var x=_a(f),K=G1(f,C5);return x===_a(K)?x=s:K.pop(),K.length&&K[0]===f[0]?ks(K,E2(x,2)):[]}),u9=u1(function(f){var x=_a(f),K=G1(f,C5);return(x="function"==typeof x?x:s)&&K.pop(),K.length&&K[0]===f[0]?ks(K,s,x):[]});function _a(f){var x=null==f?0:f.length;return x?f[x-1]:s}var W5=u1(Nl);function Nl(f,x){return f&&f.length&&x&&x.length?zl(f,x):f}var q5=go(function(f,x){var K=null==f?0:f.length,we=qn(f,x);return m5(f,G1(x,function(ke){return Ps(ke,K)?+ke:ke}).sort(ho)),we});function Is(f){return null==f?f:q4.call(f)}var E6=u1(function(f){return ia(o1(f,1,Ar,!0))}),P6=u1(function(f){var x=_a(f);return Ar(x)&&(x=s),ia(o1(f,1,Ar,!0),E2(x,2))}),I6=u1(function(f){var x=_a(f);return x="function"==typeof x?x:s,ia(o1(f,1,Ar,!0),s,x)});function O6(f){if(!f||!f.length)return[];var x=0;return f=ci(f,function(K){if(Ar(K))return x=_1(K.length,x),!0}),ea(x,function(K){return G1(f,H1(K))})}function rf(f,x){if(!f||!f.length)return[];var K=O6(f);return null==x?K:G1(K,function(we){return si(x,s,we)})}var v9=u1(function(f,x){return Ar(f)?bn(f,x):[]}),af=u1(function(f){return _5(ci(f,Ar))}),sf=u1(function(f){var x=_a(f);return Ar(x)&&(x=s),_5(ci(f,Ar),E2(x,2))}),Ol=u1(function(f){var x=_a(f);return x="function"==typeof x?x:s,_5(ci(f,Ar),s,x)}),F6=u1(O6),_9=u1(function(f){var x=f.length,K=x>1?f[x-1]:s;return K="function"==typeof K?(f.pop(),K):s,rf(f,K)});function C9(f){var x=Ze(f);return x.__chain__=!0,x}function J3(f,x){return x(f)}var x9=go(function(f){var x=f.length,K=x?f[0]:0,we=this.__wrapped__,ke=function(it){return qn(it,f)};return!(x>1||this.__actions__.length)&&we instanceof Bn&&Ps(K)?((we=we.slice(K,+K+(x?1:0))).__actions__.push({func:J3,args:[ke],thisArg:s}),new Vr(we,this.__chain__).thru(function(it){return x&&!it.length&&it.push(s),it})):this.thru(ke)}),M9=mi(function(f,x,K){X2.call(f,K)?++f[K]:Un(f,K,1)}),z9=S5(kl),L9=S5(Al);function df(f,x){return(n1(f)?oi:Yn)(f,E2(x,3))}function hf(f,x){return(n1(f)?Ka:N2)(f,E2(x,3))}var D9=mi(function(f,x,K){X2.call(f,K)?f[K].push(x):Un(f,K,[x])}),V9=u1(function(f,x,K){var we=-1,ke="function"==typeof x,it=vi(f)?un(f.length):[];return Yn(f,function(St){it[++we]=ke?si(x,St,K):pi(St,x,K)}),it}),pf=mi(function(f,x,K){Un(f,K,x)});function Rl(f,x){return(n1(f)?G1:f5)(f,E2(x,3))}var A9=mi(function(f,x,K){f[K?0:1].push(x)},function(){return[[],[]]}),J_=u1(function(f,x){if(null==f)return[];var K=x.length;return K>1&&gi(f,x[0],x[1])?x=[]:K>2&&gi(x[0],x[1],x[2])&&(x=[x[0]]),d5(f,o1(x,1),[])}),B6=l5||function(){return Y1.Date.now()};function Ul(f,x,K){return x=K?s:x,Es(f,P,s,s,s,s,x=f&&null==x?f.length:x)}function E9(f,x){var K;if("function"!=typeof x)throw new Ti(l);return f=c1(f),function(){return--f>0&&(K=x.apply(this,arguments)),f<=1&&(x=s),K}}var yf=u1(function(f,x,K){var we=1;if(K.length){var ke=Xn(K,t3(yf));we|=D}return Es(f,we,x,K,ke)}),j6=u1(function(f,x,K){var we=3;if(K.length){var ke=Xn(K,t3(j6));we|=D}return Es(x,we,f,K,ke)});function bf(f,x,K){var we,ke,it,St,Et,Yt,Cn=0,Sn=!1,An=!1,Zn=!0;if("function"!=typeof f)throw new Ti(l);function m2(ur){var Rr=we,xa=ke;return we=ke=s,Cn=ur,St=f.apply(xa,Rr)}function D2(ur){return Cn=ur,Et=n3(w1,x),Sn?m2(ur):St}function V2(ur){var Rr=ur-Yt;return Yt===s||Rr>=x||Rr<0||An&&ur-Cn>=it}function w1(){var ur=B6();if(V2(ur))return S1(ur);Et=n3(w1,function d1(ur){var yc=x-(ur-Yt);return An?vr(yc,it-(ur-Cn)):yc}(ur))}function S1(ur){return Et=s,Zn&&we?m2(ur):(we=ke=s,St)}function Yi(){var ur=B6(),Rr=V2(ur);if(we=arguments,ke=this,Yt=ur,Rr){if(Et===s)return D2(Yt);if(An)return Uh(Et),Et=n3(w1,x),m2(Yt)}return Et===s&&(Et=n3(w1,x)),St}return x=yi(x)||0,R1(K)&&(Sn=!!K.leading,it=(An="maxWait"in K)?_1(yi(K.maxWait)||0,x):it,Zn="trailing"in K?!!K.trailing:Zn),Yi.cancel=function qi(){Et!==s&&Uh(Et),Cn=0,we=Yt=ke=Et=s},Yi.flush=function _i(){return Et===s?St:S1(B6())},Yi}var P9=u1(function(f,x){return F2(f,1,x)}),xf=u1(function(f,x,K){return F2(f,yi(x)||0,K)});function hc(f,x){if("function"!=typeof f||null!=x&&"function"!=typeof x)throw new Ti(l);var K=function(){var we=arguments,ke=x?x.apply(this,we):we[0],it=K.cache;if(it.has(ke))return it.get(ke);var St=f.apply(this,we);return K.cache=it.set(ke,St)||it,St};return K.cache=new(hc.Cache||y),K}function e4(f){if("function"!=typeof f)throw new Ti(l);return function(){var x=arguments;switch(x.length){case 0:return!f.call(this);case 1:return!f.call(this,x[0]);case 2:return!f.call(this,x[0],x[1]);case 3:return!f.call(this,x[0],x[1],x[2])}return!f.apply(this,x)}}hc.Cache=y;var q1=U_(function(f,x){var K=(x=1==x.length&&n1(x[0])?G1(x[0],I2(E2())):G1(o1(x,1),I2(E2()))).length;return u1(function(we){for(var ke=-1,it=vr(we.length,K);++ke<it;)we[ke]=x[ke].call(this,we[ke]);return si(f,this,we)})}),Gl=u1(function(f,x){var K=Xn(x,t3(Gl));return Es(f,D,s,x,K)}),Mf=u1(function(f,x){var K=Xn(x,t3(Mf));return Es(f,64,s,x,K)}),pc=go(function(f,x){return Es(f,256,s,s,s,x)});function Ca(f,x){return f===x||f!=f&&x!=x}var Lf=sc(cr),nC=sc(function(f,x){return f>=x}),s3=uo(function(){return arguments}())?uo:function(f){return lr(f)&&X2.call(f,"callee")&&!o6.call(f,"callee")},n1=un.isArray,Hf=Q0?I2(Q0):function Y4(f){return lr(f)&&F1(f)==qe};function vi(f){return null!=f&&c3(f.length)&&!Fs(f)}function Ar(f){return lr(f)&&vi(f)}var _o=ml||l8,$6=Oo?I2(Oo):function Z4(f){return lr(f)&&F1(f)==B};function gc(f){if(!lr(f))return!1;var x=F1(f);return x==ue||"[object DOMException]"==x||"string"==typeof f.message&&"string"==typeof f.name&&!l3(f)}function Fs(f){if(!R1(f))return!1;var x=F1(f);return x==fe||x==he||"[object AsyncFunction]"==x||"[object Proxy]"==x}function ql(f){return"number"==typeof f&&f==c1(f)}function c3(f){return"number"==typeof f&&f>-1&&f%1==0&&f<=Ce}function R1(f){var x=typeof f;return null!=f&&("object"==x||"function"==x)}function lr(f){return null!=f&&"object"==typeof f}var Yl=J0?I2(J0):function bl(f){return lr(f)&&$r(f)==xe};function kf(f){return"number"==typeof f||lr(f)&&F1(f)==be}function l3(f){if(!lr(f)||F1(f)!=Ae)return!1;var x=B4(f);if(null===x)return!0;var K=X2.call(x,"constructor")&&x.constructor;return"function"==typeof K&&K instanceof K&&F4.call(K)==jo}var W6=Xa?I2(Xa):function d6(f){return lr(f)&&F1(f)==tt},Nf=Fo?I2(Fo):function xl(f){return lr(f)&&$r(f)==Ke};function vc(f){return"string"==typeof f||!n1(f)&&lr(f)&&F1(f)==$e}function ba(f){return"symbol"==typeof f||lr(f)&&F1(f)==Me}var n4=Hi?I2(Hi):function B_(f){return lr(f)&&c3(f.length)&&!!e1[F1(f)]},K1=sc(va),Y9=sc(function(f,x){return f<=x});function i4(f){if(!f)return[];if(vi(f))return vc(f)?jr(f):Gi(f);if(I3&&f[I3])return function ro(jt){for(var dn,un=[];!(dn=jt.next()).done;)un.push(dn.value);return un}(f[I3]());var x=$r(f);return(x==xe?Ur:x==Ke?Y2:u3)(f)}function Nr(f){return f?(f=yi(f))===oe||f===-oe?17976931348623157e292*(f<0?-1:1):f==f?f:0:0===f?f:0}function c1(f){var x=Nr(f),K=x%1;return x==x?K?x-K:x:0}function Ef(f){return f?_2(c1(f),0,le):0}function yi(f){if("number"==typeof f)return f;if(ba(f))return Q;if(R1(f)){var x="function"==typeof f.valueOf?f.valueOf():f;f=R1(x)?x+"":x}if("string"!=typeof f)return 0===f?f:+f;f=pl(f);var K=fn.test(f);return K||Mt.test(f)?D3(f.slice(2),K?2:8):$t.test(f)?Q:+f}function Pf(f){return Ns(f,Wi(f))}function E1(f){return null==f?"":Vi(f)}var Z9=po(function(f,x){if(lc(x)||vi(x))Ns(x,Wr(x),f);else for(var K in x)X2.call(x,K)&&pt(f,K,x[K])}),Zl=po(function(f,x){Ns(x,Wi(x),f)}),Rs=po(function(f,x,K,we){Ns(x,Wi(x),f,we)}),X9=po(function(f,x,K,we){Ns(x,Wr(x),f,we)}),K9=go(qn),J9=u1(function(f,x){f=z2(f);var K=-1,we=x.length,ke=we>2?x[2]:s;for(ke&&gi(x[0],x[1],ke)&&(we=1);++K<we;)for(var it=x[K],St=Wi(it),Et=-1,Yt=St.length;++Et<Yt;){var Cn=St[Et],Sn=f[Cn];(Sn===s||Ca(Sn,ui[Cn])&&!X2.call(f,Cn))&&(f[Cn]=it[Cn])}return f}),If=u1(function(f){return f.push(s,K3),si(Bf,s,f)});function Xl(f,x,K){var we=null==f?s:Cr(f,x);return we===s?K:we}function Kl(f,x){return null!=f&&Hl(f,x,Na)}var Of=rc(function(f,x,K){null!=x&&"function"!=typeof x.toString&&(x=Qa.call(x)),f[x]=K},Zf(Ni)),ip=rc(function(f,x,K){null!=x&&"function"!=typeof x.toString&&(x=Qa.call(x)),X2.call(f,x)?f[x].push(K):f[x]=[K]},E2),Ff=u1(pi);function Wr(f){return vi(f)?ht(f):Ml(f)}function Wi(f){return vi(f)?ht(f,!0):function Oh(f){if(!R1(f))return function Qh(f){var x=[];if(null!=f)for(var K in z2(f))x.push(K);return x}(f);var x=lc(f),K=[];for(var we in f)"constructor"==we&&(x||!X2.call(f,we))||K.push(we);return K}(f)}var Rf=po(function(f,x,K){Q4(f,x,K)}),Bf=po(function(f,x,K,we){Q4(f,x,K,we)}),sp=go(function(f,x){var K={};if(null==f)return K;var we=!1;x=G1(x,function(it){return it=Xo(it,f),we||(we=it.length>1),it}),Ns(f,b6(f),K),we&&(K=Gn(K,7,Yh));for(var ke=x.length;ke--;)v5(K,x[ke]);return K}),cp=go(function(f,x){return null==f?{}:function h5(f,x){return m6(f,x,function(K,we){return Kl(f,we)})}(f,x)});function Y6(f,x){if(null==f)return{};var K=G1(b6(f),function(we){return[we]});return x=E2(x),m6(f,K,function(we,ke){return x(we,ke[0])})}var K2=D5(Wr),je=D5(Wi);function u3(f){return null==f?[]:E4(f,Wr(f))}var sC=q3(function(f,x,K){return x=x.toLowerCase(),f+(K?Z6(x):x)});function Z6(f){return Jl(E1(f).toLowerCase())}function X6(f){return(f=E1(f))&&f.replace(Kt,no).replace(Dr,"")}var Q6=q3(function(f,x,K){return f+(K?"-":"")+x.toLowerCase()}),yp=q3(function(f,x,K){return f+(K?" ":"")+x.toLowerCase()}),oC=w5("toLowerCase"),s4=q3(function(f,x,K){return f+(K?"_":"")+x.toLowerCase()}),Wf=q3(function(f,x,K){return f+(K?" ":"")+Jl(x)}),Hp=q3(function(f,x,K){return f+(K?" ":"")+x.toUpperCase()}),Jl=w5("toUpperCase");function J6(f,x,K){return f=E1(f),(x=K?s:x)===s?function Jr(jt){return O1.test(jt)}(f)?function I4(jt){return jt.match(Li)||[]}(f):function n6(jt){return jt.match(xt)||[]}(f):f.match(x)||[]}var e0=u1(function(f,x){try{return si(f,s,x)}catch(K){return gc(K)?K:new S2(K)}}),fC=go(function(f,x){return oi(x,function(K){K=Ea(K),Un(f,K,yf(f[K],f))}),f});function Zf(f){return function(){return f}}var Xf=z5(),Tp=z5(!0);function Ni(f){return f}function t8(f){return h6("function"==typeof f?f:Gn(f,1))}var o4=u1(function(f,x){return function(K){return pi(K,f,x)}}),n8=u1(function(f,x){return function(K){return pi(f,K,x)}});function f3(f,x,K){var we=Wr(x),ke=X1(x,we);null==K&&(!R1(x)||!ke.length&&we.length)&&(K=x,x=f,f=this,ke=X1(x,Wr(x)));var it=!(R1(K)&&"chain"in K&&!K.chain),St=Fs(f);return oi(ke,function(Et){var Yt=x[Et];f[Et]=Yt,St&&(f.prototype[Et]=function(){var Cn=this.__chain__;if(it||Cn){var Sn=f(this.__wrapped__),An=Sn.__actions__=Gi(this.__actions__);return An.push({func:Yt,args:arguments,thisArg:f}),Sn.__chain__=Cn,Sn}return Yt.apply(f,q2([this.value()],arguments))})}),f}function c4(){}var i8=mo(G1),a8=mo(Da),s8=mo(zs);function o8(f){return cc(f)?H1(Ea(f)):function p5(f){return function(x){return Cr(x,f)}}(f)}var kp=L5(),Ap=L5(!0);function n0(){return[]}function l8(){return!1}var Pp=Qo(function(f,x){return f+x},0),dC=X3("ceil"),u8=Qo(function(f,x){return f/x},1),t7=X3("floor"),f8=Qo(function(f,x){return f*x},1),Up=X3("round"),jp=Qo(function(f,x){return f-x},0);return Ze.after=function U6(f,x){if("function"!=typeof x)throw new Ti(l);return f=c1(f),function(){if(--f<1)return x.apply(this,arguments)}},Ze.ary=Ul,Ze.assign=Z9,Ze.assignIn=Zl,Ze.assignInWith=Rs,Ze.assignWith=X9,Ze.at=K9,Ze.before=E9,Ze.bind=yf,Ze.bindAll=fC,Ze.bindKey=j6,Ze.castArray=function Sf(){if(!arguments.length)return[];var f=arguments[0];return n1(f)?f:[f]},Ze.chain=C9,Ze.chunk=function B5(f,x,K){x=(K?gi(f,x,K):x===s)?1:_1(c1(x),0);var we=null==f?0:f.length;if(!we||x<1)return[];for(var ke=0,it=0,St=un(es(we/x));ke<we;)St[it++]=ra(f,ke,ke+=x);return St},Ze.compact=function t9(f){for(var x=-1,K=null==f?0:f.length,we=0,ke=[];++x<K;){var it=f[x];it&&(ke[we++]=it)}return ke},Ze.concat=function U5(){var f=arguments.length;if(!f)return[];for(var x=un(f-1),K=arguments[0],we=f;we--;)x[we-1]=arguments[we];return q2(n1(K)?Gi(K):[K],o1(x,1))},Ze.cond=function e8(f){var x=null==f?0:f.length,K=E2();return f=x?G1(f,function(we){if("function"!=typeof we[1])throw new Ti(l);return[K(we[0]),we[1]]}):[],u1(function(we){for(var ke=-1;++ke<x;){var it=f[ke];if(si(it[0],this,we))return si(it[1],this,we)}})},Ze.conforms=function Dp(f){return function v2(f){var x=Wr(f);return function(K){return C1(K,f,x)}}(Gn(f,1))},Ze.constant=Zf,Ze.countBy=M9,Ze.create=function Q9(f,x){var K=Gr(f);return null==x?K:zn(K,x)},Ze.curry=function _f(f,x,K){var we=Es(f,8,s,s,s,s,s,x=K?s:x);return we.placeholder=_f.placeholder,we},Ze.curryRight=function Cf(f,x,K){var we=Es(f,16,s,s,s,s,s,x=K?s:x);return we.placeholder=Cf.placeholder,we},Ze.debounce=bf,Ze.defaults=J9,Ze.defaultsDeep=If,Ze.defer=P9,Ze.delay=xf,Ze.difference=n9,Ze.differenceBy=r9,Ze.differenceWith=H6,Ze.drop=function D6(f,x,K){var we=null==f?0:f.length;return we?ra(f,(x=K||x===s?1:c1(x))<0?0:x,we):[]},Ze.dropRight=function i9(f,x,K){var we=null==f?0:f.length;return we?ra(f,0,(x=we-(x=K||x===s?1:c1(x)))<0?0:x):[]},Ze.dropRightWhile=function uc(f,x){return f&&f.length?c2(f,E2(x,3),!0,!0):[]},Ze.dropWhile=function a9(f,x){return f&&f.length?c2(f,E2(x,3),!0):[]},Ze.fill=function s9(f,x,K,we){var ke=null==f?0:f.length;return ke?(K&&"number"!=typeof K&&gi(f,x,K)&&(K=0,we=ke),function m1(f,x,K,we){var ke=f.length;for((K=c1(K))<0&&(K=-K>ke?0:ke+K),(we=we===s||we>ke?ke:c1(we))<0&&(we+=ke),we=K>we?0:Ef(we);K<we;)f[K++]=x;return f}(f,x,K,we)):[]},Ze.filter=function S9(f,x){return(n1(f)?ci:V1)(f,E2(x,3))},Ze.flatMap=function sa(f,x){return o1(Rl(f,x),1)},Ze.flatMapDeep=function as(f,x){return o1(Rl(f,x),oe)},Ze.flatMapDepth=function H9(f,x,K){return K=K===s?1:c1(K),o1(Rl(f,x),K)},Ze.flatten=T6,Ze.flattenDeep=function Q3(f){return null!=f&&f.length?o1(f,oe):[]},Ze.flattenDepth=function V6(f,x){return null!=f&&f.length?o1(f,x=x===s?1:c1(x)):[]},Ze.flip=function jl(f){return Es(f,512)},Ze.flow=Xf,Ze.flowRight=Tp,Ze.fromPairs=function j5(f){for(var x=-1,K=null==f?0:f.length,we={};++x<K;){var ke=f[x];we[ke[0]]=ke[1]}return we},Ze.functions=function rC(f){return null==f?[]:X1(f,Wr(f))},Ze.functionsIn=function iC(f){return null==f?[]:X1(f,Wi(f))},Ze.groupBy=D9,Ze.initial=function o9(f){return null!=f&&f.length?ra(f,0,-1):[]},Ze.intersection=c9,Ze.intersectionBy=l9,Ze.intersectionWith=u9,Ze.invert=Of,Ze.invertBy=ip,Ze.invokeMap=V9,Ze.iteratee=t8,Ze.keyBy=pf,Ze.keys=Wr,Ze.keysIn=Wi,Ze.map=Rl,Ze.mapKeys=function Pa(f,x){var K={};return x=E2(x,3),nr(f,function(we,ke,it){Un(K,x(we,ke,it),we)}),K},Ze.mapValues=function ap(f,x){var K={};return x=E2(x,3),nr(f,function(we,ke,it){Un(K,ke,x(we,ke,it))}),K},Ze.matches=function Vp(f){return K4(Gn(f,1))},Ze.matchesProperty=function t0(f,x){return wl(f,Gn(x,1))},Ze.memoize=hc,Ze.merge=Rf,Ze.mergeWith=Bf,Ze.method=o4,Ze.methodOf=n8,Ze.mixin=f3,Ze.negate=e4,Ze.nthArg=function Kf(f){return f=c1(f),u1(function(x){return Sl(x,f)})},Ze.omit=sp,Ze.omitBy=function op(f,x){return Y6(f,e4(E2(x)))},Ze.once=function I9(f){return E9(2,f)},Ze.orderBy=function k9(f,x,K,we){return null==f?[]:(n1(x)||(x=null==x?[]:[x]),n1(K=we?s:K)||(K=null==K?[]:[K]),d5(f,x,K))},Ze.over=i8,Ze.overArgs=q1,Ze.overEvery=a8,Ze.overSome=s8,Ze.partial=Gl,Ze.partialRight=Mf,Ze.partition=A9,Ze.pick=cp,Ze.pickBy=Y6,Ze.property=o8,Ze.propertyOf=function c8(f){return function(x){return null==f?s:Cr(f,x)}},Ze.pull=W5,Ze.pullAll=Nl,Ze.pullAllBy=function d9(f,x,K){return f&&f.length&&x&&x.length?zl(f,x,E2(K,2)):f},Ze.pullAllWith=function h9(f,x,K){return f&&f.length&&x&&x.length?zl(f,x,s,K):f},Ze.pullAt=q5,Ze.range=kp,Ze.rangeRight=Ap,Ze.rearg=pc,Ze.reject=function Os(f,x){return(n1(f)?ci:V1)(f,e4(E2(x,3)))},Ze.remove=function Y5(f,x){var K=[];if(!f||!f.length)return K;var we=-1,ke=[],it=f.length;for(x=E2(x,3);++we<it;){var St=f[we];x(St,we,f)&&(K.push(St),ke.push(we))}return m5(f,ke),K},Ze.rest=function wf(f,x){if("function"!=typeof f)throw new Ti(l);return u1(f,x=x===s?x:c1(x))},Ze.reverse=Is,Ze.sampleSize=function mf(f,x,K){return x=(K?gi(f,x,K):x===s)?1:c1(x),(n1(f)?lt:$3)(f,x)},Ze.set=function up(f,x,K){return null==f?f:J4(f,x,K)},Ze.setWith=function fp(f,x,K,we){return we="function"==typeof we?we:s,null==f?f:J4(f,x,K,we)},Ze.shuffle=function gf(f){return(n1(f)?Rt:Fh)(f)},Ze.slice=function Z5(f,x,K){var we=null==f?0:f.length;return we?(K&&"number"!=typeof K&&gi(f,x,K)?(x=0,K=we):(x=null==x?0:c1(x),K=K===s?we:c1(K)),ra(f,x,K)):[]},Ze.sortBy=J_,Ze.sortedUniq=function Q5(f){return f&&f.length?Zo(f):[]},Ze.sortedUniqBy=function J5(f,x){return f&&f.length?Zo(f,E2(x,2)):[]},Ze.split=function bp(f,x,K){return K&&"number"!=typeof K&&gi(f,x,K)&&(x=K=s),(K=K===s?le:K>>>0)?(f=E1(f))&&("string"==typeof x||null!=x&&!W6(x))&&!(x=Vi(x))&&ir(f)?ya(jr(f),0,K):f.split(x,K):[]},Ze.spread=function O9(f,x){if("function"!=typeof f)throw new Ti(l);return x=null==x?0:_1(c1(x),0),u1(function(K){var we=K[x],ke=ya(K,0,x);return we&&q2(ke,we),si(f,this,ke)})},Ze.tail=function N6(f){var x=null==f?0:f.length;return x?ra(f,1,x):[]},Ze.take=function ef(f,x,K){return f&&f.length?ra(f,0,(x=K||x===s?1:c1(x))<0?0:x):[]},Ze.takeRight=function Pl(f,x,K){var we=null==f?0:f.length;return we?ra(f,(x=we-(x=K||x===s?1:c1(x)))<0?0:x,we):[]},Ze.takeRightWhile=function Il(f,x){return f&&f.length?c2(f,E2(x,3),!1,!0):[]},Ze.takeWhile=function tf(f,x){return f&&f.length?c2(f,E2(x,3)):[]},Ze.tap=function b9(f,x){return x(f),f},Ze.throttle=function F9(f,x,K){var we=!0,ke=!0;if("function"!=typeof f)throw new Ti(l);return R1(K)&&(we="leading"in K?!!K.leading:we,ke="trailing"in K?!!K.trailing:ke),bf(f,x,{leading:we,maxWait:x,trailing:ke})},Ze.thru=J3,Ze.toArray=i4,Ze.toPairs=K2,Ze.toPairsIn=je,Ze.toPath=function oa(f){return n1(f)?G1(f,Ea):ba(f)?[f]:Gi(L6(E1(f)))},Ze.toPlainObject=Pf,Ze.transform=function Uf(f,x,K){var we=n1(f),ke=we||_o(f)||n4(f);if(x=E2(x,4),null==K){var it=f&&f.constructor;K=ke?we?new it:[]:R1(f)&&Fs(it)?Gr(B4(f)):{}}return(ke?oi:nr)(f,function(St,Et,Yt){return x(K,St,Et,Yt)}),K},Ze.unary=function R9(f){return Ul(f,1)},Ze.union=E6,Ze.unionBy=P6,Ze.unionWith=I6,Ze.uniq=function fc(f){return f&&f.length?ia(f):[]},Ze.uniqBy=function g9(f,x){return f&&f.length?ia(f,E2(x,2)):[]},Ze.uniqWith=function nf(f,x){return x="function"==typeof x?x:s,f&&f.length?ia(f,s,x):[]},Ze.unset=function jf(f,x){return null==f||v5(f,x)},Ze.unzip=O6,Ze.unzipWith=rf,Ze.update=function dp(f,x,K){return null==f?f:y5(f,x,b5(K))},Ze.updateWith=function hp(f,x,K,we){return we="function"==typeof we?we:s,null==f?f:y5(f,x,b5(K),we)},Ze.values=u3,Ze.valuesIn=function pp(f){return null==f?[]:E4(f,Wi(f))},Ze.without=v9,Ze.words=J6,Ze.wrap=function B9(f,x){return Gl(b5(x),f)},Ze.xor=af,Ze.xorBy=sf,Ze.xorWith=Ol,Ze.zip=F6,Ze.zipObject=function i3(f,x){return Bh(f||[],x||[],pt)},Ze.zipObjectDeep=function y9(f,x){return Bh(f||[],x||[],J4)},Ze.zipWith=_9,Ze.entries=K2,Ze.entriesIn=je,Ze.extend=Zl,Ze.extendWith=Rs,f3(Ze,Ze),Ze.add=Pp,Ze.attempt=e0,Ze.camelCase=sC,Ze.capitalize=Z6,Ze.ceil=dC,Ze.clamp=function Gf(f,x,K){return K===s&&(K=x,x=s),K!==s&&(K=(K=yi(K))==K?K:0),x!==s&&(x=(x=yi(x))==x?x:0),_2(yi(f),x,K)},Ze.clone=function eC(f){return Gn(f,4)},Ze.cloneDeep=function mc(f){return Gn(f,5)},Ze.cloneDeepWith=function $l(f,x){return Gn(f,5,x="function"==typeof x?x:s)},Ze.cloneWith=function tC(f,x){return Gn(f,4,x="function"==typeof x?x:s)},Ze.conformsTo=function zf(f,x){return null==x||C1(f,x,Wr(x))},Ze.deburr=X6,Ze.defaultTo=function Tt(f,x){return null==f||f!=f?x:f},Ze.divide=u8,Ze.endsWith=function Ai(f,x,K){f=E1(f),x=Vi(x);var we=f.length,ke=K=K===s?we:_2(c1(K),0,we);return(K-=x.length)>=0&&f.slice(K,ke)==x},Ze.eq=Ca,Ze.escape=function vp(f){return(f=E1(f))&&Pt.test(f)?f.replace(Ue,p2):f},Ze.escapeRegExp=function K6(f){return(f=E1(f))&&We.test(f)?f.replace(_e,"\\$&"):f},Ze.every=function w9(f,x,K){var we=n1(f)?Da:L2;return K&&gi(f,x,K)&&(x=s),we(f,E2(x,3))},Ze.find=z9,Ze.findIndex=kl,Ze.findKey=function ep(f,x){return Ta(f,E2(x,3),nr)},Ze.findLast=L9,Ze.findLastIndex=Al,Ze.findLastKey=function tp(f,x){return Ta(f,E2(x,3),kr)},Ze.floor=t7,Ze.forEach=df,Ze.forEachRight=hf,Ze.forIn=function a4(f,x){return null==f?f:tr(f,E2(x,3),Wi)},Ze.forInRight=function Bs(f,x){return null==f?f:_r(f,E2(x,3),Wi)},Ze.forOwn=function np(f,x){return f&&nr(f,E2(x,3))},Ze.forOwnRight=function rp(f,x){return f&&kr(f,E2(x,3))},Ze.get=Xl,Ze.gt=Lf,Ze.gte=nC,Ze.has=function aC(f,x){return null!=f&&Hl(f,x,ji)},Ze.hasIn=Kl,Ze.head=G5,Ze.identity=Ni,Ze.includes=function T9(f,x,K,we){f=vi(f)?f:u3(f),K=K&&!we?c1(K):0;var ke=f.length;return K<0&&(K=_1(ke+K,0)),vc(f)?K<=ke&&f.indexOf(x,K)>-1:!!ke&&Js(f,x,K)>-1},Ze.indexOf=function k6(f,x,K){var we=null==f?0:f.length;if(!we)return-1;var ke=null==K?0:c1(K);return ke<0&&(ke=_1(we+ke,0)),Js(f,x,ke)},Ze.inRange=function mp(f,x,K){return x=Nr(x),K===s?(K=x,x=0):K=Nr(K),function is(f,x,K){return f>=vr(x,K)&&f<_1(x,K)}(f=yi(f),x,K)},Ze.invoke=Ff,Ze.isArguments=s3,Ze.isArray=n1,Ze.isArrayBuffer=Hf,Ze.isArrayLike=vi,Ze.isArrayLikeObject=Ar,Ze.isBoolean=function G6(f){return!0===f||!1===f||lr(f)&&F1(f)==Y},Ze.isBuffer=_o,Ze.isDate=$6,Ze.isElement=function Df(f){return lr(f)&&1===f.nodeType&&!l3(f)},Ze.isEmpty=function Tf(f){if(null==f)return!0;if(vi(f)&&(n1(f)||"string"==typeof f||"function"==typeof f.splice||_o(f)||n4(f)||s3(f)))return!f.length;var x=$r(f);if(x==xe||x==Ke)return!f.size;if(lc(f))return!Ml(f).length;for(var K in f)if(X2.call(f,K))return!1;return!0},Ze.isEqual=function o3(f,x){return j3(f,x)},Ze.isEqualWith=function U9(f,x,K){var we=(K="function"==typeof K?K:s)?K(f,x):s;return we===s?j3(f,x,s,K):!!we},Ze.isError=gc,Ze.isFinite=function Wl(f){return"number"==typeof f&&na(f)},Ze.isFunction=Fs,Ze.isInteger=ql,Ze.isLength=c3,Ze.isMap=Yl,Ze.isMatch=function j9(f,x){return f===x||f6(f,x,V5(x))},Ze.isMatchWith=function G9(f,x,K){return K="function"==typeof K?K:s,f6(f,x,V5(x),K)},Ze.isNaN=function Vf(f){return kf(f)&&f!=+f},Ze.isNative=function t4(f){if($i(f))throw new S2("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return X4(f)},Ze.isNil=function W9(f){return null==f},Ze.isNull=function $9(f){return null===f},Ze.isNumber=kf,Ze.isObject=R1,Ze.isObjectLike=lr,Ze.isPlainObject=l3,Ze.isRegExp=W6,Ze.isSafeInteger=function Af(f){return ql(f)&&f>=-Ce&&f<=Ce},Ze.isSet=Nf,Ze.isString=vc,Ze.isSymbol=ba,Ze.isTypedArray=n4,Ze.isUndefined=function Co(f){return f===s},Ze.isWeakMap=function q9(f){return lr(f)&&$r(f)==Se},Ze.isWeakSet=function r4(f){return lr(f)&&"[object WeakSet]"==F1(f)},Ze.join=function f9(f,x){return null==f?"":ts.call(f,x)},Ze.kebabCase=Q6,Ze.last=_a,Ze.lastIndexOf=function $5(f,x,K){var we=null==f?0:f.length;if(!we)return-1;var ke=we;return K!==s&&(ke=(ke=c1(K))<0?_1(we+ke,0):vr(ke,we-1)),x==x?function Va(jt,dn,un){for(var Jn=un+1;Jn--;)if(jt[Jn]===dn)return Jn;return Jn}(f,x,ke):li(f,Di,ke,!0)},Ze.lowerCase=yp,Ze.lowerFirst=oC,Ze.lt=K1,Ze.lte=Y9,Ze.max=function Ip(f){return f&&f.length?s1(f,Ni,cr):s},Ze.maxBy=function Op(f,x){return f&&f.length?s1(f,E2(x,2),cr):s},Ze.mean=function Fp(f){return Qi(f,Ni)},Ze.meanBy=function n7(f,x){return Qi(f,E2(x,2))},Ze.min=function Rp(f){return f&&f.length?s1(f,Ni,va):s},Ze.minBy=function Bp(f,x){return f&&f.length?s1(f,E2(x,2),va):s},Ze.stubArray=n0,Ze.stubFalse=l8,Ze.stubObject=function Qf(){return{}},Ze.stubString=function Jf(){return""},Ze.stubTrue=function Np(){return!0},Ze.multiply=f8,Ze.nth=function A6(f,x){return f&&f.length?Sl(f,c1(x)):s},Ze.noConflict=function r8(){return Y1._===this&&(Y1._=Ui),this},Ze.noop=c4,Ze.now=B6,Ze.pad=function cC(f,x,K){f=E1(f);var we=(x=c1(x))?Z1(f):0;if(!x||we>=x)return f;var ke=(x-we)/2;return ic(ao(ke),K)+f+ic(es(ke),K)},Ze.padEnd=function lC(f,x,K){f=E1(f);var we=(x=c1(x))?Z1(f):0;return x&&we<x?f+ic(x-we,K):f},Ze.padStart=function _p(f,x,K){f=E1(f);var we=(x=c1(x))?Z1(f):0;return x&&we<x?ic(x-we,K)+f:f},Ze.parseInt=function $f(f,x,K){return K||null==x?x=0:x&&(x=+x),gl(E1(f).replace(Je,""),x||0)},Ze.random=function gp(f,x,K){if(K&&"boolean"!=typeof K&&gi(f,x,K)&&(x=K=s),K===s&&("boolean"==typeof x?(K=x,x=s):"boolean"==typeof f&&(K=f,f=s)),f===s&&x===s?(f=0,x=1):(f=Nr(f),x===s?(x=f,f=0):x=Nr(x)),f>x){var we=f;f=x,x=we}if(K||f%1||x%1){var ke=fi();return vr(f+ke*(x-f+Qs("1e-"+((ke+"").length-1))),x)}return G3(f,x)},Ze.reduce=function N9(f,x,K){var we=n1(f)?Ss:Ro,ke=arguments.length<3;return we(f,E2(x,4),K,ke,Yn)},Ze.reduceRight=function Bl(f,x,K){var we=n1(f)?A4:Ro,ke=arguments.length<3;return we(f,E2(x,4),K,ke,N2)},Ze.repeat=function uC(f,x,K){return x=(K?gi(f,x,K):x===s)?1:c1(x),g6(E1(f),x)},Ze.replace=function Cp(){var f=arguments,x=E1(f[0]);return f.length<3?x:x.replace(f[1],f[2])},Ze.result=function lp(f,x,K){var we=-1,ke=(x=Xo(x,f)).length;for(ke||(ke=1,f=s);++we<ke;){var it=null==f?s:f[Ea(x[we])];it===s&&(we=ke,it=K),f=Fs(it)?it.call(f):it}return f},Ze.round=Up,Ze.runInContext=jt,Ze.sample=function dc(f){return(n1(f)?Ct:g5)(f)},Ze.size=function vf(f){if(null==f)return 0;if(vi(f))return vc(f)?Z1(f):f.length;var x=$r(f);return x==xe||x==Ke?f.size:Ml(f).length},Ze.snakeCase=s4,Ze.some=function Q_(f,x,K){var we=n1(f)?zs:Ll;return K&&gi(f,x,K)&&(x=s),we(f,E2(x,3))},Ze.sortedIndex=function X5(f,x){return As(f,x)},Ze.sortedIndexBy=function p9(f,x,K){return fo(f,x,E2(K,2))},Ze.sortedIndexOf=function K_(f,x){var K=null==f?0:f.length;if(K){var we=As(f,x);if(we<K&&Ca(f[we],x))return we}return-1},Ze.sortedLastIndex=function El(f,x){return As(f,x,!0)},Ze.sortedLastIndexBy=function m9(f,x,K){return fo(f,x,E2(K,2),!0)},Ze.sortedLastIndexOf=function K5(f,x){if(null!=f&&f.length){var we=As(f,x,!0)-1;if(Ca(f[we],x))return we}return-1},Ze.startCase=Wf,Ze.startsWith=function Ql(f,x,K){return f=E1(f),K=null==K?0:_2(c1(K),0,f.length),x=Vi(x),f.slice(K,K+x.length)==x},Ze.subtract=jp,Ze.sum=function Gp(f){return f&&f.length?V3(f,Ni):0},Ze.sumBy=function $p(f,x){return f&&f.length?V3(f,E2(x,2)):0},Ze.template=function xp(f,x,K){var we=Ze.templateSettings;K&&gi(f,x,K)&&(x=s),f=E1(f),x=Rs({},x,we,Jo);var Et,Yt,ke=Rs({},x.imports,we.imports,Jo),it=Wr(ke),St=E4(ke,it),Cn=0,Sn=x.interpolate||Ut,An="__p += '",Zn=N3((x.escape||Ut).source+"|"+Sn.source+"|"+(Sn===Xt?rn:Ut).source+"|"+(x.evaluate||Ut).source+"|$","g"),m2="//# sourceURL="+(X2.call(x,"sourceURL")?(x.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ir+"]")+"\n";f.replace(Zn,function(V2,w1,S1,qi,_i,Yi){return S1||(S1=qi),An+=f.slice(Cn,Yi).replace(Jt,W1),w1&&(Et=!0,An+="' +\n__e("+w1+") +\n'"),_i&&(Yt=!0,An+="';\n"+_i+";\n__p += '"),S1&&(An+="' +\n((__t = ("+S1+")) == null ? '' : __t) +\n'"),Cn=Yi+V2.length,V2}),An+="';\n";var D2=X2.call(x,"variable")&&x.variable;if(D2){if(kt.test(D2))throw new S2("Invalid `variable` option passed into `_.template`")}else An="with (obj) {\n"+An+"\n}\n";An=(Yt?An.replace(yt,""):An).replace(Ot,"$1").replace(bt,"$1;"),An="function("+(D2||"obj")+") {\n"+(D2?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Et?", __e = _.escape":"")+(Yt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+An+"return __p\n}";var d1=e0(function(){return p1(it,m2+"return "+An).apply(s,St)});if(d1.source=An,gc(d1))throw d1;return d1},Ze.times=function Ep(f,x){if((f=c1(f))<1||f>Ce)return[];var K=le,we=vr(f,le);x=E2(x),f-=le;for(var ke=ea(we,x);++K<f;)x(K);return ke},Ze.toFinite=Nr,Ze.toInteger=c1,Ze.toLength=Ef,Ze.toLower=function qf(f){return E1(f).toLowerCase()},Ze.toNumber=yi,Ze.toSafeInteger=function q6(f){return f?_2(c1(f),-Ce,Ce):0===f?f:0},Ze.toString=E1,Ze.toUpper=function Mp(f){return E1(f).toUpperCase()},Ze.trim=function wp(f,x,K){if((f=E1(f))&&(K||x===s))return pl(f);if(!f||!(x=Vi(x)))return f;var we=jr(f),ke=jr(x);return ya(we,P4(we,ke),$1(we,ke)+1).join("")},Ze.trimEnd=function Sp(f,x,K){if((f=E1(f))&&(K||x===s))return f.slice(0,er(f)+1);if(!f||!(x=Vi(x)))return f;var we=jr(f);return ya(we,0,$1(we,jr(x))+1).join("")},Ze.trimStart=function zp(f,x,K){if((f=E1(f))&&(K||x===s))return f.replace(Je,"");if(!f||!(x=Vi(x)))return f;var we=jr(f);return ya(we,P4(we,jr(x))).join("")},Ze.truncate=function Lp(f,x){var K=30,we="...";if(R1(x)){var ke="separator"in x?x.separator:ke;K="length"in x?c1(x.length):K,we="omission"in x?Vi(x.omission):we}var it=(f=E1(f)).length;if(ir(f)){var St=jr(f);it=St.length}if(K>=it)return f;var Et=K-Z1(we);if(Et<1)return we;var Yt=St?ya(St,0,Et).join(""):f.slice(0,Et);if(ke===s)return Yt+we;if(St&&(Et+=Yt.length-Et),W6(ke)){if(f.slice(Et).search(ke)){var Cn,Sn=Yt;for(ke.global||(ke=N3(ke.source,E1(Dt.exec(ke))+"g")),ke.lastIndex=0;Cn=ke.exec(Sn);)var An=Cn.index;Yt=Yt.slice(0,An===s?Et:An)}}else if(f.indexOf(Vi(ke),Et)!=Et){var Zn=Yt.lastIndexOf(ke);Zn>-1&&(Yt=Yt.slice(0,Zn))}return Yt+we},Ze.unescape=function Yf(f){return(f=E1(f))&&gt.test(f)?f.replace(Fe,k3):f},Ze.uniqueId=function e7(f){var x=++Bi;return E1(f)+x},Ze.upperCase=Hp,Ze.upperFirst=Jl,Ze.each=df,Ze.eachRight=hf,Ze.first=G5,f3(Ze,function(){var f={};return nr(Ze,function(x,K){X2.call(Ze.prototype,K)||(f[K]=x)}),f}(),{chain:!1}),Ze.VERSION="4.17.21",oi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){Ze[f].placeholder=Ze}),oi(["drop","take"],function(f,x){Bn.prototype[f]=function(K){K=K===s?1:_1(c1(K),0);var we=this.__filtered__&&!x?new Bn(this):this.clone();return we.__filtered__?we.__takeCount__=vr(K,we.__takeCount__):we.__views__.push({size:vr(K,le),type:f+(we.__dir__<0?"Right":"")}),we},Bn.prototype[f+"Right"]=function(K){return this.reverse()[f](K).reverse()}}),oi(["filter","map","takeWhile"],function(f,x){var K=x+1,we=1==K||3==K;Bn.prototype[f]=function(ke){var it=this.clone();return it.__iteratees__.push({iteratee:E2(ke,3),type:K}),it.__filtered__=it.__filtered__||we,it}}),oi(["head","last"],function(f,x){var K="take"+(x?"Right":"");Bn.prototype[f]=function(){return this[K](1).value()[0]}}),oi(["initial","tail"],function(f,x){var K="drop"+(x?"":"Right");Bn.prototype[f]=function(){return this.__filtered__?new Bn(this):this[K](1)}}),Bn.prototype.compact=function(){return this.filter(Ni)},Bn.prototype.find=function(f){return this.filter(f).head()},Bn.prototype.findLast=function(f){return this.reverse().find(f)},Bn.prototype.invokeMap=u1(function(f,x){return"function"==typeof f?new Bn(this):this.map(function(K){return pi(K,f,x)})}),Bn.prototype.reject=function(f){return this.filter(e4(E2(f)))},Bn.prototype.slice=function(f,x){f=c1(f);var K=this;return K.__filtered__&&(f>0||x<0)?new Bn(K):(f<0?K=K.takeRight(-f):f&&(K=K.drop(f)),x!==s&&(K=(x=c1(x))<0?K.dropRight(-x):K.take(x-f)),K)},Bn.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},Bn.prototype.toArray=function(){return this.take(le)},nr(Bn.prototype,function(f,x){var K=/^(?:filter|find|map|reject)|While$/.test(x),we=/^(?:head|last)$/.test(x),ke=Ze[we?"take"+("last"==x?"Right":""):x],it=we||/^find/.test(x);ke&&(Ze.prototype[x]=function(){var St=this.__wrapped__,Et=we?[1]:arguments,Yt=St instanceof Bn,Cn=Et[0],Sn=Yt||n1(St),An=function(w1){var S1=ke.apply(Ze,q2([w1],Et));return we&&Zn?S1[0]:S1};Sn&&K&&"function"==typeof Cn&&1!=Cn.length&&(Yt=Sn=!1);var Zn=this.__chain__,m2=!!this.__actions__.length,D2=it&&!Zn,d1=Yt&&!m2;if(!it&&Sn){St=d1?St:new Bn(this);var V2=f.apply(St,Et);return V2.__actions__.push({func:J3,args:[An],thisArg:s}),new Vr(V2,Zn)}return D2&&d1?f.apply(this,Et):(V2=this.thru(An),D2?we?V2.value()[0]:V2.value():V2)})}),oi(["pop","push","shift","sort","splice","unshift"],function(f){var x=ka[f],K=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",we=/^(?:pop|shift)$/.test(f);Ze.prototype[f]=function(){var ke=arguments;if(we&&!this.__chain__){var it=this.value();return x.apply(n1(it)?it:[],ke)}return this[K](function(St){return x.apply(n1(St)?St:[],ke)})}}),nr(Bn.prototype,function(f,x){var K=Ze[x];if(K){var we=K.name+"";X2.call(Vs,we)||(Vs[we]=[]),Vs[we].push({name:x,func:K})}}),Vs[Y3(s,2).name]=[{name:"wrapper",func:s}],Bn.prototype.clone=function Wo(){var f=new Bn(this.__wrapped__);return f.__actions__=Gi(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=Gi(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=Gi(this.__views__),f},Bn.prototype.reverse=function yr(){if(this.__filtered__){var f=new Bn(this);f.__dir__=-1,f.__filtered__=!0}else(f=this.clone()).__dir__*=-1;return f},Bn.prototype.value=function yl(){var f=this.__wrapped__.value(),x=this.__dir__,K=n1(f),we=x<0,ke=K?f.length:0,it=function $_(f,x,K){for(var we=-1,ke=K.length;++we<ke;){var it=K[we],St=it.size;switch(it.type){case"drop":f+=St;break;case"dropRight":x-=St;break;case"take":x=vr(x,f+St);break;case"takeRight":f=_1(f,x-St)}}return{start:f,end:x}}(0,ke,this.__views__),St=it.start,Et=it.end,Yt=Et-St,Cn=we?Et:St-1,Sn=this.__iteratees__,An=Sn.length,Zn=0,m2=vr(Yt,this.__takeCount__);if(!K||!we&&ke==Yt&&m2==Yt)return Rh(f,this.__actions__);var D2=[];e:for(;Yt--&&Zn<m2;){for(var d1=-1,V2=f[Cn+=x];++d1<An;){var w1=Sn[d1],qi=w1.type,_i=(0,w1.iteratee)(V2);if(2==qi)V2=_i;else if(!_i){if(1==qi)continue e;break e}}D2[Zn++]=V2}return D2},Ze.prototype.at=x9,Ze.prototype.chain=function cf(){return C9(this)},Ze.prototype.commit=function Fl(){return new Vr(this.value(),this.__chain__)},Ze.prototype.next=function R6(){this.__values__===s&&(this.__values__=i4(this.value()));var f=this.__index__>=this.__values__.length;return{done:f,value:f?s:this.__values__[this.__index__++]}},Ze.prototype.plant=function uf(f){for(var x,K=this;K instanceof co;){var we=R5(K);we.__index__=0,we.__values__=s,x?ke.__wrapped__=we:x=we;var ke=we;K=K.__wrapped__}return ke.__wrapped__=f,x},Ze.prototype.reverse=function ff(){var f=this.__wrapped__;if(f instanceof Bn){var x=f;return this.__actions__.length&&(x=new Bn(this)),(x=x.reverse()).__actions__.push({func:J3,args:[Is],thisArg:s}),new Vr(x,this.__chain__)}return this.thru(Is)},Ze.prototype.toJSON=Ze.prototype.valueOf=Ze.prototype.value=function a3(){return Rh(this.__wrapped__,this.__actions__)},Ze.prototype.first=Ze.prototype.head,I3&&(Ze.prototype[I3]=function lf(){return this}),Ze}();Y1._=Ls,(J=function(){return Ls}.call(v,pe,v,Ha))!==s&&(Ha.exports=J)}.call(this)},500:Ha=>{Ha.exports=function v(pe,J,s){function g(l,m){if(!J[l]){if(!pe[l]){if(p)return p(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var u=J[l]={exports:{}};pe[l][0].call(u.exports,function(C){return g(pe[l][1][C]||C)},u,u.exports,v,pe,J,s)}return J[l].exports}for(var p=void 0,c=0;c<s.length;c++)g(s[c]);return g}({1:[function(v,pe,J){"use strict";var s=v("../src/lib"),g={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:#fff;","X .select-outline-2":"stroke:#000;stroke-dasharray:2px 2px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var p in g){var c=p.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");s.addStyleRule(c,g[p])}},{"../src/lib":232}],2:[function(v,pe,J){"use strict";pe.exports=v("../src/transforms/aggregate")},{"../src/transforms/aggregate":386}],3:[function(v,pe,J){"use strict";pe.exports=v("../src/traces/bar")},{"../src/traces/bar":336}],4:[function(v,pe,J){"use strict";pe.exports=v("../src/components/calendars")},{"../src/components/calendars":100}],5:[function(v,pe,J){"use strict";pe.exports=v("../src/core")},{"../src/core":214}],6:[function(v,pe,J){"use strict";pe.exports=v("../src/transforms/filter")},{"../src/transforms/filter":387}],7:[function(v,pe,J){"use strict";pe.exports=v("../src/transforms/groupby")},{"../src/transforms/groupby":388}],8:[function(v,pe,J){"use strict";var s=v("./core");s.register([v("./bar"),v("./pie"),v("./aggregate"),v("./filter"),v("./groupby"),v("./sort"),v("./calendars")]),pe.exports=s},{"./aggregate":2,"./bar":3,"./calendars":4,"./core":5,"./filter":6,"./groupby":7,"./pie":9,"./sort":10}],9:[function(v,pe,J){"use strict";pe.exports=v("../src/traces/pie")},{"../src/traces/pie":351}],10:[function(v,pe,J){"use strict";pe.exports=v("../src/transforms/sort")},{"../src/transforms/sort":390}],11:[function(v,pe,J){(function(){var s={version:"3.8.0"},g=[].slice,p=function(y){return g.call(y)},c=self.document;function l(y){return y&&(y.ownerDocument||y.document||y).documentElement}function m(y){return y&&(y.ownerDocument&&y.ownerDocument.defaultView||y.document&&y||y.defaultView)}if(c)try{p(c.documentElement.childNodes)}catch{p=function(T){for(var U=T.length,re=new Array(U);U--;)re[U]=T[U];return re}}if(Date.now||(Date.now=function(){return+new Date}),c)try{c.createElement("DIV").style.setProperty("opacity",0,"")}catch{var d=this.Element.prototype,h=d.setAttribute,u=d.setAttributeNS,C=this.CSSStyleDeclaration.prototype,b=C.setProperty;d.setAttribute=function(T,U){h.call(this,T,U+"")},d.setAttributeNS=function(T,U,re){u.call(this,T,U,re+"")},C.setProperty=function(T,U,re){b.call(this,T,U+"",re)}}function M(y,T){return y<T?-1:y>T?1:y>=T?0:NaN}function w(y){return null===y?NaN:+y}function N(y){return!isNaN(y)}function A(y){return{left:function(T,U,re,ce){for(arguments.length<3&&(re=0),arguments.length<4&&(ce=T.length);re<ce;){var me=re+ce>>>1;y(T[me],U)<0?re=me+1:ce=me}return re},right:function(T,U,re,ce){for(arguments.length<3&&(re=0),arguments.length<4&&(ce=T.length);re<ce;){var me=re+ce>>>1;y(T[me],U)>0?ce=me:re=me+1}return re}}}s.ascending=M,s.descending=function(y,T){return T<y?-1:T>y?1:T>=y?0:NaN},s.min=function(y,T){var U,re,ce=-1,me=y.length;if(1===arguments.length){for(;++ce<me;)if(null!=(re=y[ce])&&re>=re){U=re;break}for(;++ce<me;)null!=(re=y[ce])&&U>re&&(U=re)}else{for(;++ce<me;)if(null!=(re=T.call(y,y[ce],ce))&&re>=re){U=re;break}for(;++ce<me;)null!=(re=T.call(y,y[ce],ce))&&U>re&&(U=re)}return U},s.max=function(y,T){var U,re,ce=-1,me=y.length;if(1===arguments.length){for(;++ce<me;)if(null!=(re=y[ce])&&re>=re){U=re;break}for(;++ce<me;)null!=(re=y[ce])&&re>U&&(U=re)}else{for(;++ce<me;)if(null!=(re=T.call(y,y[ce],ce))&&re>=re){U=re;break}for(;++ce<me;)null!=(re=T.call(y,y[ce],ce))&&re>U&&(U=re)}return U},s.extent=function(y,T){var U,re,ce,me=-1,ye=y.length;if(1===arguments.length){for(;++me<ye;)if(null!=(re=y[me])&&re>=re){U=ce=re;break}for(;++me<ye;)null!=(re=y[me])&&(U>re&&(U=re),ce<re&&(ce=re))}else{for(;++me<ye;)if(null!=(re=T.call(y,y[me],me))&&re>=re){U=ce=re;break}for(;++me<ye;)null!=(re=T.call(y,y[me],me))&&(U>re&&(U=re),ce<re&&(ce=re))}return[U,ce]},s.sum=function(y,T){var U,re=0,ce=y.length,me=-1;if(1===arguments.length)for(;++me<ce;)N(U=+y[me])&&(re+=U);else for(;++me<ce;)N(U=+T.call(y,y[me],me))&&(re+=U);return re},s.mean=function(y,T){var U,re=0,ce=y.length,me=-1,ye=ce;if(1===arguments.length)for(;++me<ce;)N(U=w(y[me]))?re+=U:--ye;else for(;++me<ce;)N(U=w(T.call(y,y[me],me)))?re+=U:--ye;if(ye)return re/ye},s.quantile=function(y,T){var U=(y.length-1)*T+1,re=Math.floor(U),ce=+y[re-1],me=U-re;return me?ce+me*(y[re]-ce):ce},s.median=function(y,T){var U,re=[],ce=y.length,me=-1;if(1===arguments.length)for(;++me<ce;)N(U=w(y[me]))&&re.push(U);else for(;++me<ce;)N(U=w(T.call(y,y[me],me)))&&re.push(U);if(re.length)return s.quantile(re.sort(M),.5)},s.variance=function(y,T){var U,re,ce=y.length,me=0,ye=0,He=-1,Le=0;if(1===arguments.length)for(;++He<ce;)N(U=w(y[He]))&&(ye+=(re=U-me)*(U-(me+=re/++Le)));else for(;++He<ce;)N(U=w(T.call(y,y[He],He)))&&(ye+=(re=U-me)*(U-(me+=re/++Le)));if(Le>1)return ye/(Le-1)},s.deviation=function(){var y=s.variance.apply(this,arguments);return y&&Math.sqrt(y)};var V=A(M);function L(y){return y.length}s.bisectLeft=V.left,s.bisect=s.bisectRight=V.right,s.bisector=function(y){return A(1===y.length?function(T,U){return M(y(T),U)}:y)},s.shuffle=function(y,T,U){(me=arguments.length)<3&&(U=y.length,me<2&&(T=0));for(var re,ce,me=U-T;me;)ce=Math.random()*me--|0,re=y[me+T],y[me+T]=y[ce+T],y[ce+T]=re;return y},s.permute=function(y,T){for(var U=T.length,re=new Array(U);U--;)re[U]=y[T[U]];return re},s.pairs=function(y){for(var T=0,U=y.length-1,re=y[0],ce=new Array(U<0?0:U);T<U;)ce[T]=[re,re=y[++T]];return ce},s.transpose=function(y){if(!(ce=y.length))return[];for(var T=-1,U=s.min(y,L),re=new Array(U);++T<U;)for(var ce,me=-1,ye=re[T]=new Array(ce);++me<ce;)ye[me]=y[me][T];return re},s.zip=function(){return s.transpose(arguments)},s.keys=function(y){var T=[];for(var U in y)T.push(U);return T},s.values=function(y){var T=[];for(var U in y)T.push(y[U]);return T},s.entries=function(y){var T=[];for(var U in y)T.push({key:U,value:y[U]});return T},s.merge=function(y){for(var T,U,re,ce=y.length,me=-1,ye=0;++me<ce;)ye+=y[me].length;for(U=new Array(ye);--ce>=0;)for(T=(re=y[ce]).length;--T>=0;)U[--ye]=re[T];return U};var H=Math.abs;function I(y){for(var T=1;y*T%1;)T*=10;return T}function D(y,T){for(var U in T)Object.defineProperty(y.prototype,U,{value:T[U],enumerable:!1})}function E(){this._=Object.create(null)}function P(y){return"__proto__"==(y+="")||"\0"===y[0]?"\0"+y:y}function S(y){return"\0"===(y+="")[0]?y.slice(1):y}function R(y){return P(y)in this._}function G(y){return(y=P(y))in this._&&delete this._[y]}function z(){var y=[];for(var T in this._)y.push(S(T));return y}function X(){var y=0;for(var T in this._)++y;return y}function W(){for(var y in this._)return!1;return!0}function Z(){this._=Object.create(null)}function ne(y){return y}function te(y,T,U){return function(){var re=U.apply(T,arguments);return re===T?y:re}}function oe(y,T){if(T in y)return T;T=T.charAt(0).toUpperCase()+T.slice(1);for(var U=0,re=Ce.length;U<re;++U){var ce=Ce[U]+T;if(ce in y)return ce}}s.range=function(y,T,U){if(arguments.length<3&&(U=1,arguments.length<2&&(T=y,y=0)),(T-y)/U==1/0)throw new Error("infinite range");var re,ce=[],me=I(H(U)),ye=-1;if(y*=me,T*=me,(U*=me)<0)for(;(re=y+U*++ye)>T;)ce.push(re/me);else for(;(re=y+U*++ye)<T;)ce.push(re/me);return ce},s.map=function(y,T){var U=new E;if(y instanceof E)y.forEach(function(He,Le){U.set(He,Le)});else if(Array.isArray(y)){var re,ce=-1,me=y.length;if(1===arguments.length)for(;++ce<me;)U.set(ce,y[ce]);else for(;++ce<me;)U.set(T.call(y,re=y[ce],ce),re)}else for(var ye in y)U.set(ye,y[ye]);return U},D(E,{has:R,get:function(y){return this._[P(y)]},set:function(y,T){return this._[P(y)]=T},remove:G,keys:z,values:function(){var y=[];for(var T in this._)y.push(this._[T]);return y},entries:function(){var y=[];for(var T in this._)y.push({key:S(T),value:this._[T]});return y},size:X,empty:W,forEach:function(y){for(var T in this._)y.call(this,S(T),this._[T])}}),s.nest=function(){var y,T,U={},re=[],ce=[];function me(ye,He,Le){if(Le>=re.length)return T?T.call(U,He):y?He.sort(y):He;for(var De,Ne,at,ot,vt=-1,Vt=He.length,ht=re[Le++],Ct=new E;++vt<Vt;)(ot=Ct.get(De=ht(Ne=He[vt])))?ot.push(Ne):Ct.set(De,[Ne]);return ye?(Ne=ye(),at=function(lt,Rt){Ne.set(lt,me(ye,Rt,Le))}):(Ne={},at=function(lt,Rt){Ne[lt]=me(ye,Rt,Le)}),Ct.forEach(at),Ne}return U.map=function(ye,He){return me(He,ye,0)},U.entries=function(ye){return function He(Le,De){if(De>=re.length)return Le;var Ne=[],at=ce[De++];return Le.forEach(function(ot,vt){Ne.push({key:ot,values:He(vt,De)})}),at?Ne.sort(function(ot,vt){return at(ot.key,vt.key)}):Ne}(me(s.map,ye,0),0)},U.key=function(ye){return re.push(ye),U},U.sortKeys=function(ye){return ce[re.length-1]=ye,U},U.sortValues=function(ye){return y=ye,U},U.rollup=function(ye){return T=ye,U},U},s.set=function(y){var T=new Z;if(y)for(var U=0,re=y.length;U<re;++U)T.add(y[U]);return T},D(Z,{has:R,add:function(y){return this._[P(y+="")]=!0,y},remove:G,values:z,size:X,empty:W,forEach:function(y){for(var T in this._)y.call(this,S(T))}}),s.behavior={},s.rebind=function(y,T){for(var U,re=1,ce=arguments.length;++re<ce;)y[U=arguments[re]]=te(y,T,T[U]);return y};var Ce=["webkit","ms","moz","Moz","o","O"];function ie(){}function Q(){}function le(y){var T=[],U=new E;function re(){for(var ce,me=T,ye=-1,He=me.length;++ye<He;)(ce=me[ye].on)&&ce.apply(this,arguments);return y}return re.on=function(ce,me){var ye,He=U.get(ce);return arguments.length<2?He&&He.on:(He&&(He.on=null,T=T.slice(0,ye=T.indexOf(He)).concat(T.slice(ye+1)),U.remove(ce)),me&&T.push(U.set(ce,{on:me})),y)},re}function j(){s.event.preventDefault()}function $(){for(var y,T=s.event;y=T.sourceEvent;)T=y;return T}function se(y){for(var T=new Q,U=0,re=arguments.length;++U<re;)T[arguments[U]]=le(T);return T.of=function(ce,me){return function(ye){try{var He=ye.sourceEvent=s.event;ye.target=y,s.event=ye,T[ye.type].apply(ce,me)}finally{s.event=He}}},T}s.dispatch=function(){for(var y=new Q,T=-1,U=arguments.length;++T<U;)y[arguments[T]]=le(y);return y},Q.prototype.on=function(y,T){var U=y.indexOf("."),re="";if(U>=0&&(re=y.slice(U+1),y=y.slice(0,U)),y)return arguments.length<2?this[y].on(re):this[y].on(re,T);if(2===arguments.length){if(null==T)for(y in this)this.hasOwnProperty(y)&&this[y].on(re,null);return this}},s.event=null,s.requote=function(y){return y.replace(ee,"\\$&")};var ee=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,F={}.__proto__?function(y,T){y.__proto__=T}:function(y,T){for(var U in T)y[U]=T[U]};function O(y){return F(y,ue),y}var Y=function(y,T){return T.querySelector(y)},B=function(y,T){return T.querySelectorAll(y)},ae=function(y,T){var U=y.matches||y[oe(y,"matchesSelector")];return(ae=function(re,ce){return U.call(re,ce)})(y,T)};"function"==typeof Sizzle&&(Y=function(y,T){return Sizzle(y,T)[0]||null},B=Sizzle,ae=Sizzle.matchesSelector),s.selection=function(){return s.select(c.documentElement)};var ue=s.selection.prototype=[];function fe(y){return"function"==typeof y?y:function(){return Y(y,this)}}function he(y){return"function"==typeof y?y:function(){return B(y,this)}}ue.select=function(y){var T,U,re,ce,me=[];y=fe(y);for(var ye=-1,He=this.length;++ye<He;){me.push(T=[]),T.parentNode=(re=this[ye]).parentNode;for(var Le=-1,De=re.length;++Le<De;)(ce=re[Le])?(T.push(U=y.call(ce,ce.__data__,Le,ye)),U&&"__data__"in ce&&(U.__data__=ce.__data__)):T.push(null)}return O(me)},ue.selectAll=function(y){var T,U,re=[];y=he(y);for(var ce=-1,me=this.length;++ce<me;)for(var ye=this[ce],He=-1,Le=ye.length;++He<Le;)(U=ye[He])&&(re.push(T=p(y.call(U,U.__data__,He,ce))),T.parentNode=U);return O(re)};var xe="http://www.w3.org/1999/xhtml",be={svg:"http://www.w3.org/2000/svg",xhtml:xe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ve(y,T){return y=s.ns.qualify(y),null==T?y.local?function(){this.removeAttributeNS(y.space,y.local)}:function(){this.removeAttribute(y)}:"function"==typeof T?y.local?function(){var U=T.apply(this,arguments);null==U?this.removeAttributeNS(y.space,y.local):this.setAttributeNS(y.space,y.local,U)}:function(){var U=T.apply(this,arguments);null==U?this.removeAttribute(y):this.setAttribute(y,U)}:y.local?function(){this.setAttributeNS(y.space,y.local,T)}:function(){this.setAttribute(y,T)}}function Ae(y){return y.trim().replace(/\s+/g," ")}function Oe(y){return new RegExp("(?:^|\\s+)"+s.requote(y)+"(?:\\s+|$)","g")}function Re(y){return(y+"").trim().split(/^|\s+/)}function tt(y,T){var U=(y=Re(y).map(Ke)).length;return"function"==typeof T?function(){for(var re=-1,ce=T.apply(this,arguments);++re<U;)y[re](this,ce)}:function(){for(var re=-1;++re<U;)y[re](this,T)}}function Ke(y){var T=Oe(y);return function(U,re){if(ce=U.classList)return re?ce.add(y):ce.remove(y);var ce=U.getAttribute("class")||"";re?(T.lastIndex=0,T.test(ce)||U.setAttribute("class",Ae(ce+" "+y))):U.setAttribute("class",Ae(ce.replace(T," ")))}}function $e(y,T,U){return null==T?function(){this.style.removeProperty(y)}:"function"==typeof T?function(){var re=T.apply(this,arguments);null==re?this.style.removeProperty(y):this.style.setProperty(y,re,U)}:function(){this.style.setProperty(y,T,U)}}function Me(y,T){return null==T?function(){delete this[y]}:"function"==typeof T?function(){var U=T.apply(this,arguments);null==U?delete this[y]:this[y]=U}:function(){this[y]=T}}function ve(y){return"function"==typeof y?y:(y=s.ns.qualify(y)).local?function(){return this.ownerDocument.createElementNS(y.space,y.local)}:function(){var T=this.ownerDocument,U=this.namespaceURI;return U===xe&&T.documentElement.namespaceURI===xe?T.createElement(y):T.createElementNS(U,y)}}function Se(){var y=this.parentNode;y&&y.removeChild(this)}function Te(y){return{__data__:y}}function qe(y){return function(){return ae(this,y)}}function Ee(y){return arguments.length||(y=M),function(T,U){return T&&U?y(T.__data__,U.__data__):!T-!U}}function Ie(y,T){for(var U=0,re=y.length;U<re;U++)for(var ce,me=y[U],ye=0,He=me.length;ye<He;ye++)(ce=me[ye])&&T(ce,ye,U);return y}function Qe(y){return F(y,nt),y}s.ns={prefix:be,qualify:function(y){var T=y.indexOf(":"),U=y;return T>=0&&"xmlns"!==(U=y.slice(0,T))&&(y=y.slice(T+1)),be.hasOwnProperty(U)?{space:be[U],local:y}:y}},ue.attr=function(y,T){if(arguments.length<2){if("string"==typeof y){var U=this.node();return(y=s.ns.qualify(y)).local?U.getAttributeNS(y.space,y.local):U.getAttribute(y)}for(T in y)this.each(Ve(T,y[T]));return this}return this.each(Ve(y,T))},ue.classed=function(y,T){if(arguments.length<2){if("string"==typeof y){var U=this.node(),re=(y=Re(y)).length,ce=-1;if(T=U.classList){for(;++ce<re;)if(!T.contains(y[ce]))return!1}else for(T=U.getAttribute("class");++ce<re;)if(!Oe(y[ce]).test(T))return!1;return!0}for(T in y)this.each(tt(T,y[T]));return this}return this.each(tt(y,T))},ue.style=function(y,T,U){var re=arguments.length;if(re<3){if("string"!=typeof y){for(U in re<2&&(T=""),y)this.each($e(U,y[U],T));return this}if(re<2){var ce=this.node();return m(ce).getComputedStyle(ce,null).getPropertyValue(y)}U=""}return this.each($e(y,T,U))},ue.property=function(y,T){if(arguments.length<2){if("string"==typeof y)return this.node()[y];for(T in y)this.each(Me(T,y[T]));return this}return this.each(Me(y,T))},ue.text=function(y){return arguments.length?this.each("function"==typeof y?function(){var T=y.apply(this,arguments);this.textContent=T??""}:null==y?function(){this.textContent=""}:function(){this.textContent=y}):this.node().textContent},ue.html=function(y){return arguments.length?this.each("function"==typeof y?function(){var T=y.apply(this,arguments);this.innerHTML=T??""}:null==y?function(){this.innerHTML=""}:function(){this.innerHTML=y}):this.node().innerHTML},ue.append=function(y){return y=ve(y),this.select(function(){return this.appendChild(y.apply(this,arguments))})},ue.insert=function(y,T){return y=ve(y),T=fe(T),this.select(function(){return this.insertBefore(y.apply(this,arguments),T.apply(this,arguments)||null)})},ue.remove=function(){return this.each(Se)},ue.data=function(y,T){var U,re,ce=-1,me=this.length;if(!arguments.length){for(y=new Array(me=(U=this[0]).length);++ce<me;)(re=U[ce])&&(y[ce]=re.__data__);return y}function ye(Ne,at){var ot,vt,Vt,ht=Ne.length,Ct=at.length,lt=Math.min(ht,Ct),Rt=new Array(Ct),zt=new Array(Ct),pt=new Array(ht);if(T){var nn,sn=new E,zn=new Array(ht);for(ot=-1;++ot<ht;)(vt=Ne[ot])&&(sn.has(nn=T.call(vt,vt.__data__,ot))?pt[ot]=vt:sn.set(nn,vt),zn[ot]=nn);for(ot=-1;++ot<Ct;)(vt=sn.get(nn=T.call(at,Vt=at[ot],ot)))?!0!==vt&&(Rt[ot]=vt,vt.__data__=Vt):zt[ot]=Te(Vt),sn.set(nn,!0);for(ot=-1;++ot<ht;)ot in zn&&!0!==sn.get(zn[ot])&&(pt[ot]=Ne[ot])}else{for(ot=-1;++ot<lt;)Vt=at[ot],(vt=Ne[ot])?(vt.__data__=Vt,Rt[ot]=vt):zt[ot]=Te(Vt);for(;ot<Ct;++ot)zt[ot]=Te(at[ot]);for(;ot<ht;++ot)pt[ot]=Ne[ot]}zt.update=Rt,zt.parentNode=Rt.parentNode=pt.parentNode=Ne.parentNode,He.push(zt),Le.push(Rt),De.push(pt)}var He=Qe([]),Le=O([]),De=O([]);if("function"==typeof y)for(;++ce<me;)ye(U=this[ce],y.call(U,U.parentNode.__data__,ce));else for(;++ce<me;)ye(U=this[ce],y);return Le.enter=function(){return He},Le.exit=function(){return De},Le},ue.datum=function(y){return arguments.length?this.property("__data__",y):this.property("__data__")},ue.filter=function(y){var T,U,re,ce=[];"function"!=typeof y&&(y=qe(y));for(var me=0,ye=this.length;me<ye;me++){ce.push(T=[]),T.parentNode=(U=this[me]).parentNode;for(var He=0,Le=U.length;He<Le;He++)(re=U[He])&&y.call(re,re.__data__,He,me)&&T.push(re)}return O(ce)},ue.order=function(){for(var y=-1,T=this.length;++y<T;)for(var U,re=this[y],ce=re.length-1,me=re[ce];--ce>=0;)(U=re[ce])&&(me&&me!==U.nextSibling&&me.parentNode.insertBefore(U,me),me=U);return this},ue.sort=function(y){y=Ee.apply(this,arguments);for(var T=-1,U=this.length;++T<U;)this[T].sort(y);return this.order()},ue.each=function(y){return Ie(this,function(T,U,re){y.call(T,T.__data__,U,re)})},ue.call=function(y){var T=p(arguments);return y.apply(T[0]=this,T),this},ue.empty=function(){return!this.node()},ue.node=function(){for(var y=0,T=this.length;y<T;y++)for(var U=this[y],re=0,ce=U.length;re<ce;re++){var me=U[re];if(me)return me}return null},ue.size=function(){var y=0;return Ie(this,function(){++y}),y};var nt=[];function Ye(y){var T,U;return function(re,ce,me){var ye,He=y[me].update,Le=He.length;for(me!=U&&(U=me,T=0),ce>=T&&(T=ce+1);!(ye=He[T])&&++T<Le;);return ye}}function rt(y,T,U){var re="__on"+y,ce=y.indexOf("."),me=Xe;ce>0&&(y=y.slice(0,ce));var ye=dt.get(y);function He(){var Le=this[re];Le&&(this.removeEventListener(y,Le,Le.$),delete this[re])}return ye&&(y=ye,me=mt),ce?T?function(){var Le=me(T,p(arguments));He.call(this),this.addEventListener(y,this[re]=Le,Le.$=U),Le._=T}:He:T?ie:function(){var Le,De=new RegExp("^__on([^.]+)"+s.requote(y)+"$");for(var Ne in this)if(Le=Ne.match(De)){var at=this[Ne];this.removeEventListener(Le[1],at,at.$),delete this[Ne]}}}s.selection.enter=Qe,s.selection.enter.prototype=nt,nt.append=ue.append,nt.empty=ue.empty,nt.node=ue.node,nt.call=ue.call,nt.size=ue.size,nt.select=function(y){for(var T,U,re,ce,me,ye=[],He=-1,Le=this.length;++He<Le;){re=(ce=this[He]).update,ye.push(T=[]),T.parentNode=ce.parentNode;for(var De=-1,Ne=ce.length;++De<Ne;)(me=ce[De])?(T.push(re[De]=U=y.call(ce.parentNode,me.__data__,De,He)),U.__data__=me.__data__):T.push(null)}return O(ye)},nt.insert=function(y,T){return arguments.length<2&&(T=Ye(this)),ue.insert.call(this,y,T)},s.select=function(y){var T;return"string"==typeof y?(T=[Y(y,c)]).parentNode=c.documentElement:(T=[y]).parentNode=l(y),O([T])},s.selectAll=function(y){var T;return"string"==typeof y?(T=p(B(y,c))).parentNode=c.documentElement:(T=p(y)).parentNode=null,O([T])},ue.on=function(y,T,U){var re=arguments.length;if(re<3){if("string"!=typeof y){for(U in re<2&&(T=!1),y)this.each(rt(U,y[U],T));return this}if(re<2)return(re=this.node()["__on"+y])&&re._;U=!1}return this.each(rt(y,T,U))};var dt=s.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Xe(y,T){return function(U){var re=s.event;s.event=U,T[0]=this.__data__;try{y.apply(this,T)}finally{s.event=re}}}function mt(y,T){var U=Xe(y,T);return function(re){var ce=re.relatedTarget;ce&&(ce===this||8&ce.compareDocumentPosition(this))||U.call(this,re)}}c&&dt.forEach(function(y){"on"+y in c&&dt.remove(y)});var _t,yt=0;function Ot(y){var T=".dragsuppress-"+ ++yt,U="click"+T,re=s.select(m(y)).on("touchmove"+T,j).on("dragstart"+T,j).on("selectstart"+T,j);if(null==_t&&(_t=!("onselectstart"in y)&&oe(y.style,"userSelect")),_t){var ce=l(y).style,me=ce[_t];ce[_t]="none"}return function(ye){if(re.on(T,null),_t&&(ce[_t]=me),ye){var He=function(){re.on(U,null)};re.on(U,function(){j(),He()},!0),setTimeout(He,0)}}}s.mouse=function(y){return Fe(y,$())};var bt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Fe(y,T){T.changedTouches&&(T=T.changedTouches[0]);var U=y.ownerSVGElement||y;if(U.createSVGPoint){var re=U.createSVGPoint();if(bt<0){var ce=m(y);if(ce.scrollX||ce.scrollY){var me=(U=s.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();bt=!(me.f||me.e),U.remove()}}return bt?(re.x=T.pageX,re.y=T.pageY):(re.x=T.clientX,re.y=T.clientY),[(re=re.matrixTransform(y.getScreenCTM().inverse())).x,re.y]}var ye=y.getBoundingClientRect();return[T.clientX-ye.left-y.clientLeft,T.clientY-ye.top-y.clientTop]}function Ue(){return s.event.changedTouches[0].identifier}s.touch=function(y,T,U){if(arguments.length<3&&(U=T,T=$().changedTouches),T)for(var re,ce=0,me=T.length;ce<me;++ce)if((re=T[ce]).identifier===U)return Fe(y,re)},s.behavior.drag=function(){var y=se(ce,"drag","dragstart","dragend"),T=null,U=me(ie,s.mouse,m,"mousemove","mouseup"),re=me(Ue,s.touch,ne,"touchmove","touchend");function ce(){this.on("mousedown.drag",U).on("touchstart.drag",re)}function me(ye,He,Le,De,Ne){return function(){var at,ot=this,vt=s.event.target.correspondingElement||s.event.target,Vt=ot.parentNode,ht=y.of(ot,arguments),Ct=0,lt=ye(),Rt=".drag"+(null==lt?"":"-"+lt),zt=s.select(Le(vt)).on(De+Rt,sn).on(Ne+Rt,zn),pt=Ot(vt),nn=He(Vt,lt);function sn(){var Tn,Un,qn=He(Vt,lt);qn&&(Ct|=(Tn=qn[0]-nn[0])|(Un=qn[1]-nn[1]),nn=qn,ht({type:"drag",x:qn[0]+at[0],y:qn[1]+at[1],dx:Tn,dy:Un}))}function zn(){He(Vt,lt)&&(zt.on(De+Rt,null).on(Ne+Rt,null),pt(Ct),ht({type:"dragend"}))}at=T?[(at=T.apply(ot,arguments)).x-nn[0],at.y-nn[1]]:[0,0],ht({type:"dragstart"})}}return ce.origin=function(ye){return arguments.length?(T=ye,ce):T},s.rebind(ce,y,"on")},s.touches=function(y,T){return arguments.length<2&&(T=$().touches),T?p(T).map(function(U){var re=Fe(y,U);return re.identifier=U.identifier,re}):[]};var gt=1e-6,Pt=Math.PI,Qt=2*Pt,en=Qt-gt,Xt=Pt/2,Wt=Pt/180,Nt=180/Pt;function ge(y){return y>1?Xt:y<-1?-Xt:Math.asin(y)}function _e(y){return((y=Math.exp(y))+1/y)/2}var We=Math.SQRT2;s.interpolateZoom=function(y,T){var U,re,ce=y[0],me=y[1],ye=y[2],De=T[2],Ne=T[0]-ce,at=T[1]-me,ot=Ne*Ne+at*at;if(ot<1e-12)re=Math.log(De/ye)/We,U=function(Rt){return[ce+Rt*Ne,me+Rt*at,ye*Math.exp(We*Rt*re)]};else{var vt=Math.sqrt(ot),Vt=(De*De-ye*ye+4*ot)/(2*ye*2*vt),ht=(De*De-ye*ye-4*ot)/(2*De*2*vt),Ct=Math.log(Math.sqrt(Vt*Vt+1)-Vt),lt=Math.log(Math.sqrt(ht*ht+1)-ht);re=(lt-Ct)/We,U=function(Rt){var zt,zn,pt=Rt*re,nn=_e(Ct),sn=ye/(2*vt)*(nn*(zt=We*pt+Ct,((zt=Math.exp(2*zt))-1)/(zt+1))-(zn=Ct,((zn=Math.exp(zn))-1/zn)/2));return[ce+sn*Ne,me+sn*at,ye*nn/_e(We*pt+Ct)]}}return U.duration=1e3*re,U},s.behavior.zoom=function(){var y,T,U,re,ce,me,ye,He,Le,De={x:0,y:0,k:1},Ne=[960,500],at=st,ot=250,vt=0,Vt="mousedown.zoom",ht="mousemove.zoom",Ct="mouseup.zoom",lt="touchstart.zoom",Rt=se(zt,"zoomstart","zoom","zoomend");function zt(bn){bn.on(Vt,Gn).on(ft+".zoom",C1).on("dblclick.zoom",F2).on(lt,v2)}function pt(bn){return[(bn[0]-De.x)/De.k,(bn[1]-De.y)/De.k]}function nn(bn){De.k=Math.max(at[0],Math.min(at[1],bn))}function sn(bn,Yn){var N2;De.x+=bn[0]-(Yn=[(N2=Yn)[0]*De.k+De.x,N2[1]*De.k+De.y])[0],De.y+=bn[1]-Yn[1]}function zn(bn,Yn,N2,L2){bn.__chart__={x:De.x,y:De.y,k:De.k},nn(Math.pow(2,L2)),sn(T=Yn,N2),bn=s.select(bn),ot>0&&(bn=bn.transition().duration(ot)),bn.call(zt.event)}function Tn(){ye&&ye.domain(me.range().map(function(bn){return(bn-De.x)/De.k}).map(me.invert)),Le&&Le.domain(He.range().map(function(bn){return(bn-De.y)/De.k}).map(He.invert))}function Un(bn){vt++||bn({type:"zoomstart"})}function qn(bn){Tn(),bn({type:"zoom",scale:De.k,translate:[De.x,De.y]})}function _2(bn){--vt||(bn({type:"zoomend"}),T=null)}function Gn(){var bn=this,Yn=Rt.of(bn,arguments),N2=0,L2=s.select(m(bn)).on(ht,V1).on(Ct,o1),s1=pt(s.mouse(bn)),m1=Ot(bn);function V1(){N2=1,sn(s.mouse(bn),s1),qn(Yn)}function o1(){L2.on(ht,null).on(Ct,null),m1(N2),_2(Yn)}Gr.call(bn),Un(Yn)}function v2(){var bn,Yn=this,N2=Rt.of(Yn,arguments),L2={},s1=0,m1=".zoom-"+s.event.changedTouches[0].identifier,V1="touchmove"+m1,o1="touchend"+m1,tr=[],_r=s.select(Yn),nr=Ot(Yn);function kr(){var F1=s.touches(Yn);return bn=De.k,F1.forEach(function(cr){cr.identifier in L2&&(L2[cr.identifier]=pt(cr))}),F1}function X1(){var F1=s.event.target;s.select(F1).on(V1,Cr).on(o1,rs),tr.push(F1);for(var cr=s.event.changedTouches,ji=0,Na=cr.length;ji<Na;++ji)L2[cr[ji].identifier]=null;var is=kr(),ks=Date.now();if(1===is.length){if(ks-ce<500){var lo=is[0];zn(Yn,lo,L2[lo.identifier],Math.floor(Math.log(De.k)/Math.LN2)+1),j()}ce=ks}else if(is.length>1){var pi=is[1],uo=(lo=is[0])[0]-pi[0],Y4=lo[1]-pi[1];s1=uo*uo+Y4*Y4}}function Cr(){var F1,cr,ji,Na,is=s.touches(Yn);Gr.call(Yn);for(var ks=0,lo=is.length;ks<lo;++ks,Na=null)if(Na=L2[(ji=is[ks]).identifier]){if(cr)break;F1=ji,cr=Na}if(Na){var pi=(pi=ji[0]-F1[0])*pi+(pi=ji[1]-F1[1])*pi,uo=s1&&Math.sqrt(pi/s1);F1=[(F1[0]+ji[0])/2,(F1[1]+ji[1])/2],cr=[(cr[0]+Na[0])/2,(cr[1]+Na[1])/2],nn(uo*bn)}ce=null,sn(F1,cr),qn(N2)}function rs(){if(s.event.touches.length){for(var F1=s.event.changedTouches,cr=0,ji=F1.length;cr<ji;++cr)delete L2[F1[cr].identifier];for(var Na in L2)return void kr()}s.selectAll(tr).on(m1,null),_r.on(Vt,Gn).on(lt,v2),nr(),_2(N2)}X1(),Un(N2),_r.on(Vt,null).on(lt,X1)}function C1(){var bn=Rt.of(this,arguments);re?clearTimeout(re):(Gr.call(this),y=pt(T=U||s.mouse(this)),Un(bn)),re=setTimeout(function(){re=null,_2(bn)},50),j(),nn(Math.pow(2,.002*Je())*De.k),sn(T,y),qn(bn)}function F2(){var bn=s.mouse(this),Yn=Math.log(De.k)/Math.LN2;zn(this,bn,pt(bn),s.event.shiftKey?Math.ceil(Yn)-1:Math.floor(Yn)+1)}return ft||(ft="onwheel"in c?(Je=function(){return-s.event.deltaY*(s.event.deltaMode?120:1)},"wheel"):"onmousewheel"in c?(Je=function(){return s.event.wheelDelta},"mousewheel"):(Je=function(){return-s.event.detail},"MozMousePixelScroll")),zt.event=function(bn){bn.each(function(){var Yn=Rt.of(this,arguments),N2=De;Bn?s.select(this).transition().each("start.zoom",function(){De=this.__chart__||{x:0,y:0,k:1},Un(Yn)}).tween("zoom:zoom",function(){var L2=Ne[0],m1=T?T[0]:L2/2,V1=T?T[1]:Ne[1]/2,o1=s.interpolateZoom([(m1-De.x)/De.k,(V1-De.y)/De.k,L2/De.k],[(m1-N2.x)/N2.k,(V1-N2.y)/N2.k,L2/N2.k]);return function(tr){var _r=o1(tr),nr=L2/_r[2];this.__chart__=De={x:m1-_r[0]*nr,y:V1-_r[1]*nr,k:nr},qn(Yn)}}).each("interrupt.zoom",function(){_2(Yn)}).each("end.zoom",function(){_2(Yn)}):(this.__chart__=De,Un(Yn),qn(Yn),_2(Yn))})},zt.translate=function(bn){return arguments.length?(De={x:+bn[0],y:+bn[1],k:De.k},Tn(),zt):[De.x,De.y]},zt.scale=function(bn){return arguments.length?(De={x:De.x,y:De.y,k:null},nn(+bn),Tn(),zt):De.k},zt.scaleExtent=function(bn){return arguments.length?(at=null==bn?st:[+bn[0],+bn[1]],zt):at},zt.center=function(bn){return arguments.length?(U=bn&&[+bn[0],+bn[1]],zt):U},zt.size=function(bn){return arguments.length?(Ne=bn&&[+bn[0],+bn[1]],zt):Ne},zt.duration=function(bn){return arguments.length?(ot=+bn,zt):ot},zt.x=function(bn){return arguments.length?(ye=bn,me=bn.copy(),De={x:0,y:0,k:1},zt):ye},zt.y=function(bn){return arguments.length?(Le=bn,He=bn.copy(),De={x:0,y:0,k:1},zt):Le},s.rebind(zt,Rt,"on")};var Je,ft,st=[0,1/0];function et(){}function ut(y,T,U){return this instanceof ut?(this.h=+y,this.s=+T,void(this.l=+U)):arguments.length<2?y instanceof ut?new ut(y.h,y.s,y.l):$n(""+y,Dn,ut):new ut(y,T,U)}s.color=et,et.prototype.toString=function(){return this.rgb()+""},s.hsl=ut;var xt=ut.prototype=new et;function kt(y,T,U){var re,ce;function me(ye){return Math.round(255*((He=ye)>360?He-=360:He<0&&(He+=360),He<60?re+(ce-re)*He/60:He<180?ce:He<240?re+(ce-re)*(240-He)/60:re));var He}return y=isNaN(y)?0:(y%=360)<0?y+360:y,T=isNaN(T)||T<0?0:T>1?1:T,re=2*(U=U<0?0:U>1?1:U)-(ce=U<=.5?U*(1+T):U+T-U*T),new Ft(me(y+120),me(y),me(y-120))}function Bt(y,T,U){return this instanceof Bt?(this.h=+y,this.c=+T,void(this.l=+U)):arguments.length<2?y instanceof Bt?new Bt(y.h,y.c,y.l):an(y instanceof $t?y.l:(y=Zt((y=s.rgb(y)).r,y.g,y.b)).l,y.a,y.b):new Bt(y,T,U)}xt.brighter=function(y){return y=Math.pow(.7,arguments.length?y:1),new ut(this.h,this.s,this.l/y)},xt.darker=function(y){return y=Math.pow(.7,arguments.length?y:1),new ut(this.h,this.s,y*this.l)},xt.rgb=function(){return kt(this.h,this.s,this.l)},s.hcl=Bt;var rn=Bt.prototype=new et;function Dt(y,T,U){return isNaN(y)&&(y=0),isNaN(T)&&(T=0),new $t(U,Math.cos(y*=Wt)*T,Math.sin(y)*T)}function $t(y,T,U){return this instanceof $t?(this.l=+y,this.a=+T,void(this.b=+U)):arguments.length<2?y instanceof $t?new $t(y.l,y.a,y.b):y instanceof Bt?Dt(y.h,y.c,y.l):Zt((y=Ft(y)).r,y.g,y.b):new $t(y,T,U)}rn.brighter=function(y){return new Bt(this.h,this.c,Math.min(100,this.l+fn*(arguments.length?y:1)))},rn.darker=function(y){return new Bt(this.h,this.c,Math.max(0,this.l-fn*(arguments.length?y:1)))},rn.rgb=function(){return Dt(this.h,this.c,this.l).rgb()},s.lab=$t;var fn=18,At=$t.prototype=new et;function Mt(y,T,U){var re=(y+16)/116,ce=re+T/500,me=re-U/200;return new Ft(Jt(3.2404542*(ce=.95047*Kt(ce))-1.5371385*(re=1*Kt(re))-.4985314*(me=1.08883*Kt(me))),Jt(-.969266*ce+1.8760108*re+.041556*me),Jt(.0556434*ce-.2040259*re+1.0572252*me))}function an(y,T,U){return y>0?new Bt(Math.atan2(U,T)*Nt,Math.sqrt(T*T+U*U),y):new Bt(NaN,NaN,y)}function Kt(y){return y>.206893034?y*y*y:(y-4/29)/7.787037}function Ut(y){return y>.008856?Math.pow(y,1/3):7.787037*y+4/29}function Jt(y){return Math.round(255*(y<=.00304?12.92*y:1.055*Math.pow(y,1/2.4)-.055))}function Ft(y,T,U){return this instanceof Ft?(this.r=~~y,this.g=~~T,void(this.b=~~U)):arguments.length<2?y instanceof Ft?new Ft(y.r,y.g,y.b):$n(""+y,Ft,kt):new Ft(y,T,U)}function Mn(y){return new Ft(y>>16,y>>8&255,255&y)}function _n(y){return Mn(y)+""}At.brighter=function(y){return new $t(Math.min(100,this.l+fn*(arguments.length?y:1)),this.a,this.b)},At.darker=function(y){return new $t(Math.max(0,this.l-fn*(arguments.length?y:1)),this.a,this.b)},At.rgb=function(){return Mt(this.l,this.a,this.b)},s.rgb=Ft;var wn=Ft.prototype=new et;function Ln(y){return y<16?"0"+Math.max(0,y).toString(16):Math.min(255,y).toString(16)}function $n(y,T,U){var re,ce,me,ye=0,He=0,Le=0;if(re=/([a-z]+)\((.*)\)/.exec(y=y.toLowerCase()))switch(ce=re[2].split(","),re[1]){case"hsl":return U(parseFloat(ce[0]),parseFloat(ce[1])/100,parseFloat(ce[2])/100);case"rgb":return T(tn(ce[0]),tn(ce[1]),tn(ce[2]))}return(me=pn.get(y))?T(me.r,me.g,me.b):(null==y||"#"!==y.charAt(0)||isNaN(me=parseInt(y.slice(1),16))||(4===y.length?(ye=(3840&me)>>4,ye|=ye>>4,He=240&me,He|=He>>4,Le=15&me,Le|=Le<<4):7===y.length&&(ye=(16711680&me)>>16,He=(65280&me)>>8,Le=255&me)),T(ye,He,Le))}function Dn(y,T,U){var re,ce,me=Math.min(y/=255,T/=255,U/=255),ye=Math.max(y,T,U),He=ye-me,Le=(ye+me)/2;return He?(ce=Le<.5?He/(ye+me):He/(2-ye-me),re=y==ye?(T-U)/He+(T<U?6:0):T==ye?(U-y)/He+2:(y-T)/He+4,re*=60):(re=NaN,ce=Le>0&&Le<1?0:re),new ut(re,ce,Le)}function Zt(y,T,U){var re=Ut((.4124564*(y=It(y))+.3575761*(T=It(T))+.1804375*(U=It(U)))/.95047),ce=Ut((.2126729*y+.7151522*T+.072175*U)/1);return $t(116*ce-16,500*(re-ce),200*(ce-Ut((.0193339*y+.119192*T+.9503041*U)/1.08883)))}function It(y){return(y/=255)<=.04045?y/12.92:Math.pow((y+.055)/1.055,2.4)}function tn(y){var T=parseFloat(y);return"%"===y.charAt(y.length-1)?Math.round(2.55*T):T}wn.brighter=function(y){y=Math.pow(.7,arguments.length?y:1);var T=this.r,U=this.g,re=this.b,ce=30;return T||U||re?(T&&T<ce&&(T=ce),U&&U<ce&&(U=ce),re&&re<ce&&(re=ce),new Ft(Math.min(255,T/y),Math.min(255,U/y),Math.min(255,re/y))):new Ft(ce,ce,ce)},wn.darker=function(y){return new Ft((y=Math.pow(.7,arguments.length?y:1))*this.r,y*this.g,y*this.b)},wn.hsl=function(){return Dn(this.r,this.g,this.b)},wn.toString=function(){return"#"+Ln(this.r)+Ln(this.g)+Ln(this.b)};var pn=s.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function cn(y){return"function"==typeof y?y:function(){return y}}function Pn(y){return function(T,U,re){return 2===arguments.length&&"function"==typeof U&&(re=U,U=null),Vn(T,U,y,re)}}function Vn(y,T,U,re){var Ne,ce={},me=s.dispatch("beforesend","progress","load","error"),ye={},He=new XMLHttpRequest,Le=null;function De(){var Ne,ot,vt,at=He.status;if(!at&&((vt=(ot=He).responseType)&&"text"!==vt?ot.response:ot.responseText)||at>=200&&at<300||304===at){try{Ne=U.call(ce,He)}catch(ot){return void me.error.call(ce,ot)}me.load.call(ce,Ne)}else me.error.call(ce,He)}return self.XDomainRequest&&!("withCredentials"in He)&&/^(http(s)?:)?\/\//.test(y)&&(He=new XDomainRequest),"onload"in He?He.onload=He.onerror=De:He.onreadystatechange=function(){He.readyState>3&&De()},He.onprogress=function(Ne){var at=s.event;s.event=Ne;try{me.progress.call(ce,He)}finally{s.event=at}},ce.header=function(Ne,at){return Ne=(Ne+"").toLowerCase(),arguments.length<2?ye[Ne]:(null==at?delete ye[Ne]:ye[Ne]=at+"",ce)},ce.mimeType=function(Ne){return arguments.length?(T=null==Ne?null:Ne+"",ce):T},ce.responseType=function(Ne){return arguments.length?(Le=Ne,ce):Le},ce.response=function(Ne){return U=Ne,ce},["get","post"].forEach(function(Ne){ce[Ne]=function(){return ce.send.apply(ce,[Ne].concat(p(arguments)))}}),ce.send=function(Ne,at,ot){if(2===arguments.length&&"function"==typeof at&&(ot=at,at=null),He.open(Ne,y,!0),null==T||"accept"in ye||(ye.accept=T+",*/*"),He.setRequestHeader)for(var vt in ye)He.setRequestHeader(vt,ye[vt]);return null!=T&&He.overrideMimeType&&He.overrideMimeType(T),null!=Le&&(He.responseType=Le),null!=ot&&ce.on("error",ot).on("load",function(Vt){ot(null,Vt)}),me.beforesend.call(ce,He),He.send(at??null),ce},ce.abort=function(){return He.abort(),ce},s.rebind(ce,me,"on"),null==re?ce:ce.get(1===(Ne=re).length?function(at,ot){Ne(null==at?ot:null)}:Ne)}pn.forEach(function(y,T){pn.set(y,Mn(T))}),s.functor=cn,s.xhr=Pn(ne),s.dsv=function(y,T){var U=new RegExp('["'+y+"\n]"),re=y.charCodeAt(0);function ce(De,Ne,at){arguments.length<3&&(at=Ne,Ne=null);var ot=Vn(De,T,null==Ne?me:ye(Ne),at);return ot.row=function(vt){return arguments.length?ot.response(null==(Ne=vt)?me:ye(vt)):Ne},ot}function me(De){return ce.parse(De.responseText)}function ye(De){return function(Ne){return ce.parse(Ne.responseText,De)}}function He(De){return De.map(Le).join(y)}function Le(De){return U.test(De)?'"'+De.replace(/\"/g,'""')+'"':De}return ce.parse=function(De,Ne){var at;return ce.parseRows(De,function(ot,vt){if(at)return at(ot,vt-1);var Vt=function(ht){for(var Ct={},lt=ot.length,Rt=0;Rt<lt;++Rt)Ct[ot[Rt]]=ht[Rt];return Ct};at=Ne?function(ht,Ct){return Ne(Vt(ht),Ct)}:Vt})},ce.parseRows=function(De,Ne){var at,ot,vt={},Vt={},ht=[],Ct=De.length,lt=0,Rt=0;function zt(){if(lt>=Ct)return Vt;if(ot)return ot=!1,vt;var nn=lt;if(34===De.charCodeAt(nn)){for(var sn=nn;sn++<Ct;)if(34===De.charCodeAt(sn)){if(34!==De.charCodeAt(sn+1))break;++sn}return lt=sn+2,13===(zn=De.charCodeAt(sn+1))?(ot=!0,10===De.charCodeAt(sn+2)&&++lt):10===zn&&(ot=!0),De.slice(nn+1,sn).replace(/""/g,'"')}for(;lt<Ct;){var zn,Tn=1;if(10===(zn=De.charCodeAt(lt++)))ot=!0;else if(13===zn)ot=!0,10===De.charCodeAt(lt)&&(++lt,++Tn);else if(zn!==re)continue;return De.slice(nn,lt-Tn)}return De.slice(nn)}for(;(at=zt())!==Vt;){for(var pt=[];at!==vt&&at!==Vt;)pt.push(at),at=zt();Ne&&null==(pt=Ne(pt,Rt++))||ht.push(pt)}return ht},ce.format=function(De){if(Array.isArray(De[0]))return ce.formatRows(De);var Ne=new Z,at=[];return De.forEach(function(ot){for(var vt in ot)Ne.has(vt)||at.push(Ne.add(vt))}),[at.map(Le).join(y)].concat(De.map(function(ot){return at.map(function(vt){return Le(ot[vt])}).join(y)})).join("\n")},ce.formatRows=function(De){return De.map(He).join("\n")},ce},s.csv=s.dsv(",","text/csv"),s.tsv=s.dsv("\t","text/tab-separated-values");var vn,n2,h2,g2,u2=this[oe(this,"requestAnimationFrame")]||function(y){setTimeout(y,17)};function qt(y,T,U){var re=arguments.length;re<2&&(T=0),re<3&&(U=Date.now());var me={c:y,t:U+T,n:null};return n2?n2.n=me:vn=me,n2=me,h2||(g2=clearTimeout(g2),h2=1,u2(Wn)),me}function Wn(){var y=Fn(),T=e2()-y;T>24?(isFinite(T)&&(clearTimeout(g2),g2=setTimeout(Wn,T)),h2=0):(h2=1,u2(Wn))}function Fn(){for(var y=Date.now(),T=vn;T;)y>=T.t&&T.c(y-T.t)&&(T.c=null),T=T.n;return y}function e2(){for(var y,T=vn,U=1/0;T;)T.c?(T.t<U&&(U=T.t),T=(y=T).n):T=y?y.n=T.n:vn=T.n;return n2=y,U}function En(y){return y[0]}function b2(y){return y[1]}function f2(y){for(var T,U,re,ce=y.length,me=[0,1],ye=2,He=2;He<ce;He++){for(;ye>1&&((U=y[me[ye-1]])[0]-(T=y[me[ye-2]])[0])*((re=y[He])[1]-T[1])-(U[1]-T[1])*(re[0]-T[0])<=0;)--ye;me[ye++]=He}return me.slice(0,ye)}function In(y,T){return y[0]-T[0]||y[1]-T[1]}s.timer=function(){qt.apply(this,arguments)},s.timer.flush=function(){Fn(),e2()},s.round=function(y,T){return T?Math.round(y*(T=Math.pow(10,T)))/T:Math.round(y)},s.geom={},s.geom.hull=function(y){var T=En,U=b2;if(arguments.length)return re(y);function re(ce){if(ce.length<3)return[];var me,ye=cn(T),He=cn(U),Le=ce.length,De=[],Ne=[];for(me=0;me<Le;me++)De.push([+ye.call(this,ce[me],me),+He.call(this,ce[me],me),me]);for(De.sort(In),me=0;me<Le;me++)Ne.push([De[me][0],-De[me][1]]);var at=f2(De),ot=f2(Ne),vt=ot[0]===at[0],Vt=ot[ot.length-1]===at[at.length-1],ht=[];for(me=at.length-1;me>=0;--me)ht.push(ce[De[at[me]][2]]);for(me=+vt;me<ot.length-Vt;++me)ht.push(ce[De[ot[me]][2]]);return ht}return re.x=function(ce){return arguments.length?(T=ce,re):T},re.y=function(ce){return arguments.length?(U=ce,re):U},re},s.geom.polygon=function(y){return F(y,d2),y};var d2=s.geom.polygon.prototype=[];function x2(y,T,U){return(U[0]-T[0])*(y[1]-T[1])<(U[1]-T[1])*(y[0]-T[0])}function Qn(y,T,U,re){var ce=y[0],me=U[0],ye=T[0]-ce,He=re[0]-me,Le=y[1],De=U[1],Ne=T[1]-Le,at=re[1]-De,ot=(He*(Le-De)-at*(ce-me))/(at*ye-He*Ne);return[ce+ot*ye,Le+ot*Ne]}function Rn(y){var T=y[0],U=y[y.length-1];return!(T[0]-U[0]||T[1]-U[1])}d2.area=function(){for(var y,T=-1,U=this.length,re=this[U-1],ce=0;++T<U;)ce+=(y=re)[1]*(re=this[T])[0]-y[0]*re[1];return.5*ce},d2.centroid=function(y){var T,U,re=-1,ce=this.length,me=0,ye=0,He=this[ce-1];for(arguments.length||(y=-1/(6*this.area()));++re<ce;)me+=((T=He)[0]+(He=this[re])[0])*(U=T[0]*He[1]-He[0]*T[1]),ye+=(T[1]+He[1])*U;return[me*y,ye*y]},d2.clip=function(y){for(var T,U,re,ce,me,ye,He=Rn(y),Le=-1,De=this.length-Rn(this),Ne=this[De-1];++Le<De;){for(T=y.slice(),y.length=0,ce=this[Le],me=T[(re=T.length-He)-1],U=-1;++U<re;)x2(ye=T[U],Ne,ce)?(x2(me,Ne,ce)||y.push(Qn(me,ye,Ne,ce)),y.push(ye)):x2(me,Ne,ce)&&y.push(Qn(me,ye,Ne,ce)),me=ye;He&&y.push(y[0]),Ne=ce}return y};var mn,M2,x1,Q2,J2,l1=[],I1=[];function M1(){Po(this),this.edge=this.site=this.circle=null}function T1(y){var T=l1.pop()||new M1;return T.site=y,T}function B2(y){e1(y),x1.remove(y),l1.push(y),Po(y)}function U2(y){var T=y.circle,U=T.x,re=T.cy,ce={x:U,y:re},me=y.P,ye=y.N,He=[y];B2(y);for(var Le=me;Le.circle&&H(U-Le.circle.x)<gt&&H(re-Le.circle.cy)<gt;)me=Le.P,He.unshift(Le),B2(Le),Le=me;He.unshift(Le),e1(Le);for(var De=ye;De.circle&&H(U-De.circle.x)<gt&&H(re-De.circle.cy)<gt;)ye=De.N,He.push(De),B2(De),De=ye;He.push(De),e1(De);var Ne,at=He.length;for(Ne=1;Ne<at;++Ne)ws((De=He[Ne]).edge,(Le=He[Ne-1]).site,De.site,ce);(De=He[at-1]).edge=Eo((Le=He[0]).site,De.site,null,ce),Ir(Le),Ir(De)}function Dr(y){for(var T,U,re,ce,me=y.x,ye=y.y,He=x1._;He;)if((re=Qr(He,ye)-me)>gt)He=He.L;else{if(!((ce=me-Li(He,ye))>gt)){re>-gt?(T=He.P,U=He):ce>-gt?(T=He,U=He.N):T=U=He;break}if(!He.R){T=He;break}He=He.R}var Le=T1(y);if(x1.insert(T,Le),T||U){if(T===U)return e1(T),U=T1(T.site),x1.insert(Le,U),Le.edge=U.edge=Eo(T.site,Le.site),Ir(T),void Ir(U);if(U){e1(T),e1(U);var De=T.site,Ne=De.x,at=De.y,ot=y.x-Ne,vt=y.y-at,Vt=U.site,ht=Vt.x-Ne,Ct=Vt.y-at,lt=2*(ot*Ct-vt*ht),Rt=ot*ot+vt*vt,zt=ht*ht+Ct*Ct,pt={x:(Ct*Rt-vt*zt)/lt+Ne,y:(ot*zt-ht*Rt)/lt+at};ws(U.edge,De,Vt,pt),Le.edge=Eo(De,y,null,pt),U.edge=Eo(y,Vt,null,pt),Ir(T),Ir(U)}else Le.edge=Eo(T.site,Le.site)}}function Qr(y,T){var U=y.site,re=U.x,ce=U.y,me=ce-T;if(!me)return re;var ye=y.P;if(!ye)return-1/0;var He=(U=ye.site).x,Le=U.y,De=Le-T;if(!De)return He;var Ne=He-re,at=1/me-1/De,ot=Ne/De;return at?(-ot+Math.sqrt(ot*ot-2*at*(Ne*Ne/(-2*De)-Le+De/2+ce-me/2)))/at+re:(re+He)/2}function Li(y,T){var U=y.N;if(U)return Qr(U,T);var re=y.site;return re.y===T?re.x:1/0}function On(y){this.site=y,this.edges=[]}function O1(y,T){return T.angle-y.angle}function r1(){Po(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ir(y){var T=y.P,U=y.N;if(T&&U){var re=T.site,ce=y.site,me=U.site;if(re!==me){var ye=ce.x,He=ce.y,Le=re.x-ye,De=re.y-He,Ne=me.x-ye,at=2*(Le*(Ct=me.y-He)-De*Ne);if(!(at>=-1e-12)){var ot=Le*Le+De*De,vt=Ne*Ne+Ct*Ct,Vt=(Ct*ot-De*vt)/at,ht=(Le*vt-Ne*ot)/at,Ct=ht+He,lt=I1.pop()||new r1;lt.arc=y,lt.site=ce,lt.x=Vt+ye,lt.y=Ct+Math.sqrt(Vt*Vt+ht*ht),lt.cy=Ct,y.circle=lt;for(var Rt=null,zt=J2._;zt;)if(lt.y<zt.y||lt.y===zt.y&&lt.x<=zt.x){if(!zt.L){Rt=zt.P;break}zt=zt.L}else{if(!zt.R){Rt=zt;break}zt=zt.R}J2.insert(Rt,lt),Rt||(Q2=lt)}}}}function e1(y){var T=y.circle;T&&(T.P||(Q2=T.N),J2.remove(T),I1.push(T),Po(T),y.circle=null)}function U1(y,T){var U=y.b;if(U)return!0;var re,ce,me=y.a,ye=T[0][0],He=T[1][0],Le=T[0][1],De=T[1][1],Ne=y.l,at=y.r,ot=Ne.x,vt=Ne.y,Vt=at.x,ht=at.y,Ct=(ot+Vt)/2;if(ht===vt){if(Ct<ye||Ct>=He)return;if(ot>Vt){if(me){if(me.y>=De)return}else me={x:Ct,y:Le};U={x:Ct,y:De}}else{if(me){if(me.y<Le)return}else me={x:Ct,y:De};U={x:Ct,y:Le}}}else if(ce=(vt+ht)/2-(re=(ot-Vt)/(ht-vt))*Ct,re<-1||re>1)if(ot>Vt){if(me){if(me.y>=De)return}else me={x:(Le-ce)/re,y:Le};U={x:(De-ce)/re,y:De}}else{if(me){if(me.y<Le)return}else me={x:(De-ce)/re,y:De};U={x:(Le-ce)/re,y:Le}}else if(vt<ht){if(me){if(me.x>=He)return}else me={x:ye,y:re*ye+ce};U={x:He,y:re*He+ce}}else{if(me){if(me.x<ye)return}else me={x:He,y:re*He+ce};U={x:ye,y:re*ye+ce}}return y.a=me,y.b=U,!0}function dl(y,T){this.l=y,this.r=T,this.a=this.b=null}function Eo(y,T,U,re){var ce=new dl(y,T);return mn.push(ce),U&&ws(ce,y,T,U),re&&ws(ce,T,y,re),M2[y.i].edges.push(new Qs(ce,y,T)),M2[T.i].edges.push(new Qs(ce,T,y)),ce}function hl(y,T,U){var re=new dl(y,null);return re.a=T,re.b=U,mn.push(re),re}function ws(y,T,U,re){y.a||y.b?y.l===U?y.b=re:y.a=re:(y.a=re,y.l=T,y.r=U)}function Qs(y,T,U){var re=y.a,ce=y.b;this.edge=y,this.site=T,this.angle=U?Math.atan2(U.y-T.y,U.x-T.x):y.l===T?Math.atan2(ce.x-re.x,re.y-ce.y):Math.atan2(re.x-ce.x,ce.y-re.y)}function D3(){this._=null}function Po(y){y.U=y.C=y.L=y.R=y.P=y.N=null}function w2(y,T){var U=T,re=T.R,ce=U.U;ce?ce.L===U?ce.L=re:ce.R=re:y._=re,re.U=ce,U.U=re,U.R=re.L,U.R&&(U.R.U=U),re.L=U}function Y1(y,T){var U=T,re=T.L,ce=U.U;ce?ce.L===U?ce.L=re:ce.R=re:y._=re,re.U=ce,U.U=re,U.L=re.R,U.L&&(U.L.U=U),re.R=U}function T4(y){for(;y.L;)y=y.L;return y}function Tr(y,T){var U,re,ce,me=y.sort(V4).pop();for(mn=[],M2=new Array(y.length),x1=new D3,J2=new D3;;)if(ce=Q2,me&&(!ce||me.y<ce.y||me.y===ce.y&&me.x<ce.x))me.x===U&&me.y===re||(M2[me.i]=new On(me),Dr(me),U=me.x,re=me.y),me=y.pop();else{if(!ce)break;U2(ce.arc)}T&&(function(He){for(var Le,De,Ne,at,ot,vt=mn,Vt=(De=He[0][0],Ne=He[0][1],at=He[1][0],ot=He[1][1],function(Ct){var lt,Rt=Ct.a,zt=Ct.b,pt=Rt.x,nn=Rt.y,sn=0,zn=1,Tn=zt.x-pt,Un=zt.y-nn;if(lt=De-pt,Tn||!(lt>0)){if(lt/=Tn,Tn<0){if(lt<sn)return;lt<zn&&(zn=lt)}else if(Tn>0){if(lt>zn)return;lt>sn&&(sn=lt)}if(lt=at-pt,Tn||!(lt<0)){if(lt/=Tn,Tn<0){if(lt>zn)return;lt>sn&&(sn=lt)}else if(Tn>0){if(lt<sn)return;lt<zn&&(zn=lt)}if(lt=Ne-nn,Un||!(lt>0)){if(lt/=Un,Un<0){if(lt<sn)return;lt<zn&&(zn=lt)}else if(Un>0){if(lt>zn)return;lt>sn&&(sn=lt)}if(lt=ot-nn,Un||!(lt<0)){if(lt/=Un,Un<0){if(lt>zn)return;lt>sn&&(sn=lt)}else if(Un>0){if(lt<sn)return;lt<zn&&(zn=lt)}return sn>0&&(Ct.a={x:pt+sn*Tn,y:nn+sn*Un}),zn<1&&(Ct.b={x:pt+zn*Tn,y:nn+zn*Un}),Ct}}}}}),ht=vt.length;ht--;)(!U1(Le=vt[ht],He)||!Vt(Le)||H(Le.a.x-Le.b.x)<gt&&H(Le.a.y-Le.b.y)<gt)&&(Le.a=Le.b=null,vt.splice(ht,1))}(T),function(He){for(var Le,De,Ne,at,ot,vt,Vt,ht,Ct,lt,Rt=He[0][0],zt=He[1][0],pt=He[0][1],nn=He[1][1],sn=M2,zn=sn.length;zn--;)if((ot=sn[zn])&&ot.prepare())for(ht=(Vt=ot.edges).length,vt=0;vt<ht;)Ne=(lt=Vt[vt].end()).x,at=lt.y,Le=(Ct=Vt[++vt%ht].start()).x,De=Ct.y,(H(Ne-Le)>gt||H(at-De)>gt)&&(Vt.splice(vt,0,new Qs(hl(ot.site,lt,H(Ne-Rt)<gt&&nn-at>gt?{x:Rt,y:H(Le-Rt)<gt?De:nn}:H(at-nn)<gt&&zt-Ne>gt?{x:H(De-nn)<gt?Le:zt,y:nn}:H(Ne-zt)<gt&&at-pt>gt?{x:zt,y:H(Le-zt)<gt?De:pt}:H(at-pt)<gt&&Ne-Rt>gt?{x:H(De-pt)<gt?Le:Rt,y:pt}:null),ot.site,null)),++ht)}(T));var ye={cells:M2,edges:mn};return x1=J2=mn=M2=null,ye}function V4(y,T){return T.y-y.y||T.x-y.x}On.prototype.prepare=function(){for(var y,T=this.edges,U=T.length;U--;)(y=T[U].edge).b&&y.a||T.splice(U,1);return T.sort(O1),T.length},Qs.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},D3.prototype={insert:function(y,T){var U,re,ce;if(y){if(T.P=y,T.N=y.N,y.N&&(y.N.P=T),y.N=T,y.R){for(y=y.R;y.L;)y=y.L;y.L=T}else y.R=T;U=y}else this._?(y=T4(this._),T.P=null,T.N=y,y.P=y.L=T,U=y):(T.P=T.N=null,this._=T,U=null);for(T.L=T.R=null,T.U=U,T.C=!0,y=T;U&&U.C;)U===(re=U.U).L?(ce=re.R)&&ce.C?(U.C=ce.C=!1,re.C=!0,y=re):(y===U.R&&(w2(this,U),U=(y=U).U),U.C=!1,re.C=!0,Y1(this,re)):(ce=re.L)&&ce.C?(U.C=ce.C=!1,re.C=!0,y=re):(y===U.L&&(Y1(this,U),U=(y=U).U),U.C=!1,re.C=!0,w2(this,re)),U=y.U;this._.C=!1},remove:function(y){y.N&&(y.N.P=y.P),y.P&&(y.P.N=y.N),y.N=y.P=null;var T,U,re,ce=y.U,me=y.L,ye=y.R;if(U=me?ye?T4(ye):me:ye,ce?ce.L===y?ce.L=U:ce.R=U:this._=U,me&&ye?(re=U.C,U.C=y.C,U.L=me,me.U=U,U!==ye?(ce=U.U,U.U=y.U,ce.L=y=U.R,U.R=ye,ye.U=U):(U.U=ce,ce=U,y=U.R)):(re=y.C,y=U),y&&(y.U=ce),!re)if(y&&y.C)y.C=!1;else{do{if(y===this._)break;if(y===ce.L){if((T=ce.R).C&&(T.C=!1,ce.C=!0,w2(this,ce),T=ce.R),T.L&&T.L.C||T.R&&T.R.C){T.R&&T.R.C||(T.L.C=!1,T.C=!0,Y1(this,T),T=ce.R),T.C=ce.C,ce.C=T.R.C=!1,w2(this,ce),y=this._;break}}else if((T=ce.L).C&&(T.C=!1,ce.C=!0,Y1(this,ce),T=ce.L),T.L&&T.L.C||T.R&&T.R.C){T.L&&T.L.C||(T.R.C=!1,T.C=!0,w2(this,T),T=ce.L),T.C=ce.C,ce.C=T.L.C=!1,Y1(this,ce),y=this._;break}T.C=!0,y=ce,ce=ce.U}while(!y.C);y&&(y.C=!1)}}},s.geom.voronoi=function(y){var T=En,U=b2,re=T,ce=U,me=Io;if(y)return ye(y);function ye(Le){var De=new Array(Le.length),Ne=me[0][0],at=me[0][1],ot=me[1][0],vt=me[1][1];return Tr(He(Le),me).cells.forEach(function(Vt,ht){var Ct=Vt.edges,lt=Vt.site;(De[ht]=Ct.length?Ct.map(function(Rt){var zt=Rt.start();return[zt.x,zt.y]}):lt.x>=Ne&&lt.x<=ot&&lt.y>=at&&lt.y<=vt?[[Ne,vt],[ot,vt],[ot,at],[Ne,at]]:[]).point=Le[ht]}),De}function He(Le){return Le.map(function(De,Ne){return{x:Math.round(re(De,Ne)/gt)*gt,y:Math.round(ce(De,Ne)/gt)*gt,i:Ne}})}return ye.links=function(Le){return Tr(He(Le)).edges.filter(function(De){return De.l&&De.r}).map(function(De){return{source:Le[De.l.i],target:Le[De.r.i]}})},ye.triangles=function(Le){var De=[];return Tr(He(Le)).cells.forEach(function(Ne,at){for(var ot,vt,Vt,ht,Ct=Ne.site,lt=Ne.edges.sort(O1),Rt=-1,zt=lt.length,pt=lt[zt-1].edge,nn=pt.l===Ct?pt.r:pt.l;++Rt<zt;)ot=nn,nn=(pt=lt[Rt].edge).l===Ct?pt.r:pt.l,at<ot.i&&at<nn.i&&((vt=Ct).x-(ht=nn).x)*((Vt=ot).y-vt.y)-(vt.x-Vt.x)*(ht.y-vt.y)<0&&De.push([Le[at],Le[ot.i],Le[nn.i]])}),De},ye.x=function(Le){return arguments.length?(re=cn(T=Le),ye):T},ye.y=function(Le){return arguments.length?(ce=cn(U=Le),ye):U},ye.clipExtent=function(Le){return arguments.length?(me=Le??Io,ye):me===Io?null:me},ye.size=function(Le){return arguments.length?ye.clipExtent(Le&&[[0,0],Le]):me===Io?null:me&&me[1]},ye};var Io=[[-1e6,-1e6],[1e6,1e6]];function f1(y){return y.x}function Q0(y){return y.y}function Oo(y,T,U,re,ce,me){if(!y(T,U,re,ce,me)){var ye=.5*(U+ce),He=.5*(re+me),Le=T.nodes;Le[0]&&Oo(y,Le[0],U,re,ye,He),Le[1]&&Oo(y,Le[1],ye,re,ce,He),Le[2]&&Oo(y,Le[2],U,He,ye,me),Le[3]&&Oo(y,Le[3],ye,He,ce,me)}}function J0(y,T,U,re,ce,me,ye){var He,Le=1/0;return function De(Ne,at,ot,vt,Vt){if(!(at>me||ot>ye||vt<re||Vt<ce)){if(ht=Ne.point){var ht,Ct=T-Ne.x,lt=U-Ne.y,Rt=Ct*Ct+lt*lt;if(Rt<Le){var zt=Math.sqrt(Le=Rt);re=T-zt,ce=U-zt,me=T+zt,ye=U+zt,He=ht}}for(var pt=Ne.nodes,nn=.5*(at+vt),sn=.5*(ot+Vt),zn=(U>=sn)<<1|T>=nn,Tn=zn+4;zn<Tn;++zn)if(Ne=pt[3&zn])switch(3&zn){case 0:De(Ne,at,ot,nn,sn);break;case 1:De(Ne,nn,ot,vt,sn);break;case 2:De(Ne,at,sn,nn,Vt);break;case 3:De(Ne,nn,sn,vt,Vt)}}}(y,re,ce,me,ye),He}function Xa(y,T){y=s.rgb(y),T=s.rgb(T);var U=y.r,re=y.g,ce=y.b,me=T.r-U,ye=T.g-re,He=T.b-ce;return function(Le){return"#"+Ln(Math.round(U+me*Le))+Ln(Math.round(re+ye*Le))+Ln(Math.round(ce+He*Le))}}function Fo(y,T){var U,re={},ce={};for(U in y)U in T?re[U]=Ka(y[U],T[U]):ce[U]=y[U];for(U in T)U in y||(ce[U]=T[U]);return function(me){for(U in re)ce[U]=re[U](me);return ce}}function Hi(y,T){return y=+y,T=+T,function(U){return y*(1-U)+T*U}}function si(y,T){var U,re,ce,me=k4.lastIndex=oi.lastIndex=0,ye=-1,He=[],Le=[];for(y+="",T+="";(U=k4.exec(y))&&(re=oi.exec(T));)(ce=re.index)>me&&(ce=T.slice(me,ce),He[ye]?He[ye]+=ce:He[++ye]=ce),(U=U[0])===(re=re[0])?He[ye]?He[ye]+=re:He[++ye]=re:(He[++ye]=null,Le.push({i:ye,x:Hi(U,re)})),me=oi.lastIndex;return me<T.length&&(ce=T.slice(me),He[ye]?He[ye]+=ce:He[++ye]=ce),He.length<2?Le[0]?(T=Le[0].x,function(De){return T(De)+""}):function(){return T}:(T=Le.length,function(De){for(var Ne,at=0;at<T;++at)He[(Ne=Le[at]).i]=Ne.x(De);return He.join("")})}s.geom.delaunay=function(y){return s.geom.voronoi().triangles(y)},s.geom.quadtree=function(y,T,U,re,ce){var me,ye=En,He=b2;if(me=arguments.length)return ye=f1,He=Q0,3===me&&(ce=U,re=T,U=T=0),Le(y);function Le(De){var Ne,at,ot,vt,Vt,ht,Ct,lt,Rt,zt=cn(ye),pt=cn(He);if(null!=T)ht=T,Ct=U,lt=re,Rt=ce;else if(lt=Rt=-(ht=Ct=1/0),at=[],ot=[],Vt=De.length,me)for(vt=0;vt<Vt;++vt)(Ne=De[vt]).x<ht&&(ht=Ne.x),Ne.y<Ct&&(Ct=Ne.y),Ne.x>lt&&(lt=Ne.x),Ne.y>Rt&&(Rt=Ne.y),at.push(Ne.x),ot.push(Ne.y);else for(vt=0;vt<Vt;++vt){var nn=+zt(Ne=De[vt],vt),sn=+pt(Ne,vt);nn<ht&&(ht=nn),sn<Ct&&(Ct=sn),nn>lt&&(lt=nn),sn>Rt&&(Rt=sn),at.push(nn),ot.push(sn)}var zn=lt-ht,Tn=Rt-Ct;function Un(Gn,v2,C1,F2,bn,Yn,N2,L2){if(!isNaN(C1)&&!isNaN(F2))if(Gn.leaf){var s1=Gn.x,m1=Gn.y;if(null!=s1)if(H(s1-C1)+H(m1-F2)<.01)qn(Gn,v2,C1,F2,bn,Yn,N2,L2);else{var V1=Gn.point;Gn.x=Gn.y=Gn.point=null,qn(Gn,V1,s1,m1,bn,Yn,N2,L2),qn(Gn,v2,C1,F2,bn,Yn,N2,L2)}else Gn.x=C1,Gn.y=F2,Gn.point=v2}else qn(Gn,v2,C1,F2,bn,Yn,N2,L2)}function qn(Gn,v2,C1,F2,bn,Yn,N2,L2){var s1=.5*(bn+N2),m1=.5*(Yn+L2),V1=C1>=s1,o1=F2>=m1,tr=o1<<1|V1;Gn.leaf=!1,V1?bn=s1:N2=s1,o1?Yn=m1:L2=m1,Un(Gn=Gn.nodes[tr]||(Gn.nodes[tr]={leaf:!0,nodes:[],point:null,x:null,y:null}),v2,C1,F2,bn,Yn,N2,L2)}zn>Tn?Rt=Ct+zn:lt=ht+Tn;var _2={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Gn){Un(_2,Gn,+zt(Gn,++vt),+pt(Gn,vt),ht,Ct,lt,Rt)},visit:function(Gn){Oo(Gn,_2,ht,Ct,lt,Rt)},find:function(Gn){return J0(_2,Gn[0],Gn[1],ht,Ct,lt,Rt)}};if(vt=-1,null==T){for(;++vt<Vt;)Un(_2,De[vt],at[vt],ot[vt],ht,Ct,lt,Rt);--vt}else De.forEach(_2.add);return at=ot=De=Ne=null,_2}return Le.x=function(De){return arguments.length?(ye=De,Le):ye},Le.y=function(De){return arguments.length?(He=De,Le):He},Le.extent=function(De){return arguments.length?(null==De?T=U=re=ce=null:(T=+De[0][0],U=+De[0][1],re=+De[1][0],ce=+De[1][1]),Le):null==T?null:[[T,U],[re,ce]]},Le.size=function(De){return arguments.length?(null==De?T=U=re=ce=null:(T=U=0,re=+De[0],ce=+De[1]),Le):null==T?null:[re-T,ce-U]},Le},s.interpolateRgb=Xa,s.interpolateObject=Fo,s.interpolateNumber=Hi,s.interpolateString=si;var k4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oi=new RegExp(k4.source,"g");function Ka(y,T){for(var U,re=s.interpolators.length;--re>=0&&!(U=s.interpolators[re](y,T)););return U}function Da(y,T){var U,re=[],ce=[],me=y.length,ye=T.length,He=Math.min(y.length,T.length);for(U=0;U<He;++U)re.push(Ka(y[U],T[U]));for(;U<me;++U)ce[U]=y[U];for(;U<ye;++U)ce[U]=T[U];return function(Le){for(U=0;U<He;++U)ce[U]=re[U](Le);return ce}}s.interpolate=Ka,s.interpolators=[function(y,T){var U=typeof T;return("string"===U?pn.has(T.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(T)?Xa:si:T instanceof et?Xa:Array.isArray(T)?Da:"object"===U&&isNaN(T)?Fo:Hi)(y,T)}],s.interpolateArray=Da;var ci=function(){return ne},T3=s.map({linear:ci,poly:function(y){return function(T){return Math.pow(T,y)}},quad:function(){return A4},cubic:function(){return zs},sin:function(){return t6},exp:function(){return n6},circle:function(){return Ta},elastic:function(y,T){var U;return arguments.length<2&&(T=.45),arguments.length?U=T/Qt*Math.asin(1/y):(y=1,U=T/4),function(re){return 1+y*Math.pow(2,-10*re)*Math.sin((re-U)*Qt/T)}},back:function(y){return y||(y=1.70158),function(T){return T*T*((y+1)*T-y)}},bounce:function(){return li}}),gn=s.map({in:ne,out:q2,"in-out":Ss,"out-in":function(y){return Ss(q2(y))}});function G1(y){return function(T){return T<=0?0:T>=1?1:y(T)}}function q2(y){return function(T){return 1-y(1-T)}}function Ss(y){return function(T){return.5*(T<.5?y(2*T):2-y(2-2*T))}}function A4(y){return y*y}function zs(y){return y*y*y}function e6(y){if(y<=0)return 0;if(y>=1)return 1;var T=y*y,U=T*y;return 4*(y<.5?U:3*(y-T)+U-.75)}function t6(y){return 1-Math.cos(y*Xt)}function n6(y){return Math.pow(2,10*(y-1))}function Ta(y){return 1-Math.sqrt(1-y*y)}function li(y){return y<1/2.75?7.5625*y*y:y<2/2.75?7.5625*(y-=1.5/2.75)*y+.75:y<2.5/2.75?7.5625*(y-=2.25/2.75)*y+.9375:7.5625*(y-=2.625/2.75)*y+.984375}function Js(y,T){return T-=y,function(U){return Math.round(y+T*U)}}function r6(y){var T,U,re,ce=[y.a,y.b],me=[y.c,y.d],ye=Qi(ce),He=Di(ce,me),Le=Qi(((T=me)[0]+=(re=-He)*(U=ce)[0],T[1]+=re*U[1],T))||0;ce[0]*me[1]<me[0]*ce[1]&&(ce[0]*=-1,ce[1]*=-1,ye*=-1,He*=-1),this.rotate=(ye?Math.atan2(ce[1],ce[0]):Math.atan2(-me[0],me[1]))*Nt,this.translate=[y.e,y.f],this.scale=[ye,Le],this.skew=Le?Math.atan2(He,Le)*Nt:0}function Di(y,T){return y[0]*T[0]+y[1]*T[1]}function Qi(y){var T=Math.sqrt(Di(y,y));return T&&(y[0]/=T,y[1]/=T),T}s.ease=function(y){var T=y.indexOf("-"),U=T>=0?y.slice(0,T):y,re=T>=0?y.slice(T+1):"in";return U=T3.get(U)||ci,G1((re=gn.get(re)||ne)(U.apply(null,g.call(arguments,1))))},s.interpolateHcl=function(y,T){y=s.hcl(y),T=s.hcl(T);var U=y.h,re=y.c,ce=y.l,me=T.h-U,ye=T.c-re,He=T.l-ce;return isNaN(ye)&&(ye=0,re=isNaN(re)?T.c:re),isNaN(me)?(me=0,U=isNaN(U)?T.h:U):me>180?me-=360:me<-180&&(me+=360),function(Le){return Dt(U+me*Le,re+ye*Le,ce+He*Le)+""}},s.interpolateHsl=function(y,T){y=s.hsl(y),T=s.hsl(T);var U=y.h,re=y.s,ce=y.l,me=T.h-U,ye=T.s-re,He=T.l-ce;return isNaN(ye)&&(ye=0,re=isNaN(re)?T.s:re),isNaN(me)?(me=0,U=isNaN(U)?T.h:U):me>180?me-=360:me<-180&&(me+=360),function(Le){return kt(U+me*Le,re+ye*Le,ce+He*Le)+""}},s.interpolateLab=function(y,T){y=s.lab(y),T=s.lab(T);var U=y.l,re=y.a,ce=y.b,me=T.l-U,ye=T.a-re,He=T.b-ce;return function(Le){return Mt(U+me*Le,re+ye*Le,ce+He*Le)+""}},s.interpolateRound=Js,s.transform=function(y){var T=c.createElementNS(s.ns.prefix.svg,"g");return(s.transform=function(U){if(null!=U){T.setAttribute("transform",U);var re=T.transform.baseVal.consolidate()}return new r6(re?re.matrix:H1)})(y)},r6.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var H1={a:1,b:0,c:0,d:1,e:0,f:0};function Ji(y){return y.length?y.pop()+",":""}function Ro(y,T){var ce,me,ye,U=[],re=[];return y=s.transform(y),T=s.transform(T),function(ce,me,ye,He){if(ce[0]!==me[0]||ce[1]!==me[1]){var Le=ye.push("translate(",null,",",null,")");He.push({i:Le-4,x:Hi(ce[0],me[0])},{i:Le-2,x:Hi(ce[1],me[1])})}else(me[0]||me[1])&&ye.push("translate("+me+")")}(y.translate,T.translate,U,re),ye=U,(ce=y.rotate)!==(me=T.rotate)?(ce-me>180?me+=360:me-ce>180&&(ce+=360),re.push({i:ye.push(Ji(ye)+"rotate(",null,")")-2,x:Hi(ce,me)})):me&&ye.push(Ji(ye)+"rotate("+me+")"),function(ce,me,ye,He){ce!==me?He.push({i:ye.push(Ji(ye)+"skewX(",null,")")-2,x:Hi(ce,me)}):me&&ye.push(Ji(ye)+"skewX("+me+")")}(y.skew,T.skew,U,re),function(ce,me,ye,He){if(ce[0]!==me[0]||ce[1]!==me[1]){var Le=ye.push(Ji(ye)+"scale(",null,",",null,")");He.push({i:Le-4,x:Hi(ce[0],me[0])},{i:Le-2,x:Hi(ce[1],me[1])})}else 1===me[0]&&1===me[1]||ye.push(Ji(ye)+"scale("+me+")")}(y.scale,T.scale,U,re),y=T=null,function(ce){for(var me,ye=-1,He=re.length;++ye<He;)U[(me=re[ye]).i]=me.x(ce);return U.join("")}}function N4(y,T){return T=(T-=y=+y)||1/T,function(U){return(U-y)/T}}function V3(y,T){return T=(T-=y=+y)||1/T,function(U){return Math.max(0,Math.min(1,(U-y)/T))}}function ea(y){for(var T=y.source,U=y.target,re=function(ye,He){if(ye===He)return ye;for(var Le=eo(ye),De=eo(He),Ne=Le.pop(),at=De.pop(),ot=null;Ne===at;)ot=Ne,Ne=Le.pop(),at=De.pop();return ot}(T,U),ce=[T];T!==re;)ce.push(T=T.parent);for(var me=ce.length;U!==re;)ce.splice(me,0,U),U=U.parent;return ce}function eo(y){for(var T=[],U=y.parent;null!=U;)T.push(y),y=U,U=U.parent;return T.push(y),T}function pl(y){y.fixed|=2}function I2(y){y.fixed&=-7}function E4(y){y.fixed|=4,y.px=y.x,y.py=y.y}function to(y){y.fixed&=-5}s.interpolateTransform=Ro,s.layout={},s.layout.bundle=function(){return function(y){for(var T=[],U=-1,re=y.length;++U<re;)T.push(ea(y[U]));return T}},s.layout.chord=function(){var y,T,U,re,ce,me,ye,He={},Le=0;function De(){var at,ot,vt,Vt,ht,Ct={},lt=[],Rt=s.range(re),zt=[];for(y=[],T=[],at=0,Vt=-1;++Vt<re;){for(ot=0,ht=-1;++ht<re;)ot+=U[Vt][ht];lt.push(ot),zt.push(s.range(re)),at+=ot}for(ce&&Rt.sort(function(_2,Gn){return ce(lt[_2],lt[Gn])}),me&&zt.forEach(function(_2,Gn){_2.sort(function(v2,C1){return me(U[Gn][v2],U[Gn][C1])})}),at=(Qt-Le*re)/at,ot=0,Vt=-1;++Vt<re;){for(vt=ot,ht=-1;++ht<re;){var pt=Rt[Vt],nn=zt[pt][ht],sn=U[pt][nn],zn=ot,Tn=ot+=sn*at;Ct[pt+"-"+nn]={index:pt,subindex:nn,startAngle:zn,endAngle:Tn,value:sn}}T[pt]={index:pt,startAngle:vt,endAngle:ot,value:lt[pt]},ot+=Le}for(Vt=-1;++Vt<re;)for(ht=Vt-1;++ht<re;){var Un=Ct[Vt+"-"+ht],qn=Ct[ht+"-"+Vt];(Un.value||qn.value)&&y.push(Un.value<qn.value?{source:qn,target:Un}:{source:Un,target:qn})}ye&&Ne()}function Ne(){y.sort(function(at,ot){return ye((at.source.value+at.target.value)/2,(ot.source.value+ot.target.value)/2)})}return He.matrix=function(at){return arguments.length?(re=(U=at)&&U.length,y=T=null,He):U},He.padding=function(at){return arguments.length?(Le=at,y=T=null,He):Le},He.sortGroups=function(at){return arguments.length?(ce=at,y=T=null,He):ce},He.sortSubgroups=function(at){return arguments.length?(me=at,y=null,He):me},He.sortChords=function(at){return arguments.length?(ye=at,y&&Ne(),He):ye},He.chords=function(){return y||De(),y},He.groups=function(){return T||De(),T},He},s.layout.force=function(){var y,T,U,re,ce,me,ye={},He=s.dispatch("start","tick","end"),Le=[1,1],De=.9,Ne=P4,at=$1,ot=-30,vt=i6,Vt=.1,ht=.64,Ct=[],lt=[];function Rt(pt){return function(nn,sn,zn,Tn){if(nn.point!==pt){var Un=nn.cx-pt.x,qn=nn.cy-pt.y,_2=Tn-sn,Gn=Un*Un+qn*qn;if(_2*_2/ht<Gn){if(Gn<vt){var v2=nn.charge/Gn;pt.px-=Un*v2,pt.py-=qn*v2}return!0}nn.point&&Gn&&Gn<vt&&(pt.px-=Un*(v2=nn.pointCharge/Gn),pt.py-=qn*v2)}return!nn.charge}}function zt(pt){pt.px=s.event.x,pt.py=s.event.y,ye.resume()}return ye.tick=function(){if((U*=.99)<.005)return y=null,He.end({type:"end",alpha:U=0}),!0;var pt,nn,sn,zn,Tn,Un,qn,_2,Gn,v2=Ct.length,C1=lt.length;for(nn=0;nn<C1;++nn)zn=(sn=lt[nn]).source,(Un=(_2=(Tn=sn.target).x-zn.x)*_2+(Gn=Tn.y-zn.y)*Gn)&&(_2*=Un=U*ce[nn]*((Un=Math.sqrt(Un))-re[nn])/Un,Gn*=Un,Tn.x-=_2*(qn=zn.weight+Tn.weight?zn.weight/(zn.weight+Tn.weight):.5),Tn.y-=Gn*qn,zn.x+=_2*(qn=1-qn),zn.y+=Gn*qn);if((qn=U*Vt)&&(_2=Le[0]/2,Gn=Le[1]/2,nn=-1,qn))for(;++nn<v2;)(sn=Ct[nn]).x+=(_2-sn.x)*qn,sn.y+=(Gn-sn.y)*qn;if(ot)for(function F2(bn,Yn,N2){var L2=0,s1=0;if(bn.charge=0,!bn.leaf)for(var m1,V1=bn.nodes,o1=V1.length,tr=-1;++tr<o1;)null!=(m1=V1[tr])&&(F2(m1,Yn,N2),bn.charge+=m1.charge,L2+=m1.charge*m1.cx,s1+=m1.charge*m1.cy);if(bn.point){bn.leaf||(bn.point.x+=Math.random()-.5,bn.point.y+=Math.random()-.5);var _r=Yn*N2[bn.point.index];bn.charge+=bn.pointCharge=_r,L2+=_r*bn.point.x,s1+=_r*bn.point.y}bn.cx=L2/bn.charge,bn.cy=s1/bn.charge}(pt=s.geom.quadtree(Ct),U,me),nn=-1;++nn<v2;)(sn=Ct[nn]).fixed||pt.visit(Rt(sn));for(nn=-1;++nn<v2;)(sn=Ct[nn]).fixed?(sn.x=sn.px,sn.y=sn.py):(sn.x-=(sn.px-(sn.px=sn.x))*De,sn.y-=(sn.py-(sn.py=sn.y))*De);He.tick({type:"tick",alpha:U})},ye.nodes=function(pt){return arguments.length?(Ct=pt,ye):Ct},ye.links=function(pt){return arguments.length?(lt=pt,ye):lt},ye.size=function(pt){return arguments.length?(Le=pt,ye):Le},ye.linkDistance=function(pt){return arguments.length?(Ne="function"==typeof pt?pt:+pt,ye):Ne},ye.distance=ye.linkDistance,ye.linkStrength=function(pt){return arguments.length?(at="function"==typeof pt?pt:+pt,ye):at},ye.friction=function(pt){return arguments.length?(De=+pt,ye):De},ye.charge=function(pt){return arguments.length?(ot="function"==typeof pt?pt:+pt,ye):ot},ye.chargeDistance=function(pt){return arguments.length?(vt=pt*pt,ye):Math.sqrt(vt)},ye.gravity=function(pt){return arguments.length?(Vt=+pt,ye):Vt},ye.theta=function(pt){return arguments.length?(ht=pt*pt,ye):Math.sqrt(ht)},ye.alpha=function(pt){return arguments.length?(pt=+pt,U?pt>0?U=pt:(y.c=null,y.t=NaN,y=null,He.end({type:"end",alpha:U=0})):pt>0&&(He.start({type:"start",alpha:U=pt}),y=qt(ye.tick)),ye):U},ye.start=function(){var pt,nn,sn,zn=Ct.length,Tn=lt.length,Un=Le[0],qn=Le[1];for(pt=0;pt<zn;++pt)(sn=Ct[pt]).index=pt,sn.weight=0;for(pt=0;pt<Tn;++pt)"number"==typeof(sn=lt[pt]).source&&(sn.source=Ct[sn.source]),"number"==typeof sn.target&&(sn.target=Ct[sn.target]),++sn.source.weight,++sn.target.weight;for(pt=0;pt<zn;++pt)sn=Ct[pt],isNaN(sn.x)&&(sn.x=_2("x",Un)),isNaN(sn.y)&&(sn.y=_2("y",qn)),isNaN(sn.px)&&(sn.px=sn.x),isNaN(sn.py)&&(sn.py=sn.y);if(re=[],"function"==typeof Ne)for(pt=0;pt<Tn;++pt)re[pt]=+Ne.call(this,lt[pt],pt);else for(pt=0;pt<Tn;++pt)re[pt]=Ne;if(ce=[],"function"==typeof at)for(pt=0;pt<Tn;++pt)ce[pt]=+at.call(this,lt[pt],pt);else for(pt=0;pt<Tn;++pt)ce[pt]=at;if(me=[],"function"==typeof ot)for(pt=0;pt<zn;++pt)me[pt]=+ot.call(this,Ct[pt],pt);else for(pt=0;pt<zn;++pt)me[pt]=ot;function _2(Gn,v2){if(!nn){for(nn=new Array(zn),Yn=0;Yn<zn;++Yn)nn[Yn]=[];for(Yn=0;Yn<Tn;++Yn){var C1=lt[Yn];nn[C1.source.index].push(C1.target),nn[C1.target.index].push(C1.source)}}for(var F2,bn=nn[pt],Yn=-1,N2=bn.length;++Yn<N2;)if(!isNaN(F2=bn[Yn][Gn]))return F2;return Math.random()*v2}return ye.resume()},ye.resume=function(){return ye.alpha(.1)},ye.stop=function(){return ye.alpha(0)},ye.drag=function(){if(T||(T=s.behavior.drag().origin(ne).on("dragstart.force",pl).on("drag.force",zt).on("dragend.force",I2)),!arguments.length)return T;this.on("mouseover.force",E4).on("mouseout.force",to).call(T)},s.rebind(ye,He,"on")};var P4=20,$1=1,i6=1/0;function no(y,T){return s.rebind(y,T,"sort","children","value"),y.nodes=y,y.links=ro,y}function p2(y,T){for(var U=[y];null!=(y=U.pop());)if(T(y),(ce=y.children)&&(re=ce.length))for(var re,ce;--re>=0;)U.push(ce[re])}function W1(y,T){for(var U=[y],re=[];null!=(y=U.pop());)if(re.push(y),(me=y.children)&&(ce=me.length))for(var ce,me,ye=-1;++ye<ce;)U.push(me[ye]);for(;null!=(y=re.pop());)T(y)}function N1(y){return y.children}function ir(y){return y.value}function Jr(y,T){return T.value-y.value}function ro(y){return s.merge(y.map(function(T){return(T.children||[]).map(function(U){return{source:T,target:U}})}))}s.layout.hierarchy=function(){var y=Jr,T=N1,U=ir;function re(ce){var me,ye=[ce],He=[];for(ce.depth=0;null!=(me=ye.pop());)if(He.push(me),(De=T.call(re,me,me.depth))&&(Le=De.length)){for(var Le,De,Ne;--Le>=0;)ye.push(Ne=De[Le]),Ne.parent=me,Ne.depth=me.depth+1;U&&(me.value=0),me.children=De}else U&&(me.value=+U.call(re,me,me.depth)||0),delete me.children;return W1(ce,function(at){var ot,vt;y&&(ot=at.children)&&ot.sort(y),U&&(vt=at.parent)&&(vt.value+=at.value)}),He}return re.sort=function(ce){return arguments.length?(y=ce,re):y},re.children=function(ce){return arguments.length?(T=ce,re):T},re.value=function(ce){return arguments.length?(U=ce,re):U},re.revalue=function(ce){return U&&(p2(ce,function(me){me.children&&(me.value=0)}),W1(ce,function(me){var ye;me.children||(me.value=+U.call(re,me,me.depth)||0),(ye=me.parent)&&(ye.value+=me.value)})),ce},re},s.layout.partition=function(){var y=s.layout.hierarchy(),T=[1,1];function U(re,ce){var me=y.call(this,re,ce);return function ye(He,Le,De,Ne){var at=He.children;if(He.x=Le,He.y=He.depth*Ne,He.dx=De,He.dy=Ne,at&&(ot=at.length)){var ot,vt,Vt,ht=-1;for(De=He.value?De/He.value:0;++ht<ot;)ye(vt=at[ht],Le,Vt=vt.value*De,Ne),Le+=Vt}}(me[0],0,T[0],T[1]/function ye(He){var Le=He.children,De=0;if(Le&&(Ne=Le.length))for(var Ne,at=-1;++at<Ne;)De=Math.max(De,ye(Le[at]));return 1+De}(me[0])),me}return U.size=function(re){return arguments.length?(T=re,U):T},no(U,y)},s.layout.pie=function(){var y=Number,T=Ur,U=0,re=Qt,ce=0;function me(ye){var He,Le=ye.length,De=ye.map(function(Rt,zt){return+y.call(me,Rt,zt)}),Ne=+("function"==typeof U?U.apply(this,arguments):U),at=("function"==typeof re?re.apply(this,arguments):re)-Ne,ot=Math.min(Math.abs(at)/Le,+("function"==typeof ce?ce.apply(this,arguments):ce)),vt=ot*(at<0?-1:1),Vt=s.sum(De),ht=Vt?(at-Le*vt)/Vt:0,Ct=s.range(Le),lt=[];return null!=T&&Ct.sort(T===Ur?function(Rt,zt){return De[zt]-De[Rt]}:function(Rt,zt){return T(ye[Rt],ye[zt])}),Ct.forEach(function(Rt){lt[Rt]={data:ye[Rt],value:He=De[Rt],startAngle:Ne,endAngle:Ne+=He*ht+vt,padAngle:ot}}),lt}return me.value=function(ye){return arguments.length?(y=ye,me):y},me.sort=function(ye){return arguments.length?(T=ye,me):T},me.startAngle=function(ye){return arguments.length?(U=ye,me):U},me.endAngle=function(ye){return arguments.length?(re=ye,me):re},me.padAngle=function(ye){return arguments.length?(ce=ye,me):ce},me};var Ur={};function ga(y){return y.x}function Xn(y){return y.y}function Y2(y,T,U){y.y0=T,y.y=U}s.layout.stack=function(){var y=ne,T=Va,U=Z1,re=Y2,ce=ga,me=Xn;function ye(He,Le){if(!(ot=He.length))return He;var De=He.map(function(Rt,zt){return y.call(ye,Rt,zt)}),Ne=De.map(function(Rt){return Rt.map(function(zt,pt){return[ce.call(ye,zt,pt),me.call(ye,zt,pt)]})}),at=T.call(ye,Ne,Le);De=s.permute(De,at),Ne=s.permute(Ne,at);var ot,vt,Vt,ht,Ct=U.call(ye,Ne,Le),lt=De[0].length;for(Vt=0;Vt<lt;++Vt)for(re.call(ye,De[0][Vt],ht=Ct[Vt],Ne[0][Vt][1]),vt=1;vt<ot;++vt)re.call(ye,De[vt][Vt],ht+=Ne[vt-1][Vt][1],Ne[vt][Vt][1]);return He}return ye.values=function(He){return arguments.length?(y=He,ye):y},ye.order=function(He){return arguments.length?(T="function"==typeof He?He:J1.get(He)||Va,ye):T},ye.offset=function(He){return arguments.length?(U="function"==typeof He?He:ta.get(He)||Z1,ye):U},ye.x=function(He){return arguments.length?(ce=He,ye):ce},ye.y=function(He){return arguments.length?(me=He,ye):me},ye.out=function(He){return arguments.length?(re=He,ye):re},ye};var J1=s.map({"inside-out":function(y){var T,U,re=y.length,ce=y.map(jr),me=y.map(er),ye=s.range(re).sort(function(at,ot){return ce[at]-ce[ot]}),He=0,Le=0,De=[],Ne=[];for(T=0;T<re;++T)U=ye[T],He<Le?(He+=me[U],De.push(U)):(Le+=me[U],Ne.push(U));return Ne.reverse().concat(De)},reverse:function(y){return s.range(y.length).reverse()},default:Va}),ta=s.map({silhouette:function(y){var T,U,re,ce=y.length,me=y[0].length,ye=[],He=0,Le=[];for(U=0;U<me;++U){for(T=0,re=0;T<ce;T++)re+=y[T][U][1];re>He&&(He=re),ye.push(re)}for(U=0;U<me;++U)Le[U]=(He-ye[U])/2;return Le},wiggle:function(y){var T,U,re,ce,me,ye,He,Le,De,Ne=y.length,at=y[0],ot=at.length,vt=[];for(vt[0]=Le=De=0,U=1;U<ot;++U){for(T=0,ce=0;T<Ne;++T)ce+=y[T][U][1];for(T=0,me=0,He=at[U][0]-at[U-1][0];T<Ne;++T){for(re=0,ye=(y[T][U][1]-y[T][U-1][1])/(2*He);re<T;++re)ye+=(y[re][U][1]-y[re][U-1][1])/He;me+=ye*y[T][U][1]}vt[U]=Le-=ce?me/ce*He:0,Le<De&&(De=Le)}for(U=0;U<ot;++U)vt[U]-=De;return vt},expand:function(y){var T,U,re,ce=y.length,me=y[0].length,ye=1/ce,He=[];for(U=0;U<me;++U){for(T=0,re=0;T<ce;T++)re+=y[T][U][1];if(re)for(T=0;T<ce;T++)y[T][U][1]/=re;else for(T=0;T<ce;T++)y[T][U][1]=ye}for(U=0;U<me;++U)He[U]=0;return He},zero:Z1});function Va(y){return s.range(y.length)}function Z1(y){for(var T=-1,U=y[0].length,re=[];++T<U;)re[T]=0;return re}function jr(y){for(var T,U=1,re=0,ce=y[0][1],me=y.length;U<me;++U)(T=y[U][1])>ce&&(re=U,ce=T);return re}function er(y){return y.reduce(k3,0)}function k3(y,T){return y+T[1]}function A3(y,T){return a1(y,Math.ceil(Math.log(T.length)/Math.LN2+1))}function a1(y,T){for(var U=-1,re=+y[0],ce=(y[1]-re)/T,me=[];++U<=T;)me[U]=ce*U+re;return me}function I4(y){return[s.min(y),s.max(y)]}function Bo(y,T){return y.value-T.value}function Ls(y,T){var U=y._pack_next;y._pack_next=T,T._pack_prev=y,T._pack_next=U,U._pack_prev=T}function jt(y,T){y._pack_next=T,T._pack_prev=y}function dn(y,T){var U=T.x-y.x,re=T.y-y.y,ce=y.r+T.r;return.999*ce*ce>U*U+re*re}function un(y){if((T=y.children)&&(Le=T.length)){var T,U,re,ce,me,ye,He,Le,De=1/0,Ne=-1/0,at=1/0,ot=-1/0;if(T.forEach(Jn),(U=T[0]).x=-U.r,U.y=0,zt(U),Le>1&&((re=T[1]).x=re.r,re.y=0,zt(re),Le>2))for(p1(U,re,ce=T[2]),zt(ce),Ls(U,ce),U._pack_prev=ce,Ls(ce,re),re=U._pack_next,me=3;me<Le;me++){p1(U,re,ce=T[me]);var vt=0,Vt=1,ht=1;for(ye=re._pack_next;ye!==re;ye=ye._pack_next,Vt++)if(dn(ye,ce)){vt=1;break}if(1==vt)for(He=U._pack_prev;He!==ye._pack_prev&&!dn(He,ce);He=He._pack_prev,ht++);vt?(Vt<ht||Vt==ht&&re.r<U.r?jt(U,re=ye):jt(U=He,re),me--):(Ls(U,ce),re=ce,zt(ce))}var Ct=(De+Ne)/2,lt=(at+ot)/2,Rt=0;for(me=0;me<Le;me++)(ce=T[me]).x-=Ct,ce.y-=lt,Rt=Math.max(Rt,ce.r+Math.sqrt(ce.x*ce.x+ce.y*ce.y));y.r=Rt,T.forEach(S2)}function zt(pt){De=Math.min(pt.x-pt.r,De),Ne=Math.max(pt.x+pt.r,Ne),at=Math.min(pt.y-pt.r,at),ot=Math.max(pt.y+pt.r,ot)}}function Jn(y){y._pack_next=y._pack_prev=y}function S2(y){delete y._pack_next,delete y._pack_prev}function p1(y,T,U){var re=y.r+U.r,ce=T.x-y.x,me=T.y-y.y;if(re&&(ce||me)){var ye=T.r+U.r,He=ce*ce+me*me,Le=.5+((re*=re)-(ye*=ye))/(2*He),De=Math.sqrt(Math.max(0,2*ye*(re+He)-(re-=He)*re-ye*ye))/(2*He);U.x=y.x+Le*ce+De*me,U.y=y.y+Le*me-De*ce}else U.x=y.x+re,U.y=y.y}function ar(y,T){return y.parent==T.parent?1:2}function z2(y){var T=y.children;return T.length?T[0]:y.t}function N3(y){var T,U=y.children;return(T=U.length)?U[T-1]:y.t}function O4(y,T,U){var re=U/(T.i-y.i);T.c-=re,T.s+=U,y.c+=re,T.z+=U,T.m+=U}function Ti(y,T,U){return y.a.parent===T.parent?y.a:U}function ka(y){return{x:y.x,y:y.y,dx:y.dx,dy:y.dy}}function Uo(y,T){var U=y.x+T[3],re=y.y+T[0],ce=y.dx-T[1]-T[3],me=y.dy-T[0]-T[2];return ce<0&&(U+=ce/2,ce=0),me<0&&(re+=me/2,me=0),{x:U,y:re,dx:ce,dy:me}}function ui(y){var T=y[0],U=y[y.length-1];return T<U?[T,U]:[U,T]}function sr(y){return y.rangeExtent?y.rangeExtent():ui(y.range())}function F4(y,T,U,re){var ce=U(y[0],y[1]),me=re(T[0],T[1]);return function(ye){return me(ce(ye))}}function X2(y,T){var U,re=0,ce=y.length-1,me=y[re],ye=y[ce];return ye<me&&(U=re,re=ce,ce=U,U=me,me=ye,ye=U),y[re]=T.floor(me),y[ce]=T.ceil(ye),y}function Bi(y){return y?{floor:function(T){return Math.floor(T/y)*y},ceil:function(T){return Math.ceil(T/y)*y}}:E3}s.layout.histogram=function(){var y=!0,T=Number,U=I4,re=A3;function ce(me,ye){for(var He,Le,De=[],Ne=me.map(T,this),at=U.call(this,Ne,ye),ot=re.call(this,at,Ne,ye),vt=(ye=-1,Ne.length),Vt=ot.length-1,ht=y?1:1/vt;++ye<Vt;)(He=De[ye]=[]).dx=ot[ye+1]-(He.x=ot[ye]),He.y=0;if(Vt>0)for(ye=-1;++ye<vt;)(Le=Ne[ye])>=at[0]&&Le<=at[1]&&((He=De[s.bisect(ot,Le,1,Vt)-1]).y+=ht,He.push(me[ye]));return De}return ce.value=function(me){return arguments.length?(T=me,ce):T},ce.range=function(me){return arguments.length?(U=cn(me),ce):U},ce.bins=function(me){return arguments.length?(re="number"==typeof me?function(ye){return a1(ye,me)}:cn(me),ce):re},ce.frequency=function(me){return arguments.length?(y=!!me,ce):y},ce},s.layout.pack=function(){var y,T=s.layout.hierarchy().sort(Bo),U=0,re=[1,1];function ce(me,ye){var He=T.call(this,me,ye),Le=He[0],De=re[0],Ne=re[1],at=null==y?Math.sqrt:"function"==typeof y?y:function(){return y};if(Le.x=Le.y=0,W1(Le,function(vt){vt.r=+at(vt.value)}),W1(Le,un),U){var ot=U*(y?1:Math.max(2*Le.r/De,2*Le.r/Ne))/2;W1(Le,function(vt){vt.r+=ot}),W1(Le,un),W1(Le,function(vt){vt.r-=ot})}return function vt(Vt,ht,Ct,lt){var Rt=Vt.children;if(Vt.x=ht+=lt*Vt.x,Vt.y=Ct+=lt*Vt.y,Vt.r*=lt,Rt)for(var zt=-1,pt=Rt.length;++zt<pt;)vt(Rt[zt],ht,Ct,lt)}(Le,De/2,Ne/2,y?1:1/Math.max(2*Le.r/De,2*Le.r/Ne)),He}return ce.size=function(me){return arguments.length?(re=me,ce):re},ce.radius=function(me){return arguments.length?(y=null==me||"function"==typeof me?me:+me,ce):y},ce.padding=function(me){return arguments.length?(U=+me,ce):U},no(ce,T)},s.layout.tree=function(){var y=s.layout.hierarchy().sort(null).value(null),T=ar,U=[1,1],re=null;function ce(Le,De){var Ne=y.call(this,Le,De),at=Ne[0],ot=function(zt){for(var pt,nn={A:null,children:[zt]},sn=[nn];null!=(pt=sn.pop());)for(var zn,Tn=pt.children,Un=0,qn=Tn.length;Un<qn;++Un)sn.push((Tn[Un]=zn={_:Tn[Un],parent:pt,children:(zn=Tn[Un].children)&&zn.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Un}).a=zn);return nn.children[0]}(at);if(W1(ot,me),ot.parent.m=-ot.z,p2(ot,ye),re)p2(at,He);else{var vt=at,Vt=at,ht=at;p2(at,function(zt){zt.x<vt.x&&(vt=zt),zt.x>Vt.x&&(Vt=zt),zt.depth>ht.depth&&(ht=zt)});var Ct=T(vt,Vt)/2-vt.x,lt=U[0]/(Vt.x+T(Vt,vt)/2+Ct),Rt=U[1]/(ht.depth||1);p2(at,function(zt){zt.x=(zt.x+Ct)*lt,zt.y=zt.depth*Rt})}return Ne}function me(Le){var De=Le.children,Ne=Le.parent.children,at=Le.i?Ne[Le.i-1]:null;if(De.length){!function(vt){for(var Vt,ht=0,Ct=0,lt=vt.children,Rt=lt.length;--Rt>=0;)(Vt=lt[Rt]).z+=ht,Vt.m+=ht,ht+=Vt.s+(Ct+=Vt.c)}(Le);var ot=(De[0].z+De[De.length-1].z)/2;at?(Le.z=at.z+T(Le._,at._),Le.m=Le.z-ot):Le.z=ot}else at&&(Le.z=at.z+T(Le._,at._));Le.parent.A=function(vt,Vt,ht){if(Vt){for(var Ct,lt=vt,Rt=vt,zt=Vt,pt=lt.parent.children[0],nn=lt.m,sn=Rt.m,zn=zt.m,Tn=pt.m;zt=N3(zt),lt=z2(lt),zt&&lt;)pt=z2(pt),(Rt=N3(Rt)).a=vt,(Ct=zt.z+zn-lt.z-nn+T(zt._,lt._))>0&&(O4(Ti(zt,vt,ht),vt,Ct),nn+=Ct,sn+=Ct),zn+=zt.m,nn+=lt.m,Tn+=pt.m,sn+=Rt.m;zt&&!N3(Rt)&&(Rt.t=zt,Rt.m+=zn-sn),lt&&!z2(pt)&&(pt.t=lt,pt.m+=nn-Tn,ht=vt)}return ht}(Le,at,Le.parent.A||Ne[0])}function ye(Le){Le._.x=Le.z+Le.parent.m,Le.m+=Le.parent.m}function He(Le){Le.x*=U[0],Le.y=Le.depth*U[1]}return ce.separation=function(Le){return arguments.length?(T=Le,ce):T},ce.size=function(Le){return arguments.length?(re=null==(U=Le)?He:null,ce):re?null:U},ce.nodeSize=function(Le){return arguments.length?(re=null==(U=Le)?null:He,ce):re?U:null},no(ce,y)},s.layout.cluster=function(){var y=s.layout.hierarchy().sort(null).value(null),T=ar,U=[1,1],re=!1;function ce(me,ye){var He,Le=y.call(this,me,ye),De=Le[0],Ne=0;W1(De,function(ht){var lt,Ct=ht.children;Ct&&Ct.length?(ht.x=(lt=Ct).reduce(function(Rt,zt){return Rt+zt.x},0)/lt.length,ht.y=function(lt){return 1+s.max(lt,function(Rt){return Rt.y})}(Ct)):(ht.x=He?Ne+=T(ht,He):0,ht.y=0,He=ht)});var at=function ht(Ct){var lt=Ct.children;return lt&&lt.length?ht(lt[0]):Ct}(De),ot=function ht(Ct){var lt,Rt=Ct.children;return Rt&&(lt=Rt.length)?ht(Rt[lt-1]):Ct}(De),vt=at.x-T(at,ot)/2,Vt=ot.x+T(ot,at)/2;return W1(De,re?function(ht){ht.x=(ht.x-De.x)*U[0],ht.y=(De.y-ht.y)*U[1]}:function(ht){ht.x=(ht.x-vt)/(Vt-vt)*U[0],ht.y=(1-(De.y?ht.y/De.y:1))*U[1]}),Le}return ce.separation=function(me){return arguments.length?(T=me,ce):T},ce.size=function(me){return arguments.length?(re=null==(U=me),ce):re?null:U},ce.nodeSize=function(me){return arguments.length?(re=null!=(U=me),ce):re?U:null},no(ce,y)},s.layout.treemap=function(){var y,T=s.layout.hierarchy(),U=Math.round,re=[1,1],ce=null,me=ka,ye=!1,He="squarify",Le=.5*(1+Math.sqrt(5));function De(ht,Ct){for(var lt,Rt,zt=-1,pt=ht.length;++zt<pt;)Rt=(lt=ht[zt]).value*(Ct<0?0:Ct),lt.area=isNaN(Rt)||Rt<=0?0:Rt}function Ne(ht){var Ct=ht.children;if(Ct&&Ct.length){var lt,Rt,zt,pt=me(ht),nn=[],sn=Ct.slice(),zn=1/0,Tn="slice"===He?pt.dx:"dice"===He?pt.dy:"slice-dice"===He?1&ht.depth?pt.dy:pt.dx:Math.min(pt.dx,pt.dy);for(De(sn,pt.dx*pt.dy/ht.value),nn.area=0;(zt=sn.length)>0;)nn.push(lt=sn[zt-1]),nn.area+=lt.area,"squarify"!==He||(Rt=ot(nn,Tn))<=zn?(sn.pop(),zn=Rt):(nn.area-=nn.pop().area,vt(nn,Tn,pt,!1),Tn=Math.min(pt.dx,pt.dy),nn.length=nn.area=0,zn=1/0);nn.length&&(vt(nn,Tn,pt,!0),nn.length=nn.area=0),Ct.forEach(Ne)}}function at(ht){var Ct=ht.children;if(Ct&&Ct.length){var lt,Rt=me(ht),zt=Ct.slice(),pt=[];for(De(zt,Rt.dx*Rt.dy/ht.value),pt.area=0;lt=zt.pop();)pt.push(lt),pt.area+=lt.area,null!=lt.z&&(vt(pt,lt.z?Rt.dx:Rt.dy,Rt,!zt.length),pt.length=pt.area=0);Ct.forEach(at)}}function ot(ht,Ct){for(var lt,Rt=ht.area,zt=0,pt=1/0,nn=-1,sn=ht.length;++nn<sn;)(lt=ht[nn].area)&&(lt<pt&&(pt=lt),lt>zt&&(zt=lt));return Ct*=Ct,(Rt*=Rt)?Math.max(Ct*zt*Le/Rt,Rt/(Ct*pt*Le)):1/0}function vt(ht,Ct,lt,Rt){var zt,pt=-1,nn=ht.length,sn=lt.x,zn=lt.y,Tn=Ct?U(ht.area/Ct):0;if(Ct==lt.dx){for((Rt||Tn>lt.dy)&&(Tn=lt.dy);++pt<nn;)(zt=ht[pt]).x=sn,zt.y=zn,zt.dy=Tn,sn+=zt.dx=Math.min(lt.x+lt.dx-sn,Tn?U(zt.area/Tn):0);zt.z=!0,zt.dx+=lt.x+lt.dx-sn,lt.y+=Tn,lt.dy-=Tn}else{for((Rt||Tn>lt.dx)&&(Tn=lt.dx);++pt<nn;)(zt=ht[pt]).x=sn,zt.y=zn,zt.dx=Tn,zn+=zt.dy=Math.min(lt.y+lt.dy-zn,Tn?U(zt.area/Tn):0);zt.z=!1,zt.dy+=lt.y+lt.dy-zn,lt.x+=Tn,lt.dx-=Tn}}function Vt(ht){var Ct=y||T(ht),lt=Ct[0];return lt.x=lt.y=0,lt.value?(lt.dx=re[0],lt.dy=re[1]):lt.dx=lt.dy=0,y&&T.revalue(lt),De([lt],lt.dx*lt.dy/lt.value),(y?at:Ne)(lt),ye&&(y=Ct),Ct}return Vt.size=function(ht){return arguments.length?(re=ht,Vt):re},Vt.padding=function(ht){if(!arguments.length)return ce;function Ct(zt){var pt=ht.call(Vt,zt,zt.depth);return null==pt?ka(zt):Uo(zt,"number"==typeof pt?[pt,pt,pt,pt]:pt)}function lt(zt){return Uo(zt,ht)}var Rt;return me=null==(ce=ht)?ka:"function"==(Rt=typeof ht)?Ct:("number"===Rt&&(ht=[ht,ht,ht,ht]),lt),Vt},Vt.round=function(ht){return arguments.length?(U=ht?Math.round:Number,Vt):U!=Number},Vt.sticky=function(ht){return arguments.length?(ye=ht,y=null,Vt):ye},Vt.ratio=function(ht){return arguments.length?(Le=ht,Vt):Le},Vt.mode=function(ht){return arguments.length?(He=ht+"",Vt):He},no(Vt,T)},s.random={normal:function(y,T){var U=arguments.length;return U<2&&(T=1),U<1&&(y=0),function(){var re,ce,me;do{me=(re=2*Math.random()-1)*re+(ce=2*Math.random()-1)*ce}while(!me||me>1);return y+T*re*Math.sqrt(-2*Math.log(me)/me)}},logNormal:function(){var y=s.random.normal.apply(s,arguments);return function(){return Math.exp(y())}},bates:function(y){var T=s.random.irwinHall(y);return function(){return T()/y}},irwinHall:function(y){return function(){for(var T=0,U=0;U<y;U++)T+=Math.random();return T}}},s.scale={};var E3={floor:ne,ceil:ne};function Qa(y,T,U,re){var ce=[],me=[],ye=0,He=Math.min(y.length,T.length)-1;for(y[He]<y[0]&&(y=y.slice().reverse(),T=T.slice().reverse());++ye<=He;)ce.push(U(y[ye-1],y[ye])),me.push(re(T[ye-1],T[ye]));return function(Le){var De=s.bisect(y,Le,1,He)-1;return me[De](ce[De](Le))}}function jo(y,T){return s.rebind(y,T,"range","rangeRound","interpolate","clamp")}function Ui(y,T){return X2(y,Bi(R4(y,T)[2])),X2(y,Bi(R4(y,T)[2])),y}function R4(y,T){null==T&&(T=10);var U=ui(y),re=U[1]-U[0],ce=Math.pow(10,Math.floor(Math.log(re/T)/Math.LN10)),me=T/re*ce;return me<=.15?ce*=10:me<=.35?ce*=5:me<=.75&&(ce*=2),U[0]=Math.ceil(U[0]/ce)*ce,U[1]=Math.floor(U[1]/ce)*ce+.5*ce,U[2]=ce,U}function Go(y,T){return s.range.apply(s,R4(y,T))}s.scale.linear=function(){return function y(T,U,re,ce){var me,ye;function He(){var De=Math.min(T.length,U.length)>2?Qa:F4,Ne=ce?V3:N4;return me=De(T,U,Ne,re),ye=De(U,T,Ne,Ka),Le}function Le(De){return me(De)}return Le.invert=function(De){return ye(De)},Le.domain=function(De){return arguments.length?(T=De.map(Number),He()):T},Le.range=function(De){return arguments.length?(U=De,He()):U},Le.rangeRound=function(De){return Le.range(De).interpolate(Js)},Le.clamp=function(De){return arguments.length?(ce=De,He()):ce},Le.interpolate=function(De){return arguments.length?(re=De,He()):re},Le.ticks=function(De){return Go(T,De)},Le.tickFormat=function(De,Ne){return d3_scale_linearTickFormat(T,De,Ne)},Le.nice=function(De){return Ui(T,De),He()},Le.copy=function(){return y(T,U,re,ce)},He()}([0,1],[0,1],Ka,!1)},s.scale.log=function(){return function y(T,U,re,ce){function me(Le){return(re?Math.log(Le<0?0:Le):-Math.log(Le>0?0:-Le))/Math.log(U)}function ye(Le){return re?Math.pow(U,Le):-Math.pow(U,-Le)}function He(Le){return T(me(Le))}return He.invert=function(Le){return ye(T.invert(Le))},He.domain=function(Le){return arguments.length?(re=Le[0]>=0,T.domain((ce=Le.map(Number)).map(me)),He):ce},He.base=function(Le){return arguments.length?(U=+Le,T.domain(ce.map(me)),He):U},He.nice=function(){var Le=X2(ce.map(me),re?Math:Ja);return T.domain(Le),ce=Le.map(ye),He},He.ticks=function(){var Le=ui(ce),De=[],Ne=Le[0],at=Le[1],ot=Math.floor(me(Ne)),vt=Math.ceil(me(at)),Vt=U%1?2:U;if(isFinite(vt-ot)){if(re){for(;ot<vt;ot++)for(var ht=1;ht<Vt;ht++)De.push(ye(ot)*ht);De.push(ye(ot))}else for(De.push(ye(ot));ot++<vt;)for(ht=Vt-1;ht>0;ht--)De.push(ye(ot)*ht);for(ot=0;De[ot]<Ne;ot++);for(vt=De.length;De[vt-1]>at;vt--);De=De.slice(ot,vt)}return De},He.copy=function(){return y(T.copy(),U,re,ce)},jo(He,T)}(s.scale.linear().domain([0,1]),10,!0,[1,10])};var Ja={floor:function(y){return-Math.ceil(-y)},ceil:function(y){return-Math.floor(-y)}};function Hs(y){return function(T){return T<0?-Math.pow(-T,y):Math.pow(T,y)}}s.scale.pow=function(){return function y(T,U,re){var ce=Hs(U),me=Hs(1/U);function ye(He){return T(ce(He))}return ye.invert=function(He){return me(T.invert(He))},ye.domain=function(He){return arguments.length?(T.domain((re=He.map(Number)).map(ce)),ye):re},ye.ticks=function(He){return Go(re,He)},ye.tickFormat=function(He,Le){return d3_scale_linearTickFormat(re,He,Le)},ye.nice=function(He){return ye.domain(Ui(re,He))},ye.exponent=function(He){return arguments.length?(ce=Hs(U=He),me=Hs(1/U),T.domain(re.map(ce)),ye):U},ye.copy=function(){return y(T.copy(),U,re)},jo(ye,T)}(s.scale.linear(),1,[0,1])},s.scale.sqrt=function(){return s.scale.pow().exponent(.5)},s.scale.ordinal=function(){return function y(T,U){var re,ce,me;function ye(Le){return ce[((re.get(Le)||("range"===U.t?re.set(Le,T.push(Le)):NaN))-1)%ce.length]}function He(Le,De){return s.range(T.length).map(function(Ne){return Le+De*Ne})}return ye.domain=function(Le){if(!arguments.length)return T;T=[],re=new E;for(var De,Ne=-1,at=Le.length;++Ne<at;)re.has(De=Le[Ne])||re.set(De,T.push(De));return ye[U.t].apply(ye,U.a)},ye.range=function(Le){return arguments.length?(ce=Le,me=0,U={t:"range",a:arguments},ye):ce},ye.rangePoints=function(Le,De){arguments.length<2&&(De=0);var Ne=Le[0],at=Le[1],ot=T.length<2?(Ne=(Ne+at)/2,0):(at-Ne)/(T.length-1+De);return ce=He(Ne+ot*De/2,ot),me=0,U={t:"rangePoints",a:arguments},ye},ye.rangeRoundPoints=function(Le,De){arguments.length<2&&(De=0);var Ne=Le[0],at=Le[1],ot=T.length<2?(Ne=at=Math.round((Ne+at)/2),0):(at-Ne)/(T.length-1+De)|0;return ce=He(Ne+Math.round(ot*De/2+(at-Ne-(T.length-1+De)*ot)/2),ot),me=0,U={t:"rangeRoundPoints",a:arguments},ye},ye.rangeBands=function(Le,De,Ne){arguments.length<2&&(De=0),arguments.length<3&&(Ne=De);var at=Le[1]<Le[0],ot=Le[at-0],Vt=(Le[1-at]-ot)/(T.length-De+2*Ne);return ce=He(ot+Vt*Ne,Vt),at&&ce.reverse(),me=Vt*(1-De),U={t:"rangeBands",a:arguments},ye},ye.rangeRoundBands=function(Le,De,Ne){arguments.length<2&&(De=0),arguments.length<3&&(Ne=De);var at=Le[1]<Le[0],ot=Le[at-0],vt=Le[1-at],Vt=Math.floor((vt-ot)/(T.length-De+2*Ne));return ce=He(ot+Math.round((vt-ot-(T.length-De)*Vt)/2),Vt),at&&ce.reverse(),me=Math.round(Vt*(1-De)),U={t:"rangeRoundBands",a:arguments},ye},ye.rangeBand=function(){return me},ye.rangeExtent=function(){return ui(U.a[0])},ye.copy=function(){return y(T,U)},ye.domain(T)}([],{t:"range",a:[[]]})},s.scale.category10=function(){return s.scale.ordinal().range(a6)},s.scale.category20=function(){return s.scale.ordinal().range(B4)},s.scale.category20b=function(){return s.scale.ordinal().range(s6)},s.scale.category20c=function(){return s.scale.ordinal().range(o6)};var a6=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(_n),B4=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(_n),s6=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(_n),o6=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(_n);function U4(){return 0}s.scale.quantile=function(){return function y(T,U){var re;function ce(){var ye=0,He=U.length;for(re=[];++ye<He;)re[ye-1]=s.quantile(T,ye/He);return me}function me(ye){if(!isNaN(ye=+ye))return U[s.bisect(re,ye)]}return me.domain=function(ye){return arguments.length?(T=ye.map(w).filter(N).sort(M),ce()):T},me.range=function(ye){return arguments.length?(U=ye,ce()):U},me.quantiles=function(){return re},me.invertExtent=function(ye){return(ye=U.indexOf(ye))<0?[NaN,NaN]:[ye>0?re[ye-1]:T[0],ye<re.length?re[ye]:T[T.length-1]]},me.copy=function(){return y(T,U)},ce()}([],[])},s.scale.quantize=function(){return function y(T,U,re){var ce,me;function ye(Le){return re[Math.max(0,Math.min(me,Math.floor(ce*(Le-T))))]}function He(){return ce=re.length/(U-T),me=re.length-1,ye}return ye.domain=function(Le){return arguments.length?(T=+Le[0],U=+Le[Le.length-1],He()):[T,U]},ye.range=function(Le){return arguments.length?(re=Le,He()):re},ye.invertExtent=function(Le){return[Le=(Le=re.indexOf(Le))<0?NaN:Le/ce+T,Le+1/ce]},ye.copy=function(){return y(T,U,re)},He()}(0,1,[0,1])},s.scale.threshold=function(){return function y(T,U){function re(ce){if(ce<=ce)return U[s.bisect(T,ce)]}return re.domain=function(ce){return arguments.length?(T=ce,re):T},re.range=function(ce){return arguments.length?(U=ce,re):U},re.invertExtent=function(ce){return ce=U.indexOf(ce),[T[ce-1],T[ce]]},re.copy=function(){return y(T,U)},re}([.5],[0,1])},s.scale.identity=function(){return function y(T){function U(re){return+re}return U.invert=U,U.domain=U.range=function(re){return arguments.length?(T=re.map(U),U):T},U.ticks=function(re){return Go(T,re)},U.tickFormat=function(re,ce){return d3_scale_linearTickFormat(T,re,ce)},U.copy=function(){return y(T)},U}([0,1])},s.svg={},s.svg.arc=function(){var y=I3,T=io,U=U4,re=P3,ce=O3,me=c6,ye=l5;function He(){var De=Math.max(0,+y.apply(this,arguments)),Ne=Math.max(0,+T.apply(this,arguments)),at=ce.apply(this,arguments)-Xt,ot=me.apply(this,arguments)-Xt,vt=Math.abs(ot-at),Vt=at>ot?0:1;if(Ne<De&&(ht=Ne,Ne=De,De=ht),vt>=en)return Le(Ne,Vt)+(De?Le(De,1-Vt):"")+"Z";var ht,Ct,lt,Rt,zt,pt,nn,sn,zn,Tn,Un,qn,_2=0,Gn=0,v2=[];if((Rt=(+ye.apply(this,arguments)||0)/2)&&(lt=re===P3?Math.sqrt(De*De+Ne*Ne):+re.apply(this,arguments),Vt||(Gn*=-1),Ne&&(Gn=ge(lt/Ne*Math.sin(Rt))),De&&(_2=ge(lt/De*Math.sin(Rt)))),Ne){zt=Ne*Math.cos(at+Gn),pt=Ne*Math.sin(at+Gn),nn=Ne*Math.cos(ot-Gn),sn=Ne*Math.sin(ot-Gn);var C1=Math.abs(ot-at-2*Gn)<=Pt?0:1;if(Gn&&j4(zt,pt,nn,sn)===Vt^C1){var F2=(at+ot)/2;zt=Ne*Math.cos(F2),pt=Ne*Math.sin(F2),nn=sn=null}}else zt=pt=0;if(De){zn=De*Math.cos(ot-_2),Tn=De*Math.sin(ot-_2),Un=De*Math.cos(at+_2),qn=De*Math.sin(at+_2);var bn=Math.abs(at-ot+2*_2)<=Pt?0:1;if(_2&&j4(zn,Tn,Un,qn)===1-Vt^bn){var Yn=(at+ot)/2;zn=De*Math.cos(Yn),Tn=De*Math.sin(Yn),Un=qn=null}}else zn=Tn=0;if(vt>gt&&(ht=Math.min(Math.abs(Ne-De)/2,+U.apply(this,arguments)))>.001){Ct=De<Ne^Vt?0:1;var N2=ht,L2=ht;if(vt<Pt){var s1=null==Un?[zn,Tn]:null==nn?[zt,pt]:Qn([zt,pt],[Un,qn],[nn,sn],[zn,Tn]),m1=zt-s1[0],V1=pt-s1[1],o1=nn-s1[0],tr=sn-s1[1],_r=1/Math.sin(Math.acos((m1*o1+V1*tr)/(Math.sqrt(m1*m1+V1*V1)*Math.sqrt(o1*o1+tr*tr)))/2),nr=Math.sqrt(s1[0]*s1[0]+s1[1]*s1[1]);L2=Math.min(ht,(De-nr)/(_r-1)),N2=Math.min(ht,(Ne-nr)/(_r+1))}if(null!=nn){var kr=es(null==Un?[zn,Tn]:[Un,qn],[zt,pt],Ne,N2,Vt),X1=es([nn,sn],[zn,Tn],Ne,N2,Vt);ht===N2?v2.push("M",kr[0],"A",N2,",",N2," 0 0,",Ct," ",kr[1],"A",Ne,",",Ne," 0 ",1-Vt^j4(kr[1][0],kr[1][1],X1[1][0],X1[1][1]),",",Vt," ",X1[1],"A",N2,",",N2," 0 0,",Ct," ",X1[0]):v2.push("M",kr[0],"A",N2,",",N2," 0 1,",Ct," ",X1[0])}else v2.push("M",zt,",",pt);if(null!=Un){var Cr=es([zt,pt],[Un,qn],De,-L2,Vt),rs=es([zn,Tn],null==nn?[zt,pt]:[nn,sn],De,-L2,Vt);ht===L2?v2.push("L",rs[0],"A",L2,",",L2," 0 0,",Ct," ",rs[1],"A",De,",",De," 0 ",Vt^j4(rs[1][0],rs[1][1],Cr[1][0],Cr[1][1]),",",1-Vt," ",Cr[1],"A",L2,",",L2," 0 0,",Ct," ",Cr[0]):v2.push("L",rs[0],"A",L2,",",L2," 0 0,",Ct," ",Cr[0])}else v2.push("L",zn,",",Tn)}else v2.push("M",zt,",",pt),null!=nn&&v2.push("A",Ne,",",Ne," 0 ",C1,",",Vt," ",nn,",",sn),v2.push("L",zn,",",Tn),null!=Un&&v2.push("A",De,",",De," 0 ",bn,",",1-Vt," ",Un,",",qn);return v2.push("Z"),v2.join("")}function Le(De,Ne){return"M0,"+De+"A"+De+","+De+" 0 1,"+Ne+" 0,"+-De+"A"+De+","+De+" 0 1,"+Ne+" 0,"+De}return He.innerRadius=function(De){return arguments.length?(y=cn(De),He):y},He.outerRadius=function(De){return arguments.length?(T=cn(De),He):T},He.cornerRadius=function(De){return arguments.length?(U=cn(De),He):U},He.padRadius=function(De){return arguments.length?(re=De==P3?P3:cn(De),He):re},He.startAngle=function(De){return arguments.length?(ce=cn(De),He):ce},He.endAngle=function(De){return arguments.length?(me=cn(De),He):me},He.padAngle=function(De){return arguments.length?(ye=cn(De),He):ye},He.centroid=function(){var De=(+y.apply(this,arguments)+ +T.apply(this,arguments))/2,Ne=(+ce.apply(this,arguments)+ +me.apply(this,arguments))/2-Xt;return[Math.cos(Ne)*De,Math.sin(Ne)*De]},He};var P3="auto";function I3(y){return y.innerRadius}function io(y){return y.outerRadius}function O3(y){return y.startAngle}function c6(y){return y.endAngle}function l5(y){return y&&y.padAngle}function j4(y,T,U,re){return(y-U)*T-(T-re)*y>0?0:1}function es(y,T,U,re,ce){var me=y[0]-T[0],ye=y[1]-T[1],He=(ce?re:-re)/Math.sqrt(me*me+ye*ye),Le=He*ye,De=-He*me,Ne=y[0]+Le,at=y[1]+De,ot=T[0]+Le,vt=T[1]+De,Vt=(Ne+ot)/2,ht=(at+vt)/2,Ct=ot-Ne,lt=vt-at,Rt=Ct*Ct+lt*lt,zt=U-re,pt=Ne*vt-ot*at,nn=(lt<0?-1:1)*Math.sqrt(Math.max(0,zt*zt*Rt-pt*pt)),sn=(pt*lt-Ct*nn)/Rt,zn=(-pt*Ct-lt*nn)/Rt,Tn=(pt*lt+Ct*nn)/Rt,Un=(-pt*Ct+lt*nn)/Rt,qn=sn-Vt,_2=zn-ht,Gn=Tn-Vt,v2=Un-ht;return qn*qn+_2*_2>Gn*Gn+v2*v2&&(sn=Tn,zn=Un),[[sn-Le,zn-De],[sn*U/zt,zn*U/zt]]}function ao(){return!0}function G4(y){var T=En,U=b2,re=ao,ce=na,me=ce.key,ye=.7;function He(Le){var De,Ne=[],at=[],ot=-1,vt=Le.length,Vt=cn(T),ht=cn(U);function Ct(){Ne.push("M",ce(y(at),ye))}for(;++ot<vt;)re.call(this,De=Le[ot],ot)?at.push([+Vt.call(this,De,ot),+ht.call(this,De,ot)]):at.length&&(Ct(),at=[]);return at.length&&Ct(),Ne.length?Ne.join(""):null}return He.x=function(Le){return arguments.length?(T=Le,He):T},He.y=function(Le){return arguments.length?(U=Le,He):U},He.defined=function(Le){return arguments.length?(re=Le,He):re},He.interpolate=function(Le){return arguments.length?(me="function"==typeof Le?ce=Le:(ce=ml.get(Le)||na).key,He):me},He.tension=function(Le){return arguments.length?(ye=Le,He):ye},He}s.svg.line=function(){return G4(ne)};var ml=s.map({linear:na,"linear-closed":ts,step:function(y){for(var T=0,U=y.length,re=y[0],ce=[re[0],",",re[1]];++T<U;)ce.push("H",(re[0]+(re=y[T])[0])/2,"V",re[1]);return U>1&&ce.push("H",re[0]),ce.join("")},"step-before":$4,"step-after":_1,basis:gl,"basis-open":function(y){if(y.length<4)return na(y);for(var T,U=[],re=-1,ce=y.length,me=[0],ye=[0];++re<3;)me.push((T=y[re])[0]),ye.push(T[1]);for(U.push(fi(di,me)+","+fi(di,ye)),--re;++re<ce;)T=y[re],me.shift(),me.push(T[0]),ye.shift(),ye.push(T[1]),$o(U,me,ye);return U.join("")},"basis-closed":function(y){for(var T,U,re=-1,ce=y.length,me=ce+4,ye=[],He=[];++re<4;)ye.push((U=y[re%ce])[0]),He.push(U[1]);for(T=[fi(di,ye),",",fi(di,He)],--re;++re<me;)U=y[re%ce],ye.shift(),ye.push(U[0]),He.shift(),He.push(U[1]),$o(T,ye,He);return T.join("")},bundle:function(y,T){var U=y.length-1;if(U)for(var re,ce,me=y[0][0],ye=y[0][1],He=y[U][0]-me,Le=y[U][1]-ye,De=-1;++De<=U;)(re=y[De])[0]=T*re[0]+(1-T)*(me+(ce=De/U)*He),re[1]=T*re[1]+(1-T)*(ye+ce*Le);return gl(y)},cardinal:function(y,T){return y.length<3?na(y):y[0]+vr(y,W4(y,T))},"cardinal-open":function(y,T){return y.length<4?na(y):y[1]+vr(y.slice(1,-1),W4(y,T))},"cardinal-closed":function(y,T){return y.length<3?ts(y):y[0]+vr((y.push(y[0]),y),W4([y[y.length-2]].concat(y,[y[1]]),T))},monotone:function(y){return y.length<3?na(y):y[0]+vr(y,function(T){for(var U,re,ce,me,ye=[],He=function(Ne){for(var at=0,ot=Ne.length-1,vt=[],Vt=Ne[0],ht=Ne[1],Ct=vt[0]=Mr(Vt,ht);++at<ot;)vt[at]=(Ct+(Ct=Mr(Vt=ht,ht=Ne[at+1])))/2;return vt[at]=Ct,vt}(T),Le=-1,De=T.length-1;++Le<De;)U=Mr(T[Le],T[Le+1]),H(U)<gt?He[Le]=He[Le+1]=0:(me=(re=He[Le]/U)*re+(ce=He[Le+1]/U)*ce)>9&&(me=3*U/Math.sqrt(me),He[Le]=me*re,He[Le+1]=me*ce);for(Le=-1;++Le<=De;)me=(T[Math.min(De,Le+1)][0]-T[Math.max(0,Le-1)][0])/(6*(1+He[Le]*He[Le])),ye.push([me||0,He[Le]*me||0]);return ye}(y))}});function na(y){return y.length>1?y.join("L"):y+"Z"}function ts(y){return y.join("L")+"Z"}function $4(y){for(var T=0,U=y.length,re=y[0],ce=[re[0],",",re[1]];++T<U;)ce.push("V",(re=y[T])[1],"H",re[0]);return ce.join("")}function _1(y){for(var T=0,U=y.length,re=y[0],ce=[re[0],",",re[1]];++T<U;)ce.push("H",(re=y[T])[0],"V",re[1]);return ce.join("")}function vr(y,T){if(T.length<1||y.length!=T.length&&y.length!=T.length+2)return na(y);var U=y.length!=T.length,re="",ce=y[0],me=y[1],ye=T[0],He=ye,Le=1;if(U&&(re+="Q"+(me[0]-2*ye[0]/3)+","+(me[1]-2*ye[1]/3)+","+me[0]+","+me[1],ce=y[1],Le=2),T.length>1){me=y[Le],Le++,re+="C"+(ce[0]+ye[0])+","+(ce[1]+ye[1])+","+(me[0]-(He=T[1])[0])+","+(me[1]-He[1])+","+me[0]+","+me[1];for(var De=2;De<T.length;De++,Le++)re+="S"+((me=y[Le])[0]-(He=T[De])[0])+","+(me[1]-He[1])+","+me[0]+","+me[1]}if(U){var Ne=y[Le];re+="Q"+(me[0]+2*He[0]/3)+","+(me[1]+2*He[1]/3)+","+Ne[0]+","+Ne[1]}return re}function W4(y,T){for(var U,re=[],ce=(1-T)/2,me=y[0],ye=y[1],He=1,Le=y.length;++He<Le;)U=me,me=ye,re.push([ce*((ye=y[He])[0]-U[0]),ce*(ye[1]-U[1])]);return re}function gl(y){if(y.length<3)return na(y);var T=1,U=y.length,re=y[0],ce=re[0],me=re[1],ye=[ce,ce,ce,(re=y[1])[0]],He=[me,me,me,re[1]],Le=[ce,",",me,"L",fi(di,ye),",",fi(di,He)];for(y.push(y[U-1]);++T<=U;)re=y[T],ye.shift(),ye.push(re[0]),He.shift(),He.push(re[1]),$o(Le,ye,He);return y.pop(),Le.push("L",re),Le.join("")}function fi(y,T){return y[0]*T[0]+y[1]*T[1]+y[2]*T[2]+y[3]*T[3]}ml.forEach(function(y,T){T.key=y,T.closed=/-closed$/.test(y)});var q4=[0,2/3,1/3,0],F3=[0,1/3,2/3,0],di=[0,1/6,2/3,1/6];function $o(y,T,U){y.push("C",fi(q4,T),",",fi(q4,U),",",fi(F3,T),",",fi(F3,U),",",fi(di,T),",",fi(di,U))}function Mr(y,T){return(T[1]-y[1])/(T[0]-y[0])}function Ds(y){for(var T,U,re,ce=-1,me=y.length;++ce<me;)U=(T=y[ce])[0],re=T[1]-Xt,T[0]=U*Math.cos(re),T[1]=U*Math.sin(re);return y}function Ts(y){var T=En,U=En,re=0,ce=b2,me=ao,ye=na,He=ye.key,Le=ye,De="L",Ne=.7;function at(ot){var vt,Vt,ht,Ct=[],lt=[],Rt=[],zt=-1,pt=ot.length,nn=cn(T),sn=cn(re),zn=T===U?function(){return Vt}:cn(U),Tn=re===ce?function(){return ht}:cn(ce);function Un(){Ct.push("M",ye(y(Rt),Ne),De,Le(y(lt.reverse()),Ne),"Z")}for(;++zt<pt;)me.call(this,vt=ot[zt],zt)?(lt.push([Vt=+nn.call(this,vt,zt),ht=+sn.call(this,vt,zt)]),Rt.push([+zn.call(this,vt,zt),+Tn.call(this,vt,zt)])):lt.length&&(Un(),lt=[],Rt=[]);return lt.length&&Un(),Ct.length?Ct.join(""):null}return at.x=function(ot){return arguments.length?(T=U=ot,at):U},at.x0=function(ot){return arguments.length?(T=ot,at):T},at.x1=function(ot){return arguments.length?(U=ot,at):U},at.y=function(ot){return arguments.length?(re=ce=ot,at):ce},at.y0=function(ot){return arguments.length?(re=ot,at):re},at.y1=function(ot){return arguments.length?(ce=ot,at):ce},at.defined=function(ot){return arguments.length?(me=ot,at):me},at.interpolate=function(ot){return arguments.length?(He="function"==typeof ot?ye=ot:(ye=ml.get(ot)||na).key,Le=ye.reverse||ye,De=ye.closed?"M":"L",at):He},at.tension=function(ot){return arguments.length?(Ne=ot,at):Ne},at}function or(y){return y.source}function Vs(y){return y.target}function R3(y){return y.radius}function hi(y){return[y.x,y.y]}function l6(y){return function(){var T=y.apply(this,arguments),U=T[0],re=T[1]-Xt;return[U*Math.cos(re),U*Math.sin(re)]}}function vl(){return 64}function so(){return"circle"}function Or(y){var T=Math.sqrt(y/Pt);return"M0,"+T+"A"+T+","+T+" 0 1,1 0,"+-T+"A"+T+","+T+" 0 1,1 0,"+T+"Z"}s.svg.line.radial=function(){var y=G4(Ds);return y.radius=y.x,delete y.x,y.angle=y.y,delete y.y,y},$4.reverse=_1,_1.reverse=$4,s.svg.area=function(){return Ts(ne)},s.svg.area.radial=function(){var y=Ts(Ds);return y.radius=y.x,delete y.x,y.innerRadius=y.x0,delete y.x0,y.outerRadius=y.x1,delete y.x1,y.angle=y.y,delete y.y,y.startAngle=y.y0,delete y.y0,y.endAngle=y.y1,delete y.y1,y},s.svg.chord=function(){var y=or,T=Vs,U=R3,re=O3,ce=c6;function me(De,Ne){var at,ot,vt=ye(this,y,De,Ne),Vt=ye(this,T,De,Ne);return"M"+vt.p0+He(vt.r,vt.p1,vt.a1-vt.a0)+((at=vt).a0==(ot=Vt).a0&&at.a1==ot.a1?Le(0,0,0,vt.p0):Le(0,0,0,Vt.p0)+He(Vt.r,Vt.p1,Vt.a1-Vt.a0)+Le(0,0,0,vt.p0))+"Z"}function ye(De,Ne,at,ot){var vt=Ne.call(De,at,ot),Vt=U.call(De,vt,ot),ht=re.call(De,vt,ot)-Xt,Ct=ce.call(De,vt,ot)-Xt;return{r:Vt,a0:ht,a1:Ct,p0:[Vt*Math.cos(ht),Vt*Math.sin(ht)],p1:[Vt*Math.cos(Ct),Vt*Math.sin(Ct)]}}function He(De,Ne,at){return"A"+De+","+De+" 0 "+ +(at>Pt)+",1 "+Ne}function Le(De,Ne,at,ot){return"Q 0,0 "+ot}return me.radius=function(De){return arguments.length?(U=cn(De),me):U},me.source=function(De){return arguments.length?(y=cn(De),me):y},me.target=function(De){return arguments.length?(T=cn(De),me):T},me.startAngle=function(De){return arguments.length?(re=cn(De),me):re},me.endAngle=function(De){return arguments.length?(ce=cn(De),me):ce},me},s.svg.diagonal=function(){var y=or,T=Vs,U=hi;function re(ce,me){var ye=y.call(this,ce,me),He=T.call(this,ce,me),Le=(ye.y+He.y)/2,De=[ye,{x:ye.x,y:Le},{x:He.x,y:Le},He];return"M"+(De=De.map(U))[0]+"C"+De[1]+" "+De[2]+" "+De[3]}return re.source=function(ce){return arguments.length?(y=cn(ce),re):y},re.target=function(ce){return arguments.length?(T=cn(ce),re):T},re.projection=function(ce){return arguments.length?(U=ce,re):U},re},s.svg.diagonal.radial=function(){var y=s.svg.diagonal(),T=hi,U=y.projection;return y.projection=function(re){return arguments.length?U(l6(T=re)):T},y},s.svg.symbol=function(){var y=so,T=vl;function U(re,ce){return(oo.get(y.call(this,re,ce))||Or)(T.call(this,re,ce))}return U.type=function(re){return arguments.length?(y=cn(re),U):y},U.size=function(re){return arguments.length?(T=cn(re),U):T},U};var oo=s.map({circle:Or,cross:function(y){var T=Math.sqrt(y/5)/2;return"M"+-3*T+","+-T+"H"+-T+"V"+-3*T+"H"+T+"V"+-T+"H"+3*T+"V"+T+"H"+T+"V"+3*T+"H"+-T+"V"+T+"H"+-3*T+"Z"},diamond:function(y){var T=Math.sqrt(y/(2*Ze)),U=T*Ze;return"M0,"+-T+"L"+U+",0 0,"+T+" "+-U+",0Z"},square:function(y){var T=Math.sqrt(y)/2;return"M"+-T+","+-T+"L"+T+","+-T+" "+T+","+T+" "+-T+","+T+"Z"},"triangle-down":function(y){var T=Math.sqrt(y/ns),U=T*ns/2;return"M0,"+U+"L"+T+","+-U+" "+-T+","+-U+"Z"},"triangle-up":function(y){var T=Math.sqrt(y/ns),U=T*ns/2;return"M0,"+-U+"L"+T+","+U+" "+-T+","+U+"Z"}});s.svg.symbolTypes=oo.keys();var ns=Math.sqrt(3),Ze=Math.tan(30*Wt);ue.transition=function(y){for(var T,U,re=Bn||++yl,ce=B3(y),me=[],ye=Wo||{time:Date.now(),ease:e6,delay:0,duration:250},He=-1,Le=this.length;++He<Le;){me.push(T=[]);for(var De=this[He],Ne=-1,at=De.length;++Ne<at;)(U=De[Ne])&&U3(U,Ne,ce,re,ye),T.push(U)}return Vr(me,ce,re)},ue.interrupt=function(y){return this.each(null==y?Gr:co(B3(y)))};var Gr=co(B3());function co(y){return function(){var T,U,re;(T=this[y])&&(re=T[U=T.active])&&(re.timer.c=null,re.timer.t=NaN,--T.count?delete T[U]:delete this[y],T.active+=.5,re.event&&re.event.interrupt.call(this,this.__data__,re.index))}}function Vr(y,T,U){return F(y,yr),y.namespace=T,y.id=U,y}var Bn,Wo,yr=[],yl=0;function Aa(y,T,U,re){var ce=y.id,me=y.namespace;return Ie(y,"function"==typeof U?function(ye,He,Le){ye[me][ce].tween.set(T,re(U.call(ye,ye.__data__,He,Le)))}:(U=re(U),function(ye){ye[me][ce].tween.set(T,U)}))}function u6(y){return null==y&&(y=""),function(){this.textContent=y}}function B3(y){return null==y?"__transition__":"__transition_"+y+"__"}function U3(y,T,U,re,ce){var me,ye,He,Le,De,Ne=y[U]||(y[U]={active:0,count:0}),at=Ne[re];function ot(Vt){var ht=Ne.active,Ct=Ne[ht];for(var lt in Ct&&(Ct.timer.c=null,Ct.timer.t=NaN,--Ne.count,delete Ne[ht],Ct.event&&Ct.event.interrupt.call(y,y.__data__,Ct.index)),Ne)if(+lt<re){var Rt=Ne[lt];Rt.timer.c=null,Rt.timer.t=NaN,--Ne.count,delete Ne[lt]}ye.c=vt,qt(function(){return ye.c&&vt(Vt||1)&&(ye.c=null,ye.t=NaN),1},0,me),Ne.active=re,at.event&&at.event.start.call(y,y.__data__,T),De=[],at.tween.forEach(function(zt,pt){(pt=pt.call(y,y.__data__,T))&&De.push(pt)}),Le=at.ease,He=at.duration}function vt(Vt){for(var ht=Vt/He,Ct=Le(ht),lt=De.length;lt>0;)De[--lt].call(y,Ct);if(ht>=1)return at.event&&at.event.end.call(y,y.__data__,T),--Ne.count?delete Ne[re]:delete y[U],1}at||(ye=qt(function(Vt){var ht=at.delay;if(ye.t=ht+me,ht<=Vt)return ot(Vt-ht);ye.c=ot},0,me=ce.time),at=Ne[re]={tween:new E,time:me,timer:ye,delay:ce.delay,duration:ce.duration,ease:ce.ease,index:T},ce=null,++Ne.count)}yr.call=ue.call,yr.empty=ue.empty,yr.node=ue.node,yr.size=ue.size,s.transition=function(y,T){return y&&y.transition?Bn?y.transition(T):y:s.selection().transition(y)},s.transition.prototype=yr,yr.select=function(y){var T,U,re,ce=this.id,me=this.namespace,ye=[];y=fe(y);for(var He=-1,Le=this.length;++He<Le;){ye.push(T=[]);for(var De=this[He],Ne=-1,at=De.length;++Ne<at;)(re=De[Ne])&&(U=y.call(re,re.__data__,Ne,He))?("__data__"in re&&(U.__data__=re.__data__),U3(U,Ne,me,ce,re[me][ce]),T.push(U)):T.push(null)}return Vr(ye,me,ce)},yr.selectAll=function(y){var T,U,re,ce,me,ye=this.id,He=this.namespace,Le=[];y=he(y);for(var De=-1,Ne=this.length;++De<Ne;)for(var at=this[De],ot=-1,vt=at.length;++ot<vt;)if(re=at[ot]){me=re[He][ye],U=y.call(re,re.__data__,ot,De),Le.push(T=[]);for(var Vt=-1,ht=U.length;++Vt<ht;)(ce=U[Vt])&&U3(ce,Vt,He,ye,me),T.push(ce)}return Vr(Le,He,ye)},yr.filter=function(y){var T,U,re=[];"function"!=typeof y&&(y=qe(y));for(var ce=0,me=this.length;ce<me;ce++){re.push(T=[]);for(var ye,He=0,Le=(ye=this[ce]).length;He<Le;He++)(U=ye[He])&&y.call(U,U.__data__,He,ce)&&T.push(U)}return Vr(re,this.namespace,this.id)},yr.tween=function(y,T){var U=this.id,re=this.namespace;return arguments.length<2?this.node()[re][U].tween.get(y):Ie(this,null==T?function(ce){ce[re][U].tween.remove(y)}:function(ce){ce[re][U].tween.set(y,T)})},yr.attr=function(y,T){if(arguments.length<2){for(T in y)this.attr(T,y[T]);return this}var U="transform"==y?Ro:Ka,re=s.ns.qualify(y);function ce(){this.removeAttribute(re)}function me(){this.removeAttributeNS(re.space,re.local)}function ye(Le){return null==Le?ce:(Le+="",function(){var De,Ne=this.getAttribute(re);return Ne!==Le&&(De=U(Ne,Le),function(at){this.setAttribute(re,De(at))})})}function He(Le){return null==Le?me:(Le+="",function(){var De,Ne=this.getAttributeNS(re.space,re.local);return Ne!==Le&&(De=U(Ne,Le),function(at){this.setAttributeNS(re.space,re.local,De(at))})})}return Aa(this,"attr."+y,T,re.local?He:ye)},yr.attrTween=function(y,T){var U=s.ns.qualify(y);return this.tween("attr."+y,U.local?function(re,ce){var me=T.call(this,re,ce,this.getAttributeNS(U.space,U.local));return me&&function(ye){this.setAttributeNS(U.space,U.local,me(ye))}}:function(re,ce){var me=T.call(this,re,ce,this.getAttribute(U));return me&&function(ye){this.setAttribute(U,me(ye))}})},yr.style=function(y,T,U){var re=arguments.length;if(re<3){if("string"!=typeof y){for(U in re<2&&(T=""),y)this.style(U,y[U],T);return this}U=""}function ce(){this.style.removeProperty(y)}function me(ye){return null==ye?ce:(ye+="",function(){var He,Le=m(this).getComputedStyle(this,null).getPropertyValue(y);return Le!==ye&&(He=Ka(Le,ye),function(De){this.style.setProperty(y,He(De),U)})})}return Aa(this,"style."+y,T,me)},yr.styleTween=function(y,T,U){function re(ce,me){var ye=T.call(this,ce,me,m(this).getComputedStyle(this,null).getPropertyValue(y));return ye&&function(He){this.style.setProperty(y,ye(He),U)}}return arguments.length<3&&(U=""),this.tween("style."+y,re)},yr.text=function(y){return Aa(this,"text",y,u6)},yr.remove=function(){var y=this.namespace;return this.each("end.transition",function(){var T;this[y].count<2&&(T=this.parentNode)&&T.removeChild(this)})},yr.ease=function(y){var T=this.id,U=this.namespace;return arguments.length<1?this.node()[U][T].ease:("function"!=typeof y&&(y=s.ease.apply(s,arguments)),Ie(this,function(re){re[U][T].ease=y}))},yr.delay=function(y){var T=this.id,U=this.namespace;return arguments.length<1?this.node()[U][T].delay:Ie(this,"function"==typeof y?function(re,ce,me){re[U][T].delay=+y.call(re,re.__data__,ce,me)}:(y=+y,function(re){re[U][T].delay=y}))},yr.duration=function(y){var T=this.id,U=this.namespace;return arguments.length<1?this.node()[U][T].duration:Ie(this,"function"==typeof y?function(re,ce,me){re[U][T].duration=Math.max(1,y.call(re,re.__data__,ce,me))}:(y=Math.max(1,y),function(re){re[U][T].duration=y}))},yr.each=function(y,T){var U=this.id,re=this.namespace;if(arguments.length<2){var ce=Wo,me=Bn;try{Bn=U,Ie(this,function(ye,He,Le){Wo=ye[re][U],y.call(ye,ye.__data__,He,Le)})}finally{Wo=ce,Bn=me}}else Ie(this,function(ye){var He=ye[re][U];(He.event||(He.event=s.dispatch("start","end","interrupt"))).on(y,T)});return this},yr.transition=function(){for(var y,T,U,re=this.id,ce=++yl,me=this.namespace,ye=[],He=0,Le=this.length;He<Le;He++){ye.push(y=[]);for(var De,Ne=0,at=(De=this[He]).length;Ne<at;Ne++)(T=De[Ne])&&U3(T,Ne,me,ce,{time:(U=T[me][re]).time,ease:U.ease,delay:U.delay+U.duration,duration:U.duration}),y.push(T)}return Vr(ye,me,ce)},s.svg.axis=function(){var y,T=s.scale.linear(),U=_l,re=6,ce=6,me=3,ye=[10],He=null;function Le(De){De.each(function(){var Ne,at=s.select(this),ot=this.__chart__||T,vt=this.__chart__=T.copy(),Vt=He??(vt.ticks?vt.ticks.apply(vt,ye):vt.domain()),ht=y??(vt.tickFormat?vt.tickFormat.apply(vt,ye):ne),Ct=at.selectAll(".tick").data(Vt,vt),lt=Ct.enter().insert("g",".domain").attr("class","tick").style("opacity",gt),Rt=s.transition(Ct.exit()).style("opacity",gt).remove(),zt=s.transition(Ct.order()).style("opacity",1),pt=Math.max(re,0)+me,nn=sr(vt),sn=at.selectAll(".domain").data([0]),zn=(sn.enter().append("path").attr("class","domain"),s.transition(sn));lt.append("line"),lt.append("text");var Tn,Un,qn,_2,Gn=lt.select("line"),v2=zt.select("line"),C1=Ct.select("text").text(ht),F2=lt.select("text"),bn=zt.select("text"),Yn="top"===U||"left"===U?-1:1;if("bottom"===U||"top"===U?(Ne=t1,Tn="x",qn="y",Un="x2",_2="y2",C1.attr("dy",Yn<0?"0em":".71em").style("text-anchor","middle"),zn.attr("d","M"+nn[0]+","+Yn*ce+"V0H"+nn[1]+"V"+Yn*ce)):(Ne=s2,Tn="y",qn="x",Un="y2",_2="x2",C1.attr("dy",".32em").style("text-anchor",Yn<0?"end":"start"),zn.attr("d","M"+Yn*ce+","+nn[0]+"H0V"+nn[1]+"H"+Yn*ce)),Gn.attr(_2,Yn*re),F2.attr(qn,Yn*pt),v2.attr(Un,0).attr(_2,Yn*re),bn.attr(Tn,0).attr(qn,Yn*pt),vt.rangeBand){var N2=vt,L2=N2.rangeBand()/2;ot=vt=function(s1){return N2(s1)+L2}}else ot.rangeBand?ot=vt:Rt.call(Ne,vt,ot);lt.call(Ne,ot,vt),zt.call(Ne,vt,vt)})}return Le.scale=function(De){return arguments.length?(T=De,Le):T},Le.orient=function(De){return arguments.length?(U=De in Hn?De+"":_l,Le):U},Le.ticks=function(){return arguments.length?(ye=p(arguments),Le):ye},Le.tickValues=function(De){return arguments.length?(He=De,Le):He},Le.tickFormat=function(De){return arguments.length?(y=De,Le):y},Le.tickSize=function(De){var Ne=arguments.length;return Ne?(re=+De,ce=+arguments[Ne-1],Le):re},Le.innerTickSize=function(De){return arguments.length?(re=+De,Le):re},Le.outerTickSize=function(De){return arguments.length?(ce=+De,Le):ce},Le.tickPadding=function(De){return arguments.length?(me=+De,Le):me},Le.tickSubdivide=function(){return arguments.length&&Le},Le};var _l="bottom",Hn={top:1,right:1,bottom:1,left:1};function t1(y,T,U){y.attr("transform",function(re){var ce=T(re);return"translate("+(isFinite(ce)?ce:U(re))+",0)"})}function s2(y,T,U){y.attr("transform",function(re){var ce=T(re);return"translate(0,"+(isFinite(ce)?ce:U(re))+")"})}s.svg.brush=function(){var y,T,U=se(Ne,"brushstart","brush","brushend"),re=null,ce=null,me=[0,0],ye=[0,0],He=!0,Le=!0,De=wr[0];function Ne(ht){ht.each(function(){var Ct=s.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Vt).on("touchstart.brush",Vt),lt=Ct.selectAll(".background").data([0]);lt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Ct.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Rt=Ct.selectAll(".resize").data(De,ne);Rt.exit().remove(),Rt.enter().append("g").attr("class",function(sn){return"resize "+sn}).style("cursor",function(sn){return o2[sn]}).append("rect").attr("x",function(sn){return/[ew]$/.test(sn)?-3:null}).attr("y",function(sn){return/^[ns]/.test(sn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Rt.style("display",Ne.empty()?"none":null);var zt,pt=s.transition(Ct),nn=s.transition(lt);re&&(zt=sr(re),nn.attr("x",zt[0]).attr("width",zt[1]-zt[0]),ot(pt)),ce&&(zt=sr(ce),nn.attr("y",zt[0]).attr("height",zt[1]-zt[0]),vt(pt)),at(pt)})}function at(ht){ht.selectAll(".resize").attr("transform",function(Ct){return"translate("+me[+/e$/.test(Ct)]+","+ye[+/^s/.test(Ct)]+")"})}function ot(ht){ht.select(".extent").attr("x",me[0]),ht.selectAll(".extent,.n>rect,.s>rect").attr("width",me[1]-me[0])}function vt(ht){ht.select(".extent").attr("y",ye[0]),ht.selectAll(".extent,.e>rect,.w>rect").attr("height",ye[1]-ye[0])}function Vt(){var ht,Ct,lt=this,Rt=s.select(s.event.target),zt=U.of(lt,arguments),pt=s.select(lt),nn=Rt.datum(),sn=!/^(n|s)$/.test(nn)&&re,zn=!/^(e|w)$/.test(nn)&&ce,Tn=Rt.classed("extent"),Un=Ot(lt),qn=s.mouse(lt),_2=s.select(m(lt)).on("keydown.brush",C1).on("keyup.brush",F2);if(s.event.changedTouches?_2.on("touchmove.brush",bn).on("touchend.brush",N2):_2.on("mousemove.brush",bn).on("mouseup.brush",N2),pt.interrupt().selectAll("*").interrupt(),Tn)qn[0]=me[0]-qn[0],qn[1]=ye[0]-qn[1];else if(nn){var Gn=+/w$/.test(nn),v2=+/^n/.test(nn);Ct=[me[1-Gn]-qn[0],ye[1-v2]-qn[1]],qn[0]=me[Gn],qn[1]=ye[v2]}else s.event.altKey&&(ht=qn.slice());function C1(){32==s.event.keyCode&&(Tn||(ht=null,qn[0]-=me[1],qn[1]-=ye[1],Tn=2),j())}function F2(){32==s.event.keyCode&&2==Tn&&(qn[0]+=me[1],qn[1]+=ye[1],Tn=0,j())}function bn(){var L2=s.mouse(lt),s1=!1;Ct&&(L2[0]+=Ct[0],L2[1]+=Ct[1]),Tn||(s.event.altKey?(ht||(ht=[(me[0]+me[1])/2,(ye[0]+ye[1])/2]),qn[0]=me[+(L2[0]<ht[0])],qn[1]=ye[+(L2[1]<ht[1])]):ht=null),sn&&Yn(L2,re,0)&&(ot(pt),s1=!0),zn&&Yn(L2,ce,1)&&(vt(pt),s1=!0),s1&&(at(pt),zt({type:"brush",mode:Tn?"move":"resize"}))}function Yn(L2,s1,m1){var V1,o1,tr=sr(s1),_r=tr[0],nr=tr[1],kr=qn[m1],X1=m1?ye:me,Cr=X1[1]-X1[0];if(Tn&&(_r-=kr,nr-=Cr+kr),V1=(m1?Le:He)?Math.max(_r,Math.min(nr,L2[m1])):L2[m1],Tn?o1=(V1+=kr)+Cr:(ht&&(kr=Math.max(_r,Math.min(nr,2*ht[m1]-V1))),kr<V1?(o1=V1,V1=kr):o1=kr),X1[0]!=V1||X1[1]!=o1)return m1?T=null:y=null,X1[0]=V1,X1[1]=o1,!0}function N2(){bn(),pt.style("pointer-events","all").selectAll(".resize").style("display",Ne.empty()?"none":null),s.select("body").style("cursor",null),_2.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Un(),zt({type:"brushend"})}pt.style("pointer-events","none").selectAll(".resize").style("display",null),s.select("body").style("cursor",Rt.style("cursor")),zt({type:"brushstart"}),bn()}return Ne.event=function(ht){ht.each(function(){var Ct=U.of(this,arguments),lt={x:me,y:ye,i:y,j:T},Rt=this.__chart__||lt;this.__chart__=lt,Bn?s.select(this).transition().each("start.brush",function(){y=Rt.i,T=Rt.j,me=Rt.x,ye=Rt.y,Ct({type:"brushstart"})}).tween("brush:brush",function(){var zt=Da(me,lt.x),pt=Da(ye,lt.y);return y=T=null,function(nn){me=lt.x=zt(nn),ye=lt.y=pt(nn),Ct({type:"brush",mode:"resize"})}}).each("end.brush",function(){y=lt.i,T=lt.j,Ct({type:"brush",mode:"resize"}),Ct({type:"brushend"})}):(Ct({type:"brushstart"}),Ct({type:"brush",mode:"resize"}),Ct({type:"brushend"}))})},Ne.x=function(ht){return arguments.length?(De=wr[!(re=ht)<<1|!ce],Ne):re},Ne.y=function(ht){return arguments.length?(De=wr[!re<<1|!(ce=ht)],Ne):ce},Ne.clamp=function(ht){return arguments.length?(re&&ce?(He=!!ht[0],Le=!!ht[1]):re?He=!!ht:ce&&(Le=!!ht),Ne):re&&ce?[He,Le]:re?He:ce?Le:null},Ne.extent=function(ht){var Ct,lt,Rt,zt,pt;return arguments.length?(re&&(Ct=ht[0],lt=ht[1],ce&&(Ct=Ct[0],lt=lt[0]),y=[Ct,lt],re.invert&&(Ct=re(Ct),lt=re(lt)),lt<Ct&&(pt=Ct,Ct=lt,lt=pt),Ct==me[0]&&lt==me[1]||(me=[Ct,lt])),ce&&(Rt=ht[0],zt=ht[1],re&&(Rt=Rt[1],zt=zt[1]),T=[Rt,zt],ce.invert&&(Rt=ce(Rt),zt=ce(zt)),zt<Rt&&(pt=Rt,Rt=zt,zt=pt),Rt==ye[0]&&zt==ye[1]||(ye=[Rt,zt])),Ne):(re&&(y?(Ct=y[0],lt=y[1]):(Ct=me[0],lt=me[1],re.invert&&(Ct=re.invert(Ct),lt=re.invert(lt)),lt<Ct&&(pt=Ct,Ct=lt,lt=pt))),ce&&(T?(Rt=T[0],zt=T[1]):(Rt=ye[0],zt=ye[1],ce.invert&&(Rt=ce.invert(Rt),zt=ce.invert(zt)),zt<Rt&&(pt=Rt,Rt=zt,zt=pt))),re&&ce?[[Ct,Rt],[lt,zt]]:re?[Ct,lt]:ce&&[Rt,zt])},Ne.clear=function(){return Ne.empty()||(me=[0,0],ye=[0,0],y=T=null),Ne},Ne.empty=function(){return!!re&&me[0]==me[1]||!!ce&&ye[0]==ye[1]},s.rebind(Ne,U,"on")};var o2={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},wr=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function Cl(y){return JSON.parse(y.responseText)}function qo(y){var T=c.createRange();return T.selectNode(c.body),T.createContextualFragment(y.responseText)}s.text=Pn(function(y){return y.responseText}),s.json=function(y,T){return Vn(y,"application/json",Cl,T)},s.html=function(y,T){return Vn(y,"text/html",qo,T)},s.xml=Pn(function(y){return y.responseXML}),"object"==typeof pe&&pe.exports?pe.exports=s:this.d3=s}).apply(self)},{}],12:[function(v,pe,J){"use strict";var s,g="object"==typeof Reflect?Reflect:null,p=g&&"function"==typeof g.apply?g.apply:function(A,V,L){return Function.prototype.apply.call(A,V,L)};s=g&&"function"==typeof g.ownKeys?g.ownKeys:Object.getOwnPropertySymbols?function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:function(A){return Object.getOwnPropertyNames(A)};var c=Number.isNaN||function(A){return A!=A};function l(){l.init.call(this)}pe.exports=l,pe.exports.once=function(A,V){return new Promise(function(L,H){function I(){void 0!==D&&A.removeListener("error",D),L([].slice.call(arguments))}var D;"error"!==V&&(D=function(E){A.removeListener(V,I),H(E)},A.once("error",D)),A.once(V,I)})},l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var m=10;function d(A){if("function"!=typeof A)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}function h(A){return void 0===A._maxListeners?l.defaultMaxListeners:A._maxListeners}function u(A,V,L,H){var I,D,E;if(d(L),void 0===(D=A._events)?(D=A._events=Object.create(null),A._eventsCount=0):(void 0!==D.newListener&&(A.emit("newListener",V,L.listener?L.listener:L),D=A._events),E=D[V]),void 0===E)E=D[V]=L,++A._eventsCount;else if("function"==typeof E?E=D[V]=H?[L,E]:[E,L]:H?E.unshift(L):E.push(L),(I=h(A))>0&&E.length>I&&!E.warned){E.warned=!0;var S=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(V)+" listeners added. Use emitter.setMaxListeners() to increase limit");S.name="MaxListenersExceededWarning",S.emitter=A,S.type=V,S.count=E.length,console&&console.warn&&console.warn(S)}return A}function C(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(A,V,L){var H={fired:!1,wrapFn:void 0,target:A,type:V,listener:L},I=C.bind(H);return I.listener=L,H.wrapFn=I,I}function M(A,V,L){var H=A._events;if(void 0===H)return[];var I=H[V];return void 0===I?[]:"function"==typeof I?L?[I.listener||I]:[I]:L?function(D){for(var E=new Array(D.length),P=0;P<E.length;++P)E[P]=D[P].listener||D[P];return E}(I):N(I,I.length)}function w(A){var V=this._events;if(void 0!==V){var L=V[A];if("function"==typeof L)return 1;if(void 0!==L)return L.length}return 0}function N(A,V){for(var L=new Array(V),H=0;H<V;++H)L[H]=A[H];return L}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(A){if("number"!=typeof A||A<0||c(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");m=A}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(A){if("number"!=typeof A||A<0||c(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(A){for(var V=[],L=1;L<arguments.length;L++)V.push(arguments[L]);var H="error"===A,I=this._events;if(void 0!==I)H=H&&void 0===I.error;else if(!H)return!1;if(H){var D;if(V.length>0&&(D=V[0]),D instanceof Error)throw D;var E=new Error("Unhandled error."+(D?" ("+D.message+")":""));throw E.context=D,E}var P=I[A];if(void 0===P)return!1;if("function"==typeof P)p(P,this,V);else{var S=P.length,R=N(P,S);for(L=0;L<S;++L)p(R[L],this,V)}return!0},l.prototype.on=l.prototype.addListener=function(A,V){return u(this,A,V,!1)},l.prototype.prependListener=function(A,V){return u(this,A,V,!0)},l.prototype.once=function(A,V){return d(V),this.on(A,b(this,A,V)),this},l.prototype.prependOnceListener=function(A,V){return d(V),this.prependListener(A,b(this,A,V)),this},l.prototype.off=l.prototype.removeListener=function(A,V){var L,H,I,D,E;if(d(V),void 0===(H=this._events))return this;if(void 0===(L=H[A]))return this;if(L===V||L.listener===V)0==--this._eventsCount?this._events=Object.create(null):(delete H[A],H.removeListener&&this.emit("removeListener",A,L.listener||V));else if("function"!=typeof L){for(I=-1,D=L.length-1;D>=0;D--)if(L[D]===V||L[D].listener===V){E=L[D].listener,I=D;break}if(I<0)return this;0===I?L.shift():function(P,S){for(;S+1<P.length;S++)P[S]=P[S+1];P.pop()}(L,I),1===L.length&&(H[A]=L[0]),void 0!==H.removeListener&&this.emit("removeListener",A,E||V)}return this},l.prototype.removeAllListeners=function(A){var V,L,H;if(void 0===(L=this._events))return this;if(void 0===L.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==L[A]&&(0==--this._eventsCount?this._events=Object.create(null):delete L[A]),this;if(0===arguments.length){var I,D=Object.keys(L);for(H=0;H<D.length;++H)"removeListener"!==(I=D[H])&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(V=L[A]))this.removeListener(A,V);else if(void 0!==V)for(H=V.length-1;H>=0;H--)this.removeListener(A,V[H]);return this},l.prototype.listeners=function(A){return M(this,A,!0)},l.prototype.rawListeners=function(A){return M(this,A,!1)},l.listenerCount=function(A,V){return"function"==typeof A.listenerCount?A.listenerCount(V):w.call(A,V)},l.prototype.listenerCount=w,l.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]}},{}],13:[function(v,pe,J){var s,g;s=this,g=function(s){"use strict";function g(V,L){if((H=(V=L?V.toExponential(L-1):V.toExponential()).indexOf("e"))<0)return null;var H,I=V.slice(0,H);return[I.length>1?I[0]+I.slice(2):I,+V.slice(H+1)]}function p(V){return(V=g(Math.abs(V)))?V[1]:NaN}var c,l=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function m(V){if(!(L=l.exec(V)))throw new Error("invalid format: "+V);var L;return new d({fill:L[1],align:L[2],sign:L[3],symbol:L[4],zero:L[5],width:L[6],comma:L[7],precision:L[8]&&L[8].slice(1),trim:L[9],type:L[10]})}function d(V){this.fill=void 0===V.fill?" ":V.fill+"",this.align=void 0===V.align?">":V.align+"",this.sign=void 0===V.sign?"-":V.sign+"",this.symbol=void 0===V.symbol?"":V.symbol+"",this.zero=!!V.zero,this.width=void 0===V.width?void 0:+V.width,this.comma=!!V.comma,this.precision=void 0===V.precision?void 0:+V.precision,this.trim=!!V.trim,this.type=void 0===V.type?"":V.type+""}function h(V,L){var H=g(V,L);if(!H)return V+"";var I=H[0],D=H[1];return D<0?"0."+new Array(-D).join("0")+I:I.length>D+1?I.slice(0,D+1)+"."+I.slice(D+1):I+new Array(D-I.length+2).join("0")}m.prototype=d.prototype,d.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var u={"%":function(V,L){return(100*V).toFixed(L)},b:function(V){return Math.round(V).toString(2)},c:function(V){return V+""},d:function(V){return Math.abs(V=Math.round(V))>=1e21?V.toLocaleString("en").replace(/,/g,""):V.toString(10)},e:function(V,L){return V.toExponential(L)},f:function(V,L){return V.toFixed(L)},g:function(V,L){return V.toPrecision(L)},o:function(V){return Math.round(V).toString(8)},p:function(V,L){return h(100*V,L)},r:h,s:function(V,L){var H=g(V,L);if(!H)return V+"";var I=H[0],D=H[1],E=D-(c=3*Math.max(-8,Math.min(8,Math.floor(D/3))))+1,P=I.length;return E===P?I:E>P?I+new Array(E-P+1).join("0"):E>0?I.slice(0,E)+"."+I.slice(E):"0."+new Array(1-E).join("0")+g(V,Math.max(0,L+E-1))[0]},X:function(V){return Math.round(V).toString(16).toUpperCase()},x:function(V){return Math.round(V).toString(16)}};function C(V){return V}var b,M=Array.prototype.map,w=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function N(V){var L,H,W,I=void 0===V.grouping||void 0===V.thousands?C:(L=M.call(V.grouping,Number),H=V.thousands+"",function(W,Z){for(var ne=W.length,te=[],oe=0,Ce=L[0],ie=0;ne>0&&Ce>0&&(ie+Ce+1>Z&&(Ce=Math.max(1,Z-ie)),te.push(W.substring(ne-=Ce,ne+Ce)),!((ie+=Ce+1)>Z));)Ce=L[oe=(oe+1)%L.length];return te.reverse().join(H)}),D=void 0===V.currency?"":V.currency[0]+"",E=void 0===V.currency?"":V.currency[1]+"",P=void 0===V.decimal?".":V.decimal+"",S=void 0===V.numerals?C:(W=M.call(V.numerals,String),function(Z){return Z.replace(/[0-9]/g,function(ne){return W[+ne]})}),R=void 0===V.percent?"%":V.percent+"",G=void 0===V.minus?"-":V.minus+"",z=void 0===V.nan?"NaN":V.nan+"";function X(W){var Z=(W=m(W)).fill,ne=W.align,te=W.sign,oe=W.symbol,Ce=W.zero,ie=W.width,Q=W.comma,le=W.precision,j=W.trim,$=W.type;"n"===$?(Q=!0,$="g"):u[$]||(void 0===le&&(le=12),j=!0,$="g"),(Ce||"0"===Z&&"="===ne)&&(Ce=!0,Z="0",ne="=");var se="$"===oe?D:"#"===oe&&/[boxX]/.test($)?"0"+$.toLowerCase():"",ee="$"===oe?E:/[%p]/.test($)?R:"",F=u[$],O=/[defgprs%]/.test($);function Y(B){var ae,ue,fe,he=se,xe=ee;if("c"===$)xe=F(B)+xe,B="";else{var be=(B=+B)<0||1/B<0;if(B=isNaN(B)?z:F(Math.abs(B),le),j&&(B=function(Oe){e:for(var Re,tt=Oe.length,Ke=1,$e=-1;Ke<tt;++Ke)switch(Oe[Ke]){case".":$e=Re=Ke;break;case"0":0===$e&&($e=Ke),Re=Ke;break;default:if(!+Oe[Ke])break e;$e>0&&($e=0)}return $e>0?Oe.slice(0,$e)+Oe.slice(Re+1):Oe}(B)),be&&0==+B&&"+"!==te&&(be=!1),he=(be?"("===te?te:G:"-"===te||"("===te?"":te)+he,xe=("s"===$?w[8+c/3]:"")+xe+(be&&"("===te?")":""),O)for(ae=-1,ue=B.length;++ae<ue;)if(48>(fe=B.charCodeAt(ae))||fe>57){xe=(46===fe?P+B.slice(ae+1):B.slice(ae))+xe,B=B.slice(0,ae);break}}Q&&!Ce&&(B=I(B,1/0));var Ve=he.length+B.length+xe.length,Ae=Ve<ie?new Array(ie-Ve+1).join(Z):"";switch(Q&&Ce&&(B=I(Ae+B,Ae.length?ie-xe.length:1/0),Ae=""),ne){case"<":B=he+B+xe+Ae;break;case"=":B=he+Ae+B+xe;break;case"^":B=Ae.slice(0,Ve=Ae.length>>1)+he+B+xe+Ae.slice(Ve);break;default:B=Ae+he+B+xe}return S(B)}return le=void 0===le?6:/[gprs]/.test($)?Math.max(1,Math.min(21,le)):Math.max(0,Math.min(20,le)),Y.toString=function(){return W+""},Y}return{format:X,formatPrefix:function(W,Z){var ne=X(((W=m(W)).type="f",W)),te=3*Math.max(-8,Math.min(8,Math.floor(p(Z)/3))),oe=Math.pow(10,-te),Ce=w[8+te/3];return function(ie){return ne(oe*ie)+Ce}}}}function A(V){return b=N(V),s.format=b.format,s.formatPrefix=b.formatPrefix,b}A({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),s.FormatSpecifier=d,s.formatDefaultLocale=A,s.formatLocale=N,s.formatSpecifier=m,s.precisionFixed=function(V){return Math.max(0,-p(Math.abs(V)))},s.precisionPrefix=function(V,L){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(p(L)/3)))-p(Math.abs(V)))},s.precisionRound=function(V,L){return V=Math.abs(V),L=Math.abs(L)-V,Math.max(0,p(L)-p(V))+1},Object.defineProperty(s,"__esModule",{value:!0})},g("object"==typeof J&&void 0!==pe?J:(s=typeof globalThis<"u"?globalThis:s||self).d3=s.d3||{})},{}],14:[function(v,pe,J){var s,g;s=this,g=function(s,g){"use strict";function p(Fe){if(0<=Fe.y&&Fe.y<100){var Ue=new Date(-1,Fe.m,Fe.d,Fe.H,Fe.M,Fe.S,Fe.L);return Ue.setFullYear(Fe.y),Ue}return new Date(Fe.y,Fe.m,Fe.d,Fe.H,Fe.M,Fe.S,Fe.L)}function c(Fe){if(0<=Fe.y&&Fe.y<100){var Ue=new Date(Date.UTC(-1,Fe.m,Fe.d,Fe.H,Fe.M,Fe.S,Fe.L));return Ue.setUTCFullYear(Fe.y),Ue}return new Date(Date.UTC(Fe.y,Fe.m,Fe.d,Fe.H,Fe.M,Fe.S,Fe.L))}function l(Fe,Ue,gt){return{y:Fe,m:Ue,d:gt,H:0,M:0,S:0,L:0}}function m(Fe){var Ue=Fe.dateTime,gt=Fe.date,Pt=Fe.time,Qt=Fe.periods,en=Fe.days,Xt=Fe.shortDays,Wt=Fe.months,Nt=Fe.shortMonths,ge=N(Qt),_e=A(Qt),We=N(en),Je=A(en),ft=N(Xt),st=A(Xt),et=N(Wt),ut=A(Wt),xt=N(Nt),kt=A(Nt),Bt={a:function(Mt){return Xt[Mt.getDay()]},A:function(Mt){return en[Mt.getDay()]},b:function(Mt){return Nt[Mt.getMonth()]},B:function(Mt){return Wt[Mt.getMonth()]},c:null,d:le,e:le,f:F,H:j,I:$,j:se,L:ee,m:O,M:Y,p:function(Mt){return Qt[+(Mt.getHours()>=12)]},q:function(Mt){return 1+~~(Mt.getMonth()/3)},Q:mt,s:_t,S:B,u:ae,U:ue,V:fe,w:he,W:xe,x:null,X:null,y:be,Y:Ve,Z:Ae,"%":Xe},rn={a:function(Mt){return Xt[Mt.getUTCDay()]},A:function(Mt){return en[Mt.getUTCDay()]},b:function(Mt){return Nt[Mt.getUTCMonth()]},B:function(Mt){return Wt[Mt.getUTCMonth()]},c:null,d:Oe,e:Oe,f:Me,H:Re,I:tt,j:Ke,L:$e,m:ve,M:Se,p:function(Mt){return Qt[+(Mt.getUTCHours()>=12)]},q:function(Mt){return 1+~~(Mt.getUTCMonth()/3)},Q:mt,s:_t,S:Te,u:qe,U:Ee,V:Ie,w:Qe,W:nt,x:null,X:null,y:Ye,Y:rt,Z:dt,"%":Xe},Dt={a:function(Mt,an,Kt){var Ut=ft.exec(an.slice(Kt));return Ut?(Mt.w=st[Ut[0].toLowerCase()],Kt+Ut[0].length):-1},A:function(Mt,an,Kt){var Ut=We.exec(an.slice(Kt));return Ut?(Mt.w=Je[Ut[0].toLowerCase()],Kt+Ut[0].length):-1},b:function(Mt,an,Kt){var Ut=xt.exec(an.slice(Kt));return Ut?(Mt.m=kt[Ut[0].toLowerCase()],Kt+Ut[0].length):-1},B:function(Mt,an,Kt){var Ut=et.exec(an.slice(Kt));return Ut?(Mt.m=ut[Ut[0].toLowerCase()],Kt+Ut[0].length):-1},c:function(Mt,an,Kt){return At(Mt,Ue,an,Kt)},d:z,e:z,f:oe,H:W,I:W,j:X,L:te,m:G,M:Z,p:function(Mt,an,Kt){var Ut=ge.exec(an.slice(Kt));return Ut?(Mt.p=_e[Ut[0].toLowerCase()],Kt+Ut[0].length):-1},q:R,Q:ie,s:Q,S:ne,u:L,U:H,V:I,w:V,W:D,x:function(Mt,an,Kt){return At(Mt,gt,an,Kt)},X:function(Mt,an,Kt){return At(Mt,Pt,an,Kt)},y:P,Y:E,Z:S,"%":Ce};function $t(Mt,an){return function(Kt){var Ut,Jt,Ft,Mn=[],_n=-1,wn=0,Ln=Mt.length;for(Kt instanceof Date||(Kt=new Date(+Kt));++_n<Ln;)37===Mt.charCodeAt(_n)&&(Mn.push(Mt.slice(wn,_n)),null!=(Jt=h[Ut=Mt.charAt(++_n)])?Ut=Mt.charAt(++_n):Jt="e"===Ut?" ":"0",(Ft=an[Ut])&&(Ut=Ft(Kt,Jt)),Mn.push(Ut),wn=_n+1);return Mn.push(Mt.slice(wn,_n)),Mn.join("")}}function fn(Mt,an){return function(Kt){var Ut,Jt,Ft=l(1900,void 0,1);if(At(Ft,Mt,Kt+="",0)!=Kt.length)return null;if("Q"in Ft)return new Date(Ft.Q);if("s"in Ft)return new Date(1e3*Ft.s+("L"in Ft?Ft.L:0));if(an&&!("Z"in Ft)&&(Ft.Z=0),"p"in Ft&&(Ft.H=Ft.H%12+12*Ft.p),void 0===Ft.m&&(Ft.m="q"in Ft?Ft.q:0),"V"in Ft){if(Ft.V<1||Ft.V>53)return null;"w"in Ft||(Ft.w=1),"Z"in Ft?(Jt=(Ut=c(l(Ft.y,0,1))).getUTCDay(),Ut=Jt>4||0===Jt?g.utcMonday.ceil(Ut):g.utcMonday(Ut),Ut=g.utcDay.offset(Ut,7*(Ft.V-1)),Ft.y=Ut.getUTCFullYear(),Ft.m=Ut.getUTCMonth(),Ft.d=Ut.getUTCDate()+(Ft.w+6)%7):(Jt=(Ut=p(l(Ft.y,0,1))).getDay(),Ut=Jt>4||0===Jt?g.timeMonday.ceil(Ut):g.timeMonday(Ut),Ut=g.timeDay.offset(Ut,7*(Ft.V-1)),Ft.y=Ut.getFullYear(),Ft.m=Ut.getMonth(),Ft.d=Ut.getDate()+(Ft.w+6)%7)}else("W"in Ft||"U"in Ft)&&("w"in Ft||(Ft.w="u"in Ft?Ft.u%7:"W"in Ft?1:0),Jt="Z"in Ft?c(l(Ft.y,0,1)).getUTCDay():p(l(Ft.y,0,1)).getDay(),Ft.m=0,Ft.d="W"in Ft?(Ft.w+6)%7+7*Ft.W-(Jt+5)%7:Ft.w+7*Ft.U-(Jt+6)%7);return"Z"in Ft?(Ft.H+=Ft.Z/100|0,Ft.M+=Ft.Z%100,c(Ft)):p(Ft)}}function At(Mt,an,Kt,Ut){for(var Jt,Ft,Mn=0,_n=an.length,wn=Kt.length;Mn<_n;){if(Ut>=wn)return-1;if(37===(Jt=an.charCodeAt(Mn++))){if(Jt=an.charAt(Mn++),!(Ft=Dt[Jt in h?an.charAt(Mn++):Jt])||(Ut=Ft(Mt,Kt,Ut))<0)return-1}else if(Jt!=Kt.charCodeAt(Ut++))return-1}return Ut}return Bt.x=$t(gt,Bt),Bt.X=$t(Pt,Bt),Bt.c=$t(Ue,Bt),rn.x=$t(gt,rn),rn.X=$t(Pt,rn),rn.c=$t(Ue,rn),{format:function(Mt){var an=$t(Mt+="",Bt);return an.toString=function(){return Mt},an},parse:function(Mt){var an=fn(Mt+="",!1);return an.toString=function(){return Mt},an},utcFormat:function(Mt){var an=$t(Mt+="",rn);return an.toString=function(){return Mt},an},utcParse:function(Mt){var an=fn(Mt+="",!0);return an.toString=function(){return Mt},an}}}var d,h={"-":"",_:" ",0:"0"},u=/^\s*\d+/,C=/^%/,b=/[\\^$*+?|[\]().{}]/g;function M(Fe,Ue,gt){var Pt=Fe<0?"-":"",Qt=(Pt?-Fe:Fe)+"",en=Qt.length;return Pt+(en<gt?new Array(gt-en+1).join(Ue)+Qt:Qt)}function w(Fe){return Fe.replace(b,"\\$&")}function N(Fe){return new RegExp("^(?:"+Fe.map(w).join("|")+")","i")}function A(Fe){for(var Ue={},gt=-1,Pt=Fe.length;++gt<Pt;)Ue[Fe[gt].toLowerCase()]=gt;return Ue}function V(Fe,Ue,gt){var Pt=u.exec(Ue.slice(gt,gt+1));return Pt?(Fe.w=+Pt[0],gt+Pt[0].length):-1}function L(Fe,Ue,gt){var Pt=u.exec(Ue.slice(gt,gt+1));return Pt?(Fe.u=+Pt[0],gt+Pt[0].length):-1}function H(Fe,Ue,gt){var Pt=u.exec(Ue.slice(gt,gt+2));return Pt?(Fe.U=+Pt[0],gt+Pt[0].length):-1}function I(Fe,Ue,gt){var Pt=u.exec(Ue.slice(gt,gt+2));return Pt?(Fe.V=+Pt[0],gt+Pt[0].length):-1}function D(Fe,Ue,gt){var Pt=u.exec(Ue.slice(gt,gt+2));return Pt?(Fe.W=+Pt[0],gt+Pt[0].length):-1}function E(Fe,Ue,gt){var Pt=u.exec(Ue.slice(gt,gt+4));return Pt?(Fe.y=+Pt[0],gt+Pt[0].length):-1}function P(Fe,Ue,gt){var Pt=u.exec(Ue.slice(gt,gt+2));return Pt?(Fe.y=+Pt[0]+(+Pt[0]>68?1900:2e3),gt+Pt[0].length):-1}function S(Fe,Ue,gt){var Pt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Ue.slice(gt,gt+6));return Pt?(Fe.Z=Pt[1]?0:-(Pt[2]+(Pt[3]||"00")),gt+Pt[0].length):-1}function R(Fe,Ue,gt){var Pt=u.exec(Ue.slice(gt,gt+1));return Pt?(Fe.q=3*Pt[0]-3,gt+Pt[0].length):-1}function G(Fe,Ue,gt){var Pt=u.exec(Ue.slice(gt,gt+2));return Pt?(Fe.m=Pt[0]-1,gt+Pt[0].length):-1}function z(Fe,Ue,gt){var Pt=u.exec(Ue.slice(gt,gt+2));return Pt?(Fe.d=+Pt[0],gt+Pt[0].length):-1}function X(Fe,Ue,gt){var Pt=u.exec(Ue.slice(gt,gt+3));return Pt?(Fe.m=0,Fe.d=+Pt[0],gt+Pt[0].length):-1}function W(Fe,Ue,gt){var Pt=u.exec(Ue.slice(gt,gt+2));return Pt?(Fe.H=+Pt[0],gt+Pt[0].length):-1}function Z(Fe,Ue,gt){var Pt=u.exec(Ue.slice(gt,gt+2));return Pt?(Fe.M=+Pt[0],gt+Pt[0].length):-1}function ne(Fe,Ue,gt){var Pt=u.exec(Ue.slice(gt,gt+2));return Pt?(Fe.S=+Pt[0],gt+Pt[0].length):-1}function te(Fe,Ue,gt){var Pt=u.exec(Ue.slice(gt,gt+3));return Pt?(Fe.L=+Pt[0],gt+Pt[0].length):-1}function oe(Fe,Ue,gt){var Pt=u.exec(Ue.slice(gt,gt+6));return Pt?(Fe.L=Math.floor(Pt[0]/1e3),gt+Pt[0].length):-1}function Ce(Fe,Ue,gt){var Pt=C.exec(Ue.slice(gt,gt+1));return Pt?gt+Pt[0].length:-1}function ie(Fe,Ue,gt){var Pt=u.exec(Ue.slice(gt));return Pt?(Fe.Q=+Pt[0],gt+Pt[0].length):-1}function Q(Fe,Ue,gt){var Pt=u.exec(Ue.slice(gt));return Pt?(Fe.s=+Pt[0],gt+Pt[0].length):-1}function le(Fe,Ue){return M(Fe.getDate(),Ue,2)}function j(Fe,Ue){return M(Fe.getHours(),Ue,2)}function $(Fe,Ue){return M(Fe.getHours()%12||12,Ue,2)}function se(Fe,Ue){return M(1+g.timeDay.count(g.timeYear(Fe),Fe),Ue,3)}function ee(Fe,Ue){return M(Fe.getMilliseconds(),Ue,3)}function F(Fe,Ue){return ee(Fe,Ue)+"000"}function O(Fe,Ue){return M(Fe.getMonth()+1,Ue,2)}function Y(Fe,Ue){return M(Fe.getMinutes(),Ue,2)}function B(Fe,Ue){return M(Fe.getSeconds(),Ue,2)}function ae(Fe){var Ue=Fe.getDay();return 0===Ue?7:Ue}function ue(Fe,Ue){return M(g.timeSunday.count(g.timeYear(Fe)-1,Fe),Ue,2)}function fe(Fe,Ue){var gt=Fe.getDay();return Fe=gt>=4||0===gt?g.timeThursday(Fe):g.timeThursday.ceil(Fe),M(g.timeThursday.count(g.timeYear(Fe),Fe)+(4===g.timeYear(Fe).getDay()),Ue,2)}function he(Fe){return Fe.getDay()}function xe(Fe,Ue){return M(g.timeMonday.count(g.timeYear(Fe)-1,Fe),Ue,2)}function be(Fe,Ue){return M(Fe.getFullYear()%100,Ue,2)}function Ve(Fe,Ue){return M(Fe.getFullYear()%1e4,Ue,4)}function Ae(Fe){var Ue=Fe.getTimezoneOffset();return(Ue>0?"-":(Ue*=-1,"+"))+M(Ue/60|0,"0",2)+M(Ue%60,"0",2)}function Oe(Fe,Ue){return M(Fe.getUTCDate(),Ue,2)}function Re(Fe,Ue){return M(Fe.getUTCHours(),Ue,2)}function tt(Fe,Ue){return M(Fe.getUTCHours()%12||12,Ue,2)}function Ke(Fe,Ue){return M(1+g.utcDay.count(g.utcYear(Fe),Fe),Ue,3)}function $e(Fe,Ue){return M(Fe.getUTCMilliseconds(),Ue,3)}function Me(Fe,Ue){return $e(Fe,Ue)+"000"}function ve(Fe,Ue){return M(Fe.getUTCMonth()+1,Ue,2)}function Se(Fe,Ue){return M(Fe.getUTCMinutes(),Ue,2)}function Te(Fe,Ue){return M(Fe.getUTCSeconds(),Ue,2)}function qe(Fe){var Ue=Fe.getUTCDay();return 0===Ue?7:Ue}function Ee(Fe,Ue){return M(g.utcSunday.count(g.utcYear(Fe)-1,Fe),Ue,2)}function Ie(Fe,Ue){var gt=Fe.getUTCDay();return Fe=gt>=4||0===gt?g.utcThursday(Fe):g.utcThursday.ceil(Fe),M(g.utcThursday.count(g.utcYear(Fe),Fe)+(4===g.utcYear(Fe).getUTCDay()),Ue,2)}function Qe(Fe){return Fe.getUTCDay()}function nt(Fe,Ue){return M(g.utcMonday.count(g.utcYear(Fe)-1,Fe),Ue,2)}function Ye(Fe,Ue){return M(Fe.getUTCFullYear()%100,Ue,2)}function rt(Fe,Ue){return M(Fe.getUTCFullYear()%1e4,Ue,4)}function dt(){return"+0000"}function Xe(){return"%"}function mt(Fe){return+Fe}function _t(Fe){return Math.floor(+Fe/1e3)}function yt(Fe){return d=m(Fe),s.timeFormat=d.format,s.timeParse=d.parse,s.utcFormat=d.utcFormat,s.utcParse=d.utcParse,d}yt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Ot=Date.prototype.toISOString?function(Fe){return Fe.toISOString()}:s.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),bt=+new Date("2000-01-01T00:00:00.000Z")?function(Fe){var Ue=new Date(Fe);return isNaN(Ue)?null:Ue}:s.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");s.isoFormat=Ot,s.isoParse=bt,s.timeFormatDefaultLocale=yt,s.timeFormatLocale=m,Object.defineProperty(s,"__esModule",{value:!0})},"object"==typeof J&&void 0!==pe?g(J,v("d3-time")):g((s=s||self).d3=s.d3||{},s.d3)},{"d3-time":15}],15:[function(v,pe,J){var s,g;s=this,g=function(s){"use strict";var g=new Date,p=new Date;function c(ve,Se,Te,qe){function Ee(Ie){return ve(Ie=0===arguments.length?new Date:new Date(+Ie)),Ie}return Ee.floor=function(Ie){return ve(Ie=new Date(+Ie)),Ie},Ee.ceil=function(Ie){return ve(Ie=new Date(Ie-1)),Se(Ie,1),ve(Ie),Ie},Ee.round=function(Ie){var Qe=Ee(Ie),nt=Ee.ceil(Ie);return Ie-Qe<nt-Ie?Qe:nt},Ee.offset=function(Ie,Qe){return Se(Ie=new Date(+Ie),null==Qe?1:Math.floor(Qe)),Ie},Ee.range=function(Ie,Qe,nt){var Ye,rt=[];if(Ie=Ee.ceil(Ie),nt=null==nt?1:Math.floor(nt),!(Ie<Qe&&nt>0))return rt;do{rt.push(Ye=new Date(+Ie)),Se(Ie,nt),ve(Ie)}while(Ye<Ie&&Ie<Qe);return rt},Ee.filter=function(Ie){return c(function(Qe){if(Qe>=Qe)for(;ve(Qe),!Ie(Qe);)Qe.setTime(Qe-1)},function(Qe,nt){if(Qe>=Qe)if(nt<0)for(;++nt<=0;)for(;Se(Qe,-1),!Ie(Qe););else for(;--nt>=0;)for(;Se(Qe,1),!Ie(Qe););})},Te&&(Ee.count=function(Ie,Qe){return g.setTime(+Ie),p.setTime(+Qe),ve(g),ve(p),Math.floor(Te(g,p))},Ee.every=function(Ie){return Ie=Math.floor(Ie),isFinite(Ie)&&Ie>0?Ie>1?Ee.filter(qe?function(Qe){return qe(Qe)%Ie==0}:function(Qe){return Ee.count(0,Qe)%Ie==0}):Ee:null}),Ee}var l=c(function(){},function(ve,Se){ve.setTime(+ve+Se)},function(ve,Se){return Se-ve});l.every=function(ve){return ve=Math.floor(ve),isFinite(ve)&&ve>0?ve>1?c(function(Se){Se.setTime(Math.floor(Se/ve)*ve)},function(Se,Te){Se.setTime(+Se+Te*ve)},function(Se,Te){return(Te-Se)/ve}):l:null};var m=l.range,d=c(function(ve){ve.setTime(ve-ve.getMilliseconds())},function(ve,Se){ve.setTime(+ve+1e3*Se)},function(ve,Se){return(Se-ve)/1e3},function(ve){return ve.getUTCSeconds()}),h=d.range,u=c(function(ve){ve.setTime(ve-ve.getMilliseconds()-1e3*ve.getSeconds())},function(ve,Se){ve.setTime(+ve+6e4*Se)},function(ve,Se){return(Se-ve)/6e4},function(ve){return ve.getMinutes()}),C=u.range,b=c(function(ve){ve.setTime(ve-ve.getMilliseconds()-1e3*ve.getSeconds()-6e4*ve.getMinutes())},function(ve,Se){ve.setTime(+ve+36e5*Se)},function(ve,Se){return(Se-ve)/36e5},function(ve){return ve.getHours()}),M=b.range,w=c(function(ve){ve.setHours(0,0,0,0)},function(ve,Se){ve.setDate(ve.getDate()+Se)},function(ve,Se){return(Se-ve-6e4*(Se.getTimezoneOffset()-ve.getTimezoneOffset()))/864e5},function(ve){return ve.getDate()-1}),N=w.range;function A(ve){return c(function(Se){Se.setDate(Se.getDate()-(Se.getDay()+7-ve)%7),Se.setHours(0,0,0,0)},function(Se,Te){Se.setDate(Se.getDate()+7*Te)},function(Se,Te){return(Te-Se-6e4*(Te.getTimezoneOffset()-Se.getTimezoneOffset()))/6048e5})}var V=A(0),L=A(1),H=A(2),I=A(3),D=A(4),E=A(5),P=A(6),S=V.range,R=L.range,G=H.range,z=I.range,X=D.range,W=E.range,Z=P.range,ne=c(function(ve){ve.setDate(1),ve.setHours(0,0,0,0)},function(ve,Se){ve.setMonth(ve.getMonth()+Se)},function(ve,Se){return Se.getMonth()-ve.getMonth()+12*(Se.getFullYear()-ve.getFullYear())},function(ve){return ve.getMonth()}),te=ne.range,oe=c(function(ve){ve.setMonth(0,1),ve.setHours(0,0,0,0)},function(ve,Se){ve.setFullYear(ve.getFullYear()+Se)},function(ve,Se){return Se.getFullYear()-ve.getFullYear()},function(ve){return ve.getFullYear()});oe.every=function(ve){return isFinite(ve=Math.floor(ve))&&ve>0?c(function(Se){Se.setFullYear(Math.floor(Se.getFullYear()/ve)*ve),Se.setMonth(0,1),Se.setHours(0,0,0,0)},function(Se,Te){Se.setFullYear(Se.getFullYear()+Te*ve)}):null};var Ce=oe.range,ie=c(function(ve){ve.setUTCSeconds(0,0)},function(ve,Se){ve.setTime(+ve+6e4*Se)},function(ve,Se){return(Se-ve)/6e4},function(ve){return ve.getUTCMinutes()}),Q=ie.range,le=c(function(ve){ve.setUTCMinutes(0,0,0)},function(ve,Se){ve.setTime(+ve+36e5*Se)},function(ve,Se){return(Se-ve)/36e5},function(ve){return ve.getUTCHours()}),j=le.range,$=c(function(ve){ve.setUTCHours(0,0,0,0)},function(ve,Se){ve.setUTCDate(ve.getUTCDate()+Se)},function(ve,Se){return(Se-ve)/864e5},function(ve){return ve.getUTCDate()-1}),se=$.range;function ee(ve){return c(function(Se){Se.setUTCDate(Se.getUTCDate()-(Se.getUTCDay()+7-ve)%7),Se.setUTCHours(0,0,0,0)},function(Se,Te){Se.setUTCDate(Se.getUTCDate()+7*Te)},function(Se,Te){return(Te-Se)/6048e5})}var F=ee(0),O=ee(1),Y=ee(2),B=ee(3),ae=ee(4),ue=ee(5),fe=ee(6),he=F.range,xe=O.range,be=Y.range,Ve=B.range,Ae=ae.range,Oe=ue.range,Re=fe.range,tt=c(function(ve){ve.setUTCDate(1),ve.setUTCHours(0,0,0,0)},function(ve,Se){ve.setUTCMonth(ve.getUTCMonth()+Se)},function(ve,Se){return Se.getUTCMonth()-ve.getUTCMonth()+12*(Se.getUTCFullYear()-ve.getUTCFullYear())},function(ve){return ve.getUTCMonth()}),Ke=tt.range,$e=c(function(ve){ve.setUTCMonth(0,1),ve.setUTCHours(0,0,0,0)},function(ve,Se){ve.setUTCFullYear(ve.getUTCFullYear()+Se)},function(ve,Se){return Se.getUTCFullYear()-ve.getUTCFullYear()},function(ve){return ve.getUTCFullYear()});$e.every=function(ve){return isFinite(ve=Math.floor(ve))&&ve>0?c(function(Se){Se.setUTCFullYear(Math.floor(Se.getUTCFullYear()/ve)*ve),Se.setUTCMonth(0,1),Se.setUTCHours(0,0,0,0)},function(Se,Te){Se.setUTCFullYear(Se.getUTCFullYear()+Te*ve)}):null};var Me=$e.range;s.timeDay=w,s.timeDays=N,s.timeFriday=E,s.timeFridays=W,s.timeHour=b,s.timeHours=M,s.timeInterval=c,s.timeMillisecond=l,s.timeMilliseconds=m,s.timeMinute=u,s.timeMinutes=C,s.timeMonday=L,s.timeMondays=R,s.timeMonth=ne,s.timeMonths=te,s.timeSaturday=P,s.timeSaturdays=Z,s.timeSecond=d,s.timeSeconds=h,s.timeSunday=V,s.timeSundays=S,s.timeThursday=D,s.timeThursdays=X,s.timeTuesday=H,s.timeTuesdays=G,s.timeWednesday=I,s.timeWednesdays=z,s.timeWeek=V,s.timeWeeks=S,s.timeYear=oe,s.timeYears=Ce,s.utcDay=$,s.utcDays=se,s.utcFriday=ue,s.utcFridays=Oe,s.utcHour=le,s.utcHours=j,s.utcMillisecond=l,s.utcMilliseconds=m,s.utcMinute=ie,s.utcMinutes=Q,s.utcMonday=O,s.utcMondays=xe,s.utcMonth=tt,s.utcMonths=Ke,s.utcSaturday=fe,s.utcSaturdays=Re,s.utcSecond=d,s.utcSeconds=h,s.utcSunday=F,s.utcSundays=he,s.utcThursday=ae,s.utcThursdays=Ae,s.utcTuesday=Y,s.utcTuesdays=be,s.utcWednesday=B,s.utcWednesdays=Ve,s.utcWeek=F,s.utcWeeks=he,s.utcYear=$e,s.utcYears=Me,Object.defineProperty(s,"__esModule",{value:!0})},g("object"==typeof J&&void 0!==pe?J:(s=s||self).d3=s.d3||{})},{}],16:[function(v,pe,J){arguments[4][15][0].apply(J,arguments)},{dup:15}],17:[function(v,pe,J){"use strict";var s=v("is-string-blank");pe.exports=function(g){var p=typeof g;if("string"===p){var c=g;if(0==(g=+g)&&s(c))return!1}else if("number"!==p)return!1;return g-g<1}},{"is-string-blank":52}],18:[function(v,pe,J){pe.exports=function(s,g){var p=g[0],c=g[1],l=g[2],m=g[3],d=g[4],h=g[5],u=g[6],C=g[7],b=g[8],M=g[9],w=g[10],N=g[11],A=g[12],V=g[13],L=g[14],H=g[15];return s[0]=h*(w*H-N*L)-M*(u*H-C*L)+V*(u*N-C*w),s[1]=-(c*(w*H-N*L)-M*(l*H-m*L)+V*(l*N-m*w)),s[2]=c*(u*H-C*L)-h*(l*H-m*L)+V*(l*C-m*u),s[3]=-(c*(u*N-C*w)-h*(l*N-m*w)+M*(l*C-m*u)),s[4]=-(d*(w*H-N*L)-b*(u*H-C*L)+A*(u*N-C*w)),s[5]=p*(w*H-N*L)-b*(l*H-m*L)+A*(l*N-m*w),s[6]=-(p*(u*H-C*L)-d*(l*H-m*L)+A*(l*C-m*u)),s[7]=p*(u*N-C*w)-d*(l*N-m*w)+b*(l*C-m*u),s[8]=d*(M*H-N*V)-b*(h*H-C*V)+A*(h*N-C*M),s[9]=-(p*(M*H-N*V)-b*(c*H-m*V)+A*(c*N-m*M)),s[10]=p*(h*H-C*V)-d*(c*H-m*V)+A*(c*C-m*h),s[11]=-(p*(h*N-C*M)-d*(c*N-m*M)+b*(c*C-m*h)),s[12]=-(d*(M*L-w*V)-b*(h*L-u*V)+A*(h*w-u*M)),s[13]=p*(M*L-w*V)-b*(c*L-l*V)+A*(c*w-l*M),s[14]=-(p*(h*L-u*V)-d*(c*L-l*V)+A*(c*u-l*h)),s[15]=p*(h*w-u*M)-d*(c*w-l*M)+b*(c*u-l*h),s}},{}],19:[function(v,pe,J){pe.exports=function(s){var g=new Float32Array(16);return g[0]=s[0],g[1]=s[1],g[2]=s[2],g[3]=s[3],g[4]=s[4],g[5]=s[5],g[6]=s[6],g[7]=s[7],g[8]=s[8],g[9]=s[9],g[10]=s[10],g[11]=s[11],g[12]=s[12],g[13]=s[13],g[14]=s[14],g[15]=s[15],g}},{}],20:[function(v,pe,J){pe.exports=function(s,g){return s[0]=g[0],s[1]=g[1],s[2]=g[2],s[3]=g[3],s[4]=g[4],s[5]=g[5],s[6]=g[6],s[7]=g[7],s[8]=g[8],s[9]=g[9],s[10]=g[10],s[11]=g[11],s[12]=g[12],s[13]=g[13],s[14]=g[14],s[15]=g[15],s}},{}],21:[function(v,pe,J){pe.exports=function(){var s=new Float32Array(16);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},{}],22:[function(v,pe,J){pe.exports=function(s){var g=s[0],p=s[1],c=s[2],l=s[3],m=s[4],d=s[5],h=s[6],u=s[7],C=s[8],b=s[9],M=s[10],w=s[11],N=s[12],A=s[13],V=s[14],L=s[15];return(g*d-p*m)*(M*L-w*V)-(g*h-c*m)*(b*L-w*A)+(g*u-l*m)*(b*V-M*A)+(p*h-c*d)*(C*L-w*N)-(p*u-l*d)*(C*V-M*N)+(c*u-l*h)*(C*A-b*N)}},{}],23:[function(v,pe,J){pe.exports=function(s,g){var p=g[0],c=g[1],l=g[2],m=g[3],d=p+p,h=c+c,u=l+l,C=p*d,b=c*d,M=c*h,w=l*d,N=l*h,A=l*u,V=m*d,L=m*h,H=m*u;return s[0]=1-M-A,s[1]=b+H,s[2]=w-L,s[3]=0,s[4]=b-H,s[5]=1-C-A,s[6]=N+V,s[7]=0,s[8]=w+L,s[9]=N-V,s[10]=1-C-M,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},{}],24:[function(v,pe,J){pe.exports=function(s,g,p){var c,l,m,d=p[0],h=p[1],u=p[2],C=Math.sqrt(d*d+h*h+u*u);return Math.abs(C)<1e-6?null:(d*=C=1/C,h*=C,u*=C,c=Math.sin(g),l=Math.cos(g),s[0]=d*d*(m=1-l)+l,s[1]=h*d*m+u*c,s[2]=u*d*m-h*c,s[3]=0,s[4]=d*h*m-u*c,s[5]=h*h*m+l,s[6]=u*h*m+d*c,s[7]=0,s[8]=d*u*m+h*c,s[9]=h*u*m-d*c,s[10]=u*u*m+l,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s)}},{}],25:[function(v,pe,J){pe.exports=function(s,g,p){var c=g[0],l=g[1],m=g[2],d=g[3],h=c+c,u=l+l,C=m+m,b=c*h,M=c*u,w=c*C,N=l*u,A=l*C,V=m*C,L=d*h,H=d*u,I=d*C;return s[0]=1-(N+V),s[1]=M+I,s[2]=w-H,s[3]=0,s[4]=M-I,s[5]=1-(b+V),s[6]=A+L,s[7]=0,s[8]=w+H,s[9]=A-L,s[10]=1-(b+N),s[11]=0,s[12]=p[0],s[13]=p[1],s[14]=p[2],s[15]=1,s}},{}],26:[function(v,pe,J){pe.exports=function(s,g){return s[0]=g[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=g[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=g[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},{}],27:[function(v,pe,J){pe.exports=function(s,g){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=g[0],s[13]=g[1],s[14]=g[2],s[15]=1,s}},{}],28:[function(v,pe,J){pe.exports=function(s,g){var p=Math.sin(g),c=Math.cos(g);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=c,s[6]=p,s[7]=0,s[8]=0,s[9]=-p,s[10]=c,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},{}],29:[function(v,pe,J){pe.exports=function(s,g){var p=Math.sin(g),c=Math.cos(g);return s[0]=c,s[1]=0,s[2]=-p,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=p,s[9]=0,s[10]=c,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},{}],30:[function(v,pe,J){pe.exports=function(s,g){var p=Math.sin(g),c=Math.cos(g);return s[0]=c,s[1]=p,s[2]=0,s[3]=0,s[4]=-p,s[5]=c,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},{}],31:[function(v,pe,J){pe.exports=function(s,g,p,c,l,m,d){var h=1/(p-g),u=1/(l-c),C=1/(m-d);return s[0]=2*m*h,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=2*m*u,s[6]=0,s[7]=0,s[8]=(p+g)*h,s[9]=(l+c)*u,s[10]=(d+m)*C,s[11]=-1,s[12]=0,s[13]=0,s[14]=d*m*2*C,s[15]=0,s}},{}],32:[function(v,pe,J){pe.exports=function(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},{}],33:[function(v,pe,J){pe.exports={create:v("./create"),clone:v("./clone"),copy:v("./copy"),identity:v("./identity"),transpose:v("./transpose"),invert:v("./invert"),adjoint:v("./adjoint"),determinant:v("./determinant"),multiply:v("./multiply"),translate:v("./translate"),scale:v("./scale"),rotate:v("./rotate"),rotateX:v("./rotateX"),rotateY:v("./rotateY"),rotateZ:v("./rotateZ"),fromRotation:v("./fromRotation"),fromRotationTranslation:v("./fromRotationTranslation"),fromScaling:v("./fromScaling"),fromTranslation:v("./fromTranslation"),fromXRotation:v("./fromXRotation"),fromYRotation:v("./fromYRotation"),fromZRotation:v("./fromZRotation"),fromQuat:v("./fromQuat"),frustum:v("./frustum"),perspective:v("./perspective"),perspectiveFromFieldOfView:v("./perspectiveFromFieldOfView"),ortho:v("./ortho"),lookAt:v("./lookAt"),str:v("./str")}},{"./adjoint":18,"./clone":19,"./copy":20,"./create":21,"./determinant":22,"./fromQuat":23,"./fromRotation":24,"./fromRotationTranslation":25,"./fromScaling":26,"./fromTranslation":27,"./fromXRotation":28,"./fromYRotation":29,"./fromZRotation":30,"./frustum":31,"./identity":32,"./invert":34,"./lookAt":35,"./multiply":36,"./ortho":37,"./perspective":38,"./perspectiveFromFieldOfView":39,"./rotate":40,"./rotateX":41,"./rotateY":42,"./rotateZ":43,"./scale":44,"./str":45,"./translate":46,"./transpose":47}],34:[function(v,pe,J){pe.exports=function(s,g){var p=g[0],c=g[1],l=g[2],m=g[3],d=g[4],h=g[5],u=g[6],C=g[7],b=g[8],M=g[9],w=g[10],N=g[11],A=g[12],V=g[13],L=g[14],H=g[15],I=p*h-c*d,D=p*u-l*d,E=p*C-m*d,P=c*u-l*h,S=c*C-m*h,R=l*C-m*u,G=b*V-M*A,z=b*L-w*A,X=b*H-N*A,W=M*L-w*V,Z=M*H-N*V,ne=w*H-N*L,te=I*ne-D*Z+E*W+P*X-S*z+R*G;return te?(s[0]=(h*ne-u*Z+C*W)*(te=1/te),s[1]=(l*Z-c*ne-m*W)*te,s[2]=(V*R-L*S+H*P)*te,s[3]=(w*S-M*R-N*P)*te,s[4]=(u*X-d*ne-C*z)*te,s[5]=(p*ne-l*X+m*z)*te,s[6]=(L*E-A*R-H*D)*te,s[7]=(b*R-w*E+N*D)*te,s[8]=(d*Z-h*X+C*G)*te,s[9]=(c*X-p*Z-m*G)*te,s[10]=(A*S-V*E+H*I)*te,s[11]=(M*E-b*S-N*I)*te,s[12]=(h*z-d*W-u*G)*te,s[13]=(p*W-c*z+l*G)*te,s[14]=(V*D-A*P-L*I)*te,s[15]=(b*P-M*D+w*I)*te,s):null}},{}],35:[function(v,pe,J){var s=v("./identity");pe.exports=function(g,p,c,l){var m,d,h,u,C,b,M,w,N,A,V=p[0],L=p[1],H=p[2],I=l[0],D=l[1],E=l[2],P=c[0],S=c[1],R=c[2];return Math.abs(V-P)<1e-6&&Math.abs(L-S)<1e-6&&Math.abs(H-R)<1e-6?s(g):(M=V-P,w=L-S,N=H-R,m=D*(N*=A=1/Math.sqrt(M*M+w*w+N*N))-E*(w*=A),d=E*(M*=A)-I*N,h=I*w-D*M,(A=Math.sqrt(m*m+d*d+h*h))?(m*=A=1/A,d*=A,h*=A):(m=0,d=0,h=0),u=w*h-N*d,C=N*m-M*h,b=M*d-w*m,(A=Math.sqrt(u*u+C*C+b*b))?(u*=A=1/A,C*=A,b*=A):(u=0,C=0,b=0),g[0]=m,g[1]=u,g[2]=M,g[3]=0,g[4]=d,g[5]=C,g[6]=w,g[7]=0,g[8]=h,g[9]=b,g[10]=N,g[11]=0,g[12]=-(m*V+d*L+h*H),g[13]=-(u*V+C*L+b*H),g[14]=-(M*V+w*L+N*H),g[15]=1,g)}},{"./identity":32}],36:[function(v,pe,J){pe.exports=function(s,g,p){var c=g[0],l=g[1],m=g[2],d=g[3],h=g[4],u=g[5],C=g[6],b=g[7],M=g[8],w=g[9],N=g[10],A=g[11],V=g[12],L=g[13],H=g[14],I=g[15],D=p[0],E=p[1],P=p[2],S=p[3];return s[0]=D*c+E*h+P*M+S*V,s[1]=D*l+E*u+P*w+S*L,s[2]=D*m+E*C+P*N+S*H,s[3]=D*d+E*b+P*A+S*I,s[4]=(D=p[4])*c+(E=p[5])*h+(P=p[6])*M+(S=p[7])*V,s[5]=D*l+E*u+P*w+S*L,s[6]=D*m+E*C+P*N+S*H,s[7]=D*d+E*b+P*A+S*I,s[8]=(D=p[8])*c+(E=p[9])*h+(P=p[10])*M+(S=p[11])*V,s[9]=D*l+E*u+P*w+S*L,s[10]=D*m+E*C+P*N+S*H,s[11]=D*d+E*b+P*A+S*I,s[12]=(D=p[12])*c+(E=p[13])*h+(P=p[14])*M+(S=p[15])*V,s[13]=D*l+E*u+P*w+S*L,s[14]=D*m+E*C+P*N+S*H,s[15]=D*d+E*b+P*A+S*I,s}},{}],37:[function(v,pe,J){pe.exports=function(s,g,p,c,l,m,d){var h=1/(g-p),u=1/(c-l),C=1/(m-d);return s[0]=-2*h,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*u,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*C,s[11]=0,s[12]=(g+p)*h,s[13]=(l+c)*u,s[14]=(d+m)*C,s[15]=1,s}},{}],38:[function(v,pe,J){pe.exports=function(s,g,p,c,l){var m=1/Math.tan(g/2),d=1/(c-l);return s[0]=m/p,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=m,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(l+c)*d,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*l*c*d,s[15]=0,s}},{}],39:[function(v,pe,J){pe.exports=function(s,g,p,c){var l=Math.tan(g.upDegrees*Math.PI/180),m=Math.tan(g.downDegrees*Math.PI/180),d=Math.tan(g.leftDegrees*Math.PI/180),h=Math.tan(g.rightDegrees*Math.PI/180),u=2/(d+h),C=2/(l+m);return s[0]=u,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=C,s[6]=0,s[7]=0,s[8]=-(d-h)*u*.5,s[9]=(l-m)*C*.5,s[10]=c/(p-c),s[11]=-1,s[12]=0,s[13]=0,s[14]=c*p/(p-c),s[15]=0,s}},{}],40:[function(v,pe,J){pe.exports=function(s,g,p,c){var l,m,d,h,u,C,b,M,w,N,A,V,L,H,I,D,E,P,S,R,G,z,X,W,Z=c[0],ne=c[1],te=c[2],oe=Math.sqrt(Z*Z+ne*ne+te*te);return Math.abs(oe)<1e-6?null:(Z*=oe=1/oe,ne*=oe,te*=oe,l=Math.sin(p),m=Math.cos(p),u=g[1],C=g[2],b=g[3],w=g[5],N=g[6],A=g[7],L=g[9],H=g[10],I=g[11],S=Z*ne*(d=1-m)-te*l,R=ne*ne*d+m,G=te*ne*d+Z*l,z=Z*te*d+ne*l,X=ne*te*d-Z*l,W=te*te*d+m,s[0]=(h=g[0])*(D=Z*Z*d+m)+(M=g[4])*(E=ne*Z*d+te*l)+(V=g[8])*(P=te*Z*d-ne*l),s[1]=u*D+w*E+L*P,s[2]=C*D+N*E+H*P,s[3]=b*D+A*E+I*P,s[4]=h*S+M*R+V*G,s[5]=u*S+w*R+L*G,s[6]=C*S+N*R+H*G,s[7]=b*S+A*R+I*G,s[8]=h*z+M*X+V*W,s[9]=u*z+w*X+L*W,s[10]=C*z+N*X+H*W,s[11]=b*z+A*X+I*W,g!==s&&(s[12]=g[12],s[13]=g[13],s[14]=g[14],s[15]=g[15]),s)}},{}],41:[function(v,pe,J){pe.exports=function(s,g,p){var c=Math.sin(p),l=Math.cos(p),m=g[4],d=g[5],h=g[6],u=g[7],C=g[8],b=g[9],M=g[10],w=g[11];return g!==s&&(s[0]=g[0],s[1]=g[1],s[2]=g[2],s[3]=g[3],s[12]=g[12],s[13]=g[13],s[14]=g[14],s[15]=g[15]),s[4]=m*l+C*c,s[5]=d*l+b*c,s[6]=h*l+M*c,s[7]=u*l+w*c,s[8]=C*l-m*c,s[9]=b*l-d*c,s[10]=M*l-h*c,s[11]=w*l-u*c,s}},{}],42:[function(v,pe,J){pe.exports=function(s,g,p){var c=Math.sin(p),l=Math.cos(p),m=g[0],d=g[1],h=g[2],u=g[3],C=g[8],b=g[9],M=g[10],w=g[11];return g!==s&&(s[4]=g[4],s[5]=g[5],s[6]=g[6],s[7]=g[7],s[12]=g[12],s[13]=g[13],s[14]=g[14],s[15]=g[15]),s[0]=m*l-C*c,s[1]=d*l-b*c,s[2]=h*l-M*c,s[3]=u*l-w*c,s[8]=m*c+C*l,s[9]=d*c+b*l,s[10]=h*c+M*l,s[11]=u*c+w*l,s}},{}],43:[function(v,pe,J){pe.exports=function(s,g,p){var c=Math.sin(p),l=Math.cos(p),m=g[0],d=g[1],h=g[2],u=g[3],C=g[4],b=g[5],M=g[6],w=g[7];return g!==s&&(s[8]=g[8],s[9]=g[9],s[10]=g[10],s[11]=g[11],s[12]=g[12],s[13]=g[13],s[14]=g[14],s[15]=g[15]),s[0]=m*l+C*c,s[1]=d*l+b*c,s[2]=h*l+M*c,s[3]=u*l+w*c,s[4]=C*l-m*c,s[5]=b*l-d*c,s[6]=M*l-h*c,s[7]=w*l-u*c,s}},{}],44:[function(v,pe,J){pe.exports=function(s,g,p){var c=p[0],l=p[1],m=p[2];return s[0]=g[0]*c,s[1]=g[1]*c,s[2]=g[2]*c,s[3]=g[3]*c,s[4]=g[4]*l,s[5]=g[5]*l,s[6]=g[6]*l,s[7]=g[7]*l,s[8]=g[8]*m,s[9]=g[9]*m,s[10]=g[10]*m,s[11]=g[11]*m,s[12]=g[12],s[13]=g[13],s[14]=g[14],s[15]=g[15],s}},{}],45:[function(v,pe,J){pe.exports=function(s){return"mat4("+s[0]+", "+s[1]+", "+s[2]+", "+s[3]+", "+s[4]+", "+s[5]+", "+s[6]+", "+s[7]+", "+s[8]+", "+s[9]+", "+s[10]+", "+s[11]+", "+s[12]+", "+s[13]+", "+s[14]+", "+s[15]+")"}},{}],46:[function(v,pe,J){pe.exports=function(s,g,p){var c,l,m,d,h,u,C,b,M,w,N,A,V=p[0],L=p[1],H=p[2];return g===s?(s[12]=g[0]*V+g[4]*L+g[8]*H+g[12],s[13]=g[1]*V+g[5]*L+g[9]*H+g[13],s[14]=g[2]*V+g[6]*L+g[10]*H+g[14],s[15]=g[3]*V+g[7]*L+g[11]*H+g[15]):(l=g[1],m=g[2],d=g[3],h=g[4],u=g[5],C=g[6],b=g[7],M=g[8],w=g[9],N=g[10],A=g[11],s[0]=c=g[0],s[1]=l,s[2]=m,s[3]=d,s[4]=h,s[5]=u,s[6]=C,s[7]=b,s[8]=M,s[9]=w,s[10]=N,s[11]=A,s[12]=c*V+h*L+M*H+g[12],s[13]=l*V+u*L+w*H+g[13],s[14]=m*V+C*L+N*H+g[14],s[15]=d*V+b*L+A*H+g[15]),s}},{}],47:[function(v,pe,J){pe.exports=function(s,g){if(s===g){var p=g[1],c=g[2],l=g[3],m=g[6],d=g[7],h=g[11];s[1]=g[4],s[2]=g[8],s[3]=g[12],s[4]=p,s[6]=g[9],s[7]=g[13],s[8]=c,s[9]=m,s[11]=g[14],s[12]=l,s[13]=d,s[14]=h}else s[0]=g[0],s[1]=g[4],s[2]=g[8],s[3]=g[12],s[4]=g[1],s[5]=g[5],s[6]=g[9],s[7]=g[13],s[8]=g[2],s[9]=g[6],s[10]=g[10],s[11]=g[14],s[12]=g[3],s[13]=g[7],s[14]=g[11],s[15]=g[15];return s}},{}],48:[function(v,pe,J){(function(s){(function(){"use strict";var g,p=v("is-browser");g="function"==typeof s.matchMedia?!s.matchMedia("(hover: none)").matches:p,pe.exports=g}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"is-browser":50}],49:[function(v,pe,J){"use strict";var s=v("is-browser");pe.exports=s&&function(){var g=!1;try{var p=Object.defineProperty({},"passive",{get:function(){g=!0}});window.addEventListener("test",null,p),window.removeEventListener("test",null,p)}catch{g=!1}return g}()},{"is-browser":50}],50:[function(v,pe,J){pe.exports=!0},{}],51:[function(v,pe,J){"use strict";pe.exports=p,pe.exports.isMobile=p,pe.exports.default=p;var s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,g=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function p(c){c||(c={});var l=c.ua;if(l||typeof navigator>"u"||(l=navigator.userAgent),l&&l.headers&&"string"==typeof l.headers["user-agent"]&&(l=l.headers["user-agent"]),"string"!=typeof l)return!1;var m=c.tablet?g.test(l):s.test(l);return!m&&c.tablet&&c.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==l.indexOf("Macintosh")&&-1!==l.indexOf("Safari")&&(m=!0),m}},{}],52:[function(v,pe,J){"use strict";pe.exports=function(s){for(var g,p=s.length,c=0;c<p;c++)if(((g=s.charCodeAt(c))<9||g>13)&&32!==g&&133!==g&&160!==g&&5760!==g&&6158!==g&&(g<8192||g>8205)&&8232!==g&&8233!==g&&8239!==g&&8287!==g&&8288!==g&&12288!==g&&65279!==g)return!1;return!0}},{}],53:[function(v,pe,J){var s={left:0,top:0};pe.exports=function(g,p,c){p=p||g.currentTarget||g.srcElement,Array.isArray(c)||(c=[0,0]);var h,l=g.clientX||0,m=g.clientY||0,d=(h=p)===window||h===document||h===document.body?s:h.getBoundingClientRect();return c[0]=l-d.left,c[1]=m-d.top,c}},{}],54:[function(v,pe,J){(function(s,g){(function(){var p,c,l;l=function(){"use strict";var m,d,h,u=Object.prototype.toString,C=void 0!==g?function(P){return g(P)}:setTimeout;try{Object.defineProperty({},"x",{}),m=function(P,S,R,G){return Object.defineProperty(P,S,{value:R,writable:!0,configurable:!1!==G})}}catch{m=function(S,R,G){return S[R]=G,S}}function b(P,S){h.add(P,S),d||(d=C(h.drain))}function M(P){var S,R=typeof P;return null==P||"object"!=R&&"function"!=R||(S=P.then),"function"==typeof S&&S}function w(){for(var P=0;P<this.chain.length;P++)N(this,1===this.state?this.chain[P].success:this.chain[P].failure,this.chain[P]);this.chain.length=0}function N(P,S,R){var G,z;try{!1===S?R.reject(P.msg):(G=!0===S?P.msg:S.call(void 0,P.msg))===R.promise?R.reject(TypeError("Promise-chain cycle")):(z=M(G))?z.call(G,R.resolve,R.reject):R.resolve(G)}catch(X){R.reject(X)}}function A(P){var S,R=this;if(!R.triggered){R.triggered=!0,R.def&&(R=R.def);try{(S=M(P))?b(function(){var G=new H(R);try{S.call(P,function(){A.apply(G,arguments)},function(){V.apply(G,arguments)})}catch(z){V.call(G,z)}}):(R.msg=P,R.state=1,R.chain.length>0&&b(w,R))}catch(G){V.call(new H(R),G)}}}function V(P){var S=this;S.triggered||(S.triggered=!0,S.def&&(S=S.def),S.msg=P,S.state=2,S.chain.length>0&&b(w,S))}function L(P,S,R,G){for(var z=0;z<S.length;z++)!function(X){P.resolve(S[X]).then(function(W){R(X,W)},G)}(z)}function H(P){this.def=P,this.triggered=!1}function I(P){this.promise=P,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function D(P){if("function"!=typeof P)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var S=new I(this);this.then=function(R,G){var z={success:"function"!=typeof R||R,failure:"function"==typeof G&&G};return z.promise=new this.constructor(function(X,W){if("function"!=typeof X||"function"!=typeof W)throw TypeError("Not a function");z.resolve=X,z.reject=W}),S.chain.push(z),0!==S.state&&b(w,S),z.promise},this.catch=function(R){return this.then(void 0,R)};try{P.call(void 0,function(R){A.call(S,R)},function(R){V.call(S,R)})}catch(R){V.call(S,R)}}h=function(){var P,S,R;function G(z,X){this.fn=z,this.self=X,this.next=void 0}return{add:function(z,X){R=new G(z,X),S?S.next=R:P=R,S=R,R=void 0},drain:function(){var z=P;for(P=S=d=void 0;z;)z.fn.call(z.self),z=z.next}}}();var E=m({},"constructor",D,!1);return D.prototype=E,m(E,"__NPO__",0,!1),m(D,"resolve",function(P){return P&&"object"==typeof P&&1===P.__NPO__?P:new this(function(S,R){if("function"!=typeof S||"function"!=typeof R)throw TypeError("Not a function");S(P)})}),m(D,"reject",function(P){return new this(function(S,R){if("function"!=typeof S||"function"!=typeof R)throw TypeError("Not a function");R(P)})}),m(D,"all",function(P){var S=this;return"[object Array]"!=u.call(P)?S.reject(TypeError("Not an array")):0===P.length?S.resolve([]):new S(function(R,G){if("function"!=typeof R||"function"!=typeof G)throw TypeError("Not a function");var z=P.length,X=Array(z),W=0;L(S,P,function(Z,ne){X[Z]=ne,++W===z&&R(X)},G)})}),m(D,"race",function(P){var S=this;return"[object Array]"!=u.call(P)?S.reject(TypeError("Not an array")):new S(function(R,G){if("function"!=typeof R||"function"!=typeof G)throw TypeError("Not a function");L(S,P,function(z,X){R(X)},G)})}),D},(c=void 0!==s?s:this)[p="Promise"]=c[p]||l(),void 0!==pe&&pe.exports&&(pe.exports=c[p])}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},v("timers").setImmediate)},{timers:66}],55:[function(v,pe,J){"use strict";var s=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function c(l){if(null==l)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}pe.exports=function(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de","5"===Object.getOwnPropertyNames(l)[0])return!1;for(var m={},d=0;d<10;d++)m["_"+String.fromCharCode(d)]=d;if("0123456789"!==Object.getOwnPropertyNames(m).map(function(u){return m[u]}).join(""))return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(u){h[u]=u}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},h)).join("")}catch{return!1}}()?Object.assign:function(l,m){for(var d,h,u=c(l),C=1;C<arguments.length;C++){for(var b in d=Object(arguments[C]))g.call(d,b)&&(u[b]=d[b]);if(s){h=s(d);for(var M=0;M<h.length;M++)p.call(d,h[M])&&(u[h[M]]=d[h[M]])}}return u}},{}],56:[function(v,pe,J){pe.exports=function(c){var l=[];return c.replace(g,function(m,d,h){var b,u=d.toLowerCase();for(b=void 0,h=(b=h.match(p))?b.map(Number):[],"m"==u&&h.length>2&&(l.push([d].concat(h.splice(0,2))),u="l",d="m"==d?"l":"L");;){if(h.length==s[u])return h.unshift(d),l.push(h);if(h.length<s[u])throw new Error("malformed path data");l.push([d].concat(h.splice(0,s[u])))}}),l};var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},g=/([astvzqmhlc])([^astvzqmhlc]*)/gi,p=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},{}],57:[function(v,pe,J){var s,g=v("./lib/build-log"),p=v("./lib/epsilon"),c=v("./lib/intersecter"),l=v("./lib/segment-chainer"),m=v("./lib/segment-selector"),d=v("./lib/geojson"),h=!1,u=p();function C(b,M,w){var N=s.segments(b),A=s.segments(M),V=w(s.combine(N,A));return s.polygon(V)}s={buildLog:function(b){return!0===b?h=g():!1===b&&(h=!1),!1!==h&&h.list},epsilon:function(b){return u.epsilon(b)},segments:function(b){var M=c(!0,u,h);return b.regions.forEach(M.addRegion),{segments:M.calculate(b.inverted),inverted:b.inverted}},combine:function(b,M){return{combined:c(!1,u,h).calculate(b.segments,b.inverted,M.segments,M.inverted),inverted1:b.inverted,inverted2:M.inverted}},selectUnion:function(b){return{segments:m.union(b.combined,h),inverted:b.inverted1||b.inverted2}},selectIntersect:function(b){return{segments:m.intersect(b.combined,h),inverted:b.inverted1&&b.inverted2}},selectDifference:function(b){return{segments:m.difference(b.combined,h),inverted:b.inverted1&&!b.inverted2}},selectDifferenceRev:function(b){return{segments:m.differenceRev(b.combined,h),inverted:!b.inverted1&&b.inverted2}},selectXor:function(b){return{segments:m.xor(b.combined,h),inverted:b.inverted1!==b.inverted2}},polygon:function(b){return{regions:l(b.segments,u,h),inverted:b.inverted}},polygonFromGeoJSON:function(b){return d.toPolygon(s,b)},polygonToGeoJSON:function(b){return d.fromPolygon(s,u,b)},union:function(b,M){return C(b,M,s.selectUnion)},intersect:function(b,M){return C(b,M,s.selectIntersect)},difference:function(b,M){return C(b,M,s.selectDifference)},differenceRev:function(b,M){return C(b,M,s.selectDifferenceRev)},xor:function(b,M){return C(b,M,s.selectXor)}},"object"==typeof window&&(window.PolyBool=s),pe.exports=s},{"./lib/build-log":58,"./lib/epsilon":59,"./lib/geojson":60,"./lib/intersecter":61,"./lib/segment-chainer":63,"./lib/segment-selector":64}],58:[function(v,pe,J){pe.exports=function(){var s,g=0,p=!1;function c(l,m){return s.list.push({type:l,data:m?JSON.parse(JSON.stringify(m)):void 0}),s}return s={list:[],segmentId:function(){return g++},checkIntersection:function(l,m){return c("check",{seg1:l,seg2:m})},segmentChop:function(l,m){return c("div_seg",{seg:l,pt:m}),c("chop",{seg:l,pt:m})},statusRemove:function(l){return c("pop_seg",{seg:l})},segmentUpdate:function(l){return c("seg_update",{seg:l})},segmentNew:function(l,m){return c("new_seg",{seg:l,primary:m})},segmentRemove:function(l){return c("rem_seg",{seg:l})},tempStatus:function(l,m,d){return c("temp_status",{seg:l,above:m,below:d})},rewind:function(l){return c("rewind",{seg:l})},status:function(l,m,d){return c("status",{seg:l,above:m,below:d})},vert:function(l){return l===p?s:(p=l,c("vert",{x:l}))},log:function(l){return"string"!=typeof l&&(l=JSON.stringify(l,!1,"  ")),c("log",{txt:l})},reset:function(){return c("reset")},selected:function(l){return c("selected",{segs:l})},chainStart:function(l){return c("chain_start",{seg:l})},chainRemoveHead:function(l,m){return c("chain_rem_head",{index:l,pt:m})},chainRemoveTail:function(l,m){return c("chain_rem_tail",{index:l,pt:m})},chainNew:function(l,m){return c("chain_new",{pt1:l,pt2:m})},chainMatch:function(l){return c("chain_match",{index:l})},chainClose:function(l){return c("chain_close",{index:l})},chainAddHead:function(l,m){return c("chain_add_head",{index:l,pt:m})},chainAddTail:function(l,m){return c("chain_add_tail",{index:l,pt:m})},chainConnect:function(l,m){return c("chain_con",{index1:l,index2:m})},chainReverse:function(l){return c("chain_rev",{index:l})},chainJoin:function(l,m){return c("chain_join",{index1:l,index2:m})},done:function(){return c("done")}}}},{}],59:[function(v,pe,J){pe.exports=function(s){"number"!=typeof s&&(s=1e-10);var g={epsilon:function(p){return"number"==typeof p&&(s=p),s},pointAboveOrOnLine:function(p,c,l){var m=c[0],d=c[1];return(l[0]-m)*(p[1]-d)-(l[1]-d)*(p[0]-m)>=-s},pointBetween:function(p,c,l){var d=l[0]-c[0],u=l[1]-c[1],C=(p[0]-c[0])*d+(p[1]-c[1])*u;return!(C<s||C-(d*d+u*u)>-s)},pointsSameX:function(p,c){return Math.abs(p[0]-c[0])<s},pointsSameY:function(p,c){return Math.abs(p[1]-c[1])<s},pointsSame:function(p,c){return g.pointsSameX(p,c)&&g.pointsSameY(p,c)},pointsCompare:function(p,c){return g.pointsSameX(p,c)?g.pointsSameY(p,c)?0:p[1]<c[1]?-1:1:p[0]<c[0]?-1:1},pointsCollinear:function(p,c,l){return Math.abs((p[0]-c[0])*(c[1]-l[1])-(c[0]-l[0])*(p[1]-c[1]))<s},linesIntersect:function(p,c,l,m){var d=c[0]-p[0],h=c[1]-p[1],u=m[0]-l[0],C=m[1]-l[1],b=d*C-h*u;if(Math.abs(b)<s)return!1;var M=p[0]-l[0],w=p[1]-l[1],N=(u*w-C*M)/b,A=(d*w-h*M)/b,V={alongA:0,alongB:0,pt:[p[0]+N*d,p[1]+N*h]};return V.alongA=N<=-s?-2:N<s?-1:N-1<=-s?0:N-1<s?1:2,V.alongB=A<=-s?-2:A<s?-1:A-1<=-s?0:A-1<s?1:2,V},pointInsideRegion:function(p,c){for(var l=p[0],m=p[1],d=c[c.length-1][0],h=c[c.length-1][1],u=!1,C=0;C<c.length;C++){var b=c[C][0],M=c[C][1];M-m>s!=h-m>s&&(d-b)*(m-M)/(h-M)+b-l>s&&(u=!u),d=b,h=M}return u}};return g}},{}],60:[function(v,pe,J){pe.exports={toPolygon:function(g,p){function c(d){if(d.length<=0)return g.segments({inverted:!1,regions:[]});function h(b){var M=b.slice(0,b.length-1);return g.segments({inverted:!1,regions:[M]})}for(var u=h(d[0]),C=1;C<d.length;C++)u=g.selectDifference(g.combine(u,h(d[C])));return u}if("Polygon"===p.type)return g.polygon(c(p.coordinates));if("MultiPolygon"===p.type){for(var l=g.segments({inverted:!1,regions:[]}),m=0;m<p.coordinates.length;m++)l=g.selectUnion(g.combine(l,c(p.coordinates[m])));return g.polygon(l)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(g,p,c){function l(A,V){return p.pointInsideRegion([.5*(A[0][0]+A[1][0]),.5*(A[0][1]+A[1][1])],V)}function m(A){return{region:A,children:[]}}c=g.polygon(g.segments(c));var d=m(null);function h(A,V){for(var L=0;L<A.children.length;L++)if(l(V,(I=A.children[L]).region))return void h(I,V);var H=m(V);for(L=0;L<A.children.length;L++){var I;l((I=A.children[L]).region,V)&&(H.children.push(I),A.children.splice(L,1),L--)}A.children.push(H)}for(var u=0;u<c.regions.length;u++){var C=c.regions[u];C.length<3||h(d,C)}function b(A,V){for(var L=0,H=A[A.length-1][0],I=A[A.length-1][1],D=[],E=0;E<A.length;E++){var P=A[E][0],S=A[E][1];D.push([P,S]),L+=S*H-P*I,H=P,I=S}return L<0!==V&&D.reverse(),D.push([D[0][0],D[0][1]]),D}var M=[];function w(A){var V=[b(A.region,!1)];M.push(V);for(var L=0;L<A.children.length;L++)V.push(N(A.children[L]))}function N(A){for(var V=0;V<A.children.length;V++)w(A.children[V]);return b(A.region,!0)}for(u=0;u<d.children.length;u++)w(d.children[u]);return M.length<=0?{type:"Polygon",coordinates:[]}:1==M.length?{type:"Polygon",coordinates:M[0]}:{type:"MultiPolygon",coordinates:M}}}},{}],61:[function(v,pe,J){var s=v("./linked-list");pe.exports=function(g,p,c){function l(b,M,w){return{id:c?c.segmentId():-1,start:b,end:M,myFill:{above:w.myFill.above,below:w.myFill.below},otherFill:null}}var m=s.create();function d(b,M){m.insertBefore(b,function(w){return N=b.isStart,V=M,L=w.isStart,I=w.other.pt,(0!==(D=p.pointsCompare(b.pt,H=w.pt))?D:p.pointsSame(V,I)?0:N!==L?N?1:-1:p.pointAboveOrOnLine(V,L?H:I,L?I:H)?1:-1)<0;var N,V,L,H,I,D})}function h(b,M){var N,V,w=(d(V=s.node({isStart:!0,pt:(N=b).start,seg:N,primary:M,other:null,status:null}),N.end),V);return function(N,A,V){var L=s.node({isStart:!1,pt:A.end,seg:A,primary:V,other:N,status:null});N.other=L,d(L,N.pt)}(w,b,M),w}function u(b,M){var N,A,w=l(M,b.seg.end,b.seg);return N=b,A=M,c&&c.segmentChop(N.seg,A),N.other.remove(),N.seg.end=A,N.other.pt=A,d(N.other,N.pt),h(w,b.primary)}function C(b,M){var w=s.create();function N(X){return w.findTransition(function(W){var Z,ne,te,oe,Ce,ie;return oe=(Z=X).seg.end,(p.pointsCollinear(te=Z.seg.start,Ce=(ne=W.ev).seg.start,ie=ne.seg.end)?p.pointsCollinear(oe,Ce,ie)||p.pointAboveOrOnLine(oe,Ce,ie)?1:-1:p.pointAboveOrOnLine(te,Ce,ie)?1:-1)>0})}function A(X,W){var Z=X.seg,ne=W.seg,te=Z.start,oe=Z.end,Ce=ne.start,ie=ne.end;c&&c.checkIntersection(Z,ne);var Q=p.linesIntersect(te,oe,Ce,ie);if(!1===Q){if(!p.pointsCollinear(te,oe,Ce)||p.pointsSame(te,ie)||p.pointsSame(oe,Ce))return!1;var le=p.pointsSame(te,Ce),j=p.pointsSame(oe,ie);if(le&&j)return W;var $=!le&&p.pointBetween(te,Ce,ie),se=!j&&p.pointBetween(oe,Ce,ie);if(le)return se?u(W,oe):u(X,ie),W;$&&(j||(se?u(W,oe):u(X,ie)),u(W,te))}else 0===Q.alongA&&(-1===Q.alongB?u(X,Ce):0===Q.alongB?u(X,Q.pt):1===Q.alongB&&u(X,ie)),0===Q.alongB&&(-1===Q.alongA?u(W,te):0===Q.alongA?u(W,Q.pt):1===Q.alongA&&u(W,oe));return!1}for(var V=[];!m.isEmpty();){var L=m.getHead();if(c&&c.vert(L.pt[0]),L.isStart){let X=function(){if(I){var W=A(L,I);if(W)return W}return!!D&&A(L,D)};c&&c.segmentNew(L.seg,L.primary);var H=N(L),I=H.before?H.before.ev:null,D=H.after?H.after.ev:null;c&&c.tempStatus(L.seg,!!I&&I.seg,!!D&&D.seg);var E,S,P=X();if(P&&(g?(S=null===L.seg.myFill.below||L.seg.myFill.above!==L.seg.myFill.below)&&(P.seg.myFill.above=!P.seg.myFill.above):P.seg.otherFill=L.seg.myFill,c&&c.segmentUpdate(P.seg),L.other.remove(),L.remove()),m.getHead()!==L){c&&c.rewind(L.seg);continue}g?(S=null===L.seg.myFill.below||L.seg.myFill.above!==L.seg.myFill.below,L.seg.myFill.below=D?D.seg.myFill.above:b,L.seg.myFill.above=S?!L.seg.myFill.below:L.seg.myFill.below):null===L.seg.otherFill&&(L.seg.otherFill={above:E=D?L.primary===D.primary?D.seg.otherFill.above:D.seg.myFill.above:L.primary?M:b,below:E}),c&&c.status(L.seg,!!I&&I.seg,!!D&&D.seg),L.other.status=H.insert(s.node({ev:L}))}else{var R=L.status;if(null===R)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(w.exists(R.prev)&&w.exists(R.next)&&A(R.prev.ev,R.next.ev),c&&c.statusRemove(R.ev.seg),R.remove(),!L.primary){var G=L.seg.myFill;L.seg.myFill=L.seg.otherFill,L.seg.otherFill=G}V.push(L.seg)}m.getHead().remove()}return c&&c.done(),V}return g?{addRegion:function(b){for(var M,w,N,A=b[b.length-1],V=0;V<b.length;V++){var L=p.pointsCompare(M=A,A=b[V]);0!==L&&h((w=L<0?M:A,N=L<0?A:M,{id:c?c.segmentId():-1,start:w,end:N,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(b){return C(b,!1)}}:{calculate:function(b,M,w,N){return b.forEach(function(A){h(l(A.start,A.end,A),!0)}),w.forEach(function(A){h(l(A.start,A.end,A),!1)}),C(M,N)}}}},{"./linked-list":62}],62:[function(v,pe,J){pe.exports={create:function(){var s={root:{root:!0,next:null},exists:function(g){return null!==g&&g!==s.root},isEmpty:function(){return null===s.root.next},getHead:function(){return s.root.next},insertBefore:function(g,p){for(var c=s.root,l=s.root.next;null!==l;){if(p(l))return g.prev=l.prev,g.next=l,l.prev.next=g,void(l.prev=g);c=l,l=l.next}c.next=g,g.prev=c,g.next=null},findTransition:function(g){for(var p=s.root,c=s.root.next;null!==c&&!g(c);)p=c,c=c.next;return{before:p===s.root?null:p,after:c,insert:function(l){return l.prev=p,l.next=c,p.next=l,null!==c&&(c.prev=l),l}}}};return s},node:function(s){return s.prev=null,s.next=null,s.remove=function(){s.prev.next=s.next,s.next&&(s.next.prev=s.prev),s.prev=null,s.next=null},s}}},{}],63:[function(v,pe,J){pe.exports=function(s,g,p){var c=[],l=[];return s.forEach(function(m){var d=m.start,h=m.end;if(g.pointsSame(d,h))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{p&&p.chainStart(m);for(var u={index:0,matches_head:!1,matches_pt1:!1},C={index:0,matches_head:!1,matches_pt1:!1},b=u,M=0;M<c.length;M++){var w=(H=c[M])[0],N=H[H.length-1];if(g.pointsSame(w,d)){if(z(M,!0,!0))break}else if(g.pointsSame(w,h)){if(z(M,!0,!1))break}else if(g.pointsSame(N,d)){if(z(M,!1,!0))break}else if(g.pointsSame(N,h)&&z(M,!1,!1))break}if(b===u)return c.push([d,h]),void(p&&p.chainNew(d,h));if(b===C){p&&p.chainMatch(u.index);var A=u.index,V=u.matches_pt1?h:d,L=u.matches_head,H=c[A],I=L?H[0]:H[H.length-1],D=L?H[1]:H[H.length-2],E=L?H[H.length-1]:H[0],P=L?H[H.length-2]:H[1];return g.pointsCollinear(D,I,V)&&(L?(p&&p.chainRemoveHead(u.index,V),H.shift()):(p&&p.chainRemoveTail(u.index,V),H.pop()),I=D),g.pointsSame(E,V)?(c.splice(A,1),g.pointsCollinear(P,E,I)&&(L?(p&&p.chainRemoveTail(u.index,I),H.pop()):(p&&p.chainRemoveHead(u.index,I),H.shift())),p&&p.chainClose(u.index),void l.push(H)):void(L?(p&&p.chainAddHead(u.index,V),H.unshift(V)):(p&&p.chainAddTail(u.index,V),H.push(V)))}var S=u.index,R=C.index;p&&p.chainConnect(S,R);var G=c[S].length<c[R].length;u.matches_head?C.matches_head?G?(X(S),W(S,R)):(X(R),W(R,S)):W(R,S):C.matches_head?W(S,R):G?(X(S),W(R,S)):(X(R),W(S,R))}function z(Z,ne,te){return b.index=Z,b.matches_head=ne,b.matches_pt1=te,b===u?(b=C,!1):(b=null,!0)}function X(Z){p&&p.chainReverse(Z),c[Z].reverse()}function W(Z,ne){var te=c[Z],oe=c[ne],Ce=te[te.length-1],ie=te[te.length-2],Q=oe[0],le=oe[1];g.pointsCollinear(ie,Ce,Q)&&(p&&p.chainRemoveTail(Z,Ce),te.pop(),Ce=ie),g.pointsCollinear(Ce,Q,le)&&(p&&p.chainRemoveHead(ne,Q),oe.shift()),p&&p.chainJoin(Z,ne),c[Z]=te.concat(oe),c.splice(ne,1)}}),l}},{}],64:[function(v,pe,J){function s(p,c,l){var m=[];return p.forEach(function(d){var h=(d.myFill.above?8:0)+(d.myFill.below?4:0)+(d.otherFill&&d.otherFill.above?2:0)+(d.otherFill&&d.otherFill.below?1:0);0!==c[h]&&m.push({id:l?l.segmentId():-1,start:d.start,end:d.end,myFill:{above:1===c[h],below:2===c[h]},otherFill:null})}),l&&l.selected(m),m}pe.exports={union:function(p,c){return s(p,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],c)},intersect:function(p,c){return s(p,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],c)},difference:function(p,c){return s(p,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],c)},differenceRev:function(p,c){return s(p,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],c)},xor:function(p,c){return s(p,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],c)}}},{}],65:[function(v,pe,J){var s,g,p=pe.exports={};function c(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function m(A){if(s===setTimeout)return setTimeout(A,0);if((s===c||!s)&&setTimeout)return s=setTimeout,setTimeout(A,0);try{return s(A,0)}catch{try{return s.call(null,A,0)}catch{return s.call(this,A,0)}}}!function(){try{s="function"==typeof setTimeout?setTimeout:c}catch{s=c}try{g="function"==typeof clearTimeout?clearTimeout:l}catch{g=l}}();var d,h=[],u=!1,C=-1;function b(){u&&d&&(u=!1,d.length?h=d.concat(h):C=-1,h.length&&M())}function M(){if(!u){var A=m(b);u=!0;for(var V=h.length;V;){for(d=h,h=[];++C<V;)d&&d[C].run();C=-1,V=h.length}d=null,u=!1,function(L){if(g===clearTimeout)return clearTimeout(L);if((g===l||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(L);try{g(L)}catch{try{return g.call(null,L)}catch{return g.call(this,L)}}}(A)}}function w(A,V){this.fun=A,this.array=V}function N(){}p.nextTick=function(A){var V=new Array(arguments.length-1);if(arguments.length>1)for(var L=1;L<arguments.length;L++)V[L-1]=arguments[L];h.push(new w(A,V)),1!==h.length||u||m(M)},w.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=N,p.addListener=N,p.once=N,p.off=N,p.removeListener=N,p.removeAllListeners=N,p.emit=N,p.prependListener=N,p.prependOnceListener=N,p.listeners=function(A){return[]},p.binding=function(A){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(A){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],66:[function(v,pe,J){(function(s,g){(function(){var p=v("process/browser.js").nextTick,c=Function.prototype.apply,l=Array.prototype.slice,m={},d=0;function h(u,C){this._id=u,this._clearFn=C}J.setTimeout=function(){return new h(c.call(setTimeout,window,arguments),clearTimeout)},J.setInterval=function(){return new h(c.call(setInterval,window,arguments),clearInterval)},J.clearTimeout=J.clearInterval=function(u){u.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},J.enroll=function(u,C){clearTimeout(u._idleTimeoutId),u._idleTimeout=C},J.unenroll=function(u){clearTimeout(u._idleTimeoutId),u._idleTimeout=-1},J._unrefActive=J.active=function(u){clearTimeout(u._idleTimeoutId);var C=u._idleTimeout;C>=0&&(u._idleTimeoutId=setTimeout(function(){u._onTimeout&&u._onTimeout()},C))},J.setImmediate="function"==typeof s?s:function(u){var C=d++,b=!(arguments.length<2)&&l.call(arguments,1);return m[C]=!0,p(function(){m[C]&&(b?u.apply(null,b):u.call(null),J.clearImmediate(C))}),C},J.clearImmediate="function"==typeof g?g:function(u){delete m[u]}}).call(this)}).call(this,v("timers").setImmediate,v("timers").clearImmediate)},{"process/browser.js":65,timers:66}],67:[function(v,pe,J){!function(s){var g=/^\s+/,p=/\s+$/,c=0,l=s.round,m=s.min,d=s.max,h=s.random;function u(O,Y){if(Y=Y||{},(O=O||"")instanceof u)return O;if(!(this instanceof u))return new u(O,Y);var ae,Re,tt,ue,fe,he,xe,be,Ve,Ae,B=(ue={r:0,g:0,b:0},fe=1,he=null,xe=null,be=null,Ve=!1,Ae=!1,"string"==typeof(ae=O)&&(ae=function(Ke){Ke=Ke.replace(g,"").replace(p,"").toLowerCase();var $e,Me=!1;if(X[Ke])Ke=X[Ke],Me=!0;else if("transparent"==Ke)return{r:0,g:0,b:0,a:0,format:"name"};return($e=ee.rgb.exec(Ke))?{r:$e[1],g:$e[2],b:$e[3]}:($e=ee.rgba.exec(Ke))?{r:$e[1],g:$e[2],b:$e[3],a:$e[4]}:($e=ee.hsl.exec(Ke))?{h:$e[1],s:$e[2],l:$e[3]}:($e=ee.hsla.exec(Ke))?{h:$e[1],s:$e[2],l:$e[3],a:$e[4]}:($e=ee.hsv.exec(Ke))?{h:$e[1],s:$e[2],v:$e[3]}:($e=ee.hsva.exec(Ke))?{h:$e[1],s:$e[2],v:$e[3],a:$e[4]}:($e=ee.hex8.exec(Ke))?{r:oe($e[1]),g:oe($e[2]),b:oe($e[3]),a:le($e[4]),format:Me?"name":"hex8"}:($e=ee.hex6.exec(Ke))?{r:oe($e[1]),g:oe($e[2]),b:oe($e[3]),format:Me?"name":"hex"}:($e=ee.hex4.exec(Ke))?{r:oe($e[1]+""+$e[1]),g:oe($e[2]+""+$e[2]),b:oe($e[3]+""+$e[3]),a:le($e[4]+""+$e[4]),format:Me?"name":"hex8"}:!!($e=ee.hex3.exec(Ke))&&{r:oe($e[1]+""+$e[1]),g:oe($e[2]+""+$e[2]),b:oe($e[3]+""+$e[3]),format:Me?"name":"hex"}}(ae)),"object"==typeof ae&&(F(ae.r)&&F(ae.g)&&F(ae.b)?(Re=ae.g,tt=ae.b,ue={r:255*ne(ae.r,255),g:255*ne(Re,255),b:255*ne(tt,255)},Ve=!0,Ae="%"===String(ae.r).substr(-1)?"prgb":"rgb"):F(ae.h)&&F(ae.s)&&F(ae.v)?(he=ie(ae.s),xe=ie(ae.v),ue=function(Ke,$e,Me){Ke=6*ne(Ke,360),$e=ne($e,100),Me=ne(Me,100);var ve=s.floor(Ke),Se=Ke-ve,Te=Me*(1-$e),qe=Me*(1-Se*$e),Ee=Me*(1-(1-Se)*$e),Ie=ve%6;return{r:255*[Me,qe,Te,Te,Ee,Me][Ie],g:255*[Ee,Me,Me,qe,Te,Te][Ie],b:255*[Te,Te,Ee,Me,Me,qe][Ie]}}(ae.h,he,xe),Ve=!0,Ae="hsv"):F(ae.h)&&F(ae.s)&&F(ae.l)&&(he=ie(ae.s),be=ie(ae.l),ue=function(Ke,$e,Me){var ve,Se,Te;function qe(Qe,nt,Ye){return Ye<0&&(Ye+=1),Ye>1&&(Ye-=1),Ye<1/6?Qe+6*(nt-Qe)*Ye:Ye<.5?nt:Ye<2/3?Qe+(nt-Qe)*(2/3-Ye)*6:Qe}if(Ke=ne(Ke,360),$e=ne($e,100),Me=ne(Me,100),0===$e)ve=Se=Te=Me;else{var Ee=Me<.5?Me*(1+$e):Me+$e-Me*$e,Ie=2*Me-Ee;ve=qe(Ie,Ee,Ke+1/3),Se=qe(Ie,Ee,Ke),Te=qe(Ie,Ee,Ke-1/3)}return{r:255*ve,g:255*Se,b:255*Te}}(ae.h,he,be),Ve=!0,Ae="hsl"),ae.hasOwnProperty("a")&&(fe=ae.a)),fe=Z(fe),{ok:Ve,format:ae.format||Ae,r:m(255,d(ue.r,0)),g:m(255,d(ue.g,0)),b:m(255,d(ue.b,0)),a:fe});this._originalInput=O,this._r=B.r,this._g=B.g,this._b=B.b,this._a=B.a,this._roundA=l(100*this._a)/100,this._format=Y.format||B.format,this._gradientType=Y.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=B.ok,this._tc_id=c++}function C(O,Y,B){O=ne(O,255),Y=ne(Y,255),B=ne(B,255);var ae,ue,fe=d(O,Y,B),he=m(O,Y,B),xe=(fe+he)/2;if(fe==he)ae=ue=0;else{var be=fe-he;switch(ue=xe>.5?be/(2-fe-he):be/(fe+he),fe){case O:ae=(Y-B)/be+(Y<B?6:0);break;case Y:ae=(B-O)/be+2;break;case B:ae=(O-Y)/be+4}ae/=6}return{h:ae,s:ue,l:xe}}function b(O,Y,B){O=ne(O,255),Y=ne(Y,255),B=ne(B,255);var ae,ue,fe=d(O,Y,B),he=m(O,Y,B),xe=fe,be=fe-he;if(ue=0===fe?0:be/fe,fe==he)ae=0;else{switch(fe){case O:ae=(Y-B)/be+(Y<B?6:0);break;case Y:ae=(B-O)/be+2;break;case B:ae=(O-Y)/be+4}ae/=6}return{h:ae,s:ue,v:xe}}function M(O,Y,B,ae){var ue=[Ce(l(O).toString(16)),Ce(l(Y).toString(16)),Ce(l(B).toString(16))];return ae&&ue[0].charAt(0)==ue[0].charAt(1)&&ue[1].charAt(0)==ue[1].charAt(1)&&ue[2].charAt(0)==ue[2].charAt(1)?ue[0].charAt(0)+ue[1].charAt(0)+ue[2].charAt(0):ue.join("")}function w(O,Y,B,ae){return[Ce(Q(ae)),Ce(l(O).toString(16)),Ce(l(Y).toString(16)),Ce(l(B).toString(16))].join("")}function N(O,Y){Y=0===Y?0:Y||10;var B=u(O).toHsl();return B.s-=Y/100,B.s=te(B.s),u(B)}function A(O,Y){Y=0===Y?0:Y||10;var B=u(O).toHsl();return B.s+=Y/100,B.s=te(B.s),u(B)}function V(O){return u(O).desaturate(100)}function L(O,Y){Y=0===Y?0:Y||10;var B=u(O).toHsl();return B.l+=Y/100,B.l=te(B.l),u(B)}function H(O,Y){Y=0===Y?0:Y||10;var B=u(O).toRgb();return B.r=d(0,m(255,B.r-l(-Y/100*255))),B.g=d(0,m(255,B.g-l(-Y/100*255))),B.b=d(0,m(255,B.b-l(-Y/100*255))),u(B)}function I(O,Y){Y=0===Y?0:Y||10;var B=u(O).toHsl();return B.l-=Y/100,B.l=te(B.l),u(B)}function D(O,Y){var B=u(O).toHsl(),ae=(B.h+Y)%360;return B.h=ae<0?360+ae:ae,u(B)}function E(O){var Y=u(O).toHsl();return Y.h=(Y.h+180)%360,u(Y)}function P(O){var Y=u(O).toHsl(),B=Y.h;return[u(O),u({h:(B+120)%360,s:Y.s,l:Y.l}),u({h:(B+240)%360,s:Y.s,l:Y.l})]}function S(O){var Y=u(O).toHsl(),B=Y.h;return[u(O),u({h:(B+90)%360,s:Y.s,l:Y.l}),u({h:(B+180)%360,s:Y.s,l:Y.l}),u({h:(B+270)%360,s:Y.s,l:Y.l})]}function R(O){var Y=u(O).toHsl(),B=Y.h;return[u(O),u({h:(B+72)%360,s:Y.s,l:Y.l}),u({h:(B+216)%360,s:Y.s,l:Y.l})]}function G(O,Y,B){Y=Y||6,B=B||30;var ae=u(O).toHsl(),ue=360/B,fe=[u(O)];for(ae.h=(ae.h-(ue*Y>>1)+720)%360;--Y;)ae.h=(ae.h+ue)%360,fe.push(u(ae));return fe}function z(O,Y){Y=Y||6;for(var B=u(O).toHsv(),ae=B.h,ue=B.s,fe=B.v,he=[],xe=1/Y;Y--;)he.push(u({h:ae,s:ue,v:fe})),fe=(fe+xe)%1;return he}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var O=this.toRgb();return(299*O.r+587*O.g+114*O.b)/1e3},getLuminance:function(){var O,Y,B,ae=this.toRgb();return Y=ae.g/255,B=ae.b/255,.2126*((O=ae.r/255)<=.03928?O/12.92:s.pow((O+.055)/1.055,2.4))+.7152*(Y<=.03928?Y/12.92:s.pow((Y+.055)/1.055,2.4))+.0722*(B<=.03928?B/12.92:s.pow((B+.055)/1.055,2.4))},setAlpha:function(O){return this._a=Z(O),this._roundA=l(100*this._a)/100,this},toHsv:function(){var O=b(this._r,this._g,this._b);return{h:360*O.h,s:O.s,v:O.v,a:this._a}},toHsvString:function(){var O=b(this._r,this._g,this._b),Y=l(360*O.h),B=l(100*O.s),ae=l(100*O.v);return 1==this._a?"hsv("+Y+", "+B+"%, "+ae+"%)":"hsva("+Y+", "+B+"%, "+ae+"%, "+this._roundA+")"},toHsl:function(){var O=C(this._r,this._g,this._b);return{h:360*O.h,s:O.s,l:O.l,a:this._a}},toHslString:function(){var O=C(this._r,this._g,this._b),Y=l(360*O.h),B=l(100*O.s),ae=l(100*O.l);return 1==this._a?"hsl("+Y+", "+B+"%, "+ae+"%)":"hsla("+Y+", "+B+"%, "+ae+"%, "+this._roundA+")"},toHex:function(O){return M(this._r,this._g,this._b,O)},toHexString:function(O){return"#"+this.toHex(O)},toHex8:function(O){return B=this._g,ae=this._b,ue=this._a,fe=O,he=[Ce(l(this._r).toString(16)),Ce(l(B).toString(16)),Ce(l(ae).toString(16)),Ce(Q(ue))],fe&&he[0].charAt(0)==he[0].charAt(1)&&he[1].charAt(0)==he[1].charAt(1)&&he[2].charAt(0)==he[2].charAt(1)&&he[3].charAt(0)==he[3].charAt(1)?he[0].charAt(0)+he[1].charAt(0)+he[2].charAt(0)+he[3].charAt(0):he.join("");var B,ae,ue,fe,he},toHex8String:function(O){return"#"+this.toHex8(O)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*ne(this._r,255))+"%",g:l(100*ne(this._g,255))+"%",b:l(100*ne(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*ne(this._r,255))+"%, "+l(100*ne(this._g,255))+"%, "+l(100*ne(this._b,255))+"%)":"rgba("+l(100*ne(this._r,255))+"%, "+l(100*ne(this._g,255))+"%, "+l(100*ne(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(W[M(this._r,this._g,this._b,!0)]||!1)},toFilter:function(O){var Y="#"+w(this._r,this._g,this._b,this._a),B=Y,ae=this._gradientType?"GradientType = 1, ":"";if(O){var ue=u(O);B="#"+w(ue._r,ue._g,ue._b,ue._a)}return"progid:DXImageTransform.Microsoft.gradient("+ae+"startColorstr="+Y+",endColorstr="+B+")"},toString:function(O){var Y=!!O;O=O||this._format;var B=!1;return Y||!(this._a<1&&this._a>=0)||"hex"!==O&&"hex6"!==O&&"hex3"!==O&&"hex4"!==O&&"hex8"!==O&&"name"!==O?("rgb"===O&&(B=this.toRgbString()),"prgb"===O&&(B=this.toPercentageRgbString()),"hex"!==O&&"hex6"!==O||(B=this.toHexString()),"hex3"===O&&(B=this.toHexString(!0)),"hex4"===O&&(B=this.toHex8String(!0)),"hex8"===O&&(B=this.toHex8String()),"name"===O&&(B=this.toName()),"hsl"===O&&(B=this.toHslString()),"hsv"===O&&(B=this.toHsvString()),B||this.toHexString()):"name"===O&&0===this._a?this.toName():this.toRgbString()},clone:function(){return u(this.toString())},_applyModification:function(O,Y){var B=O.apply(null,[this].concat([].slice.call(Y)));return this._r=B._r,this._g=B._g,this._b=B._b,this.setAlpha(B._a),this},lighten:function(){return this._applyModification(L,arguments)},brighten:function(){return this._applyModification(H,arguments)},darken:function(){return this._applyModification(I,arguments)},desaturate:function(){return this._applyModification(N,arguments)},saturate:function(){return this._applyModification(A,arguments)},greyscale:function(){return this._applyModification(V,arguments)},spin:function(){return this._applyModification(D,arguments)},_applyCombination:function(O,Y){return O.apply(null,[this].concat([].slice.call(Y)))},analogous:function(){return this._applyCombination(G,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(z,arguments)},splitcomplement:function(){return this._applyCombination(R,arguments)},triad:function(){return this._applyCombination(P,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},u.fromRatio=function(O,Y){if("object"==typeof O){var B={};for(var ae in O)O.hasOwnProperty(ae)&&(B[ae]="a"===ae?O[ae]:ie(O[ae]));O=B}return u(O,Y)},u.equals=function(O,Y){return!(!O||!Y)&&u(O).toRgbString()==u(Y).toRgbString()},u.random=function(){return u.fromRatio({r:h(),g:h(),b:h()})},u.mix=function(O,Y,B){B=0===B?0:B||50;var ae=u(O).toRgb(),ue=u(Y).toRgb(),fe=B/100;return u({r:(ue.r-ae.r)*fe+ae.r,g:(ue.g-ae.g)*fe+ae.g,b:(ue.b-ae.b)*fe+ae.b,a:(ue.a-ae.a)*fe+ae.a})},u.readability=function(O,Y){var B=u(O),ae=u(Y);return(s.max(B.getLuminance(),ae.getLuminance())+.05)/(s.min(B.getLuminance(),ae.getLuminance())+.05)},u.isReadable=function(O,Y,B){var ae,ue,he,xe,be,fe=u.readability(O,Y);switch(ue=!1,(he=B,"AA"!==(xe=((he=he||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==xe&&(xe="AA"),"small"!==(be=(he.size||"small").toLowerCase())&&"large"!==be&&(be="small"),ae={level:xe,size:be}).level+ae.size){case"AAsmall":case"AAAlarge":ue=fe>=4.5;break;case"AAlarge":ue=fe>=3;break;case"AAAsmall":ue=fe>=7}return ue},u.mostReadable=function(O,Y,B){var ae,ue,fe,he,xe=null,be=0;ue=(B=B||{}).includeFallbackColors,fe=B.level,he=B.size;for(var Ve=0;Ve<Y.length;Ve++)(ae=u.readability(O,Y[Ve]))>be&&(be=ae,xe=u(Y[Ve]));return u.isReadable(O,xe,{level:fe,size:he})||!ue?xe:(B.includeFallbackColors=!1,u.mostReadable(O,["#fff","#000"],B))};var X=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W=u.hexNames=function(O){var Y={};for(var B in O)O.hasOwnProperty(B)&&(Y[O[B]]=B);return Y}(X);function Z(O){return O=parseFloat(O),(isNaN(O)||O<0||O>1)&&(O=1),O}function ne(O,Y){var ae;"string"==typeof(ae=O)&&-1!=ae.indexOf(".")&&1===parseFloat(ae)&&(O="100%");var B=function(ae){return"string"==typeof ae&&-1!=ae.indexOf("%")}(O);return O=m(Y,d(0,parseFloat(O))),B&&(O=parseInt(O*Y,10)/100),s.abs(O-Y)<1e-6?1:O%Y/parseFloat(Y)}function te(O){return m(1,d(0,O))}function oe(O){return parseInt(O,16)}function Ce(O){return 1==O.length?"0"+O:""+O}function ie(O){return O<=1&&(O=100*O+"%"),O}function Q(O){return s.round(255*parseFloat(O)).toString(16)}function le(O){return oe(O)/255}var j,$,se,ee=($="[\\s|\\(]+("+(j="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",se="[\\s|\\(]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",{CSS_UNIT:new RegExp(j),rgb:new RegExp("rgb"+$),rgba:new RegExp("rgba"+se),hsl:new RegExp("hsl"+$),hsla:new RegExp("hsla"+se),hsv:new RegExp("hsv"+$),hsva:new RegExp("hsva"+se),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function F(O){return!!ee.CSS_UNIT.exec(O)}void 0!==pe&&pe.exports?pe.exports=u:window.tinycolor=u}(Math)},{}],68:[function(v,pe,J){var s=v("../main"),g=v("object-assign"),p=s.instance();function c(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}g(c.prototype=new s.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(b,M){if("string"==typeof b){var w=b.match(m);return w?w[0]:""}var N=this._validateYear(b),A=b.month(),V=""+this.toChineseMonth(N,A);return M&&V.length<2&&(V="0"+V),this.isIntercalaryMonth(N,A)&&(V+="i"),V},monthNames:function(b){if("string"==typeof b){var M=b.match(d);return M?M[0]:""}var w=this._validateYear(b),N=b.month(),A=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(w,N)-1];return this.isIntercalaryMonth(w,N)&&(A="\u95f0"+A),A},monthNamesShort:function(b){if("string"==typeof b){var M=b.match(h);return M?M[0]:""}var w=this._validateYear(b),N=b.month(),A=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(w,N)-1];return this.isIntercalaryMonth(w,N)&&(A="\u95f0"+A),A},parseMonth:function(b,M){b=this._validateYear(b);var w,N=parseInt(M);if(isNaN(N))"\u95f0"===M[0]&&(w=!0,M=M.substring(1)),"\u6708"===M[M.length-1]&&(M=M.substring(0,M.length-1)),N=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(M);else{var A=M[M.length-1];w="i"===A||"I"===A}return this.toMonthIndex(b,N,w)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(b,M){if(b.year&&(b=b.year()),"number"!=typeof b||b<1888||b>2111)throw M.replace(/\{0\}/,this.local.name);return b},toMonthIndex:function(b,M,w){var N=this.intercalaryMonth(b);if(w&&M!==N||M<1||M>12)throw s.local.invalidMonth.replace(/\{0\}/,this.local.name);return N?!w&&M<=N?M-1:M:M-1},toChineseMonth:function(b,M){b.year&&(M=(b=b.year()).month());var w=this.intercalaryMonth(b);if(M<0||M>(w?12:11))throw s.local.invalidMonth.replace(/\{0\}/,this.local.name);return w?M<w?M+1:M:M+1},intercalaryMonth:function(b){return b=this._validateYear(b),u[b-u[0]]>>13},isIntercalaryMonth:function(b,M){b.year&&(M=(b=b.year()).month());var w=this.intercalaryMonth(b);return!!w&&w===M},leapYear:function(b){return 0!==this.intercalaryMonth(b)},weekOfYear:function(b,M,w){var N,A=this._validateYear(b,s.local.invalidyear),V=C[A-C[0]];(N=p.newDate(V>>9&4095,V>>5&15,31&V)).add(4-(N.dayOfWeek()||7),"d");var D=this.toJD(b,M,w)-N.toJD();return 1+Math.floor(D/7)},monthsInYear:function(b){return this.leapYear(b)?13:12},daysInMonth:function(b,M){b.year&&(M=b.month(),b=b.year()),b=this._validateYear(b);var w=u[b-u[0]];if(M>(w>>13?12:11))throw s.local.invalidMonth.replace(/\{0\}/,this.local.name);return w&1<<12-M?30:29},weekDay:function(b,M,w){return(this.dayOfWeek(b,M,w)||7)<6},toJD:function(b,M,w){var N=this._validate(b,V,w,s.local.invalidDate);b=this._validateYear(N.year()),M=N.month(),w=N.day();var A=this.isIntercalaryMonth(b,M),V=this.toChineseMonth(b,M),L=function(H,I,D,E,P){var S,R,G;if("object"==typeof H)R=H,S=I||{};else{var z;if(!("number"==typeof H&&H>=1888&&H<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof I&&I>=1&&I<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof D&&D>=1&&D<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof E?(z=!1,S=E):(z=!!E,S={}),R={year:H,month:I,day:D,isIntercalary:z}}G=R.day-1;var X,W=u[R.year-u[0]],Z=W>>13;X=Z&&(R.month>Z||R.isIntercalary)?R.month:R.month-1;for(var ne=0;ne<X;ne++)G+=W&1<<12-ne?30:29;var te=C[R.year-C[0]],oe=new Date(te>>9&4095,(te>>5&15)-1,(31&te)+G);return S.year=oe.getFullYear(),S.month=1+oe.getMonth(),S.day=oe.getDate(),S}(b,V,w,A);return p.toJD(L.year,L.month,L.day)},fromJD:function(b){var M=p.fromJD(b),w=function(A,V,L,H){var I,D;if("object"==typeof A)I=A,D=V||{};else{if(!("number"==typeof A&&A>=1888&&A<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof V&&V>=1&&V<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof L&&L>=1&&L<=31))throw new Error("Solar day outside range 1 - 31");I={year:A,month:V,day:L},D={}}var E=C[I.year-C[0]];D.year=(I.year<<9|I.month<<5|I.day)>=E?I.year:I.year-1,E=C[D.year-C[0]];var S,R=new Date(E>>9&4095,(E>>5&15)-1,31&E),G=new Date(I.year,I.month-1,I.day);S=Math.round((G-R)/864e5);var z,X=u[D.year-u[0]];for(z=0;z<13;z++){var W=X&1<<12-z?30:29;if(S<W)break;S-=W}var Z=X>>13;return!Z||z<Z?(D.isIntercalary=!1,D.month=1+z):z===Z?(D.isIntercalary=!0,D.month=z):(D.isIntercalary=!1,D.month=z),D.day=1+S,D}(M.year(),M.month(),M.day()),N=this.toMonthIndex(w.year,w.month,w.isIntercalary);return this.newDate(w.year,N,w.day)},fromString:function(b){var M=b.match(l),w=this._validateYear(+M[1]),V=this.toMonthIndex(w,+M[2],!!M[3]);return this.newDate(w,V,+M[4])},add:function(b,M,w){var N=b.year(),A=b.month(),V=this.isIntercalaryMonth(N,A),L=this.toChineseMonth(N,A),H=Object.getPrototypeOf(c.prototype).add.call(this,b,M,w);if("y"===w){var I=H.year(),D=H.month(),E=this.isIntercalaryMonth(I,L),P=this.toMonthIndex(I,L,!(!V||!E));P!==D&&H.month(P)}return H}});var l=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,m=/^\d?\d[iI]?/m,d=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,h=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;s.calendars.chinese=c;var u=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],C=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},{"../main":82,"object-assign":55}],69:[function(v,pe,J){var s=v("../main");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}v("object-assign")(p.prototype=new s.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var l=this._validate(c,this.minMonth,this.minDay,s.local.invalidYear);return(c=l.year()+(l.year()<0?1:0))%4==3||c%4==-1},monthsInYear:function(c){return this._validate(c,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),13},weekOfYear:function(c,l,m){var d=this.newDate(c,l,m);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(c,l){var m=this._validate(c,l,this.minDay,s.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(13===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(c,l,m){return(this.dayOfWeek(c,l,m)||7)<6},toJD:function(c,l,m){var d=this._validate(c,l,m,s.local.invalidDate);return(c=d.year())<0&&c++,d.day()+30*(d.month()-1)+365*(c-1)+Math.floor(c/4)+this.jdEpoch-1},fromJD:function(c){var l=Math.floor(c)+.5-this.jdEpoch,m=Math.floor((l-Math.floor((l+366)/1461))/365)+1;m<=0&&m--,l=Math.floor(c)+.5-this.newDate(m,1,1).toJD();var d=Math.floor(l/30)+1;return this.newDate(m,d,l-30*(d-1)+1)}}),s.calendars.coptic=p},{"../main":82,"object-assign":55}],70:[function(v,pe,J){var s=v("../main");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}v("object-assign")(p.prototype=new s.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(l){return this._validate(l,this.minMonth,this.minDay,s.local.invalidYear),!1},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,s.local.invalidYear),13},daysInYear:function(l){return this._validate(l,this.minMonth,this.minDay,s.local.invalidYear),400},weekOfYear:function(l,m,d){var h=this.newDate(l,m,d);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/8)+1},daysInMonth:function(l,m){var d=this._validate(l,m,this.minDay,s.local.invalidMonth);return this.daysPerMonth[d.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(l,m,d){return(this._validate(l,m,d,s.local.invalidDate).day()+1)%8},weekDay:function(l,m,d){var h=this.dayOfWeek(l,m,d);return h>=2&&h<=6},extraInfo:function(l,m,d){var h=this._validate(l,m,d,s.local.invalidDate);return{century:c[Math.floor((h.year()-1)/100)+1]||""}},toJD:function(l,m,d){var h=this._validate(l,m,d,s.local.invalidDate);return l=h.year()+(h.year()<0?1:0),m=h.month(),(d=h.day())+(m>1?16:0)+(m>2?32*(m-2):0)+400*(l-1)+this.jdEpoch-1},fromJD:function(l){l=Math.floor(l+.5)-Math.floor(this.jdEpoch)-1;var m=Math.floor(l/400)+1;l-=400*(m-1),l+=l>15?16:0;var d=Math.floor(l/32)+1;return this.newDate(m<=0?m-1:m,d,l-32*(d-1)+1)}});var c={20:"Fruitbat",21:"Anchovy"};s.calendars.discworld=p},{"../main":82,"object-assign":55}],71:[function(v,pe,J){var s=v("../main");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}v("object-assign")(p.prototype=new s.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var l=this._validate(c,this.minMonth,this.minDay,s.local.invalidYear);return(c=l.year()+(l.year()<0?1:0))%4==3||c%4==-1},monthsInYear:function(c){return this._validate(c,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),13},weekOfYear:function(c,l,m){var d=this.newDate(c,l,m);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(c,l){var m=this._validate(c,l,this.minDay,s.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(13===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(c,l,m){return(this.dayOfWeek(c,l,m)||7)<6},toJD:function(c,l,m){var d=this._validate(c,l,m,s.local.invalidDate);return(c=d.year())<0&&c++,d.day()+30*(d.month()-1)+365*(c-1)+Math.floor(c/4)+this.jdEpoch-1},fromJD:function(c){var l=Math.floor(c)+.5-this.jdEpoch,m=Math.floor((l-Math.floor((l+366)/1461))/365)+1;m<=0&&m--,l=Math.floor(c)+.5-this.newDate(m,1,1).toJD();var d=Math.floor(l/30)+1;return this.newDate(m,d,l-30*(d-1)+1)}}),s.calendars.ethiopian=p},{"../main":82,"object-assign":55}],72:[function(v,pe,J){var s=v("../main");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}function c(l,m){return l-m*Math.floor(l/m)}v("object-assign")(p.prototype=new s.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var m=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear);return this._leapYear(m.year())},_leapYear:function(l){return c(7*(l=l<0?l+1:l)+1,19)<7},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,s.local.invalidYear),this._leapYear(l.year?l.year():l)?13:12},weekOfYear:function(l,m,d){var h=this.newDate(l,m,d);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInYear:function(l){return l=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear).year(),this.toJD(-1===l?1:l+1,7,1)-this.toJD(l,7,1)},daysInMonth:function(l,m){return l.year&&(m=l.month(),l=l.year()),this._validate(l,m,this.minDay,s.local.invalidMonth),12===m&&this.leapYear(l)||8===m&&5===c(this.daysInYear(l),10)?30:9===m&&3===c(this.daysInYear(l),10)?29:this.daysPerMonth[m-1]},weekDay:function(l,m,d){return 6!==this.dayOfWeek(l,m,d)},extraInfo:function(l,m,d){var h=this._validate(l,m,d,s.local.invalidDate);return{yearType:(this.leapYear(h)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(h)%10-3]}},toJD:function(l,m,d){var h=this._validate(l,m,d,s.local.invalidDate);l=h.year(),m=h.month(),d=h.day();var u=l<=0?l+1:l,C=this.jdEpoch+this._delay1(u)+this._delay2(u)+d+1;if(m<7){for(var b=7;b<=this.monthsInYear(l);b++)C+=this.daysInMonth(l,b);for(b=1;b<m;b++)C+=this.daysInMonth(l,b)}else for(b=7;b<m;b++)C+=this.daysInMonth(l,b);return C},_delay1:function(l){var m=Math.floor((235*l-234)/19),h=29*m+Math.floor((12084+13753*m)/25920);return c(3*(h+1),7)<3&&h++,h},_delay2:function(l){var m=this._delay1(l-1),d=this._delay1(l);return this._delay1(l+1)-d==356?2:d-m==382?1:0},fromJD:function(l){l=Math.floor(l)+.5;for(var m=Math.floor(98496*(l-this.jdEpoch)/35975351)-1;l>=this.toJD(-1===m?1:m+1,7,1);)m++;for(var d=l<this.toJD(m,1,1)?7:1;l>this.toJD(m,d,this.daysInMonth(m,d));)d++;var h=l-this.toJD(m,d,1)+1;return this.newDate(m,d,h)}}),s.calendars.hebrew=p},{"../main":82,"object-assign":55}],73:[function(v,pe,J){var s=v("../main");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}v("object-assign")(p.prototype=new s.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(c){return(11*this._validate(c,this.minMonth,this.minDay,s.local.invalidYear).year()+14)%30<11},weekOfYear:function(c,l,m){var d=this.newDate(c,l,m);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(c){return this.leapYear(c)?355:354},daysInMonth:function(c,l){var m=this._validate(c,l,this.minDay,s.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(12===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(c,l,m){return 5!==this.dayOfWeek(c,l,m)},toJD:function(c,l,m){var d=this._validate(c,l,m,s.local.invalidDate);return c=d.year(),l=d.month(),c=c<=0?c+1:c,(m=d.day())+Math.ceil(29.5*(l-1))+354*(c-1)+Math.floor((3+11*c)/30)+this.jdEpoch-1},fromJD:function(c){c=Math.floor(c)+.5;var l=Math.floor((30*(c-this.jdEpoch)+10646)/10631);l=l<=0?l-1:l;var m=Math.min(12,Math.ceil((c-29-this.toJD(l,1,1))/29.5)+1),d=c-this.toJD(l,m,1)+1;return this.newDate(l,m,d)}}),s.calendars.islamic=p},{"../main":82,"object-assign":55}],74:[function(v,pe,J){var s=v("../main");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}v("object-assign")(p.prototype=new s.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var l=this._validate(c,this.minMonth,this.minDay,s.local.invalidYear);return(c=l.year()<0?l.year()+1:l.year())%4==0},weekOfYear:function(c,l,m){var d=this.newDate(c,l,m);return d.add(4-(d.dayOfWeek()||7),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(c,l){var m=this._validate(c,l,this.minDay,s.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(2===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(c,l,m){return(this.dayOfWeek(c,l,m)||7)<6},toJD:function(c,l,m){var d=this._validate(c,l,m,s.local.invalidDate);return c=d.year(),l=d.month(),m=d.day(),c<0&&c++,l<=2&&(c--,l+=12),Math.floor(365.25*(c+4716))+Math.floor(30.6001*(l+1))+m-1524.5},fromJD:function(c){var l=Math.floor(c+.5)+1524,m=Math.floor((l-122.1)/365.25),d=Math.floor(365.25*m),h=Math.floor((l-d)/30.6001),u=h-Math.floor(h<14?1:13),C=m-Math.floor(u>2?4716:4715),b=l-d-Math.floor(30.6001*h);return C<=0&&C--,this.newDate(C,u,b)}}),s.calendars.julian=p},{"../main":82,"object-assign":55}],75:[function(v,pe,J){var s=v("../main");function p(m){this.local=this.regionalOptions[m||""]||this.regionalOptions[""]}function c(m,d){return m-d*Math.floor(m/d)}function l(m,d){return c(m-1,d)+1}v("object-assign")(p.prototype=new s.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(m){return this._validate(m,this.minMonth,this.minDay,s.local.invalidYear),!1},formatYear:function(m){m=this._validate(m,this.minMonth,this.minDay,s.local.invalidYear).year();var d=Math.floor(m/400);return m%=400,m+=m<0?400:0,d+"."+Math.floor(m/20)+"."+m%20},forYear:function(m){if((m=m.split(".")).length<3)throw"Invalid Mayan year";for(var d=0,h=0;h<m.length;h++){var u=parseInt(m[h],10);if(Math.abs(u)>19||h>0&&u<0)throw"Invalid Mayan year";d=20*d+u}return d},monthsInYear:function(m){return this._validate(m,this.minMonth,this.minDay,s.local.invalidYear),18},weekOfYear:function(m,d,h){return this._validate(m,d,h,s.local.invalidDate),0},daysInYear:function(m){return this._validate(m,this.minMonth,this.minDay,s.local.invalidYear),360},daysInMonth:function(m,d){return this._validate(m,d,this.minDay,s.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(m,d,h){return this._validate(m,d,h,s.local.invalidDate).day()},weekDay:function(m,d,h){return this._validate(m,d,h,s.local.invalidDate),!0},extraInfo:function(m,d,h){var u=this._validate(m,d,h,s.local.invalidDate).toJD(),C=this._toHaab(u),b=this._toTzolkin(u);return{haabMonthName:this.local.haabMonths[C[0]-1],haabMonth:C[0],haabDay:C[1],tzolkinDayName:this.local.tzolkinMonths[b[0]-1],tzolkinDay:b[0],tzolkinTrecena:b[1]}},_toHaab:function(m){var d=c(8+(m-=this.jdEpoch)+340,365);return[Math.floor(d/20)+1,c(d,20)]},_toTzolkin:function(m){return[l(20+(m-=this.jdEpoch),20),l(m+4,13)]},toJD:function(m,d,h){var u=this._validate(m,d,h,s.local.invalidDate);return u.day()+20*u.month()+360*u.year()+this.jdEpoch},fromJD:function(m){m=Math.floor(m)+.5-this.jdEpoch;var d=Math.floor(m/360);m%=360,m+=m<0?360:0;var h=Math.floor(m/20);return this.newDate(d,h,m%20)}}),s.calendars.mayan=p},{"../main":82,"object-assign":55}],76:[function(v,pe,J){var s=v("../main"),g=v("object-assign");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}p.prototype=new s.baseCalendar;var c=s.instance("gregorian");g(p.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var m=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return c.leapYear(m.year()+(m.year()<1?1:0)+1469)},weekOfYear:function(l,m,d){var h=this.newDate(l,m,d);return h.add(1-(h.dayOfWeek()||7),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInMonth:function(l,m){var d=this._validate(l,m,this.minDay,s.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(12===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(l,m,d){return(this.dayOfWeek(l,m,d)||7)<6},toJD:function(l,m,d){var h=this._validate(l,m,d,s.local.invalidMonth);(l=h.year())<0&&l++;for(var u=h.day(),C=1;C<h.month();C++)u+=this.daysPerMonth[C-1];return u+c.toJD(l+1468,3,13)},fromJD:function(l){l=Math.floor(l+.5);for(var m=Math.floor((l-(this.jdEpoch-1))/366);l>=this.toJD(m+1,1,1);)m++;for(var d=l-Math.floor(this.toJD(m,1,1)+.5)+1,h=1;d>this.daysInMonth(m,h);)d-=this.daysInMonth(m,h),h++;return this.newDate(m,h,d)}}),s.calendars.nanakshahi=p},{"../main":82,"object-assign":55}],77:[function(v,pe,J){var s=v("../main");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}v("object-assign")(p.prototype=new s.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(c){return this.daysInYear(c)!==this.daysPerYear},weekOfYear:function(c,l,m){var d=this.newDate(c,l,m);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(c){if(c=this._validate(c,this.minMonth,this.minDay,s.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[c])return this.daysPerYear;for(var l=0,m=this.minMonth;m<=12;m++)l+=this.NEPALI_CALENDAR_DATA[c][m];return l},daysInMonth:function(c,l){return c.year&&(l=c.month(),c=c.year()),this._validate(c,l,this.minDay,s.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[c]?this.daysPerMonth[l-1]:this.NEPALI_CALENDAR_DATA[c][l]},weekDay:function(c,l,m){return 6!==this.dayOfWeek(c,l,m)},toJD:function(c,l,m){var d=this._validate(c,l,m,s.local.invalidDate);c=d.year(),l=d.month(),m=d.day();var h=s.instance(),u=0,C=l,b=c;this._createMissingCalendarData(c);var M=c-(C>9||9===C&&m>=this.NEPALI_CALENDAR_DATA[b][0]?56:57);for(9!==l&&(u=m,C--);9!==C;)C<=0&&(C=12,b--),u+=this.NEPALI_CALENDAR_DATA[b][C],C--;return 9===l?(u+=m-this.NEPALI_CALENDAR_DATA[b][0])<0&&(u+=h.daysInYear(M)):u+=this.NEPALI_CALENDAR_DATA[b][9]-this.NEPALI_CALENDAR_DATA[b][0],h.newDate(M,1,1).add(u,"d").toJD()},fromJD:function(c){var l=s.instance().fromJD(c),m=l.year(),d=l.dayOfYear(),h=m+56;this._createMissingCalendarData(h);for(var u=9,b=this.NEPALI_CALENDAR_DATA[h][u]-this.NEPALI_CALENDAR_DATA[h][0]+1;d>b;)++u>12&&(u=1,h++),b+=this.NEPALI_CALENDAR_DATA[h][u];return this.newDate(h,u,this.NEPALI_CALENDAR_DATA[h][u]-(b-d))},_createMissingCalendarData:function(c){var l=this.daysPerMonth.slice(0);l.unshift(17);for(var m=c-1;m<c+2;m++)void 0===this.NEPALI_CALENDAR_DATA[m]&&(this.NEPALI_CALENDAR_DATA[m]=l)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),s.calendars.nepali=p},{"../main":82,"object-assign":55}],78:[function(v,pe,J){var s=v("../main");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}function c(l,m){return l-m*Math.floor(l/m)}v("object-assign")(p.prototype=new s.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(l){var m=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear);return 682*((m.year()-(m.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(l,m,d){var h=this.newDate(l,m,d);return h.add(-(h.dayOfWeek()+1)%7,"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInMonth:function(l,m){var d=this._validate(l,m,this.minDay,s.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(12===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(l,m,d){return 5!==this.dayOfWeek(l,m,d)},toJD:function(l,m,d){var h=this._validate(l,m,d,s.local.invalidDate);l=h.year(),m=h.month(),d=h.day();var u=l-(l>=0?474:473),C=474+c(u,2820);return d+(m<=7?31*(m-1):30*(m-1)+6)+Math.floor((682*C-110)/2816)+365*(C-1)+1029983*Math.floor(u/2820)+this.jdEpoch-1},fromJD:function(l){var m=(l=Math.floor(l)+.5)-this.toJD(475,1,1),d=Math.floor(m/1029983),h=c(m,1029983),u=2820;if(1029982!==h){var C=Math.floor(h/366),b=c(h,366);u=Math.floor((2134*C+2816*b+2815)/1028522)+C+1}var M=u+2820*d+474,w=l-this.toJD(M=M<=0?M-1:M,1,1)+1,N=w<=186?Math.ceil(w/31):Math.ceil((w-6)/30),A=l-this.toJD(M,N,1)+1;return this.newDate(M,N,A)}}),s.calendars.persian=p,s.calendars.jalali=p},{"../main":82,"object-assign":55}],79:[function(v,pe,J){var s=v("../main"),g=v("object-assign"),p=s.instance();function c(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}g(c.prototype=new s.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(l){var m=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear);return l=this._t2gYear(m.year()),p.leapYear(l)},weekOfYear:function(l,m,d){var h=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear);return l=this._t2gYear(h.year()),p.weekOfYear(l,h.month(),h.day())},daysInMonth:function(l,m){var d=this._validate(l,m,this.minDay,s.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(2===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(l,m,d){return(this.dayOfWeek(l,m,d)||7)<6},toJD:function(l,m,d){var h=this._validate(l,m,d,s.local.invalidDate);return l=this._t2gYear(h.year()),p.toJD(l,h.month(),h.day())},fromJD:function(l){var m=p.fromJD(l),d=this._g2tYear(m.year());return this.newDate(d,m.month(),m.day())},_t2gYear:function(l){return l+this.yearsOffset+(l>=-this.yearsOffset&&l<=-1?1:0)},_g2tYear:function(l){return l-this.yearsOffset-(l>=1&&l<=this.yearsOffset?1:0)}}),s.calendars.taiwan=c},{"../main":82,"object-assign":55}],80:[function(v,pe,J){var s=v("../main"),g=v("object-assign"),p=s.instance();function c(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}g(c.prototype=new s.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var m=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear);return l=this._t2gYear(m.year()),p.leapYear(l)},weekOfYear:function(l,m,d){var h=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear);return l=this._t2gYear(h.year()),p.weekOfYear(l,h.month(),h.day())},daysInMonth:function(l,m){var d=this._validate(l,m,this.minDay,s.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(2===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(l,m,d){return(this.dayOfWeek(l,m,d)||7)<6},toJD:function(l,m,d){var h=this._validate(l,m,d,s.local.invalidDate);return l=this._t2gYear(h.year()),p.toJD(l,h.month(),h.day())},fromJD:function(l){var m=p.fromJD(l),d=this._g2tYear(m.year());return this.newDate(d,m.month(),m.day())},_t2gYear:function(l){return l-this.yearsOffset-(l>=1&&l<=this.yearsOffset?1:0)},_g2tYear:function(l){return l+this.yearsOffset+(l>=-this.yearsOffset&&l<=-1?1:0)}}),s.calendars.thai=c},{"../main":82,"object-assign":55}],81:[function(v,pe,J){var s=v("../main");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}v("object-assign")(p.prototype=new s.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(l){var m=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear);return 355===this.daysInYear(m.year())},weekOfYear:function(l,m,d){var h=this.newDate(l,m,d);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInYear:function(l){for(var m=0,d=1;d<=12;d++)m+=this.daysInMonth(l,d);return m},daysInMonth:function(l,m){for(var d=this._validate(l,m,this.minDay,s.local.invalidMonth).toJD()-24e5+.5,h=0,u=0;u<c.length;u++){if(c[u]>d)return c[h]-c[h-1];h++}return 30},weekDay:function(l,m,d){return 5!==this.dayOfWeek(l,m,d)},toJD:function(l,m,d){var h=this._validate(l,m,d,s.local.invalidDate),u=12*(h.year()-1)+h.month()-15292;return h.day()+c[u-1]-1+24e5-.5},fromJD:function(l){for(var m=l-24e5+.5,d=0,h=0;h<c.length&&!(c[h]>m);h++)d++;var u=d+15292,C=Math.floor((u-1)/12);return this.newDate(C+1,u-12*C,m-c[d-1]+1)},isValid:function(l,m,d){var h=s.baseCalendar.prototype.isValid.apply(this,arguments);return h&&(h=(l=null!=l.year?l.year:l)>=1276&&l<=1500),h},_validate:function(l,m,d,h){var u=s.baseCalendar.prototype._validate.apply(this,arguments);if(u.year<1276||u.year>1500)throw h.replace(/\{0\}/,this.local.name);return u}}),s.calendars.ummalqura=p;var c=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},{"../main":82,"object-assign":55}],82:[function(v,pe,J){var s=v("object-assign");function g(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function p(h,u,C,b){if(this._calendar=h,this._year=u,this._month=C,this._day=b,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function c(h,u){return"000000".substring(0,u-(h=""+h).length)+h}function l(){this.shortYearCutoff="+10"}function m(h){this.local=this.regionalOptions[h]||this.regionalOptions[""]}s(g.prototype,{instance:function(h,u){h=(h||"gregorian").toLowerCase();var C=this._localCals[h+"-"+(u=u||"")];if(!C&&this.calendars[h]&&(C=new this.calendars[h](u),this._localCals[h+"-"+u]=C),!C)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,h);return C},newDate:function(h,u,C,b,M){return(b=(null!=h&&h.year?h.calendar():"string"==typeof b?this.instance(b,M):b)||this.instance()).newDate(h,u,C)},substituteDigits:function(h){return function(u){return(u+"").replace(/[0-9]/g,function(C){return h[C]})}},substituteChineseDigits:function(h,u){return function(C){for(var b="",M=0;C>0;){var w=C%10;b=(0===w?"":h[w]+u[M])+b,M++,C=Math.floor(C/10)}return 0===b.indexOf(h[1]+u[1])&&(b=b.substr(1)),b||h[0]}}}),s(p.prototype,{newDate:function(h,u,C){return this._calendar.newDate(h??this,u,C)},year:function(h){return 0===arguments.length?this._year:this.set(h,"y")},month:function(h){return 0===arguments.length?this._month:this.set(h,"m")},day:function(h){return 0===arguments.length?this._day:this.set(h,"d")},date:function(h,u,C){if(!this._calendar.isValid(h,u,C))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=h,this._month=u,this._day=C,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(h,u){return this._calendar.add(this,h,u)},set:function(h,u){return this._calendar.set(this,h,u)},compareTo:function(h){if(this._calendar.name!==h._calendar.name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,h._calendar.local.name);var u=this._year!==h._year?this._year-h._year:this._month!==h._month?this.monthOfYear()-h.monthOfYear():this._day-h._day;return 0===u?0:u<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(h){return this._calendar.fromJD(h)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(h){return this._calendar.fromJSDate(h)},toString:function(){return(this.year()<0?"-":"")+c(Math.abs(this.year()),4)+"-"+c(this.month(),2)+"-"+c(this.day(),2)}}),s(l.prototype,{_validateLevel:0,newDate:function(h,u,C){return null==h?this.today():(h.year&&(this._validate(h,u,C,d.local.invalidDate||d.regionalOptions[""].invalidDate),C=h.day(),u=h.month(),h=h.year()),new p(this,h,u,C))},today:function(){return this.fromJSDate(new Date)},epoch:function(h){return this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(h){var u=this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return(u.year()<0?"-":"")+c(Math.abs(u.year()),4)},monthsInYear:function(h){return this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),12},monthOfYear:function(h,u){var C=this._validate(h,u,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return(C.month()+this.monthsInYear(C)-this.firstMonth)%this.monthsInYear(C)+this.minMonth},fromMonthOfYear:function(h,u){var C=(u+this.firstMonth-2*this.minMonth)%this.monthsInYear(h)+this.minMonth;return this._validate(h,C,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth),C},daysInYear:function(h){var u=this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return this.leapYear(u)?366:365},dayOfYear:function(h,u,C){var b=this._validate(h,u,C,d.local.invalidDate||d.regionalOptions[""].invalidDate);return b.toJD()-this.newDate(b.year(),this.fromMonthOfYear(b.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(h,u,C){var b=this._validate(h,u,C,d.local.invalidDate||d.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(b))+2)%this.daysInWeek()},extraInfo:function(h,u,C){return this._validate(h,u,C,d.local.invalidDate||d.regionalOptions[""].invalidDate),{}},add:function(h,u,C){return this._validate(h,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate),this._correctAdd(h,this._add(h,u,C),u,C)},_add:function(h,u,C){if(this._validateLevel++,"d"===C||"w"===C){var b=h.toJD()+u*("w"===C?this.daysInWeek():1),M=h.calendar().fromJD(b);return this._validateLevel--,[M.year(),M.month(),M.day()]}try{var w=h.year()+("y"===C?u:0),N=h.monthOfYear()+("m"===C?u:0);M=h.day(),"y"===C?(h.month()!==this.fromMonthOfYear(w,N)&&(N=this.newDate(w,h.month(),this.minDay).monthOfYear()),N=Math.min(N,this.monthsInYear(w)),M=Math.min(M,this.daysInMonth(w,this.fromMonthOfYear(w,N)))):"m"===C&&(function(V){for(;N<V.minMonth;)w--,N+=V.monthsInYear(w);for(var L=V.monthsInYear(w);N>L-1+V.minMonth;)w++,N-=L,L=V.monthsInYear(w)}(this),M=Math.min(M,this.daysInMonth(w,this.fromMonthOfYear(w,N))));var A=[w,this.fromMonthOfYear(w,N),M];return this._validateLevel--,A}catch(V){throw this._validateLevel--,V}},_correctAdd:function(h,u,C,b){if(!(this.hasYearZero||"y"!==b&&"m"!==b||0!==u[0]&&h.year()>0==u[0]>0)){var M={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[b];u=this._add(h,C*M[0]+(C<0?-1:1)*M[1],M[2])}return h.date(u[0],u[1],u[2])},set:function(h,u,C){this._validate(h,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate);var b="y"===C?u:h.year(),M="m"===C?u:h.month(),w="d"===C?u:h.day();return"y"!==C&&"m"!==C||(w=Math.min(w,this.daysInMonth(b,M))),h.date(b,M,w)},isValid:function(h,u,C){this._validateLevel++;var b=this.hasYearZero||0!==h;if(b){var M=this.newDate(h,u,this.minDay);b=u>=this.minMonth&&u-this.minMonth<this.monthsInYear(M)&&C>=this.minDay&&C-this.minDay<this.daysInMonth(M)}return this._validateLevel--,b},toJSDate:function(h,u,C){var b=this._validate(h,u,C,d.local.invalidDate||d.regionalOptions[""].invalidDate);return d.instance().fromJD(this.toJD(b)).toJSDate()},fromJSDate:function(h){return this.fromJD(d.instance().fromJSDate(h).toJD())},_validate:function(h,u,C,b){if(h.year){if(0===this._validateLevel&&this.name!==h.calendar().name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,h.calendar().local.name);return h}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(h,u,C))throw b.replace(/\{0\}/,this.local.name);var M=this.newDate(h,u,C);return this._validateLevel--,M}catch(w){throw this._validateLevel--,w}}}),s(m.prototype=new l,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var u=this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return(h=u.year()+(u.year()<0?1:0))%4==0&&(h%100!=0||h%400==0)},weekOfYear:function(h,u,C){var b=this.newDate(h,u,C);return b.add(4-(b.dayOfWeek()||7),"d"),Math.floor((b.dayOfYear()-1)/7)+1},daysInMonth:function(h,u){var C=this._validate(h,u,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return this.daysPerMonth[C.month()-1]+(2===C.month()&&this.leapYear(C.year())?1:0)},weekDay:function(h,u,C){return(this.dayOfWeek(h,u,C)||7)<6},toJD:function(h,u,C){var b=this._validate(h,u,C,d.local.invalidDate||d.regionalOptions[""].invalidDate);h=b.year(),u=b.month(),C=b.day(),h<0&&h++,u<3&&(u+=12,h--);var M=Math.floor(h/100),w=2-M+Math.floor(M/4);return Math.floor(365.25*(h+4716))+Math.floor(30.6001*(u+1))+C+w-1524.5},fromJD:function(h){var u=Math.floor(h+.5),C=Math.floor((u-1867216.25)/36524.25),b=1524+(C=u+1+C-Math.floor(C/4)),M=Math.floor((b-122.1)/365.25),w=Math.floor(365.25*M),N=Math.floor((b-w)/30.6001),A=b-w-Math.floor(30.6001*N),V=N-(N>13.5?13:1),L=M-(V>2.5?4716:4715);return L<=0&&L--,this.newDate(L,V,A)},toJSDate:function(h,u,C){var b=this._validate(h,u,C,d.local.invalidDate||d.regionalOptions[""].invalidDate),M=new Date(b.year(),b.month()-1,b.day());return M.setHours(0),M.setMinutes(0),M.setSeconds(0),M.setMilliseconds(0),M.setHours(M.getHours()>12?M.getHours()+2:0),M},fromJSDate:function(h){return this.newDate(h.getFullYear(),h.getMonth()+1,h.getDate())}});var d=pe.exports=new g;d.cdate=p,d.baseCalendar=l,d.calendars.gregorian=m},{"object-assign":55}],83:[function(v,pe,J){var s=v("object-assign"),g=v("./main");s(g.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),g.local=g.regionalOptions[""],s(g.cdate.prototype,{formatDate:function(p,c){return"string"!=typeof p&&(c=p,p=""),this._calendar.formatDate(p||"",this,c)}}),s(g.baseCalendar.prototype,{UNIX_EPOCH:g.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:g.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(p,c,l){if("string"!=typeof p&&(l=c,c=p,p=""),!c)return"";if(c.calendar()!==this)throw g.local.invalidFormat||g.regionalOptions[""].invalidFormat;p=p||this.local.dateFormat;for(var d,h,u,C=(l=l||{}).dayNamesShort||this.local.dayNamesShort,b=l.dayNames||this.local.dayNames,M=l.monthNumbers||this.local.monthNumbers,w=l.monthNamesShort||this.local.monthNamesShort,N=l.monthNames||this.local.monthNames,A=function(G,z){for(var X=1;R+X<p.length&&p.charAt(R+X)===G;)X++;return R+=X-1,Math.floor(X/(z||1))>1},V=function(G,z,X,W){var Z=""+z;if(A(G,W))for(;Z.length<X;)Z="0"+Z;return Z},L=this,I=function(G,z){return z?"function"==typeof N?N.call(L,G):N[G.month()-L.minMonth]:"function"==typeof w?w.call(L,G):w[G.month()-L.minMonth]},D=this.local.digits,E=function(G){return l.localNumbers&&D?D(G):G},P="",S=!1,R=0;R<p.length;R++)if(S)"'"!==p.charAt(R)||A("'")?P+=p.charAt(R):S=!1;else switch(p.charAt(R)){case"d":P+=E(V("d",c.day(),2));break;case"D":P+=("D",d=c.dayOfWeek(),h=C,u=b,A("D")?u[d]:h[d]);break;case"o":P+=V("o",c.dayOfYear(),3);break;case"w":P+=V("w",c.weekOfYear(),2);break;case"m":P+=(G=c,"function"==typeof M?M.call(L,G,A("m")):E(V("m",G.month(),2)));break;case"M":P+=I(c,A("M"));break;case"y":P+=A("y",2)?c.year():(c.year()%100<10?"0":"")+c.year()%100;break;case"Y":A("Y",2),P+=c.formatYear();break;case"J":P+=c.toJD();break;case"@":P+=(c.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":P+=(c.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":A("'")?P+="'":S=!0;break;default:P+=p.charAt(R)}var G;return P},parseDate:function(p,c,l){if(null==c)throw g.local.invalidArguments||g.regionalOptions[""].invalidArguments;if(""===(c="object"==typeof c?c.toString():c+""))return null;p=p||this.local.dateFormat;var m=(l=l||{}).shortYearCutoff||this.shortYearCutoff;m="string"!=typeof m?m:this.today().year()%100+parseInt(m,10);for(var d=l.dayNamesShort||this.local.dayNamesShort,h=l.dayNames||this.local.dayNames,u=l.parseMonth||this.local.parseMonth,C=l.monthNumbers||this.local.monthNumbers,b=l.monthNamesShort||this.local.monthNamesShort,M=l.monthNames||this.local.monthNames,w=-1,N=-1,A=-1,V=-1,L=-1,H=!1,I=!1,D=function(te,oe){for(var Ce=1;W+Ce<p.length&&p.charAt(W+Ce)===te;)Ce++;return W+=Ce-1,Math.floor(Ce/(oe||1))>1},E=function(te,oe){var Ce=D(te,oe),ie=[2,3,Ce?4:2,Ce?4:2,10,11,20]["oyYJ@!".indexOf(te)+1],Q=new RegExp("^-?\\d{1,"+ie+"}"),le=c.substring(X).match(Q);if(!le)throw(g.local.missingNumberAt||g.regionalOptions[""].missingNumberAt).replace(/\{0\}/,X);return X+=le[0].length,parseInt(le[0],10)},P=this,S=function(){if("function"==typeof C){D("m");var te=C.call(P,c.substring(X));return X+=te.length,te}return E("m")},R=function(te,oe,Ce,ie){for(var Q=D(te,ie)?Ce:oe,le=0;le<Q.length;le++)if(c.substr(X,Q[le].length).toLowerCase()===Q[le].toLowerCase())return X+=Q[le].length,le+P.minMonth;throw(g.local.unknownNameAt||g.regionalOptions[""].unknownNameAt).replace(/\{0\}/,X)},G=function(){if("function"==typeof M){var te=D("M")?M.call(P,c.substring(X)):b.call(P,c.substring(X));return X+=te.length,te}return R("M",b,M)},z=function(){if(c.charAt(X)!==p.charAt(W))throw(g.local.unexpectedLiteralAt||g.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,X);X++},X=0,W=0;W<p.length;W++)if(I)"'"!==p.charAt(W)||D("'")?z():I=!1;else switch(p.charAt(W)){case"d":V=E("d");break;case"D":R("D",d,h);break;case"o":L=E("o");break;case"w":E("w");break;case"m":A=S();break;case"M":A=G();break;case"y":var Z=W;H=!D("y",2),W=Z,N=E("y",2);break;case"Y":N=E("Y",2);break;case"J":w=E("J")+.5,"."===c.charAt(X)&&(X++,E("J"));break;case"@":w=E("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":w=E("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":X=c.length;break;case"'":D("'")?z():I=!0;break;default:z()}if(X<c.length)throw g.local.unexpectedText||g.regionalOptions[""].unexpectedText;if(-1===N?N=this.today().year():N<100&&H&&(N+=-1===m?1900:this.today().year()-this.today().year()%100-(N<=m?0:100)),"string"==typeof A&&(A=u.call(this,N,A)),L>-1){V=L;for(var ne=this.daysInMonth(N,A=1);V>ne;ne=this.daysInMonth(N,A))A++,V-=ne}return w>-1?this.fromJD(w):this.newDate(N,A,V)},determineDate:function(p,c,l,m,d){l&&"object"!=typeof l&&(d=m,m=l,l=null),"string"!=typeof m&&(d=m,m="");var h=this;return c=c?c.newDate():null,null==p?c:"string"==typeof p?function(u){try{return h.parseDate(m,u,d)}catch{}for(var C=((u=u.toLowerCase()).match(/^c/)&&l?l.newDate():null)||h.today(),b=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,M=b.exec(u);M;)C.add(parseInt(M[1],10),M[2]||"d"),M=b.exec(u);return C}(p):"number"==typeof p?isNaN(p)||p===1/0||p===-1/0?c:h.today().add(p,"d"):h.newDate(p)}})},{"./main":82,"object-assign":55}],84:[function(v,pe,J){"use strict";pe.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],85:[function(v,pe,J){"use strict";var s=v("./arrow_paths"),g=v("../../plots/font_attributes"),p=v("../../plots/cartesian/constants"),c=v("../../plot_api/plot_template").templatedArray;v("../../constants/axis_placeable_objects"),pe.exports=c("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:g({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:s.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:s.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",p.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",p.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",p.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",p.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:g({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/font_attributes":310,"./arrow_paths":84}],86:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plots/cartesian/axes"),p=v("./draw").draw;function c(m){s.filterVisible(m._fullLayout.annotations).forEach(function(h){var u=g.getFromId(m,h.xref),C=g.getFromId(m,h.yref),b=g.getRefType(h.xref),M=g.getRefType(h.yref);h._extremes={},"range"===b&&l(h,u),"range"===M&&l(h,C)})}function l(m,d){var h,u=d._id,C=u.charAt(0),b=m[C],M=m["a"+C],A=m["_"+C+"padplus"],V=m["_"+C+"padminus"],L={x:1,y:-1}[C]*m[C+"shift"],H=3*m.arrowsize*m.arrowwidth||0,I=H+L,D=H-L,E=3*m.startarrowsize*m.arrowwidth||0,P=E+L,S=E-L;if(m["a"+C+"ref"]===m[C+"ref"]){var R=g.findExtremes(d,[d.r2c(b)],{ppadplus:I,ppadminus:D}),G=g.findExtremes(d,[d.r2c(M)],{ppadplus:Math.max(A,P),ppadminus:Math.max(V,S)});h={min:[R.min[0],G.min[0]],max:[R.max[0],G.max[0]]}}else P=M?P+M:P,S=M?S-M:S,h=g.findExtremes(d,[d.r2c(b)],{ppadplus:Math.max(A,I,P),ppadminus:Math.max(V,D,S)});m._extremes[u]=h}pe.exports=function(m){if(s.filterVisible(m._fullLayout.annotations).length&&m._fullData.length)return s.syncOrAsync([p,c],m)}},{"../../lib":232,"../../plots/cartesian/axes":279,"./draw":91}],87:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../registry"),p=v("../../plot_api/plot_template").arrayEditor;function c(m,d){var h,u,C,b,M,w,N,A=m._fullLayout.annotations,V=[],L=[],H=[],I=(d||[]).length;for(h=0;h<A.length;h++)if(b=(C=A[h]).clicktoshow){for(u=0;u<I;u++)if(w=(M=d[u]).xaxis,N=M.yaxis,w._id===C.xref&&N._id===C.yref&&w.d2r(M.x)===l(C._xclick,w)&&N.d2r(M.y)===l(C._yclick,N)){(C.visible?"onout"===b?L:H:V).push(h);break}u===I&&C.visible&&"onout"===b&&L.push(h)}return{on:V,off:L,explicitOff:H}}function l(m,d){return"log"===d.type?d.l2r(m):d.d2r(m)}pe.exports={hasClickToShow:function(m,d){var h=c(m,d);return h.on.length>0||h.explicitOff.length>0},onClick:function(m,d){var h,u,C=c(m,d),b=C.on,M=C.off.concat(C.explicitOff),w={},N=m._fullLayout.annotations;if(b.length||M.length){for(h=0;h<b.length;h++)(u=p(m.layout,"annotations",N[b[h]])).modifyItem("visible",!0),s.extendFlat(w,u.getUpdateObj());for(h=0;h<M.length;h++)(u=p(m.layout,"annotations",N[M[h]])).modifyItem("visible",!1),s.extendFlat(w,u.getUpdateObj());return g.call("update",m,{},w)}}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318}],88:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../color");pe.exports=function(p,c,l,m){m("opacity");var d=m("bgcolor"),h=m("bordercolor"),u=g.opacity(h);m("borderpad");var C=m("borderwidth"),b=m("showarrow");if(m("text",b?" ":l._dfltTitle.annotation),m("textangle"),s.coerceFont(m,"font",l.font),m("width"),m("align"),m("height")&&m("valign"),b){var M,w,N=m("arrowside");-1!==N.indexOf("end")&&(M=m("arrowhead"),w=m("arrowsize")),-1!==N.indexOf("start")&&(m("startarrowhead",M),m("startarrowsize",w)),m("arrowcolor",u?c.bordercolor:g.defaultLine),m("arrowwidth",2*(u&&C||1)),m("standoff"),m("startstandoff")}var A=m("hovertext"),V=l.hoverlabel||{};if(A){var L=m("hoverlabel.bgcolor",V.bgcolor||(g.opacity(d)?g.rgb(d):g.defaultLine)),H=m("hoverlabel.bordercolor",V.bordercolor||g.contrast(L));s.coerceFont(m,"hoverlabel.font",{family:V.font.family,size:V.font.size,color:V.font.color||H})}m("captureevents",!!A)}},{"../../lib":232,"../color":102}],89:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib/to_log_range");pe.exports=function(p,c,l,m){c=c||{};var d="log"===l&&"linear"===c.type;if(d||"linear"===l&&"log"===c.type)for(var u,C,b=p._fullLayout.annotations,M=c._id.charAt(0),w=0;w<b.length;w++)C="annotations["+w+"].",(u=b[w])[M+"ref"]===c._id&&N(M),u["a"+M+"ref"]===c._id&&N("a"+M);function N(A){var V=u[A],L=null;L=d?g(V,c.range):Math.pow(10,V),s(L)||(L=null),m(C+A,L)}}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],90:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plots/cartesian/axes"),p=v("../../plots/array_container_defaults"),c=v("./common_defaults"),l=v("./attributes");function m(d,h,u){function C(G,z){return s.coerce(d,h,l,G,z)}var b=C("visible"),M=C("clicktoshow");if(b||M){c(d,h,u,C);for(var w=h.showarrow,N=["x","y"],A=[-10,-30],V={_fullLayout:u},L=0;L<2;L++){var H=N[L],I=g.coerceRef(d,h,V,H,"","paper");if("paper"!==I&&g.getFromId(V,I)._annIndices.push(h._index),g.coercePosition(h,V,C,I,H,.5),w){var D="a"+H,E=g.coerceRef(d,h,V,D,"pixel",["pixel","paper"]);"pixel"!==E&&E!==I&&(E=h[D]="pixel"),g.coercePosition(h,V,C,E,D,"pixel"===E?A[L]:.4)}C(H+"anchor"),C(H+"shift")}if(s.noneOrAll(d,h,["x","y"]),w&&s.noneOrAll(d,h,["ax","ay"]),M){var S=C("xclick"),R=C("yclick");h._xclick=void 0===S?h.x:g.cleanPosition(S,V,h.xref),h._yclick=void 0===R?h.y:g.cleanPosition(R,V,h.yref)}}}pe.exports=function(d,h){p(d,h,{name:"annotations",handleItemDefaults:m})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":85,"./common_defaults":88}],91:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../registry"),p=v("../../plots/plots"),c=v("../../lib"),l=c.strTranslate,m=v("../../plots/cartesian/axes"),d=v("../color"),h=v("../drawing"),u=v("../fx"),C=v("../../lib/svg_text_utils"),b=v("../../lib/setcursor"),M=v("../dragelement"),w=v("../../plot_api/plot_template").arrayEditor,N=v("./draw_arrow_head");function A(H,I){var D=H._fullLayout.annotations[I]||{},E=m.getFromId(H,D.xref),P=m.getFromId(H,D.yref);E&&E.setScale(),P&&P.setScale(),L(H,D,I,!1,E,P)}function V(H,I,D,E,P){var S=P[D],R=P[D+"ref"],G=-1!==D.indexOf("y"),z="domain"===m.getRefType(R),X=G?E.h:E.w;return H?z?S+(G?-I:I)/H._length:H.p2r(H.r2p(S)+I):S+(G?-I:I)/X}function L(H,I,D,E,P,S){var R,G,z=H._fullLayout,X=H._fullLayout._size,W=H._context.edits;E?(R="annotation-"+E,G=E+".annotations"):(R="annotation",G="annotations");var Z=w(H.layout,G,I),ne=Z.modifyBase,te=Z.modifyItem,oe=Z.getUpdateObj;z._infolayer.selectAll("."+R+'[data-index="'+D+'"]').remove();var Ce="clip"+z._uid+"_ann"+D;if(I._input&&!1!==I.visible){var ie={x:{},y:{}},Q=+I.textangle||0,le=z._infolayer.append("g").classed(R,!0).attr("data-index",String(D)).style("opacity",I.opacity),j=le.append("g").classed("annotation-text-g",!0),$=W[I.showarrow?"annotationTail":"annotationPosition"],se=I.captureevents||W.annotationText||$,ee=j.append("g").style("pointer-events",se?"all":null).call(b,"pointer").on("click",function(){H._dragging=!1,H.emit("plotly_clickannotation",be(s.event))});I.hovertext&&ee.on("mouseover",function(){var Oe=I.hoverlabel,Re=Oe.font,tt=this.getBoundingClientRect(),Ke=H.getBoundingClientRect();u.loneHover({x0:tt.left-Ke.left,x1:tt.right-Ke.left,y:(tt.top+tt.bottom)/2-Ke.top,text:I.hovertext,color:Oe.bgcolor,borderColor:Oe.bordercolor,fontFamily:Re.family,fontSize:Re.size,fontColor:Re.color},{container:z._hoverlayer.node(),outerContainer:z._paper.node(),gd:H})}).on("mouseout",function(){u.loneUnhover(z._hoverlayer.node())});var F=I.borderwidth,Y=F+I.borderpad,B=ee.append("rect").attr("class","bg").style("stroke-width",F+"px").call(d.stroke,I.bordercolor).call(d.fill,I.bgcolor),ae=I.width||I.height,ue=z._topclips.selectAll("#"+Ce).data(ae?[0]:[]);ue.enter().append("clipPath").classed("annclip",!0).attr("id",Ce).append("rect"),ue.exit().remove();var fe=I.font,he=z._meta?c.templateString(I.text,z._meta):I.text,xe=ee.append("text").classed("annotation-text",!0).text(he);W.annotationText?xe.call(C.makeEditable,{delegate:ee,gd:H}).call(Ve).on("edit",function(Oe){I.text=Oe,this.call(Ve),te("text",Oe),P&&P.autorange&&ne(P._name+".autorange",!0),S&&S.autorange&&ne(S._name+".autorange",!0),g.call("_guiRelayout",H,oe())}):xe.call(Ve)}else s.selectAll("#"+Ce).remove();function be(Oe){var Re={index:D,annotation:I._input,fullAnnotation:I,event:Oe};return E&&(Re.subplotId=E),Re}function Ve(Oe){return Oe.call(h.font,fe).attr({"text-anchor":{left:"start",right:"end"}[I.align]||"middle"}),C.convertToTspans(Oe,H,Ae),Oe}function Ae(){var Oe=xe.selectAll("a");1===Oe.size()&&Oe.text()===xe.text()&&ee.insert("a",":first-child").attr({"xlink:xlink:href":Oe.attr("xlink:href"),"xlink:xlink:show":Oe.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(B.node());var Re=ee.select(".annotation-text-math-group"),tt=!Re.empty(),Ke=h.bBox((tt?Re:xe).node()),$e=Ke.width,Me=Ke.height,ve=I.width||$e,Se=I.height||Me,Te=Math.round(ve+2*Y),qe=Math.round(Se+2*Y);function Ee(Dt,$t){return"auto"===$t&&($t=Dt<1/3?"left":Dt>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[$t]}for(var Ie=!1,Qe=["x","y"],nt=0;nt<Qe.length;nt++){var Ye,rt,dt,Xe,mt,_t=Qe[nt],yt=I[_t+"ref"]||_t,Ot=I["a"+_t+"ref"],bt={x:P,y:S}[_t],Fe=(Q+("x"===_t?0:-90))*Math.PI/180,Ue=Te*Math.cos(Fe),gt=qe*Math.sin(Fe),Pt=Math.abs(Ue)+Math.abs(gt),Qt=I[_t+"anchor"],en=I[_t+"shift"]*("x"===_t?1:-1),Xt=ie[_t],Wt=m.getRefType(yt);if(bt&&"domain"!==Wt){var Nt=bt.r2fraction(I[_t]);(Nt<0||Nt>1)&&(Ot===yt?((Nt=bt.r2fraction(I["a"+_t]))<0||Nt>1)&&(Ie=!0):Ie=!0),Ye=bt._offset+bt.r2p(I[_t]),Xe=.5}else{var ge="domain"===Wt;"x"===_t?(dt=I[_t],Ye=ge?bt._offset+bt._length*dt:Ye=X.l+X.w*dt):(dt=1-I[_t],Ye=ge?bt._offset+bt._length*dt:Ye=X.t+X.h*dt),Xe=I.showarrow?.5:dt}if(I.showarrow){Xt.head=Ye;var _e=I["a"+_t];if(mt=Ue*Ee(.5,I.xanchor)-gt*Ee(.5,I.yanchor),Ot===yt){var We=m.getRefType(Ot);"domain"===We?("y"===_t&&(_e=1-_e),Xt.tail=bt._offset+bt._length*_e):Xt.tail="paper"===We?"y"===_t?X.t+X.h*(_e=1-_e):X.l+X.w*_e:bt._offset+bt.r2p(_e),rt=mt}else Xt.tail=Ye+_e,rt=mt+_e;Xt.text=Xt.tail+mt;var Je=z["x"===_t?"width":"height"];if("paper"===yt&&(Xt.head=c.constrain(Xt.head,1,Je-1)),"pixel"===Ot){var ft=-Math.max(Xt.tail-3,Xt.text),st=Math.min(Xt.tail+3,Xt.text)-Je;ft>0?(Xt.tail+=ft,Xt.text+=ft):st>0&&(Xt.tail-=st,Xt.text-=st)}Xt.tail+=en,Xt.head+=en}else rt=mt=Pt*Ee(Xe,Qt),Xt.text=Ye+mt;Xt.text+=en,mt+=en,I["_"+_t+"padplus"]=Pt/2+(rt+=en),I["_"+_t+"padminus"]=Pt/2-rt,I["_"+_t+"size"]=Pt,I["_"+_t+"shift"]=mt}if(Ie)ee.remove();else{var et=0,ut=0;"left"!==I.align&&(et=(ve-$e)*("center"===I.align?.5:1)),"top"!==I.valign&&(ut=(Se-Me)*("middle"===I.valign?.5:1)),tt?Re.select("svg").attr({x:Y+et-1,y:Y+ut}).call(h.setClipUrl,ae?Ce:null,H):xe.call(C.positionText,Y+et-Ke.left,Y+ut-Ke.top).call(h.setClipUrl,ae?Ce:null,H),ue.select("rect").call(h.setRect,Y,Y,ve,Se),B.call(h.setRect,F/2,F/2,Te-F,qe-F),ee.call(h.setTranslate,Math.round(ie.x.text-Te/2),Math.round(ie.y.text-qe/2)),j.attr({transform:"rotate("+Q+","+ie.x.text+","+ie.y.text+")"});var Bt,rn=function(Dt,$t){le.selectAll(".annotation-arrow-g").remove();var fn=ie.x.head,At=ie.y.head,Mt=ie.x.tail+Dt,an=ie.y.tail+$t,Kt=ie.x.text+Dt,Ut=ie.y.text+$t,Jt=c.rotationXYMatrix(Q,Kt,Ut),Ft=c.apply2DTransform(Jt),Mn=c.apply2DTransform2(Jt),_n=+B.attr("width"),wn=+B.attr("height"),Ln=Kt-.5*_n,$n=Ln+_n,Dn=Ut-.5*wn,Zt=Dn+wn,It=[[Ln,Dn,Ln,Zt],[Ln,Zt,$n,Zt],[$n,Zt,$n,Dn],[$n,Dn,Ln,Dn]].map(Mn);if(!It.reduce(function(Wn,Fn){return Wn^!!c.segmentsIntersect(fn,At,fn+1e6,At+1e6,Fn[0],Fn[1],Fn[2],Fn[3])},!1)){It.forEach(function(Wn){var Fn=c.segmentsIntersect(Mt,an,fn,At,Wn[0],Wn[1],Wn[2],Wn[3]);Fn&&(Mt=Fn.x,an=Fn.y)});var tn=I.arrowwidth,pn=I.arrowcolor,cn=I.arrowside,Pn=le.append("g").style({opacity:d.opacity(pn)}).classed("annotation-arrow-g",!0),Vn=Pn.append("path").attr("d","M"+Mt+","+an+"L"+fn+","+At).style("stroke-width",tn+"px").call(d.stroke,d.rgb(pn));if(N(Vn,cn,I),W.annotationPosition&&Vn.node().parentNode&&!E){var vn=fn,n2=At;if(I.standoff){var h2=Math.sqrt(Math.pow(fn-Mt,2)+Math.pow(At-an,2));vn+=I.standoff*(Mt-fn)/h2,n2+=I.standoff*(an-At)/h2}var g2,u2,qt=Pn.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Mt-vn)+","+(an-n2),transform:l(vn,n2)}).style("stroke-width",tn+6+"px").call(d.stroke,"rgba(0,0,0,0)").call(d.fill,"rgba(0,0,0,0)");M.init({element:qt.node(),gd:H,prepFn:function(){var Wn=h.getTranslate(ee);g2=Wn.x,u2=Wn.y,P&&P.autorange&&ne(P._name+".autorange",!0),S&&S.autorange&&ne(S._name+".autorange",!0)},moveFn:function(Wn,Fn){var e2=Ft(g2,u2),En=e2[0]+Wn,b2=e2[1]+Fn;ee.call(h.setTranslate,En,b2),te("x",V(P,Wn,"x",X,I)),te("y",V(S,Fn,"y",X,I)),I.axref===I.xref&&te("ax",V(P,Wn,"ax",X,I)),I.ayref===I.yref&&te("ay",V(S,Fn,"ay",X,I)),Pn.attr("transform",l(Wn,Fn)),j.attr({transform:"rotate("+Q+","+En+","+b2+")"})},doneFn:function(){g.call("_guiRelayout",H,oe());var Wn=document.querySelector(".js-notes-box-panel");Wn&&Wn.redraw(Wn.selectedObj)}})}}};I.showarrow&&rn(0,0),$&&M.init({element:ee.node(),gd:H,prepFn:function(){Bt=j.attr("transform")},moveFn:function(Dt,$t){var fn="pointer";if(I.showarrow)te("ax",I.axref===I.xref?V(P,Dt,"ax",X,I):I.ax+Dt),te("ay",I.ayref===I.yref?V(S,$t,"ay",X.w,I):I.ay+$t),rn(Dt,$t);else{if(E)return;var At,Mt;if(P)At=V(P,Dt,"x",X,I);else{var an=I._xsize/X.w;At=M.align(I.x+(I._xshift-I.xshift)/X.w-an/2+Dt/X.w,an,0,1,I.xanchor)}if(S)Mt=V(S,$t,"y",X,I);else{var Ut=I._ysize/X.h;Mt=M.align(I.y-(I._yshift+I.yshift)/X.h-Ut/2-$t/X.h,Ut,0,1,I.yanchor)}te("x",At),te("y",Mt),P&&S||(fn=M.getCursor(P?.5:At,S?.5:Mt,I.xanchor,I.yanchor))}j.attr({transform:l(Dt,$t)+Bt}),b(ee,fn)},clickFn:function(Dt,$t){I.captureevents&&H.emit("plotly_clickannotation",be($t))},doneFn:function(){b(ee),g.call("_guiRelayout",H,oe());var Dt=document.querySelector(".js-notes-box-panel");Dt&&Dt.redraw(Dt.selectedObj)}})}}}pe.exports={draw:function(H){var I=H._fullLayout;I._infolayer.selectAll(".annotation").remove();for(var D=0;D<I.annotations.length;D++)I.annotations[D].visible&&A(H,D);return p.previousPromises(H)},drawOne:A,drawRaw:L}},{"../../lib":232,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../fx":142,"./draw_arrow_head":92,"@plotly/d3":11}],92:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../color"),p=v("./arrow_paths"),c=v("../../lib"),l=c.strScale,m=c.strRotate,d=c.strTranslate;pe.exports=function(h,u,C){var b,M,w,N,A=h.node(),V=p[C.arrowhead||0],L=p[C.startarrowhead||0],H=(C.arrowwidth||1)*(C.arrowsize||1),I=(C.arrowwidth||1)*(C.startarrowsize||1),D=u.indexOf("start")>=0,E=u.indexOf("end")>=0,P=V.backoff*H+C.standoff,S=L.backoff*I+C.startstandoff;if("line"===A.nodeName){b={x:+h.attr("x1"),y:+h.attr("y1")},M={x:+h.attr("x2"),y:+h.attr("y2")};var R=b.x-M.x,G=b.y-M.y;if(N=(w=Math.atan2(G,R))+Math.PI,P&&S&&P+S>Math.sqrt(R*R+G*G))return void le();if(P){if(P*P>R*R+G*G)return void le();var z=P*Math.cos(w),X=P*Math.sin(w);M.x+=z,M.y+=X,h.attr({x2:M.x,y2:M.y})}if(S){if(S*S>R*R+G*G)return void le();var W=S*Math.cos(w),Z=S*Math.sin(w);b.x-=W,b.y-=Z,h.attr({x1:b.x,y1:b.y})}}else if("path"===A.nodeName){var ne=A.getTotalLength(),te="";if(ne<P+S)return void le();var oe=A.getPointAtLength(0),Ce=A.getPointAtLength(.1);w=Math.atan2(oe.y-Ce.y,oe.x-Ce.x),b=A.getPointAtLength(Math.min(S,ne)),te="0px,"+S+"px,";var ie=A.getPointAtLength(ne),Q=A.getPointAtLength(ne-.1);N=Math.atan2(ie.y-Q.y,ie.x-Q.x),M=A.getPointAtLength(Math.max(0,ne-P)),h.style("stroke-dasharray",te+=ne-(te?S+P:P)+"px,"+ne+"px")}function le(){h.style("stroke-dasharray","0px,100px")}function j($,se,ee,F){$.path&&($.noRotate&&(ee=0),s.select(A.parentNode).append("path").attr({class:h.attr("class"),d:$.path,transform:d(se.x,se.y)+m(180*ee/Math.PI)+l(F)}).style({fill:g.rgb(C.arrowcolor),"stroke-width":0}))}D&&j(L,b,w,I),E&&j(V,M,N,H)}},{"../../lib":232,"../color":102,"./arrow_paths":84,"@plotly/d3":11}],93:[function(v,pe,J){"use strict";var s=v("./draw"),g=v("./click");pe.exports={moduleType:"component",name:"annotations",layoutAttributes:v("./attributes"),supplyLayoutDefaults:v("./defaults"),includeBasePlot:v("../../plots/cartesian/include_components")("annotations"),calcAutorange:v("./calc_autorange"),draw:s.draw,drawOne:s.drawOne,drawRaw:s.drawRaw,hasClickToShow:g.hasClickToShow,onClick:g.onClick,convertCoords:v("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":85,"./calc_autorange":86,"./click":87,"./convert_coords":89,"./defaults":90,"./draw":91}],94:[function(v,pe,J){"use strict";var s=v("../annotations/attributes"),g=v("../../plot_api/edit_types").overrideAll,p=v("../../plot_api/plot_template").templatedArray;pe.exports=g(p("annotation",{visible:s.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:s.xanchor,xshift:s.xshift,yanchor:s.yanchor,yshift:s.yshift,text:s.text,textangle:s.textangle,font:s.font,width:s.width,height:s.height,opacity:s.opacity,align:s.align,valign:s.valign,bgcolor:s.bgcolor,bordercolor:s.bordercolor,borderpad:s.borderpad,borderwidth:s.borderwidth,showarrow:s.showarrow,arrowcolor:s.arrowcolor,arrowhead:s.arrowhead,startarrowhead:s.startarrowhead,arrowside:s.arrowside,arrowsize:s.arrowsize,startarrowsize:s.startarrowsize,arrowwidth:s.arrowwidth,standoff:s.standoff,startstandoff:s.startstandoff,hovertext:s.hovertext,hoverlabel:s.hoverlabel,captureevents:s.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../annotations/attributes":85}],95:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plots/cartesian/axes");function p(c,l){var m=l.fullSceneLayout.domain,d=l.fullLayout._size,h={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};c._xa={},s.extendFlat(c._xa,h),g.setConvert(c._xa),c._xa._offset=d.l+m.x[0]*d.w,c._xa.l2p=function(){return.5*(1+c._pdata[0]/c._pdata[3])*d.w*(m.x[1]-m.x[0])},c._ya={},s.extendFlat(c._ya,h),g.setConvert(c._ya),c._ya._offset=d.t+(1-m.y[1])*d.h,c._ya.l2p=function(){return.5*(1-c._pdata[1]/c._pdata[3])*d.h*(m.y[1]-m.y[0])}}pe.exports=function(c){for(var l=c.fullSceneLayout.annotations,m=0;m<l.length;m++)p(l[m],c);c.fullLayout._infolayer.selectAll(".annotation-"+c.id).remove()}},{"../../lib":232,"../../plots/cartesian/axes":279}],96:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plots/cartesian/axes"),p=v("../../plots/array_container_defaults"),c=v("../annotations/common_defaults"),l=v("./attributes");function m(d,h,u,C){function b(w,N){return s.coerce(d,h,l,w,N)}function M(w){var N=w+"axis",A={_fullLayout:{}};return A._fullLayout[N]=u[N],g.coercePosition(h,A,b,w,w,.5)}b("visible")&&(c(d,h,C.fullLayout,b),M("x"),M("y"),M("z"),s.noneOrAll(d,h,["x","y","z"]),h.xref="x",h.yref="y",h.zref="z",b("xanchor"),b("yanchor"),b("xshift"),b("yshift"),h.showarrow&&(h.axref="pixel",h.ayref="pixel",b("ax",-10),b("ay",-30),s.noneOrAll(d,h,["ax","ay"])))}pe.exports=function(d,h,u){p(d,h,{name:"annotations",handleItemDefaults:m,fullLayout:u.fullLayout})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"../annotations/common_defaults":88,"./attributes":94}],97:[function(v,pe,J){"use strict";var s=v("../annotations/draw").drawRaw,g=v("../../plots/gl3d/project"),p=["x","y","z"];pe.exports=function(c){for(var l=c.fullSceneLayout,m=c.dataScale,d=l.annotations,h=0;h<d.length;h++){for(var u=d[h],C=!1,b=0;b<3;b++){var M=p[b],N=l[M+"axis"].r2fraction(u[M]);if(N<0||N>1){C=!0;break}}C?c.fullLayout._infolayer.select(".annotation-"+c.id+'[data-index="'+h+'"]').remove():(u._pdata=g(c.glplot.cameraParams,[l.xaxis.r2l(u.x)*m[0],l.yaxis.r2l(u.y)*m[1],l.zaxis.r2l(u.z)*m[2]]),s(c.graphDiv,u,h,c.id,u._xa,u._ya))}}},{"../../plots/gl3d/project":313,"../annotations/draw":91}],98:[function(v,pe,J){"use strict";var s=v("../../registry"),g=v("../../lib");pe.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:v("./attributes")}}},layoutAttributes:v("./attributes"),handleDefaults:v("./defaults"),includeBasePlot:function(p,c){var l=s.subplotsRegistry.gl3d;if(l)for(var m=l.attrRegex,d=Object.keys(p),h=0;h<d.length;h++){var u=d[h];m.test(u)&&(p[u].annotations||[]).length&&(g.pushUnique(c._basePlotModules,l),g.pushUnique(c._subplots.gl3d,u))}},convert:v("./convert"),draw:v("./draw")}},{"../../lib":232,"../../registry":318,"./attributes":94,"./convert":95,"./defaults":96,"./draw":97}],99:[function(v,pe,J){"use strict";pe.exports=v("world-calendars/dist/main"),v("world-calendars/dist/plus"),v("world-calendars/dist/calendars/chinese"),v("world-calendars/dist/calendars/coptic"),v("world-calendars/dist/calendars/discworld"),v("world-calendars/dist/calendars/ethiopian"),v("world-calendars/dist/calendars/hebrew"),v("world-calendars/dist/calendars/islamic"),v("world-calendars/dist/calendars/julian"),v("world-calendars/dist/calendars/mayan"),v("world-calendars/dist/calendars/nanakshahi"),v("world-calendars/dist/calendars/nepali"),v("world-calendars/dist/calendars/persian"),v("world-calendars/dist/calendars/taiwan"),v("world-calendars/dist/calendars/thai"),v("world-calendars/dist/calendars/ummalqura")},{"world-calendars/dist/calendars/chinese":68,"world-calendars/dist/calendars/coptic":69,"world-calendars/dist/calendars/discworld":70,"world-calendars/dist/calendars/ethiopian":71,"world-calendars/dist/calendars/hebrew":72,"world-calendars/dist/calendars/islamic":73,"world-calendars/dist/calendars/julian":74,"world-calendars/dist/calendars/mayan":75,"world-calendars/dist/calendars/nanakshahi":76,"world-calendars/dist/calendars/nepali":77,"world-calendars/dist/calendars/persian":78,"world-calendars/dist/calendars/taiwan":79,"world-calendars/dist/calendars/thai":80,"world-calendars/dist/calendars/ummalqura":81,"world-calendars/dist/main":82,"world-calendars/dist/plus":83}],100:[function(v,pe,J){"use strict";var s=v("./calendars"),g=v("../../lib"),p=v("../../constants/numerical"),c=p.EPOCHJD,l=p.ONEDAY,m={valType:"enumerated",values:g.sortObjectKeys(s.calendars),editType:"calc",dflt:"gregorian"},d=function(L,H,I,D){var E={};return E[I]=m,g.coerce(L,H,E,I,D)},h={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:"##",w:"##",c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},u={};function C(L){return u[L]||(u[L]=s.instance(L))}function b(L){return g.extendFlat({},m,{description:L})}function M(L){return"Sets the calendar system to use with `"+L+"` date data."}var w={xcalendar:b(M("x"))},N=g.extendFlat({},w,{ycalendar:b(M("y"))}),A=g.extendFlat({},N,{zcalendar:b(M("z"))}),V=b(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));pe.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:N,bar:N,box:N,heatmap:N,contour:N,histogram:N,histogram2d:N,histogram2dcontour:N,scatter3d:A,surface:A,mesh3d:A,scattergl:N,ohlc:w,candlestick:w},layout:{calendar:b(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:V},yaxis:{calendar:V},scene:{xaxis:{calendar:V},yaxis:{calendar:V},zaxis:{calendar:V}},polar:{radialaxis:{calendar:V}}},transforms:{filter:{valuecalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:m,handleDefaults:d,handleTraceDefaults:function(L,H,I,D){for(var E=0;E<I.length;E++)d(L,H,I[E]+"calendar",D.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:C,worldCalFmt:function(L,H,I){for(var D,E,P,S,R,G=Math.floor((H+.05)/l)+c,z=C(I).fromJD(G),X=0;-1!==(X=L.indexOf("%",X));)"0"===(D=L.charAt(X+1))||"-"===D||"_"===D?(P=3,E=L.charAt(X+2),"_"===D&&(D="-")):(E=D,D="0",P=2),(S=h[E])?(R="##"===S?"##":z.formatDate(S[D]),L=L.substr(0,X)+R+L.substr(X+P),X+=R.length):X+=P;return L}}},{"../../constants/numerical":212,"../../lib":232,"./calendars":99}],101:[function(v,pe,J){"use strict";J.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],J.defaultLine="#444",J.lightLine="#eee",J.background="#fff",J.borderLine="#BEC8D9",J.lightFraction=1e3/11},{}],102:[function(v,pe,J){"use strict";var s=v("tinycolor2"),g=v("fast-isnumeric"),p=v("../../lib/array").isTypedArray,c=pe.exports={},l=v("./attributes");c.defaults=l.defaults;var m=c.defaultLine=l.defaultLine;c.lightLine=l.lightLine;var d=c.background=l.background;function h(u){if(g(u)||"string"!=typeof u)return u;var C=u.trim();if("rgb"!==C.substr(0,3))return u;var b=C.match(/^rgba?\s*\(([^()]*)\)$/);if(!b)return u;var M=b[1].trim().split(/\s*[\s,]\s*/),w="a"===C.charAt(3)&&4===M.length;if(!w&&3!==M.length)return u;for(var N=0;N<M.length;N++){if(!(M[N].length&&(M[N]=Number(M[N]),M[N]>=0)))return u;if(3===N)M[N]>1&&(M[N]=1);else if(M[N]>=1)return u}var A=Math.round(255*M[0])+", "+Math.round(255*M[1])+", "+Math.round(255*M[2]);return w?"rgba("+A+", "+M[3]+")":"rgb("+A+")"}c.tinyRGB=function(u){var C=u.toRgb();return"rgb("+Math.round(C.r)+", "+Math.round(C.g)+", "+Math.round(C.b)+")"},c.rgb=function(u){return c.tinyRGB(s(u))},c.opacity=function(u){return u?s(u).getAlpha():0},c.addOpacity=function(u,C){var b=s(u).toRgb();return"rgba("+Math.round(b.r)+", "+Math.round(b.g)+", "+Math.round(b.b)+", "+C+")"},c.combine=function(u,C){var b=s(u).toRgb();if(1===b.a)return s(u).toRgbString();var M=s(C||d).toRgb(),w=1===M.a?M:{r:255*(1-M.a)+M.r*M.a,g:255*(1-M.a)+M.g*M.a,b:255*(1-M.a)+M.b*M.a};return s({r:w.r*(1-b.a)+b.r*b.a,g:w.g*(1-b.a)+b.g*b.a,b:w.b*(1-b.a)+b.b*b.a}).toRgbString()},c.contrast=function(u,C,b){var M=s(u);return 1!==M.getAlpha()&&(M=s(c.combine(u,d))),(M.isDark()?C?M.lighten(C):d:b?M.darken(b):m).toString()},c.stroke=function(u,C){var b=s(C);u.style({stroke:c.tinyRGB(b),"stroke-opacity":b.getAlpha()})},c.fill=function(u,C){var b=s(C);u.style({fill:c.tinyRGB(b),"fill-opacity":b.getAlpha()})},c.clean=function(u){if(u&&"object"==typeof u){var C,b,M,w,N=Object.keys(u);for(C=0;C<N.length;C++)if(w=u[M=N[C]],"color"===M.substr(M.length-5))if(Array.isArray(w))for(b=0;b<w.length;b++)w[b]=h(w[b]);else u[M]=h(w);else if("colorscale"===M.substr(M.length-10)&&Array.isArray(w))for(b=0;b<w.length;b++)Array.isArray(w[b])&&(w[b][1]=h(w[b][1]));else if(Array.isArray(w)){var A=w[0];if(!Array.isArray(A)&&A&&"object"==typeof A)for(b=0;b<w.length;b++)c.clean(w[b])}else w&&"object"==typeof w&&!p(w)&&c.clean(w)}}},{"../../lib/array":218,"./attributes":101,"fast-isnumeric":17,tinycolor2:67}],103:[function(v,pe,J){"use strict";var s=v("../../plots/cartesian/layout_attributes"),g=v("../../plots/font_attributes"),p=v("../../lib/extend").extendFlat,c=v("../../plot_api/edit_types").overrideAll;pe.exports=c({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:s.linecolor,outlinewidth:s.linewidth,bordercolor:s.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:s.tickmode,nticks:s.nticks,tick0:s.tick0,dtick:s.dtick,tickvals:s.tickvals,ticktext:s.ticktext,ticks:p({},s.ticks,{dflt:""}),ticklabeloverflow:p({},s.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:s.ticklen,tickwidth:s.tickwidth,tickcolor:s.tickcolor,ticklabelstep:s.ticklabelstep,showticklabels:s.showticklabels,tickfont:g({}),tickangle:s.tickangle,tickformat:s.tickformat,tickformatstops:s.tickformatstops,tickprefix:s.tickprefix,showtickprefix:s.showtickprefix,ticksuffix:s.ticksuffix,showticksuffix:s.showticksuffix,separatethousands:s.separatethousands,exponentformat:s.exponentformat,minexponent:s.minexponent,showexponent:s.showexponent,title:{text:{valType:"string"},font:g({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:g({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plots/cartesian/layout_attributes":294,"../../plots/font_attributes":310}],104:[function(v,pe,J){"use strict";pe.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],105:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plot_api/plot_template"),p=v("../../plots/cartesian/tick_value_defaults"),c=v("../../plots/cartesian/tick_mark_defaults"),l=v("../../plots/cartesian/tick_label_defaults"),m=v("../../plots/cartesian/prefix_suffix_defaults"),d=v("./attributes");pe.exports=function(h,u,C){var b=g.newContainer(u,"colorbar"),M=h.colorbar||{};function w(G,z){return s.coerce(M,b,d,G,z)}var N=C.margin||{t:0,b:0,l:0,r:0},A=C.width-N.l-N.r,V=C.height-N.t-N.b,L="v"===w("orientation"),H=w("thicknessmode");w("thickness","fraction"===H?30/(L?A:V):30);var I=w("lenmode");w("len","fraction"===I?1:L?V:A),w("x",L?1.02:.5),w("xanchor",L?"left":"center"),w("xpad"),w("y",L?.5:1.02),w("yanchor",L?"middle":"bottom"),w("ypad"),s.noneOrAll(M,b,["x","y"]),w("outlinecolor"),w("outlinewidth"),w("bordercolor"),w("borderwidth"),w("bgcolor");var D=s.coerce(M,b,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:L?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");w("ticklabeloverflow",-1!==D.indexOf("inside")?"hide past domain":"hide past div"),p(M,b,w,"linear");var E=C.font,P={outerTicks:!1,font:E};-1!==D.indexOf("inside")&&(P.bgColor="black"),m(M,b,w,"linear",P),l(M,b,w,"linear",P),c(M,b,w,"linear",P),w("title.text",C._dfltTitle.colorbar);var S=b.tickfont,R=s.extendFlat({},S,{color:E.color,size:s.bigFont(S.size)});s.coerceFont(w,"title.font",R),w("title.side",L?"top":"right")}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/prefix_suffix_defaults":298,"../../plots/cartesian/tick_label_defaults":303,"../../plots/cartesian/tick_mark_defaults":304,"../../plots/cartesian/tick_value_defaults":305,"./attributes":103}],106:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("tinycolor2"),p=v("../../plots/plots"),c=v("../../registry"),l=v("../../plots/cartesian/axes"),m=v("../dragelement"),d=v("../../lib"),h=d.strTranslate,u=v("../../lib/extend").extendFlat,C=v("../../lib/setcursor"),b=v("../drawing"),M=v("../color"),w=v("../titles"),N=v("../../lib/svg_text_utils"),A=v("../colorscale/helpers").flipScale,V=v("../../plots/cartesian/axis_defaults"),L=v("../../plots/cartesian/position_defaults"),H=v("../../plots/cartesian/layout_attributes"),I=v("../../constants/alignment"),D=I.LINE_SPACING,E=I.FROM_TL,P=I.FROM_BR,S=v("./constants").cn;pe.exports={draw:function(R){var G=R._fullLayout._infolayer.selectAll("g."+S.colorbar).data(function(z){var X,W,Z,ne,te=z._fullLayout,oe=z.calcdata,Ce=[];function ie(ae){return u(ae,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function Q(){"function"==typeof ne.calc?ne.calc(z,Z,X):(X._fillgradient=W.reversescale?A(W.colorscale):W.colorscale,X._zrange=[W[ne.min],W[ne.max]])}for(var le=0;le<oe.length;le++){var $=(Z=oe[le][0].trace)._module.colorbar;if(!0===Z.visible&&$)for(var se=Array.isArray($),ee=se?$:[$],F=0;F<ee.length;F++){var O=(ne=ee[F]).container;(W=O?Z[O]:Z)&&W.showscale&&((X=ie(W.colorbar))._id="cb"+Z.uid+(se&&O?"-"+O:""),X._traceIndex=Z.index,X._propPrefix=(O?O+".":"")+"colorbar.",X._meta=Z._meta,Q(),Ce.push(X))}}for(var Y in te._colorAxes)if((W=te[Y]).showscale){var B=te._colorAxes[Y];(X=ie(W.colorbar))._id="cb"+Y,X._propPrefix=Y+".colorbar.",X._meta=te._meta,ne={min:"cmin",max:"cmax"},"heatmap"!==B[0]&&(ne.calc=(Z=B[1])._module.colorbar.calc),Q(),Ce.push(X)}return Ce}(R),function(z){return z._id});G.enter().append("g").attr("class",function(z){return z._id}).classed(S.colorbar,!0),G.each(function(z){var X=s.select(this);d.ensureSingle(X,"rect",S.cbbg),d.ensureSingle(X,"g",S.cbfills),d.ensureSingle(X,"g",S.cblines),d.ensureSingle(X,"g",S.cbaxis,function(Z){Z.classed(S.crisp,!0)}),d.ensureSingle(X,"g",S.cbtitleunshift,function(Z){Z.append("g").classed(S.cbtitle,!0)}),d.ensureSingle(X,"rect",S.cboutline);var Z,ne,te,oe,Ce,ie,Q,le,W=function(Z,ne,te){var oe="v"===ne.orientation,Ce=ne.len,ie=ne.lenmode,Q=ne.thickness,le=ne.thicknessmode,j=ne.outlinewidth,$=ne.borderwidth,se=ne.bgcolor,ee=ne.xanchor,F=ne.yanchor,O=ne.xpad,Y=ne.ypad,B=ne.x,ae=oe?ne.y:1-ne.y,ue=te._fullLayout,fe=ue._size,he=ne._fillcolor,xe=ne._line,be=ne.title,Ve=be.side,Ae=ne._zrange||s.extent(("function"==typeof he?he:xe.color).domain()),Oe="function"==typeof xe.color?xe.color:function(){return xe.color},Re="function"==typeof he?he:function(){return he},tt=ne._levels,Ke=function(Wt,Nt,ge){var _e,We,Je=Nt._levels,ft=[],st=[],et=Je.end+Je.size/100,ut=Je.size,xt=1.001*ge[0]-.001*ge[1],kt=1.001*ge[1]-.001*ge[0];for(We=0;We<1e5&&(_e=Je.start+We*ut,!(ut>0?_e>=et:_e<=et));We++)_e>xt&&_e<kt&&ft.push(_e);if(Nt._fillgradient)st=[0];else if("function"==typeof Nt._fillcolor){var Bt=Nt._filllevels;if(Bt)for(et=Bt.end+Bt.size/100,ut=Bt.size,We=0;We<1e5&&(_e=Bt.start+We*ut,!(ut>0?_e>=et:_e<=et));We++)_e>ge[0]&&_e<ge[1]&&st.push(_e);else(st=ft.map(function(rn){return rn-Je.size/2})).push(st[st.length-1]+Je.size)}else Nt._fillcolor&&"string"==typeof Nt._fillcolor&&(st=[0]);return Je.size<0&&(ft.reverse(),st.reverse()),{line:ft,fill:st}}(0,ne,Ae),$e=Ke.fill,Me=Ke.line,ve=Math.round(Q*("fraction"===le?oe?fe.w:fe.h:1)),Se=ve/(oe?fe.w:fe.h),Te=Math.round(Ce*("fraction"===ie?oe?fe.h:fe.w:1)),qe=Te/(oe?fe.h:fe.w),Ee=Math.round(oe?B*fe.w+O:ae*fe.h+Y),Ie={center:.5,right:1}[ee]||0,Qe={top:1,middle:.5}[F]||0,nt=oe?B-Ie*Se:ae-Qe*Se,Ye=oe?ae-Qe*qe:B-Ie*qe,rt=Math.round(oe?fe.h*(1-Ye):fe.w*Ye);ne._lenFrac=qe,ne._thickFrac=Se,ne._uFrac=nt,ne._vFrac=Ye;var dt=ne._axis=function(Wt,Nt,ge){var _e=Wt._fullLayout,We="v"===Nt.orientation,Je={type:"linear",range:ge,tickmode:Nt.tickmode,nticks:Nt.nticks,tick0:Nt.tick0,dtick:Nt.dtick,tickvals:Nt.tickvals,ticktext:Nt.ticktext,ticks:Nt.ticks,ticklen:Nt.ticklen,tickwidth:Nt.tickwidth,tickcolor:Nt.tickcolor,showticklabels:Nt.showticklabels,ticklabelposition:Nt.ticklabelposition,ticklabeloverflow:Nt.ticklabeloverflow,ticklabelstep:Nt.ticklabelstep,tickfont:Nt.tickfont,tickangle:Nt.tickangle,tickformat:Nt.tickformat,exponentformat:Nt.exponentformat,minexponent:Nt.minexponent,separatethousands:Nt.separatethousands,showexponent:Nt.showexponent,showtickprefix:Nt.showtickprefix,tickprefix:Nt.tickprefix,showticksuffix:Nt.showticksuffix,ticksuffix:Nt.ticksuffix,title:Nt.title,showline:!0,anchor:"free",side:We?"right":"bottom",position:1},ft=We?"y":"x",st={type:"linear",_id:ft+Nt._id},et={letter:ft,font:_e.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:_e.calendar};function ut(xt,kt){return d.coerce(Je,st,H,xt,kt)}return V(Je,st,ut,et,_e),L(Je,st,ut,et),st}(te,ne,Ae);dt.position=Se+(oe?B+O/fe.w:ae+Y/fe.h);var Xe=-1!==["top","bottom"].indexOf(Ve);if(oe&&Xe&&(dt.title.side=Ve,dt.titlex=B+O/fe.w,dt.titley=Ye+("top"===be.side?qe-Y/fe.h:Y/fe.h)),oe||Xe||(dt.title.side=Ve,dt.titley=ae+Y/fe.h,dt.titlex=Ye+O/fe.w),xe.color&&"auto"===ne.tickmode){dt.tickmode="linear",dt.tick0=tt.start;var mt=tt.size,_t=d.constrain(Te/50,4,15)+1,yt=(Ae[1]-Ae[0])/((ne.nticks||_t)*mt);if(yt>1){var Ot=Math.pow(10,Math.floor(Math.log(yt)/Math.LN10));mt*=Ot*d.roundUp(yt/Ot,[2,5,10]),(Math.abs(tt.start)/tt.size+1e-6)%1<2e-6&&(dt.tick0=0)}dt.dtick=mt}dt.domain=oe?[Ye+Y/fe.h,Ye+qe-Y/fe.h]:[Ye+O/fe.w,Ye+qe-O/fe.w],dt.setScale(),Z.attr("transform",h(Math.round(fe.l),Math.round(fe.t)));var bt,Fe=Z.select("."+S.cbtitleunshift).attr("transform",h(-Math.round(fe.l),-Math.round(fe.t))),Ue=dt.ticklabelposition,gt=dt.title.font.size,Pt=Z.select("."+S.cbaxis),Qt=0,en=0;function Xt(Wt,Nt){var ge={propContainer:dt,propName:ne._propPrefix+"title",traceIndex:ne._traceIndex,_meta:ne._meta,placeholder:ue._dfltTitle.colorbar,containerGroup:Z.select("."+S.cbtitle)},_e="h"===Wt.charAt(0)?Wt.substr(1):"h"+Wt;Z.selectAll("."+_e+",."+_e+"-math-group").remove(),w.draw(te,Wt,u(ge,Nt||{}))}return d.syncOrAsync([p.previousPromises,function(){var Wt,Nt;(oe&&Xe||!oe&&!Xe)&&("top"===Ve&&(Wt=O+fe.l+fe.w*B,Nt=Y+fe.t+fe.h*(1-Ye-qe)+3+.75*gt),"bottom"===Ve&&(Wt=O+fe.l+fe.w*B,Nt=Y+fe.t+fe.h*(1-Ye)-3-.25*gt),"right"===Ve&&(Nt=Y+fe.t+fe.h*ae+3+.75*gt,Wt=O+fe.l+fe.w*Ye),Xt(dt._id+"title",{attributes:{x:Wt,y:Nt,"text-anchor":oe?"start":"middle"}}))},function(){if(!oe&&!Xe||oe&&Xe){var Wt,Nt=Z.select("."+S.cbtitle),ge=Nt.select("text"),_e=[-j/2,j/2],We=Nt.select(".h"+dt._id+"title-math-group").node(),Je=15.6;if(ge.node()&&(Je=parseInt(ge.node().style.fontSize,10)*D),We?(Wt=b.bBox(We),en=Wt.width,(Qt=Wt.height)>Je&&(_e[1]-=(Qt-Je)/2)):ge.node()&&!ge.classed(S.jsPlaceholder)&&(Wt=b.bBox(ge.node()),en=Wt.width,Qt=Wt.height),oe){if(Qt){if(Qt+=5,"top"===Ve)dt.domain[1]-=Qt/fe.h,_e[1]*=-1;else{dt.domain[0]+=Qt/fe.h;var ft=N.lineCount(ge);_e[1]+=(1-ft)*Je}Nt.attr("transform",h(_e[0],_e[1])),dt.setScale()}}else en&&("right"===Ve&&(dt.domain[0]+=(en+gt/2)/fe.w),Nt.attr("transform",h(_e[0],_e[1])),dt.setScale())}Z.selectAll("."+S.cbfills+",."+S.cblines).attr("transform",oe?h(0,Math.round(fe.h*(1-dt.domain[1]))):h(Math.round(fe.w*dt.domain[0]),0)),Pt.attr("transform",oe?h(0,Math.round(-fe.t)):h(Math.round(-fe.l),0));var st=Z.select("."+S.cbfills).selectAll("rect."+S.cbfill).attr("style","").data($e);st.enter().append("rect").classed(S.cbfill,!0).style("stroke","none"),st.exit().remove();var et=Ae.map(dt.c2p).map(Math.round).sort(function(rn,Dt){return rn-Dt});st.each(function(rn,Dt){var $t=[0===Dt?Ae[0]:($e[Dt]+$e[Dt-1])/2,Dt===$e.length-1?Ae[1]:($e[Dt]+$e[Dt+1])/2].map(dt.c2p).map(Math.round);oe&&($t[1]=d.constrain($t[1]+($t[1]>$t[0])?1:-1,et[0],et[1]));var fn=s.select(this).attr(oe?"x":"y",Ee).attr(oe?"y":"x",s.min($t)).attr(oe?"width":"height",Math.max(ve,2)).attr(oe?"height":"width",Math.max(s.max($t)-s.min($t),2));if(ne._fillgradient)b.gradient(fn,te,ne._id,oe?"vertical":"horizontalreversed",ne._fillgradient,"fill");else{var At=Re(rn).replace("e-","");fn.attr("fill",g(At).toHexString())}});var ut=Z.select("."+S.cblines).selectAll("path."+S.cbline).data(xe.color&&xe.width?Me:[]);ut.enter().append("path").classed(S.cbline,!0),ut.exit().remove(),ut.each(function(rn){var Dt=Ee,$t=Math.round(dt.c2p(rn))+xe.width/2%1;s.select(this).attr("d","M"+(oe?Dt+","+$t:$t+","+Dt)+(oe?"h":"v")+ve).call(b.lineGroupStyle,xe.width,Oe(rn),xe.dash)}),Pt.selectAll("g."+dt._id+"tick,path").remove();var xt=Ee+ve+(j||0)/2-("outside"===ne.ticks?1:0),kt=l.calcTicks(dt),Bt=l.getTickSigns(dt)[2];return l.drawTicks(te,dt,{vals:"inside"===dt.ticks?l.clipEnds(dt,kt):kt,layer:Pt,path:l.makeTickPath(dt,xt,Bt),transFn:l.makeTransTickFn(dt)}),l.drawLabels(te,dt,{vals:kt,layer:Pt,transFn:l.makeTransTickLabelFn(dt),labelFns:l.makeLabelFns(dt,xt)})},function(){if(oe&&!Xe||!oe&&Xe){var Wt,Nt,ge=dt.position||0,_e=dt._offset+dt._length/2;if("right"===Ve)Nt=_e,Wt=fe.l+fe.w*ge+10+gt*(dt.showticklabels?1:.5);else if(Wt=_e,"bottom"===Ve&&(Nt=fe.t+fe.h*ge+10+(-1===Ue.indexOf("inside")?dt.tickfont.size:0)+("intside"!==dt.ticks&&ne.ticklen||0)),"top"===Ve){var We=be.text.split("<br>").length;Nt=fe.t+fe.h*ge+10-ve-D*gt*We}Xt((oe?"h":"v")+dt._id+"title",{avoid:{selection:s.select(te).selectAll("g."+dt._id+"tick"),side:Ve,offsetTop:oe?0:fe.t,offsetLeft:oe?fe.l:0,maxShift:oe?ue.width:ue.height},attributes:{x:Wt,y:Nt,"text-anchor":"middle"},transform:{rotate:oe?-90:0,offset:0}})}},p.previousPromises,function(){var Wt,Nt=ve+j/2;-1===Ue.indexOf("inside")&&(Wt=b.bBox(Pt.node()),Nt+=oe?Wt.width:Wt.height),bt=Fe.select("text");var ge=0,_e=oe&&"top"===Ve,We=!oe&&"right"===Ve,Je=0;if(bt.node()&&!bt.classed(S.jsPlaceholder)){var ft,st=Fe.select(".h"+dt._id+"title-math-group").node();st&&(oe&&Xe||!oe&&!Xe)?(ge=(Wt=b.bBox(st)).width,ft=Wt.height):(ge=(Wt=b.bBox(Fe.node())).right-fe.l-(oe?Ee:rt),ft=Wt.bottom-fe.t-(oe?rt:Ee),oe||"top"!==Ve||(Nt+=Wt.height,Je=Wt.height)),We&&(bt.attr("transform",h(ge/2+gt/2,0)),ge*=2),Nt=Math.max(Nt,oe?ge:ft)}var et=2*(oe?O:Y)+Nt+$+j/2,ut=0;!oe&&be.text&&"bottom"===F&&ae<=0&&(et+=ut=et/2,Je+=ut),ue._hColorbarMoveTitle=ut,ue._hColorbarMoveCBTitle=Je;var xt=$+j;Z.select("."+S.cbbg).attr("x",(oe?Ee:rt)-xt/2-(oe?O:0)).attr("y",(oe?rt:Ee)-(oe?Te:Y+Je-ut)).attr(oe?"width":"height",Math.max(et-ut,2)).attr(oe?"height":"width",Math.max(Te+xt,2)).call(M.fill,se).call(M.stroke,ne.bordercolor).style("stroke-width",$);var kt=We?Math.max(ge-10,0):0;if(Z.selectAll("."+S.cboutline).attr("x",(oe?Ee:rt+O)+kt).attr("y",(oe?rt+Y-Te:Ee)+(_e?Qt:0)).attr(oe?"width":"height",Math.max(ve,2)).attr(oe?"height":"width",Math.max(Te-(oe?2*Y+Qt:2*O+kt),2)).call(M.stroke,ne.outlinecolor).style({fill:"none","stroke-width":j}),Z.attr("transform",h(fe.l-(oe?Ie*et:0),fe.t-(oe?0:(1-Qe)*et-Je))),!oe&&($||g(se).getAlpha()&&!g.equals(ue.paper_bgcolor,se))){var Bt=Pt.selectAll("text"),rn=Bt[0].length,Dt=Z.select("."+S.cbbg).node(),$t=b.bBox(Dt),fn=b.getTranslate(Z);Bt.each(function(Ft,Mn){var _n=rn-1;if(0===Mn||Mn===_n){var wn,Ln=b.bBox(this),$n=b.getTranslate(this);Mn===_n?(wn=$t.right+fn.x+rt-$-2+B-(Ln.right+$n.x))>0&&(wn=0):0===Mn&&(wn=$t.left+fn.x+rt+$+2-(Ln.left+$n.x))<0&&(wn=0),wn&&(rn<3?this.setAttribute("transform","translate("+wn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var At={},Mt=E[ee],an=P[ee],Kt=E[F],Ut=P[F],Jt=et-ve;oe?("pixels"===ie?(At.y=ae,At.t=Te*Kt,At.b=Te*Ut):(At.t=At.b=0,At.yt=ae+Ce*Kt,At.yb=ae-Ce*Ut),"pixels"===le?(At.x=B,At.l=et*Mt,At.r=et*an):(At.l=Jt*Mt,At.r=Jt*an,At.xl=B-Q*Mt,At.xr=B+Q*an)):("pixels"===ie?(At.x=B,At.l=Te*Mt,At.r=Te*an):(At.l=At.r=0,At.xl=B+Ce*Mt,At.xr=B-Ce*an),"pixels"===le?(At.y=1-ae,At.t=et*Kt,At.b=et*Ut):(At.t=Jt*Kt,At.b=Jt*Ut,At.yt=ae-Q*Kt,At.yb=ae+Q*Ut)),p.autoMargin(te,ne._id,At)}],te)}(X,z,R);W&&W.then&&(R._promises||[]).push(W),R._context.edits.colorbarPosition&&(Q="v"===(ne=z).orientation,le=(te=R)._fullLayout._size,m.init({element:(Z=X).node(),gd:te,prepFn:function(){oe=Z.attr("transform"),C(Z)},moveFn:function(j,$){Z.attr("transform",oe+h(j,$)),Ce=m.align((Q?ne._uFrac:ne._vFrac)+j/le.w,Q?ne._thickFrac:ne._lenFrac,0,1,ne.xanchor),ie=m.align((Q?ne._vFrac:1-ne._uFrac)-$/le.h,Q?ne._lenFrac:ne._thickFrac,0,1,ne.yanchor);var se=m.getCursor(Ce,ie,ne.xanchor,ne.yanchor);C(Z,se)},doneFn:function(){if(C(Z),void 0!==Ce&&void 0!==ie){var j={};j[ne._propPrefix+"x"]=Ce,j[ne._propPrefix+"y"]=ie,void 0!==ne._traceIndex?c.call("_guiRestyle",te,j,ne._traceIndex):c.call("_guiRelayout",te,j)}}}))}),G.exit().each(function(z){p.autoMargin(R,z._id)}).remove(),G.order()}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/extend":226,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_defaults":281,"../../plots/cartesian/layout_attributes":294,"../../plots/cartesian/position_defaults":297,"../../plots/plots":316,"../../registry":318,"../color":102,"../colorscale/helpers":113,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":104,"@plotly/d3":11,tinycolor2:67}],107:[function(v,pe,J){"use strict";var s=v("../../lib");pe.exports=function(g){return s.isPlainObject(g.colorbar)}},{"../../lib":232}],108:[function(v,pe,J){"use strict";pe.exports={moduleType:"component",name:"colorbar",attributes:v("./attributes"),supplyDefaults:v("./defaults"),draw:v("./draw").draw,hasColorbar:v("./has_colorbar")}},{"./attributes":103,"./defaults":105,"./draw":106,"./has_colorbar":107}],109:[function(v,pe,J){"use strict";var s=v("../colorbar/attributes"),g=v("../../lib/regex").counter,p=v("../../lib/sort_object_keys"),c=v("./scales.js").scales;function l(m){return"`"+m+"`"}p(c),pe.exports=function(m,d){m=m||"";var h,u=(d=d||{}).cLetter||"c",C=("onlyIfNumerical"in d||Boolean(m),"noScale"in d?d.noScale:"marker.line"===m),b="showScaleDflt"in d?d.showScaleDflt:"z"===u,M="string"==typeof d.colorscaleDflt?c[d.colorscaleDflt]:null,w=d.editTypeOverride||"",N=m?m+".":"";"colorAttr"in d?h=d.colorAttr:l(N+(h={z:"z",c:"color"}[u]));var A=u+"auto",V=u+"min",L=u+"max",H=u+"mid",I=(l(N+A),l(N+V),l(N+L),{});I[V]=I[L]=void 0;var D={};D[A]=!1;var E={};return"color"===h&&(E.color={valType:"color",arrayOk:!0,editType:w||"style"},d.anim&&(E.color.anim=!0)),E[A]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:I},E[V]={valType:"number",dflt:null,editType:w||"plot",impliedEdits:D},E[L]={valType:"number",dflt:null,editType:w||"plot",impliedEdits:D},E[H]={valType:"number",dflt:null,editType:"calc",impliedEdits:I},E.colorscale={valType:"colorscale",editType:"calc",dflt:M,impliedEdits:{autocolorscale:!1}},E.autocolorscale={valType:"boolean",dflt:!1!==d.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},E.reversescale={valType:"boolean",dflt:!1,editType:"plot"},C||(E.showscale={valType:"boolean",dflt:b,editType:"calc"},E.colorbar=s),d.noColorAxis||(E.coloraxis={valType:"subplotid",regex:g("coloraxis"),dflt:null,editType:"calc"}),E}},{"../../lib/regex":248,"../../lib/sort_object_keys":253,"../colorbar/attributes":103,"./scales.js":117}],110:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib"),p=v("./helpers").extractOpts;pe.exports=function(c,l,m){var h=c._fullLayout,u=m.vals,C=m.containerStr,b=C?g.nestedProperty(l,C).get():l,M=p(b),w=!1!==M.auto,N=M.min,A=M.max,V=M.mid,L=function(){return g.aggNums(Math.min,null,u)},H=function(){return g.aggNums(Math.max,null,u)};void 0===N?N=L():w&&(N=b._colorAx&&s(N)?Math.min(N,L()):L()),void 0===A?A=H():w&&(A=b._colorAx&&s(A)?Math.max(A,H()):H()),w&&void 0!==V&&(A-V>V-N?N=V-(A-V):A-V<V-N&&(A=V+(V-N))),N===A&&(N-=.5,A+=.5),M._sync("min",N),M._sync("max",A),M.autocolorscale&&M._sync("colorscale",N*A<0?h.colorscale.diverging:N>=0?h.colorscale.sequential:h.colorscale.sequentialminus)}},{"../../lib":232,"./helpers":113,"fast-isnumeric":17}],111:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("./helpers").hasColorscale,p=v("./helpers").extractOpts;pe.exports=function(c,l){function m(w,N){var A=w["_"+N];void 0!==A&&(w[N]=A)}function d(w,N){var A=N.container?s.nestedProperty(w,N.container).get():w;if(A)if(A.coloraxis)A._colorAx=l[A.coloraxis];else{var V=p(A),L=V.auto;(L||void 0===V.min)&&m(A,N.min),(L||void 0===V.max)&&m(A,N.max),V.autocolorscale&&m(A,"colorscale")}}for(var h=0;h<c.length;h++){var u=c[h],C=u._module.colorbar;if(C)if(Array.isArray(C))for(var b=0;b<C.length;b++)d(u,C[b]);else d(u,C);g(u,"marker.line")&&d(u,{container:"marker.line",min:"cmin",max:"cmax"})}for(var M in l._colorAxes)d(l[M],{min:"cmin",max:"cmax"})}},{"../../lib":232,"./helpers":113}],112:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib"),p=v("../colorbar/has_colorbar"),c=v("../colorbar/defaults"),l=v("./scales").isValid,m=v("../../registry").traceIs;function d(h,u){var C=u.slice(0,u.length-1);return u?g.nestedProperty(h,C).get()||{}:h}pe.exports=function h(u,C,b,M,w){var N=w.prefix,A=w.cLetter,V="_module"in C,L=d(u,N),H=d(C,N),I=d(C._template||{},N)||{},D=function(){return delete u.coloraxis,delete C.coloraxis,h(u,C,b,M,w)};if(V){var E=b._colorAxes||{},P=M(N+"coloraxis");if(P){var S=m(C,"contour")&&g.nestedProperty(C,"contours.coloring").get()||"heatmap",R=E[P];return void(R?(R[2].push(D),R[0]!==S&&(R[0]=!1,g.warn(["Ignoring coloraxis:",P,"setting","as it is linked to incompatible colorscales."].join(" ")))):E[P]=[S,C,[D]])}}var G=L[A+"min"],z=L[A+"max"],X=s(G)&&s(z)&&G<z;M(N+A+"auto",!X)?M(N+A+"mid"):(M(N+A+"min"),M(N+A+"max"));var W,Z,ne=L.colorscale,te=I.colorscale;void 0!==ne&&(W=!l(ne)),void 0!==te&&(W=!l(te)),M(N+"autocolorscale",W),M(N+"colorscale"),M(N+"reversescale"),"marker.line."!==N&&(N&&V&&(Z=p(L)),M(N+"showscale",Z)&&(N&&I&&(H._template=I),c(L,H,b)))}},{"../../lib":232,"../../registry":318,"../colorbar/defaults":105,"../colorbar/has_colorbar":107,"./scales":117,"fast-isnumeric":17}],113:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("tinycolor2"),p=v("fast-isnumeric"),c=v("../../lib"),l=v("../color"),m=v("./scales").isValid,d=["showscale","autocolorscale","colorscale","reversescale","colorbar"],h=["min","max","mid","auto"];function u(N){var A,V,L,H=N._colorAx,I=H||N,D={};for(V=0;V<d.length;V++)D[L=d[V]]=I[L];if(H)for(A="c",V=0;V<h.length;V++)D[L=h[V]]=I["c"+L];else{var E;for(V=0;V<h.length;V++)((E="c"+(L=h[V]))in I||(E="z"+L)in I)&&(D[L]=I[E]);A=E.charAt(0)}return D._sync=function(P,S){var R=-1!==h.indexOf(P)?A+P:P;I[R]=I["_"+R]=S},D}function C(N){for(var A=u(N),V=A.min,L=A.max,H=A.reversescale?b(A.colorscale):A.colorscale,I=H.length,D=new Array(I),E=new Array(I),P=0;P<I;P++){var S=H[P];D[P]=V+S[0]*(L-V),E[P]=S[1]}return{domain:D,range:E}}function b(N){for(var A=N.length,V=new Array(A),L=A-1,H=0;L>=0;L--,H++){var I=N[L];V[H]=[1-I[0],I[1]]}return V}function M(N,A){A=A||{};for(var V=N.domain,L=N.range,H=L.length,I=new Array(H),D=0;D<H;D++){var E=g(L[D]).toRgb();I[D]=[E.r,E.g,E.b,E.a]}var P,S=s.scale.linear().domain(V).range(I).clamp(!0),R=A.noNumericCheck,G=A.returnArray;return(P=R&&G?S:R?function(z){return w(S(z))}:G?function(z){return p(z)?S(z):g(z).isValid()?z:l.defaultLine}:function(z){return p(z)?w(S(z)):g(z).isValid()?z:l.defaultLine}).domain=S.domain,P.range=function(){return L},P}function w(N){return g({r:N[0],g:N[1],b:N[2],a:N[3]}).toRgbString()}pe.exports={hasColorscale:function(N,A,V){var L=A?c.nestedProperty(N,A).get()||{}:N,H=L[V||"color"],I=!1;if(c.isArrayOrTypedArray(H))for(var D=0;D<H.length;D++)if(p(H[D])){I=!0;break}return c.isPlainObject(L)&&(I||!0===L.showscale||p(L.cmin)&&p(L.cmax)||m(L.colorscale)||c.isPlainObject(L.colorbar))},extractOpts:u,extractScale:C,flipScale:b,makeColorScaleFunc:M,makeColorScaleFuncFromTrace:function(N,A){return M(C(N),A)}}},{"../../lib":232,"../color":102,"./scales":117,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],114:[function(v,pe,J){"use strict";var s=v("./scales"),g=v("./helpers");pe.exports={moduleType:"component",name:"colorscale",attributes:v("./attributes"),layoutAttributes:v("./layout_attributes"),supplyLayoutDefaults:v("./layout_defaults"),handleDefaults:v("./defaults"),crossTraceDefaults:v("./cross_trace_defaults"),calc:v("./calc"),scales:s.scales,defaultScale:s.defaultScale,getScale:s.get,isValidScale:s.isValid,hasColorscale:g.hasColorscale,extractOpts:g.extractOpts,extractScale:g.extractScale,flipScale:g.flipScale,makeColorScaleFunc:g.makeColorScaleFunc,makeColorScaleFuncFromTrace:g.makeColorScaleFuncFromTrace}},{"./attributes":109,"./calc":110,"./cross_trace_defaults":111,"./defaults":112,"./helpers":113,"./layout_attributes":115,"./layout_defaults":116,"./scales":117}],115:[function(v,pe,J){"use strict";var s=v("../../lib/extend").extendFlat,g=v("./attributes"),p=v("./scales").scales;pe.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:p.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:p.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:p.RdBu,editType:"calc"}},coloraxis:s({_isSubplotObj:!0,editType:"calc"},g("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":226,"./attributes":109,"./scales":117}],116:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plot_api/plot_template"),p=v("./layout_attributes"),c=v("./defaults");pe.exports=function(l,m){function d(A,V){return s.coerce(l,m,p,A,V)}d("colorscale.sequential"),d("colorscale.sequentialminus"),d("colorscale.diverging");var h,u,C=m._colorAxes;function b(A,V){return s.coerce(h,u,p.coloraxis,A,V)}for(var M in C){var w=C[M];if(w[0])h=l[M]||{},(u=g.newContainer(m,M,"coloraxis"))._name=M,c(h,u,m,b,{prefix:"",cLetter:"c"});else{for(var N=0;N<w[2].length;N++)w[2][N]();delete m._colorAxes[M]}}}},{"../../lib":232,"../../plot_api/plot_template":268,"./defaults":112,"./layout_attributes":115}],117:[function(v,pe,J){"use strict";var s=v("tinycolor2"),g={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},p=g.RdBu;function c(l){var m=0;if(!Array.isArray(l)||l.length<2||!l[0]||!l[l.length-1]||0!=+l[0][0]||1!=+l[l.length-1][0])return!1;for(var d=0;d<l.length;d++){var h=l[d];if(2!==h.length||+h[0]<m||!s(h[1]).isValid())return!1;m=+h[0]}return!0}pe.exports={scales:g,defaultScale:p,get:function(l,m){if(m||(m=p),!l)return m;function d(){try{l=g[l]||JSON.parse(l)}catch{l=m}}return"string"==typeof l&&(d(),"string"==typeof l&&d()),c(l)?l:m},isValid:function(l){return void 0!==g[l]||c(l)}}},{tinycolor2:67}],118:[function(v,pe,J){"use strict";pe.exports=function(s,g,p,c,l){var m=(s-p)/(c-p),d=m+g/(c-p),h=(m+d)/2;return"left"===l||"bottom"===l?m:"center"===l||"middle"===l?h:"right"===l||"top"===l?d:m<2/3-h?m:d>4/3-h?d:h}},{}],119:[function(v,pe,J){"use strict";var s=v("../../lib"),g=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];pe.exports=function(p,c,l,m){return p="left"===l?0:"center"===l?1:"right"===l?2:s.constrain(Math.floor(3*p),0,2),c="bottom"===m?0:"middle"===m?1:"top"===m?2:s.constrain(Math.floor(3*c),0,2),g[c][p]}},{"../../lib":232}],120:[function(v,pe,J){"use strict";J.selectMode=function(s){return"lasso"===s||"select"===s},J.drawMode=function(s){return"drawclosedpath"===s||"drawopenpath"===s||"drawline"===s||"drawrect"===s||"drawcircle"===s},J.openMode=function(s){return"drawline"===s||"drawopenpath"===s},J.rectMode=function(s){return"select"===s||"drawline"===s||"drawrect"===s||"drawcircle"===s},J.freeMode=function(s){return"lasso"===s||"drawclosedpath"===s||"drawopenpath"===s},J.selectingOrDrawing=function(s){return J.freeMode(s)||J.rectMode(s)}},{}],121:[function(v,pe,J){"use strict";var s=v("mouse-event-offset"),g=v("has-hover"),p=v("has-passive-events"),c=v("../../lib").removeElement,l=v("../../plots/cartesian/constants"),m=pe.exports={};m.align=v("./align"),m.getCursor=v("./cursor");var d=v("./unhover");function h(){var C=document.createElement("div");C.className="dragcover";var b=C.style;return b.position="fixed",b.left=0,b.right=0,b.top=0,b.bottom=0,b.zIndex=999999999,b.background="none",document.body.appendChild(C),C}function u(C){return s(C.changedTouches?C.changedTouches[0]:C,document.body)}m.unhover=d.wrapped,m.unhoverRaw=d.raw,m.init=function(C){var b,M,w,N,A,V,L,H,I=C.gd,D=1,E=I._context.doubleClickDelay,P=C.element;I._mouseDownTime||(I._mouseDownTime=0),P.style.pointerEvents="all",P.onmousedown=R,p?(P._ontouchstart&&P.removeEventListener("touchstart",P._ontouchstart),P._ontouchstart=R,P.addEventListener("touchstart",R,{passive:!1})):P.ontouchstart=R;var S=C.clampFn||function(X,W,Z){return Math.abs(X)<Z&&(X=0),Math.abs(W)<Z&&(W=0),[X,W]};function R(X){I._dragged=!1,I._dragging=!0;var W=u(X);b=W[0],M=W[1],L=X.target,V=X,H=2===X.buttons||X.ctrlKey,void 0===X.clientX&&void 0===X.clientY&&(X.clientX=b,X.clientY=M),(w=(new Date).getTime())-I._mouseDownTime<E?D+=1:(D=1,I._mouseDownTime=w),C.prepFn&&C.prepFn(X,b,M),g&&!H?(A=h()).style.cursor=window.getComputedStyle(P).cursor:g||(A=document,N=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(P).cursor),document.addEventListener("mouseup",z),document.addEventListener("touchend",z),!1!==C.dragmode&&(X.preventDefault(),document.addEventListener("mousemove",G),document.addEventListener("touchmove",G,{passive:!1}))}function G(X){X.preventDefault();var W=u(X),ne=S(W[0]-b,W[1]-M,C.minDrag||l.MINDRAG),te=ne[0],oe=ne[1];(te||oe)&&(I._dragged=!0,m.unhover(I,X)),I._dragged&&C.moveFn&&!H&&(I._dragdata={element:P,dx:te,dy:oe},C.moveFn(te,oe))}function z(X){if(delete I._dragdata,!1!==C.dragmode&&(X.preventDefault(),document.removeEventListener("mousemove",G),document.removeEventListener("touchmove",G)),document.removeEventListener("mouseup",z),document.removeEventListener("touchend",z),g?c(A):N&&(A.documentElement.style.cursor=N,N=null),I._dragging){if(I._dragging=!1,(new Date).getTime()-I._mouseDownTime>E&&(D=Math.max(D-1,1)),I._dragged)C.doneFn&&C.doneFn();else if(C.clickFn&&C.clickFn(D,V),!H){var W;try{W=new MouseEvent("click",X)}catch{var Z=u(X);(W=document.createEvent("MouseEvents")).initMouseEvent("click",X.bubbles,X.cancelable,X.view,X.detail,X.screenX,X.screenY,Z[0],Z[1],X.ctrlKey,X.altKey,X.shiftKey,X.metaKey,X.button,X.relatedTarget)}L.dispatchEvent(W)}I._dragging=!1,I._dragged=!1}else I._dragged=!1}},m.coverSlip=h},{"../../lib":232,"../../plots/cartesian/constants":286,"./align":118,"./cursor":119,"./unhover":122,"has-hover":48,"has-passive-events":49,"mouse-event-offset":53}],122:[function(v,pe,J){"use strict";var s=v("../../lib/events"),g=v("../../lib/throttle"),p=v("../../lib/dom").getGraphDiv,c=v("../fx/constants"),l=pe.exports={};l.wrapped=function(m,d,h){(m=p(m))._fullLayout&&g.clear(m._fullLayout._uid+c.HOVERID),l.raw(m,d,h)},l.raw=function(m,d){var h=m._fullLayout,u=m._hoverdata;d||(d={}),d.target&&!m._dragged&&!1===s.triggerHandler(m,"plotly_beforehover",d)||(h._hoverlayer.selectAll("g").remove(),h._hoverlayer.selectAll("line").remove(),h._hoverlayer.selectAll("circle").remove(),m._hoverdata=void 0,d.target&&u&&m.emit("plotly_unhover",{event:d,points:u}))}},{"../../lib/dom":224,"../../lib/events":225,"../../lib/throttle":256,"../fx/constants":136}],123:[function(v,pe,J){"use strict";J.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},J.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},{}],124:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../lib"),p=g.numberFormat,c=v("fast-isnumeric"),l=v("tinycolor2"),m=v("../../registry"),d=v("../color"),h=v("../colorscale"),u=g.strTranslate,C=v("../../lib/svg_text_utils"),b=v("../../constants/xmlns_namespaces"),M=v("../../constants/alignment").LINE_SPACING,w=v("../../constants/interactions").DESELECTDIM,N=v("../../traces/scatter/subtypes"),A=v("../../traces/scatter/make_bubble_size_func"),V=v("../../components/fx/helpers").appendArrayPointValue,L=pe.exports={};function H(j,$,se){var ee=$.fillpattern,F=ee&&L.getPatternAttr(ee.shape,0,"");if(F){var O=L.getPatternAttr(ee.bgcolor,0,null),Y=L.getPatternAttr(ee.fgcolor,0,null),B=ee.fgopacity,ae=L.getPatternAttr(ee.size,0,8),ue=L.getPatternAttr(ee.solidity,0,.3);L.pattern(j,"point",se,$.uid,F,ae,ue,void 0,ee.fillmode,O,Y,B)}else $.fillcolor&&j.call(d.fill,$.fillcolor)}L.font=function(j,$,se,ee){g.isPlainObject($)&&(ee=$.color,se=$.size,$=$.family),$&&j.style("font-family",$),se+1&&j.style("font-size",se+"px"),ee&&j.call(d.fill,ee)},L.setPosition=function(j,$,se){j.attr("x",$).attr("y",se)},L.setSize=function(j,$,se){j.attr("width",$).attr("height",se)},L.setRect=function(j,$,se,ee,F){j.call(L.setPosition,$,se).call(L.setSize,ee,F)},L.translatePoint=function(j,$,se,ee){var F=se.c2p(j.x),O=ee.c2p(j.y);return!!(c(F)&&c(O)&&$.node())&&("text"===$.node().nodeName?$.attr("x",F).attr("y",O):$.attr("transform",u(F,O)),!0)},L.translatePoints=function(j,$,se){j.each(function(ee){var F=s.select(this);L.translatePoint(ee,F,$,se)})},L.hideOutsideRangePoint=function(j,$,se,ee,F,O){$.attr("display",se.isPtWithinRange(j,F)&&ee.isPtWithinRange(j,O)?null:"none")},L.hideOutsideRangePoints=function(j,$){if($._hasClipOnAxisFalse){var se=$.xaxis,ee=$.yaxis;j.each(function(F){var O=F[0].trace,Y=O.xcalendar,B=O.ycalendar,ae=m.traceIs(O,"bar-like")?".bartext":".point,.textpoint";j.selectAll(ae).each(function(ue){L.hideOutsideRangePoint(ue,s.select(this),se,ee,Y,B)})})}},L.crispRound=function(j,$,se){return $&&c($)?j._context.staticPlot?$:$<1?1:Math.round($):se||0},L.singleLineStyle=function(j,$,se,ee,F){$.style("fill","none");var O=(((j||[])[0]||{}).trace||{}).line||{},Y=se||O.width||0,B=F||O.dash||"";d.stroke($,ee||O.color),L.dashLine($,B,Y)},L.lineGroupStyle=function(j,$,se,ee){j.style("fill","none").each(function(F){var O=(((F||[])[0]||{}).trace||{}).line||{},Y=$||O.width||0,B=ee||O.dash||"";s.select(this).call(d.stroke,se||O.color).call(L.dashLine,B,Y)})},L.dashLine=function(j,$,se){$=L.dashStyle($,se=+se||0),j.style({"stroke-dasharray":$,"stroke-width":se+"px"})},L.dashStyle=function(j,$){$=+$||1;var se=Math.max($,3);return"solid"===j?j="":"dot"===j?j=se+"px,"+se+"px":"dash"===j?j=3*se+"px,"+3*se+"px":"longdash"===j?j=5*se+"px,"+5*se+"px":"dashdot"===j?j=3*se+"px,"+se+"px,"+se+"px,"+se+"px":"longdashdot"===j&&(j=5*se+"px,"+2*se+"px,"+se+"px,"+2*se+"px"),j},L.singleFillStyle=function(j,$){var se=s.select(j.node());H(j,((se.data()[0]||[])[0]||{}).trace||{},$)},L.fillGroupStyle=function(j,$){j.style("stroke-width",0).each(function(se){var ee=s.select(this);se[0].trace&&H(ee,se[0].trace,$)})};var I=v("./symbol_defs");L.symbolNames=[],L.symbolFuncs=[],L.symbolNeedLines={},L.symbolNoDot={},L.symbolNoFill={},L.symbolList=[],Object.keys(I).forEach(function(j){var $=I[j],se=$.n;L.symbolList.push(se,String(se),j,se+100,String(se+100),j+"-open"),L.symbolNames[se]=j,L.symbolFuncs[se]=$.f,$.needLine&&(L.symbolNeedLines[se]=!0),$.noDot?L.symbolNoDot[se]=!0:L.symbolList.push(se+200,String(se+200),j+"-dot",se+300,String(se+300),j+"-open-dot"),$.noFill&&(L.symbolNoFill[se]=!0)});var D=L.symbolNames.length;function E(j,$){return L.symbolFuncs[j%100]($)+(j>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}L.symbolNumber=function(j){if(c(j))j=+j;else if("string"==typeof j){var $=0;j.indexOf("-open")>0&&($=100,j=j.replace("-open","")),j.indexOf("-dot")>0&&($+=200,j=j.replace("-dot","")),(j=L.symbolNames.indexOf(j))>=0&&(j+=$)}return j%100>=D||j>=400?0:Math.floor(Math.max(j,0))};var P={x1:1,x2:0,y1:0,y2:0},S={x1:0,x2:0,y1:1,y2:0},R=p("~f"),G={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:P},horizontalreversed:{node:"linearGradient",attrs:P,reversed:!0},vertical:{node:"linearGradient",attrs:S},verticalreversed:{node:"linearGradient",attrs:S,reversed:!0}};L.gradient=function(j,$,se,ee,F,O){for(var Y=F.length,B=G[ee],ae=new Array(Y),ue=0;ue<Y;ue++)B.reversed?ae[Y-1-ue]=[R(100*(1-F[ue][0])),F[ue][1]]:ae[ue]=[R(100*F[ue][0]),F[ue][1]];var fe=$._fullLayout,he="g"+fe._uid+"-"+se,xe=fe._defs.select(".gradients").selectAll("#"+he).data([ee+ae.join(";")],g.identity);xe.exit().remove(),xe.enter().append(B.node).each(function(){var be=s.select(this);B.attrs&&be.attr(B.attrs),be.attr("id",he);var Ve=be.selectAll("stop").data(ae);Ve.exit().remove(),Ve.enter().append("stop"),Ve.each(function(Ae){var Oe=l(Ae[1]);s.select(this).attr({offset:Ae[0]+"%","stop-color":d.tinyRGB(Oe),"stop-opacity":Oe.getAlpha()})})}),j.style(O,ie(he,$)).style(O+"-opacity",null),j.classed("gradient_filled",!0)},L.pattern=function(j,$,se,ee,F,O,Y,B,ae,ue,fe,he){var xe="legend"===$;B&&("overlay"===ae?fe=d.contrast(ue=B):(ue=void 0,fe=B));var be,Ve,Ae,Oe,Re,tt,Ke,$e,ve,Te=se._fullLayout,qe="p"+Te._uid+"-"+ee,Ee={};switch(F){case"/":be=O*Math.sqrt(2),Ve=O*Math.sqrt(2),tt="path",Ee={d:Ae="M-"+be/4+","+Ve/4+"l"+be/2+",-"+Ve/2+"M0,"+Ve+"L"+be+",0M"+be/4*3+","+Ve/4*5+"l"+be/2+",-"+Ve/2,opacity:he,stroke:fe,"stroke-width":(Oe=Y*O)+"px"};break;case"\\":be=O*Math.sqrt(2),Ve=O*Math.sqrt(2),tt="path",Ee={d:Ae="M"+be/4*3+",-"+Ve/4+"l"+be/2+","+Ve/2+"M0,0L"+be+","+Ve+"M-"+be/4+","+Ve/4*3+"l"+be/2+","+Ve/2,opacity:he,stroke:fe,"stroke-width":(Oe=Y*O)+"px"};break;case"x":be=O*Math.sqrt(2),Ve=O*Math.sqrt(2),Ae="M-"+be/4+","+Ve/4+"l"+be/2+",-"+Ve/2+"M0,"+Ve+"L"+be+",0M"+be/4*3+","+Ve/4*5+"l"+be/2+",-"+Ve/2+"M"+be/4*3+",-"+Ve/4+"l"+be/2+","+Ve/2+"M0,0L"+be+","+Ve+"M-"+be/4+","+Ve/4*3+"l"+be/2+","+Ve/2,Oe=O-O*Math.sqrt(1-Y),tt="path",Ee={d:Ae,opacity:he,stroke:fe,"stroke-width":Oe+"px"};break;case"|":tt="path",tt="path",Ee={d:Ae="M"+(be=O)/2+",0L"+be/2+","+(Ve=O),opacity:he,stroke:fe,"stroke-width":(Oe=Y*O)+"px"};break;case"-":tt="path",tt="path",Ee={d:Ae="M0,"+(Ve=O)/2+"L"+(be=O)+","+Ve/2,opacity:he,stroke:fe,"stroke-width":(Oe=Y*O)+"px"};break;case"+":tt="path",Ae="M"+(be=O)/2+",0L"+be/2+","+(Ve=O)+"M0,"+Ve/2+"L"+be+","+Ve/2,Oe=O-O*Math.sqrt(1-Y),tt="path",Ee={d:Ae,opacity:he,stroke:fe,"stroke-width":Oe+"px"};break;case".":be=O,Ve=O,Y<Math.PI/4?Re=Math.sqrt(Y*O*O/Math.PI):(Ke=Y,$e=Math.PI/4,1,Re=(ve=O/2)+(O/Math.sqrt(2)-ve)*(Ke-$e)/(1-$e)),tt="circle",Ee={cx:be/2,cy:Ve/2,r:Re,opacity:he,fill:fe}}var Ie=[F||"noSh",ue||"noBg",fe||"noFg",O,Y].join(";"),Qe=Te._defs.select(".patterns").selectAll("#"+qe).data([Ie],g.identity);Qe.exit().remove(),Qe.enter().append("pattern").each(function(){var nt=s.select(this);if(nt.attr({id:qe,width:be+"px",height:Ve+"px",patternUnits:"userSpaceOnUse",patternTransform:xe?"scale(0.8)":""}),ue){var Ye=nt.selectAll("rect").data([0]);Ye.exit().remove(),Ye.enter().append("rect").attr({width:be+"px",height:Ve+"px",fill:ue})}var rt=nt.selectAll(tt).data([0]);rt.exit().remove(),rt.enter().append(tt).attr(Ee)}),j.style("fill",ie(qe,se)).style("fill-opacity",null),j.classed("pattern_filled",!0)},L.initGradients=function(j){g.ensureSingle(j._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),s.select(j).selectAll(".gradient_filled").classed("gradient_filled",!1)},L.initPatterns=function(j){g.ensureSingle(j._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),s.select(j).selectAll(".pattern_filled").classed("pattern_filled",!1)},L.getPatternAttr=function(j,$,se){return j&&g.isArrayOrTypedArray(j)?$<j.length?j[$]:se:j},L.pointStyle=function(j,$,se){if(j.size()){var ee=L.makePointStyleFns($);j.each(function(F){L.singlePointStyle(F,s.select(this),$,ee,se)})}},L.singlePointStyle=function(j,$,se,ee,F){var O=se.marker,Y=O.line;if($.style("opacity",ee.selectedOpacityFn?ee.selectedOpacityFn(j):void 0===j.mo?O.opacity:j.mo),ee.ms2mrc){var B;B="various"===j.ms||"various"===O.size?3:ee.ms2mrc(j.ms),j.mrc=B,ee.selectedSizeFn&&(B=j.mrc=ee.selectedSizeFn(j));var ae=L.symbolNumber(j.mx||O.symbol)||0;j.om=ae%200>=100,$.attr("d",E(ae,B))}var ue,fe,he,xe=!1;if(j.so?(he=Y.outlierwidth,fe=Y.outliercolor,ue=O.outliercolor):(he=(j.mlw+1||(Y||{}).width+1||(j.trace?(j.trace.marker.line||{}).width:0)+1)-1||0,fe="mlc"in j?j.mlcc=ee.lineScale(j.mlc):g.isArrayOrTypedArray(Y.color)?d.defaultLine:Y.color,g.isArrayOrTypedArray(O.color)&&(ue=d.defaultLine,xe=!0),ue="mc"in j?j.mcc=ee.markerScale(j.mc):O.color||"rgba(0,0,0,0)",ee.selectedColorFn&&(ue=ee.selectedColorFn(j))),j.om)$.call(d.stroke,ue).style({"stroke-width":(he||1)+"px",fill:"none"});else{$.style("stroke-width",(j.isBlank?0:he)+"px");var Ve=O.gradient,Ae=j.mgt;Ae?xe=!0:Ae=Ve&&Ve.type,g.isArrayOrTypedArray(Ae)&&(G[Ae=Ae[0]]||(Ae=0));var Oe=O.pattern,Re=Oe&&L.getPatternAttr(Oe.shape,j.i,"");if(Ae&&"none"!==Ae){var tt=j.mgc;tt?xe=!0:tt=Ve.color;var Ke=se.uid;xe&&(Ke+="-"+j.i),L.gradient($,F,Ke,Ae,[[0,tt],[1,ue]],"fill")}else if(Re){var $e=L.getPatternAttr(Oe.bgcolor,j.i,null),Me=L.getPatternAttr(Oe.fgcolor,j.i,null),ve=Oe.fgopacity,Se=L.getPatternAttr(Oe.size,j.i,8),Te=L.getPatternAttr(Oe.solidity,j.i,.3),qe=j.mcc||g.isArrayOrTypedArray(Oe.shape)||g.isArrayOrTypedArray(Oe.bgcolor)||g.isArrayOrTypedArray(Oe.size)||g.isArrayOrTypedArray(Oe.solidity),Ee=se.uid;qe&&(Ee+="-"+j.i),L.pattern($,"point",F,Ee,Re,Se,Te,j.mcc,Oe.fillmode,$e,Me,ve)}else d.fill($,ue);he&&d.stroke($,fe)}},L.makePointStyleFns=function(j){var $={},se=j.marker;return $.markerScale=L.tryColorscale(se,""),$.lineScale=L.tryColorscale(se,"line"),m.traceIs(j,"symbols")&&($.ms2mrc=N.isBubble(j)?A(j):function(){return(se.size||6)/2}),j.selectedpoints&&g.extendFlat($,L.makeSelectedPointStyleFns(j)),$},L.makeSelectedPointStyleFns=function(j){var $={},F=j.marker||{},O=(j.selected||{}).marker||{},Y=(j.unselected||{}).marker||{},ae=O.opacity,ue=Y.opacity,fe=void 0!==ae,he=void 0!==ue;(g.isArrayOrTypedArray(F.opacity)||fe||he)&&($.selectedOpacityFn=function($e){var Me=void 0===$e.mo?F.opacity:$e.mo;return $e.selected?fe?ae:Me:he?ue:w*Me});var xe=F.color,be=O.color,Ve=Y.color;(be||Ve)&&($.selectedColorFn=function($e){var Me=$e.mcc||xe;return $e.selected?be||Me:Ve||Me});var Ae=F.size,Oe=O.size,Re=Y.size,tt=void 0!==Oe,Ke=void 0!==Re;return m.traceIs(j,"symbols")&&(tt||Ke)&&($.selectedSizeFn=function($e){var Me=$e.mrc||Ae/2;return $e.selected?tt?Oe/2:Me:Ke?Re/2:Me}),$},L.makeSelectedTextStyleFns=function(j){var $={},B=(j.textfont||{}).color,ae=((j.selected||{}).textfont||{}).color,ue=((j.unselected||{}).textfont||{}).color;return $.selectedTextColorFn=function(fe){var he=fe.tc||B;return fe.selected?ae||he:ue||(ae?he:d.addOpacity(he,w))},$},L.selectedPointStyle=function(j,$){if(j.size()&&$.selectedpoints){var se=L.makeSelectedPointStyleFns($),ee=$.marker||{},F=[];se.selectedOpacityFn&&F.push(function(O,Y){O.style("opacity",se.selectedOpacityFn(Y))}),se.selectedColorFn&&F.push(function(O,Y){d.fill(O,se.selectedColorFn(Y))}),se.selectedSizeFn&&F.push(function(O,Y){var B=Y.mx||ee.symbol||0,ae=se.selectedSizeFn(Y);O.attr("d",E(L.symbolNumber(B),ae)),Y.mrc2=ae}),F.length&&j.each(function(O){for(var Y=s.select(this),B=0;B<F.length;B++)F[B](Y,O)})}},L.tryColorscale=function(j,$){var se=$?g.nestedProperty(j,$).get():j;return se&&(se.colorscale||se._colorAx)&&g.isArrayOrTypedArray(se.color)?h.makeColorScaleFuncFromTrace(se):g.identity};var z={start:1,end:-1,middle:0,bottom:1,top:-1};function X(j,$,se,ee,F){var O=s.select(j.node().parentNode),Y=-1!==$.indexOf("top")?"top":-1!==$.indexOf("bottom")?"bottom":"middle",B=-1!==$.indexOf("left")?"end":-1!==$.indexOf("right")?"start":"middle",ae=ee?ee/.8+1:0,ue=(C.lineCount(j)-1)*M+1,fe=z[B]*ae,he=.75*se+z[Y]*ae+(z[Y]-1)*ue*se/2;j.attr("text-anchor",B),F||O.attr("transform",u(fe,he))}function W(j,$){var se=j.ts||$.textfont.size;return c(se)&&se>0?se:0}function Z(j,$,se,ee){var F=j[0]-$[0],O=j[1]-$[1],Y=se[0]-$[0],B=se[1]-$[1],ae=Math.pow(F*F+O*O,.25),ue=Math.pow(Y*Y+B*B,.25),fe=(ue*ue*F-ae*ae*Y)*ee,he=(ue*ue*O-ae*ae*B)*ee,xe=3*ue*(ae+ue),be=3*ae*(ae+ue);return[[s.round($[0]+(xe&&fe/xe),2),s.round($[1]+(xe&&he/xe),2)],[s.round($[0]-(be&&fe/be),2),s.round($[1]-(be&&he/be),2)]]}L.textPointStyle=function(j,$,se){if(j.size()){var ee;if($.selectedpoints){var F=L.makeSelectedTextStyleFns($);ee=F.selectedTextColorFn}var O=$.texttemplate,Y=se._fullLayout;j.each(function(B){var ae=s.select(this),ue=O?g.extractOption(B,$,"txt","texttemplate"):g.extractOption(B,$,"tx","text");if(ue||0===ue){if(O){var fe=$._module.formatLabels,he=fe?fe(B,$,Y):{},xe={};V(xe,$,B.i),ue=g.texttemplateString(ue,he,Y._d3locale,xe,B,$._meta||{})}var Ve=B.tp||$.textposition,Ae=W(B,$),Oe=ee?ee(B):B.tc||$.textfont.color;ae.call(L.font,B.tf||$.textfont.family,Ae,Oe).text(ue).call(C.convertToTspans,se).call(X,Ve,Ae,B.mrc)}else ae.remove()})}},L.selectedTextStyle=function(j,$){if(j.size()&&$.selectedpoints){var se=L.makeSelectedTextStyleFns($);j.each(function(ee){var F=s.select(this),O=se.selectedTextColorFn(ee),Y=ee.tp||$.textposition,B=W(ee,$);d.fill(F,O);var ae=m.traceIs($,"bar-like");X(F,Y,B,ee.mrc2||ee.mrc,ae)})}},L.smoothopen=function(j,$){if(j.length<3)return"M"+j.join("L");var se,ee="M"+j[0],F=[];for(se=1;se<j.length-1;se++)F.push(Z(j[se-1],j[se],j[se+1],$));for(ee+="Q"+F[0][0]+" "+j[1],se=2;se<j.length-1;se++)ee+="C"+F[se-2][1]+" "+F[se-1][0]+" "+j[se];return ee+"Q"+F[j.length-3][1]+" "+j[j.length-1]},L.smoothclosed=function(j,$){if(j.length<3)return"M"+j.join("L")+"Z";var se,ee="M"+j[0],F=j.length-1,O=[Z(j[F],j[0],j[1],$)];for(se=1;se<F;se++)O.push(Z(j[se-1],j[se],j[se+1],$));for(O.push(Z(j[F-1],j[F],j[0],$)),se=1;se<=F;se++)ee+="C"+O[se-1][1]+" "+O[se][0]+" "+j[se];return ee+"C"+O[F][1]+" "+O[0][0]+" "+j[0]+"Z"};var ne={hv:function(j,$){return"H"+s.round($[0],2)+"V"+s.round($[1],2)},vh:function(j,$){return"V"+s.round($[1],2)+"H"+s.round($[0],2)},hvh:function(j,$){return"H"+s.round((j[0]+$[0])/2,2)+"V"+s.round($[1],2)+"H"+s.round($[0],2)},vhv:function(j,$){return"V"+s.round((j[1]+$[1])/2,2)+"H"+s.round($[0],2)+"V"+s.round($[1],2)}},te=function(j,$){return"L"+s.round($[0],2)+","+s.round($[1],2)};L.steps=function(j){var $=ne[j]||te;return function(se){for(var ee="M"+s.round(se[0][0],2)+","+s.round(se[0][1],2),F=1;F<se.length;F++)ee+=$(se[F-1],se[F]);return ee}},L.makeTester=function(){var j=g.ensureSingleById(s.select("body"),"svg","js-plotly-tester",function(se){se.attr(b.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),$=g.ensureSingle(j,"path","js-reference-point",function(se){se.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});L.tester=j,L.testref=$},L.savedBBoxes={};var oe=0;function Ce(j){var $=j.getAttribute("data-unformatted");if(null!==$)return $+j.getAttribute("data-math")+j.getAttribute("text-anchor")+j.getAttribute("style")}function ie(j,$){if(!j)return null;var se=$._context,ee=se._exportedPlot?"":se._baseUrl||"";return ee?"url('"+ee+"#"+j+"')":"url(#"+j+")"}L.bBox=function(j,$,se){var ee,F,O;if(se||(se=Ce(j)),se){if(ee=L.savedBBoxes[se])return g.extendFlat({},ee)}else if(1===j.childNodes.length){var Y=j.childNodes[0];if(se=Ce(Y)){var B=+Y.getAttribute("x")||0,ae=+Y.getAttribute("y")||0,ue=Y.getAttribute("transform");if(!ue){var fe=L.bBox(Y,!1,se);return B&&(fe.left+=B,fe.right+=B),ae&&(fe.top+=ae,fe.bottom+=ae),fe}if(ee=L.savedBBoxes[se+="~"+B+"~"+ae+"~"+ue])return g.extendFlat({},ee)}}$?F=j:(O=L.tester.node(),F=j.cloneNode(!0),O.appendChild(F)),s.select(F).attr("transform",null).call(C.positionText,0,0);var he=F.getBoundingClientRect(),xe=L.testref.node().getBoundingClientRect();$||O.removeChild(F);var be={height:he.height,width:he.width,left:he.left-xe.left,top:he.top-xe.top,right:he.right-xe.left,bottom:he.bottom-xe.top};return oe>=1e4&&(L.savedBBoxes={},oe=0),se&&(L.savedBBoxes[se]=be),oe++,g.extendFlat({},be)},L.setClipUrl=function(j,$,se){j.attr("clip-path",ie($,se))},L.getTranslate=function(j){var $=(j[j.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(se,ee,F){return[ee,F].join(" ")}).split(" ");return{x:+$[0]||0,y:+$[1]||0}},L.setTranslate=function(j,$,se){var F=j.attr?"attr":"setAttribute",O=j[j.attr?"attr":"getAttribute"]("transform")||"";return $=$||0,se=se||0,O=O.replace(/(\btranslate\(.*?\);?)/,"").trim(),O=(O+=u($,se)).trim(),j[F]("transform",O),O},L.getScale=function(j){var $=(j[j.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(se,ee,F){return[ee,F].join(" ")}).split(" ");return{x:+$[0]||1,y:+$[1]||1}},L.setScale=function(j,$,se){var F=j.attr?"attr":"setAttribute",O=j[j.attr?"attr":"getAttribute"]("transform")||"";return $=$||1,se=se||1,O=O.replace(/(\bscale\(.*?\);?)/,"").trim(),O=(O+="scale("+$+","+se+")").trim(),j[F]("transform",O),O};var Q=/\s*sc.*/;L.setPointGroupScale=function(j,$,se){if($=$||1,se=se||1,j){var ee=1===$&&1===se?"":"scale("+$+","+se+")";j.each(function(){var F=(this.getAttribute("transform")||"").replace(Q,"");F=(F+=ee).trim(),this.setAttribute("transform",F)})}};var le=/translate\([^)]*\)\s*$/;L.setTextPointsScale=function(j,$,se){j&&j.each(function(){var ee,F=s.select(this),O=F.select("text");if(O.node()){var Y=parseFloat(O.attr("x")||0),B=parseFloat(O.attr("y")||0),ae=(F.attr("transform")||"").match(le);ee=1===$&&1===se?[]:[u(Y,B),"scale("+$+","+se+")",u(-Y,-B)],ae&&ee.push(ae),F.attr("transform",ee.join(""))}})}},{"../../components/fx/helpers":138,"../../constants/alignment":207,"../../constants/interactions":211,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../lib/svg_text_utils":255,"../../registry":318,"../../traces/scatter/make_bubble_size_func":375,"../../traces/scatter/subtypes":383,"../color":102,"../colorscale":114,"./symbol_defs":125,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],125:[function(v,pe,J){"use strict";var s=v("@plotly/d3");pe.exports={circle:{n:0,f:function(g){var p=s.round(g,2);return"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z"}},square:{n:1,f:function(g){var p=s.round(g,2);return"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z"}},diamond:{n:2,f:function(g){var p=s.round(1.3*g,2);return"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"Z"}},cross:{n:3,f:function(g){var p=s.round(.4*g,2),c=s.round(1.2*g,2);return"M"+c+","+p+"H"+p+"V"+c+"H-"+p+"V"+p+"H-"+c+"V-"+p+"H-"+p+"V-"+c+"H"+p+"V-"+p+"H"+c+"Z"}},x:{n:4,f:function(g){var p=s.round(.8*g/Math.sqrt(2),2),c="l"+p+","+p,l="l"+p+",-"+p,m="l-"+p+",-"+p,d="l-"+p+","+p;return"M0,"+p+c+l+m+l+m+d+m+d+c+d+c+"Z"}},"triangle-up":{n:5,f:function(g){var p=s.round(2*g/Math.sqrt(3),2);return"M-"+p+","+s.round(g/2,2)+"H"+p+"L0,-"+s.round(g,2)+"Z"}},"triangle-down":{n:6,f:function(g){var p=s.round(2*g/Math.sqrt(3),2);return"M-"+p+",-"+s.round(g/2,2)+"H"+p+"L0,"+s.round(g,2)+"Z"}},"triangle-left":{n:7,f:function(g){var p=s.round(2*g/Math.sqrt(3),2);return"M"+s.round(g/2,2)+",-"+p+"V"+p+"L-"+s.round(g,2)+",0Z"}},"triangle-right":{n:8,f:function(g){var p=s.round(2*g/Math.sqrt(3),2);return"M-"+s.round(g/2,2)+",-"+p+"V"+p+"L"+s.round(g,2)+",0Z"}},"triangle-ne":{n:9,f:function(g){var p=s.round(.6*g,2),c=s.round(1.2*g,2);return"M-"+c+",-"+p+"H"+p+"V"+c+"Z"}},"triangle-se":{n:10,f:function(g){var p=s.round(.6*g,2),c=s.round(1.2*g,2);return"M"+p+",-"+c+"V"+p+"H-"+c+"Z"}},"triangle-sw":{n:11,f:function(g){var p=s.round(.6*g,2),c=s.round(1.2*g,2);return"M"+c+","+p+"H-"+p+"V-"+c+"Z"}},"triangle-nw":{n:12,f:function(g){var p=s.round(.6*g,2),c=s.round(1.2*g,2);return"M-"+p+","+c+"V-"+p+"H"+c+"Z"}},pentagon:{n:13,f:function(g){var p=s.round(.951*g,2),c=s.round(.588*g,2),l=s.round(-g,2),m=s.round(-.309*g,2);return"M"+p+","+m+"L"+c+","+s.round(.809*g,2)+"H-"+c+"L-"+p+","+m+"L0,"+l+"Z"}},hexagon:{n:14,f:function(g){var p=s.round(g,2),c=s.round(g/2,2),l=s.round(g*Math.sqrt(3)/2,2);return"M"+l+",-"+c+"V"+c+"L0,"+p+"L-"+l+","+c+"V-"+c+"L0,-"+p+"Z"}},hexagon2:{n:15,f:function(g){var p=s.round(g,2),c=s.round(g/2,2),l=s.round(g*Math.sqrt(3)/2,2);return"M-"+c+","+l+"H"+c+"L"+p+",0L"+c+",-"+l+"H-"+c+"L-"+p+",0Z"}},octagon:{n:16,f:function(g){var p=s.round(.924*g,2),c=s.round(.383*g,2);return"M-"+c+",-"+p+"H"+c+"L"+p+",-"+c+"V"+c+"L"+c+","+p+"H-"+c+"L-"+p+","+c+"V-"+c+"Z"}},star:{n:17,f:function(g){var p=1.4*g,c=s.round(.225*p,2),l=s.round(.951*p,2),m=s.round(.363*p,2),d=s.round(.588*p,2),h=s.round(-p,2),u=s.round(-.309*p,2),C=s.round(.118*p,2),b=s.round(.809*p,2);return"M"+c+","+u+"H"+l+"L"+m+","+C+"L"+d+","+b+"L0,"+s.round(.382*p,2)+"L-"+d+","+b+"L-"+m+","+C+"L-"+l+","+u+"H-"+c+"L0,"+h+"Z"}},hexagram:{n:18,f:function(g){var p=s.round(.66*g,2),c=s.round(.38*g,2),l=s.round(.76*g,2);return"M-"+l+",0l-"+c+",-"+p+"h"+l+"l"+c+",-"+p+"l"+c+","+p+"h"+l+"l-"+c+","+p+"l"+c+","+p+"h-"+l+"l-"+c+","+p+"l-"+c+",-"+p+"h-"+l+"Z"}},"star-triangle-up":{n:19,f:function(g){var p=s.round(g*Math.sqrt(3)*.8,2),c=s.round(.8*g,2),l=s.round(1.6*g,2),m=s.round(4*g,2),d="A "+m+","+m+" 0 0 1 ";return"M-"+p+","+c+d+p+","+c+d+"0,-"+l+d+"-"+p+","+c+"Z"}},"star-triangle-down":{n:20,f:function(g){var p=s.round(g*Math.sqrt(3)*.8,2),c=s.round(.8*g,2),l=s.round(1.6*g,2),m=s.round(4*g,2),d="A "+m+","+m+" 0 0 1 ";return"M"+p+",-"+c+d+"-"+p+",-"+c+d+"0,"+l+d+p+",-"+c+"Z"}},"star-square":{n:21,f:function(g){var p=s.round(1.1*g,2),c=s.round(2*g,2),l="A "+c+","+c+" 0 0 1 ";return"M-"+p+",-"+p+l+"-"+p+","+p+l+p+","+p+l+p+",-"+p+l+"-"+p+",-"+p+"Z"}},"star-diamond":{n:22,f:function(g){var p=s.round(1.4*g,2),c=s.round(1.9*g,2),l="A "+c+","+c+" 0 0 1 ";return"M-"+p+",0"+l+"0,"+p+l+p+",0"+l+"0,-"+p+l+"-"+p+",0Z"}},"diamond-tall":{n:23,f:function(g){var p=s.round(.7*g,2),c=s.round(1.4*g,2);return"M0,"+c+"L"+p+",0L0,-"+c+"L-"+p+",0Z"}},"diamond-wide":{n:24,f:function(g){var p=s.round(1.4*g,2),c=s.round(.7*g,2);return"M0,"+c+"L"+p+",0L0,-"+c+"L-"+p+",0Z"}},hourglass:{n:25,f:function(g){var p=s.round(g,2);return"M"+p+","+p+"H-"+p+"L"+p+",-"+p+"H-"+p+"Z"},noDot:!0},bowtie:{n:26,f:function(g){var p=s.round(g,2);return"M"+p+","+p+"V-"+p+"L-"+p+","+p+"V-"+p+"Z"},noDot:!0},"circle-cross":{n:27,f:function(g){var p=s.round(g,2);return"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(g){var p=s.round(g,2),c=s.round(g/Math.sqrt(2),2);return"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(g){var p=s.round(g,2);return"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(g){var p=s.round(g,2);return"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p+"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(g){var p=s.round(1.3*g,2);return"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"ZM0,-"+p+"V"+p+"M-"+p+",0H"+p},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(g){var p=s.round(1.3*g,2),c=s.round(.65*g,2);return"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"ZM-"+c+",-"+c+"L"+c+","+c+"M-"+c+","+c+"L"+c+",-"+c},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(g){var p=s.round(1.4*g,2);return"M0,"+p+"V-"+p+"M"+p+",0H-"+p},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(g){var p=s.round(g,2);return"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(g){var p=s.round(1.2*g,2),c=s.round(.85*g,2);return"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(g){var p=s.round(g/2,2),c=s.round(g,2);return"M"+p+","+c+"V-"+c+"m-"+c+",0V"+c+"M"+c+","+p+"H-"+c+"m0,-"+c+"H"+c},needLine:!0,noFill:!0},"y-up":{n:37,f:function(g){var p=s.round(1.2*g,2),c=s.round(1.6*g,2),l=s.round(.8*g,2);return"M-"+p+","+l+"L0,0M"+p+","+l+"L0,0M0,-"+c+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(g){var p=s.round(1.2*g,2),c=s.round(1.6*g,2),l=s.round(.8*g,2);return"M-"+p+",-"+l+"L0,0M"+p+",-"+l+"L0,0M0,"+c+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(g){var p=s.round(1.2*g,2),c=s.round(1.6*g,2),l=s.round(.8*g,2);return"M"+l+","+p+"L0,0M"+l+",-"+p+"L0,0M-"+c+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(g){var p=s.round(1.2*g,2),c=s.round(1.6*g,2),l=s.round(.8*g,2);return"M-"+l+","+p+"L0,0M-"+l+",-"+p+"L0,0M"+c+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(g){var p=s.round(1.4*g,2);return"M"+p+",0H-"+p},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(g){var p=s.round(1.4*g,2);return"M0,"+p+"V-"+p},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(g){var p=s.round(g,2);return"M"+p+",-"+p+"L-"+p+","+p},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(g){var p=s.round(g,2);return"M"+p+","+p+"L-"+p+",-"+p},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(g){var p=s.round(g,2);return"M0,0L-"+p+","+s.round(2*g,2)+"H"+p+"Z"},noDot:!0},"arrow-down":{n:46,f:function(g){var p=s.round(g,2);return"M0,0L-"+p+",-"+s.round(2*g,2)+"H"+p+"Z"},noDot:!0},"arrow-left":{n:47,f:function(g){var p=s.round(2*g,2),c=s.round(g,2);return"M0,0L"+p+",-"+c+"V"+c+"Z"},noDot:!0},"arrow-right":{n:48,f:function(g){var p=s.round(2*g,2),c=s.round(g,2);return"M0,0L-"+p+",-"+c+"V"+c+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(g){var p=s.round(g,2);return"M-"+p+",0H"+p+"M0,0L-"+p+","+s.round(2*g,2)+"H"+p+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(g){var p=s.round(g,2);return"M-"+p+",0H"+p+"M0,0L-"+p+",-"+s.round(2*g,2)+"H"+p+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(g){var p=s.round(2*g,2),c=s.round(g,2);return"M0,-"+c+"V"+c+"M0,0L"+p+",-"+c+"V"+c+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(g){var p=s.round(2*g,2),c=s.round(g,2);return"M0,-"+c+"V"+c+"M0,0L-"+p+",-"+c+"V"+c+"Z"},needLine:!0,noDot:!0}}},{"@plotly/d3":11}],126:[function(v,pe,J){"use strict";pe.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],127:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../registry"),p=v("../../plots/cartesian/axes"),c=v("../../lib"),l=v("./compute_error");function m(d,h,u,C){var b=h["error_"+C]||{},M=[];if(b.visible&&-1!==["linear","log"].indexOf(u.type)){for(var w=l(b),N=0;N<d.length;N++){var A=d[N],V=A.i;if(void 0===V)V=N;else if(null===V)continue;var L=A[C];if(s(u.c2l(L))){var H=w(L,V);if(s(H[0])&&s(H[1])){var I=A[C+"s"]=L-H[0],D=A[C+"h"]=L+H[1];M.push(I,D)}}}var P=h._extremes[u._id],S=p.findExtremes(u,M,c.extendFlat({tozero:P.opts.tozero},{padded:!0}));P.min=P.min.concat(S.min),P.max=P.max.concat(S.max)}}pe.exports=function(d){for(var h=d.calcdata,u=0;u<h.length;u++){var C=h[u],b=C[0].trace;if(!0===b.visible&&g.traceIs(b,"errorBarsOK")){var M=p.getFromId(d,b.xaxis),w=p.getFromId(d,b.yaxis);m(C,b,M,"x"),m(C,b,w,"y")}}}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./compute_error":128,"fast-isnumeric":17}],128:[function(v,pe,J){"use strict";function s(g,p){return"percent"===g?function(c){return Math.abs(c*p/100)}:"constant"===g?function(){return Math.abs(p)}:"sqrt"===g?function(c){return Math.sqrt(Math.abs(c))}:void 0}pe.exports=function(g){var p=g.type,c=g.symmetric;if("data"===p){var l=g.array||[];if(c)return function(u,C){var b=+l[C];return[b,b]};var m=g.arrayminus||[];return function(u,C){var b=+l[C],M=+m[C];return isNaN(b)&&isNaN(M)?[NaN,NaN]:[M||0,b||0]}}var d=s(p,g.value),h=s(p,g.valueminus);return c||void 0===g.valueminus?function(u){var C=d(u);return[C,C]}:function(u){return[h(u),d(u)]}}},{}],129:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../registry"),p=v("../../lib"),c=v("../../plot_api/plot_template"),l=v("./attributes");pe.exports=function(m,d,h,u){var C="error_"+u.axis,b=c.newContainer(d,C),M=m[C]||{};function w(L,H){return p.coerce(M,b,l,L,H)}if(!1!==w("visible",void 0!==M.array||void 0!==M.value||"sqrt"===M.type)){var N=w("type","array"in M?"data":"percent"),A=!0;"sqrt"!==N&&(A=w("symmetric",!(("data"===N?"arrayminus":"valueminus")in M))),"data"===N?(w("array"),w("traceref"),A||(w("arrayminus"),w("tracerefminus"))):"percent"!==N&&"constant"!==N||(w("value"),A||w("valueminus"));var V="copy_"+u.inherit+"style";u.inherit&&(d["error_"+u.inherit]||{}).visible&&w(V,!(M.color||s(M.thickness)||s(M.width))),u.inherit&&b[V]||(w("color",h),w("thickness"),w("width",g.traceIs(d,"gl3d")?0:4))}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"./attributes":126,"fast-isnumeric":17}],130:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plot_api/edit_types").overrideAll,p=v("./attributes"),c={error_x:s.extendFlat({},p),error_y:s.extendFlat({},p)};delete c.error_x.copy_zstyle,delete c.error_y.copy_zstyle,delete c.error_y.copy_ystyle;var l={error_x:s.extendFlat({},p),error_y:s.extendFlat({},p),error_z:s.extendFlat({},p)};delete l.error_x.copy_ystyle,delete l.error_y.copy_ystyle,delete l.error_z.copy_ystyle,delete l.error_z.copy_zstyle,pe.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:c,bar:c,histogram:c,scatter3d:g(l,"calc","nested"),scattergl:g(c,"calc","nested")}},supplyDefaults:v("./defaults"),calc:v("./calc"),makeComputeError:v("./compute_error"),plot:v("./plot"),style:v("./style"),hoverInfo:function(m,d,h){(d.error_y||{}).visible&&(h.yerr=m.yh-m.y,d.error_y.symmetric||(h.yerrneg=m.y-m.ys)),(d.error_x||{}).visible&&(h.xerr=m.xh-m.x,d.error_x.symmetric||(h.xerrneg=m.x-m.xs))}}},{"../../lib":232,"../../plot_api/edit_types":261,"./attributes":126,"./calc":127,"./compute_error":128,"./defaults":129,"./plot":131,"./style":132}],131:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("fast-isnumeric"),p=v("../drawing"),c=v("../../traces/scatter/subtypes");pe.exports=function(l,m,d,h){var u=d.xaxis,C=d.yaxis,b=h&&h.duration>0;m.each(function(M){var w,N=M[0].trace,A=N.error_x||{},V=N.error_y||{};N.ids&&(w=function(D){return D.id});var L=c.hasMarkers(N)&&N.marker.maxdisplayed>0;V.visible||A.visible||(M=[]);var H=s.select(this).selectAll("g.errorbar").data(M,w);if(H.exit().remove(),M.length){A.visible||H.selectAll("path.xerror").remove(),V.visible||H.selectAll("path.yerror").remove(),H.style("opacity",1);var I=H.enter().append("g").classed("errorbar",!0);b&&I.style("opacity",0).transition().duration(h.duration).style("opacity",1),p.setClipUrl(H,d.layerClipId,l),H.each(function(D){var W,Z,ne,te,E=s.select(this),P=(ne=C,te={x:(Z=u).c2p((W=D).x),y:ne.c2p(W.y)},void 0!==W.yh&&(te.yh=ne.c2p(W.yh),te.ys=ne.c2p(W.ys),g(te.ys)||(te.noYS=!0,te.ys=ne.c2p(W.ys,!0))),void 0!==W.xh&&(te.xh=Z.c2p(W.xh),te.xs=Z.c2p(W.xs),g(te.xs)||(te.noXS=!0,te.xs=Z.c2p(W.xs,!0))),te);if(!L||D.vis){var S,R=E.select("path.yerror");if(V.visible&&g(P.x)&&g(P.yh)&&g(P.ys)){var G=V.width;S="M"+(P.x-G)+","+P.yh+"h"+2*G+"m-"+G+",0V"+P.ys,P.noYS||(S+="m-"+G+",0h"+2*G),R.size()?b&&(R=R.transition().duration(h.duration).ease(h.easing)):R=E.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0),R.attr("d",S)}else R.remove();var z=E.select("path.xerror");if(A.visible&&g(P.y)&&g(P.xh)&&g(P.xs)){var X=(A.copy_ystyle?V:A).width;S="M"+P.xh+","+(P.y-X)+"v"+2*X+"m0,-"+X+"H"+P.xs,P.noXS||(S+="m0,-"+X+"v"+2*X),z.size()?b&&(z=z.transition().duration(h.duration).ease(h.easing)):z=E.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0),z.attr("d",S)}else z.remove()}})}})}},{"../../traces/scatter/subtypes":383,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],132:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../color");pe.exports=function(p){p.each(function(c){var l=c[0].trace,m=l.error_y||{},d=l.error_x||{},h=s.select(this);h.selectAll("path.yerror").style("stroke-width",m.thickness+"px").call(g.stroke,m.color),d.copy_ystyle&&(d=m),h.selectAll("path.xerror").style("stroke-width",d.thickness+"px").call(g.stroke,d.color)})}},{"../color":102,"@plotly/d3":11}],133:[function(v,pe,J){"use strict";var s=v("../../plots/font_attributes"),g=v("./layout_attributes").hoverlabel,p=v("../../lib/extend").extendFlat;pe.exports={hoverlabel:{bgcolor:p({},g.bgcolor,{arrayOk:!0}),bordercolor:p({},g.bordercolor,{arrayOk:!0}),font:s({arrayOk:!0,editType:"none"}),align:p({},g.align,{arrayOk:!0}),namelength:p({},g.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":226,"../../plots/font_attributes":310,"./layout_attributes":143}],134:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../registry");function p(c,l,m,d){d=d||s.identity,Array.isArray(c)&&(l[0][m]=d(c))}pe.exports=function(c){var l=c.calcdata,m=c._fullLayout;function d(M){return function(w){return s.coerceHoverinfo({hoverinfo:w},{_module:M._module},m)}}for(var h=0;h<l.length;h++){var u=l[h],C=u[0].trace;if(!g.traceIs(C,"pie-like")){var b=g.traceIs(C,"2dMap")?p:s.fillArray;b(C.hoverinfo,u,"hi",d(C)),C.hovertemplate&&b(C.hovertemplate,u,"ht"),C.hoverlabel&&(b(C.hoverlabel.bgcolor,u,"hbg"),b(C.hoverlabel.bordercolor,u,"hbc"),b(C.hoverlabel.font.size,u,"hts"),b(C.hoverlabel.font.color,u,"htc"),b(C.hoverlabel.font.family,u,"htf"),b(C.hoverlabel.namelength,u,"hnl"),b(C.hoverlabel.align,u,"hta"))}}}},{"../../lib":232,"../../registry":318}],135:[function(v,pe,J){"use strict";var s=v("../../registry"),g=v("./hover").hover;pe.exports=function(p,c,l){var m=s.getComponentMethod("annotations","onClick")(p,p._hoverdata);function d(){p.emit("plotly_click",{points:p._hoverdata,event:c})}void 0!==l&&g(p,c,l,!0),p._hoverdata&&c&&c.target&&(m&&m.then?m.then(d):d(),c.stopImmediatePropagation&&c.stopImmediatePropagation())}},{"../../registry":318,"./hover":139}],136:[function(v,pe,J){"use strict";pe.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],137:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("./attributes"),p=v("./hoverlabel_defaults");pe.exports=function(c,l,m,d){var h=s.extendFlat({},d.hoverlabel);l.hovertemplate&&(h.namelength=-1),p(c,l,function(u,C){return s.coerce(c,l,g,u,C)},h)}},{"../../lib":232,"./attributes":133,"./hoverlabel_defaults":140}],138:[function(v,pe,J){"use strict";var s=v("../../lib");J.getSubplot=function(d){return d.subplot||d.xaxis+d.yaxis||d.geo},J.isTraceInSubplots=function(d,h){if("splom"===d.type){for(var u=d.xaxes||[],C=d.yaxes||[],b=0;b<u.length;b++)for(var M=0;M<C.length;M++)if(-1!==h.indexOf(u[b]+C[M]))return!0;return!1}return-1!==h.indexOf(J.getSubplot(d))},J.flat=function(d,h){for(var u=new Array(d.length),C=0;C<d.length;C++)u[C]=h;return u},J.p2c=function(d,h){for(var u=new Array(d.length),C=0;C<d.length;C++)u[C]=d[C].p2c(h);return u},J.getDistanceFunction=function(d,h,u,C){return"closest"===d?C||J.quadrature(h,u):"x"===d.charAt(0)?h:u},J.getClosest=function(d,h,u){if(!1!==u.index)u.index>=0&&u.index<d.length?u.distance=0:u.index=!1;else for(var C=0;C<d.length;C++){var b=h(d[C]);b<=u.distance&&(u.index=C,u.distance=b)}return u},J.inbox=function(d,h,u){return d*h<0||0===d?u:1/0},J.quadrature=function(d,h){return function(u){var C=d(u),b=h(u);return Math.sqrt(C*C+b*b)}},J.makeEventData=function(d,h,u){var C="index"in d?d.index:d.pointNumber,b={data:h._input,fullData:h,curveNumber:h.index,pointNumber:C};if(h._indexToPoints){var M=h._indexToPoints[C];1===M.length?b.pointIndex=M[0]:b.pointIndices=M}else b.pointIndex=C;return h._module.eventData?b=h._module.eventData(b,d,h,u,C):("xVal"in d?b.x=d.xVal:"x"in d&&(b.x=d.x),"yVal"in d?b.y=d.yVal:"y"in d&&(b.y=d.y),d.xa&&(b.xaxis=d.xa),d.ya&&(b.yaxis=d.ya),void 0!==d.zLabelVal&&(b.z=d.zLabelVal)),J.appendArrayPointValue(b,h,C),b},J.appendArrayPointValue=function(d,h,u){var C=h._arrayAttrs;if(C)for(var b=0;b<C.length;b++){var M=C[b],w=p(M);if(void 0===d[w]){var N=c(s.nestedProperty(h,M).get(),u);void 0!==N&&(d[w]=N)}}},J.appendArrayMultiPointValues=function(d,h,u){var C=h._arrayAttrs;if(C)for(var b=0;b<C.length;b++){var M=C[b],w=p(M);if(void 0===d[w]){for(var N=s.nestedProperty(h,M).get(),A=new Array(u.length),V=0;V<u.length;V++)A[V]=c(N,u[V]);d[w]=A}}};var g={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function p(d){return g[d]||d}function c(d,h){return Array.isArray(h)?Array.isArray(d)&&Array.isArray(d[h[0]])?d[h[0]][h[1]]:void 0:d[h]}var l={x:!0,y:!0},m={"x unified":!0,"y unified":!0};J.isUnifiedHover=function(d){return"string"==typeof d&&!!m[d]},J.isXYhover=function(d){return"string"==typeof d&&!!l[d]}},{"../../lib":232}],139:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("fast-isnumeric"),p=v("tinycolor2"),c=v("../../lib"),l=c.strTranslate,m=c.strRotate,d=v("../../lib/events"),h=v("../../lib/svg_text_utils"),u=v("../../lib/override_cursor"),C=v("../drawing"),b=v("../color"),M=v("../dragelement"),w=v("../../plots/cartesian/axes"),N=v("../../registry"),A=v("./helpers"),V=v("./constants"),L=v("../legend/defaults"),H=v("../legend/draw"),I=V.YANGLE,D=Math.PI*I/180,E=1/Math.sin(D),P=Math.cos(D),S=Math.sin(D),R=V.HOVERARROWSIZE,G=V.HOVERTEXTPAD,z={box:!0,ohlc:!0,violin:!0,candlestick:!0},X={scatter:!0,scattergl:!0,splom:!0};function W(F){return[F.trace.index,F.index,F.x0,F.y0,F.name,F.attr,F.xa?F.xa._id:"",F.ya?F.ya._id:""].join(",")}J.hover=function(F,O,Y,B){F=c.getGraphDiv(F);var ae=O.target;c.throttle(F._fullLayout._uid+V.HOVERID,V.HOVERMINTIME,function(){!function(ue,fe,he,xe,be){he||(he="xy");var Ve=Array.isArray(he)?he:[he],Ae=ue._fullLayout,Oe=Ae._plots||[],Re=Oe[he],tt=Ae._has("cartesian");if(Re){var Ke=Re.overlays.map(function(En){return En.id});Ve=Ve.concat(Ke)}for(var $e=Ve.length,Me=new Array($e),ve=new Array($e),Se=!1,Te=0;Te<$e;Te++){var qe=Ve[Te];if(Oe[qe])Se=!0,Me[Te]=Oe[qe].xaxis,ve[Te]=Oe[qe].yaxis;else{if(!Ae[qe]||!Ae[qe]._subplot)return void c.warn("Unrecognized subplot: "+qe);var Ee=Ae[qe]._subplot;Me[Te]=Ee.xaxis,ve[Te]=Ee.yaxis}}var Ie=fe.hovermode||Ae.hovermode;if(Ie&&!Se&&(Ie="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(Ie)||!ue.calcdata||ue.querySelector(".zoombox")||ue._dragging)return M.unhoverRaw(ue,fe);var Qe=Ae.hoverdistance;-1===Qe&&(Qe=1/0);var nt=Ae.spikedistance;-1===nt&&(nt=1/0);var Ye,rt,dt,Xe,mt,_t,yt,Ot,bt,Fe,Ue,gt,Pt,Qt=[],en=[],Xt={hLinePoint:null,vLinePoint:null},Wt=!1;if(Array.isArray(fe))for(Ie="array",dt=0;dt<fe.length;dt++)(mt=ue.calcdata[fe[dt].curveNumber||0])&&(_t=mt[0].trace,"skip"!==mt[0].trace.hoverinfo&&(en.push(mt),"h"===_t.orientation&&(Wt=!0)));else{for(Xe=0;Xe<ue.calcdata.length;Xe++)"skip"!==(_t=(mt=ue.calcdata[Xe])[0].trace).hoverinfo&&A.isTraceInSubplots(_t,Ve)&&(en.push(mt),"h"===_t.orientation&&(Wt=!0));var Nt,ge;if(be){if(!1===d.triggerHandler(ue,"plotly_beforehover",fe))return;var _e=be.getBoundingClientRect();Nt=fe.clientX-_e.left,ge=fe.clientY-_e.top,Ae._calcInverseTransform(ue);var We=c.apply3DTransform(Ae._invTransform)(Nt,ge);if(ge=We[1],(Nt=We[0])<0||Nt>Me[0]._length||ge<0||ge>ve[0]._length)return M.unhoverRaw(ue,fe)}else Nt="xpx"in fe?fe.xpx:Me[0]._length/2,ge="ypx"in fe?fe.ypx:ve[0]._length/2;if(fe.pointerX=Nt+Me[0]._offset,fe.pointerY=ge+ve[0]._offset,Ye="xval"in fe?A.flat(Ve,fe.xval):A.p2c(Me,Nt),rt="yval"in fe?A.flat(Ve,fe.yval):A.p2c(ve,ge),!g(Ye[0])||!g(rt[0]))return c.warn("Fx.hover failed",fe,ue),M.unhoverRaw(ue,fe)}var Je=1/0;function ft(En,b2){for(Xe=0;Xe<en.length;Xe++)if((mt=en[Xe])&&mt[0]&&mt[0].trace&&!0===(_t=mt[0].trace).visible&&0!==_t._length&&-1===["carpet","contourcarpet"].indexOf(_t._module.name)){if("splom"===_t.type?yt=Ve[Ot=0]:(yt=A.getSubplot(_t),Ot=Ve.indexOf(yt)),A.isUnifiedHover(bt=Ie)&&(bt=bt.charAt(0)),gt={cd:mt,trace:_t,xa:Me[Ot],ya:ve[Ot],maxHoverDistance:Qe,maxSpikeDistance:nt,index:!1,distance:Math.min(Je,Qe),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:b.defaultLine,name:_t.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Ae[yt]&&(gt.subplot=Ae[yt]._subplot),Ae._splomScenes&&Ae._splomScenes[_t.uid]&&(gt.scene=Ae._splomScenes[_t.uid]),Pt=Qt.length,"array"===bt){var f2=fe[Xe];"pointNumber"in f2?(gt.index=f2.pointNumber,bt="closest"):(bt="","xval"in f2&&(Fe=f2.xval,bt="x"),"yval"in f2&&(Ue=f2.yval,bt=bt?"closest":"y"))}else void 0!==En&&void 0!==b2?(Fe=En,Ue=b2):(Fe=Ye[Ot],Ue=rt[Ot]);if(0!==Qe)if(_t._module&&_t._module.hoverPoints){var In=_t._module.hoverPoints(gt,Fe,Ue,bt,{finiteRange:!0,hoverLayer:Ae._hoverlayer});if(In)for(var d2,x2=0;x2<In.length;x2++)g((d2=In[x2]).x0)&&g(d2.y0)&&Qt.push(Ce(d2,Ie))}else c.log("Unrecognized trace type in hover:",_t);if("closest"===Ie&&Qt.length>Pt&&(Qt.splice(0,Pt),Je=Qt[0].distance),tt&&0!==nt&&0===Qt.length){gt.distance=nt,gt.index=!1;var Qn=_t._module.hoverPoints(gt,Fe,Ue,"closest",{hoverLayer:Ae._hoverlayer});if(Qn&&(Qn=Qn.filter(function(J2){return J2.spikeDistance<=nt})),Qn&&Qn.length){var Rn,mn=Qn.filter(function(J2){return J2.xa.showspikes&&"hovered data"!==J2.xa.spikesnap});if(mn.length){var M2=mn[0];g(M2.x0)&&g(M2.y0)&&(Rn=et(M2),(!Xt.vLinePoint||Xt.vLinePoint.spikeDistance>Rn.spikeDistance)&&(Xt.vLinePoint=Rn))}var x1=Qn.filter(function(J2){return J2.ya.showspikes&&"hovered data"!==J2.ya.spikesnap});if(x1.length){var Q2=x1[0];g(Q2.x0)&&g(Q2.y0)&&(Rn=et(Q2),(!Xt.hLinePoint||Xt.hLinePoint.spikeDistance>Rn.spikeDistance)&&(Xt.hLinePoint=Rn))}}}}}function st(En,b2,f2){for(var In,d2=null,x2=1/0,Qn=0;Qn<En.length;Qn++)In=En[Qn].spikeDistance,f2&&0===Qn&&(In=-1/0),In<=x2&&In<=b2&&(d2=En[Qn],x2=In);return d2}function et(En){return En?{xa:En.xa,ya:En.ya,x:void 0!==En.xSpike?En.xSpike:(En.x0+En.x1)/2,y:void 0!==En.ySpike?En.ySpike:(En.y0+En.y1)/2,distance:En.distance,spikeDistance:En.spikeDistance,curveNumber:En.trace.index,color:En.color,pointNumber:En.index}:null}ft();var ut={fullLayout:Ae,container:Ae._hoverlayer,event:fe},xt=ue._spikepoints;ue._spikepoints={vLinePoint:Xt.vLinePoint,hLinePoint:Xt.hLinePoint};var Bt=function(){Qt.sort(function(En,b2){return En.distance-b2.distance}),Qt=function(En,b2){for(var f2=b2.charAt(0),In=[],d2=[],x2=[],Qn=0;Qn<En.length;Qn++){var Rn=En[Qn];N.traceIs(Rn.trace,"bar-like")||N.traceIs(Rn.trace,"box-violin")?x2.push(Rn):Rn.trace[f2+"period"]?d2.push(Rn):In.push(Rn)}return In.concat(d2).concat(x2)}(Qt,Ie)};Bt();var rn=Ie.charAt(0),Dt=("x"===rn||"y"===rn)&&Qt[0]&&X[Qt[0].trace.type];if(tt&&0!==nt&&0!==Qt.length){var $t=st(Qt.filter(function(En){return En.ya.showspikes}),nt,Dt);Xt.hLinePoint=et($t);var fn=st(Qt.filter(function(En){return En.xa.showspikes}),nt,Dt);Xt.vLinePoint=et(fn)}if(0===Qt.length){var At=M.unhoverRaw(ue,fe);return!tt||null===Xt.hLinePoint&&null===Xt.vLinePoint||Q(xt)&&ie(ue,Xt,ut),At}if(tt&&Q(xt)&&ie(ue,Xt,ut),A.isXYhover(bt)&&0!==Qt[0].length&&"splom"!==Qt[0].trace.type){var Mt=Qt[0],an=(Qt=z[Mt.trace.type]?Qt.filter(function(En){return En.trace.index===Mt.trace.index}):[Mt]).length;ft(j("x",Mt,Ae),j("y",Mt,Ae));var Jt,Ft=[],Mn={},_n=0,wn=function(En){var b2=z[En.trace.type]?W(En):En.trace.index;if(Mn[b2]){var f2=Mn[b2]-1,In=Ft[f2];f2>0&&Math.abs(En.distance)<Math.abs(In.distance)&&(Ft[f2]=En)}else _n++,Mn[b2]=_n,Ft.push(En)};for(Jt=0;Jt<an;Jt++)wn(Qt[Jt]);for(Jt=Qt.length-1;Jt>an-1;Jt--)wn(Qt[Jt]);Qt=Ft,Bt()}var Ln=ue._hoverdata,$n=[],Dn=$(ue),Zt=se(ue);for(dt=0;dt<Qt.length;dt++){var It=Qt[dt],tn=A.makeEventData(It,It.trace,It.cd);if(!1!==It.hovertemplate){var pn=!1;It.cd[It.index]&&It.cd[It.index].ht&&(pn=It.cd[It.index].ht),It.hovertemplate=pn||It.trace.hovertemplate||!1}if(It.xa&&It.ya){var cn=It.x0+It.xa._offset,Pn=It.x1+It.xa._offset,Vn=It.y0+It.ya._offset,vn=It.y1+It.ya._offset,n2=Math.min(cn,Pn),h2=Math.max(cn,Pn),g2=Math.min(Vn,vn),u2=Math.max(Vn,vn);tn.bbox={x0:n2+Zt,x1:h2+Zt,y0:g2+Dn,y1:u2+Dn}}It.eventData=[tn],$n.push(tn)}ue._hoverdata=$n;var qt="y"===Ie&&(en.length>1||Qt.length>1)||"closest"===Ie&&Wt&&Qt.length>1,Wn=b.combine(Ae.plot_bgcolor||b.background,Ae.paper_bgcolor),Fn=ne(Qt,{gd:ue,hovermode:Ie,rotateLabels:qt,bgColor:Wn,container:Ae._hoverlayer,outerContainer:Ae._paper.node(),commonLabelOpts:Ae.hoverlabel,hoverdistance:Ae.hoverdistance});if(A.isUnifiedHover(Ie)||(function(En,b2,f2){var In,d2,x2,Qn,Rn,mn,M2,x1=0,Q2=1,J2=En.size(),l1=new Array(J2),I1=0;function M1(O1){var r1=O1[0],Ir=O1[O1.length-1];if(x2=Ir.pos+Ir.dp+Ir.size-r1.pmax,(d2=r1.pmin-r1.pos-r1.dp+r1.size)>.01){for(Rn=O1.length-1;Rn>=0;Rn--)O1[Rn].dp+=d2;In=!1}if(!(x2<.01)){if(d2<-.01){for(Rn=O1.length-1;Rn>=0;Rn--)O1[Rn].dp-=x2;In=!1}if(In){var e1=0;for(Qn=0;Qn<O1.length;Qn++)(mn=O1[Qn]).pos+mn.dp+mn.size>r1.pmax&&e1++;for(Qn=O1.length-1;Qn>=0&&!(e1<=0);Qn--)(mn=O1[Qn]).pos>r1.pmax-1&&(mn.del=!0,e1--);for(Qn=0;Qn<O1.length&&!(e1<=0);Qn++)if((mn=O1[Qn]).pos<r1.pmin+1)for(mn.del=!0,e1--,x2=2*mn.size,Rn=O1.length-1;Rn>=0;Rn--)O1[Rn].dp-=x2;for(Qn=O1.length-1;Qn>=0&&!(e1<=0);Qn--)(mn=O1[Qn]).pos+mn.dp+mn.size>r1.pmax&&(mn.del=!0,e1--)}}}for(En.each(function(O1){var r1=O1[b2],Ir="x"===r1._id.charAt(0),e1=r1.range;0===I1&&e1&&e1[0]>e1[1]!==Ir&&(Q2=-1),l1[I1++]=[{datum:O1,traceIndex:O1.trace.index,dp:0,pos:O1.pos,posref:O1.posref,size:O1.by*(Ir?E:1)/2,pmin:0,pmax:Ir?f2.width:f2.height}]}),l1.sort(function(O1,r1){return O1[0].posref-r1[0].posref||Q2*(r1[0].traceIndex-O1[0].traceIndex)});!In&&x1<=J2;){for(x1++,In=!0,Qn=0;Qn<l1.length-1;){var T1=l1[Qn],B2=l1[Qn+1],U2=T1[T1.length-1],Dr=B2[0];if((d2=U2.pos+U2.dp+U2.size-Dr.pos-Dr.dp+Dr.size)>.01&&U2.pmin===Dr.pmin&&U2.pmax===Dr.pmax){for(Rn=B2.length-1;Rn>=0;Rn--)B2[Rn].dp+=d2;for(T1.push.apply(T1,B2),l1.splice(Qn+1,1),M2=0,Rn=T1.length-1;Rn>=0;Rn--)M2+=T1[Rn].dp;for(x2=M2/T1.length,Rn=T1.length-1;Rn>=0;Rn--)T1[Rn].dp-=x2;In=!1}else Qn++}l1.forEach(M1)}for(Qn=l1.length-1;Qn>=0;Qn--){var Qr=l1[Qn];for(Rn=Qr.length-1;Rn>=0;Rn--){var Li=Qr[Rn],On=Li.datum;On.offset=Li.dp,On.del=Li.del}}}(Fn,qt?"xa":"ya",Ae),oe(Fn,qt,Ae._invScaleX,Ae._invScaleY)),be&&be.tagName){var e2=N.getComponentMethod("annotations","hasClickToShow")(ue,$n);u(s.select(be),e2?"pointer":"")}!be||xe||!function(En,b2,f2){if(!f2||f2.length!==En._hoverdata.length)return!0;for(var In=f2.length-1;In>=0;In--){var d2=f2[In],x2=En._hoverdata[In];if(d2.curveNumber!==x2.curveNumber||String(d2.pointNumber)!==String(x2.pointNumber)||String(d2.pointNumbers)!==String(x2.pointNumbers))return!0}return!1}(ue,0,Ln)||(Ln&&ue.emit("plotly_unhover",{event:fe,points:Ln}),ue.emit("plotly_hover",{event:fe,points:ue._hoverdata,xaxes:Me,yaxes:ve,xvals:Ye,yvals:rt}))}(F,O,Y,B,ae)})},J.loneHover=function(F,O){var Y=!0;Array.isArray(F)||(Y=!1,F=[F]);var B=O.gd,ae=$(B),ue=se(B),fe=ne(F.map(function(be){var Ve=be._x0||be.x0||be.x||0,Ae=be._x1||be.x1||be.x||0,Oe=be._y0||be.y0||be.y||0,Re=be._y1||be.y1||be.y||0,tt=be.eventData;if(tt){var Ke=Math.min(Ve,Ae),$e=Math.max(Ve,Ae),Me=Math.min(Oe,Re),ve=Math.max(Oe,Re),Se=be.trace;if(N.traceIs(Se,"gl3d")){var Te=B._fullLayout[Se.scene]._scene.container,qe=Te.offsetLeft,Ee=Te.offsetTop;Ke+=qe,$e+=qe,Me+=Ee,ve+=Ee}tt.bbox={x0:Ke+ue,x1:$e+ue,y0:Me+ae,y1:ve+ae},O.inOut_bbox&&O.inOut_bbox.push(tt.bbox)}else tt=!1;return{color:be.color||b.defaultLine,x0:be.x0||be.x||0,x1:be.x1||be.x||0,y0:be.y0||be.y||0,y1:be.y1||be.y||0,xLabel:be.xLabel,yLabel:be.yLabel,zLabel:be.zLabel,text:be.text,name:be.name,idealAlign:be.idealAlign,borderColor:be.borderColor,fontFamily:be.fontFamily,fontSize:be.fontSize,fontColor:be.fontColor,nameLength:be.nameLength,textAlign:be.textAlign,trace:be.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:be.hovertemplate||!1,hovertemplateLabels:be.hovertemplateLabels||!1,eventData:tt}}),{gd:B,hovermode:"closest",rotateLabels:!1,bgColor:O.bgColor||b.background,container:s.select(O.container),outerContainer:O.outerContainer||O.container}),he=0,xe=0;return fe.sort(function(be,Ve){return be.y0-Ve.y0}).each(function(be,Ve){var Ae=be.y0-be.by/2;be.offset=Ae-5<he?he-Ae+5:0,he=Ae+be.by+be.offset,Ve===O.anchorIndex&&(xe=be.offset)}).each(function(be){be.offset-=xe}),oe(fe,!1,B._fullLayout._invScaleX,B._fullLayout._invScaleY),Y?fe:fe.node()};var Z=/<extra>([\s\S]*)<\/extra>/;function ne(F,O){var Y=O.gd,B=Y._fullLayout,ae=O.hovermode,ue=O.rotateLabels,fe=O.bgColor,he=O.container,xe=O.outerContainer,be=O.commonLabelOpts||{};if(0===F.length)return[[]];var Ve=O.fontFamily||V.HOVERFONT,Ae=O.fontSize||V.HOVERFONTSIZE,Oe=F[0],Re=Oe.xa,tt=Oe.ya,Ke=ae.charAt(0),$e=Oe[Ke+"Label"],Me=ee(Y,xe),ve=Me.top,Se=Me.width,Te=Me.height,qe=void 0!==$e&&Oe.distance<=O.hoverdistance&&("x"===ae||"y"===ae);if(qe){var Ee,Ie,Qe=!0;for(Ee=0;Ee<F.length;Ee++)if(Qe&&void 0===F[Ee].zLabel&&(Qe=!1),Ie=F[Ee].hoverinfo||F[Ee].trace.hoverinfo){var nt=Array.isArray(Ie)?Ie:Ie.split("+");if(-1===nt.indexOf("all")&&-1===nt.indexOf(ae)){qe=!1;break}}Qe&&(qe=!1)}var Ye=he.selectAll("g.axistext").data(qe?[0]:[]);if(Ye.enter().append("g").classed("axistext",!0),Ye.exit().remove(),Ye.each(function(){var Dt=s.select(this),$t=c.ensureSingle(Dt,"path","",function(Pn){Pn.style({"stroke-width":"1px"})}),fn=c.ensureSingle(Dt,"text","",function(Pn){Pn.attr("data-notex",1)}),At=be.bgcolor||b.defaultLine,Mt=be.bordercolor||b.contrast(At),an=b.contrast(At),Kt={family:be.font.family||Ve,size:be.font.size||Ae,color:be.font.color||an};$t.style({fill:At,stroke:Mt}),fn.text($e).call(C.font,Kt).call(h.positionText,0,0).call(h.convertToTspans,Y),Dt.attr("transform","");var Ut,Jt,Ft=ee(Y,fn.node());if("x"===ae){var Mn="top"===Re.side?"-":"";fn.attr("text-anchor","middle").call(h.positionText,0,"top"===Re.side?ve-Ft.bottom-R-G:ve-Ft.top+R+G),Jt=tt._offset+("top"===Re.side?0:tt._length);var _n=Ft.width/2+G;(Ut=Re._offset+(Oe.x0+Oe.x1)/2)<_n?(Ut=_n,$t.attr("d","M-"+(_n-R)+",0L-"+(_n-2*R)+","+Mn+R+"H"+(G+Ft.width/2)+"v"+Mn+(2*G+Ft.height)+"H-"+_n+"V"+Mn+R+"Z")):Ut>B.width-_n?(Ut=B.width-_n,$t.attr("d","M"+(_n-R)+",0L"+_n+","+Mn+R+"v"+Mn+(2*G+Ft.height)+"H-"+_n+"V"+Mn+R+"H"+(_n-2*R)+"Z")):$t.attr("d","M0,0L"+R+","+Mn+R+"H"+(G+Ft.width/2)+"v"+Mn+(2*G+Ft.height)+"H-"+(G+Ft.width/2)+"V"+Mn+R+"H-"+R+"Z")}else{var wn,Ln,$n;"right"===tt.side?(wn="start",Ln=1,$n="",Ut=Re._offset+Re._length):(wn="end",Ln=-1,$n="-",Ut=Re._offset),Jt=tt._offset+(Oe.y0+Oe.y1)/2,fn.attr("text-anchor",wn),$t.attr("d","M0,0L"+$n+R+","+R+"V"+(G+Ft.height/2)+"h"+$n+(2*G+Ft.width)+"V-"+(G+Ft.height/2)+"H"+$n+R+"V-"+R+"Z");var Dn,Zt=Ft.height/2,It=ve-Ft.top-Zt,tn="clip"+B._uid+"commonlabel"+tt._id;if(Ut<Ft.width+2*G+R){Dn="M-"+(R+G)+"-"+Zt+"h-"+(Ft.width-G)+"V"+Zt+"h"+(Ft.width-G)+"Z";var pn=Ft.width-Ut+G;h.positionText(fn,pn,It),"end"===wn&&fn.selectAll("tspan").each(function(){var Pn=s.select(this),Vn=C.tester.append("text").text(Pn.text()).call(C.font,Kt),vn=ee(Y,Vn.node());Math.round(vn.width)<Math.round(Ft.width)&&Pn.attr("x",pn-vn.width),Vn.remove()})}else h.positionText(fn,Ln*(G+R),It),Dn=null;var cn=B._topclips.selectAll("#"+tn).data(Dn?[0]:[]);cn.enter().append("clipPath").attr("id",tn).append("path"),cn.exit().remove(),cn.select("path").attr("d",Dn),C.setClipUrl(fn,Dn?tn:null,Y)}Dt.attr("transform",l(Ut,Jt))}),A.isUnifiedHover(ae)){he.selectAll("g.hovertext").remove();var rt=F.filter(function(Dt){return"none"!==Dt.hoverinfo});if(0===rt.length)return;var dt=B.hoverlabel,Xe=dt.font,_t={font:Xe};L({showlegend:!0,legend:{title:{text:$e,font:Xe},font:Xe,bgcolor:dt.bgcolor,bordercolor:dt.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:B.legend?B.legend.traceorder:void 0,orientation:"v"}},_t,Y._fullData);var yt=_t.legend;yt.entries=[];for(var Ot=0;Ot<rt.length;Ot++){var bt=rt[Ot];if("none"!==bt.hoverinfo){var Fe=te(bt,!0,ae,B,$e),Ue=Fe[0],gt=Fe[1];bt.name=gt,bt.text=""!==gt?gt+" : "+Ue:Ue;var Pt=bt.cd[bt.index];Pt&&(Pt.mc&&(bt.mc=Pt.mc),Pt.mcc&&(bt.mc=Pt.mcc),Pt.mlc&&(bt.mlc=Pt.mlc),Pt.mlcc&&(bt.mlc=Pt.mlcc),Pt.mlw&&(bt.mlw=Pt.mlw),Pt.mrc&&(bt.mrc=Pt.mrc),Pt.dir&&(bt.dir=Pt.dir)),bt._distinct=!0,yt.entries.push([bt])}}yt.entries.sort(function(Dt,$t){return Dt[0].trace.index-$t[0].trace.index}),yt.layer=he,yt._inHover=!0,yt._groupTitleFont=dt.grouptitlefont,H(Y,yt);var Qt,en,Xt,Wt,Nt=he.select("g.legend"),ge=ee(Y,Nt.node()),_e=ge.width+2*G,We=ge.height+2*G,Je=rt[0],ft=(Je.x0+Je.x1)/2,st=(Je.y0+Je.y1)/2,et=!(N.traceIs(Je.trace,"bar-like")||N.traceIs(Je.trace,"box-violin"));"y"===Ke?et?(en=st-G,Qt=st+G):(en=Math.min.apply(null,rt.map(function(Dt){return Math.min(Dt.y0,Dt.y1)})),Qt=Math.max.apply(null,rt.map(function(Dt){return Math.max(Dt.y0,Dt.y1)}))):en=Qt=c.mean(rt.map(function(Dt){return(Dt.y0+Dt.y1)/2}))-We/2,"x"===Ke?et?(Xt=ft+G,Wt=ft-G):(Xt=Math.max.apply(null,rt.map(function(Dt){return Math.max(Dt.x0,Dt.x1)})),Wt=Math.min.apply(null,rt.map(function(Dt){return Math.min(Dt.x0,Dt.x1)}))):Xt=Wt=c.mean(rt.map(function(Dt){return(Dt.x0+Dt.x1)/2}))-_e/2;var ut,xt,kt=Re._offset,Bt=tt._offset;return Wt+=kt-_e,en+=Bt-We,ut=(Xt+=kt)+_e<Se&&Xt>=0?Xt:Wt+_e<Se&&Wt>=0?Wt:kt+_e<Se?kt:Xt-ft<ft-Wt+_e?Se-_e:0,xt=(Qt+=Bt)+We<Te&&Qt>=0?Qt:en+We<Te&&en>=0?en:Bt+We<Te?Bt:Qt-st<st-en+We?Te-We:0,Nt.attr("transform",l((ut+=G)-1,(xt+=G)-1)),Nt}var rn=he.selectAll("g.hovertext").data(F,function(Dt){return W(Dt)});return rn.enter().append("g").classed("hovertext",!0).each(function(){var Dt=s.select(this);Dt.append("rect").call(b.fill,b.addOpacity(fe,.8)),Dt.append("text").classed("name",!0),Dt.append("path").style("stroke-width","1px"),Dt.append("text").classed("nums",!0).call(C.font,Ve,Ae)}),rn.exit().remove(),rn.each(function(Dt){var $t=s.select(this).attr("transform",""),fn=Dt.color;Array.isArray(fn)&&(fn=fn[Dt.eventData[0].pointNumber]);var At=Dt.bgcolor||fn,Mt=b.combine(b.opacity(At)?At:b.defaultLine,fe),an=b.combine(b.opacity(fn)?fn:b.defaultLine,fe),Kt=Dt.borderColor||b.contrast(Mt),Ut=te(Dt,qe,ae,B,$e,$t),Jt=Ut[0],Ft=Ut[1],Mn=$t.select("text.nums").call(C.font,Dt.fontFamily||Ve,Dt.fontSize||Ae,Dt.fontColor||Kt).text(Jt).attr("data-notex",1).call(h.positionText,0,0).call(h.convertToTspans,Y),_n=$t.select("text.name"),wn=0,Ln=0;if(Ft&&Ft!==Jt){_n.call(C.font,Dt.fontFamily||Ve,Dt.fontSize||Ae,an).text(Ft).attr("data-notex",1).call(h.positionText,0,0).call(h.convertToTspans,Y);var $n=ee(Y,_n.node());wn=$n.width+2*G,Ln=$n.height+2*G}else _n.remove(),$t.select("rect").remove();$t.select("path").style({fill:Mt,stroke:Kt});var Dn=Dt.xa._offset+(Dt.x0+Dt.x1)/2,Zt=Dt.ya._offset+(Dt.y0+Dt.y1)/2,It=Math.abs(Dt.x1-Dt.x0),tn=Math.abs(Dt.y1-Dt.y0),pn=ee(Y,Mn.node()),cn=pn.width/B._invScaleX,Pn=pn.height/B._invScaleY;Dt.ty0=(ve-pn.top)/B._invScaleY,Dt.bx=cn+2*G,Dt.by=Math.max(Pn+2*G,Ln),Dt.anchor="start",Dt.txwidth=cn,Dt.tx2width=wn,Dt.offset=0;var Vn,vn,n2=(cn+R+G+wn)*B._invScaleX;if(ue)Dt.pos=Dn,Vn=Zt+tn/2+n2<=Te,vn=Zt-tn/2-n2>=0,"top"!==Dt.idealAlign&&Vn||!vn?Vn?(Zt+=tn/2,Dt.anchor="start"):Dt.anchor="middle":(Zt-=tn/2,Dt.anchor="end");else if(Dt.pos=Zt,Vn=Dn+It/2+n2<=Se,vn=Dn-It/2-n2>=0,"left"!==Dt.idealAlign&&Vn||!vn)if(Vn)Dn+=It/2,Dt.anchor="start";else{Dt.anchor="middle";var h2=n2/2,g2=Dn+h2-Se,u2=Dn-h2;g2>0&&(Dn-=g2),u2<0&&(Dn+=-u2)}else Dn-=It/2,Dt.anchor="end";Mn.attr("text-anchor",Dt.anchor),wn&&_n.attr("text-anchor",Dt.anchor),$t.attr("transform",l(Dn,Zt)+(ue?m(I):""))}),rn}function te(F,O,Y,B,ae,ue){var fe="",he="";void 0!==F.nameOverride&&(F.name=F.nameOverride),F.name&&(F.trace._meta&&(F.name=c.templateString(F.name,F.trace._meta)),fe=le(F.name,F.nameLength));var xe=Y.charAt(0);void 0!==F.zLabel?(void 0!==F.xLabel&&(he+="x: "+F.xLabel+"<br>"),void 0!==F.yLabel&&(he+="y: "+F.yLabel+"<br>"),"choropleth"!==F.trace.type&&"choroplethmapbox"!==F.trace.type&&(he+=(he?"z: ":"")+F.zLabel)):O&&F[xe+"Label"]===ae?he=F[("x"===xe?"y":"x")+"Label"]||"":void 0===F.xLabel?void 0!==F.yLabel&&"scattercarpet"!==F.trace.type&&(he=F.yLabel):he=void 0===F.yLabel?F.xLabel:"("+F.xLabel+", "+F.yLabel+")",!F.text&&0!==F.text||Array.isArray(F.text)||(he+=(he?"<br>":"")+F.text),void 0!==F.extraText&&(he+=(he?"<br>":"")+F.extraText),ue&&""===he&&!F.hovertemplate&&(""===fe&&ue.remove(),he=fe);var Ve=F.hovertemplate||!1;if(Ve){var Ae=F.hovertemplateLabels||F;F[xe+"Label"]!==ae&&(Ae[xe+"other"]=Ae[xe+"Val"],Ae[xe+"otherLabel"]=Ae[xe+"Label"]),he=(he=c.hovertemplateString(Ve,Ae,B._d3locale,F.eventData[0]||{},F.trace._meta)).replace(Z,function(Oe,Re){return fe=le(Re,F.nameLength),""})}return[he,fe]}function oe(F,O,Y,B){var ae=function(fe){return fe*Y},ue=function(fe){return fe*B};F.each(function(fe){var he=s.select(this);if(fe.del)return he.remove();var xe=he.select("text.nums"),be=fe.anchor,Ve="end"===be?-1:1,Ae={start:1,end:-1,middle:0}[be],Oe=Ae*(R+G),Re=Oe+Ae*(fe.txwidth+G),tt=0,Ke=fe.offset,$e="middle"===be;$e&&(Oe-=fe.tx2width/2,Re+=fe.txwidth/2+G),O&&(Ke*=-S,tt=fe.offset*P),he.select("path").attr("d",$e?"M-"+ae(fe.bx/2+fe.tx2width/2)+","+ue(Ke-fe.by/2)+"h"+ae(fe.bx)+"v"+ue(fe.by)+"h-"+ae(fe.bx)+"Z":"M0,0L"+ae(Ve*R+tt)+","+ue(R+Ke)+"v"+ue(fe.by/2-R)+"h"+ae(Ve*fe.bx)+"v-"+ue(fe.by)+"H"+ae(Ve*R+tt)+"V"+ue(Ke-R)+"Z");var Me=tt+Oe,ve=Ke+fe.ty0-fe.by/2+G,Se=fe.textAlign||"auto";"auto"!==Se&&("left"===Se&&"start"!==be?(xe.attr("text-anchor","start"),Me=$e?-fe.bx/2-fe.tx2width/2+G:-fe.bx-G):"right"===Se&&"end"!==be&&(xe.attr("text-anchor","end"),Me=$e?fe.bx/2-fe.tx2width/2-G:fe.bx+G)),xe.call(h.positionText,ae(Me),ue(ve)),fe.tx2width&&(he.select("text.name").call(h.positionText,ae(Re+Ae*G+tt),ue(Ke+fe.ty0-fe.by/2+G)),he.select("rect").call(C.setRect,ae(Re+(Ae-1)*fe.tx2width/2+tt),ue(Ke-fe.by/2-1),ae(fe.tx2width),ue(fe.by+2)))})}function Ce(F,O){var Y=F.index,B=F.trace||{},ae=F.cd[0],ue=F.cd[Y]||{};function fe(Oe){return Oe||g(Oe)&&0===Oe}var he=Array.isArray(Y)?function(Oe,Re){var tt=c.castOption(ae,Y,Oe);return fe(tt)?tt:c.extractOption({},B,"",Re)}:function(Oe,Re){return c.extractOption(ue,B,Oe,Re)};function xe(Oe,Re,tt){var Ke=he(Re,tt);fe(Ke)&&(F[Oe]=Ke)}if(xe("hoverinfo","hi","hoverinfo"),xe("bgcolor","hbg","hoverlabel.bgcolor"),xe("borderColor","hbc","hoverlabel.bordercolor"),xe("fontFamily","htf","hoverlabel.font.family"),xe("fontSize","hts","hoverlabel.font.size"),xe("fontColor","htc","hoverlabel.font.color"),xe("nameLength","hnl","hoverlabel.namelength"),xe("textAlign","hta","hoverlabel.align"),F.posref="y"===O||"closest"===O&&"h"===B.orientation?F.xa._offset+(F.x0+F.x1)/2:F.ya._offset+(F.y0+F.y1)/2,F.x0=c.constrain(F.x0,0,F.xa._length),F.x1=c.constrain(F.x1,0,F.xa._length),F.y0=c.constrain(F.y0,0,F.ya._length),F.y1=c.constrain(F.y1,0,F.ya._length),void 0!==F.xLabelVal&&(F.xLabel="xLabel"in F?F.xLabel:w.hoverLabelText(F.xa,F.xLabelVal,B.xhoverformat),F.xVal=F.xa.c2d(F.xLabelVal)),void 0!==F.yLabelVal&&(F.yLabel="yLabel"in F?F.yLabel:w.hoverLabelText(F.ya,F.yLabelVal,B.yhoverformat),F.yVal=F.ya.c2d(F.yLabelVal)),void 0!==F.zLabelVal&&void 0===F.zLabel&&(F.zLabel=String(F.zLabelVal)),!(isNaN(F.xerr)||"log"===F.xa.type&&F.xerr<=0)){var be=w.tickText(F.xa,F.xa.c2l(F.xerr),"hover").text;F.xLabel+=void 0!==F.xerrneg?" +"+be+" / -"+w.tickText(F.xa,F.xa.c2l(F.xerrneg),"hover").text:" \xb1 "+be,"x"===O&&(F.distance+=1)}if(!(isNaN(F.yerr)||"log"===F.ya.type&&F.yerr<=0)){var Ve=w.tickText(F.ya,F.ya.c2l(F.yerr),"hover").text;F.yLabel+=void 0!==F.yerrneg?" +"+Ve+" / -"+w.tickText(F.ya,F.ya.c2l(F.yerrneg),"hover").text:" \xb1 "+Ve,"y"===O&&(F.distance+=1)}var Ae=F.hoverinfo||F.trace.hoverinfo;return Ae&&"all"!==Ae&&(-1===(Ae=Array.isArray(Ae)?Ae:Ae.split("+")).indexOf("x")&&(F.xLabel=void 0),-1===Ae.indexOf("y")&&(F.yLabel=void 0),-1===Ae.indexOf("z")&&(F.zLabel=void 0),-1===Ae.indexOf("text")&&(F.text=void 0),-1===Ae.indexOf("name")&&(F.name=void 0)),F}function ie(F,O,Y){var B,ae,ue=Y.container,fe=Y.fullLayout,he=fe._size,xe=Y.event,be=!!O.hLinePoint,Ve=!!O.vLinePoint;if(ue.selectAll(".spikeline").remove(),Ve||be){var Ae=b.combine(fe.plot_bgcolor,fe.paper_bgcolor);if(be){var Oe,Re,tt=O.hLinePoint;B=tt&&tt.xa,"cursor"===(ae=tt&&tt.ya).spikesnap?(Oe=xe.pointerX,Re=xe.pointerY):(Oe=B._offset+tt.x,Re=ae._offset+tt.y);var Ke,$e,Me=p.readability(tt.color,Ae)<1.5?b.contrast(Ae):tt.color,ve=ae.spikemode,Se=ae.spikethickness,Te=ae.spikecolor||Me,qe=w.getPxPosition(F,ae);if(-1!==ve.indexOf("toaxis")||-1!==ve.indexOf("across")){if(-1!==ve.indexOf("toaxis")&&(Ke=qe,$e=Oe),-1!==ve.indexOf("across")){var Ee=ae._counterDomainMin,Ie=ae._counterDomainMax;"free"===ae.anchor&&(Ee=Math.min(Ee,ae.position),Ie=Math.max(Ie,ae.position)),Ke=he.l+Ee*he.w,$e=he.l+Ie*he.w}ue.insert("line",":first-child").attr({x1:Ke,x2:$e,y1:Re,y2:Re,"stroke-width":Se,stroke:Te,"stroke-dasharray":C.dashStyle(ae.spikedash,Se)}).classed("spikeline",!0).classed("crisp",!0),ue.insert("line",":first-child").attr({x1:Ke,x2:$e,y1:Re,y2:Re,"stroke-width":Se+2,stroke:Ae}).classed("spikeline",!0).classed("crisp",!0)}-1!==ve.indexOf("marker")&&ue.insert("circle",":first-child").attr({cx:qe+("right"!==ae.side?Se:-Se),cy:Re,r:Se,fill:Te}).classed("spikeline",!0)}if(Ve){var Qe,nt,Ye=O.vLinePoint;ae=Ye&&Ye.ya,"cursor"===(B=Ye&&Ye.xa).spikesnap?(Qe=xe.pointerX,nt=xe.pointerY):(Qe=B._offset+Ye.x,nt=ae._offset+Ye.y);var rt,dt,Xe=p.readability(Ye.color,Ae)<1.5?b.contrast(Ae):Ye.color,mt=B.spikemode,_t=B.spikethickness,yt=B.spikecolor||Xe,Ot=w.getPxPosition(F,B);if(-1!==mt.indexOf("toaxis")||-1!==mt.indexOf("across")){if(-1!==mt.indexOf("toaxis")&&(rt=Ot,dt=nt),-1!==mt.indexOf("across")){var bt=B._counterDomainMin,Fe=B._counterDomainMax;"free"===B.anchor&&(bt=Math.min(bt,B.position),Fe=Math.max(Fe,B.position)),rt=he.t+(1-Fe)*he.h,dt=he.t+(1-bt)*he.h}ue.insert("line",":first-child").attr({x1:Qe,x2:Qe,y1:rt,y2:dt,"stroke-width":_t,stroke:yt,"stroke-dasharray":C.dashStyle(B.spikedash,_t)}).classed("spikeline",!0).classed("crisp",!0),ue.insert("line",":first-child").attr({x1:Qe,x2:Qe,y1:rt,y2:dt,"stroke-width":_t+2,stroke:Ae}).classed("spikeline",!0).classed("crisp",!0)}-1!==mt.indexOf("marker")&&ue.insert("circle",":first-child").attr({cx:Qe,cy:Ot-("top"!==B.side?_t:-_t),r:_t,fill:yt}).classed("spikeline",!0)}}}function Q(F,O){return!O||O.vLinePoint!==F._spikepoints.vLinePoint||O.hLinePoint!==F._spikepoints.hLinePoint}function le(F,O){return h.plainText(F||"",{len:O,allowedTags:["br","sub","sup","b","i","em"]})}function j(F,O,Y){var B=O[F+"a"],ae=O[F+"Val"],ue=O.cd[0];if("category"===B.type)ae=B._categoriesMap[ae];else if("date"===B.type){var fe=O.trace[F+"periodalignment"];if(fe){var he=O.cd[O.index],xe=he[F+"Start"];void 0===xe&&(xe=he[F]);var be=he[F+"End"];void 0===be&&(be=he[F]);var Ve=be-xe;"end"===fe?ae+=Ve:"middle"===fe&&(ae+=Ve/2)}ae=B.d2c(ae)}return ue&&ue.t&&ue.t.posLetter===B._id&&("group"!==Y.boxmode&&"group"!==Y.violinmode||(ae+=ue.t.dPos)),ae}function $(F){return F.offsetTop+F.clientTop}function se(F){return F.offsetLeft+F.clientLeft}function ee(F,O){var Y=F._fullLayout,B=O.getBoundingClientRect(),ae=B.x,ue=B.y,fe=ae+B.width,he=ue+B.height,xe=c.apply3DTransform(Y._invTransform)(ae,ue),be=c.apply3DTransform(Y._invTransform)(fe,he),Ve=xe[0],Ae=xe[1],Oe=be[0],Re=be[1];return{x:Ve,y:Ae,width:Oe-Ve,height:Re-Ae,top:Math.min(Ae,Re),left:Math.min(Ve,Oe),right:Math.max(Ve,Oe),bottom:Math.max(Ae,Re)}}},{"../../lib":232,"../../lib/events":225,"../../lib/override_cursor":243,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../legend/defaults":154,"../legend/draw":155,"./constants":136,"./helpers":138,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],140:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../color"),p=v("./helpers").isUnifiedHover;pe.exports=function(c,l,m,d){d=d||{};var h=l.legend;function u(C){d.font[C]||(d.font[C]=h?l.legend.font[C]:l.font[C])}l&&p(l.hovermode)&&(d.font||(d.font={}),u("size"),u("family"),u("color"),h?(d.bgcolor||(d.bgcolor=g.combine(l.legend.bgcolor,l.paper_bgcolor)),d.bordercolor||(d.bordercolor=l.legend.bordercolor)):d.bgcolor||(d.bgcolor=l.paper_bgcolor)),m("hoverlabel.bgcolor",d.bgcolor),m("hoverlabel.bordercolor",d.bordercolor),m("hoverlabel.namelength",d.namelength),s.coerceFont(m,"hoverlabel.font",d.font),m("hoverlabel.align",d.align)}},{"../../lib":232,"../color":102,"./helpers":138}],141:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("./layout_attributes");pe.exports=function(p,c){function l(m,d){return void 0!==c[m]?c[m]:s.coerce(p,c,g,m,d)}return l("clickmode"),l("hovermode")}},{"../../lib":232,"./layout_attributes":143}],142:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../lib"),p=v("../dragelement"),c=v("./helpers"),l=v("./layout_attributes"),m=v("./hover");pe.exports={moduleType:"component",name:"fx",constants:v("./constants"),schema:{layout:l},attributes:v("./attributes"),layoutAttributes:l,supplyLayoutGlobalDefaults:v("./layout_global_defaults"),supplyDefaults:v("./defaults"),supplyLayoutDefaults:v("./layout_defaults"),calc:v("./calc"),getDistanceFunction:c.getDistanceFunction,getClosest:c.getClosest,inbox:c.inbox,quadrature:c.quadrature,appendArrayPointValue:c.appendArrayPointValue,castHoverOption:function(d,h,u){return g.castOption(d,h,"hoverlabel."+u)},castHoverinfo:function(d,h,u){return g.castOption(d,u,"hoverinfo",function(C){return g.coerceHoverinfo({hoverinfo:C},{_module:d._module},h)})},hover:m.hover,unhover:p.unhover,loneHover:m.loneHover,loneUnhover:function(d){var h=g.isD3Selection(d)?d:s.select(d);h.selectAll("g.hovertext").remove(),h.selectAll(".spikeline").remove()},click:v("./click")}},{"../../lib":232,"../dragelement":121,"./attributes":133,"./calc":134,"./click":135,"./constants":136,"./defaults":137,"./helpers":138,"./hover":139,"./layout_attributes":143,"./layout_defaults":144,"./layout_global_defaults":145,"@plotly/d3":11}],143:[function(v,pe,J){"use strict";var s=v("./constants"),g=v("../../plots/font_attributes"),p=g({editType:"none"});p.family.dflt=s.HOVERFONT,p.size.dflt=s.HOVERFONTSIZE,pe.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:p,grouptitlefont:g({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":310,"./constants":136}],144:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("./layout_attributes"),p=v("./hovermode_defaults"),c=v("./hoverlabel_defaults");pe.exports=function(l,m){function d(b,M){return s.coerce(l,m,g,b,M)}p(l,m)&&(d("hoverdistance"),d("spikedistance")),"select"===d("dragmode")&&d("selectdirection");var h=m._has("mapbox"),u=m._has("geo"),C=m._basePlotModules.length;"zoom"===m.dragmode&&((h||u)&&1===C||h&&u&&2===C)&&(m.dragmode="pan"),c(l,m,d),s.coerceFont(d,"hoverlabel.grouptitlefont",m.hoverlabel.font)}},{"../../lib":232,"./hoverlabel_defaults":140,"./hovermode_defaults":141,"./layout_attributes":143}],145:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("./hoverlabel_defaults"),p=v("./layout_attributes");pe.exports=function(c,l){g(c,l,function(m,d){return s.coerce(c,l,p,m,d)})}},{"../../lib":232,"./hoverlabel_defaults":140,"./layout_attributes":143}],146:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../lib/regex").counter,p=v("../../plots/domain").attributes,c=v("../../plots/cartesian/constants").idRegex,l=v("../../plot_api/plot_template"),m={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[g("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[c.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[c.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:p({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function d(C,b,M){var w=b[M+"axes"],N=Object.keys((C._splomAxes||{})[M]||{});return Array.isArray(w)?w:N.length?N:void 0}function h(C,b,M,w,N,A){var V=b(C+"gap",M),L=b("domain."+C);b(C+"side",w);for(var H=new Array(N),I=L[0],D=(L[1]-I)/(N-V),E=D*(1-V),P=0;P<N;P++){var S=I+D*P;H[A?N-1-P:P]=[S,S+E]}return H}function u(C,b,M,w,N){var A,V=new Array(M);function L(H,I){-1!==b.indexOf(I)&&void 0===w[I]?(V[H]=I,w[I]=H):V[H]=""}if(Array.isArray(C))for(A=0;A<M;A++)L(A,C[A]);else for(L(0,N),A=1;A<M;A++)L(A,N+(A+1));return V}pe.exports={moduleType:"component",name:"grid",schema:{layout:{grid:m}},layoutAttributes:m,sizeDefaults:function(C,b){var M=C.grid||{},w=d(b,M,"x"),N=d(b,M,"y");if(C.grid||w||N){var A,V,L=Array.isArray(M.subplots)&&Array.isArray(M.subplots[0]),H=Array.isArray(w),I=Array.isArray(N),D=H&&w!==M.xaxes&&I&&N!==M.yaxes;L?(A=M.subplots.length,V=M.subplots[0].length):(I&&(A=N.length),H&&(V=w.length));var E=l.newContainer(b,"grid"),P=Z("rows",A),S=Z("columns",V);if(P*S>1){!L&&!H&&!I&&"independent"===Z("pattern")&&(L=!0),E._hasSubplotGrid=L;var R,G,z="top to bottom"===Z("roworder"),W=L?.3:.1;D&&b._splomGridDflt&&(R=b._splomGridDflt.xside,G=b._splomGridDflt.yside),E._domains={x:h("x",Z,L?.2:.1,R,S),y:h("y",Z,W,G,P,z)}}else delete b.grid}function Z(ne,te){return s.coerce(M,E,m,ne,te)}},contentDefaults:function(C,b){var M=b.grid;if(M&&M._domains){var w,N,A,V,L,H,I,D=C.grid||{},E=b._subplots,P=M._hasSubplotGrid,S=M.rows,R=M.columns,G="independent"===M.pattern,z=M._axisMap={};if(P){var X=D.subplots||[];H=M.subplots=new Array(S);var W=1;for(w=0;w<S;w++){var Z=H[w]=new Array(R),ne=X[w]||[];for(N=0;N<R;N++)if(G?(L=1===W?"xy":"x"+W+"y"+W,W++):L=ne[N],Z[N]="",-1!==E.cartesian.indexOf(L)){if(I=L.indexOf("y"),A=L.slice(0,I),V=L.slice(I),void 0!==z[A]&&z[A]!==N||void 0!==z[V]&&z[V]!==w)continue;Z[N]=L,z[A]=N,z[V]=w}}}else{var te=d(b,D,"x"),oe=d(b,D,"y");M.xaxes=u(te,E.xaxis,R,z,"x"),M.yaxes=u(oe,E.yaxis,S,z,"y")}var Ce=M._anchors={},ie="top to bottom"===M.roworder;for(var Q in z){var le,j,$,se=Q.charAt(0),ee=M[se+"side"];if(ee.length<8)Ce[Q]="free";else if("x"===se){if("t"===ee.charAt(0)===ie?(le=0,j=1,$=S):(le=S-1,j=-1,$=-1),P){var F=z[Q];for(w=le;w!==$;w+=j)if((L=H[w][F])&&(I=L.indexOf("y"),L.slice(0,I)===Q)){Ce[Q]=L.slice(I);break}}else for(w=le;w!==$;w+=j)if(-1!==E.cartesian.indexOf(Q+(V=M.yaxes[w]))){Ce[Q]=V;break}}else if("l"===ee.charAt(0)?(le=0,j=1,$=R):(le=R-1,j=-1,$=-1),P){var O=z[Q];for(w=le;w!==$;w+=j)if((L=H[O][w])&&(I=L.indexOf("y"),L.slice(I)===Q)){Ce[Q]=L.slice(0,I);break}}else for(w=le;w!==$;w+=j)if(-1!==E.cartesian.indexOf((A=M.xaxes[w])+Q)){Ce[Q]=A;break}}}}}},{"../../lib":232,"../../lib/regex":248,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/domain":309}],147:[function(v,pe,J){"use strict";var s=v("../../plots/cartesian/constants"),g=v("../../plot_api/plot_template").templatedArray;v("../../constants/axis_placeable_objects"),pe.exports=g("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",s.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",s.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286}],148:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib/to_log_range");pe.exports=function(p,c,l,m){c=c||{};var d="log"===l&&"linear"===c.type;if(d||"linear"===l&&"log"===c.type)for(var u,C,b=p._fullLayout.images,M=c._id.charAt(0),w=0;w<b.length;w++)if(C="images["+w+"].",(u=b[w])[M+"ref"]===c._id){var N=u[M],A=u["size"+M],V=null,L=null;if(d){V=g(N,c.range);var H=A/Math.pow(10,V)/2;L=2*Math.log(H+Math.sqrt(1+H*H))/Math.LN10}else L=(V=Math.pow(10,N))*(Math.pow(10,A/2)-Math.pow(10,-A/2));s(V)?s(L)||(L=null):(V=null,L=null),m(C+M,V),m(C+"size"+M,L)}}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],149:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plots/cartesian/axes"),p=v("../../plots/array_container_defaults"),c=v("./attributes");function l(m,d,h){function u(V,L){return s.coerce(m,d,c,V,L)}var C=u("source");if(!u("visible",!!C))return d;u("layer"),u("xanchor"),u("yanchor"),u("sizex"),u("sizey"),u("sizing"),u("opacity");for(var b={_fullLayout:h},M=["x","y"],w=0;w<2;w++){var N=M[w],A=g.coerceRef(m,d,b,N,"paper",void 0);"paper"!==A&&g.getFromId(b,A)._imgIndices.push(d._index),g.coercePosition(d,b,u,A,N,0)}return d}pe.exports=function(m,d){p(m,d,{name:"images",handleItemDefaults:l})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":147}],150:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../drawing"),p=v("../../plots/cartesian/axes"),c=v("../../plots/cartesian/axis_ids"),l=v("../../constants/xmlns_namespaces");pe.exports=function(m){var d,h,u=m._fullLayout,C=[],b={},M=[];for(h=0;h<u.images.length;h++){var w=u.images[h];if(w.visible)if("below"===w.layer&&"paper"!==w.xref&&"paper"!==w.yref){d=c.ref2id(w.xref)+c.ref2id(w.yref);var N=u._plots[d];if(!N){M.push(w);continue}N.mainplot&&(d=N.mainplot.id),b[d]||(b[d]=[]),b[d].push(w)}else"above"===w.layer?C.push(w):M.push(w)}var A={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},V={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function L(R){var G=s.select(this);if(this._imgSrc!==R.source)if(G.attr("xmlns",l.svg),R.source&&"data:"===R.source.slice(0,5))G.attr("xlink:href",R.source),this._imgSrc=R.source;else{var z=new Promise(function(X){var W=new Image;function Z(){G.remove(),X()}this.img=W,W.setAttribute("crossOrigin","anonymous"),W.onerror=Z,W.onload=function(){var ne=document.createElement("canvas");ne.width=this.width,ne.height=this.height,ne.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var te=ne.toDataURL("image/png");G.attr("xlink:href",te),X()},G.on("error",Z),W.src=R.source,this._imgSrc=R.source}.bind(this));m._promises.push(z)}}function H(R){var G,z,X=s.select(this),W=p.getFromId(m,R.xref),Z=p.getFromId(m,R.yref),ne="domain"===p.getRefType(R.xref),te="domain"===p.getRefType(R.yref),oe=u._size;G=void 0!==W?"string"==typeof R.xref&&ne?W._length*R.sizex:Math.abs(W.l2p(R.sizex)-W.l2p(0)):R.sizex*oe.w,z=void 0!==Z?"string"==typeof R.yref&&te?Z._length*R.sizey:Math.abs(Z.l2p(R.sizey)-Z.l2p(0)):R.sizey*oe.h;var Ce,ie,Q=G*A[R.xanchor].offset,le=z*V[R.yanchor].offset,j=A[R.xanchor].sizing+V[R.yanchor].sizing;switch(Ce=void 0!==W?"string"==typeof R.xref&&ne?W._length*R.x+W._offset:W.r2p(R.x)+W._offset:R.x*oe.w+oe.l,Ce+=Q,ie=void 0!==Z?"string"==typeof R.yref&&te?Z._length*(1-R.y)+Z._offset:Z.r2p(R.y)+Z._offset:oe.h-R.y*oe.h+oe.t,ie+=le,R.sizing){case"fill":j+=" slice";break;case"stretch":j="none"}X.attr({x:Ce,y:ie,width:G,height:z,preserveAspectRatio:j,opacity:R.opacity});var $=(W&&"domain"!==p.getRefType(R.xref)?W._id:"")+(Z&&"domain"!==p.getRefType(R.yref)?Z._id:"");g.setClipUrl(X,$?"clip"+u._uid+$:null,m)}var I=u._imageLowerLayer.selectAll("image").data(M),D=u._imageUpperLayer.selectAll("image").data(C);I.enter().append("image"),D.enter().append("image"),I.exit().remove(),D.exit().remove(),I.each(function(R){L.bind(this)(R),H.bind(this)(R)}),D.each(function(R){L.bind(this)(R),H.bind(this)(R)});var E=Object.keys(u._plots);for(h=0;h<E.length;h++){var P=u._plots[d=E[h]];if(P.imagelayer){var S=P.imagelayer.selectAll("image").data(b[d]||[]);S.enter().append("image"),S.exit().remove(),S.each(function(R){L.bind(this)(R),H.bind(this)(R)})}}}},{"../../constants/xmlns_namespaces":213,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_ids":283,"../drawing":124,"@plotly/d3":11}],151:[function(v,pe,J){"use strict";pe.exports={moduleType:"component",name:"images",layoutAttributes:v("./attributes"),supplyLayoutDefaults:v("./defaults"),includeBasePlot:v("../../plots/cartesian/include_components")("images"),draw:v("./draw"),convertCoords:v("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":147,"./convert_coords":148,"./defaults":149,"./draw":150}],152:[function(v,pe,J){"use strict";var s=v("../../plots/font_attributes"),g=v("../color/attributes");pe.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:s({editType:"legend"}),grouptitlefont:s({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:s({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":310,"../color/attributes":101}],153:[function(v,pe,J){"use strict";pe.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},{}],154:[function(v,pe,J){"use strict";var s=v("../../registry"),g=v("../../lib"),p=v("../../plot_api/plot_template"),c=v("../../plots/attributes"),l=v("./attributes"),m=v("../../plots/layout_attributes"),d=v("./helpers");pe.exports=function(h,u,C){var b,M=h.legend||{},w=p.newContainer(u,"legend");function N(Z,ne){return g.coerce(M,w,l,Z,ne)}for(var A=function(Z,ne){return g.coerce(b._input,b,c,Z,ne)},V=u.font||{},L=g.coerceFont(N,"grouptitlefont",g.extendFlat({},V,{size:Math.round(1.1*V.size)})),H=0,I=!1,D="normal",E=0;E<C.length;E++)(b=C[E]).visible&&((b.showlegend||b._dfltShowLegend&&!(b._module&&b._module.attributes&&b._module.attributes.showlegend&&!1===b._module.attributes.showlegend.dflt))&&(H++,b.showlegend&&(I=!0,(s.traceIs(b,"pie-like")||!0===b._input.showlegend)&&H++),g.coerceFont(A,"legendgrouptitle.font",L)),(s.traceIs(b,"bar")&&"stack"===u.barmode||-1!==["tonextx","tonexty"].indexOf(b.fill))&&(D=d.isGrouped({traceorder:D})?"grouped+reversed":"reversed"),void 0!==b.legendgroup&&""!==b.legendgroup&&(D=d.isReversed({traceorder:D})?"reversed+grouped":"grouped"));var P=g.coerce(h,u,m,"showlegend",I&&H>1);if(!1===P&&(u.legend=void 0),(!1!==P||M.uirevision)&&(N("uirevision",u.uirevision),!1!==P)){N("bgcolor",u.paper_bgcolor),N("bordercolor"),N("borderwidth");var S,R,G,z=g.coerceFont(N,"font",u.font),X="h"===N("orientation");if(X?(S=0,s.getComponentMethod("rangeslider","isVisible")(h.xaxis)?(R=1.1,G="bottom"):(R=-.1,G="top")):(S=1.02,R=1,G="auto"),N("traceorder",D),d.isGrouped(u.legend)&&N("tracegroupgap"),N("itemsizing"),N("itemwidth"),N("itemclick"),N("itemdoubleclick"),N("groupclick"),N("x",S),N("xanchor"),N("y",R),N("yanchor",G),N("valign"),g.noneOrAll(M,w,["x","y"]),N("title.text")){N("title.side",X?"left":"top");var W=g.extendFlat({},z,{size:g.bigFont(z.size)});g.coerceFont(N,"title.font",W)}}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/attributes":275,"../../plots/layout_attributes":314,"../../registry":318,"./attributes":152,"./helpers":158}],155:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../lib"),p=v("../../plots/plots"),c=v("../../registry"),l=v("../../lib/events"),m=v("../dragelement"),d=v("../drawing"),h=v("../color"),u=v("../../lib/svg_text_utils"),C=v("./handle_click"),b=v("./constants"),M=v("../../constants/alignment"),w=M.LINE_SPACING,N=M.FROM_TL,A=M.FROM_BR,V=v("./get_legend_data"),L=v("./style"),H=v("./helpers");function I(z,X,W,Z,ne){var te=W.data()[0][0].trace,oe={event:ne,node:W.node(),curveNumber:te.index,expandedIndex:te._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};te._group&&(oe.group=te._group),c.traceIs(te,"pie-like")&&(oe.label=W.datum()[0].label),!1!==l.triggerHandler(z,"plotly_legendclick",oe)&&(1===Z?X._clickTimeout=setTimeout(function(){z._fullLayout&&C(W,z,Z)},z._context.doubleClickDelay):2===Z&&(X._clickTimeout&&clearTimeout(X._clickTimeout),z._legendMouseDownTime=0,!1!==l.triggerHandler(z,"plotly_legenddoubleclick",oe)&&C(W,z,Z)))}function D(z,X,W){var Z,ne,te=z.data()[0][0],oe=te.trace,Ce=c.traceIs(oe,"pie-like"),ie=!W._inHover&&X._context.edits.legendText&&!Ce,Q=W._maxNameLength;te.groupTitle?(Z=te.groupTitle.text,ne=te.groupTitle.font):(ne=W.font,W.entries?Z=te.text:(Z=Ce?te.label:oe.name,oe._meta&&(Z=g.templateString(Z,oe._meta))));var le=g.ensureSingle(z,"text","legendtext");le.attr("text-anchor","start").call(d.font,ne).text(ie?E(Z,Q):Z),u.positionText(le,W.itemwidth+2*b.itemGap,0),ie?le.call(u.makeEditable,{gd:X,text:Z}).call(S,z,X,W).on("edit",function($){this.text(E($,Q)).call(S,z,X,W);var se=te.trace._fullInput||{},ee={};if(c.hasTransform(se,"groupby")){var F=c.getTransformIndices(se,"groupby"),Y=g.keyedContainer(se,"transforms["+F[F.length-1]+"].styles","target","value.name");Y.set(te.trace._group,$),ee=Y.constructUpdate()}else ee.name=$;return c.call("_guiRestyle",X,ee,oe.index)}):S(le,z,X,W)}function E(z,X){var W=Math.max(4,X);if(z&&z.trim().length>=W/2)return z;for(var Z=W-(z=z||"").length;Z>0;Z--)z+=" ";return z}function P(z,X){var W,Z=X._context.doubleClickDelay,ne=1,te=g.ensureSingle(z,"rect","legendtoggle",function(oe){X._context.staticPlot||oe.style("cursor","pointer").attr("pointer-events","all"),oe.call(h.fill,"rgba(0,0,0,0)")});X._context.staticPlot||(te.on("mousedown",function(){(W=(new Date).getTime())-X._legendMouseDownTime<Z?ne+=1:(ne=1,X._legendMouseDownTime=W)}),te.on("mouseup",function(){if(!X._dragged&&!X._editing){var oe=X._fullLayout.legend;(new Date).getTime()-X._legendMouseDownTime>Z&&(ne=Math.max(ne-1,1)),I(X,oe,z,ne,s.event)}}))}function S(z,X,W,Z,ne){Z._inHover&&z.attr("data-notex",!0),u.convertToTspans(z,W,function(){!function(te,oe,Ce,ie){var Q=te.data()[0][0];if(Ce._inHover||!Q||Q.trace.showlegend){var le=te.select("g[class*=math-group]"),j=le.node();Ce||(Ce=oe._fullLayout.legend);var ee,F,se=Ce.borderwidth,O=(1===ie?Ce.title.font:Q.groupTitle?Q.groupTitle.font:Ce.font).size*w;if(j){var Y=d.bBox(j);ee=Y.height,F=Y.width,1===ie?d.setTranslate(le,se,se+.75*ee):d.setTranslate(le,0,.25*ee)}else{var B=te.select(1===ie?".legendtitletext":".legendtext"),ae=u.lineCount(B),ue=B.node();if(ee=O*ae,F=ue?d.bBox(ue).width:0,1===ie)"left"===Ce.title.side&&(F+=2*b.itemGap),u.positionText(B,se+b.titlePad,se+O);else{var fe=2*b.itemGap+Ce.itemwidth;Q.groupTitle&&(fe=b.itemGap,F-=Ce.itemwidth),u.positionText(B,fe,-O*((ae-1)/2-.3))}}1===ie?(Ce._titleWidth=F,Ce._titleHeight=ee):(Q.lineHeight=O,Q.height=Math.max(ee,16)+3,Q.width=F)}else te.remove()}(X,W,Z,ne)})}function R(z){return g.isRightAnchor(z)?"right":g.isCenterAnchor(z)?"center":"left"}function G(z){return g.isBottomAnchor(z)?"bottom":g.isMiddleAnchor(z)?"middle":"top"}pe.exports=function(z,X){return X||(X=z._fullLayout.legend||{}),function(W,Z){var ne,te,oe=W._fullLayout,Ce="legend"+oe._uid,ie=Z._inHover;if(ie?(ne=Z.layer,Ce+="-hover"):ne=oe._infolayer,ne){if(W._legendMouseDownTime||(W._legendMouseDownTime=0),ie){if(!Z.entries)return;te=V(Z.entries,Z)}else{if(!W.calcdata)return;te=oe.showlegend&&V(W.calcdata,Z)}var Q=oe.hiddenlabels||[];if(!(ie||oe.showlegend&&te.length))return ne.selectAll(".legend").remove(),oe._topdefs.select("#"+Ce).remove(),p.autoMargin(W,"legend");var le=g.ensureSingle(ne,"g","legend",function(ae){ie||ae.attr("pointer-events","all")}),j=g.ensureSingleById(oe._topdefs,"clipPath",Ce,function(ae){ae.append("rect")}),$=g.ensureSingle(le,"rect","bg",function(ae){ae.attr("shape-rendering","crispEdges")});$.call(h.stroke,Z.bordercolor).call(h.fill,Z.bgcolor).style("stroke-width",Z.borderwidth+"px");var se=g.ensureSingle(le,"g","scrollbox"),ee=Z.title;if(Z._titleWidth=0,Z._titleHeight=0,ee.text){var F=g.ensureSingle(se,"text","legendtitletext");F.attr("text-anchor","start").call(d.font,ee.font).text(ee.text),S(F,se,W,Z,1)}else se.selectAll(".legendtitletext").remove();var O=g.ensureSingle(le,"rect","scrollbar",function(ae){ae.attr(b.scrollBarEnterAttrs).call(h.fill,b.scrollBarColor)}),Y=se.selectAll("g.groups").data(te);Y.enter().append("g").attr("class","groups"),Y.exit().remove();var B=Y.selectAll("g.traces").data(g.identity);B.enter().append("g").attr("class","traces"),B.exit().remove(),B.style("opacity",function(ae){var ue=ae[0].trace;return c.traceIs(ue,"pie-like")?-1!==Q.indexOf(ae[0].label)?.5:1:"legendonly"===ue.visible?.5:1}).each(function(){s.select(this).call(D,W,Z)}).call(L,W,Z).each(function(){ie||s.select(this).call(P,W)}),g.syncOrAsync([p.previousPromises,function(){return function(ae,ue,fe,he){var xe=ae._fullLayout;he||(he=xe.legend);var be=xe._size,Ve=H.isVertical(he),Ae=H.isGrouped(he),Oe=he.borderwidth,Re=2*Oe,tt=b.itemGap,Ke=he.itemwidth+2*tt,$e=2*(Oe+tt),Me=G(he),ve=he.y<0||0===he.y&&"top"===Me,Se=he.y>1||1===he.y&&"bottom"===Me,Te=he.tracegroupgap;he._maxHeight=Math.max(ve||Se?xe.height/2:be.h,30);var qe=0;he._width=0,he._height=0;var Wt,Nt,ge,_e,Ee=(Nt=0,ge=0,(_e=(Wt=he).title.side)&&(-1!==_e.indexOf("left")&&(Nt=Wt._titleWidth),-1!==_e.indexOf("top")&&(ge=Wt._titleHeight)),[Nt,ge]);if(Ve)fe.each(function(Wt){var Nt=Wt[0].height;d.setTranslate(this,Oe+Ee[0],Oe+Ee[1]+he._height+Nt/2+tt),he._height+=Nt,he._width=Math.max(he._width,Wt[0].width)}),qe=Ke+he._width,he._width+=tt+Ke+Re,he._height+=$e,Ae&&(ue.each(function(Wt,Nt){d.setTranslate(this,0,Nt*he.tracegroupgap)}),he._height+=(he._lgroupsLength-1)*he.tracegroupgap);else{var Ie=R(he),Ye=Se||ve,rt=xe.width/2;he._maxWidth=Math.max(he.x<0||0===he.x&&"right"===Ie?Ye&&"left"===Ie?be.l+be.w:rt:he.x>1||1===he.x&&"left"===Ie?Ye&&"right"===Ie?be.r+be.w:rt:be.w,2*Ke);var dt=0,Xe=0;fe.each(function(Wt){var Nt=Wt[0].width+Ke;dt=Math.max(dt,Nt),Xe+=Nt}),qe=null;var mt=0;if(Ae){var _t=0,yt=0,Ot=0;ue.each(function(){var Wt=0,Nt=0;s.select(this).selectAll("g.traces").each(function(_e){var We=_e[0].width,Je=_e[0].height;d.setTranslate(this,Ee[0],Ee[1]+Oe+tt+Je/2+Nt),Nt+=Je,Wt=Math.max(Wt,Ke+We)});var ge=Wt+tt;yt>0&&ge+Oe+yt>he._maxWidth?(mt=Math.max(mt,yt),yt=0,Ot+=_t+Te,_t=Nt):_t=Math.max(_t,Nt),d.setTranslate(this,yt,Ot),yt+=ge}),he._width=Math.max(mt,yt)+Oe,he._height=Ot+_t+$e}else{var bt=fe.size(),Fe=Xe+Re+(bt-1)*tt<he._maxWidth,Ue=0,gt=0,Pt=0,Qt=0;fe.each(function(Wt){var Nt=Wt[0].height,ge=Ke+Wt[0].width,_e=(Fe?ge:dt)+tt;_e+Oe+gt-tt>=he._maxWidth&&(mt=Math.max(mt,Qt),gt=0,Pt+=Ue,he._height+=Ue,Ue=0),d.setTranslate(this,Ee[0]+Oe+gt,Ee[1]+Oe+Pt+Nt/2+tt),Qt=gt+ge+tt,gt+=_e,Ue=Math.max(Ue,Nt)}),Fe?(he._width=gt+Re,he._height=Ue+$e):(he._width=Math.max(mt,Qt)+Re,he._height+=Ue+$e)}}he._width=Math.ceil(Math.max(he._width+Ee[0],he._titleWidth+2*(Oe+b.titlePad))),he._height=Math.ceil(Math.max(he._height+Ee[1],he._titleHeight+2*(Oe+b.itemGap))),he._effHeight=Math.min(he._height,he._maxHeight);var en=ae._context.edits,Xt=en.legendText||en.legendPosition;fe.each(function(Wt){var Nt=s.select(this).select(".legendtoggle"),ge=Wt[0].height,_e=Xt?Ke:qe||Ke+Wt[0].width;Ve||(_e+=tt/2),d.setRect(Nt,0,-ge/2,_e,ge)})}(W,Y,B,Z)},function(){var ae,ue,fe,he,Ye,rt,dt,Xe,xe=oe._size,be=Z.borderwidth;if(!ie){if(dt=R(rt=(Ye=W)._fullLayout.legend),Xe=G(rt),p.autoMargin(Ye,"legend",{x:rt.x,y:rt.y,l:rt._width*N[dt],r:rt._width*A[dt],b:rt._effHeight*A[Xe],t:rt._effHeight*N[Xe]}))return;var Ve=xe.l+xe.w*Z.x-N[R(Z)]*Z._width,Ae=xe.t+xe.h*(1-Z.y)-N[G(Z)]*Z._effHeight;if(oe.margin.autoexpand){var Oe=Ve,Re=Ae;Ve=g.constrain(Ve,0,oe.width-Z._width),Ae=g.constrain(Ae,0,oe.height-Z._effHeight),Ve!==Oe&&g.log("Constrain legend.x to make legend fit inside graph"),Ae!==Re&&g.log("Constrain legend.y to make legend fit inside graph")}d.setTranslate(le,Ve,Ae)}if(O.on(".drag",null),le.on("wheel",null),ie||Z._height<=Z._maxHeight||W._context.staticPlot){var tt=Z._effHeight;ie&&(tt=Z._height),$.attr({width:Z._width-be,height:tt-be,x:be/2,y:be/2}),d.setTranslate(se,0,0),j.select("rect").attr({width:Z._width-2*be,height:tt-2*be,x:be,y:be}),d.setClipUrl(se,Ce,W),d.setRect(O,0,0,0,0),delete Z._scrollY}else{var Ke,Me,ve=Math.max(b.scrollBarMinHeight,Z._effHeight*Z._effHeight/Z._height),Se=Z._effHeight-ve-2*b.scrollBarMargin,Te=Z._height-Z._effHeight,qe=Se/Te,Ee=Math.min(Z._scrollY||0,Te);$.attr({width:Z._width-2*be+b.scrollBarWidth+b.scrollBarMargin,height:Z._effHeight-be,x:be/2,y:be/2}),j.select("rect").attr({width:Z._width-2*be+b.scrollBarWidth+b.scrollBarMargin,height:Z._effHeight-2*be,x:be,y:be+Ee}),d.setClipUrl(se,Ce,W),nt(Ee,ve,qe),le.on("wheel",function(){nt(Ee=g.constrain(Z._scrollY+s.event.deltaY/Se*Te,0,Te),ve,qe),0!==Ee&&Ee!==Te&&s.event.preventDefault()});var Ie=s.behavior.drag().on("dragstart",function(){var Ye=s.event.sourceEvent;Ke="touchstart"===Ye.type?Ye.changedTouches[0].clientY:Ye.clientY,Me=Ee}).on("drag",function(){var Ye=s.event.sourceEvent;2===Ye.buttons||Ye.ctrlKey||nt(Ee=function(rt,dt,Xe){return g.constrain((Xe-dt)/qe+rt,0,Te)}(Me,Ke,"touchmove"===Ye.type?Ye.changedTouches[0].clientY:Ye.clientY),ve,qe)});O.call(Ie);var Qe=s.behavior.drag().on("dragstart",function(){var Ye=s.event.sourceEvent;"touchstart"===Ye.type&&(Ke=Ye.changedTouches[0].clientY,Me=Ee)}).on("drag",function(){var Ye=s.event.sourceEvent;"touchmove"===Ye.type&&nt(Ee=function(rt,dt,Xe){return g.constrain((dt-Xe)/qe+rt,0,Te)}(Me,Ke,Ye.changedTouches[0].clientY),ve,qe)});se.call(Qe)}function nt(Ye,rt,dt){Z._scrollY=W._fullLayout.legend._scrollY=Ye,d.setTranslate(se,0,-Ye),d.setRect(O,Z._width,b.scrollBarMargin+Ye*dt,b.scrollBarWidth,rt),j.select("rect").attr("y",be+Ye)}W._context.edits.legendPosition&&(le.classed("cursor-move",!0),m.init({element:le.node(),gd:W,prepFn:function(){var Ye=d.getTranslate(le);fe=Ye.x,he=Ye.y},moveFn:function(Ye,rt){var dt=fe+Ye,Xe=he+rt;d.setTranslate(le,dt,Xe),ae=m.align(dt,0,xe.l,xe.l+xe.w,Z.xanchor),ue=m.align(Xe,0,xe.t+xe.h,xe.t,Z.yanchor)},doneFn:function(){void 0!==ae&&void 0!==ue&&c.call("_guiRelayout",W,{"legend.x":ae,"legend.y":ue})},clickFn:function(Ye,rt){var dt=ne.selectAll("g.traces").filter(function(){var Xe=this.getBoundingClientRect();return rt.clientX>=Xe.left&&rt.clientX<=Xe.right&&rt.clientY>=Xe.top&&rt.clientY<=Xe.bottom});dt.size()>0&&I(W,le,dt,Ye,rt)}}))}],W)}}(z,X)}},{"../../constants/alignment":207,"../../lib":232,"../../lib/events":225,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"./constants":153,"./get_legend_data":156,"./handle_click":157,"./helpers":158,"./style":160,"@plotly/d3":11}],156:[function(v,pe,J){"use strict";var s=v("../../registry"),g=v("./helpers");pe.exports=function(p,c){var l,m,d=c._inHover,h=g.isGrouped(c),u=g.isReversed(c),C={},b=[],M=!1,w={},N=0,A=0;function V(oe,Ce){if(""!==oe&&g.isGrouped(c))-1===b.indexOf(oe)?(b.push(oe),M=!0,C[oe]=[Ce]):C[oe].push(Ce);else{var ie="~~i"+N;b.push(ie),C[ie]=[Ce],N++}}for(l=0;l<p.length;l++){var L=p[l],H=L[0],I=H.trace,D=I.legendgroup;if(d||I.visible&&I.showlegend)if(s.traceIs(I,"pie-like"))for(w[D]||(w[D]={}),m=0;m<L.length;m++){var E=L[m].label;w[D][E]||(V(D,{label:E,color:L[m].color,i:L[m].i,trace:I,pts:L[m].pts}),w[D][E]=!0,A=Math.max(A,(E||"").length))}else V(D,H),A=Math.max(A,(I.name||"").length)}if(!b.length)return[];var P=!M||!h,S=[];for(l=0;l<b.length;l++){var R=C[b[l]];S.push(P?R[0]:R)}for(P&&(S=[S]),l=0;l<S.length;l++){var G=1/0;for(m=0;m<S[l].length;m++){var z=S[l][m].trace.legendrank;G>z&&(G=z)}S[l][0]._groupMinRank=G,S[l][0]._preGroupSort=l}var X=function(oe,Ce){return oe.trace.legendrank-Ce.trace.legendrank||oe._preSort-Ce._preSort};for(S.forEach(function(oe,Ce){oe[0]._preGroupSort=Ce}),S.sort(function(oe,Ce){return oe[0]._groupMinRank-Ce[0]._groupMinRank||oe[0]._preGroupSort-Ce[0]._preGroupSort}),l=0;l<S.length;l++){S[l].forEach(function(oe,Ce){oe._preSort=Ce}),S[l].sort(X);var W=S[l][0].trace,Z=null;for(m=0;m<S[l].length;m++){var ne=S[l][m].trace.legendgrouptitle;if(ne&&ne.text){Z=ne,d&&(ne.font=c._groupTitleFont);break}}if(u&&S[l].reverse(),Z){var te=!1;for(m=0;m<S[l].length;m++)if(s.traceIs(S[l][m].trace,"pie-like")){te=!0;break}S[l].unshift({i:-1,groupTitle:Z,noClick:te,trace:{showlegend:W.showlegend,legendgroup:W.legendgroup,visible:"toggleitem"===c.groupclick||W.visible}})}for(m=0;m<S[l].length;m++)S[l][m]=[S[l][m]]}return c._lgroupsLength=S.length,c._maxNameLength=A,S}},{"../../registry":318,"./helpers":158}],157:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../registry"),p=!0;pe.exports=function(c,l,m){var d=l._fullLayout;if(!l._dragged&&!l._editing){var h,u=d.legend.itemclick,C=d.legend.itemdoubleclick,b=d.legend.groupclick;if(1===m&&"toggle"===u&&"toggleothers"===C&&p&&l.data&&l._context.showTips&&s.notifier(s._(l,"Double-click on legend to isolate one trace"),"long"),p=!1,1===m?h=u:2===m&&(h=C),h){var M="togglegroup"===b,w=d.hiddenlabels?d.hiddenlabels.slice():[],N=c.data()[0][0];if(!N.groupTitle||!N.noClick){var A,V,L,H,I,D=l._fullData,E=N.trace,P=E.legendgroup,S={},R=[],G=[],z=[];if(g.traceIs(E,"pie-like")){var X=N.label,W=w.indexOf(X);"toggle"===h?-1===W?w.push(X):w.splice(W,1):"toggleothers"===h&&(w=[],l.calcdata[0].forEach(function(O){X!==O.label&&w.push(O.label)}),l._fullLayout.hiddenlabels&&l._fullLayout.hiddenlabels.length===w.length&&-1===W&&(w=[])),g.call("_guiRelayout",l,"hiddenlabels",w)}else{var Z,ne=P&&P.length,te=[];if(ne)for(A=0;A<D.length;A++)(Z=D[A]).visible&&Z.legendgroup===P&&te.push(A);if("toggle"===h){var oe;switch(E.visible){case!0:oe="legendonly";break;case!1:oe=!1;break;case"legendonly":oe=!0}if(ne)if(M)for(A=0;A<D.length;A++)!1!==D[A].visible&&D[A].legendgroup===P&&F(D[A],oe);else F(E,oe);else F(E,oe)}else if("toggleothers"===h){var Q,j=!0;for(A=0;A<D.length;A++)if(Q=!0!==D[A].showlegend,!(D[A]===E||Q||ne&&D[A].legendgroup===P||!0!==D[A].visible||g.traceIs(D[A],"notLegendIsolatable"))){j=!1;break}for(A=0;A<D.length;A++)if(!1!==D[A].visible&&!g.traceIs(D[A],"notLegendIsolatable"))switch(E.visible){case"legendonly":F(D[A],!0);break;case!0:Q=!0!==D[A].showlegend&&!D[A].legendgroup,F(D[A],!!(D[A]===E||ne&&D[A].legendgroup===P||Q)||!!j||"legendonly")}}for(A=0;A<G.length;A++)if(L=G[A]){var $=L.constructUpdate(),se=Object.keys($);for(V=0;V<se.length;V++)(S[H=se[V]]=S[H]||[])[z[A]]=$[H]}for(I=Object.keys(S),A=0;A<I.length;A++)for(H=I[A],V=0;V<R.length;V++)S[H].hasOwnProperty(V)||(S[H][V]=void 0);g.call("_guiRestyle",l,S,R)}}}}function ee(O,Y,B){var ae=R.indexOf(O),ue=S[Y];return ue||(ue=S[Y]=[]),-1===R.indexOf(O)&&(R.push(O),ae=R.length-1),ue[ae]=B,ae}function F(O,Y){if(!N.groupTitle||M){var B=O._fullInput;if(g.hasTransform(B,"groupby")){var ae=G[B.index];if(!ae){var ue=g.getTransformIndices(B,"groupby");ae=s.keyedContainer(B,"transforms["+ue[ue.length-1]+"].styles","target","value.visible"),G[B.index]=ae}var he=ae.get(O._group);void 0===he&&(he=!0),!1!==he&&ae.set(O._group,Y),z[B.index]=ee(B.index,"visible",!1!==B.visible)}else ee(B.index,"visible",!1!==B.visible&&Y)}}}},{"../../lib":232,"../../registry":318}],158:[function(v,pe,J){"use strict";J.isGrouped=function(s){return-1!==(s.traceorder||"").indexOf("grouped")},J.isVertical=function(s){return"h"!==s.orientation},J.isReversed=function(s){return-1!==(s.traceorder||"").indexOf("reversed")}},{}],159:[function(v,pe,J){"use strict";pe.exports={moduleType:"component",name:"legend",layoutAttributes:v("./attributes"),supplyLayoutDefaults:v("./defaults"),draw:v("./draw"),style:v("./style")}},{"./attributes":152,"./defaults":154,"./draw":155,"./style":160}],160:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../registry"),p=v("../../lib"),c=p.strTranslate,l=v("../drawing"),m=v("../color"),d=v("../colorscale/helpers").extractOpts,h=v("../../traces/scatter/subtypes"),u=v("../../traces/pie/style_one"),C=v("../../traces/pie/helpers").castOption,b=v("./constants");function M(A,V){return(V?"radial":"horizontal")+(A?"":"reversed")}function w(A){var V=A[0].trace,L=V.contours,H=h.hasLines(V),I=h.hasMarkers(V),D=V.visible&&V.fill&&"none"!==V.fill,E=!1,P=!1;if(L){var S=L.coloring;"lines"===S?E=!0:H="none"===S||"heatmap"===S||L.showlines,"constraint"===L.type?D="="!==L._operation:"fill"!==S&&"heatmap"!==S||(P=!0)}return{showMarker:I,showLine:H,showFill:D,showGradientLine:E,showGradientFill:P,anyLine:H||E,anyFill:D||P}}function N(A,V,L){return A&&p.isArrayOrTypedArray(A)?V:A>L?L:A}pe.exports=function(A,V,L){L||(L=V._fullLayout.legend);var I="constant"===L.itemsizing,D=L.itemwidth,P=c((D+2*b.itemGap)/2,0),S=function(z,X,W,Z){var ne;if(z+1)ne=z;else{if(!(X&&X.width>0))return 0;ne=X.width}return I?Z:Math.min(ne,W)};function R(z,X,W){var Z=z[0].trace,ne=Z.marker||{},te=ne.line||{},oe=W?Z.visible&&Z.type===W:g.traceIs(Z,"bar"),Ce=s.select(X).select("g.legendpoints").selectAll("path.legend"+W).data(oe?[z]:[]);Ce.enter().append("path").classed("legend"+W,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),Ce.exit().remove(),Ce.each(function(ie){var Q=s.select(this),le=ie[0],j=S(le.mlw,ne.line,5,2);Q.style("stroke-width",j+"px");var $=le.mcc;if(!L._inHover&&"mc"in le){var se=d(ne),ee=se.mid;void 0===ee&&(ee=(se.max+se.min)/2),$=l.tryColorscale(ne,"")(ee)}var F=$||le.mc||ne.color,O=ne.pattern,Y=O&&l.getPatternAttr(O.shape,0,"");if(Y){var B=l.getPatternAttr(O.bgcolor,0,null),ae=l.getPatternAttr(O.fgcolor,0,null),ue=O.fgopacity,fe=N(O.size,8,10),he=N(O.solidity,.5,1);Q.call(l.pattern,"legend",V,"legend-"+Z.uid,Y,fe,he,$,O.fillmode,B,ae,ue)}else Q.call(m.fill,F);j&&m.stroke(Q,le.mlc||te.color)})}function G(z,X,W){var Z=z[0],ne=Z.trace,te=W?ne.visible&&ne.type===W:g.traceIs(ne,W),oe=s.select(X).select("g.legendpoints").selectAll("path.legend"+W).data(te?[z]:[]);if(oe.enter().append("path").classed("legend"+W,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),oe.exit().remove(),oe.size()){var Ce=(ne.marker||{}).line,ie=S(C(Ce.width,Z.pts),Ce,5,2),Q=p.minExtend(ne,{marker:{line:{width:ie}}});Q.marker.line.color=Ce.color;var le=p.minExtend(Z,{trace:Q});u(oe,le,Q)}}A.each(function(z){var X=s.select(this),W=p.ensureSingle(X,"g","layers");W.style("opacity",z[0].trace.opacity);var Z=L.valign,ne=z[0].lineHeight,te=z[0].height;W.attr("transform","middle"!==Z&&ne&&te?c(0,{top:1,bottom:-1}[Z]*(.5*(ne-te+3))):null),W.selectAll("g.legendfill").data([z]).enter().append("g").classed("legendfill",!0),W.selectAll("g.legendlines").data([z]).enter().append("g").classed("legendlines",!0);var Ce=W.selectAll("g.legendsymbols").data([z]);Ce.enter().append("g").classed("legendsymbols",!0),Ce.selectAll("g.legendpoints").data([z]).enter().append("g").classed("legendpoints",!0)}).each(function(z){var X,W=z[0].trace,Z=[];if(W.visible)switch(W.type){case"histogram2d":case"heatmap":Z=[["M-15,-2V4H15V-2Z"]],X=!0;break;case"choropleth":case"choroplethmapbox":Z=[["M-6,-6V6H6V-6Z"]],X=!0;break;case"densitymapbox":Z=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],X="radial";break;case"cone":Z=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],X=!1;break;case"streamtube":Z=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],X=!1;break;case"surface":Z=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],X=!0;break;case"mesh3d":Z=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],X=!1;break;case"volume":Z=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],X=!0;break;case"isosurface":Z=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],X=!1}var ne=s.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(Z);ne.enter().append("path").classed("legend3dandfriends",!0).attr("transform",P).style("stroke-miterlimit",1),ne.exit().remove(),ne.each(function(te,oe){var Ce,ie=s.select(this),Q=d(W),le=Q.colorscale,j=Q.reversescale;if(le){if(!X){var $=le.length;Ce=0===oe?le[j?$-1:0][1]:1===oe?le[j?0:$-1][1]:le[Math.floor(($-1)/2)][1]}}else{var se=W.vertexcolor||W.facecolor||W.color;Ce=p.isArrayOrTypedArray(se)?se[oe]||se[0]:se}ie.attr("d",te[0]),Ce?ie.call(m.fill,Ce):ie.call(function(ee){ee.size()&&l.gradient(ee,V,"legendfill-"+W.uid,M(j,"radial"===X),le,"fill")})})}).each(function(z){var X=z[0].trace,W="waterfall"===X.type;if(z[0]._distinct&&W){var Z=z[0].trace[z[0].dir].marker;return z[0].mc=Z.color,z[0].mlw=Z.line.width,z[0].mlc=Z.line.color,R(z,this,"waterfall")}var ne=[];X.visible&&W&&(ne=z[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var te=s.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(ne);te.enter().append("path").classed("legendwaterfall",!0).attr("transform",P).style("stroke-miterlimit",1),te.exit().remove(),te.each(function(oe){var Ce=s.select(this),ie=X[oe[0]].marker,Q=S(void 0,ie.line,5,2);Ce.attr("d",oe[1]).style("stroke-width",Q+"px").call(m.fill,ie.color),Q&&Ce.call(m.stroke,ie.line.color)})}).each(function(z){R(z,this,"funnel")}).each(function(z){R(z,this)}).each(function(z){var X=z[0].trace,W=s.select(this).select("g.legendpoints").selectAll("path.legendbox").data(X.visible&&g.traceIs(X,"box-violin")?[z]:[]);W.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),W.exit().remove(),W.each(function(){var Z=s.select(this);if("all"!==X.boxpoints&&"all"!==X.points||0!==m.opacity(X.fillcolor)||0!==m.opacity((X.line||{}).color)){var ne=S(void 0,X.line,5,2);Z.style("stroke-width",ne+"px").call(m.fill,X.fillcolor),ne&&m.stroke(Z,X.line.color)}else{var te=p.minExtend(X,{marker:{size:I?12:p.constrain(X.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});W.call(l.pointStyle,te,V)}})}).each(function(z){G(z,this,"funnelarea")}).each(function(z){G(z,this,"pie")}).each(function(z){var X,W,Z=w(z),ne=Z.showFill,te=Z.showLine,oe=Z.showGradientLine,Ce=Z.showGradientFill,ie=Z.anyFill,Q=Z.anyLine,le=z[0],j=le.trace,$=d(j),se=$.colorscale,ee=$.reversescale,F=h.hasMarkers(j)||!ie?"M5,0":Q?"M5,-2":"M5,-3",O=s.select(this),Y=O.select(".legendfill").selectAll("path").data(ne||Ce?[z]:[]);if(Y.enter().append("path").classed("js-fill",!0),Y.exit().remove(),Y.attr("d",F+"h"+D+"v6h-"+D+"z").call(function(ue){ue.size()&&(ne?l.fillGroupStyle(ue,V):l.gradient(ue,V,"legendfill-"+j.uid,M(ee),se,"fill"))}),te||oe){var B=S(void 0,j.line,10,5);W=p.minExtend(j,{line:{width:B}}),X=[p.minExtend(le,{trace:W})]}var ae=O.select(".legendlines").selectAll("path").data(te||oe?[X]:[]);ae.enter().append("path").classed("js-line",!0),ae.exit().remove(),ae.attr("d",F+(oe?"l"+D+",0.0001":"h"+D)).call(te?l.lineGroupStyle:function(ue){if(ue.size()){var fe="legendline-"+j.uid;l.lineGroupStyle(ue),l.gradient(ue,V,fe,M(ee),se,"stroke")}})}).each(function(z){var X,W,Z=w(z),oe=Z.showLine,Ce=Z.showMarker,ie=z[0],Q=ie.trace,le=!Ce&&!Z.anyLine&&!Z.anyFill&&h.hasText(Q);function j(ae,ue,fe,he){var xe=p.nestedProperty(Q,ae).get(),be=p.isArrayOrTypedArray(xe)&&ue?ue(xe):xe;if(I&&be&&void 0!==he&&(be=he),fe){if(be<fe[0])return fe[0];if(be>fe[1])return fe[1]}return be}function $(ae){return ie._distinct&&ie.index&&ae[ie.index]?ae[ie.index]:ae[0]}if(Ce||le||oe){var se={},ee={};if(Ce){se.mc=j("marker.color",$),se.mx=j("marker.symbol",$),se.mo=j("marker.opacity",p.mean,[.2,1]),se.mlc=j("marker.line.color",$),se.mlw=j("marker.line.width",p.mean,[0,5],2),ee.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var F=j("marker.size",p.mean,[2,16],12);se.ms=F,ee.marker.size=F}oe&&(ee.line={width:j("line.width",$,[0,10],5)}),le&&(se.tx="Aa",se.tp=j("textposition",$),se.ts=10,se.tc=j("textfont.color",$),se.tf=j("textfont.family",$)),X=[p.minExtend(ie,se)],(W=p.minExtend(Q,ee)).selectedpoints=null,W.texttemplate=null}var O=s.select(this).select("g.legendpoints"),Y=O.selectAll("path.scatterpts").data(Ce?X:[]);Y.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",P),Y.exit().remove(),Y.call(l.pointStyle,W,V),Ce&&(X[0].mrc=3);var B=O.selectAll("g.pointtext").data(le?X:[]);B.enter().append("g").classed("pointtext",!0).append("text").attr("transform",P),B.exit().remove(),B.selectAll("text").call(l.textPointStyle,W,V)}).each(function(z){var X=z[0].trace,W=s.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(X.visible&&"candlestick"===X.type?[z,z]:[]);W.enter().append("path").classed("legendcandle",!0).attr("d",function(Z,ne){return ne?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",P).style("stroke-miterlimit",1),W.exit().remove(),W.each(function(Z,ne){var te=s.select(this),oe=X[ne?"increasing":"decreasing"],Ce=S(void 0,oe.line,5,2);te.style("stroke-width",Ce+"px").call(m.fill,oe.fillcolor),Ce&&m.stroke(te,oe.line.color)})}).each(function(z){var X=z[0].trace,W=s.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(X.visible&&"ohlc"===X.type?[z,z]:[]);W.enter().append("path").classed("legendohlc",!0).attr("d",function(Z,ne){return ne?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",P).style("stroke-miterlimit",1),W.exit().remove(),W.each(function(Z,ne){var te=s.select(this),oe=X[ne?"increasing":"decreasing"],Ce=S(void 0,oe.line,5,2);te.style("fill","none").call(l.dashLine,oe.line.dash,Ce),Ce&&m.stroke(te,oe.line.color)})})}},{"../../lib":232,"../../registry":318,"../../traces/pie/helpers":350,"../../traces/pie/style_one":356,"../../traces/scatter/subtypes":383,"../color":102,"../colorscale/helpers":113,"../drawing":124,"./constants":153,"@plotly/d3":11}],161:[function(v,pe,J){"use strict";v("./constants"),pe.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},{"./constants":163}],162:[function(v,pe,J){"use strict";var s=v("../../registry"),g=v("../../plots/plots"),p=v("../../plots/cartesian/axis_ids"),c=v("../../fonts/ploticon"),l=v("../shapes/draw").eraseActiveShape,m=v("../../lib"),d=m._,h=pe.exports={};function u(H,I){var D,E,P=I.currentTarget,S=P.getAttribute("data-attr"),R=P.getAttribute("data-val")||!0,G=H._fullLayout,z={},X=p.list(H,null,!0),W=G._cartesianSpikesEnabled;if("zoom"===S){var Z,ne="in"===R?.5:2,te=(1+ne)/2,oe=(1-ne)/2;for(E=0;E<X.length;E++)if(!(D=X[E]).fixedrange)if(Z=D._name,"auto"===R)z[Z+".autorange"]=!0;else if("reset"===R){if(void 0===D._rangeInitial)z[Z+".autorange"]=!0;else{var Ce=D._rangeInitial.slice();z[Z+".range[0]"]=Ce[0],z[Z+".range[1]"]=Ce[1]}void 0!==D._showSpikeInitial&&(z[Z+".showspikes"]=D._showSpikeInitial,"on"!==W||D._showSpikeInitial||(W="off"))}else{var ie=[D.r2l(D.range[0]),D.r2l(D.range[1])],Q=[te*ie[0]+oe*ie[1],te*ie[1]+oe*ie[0]];z[Z+".range[0]"]=D.l2r(Q[0]),z[Z+".range[1]"]=D.l2r(Q[1])}}else"hovermode"!==S||"x"!==R&&"y"!==R||P.setAttribute("data-val",R=G._isHoriz?"y":"x"),z[S]=R;G._cartesianSpikesEnabled=W,s.call("_guiRelayout",H,z)}function C(H,I){for(var D=I.currentTarget,E=D.getAttribute("data-attr"),P=D.getAttribute("data-val")||!0,S=H._fullLayout._subplots.gl3d||[],R={},G=E.split("."),z=0;z<S.length;z++)R[S[z]+"."+G[1]]=P;R.dragmode="pan"===P?P:"zoom",s.call("_guiRelayout",H,R)}function b(H,I){for(var D=I.currentTarget.getAttribute("data-attr"),E="resetLastSave"===D,P="resetDefault"===D,S=H._fullLayout,R=S._subplots.gl3d||[],G={},z=0;z<R.length;z++){var X,W=R[z],Z=W+".camera",ne=W+".aspectratio",te=W+".aspectmode",oe=S[W]._scene;E?(G[Z+".up"]=oe.viewInitial.up,G[Z+".eye"]=oe.viewInitial.eye,G[Z+".center"]=oe.viewInitial.center,X=!0):P&&(G[Z+".up"]=null,G[Z+".eye"]=null,G[Z+".center"]=null,X=!0),X&&(G[ne+".x"]=oe.viewInitial.aspectratio.x,G[ne+".y"]=oe.viewInitial.aspectratio.y,G[ne+".z"]=oe.viewInitial.aspectratio.z,G[te]=oe.viewInitial.aspectmode)}s.call("_guiRelayout",H,G)}function M(H,I){var D=I.currentTarget,E=D._previousVal,P=H._fullLayout,S=P._subplots.gl3d||[],R=["xaxis","yaxis","zaxis"],G={},z={};if(E)z=E,D._previousVal=null;else{for(var X=0;X<S.length;X++){var W=S[X],Z=P[W],ne=W+".hovermode";G[ne]=Z.hovermode,z[ne]=!1;for(var te=0;te<3;te++){var oe=R[te],Ce=W+"."+oe+".showspikes";z[Ce]=!1,G[Ce]=Z[oe].showspikes}}D._previousVal=G}return z}function w(H,I){for(var D=I.currentTarget,E=D.getAttribute("data-attr"),P=D.getAttribute("data-val")||!0,S=H._fullLayout,R=S._subplots.geo||[],G=0;G<R.length;G++){var z=R[G];if("zoom"===E){var W=S[z].projection.scale;s.call("_guiRelayout",H,z+".projection.scale","in"===P?2*W:.5*W)}}"reset"===E&&L(H,"geo")}function N(H){var I=H._fullLayout;return!I.hovermode&&(I._has("cartesian")?I._isHoriz?"y":"x":"closest")}function A(H){var I=N(H);s.call("_guiRelayout",H,"hovermode",I)}function V(H,I){for(var D=I.currentTarget.getAttribute("data-val"),E=H._fullLayout,P=E._subplots.mapbox||[],S={},R=0;R<P.length;R++){var G=P[R],z=E[G].zoom;S[G+".zoom"]="in"===D?1.05*z:z/1.05}s.call("_guiRelayout",H,S)}function L(H,I){for(var D=H._fullLayout,E=D._subplots[I]||[],P={},S=0;S<E.length;S++)for(var R=E[S],G=D[R]._subplot.viewInitial,z=Object.keys(G),X=0;X<z.length;X++){var W=z[X];P[R+"."+W]=G[W]}s.call("_guiRelayout",H,P)}h.toImage={name:"toImage",title:function(H){return d(H,"png"===((H._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:c.camera,click:function(H){var I=H._context.toImageButtonOptions,D={format:I.format||"png"};m.notifier(d(H,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==D.format&&m.isIE()&&(m.notifier(d(H,"IE only supports svg.  Changing format to svg."),"long"),D.format="svg"),["filename","width","height","scale"].forEach(function(E){E in I&&(D[E]=I[E])}),s.call("downloadImage",H,D).then(function(E){m.notifier(d(H,"Snapshot succeeded")+" - "+E,"long")}).catch(function(){m.notifier(d(H,"Sorry, there was a problem downloading your snapshot!"),"long")})}},h.sendDataToCloud={name:"sendDataToCloud",title:function(H){return d(H,"Edit in Chart Studio")},icon:c.disk,click:function(H){g.sendDataToCloud(H)}},h.editInChartStudio={name:"editInChartStudio",title:function(H){return d(H,"Edit in Chart Studio")},icon:c.pencil,click:function(H){g.sendDataToCloud(H)}},h.zoom2d={name:"zoom2d",_cat:"zoom",title:function(H){return d(H,"Zoom")},attr:"dragmode",val:"zoom",icon:c.zoombox,click:u},h.pan2d={name:"pan2d",_cat:"pan",title:function(H){return d(H,"Pan")},attr:"dragmode",val:"pan",icon:c.pan,click:u},h.select2d={name:"select2d",_cat:"select",title:function(H){return d(H,"Box Select")},attr:"dragmode",val:"select",icon:c.selectbox,click:u},h.lasso2d={name:"lasso2d",_cat:"lasso",title:function(H){return d(H,"Lasso Select")},attr:"dragmode",val:"lasso",icon:c.lasso,click:u},h.drawclosedpath={name:"drawclosedpath",title:function(H){return d(H,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:c.drawclosedpath,click:u},h.drawopenpath={name:"drawopenpath",title:function(H){return d(H,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:c.drawopenpath,click:u},h.drawline={name:"drawline",title:function(H){return d(H,"Draw line")},attr:"dragmode",val:"drawline",icon:c.drawline,click:u},h.drawrect={name:"drawrect",title:function(H){return d(H,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:c.drawrect,click:u},h.drawcircle={name:"drawcircle",title:function(H){return d(H,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:c.drawcircle,click:u},h.eraseshape={name:"eraseshape",title:function(H){return d(H,"Erase active shape")},icon:c.eraseshape,click:l},h.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(H){return d(H,"Zoom in")},attr:"zoom",val:"in",icon:c.zoom_plus,click:u},h.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(H){return d(H,"Zoom out")},attr:"zoom",val:"out",icon:c.zoom_minus,click:u},h.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(H){return d(H,"Autoscale")},attr:"zoom",val:"auto",icon:c.autoscale,click:u},h.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(H){return d(H,"Reset axes")},attr:"zoom",val:"reset",icon:c.home,click:u},h.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(H){return d(H,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:c.tooltip_basic,gravity:"ne",click:u},h.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(H){return d(H,"Compare data on hover")},attr:"hovermode",val:function(H){return H._fullLayout._isHoriz?"y":"x"},icon:c.tooltip_compare,gravity:"ne",click:u},h.zoom3d={name:"zoom3d",_cat:"zoom",title:function(H){return d(H,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:c.zoombox,click:C},h.pan3d={name:"pan3d",_cat:"pan",title:function(H){return d(H,"Pan")},attr:"scene.dragmode",val:"pan",icon:c.pan,click:C},h.orbitRotation={name:"orbitRotation",title:function(H){return d(H,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:c["3d_rotate"],click:C},h.tableRotation={name:"tableRotation",title:function(H){return d(H,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:c["z-axis"],click:C},h.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(H){return d(H,"Reset camera to default")},attr:"resetDefault",icon:c.home,click:b},h.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(H){return d(H,"Reset camera to last save")},attr:"resetLastSave",icon:c.movie,click:b},h.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(H){return d(H,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:function(H,I){var D=M(H,I);s.call("_guiRelayout",H,D)}},h.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(H){return d(H,"Zoom in")},attr:"zoom",val:"in",icon:c.zoom_plus,click:w},h.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(H){return d(H,"Zoom out")},attr:"zoom",val:"out",icon:c.zoom_minus,click:w},h.resetGeo={name:"resetGeo",_cat:"reset",title:function(H){return d(H,"Reset")},attr:"reset",val:null,icon:c.autoscale,click:w},h.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(H){return d(H,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:A},h.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(H){return d(H,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:A},h.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(H){return d(H,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:c.tooltip_basic,gravity:"ne",click:A},h.resetViewSankey={name:"resetSankeyGroup",title:function(H){return d(H,"Reset view")},icon:c.home,click:function(H){for(var I={"node.groups":[],"node.x":[],"node.y":[]},D=0;D<H._fullData.length;D++){var E=H._fullData[D]._viewInitial;I["node.groups"].push(E.node.groups.slice()),I["node.x"].push(E.node.x.slice()),I["node.y"].push(E.node.y.slice())}s.call("restyle",H,I)}},h.toggleHover={name:"toggleHover",title:function(H){return d(H,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:function(H,I){var D=M(H,I);D.hovermode=N(H),s.call("_guiRelayout",H,D)}},h.resetViews={name:"resetViews",title:function(H){return d(H,"Reset views")},icon:c.home,click:function(H,I){var D=I.currentTarget;D.setAttribute("data-attr","zoom"),D.setAttribute("data-val","reset"),u(H,I),D.setAttribute("data-attr","resetLastSave"),b(H,I),L(H,"geo"),L(H,"mapbox")}},h.toggleSpikelines={name:"toggleSpikelines",title:function(H){return d(H,"Toggle Spike Lines")},icon:c.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(H){var I=H._fullLayout;I._cartesianSpikesEnabled="on"===I._cartesianSpikesEnabled?"off":"on",s.call("_guiRelayout",H,function(E){for(var P="on"===E._fullLayout._cartesianSpikesEnabled,S=p.list(E,null,!0),R={},G=0;G<S.length;G++){var z=S[G];R[z._name+".showspikes"]=!!P||z._showSpikeInitial}return R}(H))}},h.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(H){return d(H,"Reset view")},attr:"reset",icon:c.home,click:function(H){L(H,"mapbox")}},h.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(H){return d(H,"Zoom in")},attr:"zoom",val:"in",icon:c.zoom_plus,click:V},h.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(H){return d(H,"Zoom out")},attr:"zoom",val:"out",icon:c.zoom_minus,click:V}},{"../../fonts/ploticon":215,"../../lib":232,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../shapes/draw":186}],163:[function(v,pe,J){"use strict";var s=v("./buttons"),g=Object.keys(s),p=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],c=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(p),l=[];g.forEach(function(m){!function(d){if(-1===c.indexOf(d._cat||d.name)){var h=d.name,u=(d._cat||d.name).toLowerCase();-1===l.indexOf(h)&&l.push(h),-1===l.indexOf(u)&&l.push(u)}}(s[m])}),l.sort(),pe.exports={DRAW_MODES:p,backButtons:c,foreButtons:l}},{"./buttons":162}],164:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../color"),p=v("../../plot_api/plot_template"),c=v("./attributes");pe.exports=function(l,m){var d=l.modebar||{},h=p.newContainer(m,"modebar");function u(b,M){return s.coerce(d,h,c,b,M)}u("orientation"),u("bgcolor",g.addOpacity(m.paper_bgcolor,.5));var C=g.contrast(g.rgb(m.modebar.bgcolor));u("color",g.addOpacity(C,.3)),u("activecolor",g.addOpacity(C,.7)),u("uirevision",m.uirevision),u("add"),u("remove")}},{"../../lib":232,"../../plot_api/plot_template":268,"../color":102,"./attributes":161}],165:[function(v,pe,J){"use strict";pe.exports={moduleType:"component",name:"modebar",layoutAttributes:v("./attributes"),supplyLayoutDefaults:v("./defaults"),manage:v("./manage")}},{"./attributes":161,"./defaults":164,"./manage":166}],166:[function(v,pe,J){"use strict";var s=v("../../plots/cartesian/axis_ids"),g=v("../../traces/scatter/subtypes"),p=v("../../registry"),c=v("../fx/helpers").isUnifiedHover,l=v("./modebar"),m=v("./buttons"),d=v("./constants").DRAW_MODES;pe.exports=function(h){var u=h._fullLayout,C=h._context,b=u._modeBar;if(C.displayModeBar||C.watermark){if(!Array.isArray(C.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(C.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var M,w=C.modeBarButtons;M=Array.isArray(w)&&w.length?function(N){for(var A=0;A<N.length;A++)for(var V=N[A],L=0;L<V.length;L++){var H=V[L];if("string"==typeof H){if(void 0===m[H])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));N[A][L]=m[H]}}return N}(w):!C.displayModeBar&&C.watermark?[]:function(N){var A=N._fullLayout,V=N._fullData,L=N._context;function H(he,xe){if("string"==typeof xe){if(xe.toLowerCase()===he.toLowerCase())return!0}else if(xe.name===he||(xe._cat||xe.name)===he.toLowerCase())return!0;return!1}var I=A.modebar.add;"string"==typeof I&&(I=[I]);var D=A.modebar.remove;"string"==typeof D&&(D=[D]);var E=L.modeBarButtonsToAdd.concat(I.filter(function(he){for(var xe=0;xe<L.modeBarButtonsToRemove.length;xe++)if(H(he,L.modeBarButtonsToRemove[xe]))return!1;return!0})),P=L.modeBarButtonsToRemove.concat(D.filter(function(he){for(var xe=0;xe<L.modeBarButtonsToAdd.length;xe++)if(H(he,L.modeBarButtonsToAdd[xe]))return!1;return!0})),S=A._has("cartesian"),R=A._has("gl3d"),G=A._has("geo"),z=A._has("pie"),X=A._has("funnelarea"),W=A._has("gl2d"),Z=A._has("ternary"),ne=A._has("mapbox"),te=A._has("polar"),oe=A._has("smith"),Ce=A._has("sankey"),ie=function(he){for(var xe=s.list({_fullLayout:he},null,!0),be=0;be<xe.length;be++)if(!xe[be].fixedrange)return!1;return!0}(A),Q=c(A.hovermode),le=[];function j(he){if(he.length){for(var xe=[],be=0;be<he.length;be++){for(var Ve=he[be],Ae=m[Ve],Oe=Ae.name.toLowerCase(),Re=(Ae._cat||Ae.name).toLowerCase(),tt=!1,Ke=0;Ke<P.length;Ke++){var $e=P[Ke].toLowerCase();if($e===Oe||$e===Re){tt=!0;break}}tt||xe.push(m[Ve])}le.push(xe)}}var $=["toImage"];L.showEditInChartStudio?$.push("editInChartStudio"):L.showSendToCloud&&$.push("sendDataToCloud"),j($);var se=[],ee=[],F=[],O=[];(S||W||z||X||Z)+G+R+ne+te+oe>1?(ee=["toggleHover"],F=["resetViews"]):G?(se=["zoomInGeo","zoomOutGeo"],ee=["hoverClosestGeo"],F=["resetGeo"]):R?(ee=["hoverClosest3d"],F=["resetCameraDefault3d","resetCameraLastSave3d"]):ne?(se=["zoomInMapbox","zoomOutMapbox"],ee=["toggleHover"],F=["resetViewMapbox"]):W?ee=["hoverClosestGl2d"]:z?ee=["hoverClosestPie"]:Ce?(ee=["hoverClosestCartesian","hoverCompareCartesian"],F=["resetViewSankey"]):ee=["toggleHover"],S&&(ee=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(he){for(var xe=0;xe<he.length;xe++)if(!p.traceIs(he[xe],"noHover"))return!1;return!0}(V)||Q)&&(ee=[]),!S&&!W||ie||(se=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==F[0]&&(F=["resetScale2d"])),R?O=["zoom3d","pan3d","orbitRotation","tableRotation"]:(S||W)&&!ie||Z?O=["zoom2d","pan2d"]:ne||G?O=["pan2d"]:te&&(O=["zoom2d"]),function(he){for(var xe=!1,be=0;be<he.length&&!xe;be++){var Ve=he[be];Ve._module&&Ve._module.selectPoints&&(p.traceIs(Ve,"scatter-like")?(g.hasMarkers(Ve)||g.hasText(Ve))&&(xe=!0):p.traceIs(Ve,"box-violin")&&"all"!==Ve.boxpoints&&"all"!==Ve.points||(xe=!0))}return xe}(V)&&O.push("select2d","lasso2d");var Y=[],B=function(he){-1===Y.indexOf(he)&&-1!==ee.indexOf(he)&&Y.push(he)};if(Array.isArray(E)){for(var ae=[],ue=0;ue<E.length;ue++){var fe=E[ue];"string"==typeof fe?(fe=fe.toLowerCase(),-1!==d.indexOf(fe)?(A._has("mapbox")||A._has("cartesian"))&&O.push(fe):"togglespikelines"===fe?B("toggleSpikelines"):"togglehover"===fe?B("toggleHover"):"hovercompare"===fe?B("hoverCompareCartesian"):"hoverclosest"===fe?(B("hoverClosestCartesian"),B("hoverClosestGeo"),B("hoverClosest3d"),B("hoverClosestGl2d"),B("hoverClosestPie")):"v1hovermode"===fe&&(B("toggleHover"),B("hoverClosestCartesian"),B("hoverCompareCartesian"),B("hoverClosestGeo"),B("hoverClosest3d"),B("hoverClosestGl2d"),B("hoverClosestPie"))):ae.push(fe)}E=ae}return j(O),j(se.concat(F)),j(Y),function(he,xe){if(xe.length)if(Array.isArray(xe[0]))for(var be=0;be<xe.length;be++)he.push(xe[be]);else he.push(xe);return he}(le,E)}(h),b?b.update(h,M):u._modeBar=l(h,M)}else b&&(b.destroy(),delete u._modeBar)}},{"../../plots/cartesian/axis_ids":283,"../../registry":318,"../../traces/scatter/subtypes":383,"../fx/helpers":138,"./buttons":162,"./constants":163,"./modebar":167}],167:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("fast-isnumeric"),p=v("../../lib"),c=v("../../fonts/ploticon"),l=v("../../version").version,m=new DOMParser;function d(u){this.container=u.container,this.element=document.createElement("div"),this.update(u.graphInfo,u.buttons),this.container.appendChild(this.element)}var h=d.prototype;h.update=function(u,C){this.graphInfo=u;var b=this.graphInfo._context,M=this.graphInfo._fullLayout,w="modebar-"+M._uid;this.element.setAttribute("id",w),this._uid=w,this.element.className="modebar","hover"===b.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===M.modebar.orientation&&(this.element.className+=" vertical",C=C.reverse());var N=M.modebar,A="hover"===b.displayModeBar?".js-plotly-plot .plotly:hover ":"";p.deleteRelatedStyleRule(w),p.addRelatedStyleRule(w,A+"#"+w+" .modebar-group","background-color: "+N.bgcolor),p.addRelatedStyleRule(w,"#"+w+" .modebar-btn .icon path","fill: "+N.color),p.addRelatedStyleRule(w,"#"+w+" .modebar-btn:hover .icon path","fill: "+N.activecolor),p.addRelatedStyleRule(w,"#"+w+" .modebar-btn.active .icon path","fill: "+N.activecolor);var V=!this.hasButtons(C),L=this.hasLogo!==b.displaylogo,H=this.locale!==b.locale;if(this.locale=b.locale,(V||L||H)&&(this.removeAllButtons(),this.updateButtons(C),b.watermark||b.displaylogo)){var I=this.getLogo();b.watermark&&(I.className=I.className+" watermark"),"v"===M.modebar.orientation?this.element.insertBefore(I,this.element.childNodes[0]):this.element.appendChild(I),this.hasLogo=!0}this.updateActiveButton()},h.updateButtons=function(u){var C=this;this.buttons=u,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(b){var M=C.createGroup();b.forEach(function(w){var N=w.name;if(!N)throw new Error("must provide button 'name' in button config");if(-1!==C.buttonsNames.indexOf(N))throw new Error("button name '"+N+"' is taken");C.buttonsNames.push(N);var A=C.createButton(w);C.buttonElements.push(A),M.appendChild(A)}),C.element.appendChild(M)})},h.createGroup=function(){var u=document.createElement("div");return u.className="modebar-group",u},h.createButton=function(u){var C=this,b=document.createElement("a");b.setAttribute("rel","tooltip"),b.className="modebar-btn";var M=u.title;void 0===M?M=u.name:"function"==typeof M&&(M=M(this.graphInfo)),(M||0===M)&&b.setAttribute("data-title",M),void 0!==u.attr&&b.setAttribute("data-attr",u.attr);var w=u.val;if(void 0!==w&&("function"==typeof w&&(w=w(this.graphInfo)),b.setAttribute("data-val",w)),"function"!=typeof u.click)throw new Error("must provide button 'click' function in button config");b.addEventListener("click",function(A){u.click(C.graphInfo,A),C.updateActiveButton(A.currentTarget)}),b.setAttribute("data-toggle",u.toggle||!1),u.toggle&&s.select(b).classed("active",!0);var N=u.icon;return b.appendChild("function"==typeof N?N():this.createIcon(N||c.question)),b.setAttribute("data-gravity",u.gravity||"n"),b},h.createIcon=function(u){var C,b=g(u.height)?Number(u.height):u.ascent-u.descent,M="http://www.w3.org/2000/svg";if(u.path){(C=document.createElementNS(M,"svg")).setAttribute("viewBox",[0,0,u.width,b].join(" ")),C.setAttribute("class","icon");var w=document.createElementNS(M,"path");w.setAttribute("d",u.path),u.transform?w.setAttribute("transform",u.transform):void 0!==u.ascent&&w.setAttribute("transform","matrix(1 0 0 -1 0 "+u.ascent+")"),C.appendChild(w)}return u.svg&&(C=m.parseFromString(u.svg,"application/xml").childNodes[0]),C.setAttribute("height","1em"),C.setAttribute("width","1em"),C},h.updateActiveButton=function(u){var C=this.graphInfo._fullLayout,b=void 0!==u?u.getAttribute("data-attr"):null;this.buttonElements.forEach(function(M){var w=M.getAttribute("data-val")||!0,N=M.getAttribute("data-attr"),A="true"===M.getAttribute("data-toggle"),V=s.select(M);if(A)N===b&&V.classed("active",!V.classed("active"));else{var L=null===N?N:p.nestedProperty(C,N).get();V.classed("active",L===w)}})},h.hasButtons=function(u){var C=this.buttons;if(!C||u.length!==C.length)return!1;for(var b=0;b<u.length;++b){if(u[b].length!==C[b].length)return!1;for(var M=0;M<u[b].length;M++)if(u[b][M].name!==C[b][M].name)return!1}return!0},h.getLogo=function(){var u=this.createGroup(),C=document.createElement("a");return C.href="https://plotly.com/",C.target="_blank",C.setAttribute("data-title",p._(this.graphInfo,"Produced with Plotly.js")+" (v"+l+")"),C.className="modebar-btn plotlyjsicon modebar-btn--logo",C.appendChild(this.createIcon(c.newplotlylogo)),u.appendChild(C),u},h.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},h.destroy=function(){p.removeElement(this.container.querySelector(".modebar")),p.deleteRelatedStyleRule(this._uid)},pe.exports=function(u,C){var b=u._fullLayout,M=new d({graphInfo:u,container:b._modebardiv.node(),buttons:C});return b._privateplot&&s.select(M.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),M}},{"../../fonts/ploticon":215,"../../lib":232,"../../version":391,"@plotly/d3":11,"fast-isnumeric":17}],168:[function(v,pe,J){"use strict";var s=v("../../plots/font_attributes"),g=v("../color/attributes"),p=(0,v("../../plot_api/plot_template").templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});pe.exports={visible:{valType:"boolean",editType:"plot"},buttons:p,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:s({editType:"plot"}),bgcolor:{valType:"color",dflt:g.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":268,"../../plots/font_attributes":310,"../color/attributes":101}],169:[function(v,pe,J){"use strict";pe.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],170:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../color"),p=v("../../plot_api/plot_template"),c=v("../../plots/array_container_defaults"),l=v("./attributes"),m=v("./constants");function d(h,u,C,b){var M=b.calendar;function w(A,V){return s.coerce(h,u,l.buttons,A,V)}if(w("visible")){var N=w("step");"all"!==N&&(!M||"gregorian"===M||"month"!==N&&"year"!==N?w("stepmode"):u.stepmode="backward",w("count")),w("label")}}pe.exports=function(h,u,C,b,M){var w=h.rangeselector||{},N=p.newContainer(u,"rangeselector");function A(H,I){return s.coerce(w,N,l,H,I)}if(A("visible",c(w,N,{name:"buttons",handleItemDefaults:d,calendar:M}).length>0)){var V=function(H,I,D){for(var E=D.filter(function(G){return I[G].anchor===H._id}),P=0,S=0;S<E.length;S++){var R=I[E[S]].domain;R&&(P=Math.max(R[1],P))}return[H.domain[0],P+m.yPad]}(u,C,b);A("x",V[0]),A("y",V[1]),s.noneOrAll(h,u,["x","y"]),A("xanchor"),A("yanchor"),s.coerceFont(A,"font",C.font);var L=A("bgcolor");A("activecolor",g.contrast(L,m.lightAmount,m.darkAmount)),A("bordercolor"),A("borderwidth")}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/array_container_defaults":274,"../color":102,"./attributes":168,"./constants":169}],171:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../registry"),p=v("../../plots/plots"),c=v("../color"),l=v("../drawing"),m=v("../../lib"),d=m.strTranslate,h=v("../../lib/svg_text_utils"),u=v("../../plots/cartesian/axis_ids"),C=v("../../constants/alignment"),b=C.LINE_SPACING,M=C.FROM_TL,w=C.FROM_BR,N=v("./constants"),A=v("./get_update_object");function V(I){return I._id}function L(I,D,E){var S,R,P=m.ensureSingle(I,"rect","selector-rect",function(S){S.attr("shape-rendering","crispEdges")});P.attr({rx:N.rx,ry:N.ry}),P.call(c.stroke,D.bordercolor).call(c.fill,(S=D,R=E,R._isActive||R._isHovered?S.activecolor:S.bgcolor)).style("stroke-width",D.borderwidth+"px")}function H(I,D,E,P){var S,R;m.ensureSingle(I,"text","selector-text",function(S){S.attr("text-anchor","middle")}).call(l.font,D.font).text((S=E,R=P._fullLayout._meta,S.label?R?m.templateString(S.label,R):S.label:"all"===S.step?"all":S.count+S.step.charAt(0))).call(function(S){h.convertToTspans(S,P)})}pe.exports=function(I){var D=I._fullLayout._infolayer.selectAll(".rangeselector").data(function(E){for(var P=u.list(E,"x",!0),S=[],R=0;R<P.length;R++){var G=P[R];G.rangeselector&&G.rangeselector.visible&&S.push(G)}return S}(I),V);D.enter().append("g").classed("rangeselector",!0),D.exit().remove(),D.style({cursor:"pointer","pointer-events":"all"}),D.each(function(E){var P=s.select(this),S=E,R=S.rangeselector,G=P.selectAll("g.button").data(m.filterVisible(R.buttons));G.enter().append("g").classed("button",!0),G.exit().remove(),G.each(function(z){var X=s.select(this),W=A(S,z);z._isActive=function(Z,ne,te){if("all"===ne.step)return!0===Z.autorange;var oe=Object.keys(te);return Z.range[0]===te[oe[0]]&&Z.range[1]===te[oe[1]]}(S,z,W),X.call(L,R,z),X.call(H,R,z,I),X.on("click",function(){I._dragged||g.call("_guiRelayout",I,W)}),X.on("mouseover",function(){z._isHovered=!0,X.call(L,R,z)}),X.on("mouseout",function(){z._isHovered=!1,X.call(L,R,z)})}),function(z,X,W,Z,ne){var te=0,oe=0,Ce=W.borderwidth;X.each(function(){var se=s.select(this).select(".selector-text"),F=Math.max(W.font.size*b*h.lineCount(se),16)+3;oe=Math.max(oe,F)}),X.each(function(){var se=s.select(this),ee=se.select(".selector-rect"),F=se.select(".selector-text"),O=F.node()&&l.bBox(F.node()).width,Y=W.font.size*b,B=h.lineCount(F),ae=Math.max(O+10,N.minButtonWidth);se.attr("transform",d(Ce+te,Ce)),ee.attr({x:0,y:0,width:ae,height:oe}),h.positionText(F,ae/2,oe/2-(B-1)*Y/2+3),te+=ae+5});var ie=z._fullLayout._size,Q=ie.l+ie.w*W.x,le=ie.t+ie.h*(1-W.y),j="left";m.isRightAnchor(W)&&(Q-=te,j="right"),m.isCenterAnchor(W)&&(Q-=te/2,j="center");var $="top";m.isBottomAnchor(W)&&(le-=oe,$="bottom"),m.isMiddleAnchor(W)&&(le-=oe/2,$="middle"),te=Math.ceil(te),oe=Math.ceil(oe),Q=Math.round(Q),le=Math.round(le),p.autoMargin(z,Z+"-range-selector",{x:W.x,y:W.y,l:te*M[j],r:te*w[j],b:oe*w[$],t:oe*M[$]}),ne.attr("transform",d(Q,le))}(I,G,R,S._name,P)})}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../color":102,"../drawing":124,"./constants":169,"./get_update_object":172,"@plotly/d3":11}],172:[function(v,pe,J){"use strict";var s=v("d3-time"),g=v("../../lib").titleCase;pe.exports=function(p,c){var l=p._name,m={};if("all"===c.step)m[l+".autorange"]=!0;else{var d=function(h,u){var C,b=h.range,M=new Date(h.r2l(b[1])),N=s["utc"+g(u.step)],A=u.count;switch(u.stepmode){case"backward":C=h.l2r(+N.offset(M,-A));break;case"todate":var V=N.offset(M,-A);C=h.l2r(+N.ceil(V))}return[C,b[1]]}(p,c);m[l+".range[0]"]=d[0],m[l+".range[1]"]=d[1]}return m}},{"../../lib":232,"d3-time":16}],173:[function(v,pe,J){"use strict";pe.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:v("./attributes")}}},layoutAttributes:v("./attributes"),handleDefaults:v("./defaults"),draw:v("./draw")}},{"./attributes":168,"./defaults":170,"./draw":171}],174:[function(v,pe,J){"use strict";var s=v("../color/attributes");pe.exports={bgcolor:{valType:"color",dflt:s.background,editType:"plot"},bordercolor:{valType:"color",dflt:s.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":101}],175:[function(v,pe,J){"use strict";var s=v("../../plots/cartesian/axis_ids").list,g=v("../../plots/cartesian/autorange").getAutoRange,p=v("./constants");pe.exports=function(c){for(var l=s(c,"x",!0),m=0;m<l.length;m++){var d=l[m],h=d[p.name];h&&h.visible&&h.autorange&&(h._input.autorange=!0,h._input.range=h.range=g(c,d))}}},{"../../plots/cartesian/autorange":278,"../../plots/cartesian/axis_ids":283,"./constants":176}],176:[function(v,pe,J){"use strict";pe.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],177:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plot_api/plot_template"),p=v("../../plots/cartesian/axis_ids"),c=v("./attributes"),l=v("./oppaxis_attributes");pe.exports=function(m,d,h){var u=m[h],C=d[h];if(u.rangeslider||d._requestRangeslider[C._id]){s.isPlainObject(u.rangeslider)||(u.rangeslider={});var b,M,w=u.rangeslider,N=g.newContainer(C,"rangeslider");if(P("visible")){P("bgcolor",d.plot_bgcolor),P("bordercolor"),P("borderwidth"),P("thickness"),P("autorange",!C.isValidRange(w.range)),P("range");var A=d._subplots;if(A)for(var V=A.cartesian.filter(function(R){return R.substr(0,R.indexOf("y"))===p.name2id(h)}).map(function(R){return R.substr(R.indexOf("y"),R.length)}),L=s.simpleMap(V,p.id2name),H=0;H<L.length;H++){var I=L[H];b=w[I]||{},M=g.newContainer(N,I,"yaxis");var D,E=d[I];b.range&&E.isValidRange(b.range)&&(D="fixed"),"match"!==S("rangemode",D)&&S("range",E.range.slice())}N._input=w}}function P(R,G){return s.coerce(w,N,c,R,G)}function S(R,G){return s.coerce(b,M,l,R,G)}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_ids":283,"./attributes":174,"./oppaxis_attributes":181}],178:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../registry"),p=v("../../plots/plots"),c=v("../../lib"),l=c.strTranslate,m=v("../drawing"),d=v("../color"),h=v("../titles"),u=v("../../plots/cartesian"),C=v("../../plots/cartesian/axis_ids"),b=v("../dragelement"),M=v("../../lib/setcursor"),w=v("./constants");function N(D,E,P,S){var R=c.ensureSingle(D,"rect",w.bgClassName,function(W){W.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),G=S.borderwidth%2==0?S.borderwidth:S.borderwidth-1,z=-S._offsetShift,X=m.crispRound(E,S.borderwidth);R.attr({width:S._width+G,height:S._height+G,transform:l(z,z),fill:S.bgcolor,stroke:S.bordercolor,"stroke-width":X})}function A(D,E,P,S){c.ensureSingleById(E._fullLayout._topdefs,"clipPath",S._clipId,function(G){G.append("rect").attr({x:0,y:0})}).select("rect").attr({width:S._width,height:S._height})}function V(D,E,P,S){var R,G=E.calcdata,z=D.selectAll("g."+w.rangePlotClassName).data(P._subplotsWith,c.identity);z.enter().append("g").attr("class",function(X){return w.rangePlotClassName+" "+X}).call(m.setClipUrl,S._clipId,E),z.order(),z.exit().remove(),z.each(function(X,W){var Z=s.select(this),ne=0===W,te=C.getFromId(E,X,"y"),oe=te._name,Ce=S[oe],ie={data:[],layout:{xaxis:{type:P.type,domain:[0,1],range:S.range.slice(),calendar:P.calendar},width:S._width,height:S._height,margin:{t:0,b:0,l:0,r:0}},_context:E._context};P.rangebreaks&&(ie.layout.xaxis.rangebreaks=P.rangebreaks),ie.layout[oe]={type:te.type,domain:[0,1],range:"match"!==Ce.rangemode?Ce.range.slice():te.range.slice(),calendar:te.calendar},te.rangebreaks&&(ie.layout[oe].rangebreaks=te.rangebreaks),p.supplyDefaults(ie);var Q=ie._fullLayout.xaxis,le=ie._fullLayout[oe];Q.clearCalc(),Q.setScale(),le.clearCalc(),le.setScale();var j={id:X,plotgroup:Z,xaxis:Q,yaxis:le,isRangePlot:!0};ne?R=j:(j.mainplot="xy",j.mainplotinfo=R),u.rangePlot(E,j,function($,se){for(var ee=[],F=0;F<$.length;F++){var O=$[F],Y=O[0].trace;Y.xaxis+Y.yaxis===se&&ee.push(O)}return ee}(G,X))})}function L(D,E,P,S,R){c.ensureSingle(D,"rect",w.maskMinClassName,function(G){G.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",S._height).call(d.fill,w.maskColor),c.ensureSingle(D,"rect",w.maskMaxClassName,function(G){G.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",S._height).call(d.fill,w.maskColor),"match"!==R.rangemode&&(c.ensureSingle(D,"rect",w.maskMinOppAxisClassName,function(G){G.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",S._width).call(d.fill,w.maskOppAxisColor),c.ensureSingle(D,"rect",w.maskMaxOppAxisClassName,function(G){G.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",S._width).style("border-top",w.maskOppBorder).call(d.fill,w.maskOppAxisColor))}function H(D,E,P,S){E._context.staticPlot||c.ensureSingle(D,"rect",w.slideBoxClassName,function(R){R.attr({y:0,cursor:w.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:S._height,fill:w.slideBoxFill})}function I(D,E,P,S){var R=c.ensureSingle(D,"g",w.grabberMinClassName),G=c.ensureSingle(D,"g",w.grabberMaxClassName),z={x:0,width:w.handleWidth,rx:w.handleRadius,fill:d.background,stroke:d.defaultLine,"stroke-width":w.handleStrokeWidth,"shape-rendering":"crispEdges"},X={y:Math.round(S._height/4),height:Math.round(S._height/2)};c.ensureSingle(R,"rect",w.handleMinClassName,function(Z){Z.attr(z)}).attr(X),c.ensureSingle(G,"rect",w.handleMaxClassName,function(Z){Z.attr(z)}).attr(X);var W={width:w.grabAreaWidth,x:0,y:0,fill:w.grabAreaFill,cursor:E._context.staticPlot?void 0:w.grabAreaCursor};c.ensureSingle(R,"rect",w.grabAreaMinClassName,function(Z){Z.attr(W)}).attr("height",S._height),c.ensureSingle(G,"rect",w.grabAreaMaxClassName,function(Z){Z.attr(W)}).attr("height",S._height)}pe.exports=function(D){for(var E=D._fullLayout,P=E._rangeSliderData,S=0;S<P.length;S++){var R=P[S][w.name];R._clipId=R._id+"-"+E._uid}var G=E._infolayer.selectAll("g."+w.containerClassName).data(P,function(z){return z._name});G.exit().each(function(z){E._topdefs.select("#"+z[w.name]._clipId).remove()}).remove(),0!==P.length&&(G.enter().append("g").classed(w.containerClassName,!0).attr("pointer-events","all"),G.each(function(z){var X=s.select(this),W=z[w.name],Z=E[C.id2name(z.anchor)],ne=W[C.id2name(z.anchor)];if(W.range){var te,oe=c.simpleMap(W.range,z.r2l),Ce=c.simpleMap(z.range,z.r2l);te=Ce[0]<Ce[1]?[Math.min(oe[0],Ce[0]),Math.max(oe[1],Ce[1])]:[Math.max(oe[0],Ce[0]),Math.min(oe[1],Ce[1])],W.range=W._input.range=c.simpleMap(te,z.l2r)}z.cleanRange("rangeslider.range");var ie=E._size,Q=z.domain;W._width=ie.w*(Q[1]-Q[0]);var le=Math.round(ie.l+ie.w*Q[0]),j=Math.round(ie.t+ie.h*(1-z._counterDomainMin)+("bottom"===z.side?z._depth:0)+W._offsetShift+w.extraPad);X.attr("transform",l(le,j)),W._rl=c.simpleMap(W.range,z.r2l);var $=W._rl[0],se=W._rl[1],ee=se-$;if(W.p2d=function(xe){return xe/W._width*ee+$},W.d2p=function(xe){return(xe-$)/ee*W._width},z.rangebreaks){var F=z.locateBreaks($,se);if(F.length){var O,Y,B=0;for(O=0;O<F.length;O++)B+=(Y=F[O]).max-Y.min;var ae=W._width/(se-$-B),ue=[-ae*$];for(O=0;O<F.length;O++)ue.push(ue[ue.length-1]-ae*((Y=F[O]).max-Y.min));for(W.d2p=function(xe){for(var be=ue[0],Ve=0;Ve<F.length;Ve++){var Ae=F[Ve];if(xe>=Ae.max)be=ue[Ve+1];else if(xe<Ae.min)break}return be+ae*xe},O=0;O<F.length;O++)(Y=F[O]).pmin=W.d2p(Y.min),Y.pmax=W.d2p(Y.max);W.p2d=function(xe){for(var be=ue[0],Ve=0;Ve<F.length;Ve++){var Ae=F[Ve];if(xe>=Ae.pmax)be=ue[Ve+1];else if(xe<Ae.pmin)break}return(xe-be)/ae}}}if("match"!==ne.rangemode){var fe=Z.r2l(ne.range[0]),he=Z.r2l(ne.range[1])-fe;W.d2pOppAxis=function(xe){return(xe-fe)/he*W._height}}X.call(N,D,z,W).call(A,D,z,W).call(V,D,z,W).call(L,D,z,W,ne).call(H,D,z,W).call(I,D,z,W),function(xe,be,Ve,Ae){if(!be._context.staticPlot){var Oe=xe.select("rect."+w.slideBoxClassName).node(),Re=xe.select("rect."+w.grabAreaMinClassName).node(),tt=xe.select("rect."+w.grabAreaMaxClassName).node();xe.on("mousedown",Ke),xe.on("touchstart",Ke)}function Ke(){var $e=s.event,Me=$e.target,ve=$e.clientX||$e.touches[0].clientX,Se=ve-xe.node().getBoundingClientRect().left,Te=Ae.d2p(Ve._rl[0]),qe=Ae.d2p(Ve._rl[1]),Ee=b.coverSlip();function Ie(nt){var Ye,rt,dt,Xe=+(nt.clientX||nt.touches[0].clientX)-ve;switch(Me){case Oe:dt="ew-resize",Ye=Te+Xe,rt=qe+Xe;break;case Re:dt="col-resize",Ye=Te+Xe,rt=qe;break;case tt:dt="col-resize",Ye=Te,rt=qe+Xe;break;default:dt="ew-resize",Ye=Se,rt=Se+Xe}if(rt<Ye){var mt=rt;rt=Ye,Ye=mt}Ae._pixelMin=Ye,Ae._pixelMax=rt,M(s.select(Ee),dt),function(_t,yt,Ot,bt){function Fe(Pt){return Ot.l2r(c.constrain(Pt,bt._rl[0],bt._rl[1]))}var Ue=Fe(bt.p2d(bt._pixelMin)),gt=Fe(bt.p2d(bt._pixelMax));window.requestAnimationFrame(function(){g.call("_guiRelayout",yt,Ot._name+".range",[Ue,gt])})}(0,be,Ve,Ae)}function Qe(){Ee.removeEventListener("mousemove",Ie),Ee.removeEventListener("mouseup",Qe),this.removeEventListener("touchmove",Ie),this.removeEventListener("touchend",Qe),c.removeElement(Ee)}this.addEventListener("touchmove",Ie),this.addEventListener("touchend",Qe),Ee.addEventListener("mousemove",Ie),Ee.addEventListener("mouseup",Qe)}}(X,D,z,W),function(xe,be,Ve,Ae,Oe,Re){var tt=w.handleWidth/2;function Ke(Qe){return c.constrain(Qe,0,Ae._width)}function $e(Qe){return c.constrain(Qe,0,Ae._height)}function Me(Qe){return c.constrain(Qe,-tt,Ae._width+tt)}var ve=Ke(Ae.d2p(Ve._rl[0])),Se=Ke(Ae.d2p(Ve._rl[1]));if(xe.select("rect."+w.slideBoxClassName).attr("x",ve).attr("width",Se-ve),xe.select("rect."+w.maskMinClassName).attr("width",ve),xe.select("rect."+w.maskMaxClassName).attr("x",Se).attr("width",Ae._width-Se),"match"!==Re.rangemode){var Te=Ae._height-$e(Ae.d2pOppAxis(Oe._rl[1])),qe=Ae._height-$e(Ae.d2pOppAxis(Oe._rl[0]));xe.select("rect."+w.maskMinOppAxisClassName).attr("x",ve).attr("height",Te).attr("width",Se-ve),xe.select("rect."+w.maskMaxOppAxisClassName).attr("x",ve).attr("y",qe).attr("height",Ae._height-qe).attr("width",Se-ve),xe.select("rect."+w.slideBoxClassName).attr("y",Te).attr("height",qe-Te)}var Ee=Math.round(Me(ve-tt))-.5,Ie=Math.round(Me(Se-tt))+.5;xe.select("g."+w.grabberMinClassName).attr("transform",l(Ee,.5)),xe.select("g."+w.grabberMaxClassName).attr("transform",l(Ie,.5))}(X,0,z,W,Z,ne),"bottom"===z.side&&h.draw(D,z._id+"title",{propContainer:z,propName:z._name+".title",placeholder:E._dfltTitle.x,attributes:{x:z._offset+z._length/2,y:j+W._height+W._offsetShift+10+1.5*z.title.font.size,"text-anchor":"middle"}})}))}},{"../../lib":232,"../../lib/setcursor":252,"../../plots/cartesian":293,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":176,"@plotly/d3":11}],179:[function(v,pe,J){"use strict";var s=v("../../plots/cartesian/axis_ids"),g=v("../../lib/svg_text_utils"),p=v("./constants"),c=v("../../constants/alignment").LINE_SPACING,l=p.name;function m(d){var h=d&&d[l];return h&&h.visible}J.isVisible=m,J.makeData=function(d){var h=s.list({_fullLayout:d},"x",!0),u=d.margin,C=[];if(!d._has("gl2d"))for(var b=0;b<h.length;b++){var M=h[b];if(m(M)){C.push(M);var w=M[l];w._id=l+M._id,w._height=(d.height-u.b-u.t)*w.thickness,w._offsetShift=Math.floor(w.borderwidth/2)}}d._rangeSliderData=C},J.autoMarginOpts=function(d,h){var u=d._fullLayout,C=h[l],b=h._id.charAt(0),M=0,w=0;return"bottom"===h.side&&(M=h._depth,h.title.text!==u._dfltTitle[b]&&(w=1.5*h.title.font.size+10+C._offsetShift,w+=(h.title.text.match(g.BR_TAG_ALL)||[]).length*h.title.font.size*c)),{x:0,y:h._counterDomainMin,l:0,r:0,t:0,b:C._height+M+Math.max(u.margin.b,w),pad:p.extraPad+2*C._offsetShift}}},{"../../constants/alignment":207,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"./constants":176}],180:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("./attributes"),p=v("./oppaxis_attributes"),c=v("./helpers");pe.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:s.extendFlat({},g,{yaxis:p})}}},layoutAttributes:v("./attributes"),handleDefaults:v("./defaults"),calcAutorange:v("./calc_autorange"),draw:v("./draw"),isVisible:c.isVisible,makeData:c.makeData,autoMarginOpts:c.autoMarginOpts}},{"../../lib":232,"./attributes":174,"./calc_autorange":175,"./defaults":177,"./draw":178,"./helpers":179,"./oppaxis_attributes":181}],181:[function(v,pe,J){"use strict";pe.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],182:[function(v,pe,J){"use strict";var s=v("../annotations/attributes"),g=v("../../traces/scatter/attributes").line,p=v("../drawing/attributes").dash,c=v("../../lib/extend").extendFlat,l=v("../../plot_api/plot_template").templatedArray;v("../../constants/axis_placeable_objects"),pe.exports=l("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:c({},s.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:c({},s.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:c({},g.color,{editType:"arraydraw"}),width:c({},g.width,{editType:"calc+arraydraw"}),dash:c({},p,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../traces/scatter/attributes":358,"../annotations/attributes":85,"../drawing/attributes":123}],183:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plots/cartesian/axes"),p=v("./constants"),c=v("./helpers");function l(u){return d(u.line.width,u.xsizemode,u.x0,u.x1,u.path,!1)}function m(u){return d(u.line.width,u.ysizemode,u.y0,u.y1,u.path,!0)}function d(u,C,b,M,w,N){var A=u/2,V=N;if("pixel"===C){var L=w?c.extractPathCoords(w,N?p.paramIsY:p.paramIsX):[b,M],H=s.aggNums(Math.max,null,L),I=s.aggNums(Math.min,null,L),D=I<0?Math.abs(I)+A:A,E=H>0?H+A:A;return{ppad:A,ppadplus:V?D:E,ppadminus:V?E:D}}return{ppad:A}}function h(u,C,b,M,w){var N="category"===u.type||"multicategory"===u.type?u.r2c:u.d2c;if(void 0!==C)return[N(C),N(b)];if(M){var A,V,L,H,I=1/0,D=-1/0,E=M.match(p.segmentRE);for("date"===u.type&&(N=c.decodeDate(N)),A=0;A<E.length;A++)void 0!==(V=w[E[A].charAt(0)].drawn)&&(!(L=E[A].substr(1).match(p.paramRE))||L.length<V||((H=N(L[V]))<I&&(I=H),H>D&&(D=H)));return D>=I?[I,D]:void 0}}pe.exports=function(u){var b=s.filterVisible(u._fullLayout.shapes);if(b.length&&u._fullData.length)for(var M=0;M<b.length;M++){var w,N,A=b[M];A._extremes={};var V=g.getRefType(A.xref),L=g.getRefType(A.yref);if("paper"!==A.xref&&"domain"!==V){var H="pixel"===A.xsizemode?A.xanchor:A.x0,I="pixel"===A.xsizemode?A.xanchor:A.x1;(N=h(w=g.getFromId(u,A.xref),H,I,A.path,p.paramIsX))&&(A._extremes[w._id]=g.findExtremes(w,N,l(A)))}if("paper"!==A.yref&&"domain"!==L){var D="pixel"===A.ysizemode?A.yanchor:A.y0,E="pixel"===A.ysizemode?A.yanchor:A.y1;(N=h(w=g.getFromId(u,A.yref),D,E,A.path,p.paramIsY))&&(A._extremes[w._id]=g.findExtremes(w,N,m(A)))}}}},{"../../lib":232,"../../plots/cartesian/axes":279,"./constants":184,"./helpers":193}],184:[function(v,pe,J){"use strict";pe.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],185:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plots/cartesian/axes"),p=v("../../plots/array_container_defaults"),c=v("./attributes"),l=v("./helpers");function m(d,h,u){function C(ne,te){return s.coerce(d,h,c,ne,te)}if(C("visible")){var b=C("path"),M=C("type",b?"path":"rect");"path"!==h.type&&delete h.path,C("editable"),C("layer"),C("opacity"),C("fillcolor"),C("fillrule"),C("line.width")&&(C("line.color"),C("line.dash"));for(var w=C("xsizemode"),N=C("ysizemode"),A=["x","y"],V=0;V<2;V++){var L,H,I,D=A[V],E=D+"anchor",P="x"===D?w:N,S={_fullLayout:u},R=g.coerceRef(d,h,S,D,void 0,"paper");if("range"===g.getRefType(R)?((L=g.getFromId(S,R))._shapeIndices.push(h._index),I=l.rangeToShapePosition(L),H=l.shapePositionToRange(L)):H=I=s.identity,"path"!==M){var G=D+"0",z=D+"1",X=d[G],W=d[z];d[G]=H(d[G],!0),d[z]=H(d[z],!0),"pixel"===P?(C(G,0),C(z,10)):(g.coercePosition(h,S,C,R,G,.25),g.coercePosition(h,S,C,R,z,.75)),h[G]=I(h[G]),h[z]=I(h[z]),d[G]=X,d[z]=W}if("pixel"===P){var Z=d[E];d[E]=H(d[E],!0),g.coercePosition(h,S,C,R,E,.25),h[E]=I(h[E]),d[E]=Z}}"path"===M?C("path"):s.noneOrAll(d,h,["x0","x1","y0","y1"])}}pe.exports=function(d,h){p(d,h,{name:"shapes",handleItemDefaults:m})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":182,"./helpers":193}],186:[function(v,pe,J){"use strict";var s=v("../../registry"),g=v("../../lib"),p=v("../../plots/cartesian/axes"),c=v("./draw_newshape/helpers").readPaths,l=v("./draw_newshape/display_outlines"),m=v("../../plots/cartesian/handle_outline").clearOutlineControllers,d=v("../color"),h=v("../drawing"),u=v("../../plot_api/plot_template").arrayEditor,C=v("../dragelement"),b=v("../../lib/setcursor"),M=v("./constants"),w=v("./helpers");function N(P){var S=P._fullLayout;for(var R in S._shapeUpperLayer.selectAll("path").remove(),S._shapeLowerLayer.selectAll("path").remove(),S._plots){var G=S._plots[R].shapelayer;G&&G.selectAll("path").remove()}for(var z=0;z<S.shapes.length;z++)S.shapes[z].visible&&L(P,z)}function A(P){return!!P._fullLayout._drawing}function V(P){return!P._context.edits.shapePosition}function L(P,S){P._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+S+'"]').remove();var R=w.makeOptionsAndPlotinfo(P,S),G=R.options,z=R.plotinfo;G._input&&!1!==G.visible&&function X(W){var Z=I(P,G),ne={"data-index":S,"fill-rule":G.fillrule,d:Z},te=G.opacity,oe=G.fillcolor,Ce=G.line.width?G.line.color:"rgba(0,0,0,0)",ie=G.line.width,Q=G.line.dash;ie||!0!==G.editable||(ie=5,Q="solid");var le="Z"!==Z[Z.length-1],j=V(P)&&G.editable&&P._fullLayout._activeShapeIndex===S;j&&(oe=le?"rgba(0,0,0,0)":P._fullLayout.activeshape.fillcolor,te=P._fullLayout.activeshape.opacity);var $,se=W.append("path").attr(ne).style("opacity",te).call(d.stroke,Ce).call(d.fill,oe).call(h.dashLine,Q,ie);if(H(se,P,G),(j||P._context.edits.shapePosition)&&($=u(P.layout,"shapes",G)),j){se.style({cursor:"move"});var ee={element:se.node(),plotinfo:z,gd:P,editHelpers:$,isActiveShape:!0},F=c(Z,P);l(F,se,ee)}else P._context.edits.shapePosition?function(O,Y,B,ae,ue,fe){var he,xe,be,Ve,Ae,Oe,Re,tt,Ke,$e,Me,ve,Se,Te,qe,Ee,Ie="pixel"===B.xsizemode,Qe="pixel"===B.ysizemode,nt="line"===B.type,Ye="path"===B.type,rt=fe.modifyItem,dt=p.getFromId(O,B.xref),Xe=p.getRefType(B.xref),mt=p.getFromId(O,B.yref),_t=p.getRefType(B.yref),yt=w.getDataToPixel(O,dt,!1,Xe),Ot=w.getDataToPixel(O,mt,!0,_t),bt=w.getPixelToData(O,dt,!1,Xe),Fe=w.getPixelToData(O,mt,!0,_t),Ue=nt?function(){var Nt=Math.max(B.line.width,10),ge=ue.append("g").attr("data-index",ae);ge.append("path").attr("d",Y.attr("d")).style({cursor:"move","stroke-width":Nt,"stroke-opacity":"0"});var _e={"fill-opacity":"0"},We=Math.max(Nt/2,10);return ge.append("circle").attr({"data-line-point":"start-point",cx:Ie?yt(B.xanchor)+B.x0:yt(B.x0),cy:Qe?Ot(B.yanchor)-B.y0:Ot(B.y0),r:We}).style(_e).classed("cursor-grab",!0),ge.append("circle").attr({"data-line-point":"end-point",cx:Ie?yt(B.xanchor)+B.x1:yt(B.x1),cy:Qe?Ot(B.yanchor)-B.y1:Ot(B.y1),r:We}).style(_e).classed("cursor-grab",!0),ge}():Y,gt={element:Ue.node(),gd:O,prepFn:function(Nt){var ge,_e,We,Je,ft,st,et,ut;A(O)||(Ie&&(Ae=yt(B.xanchor)),Qe&&(Oe=Ot(B.yanchor)),"path"===B.type?qe=B.path:(he=Ie?B.x0:yt(B.x0),xe=Qe?B.y0:Ot(B.y0),be=Ie?B.x1:yt(B.x1),Ve=Qe?B.y1:Ot(B.y1)),he<be?(Ke=he,Se="x0",$e=be,Te="x1"):(Ke=be,Se="x1",$e=he,Te="x0"),!Qe&&xe<Ve||Qe&&xe>Ve?(Re=xe,Me="y0",tt=Ve,ve="y1"):(Re=Ve,Me="y1",tt=xe,ve="y0"),Pt(Nt),Xt(ue,B),ge=Y,ft=(_e=B).yref,st=p.getFromId(We=O,Je=_e.xref),et=p.getFromId(We,ft),ut="","paper"===Je||st.autorange||(ut+=Je),"paper"===ft||et.autorange||(ut+=ft),h.setClipUrl(ge,ut?"clip"+We._fullLayout._uid+ut:null,We),gt.moveFn="move"===Ee?Qt:en,gt.altKey=Nt.altKey)},doneFn:function(){A(O)||(b(Y),Wt(ue),H(Y,O,B),s.call("_guiRelayout",O,fe.getUpdateObj()))},clickFn:function(){A(O)||Wt(ue)}};function Pt(Nt){if(A(O))Ee=null;else if(nt)Ee="path"===Nt.target.tagName?"move":"start-point"===Nt.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var ge=gt.element.getBoundingClientRect(),_e=ge.right-ge.left,We=ge.bottom-ge.top,st=!Ye&&_e>10&&We>10&&!Nt.shiftKey?C.getCursor((Nt.clientX-ge.left)/_e,1-(Nt.clientY-ge.top)/We):"move";b(Y,st),Ee=st.split("-")[0]}}function Qt(Nt,ge){if("path"===B.type){var _e=function(ft){return ft},We=_e,Je=_e;Ie?rt("xanchor",B.xanchor=bt(Ae+Nt)):(We=function(ft){return bt(yt(ft)+Nt)},dt&&"date"===dt.type&&(We=w.encodeDate(We))),Qe?rt("yanchor",B.yanchor=Fe(Oe+ge)):(Je=function(ft){return Fe(Ot(ft)+ge)},mt&&"date"===mt.type&&(Je=w.encodeDate(Je))),rt("path",B.path=D(qe,We,Je))}else Ie?rt("xanchor",B.xanchor=bt(Ae+Nt)):(rt("x0",B.x0=bt(he+Nt)),rt("x1",B.x1=bt(be+Nt))),Qe?rt("yanchor",B.yanchor=Fe(Oe+ge)):(rt("y0",B.y0=Fe(xe+ge)),rt("y1",B.y1=Fe(Ve+ge)));Y.attr("d",I(O,B)),Xt(ue,B)}function en(Nt,ge){if(Ye){var _e=function(an){return an},We=_e,Je=_e;Ie?rt("xanchor",B.xanchor=bt(Ae+Nt)):(We=function(an){return bt(yt(an)+Nt)},dt&&"date"===dt.type&&(We=w.encodeDate(We))),Qe?rt("yanchor",B.yanchor=Fe(Oe+ge)):(Je=function(an){return Fe(Ot(an)+ge)},mt&&"date"===mt.type&&(Je=w.encodeDate(Je))),rt("path",B.path=D(qe,We,Je))}else if(nt){if("resize-over-start-point"===Ee){var ft=he+Nt,st=Qe?xe-ge:xe+ge;rt("x0",B.x0=Ie?ft:bt(ft)),rt("y0",B.y0=Qe?st:Fe(st))}else if("resize-over-end-point"===Ee){var et=be+Nt,ut=Qe?Ve-ge:Ve+ge;rt("x1",B.x1=Ie?et:bt(et)),rt("y1",B.y1=Qe?ut:Fe(ut))}}else{var xt=function(an){return-1!==Ee.indexOf(an)},kt=xt("n"),Bt=xt("s"),rn=xt("w"),Dt=xt("e"),$t=kt?Re+ge:Re,fn=Bt?tt+ge:tt,At=rn?Ke+Nt:Ke,Mt=Dt?$e+Nt:$e;Qe&&(kt&&($t=Re-ge),Bt&&(fn=tt-ge)),(!Qe&&fn-$t>10||Qe&&$t-fn>10)&&(rt(Me,B[Me]=Qe?$t:Fe($t)),rt(ve,B[ve]=Qe?fn:Fe(fn))),Mt-At>10&&(rt(Se,B[Se]=Ie?At:bt(At)),rt(Te,B[Te]=Ie?Mt:bt(Mt)))}Y.attr("d",I(O,B)),Xt(ue,B)}function Xt(Nt,ge){(Ie||Qe)&&function(){var _e="path"!==ge.type,We=Nt.selectAll(".visual-cue").data([0]);We.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var Je=yt(Ie?ge.xanchor:g.midRange(_e?[ge.x0,ge.x1]:w.extractPathCoords(ge.path,M.paramIsX))),ft=Ot(Qe?ge.yanchor:g.midRange(_e?[ge.y0,ge.y1]:w.extractPathCoords(ge.path,M.paramIsY)));Je=w.roundPositionForSharpStrokeRendering(Je,1),ft=w.roundPositionForSharpStrokeRendering(ft,1),We.attr("d",Ie&&Qe?"M"+(Je-1-1)+","+(ft-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":Ie?"M"+(Je-1-1)+","+(ft-9-1)+"v18 h2 v-18 Z":"M"+(Je-9-1)+","+(ft-1-1)+"h18 v2 h-18 Z")}()}function Wt(Nt){Nt.selectAll(".visual-cue").remove()}C.init(gt),Ue.node().onmousemove=Pt}(P,se,G,S,W,$):!0===G.editable&&se.style("pointer-events",le||d.opacity(oe)*te<=.5?"stroke":"all");se.node().addEventListener("click",function(){return function(O,Y){if(V(O)){var B=+Y.node().getAttribute("data-index");if(B>=0){if(B===O._fullLayout._activeShapeIndex)return void E(O);O._fullLayout._activeShapeIndex=B,O._fullLayout._deactivateShape=E,N(O)}}}(P,se)})}("below"!==G.layer?P._fullLayout._shapeUpperLayer:"paper"===G.xref||"paper"===G.yref?P._fullLayout._shapeLowerLayer:z._hadPlotinfo?(z.mainplotinfo||z).shapelayer:P._fullLayout._shapeLowerLayer)}function H(P,S,R){var G=(R.xref+R.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");h.setClipUrl(P,G?"clip"+S._fullLayout._uid+G:null,S)}function I(P,S){var R,G,z,X,W,Z,ne,te,ue,fe,he,be,Ve,Ae,Oe,oe=S.type,Ce=p.getRefType(S.xref),ie=p.getRefType(S.yref),Q=p.getFromId(P,S.xref),le=p.getFromId(P,S.yref),j=P._fullLayout._size;if(Q?"domain"===Ce?G=function(ue){return Q._offset+Q._length*ue}:(R=w.shapePositionToRange(Q),G=function(ue){return Q._offset+Q.r2p(R(ue,!0))}):G=function(ue){return j.l+j.w*ue},le?"domain"===ie?X=function(ue){return le._offset+le._length*(1-ue)}:(z=w.shapePositionToRange(le),X=function(ue){return le._offset+le.r2p(z(ue,!0))}):X=function(ue){return j.t+j.h*(1-ue)},"path"===oe)return Q&&"date"===Q.type&&(G=w.decodeDate(G)),le&&"date"===le.type&&(X=w.decodeDate(X)),fe=G,he=X,be=(ue=S).xsizemode,Ve=ue.ysizemode,Ae=ue.xanchor,Oe=ue.yanchor,ue.path.replace(M.segmentRE,function(Re){var tt=0,Ke=Re.charAt(0),$e=M.paramIsX[Ke],Me=M.paramIsY[Ke],ve=M.numParams[Ke],Se=Re.substr(1).replace(M.paramRE,function(Te){return $e[tt]?Te="pixel"===be?fe(Ae)+Number(Te):fe(Te):Me[tt]&&(Te="pixel"===Ve?he(Oe)-Number(Te):he(Te)),++tt>ve&&(Te="X"),Te});return tt>ve&&(Se=Se.replace(/[\s,]*X.*/,""),g.log("Ignoring extra params in segment "+Re)),Ke+Se});if("pixel"===S.xsizemode){var $=G(S.xanchor);W=$+S.x0,Z=$+S.x1}else W=G(S.x0),Z=G(S.x1);if("pixel"===S.ysizemode){var se=X(S.yanchor);ne=se-S.y0,te=se-S.y1}else ne=X(S.y0),te=X(S.y1);if("line"===oe)return"M"+W+","+ne+"L"+Z+","+te;if("rect"===oe)return"M"+W+","+ne+"H"+Z+"V"+te+"H"+W+"Z";var ee=(W+Z)/2,F=(ne+te)/2,O=Math.abs(ee-W),Y=Math.abs(F-ne),B="A"+O+","+Y,ae=ee+O+","+F;return"M"+ae+B+" 0 1,1 "+ee+","+(F-Y)+B+" 0 0,1 "+ae+"Z"}function D(P,S,R){return P.replace(M.segmentRE,function(G){var z=0,X=G.charAt(0),W=M.paramIsX[X],Z=M.paramIsY[X],ne=M.numParams[X];return X+G.substr(1).replace(M.paramRE,function(te){return z>=ne||(W[z]?te=S(te):Z[z]&&(te=R(te)),z++),te})})}function E(P){V(P)&&P._fullLayout._activeShapeIndex>=0&&(m(P),delete P._fullLayout._activeShapeIndex,N(P))}pe.exports={draw:N,drawOne:L,eraseActiveShape:function(P){if(V(P)){m(P);var S=P._fullLayout._activeShapeIndex,R=(P.layout||{}).shapes||[];if(S<R.length){for(var G=[],z=0;z<R.length;z++)z!==S&&G.push(R[z]);delete P._fullLayout._activeShapeIndex,s.call("_guiRelayout",P,{shapes:G})}}}}},{"../../lib":232,"../../lib/setcursor":252,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/cartesian/handle_outline":290,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"./constants":184,"./draw_newshape/display_outlines":190,"./draw_newshape/helpers":191,"./helpers":193}],187:[function(v,pe,J){"use strict";var s=v("../../drawing/attributes").dash,g=v("../../../lib/extend").extendFlat;pe.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:g({},s,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":226,"../../drawing/attributes":123}],188:[function(v,pe,J){"use strict";pe.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],189:[function(v,pe,J){"use strict";var s=v("../../color");pe.exports=function(g,p,c){c("newshape.drawdirection"),c("newshape.layer"),c("newshape.fillcolor"),c("newshape.fillrule"),c("newshape.opacity"),c("newshape.line.width")&&(c("newshape.line.color",s.contrast((g||{}).plot_bgcolor||"#FFF")),c("newshape.line.dash")),c("activeshape.fillcolor"),c("activeshape.opacity")}},{"../../color":102}],190:[function(v,pe,J){"use strict";var s=v("../../dragelement"),g=v("../../dragelement/helpers").drawMode,p=v("../../../registry"),c=v("./constants"),l=c.i000,m=c.i090,d=c.i180,h=c.i270,u=v("../../../plots/cartesian/handle_outline").clearOutlineControllers,C=v("./helpers"),b=C.pointsShapeRectangle,M=C.pointsShapeEllipse,w=C.writePaths,N=v("./newshapes");pe.exports=function A(V,L,H,I){I||(I=0);var D=H.gd;function E(){A(V,L,H,I++),M(V[0])&&P({redrawing:!0})}function P($){H.isActiveShape=!1;var se=N(L,H);Object.keys(se).length&&p.call(($||{}).redrawing?"relayout":"_guiRelayout",D,se)}var S,R,G,z,X,W=H.isActiveShape,Z=D._fullLayout._zoomlayer;function te($){G=+$.srcElement.getAttribute("data-i"),z=+$.srcElement.getAttribute("data-j"),S[G][z].moveFn=oe}function oe($,se){if(V.length){var ee=X[G][z][1],F=X[G][z][2],O=V[G],Y=O.length;if(b(O)){for(var B=0;B<Y;B++)if(B!==z){var ae=O[B];ae[1]===O[z][1]&&(ae[1]=ee+$),ae[2]===O[z][2]&&(ae[2]=F+se)}if(O[z][1]=ee+$,O[z][2]=F+se,!b(O))for(var ue=0;ue<Y;ue++)for(var fe=0;fe<O[ue].length;fe++)O[ue][fe]=X[G][ue][fe]}else O[z][1]=ee+$,O[z][2]=F+se;E()}}function Ce(){P()}function ie($,se){if(2===$){G=+se.srcElement.getAttribute("data-i"),z=+se.srcElement.getAttribute("data-j");var ee=V[G];b(ee)||M(ee)||function(){if(V.length&&V[G]&&V[G].length){for(var F=[],O=0;O<V[G].length;O++)O!==z&&F.push(V[G][O]);F.length>1&&(2!==F.length||"Z"!==F[1][0])&&(0===z&&(F[0][0]="M"),V[G]=F,E(),P())}}()}}function Q($,se){(function(ee,F){if(V.length)for(var O=0;O<V.length;O++)for(var Y=0;Y<V[O].length;Y++)for(var B=0;B+2<V[O][Y].length;B+=2)V[O][Y][B+1]=X[O][Y][B+1]+ee,V[O][Y][B+2]=X[O][Y][B+2]+F})($,se),E()}g(H.dragmode)?D._fullLayout._drawing=!0:D._fullLayout._activeShapeIndex>=0&&u(D),L.attr("d",w(V)),W&&!I&&(X=function($,se){for(var ee=0;ee<se.length;ee++){var F=se[ee];$[ee]=[];for(var O=0;O<F.length;O++){$[ee][O]=[];for(var Y=0;Y<F[O].length;Y++)$[ee][O][Y]=F[O][Y]}}return $}([],V),function($){S=[];for(var se=0;se<V.length;se++){var ee=V[se],F=!b(ee)&&M(ee);S[se]=[];for(var O=0;O<ee.length;O++)if("Z"!==ee[O][0]&&(!F||O===l||O===m||O===d||O===h)){var Y=ee[O][1],B=ee[O][2],ae=$.append("circle").classed("cursor-grab",!0).attr("data-i",se).attr("data-j",O).attr("cx",Y).attr("cy",B).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});S[se][O]={element:ae.node(),gd:D,prepFn:te,doneFn:Ce,clickFn:ie},s.init(S[se][O])}}}(Z.append("g").attr("class","outline-controllers")),R=[],V.length&&(R[0]={element:L[0][0],gd:D,prepFn:function le($){(G=+$.srcElement.getAttribute("data-i"))||(G=0),R[G].moveFn=Q},doneFn:function j(){P()}},s.init(R[0])))}},{"../../../plots/cartesian/handle_outline":290,"../../../registry":318,"../../dragelement":121,"../../dragelement/helpers":120,"./constants":188,"./helpers":191,"./newshapes":192}],191:[function(v,pe,J){"use strict";var s=v("parse-svg-path"),g=v("./constants"),p=g.CIRCLE_SIDES,c=g.SQRT2,l=v("../../../plots/cartesian/helpers"),m=l.p2r,d=l.r2p,h=[0,3,4,5,6,1,2],u=[0,3,4,1,2];function C(M,w){return Math.abs(M-w)<=1e-6}function b(M,w){var N=w[1]-M[1],A=w[2]-M[2];return Math.sqrt(N*N+A*A)}J.writePaths=function(M){var w=M.length;if(!w)return"M0,0Z";for(var N="",A=0;A<w;A++)for(var V=M[A].length,L=0;L<V;L++){var H=M[A][L][0];if("Z"===H)N+="Z";else for(var I=M[A][L].length,D=0;D<I;D++){var E=D;"Q"===H||"S"===H?E=u[D]:"C"===H&&(E=h[D]),N+=M[A][L][E],D>0&&D<I-1&&(N+=",")}}return N},J.readPaths=function(M,w,N,A){var V,L,H,I=s(M),D=[],E=-1,P=0,S=0,R=function(){L=P,H=S};R();for(var G=0;G<I.length;G++){var ne=[],te=I[G][0],oe=te;switch(te){case"M":D[++E]=[],ne.push([oe,P=+I[G][1],S=+I[G][2]]),R();break;case"Q":case"S":ne.push([oe,P=+I[G][3],S=+I[G][4],+I[G][1],+I[G][2]]);break;case"C":ne.push([oe,P=+I[G][5],S=+I[G][6],+I[G][1],+I[G][2],+I[G][3],+I[G][4]]);break;case"T":case"L":ne.push([oe,P=+I[G][1],S=+I[G][2]]);break;case"H":ne.push([oe="L",P=+I[G][1],S]);break;case"V":ne.push([oe="L",P,S=+I[G][1]]);break;case"A":oe="L";var Ce=+I[G][1],ie=+I[G][2];+I[G][4]||(Ce=-Ce,ie=-ie);var Q=P-Ce,le=S;for(V=1;V<=p/2;V++){var j=2*Math.PI*V/p;ne.push([oe,Q+Ce*Math.cos(j),le+ie*Math.sin(j)])}break;case"Z":P===L&&S===H||ne.push([oe,P=L,S=H])}for(var $=(N||{}).domain,se=w._fullLayout._size,ee=N&&"pixel"===N.xsizemode,F=N&&"pixel"===N.ysizemode,O=!1===A,Y=0;Y<ne.length;Y++){for(V=0;V+2<7;V+=2){var B=ne[Y][V+1],ae=ne[Y][V+2];void 0!==B&&void 0!==ae&&(P=B,S=ae,N&&(N.xaxis&&N.xaxis.p2r?(O&&(B-=N.xaxis._offset),B=ee?d(N.xaxis,N.xanchor)+B:m(N.xaxis,B)):(O&&(B-=se.l),$?B=$.x[0]+B/se.w:B/=se.w),N.yaxis&&N.yaxis.p2r?(O&&(ae-=N.yaxis._offset),ae=F?d(N.yaxis,N.yanchor)-ae:m(N.yaxis,ae)):(O&&(ae-=se.t),ae=$?$.y[1]-ae/se.h:1-ae/se.h)),ne[Y][V+1]=B,ne[Y][V+2]=ae)}D[E].push(ne[Y].slice())}}return D},J.pointsShapeRectangle=function(M){if(5!==M.length)return!1;for(var w=1;w<3;w++)if(!C(M[0][w]-M[1][w],M[3][w]-M[2][w])||!C(M[0][w]-M[3][w],M[1][w]-M[2][w]))return!1;return!(!C(M[0][1],M[1][1])&&!C(M[0][1],M[3][1])||!(b(M[0],M[1])*b(M[0],M[3])))},J.pointsShapeEllipse=function(M){var w=M.length;if(w!==p+1)return!1;w=p;for(var N=0;N<w;N++){var A=(2*w-N)%w,V=(w/2+A)%w;if(!C(b(M[N],M[(w/2+N)%w]),b(M[A],M[V])))return!1}return!0},J.handleEllipse=function(M,w,N){if(!M)return[w,N];var A=J.ellipseOver({x0:w[0],y0:w[1],x1:N[0],y1:N[1]}),V=(A.x1+A.x0)/2,L=(A.y1+A.y0)/2,H=(A.x1-A.x0)/2,I=(A.y1-A.y0)/2;H||(H=I/=c),I||(I=H/=c);for(var D=[],E=0;E<p;E++){var P=2*E*Math.PI/p;D.push([V+H*Math.cos(P),L+I*Math.sin(P)])}return D},J.ellipseOver=function(M){var w=M.x0,N=M.y0,A=M.x1,V=M.y1,L=A-w,H=V-N,I=((w-=L)+A)/2,D=((N-=H)+V)/2;return{x0:I-(L*=c),y0:D-(H*=c),x1:I+L,y1:D+H}}},{"../../../plots/cartesian/helpers":291,"./constants":188,"parse-svg-path":56}],192:[function(v,pe,J){"use strict";var s=v("../../dragelement/helpers"),g=s.drawMode,p=s.openMode,c=v("./constants"),l=c.i000,m=c.i090,d=c.i180,h=c.i270,u=c.cos45,C=c.sin45,b=v("../../../plots/cartesian/helpers"),M=b.p2r,w=b.r2p,N=v("../../../plots/cartesian/handle_outline").clearSelect,A=v("./helpers"),V=A.readPaths,L=A.writePaths,H=A.ellipseOver;pe.exports=function(I,D){if(I.length){var E=I[0][0];if(E){var P=E.getAttribute("d"),S=D.gd,R=S._fullLayout.newshape,G=D.plotinfo,z=G.xaxis,X=G.yaxis,W=!!G.domain||!G.xaxis,Z=!!G.domain||!G.yaxis,ne=D.isActiveShape,te=D.dragmode,oe=(S.layout||{}).shapes||[];if(!g(te)&&void 0!==ne){var Ce=S._fullLayout._activeShapeIndex;if(Ce<oe.length)switch(S._fullLayout.shapes[Ce].type){case"rect":te="drawrect";break;case"circle":te="drawcircle";break;case"line":te="drawline";break;case"path":var ie=oe[Ce].path||"";te="Z"===ie[ie.length-1]?"drawclosedpath":"drawopenpath"}}var Q,le=p(te),j=V(P,S,G,ne),$={editable:!0,xref:W?"paper":z._id,yref:Z?"paper":X._id,layer:R.layer,opacity:R.opacity,line:{color:R.line.color,width:R.line.width,dash:R.line.dash}};if(le||($.fillcolor=R.fillcolor,$.fillrule=R.fillrule),1===j.length&&(Q=j[0]),Q&&"drawrect"===te)$.type="rect",$.x0=Q[0][1],$.y0=Q[0][2],$.x1=Q[2][1],$.y1=Q[2][2];else if(Q&&"drawline"===te)$.type="line",$.x0=Q[0][1],$.y0=Q[0][2],$.x1=Q[1][1],$.y1=Q[1][2];else if(Q&&"drawcircle"===te){$.type="circle";var se=Q[l][1],ee=Q[m][1],F=Q[d][1],O=Q[h][1],Y=Q[l][2],B=Q[m][2],ae=Q[d][2],ue=Q[h][2],fe=G.xaxis&&("date"===G.xaxis.type||"log"===G.xaxis.type),he=G.yaxis&&("date"===G.yaxis.type||"log"===G.yaxis.type);fe&&(se=w(G.xaxis,se),ee=w(G.xaxis,ee),F=w(G.xaxis,F),O=w(G.xaxis,O)),he&&(Y=w(G.yaxis,Y),B=w(G.yaxis,B),ae=w(G.yaxis,ae),ue=w(G.yaxis,ue));var xe=(ee+O)/2,be=(Y+ae)/2,Ve=H({x0:xe,y0:be,x1:xe+(O-ee+F-se)/2*u,y1:be+(ue-B+ae-Y)/2*C});fe&&(Ve.x0=M(G.xaxis,Ve.x0),Ve.x1=M(G.xaxis,Ve.x1)),he&&(Ve.y0=M(G.yaxis,Ve.y0),Ve.y1=M(G.yaxis,Ve.y1)),$.x0=Ve.x0,$.y0=Ve.y0,$.x1=Ve.x1,$.y1=Ve.y1}else $.type="path",z&&X&&function(Me,ve,Se){var Te="date"===ve.type,qe="date"===Se.type;if(!Te&&!qe)return Me;for(var Ee=0;Ee<Me.length;Ee++)for(var Ie=0;Ie<Me[Ee].length;Ie++)for(var Qe=0;Qe+2<Me[Ee][Ie].length;Qe+=2)Te&&(Me[Ee][Ie][Qe+1]=Me[Ee][Ie][Qe+1].replace(" ","_")),qe&&(Me[Ee][Ie][Qe+2]=Me[Ee][Ie][Qe+2].replace(" ","_"))}(j,z,X),$.path=L(j),Q=null;N(S);for(var Ae=D.editHelpers,Oe=(Ae||{}).modifyItem,Re=[],tt=0;tt<oe.length;tt++){var Ke=S._fullLayout.shapes[tt];if(Re[tt]=Ke._input,void 0!==ne&&tt===S._fullLayout._activeShapeIndex){var $e=$;switch(Ke.type){case"line":case"rect":case"circle":Oe("x0",$e.x0),Oe("x1",$e.x1),Oe("y0",$e.y0),Oe("y1",$e.y1);break;case"path":Oe("path",$e.path)}}}return void 0===ne?(Re.push($),Re):Ae?Ae.getUpdateObj():{}}}}},{"../../../plots/cartesian/handle_outline":290,"../../../plots/cartesian/helpers":291,"../../dragelement/helpers":120,"./constants":188,"./helpers":191}],193:[function(v,pe,J){"use strict";var s=v("./constants"),g=v("../../lib");J.rangeToShapePosition=function(p){return"log"===p.type?p.r2d:function(c){return c}},J.shapePositionToRange=function(p){return"log"===p.type?p.d2r:function(c){return c}},J.decodeDate=function(p){return function(c){return c.replace&&(c=c.replace("_"," ")),p(c)}},J.encodeDate=function(p){return function(c){return p(c).replace(" ","_")}},J.extractPathCoords=function(p,c){var l=[];return p.match(s.segmentRE).forEach(function(m){var d=c[m.charAt(0)].drawn;if(void 0!==d){var h=m.substr(1).match(s.paramRE);!h||h.length<d||l.push(g.cleanNumber(h[d]))}}),l},J.getDataToPixel=function(p,c,l,m){var d,h=p._fullLayout._size;if(c)if("domain"===m)d=function(C){return c._length*(l?1-C:C)+c._offset};else{var u=J.shapePositionToRange(c);d=function(C){return c._offset+c.r2p(u(C,!0))},"date"===c.type&&(d=J.decodeDate(d))}else d=l?function(C){return h.t+h.h*(1-C)}:function(C){return h.l+h.w*C};return d},J.getPixelToData=function(p,c,l,m){var d,h=p._fullLayout._size;if(c)if("domain"===m)d=function(C){var b=(C-c._offset)/c._length;return l?1-b:b};else{var u=J.rangeToShapePosition(c);d=function(C){return u(c.p2r(C-c._offset))}}else d=l?function(C){return 1-(C-h.t)/h.h}:function(C){return(C-h.l)/h.w};return d},J.roundPositionForSharpStrokeRendering=function(p,c){var l=1===Math.round(c%2),m=Math.round(p);return l?m+.5:m},J.makeOptionsAndPlotinfo=function(p,c){var l=p._fullLayout.shapes[c]||{},m=p._fullLayout._plots[l.xref+l.yref];return m?m._hadPlotinfo=!0:(m={},l.xref&&"paper"!==l.xref&&(m.xaxis=p._fullLayout[l.xref+"axis"]),l.yref&&"paper"!==l.yref&&(m.yaxis=p._fullLayout[l.yref+"axis"])),m.xsizemode=l.xsizemode,m.ysizemode=l.ysizemode,m.xanchor=l.xanchor,m.yanchor=l.yanchor,{options:l,plotinfo:m}}},{"../../lib":232,"./constants":184}],194:[function(v,pe,J){"use strict";var s=v("./draw");pe.exports={moduleType:"component",name:"shapes",layoutAttributes:v("./attributes"),supplyLayoutDefaults:v("./defaults"),supplyDrawNewShapeDefaults:v("./draw_newshape/defaults"),includeBasePlot:v("../../plots/cartesian/include_components")("shapes"),calcAutorange:v("./calc_autorange"),draw:s.draw,drawOne:s.drawOne}},{"../../plots/cartesian/include_components":292,"./attributes":182,"./calc_autorange":183,"./defaults":185,"./draw":186,"./draw_newshape/defaults":189}],195:[function(v,pe,J){"use strict";var s=v("../../plots/font_attributes"),g=v("../../plots/pad_attributes"),p=v("../../lib/extend").extendDeepAll,c=v("../../plot_api/edit_types").overrideAll,l=v("../../plots/animation_attributes"),m=v("../../plot_api/plot_template").templatedArray,d=v("./constants"),h=m("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});pe.exports=c(m("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:h,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:p(g({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:l.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:s({})},font:s({}),activebgcolor:{valType:"color",dflt:d.gripBgActiveColor},bgcolor:{valType:"color",dflt:d.railBgColor},bordercolor:{valType:"color",dflt:d.railBorderColor},borderwidth:{valType:"number",min:0,dflt:d.railBorderWidth},ticklen:{valType:"number",min:0,dflt:d.tickLength},tickcolor:{valType:"color",dflt:d.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:d.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/animation_attributes":273,"../../plots/font_attributes":310,"../../plots/pad_attributes":315,"./constants":196}],196:[function(v,pe,J){"use strict";pe.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],197:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plots/array_container_defaults"),p=v("./attributes"),c=v("./constants").name,l=p.steps;function m(h,u,C){function b(V,L){return s.coerce(h,u,p,V,L)}for(var M=g(h,u,{name:"steps",handleItemDefaults:d}),w=0,N=0;N<M.length;N++)M[N].visible&&w++;if(w<2?u.visible=!1:b("visible")){u._stepCount=w;var A=u._visibleSteps=s.filterVisible(M);(M[b("active")]||{}).visible||(u.active=A[0]._index),b("x"),b("y"),s.noneOrAll(h,u,["x","y"]),b("xanchor"),b("yanchor"),b("len"),b("lenmode"),b("pad.t"),b("pad.r"),b("pad.b"),b("pad.l"),s.coerceFont(b,"font",C.font),b("currentvalue.visible")&&(b("currentvalue.xanchor"),b("currentvalue.prefix"),b("currentvalue.suffix"),b("currentvalue.offset"),s.coerceFont(b,"currentvalue.font",u.font)),b("transition.duration"),b("transition.easing"),b("bgcolor"),b("activebgcolor"),b("bordercolor"),b("borderwidth"),b("ticklen"),b("tickwidth"),b("tickcolor"),b("minorticklen")}}function d(h,u){function C(M,w){return s.coerce(h,u,l,M,w)}if("skip"===h.method||Array.isArray(h.args)?C("visible"):u.visible=!1){C("method"),C("args");var b=C("label","step-"+u._index);C("value",b),C("execute")}}pe.exports=function(h,u){g(h,u,{name:c,handleItemDefaults:m})}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":195,"./constants":196}],198:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../plots/plots"),p=v("../color"),c=v("../drawing"),l=v("../../lib"),m=l.strTranslate,d=v("../../lib/svg_text_utils"),h=v("../../plot_api/plot_template").arrayEditor,u=v("./constants"),C=v("../../constants/alignment"),b=C.LINE_SPACING,M=C.FROM_TL,w=C.FROM_BR;function N(ne){return u.autoMarginIdRoot+ne._index}function A(ne){return ne._index}function V(ne,te){var oe=c.tester.selectAll("g."+u.labelGroupClass).data(te._visibleSteps);oe.enter().append("g").classed(u.labelGroupClass,!0);var Ce=0,ie=0;oe.each(function(Y){var B=I(s.select(this),{step:Y},te).node();if(B){var ae=c.bBox(B);ie=Math.max(ie,ae.height),Ce=Math.max(Ce,ae.width)}}),oe.remove();var Q=te._dims={};Q.inputAreaWidth=Math.max(u.railWidth,u.gripHeight);var le=ne._fullLayout._size;if(Q.lx=le.l+le.w*te.x,Q.ly=le.t+le.h*(1-te.y),Q.outerLength="fraction"===te.lenmode?Math.round(le.w*te.len):te.len,Q.inputAreaStart=0,Q.inputAreaLength=Math.round(Q.outerLength-te.pad.l-te.pad.r),Q.labelStride=Math.max(1,Math.ceil((Ce+u.labelPadding)/((Q.inputAreaLength-2*u.stepInset)/(te._stepCount-1)))),Q.labelHeight=ie,Q.currentValueMaxWidth=0,Q.currentValueHeight=0,Q.currentValueTotalHeight=0,Q.currentValueMaxLines=1,te.currentvalue.visible){var se=c.tester.append("g");oe.each(function(Y){var B=L(se,te,Y.label),ae=B.node()&&c.bBox(B.node())||{width:0,height:0},ue=d.lineCount(B);Q.currentValueMaxWidth=Math.max(Q.currentValueMaxWidth,Math.ceil(ae.width)),Q.currentValueHeight=Math.max(Q.currentValueHeight,Math.ceil(ae.height)),Q.currentValueMaxLines=Math.max(Q.currentValueMaxLines,ue)}),Q.currentValueTotalHeight=Q.currentValueHeight+te.currentvalue.offset,se.remove()}Q.height=Q.currentValueTotalHeight+u.tickOffset+te.ticklen+u.labelOffset+Q.labelHeight+te.pad.t+te.pad.b;var ee="left";l.isRightAnchor(te)&&(Q.lx-=Q.outerLength,ee="right"),l.isCenterAnchor(te)&&(Q.lx-=Q.outerLength/2,ee="center");var F="top";l.isBottomAnchor(te)&&(Q.ly-=Q.height,F="bottom"),l.isMiddleAnchor(te)&&(Q.ly-=Q.height/2,F="middle"),Q.outerLength=Math.ceil(Q.outerLength),Q.height=Math.ceil(Q.height),Q.lx=Math.round(Q.lx),Q.ly=Math.round(Q.ly);var O={y:te.y,b:Q.height*w[F],t:Q.height*M[F]};"fraction"===te.lenmode?(O.l=0,O.xl=te.x-te.len*M[ee],O.r=0,O.xr=te.x+te.len*w[ee]):(O.x=te.x,O.l=Q.outerLength*M[ee],O.r=Q.outerLength*w[ee]),g.autoMargin(ne,N(te),O)}function L(ne,te,oe){if(te.currentvalue.visible){var Ce,ie,Q=te._dims;switch(te.currentvalue.xanchor){case"right":Ce=Q.inputAreaLength-u.currentValueInset-Q.currentValueMaxWidth,ie="left";break;case"center":Ce=.5*Q.inputAreaLength,ie="middle";break;default:Ce=u.currentValueInset,ie="left"}var le=l.ensureSingle(ne,"text",u.labelClass,function(O){O.attr({"text-anchor":ie,"data-notex":1})}),j=te.currentvalue.prefix?te.currentvalue.prefix:"";if("string"==typeof oe)j+=oe;else{var $=te.steps[te.active].label,se=te._gd._fullLayout._meta;se&&($=l.templateString($,se)),j+=$}te.currentvalue.suffix&&(j+=te.currentvalue.suffix),le.call(c.font,te.currentvalue.font).text(j).call(d.convertToTspans,te._gd);var ee=d.lineCount(le);return d.positionText(le,Ce,(Q.currentValueMaxLines+1-ee)*te.currentvalue.font.size*b),le}}function H(ne,te,oe){l.ensureSingle(ne,"rect",u.gripRectClass,function(Ce){Ce.call(S,te,ne,oe).style("pointer-events","all")}).attr({width:u.gripWidth,height:u.gripHeight,rx:u.gripRadius,ry:u.gripRadius}).call(p.stroke,oe.bordercolor).call(p.fill,oe.bgcolor).style("stroke-width",oe.borderwidth+"px")}function I(ne,te,oe){var Ce=l.ensureSingle(ne,"text",u.labelClass,function(le){le.attr({"text-anchor":"middle","data-notex":1})}),ie=te.step.label,Q=oe._gd._fullLayout._meta;return Q&&(ie=l.templateString(ie,Q)),Ce.call(c.font,oe.font).text(ie).call(d.convertToTspans,oe._gd),Ce}function D(ne,te){var oe=l.ensureSingle(ne,"g",u.labelsClass),Ce=te._dims,ie=oe.selectAll("g."+u.labelGroupClass).data(Ce.labelSteps);ie.enter().append("g").classed(u.labelGroupClass,!0),ie.exit().remove(),ie.each(function(Q){var le=s.select(this);le.call(I,Q,te),c.setTranslate(le,z(te,Q.fraction),u.tickOffset+te.ticklen+te.font.size*b+u.labelOffset+Ce.currentValueTotalHeight)})}function E(ne,te,oe,Ce,ie){var Q=Math.round(Ce*(oe._stepCount-1)),le=oe._visibleSteps[Q]._index;le!==oe.active&&P(ne,te,oe,le,!0,ie)}function P(ne,te,oe,Ce,ie,Q){var le=oe.active;oe.active=Ce,h(ne.layout,u.name,oe).applyUpdate("active",Ce);var j=oe.steps[oe.active];te.call(G,oe,Q),te.call(L,oe),ne.emit("plotly_sliderchange",{slider:oe,step:oe.steps[oe.active],interaction:ie,previousActive:le}),j&&j.method&&ie&&(te._nextMethod?(te._nextMethod.step=j,te._nextMethod.doCallback=ie,te._nextMethod.doTransition=Q):(te._nextMethod={step:j,doCallback:ie,doTransition:Q},te._nextMethodRaf=window.requestAnimationFrame(function(){var $=te._nextMethod.step;$.method&&($.execute&&g.executeAPICommand(ne,$.method,$.args),te._nextMethod=null,te._nextMethodRaf=null)})))}function S(ne,te,oe){var Ce=oe.node(),ie=s.select(te);function Q(){return oe.data()[0]}function le(){var j=Q();te.emit("plotly_sliderstart",{slider:j});var $=oe.select("."+u.gripRectClass);s.event.stopPropagation(),s.event.preventDefault(),$.call(p.fill,j.activebgcolor);var se=X(j,s.mouse(Ce)[0]);function ee(){var O=Q(),Y=X(O,s.mouse(Ce)[0]);E(te,oe,O,Y,!1)}function F(){var O=Q();O._dragging=!1,$.call(p.fill,O.bgcolor),ie.on("mouseup",null),ie.on("mousemove",null),ie.on("touchend",null),ie.on("touchmove",null),te.emit("plotly_sliderend",{slider:O,step:O.steps[O.active]})}E(te,oe,j,se,!0),j._dragging=!0,ie.on("mousemove",ee),ie.on("touchmove",ee),ie.on("mouseup",F),ie.on("touchend",F)}ne.on("mousedown",le),ne.on("touchstart",le)}function R(ne,te){var oe=ne.selectAll("rect."+u.tickRectClass).data(te._visibleSteps),Ce=te._dims;oe.enter().append("rect").classed(u.tickRectClass,!0),oe.exit().remove(),oe.attr({width:te.tickwidth+"px","shape-rendering":"crispEdges"}),oe.each(function(ie,Q){var le=Q%Ce.labelStride==0,j=s.select(this);j.attr({height:le?te.ticklen:te.minorticklen}).call(p.fill,te.tickcolor),c.setTranslate(j,z(te,Q/(te._stepCount-1))-.5*te.tickwidth,(le?u.tickOffset:u.minorTickOffset)+Ce.currentValueTotalHeight)})}function G(ne,te,oe){for(var Ce=ne.select("rect."+u.gripRectClass),ie=0,Q=0;Q<te._stepCount;Q++)if(te._visibleSteps[Q]._index===te.active){ie=Q;break}var le=z(te,ie/(te._stepCount-1));if(!te._invokingCommand){var j=Ce;oe&&te.transition.duration>0&&(j=j.transition().duration(te.transition.duration).ease(te.transition.easing)),j.attr("transform",m(le-.5*u.gripWidth,te._dims.currentValueTotalHeight))}}function z(ne,te){var oe=ne._dims;return oe.inputAreaStart+u.stepInset+(oe.inputAreaLength-2*u.stepInset)*Math.min(1,Math.max(0,te))}function X(ne,te){var oe=ne._dims;return Math.min(1,Math.max(0,(te-u.stepInset-oe.inputAreaStart)/(oe.inputAreaLength-2*u.stepInset-2*oe.inputAreaStart)))}function W(ne,te,oe){var Ce=oe._dims,ie=l.ensureSingle(ne,"rect",u.railTouchRectClass,function(Q){Q.call(S,te,ne,oe).style("pointer-events","all")});ie.attr({width:Ce.inputAreaLength,height:Math.max(Ce.inputAreaWidth,u.tickOffset+oe.ticklen+Ce.labelHeight)}).call(p.fill,oe.bgcolor).attr("opacity",0),c.setTranslate(ie,0,Ce.currentValueTotalHeight)}function Z(ne,te){var oe=te._dims,Ce=oe.inputAreaLength-2*u.railInset,ie=l.ensureSingle(ne,"rect",u.railRectClass);ie.attr({width:Ce,height:u.railWidth,rx:u.railRadius,ry:u.railRadius,"shape-rendering":"crispEdges"}).call(p.stroke,te.bordercolor).call(p.fill,te.bgcolor).style("stroke-width",te.borderwidth+"px"),c.setTranslate(ie,u.railInset,.5*(oe.inputAreaWidth-u.railWidth)+oe.currentValueTotalHeight)}pe.exports=function(ne){var te=ne._fullLayout,oe=function($,se){for(var ee=$[u.name],F=[],O=0;O<ee.length;O++){var Y=ee[O];Y.visible&&(Y._gd=se,F.push(Y))}return F}(te,ne),Ce=te._infolayer.selectAll("g."+u.containerClassName).data(oe.length>0?[0]:[]);function ie($){$._commandObserver&&($._commandObserver.remove(),delete $._commandObserver),g.autoMargin(ne,N($))}if(Ce.enter().append("g").classed(u.containerClassName,!0).style("cursor","ew-resize"),Ce.exit().each(function(){s.select(this).selectAll("g."+u.groupClassName).each(ie)}).remove(),0!==oe.length){var Q=Ce.selectAll("g."+u.groupClassName).data(oe,A);Q.enter().append("g").classed(u.groupClassName,!0),Q.exit().each(ie).remove();for(var le=0;le<oe.length;le++)V(ne,oe[le]);Q.each(function($){var se=s.select(this);(function(ee){var F=ee._dims;F.labelSteps=[];for(var O=ee._stepCount,Y=0;Y<O;Y+=F.labelStride)F.labelSteps.push({fraction:Y/(O-1),step:ee._visibleSteps[Y]})})($),g.manageCommandObserver(ne,$,$._visibleSteps,function(ee){var F=se.data()[0];F.active!==ee.index&&(F._dragging||P(ne,se,F,ee.index,!1,!0))}),function(ee,F,O){(O.steps[O.active]||{}).visible||(O.active=O._visibleSteps[0]._index),F.call(L,O).call(Z,O).call(D,O).call(R,O).call(W,ee,O).call(H,ee,O);var Y=O._dims;c.setTranslate(F,Y.lx+O.pad.l,Y.ly+O.pad.t),F.call(G,O,!1),F.call(L,O)}(ne,s.select(this),$)})}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":316,"../color":102,"../drawing":124,"./constants":196,"@plotly/d3":11}],199:[function(v,pe,J){"use strict";var s=v("./constants");pe.exports={moduleType:"component",name:s.name,layoutAttributes:v("./attributes"),supplyLayoutDefaults:v("./defaults"),draw:v("./draw")}},{"./attributes":195,"./constants":196,"./defaults":197,"./draw":198}],200:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("fast-isnumeric"),p=v("../../plots/plots"),c=v("../../registry"),l=v("../../lib"),m=l.strTranslate,d=v("../drawing"),h=v("../color"),u=v("../../lib/svg_text_utils"),C=v("../../constants/interactions"),b=v("../../constants/alignment").OPPOSITE_SIDE,M=/ [XY][0-9]* /;pe.exports={draw:function(w,N,A){var V,H=A.propName,I=A.placeholder,D=A.traceIndex,E=A.avoid||{},P=A.attributes,S=A.transform,R=A.containerGroup,G=w._fullLayout,z=1,X=!1,W=A.propContainer.title,Z=(W&&W.text?W.text:"").trim(),ne=W&&W.font?W.font:{},te=ne.family,oe=ne.size,Ce=ne.color;"title.text"===H?V="titleText":-1!==H.indexOf("axis")?V="axisTitleText":H.indexOf(!0)&&(V="colorbarTitleText");var ie=w._context.edits[V];""===Z?z=0:Z.replace(M," % ")===I.replace(M," % ")&&(z=.2,X=!0,ie||(Z="")),A._meta?Z=l.templateString(Z,A._meta):G._meta&&(Z=l.templateString(Z,G._meta));var Q,le=Z||ie;R||(R=l.ensureSingle(G._infolayer,"g","g-"+N),Q=G._hColorbarMoveTitle);var j=R.selectAll("text").data(le?[0]:[]);if(j.enter().append("text"),j.text(Z).attr("class",N),j.exit().remove(),!le)return R;function $(F){l.syncOrAsync([se,ee],F)}function se(F){var O;return!S&&Q&&(S={}),S?(O="",S.rotate&&(O+="rotate("+[S.rotate,P.x,P.y]+")"),(S.offset||Q)&&(O+=m(0,(S.offset||0)-(Q||0)))):O=null,F.attr("transform",O),F.style({"font-family":te,"font-size":s.round(oe,2)+"px",fill:h.rgb(Ce),opacity:z*h.opacity(Ce),"font-weight":p.fontWeight}).attr(P).call(u.convertToTspans,w),p.previousPromises(w)}function ee(F){var O=s.select(F.node().parentNode);if(E&&E.selection&&E.side&&Z){O.attr("transform",null);var Y=b[E.side],B="left"===E.side||"top"===E.side?-1:1,ae=g(E.pad)?E.pad:2,ue=d.bBox(O.node()),he=E.maxShift||B*({left:0,top:0,right:G.width,bottom:G.height}[E.side]-ue[E.side]),xe=0;if(he<0)xe=he;else{var be=E.offsetLeft||0,Ve=E.offsetTop||0;ue.left-=be,ue.right-=be,ue.top-=Ve,ue.bottom-=Ve,E.selection.each(function(){var Oe=d.bBox(this);l.bBoxIntersect(ue,Oe,ae)&&(xe=Math.max(xe,B*(Oe[E.side]-ue[Y])+ae))}),xe=Math.min(he,xe)}if(xe>0||he<0){var Ae={left:[-xe,0],right:[xe,0],top:[0,-xe],bottom:[0,xe]}[E.side];O.attr("transform",m(Ae[0],Ae[1]))}}}return j.call($),ie&&(Z?j.on(".opacity",null):(z=0,X=!0,j.text(I).on("mouseover.opacity",function(){s.select(this).transition().duration(C.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){s.select(this).transition().duration(C.HIDE_PLACEHOLDER).style("opacity",0)})),j.call(u.makeEditable,{gd:w}).on("edit",function(F){void 0!==D?c.call("_guiRestyle",w,H,F,D):c.call("_guiRelayout",w,H,F)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call($)}).on("input",function(F){this.text(F||" ").call(u.positionText,P.x,P.y)})),j.classed("js-placeholder",X),R}}},{"../../constants/alignment":207,"../../constants/interactions":211,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"../color":102,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],201:[function(v,pe,J){"use strict";var s=v("../../plots/font_attributes"),g=v("../color/attributes"),p=v("../../lib/extend").extendFlat,c=v("../../plot_api/edit_types").overrideAll,l=v("../../plots/pad_attributes"),m=v("../../plot_api/plot_template").templatedArray,d=m("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});pe.exports=c(m("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:d,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:p(l({editType:"arraydraw"}),{}),font:s({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:g.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/font_attributes":310,"../../plots/pad_attributes":315,"../color/attributes":101}],202:[function(v,pe,J){"use strict";pe.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},{}],203:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../plots/array_container_defaults"),p=v("./attributes"),c=v("./constants").name,l=p.buttons;function m(h,u,C){function b(M,w){return s.coerce(h,u,p,M,w)}b("visible",g(h,u,{name:"buttons",handleItemDefaults:d}).length>0)&&(b("active"),b("direction"),b("type"),b("showactive"),b("x"),b("y"),s.noneOrAll(h,u,["x","y"]),b("xanchor"),b("yanchor"),b("pad.t"),b("pad.r"),b("pad.b"),b("pad.l"),s.coerceFont(b,"font",C.font),b("bgcolor",C.paper_bgcolor),b("bordercolor"),b("borderwidth"))}function d(h,u){function C(b,M){return s.coerce(h,u,l,b,M)}C("visible","skip"===h.method||Array.isArray(h.args))&&(C("method"),C("args"),C("args2"),C("label"),C("execute"))}pe.exports=function(h,u){g(h,u,{name:c,handleItemDefaults:m})}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":201,"./constants":202}],204:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../plots/plots"),p=v("../color"),c=v("../drawing"),l=v("../../lib"),m=v("../../lib/svg_text_utils"),d=v("../../plot_api/plot_template").arrayEditor,h=v("../../constants/alignment").LINE_SPACING,u=v("./constants"),C=v("./scrollbox");function b(z){return z._index}function M(z,X){return+z.attr(u.menuIndexAttrName)===X._index}function w(z,X,W,Z,ne,te,oe,Ce){X.active=oe,d(z.layout,u.name,X).applyUpdate("active",oe),"buttons"===X.type?A(z,Z,null,null,X):"dropdown"===X.type&&(ne.attr(u.menuIndexAttrName,"-1"),N(z,Z,ne,te,X),Ce||A(z,Z,ne,te,X))}function N(z,X,W,Z,ne){var te=l.ensureSingle(X,"g",u.headerClassName,function(j){j.style("pointer-events","all")}),oe=ne._dims,Q={y:ne.pad.t,yPad:0,x:ne.pad.l,xPad:0,index:0},le={width:oe.headerWidth,height:oe.headerHeight};te.call(V,ne,ne.buttons[ne.active]||u.blankHeaderOpts,z).call(R,ne,Q,le),l.ensureSingle(X,"text",u.headerArrowClassName,function(j){j.attr("text-anchor","end").call(c.font,ne.font).text(u.arrowSymbol[ne.direction])}).attr({x:oe.headerWidth-u.arrowOffsetX+ne.pad.l,y:oe.headerHeight/2+u.textOffsetY+ne.pad.t}),te.on("click",function(){W.call(G,String(M(W,ne)?-1:ne._index)),A(z,X,W,Z,ne)}),te.on("mouseover",function(){te.call(D)}),te.on("mouseout",function(){te.call(E,ne)}),c.setTranslate(X,oe.lx,oe.ly)}function A(z,X,W,Z,ne){W||(W=X).attr("pointer-events","all");var te=-1==+W.attr(u.menuIndexAttrName)&&"buttons"!==ne.type?[]:ne.buttons,oe="dropdown"===ne.type?u.dropdownButtonClassName:u.buttonClassName,Ce=W.selectAll("g."+oe).data(l.filterVisible(te)),ie=Ce.enter().append("g").classed(oe,!0),Q=Ce.exit();"dropdown"===ne.type?(ie.attr("opacity","0").transition().attr("opacity","1"),Q.transition().attr("opacity","0").remove()):Q.remove();var le=0,j=0,$=ne._dims,se=-1!==["up","down"].indexOf(ne.direction);"dropdown"===ne.type&&(se?j=$.headerHeight+u.gapButtonHeader:le=$.headerWidth+u.gapButtonHeader),"dropdown"===ne.type&&"up"===ne.direction&&(j=-u.gapButtonHeader+u.gapButton-$.openHeight),"dropdown"===ne.type&&"left"===ne.direction&&(le=-u.gapButtonHeader+u.gapButton-$.openWidth);var O,Y,B,ee={x:$.lx+le+ne.pad.l,y:$.ly+j+ne.pad.t,yPad:u.gapButton,xPad:u.gapButton,index:0},F={l:ee.x+ne.borderwidth,t:ee.y+ne.borderwidth};Ce.each(function(O,Y){var B=s.select(this);B.call(V,ne,O,z).call(R,ne,ee),B.on("click",function(){s.event.defaultPrevented||(O.execute&&(O.args2&&ne.active===Y?(w(z,ne,0,X,W,Z,-1),g.executeAPICommand(z,O.method,O.args2)):(w(z,ne,0,X,W,Z,Y),g.executeAPICommand(z,O.method,O.args))),z.emit("plotly_buttonclicked",{menu:ne,button:O,active:ne.active}))}),B.on("mouseover",function(){B.call(D)}),B.on("mouseout",function(){B.call(E,ne),Ce.call(I,ne)})}),Ce.call(I,ne),se?(F.w=Math.max($.openWidth,$.headerWidth),F.h=ee.y-F.t):(F.w=ee.x-F.l,F.h=Math.max($.openHeight,$.headerHeight)),F.direction=ne.direction,Z&&(Ce.size()?function(O,Y,B,ae,ue,fe){var he,xe,be,Ve=ue.direction,Oe=ue._dims,Re=ue.active;if("up"===Ve||"down"===Ve)for(xe=0,be=0;be<Re;be++)xe+=Oe.heights[be]+u.gapButton;else for(he=0,be=0;be<Re;be++)he+=Oe.widths[be]+u.gapButton;ae.enable(fe,he,xe),ae.hbar&&ae.hbar.attr("opacity","0").transition().attr("opacity","1"),ae.vbar&&ae.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,Z,ne,F):(B=!!(O=Z).vbar,(Y=!!O.hbar)&&O.hbar.transition().attr("opacity","0").each("end",function(){Y=!1,B||O.disable()}),B&&O.vbar.transition().attr("opacity","0").each("end",function(){B=!1,Y||O.disable()})))}function V(z,X,W,Z){z.call(L,X).call(H,X,W,Z)}function L(z,X){l.ensureSingle(z,"rect",u.itemRectClassName,function(W){W.attr({rx:u.rx,ry:u.ry,"shape-rendering":"crispEdges"})}).call(p.stroke,X.bordercolor).call(p.fill,X.bgcolor).style("stroke-width",X.borderwidth+"px")}function H(z,X,W,Z){var ne=l.ensureSingle(z,"text",u.itemTextClassName,function(Ce){Ce.attr({"text-anchor":"start","data-notex":1})}),te=W.label,oe=Z._fullLayout._meta;oe&&(te=l.templateString(te,oe)),ne.call(c.font,X.font).text(te).call(m.convertToTspans,Z)}function I(z,X){var W=X.active;z.each(function(Z,ne){var te=s.select(this);ne===W&&X.showactive&&te.select("rect."+u.itemRectClassName).call(p.fill,u.activeColor)})}function D(z){z.select("rect."+u.itemRectClassName).call(p.fill,u.hoverColor)}function E(z,X){z.select("rect."+u.itemRectClassName).call(p.fill,X.bgcolor)}function P(z,X){var W=X._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},Z=c.tester.selectAll("g."+u.dropdownButtonClassName).data(l.filterVisible(X.buttons));Z.enter().append("g").classed(u.dropdownButtonClassName,!0);var ne=-1!==["up","down"].indexOf(X.direction);Z.each(function(le,j){var $=s.select(this);$.call(V,X,le,z);var se=$.select("."+u.itemTextClassName),ee=se.node()&&c.bBox(se.node()).width,F=Math.max(ee+u.textPadX,u.minWidth),O=X.font.size*h,Y=m.lineCount(se),B=Math.max(O*Y,u.minHeight)+u.textOffsetY;B=Math.ceil(B),F=Math.ceil(F),W.widths[j]=F,W.heights[j]=B,W.height1=Math.max(W.height1,B),W.width1=Math.max(W.width1,F),ne?(W.totalWidth=Math.max(W.totalWidth,F),W.openWidth=W.totalWidth,W.totalHeight+=B+u.gapButton,W.openHeight+=B+u.gapButton):(W.totalWidth+=F+u.gapButton,W.openWidth+=F+u.gapButton,W.totalHeight=Math.max(W.totalHeight,B),W.openHeight=W.totalHeight)}),ne?W.totalHeight-=u.gapButton:W.totalWidth-=u.gapButton,W.headerWidth=W.width1+u.arrowPadX,W.headerHeight=W.height1,"dropdown"===X.type&&(ne?(W.width1+=u.arrowPadX,W.totalHeight=W.height1):W.totalWidth=W.width1,W.totalWidth+=u.arrowPadX),Z.remove();var te=W.totalWidth+X.pad.l+X.pad.r,oe=W.totalHeight+X.pad.t+X.pad.b,Ce=z._fullLayout._size;W.lx=Ce.l+Ce.w*X.x,W.ly=Ce.t+Ce.h*(1-X.y);var ie="left";l.isRightAnchor(X)&&(W.lx-=te,ie="right"),l.isCenterAnchor(X)&&(W.lx-=te/2,ie="center");var Q="top";l.isBottomAnchor(X)&&(W.ly-=oe,Q="bottom"),l.isMiddleAnchor(X)&&(W.ly-=oe/2,Q="middle"),W.totalWidth=Math.ceil(W.totalWidth),W.totalHeight=Math.ceil(W.totalHeight),W.lx=Math.round(W.lx),W.ly=Math.round(W.ly),g.autoMargin(z,S(X),{x:X.x,y:X.y,l:te*({right:1,center:.5}[ie]||0),r:te*({left:1,center:.5}[ie]||0),b:oe*({top:1,middle:.5}[Q]||0),t:oe*({bottom:1,middle:.5}[Q]||0)})}function S(z){return u.autoMarginIdRoot+z._index}function R(z,X,W,Z){Z=Z||{};var ne=z.select("."+u.itemRectClassName),te=z.select("."+u.itemTextClassName),oe=X.borderwidth,Ce=W.index,ie=X._dims;c.setTranslate(z,oe+W.x,oe+W.y);var Q=-1!==["up","down"].indexOf(X.direction),le=Z.height||(Q?ie.heights[Ce]:ie.height1);ne.attr({x:0,y:0,width:Z.width||(Q?ie.width1:ie.widths[Ce]),height:le});var j=X.font.size*h,$=(m.lineCount(te)-1)*j/2;m.positionText(te,u.textOffsetX,le/2-$+u.textOffsetY),Q?W.y+=ie.heights[Ce]+W.yPad:W.x+=ie.widths[Ce]+W.xPad,W.index++}function G(z,X){z.attr(u.menuIndexAttrName,X||"-1").selectAll("g."+u.dropdownButtonClassName).remove()}pe.exports=function(z){var X=z._fullLayout,W=l.filterVisible(X[u.name]);function Z(j){g.autoMargin(z,S(j))}var ne=X._menulayer.selectAll("g."+u.containerClassName).data(W.length>0?[0]:[]);if(ne.enter().append("g").classed(u.containerClassName,!0).style("cursor","pointer"),ne.exit().each(function(){s.select(this).selectAll("g."+u.headerGroupClassName).each(Z)}).remove(),0!==W.length){var te=ne.selectAll("g."+u.headerGroupClassName).data(W,b);te.enter().append("g").classed(u.headerGroupClassName,!0);for(var oe=l.ensureSingle(ne,"g",u.dropdownButtonGroupClassName,function(j){j.style("pointer-events","all")}),Ce=0;Ce<W.length;Ce++)P(z,W[Ce]);var le=new C(z,oe,"updatemenus"+X._uid);te.enter().size()&&(oe.node().parentNode.appendChild(oe.node()),oe.call(G)),te.exit().each(function(j){oe.call(G),Z(j)}).remove(),te.each(function(j){var $=s.select(this),se="dropdown"===j.type?oe:null;g.manageCommandObserver(z,j,j.buttons,function(ee){w(z,j,0,$,se,le,ee.index,!0)}),"dropdown"===j.type?(N(z,$,oe,le,j),M(oe,j)&&A(z,$,oe,le,j)):A(z,$,null,null,j)})}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":316,"../color":102,"../drawing":124,"./constants":202,"./scrollbox":206,"@plotly/d3":11}],205:[function(v,pe,J){arguments[4][199][0].apply(J,arguments)},{"./attributes":201,"./constants":202,"./defaults":203,"./draw":204,dup:199}],206:[function(v,pe,J){"use strict";pe.exports=l;var s=v("@plotly/d3"),g=v("../color"),p=v("../drawing"),c=v("../../lib");function l(m,d,h){this.gd=m,this.container=d,this.id=h,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}l.barWidth=2,l.barLength=20,l.barRadius=2,l.barPad=1,l.barColor="#808BA4",l.prototype.enable=function(m,d,h){var u=this.gd._fullLayout,C=u.width,b=u.height;this.position=m;var M,w,N,A,V=this.position.l,L=this.position.w,H=this.position.t,I=this.position.h,D=this.position.direction,E="down"===D,P="left"===D,S="up"===D,R=L,G=I;E||P||"right"===D||S||(this.position.direction="down",E=!0),E||S?(w=(M=V)+R,E?(N=H,G=(A=Math.min(N+G,b))-N):G=(A=H+G)-(N=Math.max(A-G,0))):(A=(N=H)+G,P?R=(w=V+R)-(M=Math.max(w-R,0)):(M=V,R=(w=Math.min(M+R,C))-M)),this._box={l:M,t:N,w:R,h:G};var z=L>R,X=l.barLength+2*l.barPad,W=l.barWidth+2*l.barPad,Z=V,ne=H+I;ne+W>b&&(ne=b-W);var te=this.container.selectAll("rect.scrollbar-horizontal").data(z?[0]:[]);te.exit().on(".drag",null).remove(),te.enter().append("rect").classed("scrollbar-horizontal",!0).call(g.fill,l.barColor),z?(this.hbar=te.attr({rx:l.barRadius,ry:l.barRadius,x:Z,y:ne,width:X,height:W}),this._hbarXMin=Z+X/2,this._hbarTranslateMax=R-X):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var oe=I>G,Ce=l.barWidth+2*l.barPad,ie=l.barLength+2*l.barPad,Q=V+L,le=H;Q+Ce>C&&(Q=C-Ce);var j=this.container.selectAll("rect.scrollbar-vertical").data(oe?[0]:[]);j.exit().on(".drag",null).remove(),j.enter().append("rect").classed("scrollbar-vertical",!0).call(g.fill,l.barColor),oe?(this.vbar=j.attr({rx:l.barRadius,ry:l.barRadius,x:Q,y:le,width:Ce,height:ie}),this._vbarYMin=le+ie/2,this._vbarTranslateMax=G-ie):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var $=this.id,se=M-.5,ee=oe?w+Ce+.5:w+.5,F=N-.5,O=z?A+W+.5:A+.5,Y=u._topdefs.selectAll("#"+$).data(z||oe?[0]:[]);if(Y.exit().remove(),Y.enter().append("clipPath").attr("id",$).append("rect"),z||oe?(this._clipRect=Y.select("rect").attr({x:Math.floor(se),y:Math.floor(F),width:Math.ceil(ee)-Math.floor(se),height:Math.ceil(O)-Math.floor(F)}),this.container.call(p.setClipUrl,$,this.gd),this.bg.attr({x:V,y:H,width:L,height:I})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(p.setClipUrl,null),delete this._clipRect),z||oe){var B=s.behavior.drag().on("dragstart",function(){s.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(B);var ae=s.behavior.drag().on("dragstart",function(){s.event.sourceEvent.preventDefault(),s.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));z&&this.hbar.on(".drag",null).call(ae),oe&&this.vbar.on(".drag",null).call(ae)}this.setTranslate(d,h)},l.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(p.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},l.prototype._onBoxDrag=function(){var m=this.translateX,d=this.translateY;this.hbar&&(m-=s.event.dx),this.vbar&&(d-=s.event.dy),this.setTranslate(m,d)},l.prototype._onBoxWheel=function(){var m=this.translateX,d=this.translateY;this.hbar&&(m+=s.event.deltaY),this.vbar&&(d+=s.event.deltaY),this.setTranslate(m,d)},l.prototype._onBarDrag=function(){var m=this.translateX,d=this.translateY;if(this.hbar){var h=m+this._hbarXMin,u=h+this._hbarTranslateMax;m=(c.constrain(s.event.x,h,u)-h)/(u-h)*(this.position.w-this._box.w)}if(this.vbar){var C=d+this._vbarYMin,b=C+this._vbarTranslateMax;d=(c.constrain(s.event.y,C,b)-C)/(b-C)*(this.position.h-this._box.h)}this.setTranslate(m,d)},l.prototype.setTranslate=function(m,d){var h=this.position.w-this._box.w,u=this.position.h-this._box.h;m=c.constrain(m||0,0,h),d=c.constrain(d||0,0,u),this.translateX=m,this.translateY=d,this.container.call(p.setTranslate,this._box.l-this.position.l-m,this._box.t-this.position.t-d),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+m-.5),y:Math.floor(this.position.t+d-.5)}),this.hbar&&this.hbar.call(p.setTranslate,m+m/h*this._hbarTranslateMax,d),this.vbar&&this.vbar.call(p.setTranslate,m,d+d/u*this._vbarTranslateMax)}},{"../../lib":232,"../color":102,"../drawing":124,"@plotly/d3":11}],207:[function(v,pe,J){"use strict";pe.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],208:[function(v,pe,J){"use strict";pe.exports={axisRefDescription:function(s,g,p){return["If set to a",s,"axis id (e.g. *"+s+"* or","*"+s+"2*), the `"+s+"` position refers to a",s,"coordinate. If set to *paper*, the `"+s+"`","position refers to the distance from the",g,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",g,"("+p+"). If set to a",s,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",g,"of the domain of that axis: e.g.,","*"+s+"2 domain* refers to the domain of the second",s," axis and a",s,"position of 0.5 refers to the","point between the",g,"and the",p,"of the domain of the","second",s,"axis."].join(" ")}}},{}],209:[function(v,pe,J){"use strict";pe.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},{}],210:[function(v,pe,J){"use strict";pe.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},{}],211:[function(v,pe,J){"use strict";pe.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],212:[function(v,pe,J){"use strict";pe.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},{}],213:[function(v,pe,J){"use strict";J.xmlns="http://www.w3.org/2000/xmlns/",J.svg="http://www.w3.org/2000/svg",J.xlink="http://www.w3.org/1999/xlink",J.svgAttrs={xmlns:J.svg,"xmlns:xlink":J.xlink}},{}],214:[function(v,pe,J){"use strict";J.version=v("./version").version,v("native-promise-only"),v("../build/plotcss");for(var s=v("./registry"),g=J.register=s.register,p=v("./plot_api"),c=Object.keys(p),l=0;l<c.length;l++){var m=c[l];"_"!==m.charAt(0)&&(J[m]=p[m]),g({moduleType:"apiMethod",name:m,fn:p[m]})}g(v("./traces/scatter")),g([v("./components/legend"),v("./components/fx"),v("./components/annotations"),v("./components/annotations3d"),v("./components/shapes"),v("./components/images"),v("./components/updatemenus"),v("./components/sliders"),v("./components/rangeslider"),v("./components/rangeselector"),v("./components/grid"),v("./components/errorbars"),v("./components/colorscale"),v("./components/colorbar"),v("./components/modebar")]),g([v("./locale-en"),v("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(g(window.PlotlyLocales),delete window.PlotlyLocales),J.Icons=v("./fonts/ploticon");var d=v("./components/fx"),h=v("./plots/plots");J.Plots={resize:h.resize,graphJson:h.graphJson,sendDataToCloud:h.sendDataToCloud},J.Fx={hover:d.hover,unhover:d.unhover,loneHover:d.loneHover,loneUnhover:d.loneUnhover},J.Snapshot=v("./snapshot"),J.PlotSchema=v("./plot_api/plot_schema")},{"../build/plotcss":1,"./components/annotations":93,"./components/annotations3d":98,"./components/colorbar":108,"./components/colorscale":114,"./components/errorbars":130,"./components/fx":142,"./components/grid":146,"./components/images":151,"./components/legend":159,"./components/modebar":165,"./components/rangeselector":173,"./components/rangeslider":180,"./components/shapes":194,"./components/sliders":199,"./components/updatemenus":205,"./fonts/ploticon":215,"./locale-en":259,"./locale-en-us":258,"./plot_api":263,"./plot_api/plot_schema":267,"./plots/plots":316,"./registry":318,"./snapshot":323,"./traces/scatter":370,"./version":391,"native-promise-only":54}],215:[function(v,pe,J){"use strict";pe.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},{}],216:[function(v,pe,J){"use strict";J.isLeftAnchor=function(s){return"left"===s.xanchor||"auto"===s.xanchor&&s.x<=1/3},J.isCenterAnchor=function(s){return"center"===s.xanchor||"auto"===s.xanchor&&s.x>1/3&&s.x<2/3},J.isRightAnchor=function(s){return"right"===s.xanchor||"auto"===s.xanchor&&s.x>=2/3},J.isTopAnchor=function(s){return"top"===s.yanchor||"auto"===s.yanchor&&s.y>=2/3},J.isMiddleAnchor=function(s){return"middle"===s.yanchor||"auto"===s.yanchor&&s.y>1/3&&s.y<2/3},J.isBottomAnchor=function(s){return"bottom"===s.yanchor||"auto"===s.yanchor&&s.y<=1/3}},{}],217:[function(v,pe,J){"use strict";var s=v("./mod"),g=s.mod,p=s.modHalf,c=Math.PI,l=2*c;function m(C){return Math.abs(C[1]-C[0])>l-1e-14}function d(C,b){return p(b-C,l)}function h(C,b){if(m(b))return!0;var M,w;b[0]<b[1]?(M=b[0],w=b[1]):(M=b[1],w=b[0]),(M=g(M,l))>(w=g(w,l))&&(w+=l);var N=g(C,l),A=N+l;return N>=M&&N<=w||A>=M&&A<=w}function u(C,b,M,w,N,A,V){N=N||0,A=A||0;var L,H,I,D,E,P=m([M,w]);function S(X,W){return[X*Math.cos(W)+N,A-X*Math.sin(W)]}P?(L=0,H=c,I=l):M<w?(L=M,I=w):(L=w,I=M),C<b?(D=C,E=b):(D=b,E=C);var R,G=Math.abs(I-L)<=c?0:1;function z(X,W,Z){return"A"+[X,X]+" "+[0,G,Z]+" "+S(X,W)}return P?R=null===D?"M"+S(E,L)+z(E,H,0)+z(E,I,0)+"Z":"M"+S(D,L)+z(D,H,0)+z(D,I,0)+"ZM"+S(E,L)+z(E,H,1)+z(E,I,1)+"Z":null===D?(R="M"+S(E,L)+z(E,I,0),V&&(R+="L0,0Z")):R="M"+S(D,L)+"L"+S(E,L)+z(E,I,0)+"L"+S(D,I)+z(D,L,1)+"Z",R}pe.exports={deg2rad:function(C){return C/180*c},rad2deg:function(C){return C/c*180},angleDelta:d,angleDist:function(C,b){return Math.abs(d(C,b))},isFullCircle:m,isAngleInsideSector:h,isPtInsideSector:function(C,b,M,w){return!!h(b,w)&&(M[0]<M[1]?(N=M[0],A=M[1]):(N=M[1],A=M[0]),C>=N&&C<=A);var N,A},pathArc:function(C,b,M,w,N){return u(null,C,b,M,w,N,0)},pathSector:function(C,b,M,w,N){return u(null,C,b,M,w,N,1)},pathAnnulus:function(C,b,M,w,N,A){return u(C,b,M,w,N,A,1)}}},{"./mod":239}],218:[function(v,pe,J){"use strict";var s=Array.isArray,g=ArrayBuffer,p=DataView;function c(d){return g.isView(d)&&!(d instanceof p)}function l(d){return s(d)||c(d)}function m(d,h,u){if(l(d)){if(l(d[0])){for(var C=u,b=0;b<d.length;b++)C=h(C,d[b].length);return C}return d.length}return 0}J.isTypedArray=c,J.isArrayOrTypedArray=l,J.isArray1D=function(d){return!l(d[0])},J.ensureArray=function(d,h){return s(d)||(d=[]),d.length=h,d},J.concat=function(){var d,h,u,C,b,M,w,N,A=[],V=!0,L=0;for(u=0;u<arguments.length;u++)(M=(C=arguments[u]).length)&&(h?A.push(C):(h=C,b=M),s(C)?d=!1:(V=!1,L?d!==C.constructor&&(d=!1):d=C.constructor),L+=M);if(!L)return[];if(!A.length)return h;if(V)return h.concat.apply(h,A);if(d){for((w=new d(L)).set(h),u=0;u<A.length;u++)w.set(C=A[u],b),b+=C.length;return w}for(w=new Array(L),N=0;N<h.length;N++)w[N]=h[N];for(u=0;u<A.length;u++){for(C=A[u],N=0;N<C.length;N++)w[b+N]=C[N];b+=N}return w},J.maxRowLength=function(d){return m(d,Math.max,0)},J.minRowLength=function(d){return m(d,Math.min,1/0)}},{}],219:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../constants/numerical").BADNUM,p=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;pe.exports=function(c){return"string"==typeof c&&(c=c.replace(p,"")),s(c)?Number(c):g}},{"../constants/numerical":212,"fast-isnumeric":17}],220:[function(v,pe,J){"use strict";pe.exports=function(s){var g=s._fullLayout;g._glcanvas&&g._glcanvas.size()&&g._glcanvas.each(function(p){p.regl&&p.regl.clear({color:!0,depth:!0})})}},{}],221:[function(v,pe,J){"use strict";pe.exports=function(s){s._responsiveChartHandler&&(window.removeEventListener("resize",s._responsiveChartHandler),delete s._responsiveChartHandler)}},{}],222:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("tinycolor2"),p=v("../plots/attributes"),c=v("../components/colorscale/scales"),l=v("../components/color"),m=v("../constants/interactions").DESELECTDIM,d=v("./nested_property"),h=v("./regex").counter,u=v("./mod").modHalf,C=v("./array").isArrayOrTypedArray;function b(M,w){var N=J.valObjectMeta[w.valType];if(w.arrayOk&&C(M))return!0;if(N.validateFunction)return N.validateFunction(M,w);var A={},V=A;return N.coerceFunction(M,{set:function(H){V=H}},A,w),V!==A}J.valObjectMeta={data_array:{coerceFunction:function(M,w,N){C(M)?w.set(M):void 0!==N&&w.set(N)}},enumerated:{coerceFunction:function(M,w,N,A){A.coerceNumber&&(M=+M),-1===A.values.indexOf(M)?w.set(N):w.set(M)},validateFunction:function(M,w){w.coerceNumber&&(M=+M);for(var N=w.values,A=0;A<N.length;A++){var V=String(N[A]);if("/"===V.charAt(0)&&"/"===V.charAt(V.length-1)){if(new RegExp(V.substr(1,V.length-2)).test(M))return!0}else if(M===N[A])return!0}return!1}},boolean:{coerceFunction:function(M,w,N){w.set(!0===M||!1===M?M:N)}},number:{coerceFunction:function(M,w,N,A){!s(M)||void 0!==A.min&&M<A.min||void 0!==A.max&&M>A.max?w.set(N):w.set(+M)}},integer:{coerceFunction:function(M,w,N,A){M%1||!s(M)||void 0!==A.min&&M<A.min||void 0!==A.max&&M>A.max?w.set(N):w.set(+M)}},string:{coerceFunction:function(M,w,N,A){w.set("string"!=typeof M?!0!==A.strict&&"number"==typeof M?String(M):N:A.noBlank&&!M?N:M)}},color:{coerceFunction:function(M,w,N){g(M).isValid()?w.set(M):w.set(N)}},colorlist:{coerceFunction:function(M,w,N){Array.isArray(M)&&M.length&&M.every(function(A){return g(A).isValid()})?w.set(M):w.set(N)}},colorscale:{coerceFunction:function(M,w,N){w.set(c.get(M,N))}},angle:{coerceFunction:function(M,w,N){"auto"===M?w.set("auto"):s(M)?w.set(u(+M,360)):w.set(N)}},subplotid:{coerceFunction:function(M,w,N,A){var V=A.regex||h(N);"string"==typeof M&&V.test(M)?w.set(M):w.set(N)},validateFunction:function(M,w){var N=w.dflt;return M===N||"string"==typeof M&&!!h(N).test(M)}},flaglist:{coerceFunction:function(M,w,N,A){if("string"==typeof M)if(-1===(A.extras||[]).indexOf(M)){for(var V=M.split("+"),L=0;L<V.length;){var H=V[L];-1===A.flags.indexOf(H)||V.indexOf(H)<L?V.splice(L,1):L++}w.set(V.length?V.join("+"):N)}else w.set(M);else w.set(N)}},any:{coerceFunction:function(M,w,N){w.set(void 0===M?N:M)}},info_array:{coerceFunction:function(M,w,N,A){function V(ne,te,oe){var Ce;return void 0===oe&&(oe=te.dflt),J.valObjectMeta[te.valType].coerceFunction(ne,{set:function(Q){Ce=Q}},oe,te),Ce}var L=2===A.dimensions||"1-2"===A.dimensions&&Array.isArray(M)&&Array.isArray(M[0]);if(Array.isArray(M)){var H,I,D,P,S,R=A.items,G=[],z=Array.isArray(R),X=z&&L&&Array.isArray(R[0]),W=L&&z&&!X,Z=z&&!W?R.length:M.length;if(N=Array.isArray(N)?N:[],L)for(H=0;H<Z;H++)for(G[H]=[],D=Array.isArray(M[H])?M[H]:[],P=W?R.length:z?R[H].length:D.length,I=0;I<P;I++)void 0!==(S=V(D[I],W?R[I]:z?R[H][I]:R,(N[H]||[])[I]))&&(G[H][I]=S);else for(H=0;H<Z;H++)void 0!==(S=V(M[H],z?R[H]:R,N[H]))&&(G[H]=S);w.set(G)}else w.set(N)},validateFunction:function(M,w){if(!Array.isArray(M))return!1;var N=w.items,A=Array.isArray(N),V=2===w.dimensions;if(!w.freeLength&&M.length!==N.length)return!1;for(var L=0;L<M.length;L++)if(V){if(!Array.isArray(M[L])||!w.freeLength&&M[L].length!==N[L].length)return!1;for(var H=0;H<M[L].length;H++)if(!b(M[L][H],A?N[L][H]:N))return!1}else if(!b(M[L],A?N[L]:N))return!1;return!0}}},J.coerce=function(M,w,N,A,V){var L=d(N,A).get(),H=d(M,A),I=d(w,A),D=H.get(),E=w._template;if(void 0===D&&E&&(D=d(E,A).get(),E=0),void 0===V&&(V=L.dflt),L.arrayOk&&C(D))return I.set(D),D;var P=J.valObjectMeta[L.valType].coerceFunction;P(D,I,V,L);var S=I.get();return E&&S===V&&!b(D,L)&&(P(D=d(E,A).get(),I,V,L),S=I.get()),S},J.coerce2=function(M,w,N,A,V){var L=d(M,A),H=J.coerce(M,w,N,A,V);return null!=L.get()&&H},J.coerceFont=function(M,w,N){var A={};return A.family=M(w+".family",(N=N||{}).family),A.size=M(w+".size",N.size),A.color=M(w+".color",N.color),A},J.coercePattern=function(M,w,N,A){if(M(w+".shape")){M(w+".solidity"),M(w+".size");var V="overlay"===M(w+".fillmode");if(!A){var L=M(w+".bgcolor",V?N:void 0);M(w+".fgcolor",V?l.contrast(L):N)}M(w+".fgopacity",V?.5:1)}},J.coerceHoverinfo=function(M,w,N){var A,V=w._module.attributes,L=V.hoverinfo?V:p,H=L.hoverinfo;if(1===N._dataLength){var I="all"===H.dflt?H.flags.slice():H.dflt.split("+");I.splice(I.indexOf("name"),1),A=I.join("+")}return J.coerce(M,w,L,"hoverinfo",A)},J.coerceSelectionMarkerOpacity=function(M,w){if(M.marker){var N,A,V=M.marker.opacity;void 0!==V&&(C(V)||M.selected||M.unselected||(N=V,A=m*V),w("selected.marker.opacity",N),w("unselected.marker.opacity",A))}},J.validate=b},{"../components/color":102,"../components/colorscale/scales":117,"../constants/interactions":211,"../plots/attributes":275,"./array":218,"./mod":239,"./nested_property":240,"./regex":248,"fast-isnumeric":17,tinycolor2:67}],223:[function(v,pe,J){"use strict";var s,g,p=v("d3-time-format").timeFormat,c=v("fast-isnumeric"),l=v("./loggers"),m=v("./mod").mod,d=v("../constants/numerical"),h=d.BADNUM,u=d.ONEDAY,C=d.ONEHOUR,b=d.ONEMIN,M=d.ONESEC,w=d.EPOCHJD,N=v("../registry"),A=v("d3-time-format").utcFormat,V=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,L=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,H=(new Date).getFullYear()-70;function I(te){return te&&N.componentsRegistry.calendars&&"string"==typeof te&&"gregorian"!==te}function D(te,oe){return String(te+Math.pow(10,oe)).substr(1)}J.dateTick0=function(te,oe){var Q,le,Ce=(le=!!oe,I(Q=te)?le?N.getComponentMethod("calendars","CANONICAL_SUNDAY")[Q]:N.getComponentMethod("calendars","CANONICAL_TICK")[Q]:le?"2000-01-02":"2000-01-01");if(oe<2)return Ce;var ie=J.dateTime2ms(Ce,te);return J.ms2DateTime(ie+=u*(oe-1),0,te)},J.dfltRange=function(te){return I(te)?N.getComponentMethod("calendars","DFLTRANGE")[te]:["2000-01-01","2001-01-01"]},J.isJSDate=function(te){return"object"==typeof te&&null!==te&&"function"==typeof te.getTime},J.dateTime2ms=function(te,oe){if(J.isJSDate(te)){var Ce=te.getTimezoneOffset()*b,ie=(te.getUTCMinutes()-te.getMinutes())*b+(te.getUTCSeconds()-te.getSeconds())*M+(te.getUTCMilliseconds()-te.getMilliseconds());if(ie){var Q=3*b;Ce=Ce-Q/2+m(ie-Ce+Q/2,Q)}return(te=Number(te)-Ce)>=s&&te<=g?te:h}if("string"!=typeof te&&"number"!=typeof te)return h;te=String(te);var le=I(oe),j=te.charAt(0);!le||"G"!==j&&"g"!==j||(te=te.substr(1),oe="");var $=le&&"chinese"===oe.substr(0,7),se=te.match($?L:V);if(!se)return h;var ee=se[1],F=se[3]||"1",O=Number(se[5]||1),Y=Number(se[7]||0),B=Number(se[9]||0),ae=Number(se[11]||0);if(le){if(2===ee.length)return h;var ue;ee=Number(ee);try{var fe=N.getComponentMethod("calendars","getCal")(oe);if($){var he="i"===F.charAt(F.length-1);F=parseInt(F,10),ue=fe.newDate(ee,fe.toMonthIndex(ee,F,he),O)}else ue=fe.newDate(ee,Number(F),O)}catch{return h}return ue?(ue.toJD()-w)*u+Y*C+B*b+ae*M:h}ee=2===ee.length?(Number(ee)+2e3-H)%100+H:Number(ee),F-=1;var xe=new Date(Date.UTC(2e3,F,O,Y,B));return xe.setUTCFullYear(ee),xe.getUTCMonth()!==F||xe.getUTCDate()!==O?h:xe.getTime()+ae*M},s=J.MIN_MS=J.dateTime2ms("-9999"),g=J.MAX_MS=J.dateTime2ms("9999-12-31 23:59:59.9999"),J.isDateTime=function(te,oe){return J.dateTime2ms(te,oe)!==h};var E=90*u,P=3*C,S=5*b;function R(te,oe,Ce,ie,Q){if((oe||Ce||ie||Q)&&(te+=" "+D(oe,2)+":"+D(Ce,2),(ie||Q)&&(te+=":"+D(ie,2),Q))){for(var le=4;Q%10==0;)le-=1,Q/=10;te+="."+D(Q,le)}return te}J.ms2DateTime=function(te,oe,Ce){if("number"!=typeof te||!(te>=s&&te<=g))return h;oe||(oe=0);var ie,Q,le,j,$,se,ee=Math.floor(10*m(te+.05,1)),F=Math.round(te-ee/10);if(I(Ce)){var O=Math.floor(F/u)+w,Y=Math.floor(m(te,u));try{ie=N.getComponentMethod("calendars","getCal")(Ce).fromJD(O).formatDate("yyyy-mm-dd")}catch{ie=A("G%Y-%m-%d")(new Date(F))}if("-"===ie.charAt(0))for(;ie.length<11;)ie="-0"+ie.substr(1);else for(;ie.length<10;)ie="0"+ie;Q=oe<E?Math.floor(Y/C):0,le=oe<E?Math.floor(Y%C/b):0,j=oe<P?Math.floor(Y%b/M):0,$=oe<S?Y%M*10+ee:0}else se=new Date(F),ie=A("%Y-%m-%d")(se),Q=oe<E?se.getUTCHours():0,le=oe<E?se.getUTCMinutes():0,j=oe<P?se.getUTCSeconds():0,$=oe<S?10*se.getUTCMilliseconds()+ee:0;return R(ie,Q,le,j,$)},J.ms2DateTimeLocal=function(te){if(!(te>=s+u&&te<=g-u))return h;var oe=Math.floor(10*m(te+.05,1)),Ce=new Date(Math.round(te-oe/10));return R(p("%Y-%m-%d")(Ce),Ce.getHours(),Ce.getMinutes(),Ce.getSeconds(),10*Ce.getUTCMilliseconds()+oe)},J.cleanDate=function(te,oe,Ce){if(te===h)return oe;if(J.isJSDate(te)||"number"==typeof te&&isFinite(te)){if(I(Ce))return l.error("JS Dates and milliseconds are incompatible with world calendars",te),oe;if(!(te=J.ms2DateTimeLocal(+te))&&void 0!==oe)return oe}else if(!J.isDateTime(te,Ce))return l.error("unrecognized date",te),oe;return te};var G=/%\d?f/g,z=/%h/g,X={1:"1",2:"1",3:"2",4:"2"};function W(te,oe,Ce,ie){te=te.replace(G,function(le){var j=Math.min(+le.charAt(1)||6,6);return(oe/1e3%1+2).toFixed(j).substr(2).replace(/0+$/,"")||"0"});var Q=new Date(Math.floor(oe+.05));if(te=te.replace(z,function(){return X[Ce("%q")(Q)]}),I(ie))try{te=N.getComponentMethod("calendars","worldCalFmt")(te,oe,ie)}catch{return"Invalid"}return Ce(te)(Q)}var Z=[59,59.9,59.99,59.999,59.9999];J.formatDate=function(te,oe,Ce,ie,Q,le){if(Q=I(Q)&&Q,!oe)if("y"===Ce)oe=le.year;else if("m"===Ce)oe=le.month;else{if("d"!==Ce)return function(j,$){var se=m(j+.05,u),ee=D(Math.floor(se/C),2)+":"+D(m(Math.floor(se/b),60),2);if("M"!==$){c($)||($=0);var F=(100+Math.min(m(j/M,60),Z[$])).toFixed($).substr(1);$>0&&(F=F.replace(/0+$/,"").replace(/[\.]$/,"")),ee+=":"+F}return ee}(te,Ce)+"\n"+W(le.dayMonthYear,te,ie,Q);oe=le.dayMonth+"\n"+le.year}return W(oe,te,ie,Q)};var ne=3*u;J.incrementMonth=function(te,oe,Ce){Ce=I(Ce)&&Ce;var ie=m(te,u);if(te=Math.round(te-ie),Ce)try{var Q=Math.round(te/u)+w,le=N.getComponentMethod("calendars","getCal")(Ce),j=le.fromJD(Q);return oe%12?le.add(j,oe,"m"):le.add(j,oe/12,"y"),(j.toJD()-w)*u+ie}catch{l.error("invalid ms "+te+" in calendar "+Ce)}var $=new Date(te+ne);return $.setUTCMonth($.getUTCMonth()+oe)+ie-ne},J.findExactDates=function(te,oe){for(var Ce,ie,Q=0,le=0,j=0,$=0,se=I(oe)&&N.getComponentMethod("calendars","getCal")(oe),ee=0;ee<te.length;ee++)if(c(ie=te[ee])){if(!(ie%u))if(se)try{1===(Ce=se.fromJD(ie/u+w)).day()?1===Ce.month()?Q++:le++:j++}catch{}else 1===(Ce=new Date(ie)).getUTCDate()?0===Ce.getUTCMonth()?Q++:le++:j++}else $++;j+=le+=Q;var F=te.length-$;return{exactYears:Q/F,exactMonths:le/F,exactDays:j/F}}},{"../constants/numerical":212,"../registry":318,"./loggers":236,"./mod":239,"d3-time-format":14,"fast-isnumeric":17}],224:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("./loggers"),p=v("./matrix"),c=v("gl-mat4");function l(C){var b=C&&C.parentNode;b&&b.removeChild(C)}function m(C,b,M){var w="plotly.js-style-"+C,N=document.getElementById(w);N||((N=document.createElement("style")).setAttribute("id",w),N.appendChild(document.createTextNode("")),document.head.appendChild(N));var A=N.sheet;A.insertRule?A.insertRule(b+"{"+M+"}",0):A.addRule?A.addRule(b,M,0):g.warn("addStyleRule failed")}function d(C){var b=window.getComputedStyle(C,null),M=b.getPropertyValue("-webkit-transform")||b.getPropertyValue("-moz-transform")||b.getPropertyValue("-ms-transform")||b.getPropertyValue("-o-transform")||b.getPropertyValue("transform");return"none"===M?null:M.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(w){return+w})}function h(C){for(var b=[];u(C);)b.push(C),C=C.parentNode;return b}function u(C){return C&&(C instanceof Element||C instanceof HTMLElement)}pe.exports={getGraphDiv:function(C){var b;if("string"==typeof C){if(null===(b=document.getElementById(C)))throw new Error("No DOM element with id '"+C+"' exists on the page.");return b}if(null==C)throw new Error("DOM element provided is null or undefined");return C},isPlotDiv:function(C){var b=s.select(C);return b.node()instanceof HTMLElement&&b.size()&&b.classed("js-plotly-plot")},removeElement:l,addStyleRule:function(C,b){m("global",C,b)},addRelatedStyleRule:m,deleteRelatedStyleRule:function(C){var M=document.getElementById("plotly.js-style-"+C);M&&l(M)},getFullTransformMatrix:function(C){var b=h(C),M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return b.forEach(function(w){var N=d(w);if(N){var A=p.convertCssMatrix(N);M=c.multiply(M,M,A)}}),M},getElementTransformMatrix:d,getElementAndAncestors:h,equalDomRects:function(C,b){return C&&b&&C.x===b.x&&C.y===b.y&&C.top===b.top&&C.left===b.left&&C.right===b.right&&C.bottom===b.bottom}}},{"./loggers":236,"./matrix":238,"@plotly/d3":11,"gl-mat4":33}],225:[function(v,pe,J){"use strict";var s=v("events").EventEmitter;pe.exports={init:function(p){if(p._ev instanceof s)return p;var c=new s,l=new s;return p._ev=c,p._internalEv=l,p.on=c.on.bind(c),p.once=c.once.bind(c),p.removeListener=c.removeListener.bind(c),p.removeAllListeners=c.removeAllListeners.bind(c),p._internalOn=l.on.bind(l),p._internalOnce=l.once.bind(l),p._removeInternalListener=l.removeListener.bind(l),p._removeAllInternalListeners=l.removeAllListeners.bind(l),p.emit=function(m,d){typeof jQuery<"u"&&jQuery(p).trigger(m,d),c.emit(m,d),l.emit(m,d)},p},triggerHandler:function(p,c,l){var m,d;typeof jQuery<"u"&&(m=jQuery(p).triggerHandler(c,l));var h=p._ev;if(!h)return m;var u,C=h._events[c];if(!C)return m;function b(M){return M.listener?(h.removeListener(c,M.listener),M.fired?void 0:(M.fired=!0,M.listener.apply(h,[l]))):M.apply(h,[l])}for(C=Array.isArray(C)?C:[C],u=0;u<C.length-1;u++)b(C[u]);return d=b(C[u]),void 0!==m?m:d},purge:function(p){return delete p._ev,delete p.on,delete p.once,delete p.removeListener,delete p.removeAllListeners,delete p.emit,delete p._ev,delete p._internalEv,delete p._internalOn,delete p._internalOnce,delete p._removeInternalListener,delete p._removeAllInternalListeners,p}}},{events:12}],226:[function(v,pe,J){"use strict";var s=v("./is_plain_object.js"),g=Array.isArray;function p(c,l,m,d){var h,u,C,b,M,w,N=c[0],A=c.length;if(2===A&&g(N)&&g(c[1])&&0===N.length){if(function(L,H){var I,D;for(I=0;I<L.length;I++){if(null!==(D=L[I])&&"object"==typeof D)return!1;void 0!==D&&(H[I]=D)}return!0}(c[1],N))return N;N.splice(0,N.length)}for(var V=1;V<A;V++)for(u in h=c[V])C=N[u],b=h[u],d&&g(b)?N[u]=b:l&&b&&(s(b)||(M=g(b)))?(M?(M=!1,w=C&&g(C)?C:[]):w=C&&s(C)?C:{},N[u]=p([w,b],l,m,d)):(void 0!==b||m)&&(N[u]=b);return N}J.extendFlat=function(){return p(arguments,!1,!1,!1)},J.extendDeep=function(){return p(arguments,!0,!1,!1)},J.extendDeepAll=function(){return p(arguments,!0,!0,!1)},J.extendDeepNoArrays=function(){return p(arguments,!0,!1,!0)}},{"./is_plain_object.js":233}],227:[function(v,pe,J){"use strict";pe.exports=function(s){for(var g={},p=[],c=0,l=0;l<s.length;l++){var m=s[l];1!==g[m]&&(g[m]=1,p[c++]=m)}return p}},{}],228:[function(v,pe,J){"use strict";function s(p){return!0===p.visible}function g(p){var c=p[0].trace;return!0===c.visible&&0!==c._length}pe.exports=function(p){for(var c,l=(c=p,Array.isArray(c)&&Array.isArray(c[0])&&c[0][0]&&c[0][0].trace?g:s),m=[],d=0;d<p.length;d++){var h=p[d];l(h)&&m.push(h)}return m}},{}],229:[function(v,pe,J){"use strict";var s,g,p,c=v("./mod").mod;function l(d,h,u,C,b,M,w,N){var A=u-d,V=b-d,L=w-b,H=C-h,I=M-h,D=N-M,E=A*D-L*H;if(0===E)return null;var P=(V*D-L*I)/E,S=(V*H-A*I)/E;return S<0||S>1||P<0||P>1?null:{x:d+A*P,y:h+H*P}}function m(d,h,u,C,b){var M=C*d+b*h;if(M<0)return C*C+b*b;if(M>u){var w=C-d,N=b-h;return w*w+N*N}var A=C*h-b*d;return A*A/u}J.segmentsIntersect=l,J.segmentDistance=function(d,h,u,C,b,M,w,N){if(l(d,h,u,C,b,M,w,N))return 0;var A=u-d,V=C-h,L=w-b,H=N-M,I=A*A+V*V,D=L*L+H*H,E=Math.min(m(A,V,I,b-d,M-h),m(A,V,I,w-d,N-h),m(L,H,D,d-b,h-M),m(L,H,D,u-b,C-M));return Math.sqrt(E)},J.getTextLocation=function(d,h,u,C){if(d===g&&C===p||(s={},g=d,p=C),s[u])return s[u];var b=d.getPointAtLength(c(u-C/2,h)),M=d.getPointAtLength(c(u+C/2,h)),w=Math.atan((M.y-b.y)/(M.x-b.x)),N=d.getPointAtLength(c(u,h)),A={x:(4*N.x+b.x+M.x)/6,y:(4*N.y+b.y+M.y)/6,theta:w};return s[u]=A,A},J.clearLocationCache=function(){g=null},J.getVisibleSegment=function(d,h,u){var C,b,M=h.left,w=h.right,N=h.top,A=h.bottom,V=0,L=d.getTotalLength(),H=L;function I(E){var P=d.getPointAtLength(E);0===E?C=P:E===L&&(b=P);var S=P.x<M?M-P.x:P.x>w?P.x-w:0,R=P.y<N?N-P.y:P.y>A?P.y-A:0;return Math.sqrt(S*S+R*R)}for(var D=I(V);D;){if((V+=D+u)>H)return;D=I(V)}for(D=I(H);D;){if(V>(H-=D+u))return;D=I(H)}return{min:V,max:H,len:H-V,total:L,isClosed:0===V&&H===L&&Math.abs(C.x-b.x)<.1&&Math.abs(C.y-b.y)<.1}},J.findPointOnPath=function(d,h,u,C){for(var b,M,w,N=(C=C||{}).pathLength||d.getTotalLength(),A=C.tolerance||.001,V=C.iterationLimit||30,L=d.getPointAtLength(0)[u]>d.getPointAtLength(N)[u]?-1:1,H=0,I=0,D=N;H<V;){if(w=(M=d.getPointAtLength(b=(I+D)/2))[u]-h,Math.abs(w)<A)return M;L*w>0?D=b:I=b,H++}return M}},{"./mod":239}],230:[function(v,pe,J){"use strict";pe.exports=function(s){return s}},{}],231:[function(v,pe,J){"use strict";pe.exports=function(s,g){if(!g)return s;var p=1/Math.abs(g),c=p>1?(p*s+p*g)/p:s+g,l=String(c).length;if(l>16){var m=String(g).length;if(l>=String(s).length+m){var d=parseFloat(c).toPrecision(12);-1===d.indexOf("e+")&&(c=+d)}}return c}},{}],232:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("d3-time-format").utcFormat,p=v("d3-format").format,c=v("fast-isnumeric"),l=v("../constants/numerical"),m=l.FP_SAFE,d=-m,h=l.BADNUM,u=pe.exports={};u.adjustFormat=function(ee){return!ee||/^\d[.]\df/.test(ee)||/[.]\d%/.test(ee)?ee:"0.f"===ee?"~f":/^\d%/.test(ee)?"~%":/^\ds/.test(ee)?"~s":!/^[~,.0$]/.test(ee)&&/[&fps]/.test(ee)?"~"+ee:ee};var C={};u.warnBadFormat=function(ee){var F=String(ee);C[F]||(C[F]=1,u.warn('encountered bad format: "'+F+'"'))},u.noFormat=function(ee){return String(ee)},u.numberFormat=function(ee){var F;try{F=p(u.adjustFormat(ee))}catch{return u.warnBadFormat(ee),u.noFormat}return F},u.nestedProperty=v("./nested_property"),u.keyedContainer=v("./keyed_container"),u.relativeAttr=v("./relative_attr"),u.isPlainObject=v("./is_plain_object"),u.toLogRange=v("./to_log_range"),u.relinkPrivateKeys=v("./relink_private");var b=v("./array");u.isTypedArray=b.isTypedArray,u.isArrayOrTypedArray=b.isArrayOrTypedArray,u.isArray1D=b.isArray1D,u.ensureArray=b.ensureArray,u.concat=b.concat,u.maxRowLength=b.maxRowLength,u.minRowLength=b.minRowLength;var M=v("./mod");u.mod=M.mod,u.modHalf=M.modHalf;var w=v("./coerce");u.valObjectMeta=w.valObjectMeta,u.coerce=w.coerce,u.coerce2=w.coerce2,u.coerceFont=w.coerceFont,u.coercePattern=w.coercePattern,u.coerceHoverinfo=w.coerceHoverinfo,u.coerceSelectionMarkerOpacity=w.coerceSelectionMarkerOpacity,u.validate=w.validate;var N=v("./dates");u.dateTime2ms=N.dateTime2ms,u.isDateTime=N.isDateTime,u.ms2DateTime=N.ms2DateTime,u.ms2DateTimeLocal=N.ms2DateTimeLocal,u.cleanDate=N.cleanDate,u.isJSDate=N.isJSDate,u.formatDate=N.formatDate,u.incrementMonth=N.incrementMonth,u.dateTick0=N.dateTick0,u.dfltRange=N.dfltRange,u.findExactDates=N.findExactDates,u.MIN_MS=N.MIN_MS,u.MAX_MS=N.MAX_MS;var A=v("./search");u.findBin=A.findBin,u.sorterAsc=A.sorterAsc,u.sorterDes=A.sorterDes,u.distinctVals=A.distinctVals,u.roundUp=A.roundUp,u.sort=A.sort,u.findIndexOfMin=A.findIndexOfMin,u.sortObjectKeys=v("./sort_object_keys");var V=v("./stats");u.aggNums=V.aggNums,u.len=V.len,u.mean=V.mean,u.median=V.median,u.midRange=V.midRange,u.variance=V.variance,u.stdev=V.stdev,u.interp=V.interp;var L=v("./matrix");u.init2dArray=L.init2dArray,u.transposeRagged=L.transposeRagged,u.dot=L.dot,u.translationMatrix=L.translationMatrix,u.rotationMatrix=L.rotationMatrix,u.rotationXYMatrix=L.rotationXYMatrix,u.apply3DTransform=L.apply3DTransform,u.apply2DTransform=L.apply2DTransform,u.apply2DTransform2=L.apply2DTransform2,u.convertCssMatrix=L.convertCssMatrix,u.inverseTransformMatrix=L.inverseTransformMatrix;var H=v("./angles");u.deg2rad=H.deg2rad,u.rad2deg=H.rad2deg,u.angleDelta=H.angleDelta,u.angleDist=H.angleDist,u.isFullCircle=H.isFullCircle,u.isAngleInsideSector=H.isAngleInsideSector,u.isPtInsideSector=H.isPtInsideSector,u.pathArc=H.pathArc,u.pathSector=H.pathSector,u.pathAnnulus=H.pathAnnulus;var I=v("./anchor_utils");u.isLeftAnchor=I.isLeftAnchor,u.isCenterAnchor=I.isCenterAnchor,u.isRightAnchor=I.isRightAnchor,u.isTopAnchor=I.isTopAnchor,u.isMiddleAnchor=I.isMiddleAnchor,u.isBottomAnchor=I.isBottomAnchor;var D=v("./geometry2d");u.segmentsIntersect=D.segmentsIntersect,u.segmentDistance=D.segmentDistance,u.getTextLocation=D.getTextLocation,u.clearLocationCache=D.clearLocationCache,u.getVisibleSegment=D.getVisibleSegment,u.findPointOnPath=D.findPointOnPath;var E=v("./extend");u.extendFlat=E.extendFlat,u.extendDeep=E.extendDeep,u.extendDeepAll=E.extendDeepAll,u.extendDeepNoArrays=E.extendDeepNoArrays;var P=v("./loggers");u.log=P.log,u.warn=P.warn,u.error=P.error;var S=v("./regex");u.counterRegex=S.counter;var R=v("./throttle");u.throttle=R.throttle,u.throttleDone=R.done,u.clearThrottle=R.clear;var G=v("./dom");function z(ee){var F={};for(var O in ee)for(var Y=ee[O],B=0;B<Y.length;B++)F[Y[B]]=+O;return F}u.getGraphDiv=G.getGraphDiv,u.isPlotDiv=G.isPlotDiv,u.removeElement=G.removeElement,u.addStyleRule=G.addStyleRule,u.addRelatedStyleRule=G.addRelatedStyleRule,u.deleteRelatedStyleRule=G.deleteRelatedStyleRule,u.getFullTransformMatrix=G.getFullTransformMatrix,u.getElementTransformMatrix=G.getElementTransformMatrix,u.getElementAndAncestors=G.getElementAndAncestors,u.equalDomRects=G.equalDomRects,u.clearResponsive=v("./clear_responsive"),u.preserveDrawingBuffer=v("./preserve_drawing_buffer"),u.makeTraceGroups=v("./make_trace_groups"),u._=v("./localize"),u.notifier=v("./notifier"),u.filterUnique=v("./filter_unique"),u.filterVisible=v("./filter_visible"),u.pushUnique=v("./push_unique"),u.increment=v("./increment"),u.cleanNumber=v("./clean_number"),u.ensureNumber=function(ee){return c(ee)?(ee=Number(ee))>m||ee<d?h:ee:h},u.isIndex=function(ee,F){return!(void 0!==F&&ee>=F)&&c(ee)&&ee>=0&&ee%1==0},u.noop=v("./noop"),u.identity=v("./identity"),u.repeat=function(ee,F){for(var O=new Array(F),Y=0;Y<F;Y++)O[Y]=ee;return O},u.swapAttrs=function(ee,F,O,Y){O||(O="x"),Y||(Y="y");for(var B=0;B<F.length;B++){var ae=F[B],ue=u.nestedProperty(ee,ae.replace("?",O)),fe=u.nestedProperty(ee,ae.replace("?",Y)),he=ue.get();ue.set(fe.get()),fe.set(he)}},u.raiseToTop=function(ee){ee.parentNode.appendChild(ee)},u.cancelTransition=function(ee){return ee.transition().duration(0)},u.constrain=function(ee,F,O){return F>O?Math.max(O,Math.min(F,ee)):Math.max(F,Math.min(O,ee))},u.bBoxIntersect=function(ee,F,O){return ee.left<=F.right+(O=O||0)&&F.left<=ee.right+O&&ee.top<=F.bottom+O&&F.top<=ee.bottom+O},u.simpleMap=function(ee,F,O,Y,B){for(var ae=ee.length,ue=new Array(ae),fe=0;fe<ae;fe++)ue[fe]=F(ee[fe],O,Y,B);return ue},u.randstr=function ee(F,O,Y,B){if(Y||(Y=16),void 0===O&&(O=24),O<=0)return"0";var ae,ue,fe=Math.log(Math.pow(2,O))/Math.log(Y),he="";for(ae=2;fe===1/0;ae*=2)fe=Math.log(Math.pow(2,O/ae))/Math.log(Y)*ae;var xe=fe-Math.floor(fe);for(ae=0;ae<Math.floor(fe);ae++)he=Math.floor(Math.random()*Y).toString(Y)+he;xe&&(ue=Math.pow(Y,xe),he=Math.floor(Math.random()*ue).toString(Y)+he);var be=parseInt(he,Y);return F&&F[he]||be!==1/0&&be>=Math.pow(2,O)?B>10?(u.warn("randstr failed uniqueness"),he):ee(F,O,Y,(B||0)+1):he},u.OptionControl=function(ee,F){ee||(ee={}),F||(F="opt");var O={optionList:[],_newoption:function(Y){Y[F]=ee,O[Y.name]=Y,O.optionList.push(Y)}};return O["_"+F]=ee,O},u.smooth=function(ee,F){if((F=Math.round(F)||0)<2)return ee;var O,Y,B,ae,ue=ee.length,fe=2*ue,he=2*F-1,xe=new Array(he),be=new Array(ue);for(O=0;O<he;O++)xe[O]=(1-Math.cos(Math.PI*(O+1)/F))/(2*F);for(O=0;O<ue;O++){for(ae=0,Y=0;Y<he;Y++)(B=O+Y+1-F)<-ue?B-=fe*Math.round(B/fe):B>=fe&&(B-=fe*Math.floor(B/fe)),B<0?B=-1-B:B>=ue&&(B=fe-1-B),ae+=ee[B]*xe[Y];be[O]=ae}return be},u.syncOrAsync=function(ee,F,O){var Y;function B(){return u.syncOrAsync(ee,F,O)}for(;ee.length;)if((Y=(0,ee.splice(0,1)[0])(F))&&Y.then)return Y.then(B);return O&&O(F)},u.stripTrailingSlash=function(ee){return"/"===ee.substr(-1)?ee.substr(0,ee.length-1):ee},u.noneOrAll=function(ee,F,O){if(ee){var Y,B=!1,ae=!0;for(Y=0;Y<O.length;Y++)null!=ee[O[Y]]?B=!0:ae=!1;if(B&&!ae)for(Y=0;Y<O.length;Y++)ee[O[Y]]=F[O[Y]]}},u.mergeArray=function(ee,F,O,Y){var B="function"==typeof Y;if(u.isArrayOrTypedArray(ee))for(var ae=Math.min(ee.length,F.length),ue=0;ue<ae;ue++){var fe=ee[ue];F[ue][O]=B?Y(fe):fe}},u.mergeArrayCastPositive=function(ee,F,O){return u.mergeArray(ee,F,O,function(Y){var B=+Y;return isFinite(B)&&B>0?B:0})},u.fillArray=function(ee,F,O,Y){if(Y=Y||u.identity,u.isArrayOrTypedArray(ee))for(var B=0;B<F.length;B++)F[B][O]=Y(ee[B])},u.castOption=function(ee,F,O,Y){Y=Y||u.identity;var B=u.nestedProperty(ee,O).get();return u.isArrayOrTypedArray(B)?Array.isArray(F)&&u.isArrayOrTypedArray(B[F[0]])?Y(B[F[0]][F[1]]):Y(B[F]):B},u.extractOption=function(ee,F,O,Y){if(O in ee)return ee[O];var B=u.nestedProperty(F,Y).get();return Array.isArray(B)?void 0:B},u.tagSelected=function(ee,F,O){var Y,B,ae=F.selectedpoints,ue=F._indexToPoints;ue&&(Y=z(ue));for(var fe=0;fe<ae.length;fe++){var he=ae[fe];if(u.isIndex(he)||u.isArrayOrTypedArray(he)&&u.isIndex(he[0])&&u.isIndex(he[1])){var xe=Y?Y[he]:he,be=O?O[xe]:xe;void 0!==(B=be)&&B<ee.length&&(ee[be].selected=1)}}},u.selIndices2selPoints=function(ee){var F=ee.selectedpoints,O=ee._indexToPoints;if(O){for(var Y=z(O),B=[],ae=0;ae<F.length;ae++){var ue=F[ae];if(u.isIndex(ue)){var fe=Y[ue];u.isIndex(fe)&&B.push(fe)}}return B}return F},u.getTargetArray=function(ee,F){var O=F.target;if("string"==typeof O&&O){var Y=u.nestedProperty(ee,O).get();return!!Array.isArray(Y)&&Y}return!!Array.isArray(O)&&O},u.minExtend=function(ee,F){var O={};"object"!=typeof F&&(F={});var Y,B,ae,ue=Object.keys(ee);for(Y=0;Y<ue.length;Y++)ae=ee[B=ue[Y]],"_"!==B.charAt(0)&&"function"!=typeof ae&&(O[B]="module"===B?ae:Array.isArray(ae)?"colorscale"===B?ae.slice():ae.slice(0,3):u.isTypedArray(ae)?ae.subarray(0,3):ae&&"object"==typeof ae?u.minExtend(ee[B],F[B]):ae);for(ue=Object.keys(F),Y=0;Y<ue.length;Y++)"object"==typeof(ae=F[B=ue[Y]])&&B in O&&"object"==typeof O[B]||(O[B]=ae);return O},u.titleCase=function(ee){return ee.charAt(0).toUpperCase()+ee.substr(1)},u.containsAny=function(ee,F){for(var O=0;O<F.length;O++)if(-1!==ee.indexOf(F[O]))return!0;return!1},u.isIE=function(){return void 0!==window.navigator.msSaveBlob};var X=/Version\/[\d\.]+.*Safari/;u.isSafari=function(){return X.test(window.navigator.userAgent)};var W=/iPad|iPhone|iPod/;u.isIOS=function(){return W.test(window.navigator.userAgent)};var Z=/Firefox\/(\d+)\.\d+/;u.getFirefoxVersion=function(){var ee=Z.exec(window.navigator.userAgent);if(ee&&2===ee.length){var F=parseInt(ee[1]);if(!isNaN(F))return F}return null},u.isD3Selection=function(ee){return ee instanceof s.selection},u.ensureSingle=function(ee,F,O,Y){var B=ee.select(F+(O?"."+O:""));if(B.size())return B;var ae=ee.append(F);return O&&ae.classed(O,!0),Y&&ae.call(Y),ae},u.ensureSingleById=function(ee,F,O,Y){var B=ee.select(F+"#"+O);if(B.size())return B;var ae=ee.append(F).attr("id",O);return Y&&ae.call(Y),ae},u.objectFromPath=function(ee,F){for(var O,Y=ee.split("."),B=O={},ae=0;ae<Y.length;ae++){var ue=Y[ae],fe=null,he=Y[ae].match(/(.*)\[([0-9]+)\]/);he?(fe=he[2],(O=O[ue=he[1]]=[])[fe]=ae===Y.length-1?F:{},O=O[fe]):(O[ue]=ae===Y.length-1?F:{},O=O[ue])}return B};var ne=/^([^\[\.]+)\.(.+)?/,te=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;u.expandObjectPaths=function(ee){var F,O,Y,B,ae,ue,fe;if("object"==typeof ee&&!Array.isArray(ee))for(O in ee)ee.hasOwnProperty(O)&&((F=O.match(ne))?(B=ee[O],Y=F[1],delete ee[O],ee[Y]=u.extendDeepNoArrays(ee[Y]||{},u.objectFromPath(O,u.expandObjectPaths(B))[Y])):(F=O.match(te))?(B=ee[O],Y=F[1],ae=parseInt(F[2]),delete ee[O],ee[Y]=ee[Y]||[],"."===F[3]?(fe=F[4],ue=ee[Y][ae]=ee[Y][ae]||{},u.extendDeepNoArrays(ue,u.objectFromPath(fe,u.expandObjectPaths(B)))):ee[Y][ae]=u.expandObjectPaths(B)):ee[O]=u.expandObjectPaths(ee[O]));return ee},u.numSeparate=function(ee,F,O){if(O||(O=!1),"string"!=typeof F||0===F.length)throw new Error("Separator string required for formatting!");"number"==typeof ee&&(ee=String(ee));var Y=/(\d+)(\d{3})/,B=F.charAt(0),ae=F.charAt(1),ue=ee.split("."),fe=ue[0],he=ue.length>1?B+ue[1]:"";if(ae&&(ue.length>1||fe.length>4||O))for(;Y.test(fe);)fe=fe.replace(Y,"$1"+ae+"$2");return fe+he},u.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var oe=/^\w*$/;u.templateString=function(ee,F){var O={};return ee.replace(u.TEMPLATE_STRING_REGEX,function(Y,B){var ae;return oe.test(B)?ae=F[B]:(O[B]=O[B]||u.nestedProperty(F,B).get,ae=O[B]()),u.isValidTextValue(ae)?ae:""})};var Ce={max:10,count:0,name:"hovertemplate"};u.hovertemplateString=function(){return le.apply(Ce,arguments)};var ie={max:10,count:0,name:"texttemplate"};u.texttemplateString=function(){return le.apply(ie,arguments)};var Q=/^[:|\|]/;function le(ee,F,O){var Y=this,B=arguments;F||(F={});var ae={};return ee.replace(u.TEMPLATE_STRING_REGEX,function(ue,fe,he){var xe,be,Ve,Ae="_xother"===fe||"_yother"===fe,Oe="_xother_"===fe||"_yother_"===fe,Re="xother_"===fe||"yother_"===fe,tt="xother"===fe||"yother"===fe||Ae||Re||Oe,Ke=fe;if((Ae||Oe)&&(Ke=Ke.substring(1)),(Re||Oe)&&(Ke=Ke.substring(0,Ke.length-1)),tt){if(void 0===(xe=F[Ke]))return""}else for(Ve=3;Ve<B.length;Ve++)if(be=B[Ve]){if(be.hasOwnProperty(Ke)){xe=be[Ke];break}if(oe.test(Ke)||(xe=u.nestedProperty(be,Ke).get(),(xe=ae[Ke]||u.nestedProperty(be,Ke).get())&&(ae[Ke]=xe)),void 0!==xe)break}if(void 0===xe&&Y)return Y.count<Y.max&&(u.warn("Variable '"+Ke+"' in "+Y.name+" could not be found!"),xe=ue),Y.count===Y.max&&u.warn("Too many "+Y.name+" warnings - additional warnings will be suppressed"),Y.count++,ue;if(he){var $e;if(":"===he[0]&&(xe=($e=O?O.numberFormat:u.numberFormat)(he.replace(Q,""))(xe)),"|"===he[0]){$e=O?O.timeFormat:g;var Me=u.dateTime2ms(xe);xe=u.formatDate(Me,he.replace(Q,""),!1,$e)}}else{var ve=Ke+"Label";F.hasOwnProperty(ve)&&(xe=F[ve])}return tt&&(xe="("+xe+")",(Ae||Oe)&&(xe=" "+xe),(Re||Oe)&&(xe+=" ")),xe})}u.subplotSort=function(ee,F){for(var O=Math.min(ee.length,F.length)+1,Y=0,B=0,ae=0;ae<O;ae++){var ue=ee.charCodeAt(ae)||0,fe=F.charCodeAt(ae)||0,he=ue>=48&&ue<=57,xe=fe>=48&&fe<=57;if(he&&(Y=10*Y+ue-48),xe&&(B=10*B+fe-48),!he||!xe){if(Y!==B)return Y-B;if(ue!==fe)return ue-fe}}return B-Y};var j=2e9;u.seedPseudoRandom=function(){j=2e9},u.pseudoRandom=function(){var ee=j;return j=(69069*j+1)%4294967296,Math.abs(j-ee)<429496729?u.pseudoRandom():j/4294967296},u.fillText=function(ee,F,O){var Y=Array.isArray(O)?function(ue){O.push(ue)}:function(ue){O.text=ue},B=u.extractOption(ee,F,"htx","hovertext");if(u.isValidTextValue(B))return Y(B);var ae=u.extractOption(ee,F,"tx","text");return u.isValidTextValue(ae)?Y(ae):void 0},u.isValidTextValue=function(ee){return ee||0===ee},u.formatPercent=function(ee,F){F=F||0;for(var O=(Math.round(100*ee*Math.pow(10,F))*Math.pow(.1,F)).toFixed(F)+"%",Y=0;Y<F;Y++)-1!==O.indexOf(".")&&(O=(O=O.replace("0%","%")).replace(".%","%"));return O},u.isHidden=function(ee){var F=window.getComputedStyle(ee).display;return!F||"none"===F},u.strTranslate=function(ee,F){return ee||F?"translate("+ee+","+F+")":""},u.strRotate=function(ee){return ee?"rotate("+ee+")":""},u.strScale=function(ee){return 1!==ee?"scale("+ee+")":""},u.getTextTransform=function(ee){var F=ee.noCenter,O=ee.textX,Y=ee.textY,he=ee.rotate,xe=ee.scale;return xe?xe>1&&(xe=1):xe=0,u.strTranslate(ee.targetX-xe*(O+(ee.anchorX||0)),ee.targetY-xe*(Y+(ee.anchorY||0)))+u.strScale(xe)+(he?"rotate("+he+(F?"":" "+O+" "+Y)+")":"")},u.ensureUniformFontSize=function(ee,F){var O=u.extendFlat({},F);return O.size=Math.max(F.size,ee._fullLayout.uniformtext.minsize||0),O},u.join2=function(ee,F,O){var Y=ee.length;return Y>1?ee.slice(0,-1).join(F)+O+ee[Y-1]:ee.join(F)},u.bigFont=function(ee){return Math.round(1.2*ee)};var $=u.getFirefoxVersion(),se=null!==$&&$<86;u.getPositionFromD3Event=function(){return se?[s.event.layerX,s.event.layerY]:[s.event.offsetX,s.event.offsetY]}},{"../constants/numerical":212,"./anchor_utils":216,"./angles":217,"./array":218,"./clean_number":219,"./clear_responsive":221,"./coerce":222,"./dates":223,"./dom":224,"./extend":226,"./filter_unique":227,"./filter_visible":228,"./geometry2d":229,"./identity":230,"./increment":231,"./is_plain_object":233,"./keyed_container":234,"./localize":235,"./loggers":236,"./make_trace_groups":237,"./matrix":238,"./mod":239,"./nested_property":240,"./noop":241,"./notifier":242,"./preserve_drawing_buffer":245,"./push_unique":246,"./regex":248,"./relative_attr":249,"./relink_private":250,"./search":251,"./sort_object_keys":253,"./stats":254,"./throttle":256,"./to_log_range":257,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],233:[function(v,pe,J){"use strict";pe.exports=function(s){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(s):"[object Object]"===Object.prototype.toString.call(s)&&Object.getPrototypeOf(s).hasOwnProperty("hasOwnProperty")}},{}],234:[function(v,pe,J){"use strict";var s=v("./nested_property"),g=/^\w*$/;pe.exports=function(p,c,l,m){var d,h,u;l=l||"name",m=m||"value";var C={};c&&c.length?(u=s(p,c),h=u.get()):h=p,c=c||"";var b={};if(h)for(d=0;d<h.length;d++)b[h[d][l]]=d;var M=g.test(m),w={set:function(N,A){var V=null===A?4:0;if(!h){if(!u||4===V)return;u.set(h=[])}var L=b[N];if(void 0===L){if(4===V)return;V|=3,b[N]=L=h.length}else A!==(M?h[L][m]:s(h[L],m).get())&&(V|=2);var H=h[L]=h[L]||{};return H[l]=N,M?H[m]=A:s(H,m).set(A),null!==A&&(V&=-5),C[L]=C[L]|V,w},get:function(N){if(h){var A=b[N];return void 0===A?void 0:M?h[A][m]:s(h[A],m).get()}},rename:function(N,A){var V=b[N];return void 0===V||(C[V]=1|C[V],b[A]=V,delete b[N],h[V][l]=A),w},remove:function(N){var A=b[N];if(void 0===A)return w;var V=h[A];if(Object.keys(V).length>2)return C[A]=2|C[A],w.set(N,null);if(M){for(d=A;d<h.length;d++)C[d]=3|C[d];for(d=A;d<h.length;d++)b[h[d][l]]--;h.splice(A,1),delete b[N]}else s(V,m).set(null),C[A]=6|C[A];return w},constructUpdate:function(){for(var N,A,V={},L=Object.keys(C),H=0;H<L.length;H++)N=c+"["+(A=L[H])+"]",h[A]?(1&C[A]&&(V[N+"."+l]=h[A][l]),2&C[A]&&(V[N+"."+m]=M?4&C[A]?null:h[A][m]:4&C[A]?null:s(h[A],m).get())):V[N]=null;return V}};return w}},{"./nested_property":240}],235:[function(v,pe,J){"use strict";var s=v("../registry");pe.exports=function(g,p){for(var c=g._context.locale,l=0;l<2;l++){for(var m=g._context.locales,d=0;d<2;d++){var h=(m[c]||{}).dictionary;if(h){var u=h[p];if(u)return u}m=s.localeRegistry}var C=c.split("-")[0];if(C===c)break;c=C}return p}},{"../registry":318}],236:[function(v,pe,J){"use strict";var s=v("../plot_api/plot_config").dfltConfig,g=v("./notifier"),p=pe.exports={};p.log=function(){var c;if(s.logging>1){var l=["LOG:"];for(c=0;c<arguments.length;c++)l.push(arguments[c]);console.trace.apply(console,l)}if(s.notifyOnLogging>1){var m=[];for(c=0;c<arguments.length;c++)m.push(arguments[c]);g(m.join("<br>"),"long")}},p.warn=function(){var c;if(s.logging>0){var l=["WARN:"];for(c=0;c<arguments.length;c++)l.push(arguments[c]);console.trace.apply(console,l)}if(s.notifyOnLogging>0){var m=[];for(c=0;c<arguments.length;c++)m.push(arguments[c]);g(m.join("<br>"),"stick")}},p.error=function(){var c;if(s.logging>0){var l=["ERROR:"];for(c=0;c<arguments.length;c++)l.push(arguments[c]);console.error.apply(console,l)}if(s.notifyOnLogging>0){var m=[];for(c=0;c<arguments.length;c++)m.push(arguments[c]);g(m.join("<br>"),"stick")}}},{"../plot_api/plot_config":266,"./notifier":242}],237:[function(v,pe,J){"use strict";var s=v("@plotly/d3");pe.exports=function(g,p,c){var l=g.selectAll("g."+c.replace(/\s/g,".")).data(p,function(d){return d[0].trace.uid});l.exit().remove(),l.enter().append("g").attr("class",c),l.order();var m=g.classed("rangeplot")?"nodeRangePlot3":"node3";return l.each(function(d){d[0][m]=s.select(this)}),l}},{"@plotly/d3":11}],238:[function(v,pe,J){"use strict";var s=v("gl-mat4");J.init2dArray=function(g,p){for(var c=new Array(g),l=0;l<g;l++)c[l]=new Array(p);return c},J.transposeRagged=function(g){var p,c,l=0,m=g.length;for(p=0;p<m;p++)l=Math.max(l,g[p].length);var d=new Array(l);for(p=0;p<l;p++)for(d[p]=new Array(m),c=0;c<m;c++)d[p][c]=g[c][p];return d},J.dot=function(g,p){if(!g.length||!p.length||g.length!==p.length)return null;var c,l,m=g.length;if(g[0].length)for(c=new Array(m),l=0;l<m;l++)c[l]=J.dot(g[l],p);else if(p[0].length){var d=J.transposeRagged(p);for(c=new Array(d.length),l=0;l<d.length;l++)c[l]=J.dot(g,d[l])}else for(c=0,l=0;l<m;l++)c+=g[l]*p[l];return c},J.translationMatrix=function(g,p){return[[1,0,g],[0,1,p],[0,0,1]]},J.rotationMatrix=function(g){var p=g*Math.PI/180;return[[Math.cos(p),-Math.sin(p),0],[Math.sin(p),Math.cos(p),0],[0,0,1]]},J.rotationXYMatrix=function(g,p,c){return J.dot(J.dot(J.translationMatrix(p,c),J.rotationMatrix(g)),J.translationMatrix(-p,-c))},J.apply3DTransform=function(g){return function(){var p=arguments,c=1===arguments.length?p[0]:[p[0],p[1],p[2]||0];return J.dot(g,[c[0],c[1],c[2],1]).slice(0,3)}},J.apply2DTransform=function(g){return function(){var p=arguments;3===p.length&&(p=p[0]);var c=1===arguments.length?p[0]:[p[0],p[1]];return J.dot(g,[c[0],c[1],1]).slice(0,2)}},J.apply2DTransform2=function(g){var p=J.apply2DTransform(g);return function(c){return p(c.slice(0,2)).concat(p(c.slice(2,4)))}},J.convertCssMatrix=function(g){if(g){var p=g.length;if(16===p)return g;if(6===p)return[g[0],g[1],0,0,g[2],g[3],0,0,0,0,1,0,g[4],g[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},J.inverseTransformMatrix=function(g){var p=[];return s.invert(p,g),[[p[0],p[1],p[2],p[3]],[p[4],p[5],p[6],p[7]],[p[8],p[9],p[10],p[11]],[p[12],p[13],p[14],p[15]]]}},{"gl-mat4":33}],239:[function(v,pe,J){"use strict";pe.exports={mod:function(s,g){var p=s%g;return p<0?p+g:p},modHalf:function(s,g){return Math.abs(s)>g/2?s-Math.round(s/g)*g:s}}},{}],240:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("./array").isArrayOrTypedArray;function p(C,b){return function(){var M,w,N,A,V,L=C;for(A=0;A<b.length-1;A++){if(-1===(M=b[A])){for(w=!0,N=[],V=0;V<L.length;V++)N[V]=p(L[V],b.slice(A+1))(),N[V]!==N[0]&&(w=!1);return w?N[0]:N}if("number"==typeof M&&!g(L)||"object"!=typeof(L=L[M])||null===L)return}if("object"==typeof L&&null!==L&&null!==(N=L[b[A]]))return N}}pe.exports=function(C,b){if(s(b))b=String(b);else if("string"!=typeof b||"[-1]"===b.substr(b.length-4))throw"bad property string";for(var M,w,N,A=0,V=b.split(".");A<V.length;){if(M=String(V[A]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(M[1])V[A]=M[1];else{if(0!==A)throw"bad property string";V.splice(0,1)}for(w=M[2].substr(1,M[2].length-2).split("]["),N=0;N<w.length;N++)A++,V.splice(A,0,Number(w[N]))}A++}return"object"!=typeof C?{set:function(){throw"bad container"},get:function(){},astr:b,parts:V,obj:C}:{set:m(C,V,b),get:p(C,V),astr:b,parts:V,obj:C}};var c=/(^|\.)args\[/;function l(C,b){return void 0===C||null===C&&!b.match(c)}function m(C,b,M){return function(w){var N,A,V=C,L="",H=[[C,L]],I=l(w,M);for(A=0;A<b.length-1;A++){if("number"==typeof(N=b[A])&&!g(V))throw"array index but container is not an array";if(-1===N){if(I=!h(V,b.slice(A+1),w,M))break;return}if(!u(V,N,b[A+1],I))break;if("object"!=typeof(V=V[N])||null===V)throw"container is not an object";L=d(L,N),H.push([V,L])}if(I){if(A===b.length-1&&(delete V[b[A]],Array.isArray(V)&&+b[A]==V.length-1))for(;V.length&&void 0===V[V.length-1];)V.pop()}else V[b[A]]=w}}function d(C,b){var M=b;return s(b)?M="["+b+"]":C&&(M="."+b),C+M}function h(C,b,M,w){var N,A=g(M),V=!0,L=M,H=w.replace("-1",0),I=!A&&l(M,H),D=b[0];for(N=0;N<C.length;N++)H=w.replace("-1",N),A&&(I=l(L=M[N%M.length],H)),I&&(V=!1),u(C,N,D,I)&&m(C[N],b,w.replace("-1",N))(L);return V}function u(C,b,M,w){if(void 0===C[b]){if(w)return!1;C[b]="number"==typeof M?[]:{}}return!0}},{"./array":218,"fast-isnumeric":17}],241:[function(v,pe,J){"use strict";pe.exports=function(){}},{}],242:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("fast-isnumeric"),p=[];pe.exports=function(c,l){if(-1===p.indexOf(c)){p.push(c);var m=1e3;g(l)?m=l:"long"===l&&(m=3e3);var d=s.select("body").selectAll(".plotly-notifier").data([0]);d.enter().append("div").classed("plotly-notifier",!0),d.selectAll(".notifier-note").data(p).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(u){var C=s.select(this);C.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){C.transition().call(h)});for(var b=C.append("p"),M=u.split(/<br\s*\/?>/g),w=0;w<M.length;w++)w&&b.append("br"),b.append("span").text(M[w]);"stick"===l?C.transition().duration(350).style("opacity",1):C.transition().duration(700).style("opacity",1).transition().delay(m).call(h)})}function h(u){u.duration(700).style("opacity",0).each("end",function(C){var b=p.indexOf(C);-1!==b&&p.splice(b,1),s.select(this).remove()})}}},{"@plotly/d3":11,"fast-isnumeric":17}],243:[function(v,pe,J){"use strict";var s=v("./setcursor"),g="data-savedcursor";pe.exports=function(p,c){var l=p.attr(g);if(c){if(!l){for(var m=(p.attr("class")||"").split(" "),d=0;d<m.length;d++){var h=m[d];0===h.indexOf("cursor-")&&p.attr(g,h.substr(7)).classed(h,!1)}p.attr(g)||p.attr(g,"!!")}s(p,c)}else l&&(p.attr(g,null),"!!"===l?s(p):s(p,l))}},{"./setcursor":252}],244:[function(v,pe,J){"use strict";var s=v("./matrix").dot,g=v("../constants/numerical").BADNUM,p=pe.exports={};p.tester=function(c){var l,m=c.slice(),d=m[0][0],h=d,u=m[0][1],C=u;for(m.push(m[0]),l=1;l<m.length;l++)d=Math.min(d,m[l][0]),h=Math.max(h,m[l][0]),u=Math.min(u,m[l][1]),C=Math.max(C,m[l][1]);var b,M=!1;5===m.length&&(m[0][0]===m[1][0]?m[2][0]===m[3][0]&&m[0][1]===m[3][1]&&m[1][1]===m[2][1]&&(M=!0,b=function(A){return A[0]===m[0][0]}):m[0][1]===m[1][1]&&m[2][1]===m[3][1]&&m[0][0]===m[3][0]&&m[1][0]===m[2][0]&&(M=!0,b=function(A){return A[1]===m[0][1]}));var w=!0,N=m[0];for(l=1;l<m.length;l++)if(N[0]!==m[l][0]||N[1]!==m[l][1]){w=!1;break}return{xmin:d,xmax:h,ymin:u,ymax:C,pts:m,contains:M?function(A,V){var L=A[0],H=A[1];return!(L===g||L<d||L>h||H===g||H<u||H>C||V&&b(A))}:function(A,V){var L=A[0],H=A[1];if(L===g||L<d||L>h||H===g||H<u||H>C)return!1;var I,D,E,P,S,R=m.length,G=m[0][0],z=m[0][1],X=0;for(I=1;I<R;I++)if(D=G,E=z,G=m[I][0],z=m[I][1],!(L<(P=Math.min(D,G))||L>Math.max(D,G)||H>Math.max(E,z)))if(H<Math.min(E,z))L!==P&&X++;else{if(H===(S=G===D?H:E+(L-D)*(z-E)/(G-D)))return 1!==I||!V;H<=S&&L!==P&&X++}return X%2==1},isRect:M,degenerate:w}},p.isSegmentBent=function(c,l,m,d){var h,u,C,b=c[l],M=[c[m][0]-b[0],c[m][1]-b[1]],w=s(M,M),N=Math.sqrt(w),A=[-M[1]/N,M[0]/N];for(h=l+1;h<m;h++)if((C=s(u=[c[h][0]-b[0],c[h][1]-b[1]],M))<0||C>w||Math.abs(s(u,A))>d)return!0;return!1},p.filter=function(c,l){var m=[c[0]],d=0,h=0;function u(C){c.push(C);var b=m.length,M=d;m.splice(h+1);for(var w=M+1;w<c.length;w++)(w===c.length-1||p.isSegmentBent(c,M,w+1,l))&&(m.push(c[w]),m.length<b-2&&(d=w,h=m.length-1),M=w)}return c.length>1&&u(c.pop()),{addPt:u,raw:c,filtered:m}}},{"../constants/numerical":212,"./matrix":238}],245:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("is-mobile");pe.exports=function(p){var c,b;if("string"!=typeof(c=p&&p.hasOwnProperty("userAgent")?p.userAgent:(typeof navigator<"u"&&(b=navigator.userAgent),b&&b.headers&&"string"==typeof b.headers["user-agent"]&&(b=b.headers["user-agent"]),b)))return!0;var l=g({ua:{headers:{"user-agent":c}},tablet:!0,featureDetect:!1});if(!l)for(var m=c.split(" "),d=1;d<m.length;d++)if(-1!==m[d].indexOf("Safari"))for(var h=d-1;h>-1;h--){var u=m[h];if("Version/"===u.substr(0,8)){var C=u.substr(8).split(".")[0];if(s(C)&&(C=+C),C>=13)return!0}}return l}},{"fast-isnumeric":17,"is-mobile":51}],246:[function(v,pe,J){"use strict";pe.exports=function(s,g){if(g instanceof RegExp){for(var p=g.toString(),c=0;c<s.length;c++)if(s[c]instanceof RegExp&&s[c].toString()===p)return s;s.push(g)}else!g&&0!==g||-1!==s.indexOf(g)||s.push(g);return s}},{}],247:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("../plot_api/plot_config").dfltConfig,p={add:function(c,l,m,d,h){var u,C;c.undoQueue=c.undoQueue||{index:0,queue:[],sequence:!1},C=c.undoQueue.index,c.autoplay?c.undoQueue.inSequence||(c.autoplay=!1):(!c.undoQueue.sequence||c.undoQueue.beginSequence?(c.undoQueue.queue.splice(C,c.undoQueue.queue.length-C,u={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),c.undoQueue.index+=1):u=c.undoQueue.queue[C-1],c.undoQueue.beginSequence=!1,u&&(u.undo.calls.unshift(l),u.undo.args.unshift(m),u.redo.calls.push(d),u.redo.args.push(h)),c.undoQueue.queue.length>g.queueLength&&(c.undoQueue.queue.shift(),c.undoQueue.index--))},startSequence:function(c){c.undoQueue=c.undoQueue||{index:0,queue:[],sequence:!1},c.undoQueue.sequence=!0,c.undoQueue.beginSequence=!0},stopSequence:function(c){c.undoQueue=c.undoQueue||{index:0,queue:[],sequence:!1},c.undoQueue.sequence=!1,c.undoQueue.beginSequence=!1},undo:function(c){var l,m;if(!(void 0===c.undoQueue||isNaN(c.undoQueue.index)||c.undoQueue.index<=0)){for(c.undoQueue.index--,l=c.undoQueue.queue[c.undoQueue.index],c.undoQueue.inSequence=!0,m=0;m<l.undo.calls.length;m++)p.plotDo(c,l.undo.calls[m],l.undo.args[m]);c.undoQueue.inSequence=!1,c.autoplay=!1}},redo:function(c){var l,m;if(!(void 0===c.undoQueue||isNaN(c.undoQueue.index)||c.undoQueue.index>=c.undoQueue.queue.length)){for(l=c.undoQueue.queue[c.undoQueue.index],c.undoQueue.inSequence=!0,m=0;m<l.redo.calls.length;m++)p.plotDo(c,l.redo.calls[m],l.redo.args[m]);c.undoQueue.inSequence=!1,c.autoplay=!1,c.undoQueue.index++}},plotDo:function(c,l,m){c.autoplay=!0,m=function(d,h){for(var u,C=[],b=0;b<h.length;b++)C[b]=(u=h[b])===d?u:"object"==typeof u?Array.isArray(u)?s.extendDeep([],u):s.extendDeepAll({},u):u;return C}(c,m),l.apply(null,m)}};pe.exports=p},{"../lib":232,"../plot_api/plot_config":266}],248:[function(v,pe,J){"use strict";J.counter=function(s,g,p,c){var l=(g||"")+(p?"":"$"),m=!1===c?"":"^";return"xy"===s?new RegExp(m+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+l):new RegExp(m+s+"([2-9]|[1-9][0-9]+)?"+l)}},{}],249:[function(v,pe,J){"use strict";var s=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,g=/^[^\.\[\]]+$/;pe.exports=function(p,c){for(;c;){var l=p.match(s);if(l)p=l[1];else{if(!p.match(g))throw new Error("bad relativeAttr call:"+[p,c]);p=""}if("^"!==c.charAt(0))break;c=c.slice(1)}return p&&"["!==c.charAt(0)?p+"."+c:p+c}},{}],250:[function(v,pe,J){"use strict";var s=v("./array").isArrayOrTypedArray,g=v("./is_plain_object");pe.exports=function p(c,l){for(var m in l){var d=l[m],h=c[m];if(h!==d)if("_"===m.charAt(0)||"function"==typeof d){if(m in c)continue;c[m]=d}else if(s(d)&&s(h)&&g(d[0])){if("customdata"===m||"ids"===m)continue;for(var u=Math.min(d.length,h.length),C=0;C<u;C++)h[C]!==d[C]&&g(d[C])&&g(h[C])&&p(h[C],d[C])}else g(d)&&g(h)&&(p(h,d),Object.keys(h).length||delete c[m])}}},{"./array":218,"./is_plain_object":233}],251:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("./loggers"),p=v("./identity"),c=v("../constants/numerical").BADNUM;function l(u,C){return u<C}function m(u,C){return u<=C}function d(u,C){return u>C}function h(u,C){return u>=C}J.findBin=function(u,C,b){if(s(C.start))return b?Math.ceil((u-C.start)/C.size-1e-9)-1:Math.floor((u-C.start)/C.size+1e-9);var M,w,N=0,A=C.length,V=0,L=A>1?(C[A-1]-C[0])/(A-1):1;for(w=L>=0?b?l:m:b?h:d,u+=1e-9*L*(b?-1:1)*(L>=0?1:-1);N<A&&V++<100;)w(C[M=Math.floor((N+A)/2)],u)?N=M+1:A=M;return V>90&&g.log("Long binary search..."),N-1},J.sorterAsc=function(u,C){return u-C},J.sorterDes=function(u,C){return C-u},J.distinctVals=function(u){var C,b=u.slice();for(b.sort(J.sorterAsc),C=b.length-1;C>-1&&b[C]===c;C--);for(var M,w=b[C]-b[0]||1,N=w/(C||1)/1e4,A=[],V=0;V<=C;V++){var L=b[V],H=L-M;void 0===M?(A.push(L),M=L):H>N&&(w=Math.min(w,H),A.push(L),M=L)}return{vals:A,minDiff:w}},J.roundUp=function(u,C,b){for(var M,w=0,N=C.length-1,A=0,V=b?0:1,L=b?1:0,H=b?Math.ceil:Math.floor;w<N&&A++<100;)C[M=H((w+N)/2)]<=u?w=M+V:N=M-L;return C[w]},J.sort=function(u,C){for(var b=0,M=0,w=1;w<u.length;w++){var N=C(u[w],u[w-1]);if(N<0?b=1:N>0&&(M=1),b&&M)return u.sort(C)}return M?u:u.reverse()},J.findIndexOfMin=function(u,C){C=C||p;for(var b,M=1/0,w=0;w<u.length;w++){var N=C(u[w]);N<M&&(M=N,b=w)}return b}},{"../constants/numerical":212,"./identity":230,"./loggers":236,"fast-isnumeric":17}],252:[function(v,pe,J){"use strict";pe.exports=function(s,g){(s.attr("class")||"").split(" ").forEach(function(p){0===p.indexOf("cursor-")&&s.classed(p,!1)}),g&&s.classed("cursor-"+g,!0)}},{}],253:[function(v,pe,J){"use strict";pe.exports=function(s){return Object.keys(s).sort()}},{}],254:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("./array").isArrayOrTypedArray;J.aggNums=function(p,c,l,m){var d,h;if((!m||m>l.length)&&(m=l.length),s(c)||(c=!1),g(l[0])){for(h=new Array(m),d=0;d<m;d++)h[d]=J.aggNums(p,c,l[d]);l=h}for(d=0;d<m;d++)s(c)?s(l[d])&&(c=p(+c,+l[d])):c=l[d];return c},J.len=function(p){return J.aggNums(function(c){return c+1},0,p)},J.mean=function(p,c){return c||(c=J.len(p)),J.aggNums(function(l,m){return l+m},0,p)/c},J.midRange=function(p){if(void 0!==p&&0!==p.length)return(J.aggNums(Math.max,null,p)+J.aggNums(Math.min,null,p))/2},J.variance=function(p,c,l){return c||(c=J.len(p)),s(l)||(l=J.mean(p,c)),J.aggNums(function(m,d){return m+Math.pow(d-l,2)},0,p)/c},J.stdev=function(p,c,l){return Math.sqrt(J.variance(p,c,l))},J.median=function(p){var c=p.slice().sort();return J.interp(c,.5)},J.interp=function(p,c){if(!s(c))throw"n should be a finite number";if((c=c*p.length-.5)<0)return p[0];if(c>p.length-1)return p[p.length-1];var l=c%1;return l*p[Math.ceil(c)]+(1-l)*p[Math.floor(c)]}},{"./array":218,"fast-isnumeric":17}],255:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../lib"),p=g.strTranslate,c=v("../constants/xmlns_namespaces"),l=v("../constants/alignment").LINE_SPACING,m=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;J.convertToTspans=function(Z,ne,te){var oe=Z.text(),Ce=!Z.attr("data-notex")&&ne&&ne._context.typesetMath&&typeof MathJax<"u"&&oe.match(m),ie=s.select(Z.node().parentNode);if(!ie.empty()){var Q=Z.attr("class")?Z.attr("class").split(" ")[0]:"text";return ie.selectAll("svg."+(Q+="-math")).remove(),ie.selectAll("g."+Q+"-group").remove(),Z.style("display",null).attr({"data-unformatted":oe,"data-math":"N"}),Ce?(ne&&ne._promises||[]).push(new Promise(function(j){Z.style("display","none");var $=parseInt(Z.node().style.fontSize,10);!function(ee,F,O){var Y,B,ae,ue,fe=parseInt((MathJax.version||"").split(".")[0]);if(2===fe||3===fe){var he=function(){var be="math-output-"+g.randstr({},64),Ve=(ue=s.select("body").append("div").attr({id:be}).style({visibility:"hidden",position:"absolute","font-size":F.fontSize+"px"}).text(ee.replace(d,"\\lt ").replace(h,"\\gt "))).node();return 2===fe?MathJax.Hub.Typeset(Ve):MathJax.typeset([Ve])},xe=function(){var be=ue.select(2===fe?".MathJax_SVG":".MathJax"),Ve=!be.empty()&&ue.select("svg").node();if(Ve){var Ae,Oe=Ve.getBoundingClientRect();Ae=2===fe?s.select("body").select("#MathJax_SVG_glyphs"):be.select("defs"),O(be,Ae,Oe)}else g.log("There was an error in the tex syntax.",ee),O();ue.remove()};2===fe?MathJax.Hub.Queue(function(){return B=g.extendDeepAll({},MathJax.Hub.config),ae=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:u},displayAlign:"left"})},function(){if("SVG"!==(Y=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},he,xe,function(){if("SVG"!==Y)return MathJax.Hub.setRenderer(Y)},function(){return void 0!==ae&&(MathJax.Hub.processSectionDelay=ae),MathJax.Hub.Config(B)}):3===fe&&(B=g.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=u,"svg"!==(Y=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){he(),xe(),"svg"!==Y&&(MathJax.config.startup.output=Y),MathJax.config=B}))}else g.warn("No MathJax version:",MathJax.version)}(Ce[2],{fontSize:$},function(ee,F,O){ie.selectAll("svg."+Q).remove(),ie.selectAll("g."+Q+"-group").remove();var Y=ee&&ee.select("svg");if(!Y||!Y.node())return le(),void j();var B=ie.append("g").classed(Q+"-group",!0).attr({"pointer-events":"none","data-unformatted":oe,"data-math":"Y"});B.node().appendChild(Y.node()),F&&F.node()&&Y.node().insertBefore(F.node().cloneNode(!0),Y.node().firstChild);var ae=O.width,ue=O.height;Y.attr({class:Q,height:ue,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var fe=Z.node().style.fill||"black",he=Y.select("g");he.attr({fill:fe,stroke:fe});var xe=he.node().getBoundingClientRect(),be=xe.width,Ve=xe.height;(be>ae||Ve>ue)&&(Y.style("overflow","hidden"),be=(xe=Y.node().getBoundingClientRect()).width,Ve=xe.height);var Ae=+Z.attr("x"),Oe=+Z.attr("y"),Re=-($||Z.node().getBoundingClientRect().height)/4;if("y"===Q[0])B.attr({transform:"rotate("+[-90,Ae,Oe]+")"+p(-be/2,Re-Ve/2)});else if("l"===Q[0])Oe=Re-Ve/2;else if("a"===Q[0]&&0!==Q.indexOf("atitle"))Ae=0,Oe=Re;else{var tt=Z.attr("text-anchor");Ae-=be*("middle"===tt?.5:"end"===tt?1:0),Oe=Oe+Re-Ve/2}Y.attr({x:Ae,y:Oe}),te&&te.call(Z,B),j(B)})})):le(),Z}function le(){ie.empty()||(Q=Z.attr("class")+"-math",ie.select("svg."+Q).remove()),Z.text("").style("white-space","pre"),function(j,$){$=$.replace(N," ");var se,ee=!1,F=[],O=-1;function Y(){O++;var Me=document.createElementNS(c.svg,"tspan");s.select(Me).attr({class:"line",dy:O*l+"em"}),j.appendChild(Me),se=Me;var ve=F;if(F=[{node:Me}],ve.length>1)for(var Se=1;Se<ve.length;Se++)B(ve[Se])}function B(Me){var ve,Se=Me.type,Te={};if("a"===Se){ve="a";var qe=Me.target,Ee=Me.href,Ie=Me.popup;Ee&&(Te={"xlink:xlink:show":"_blank"===qe||"_"!==qe.charAt(0)?"new":"replace",target:qe,"xlink:xlink:href":Ee},Ie&&(Te.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ie+'");return false;'))}else ve="tspan";Me.style&&(Te.style=Me.style);var Qe=document.createElementNS(c.svg,ve);if("sup"===Se||"sub"===Se){ae(se,"\u200b"),se.appendChild(Qe);var nt=document.createElementNS(c.svg,"tspan");ae(nt,"\u200b"),s.select(nt).attr("dy",M[Se]),Te.dy=b[Se],se.appendChild(Qe),se.appendChild(nt)}else se.appendChild(Qe);s.select(Qe).attr(Te),se=Me.node=Qe,F.push(Me)}function ae(Me,ve){Me.appendChild(document.createTextNode(ve))}function ue(Me){if(1!==F.length){var ve=F.pop();Me!==ve.type&&g.log("Start tag <"+ve.type+"> doesnt match end tag <"+Me+">. Pretending it did match.",$),se=F[F.length-1].node}else g.log("Ignoring unexpected end tag </"+Me+">.",$)}L.test($)?Y():(se=j,F=[{node:j}]);for(var fe=$.split(A),he=0;he<fe.length;he++){var xe=fe[he],be=xe.match(V),Ve=be&&be[2].toLowerCase(),Ae=C[Ve];if("br"===Ve)Y();else if(void 0===Ae)ae(se,z(xe));else if(be[1])ue(Ve);else{var Oe=be[4],Re={type:Ve},tt=P(Oe,H);if(tt?(tt=tt.replace(S,"$1 fill:"),Ae&&(tt+=";"+Ae)):Ae&&(tt=Ae),tt&&(Re.style=tt),"a"===Ve){ee=!0;var Ke=P(Oe,I);if(Ke){var $e=X(Ke);$e&&(Re.href=$e,Re.target=P(Oe,D)||"_blank",Re.popup=P(Oe,E))}}B(Re)}}return ee}(Z.node(),oe)&&Z.style("pointer-events","all"),J.positionText(Z),te&&te.call(Z)}};var d=/(<|&lt;|&#60;)/g,h=/(>|&gt;|&#62;)/g,u=[["$","$"],["\\(","\\)"]],C={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},b={sub:"0.3em",sup:"-0.6em"},M={sub:"-0.21em",sup:"0.42em"},w=["http:","https:","mailto:","",void 0,":"],N=J.NEWLINES=/(\r\n?|\n)/g,A=/(<[^<>]*>)/,V=/<(\/?)([^ >]*)(\s+(.*))?>/i,L=/<br(\s+.*)?>/i;J.BR_TAG_ALL=/<br(\s+.*)?>/gi;var H=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,I=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,D=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,E=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function P(Z,ne){if(!Z)return null;var te=Z.match(ne),oe=te&&(te[3]||te[4]);return oe&&z(oe)}var S=/(^|;)\s*color:/;J.plainText=function(Z,ne){for(var te=void 0!==(ne=ne||{}).len&&-1!==ne.len?ne.len:1/0,oe=void 0!==ne.allowedTags?ne.allowedTags:["br"],ie=Z.split(A),Q=[],le="",j=0,$=0;$<ie.length;$++){var se=ie[$],ee=se.match(V),F=ee&&ee[2].toLowerCase();if(F)-1!==oe.indexOf(F)&&(Q.push(se),le=F);else{var O=se.length;if(j+O<te)Q.push(se),j+=O;else if(j<te){var Y=te-j;le&&("br"!==le||Y<=3||O<=3)&&Q.pop(),Q.push(te>3?se.substr(0,Y-3)+"...":se.substr(0,Y));break}le=""}}return Q.join("")};var R={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},G=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function z(Z){return Z.replace(G,function(ne,te){return("#"===te.charAt(0)?function(oe){if(!(oe>1114111)){var Ce=String.fromCodePoint;if(Ce)return Ce(oe);var ie=String.fromCharCode;return oe<=65535?ie(oe):ie(55232+(oe>>10),oe%1024+56320)}}("x"===te.charAt(1)?parseInt(te.substr(2),16):parseInt(te.substr(1),10)):R[te])||ne})}function X(Z){var ne=encodeURI(decodeURI(Z)),te=document.createElement("a"),oe=document.createElement("a");te.href=Z,oe.href=ne;var ie=oe.protocol;return-1!==w.indexOf(te.protocol)&&-1!==w.indexOf(ie)?ne:""}function W(Z,ne,te){var oe,Ce,ie,Q=te.horizontalAlign,le=te.verticalAlign||"top",j=Z.node().getBoundingClientRect(),$=ne.node().getBoundingClientRect();return Ce="bottom"===le?function(){return j.bottom-oe.height}:"middle"===le?function(){return j.top+(j.height-oe.height)/2}:function(){return j.top},ie="right"===Q?function(){return j.right-oe.width}:"center"===Q?function(){return j.left+(j.width-oe.width)/2}:function(){return j.left},function(){oe=this.node().getBoundingClientRect();var se=ie()-$.left,ee=Ce()-$.top,F=te.gd||{};if(te.gd){F._fullLayout._calcInverseTransform(F);var O=g.apply3DTransform(F._fullLayout._invTransform)(se,ee);se=O[0],ee=O[1]}return this.style({top:ee+"px",left:se+"px","z-index":1e3}),this}}J.convertEntities=z,J.sanitizeHTML=function(Z){Z=Z.replace(N," ");for(var ne=document.createElement("p"),te=ne,oe=[],Ce=Z.split(A),ie=0;ie<Ce.length;ie++){var Q=Ce[ie],le=Q.match(V),j=le&&le[2].toLowerCase();if(j in C)if(le[1])oe.length&&(te=oe.pop());else{var $=le[4],se=P($,H),ee=se?{style:se}:{};if("a"===j){var F=P($,I);if(F){var O=X(F);if(O){ee.href=O;var Y=P($,D);Y&&(ee.target=Y)}}}var B=document.createElement(j);te.appendChild(B),s.select(B).attr(ee),te=B,oe.push(B)}else te.appendChild(document.createTextNode(z(Q)))}return ne.innerHTML},J.lineCount=function(Z){return Z.selectAll("tspan.line").size()||1},J.positionText=function(Z,ne,te){return Z.each(function(){var oe=s.select(this);function Ce(le,j){return void 0===j?null===(j=oe.attr(le))&&(oe.attr(le,0),j=0):oe.attr(le,j),j}var ie=Ce("x",ne),Q=Ce("y",te);"text"===this.nodeName&&oe.selectAll("tspan.line").attr({x:ie,y:Q})})},J.makeTextShadow=function(Z){var ne="1px ",te="1px ",oe="1px ";return ne+te+oe+Z+", -"+ne+"-"+te+oe+Z+", "+ne+"-"+te+oe+Z+", -"+ne+te+oe+Z},J.makeEditable=function(Z,ne){var te=ne.gd,oe=ne.delegate,Ce=s.dispatch("edit","input","cancel"),ie=oe||Z;if(Z.style({"pointer-events":oe?"none":"all"}),1!==Z.size())throw new Error("boo");function Q(){var se,ee,F,O,Y;se=s.select(te).select(".svg-container"),ee=se.append("div"),F=Z.node().style,O=parseFloat(F.fontSize||12),void 0===(Y=ne.text)&&(Y=Z.attr("data-unformatted")),ee.classed("plugin-editable editable",!0).style({position:"absolute","font-family":F.fontFamily||"Arial","font-size":O,color:ne.fill||F.fill||"black",opacity:1,"background-color":ne.background||"transparent",outline:"#ffffff33 1px solid",margin:[-O/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(Y).call(W(Z,se,ne)).on("blur",function(){te._editing=!1,Z.text(this.textContent).style({opacity:1});var B,ae=s.select(this).attr("class");(B=ae?"."+ae.split(" ")[0]+"-math-group":"[class*=-math-group]")&&s.select(Z.node().parentNode).select(B).style({opacity:0});var ue=this.textContent;s.select(this).transition().duration(0).remove(),s.select(document).on("mouseup",null),Ce.edit.call(Z,ue)}).on("focus",function(){var B=this;te._editing=!0,s.select(document).on("mouseup",function(){if(s.event.target===B)return!1;document.activeElement===ee.node()&&ee.node().blur()})}).on("keyup",function(){27===s.event.which?(te._editing=!1,Z.style({opacity:1}),s.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),Ce.cancel.call(Z,this.textContent)):(Ce.input.call(Z,this.textContent),s.select(this).call(W(Z,se,ne)))}).on("keydown",function(){13===s.event.which&&this.blur()}).call(le),Z.style({opacity:0});var j,$=ie.attr("class");(j=$?"."+$.split(" ")[0]+"-math-group":"[class*=-math-group]")&&s.select(Z.node().parentNode).select(j).style({opacity:0})}function le(j){var $=j.node(),se=document.createRange();se.selectNodeContents($);var ee=window.getSelection();ee.removeAllRanges(),ee.addRange(se),$.focus()}return ne.immediate?Q():ie.on("click",Q),s.rebind(Z,Ce,"on")}},{"../constants/alignment":207,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],256:[function(v,pe,J){"use strict";var s={};function g(p){p&&null!==p.timer&&(clearTimeout(p.timer),p.timer=null)}J.throttle=function(p,c,l){var m=s[p],d=Date.now();if(!m){for(var h in s)s[h].ts<d-6e4&&delete s[h];m=s[p]={ts:0,timer:null}}function u(){l(),m.ts=Date.now(),m.onDone&&(m.onDone(),m.onDone=null)}g(m),d>m.ts+c?u():m.timer=setTimeout(function(){u(),m.timer=null},c)},J.done=function(p){var c=s[p];return c&&c.timer?new Promise(function(l){var m=c.onDone;c.onDone=function(){m&&m(),l(),c.onDone=null}}):Promise.resolve()},J.clear=function(p){if(p)g(s[p]),delete s[p];else for(var c in s)J.clear(c)}},{}],257:[function(v,pe,J){"use strict";var s=v("fast-isnumeric");pe.exports=function(g,p){if(g>0)return Math.log(g)/Math.LN10;var c=Math.log(Math.min(p[0],p[1]))/Math.LN10;return s(c)||(c=Math.log(Math.max(p[0],p[1]))/Math.LN10-6),c}},{"fast-isnumeric":17}],258:[function(v,pe,J){"use strict";pe.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],259:[function(v,pe,J){"use strict";pe.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],260:[function(v,pe,J){"use strict";var s=v("../registry");pe.exports=function(g){for(var p,c,l=s.layoutArrayContainers,m=s.layoutArrayRegexes,d=g.split("[")[0],h=0;h<m.length;h++)if((c=g.match(m[h]))&&0===c.index){p=c[0];break}if(p||(p=l[l.indexOf(d)]),!p)return!1;var u=g.substr(p.length);return u?!!(c=u.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:p,index:Number(c[1]),property:c[3]||""}:{array:p,index:"",property:""}}},{"../registry":318}],261:[function(v,pe,J){"use strict";var s=v("../lib"),g=s.extendFlat,p=s.isPlainObject,c={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},l={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},m=c.flags.slice().concat(["fullReplot"]),d=l.flags.slice().concat("layoutReplot");function h(b){for(var M={},w=0;w<b.length;w++)M[b[w]]=!1;return M}function u(b,M,w){var N=g({},b);for(var A in N){var V=N[A];p(V)&&(N[A]=C(V,M,0,A))}return"from-root"===w&&(N.editType=M),N}function C(b,M,w,N){if(b.valType){var A=g({},b);if(A.editType=M,Array.isArray(b.items)){A.items=new Array(b.items.length);for(var V=0;V<b.items.length;V++)A.items[V]=C(b.items[V],M)}return A}return u(b,M,"_"===N.charAt(0)?"nested":"from-root")}pe.exports={traces:c,layout:l,traceFlags:function(){return h(m)},layoutFlags:function(){return h(d)},update:function(b,M){var w=M.editType;if(w&&"none"!==w)for(var N=w.split("+"),A=0;A<N.length;A++)b[N[A]]=!0},overrideAll:u}},{"../lib":232}],262:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("gl-mat4/fromQuat"),p=v("../registry"),c=v("../lib"),l=v("../plots/plots"),m=v("../plots/cartesian/axis_ids"),d=v("../components/color"),h=m.cleanId,u=m.getFromTrace,C=p.traceIs;function b(D,E){var P=D[E],S=E.charAt(0);P&&"paper"!==P&&(D[E]=h(P,S,!0))}function M(D){function E(P,S){D[P]&&(!D.title||!D.title[S])&&(D.title||(D.title={}),D.title[S]=D[P],delete D[P])}D&&("string"!=typeof D.title&&"number"!=typeof D.title||(D.title={text:D.title}),E("titlefont","font"),E("titleposition","position"),E("titleside","side"),E("titleoffset","offset"))}function w(D){if(!c.isPlainObject(D))return!1;var E=D.name;return delete D.name,delete D.showlegend,("string"==typeof E||"number"==typeof E)&&String(E)}function N(D,E,P,S){if(P&&!S)return D;if(S&&!P||!D.trim())return E;if(!E.trim())return D;var R,G=Math.min(D.length,E.length);for(R=0;R<G&&D.charAt(R)===E.charAt(R);R++);return D.substr(0,R).trim()}function A(D){var E="middle",P="center";return"string"==typeof D&&(-1!==D.indexOf("top")?E="top":-1!==D.indexOf("bottom")&&(E="bottom"),-1!==D.indexOf("left")?P="left":-1!==D.indexOf("right")&&(P="right")),E+" "+P}function V(D,E){return E in D&&"object"==typeof D[E]&&0===Object.keys(D[E]).length}J.clearPromiseQueue=function(D){Array.isArray(D._promises)&&D._promises.length>0&&c.log("Clearing previous rejected promises from queue."),D._promises=[]},J.cleanLayout=function(D){var E,P;D||(D={}),D.xaxis1&&(D.xaxis||(D.xaxis=D.xaxis1),delete D.xaxis1),D.yaxis1&&(D.yaxis||(D.yaxis=D.yaxis1),delete D.yaxis1),D.scene1&&(D.scene||(D.scene=D.scene1),delete D.scene1);var S=(l.subplotsRegistry.cartesian||{}).attrRegex,R=(l.subplotsRegistry.polar||{}).attrRegex,G=(l.subplotsRegistry.ternary||{}).attrRegex,z=(l.subplotsRegistry.gl3d||{}).attrRegex,X=Object.keys(D);for(E=0;E<X.length;E++){var W=X[E];if(S&&S.test(W)){var Z=D[W];Z.anchor&&"free"!==Z.anchor&&(Z.anchor=h(Z.anchor)),Z.overlaying&&(Z.overlaying=h(Z.overlaying)),Z.type||(Z.isdate?Z.type="date":Z.islog?Z.type="log":!1===Z.isdate&&!1===Z.islog&&(Z.type="linear")),"withzero"!==Z.autorange&&"tozero"!==Z.autorange||(Z.autorange=!0,Z.rangemode="tozero"),delete Z.islog,delete Z.isdate,delete Z.categories,V(Z,"domain")&&delete Z.domain,void 0!==Z.autotick&&(void 0===Z.tickmode&&(Z.tickmode=Z.autotick?"auto":"linear"),delete Z.autotick),M(Z)}else if(R&&R.test(W))M(D[W].radialaxis);else if(G&&G.test(W)){var ne=D[W];M(ne.aaxis),M(ne.baxis),M(ne.caxis)}else if(z&&z.test(W)){var te=D[W],oe=te.cameraposition;if(Array.isArray(oe)&&4===oe[0].length){var ie=oe[1],Q=oe[2],le=g([],oe[0]),j=[];for(P=0;P<3;++P)j[P]=ie[P]+Q*le[2+4*P];te.camera={eye:{x:j[0],y:j[1],z:j[2]},center:{x:ie[0],y:ie[1],z:ie[2]},up:{x:0,y:0,z:1}},delete te.cameraposition}M(te.xaxis),M(te.yaxis),M(te.zaxis)}}var $=Array.isArray(D.annotations)?D.annotations.length:0;for(E=0;E<$;E++){var se=D.annotations[E];c.isPlainObject(se)&&(se.ref&&("paper"===se.ref?(se.xref="paper",se.yref="paper"):"data"===se.ref&&(se.xref="x",se.yref="y"),delete se.ref),b(se,"xref"),b(se,"yref"))}var ee=Array.isArray(D.shapes)?D.shapes.length:0;for(E=0;E<ee;E++){var F=D.shapes[E];c.isPlainObject(F)&&(b(F,"xref"),b(F,"yref"))}var O=Array.isArray(D.images)?D.images.length:0;for(E=0;E<O;E++){var Y=D.images[E];c.isPlainObject(Y)&&(b(Y,"xref"),b(Y,"yref"))}var B=D.legend;return B&&(B.x>3?(B.x=1.02,B.xanchor="left"):B.x<-2&&(B.x=-.02,B.xanchor="right"),B.y>3?(B.y=1.02,B.yanchor="bottom"):B.y<-2&&(B.y=-.02,B.yanchor="top")),M(D),"rotate"===D.dragmode&&(D.dragmode="orbit"),d.clean(D),D.template&&D.template.layout&&J.cleanLayout(D.template.layout),D},J.cleanData=function(D){for(var E=0;E<D.length;E++){var P,S=D[E];if("histogramy"===S.type&&"xbins"in S&&!("ybins"in S)&&(S.ybins=S.xbins,delete S.xbins),S.error_y&&"opacity"in S.error_y){var R=d.defaults,G=S.error_y.color||(C(S,"bar")?d.defaultLine:R[E%R.length]);S.error_y.color=d.addOpacity(d.rgb(G),d.opacity(G)*S.error_y.opacity),delete S.error_y.opacity}if("bardir"in S&&("h"!==S.bardir||!C(S,"bar")&&"histogram"!==S.type.substr(0,9)||(S.orientation="h",J.swapXYData(S)),delete S.bardir),"histogramy"===S.type&&J.swapXYData(S),"histogramx"!==S.type&&"histogramy"!==S.type||(S.type="histogram"),"scl"in S&&!("colorscale"in S)&&(S.colorscale=S.scl,delete S.scl),"reversescl"in S&&!("reversescale"in S)&&(S.reversescale=S.reversescl,delete S.reversescl),S.xaxis&&(S.xaxis=h(S.xaxis,"x")),S.yaxis&&(S.yaxis=h(S.yaxis,"y")),C(S,"gl3d")&&S.scene&&(S.scene=l.subplotsRegistry.gl3d.cleanId(S.scene)),!C(S,"pie-like")&&!C(S,"bar-like"))if(Array.isArray(S.textposition))for(P=0;P<S.textposition.length;P++)S.textposition[P]=A(S.textposition[P]);else S.textposition&&(S.textposition=A(S.textposition));var z=p.getModule(S);if(z&&z.colorbar){var X=z.colorbar.container,W=X?S[X]:S;W&&W.colorscale&&("YIGnBu"===W.colorscale&&(W.colorscale="YlGnBu"),"YIOrRd"===W.colorscale&&(W.colorscale="YlOrRd"))}if("surface"===S.type&&c.isPlainObject(S.contours)){var Z=["x","y","z"];for(P=0;P<Z.length;P++){var ne=S.contours[Z[P]];c.isPlainObject(ne)&&(ne.highlightColor&&(ne.highlightcolor=ne.highlightColor,delete ne.highlightColor),ne.highlightWidth&&(ne.highlightwidth=ne.highlightWidth,delete ne.highlightWidth))}}if("candlestick"===S.type||"ohlc"===S.type){var te=!1!==(S.increasing||{}).showlegend,oe=!1!==(S.decreasing||{}).showlegend,Ce=w(S.increasing),ie=w(S.decreasing);if(!1!==Ce&&!1!==ie){var Q=N(Ce,ie,te,oe);Q&&(S.name=Q)}else!Ce&&!ie||S.name||(S.name=Ce||ie)}if(Array.isArray(S.transforms)){var le=S.transforms;for(P=0;P<le.length;P++){var j=le[P];if(c.isPlainObject(j))switch(j.type){case"filter":j.filtersrc&&(j.target=j.filtersrc,delete j.filtersrc),j.calendar&&(j.valuecalendar||(j.valuecalendar=j.calendar),delete j.calendar);break;case"groupby":if(j.styles=j.styles||j.style,j.styles&&!Array.isArray(j.styles)){var $=j.styles,se=Object.keys($);j.styles=[];for(var ee=0;ee<se.length;ee++)j.styles.push({target:se[ee],value:$[se[ee]]})}}}}V(S,"line")&&delete S.line,"marker"in S&&(V(S.marker,"line")&&delete S.marker.line,V(S,"marker")&&delete S.marker),d.clean(S),S.autobinx&&(delete S.autobinx,delete S.xbins),S.autobiny&&(delete S.autobiny,delete S.ybins),M(S),S.colorbar&&M(S.colorbar),S.marker&&S.marker.colorbar&&M(S.marker.colorbar),S.line&&S.line.colorbar&&M(S.line.colorbar),S.aaxis&&M(S.aaxis),S.baxis&&M(S.baxis)}},J.swapXYData=function(D){var E;if(c.swapAttrs(D,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(D.z)&&Array.isArray(D.z[0])&&(D.transpose?delete D.transpose:D.transpose=!0),D.error_x&&D.error_y){var P=D.error_y,S="copy_ystyle"in P?P.copy_ystyle:!(P.color||P.thickness||P.width);c.swapAttrs(D,["error_?.copy_ystyle"]),S&&c.swapAttrs(D,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof D.hoverinfo){var R=D.hoverinfo.split("+");for(E=0;E<R.length;E++)"x"===R[E]?R[E]="y":"y"===R[E]&&(R[E]="x");D.hoverinfo=R.join("+")}},J.coerceTraceIndices=function(D,E){if(s(E))return[E];if(!Array.isArray(E)||!E.length)return D.data.map(function(R,G){return G});if(Array.isArray(E)){for(var P=[],S=0;S<E.length;S++)c.isIndex(E[S],D.data.length)?P.push(E[S]):c.warn("trace index (",E[S],") is not a number or is out of bounds");return P}return E},J.manageArrayContainers=function(D,E,P){var S=D.obj,R=D.parts,G=R.length,z=R[G-1],X=s(z);if(X&&null===E){var W=R.slice(0,G-1).join(".");c.nestedProperty(S,W).get().splice(z,1)}else X&&void 0===D.get()&&void 0===D.get()&&(P[D.astr]=null),D.set(E)};var L=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function H(D){var E=D.search(L);if(E>0)return D.substr(0,E)}J.hasParent=function(D,E){for(var P=H(E);P;){if(P in D)return!0;P=H(P)}return!1};var I=["x","y","z"];J.clearAxisTypes=function(D,E,P){for(var S=0;S<E.length;S++)for(var R=D._fullData[S],G=0;G<3;G++){var z=u(D,R,I[G]);if(z&&"log"!==z.type){var X=z._name,W=z._id.substr(1);if("scene"===W.substr(0,5)){if(void 0!==P[W])continue;X=W+"."+X}var Z=X+".type";void 0===P[X]&&void 0===P[Z]&&c.nestedProperty(D.layout,Z).set(null)}}}},{"../components/color":102,"../lib":232,"../plots/cartesian/axis_ids":283,"../plots/plots":316,"../registry":318,"fast-isnumeric":17,"gl-mat4/fromQuat":23}],263:[function(v,pe,J){"use strict";var s=v("./plot_api");J._doPlot=s._doPlot,J.newPlot=s.newPlot,J.restyle=s.restyle,J.relayout=s.relayout,J.redraw=s.redraw,J.update=s.update,J._guiRestyle=s._guiRestyle,J._guiRelayout=s._guiRelayout,J._guiUpdate=s._guiUpdate,J._storeDirectGUIEdit=s._storeDirectGUIEdit,J.react=s.react,J.extendTraces=s.extendTraces,J.prependTraces=s.prependTraces,J.addTraces=s.addTraces,J.deleteTraces=s.deleteTraces,J.moveTraces=s.moveTraces,J.purge=s.purge,J.addFrames=s.addFrames,J.deleteFrames=s.deleteFrames,J.animate=s.animate,J.setPlotConfig=s.setPlotConfig,J.toImage=v("./to_image"),J.validate=v("./validate"),J.downloadImage=v("../snapshot/download");var g=v("./template_api");J.makeTemplate=g.makeTemplate,J.validateTemplate=g.validateTemplate},{"../snapshot/download":320,"./plot_api":265,"./template_api":270,"./to_image":271,"./validate":272}],264:[function(v,pe,J){"use strict";var s=v("../lib/is_plain_object"),g=v("../lib/noop"),p=v("../lib/loggers"),c=v("../lib/search").sorterAsc,l=v("../registry");J.containerArrayMatch=v("./container_array_match");var m=J.isAddVal=function(h){return"add"===h||s(h)},d=J.isRemoveVal=function(h){return null===h||"remove"===h};J.applyContainerArrayChanges=function(h,u,C,b,M){var w=u.astr,N=l.getComponentMethod(w,"supplyLayoutDefaults"),A=l.getComponentMethod(w,"draw"),V=l.getComponentMethod(w,"drawOne"),L=b.replot||b.recalc||N===g||A===g,H=h.layout,I=h._fullLayout;if(C[""]){Object.keys(C).length>1&&p.warn("Full array edits are incompatible with other edits",w);var D=C[""][""];if(d(D))u.set(null);else{if(!Array.isArray(D))return p.warn("Unrecognized full array edit value",w,D),!0;u.set(D)}return!L&&(N(H,I),A(h),!0)}var E,P,S,R,G,z,X,Z=Object.keys(C).map(Number).sort(c),ne=u.get(),te=ne||[],oe=M(I,w).get(),Ce=[],ie=-1,Q=te.length;for(E=0;E<Z.length;E++)if(R=C[S=Z[E]],G=Object.keys(R),X=m(z=R[""]),S<0||S>te.length-(X?0:1))p.warn("index out of range",w,S);else if(void 0!==z)G.length>1&&p.warn("Insertion & removal are incompatible with edits to the same index.",w,S),d(z)?Ce.push(S):X?("add"===z&&(z={}),te.splice(S,0,z),oe&&oe.splice(S,0,{})):p.warn("Unrecognized full object edit value",w,S,z),-1===ie&&(ie=S);else for(P=0;P<G.length;P++)M(te[S],G[P],w+"["+S+"].").set(R[G[P]]);for(E=Ce.length-1;E>=0;E--)te.splice(Ce[E],1),oe&&oe.splice(Ce[E],1);if(te.length?ne||u.set(te):u.set(null),L)return!1;if(N(H,I),V!==g){var le;if(-1===ie)le=Z;else{for(Q=Math.max(te.length,Q),le=[],E=0;E<Z.length&&!((S=Z[E])>=ie);E++)le.push(S);for(E=ie;E<Q;E++)le.push(E)}for(E=0;E<le.length;E++)V(h,le[E])}else A(h);return!0}},{"../lib/is_plain_object":233,"../lib/loggers":236,"../lib/noop":241,"../lib/search":251,"../registry":318,"./container_array_match":260}],265:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("fast-isnumeric"),p=v("has-hover"),c=v("../lib"),l=c.nestedProperty,m=v("../lib/events"),d=v("../lib/queue"),h=v("../registry"),u=v("./plot_schema"),C=v("../plots/plots"),b=v("../plots/cartesian/axes"),M=v("../components/drawing"),w=v("../components/color"),N=v("../plots/cartesian/graph_interact").initInteractions,A=v("../constants/xmlns_namespaces"),V=v("../plots/cartesian/select").clearSelect,L=v("./plot_config").dfltConfig,H=v("./manage_arrays"),I=v("./helpers"),D=v("./subroutines"),E=v("./edit_types"),P=v("../plots/cartesian/constants").AX_NAME_PATTERN,S=0;function R(Me){var ve=Me._fullLayout;ve._redrawFromAutoMarginCount?ve._redrawFromAutoMarginCount--:Me.emit("plotly_afterplot")}function G(Me,ve){try{Me._fullLayout._paper.style("background",ve)}catch(Se){c.error(Se)}}function z(Me,ve){G(Me,w.combine(ve,"white"))}function X(Me,ve){if(!Me._context){Me._context=c.extendDeep({},L);var Se=s.select("base");Me._context._baseUrl=Se.size()&&Se.attr("href")?window.location.href.split("#")[0]:""}var Te,qe,Ee,Ie=Me._context;if(ve){for(qe=Object.keys(ve),Te=0;Te<qe.length;Te++)"editable"!==(Ee=qe[Te])&&"edits"!==Ee&&Ee in Ie&&(Ie[Ee]="setBackground"===Ee&&"opaque"===ve[Ee]?z:ve[Ee]);ve.plot3dPixelRatio&&!Ie.plotGlPixelRatio&&(Ie.plotGlPixelRatio=Ie.plot3dPixelRatio);var Qe=ve.editable;if(void 0!==Qe)for(Ie.editable=Qe,qe=Object.keys(Ie.edits),Te=0;Te<qe.length;Te++)Ie.edits[qe[Te]]=Qe;if(ve.edits)for(qe=Object.keys(ve.edits),Te=0;Te<qe.length;Te++)(Ee=qe[Te])in Ie.edits&&(Ie.edits[Ee]=ve.edits[Ee]);Ie._exportedPlot=ve._exportedPlot}Ie.staticPlot&&(Ie.editable=!1,Ie.edits={},Ie.autosizable=!1,Ie.scrollZoom=!1,Ie.doubleClick=!1,Ie.showTips=!1,Ie.showLink=!1,Ie.displayModeBar=!1),"hover"!==Ie.displayModeBar||p||(Ie.displayModeBar=!0),"transparent"!==Ie.setBackground&&"function"==typeof Ie.setBackground||(Ie.setBackground=G),Ie._hasZeroHeight=Ie._hasZeroHeight||0===Me.clientHeight,Ie._hasZeroWidth=Ie._hasZeroWidth||0===Me.clientWidth;var nt=Ie.scrollZoom,Ye=Ie._scrollZoom={};if(!0===nt)Ye.cartesian=1,Ye.gl3d=1,Ye.geo=1,Ye.mapbox=1;else if("string"==typeof nt){var rt=nt.split("+");for(Te=0;Te<rt.length;Te++)Ye[rt[Te]]=1}else!1!==nt&&(Ye.gl3d=1,Ye.geo=1,Ye.mapbox=1)}function W(Me,ve){var Se,Te,qe=ve+1,Ee=[];for(Se=0;Se<Me.length;Se++)(Te=Me[Se])<0?Ee.push(qe+Te):Ee.push(Te);return Ee}function Z(Me,ve,Se){var Te,qe;for(Te=0;Te<ve.length;Te++){if((qe=ve[Te])!==parseInt(qe,10))throw new Error("all values in "+Se+" must be integers");if(qe>=Me.data.length||qe<-Me.data.length)throw new Error(Se+" must be valid indices for gd.data.");if(ve.indexOf(qe,Te+1)>-1||qe>=0&&ve.indexOf(-Me.data.length+qe)>-1||qe<0&&ve.indexOf(Me.data.length+qe)>-1)throw new Error("each index in "+Se+" must be unique.")}}function ne(Me,ve,Se){if(!Array.isArray(Me.data))throw new Error("gd.data must be an array.");if(void 0===ve)throw new Error("currentIndices is a required argument.");if(Array.isArray(ve)||(ve=[ve]),Z(Me,ve,"currentIndices"),void 0===Se||Array.isArray(Se)||(Se=[Se]),void 0!==Se&&Z(Me,Se,"newIndices"),void 0!==Se&&ve.length!==Se.length)throw new Error("current and new indices must be of equal length.")}function te(Me,ve,Se,Te,qe){!function(Xe,mt,_t,yt){var Ot=c.isPlainObject(yt);if(!Array.isArray(Xe.data))throw new Error("gd.data must be an array");if(!c.isPlainObject(mt))throw new Error("update must be a key:value object");if(void 0===_t)throw new Error("indices must be an integer or array of integers");for(var bt in Z(Xe,_t,"indices"),mt){if(!Array.isArray(mt[bt])||mt[bt].length!==_t.length)throw new Error("attribute "+bt+" must be an array of length equal to indices array length");if(Ot&&(!(bt in yt)||!Array.isArray(yt[bt])||yt[bt].length!==mt[bt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(Me,ve,Se,Te);for(var Ee=function(Xe,mt,_t,yt){var bt,Fe,Ue,gt,Pt=c.isPlainObject(yt),Qt=[];for(var en in Array.isArray(_t)||(_t=[_t]),_t=W(_t,Xe.data.length-1),mt)for(var Xt=0;Xt<_t.length;Xt++){if(bt=(Fe=l(Xe.data[_t[Xt]],en)).get(),!c.isArrayOrTypedArray(Ue=mt[en][Xt]))throw new Error("attribute: "+en+" index: "+Xt+" must be an array");if(!c.isArrayOrTypedArray(bt))throw new Error("cannot extend missing or non-array attribute: "+en);if(bt.constructor!==Ue.constructor)throw new Error("cannot extend array with an array of a different type: "+en);g(gt=Pt?yt[en][Xt]:yt)||(gt=-1),Qt.push({prop:Fe,target:bt,insert:Ue,maxp:Math.floor(gt)})}return Qt}(Me,ve,Se,Te),Ie={},Qe={},nt=0;nt<Ee.length;nt++){var Ye=Ee[nt].prop,dt=qe(Ee[nt].target,Ee[nt].insert,Ee[nt].maxp);Ye.set(dt[0]),Array.isArray(Ie[Ye.astr])||(Ie[Ye.astr]=[]),Ie[Ye.astr].push(dt[1]),Array.isArray(Qe[Ye.astr])||(Qe[Ye.astr]=[]),Qe[Ye.astr].push(Ee[nt].target.length)}return{update:Ie,maxPoints:Qe}}function oe(Me,ve){var Se=new Me.constructor(Me.length+ve.length);return Se.set(Me),Se.set(ve,Me.length),Se}function Ce(Me,ve,Se,Te){Me=c.getGraphDiv(Me),I.clearPromiseQueue(Me);var qe={};if("string"==typeof ve)qe[ve]=Se;else{if(!c.isPlainObject(ve))return c.warn("Restyle fail.",ve,Se,Te),Promise.reject();qe=c.extendFlat({},ve),void 0===Te&&(Te=Se)}Object.keys(qe).length&&(Me.changed=!0);var Ee=I.coerceTraceIndices(Me,Te),Ie=j(Me,qe,Ee),Qe=Ie.flags;Qe.calc&&(Me.calcdata=void 0),Qe.clearAxisTypes&&I.clearAxisTypes(Me,Ee,{});var nt=[];Qe.fullReplot?nt.push(J._doPlot):(nt.push(C.previousPromises),C.supplyDefaults(Me),Qe.markerSize&&(C.doCalcdata(Me),F(nt)),Qe.style&&nt.push(D.doTraceStyle),Qe.colorbars&&nt.push(D.doColorBars),nt.push(R)),nt.push(C.rehover,C.redrag),d.add(Me,Ce,[Me,Ie.undoit,Ie.traces],Ce,[Me,Ie.redoit,Ie.traces]);var Ye=c.syncOrAsync(nt,Me);return Ye&&Ye.then||(Ye=Promise.resolve()),Ye.then(function(){return Me.emit("plotly_restyle",Ie.eventData),Me})}function ie(Me){return void 0===Me?null:Me}function Q(Me,ve){return ve?function(Se,Te,qe){var Ee=l(Se,Te),Ie=Ee.set;return Ee.set=function(Qe){le((qe||"")+Te,Ee.get(),Qe,Me),Ie(Qe)},Ee}:l}function le(Me,ve,Se,Te){if(Array.isArray(ve)||Array.isArray(Se))for(var qe=Array.isArray(ve)?ve:[],Ee=Array.isArray(Se)?Se:[],Ie=Math.max(qe.length,Ee.length),Qe=0;Qe<Ie;Qe++)le(Me+"["+Qe+"]",qe[Qe],Ee[Qe],Te);else if(c.isPlainObject(ve)||c.isPlainObject(Se)){var nt=c.isPlainObject(ve)?ve:{},Ye=c.isPlainObject(Se)?Se:{},rt=c.extendFlat({},nt,Ye);for(var dt in rt)le(Me+"."+dt,nt[dt],Ye[dt],Te)}else void 0===Te[Me]&&(Te[Me]=ie(ve))}function j(Me,ve,Se){var Te,qe=Me._fullLayout,Ee=Me._fullData,Ie=Me.data,Qe=qe._guiEditing,nt=Q(qe._preGUI,Qe),Ye=c.extendDeepAll({},ve);$(ve);var rt,dt=E.traceFlags(),Xe={},mt={};function _t(){return Se.map(function(){})}function yt(Ut){var Jt=b.id2name(Ut);-1===rt.indexOf(Jt)&&rt.push(Jt)}function Ot(Ut){return"LAYOUT"+Ut+".autorange"}function bt(Ut){return"LAYOUT"+Ut+".range"}function Fe(Ut){for(var Jt=Ut;Jt<Ee.length;Jt++)if(Ee[Jt]._input===Ie[Ut])return Ee[Jt]}function Ue(Ut,Jt,Ft){if(Array.isArray(Ut))Ut.forEach(function(wn){Ue(wn,Jt,Ft)});else if(!(Ut in ve)&&!I.hasParent(ve,Ut)){var Mn;if("LAYOUT"===Ut.substr(0,6))Mn=nt(Me.layout,Ut.replace("LAYOUT",""));else{var _n=Se[Ft];Mn=Q(qe._tracePreGUI[Fe(_n)._fullInput.uid],Qe)(Ie[_n],Ut)}Ut in mt||(mt[Ut]=_t()),void 0===mt[Ut][Ft]&&(mt[Ut][Ft]=ie(Mn.get())),void 0!==Jt&&Mn.set(Jt)}}function gt(Ut){return function(Jt){return Ee[Jt][Ut]}}function Pt(Ut){return function(Jt,Ft){return!1===Jt?Ee[Se[Ft]][Ut]:null}}for(var Qt in ve){if(I.hasParent(ve,Qt))throw new Error("cannot set "+Qt+" and a parent attribute simultaneously");var en,Xt,Wt,Nt,ge,_e,We=ve[Qt];if("autobinx"!==Qt&&"autobiny"!==Qt||(Qt=Qt.charAt(Qt.length-1)+"bins",We=Array.isArray(We)?We.map(Pt(Qt)):!1===We?Se.map(gt(Qt)):null),Xe[Qt]=We,"LAYOUT"!==Qt.substr(0,6)){for(mt[Qt]=_t(),Te=0;Te<Se.length;Te++)if(en=Ie[Se[Te]],Xt=Fe(Se[Te]),Nt=(Wt=Q(qe._tracePreGUI[Xt._fullInput.uid],Qe)(en,Qt)).get(),void 0!==(ge=Array.isArray(We)?We[Te%We.length]:We)){var Je=Wt.parts[Wt.parts.length-1],ft=Qt.substr(0,Qt.length-Je.length-1),st=ft?ft+".":"",et=ft?l(Xt,ft).get():Xt;if((_e=u.getTraceValObject(Xt,Wt.parts))&&_e.impliedEdits&&null!==ge)for(var ut in _e.impliedEdits)Ue(c.relativeAttr(Qt,ut),_e.impliedEdits[ut],Te);else if("thicknessmode"!==Je&&"lenmode"!==Je||Nt===ge||"fraction"!==ge&&"pixels"!==ge||!et){if("type"===Qt&&("pie"===ge!=("pie"===Nt)||"funnelarea"===ge!=("funnelarea"===Nt))){var xt="x",kt="y";"bar"!==ge&&"bar"!==Nt||"h"!==en.orientation||(xt="y",kt="x"),c.swapAttrs(en,["?","?src"],"labels",xt),c.swapAttrs(en,["d?","?0"],"label",xt),c.swapAttrs(en,["?","?src"],"values",kt),"pie"===Nt||"funnelarea"===Nt?(l(en,"marker.color").set(l(en,"marker.colors").get()),qe._pielayer.selectAll("g.trace").remove()):h.traceIs(en,"cartesian")&&l(en,"marker.colors").set(l(en,"marker.color").get())}}else{var Bt=qe._size,rn=et.orient,Dt="top"===rn||"bottom"===rn;if("thicknessmode"===Je){var $t=Dt?Bt.h:Bt.w;Ue(st+"thickness",et.thickness*("fraction"===ge?1/$t:$t),Te)}else{var fn=Dt?Bt.w:Bt.h;Ue(st+"len",et.len*("fraction"===ge?1/fn:fn),Te)}}if(mt[Qt][Te]=ie(Nt),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Qt)){if("orientation"===Qt){Wt.set(ge);var At=en.x&&!en.y?"h":"v";if((Wt.get()||At)===Xt.orientation)continue}else"orientationaxes"===Qt&&(en.orientation={v:"h",h:"v"}[Xt.orientation]);I.swapXYData(en),dt.calc=dt.clearAxisTypes=!0}else-1!==C.dataArrayContainers.indexOf(Wt.parts[0])?(I.manageArrayContainers(Wt,ge,mt),dt.calc=!0):(_e?_e.arrayOk&&!h.traceIs(Xt,"regl")&&(c.isArrayOrTypedArray(ge)||c.isArrayOrTypedArray(Nt))?dt.calc=!0:E.update(dt,_e):dt.calc=!0,Wt.set(ge))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Qt)&&b.swap(Me,Se),"orientationaxes"===Qt){var Mt=l(Me.layout,"hovermode"),an=Mt.get();"x"===an?Mt.set("y"):"y"===an?Mt.set("x"):"x unified"===an?Mt.set("y unified"):"y unified"===an&&Mt.set("x unified")}if(-1!==["orientation","type"].indexOf(Qt)){for(rt=[],Te=0;Te<Se.length;Te++){var Kt=Ie[Se[Te]];h.traceIs(Kt,"cartesian")&&(yt(Kt.xaxis||"x"),yt(Kt.yaxis||"y"))}Ue(rt.map(Ot),!0,0),Ue(rt.map(bt),[0,1],0)}}else Wt=nt(Me.layout,Qt.replace("LAYOUT","")),mt[Qt]=[ie(Wt.get())],Wt.set(Array.isArray(We)?We[0]:We),dt.calc=!0}return(dt.calc||dt.plot)&&(dt.fullReplot=!0),{flags:dt,undoit:mt,redoit:Xe,traces:Se,eventData:c.extendDeepNoArrays([],[Ye,Se])}}function $(Me){var ve,Se,Te,qe=c.counterRegex("axis",".title",!1,!1),Ee=/colorbar\.title$/,Ie=Object.keys(Me);for(ve=0;ve<Ie.length;ve++)Te=Me[Se=Ie[ve]],"title"!==Se&&!qe.test(Se)&&!Ee.test(Se)||"string"!=typeof Te&&"number"!=typeof Te?Se.indexOf("titlefont")>-1&&-1===Se.indexOf("grouptitlefont")?Qe(Se,Se.replace("titlefont","title.font")):Se.indexOf("titleposition")>-1?Qe(Se,Se.replace("titleposition","title.position")):Se.indexOf("titleside")>-1?Qe(Se,Se.replace("titleside","title.side")):Se.indexOf("titleoffset")>-1&&Qe(Se,Se.replace("titleoffset","title.offset")):Qe(Se,Se.replace("title","title.text"));function Qe(nt,Ye){Me[Ye]=Me[nt],delete Me[nt]}}function se(Me,ve,Se){Me=c.getGraphDiv(Me),I.clearPromiseQueue(Me);var Te={};if("string"==typeof ve)Te[ve]=Se;else{if(!c.isPlainObject(ve))return c.warn("Relayout fail.",ve,Se),Promise.reject();Te=c.extendFlat({},ve)}Object.keys(Te).length&&(Me.changed=!0);var qe=ae(Me,Te),Ee=qe.flags;Ee.calc&&(Me.calcdata=void 0);var Ie=[C.previousPromises];Ee.layoutReplot?Ie.push(D.layoutReplot):Object.keys(Te).length&&(ee(Me,Ee,qe)||C.supplyDefaults(Me),Ee.legend&&Ie.push(D.doLegend),Ee.layoutstyle&&Ie.push(D.layoutStyles),Ee.axrange&&F(Ie,qe.rangesAltered),Ee.ticks&&Ie.push(D.doTicksRelayout),Ee.modebar&&Ie.push(D.doModeBar),Ee.camera&&Ie.push(D.doCamera),Ee.colorbars&&Ie.push(D.doColorBars),Ie.push(R)),Ie.push(C.rehover,C.redrag),d.add(Me,se,[Me,qe.undoit],se,[Me,qe.redoit]);var Qe=c.syncOrAsync(Ie,Me);return Qe&&Qe.then||(Qe=Promise.resolve(Me)),Qe.then(function(){return Me.emit("plotly_relayout",qe.eventData),Me})}function ee(Me,ve,Se){var Te=Me._fullLayout;if(!ve.axrange)return!1;for(var qe in ve)if("axrange"!==qe&&ve[qe])return!1;for(var Ee in Se.rangesAltered){var Ie=b.id2name(Ee),Qe=Me.layout[Ie],nt=Te[Ie];if(nt.autorange=Qe.autorange,Qe.range&&(nt.range=Qe.range.slice()),nt.cleanRange(),nt._matchGroup)for(var Ye in nt._matchGroup)if(Ye!==Ee){var rt=Te[b.id2name(Ye)];rt.autorange=nt.autorange,rt.range=nt.range.slice(),rt._input.range=nt.range.slice()}}return!0}function F(Me,ve){Me.push(V,D.doAutoRangeAndConstraints,ve?function(Te){var qe=[],Ee=!0;for(var Ie in ve){var Qe=b.getFromId(Te,Ie);if(qe.push(Ie),-1!==(Qe.ticklabelposition||"").indexOf("inside")&&Qe._anchorAxis&&qe.push(Qe._anchorAxis._id),Qe._matchGroup)for(var nt in Qe._matchGroup)ve[nt]||qe.push(nt);Qe.automargin&&(Ee=!1)}return b.draw(Te,qe,{skipTitle:Ee})}:function(Te){return b.draw(Te,"redraw")},D.drawData,D.finalDraw)}var O=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Y=/^[xyz]axis[0-9]*\.autorange$/,B=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ae(Me,ve){var Se,Te,qe,Ee=Me.layout,Ie=Me._fullLayout,nt=Q(Ie._preGUI,Ie._guiEditing),Ye=Object.keys(ve),rt=b.list(Me),dt=c.extendDeepAll({},ve),Xe={};for($(ve),Ye=Object.keys(ve),Te=0;Te<Ye.length;Te++)if(0===Ye[Te].indexOf("allaxes")){for(qe=0;qe<rt.length;qe++){var mt=rt[qe]._id.substr(1),_t=-1!==mt.indexOf("scene")?mt+".":"",yt=Ye[Te].replace("allaxes",_t+rt[qe]._name);ve[yt]||(ve[yt]=ve[Ye[Te]])}delete ve[Ye[Te]]}var Ot=E.layoutFlags(),bt={},Fe={};function Ue(_n,wn){if(Array.isArray(_n))_n.forEach(function($n){Ue($n,wn)});else if(!(_n in ve)&&!I.hasParent(ve,_n)){var Ln=nt(Ee,_n);_n in Fe||(Fe[_n]=ie(Ln.get())),void 0!==wn&&Ln.set(wn)}}var gt,Pt={};function Qt(_n){var wn=b.name2id(_n.split(".")[0]);return Pt[wn]=1,wn}for(var en in ve){if(I.hasParent(ve,en))throw new Error("cannot set "+en+" and a parent attribute simultaneously");for(var Xt=nt(Ee,en),Wt=ve[en],Nt=Xt.parts.length-1;Nt>0&&"string"!=typeof Xt.parts[Nt];)Nt--;var ge=Xt.parts[Nt],_e=Xt.parts[Nt-1]+"."+ge,We=Xt.parts.slice(0,Nt).join("."),Je=l(Me.layout,We).get(),ft=l(Ie,We).get(),st=Xt.get();if(void 0!==Wt){bt[en]=Wt,Fe[en]="reverse"===ge?Wt:ie(st);var et=u.getLayoutValObject(Ie,Xt.parts);if(et&&et.impliedEdits&&null!==Wt)for(var ut in et.impliedEdits)Ue(c.relativeAttr(en,ut),et.impliedEdits[ut]);if(-1!==["width","height"].indexOf(en))if(Wt){Ue("autosize",null);var xt="height"===en?"width":"height";Ue(xt,Ie[xt])}else Ie[en]=Me._initialAutoSize[en];else if("autosize"===en)Ue("width",Wt?null:Ie.width),Ue("height",Wt?null:Ie.height);else if(_e.match(O))Qt(_e),l(Ie,We+"._inputRange").set(null);else if(_e.match(Y)){Qt(_e),l(Ie,We+"._inputRange").set(null);var kt=l(Ie,We).get();kt._inputDomain&&(kt._input.domain=kt._inputDomain.slice())}else _e.match(B)&&l(Ie,We+"._inputDomain").set(null);if("type"===ge){gt=Je;var Bt="linear"===ft.type&&"log"===Wt;if(Bt||"log"===ft.type&&"linear"===Wt){if(gt&&gt.range)if(ft.autorange)Bt&&(gt.range=gt.range[1]>gt.range[0]?[1,2]:[2,1]);else{var Dt=gt.range[0],$t=gt.range[1];Bt?(Dt<=0&&$t<=0&&Ue(We+".autorange",!0),Dt<=0?Dt=$t/1e6:$t<=0&&($t=Dt/1e6),Ue(We+".range[0]",Math.log(Dt)/Math.LN10),Ue(We+".range[1]",Math.log($t)/Math.LN10)):(Ue(We+".range[0]",Math.pow(10,Dt)),Ue(We+".range[1]",Math.pow(10,$t)))}else Ue(We+".autorange",!0);Array.isArray(Ie._subplots.polar)&&Ie._subplots.polar.length&&Ie[Xt.parts[0]]&&"radialaxis"===Xt.parts[1]&&delete Ie[Xt.parts[0]]._subplot.viewInitial["radialaxis.range"],h.getComponentMethod("annotations","convertCoords")(Me,ft,Wt,Ue),h.getComponentMethod("images","convertCoords")(Me,ft,Wt,Ue)}else Ue(We+".autorange",!0),Ue(We+".range",null);l(Ie,We+"._inputRange").set(null)}else if(ge.match(P)){var fn=l(Ie,en).get(),At=(Wt||{}).type;At&&"-"!==At||(At="linear"),h.getComponentMethod("annotations","convertCoords")(Me,fn,At,Ue),h.getComponentMethod("images","convertCoords")(Me,fn,At,Ue)}var Mt=H.containerArrayMatch(en);if(Mt){Se=Mt.array;var an=Mt.property,Kt=et||{editType:"calc"};""!==(Te=Mt.index)&&""===an&&(H.isAddVal(Wt)?Fe[en]=null:H.isRemoveVal(Wt)?Fe[en]=(l(Ee,Se).get()||[])[Te]:c.warn("unrecognized full object value",ve)),E.update(Ot,Kt),Xe[Se]||(Xe[Se]={});var Ut=Xe[Se][Te];Ut||(Ut=Xe[Se][Te]={}),Ut[an]=Wt,delete ve[en]}else"reverse"===ge?(Je.range?Je.range.reverse():(Ue(We+".autorange",!0),Je.range=[1,0]),ft.autorange?Ot.calc=!0:Ot.plot=!0):(Ie._has("scatter-like")&&Ie._has("regl")&&"dragmode"===en&&("lasso"===Wt||"select"===Wt)&&"lasso"!==st&&"select"!==st||Ie._has("gl2d")?Ot.plot=!0:et?E.update(Ot,et):Ot.calc=!0,Xt.set(Wt))}}for(Se in Xe)H.applyContainerArrayChanges(Me,nt(Ee,Se),Xe[Se],Ot,nt)||(Ot.plot=!0);for(var Jt in Pt){var Ft=(gt=b.getFromId(Me,Jt))&&gt._constraintGroup;if(Ft)for(var Mn in Ot.calc=!0,Ft)Pt[Mn]||(b.getFromId(Me,Mn)._constraintShrinkable=!0)}return(ue(Me)||ve.height||ve.width)&&(Ot.plot=!0),(Ot.plot||Ot.calc)&&(Ot.layoutReplot=!0),{flags:Ot,rangesAltered:Pt,undoit:Fe,redoit:bt,eventData:dt}}function ue(Me){var ve=Me._fullLayout,Se=ve.width,Te=ve.height;return Me.layout.autosize&&C.plotAutoSize(Me,Me.layout,ve),ve.width!==Se||ve.height!==Te}function fe(Me,ve,Se,Te){Me=c.getGraphDiv(Me),I.clearPromiseQueue(Me),c.isPlainObject(ve)||(ve={}),c.isPlainObject(Se)||(Se={}),Object.keys(ve).length&&(Me.changed=!0),Object.keys(Se).length&&(Me.changed=!0);var qe=I.coerceTraceIndices(Me,Te),Ee=j(Me,c.extendFlat({},ve),qe),Ie=Ee.flags,Qe=ae(Me,c.extendFlat({},Se)),nt=Qe.flags;(Ie.calc||nt.calc)&&(Me.calcdata=void 0),Ie.clearAxisTypes&&I.clearAxisTypes(Me,qe,Se);var Ye=[];nt.layoutReplot?Ye.push(D.layoutReplot):Ie.fullReplot?Ye.push(J._doPlot):(Ye.push(C.previousPromises),ee(Me,nt,Qe)||C.supplyDefaults(Me),Ie.style&&Ye.push(D.doTraceStyle),(Ie.colorbars||nt.colorbars)&&Ye.push(D.doColorBars),nt.legend&&Ye.push(D.doLegend),nt.layoutstyle&&Ye.push(D.layoutStyles),nt.axrange&&F(Ye,Qe.rangesAltered),nt.ticks&&Ye.push(D.doTicksRelayout),nt.modebar&&Ye.push(D.doModeBar),nt.camera&&Ye.push(D.doCamera),Ye.push(R)),Ye.push(C.rehover,C.redrag),d.add(Me,fe,[Me,Ee.undoit,Qe.undoit,Ee.traces],fe,[Me,Ee.redoit,Qe.redoit,Ee.traces]);var rt=c.syncOrAsync(Ye,Me);return rt&&rt.then||(rt=Promise.resolve(Me)),rt.then(function(){return Me.emit("plotly_update",{data:Ee.eventData,layout:Qe.eventData}),Me})}function he(Me){return function(ve){ve._fullLayout._guiEditing=!0;var Se=Me.apply(null,arguments);return ve._fullLayout._guiEditing=!1,Se}}var xe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],be=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Ve(Me,ve){for(var Se=0;Se<ve.length;Se++){var Te=ve[Se],qe=Me.match(Te.pattern);if(qe){var Ee=qe[1]||"";return{head:Ee,tail:Me.substr(Ee.length+1),attr:Te.attr}}}}function Ae(Me,ve){var Se=l(ve,Me).get();if(void 0!==Se)return Se;var Te=Me.split(".");for(Te.pop();Te.length>1;)if(Te.pop(),void 0!==(Se=l(ve,Te.join(".")+".uirevision").get()))return Se;return ve.uirevision}function Oe(Me,ve){for(var Se=0;Se<ve.length;Se++)if(ve[Se]._fullInput.uid===Me)return Se;return-1}function Re(Me,ve,Se){for(var Te=0;Te<ve.length;Te++)if(ve[Te].uid===Me)return Te;return!ve[Se]||ve[Se].uid?-1:Se}function tt(Me,ve){var Se=c.isPlainObject(Me),Te=Array.isArray(Me);return Se||Te?(Se&&c.isPlainObject(ve)||Te&&Array.isArray(ve))&&JSON.stringify(Me)===JSON.stringify(ve):Me===ve}function Ke(Me,ve,Se,Te){var qe,Ee,Ie,Qe=Te.getValObject,nt=Te.flags,Ye=Te.immutable,rt=Te.inArray,dt=Te.arrayIndex;function Xe(){var Je=qe.editType;rt&&-1!==Je.indexOf("arraydraw")?c.pushUnique(nt.arrays[rt],dt):(E.update(nt,qe),"none"!==Je&&nt.nChanges++,Te.transition&&qe.anim&&nt.nChangesAnim++,(O.test(Ie)||Y.test(Ie))&&(nt.rangesAltered[Se[0]]=1),B.test(Ie)&&l(ve,"_inputDomain").set(null),"datarevision"===Ee&&(nt.newDataRevision=1))}function mt(Je){return"data_array"===Je.valType||Je.arrayOk}for(Ee in Me){if(nt.calc&&!Te.transition)return;var _t=Me[Ee],yt=ve[Ee],Ot=Se.concat(Ee);if(Ie=Ot.join("."),"_"!==Ee.charAt(0)&&"function"!=typeof _t&&_t!==yt){if(("tick0"===Ee||"dtick"===Ee)&&"geo"!==Se[0]){var bt=ve.tickmode;if("auto"===bt||"array"===bt||!bt)continue}if(("range"!==Ee||!ve.autorange)&&("zmin"!==Ee&&"zmax"!==Ee||"contourcarpet"!==ve.type)&&(qe=Qe(Ot))&&(!qe._compareAsJSON||JSON.stringify(_t)!==JSON.stringify(yt))){var Fe,Ue=qe.valType,gt=mt(qe),Pt=Array.isArray(_t),Qt=Array.isArray(yt);if(Pt&&Qt){var en="_input_"+Ee,Xt=Me[en],Wt=ve[en];if(Array.isArray(Xt)&&Xt===Wt)continue}if(void 0===yt)gt&&Pt?nt.calc=!0:Xe();else if(qe._isLinkedToArray){var Nt=[],ge=!1;rt||(nt.arrays[Ee]=Nt);var _e=Math.min(_t.length,yt.length),We=Math.max(_t.length,yt.length);if(_e!==We){if("arraydraw"!==qe.editType){Xe();continue}ge=!0}for(Fe=0;Fe<_e;Fe++)Ke(_t[Fe],yt[Fe],Ot.concat(Fe),c.extendFlat({inArray:Ee,arrayIndex:Fe},Te));if(ge)for(Fe=_e;Fe<We;Fe++)Nt.push(Fe)}else!Ue&&c.isPlainObject(_t)?Ke(_t,yt,Ot,Te):gt?Pt&&Qt?(Ye&&(nt.calc=!0),(Ye||Te.newDataRevision)&&Xe()):Pt!==Qt?nt.calc=!0:Xe():Pt&&Qt&&_t.length===yt.length&&String(_t)===String(yt)||Xe()}}}for(Ee in ve)if(!(Ee in Me)&&"_"!==Ee.charAt(0)&&"function"!=typeof ve[Ee]){if(mt(qe=Qe(Se.concat(Ee)))&&Array.isArray(ve[Ee]))return void(nt.calc=!0);Xe()}}function $e(Me){var ve=Me._fullLayout,Se=Me.getBoundingClientRect();if(!c.equalDomRects(Se,ve._lastBBox)){var Te=ve._invTransform=c.inverseTransformMatrix(c.getFullTransformMatrix(Me));ve._invScaleX=Math.sqrt(Te[0][0]*Te[0][0]+Te[0][1]*Te[0][1]+Te[0][2]*Te[0][2]),ve._invScaleY=Math.sqrt(Te[1][0]*Te[1][0]+Te[1][1]*Te[1][1]+Te[1][2]*Te[1][2]),ve._lastBBox=Se}}J.animate=function(Me,ve,Se){if(Me=c.getGraphDiv(Me),!c.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Te=Me._transitionData;Te._frameQueue||(Te._frameQueue=[]);var qe=(Se=C.supplyAnimationDefaults(Se)).transition,Ee=Se.frame;function Ie(Ye){return Array.isArray(qe)?Ye>=qe.length?qe[0]:qe[Ye]:qe}function Qe(Ye){return Array.isArray(Ee)?Ye>=Ee.length?Ee[0]:Ee[Ye]:Ee}function nt(Ye,rt){var dt=0;return function(){if(Ye&&++dt===rt)return Ye()}}return void 0===Te._frameWaitingCnt&&(Te._frameWaitingCnt=0),new Promise(function(Ye,rt){function Xe(){Me.emit("plotly_animating"),Te._lastFrameAt=-1/0,Te._timeToNext=0,Te._runningTransitions=0,Te._currentFrame=null;var Xt=function(){Te._animationRaf=window.requestAnimationFrame(Xt),Date.now()-Te._lastFrameAt>Te._timeToNext&&function dt(){Te._currentFrame&&Te._currentFrame.onComplete&&Te._currentFrame.onComplete();var Xt=Te._currentFrame=Te._frameQueue.shift();if(Xt){var Wt=Xt.name?Xt.name.toString():null;Me._fullLayout._currentFrame=Wt,Te._lastFrameAt=Date.now(),Te._timeToNext=Xt.frameOpts.duration,C.transition(Me,Xt.frame.data,Xt.frame.layout,I.coerceTraceIndices(Me,Xt.frame.traces),Xt.frameOpts,Xt.transitionOpts).then(function(){Xt.onComplete&&Xt.onComplete()}),Me.emit("plotly_animatingframe",{name:Wt,frame:Xt.frame,animation:{frame:Xt.frameOpts,transition:Xt.transitionOpts}})}else Me.emit("plotly_animated"),window.cancelAnimationFrame(Te._animationRaf),Te._animationRaf=null}()};Xt()}var mt,_t,yt=0;function Ot(Xt){return Xt.transitionOpts=Array.isArray(qe)?yt>=qe.length?qe[yt]:qe[0]:qe,yt++,Xt}var bt=[],Fe=null==ve,Ue=Array.isArray(ve);if(Fe||Ue||!c.isPlainObject(ve)){if(Fe||-1!==["string","number"].indexOf(typeof ve))for(mt=0;mt<Te._frames.length;mt++)(_t=Te._frames[mt])&&(Fe||String(_t.group)===String(ve))&&bt.push({type:"byname",name:String(_t.name),data:Ot({name:_t.name})});else if(Ue)for(mt=0;mt<ve.length;mt++){var gt=ve[mt];-1!==["number","string"].indexOf(typeof gt)?(gt=String(gt),bt.push({type:"byname",name:gt,data:Ot({name:gt})})):c.isPlainObject(gt)&&bt.push({type:"object",data:Ot(c.extendFlat({},gt))})}}else bt.push({type:"object",data:Ot(c.extendFlat({},ve))});for(mt=0;mt<bt.length;mt++)if("byname"===(_t=bt[mt]).type&&!Te._frameHash[_t.data.name])return c.warn('animate failure: frame not found: "'+_t.data.name+'"'),void rt();-1!==["next","immediate"].indexOf(Se.mode)&&function(){if(0!==Te._frameQueue.length){for(;Te._frameQueue.length;){var Xt=Te._frameQueue.pop();Xt.onInterrupt&&Xt.onInterrupt()}Me.emit("plotly_animationinterrupted",[])}}(),"reverse"===Se.direction&&bt.reverse();var Pt=Me._fullLayout._currentFrame;if(Pt&&Se.fromcurrent){var Qt=-1;for(mt=0;mt<bt.length;mt++)if("byname"===(_t=bt[mt]).type&&_t.name===Pt){Qt=mt;break}if(Qt>0&&Qt<bt.length-1){var en=[];for(mt=0;mt<bt.length;mt++)_t=bt[mt],("byname"!==bt[mt].type||mt>Qt)&&en.push(_t);bt=en}}bt.length>0?function(Xt){if(0!==Xt.length){for(var Wt=0;Wt<Xt.length;Wt++){var Nt;Nt="byname"===Xt[Wt].type?C.computeFrame(Me,Xt[Wt].name):Xt[Wt].data;var ge=Qe(Wt),_e=Ie(Wt);_e.duration=Math.min(_e.duration,ge.duration);var We={frame:Nt,name:Xt[Wt].name,frameOpts:ge,transitionOpts:_e};Wt===Xt.length-1&&(We.onComplete=nt(Ye,2),We.onInterrupt=rt),Te._frameQueue.push(We)}"immediate"===Se.mode&&(Te._lastFrameAt=-1/0),Te._animationRaf||Xe()}}(bt):(Me.emit("plotly_animated"),Ye())})},J.addFrames=function(Me,ve,Se){if(Me=c.getGraphDiv(Me),null==ve)return Promise.resolve();if(!c.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Te,qe,Ee,Ie,Qe=Me._transitionData._frames,nt=Me._transitionData._frameHash;if(!Array.isArray(ve))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+ve);var Ye=Qe.length+2*ve.length,rt=[],dt={};for(Te=ve.length-1;Te>=0;Te--)if(c.isPlainObject(ve[Te])){var Xe=ve[Te].name,mt=(nt[Xe]||dt[Xe]||{}).name,_t=ve[Te].name;mt&&_t&&"number"==typeof _t&&(nt[mt]||dt[mt])&&S<5&&(S++,c.warn('addFrames: overwriting frame "'+(nt[mt]||dt[mt]).name+'" with a frame whose name of type "number" also equates to "'+mt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===S&&c.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),dt[Xe]={name:Xe},rt.push({frame:C.supplyFrameDefaults(ve[Te]),index:Se&&null!=Se[Te]?Se[Te]:Ye+Te})}rt.sort(function(en,Xt){return en.index>Xt.index?-1:en.index<Xt.index?1:0});var Ot=[],bt=[],Fe=Qe.length;for(Te=rt.length-1;Te>=0;Te--){if("number"==typeof(qe=rt[Te].frame).name&&c.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!qe.name)for(;nt[qe.name="frame "+Me._transitionData._counter++];);if(nt[qe.name]){for(Ee=0;Ee<Qe.length&&(Qe[Ee]||{}).name!==qe.name;Ee++);Ot.push({type:"replace",index:Ee,value:qe}),bt.unshift({type:"replace",index:Ee,value:Qe[Ee]})}else Ie=Math.max(0,Math.min(rt[Te].index,Fe)),Ot.push({type:"insert",index:Ie,value:qe}),bt.unshift({type:"delete",index:Ie}),Fe++}return d&&d.add(Me,C.modifyFrames,[Me,bt],C.modifyFrames,[Me,Ot]),C.modifyFrames(Me,Ot)},J.deleteFrames=function(Me,ve){if(Me=c.getGraphDiv(Me),!c.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me);var Se,Te,qe=Me._transitionData._frames,Ee=[],Ie=[];if(!ve)for(ve=[],Se=0;Se<qe.length;Se++)ve.push(Se);for((ve=ve.slice()).sort(),Se=ve.length-1;Se>=0;Se--)Ee.push({type:"delete",index:Te=ve[Se]}),Ie.unshift({type:"insert",index:Te,value:qe[Te]});return d&&d.add(Me,C.modifyFrames,[Me,Ie],C.modifyFrames,[Me,Ee]),C.modifyFrames(Me,Ee)},J.addTraces=function Me(ve,Se,Te){ve=c.getGraphDiv(ve);var qe,Ee,Ie=[],Qe=J.deleteTraces,nt=Me,Ye=[ve,Ie],rt=[ve,Se];for(function(dt,Xe,mt){var _t,yt;if(!Array.isArray(dt.data))throw new Error("gd.data must be an array.");if(void 0===Xe)throw new Error("traces must be defined.");for(Array.isArray(Xe)||(Xe=[Xe]),_t=0;_t<Xe.length;_t++)if("object"!=typeof(yt=Xe[_t])||Array.isArray(yt)||null===yt)throw new Error("all values in traces array must be non-array objects");if(void 0===mt||Array.isArray(mt)||(mt=[mt]),void 0!==mt&&mt.length!==Xe.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(ve,Se,Te),Array.isArray(Se)||(Se=[Se]),Se=Se.map(function(dt){return c.extendFlat({},dt)}),I.cleanData(Se),qe=0;qe<Se.length;qe++)ve.data.push(Se[qe]);for(qe=0;qe<Se.length;qe++)Ie.push(-Se.length+qe);if(void 0===Te)return Ee=J.redraw(ve),d.add(ve,Qe,Ye,nt,rt),Ee;Array.isArray(Te)||(Te=[Te]);try{ne(ve,Ie,Te)}catch(dt){throw ve.data.splice(ve.data.length-Se.length,Se.length),dt}return d.startSequence(ve),d.add(ve,Qe,Ye,nt,rt),Ee=J.moveTraces(ve,Ie,Te),d.stopSequence(ve),Ee},J.deleteTraces=function Me(ve,Se){ve=c.getGraphDiv(ve);var Te,qe,Ee=[],Ie=J.addTraces,Qe=Me,nt=[ve,Ee,Se],Ye=[ve,Se];if(void 0===Se)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Se)||(Se=[Se]),Z(ve,Se,"indices"),(Se=W(Se,ve.data.length-1)).sort(c.sorterDes),Te=0;Te<Se.length;Te+=1)qe=ve.data.splice(Se[Te],1)[0],Ee.push(qe);var rt=J.redraw(ve);return d.add(ve,Ie,nt,Qe,Ye),rt},J.extendTraces=function Me(ve,Se,Te,qe){function Ee(Ye,rt,dt){var Xe,mt;if(c.isTypedArray(Ye))if(dt<0){var _t=new Ye.constructor(0),yt=oe(Ye,rt);dt<0?(Xe=yt,mt=_t):(Xe=_t,mt=yt)}else if(Xe=new Ye.constructor(dt),mt=new Ye.constructor(Ye.length+rt.length-dt),dt===rt.length)Xe.set(rt),mt.set(Ye);else if(dt<rt.length){var Ot=rt.length-dt;Xe.set(rt.subarray(Ot)),mt.set(Ye),mt.set(rt.subarray(0,Ot),Ye.length)}else{var bt=dt-rt.length,Fe=Ye.length-bt;Xe.set(Ye.subarray(Fe)),Xe.set(rt,bt),mt.set(Ye.subarray(0,Fe))}else Xe=Ye.concat(rt),mt=dt>=0&&dt<Xe.length?Xe.splice(0,Xe.length-dt):[];return[Xe,mt]}var Ie=te(ve=c.getGraphDiv(ve),Se,Te,qe,Ee),Qe=J.redraw(ve);return d.add(ve,J.prependTraces,[ve,Ie.update,Te,Ie.maxPoints],Me,arguments),Qe},J.moveTraces=function Me(ve,Se,Te){var qe,Ee=[],Ie=[],Qe=Me,nt=Me,Ye=[ve=c.getGraphDiv(ve),Te,Se],rt=[ve,Se,Te];if(ne(ve,Se,Te),Se=Array.isArray(Se)?Se:[Se],void 0===Te)for(Te=[],qe=0;qe<Se.length;qe++)Te.push(-Se.length+qe);for(Te=Array.isArray(Te)?Te:[Te],Se=W(Se,ve.data.length-1),Te=W(Te,ve.data.length-1),qe=0;qe<ve.data.length;qe++)-1===Se.indexOf(qe)&&Ee.push(ve.data[qe]);for(qe=0;qe<Se.length;qe++)Ie.push({newIndex:Te[qe],trace:ve.data[Se[qe]]});for(Ie.sort(function(Xe,mt){return Xe.newIndex-mt.newIndex}),qe=0;qe<Ie.length;qe+=1)Ee.splice(Ie[qe].newIndex,0,Ie[qe].trace);ve.data=Ee;var dt=J.redraw(ve);return d.add(ve,Qe,Ye,nt,rt),dt},J.prependTraces=function Me(ve,Se,Te,qe){function Ee(Ye,rt,dt){var Xe,mt;if(c.isTypedArray(Ye))if(dt<=0){var _t=new Ye.constructor(0),yt=oe(rt,Ye);dt<0?(Xe=yt,mt=_t):(Xe=_t,mt=yt)}else if(Xe=new Ye.constructor(dt),mt=new Ye.constructor(Ye.length+rt.length-dt),dt===rt.length)Xe.set(rt),mt.set(Ye);else if(dt<rt.length){var Ot=rt.length-dt;Xe.set(rt.subarray(0,Ot)),mt.set(rt.subarray(Ot)),mt.set(Ye,Ot)}else{var bt=dt-rt.length;Xe.set(rt),Xe.set(Ye.subarray(0,bt),rt.length),mt.set(Ye.subarray(bt))}else Xe=rt.concat(Ye),mt=dt>=0&&dt<Xe.length?Xe.splice(dt,Xe.length):[];return[Xe,mt]}var Ie=te(ve=c.getGraphDiv(ve),Se,Te,qe,Ee),Qe=J.redraw(ve);return d.add(ve,J.extendTraces,[ve,Ie.update,Te,Ie.maxPoints],Me,arguments),Qe},J.newPlot=function(Me,ve,Se,Te){return Me=c.getGraphDiv(Me),C.cleanPlot([],{},Me._fullData||[],Me._fullLayout||{}),C.purge(Me),J._doPlot(Me,ve,Se,Te)},J._doPlot=function(Me,ve,Se,Te){var qe;if(Me=c.getGraphDiv(Me),m.init(Me),c.isPlainObject(ve)){var Ee=ve;ve=Ee.data,Se=Ee.layout,Te=Ee.config,qe=Ee.frames}if(!1===m.triggerHandler(Me,"plotly_beforeplot",[ve,Se,Te]))return Promise.reject();ve||Se||c.isPlotDiv(Me)||c.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Me),X(Me,Te),Se||(Se={}),s.select(Me).classed("js-plotly-plot",!0),M.makeTester(),Array.isArray(Me._promises)||(Me._promises=[]);var Ie=0===(Me.data||[]).length&&Array.isArray(ve);Array.isArray(ve)&&(I.cleanData(ve),Ie?Me.data=ve:Me.data.push.apply(Me.data,ve),Me.empty=!1),Me.layout&&!Ie||(Me.layout=I.cleanLayout(Se)),C.supplyDefaults(Me);var Qe=Me._fullLayout,nt=Qe._has("cartesian");Qe._replotting=!0,(Ie||Qe._shouldCreateBgLayer)&&(function(bt){var Fe=s.select(bt),Ue=bt._fullLayout;if(Ue._calcInverseTransform=$e,Ue._calcInverseTransform(bt),Ue._container=Fe.selectAll(".plot-container").data([0]),Ue._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Ue._paperdiv=Ue._container.selectAll(".svg-container").data([0]),Ue._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Ue._glcontainer=Ue._paperdiv.selectAll(".gl-container").data([{}]),Ue._glcontainer.enter().append("div").classed("gl-container",!0),Ue._paperdiv.selectAll(".main-svg").remove(),Ue._paperdiv.select(".modebar-container").remove(),Ue._paper=Ue._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Ue._toppaper=Ue._paperdiv.append("svg").classed("main-svg",!0),Ue._modebardiv=Ue._paperdiv.append("div"),delete Ue._modeBar,Ue._hoverpaper=Ue._paperdiv.append("svg").classed("main-svg",!0),!Ue._uid){var gt={};s.selectAll("defs").each(function(){this.id&&(gt[this.id.split("-")[1]]=1)}),Ue._uid=c.randstr(gt)}Ue._paperdiv.selectAll(".main-svg").attr(A.svgAttrs),Ue._defs=Ue._paper.append("defs").attr("id","defs-"+Ue._uid),Ue._clips=Ue._defs.append("g").classed("clips",!0),Ue._topdefs=Ue._toppaper.append("defs").attr("id","topdefs-"+Ue._uid),Ue._topclips=Ue._topdefs.append("g").classed("clips",!0),Ue._bgLayer=Ue._paper.append("g").classed("bglayer",!0),Ue._draggers=Ue._paper.append("g").classed("draglayer",!0);var Pt=Ue._paper.append("g").classed("layer-below",!0);Ue._imageLowerLayer=Pt.append("g").classed("imagelayer",!0),Ue._shapeLowerLayer=Pt.append("g").classed("shapelayer",!0),Ue._cartesianlayer=Ue._paper.append("g").classed("cartesianlayer",!0),Ue._polarlayer=Ue._paper.append("g").classed("polarlayer",!0),Ue._smithlayer=Ue._paper.append("g").classed("smithlayer",!0),Ue._ternarylayer=Ue._paper.append("g").classed("ternarylayer",!0),Ue._geolayer=Ue._paper.append("g").classed("geolayer",!0),Ue._funnelarealayer=Ue._paper.append("g").classed("funnelarealayer",!0),Ue._pielayer=Ue._paper.append("g").classed("pielayer",!0),Ue._iciclelayer=Ue._paper.append("g").classed("iciclelayer",!0),Ue._treemaplayer=Ue._paper.append("g").classed("treemaplayer",!0),Ue._sunburstlayer=Ue._paper.append("g").classed("sunburstlayer",!0),Ue._indicatorlayer=Ue._toppaper.append("g").classed("indicatorlayer",!0),Ue._glimages=Ue._paper.append("g").classed("glimages",!0);var Qt=Ue._toppaper.append("g").classed("layer-above",!0);Ue._imageUpperLayer=Qt.append("g").classed("imagelayer",!0),Ue._shapeUpperLayer=Qt.append("g").classed("shapelayer",!0),Ue._infolayer=Ue._toppaper.append("g").classed("infolayer",!0),Ue._menulayer=Ue._toppaper.append("g").classed("menulayer",!0),Ue._zoomlayer=Ue._toppaper.append("g").classed("zoomlayer",!0),Ue._hoverlayer=Ue._hoverpaper.append("g").classed("hoverlayer",!0),Ue._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),bt.emit("plotly_framework")}(Me),Qe._shouldCreateBgLayer&&delete Qe._shouldCreateBgLayer),M.initGradients(Me),M.initPatterns(Me),Ie&&b.saveShowSpikeInitial(Me);var Ye=!Me.calcdata||Me.calcdata.length!==(Me._fullData||[]).length;Ye&&C.doCalcdata(Me);for(var rt=0;rt<Me.calcdata.length;rt++)Me.calcdata[rt][0].trace=Me._fullData[rt];Me._context.responsive?Me._responsiveChartHandler||(Me._responsiveChartHandler=function(){c.isHidden(Me)||C.resize(Me)},window.addEventListener("resize",Me._responsiveChartHandler)):c.clearResponsive(Me);var dt=c.extendFlat({},Qe._size),Xe=0;function mt(){if(C.clearAutoMarginIds(Me),D.drawMarginPushers(Me),b.allowAutoMargin(Me),Qe._has("pie"))for(var bt=Me._fullData,Fe=0;Fe<bt.length;Fe++){var Ue=bt[Fe];"pie"===Ue.type&&Ue.automargin&&C.allowAutoMargin(Me,"pie."+Ue.uid+".automargin")}return C.doAutoMargin(Me),C.previousPromises(Me)}function _t(){Me._transitioning||(D.doAutoRangeAndConstraints(Me),Ie&&b.saveRangeInitial(Me),h.getComponentMethod("rangeslider","calcAutorange")(Me))}var yt=[C.previousPromises,function(){if(qe)return J.addFrames(Me,qe)},function bt(){for(var Fe=Qe._basePlotModules,Ue=0;Ue<Fe.length;Ue++)Fe[Ue].drawFramework&&Fe[Ue].drawFramework(Me);!Qe._glcanvas&&Qe._has("gl")&&(Qe._glcanvas=Qe._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(en){return en.key}),Qe._glcanvas.enter().append("canvas").attr("class",function(en){return"gl-canvas gl-canvas-"+en.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var gt=Me._context.plotGlPixelRatio;if(Qe._glcanvas){Qe._glcanvas.attr("width",Qe.width*gt).attr("height",Qe.height*gt).style("width",Qe.width+"px").style("height",Qe.height+"px");var Pt=Qe._glcanvas.data()[0].regl;if(Pt&&(Math.floor(Qe.width*gt)!==Pt._gl.drawingBufferWidth||Math.floor(Qe.height*gt)!==Pt._gl.drawingBufferHeight)){var Qt="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Xe)return c.log(Qt+" Clearing graph and plotting again."),C.cleanPlot([],{},Me._fullData,Qe),C.supplyDefaults(Me),Qe=Me._fullLayout,C.doCalcdata(Me),Xe++,bt();c.error(Qt)}}return"h"===Qe.modebar.orientation?Qe._modebardiv.style("height",null).style("width","100%"):Qe._modebardiv.style("width",null).style("height",Qe.height+"px"),C.previousPromises(Me)},mt,function(){if(C.didMarginChange(dt,Qe._size))return c.syncOrAsync([mt,D.layoutStyles],Me)}];nt&&yt.push(function(){if(Ye)return c.syncOrAsync([h.getComponentMethod("shapes","calcAutorange"),h.getComponentMethod("annotations","calcAutorange"),_t],Me);_t()}),yt.push(D.layoutStyles),nt&&yt.push(function(){return b.draw(Me,Ie?"":"redraw")},function(bt){bt._fullLayout._insideTickLabelsAutorange&&se(bt,bt._fullLayout._insideTickLabelsAutorange).then(function(){bt._fullLayout._insideTickLabelsAutorange=void 0})}),yt.push(D.drawData,D.finalDraw,N,C.addLinks,C.rehover,C.redrag,C.doAutoMargin,function(bt){bt._fullLayout._insideTickLabelsAutorange&&Ie&&b.saveRangeInitial(bt,!0)},C.previousPromises);var Ot=c.syncOrAsync(yt,Me);return Ot&&Ot.then||(Ot=Promise.resolve()),Ot.then(function(){return R(Me),Me})},J.purge=function(Me){var ve=(Me=c.getGraphDiv(Me))._fullLayout||{};return C.cleanPlot([],{},Me._fullData||[],ve),C.purge(Me),m.purge(Me),ve._container&&ve._container.remove(),delete Me._context,Me},J.react=function(Me,ve,Se,Te){var qe,Ee;Me=c.getGraphDiv(Me),I.clearPromiseQueue(Me);var We,Je,ft,st,et,ut,Ie=Me._fullData,Qe=Me._fullLayout;if(c.isPlotDiv(Me)&&Ie&&Qe){if(c.isPlainObject(ve)){var nt=ve;ve=nt.data,Se=nt.layout,Te=nt.config,qe=nt.frames}var Ye=!1;if(Te){var rt=c.extendDeep({},Me._context);Me._context=void 0,X(Me,Te),Ye=function We(Je,ft){var st;for(st in Je)if("_"!==st.charAt(0)){var et=Je[st],ut=ft[st];if(et!==ut)if(c.isPlainObject(et)&&c.isPlainObject(ut)){if(We(et,ut))return!0}else{if(!Array.isArray(et)||!Array.isArray(ut)||et.length!==ut.length)return!0;for(var xt=0;xt<et.length;xt++)if(et[xt]!==ut[xt]&&(!c.isPlainObject(et[xt])||!c.isPlainObject(ut[xt])||We(et[xt],ut[xt])))return!0}}}(rt,Me._context)}Me.data=ve||[],I.cleanData(Me.data),Me.layout=Se||{},I.cleanLayout(Me.layout),function(We,Je,ft,st){var et,ut,xt,kt,Bt,rn,Dt,$t,fn,At,Mt=st._preGUI,an=[],Kt={},Ut={};for(et in Mt){if(Bt=Ve(et,xe)){if(fn=Bt.head,At=Bt.tail,(kt=(xt=l(st,ut=Bt.attr||fn+".uirevision").get())&&Ae(ut,Je))&&kt===xt){if(null===(rn=Mt[et])&&(rn=void 0),tt($t=(Dt=l(Je,et)).get(),rn)){void 0===$t&&"autorange"===At&&an.push(fn),Dt.set(ie(l(st,et).get()));continue}if("autorange"===At||"range["===At.substr(0,6)){var Mn=Mt[fn+".autorange"];if(Mn||null===Mn&&null===Mt[fn+".range[0]"]&&null===Mt[fn+".range[1]"]){if(!(fn in Kt)){var _n=l(Je,fn).get();Kt[fn]=_n&&(_n.autorange||!1!==_n.autorange&&(!_n.range||2!==_n.range.length))}if(Kt[fn]){Dt.set(ie(l(st,et).get()));continue}}}}}else c.warn("unrecognized GUI edit: "+et);delete Mt[et],Bt&&"range["===Bt.tail.substr(0,6)&&(Ut[Bt.head]=1)}for(var wn=0;wn<an.length;wn++){var Ln=an[wn];if(Ut[Ln]){var $n=l(Je,Ln).get();$n&&delete $n.autorange}}var Dn=st._tracePreGUI;for(var Zt in Dn){var It,tn=Dn[Zt],pn=null;for(et in tn){if(!pn){var cn=Oe(Zt,ft);if(cn<0){delete Dn[Zt];break}var Pn=Re(Zt,We,(It=ft[cn]._fullInput).index);if(Pn<0){delete Dn[Zt];break}pn=We[Pn]}if(Bt=Ve(et,be)){if(Bt.attr?kt=(xt=l(st,Bt.attr).get())&&Ae(Bt.attr,Je):(xt=It.uirevision,void 0===(kt=pn.uirevision)&&(kt=Je.uirevision)),kt&&kt===xt&&(null===(rn=tn[et])&&(rn=void 0),tt($t=(Dt=l(pn,et)).get(),rn))){Dt.set(ie(l(It,et).get()));continue}}else c.warn("unrecognized GUI edit: "+et+" in trace uid "+Zt);delete tn[et]}}}(Me.data,Me.layout,Ie,Qe),C.supplyDefaults(Me,{skipUpdateCalc:!0});var dt=Me._fullData,Xe=Me._fullLayout,mt=void 0===Xe.datarevision,_t=Xe.transition,yt=(We=Me,Je=Qe,ft=Xe,st=mt,et=_t,(ut=E.layoutFlags()).arrays={},ut.rangesAltered={},ut.nChanges=0,ut.nChangesAnim=0,Ke(Je,ft,[],{getValObject:function xt(kt){return u.getLayoutValObject(ft,kt)},flags:ut,immutable:st,transition:et,gd:We}),(ut.plot||ut.calc)&&(ut.layoutReplot=!0),et&&ut.nChanges&&ut.nChangesAnim&&(ut.anim=ut.nChanges===ut.nChangesAnim?"all":"some"),ut),bt=function(We,Je,ft,st,et,ut){var xt=Je.length===ft.length;if(!et&&!xt)return{fullReplot:!0,calc:!0};var kt,Bt,rn=E.traceFlags();rn.arrays={},rn.nChanges=0,rn.nChangesAnim=0;var Dt={getValObject:function(fn){var At=u.getTraceValObject(Bt,fn);return!Bt._module.animatable&&At.anim&&(At.anim=!1),At},flags:rn,immutable:st,transition:et,newDataRevision:ut,gd:We},$t={};for(kt=0;kt<Je.length;kt++)if(ft[kt]){if(C.hasMakesDataTransform(Bt=ft[kt]._fullInput)&&(Bt=ft[kt]),$t[Bt.uid])continue;$t[Bt.uid]=1,Ke(Je[kt]._fullInput,Bt,[],Dt)}return(rn.calc||rn.plot)&&(rn.fullReplot=!0),et&&rn.nChanges&&rn.nChangesAnim&&(rn.anim=rn.nChanges===rn.nChangesAnim&&xt?"all":"some"),rn}(Me,Ie,dt,mt,_t,yt.newDataRevision);if(ue(Me)&&(yt.layoutReplot=!0),bt.calc||yt.calc){Me.calcdata=void 0;for(var Fe=Object.getOwnPropertyNames(Xe),Ue=0;Ue<Fe.length;Ue++){var gt=Fe[Ue],Pt=gt.substring(0,5);if("xaxis"===Pt||"yaxis"===Pt){var Qt=Xe[gt]._emptyCategories;Qt&&Qt()}}}else C.supplyDefaultsUpdateCalc(Me.calcdata,dt);var en=[];if(qe&&(Me._transitionData={},C.createTransitionData(Me),en.push(function(){return J.addFrames(Me,qe)})),Xe.transition&&!Ye&&(bt.anim||yt.anim))yt.ticks&&en.push(D.doTicksRelayout),C.doCalcdata(Me),D.doAutoRangeAndConstraints(Me),en.push(function(){return C.transitionFromReact(Me,bt,yt,Qe)});else if(bt.fullReplot||yt.layoutReplot||Ye)Me._fullLayout._skipDefaults=!0,en.push(J._doPlot);else{for(var Xt in yt.arrays){var Wt=yt.arrays[Xt];if(Wt.length){var Nt=h.getComponentMethod(Xt,"drawOne");if(Nt!==c.noop)for(var ge=0;ge<Wt.length;ge++)Nt(Me,Wt[ge]);else{var _e=h.getComponentMethod(Xt,"draw");if(_e===c.noop)throw new Error("cannot draw components: "+Xt);_e(Me)}}}en.push(C.previousPromises),bt.style&&en.push(D.doTraceStyle),(bt.colorbars||yt.colorbars)&&en.push(D.doColorBars),yt.legend&&en.push(D.doLegend),yt.layoutstyle&&en.push(D.layoutStyles),yt.axrange&&F(en),yt.ticks&&en.push(D.doTicksRelayout),yt.modebar&&en.push(D.doModeBar),yt.camera&&en.push(D.doCamera),en.push(R)}en.push(C.rehover,C.redrag),(Ee=c.syncOrAsync(en,Me))&&Ee.then||(Ee=Promise.resolve(Me))}else Ee=J.newPlot(Me,ve,Se,Te);return Ee.then(function(){return Me.emit("plotly_react",{data:ve,layout:Se}),Me})},J.redraw=function(Me){if(Me=c.getGraphDiv(Me),!c.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me);return I.cleanData(Me.data),I.cleanLayout(Me.layout),Me.calcdata=void 0,J._doPlot(Me).then(function(){return Me.emit("plotly_redraw"),Me})},J.relayout=se,J.restyle=Ce,J.setPlotConfig=function(Me){return c.extendFlat(L,Me)},J.update=fe,J._guiRelayout=he(se),J._guiRestyle=he(Ce),J._guiUpdate=he(fe),J._storeDirectGUIEdit=function(Me,ve,Se){for(var Te in Se)le(Te,l(Me,Te).get(),Se[Te],ve)}},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"../lib/events":225,"../lib/queue":247,"../plots/cartesian/axes":279,"../plots/cartesian/constants":286,"../plots/cartesian/graph_interact":289,"../plots/cartesian/select":300,"../plots/plots":316,"../registry":318,"./edit_types":261,"./helpers":262,"./manage_arrays":264,"./plot_config":266,"./plot_schema":267,"./subroutines":269,"@plotly/d3":11,"fast-isnumeric":17,"has-hover":48}],266:[function(v,pe,J){"use strict";var s={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},g={};(function p(c,l){for(var m in c){var d=c[m];d.valType?l[m]=d.dflt:(l[m]||(l[m]={}),p(d,l[m]))}})(s,g),pe.exports={configAttributes:s,dfltConfig:g}},{}],267:[function(v,pe,J){"use strict";var s=v("../registry"),g=v("../lib"),p=v("../plots/attributes"),c=v("../plots/layout_attributes"),l=v("../plots/frame_attributes"),m=v("../plots/animation_attributes"),d=v("./plot_config").configAttributes,h=v("./edit_types"),u=g.extendDeepAll,C=g.isPlainObject,b=g.isArrayOrTypedArray,M=g.nestedProperty,w=g.valObjectMeta,N=["_isSubplotObj","_isLinkedToArray","_arrayAttrRegexps","_deprecated"];function A(P,S,R){if(!P)return!1;if(P._isLinkedToArray)if(V(S[R]))R++;else if(R<S.length)return!1;for(;R<S.length;R++){var G=P[S[R]];if(!C(G)||(P=G,R===S.length-1))break;if(P._isLinkedToArray){if(!V(S[++R]))return!1}else if("info_array"===P.valType){var z=S[++R];if(!V(z))return!1;var X=P.items;if(Array.isArray(X)){if(z>=X.length)return!1;if(2===P.dimensions){if(R++,S.length===R)return P;var W=S[R];if(!V(W))return!1;P=X[z][W]}else P=X[z]}else P=X}}return P}function V(P){return P===Math.round(P)&&P>=0}function L(){var P,S,R={};for(P in u(R,c),s.subplotsRegistry)if((S=s.subplotsRegistry[P]).layoutAttributes)if(Array.isArray(S.attr))for(var G=0;G<S.attr.length;G++)D(R,S,S.attr[G]);else D(R,S,"subplot"===S.attr?S.name:S.attr);for(P in s.componentsRegistry){var z=(S=s.componentsRegistry[P]).schema;if(z&&(z.subplots||z.layout)){var X=z.subplots;if(X&&X.xaxis&&!X.yaxis)for(var W in X.xaxis)delete R.yaxis[W]}else"colorscale"===S.name?u(R,S.layoutAttributes):S.layoutAttributes&&E(R,S.layoutAttributes,S.name)}return{layoutAttributes:I(R)}}function H(){var P={frames:u({},l)};return I(P),P.frames}function I(P){return J.crawl(P,function(R,G,z){J.isValObject(R)?!0!==R.arrayOk&&"data_array"!==R.valType||(z[G+"src"]={valType:"string",editType:"none"}):C(R)&&(R.role="object")}),J.crawl(P,function(R,G,z){if(R){var X=R._isLinkedToArray;X&&(delete R._isLinkedToArray,z[G]={items:{}},z[G].items[X]=R,z[G].role="object")}}),function(S){!function R(G){for(var z in G)if(C(G[z]))R(G[z]);else if(Array.isArray(G[z]))for(var X=0;X<G[z].length;X++)R(G[z][X]);else G[z]instanceof RegExp&&(G[z]=G[z].toString())}(S)}(P),P}function D(P,S,R){var G=M(P,R),z=u({},S.layoutAttributes);z._isSubplotObj=!0,G.set(z)}function E(P,S,R){var G=M(P,R);G.set(u(G.get()||{},S))}J.IS_SUBPLOT_OBJ="_isSubplotObj",J.IS_LINKED_TO_ARRAY="_isLinkedToArray",J.DEPRECATED="_deprecated",J.UNDERSCORE_ATTRS=N,J.get=function(){var P={};s.allTypes.forEach(function(R){P[R]=function(G){var z,X;X=(z=s.modules[G]._module).basePlotModule;var W={type:null},Z=u({},p),ne=u({},z.attributes);J.crawl(ne,function(Ce,ie,Q,le,j){M(Z,j).set(void 0),void 0===Ce&&M(ne,j).set(void 0)}),u(W,Z),s.traceIs(G,"noOpacity")&&delete W.opacity,s.traceIs(G,"showLegend")||(delete W.showlegend,delete W.legendgroup),s.traceIs(G,"noHover")&&(delete W.hoverinfo,delete W.hoverlabel),z.selectPoints||delete W.selectedpoints,u(W,ne),X.attributes&&u(W,X.attributes),W.type=G;var te={meta:z.meta||{},categories:z.categories||{},animatable:Boolean(z.animatable),type:G,attributes:I(W)};if(z.layoutAttributes){var oe={};u(oe,z.layoutAttributes),te.layoutAttributes=I(oe)}return z.animatable||J.crawl(te,function(Ce){J.isValObject(Ce)&&"anim"in Ce&&delete Ce.anim}),te}(R)});var S={};return Object.keys(s.transformsRegistry).forEach(function(R){var G,X;S[R]=(X=u({},s.transformsRegistry[G=R].attributes),Object.keys(s.componentsRegistry).forEach(function(W){var Z=s.componentsRegistry[W];Z.schema&&Z.schema.transforms&&Z.schema.transforms[G]&&Object.keys(Z.schema.transforms[G]).forEach(function(ne){E(X,Z.schema.transforms[G][ne],ne)})}),{attributes:I(X)})}),{defs:{valObjects:w,metaKeys:N.concat(["description","role","editType","impliedEdits"]),editType:{traces:h.traces,layout:h.layout},impliedEdits:{}},traces:P,layout:L(),transforms:S,frames:H(),animation:I(m),config:I(d)}},J.crawl=function(P,S,R,G){var z=R||0;G=G||"",Object.keys(P).forEach(function(X){var W=P[X];if(-1===N.indexOf(X)){var Z=(G?G+".":"")+X;S(W,X,P,z,Z),J.isValObject(W)||C(W)&&"impliedEdits"!==X&&J.crawl(W,S,z+1,Z)}})},J.isValObject=function(P){return P&&void 0!==P.valType},J.findArrayAttributes=function(P){var S,R,G=[],z=[],X=[];function W(Ce,ie,Q,le){z=z.slice(0,le).concat([ie]),X=X.slice(0,le).concat([Ce&&Ce._isLinkedToArray]),Ce&&("data_array"===Ce.valType||!0===Ce.arrayOk)&&("colorbar"!==z[le-1]||"ticktext"!==ie&&"tickvals"!==ie)&&function j($,se,ee){var F=$[z[se]],O=ee+z[se];if(se===z.length-1)b(F)&&G.push(R+O);else if(X[se]){if(Array.isArray(F))for(var Y=0;Y<F.length;Y++)C(F[Y])&&j(F[Y],se+1,O+"["+Y+"].")}else C(F)&&j(F,se+1,O+".")}(S,0,"")}S=P,R="",J.crawl(p,W),P._module&&P._module.attributes&&J.crawl(P._module.attributes,W);var Z=P.transforms;if(Z)for(var ne=0;ne<Z.length;ne++){var te=Z[ne],oe=te._module;oe&&(R="transforms["+ne+"].",S=te,J.crawl(oe.attributes,W))}return G},J.getTraceValObject=function(P,S){var R,G,z=S[0],X=1;if("transforms"===z){if(1===S.length)return p.transforms;var W=P.transforms;if(!Array.isArray(W)||!W.length)return!1;var Z=S[1];if(!V(Z)||Z>=W.length)return!1;G=(R=(s.transformsRegistry[W[Z].type]||{}).attributes)&&R[S[2]],X=3}else{var ne=P._module;if(ne||(ne=(s.modules[P.type||p.type.dflt]||{})._module),!ne)return!1;if(!(G=(R=ne.attributes)&&R[z])){var te=ne.basePlotModule;te&&te.attributes&&(G=te.attributes[z])}G||(G=p[z])}return A(G,S,X)},J.getLayoutValObject=function(P,S){return A(function(R,G){var z,X,W,Z,ne=R._basePlotModules;if(ne){var te;for(z=0;z<ne.length;z++){if((W=ne[z]).attrRegex&&W.attrRegex.test(G)){if(W.layoutAttrOverrides)return W.layoutAttrOverrides;!te&&W.layoutAttributes&&(te=W.layoutAttributes)}var oe=W.baseLayoutAttrOverrides;if(oe&&G in oe)return oe[G]}if(te)return te}var Ce=R._modules;if(Ce)for(z=0;z<Ce.length;z++)if((Z=Ce[z].layoutAttributes)&&G in Z)return Z[G];for(X in s.componentsRegistry){if("colorscale"===(W=s.componentsRegistry[X]).name&&0===G.indexOf("coloraxis"))return W.layoutAttributes[G];if(!W.schema&&G===W.name)return W.layoutAttributes}return G in c&&c[G]}(P,S[0]),S,1)}},{"../lib":232,"../plots/animation_attributes":273,"../plots/attributes":275,"../plots/frame_attributes":311,"../plots/layout_attributes":314,"../registry":318,"./edit_types":261,"./plot_config":266}],268:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("../plots/attributes"),p={name:{valType:"string",editType:"none"}};function c(m){return m&&"string"==typeof m}function l(m){return"s"!==m.charAt(m.length-1)&&s.warn("bad argument to arrayDefaultKey: "+m),m.substr(0,m.length-1)+"defaults"}p.templateitemname={valType:"string",editType:"calc"},J.templatedArray=function(m,d){return d._isLinkedToArray=m,d.name=p.name,d.templateitemname=p.templateitemname,d},J.traceTemplater=function(m){var d,h,u={};for(d in m)h=m[d],Array.isArray(h)&&h.length&&(u[d]=0);return{newTrace:function(C){var b={type:d=s.coerce(C,{},g,"type"),_template:null};if(d in u){var M=u[d]%(h=m[d]).length;u[d]++,b._template=h[M]}return b}}},J.newContainer=function(m,d,h){var u=m._template,C=u&&(u[d]||h&&u[h]);return s.isPlainObject(C)||(C=null),m[d]={_template:C}},J.arrayTemplater=function(m,d,h){var u=m._template,C=u&&u[l(d)],b=u&&u[d];Array.isArray(b)&&b.length||(b=[]);var M={};return{newItem:function(w){var N={name:w.name,_input:w},A=N.templateitemname=w.templateitemname;if(!c(A))return N._template=C,N;for(var V=0;V<b.length;V++){var L=b[V];if(L.name===A)return M[A]=1,N._template=L,N}return N[h]=w[h]||!1,N._template=!1,N},defaultItems:function(){for(var w=[],N=0;N<b.length;N++){var A=b[N],V=A.name;if(c(V)&&!M[V]){var L={_template:A,name:V,_input:{_templateitemname:V}};L.templateitemname=A.templateitemname,w.push(L),M[V]=1}}return w}}},J.arrayDefaultKey=l,J.arrayEditor=function(m,d,h){var u=(s.nestedProperty(m,d).get()||[]).length,C=h._index,b=C>=u&&(h._input||{})._templateitemname;b&&(C=u);var M,w=d+"["+C+"]";function N(){M={},b&&(M[w]={},M[w].templateitemname=b)}function A(L,H){b?s.nestedProperty(M[w],L).set(H):M[w+"."+L]=H}function V(){var L=M;return N(),L}return N(),{modifyBase:function(L,H){M[L]=H},modifyItem:A,getUpdateObj:V,applyUpdate:function(L,H){L&&A(L,H);var I=V();for(var D in I)s.nestedProperty(m,D).set(I[D])}}}},{"../lib":232,"../plots/attributes":275}],269:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../registry"),p=v("../plots/plots"),c=v("../lib"),l=v("../lib/clear_gl_canvases"),m=v("../components/color"),d=v("../components/drawing"),h=v("../components/titles"),u=v("../components/modebar"),C=v("../plots/cartesian/axes"),b=v("../constants/alignment"),M=v("../plots/cartesian/constraints"),w=M.enforce,N=M.clean,A=v("../plots/cartesian/autorange").doAutoRange;function V(S,R,G){for(var z=0;z<G.length;z++){var X=G[z][0],W=G[z][1];if(!(X[0]>=S[1]||X[1]<=S[0])&&W[0]<R[1]&&W[1]>R[0])return!0}return!1}function L(S){var R,G,z,X,W,Z,ne=S._fullLayout,te=ne._size,oe=te.p,Ce=C.list(S,"",!0);if(ne._paperdiv.style({width:S._context.responsive&&ne.autosize&&!S._context._hasZeroWidth&&!S.layout.width?"100%":ne.width+"px",height:S._context.responsive&&ne.autosize&&!S._context._hasZeroHeight&&!S.layout.height?"100%":ne.height+"px"}).selectAll(".main-svg").call(d.setSize,ne.width,ne.height),S._context.setBackground(S,ne.paper_bgcolor),J.drawMainTitle(S),u.manage(S),!ne._has("cartesian"))return p.previousPromises(S);function ie(Xe,mt,_t){var yt=Xe._lw/2;return"x"===Xe._id.charAt(0)?mt?"top"===_t?mt._offset-oe-yt:mt._offset+mt._length+oe+yt:te.t+te.h*(1-(Xe.position||0))+yt%1:mt?"right"===_t?mt._offset+mt._length+oe+yt:mt._offset-oe-yt:te.l+te.w*(Xe.position||0)+yt%1}for(R=0;R<Ce.length;R++){var Q=(X=Ce[R])._anchorAxis;X._linepositions={},X._lw=d.crispRound(S,X.linewidth,1),X._mainLinePosition=ie(X,Q,X.side),X._mainMirrorPosition=X.mirror&&Q?ie(X,Q,b.OPPOSITE_SIDE[X.side]):null}var le=[],j=[],$=[],se=1===m.opacity(ne.paper_bgcolor)&&1===m.opacity(ne.plot_bgcolor)&&ne.paper_bgcolor===ne.plot_bgcolor;for(G in ne._plots)if((z=ne._plots[G]).mainplot)z.bg&&z.bg.remove(),z.bg=void 0;else{var ee=z.xaxis.domain,F=z.yaxis.domain,O=z.plotgroup;if(V(ee,F,$)){var Y=O.node(),B=z.bg=c.ensureSingle(O,"rect","bg");Y.insertBefore(B.node(),Y.childNodes[0]),j.push(G)}else O.select("rect.bg").remove(),$.push([ee,F]),se||(le.push(G),j.push(G))}var ae,ue,fe,he,xe,be,Ve,Ae,Oe,Re,tt,Ke,$e,Me=ne._bgLayer.selectAll(".bg").data(le);for(Me.enter().append("rect").classed("bg",!0),Me.exit().remove(),Me.each(function(Xe){ne._plots[Xe].bg=s.select(this)}),R=0;R<j.length;R++)W=(z=ne._plots[j[R]]).xaxis,Z=z.yaxis,z.bg&&void 0!==W._offset&&void 0!==Z._offset&&z.bg.call(d.setRect,W._offset-oe,Z._offset-oe,W._length+2*oe,Z._length+2*oe).call(m.fill,ne.plot_bgcolor).style("stroke-width",0);if(!ne._hasOnlyLargeSploms)for(G in ne._plots){W=(z=ne._plots[G]).xaxis,Z=z.yaxis;var ve,Se,Te=z.clipId="clip"+ne._uid+G+"plot",qe=c.ensureSingleById(ne._clips,"clipPath",Te,function(Xe){Xe.classed("plotclip",!0).append("rect")});z.clipRect=qe.select("rect").attr({width:W._length,height:Z._length}),d.setTranslate(z.plot,W._offset,Z._offset),z._hasClipOnAxisFalse?(ve=null,Se=Te):(ve=Te,Se=null),d.setClipUrl(z.plot,ve,S),z.layerClipId=Se}function Ee(Xe){return"M"+ae+","+Xe+"H"+ue}function Ie(Xe){return"M"+W._offset+","+Xe+"h"+W._length}function Qe(Xe){return"M"+Xe+","+Ae+"V"+Ve}function nt(Xe){return"M"+Xe+","+Z._offset+"v"+Z._length}function Ye(Xe,mt,_t){if(!Xe.showline||G!==Xe._mainSubplot)return"";if(!Xe._anchorAxis)return _t(Xe._mainLinePosition);var yt=mt(Xe._mainLinePosition);return Xe.mirror&&(yt+=mt(Xe._mainMirrorPosition)),yt}for(G in ne._plots){Z=(z=ne._plots[G]).yaxis;var rt="M0,0";H(W=z.xaxis,G)&&(xe=D(W,"left",Z,Ce),ae=W._offset-(xe?oe+xe:0),be=D(W,"right",Z,Ce),ue=W._offset+W._length+(be?oe+be:0),fe=ie(W,Z,"bottom"),he=ie(W,Z,"top"),!($e=!W._anchorAxis||G!==W._mainSubplot)||"allticks"!==W.mirror&&"all"!==W.mirror||(W._linepositions[G]=[fe,he]),rt=Ye(W,Ee,Ie),$e&&W.showline&&("all"===W.mirror||"allticks"===W.mirror)&&(rt+=Ee(fe)+Ee(he)),z.xlines.style("stroke-width",W._lw+"px").call(m.stroke,W.showline?W.linecolor:"rgba(0,0,0,0)")),z.xlines.attr("d",rt);var dt="M0,0";H(Z,G)&&(tt=D(Z,"bottom",W,Ce),Ve=Z._offset+Z._length+(tt?oe:0),Ke=D(Z,"top",W,Ce),Ae=Z._offset-(Ke?oe:0),Oe=ie(Z,W,"left"),Re=ie(Z,W,"right"),!($e=!Z._anchorAxis||G!==Z._mainSubplot)||"allticks"!==Z.mirror&&"all"!==Z.mirror||(Z._linepositions[G]=[Oe,Re]),dt=Ye(Z,Qe,nt),$e&&Z.showline&&("all"===Z.mirror||"allticks"===Z.mirror)&&(dt+=Qe(Oe)+Qe(Re)),z.ylines.style("stroke-width",Z._lw+"px").call(m.stroke,Z.showline?Z.linecolor:"rgba(0,0,0,0)")),z.ylines.attr("d",dt)}return C.makeClipPaths(S),p.previousPromises(S)}function H(S,R){return(S.ticks||S.showline)&&(R===S._mainSubplot||"all"===S.mirror||"allticks"===S.mirror)}function I(S,R,G){if(!G.showline||!G._lw)return!1;if("all"===G.mirror||"allticks"===G.mirror)return!0;var z=G._anchorAxis;if(!z)return!1;var X=b.FROM_BL[R];return G.side===R?z.domain[X]===S.domain[X]:G.mirror&&z.domain[1-X]===S.domain[1-X]}function D(S,R,G,z){if(I(S,R,G))return G._lw;for(var X=0;X<z.length;X++){var W=z[X];if(W._mainAxis===G._mainAxis&&I(S,R,W))return W._lw}return 0}function E(S,R){var G=S.title,z=S._size,X=0;return"paper"===("start"===R?X=G.pad.l:"end"===R&&(X=-G.pad.r),G.xref)?z.l+z.w*G.x+X:S.width*G.x+X}function P(S,R){var G=S.title,z=S._size,X=0;return"0em"!==R&&R?R===b.CAP_SHIFT+"em"&&(X=G.pad.t):X=-G.pad.b,"auto"===G.y?z.t/2:"paper"===G.yref?z.t+z.h-z.h*G.y+X:S.height-S.height*G.y+X}J.layoutStyles=function(S){return c.syncOrAsync([p.doAutoMargin,L],S)},J.drawMainTitle=function(S){var W,Z,R=S._fullLayout,G=(Z="middle",c.isRightAnchor(W=R.title)?Z="end":c.isLeftAnchor(W)&&(Z="start"),Z),z=function(X){var W=X.title,Z="0em";return c.isTopAnchor(W)?Z=b.CAP_SHIFT+"em":c.isMiddleAnchor(W)&&(Z=b.MID_SHIFT+"em"),Z}(R);h.draw(S,"gtitle",{propContainer:R,propName:"title.text",placeholder:R._dfltTitle.plot,attributes:{x:E(R,G),y:P(R,z),"text-anchor":G,dy:z}})},J.doTraceStyle=function(S){var R,G=S.calcdata,z=[];for(R=0;R<G.length;R++){var X=G[R],W=X[0]||{},Z=W.trace||{},ne=Z._module||{},te=ne.arraysToCalcdata;te&&te(X,Z);var oe=ne.editStyle;oe&&z.push({fn:oe,cd0:W})}if(z.length){for(R=0;R<z.length;R++){var Ce=z[R];Ce.fn(S,Ce.cd0)}l(S),J.redrawReglTraces(S)}return p.style(S),g.getComponentMethod("legend","draw")(S),p.previousPromises(S)},J.doColorBars=function(S){return g.getComponentMethod("colorbar","draw")(S),p.previousPromises(S)},J.layoutReplot=function(S){var R=S.layout;return S.layout=void 0,g.call("_doPlot",S,"",R)},J.doLegend=function(S){return g.getComponentMethod("legend","draw")(S),p.previousPromises(S)},J.doTicksRelayout=function(S){return C.draw(S,"redraw"),S._fullLayout._hasOnlyLargeSploms&&(g.subplotsRegistry.splom.updateGrid(S),l(S),J.redrawReglTraces(S)),J.drawMainTitle(S),p.previousPromises(S)},J.doModeBar=function(S){var R=S._fullLayout;u.manage(S);for(var G=0;G<R._basePlotModules.length;G++){var z=R._basePlotModules[G].updateFx;z&&z(S)}return p.previousPromises(S)},J.doCamera=function(S){for(var R=S._fullLayout,G=R._subplots.gl3d,z=0;z<G.length;z++){var X=R[G[z]];X._scene.setViewport(X)}},J.drawData=function(S){var R=S._fullLayout;l(S);for(var G=R._basePlotModules,z=0;z<G.length;z++)G[z].plot(S);return J.redrawReglTraces(S),p.style(S),g.getComponentMethod("shapes","draw")(S),g.getComponentMethod("annotations","draw")(S),g.getComponentMethod("images","draw")(S),R._replotting=!1,p.previousPromises(S)},J.redrawReglTraces=function(S){var R=S._fullLayout;if(R._has("regl")){var G,z,X=S._fullData,W=[],Z=[];for(R._hasOnlyLargeSploms&&R._splomGrid.draw(),G=0;G<X.length;G++){var ne=X[G];!0===ne.visible&&0!==ne._length&&("splom"===ne.type?R._splomScenes[ne.uid].draw():"scattergl"===ne.type?c.pushUnique(W,ne.xaxis+ne.yaxis):"scatterpolargl"===ne.type&&c.pushUnique(Z,ne.subplot))}for(G=0;G<W.length;G++)(z=R._plots[W[G]])._scene&&z._scene.draw();for(G=0;G<Z.length;G++)(z=R[Z[G]]._subplot)._scene&&z._scene.draw()}},J.doAutoRangeAndConstraints=function(S){for(var R,G=C.list(S,"",!0),z={},X=0;X<G.length;X++)if(!z[(R=G[X])._id]){z[R._id]=1,N(S,R),A(S,R);var W=R._matchGroup;if(W)for(var Z in W){var ne=C.getFromId(S,Z);A(S,ne,R.range),z[Z]=1}}w(S)},J.finalDraw=function(S){g.getComponentMethod("rangeslider","draw")(S),g.getComponentMethod("rangeselector","draw")(S)},J.drawMarginPushers=function(S){g.getComponentMethod("legend","draw")(S),g.getComponentMethod("rangeselector","draw")(S),g.getComponentMethod("sliders","draw")(S),g.getComponentMethod("updatemenus","draw")(S),g.getComponentMethod("colorbar","draw")(S)}},{"../components/color":102,"../components/drawing":124,"../components/modebar":165,"../components/titles":200,"../constants/alignment":207,"../lib":232,"../lib/clear_gl_canvases":220,"../plots/cartesian/autorange":278,"../plots/cartesian/axes":279,"../plots/cartesian/constraints":287,"../plots/plots":316,"../registry":318,"@plotly/d3":11}],270:[function(v,pe,J){"use strict";var s=v("../lib"),g=s.isPlainObject,p=v("./plot_schema"),c=v("../plots/plots"),l=v("../plots/attributes"),m=v("./plot_template"),d=v("./plot_config").dfltConfig;function h(V,L){V=s.extendDeep({},V);var H,I,D=Object.keys(V).sort();function E(z,X,W){if(g(X)&&g(z))h(z,X);else if(Array.isArray(X)&&Array.isArray(z)){var Z=m.arrayTemplater({_template:V},W);for(I=0;I<X.length;I++){var ne=X[I],te=Z.newItem(ne)._template;te&&h(te,ne)}var oe=Z.defaultItems();for(I=0;I<oe.length;I++)X.push(oe[I]._template);for(I=0;I<X.length;I++)delete X[I].templateitemname}}for(H=0;H<D.length;H++){var P=D[H],S=V[P];if(P in L?E(S,L[P],P):L[P]=S,u(P)===P)for(var R in L){var G=u(R);R===G||G!==P||R in V||E(S,L[R],P)}}}function u(V){return V.replace(/[0-9]+$/,"")}function C(V,L,H,I,D){var E=D&&H(D);for(var P in V){var S=V[P],R=w(V,P,I),G=w(V,P,D),z=H(G);if(!z){var X=u(P);X!==P&&(z=H(G=w(V,X,D)))}if(!(E&&E===z||!z||z._noTemplating||"data_array"===z.valType||z.arrayOk&&Array.isArray(S)))if(!z.valType&&g(S))C(S,L,H,R,G);else if(z._isLinkedToArray&&Array.isArray(S))for(var W=!1,Z=0,ne={},te=0;te<S.length;te++){var oe=S[te];if(g(oe)){var Ce=oe.name;if(Ce)ne[Ce]||(C(oe,L,H,w(S,Z,R),w(S,Z,G)),Z++,ne[Ce]=1);else if(!W){var ie=w(V,m.arrayDefaultKey(P),I),Q=w(S,Z,R);C(oe,L,H,Q,w(S,Z,G));var le=s.nestedProperty(L,Q);s.nestedProperty(L,ie).set(le.get()),le.set(null),W=!0}}}else s.nestedProperty(L,R).set(S)}}function b(V,L){return p.getLayoutValObject(V,s.nestedProperty({},L).parts)}function M(V,L){return p.getTraceValObject(V,s.nestedProperty({},L).parts)}function w(V,L,H){return H?Array.isArray(V)?H+"["+L+"]":H+"."+L:L}function N(V){for(var L=0;L<V.length;L++)if(g(V[L]))return!0}function A(V){var L;switch(V.code){case"data":L="The template has no key data.";break;case"layout":L="The template has no key layout.";break;case"missing":L=V.path?"There are no templates for item "+V.path+" with name "+V.templateitemname:"There are no templates for trace "+V.index+", of type "+V.traceType+".";break;case"unused":L=V.path?"The template item at "+V.path+" was not used in constructing the plot.":V.dataCount?"Some of the templates of type "+V.traceType+" were not used. The template has "+V.templateCount+" traces, the data only has "+V.dataCount+" of this type.":"The template has "+V.templateCount+" traces of type "+V.traceType+" but there are none in the data.";break;case"reused":L="Some of the templates of type "+V.traceType+" were used more than once. The template has "+V.templateCount+" traces, the data has "+V.dataCount+" of this type."}return V.msg=L,V}J.makeTemplate=function(V){V=s.isPlainObject(V)?V:s.getGraphDiv(V),V=s.extendDeep({_context:d},{data:V.data,layout:V.layout}),c.supplyDefaults(V);var L=V.data||[],H=V.layout||{};H._basePlotModules=V._fullLayout._basePlotModules,H._modules=V._fullLayout._modules;var I={data:{},layout:{}};L.forEach(function(Z){var ne={};C(Z,ne,M.bind(null,Z));var te=s.coerce(Z,{},l,"type"),oe=I.data[te];oe||(oe=I.data[te]=[]),oe.push(ne)}),C(H,I.layout,b.bind(null,H)),delete I.layout.template;var D=H.template;if(g(D)){var E,P,S,R,G,z,X=D.layout;g(X)&&h(X,I.layout);var W=D.data;if(g(W)){for(P in I.data)if(S=W[P],Array.isArray(S)){for(z=(G=I.data[P]).length,R=S.length,E=0;E<z;E++)h(S[E%R],G[E]);for(E=z;E<R;E++)G.push(s.extendDeep({},S[E]))}for(P in W)P in I.data||(I.data[P]=s.extendDeep([],W[P]))}}return I},J.validateTemplate=function(V,L){var H=s.extendDeep({},{_context:d,data:V.data,layout:V.layout}),I=H.layout||{};g(L)||(L=I.template||{});var D=L.layout,E=L.data,P=[];H.layout=I,H.layout.template=L,c.supplyDefaults(H);var S=H._fullLayout,R=H._fullData,G={};if(g(D)?(function oe(Ce,ie){for(var Q in Ce)if("_"!==Q.charAt(0)&&g(Ce[Q])){var le,j=u(Q),$=[];for(le=0;le<ie.length;le++)$.push(w(Ce,Q,ie[le])),j!==Q&&$.push(w(Ce,j,ie[le]));for(le=0;le<$.length;le++)G[$[le]]=1;oe(Ce[Q],$)}}(S,["layout"]),function oe(Ce,ie){for(var Q in Ce)if(-1===Q.indexOf("defaults")&&g(Ce[Q])){var le=w(Ce,Q,ie);G[le]?oe(Ce[Q],le):P.push({code:"unused",path:le})}}(D,"layout")):P.push({code:"layout"}),g(E)){for(var z,X={},W=0;W<R.length;W++){var Z=R[W];X[z=Z.type]=(X[z]||0)+1,Z._fullInput._template||P.push({code:"missing",index:Z._fullInput.index,traceType:z})}for(z in E){var ne=E[z].length,te=X[z]||0;ne>te?P.push({code:"unused",traceType:z,templateCount:ne,dataCount:te}):te>ne&&P.push({code:"reused",traceType:z,templateCount:ne,dataCount:te})}}else P.push({code:"data"});if(function oe(Ce,ie){for(var Q in Ce)if("_"!==Q.charAt(0)){var le=Ce[Q],j=w(Ce,Q,ie);g(le)?(Array.isArray(Ce)&&!1===le._template&&le.templateitemname&&P.push({code:"missing",path:j,templateitemname:le.templateitemname}),oe(le,j)):Array.isArray(le)&&N(le)&&oe(le,j)}}({data:R,layout:S},""),P.length)return P.map(A)}},{"../lib":232,"../plots/attributes":275,"../plots/plots":316,"./plot_config":266,"./plot_schema":267,"./plot_template":268}],271:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("./plot_api"),p=v("../plots/plots"),c=v("../lib"),l=v("../snapshot/helpers"),m=v("../snapshot/tosvg"),d=v("../snapshot/svgtoimg"),h=v("../version").version,u={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};pe.exports=function(C,b){var M,w,N,A;function V(te){return!(te in b)||c.validate(b[te],u[te])}if(b=b||{},c.isPlainObject(C)?(M=C.data||[],w=C.layout||{},N=C.config||{},A={}):(C=c.getGraphDiv(C),M=c.extendDeep([],C.data),w=c.extendDeep({},C.layout),N=C._context,A=C._fullLayout||{}),!V("width")&&null!==b.width||!V("height")&&null!==b.height)throw new Error("Height and width should be pixel values.");if(!V("format"))throw new Error("Export format is not "+c.join2(u.format.values,", "," or ")+".");var L={};function H(te,oe){return c.coerce(b,L,u,te,oe)}var I=H("format"),D=H("width"),E=H("height"),P=H("scale"),S=H("setBackground"),R=H("imageDataOnly"),G=document.createElement("div");G.style.position="absolute",G.style.left="-5000px",document.body.appendChild(G);var z=c.extendFlat({},w);D?z.width=D:null===b.width&&s(A.width)&&(z.width=A.width),E?z.height=E:null===b.height&&s(A.height)&&(z.height=A.height);var X=c.extendFlat({},N,{_exportedPlot:!0,staticPlot:!0,setBackground:S}),W=l.getRedrawFunc(G);function Z(){return new Promise(function(te){setTimeout(te,l.getDelay(G._fullLayout))})}function ne(){return new Promise(function(te,oe){var Ce=m(G,I,P),ie=G._fullLayout.width,Q=G._fullLayout.height;function le(){g.purge(G),document.body.removeChild(G)}if("full-json"===I){var j=p.graphJson(G,!1,"keepdata","object",!0,!0);return j.version=h,j=JSON.stringify(j),le(),te(R?j:l.encodeJSON(j))}if(le(),"svg"===I)return te(R?Ce:l.encodeSVG(Ce));var $=document.createElement("canvas");$.id=c.randstr(),d({format:I,width:ie,height:Q,scale:P,canvas:$,svg:Ce,promise:!0}).then(te).catch(oe)})}return new Promise(function(te,oe){g.newPlot(G,M,z,X).then(W).then(Z).then(ne).then(function(Ce){var ie;te((ie=Ce,R?ie.replace(l.IMAGE_URL_PREFIX,""):ie))}).catch(function(Ce){oe(Ce)})})}},{"../lib":232,"../plots/plots":316,"../snapshot/helpers":322,"../snapshot/svgtoimg":324,"../snapshot/tosvg":326,"../version":391,"./plot_api":265,"fast-isnumeric":17}],272:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("../plots/plots"),p=v("./plot_schema"),c=v("./plot_config").dfltConfig,l=s.isPlainObject,m=Array.isArray,d=s.isArrayOrTypedArray;function h(L,H,I,D,E,P){P=P||[];for(var S=Object.keys(L),R=0;R<S.length;R++){var G=S[R];if("transforms"!==G){var z=P.slice();z.push(G);var X=L[G],W=H[G],Z=N(I,G),ne=(Z||{}).valType,te="info_array"===ne,oe="colorscale"===ne,Ce=(Z||{}).items;if(w(I,G))if(l(X)&&l(W)&&"any"!==ne)h(X,W,Z,D,E,z);else if(te&&m(X)){X.length>W.length&&D.push(M("unused",E,z.concat(W.length)));var ie,Q,j,$,se=W.length,ee=Array.isArray(Ce);if(ee&&(se=Math.min(se,Ce.length)),2===Z.dimensions)for(Q=0;Q<se;Q++)if(m(X[Q])){X[Q].length>W[Q].length&&D.push(M("unused",E,z.concat(Q,W[Q].length)));var F=W[Q].length;for(ie=0;ie<(ee?Math.min(F,Ce[Q].length):F);ie++)$=W[Q][ie],s.validate(j=X[Q][ie],ee?Ce[Q][ie]:Ce)?$!==j&&$!==+j&&D.push(M("dynamic",E,z.concat(Q,ie),j,$)):D.push(M("value",E,z.concat(Q,ie),j))}else D.push(M("array",E,z.concat(Q),X[Q]));else for(Q=0;Q<se;Q++)$=W[Q],s.validate(j=X[Q],ee?Ce[Q]:Ce)?$!==j&&$!==+j&&D.push(M("dynamic",E,z.concat(Q),j,$)):D.push(M("value",E,z.concat(Q),j))}else if(Z.items&&!te&&m(X)){var O,Y,B=Ce[Object.keys(Ce)[0]],ae=[];for(O=0;O<W.length;O++){var ue=W[O]._index||O;if((Y=z.slice()).push(ue),l(X[ue])&&l(W[O])){ae.push(ue);var fe=X[ue],he=W[O];l(fe)&&!1!==fe.visible&&!1===he.visible?D.push(M("invisible",E,Y)):h(fe,he,B,D,E,Y)}}for(O=0;O<X.length;O++)(Y=z.slice()).push(O),l(X[O])?-1===ae.indexOf(O)&&D.push(M("unused",E,Y)):D.push(M("object",E,Y,X[O]))}else!l(X)&&l(W)?D.push(M("object",E,z,X)):d(X)||!d(W)||te||oe?G in H?s.validate(X,Z)?"enumerated"===Z.valType&&(Z.coerceNumber&&X!==+W||X!==W)&&D.push(M("dynamic",E,z,X,W)):D.push(M("value",E,z,X)):D.push(M("unused",E,z,X)):D.push(M("array",E,z,X));else D.push(M("schema",E,z))}}return D}function u(L,H){for(var I=L.layout.layoutAttributes,D=0;D<H.length;D++){var E=H[D],P=L.traces[E.type],S=P.layoutAttributes;S&&s.extendFlat(E.subplot?I[P.attributes.subplot.dflt]:I,S)}return I}pe.exports=function(L,H){void 0===L&&(L=[]),void 0===H&&(H={});var I,D,E=p.get(),P=[],S={_context:s.extendFlat({},c)};m(L)?(S.data=s.extendDeep([],L),I=L):(S.data=[],I=[],P.push(M("array","data"))),l(H)?(S.layout=s.extendDeep({},H),D=H):(S.layout={},D={},arguments.length>1&&P.push(M("object","layout"))),g.supplyDefaults(S);for(var R=S._fullData,G=I.length,z=0;z<G;z++){var X=I[z],W=["data",z];if(l(X)){var Z=R[z],ne=Z.type,te=E.traces[ne].attributes;te.type={valType:"enumerated",values:[ne]},!1===Z.visible&&!1!==X.visible&&P.push(M("invisible",W)),h(X,Z,te,P,W);var oe=X.transforms,Ce=Z.transforms;if(oe){m(oe)||P.push(M("array",W,["transforms"])),W.push("transforms");for(var ie=0;ie<oe.length;ie++){var Q=["transforms",ie],le=oe[ie].type;if(l(oe[ie])){var j=E.transforms[le]?E.transforms[le].attributes:{};j.type={valType:"enumerated",values:Object.keys(E.transforms)},h(oe[ie],Ce[ie],j,P,W,Q)}else P.push(M("object",W,Q))}}}else P.push(M("object",W))}return h(D,S._fullLayout,u(E,R),P,"layout"),0===P.length?void 0:P};var C={object:function(L,H){return("layout"===L&&""===H?"The layout argument":"data"===L[0]&&""===H?"Trace "+L[1]+" in the data argument":b(L)+"key "+H)+" must be linked to an object container"},array:function(L,H){return("data"===L?"The data argument":b(L)+"key "+H)+" must be linked to an array container"},schema:function(L,H){return b(L)+"key "+H+" is not part of the schema"},unused:function(L,H,I){var D=l(I)?"container":"key";return b(L)+D+" "+H+" did not get coerced"},dynamic:function(L,H,I,D){return[b(L)+"key",H,"(set to '"+I+"')","got reset to","'"+D+"'","during defaults."].join(" ")},invisible:function(L,H){return(H?b(L)+"item "+H:"Trace "+L[1])+" got defaulted to be not visible"},value:function(L,H,I){return[b(L)+"key "+H,"is set to an invalid value ("+I+")"].join(" ")}};function b(L){return m(L)?"In data trace "+L[1]+", ":"In "+L+", "}function M(L,H,I,D,E){var P,S;I=I||"",m(H)?(P=H[0],S=H[1]):(P=H,S=null);var R=function(z){if(!m(z))return String(z);for(var X="",W=0;W<z.length;W++){var Z=z[W];"number"==typeof Z?X=X.substr(0,X.length-1)+"["+Z+"]":X+=Z,W<z.length-1&&(X+=".")}return X}(I),G=C[L](H,R,D,E);return s.log(G),{code:L,container:P,trace:S,path:I,astr:R,msg:G}}function w(L,H){var I=V(H),D=I.keyMinusId;return!!(D in L&&L[D]._isSubplotObj&&I.id)||H in L}function N(L,H){return H in L?L[H]:L[V(H).keyMinusId]}var A=s.counterRegex("([a-z]+)");function V(L){var H=L.match(A);return{keyMinusId:H&&H[1],id:H&&H[2]}}},{"../lib":232,"../plots/plots":316,"./plot_config":266,"./plot_schema":267}],273:[function(v,pe,J){"use strict";pe.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],274:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("../plot_api/plot_template");pe.exports=function(p,c,l){var m,d,h=l.name,u=l.inclusionAttr||"visible",C=c[h],b=s.isArrayOrTypedArray(p[h])?p[h]:[],M=c[h]=[],w=g.arrayTemplater(c,h,u);for(m=0;m<b.length;m++){var N=b[m];s.isPlainObject(N)?d=w.newItem(N):(d=w.newItem({}))[u]=!1,d._index=m,!1!==d[u]&&l.handleItemDefaults(N,d,c,l),M.push(d)}var A=w.defaultItems();for(m=0;m<A.length;m++)(d=A[m])._index=M.length,l.handleItemDefaults({},d,c,l,{}),M.push(d);if(s.isArrayOrTypedArray(C)){var V=Math.min(C.length,M.length);for(m=0;m<V;m++)s.relinkPrivateKeys(M[m],C[m])}return M}},{"../lib":232,"../plot_api/plot_template":268}],275:[function(v,pe,J){"use strict";var s=v("./font_attributes"),g=v("../components/fx/attributes");pe.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:s({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:g.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":133,"./font_attributes":310}],276:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib"),p=g.dateTime2ms,c=g.incrementMonth,l=v("../../constants/numerical").ONEAVGMONTH;pe.exports=function(m,d,h,u){if("date"!==d.type)return{vals:u};var C=m[h+"periodalignment"];if(!C)return{vals:u};var b,M=m[h+"period"];if(s(M)){if((M=+M)<=0)return{vals:u}}else if("string"==typeof M&&"M"===M.charAt(0)){var w=+M.substring(1);if(!(w>0&&Math.round(w)===w))return{vals:u};b=w}for(var N=d.calendar,A="start"===C,V="end"===C,H=p(m[h+"period0"],N)||0,I=[],D=[],E=[],P=u.length,S=0;S<P;S++){var R,G,z,X=u[S];if(b){for(R=Math.round((X-H)/(b*l)),z=c(H,b*R,N);z>X;)z=c(z,-b,N);for(;z<=X;)z=c(z,b,N);G=c(z,-b,N)}else{for(z=H+(R=Math.round((X-H)/M))*M;z>X;)z-=M;for(;z<=X;)z+=M;G=z-M}I[S]=A?G:V?z:(G+z)/2,D[S]=G,E[S]=z}return{vals:I,starts:D,ends:E}}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],277:[function(v,pe,J){"use strict";pe.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],278:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("fast-isnumeric"),p=v("../../lib"),c=v("../../constants/numerical").FP_SAFE,l=v("../../registry"),m=v("../../components/drawing"),d=v("./axis_ids"),h=d.getFromId,u=d.isLinked;function C(D,E){var P,S,R=[],G=D._fullLayout,z=M(G,E,0),X=M(G,E,1),W=w(D,E),Z=W.min,ne=W.max;if(0===Z.length||0===ne.length)return p.simpleMap(E.range,E.r2l);var te=Z[0].val,oe=ne[0].val;for(P=1;P<Z.length&&te===oe;P++)te=Math.min(te,Z[P].val);for(P=1;P<ne.length&&te===oe;P++)oe=Math.max(oe,ne[P].val);var Ce=!1;if(E.range){var ie=p.simpleMap(E.range,E.r2l);Ce=ie[1]<ie[0]}"reversed"===E.autorange&&(Ce=!0,E.autorange=!0);var Q,le,j,$,se,ee,F=E.rangemode,O="tozero"===F,Y="nonnegative"===F,B=E._length,ae=B/10,ue=0;for(P=0;P<Z.length;P++)for(Q=Z[P],S=0;S<ne.length;S++)(ee=(le=ne[S]).val-Q.val-b(E,Q.val,le.val))>0&&((se=B-z(Q)-X(le))>ae?ee/se>ue&&(j=Q,$=le,ue=ee/se):ee/B>ue&&(j={val:Q.val,nopad:1},$={val:le.val,nopad:1},ue=ee/B));if(te===oe){var fe=te-1,he=te+1;if(O)if(0===te)R=[0,1];else{var xe=(te>0?ne:Z).reduce(function(Ve,Ae){return Math.max(Ve,X(Ae))},0),be=te/(1-Math.min(.5,xe/B));R=te>0?[0,be]:[be,0]}else R=Y?[Math.max(0,fe),Math.max(1,he)]:[fe,he]}else O?(j.val>=0&&(j={val:0,nopad:1}),$.val<=0&&($={val:0,nopad:1})):Y&&(j.val-ue*z(j)<0&&(j={val:0,nopad:1}),$.val<=0&&($={val:1,nopad:1})),ue=($.val-j.val-b(E,Q.val,le.val))/(B-z(j)-X($)),R=[j.val-ue*z(j),$.val+ue*X($)];return Ce&&R.reverse(),p.simpleMap(R,E.l2r||Number)}function b(D,E,P){var S=0;if(D.rangebreaks)for(var R=D.locateBreaks(E,P),G=0;G<R.length;G++){var z=R[G];S+=z.max-z.min}return S}function M(D,E,P){var S=.05*E._length,R=E._anchorAxis||{};if(-1!==(E.ticklabelposition||"").indexOf("inside")||-1!==(R.ticklabelposition||"").indexOf("inside")){var G="reversed"===E.autorange;if(!G){var z=p.simpleMap(E.range,E.r2l);G=z[1]<z[0]}G&&(P=!P)}var X=0;return u(D,E._id)||(X=function(W,Z,ne){var te=0,oe="x"===Z._id.charAt(0);for(var Ce in W._plots){var ie=W._plots[Ce];if(Z._id===ie.xaxis._id||Z._id===ie.yaxis._id){var Q=(oe?ie.yaxis:ie.xaxis)||{};if(-1!==(Q.ticklabelposition||"").indexOf("inside")&&(!ne&&("left"===Q.side||"bottom"===Q.side)||ne&&("top"===Q.side||"right"===Q.side))){if(Q._vals){var le=p.deg2rad(Q._tickAngles[Q._id+"tick"]||0),j=Math.abs(Math.cos(le)),$=Math.abs(Math.sin(le));Q._vals[0].bb||Q._selections[Q._id+"tick"].each(function(B){var ae=s.select(this);ae.select(".text-math-group").empty()&&(B.bb=m.bBox(ae.node()))});for(var ee=0;ee<Q._vals.length;ee++){var F=Q._vals[ee].bb;if(F){var O=6+F.width,Y=6+F.height;te=Math.max(te,oe?Math.max(O*j,Y*$):Math.max(Y*j,O*$))}}}"inside"===Q.ticks&&"inside"===Q.ticklabelposition&&(te+=Q.ticklen||0)}}}return te}(D,E,P)),S=Math.max(X,S),"domain"===E.constrain&&E._inputDomain&&(S*=(E._inputDomain[1]-E._inputDomain[0])/(E.domain[1]-E.domain[0])),function(W){return W.nopad?0:W.pad+(W.extrapad?S:X)}}function w(D,E,P){var S,R,G,z=E._id,W=D._fullLayout,Z=[],ne=[];function te(le,j){for(S=0;S<j.length;S++){var $=le[j[S]],se=($._extremes||{})[z];if(!0===$.visible&&se){for(R=0;R<se.min.length;R++)N(Z,(G=se.min[R]).val,G.pad,{extrapad:G.extrapad});for(R=0;R<se.max.length;R++)A(ne,(G=se.max[R]).val,G.pad,{extrapad:G.extrapad})}}}if(te(D._fullData,E._traceIndices),te(W.annotations||[],E._annIndices||[]),te(W.shapes||[],E._shapeIndices||[]),E._matchGroup&&!P)for(var oe in E._matchGroup)if(oe!==E._id){var Ce=h(D,oe),ie=w(D,Ce,!0),Q=E._length/Ce._length;for(R=0;R<ie.min.length;R++)N(Z,(G=ie.min[R]).val,G.pad*Q,{extrapad:G.extrapad});for(R=0;R<ie.max.length;R++)A(ne,(G=ie.max[R]).val,G.pad*Q,{extrapad:G.extrapad})}return{min:Z,max:ne}}function N(D,E,P,S){V(D,E,P,S,H)}function A(D,E,P,S){V(D,E,P,S,I)}function V(D,E,P,S,R){for(var G=S.tozero,z=S.extrapad,X=!0,W=0;W<D.length&&X;W++){var Z=D[W];if(R(Z.val,E)&&Z.pad>=P&&(Z.extrapad||!z)){X=!1;break}R(E,Z.val)&&Z.pad<=P&&(z||!Z.extrapad)&&(D.splice(W,1),W--)}if(X){var ne=G&&0===E;D.push({val:E,pad:ne?0:P,extrapad:!ne&&z})}}function L(D){return g(D)&&Math.abs(D)<c}function H(D,E){return D<=E}function I(D,E){return D>=E}pe.exports={getAutoRange:C,makePadFn:M,doAutoRange:function(D,E,P){if(E.setScale(),E.autorange){E.range=P?P.slice():C(D,E),E._r=E.range.slice(),E._rl=p.simpleMap(E._r,E.r2l);var S=E._input,R={};R[E._attr+".range"]=E.range,R[E._attr+".autorange"]=E.autorange,l.call("_storeDirectGUIEdit",D.layout,D._fullLayout._preGUI,R),S.range=E.range.slice(),S.autorange=E.autorange}var G=E._anchorAxis;if(G&&G.rangeslider){var z=G.rangeslider[E._name];z&&"auto"===z.rangemode&&(z.range=C(D,E)),G._input.rangeslider[E._name]=p.extendFlat({},z)}},findExtremes:function(D,E,P){P||(P={}),D._m||D.setScale();var S,R,G,z,X,W,Z,ne,te,oe=[],Ce=[],ie=E.length,Q=P.padded||!1,le=P.tozero&&("linear"===D.type||"-"===D.type),j="log"===D.type,$=!1,se=P.vpadLinearized||!1;function ee(he){if(Array.isArray(he))return $=!0,function(be){return Math.max(Number(he[be]||0),0)};var xe=Math.max(Number(he||0),0);return function(){return xe}}var F=ee((D._m>0?P.ppadplus:P.ppadminus)||P.ppad||0),O=ee((D._m>0?P.ppadminus:P.ppadplus)||P.ppad||0),Y=ee(P.vpadplus||P.vpad),B=ee(P.vpadminus||P.vpad);if(!$){if(ne=1/0,te=-1/0,j)for(S=0;S<ie;S++)(R=E[S])<ne&&R>0&&(ne=R),R>te&&R<c&&(te=R);else for(S=0;S<ie;S++)(R=E[S])<ne&&R>-c&&(ne=R),R>te&&R<c&&(te=R);E=[ne,te],ie=2}var ae={tozero:le,extrapad:Q};function ue(he){g(G=E[he])&&(W=F(he),Z=O(he),se?(z=D.c2l(G)-B(he),X=D.c2l(G)+Y(he)):(ne=G-B(he),te=G+Y(he),j&&ne<te/10&&(ne=te/10),z=D.c2l(ne),X=D.c2l(te)),le&&(z=Math.min(0,z),X=Math.max(0,X)),L(z)&&N(oe,z,Z,ae),L(X)&&A(Ce,X,W,ae))}var fe=Math.min(6,ie);for(S=0;S<fe;S++)ue(S);for(S=ie-1;S>=fe;S--)ue(S);return{min:oe,max:Ce,opts:P}},concatExtremes:w}},{"../../components/drawing":124,"../../constants/numerical":212,"../../lib":232,"../../registry":318,"./axis_ids":283,"@plotly/d3":11,"fast-isnumeric":17}],279:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("fast-isnumeric"),p=v("../../plots/plots"),c=v("../../registry"),l=v("../../lib"),m=l.strTranslate,d=v("../../lib/svg_text_utils"),h=v("../../components/titles"),u=v("../../components/color"),C=v("../../components/drawing"),b=v("./layout_attributes"),M=v("./clean_ticks"),w=v("../../constants/numerical"),N=w.ONEMAXYEAR,A=w.ONEAVGYEAR,V=w.ONEMINYEAR,L=w.ONEMAXQUARTER,H=w.ONEAVGQUARTER,I=w.ONEMINQUARTER,D=w.ONEMAXMONTH,E=w.ONEAVGMONTH,P=w.ONEMINMONTH,S=w.ONEWEEK,R=w.ONEDAY,G=R/2,z=w.ONEHOUR,X=w.ONEMIN,W=w.ONESEC,Z=w.MINUS_SIGN,ne=w.BADNUM,te={K:"zeroline"},oe={K:"gridline",L:"path"},Ce={K:"minor-gridline",L:"path"},ie={K:"tick",L:"path"},Q={K:"tick",L:"text"},le=v("../../constants/alignment"),j=le.MID_SHIFT,$=le.CAP_SHIFT,se=le.LINE_SPACING,ee=le.OPPOSITE_SIDE,F=pe.exports={};F.setConvert=v("./set_convert");var O=v("./axis_autotype"),Y=v("./axis_ids"),B=Y.idSort,ae=Y.isLinked;F.id2name=Y.id2name,F.name2id=Y.name2id,F.cleanId=Y.cleanId,F.list=Y.list,F.listIds=Y.listIds,F.getFromId=Y.getFromId,F.getFromTrace=Y.getFromTrace;var ue=v("./autorange");function fe(ge){var _e=1e-4*(ge[1]-ge[0]);return[ge[0]-_e,ge[1]+_e]}F.getAutoRange=ue.getAutoRange,F.findExtremes=ue.findExtremes,F.coerceRef=function(ge,_e,We,Je,ft,st){var et=Je.charAt(Je.length-1),ut=We._fullLayout._subplots[et+"axis"],xt=Je+"ref",kt={};return ft||(ft=ut[0]||("string"==typeof st?st:st[0])),st||(st=ft),ut=ut.concat(ut.map(function(Bt){return Bt+" domain"})),kt[xt]={valType:"enumerated",values:ut.concat(st?"string"==typeof st?[st]:st:[]),dflt:ft},l.coerce(ge,_e,kt,xt)},F.getRefType=function(ge){return void 0===ge?ge:"paper"===ge?"paper":"pixel"===ge?"pixel":/( domain)$/.test(ge)?"domain":"range"},F.coercePosition=function(ge,_e,We,Je,ft,st){var et,ut;if("range"!==F.getRefType(Je))et=l.ensureNumber,ut=We(ft,st);else{var xt=F.getFromId(_e,Je);ut=We(ft,st=xt.fraction2r(st)),et=xt.cleanPos}ge[ft]=et(ut)},F.cleanPosition=function(ge,_e,We){return("paper"===We||"pixel"===We?l.ensureNumber:F.getFromId(_e,We).cleanPos)(ge)},F.redrawComponents=function(ge,_e){_e=_e||F.listIds(ge);var We=ge._fullLayout;function Je(ft,st,et,ut){for(var xt=c.getComponentMethod(ft,st),kt={},Bt=0;Bt<_e.length;Bt++)for(var rn=We[F.id2name(_e[Bt])][et],Dt=0;Dt<rn.length;Dt++){var $t=rn[Dt];if(!kt[$t]&&(xt(ge,$t),kt[$t]=1,ut))return}}Je("annotations","drawOne","_annIndices"),Je("shapes","drawOne","_shapeIndices"),Je("images","draw","_imgIndices",!0)};var he=F.getDataConversions=function(ge,_e,We,Je){var ft,st="x"===We||"y"===We||"z"===We?We:Je;if(Array.isArray(st)){if(ft={type:O(Je,void 0,{autotypenumbers:ge._fullLayout.autotypenumbers}),_categories:[]},F.setConvert(ft),"category"===ft.type)for(var et=0;et<Je.length;et++)ft.d2c(Je[et])}else ft=F.getFromTrace(ge,_e,st);return ft?{d2c:ft.d2c,c2d:ft.c2d}:"ids"===st?{d2c:be,c2d:be}:{d2c:xe,c2d:xe}};function xe(ge){return+ge}function be(ge){return String(ge)}function Ve(ge,_e){return Math.abs((ge/_e+.5)%1-.5)<.001}function Ae(ge,_e){return Math.abs(ge/_e-1)<.001}function Oe(ge){return+ge.substring(1)}function Re(ge){var _e=fe(l.simpleMap(ge.range,ge.r2l)),We=Math.min(_e[0],_e[1]),Je=Math.max(_e[0],_e[1]),ft="category"===ge.type?ge.d2l_noadd:ge.d2l;"log"===ge.type&&"L"!==String(ge.dtick).charAt(0)&&(ge.dtick="L"+Math.pow(10,Math.floor(Math.min(ge.range[0],ge.range[1]))-1));for(var st=[],et=0;et<=1;et++)if(!et||ge.minor){var ut=et?ge.minor.tickvals:ge.tickvals,xt=et?[]:ge.ticktext;if(ut){Array.isArray(xt)||(xt=[]);for(var kt=0;kt<ut.length;kt++){var Bt=ft(ut[kt]);if(Bt>We&&Bt<Je){var rn=void 0===xt[kt]?F.tickText(ge,Bt):Ie(ge,Bt,String(xt[kt]));et&&(rn.minor=!0,rn.text=""),st.push(rn)}}}}return ge.rangebreaks&&(st=st.filter(function(Dt){return ge.maskBreaks(Dt.x)!==ne})),st}F.getDataToCoordFunc=function(ge,_e,We,Je){return he(ge,_e,We,Je).d2c},F.counterLetter=function(ge){var _e=ge.charAt(0);return"x"===_e?"y":"y"===_e?"x":void 0},F.minDtick=function(ge,_e,We,Je){-1===["log","category","multicategory"].indexOf(ge.type)&&Je?void 0===ge._minDtick?(ge._minDtick=_e,ge._forceTick0=We):ge._minDtick&&((ge._minDtick/_e+1e-6)%1<2e-6&&((We-ge._forceTick0)/_e%1+1.000001)%1<2e-6?(ge._minDtick=_e,ge._forceTick0=We):((_e/ge._minDtick+1e-6)%1>2e-6||((We-ge._forceTick0)/ge._minDtick%1+1.000001)%1>2e-6)&&(ge._minDtick=0)):ge._minDtick=0},F.saveRangeInitial=function(ge,_e){for(var We=F.list(ge,"",!0),Je=!1,ft=0;ft<We.length;ft++){var st=We[ft],et=void 0===st._rangeInitial;(et&&!1===st.autorange||_e&&(et||st.range[0]!==st._rangeInitial[0]||st.range[1]!==st._rangeInitial[1]))&&(st._rangeInitial=st.range.slice(),Je=!0)}return Je},F.saveShowSpikeInitial=function(ge,_e){for(var We=F.list(ge,"",!0),Je=!1,ft="on",st=0;st<We.length;st++){var et=We[st],ut=void 0===et._showSpikeInitial;(ut||_e&&(ut||et.showspikes!==et._showspikes))&&(et._showSpikeInitial=et.showspikes,Je=!0),"on"!==ft||et.showspikes||(ft="off")}return ge._fullLayout._cartesianSpikesEnabled=ft,Je},F.autoBin=function(ge,_e,We,Je,ft,st){var et,ut=l.aggNums(Math.min,null,ge),xt=l.aggNums(Math.max,null,ge);if("category"===_e.type||"multicategory"===_e.type)return{start:ut-.5,end:xt+.5,size:Math.max(1,Math.round(st)||1),_dataSpan:xt-ut};if(ft||(ft=_e.calendar),et="log"===_e.type?{type:"linear",range:[ut,xt]}:{type:_e.type,range:l.simpleMap([ut,xt],_e.c2r,0,ft),calendar:ft},F.setConvert(et),st=st&&M.dtick(st,et.type))et.dtick=st,et.tick0=M.tick0(void 0,et.type,ft);else{var kt;if(We)kt=(xt-ut)/We;else{var Bt=l.distinctVals(ge),rn=Math.pow(10,Math.floor(Math.log(Bt.minDiff)/Math.LN10)),Dt=rn*l.roundUp(Bt.minDiff/rn,[.9,1.9,4.9,9.9],!0);kt=Math.max(Dt,2*l.stdev(ge)/Math.pow(ge.length,Je?.25:.4)),g(kt)||(kt=1)}F.autoTicks(et,kt)}var $t,fn=et.dtick,At=F.tickIncrement(F.tickFirst(et),fn,"reverse",ft);if("number"==typeof fn)$t=(At=function(Mt,an,Kt,Ut,Jt){var Ft=0,Mn=0,_n=0,wn=0;function Ln(It){return(1+100*(It-Mt)/Kt.dtick)%100<2}for(var $n=0;$n<an.length;$n++)an[$n]%1==0?_n++:g(an[$n])||wn++,Ln(an[$n])&&Ft++,Ln(an[$n]+Kt.dtick/2)&&Mn++;var Dn=an.length-wn;if(_n===Dn&&"date"!==Kt.type)Kt.dtick<1?Mt=Ut-.5*Kt.dtick:(Mt-=.5)+Kt.dtick<Ut&&(Mt+=Kt.dtick);else if(Mn<.1*Dn&&(Ft>.3*Dn||Ln(Ut)||Ln(Jt))){var Zt=Kt.dtick/2;Mt+=Mt+Zt<Ut?Zt:-Zt}return Mt}(At,ge,et,ut,xt))+(1+Math.floor((xt-At)/fn))*fn;else for("M"===et.dtick.charAt(0)&&(At=function(Mt,an,Kt,Ut,Jt){var Ft=l.findExactDates(an,Jt);if(Ft.exactDays>.8){var Mn=Number(Kt.substr(1));Ft.exactYears>.8&&Mn%12==0?Mt=F.tickIncrement(Mt,"M6","reverse")+1.5*R:Ft.exactMonths>.8?Mt=F.tickIncrement(Mt,"M1","reverse")+15.5*R:Mt-=G;var _n=F.tickIncrement(Mt,Kt);if(_n<=Ut)return _n}return Mt}(At,ge,fn,ut,ft)),$t=At;$t<=xt;)$t=F.tickIncrement($t,fn,!1,ft);return{start:_e.c2r(At,0,ft),end:_e.c2r($t,0,ft),size:fn,_dataSpan:xt-ut}},F.prepMinorTicks=function(ge,_e,We){if(!_e.minor.dtick){delete ge.dtick;var Je,ft=_e.dtick&&g(_e._tmin);if(ft){var st=F.tickIncrement(_e._tmin,_e.dtick,!0);Je=[_e._tmin,.99*st+.01*_e._tmin]}else{var et=l.simpleMap(_e.range,_e.r2l);Je=[et[0],.8*et[0]+.2*et[1]]}if(ge.range=l.simpleMap(Je,_e.l2r),ge._isMinor=!0,F.prepTicks(ge,We),ft){var ut=g(_e.dtick),xt=g(ge.dtick),kt=ut?_e.dtick:+_e.dtick.substring(1),Bt=xt?ge.dtick:+ge.dtick.substring(1);ut&&xt?Ve(kt,Bt)?kt===2*S&&Bt===2*R&&(ge.dtick=S):ge.dtick=kt===2*S&&Bt===3*R?S:kt!==S||(_e._input.minor||{}).nticks?Ae(kt/Bt,2.5)?kt/2:kt:R:"M"===String(_e.dtick).charAt(0)?xt?ge.dtick="M1":Ve(kt,Bt)?kt>=12&&2===Bt&&(ge.dtick="M3"):ge.dtick=_e.dtick:"L"===String(ge.dtick).charAt(0)?"L"===String(_e.dtick).charAt(0)?Ve(kt,Bt)||(ge.dtick=Ae(kt/Bt,2.5)?_e.dtick/2:_e.dtick):ge.dtick="D1":"D2"===ge.dtick&&+_e.dtick>1&&(ge.dtick=1)}ge.range=_e.range}void 0===_e.minor._tick0Init&&(ge.tick0=_e.tick0)},F.prepTicks=function(ge,_e){var We=l.simpleMap(ge.range,ge.r2l,void 0,void 0,_e);if("auto"===ge.tickmode||!ge.dtick){var Je,ft=ge.nticks;ft||("category"===ge.type||"multicategory"===ge.type?(Je=ge.tickfont?l.bigFont(ge.tickfont.size||12):15,ft=ge._length/Je):(Je="y"===ge._id.charAt(0)?40:80,ft=l.constrain(ge._length/Je,4,9)+1),"radialaxis"===ge._name&&(ft*=2)),ge.minor&&"array"!==ge.minor.tickmode||"array"===ge.tickmode&&(ft*=100),ge._roughDTick=Math.abs(We[1]-We[0])/ft,F.autoTicks(ge,ge._roughDTick),ge._minDtick>0&&ge.dtick<2*ge._minDtick&&(ge.dtick=ge._minDtick,ge.tick0=ge.l2r(ge._forceTick0))}"period"===ge.ticklabelmode&&function(st){var et;function ut(){return!(g(st.dtick)||"M"!==st.dtick.charAt(0))}var xt=ut(),kt=F.getTickFormat(st);if(kt){var Bt=st._dtickInit!==st.dtick;/%[fLQsSMX]/.test(kt)||(/%[HI]/.test(kt)?(et=z,Bt&&!xt&&st.dtick<z&&(st.dtick=z)):/%p/.test(kt)?(et=G,Bt&&!xt&&st.dtick<G&&(st.dtick=G)):/%[Aadejuwx]/.test(kt)?(et=R,Bt&&!xt&&st.dtick<R&&(st.dtick=R)):/%[UVW]/.test(kt)?(et=S,Bt&&!xt&&st.dtick<S&&(st.dtick=S)):/%[Bbm]/.test(kt)?(et=E,Bt&&(xt?Oe(st.dtick)<1:st.dtick<P)&&(st.dtick="M1")):/%[q]/.test(kt)?(et=H,Bt&&(xt?Oe(st.dtick)<3:st.dtick<I)&&(st.dtick="M3")):/%[Yy]/.test(kt)&&(et=A,Bt&&(xt?Oe(st.dtick)<12:st.dtick<V)&&(st.dtick="M12")))}(xt=ut())&&st.tick0===st._dowTick0&&(st.tick0=st._rawTick0),st._definedDelta=et}(ge),ge.tick0||(ge.tick0="date"===ge.type?"2000-01-01":0),"date"===ge.type&&ge.dtick<.1&&(ge.dtick=.1),Ee(ge)},F.calcTicks=function(ge,_e){for(var We,Je,ft=ge.type,st=ge.calendar,et=ge.ticklabelstep,ut="period"===ge.ticklabelmode,xt=l.simpleMap(ge.range,ge.r2l,void 0,void 0,_e),kt=xt[1]<xt[0],Bt=Math.min(xt[0],xt[1]),rn=Math.max(xt[0],xt[1]),Dt=Math.max(1e3,ge._length||0),$t=[],fn=[],At=[],Mt=[],an=ge.minor&&(ge.minor.ticks||ge.minor.showgrid),Kt=1;Kt>=(an?0:1);Kt--){var Ut=!Kt;Kt?(ge._dtickInit=ge.dtick,ge._tick0Init=ge.tick0):(ge.minor._dtickInit=ge.minor.dtick,ge.minor._tick0Init=ge.minor.tick0);var Jt=Kt?ge:l.extendFlat({},ge,ge.minor);if(Ut?F.prepMinorTicks(Jt,ge,_e):F.prepTicks(Jt,_e),"array"!==Jt.tickmode){var Ft=fe(xt),Mn=Ft[0],_n=Ft[1],wn=g(Jt.dtick),Ln="log"===ft&&!(wn||"L"===Jt.dtick.charAt(0)),$n=F.tickFirst(Jt,_e);if(Kt){if(ge._tmin=$n,$n<Mn!==kt)break;"category"!==ft&&"multicategory"!==ft||(_n=kt?Math.max(-.5,_n):Math.min(ge._categories.length-.5,_n))}var Dn,Zt,It=null,tn=$n;Kt&&(wn?Zt=ge.dtick:"date"===ft?"string"==typeof ge.dtick&&"M"===ge.dtick.charAt(0)&&(Zt=E*ge.dtick.substring(1)):Zt=ge._roughDTick,Dn=Math.round((ge.r2l(tn)-ge.r2l(ge.tick0))/Zt)-1);var pn=Jt.dtick;for(Jt.rangebreaks&&Jt._tick0Init!==Jt.tick0&&(tn=Xt(tn,ge),kt||(tn=F.tickIncrement(tn,pn,!kt,st))),Kt&&ut&&(tn=F.tickIncrement(tn,pn,!kt,st),Dn--);kt?tn>=_n:tn<=_n;tn=F.tickIncrement(tn,pn,kt,st)){if(Kt&&Dn++,Jt.rangebreaks&&!kt){if(tn<Mn)continue;if(Jt.maskBreaks(tn)===ne&&Xt(tn,Jt)>=rn)break}if(At.length>Dt||tn===It)break;It=tn;var cn={value:tn};Kt?(Ln&&tn!==(0|tn)&&(cn.simpleLabel=!0),et>1&&Dn%et&&(cn.skipLabel=!0),At.push(cn)):(cn.minor=!0,Mt.push(cn))}}else Kt?(At=[],$t=Re(ge)):(Mt=[],fn=Re(ge))}if(an&&!("inside"===ge.minor.ticks&&"outside"===ge.ticks||"outside"===ge.minor.ticks&&"inside"===ge.ticks)){for(var Pn=At.map(function(x2){return x2.value}),Vn=[],vn=0;vn<Mt.length;vn++){var n2=Mt[vn],h2=n2.value;if(-1===Pn.indexOf(h2)){for(var g2=!1,u2=0;!g2&&u2<At.length;u2++)1e7+At[u2].value===1e7+h2&&(g2=!0);g2||Vn.push(n2)}}Mt=Vn}if(ut&&function(x2,Qn,Rn){for(var mn=0;mn<x2.length;mn++){var M2=x2[mn].value,x1=mn,Q2=mn+1;mn<x2.length-1?(x1=mn,Q2=mn+1):mn>0?(x1=mn-1,Q2=mn):(x1=mn,Q2=mn);var J2,M1=Math.abs(x2[Q2].value-x2[x1].value),T1=Rn||M1,B2=0;T1>=V?B2=M1>=V&&M1<=N?M1:A:Rn===H&&T1>=I?B2=M1>=I&&M1<=L?M1:H:T1>=P?B2=M1>=P&&M1<=D?M1:E:Rn===S&&T1>=S?B2=S:T1>=R?B2=R:Rn===G&&T1>=G?B2=G:Rn===z&&T1>=z&&(B2=z),B2>=M1&&(B2=M1,J2=!0);var U2=M2+B2;if(Qn.rangebreaks&&B2>0){for(var Dr=0,Qr=0;Qr<84;Qr++){var Li=(Qr+.5)/84;Qn.maskBreaks(M2*(1-Li)+Li*U2)!==ne&&Dr++}(B2*=Dr/84)||(x2[mn].drop=!0),J2&&M1>S&&(B2=M1)}(B2>0||0===mn)&&(x2[mn].periodX=M2+B2/2)}}(At,ge,ge._definedDelta),ge.rangebreaks){var qt="y"===ge._id.charAt(0),Wn=1;"auto"===ge.tickmode&&(Wn=ge.tickfont?ge.tickfont.size:12);var Fn=NaN;for(We=At.length-1;We>-1;We--)if(At[We].drop)At.splice(We,1);else{At[We].value=Xt(At[We].value,ge);var e2=ge.c2p(At[We].value);(qt?Fn>e2-Wn:Fn<e2+Wn)?At.splice(kt?We+1:We,1):Fn=e2}}en(ge)&&360===Math.abs(xt[1]-xt[0])&&At.pop(),ge._tmax=(At[At.length-1]||{}).value,ge._prevDateHead="",ge._inCalcTicks=!0;var En,b2,f2=function(x2){x2.text="",ge._prevDateHead=Je};for(At=At.concat(Mt),We=0;We<At.length;We++){var d2=At[We].value;At[We].minor?fn.push({x:d2,minor:!0}):(Je=ge._prevDateHead,En=F.tickText(ge,d2,!1,At[We].simpleLabel),void 0!==(b2=At[We].periodX)&&(En.periodX=b2,(b2>rn||b2<Bt)&&(b2>rn&&(En.periodX=rn),b2<Bt&&(En.periodX=Bt),f2(En))),At[We].skipLabel&&f2(En),$t.push(En))}return $t=$t.concat(fn),ge._inCalcTicks=!1,ut&&$t.length&&($t[0].noTick=!0),$t};var tt=[2,5,10],Ke=[1,2,3,6,12],$e=[1,2,5,10,15,30],Me=[1,2,3,7,14],ve=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Se=[-.301,0,.301,.699,1],Te=[15,30,45,90,180];function qe(ge,_e,We){return _e*l.roundUp(ge/_e,We)}function Ee(ge){var _e=ge.dtick;if(ge._tickexponent=0,g(_e)||"string"==typeof _e||(_e=1),"category"!==ge.type&&"multicategory"!==ge.type||(ge._tickround=null),"date"===ge.type){var We=ge.r2l(ge.tick0),Je=ge.l2r(We).replace(/(^-|i)/g,""),ft=Je.length;if("M"===String(_e).charAt(0))ge._tickround=ft>10||"01-01"!==Je.substr(5)?"d":+_e.substr(1)%12==0?"y":"m";else if(_e>=R&&ft<=10||_e>=15*R)ge._tickround="d";else if(_e>=X&&ft<=16||_e>=z)ge._tickround="M";else if(_e>=W&&ft<=19||_e>=X)ge._tickround="S";else{var st=ge.l2r(We+_e).replace(/^-/,"").length;ge._tickround=Math.max(ft,st)-20,ge._tickround<0&&(ge._tickround=4)}}else if(g(_e)||"L"===_e.charAt(0)){var et=ge.range.map(ge.r2d||Number);g(_e)||(_e=Number(_e.substr(1))),ge._tickround=2-Math.floor(Math.log(_e)/Math.LN10+.01);var ut=Math.max(Math.abs(et[0]),Math.abs(et[1])),xt=Math.floor(Math.log(ut)/Math.LN10+.01),kt=void 0===ge.minexponent?3:ge.minexponent;Math.abs(xt)>kt&&(ge._tickexponent=nt(ge.exponentformat)&&!Ye(xt)?3*Math.round((xt-1)/3):xt)}else ge._tickround=null}function Ie(ge,_e,We){var Je=ge.tickfont||{};return{x:_e,dx:0,dy:0,text:We||"",fontSize:Je.size,font:Je.family,fontColor:Je.color}}F.autoTicks=function(ge,_e,We){var Je;function ft(rn){return Math.pow(rn,Math.floor(Math.log(_e)/Math.LN10))}if("date"===ge.type){ge.tick0=l.dateTick0(ge.calendar,0);var st=2*_e;if(st>A)_e/=A,Je=ft(10),ge.dtick="M"+12*qe(_e,Je,tt);else if(st>E)ge.dtick="M"+qe(_e/=E,1,Ke);else if(st>R){if(ge.dtick=qe(_e,R,ge._hasDayOfWeekBreaks?[1,2,7,14]:Me),!We){var et=F.getTickFormat(ge),ut="period"===ge.ticklabelmode;ut&&(ge._rawTick0=ge.tick0),ge.tick0=/%[uVW]/.test(et)?l.dateTick0(ge.calendar,2):l.dateTick0(ge.calendar,1),ut&&(ge._dowTick0=ge.tick0)}}else st>z?ge.dtick=qe(_e,z,Ke):st>X?ge.dtick=qe(_e,X,$e):st>W?ge.dtick=qe(_e,W,$e):(Je=ft(10),ge.dtick=qe(_e,Je,tt))}else if("log"===ge.type){ge.tick0=0;var xt=l.simpleMap(ge.range,ge.r2l);if(ge._isMinor&&(_e*=1.5),_e>.7)ge.dtick=Math.ceil(_e);else if(Math.abs(xt[1]-xt[0])<1){var kt=1.5*Math.abs((xt[1]-xt[0])/_e);_e=Math.abs(Math.pow(10,xt[1])-Math.pow(10,xt[0]))/kt,Je=ft(10),ge.dtick="L"+qe(_e,Je,tt)}else ge.dtick=_e>.3?"D2":"D1"}else"category"===ge.type||"multicategory"===ge.type?(ge.tick0=0,ge.dtick=Math.ceil(Math.max(_e,1))):en(ge)?(ge.tick0=0,ge.dtick=qe(_e,Je=1,Te)):(ge.tick0=0,Je=ft(10),ge.dtick=qe(_e,Je,tt));if(0===ge.dtick&&(ge.dtick=1),!g(ge.dtick)&&"string"!=typeof ge.dtick){var Bt=ge.dtick;throw ge.dtick=1,"ax.dtick error: "+String(Bt)}},F.tickIncrement=function(ge,_e,We,Je){var ft=We?-1:1;if(g(_e))return l.increment(ge,ft*_e);var st=_e.charAt(0),et=ft*Number(_e.substr(1));if("M"===st)return l.incrementMonth(ge,et,Je);if("L"===st)return Math.log(Math.pow(10,ge)+et)/Math.LN10;if("D"===st){var ut="D2"===_e?Se:ve,xt=ge+.01*ft,kt=l.roundUp(l.mod(xt,1),ut,We);return Math.floor(xt)+Math.log(s.round(Math.pow(10,kt),1))/Math.LN10}throw"unrecognized dtick "+String(_e)},F.tickFirst=function(ge,_e){var We=ge.r2l||Number,Je=l.simpleMap(ge.range,We,void 0,void 0,_e),ft=Je[1]<Je[0],st=ft?Math.floor:Math.ceil,et=fe(Je)[0],ut=ge.dtick,xt=We(ge.tick0);if(g(ut)){var kt=st((et-xt)/ut)*ut+xt;return"category"!==ge.type&&"multicategory"!==ge.type||(kt=l.constrain(kt,0,ge._categories.length-1)),kt}var Bt=ut.charAt(0),rn=Number(ut.substr(1));if("M"===Bt){for(var Dt,$t,fn,At=0,Mt=xt;At<10;){if(((Dt=F.tickIncrement(Mt,ut,ft,ge.calendar))-et)*(Mt-et)<=0)return ft?Math.min(Mt,Dt):Math.max(Mt,Dt);$t=(et-(Mt+Dt)/2)/(Dt-Mt),fn=Bt+(Math.abs(Math.round($t))||1)*rn,Mt=F.tickIncrement(Mt,fn,$t<0?!ft:ft,ge.calendar),At++}return l.error("tickFirst did not converge",ge),Mt}if("L"===Bt)return Math.log(st((Math.pow(10,et)-xt)/rn)*rn+xt)/Math.LN10;if("D"===Bt){var an="D2"===ut?Se:ve,Kt=l.roundUp(l.mod(et,1),an,ft);return Math.floor(et)+Math.log(s.round(Math.pow(10,Kt),1))/Math.LN10}throw"unrecognized dtick "+String(ut)},F.tickText=function(ge,_e,We,Je){var ft,st=Ie(ge,_e),et="array"===ge.tickmode,ut=We||et,xt=ge.type,kt="category"===xt?ge.d2l_noadd:ge.d2l;if(et&&Array.isArray(ge.ticktext)){var Bt=l.simpleMap(ge.range,ge.r2l),rn=(Math.abs(Bt[1]-Bt[0])-(ge._lBreaks||0))/1e4;for(ft=0;ft<ge.ticktext.length&&!(Math.abs(_e-kt(ge.tickvals[ft]))<rn);ft++);if(ft<ge.ticktext.length)return st.text=String(ge.ticktext[ft]),st}function Dt(At){return void 0===At||(We?"none"===At:"all"!==At&&_e!=={first:ge._tmin,last:ge._tmax}[At])}var Mt,an,$t=We?"never":"none"!==ge.exponentformat&&Dt(ge.showexponent)?"hide":"";if("date"===xt?function(At,Mt,an,Kt){var Ut=At._tickround,Jt=an&&At.hoverformat||F.getTickFormat(At);Kt&&(Ut=g(Ut)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Ut]);var Ft,Mn=l.formatDate(Mt.x,Jt,Ut,At._dateFormat,At.calendar,At._extraFormat),_n=Mn.indexOf("\n");if(-1!==_n&&(Ft=Mn.substr(_n+1),Mn=Mn.substr(0,_n)),Kt&&("00:00:00"===Mn||"00:00"===Mn?(Mn=Ft,Ft=""):8===Mn.length&&(Mn=Mn.replace(/:00$/,""))),Ft)if(an)"d"===Ut?Mn+=", "+Ft:Mn=Ft+(Mn?", "+Mn:"");else if(At._inCalcTicks&&At._prevDateHead===Ft){var wn=Wt(At),Ln=At._trueSide||At.side;(!wn&&"top"===Ln||wn&&"bottom"===Ln)&&(Mn+="<br> ")}else At._prevDateHead=Ft,Mn+="<br>"+Ft;Mt.text=Mn}(ge,st,We,ut):"log"===xt?function(At,Mt,an,Kt,Ut){var Jt=At.dtick,Ft=Mt.x,Mn=At.tickformat,_n="string"==typeof Jt&&Jt.charAt(0);if("never"===Ut&&(Ut=""),Kt&&"L"!==_n&&(Jt="L3",_n="L"),Mn||"L"===_n)Mt.text=rt(Math.pow(10,Ft),At,Ut,Kt);else if(g(Jt)||"D"===_n&&l.mod(Ft+.01,1)<.1){var wn=Math.round(Ft),Ln=Math.abs(wn),$n=At.exponentformat;"power"===$n||nt($n)&&Ye(wn)?(Mt.text=0===wn?1:1===wn?"10":"10<sup>"+(wn>1?"":Z)+Ln+"</sup>",Mt.fontSize*=1.25):("e"===$n||"E"===$n)&&Ln>2?Mt.text="1"+$n+(wn>0?"+":Z)+Ln:(Mt.text=rt(Math.pow(10,Ft),At,"","fakehover"),"D1"===Jt&&"y"===At._id.charAt(0)&&(Mt.dy-=Mt.fontSize/6))}else{if("D"!==_n)throw"unrecognized dtick "+String(Jt);Mt.text=String(Math.round(Math.pow(10,l.mod(Ft,1)))),Mt.fontSize*=.75}if("D1"===At.dtick){var Dn=String(Mt.text).charAt(0);"0"!==Dn&&"1"!==Dn||("y"===At._id.charAt(0)?Mt.dx-=Mt.fontSize/4:(Mt.dy+=Mt.fontSize/2,Mt.dx+=(At.range[1]>At.range[0]?1:-1)*Mt.fontSize*(Ft<0?.5:.25)))}}(ge,st,0,ut,$t):"category"===xt?(Mt=st,void 0===(an=ge._categories[Math.round(Mt.x)])&&(an=""),Mt.text=String(an)):"multicategory"===xt?function(At,Mt,an){var Kt=Math.round(Mt.x),Ut=At._categories[Kt]||[],Jt=void 0===Ut[1]?"":String(Ut[1]),Ft=void 0===Ut[0]?"":String(Ut[0]);an?Mt.text=Ft+" - "+Jt:(Mt.text=Jt,Mt.text2=Ft)}(ge,st,We):en(ge)?function(At,Mt,an,Kt,Ut){if("radians"!==At.thetaunit||an)Mt.text=rt(Mt.x,At,Ut,Kt);else{var Jt=Mt.x/180;if(0===Jt)Mt.text="0";else{var Ft=function(_n){function wn(Zt,It){return Math.abs(Zt-It)<=1e-6}var Ln=function(Zt){for(var It=1;!wn(Math.round(Zt*It)/It,Zt);)It*=10;return It}(_n),$n=_n*Ln,Dn=Math.abs(function Zt(It,tn){return wn(tn,0)?It:Zt(tn,It%tn)}($n,Ln));return[Math.round($n/Dn),Math.round(Ln/Dn)]}(Jt);if(Ft[1]>=100)Mt.text=rt(l.deg2rad(Mt.x),At,Ut,Kt);else{var Mn=Mt.x<0;Mt.text=1===Ft[1]?1===Ft[0]?"\u03c0":Ft[0]+"\u03c0":["<sup>",Ft[0],"</sup>","\u2044","<sub>",Ft[1],"</sub>","\u03c0"].join(""),Mn&&(Mt.text=Z+Mt.text)}}}}(ge,st,We,ut,$t):function(At,Mt,an,Kt,Ut){"never"===Ut?Ut="":"all"===At.showexponent&&Math.abs(Mt.x/At.dtick)<1e-6&&(Ut="hide"),Mt.text=rt(Mt.x,At,Ut,Kt)}(ge,st,0,ut,$t),Je||(ge.tickprefix&&!Dt(ge.showtickprefix)&&(st.text=ge.tickprefix+st.text),ge.ticksuffix&&!Dt(ge.showticksuffix)&&(st.text+=ge.ticksuffix)),"boundaries"===ge.tickson||ge.showdividers){var fn=function(At){var Mt=ge.l2p(At);return Mt>=0&&Mt<=ge._length?At:null};st.xbnd=[fn(st.x-.5),fn(st.x+ge.dtick-.5)]}return st},F.hoverLabelText=function(ge,_e,We){We&&(ge=l.extendFlat({},ge,{hoverformat:We}));var Je=Array.isArray(_e)?_e[0]:_e,ft=Array.isArray(_e)?_e[1]:void 0;if(void 0!==ft&&ft!==Je)return F.hoverLabelText(ge,Je,We)+" - "+F.hoverLabelText(ge,ft,We);var st="log"===ge.type&&Je<=0,et=F.tickText(ge,ge.c2l(st?-Je:Je),"hover").text;return st?0===Je?"0":Z+et:et};var Qe=["f","p","n","\u03bc","m","","k","M","G","T"];function nt(ge){return"SI"===ge||"B"===ge}function Ye(ge){return ge>14||ge<-15}function rt(ge,_e,We,Je){var ft=ge<0,st=_e._tickround,et=We||_e.exponentformat||"B",ut=_e._tickexponent,xt=F.getTickFormat(_e),kt=_e.separatethousands;if(Je){var Bt={exponentformat:et,minexponent:_e.minexponent,dtick:"none"===_e.showexponent?_e.dtick:g(ge)&&Math.abs(ge)||1,range:"none"===_e.showexponent?_e.range.map(_e.r2d):[0,ge||1]};Ee(Bt),st=(Number(Bt._tickround)||0)+4,ut=Bt._tickexponent,_e.hoverformat&&(xt=_e.hoverformat)}if(xt)return _e._numFormat(xt)(ge).replace(/-/g,Z);var rn,Dt=Math.pow(10,-st)/2;if("none"===et&&(ut=0),(ge=Math.abs(ge))<Dt)ge="0",ft=!1;else{if(ge+=Dt,ut&&(ge*=Math.pow(10,-ut),st+=ut),0===st)ge=String(Math.floor(ge));else if(st<0){ge=(ge=String(Math.round(ge))).substr(0,ge.length+st);for(var $t=st;$t<0;$t++)ge+="0"}else{var fn=(ge=String(ge)).indexOf(".")+1;fn&&(ge=ge.substr(0,fn+st).replace(/\.?0+$/,""))}ge=l.numSeparate(ge,_e._separators,kt)}return ut&&"hide"!==et&&(nt(et)&&Ye(ut)&&(et="power"),rn=ut<0?Z+-ut:"power"!==et?"+"+ut:String(ut),"e"===et||"E"===et?ge+=et+rn:"power"===et?ge+="\xd710<sup>"+rn+"</sup>":"B"===et&&9===ut?ge+="B":nt(et)&&(ge+=Qe[ut/3+5])),ft?Z+ge:ge}function dt(ge,_e){for(var We=[],Je={},ft=0;ft<_e.length;ft++){var st=_e[ft];Je[st.text2]?Je[st.text2].push(st.x):Je[st.text2]=[st.x]}for(var et in Je)We.push(Ie(ge,l.interp(Je[et],.5),et));return We}function Xe(ge){return void 0!==ge.periodX?ge.periodX:ge.x}function mt(ge){return[ge.text,ge.x,ge.axInfo,ge.font,ge.fontSize,ge.fontColor].join("_")}function _t(ge){var _e=ge.title.font.size,We=(ge.title.text.match(d.BR_TAG_ALL)||[]).length;return ge.title.hasOwnProperty("standoff")?We?_e*($+We*se):_e*$:We?_e*(We+1)*se:_e}function yt(ge,_e){var We=ge.l2p(_e);return We>1&&We<ge._length-1}function Ot(ge){var _e=s.select(ge),We=_e.select(".text-math-group");return We.empty()?_e.select("text"):We}function bt(ge){return ge._id+".automargin"}function Fe(ge){return bt(ge)+".mirror"}function Ue(ge){return ge._id+".rangeslider"}function gt(ge,_e){for(var We=0;We<_e.length;We++)-1===ge.indexOf(_e[We])&&ge.push(_e[We])}function Pt(ge,_e,We){var Je,ft,st=[],et=[],ut=ge.layout;for(Je=0;Je<_e.length;Je++)st.push(F.getFromId(ge,_e[Je]));for(Je=0;Je<We.length;Je++)et.push(F.getFromId(ge,We[Je]));var xt=Object.keys(b),kt=["anchor","domain","overlaying","position","side","tickangle","editType"],Bt=["linear","log"];for(Je=0;Je<xt.length;Je++){var rn=xt[Je],Dt=st[0][rn],$t=et[0][rn],fn=!0,At=!1,Mt=!1;if("_"!==rn.charAt(0)&&"function"!=typeof Dt&&-1===kt.indexOf(rn)){for(ft=1;ft<st.length&&fn;ft++){var an=st[ft][rn];"type"===rn&&-1!==Bt.indexOf(Dt)&&-1!==Bt.indexOf(an)&&Dt!==an?At=!0:an!==Dt&&(fn=!1)}for(ft=1;ft<et.length&&fn;ft++){var Kt=et[ft][rn];"type"===rn&&-1!==Bt.indexOf($t)&&-1!==Bt.indexOf(Kt)&&$t!==Kt?Mt=!0:et[ft][rn]!==$t&&(fn=!1)}fn&&(At&&(ut[st[0]._name].type="linear"),Mt&&(ut[et[0]._name].type="linear"),Qt(ut,rn,st,et,ge._fullLayout._dfltTitle))}}for(Je=0;Je<ge._fullLayout.annotations.length;Je++){var Ut=ge._fullLayout.annotations[Je];-1!==_e.indexOf(Ut.xref)&&-1!==We.indexOf(Ut.yref)&&l.swapAttrs(ut.annotations[Je],["?"])}}function Qt(ge,_e,We,Je,ft){var st,et=l.nestedProperty,ut=et(ge[We[0]._name],_e).get(),xt=et(ge[Je[0]._name],_e).get();for("title"===_e&&(ut&&ut.text===ft.x&&(ut.text=ft.y),xt&&xt.text===ft.y&&(xt.text=ft.x)),st=0;st<We.length;st++)et(ge,We[st]._name+"."+_e).set(xt);for(st=0;st<Je.length;st++)et(ge,Je[st]._name+"."+_e).set(ut)}function en(ge){return"angularaxis"===ge._id}function Xt(ge,_e){for(var We=_e._rangebreaks.length,Je=0;Je<We;Je++){var ft=_e._rangebreaks[Je];if(ge>=ft.min&&ge<ft.max)return ft.max}return ge}function Wt(ge){return-1!==(ge.ticklabelposition||"").indexOf("inside")}function Nt(ge,_e){Wt(ge._anchorAxis||{})&&ge._hideCounterAxisInsideTickLabels&&ge._hideCounterAxisInsideTickLabels(_e)}F.getTickFormat=function(ge){var _e,We,Je,ft,st,et,ut,xt,Dt,$t,fn,At,Mt,an;function kt(Dt){return"string"!=typeof Dt?Dt:Number(Dt.replace("M",""))*E}function Bt(Dt,$t){var fn=["L","D"];if(typeof Dt==typeof $t){if("number"==typeof Dt)return Dt-$t;var At=fn.indexOf(Dt.charAt(0)),Mt=fn.indexOf($t.charAt(0));return At===Mt?Number(Dt.replace(/(L|D)/g,""))-Number($t.replace(/(L|D)/g,"")):At-Mt}return"number"==typeof Dt?1:-1}if(ge.tickformatstops&&ge.tickformatstops.length>0)switch(ge.type){case"date":case"linear":for(_e=0;_e<ge.tickformatstops.length;_e++)if((Je=ge.tickformatstops[_e]).enabled&&(ft=ge.dtick,et=void 0,void 0,void 0,et=kt||function(Dt){return Dt},xt=(st=Je.dtickrange)[1],(!(ut=st[0])&&"number"!=typeof ut||et(ut)<=et(ft))&&(!xt&&"number"!=typeof xt||et(xt)>=et(ft)))){We=Je;break}break;case"log":for(_e=0;_e<ge.tickformatstops.length;_e++)if((Je=ge.tickformatstops[_e]).enabled&&(fn=void 0,At=void 0,Mt=void 0,an=void 0,fn=null===($t=Je.dtickrange)[0],At=null===$t[1],Mt=Bt(Dt=ge.dtick,$t[0])>=0,an=Bt(Dt,$t[1])<=0,(fn||Mt)&&(At||an))){We=Je;break}}return We?We.value:ge.tickformat},F.getSubplots=function(ge,_e){var We=ge._fullLayout._subplots,Je=We.cartesian.concat(We.gl2d||[]),ft=_e?F.findSubplotsWithAxis(Je,_e):Je;return ft.sort(function(st,et){var ut=st.substr(1).split("y"),xt=et.substr(1).split("y");return ut[0]===xt[0]?+ut[1]-+xt[1]:+ut[0]-+xt[0]}),ft},F.findSubplotsWithAxis=function(ge,_e){for(var We=new RegExp("x"===_e._id.charAt(0)?"^"+_e._id+"y":_e._id+"$"),Je=[],ft=0;ft<ge.length;ft++){var st=ge[ft];We.test(st)&&Je.push(st)}return Je},F.makeClipPaths=function(ge){var _e=ge._fullLayout;if(!_e._hasOnlyLargeSploms){var We,Je,ft={_offset:0,_length:_e.width,_id:""},st={_offset:0,_length:_e.height,_id:""},et=F.list(ge,"x",!0),ut=F.list(ge,"y",!0),xt=[];for(We=0;We<et.length;We++)for(xt.push({x:et[We],y:st}),Je=0;Je<ut.length;Je++)0===We&&xt.push({x:ft,y:ut[Je]}),xt.push({x:et[We],y:ut[Je]});var kt=_e._clips.selectAll(".axesclip").data(xt,function(Bt){return Bt.x._id+Bt.y._id});kt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Bt){return"clip"+_e._uid+Bt.x._id+Bt.y._id}).append("rect"),kt.exit().remove(),kt.each(function(Bt){s.select(this).select("rect").attr({x:Bt.x._offset||0,y:Bt.y._offset||0,width:Bt.x._length||1,height:Bt.y._length||1})})}},F.draw=function(ge,_e,We){var Je=ge._fullLayout;"redraw"===_e&&Je._paper.selectAll("g.subplot").each(function(st){var ut=Je._plots[st[0]];if(ut){var xt=ut.xaxis,kt=ut.yaxis;ut.xaxislayer.selectAll("."+xt._id+"tick").remove(),ut.yaxislayer.selectAll("."+kt._id+"tick").remove(),ut.xaxislayer.selectAll("."+xt._id+"tick2").remove(),ut.yaxislayer.selectAll("."+kt._id+"tick2").remove(),ut.xaxislayer.selectAll("."+xt._id+"divider").remove(),ut.yaxislayer.selectAll("."+kt._id+"divider").remove(),ut.minorGridlayer&&ut.minorGridlayer.selectAll("path").remove(),ut.gridlayer&&ut.gridlayer.selectAll("path").remove(),ut.zerolinelayer&&ut.zerolinelayer.selectAll("path").remove(),Je._infolayer.select(".g-"+xt._id+"title").remove(),Je._infolayer.select(".g-"+kt._id+"title").remove()}});var ft=_e&&"redraw"!==_e?_e:F.listIds(ge);return l.syncOrAsync(ft.map(function(st){return function(){if(st){var et=F.getFromId(ge,st),ut=F.drawOne(ge,et,We);return et._r=et.range.slice(),et._rl=l.simpleMap(et._r,et.r2l),ut}}}))},F.drawOne=function(ge,_e,We){var Je,ft,st;We=We||{},_e.setScale();var et=ge._fullLayout,ut=_e._id,xt=ut.charAt(0),kt=F.counterLetter(ut),Bt=et._plots[_e._mainSubplot];if(Bt){var rn=Bt[xt+"axislayer"],Dt=_e._mainLinePosition,$t=_e._mainMirrorPosition,fn=_e._vals=F.calcTicks(_e),At=[_e.mirror,Dt,$t].join("_");for(Je=0;Je<fn.length;Je++)fn[Je].axInfo=At;_e._selections={},_e._tickAngles&&(_e._prevTickAngles=_e._tickAngles),_e._tickAngles={},_e._depth=null;var Mt={};if(_e.visible){var an,Kt,Ut=F.makeTransTickFn(_e),Jt=F.makeTransTickLabelFn(_e),Ft="inside"===_e.ticks,Mn="outside"===_e.ticks;if("boundaries"===_e.tickson){var _n=function(Rn,mn){var M2,x1=[],Q2=function(J2,l1){var I1=J2.xbnd[l1];null!==I1&&x1.push(l.extendFlat({},J2,{x:I1}))};if(mn.length){for(M2=0;M2<mn.length;M2++)Q2(mn[M2],0);Q2(mn[M2-1],1)}return x1}(0,fn);Kt=F.clipEnds(_e,_n),an=Ft?Kt:_n}else Kt=F.clipEnds(_e,fn),an=Ft&&"period"!==_e.ticklabelmode?Kt:fn;var wn,Ln=_e._gridVals=Kt,$n=function(Rn,mn){var M2,x1,Q2=[],J2=mn.length&&mn[mn.length-1].x<mn[0].x,l1=function(M1,T1){var B2=M1.xbnd[T1];null!==B2&&Q2.push(l.extendFlat({},M1,{x:B2}))};if(Rn.showdividers&&mn.length){for(M2=0;M2<mn.length;M2++){var I1=mn[M2];I1.text2!==x1&&l1(I1,J2?1:0),x1=I1.text2}l1(mn[M2-1],J2?0:1)}return Q2}(_e,fn);if(!et._hasOnlyLargeSploms){var Dn=_e._subplotsWith,Zt={};for(Je=0;Je<Dn.length;Je++){var It=(st=et._plots[ft=Dn[Je]])[kt+"axis"],tn=It._mainAxis._id;if(!Zt[tn]){Zt[tn]=1;var pn="x"===xt?"M0,"+It._offset+"v"+It._length:"M"+It._offset+",0h"+It._length;F.drawGrid(ge,_e,{vals:Ln,counterAxis:It,layer:st.gridlayer.select("."+ut),minorLayer:st.minorGridlayer.select("."+ut),path:pn,transFn:Ut}),F.drawZeroLine(ge,_e,{counterAxis:It,layer:st.zerolinelayer,path:pn,transFn:Ut})}}}var cn=F.getTickSigns(_e),Pn=F.getTickSigns(_e,"minor");if(_e.ticks||_e.minor&&_e.minor.ticks){var Vn,vn,n2,h2,g2=F.makeTickPath(_e,Dt,cn[2]),u2=F.makeTickPath(_e,Dt,Pn[2],{minor:!0});if(_e._anchorAxis&&_e.mirror&&!0!==_e.mirror?(Vn=F.makeTickPath(_e,$t,cn[3]),vn=F.makeTickPath(_e,$t,Pn[3],{minor:!0}),n2=g2+Vn,h2=u2+vn):(Vn="",vn="",n2=g2,h2=u2),_e.showdividers&&Mn&&"boundaries"===_e.tickson){var qt={};for(Je=0;Je<$n.length;Je++)qt[$n[Je].x]=1;wn=function(Rn){return qt[Rn.x]?Vn:n2}}else wn=function(Rn){return Rn.minor?h2:n2}}if(F.drawTicks(ge,_e,{vals:an,layer:rn,path:wn,transFn:Ut}),"allticks"===_e.mirror){var Wn=Object.keys(_e._linepositions||{});for(Je=0;Je<Wn.length;Je++){st=et._plots[ft=Wn[Je]];var Fn=_e._linepositions[ft]||[],En=Fn[1],b2=Fn[2],f2=F.makeTickPath(_e,Fn[0],b2?cn[0]:Pn[0],{minor:b2})+F.makeTickPath(_e,En,b2?cn[1]:Pn[1],{minor:b2});F.drawTicks(ge,_e,{vals:an,layer:st[xt+"axislayer"],path:f2,transFn:Ut})}}var In=[];if(In.push(function(){return F.drawLabels(ge,_e,{vals:fn,layer:rn,plotinfo:st,transFn:Jt,labelFns:F.makeLabelFns(_e,Dt)})}),"multicategory"===_e.type){var d2={x:2,y:10}[xt];In.push(function(){var Rn={x:"height",y:"width"}[xt],mn=Qn()[Rn]+d2+(_e._tickAngles[ut+"tick"]?_e.tickfont.size*se:0);return F.drawLabels(ge,_e,{vals:dt(_e,fn),layer:rn,cls:ut+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Ut,labelFns:F.makeLabelFns(_e,Dt+mn*cn[4])})}),In.push(function(){return _e._depth=cn[4]*(Qn("tick2")[_e.side]-Dt),Rn=ge,mn=_e,Q2=(M2={vals:$n,layer:rn,path:F.makeTickPath(_e,Dt,cn[4],{len:_e._depth}),transFn:Ut}).vals,(J2=M2.layer.selectAll("path."+(x1=mn._id+"divider")).data(Q2,mt)).exit().remove(),J2.enter().insert("path",":first-child").classed(x1,1).classed("crisp",1).call(u.stroke,mn.dividercolor).style("stroke-width",C.crispRound(Rn,mn.dividerwidth,1)+"px"),void J2.attr("transform",M2.transFn).attr("d",M2.path);var Rn,mn,M2,x1,Q2,J2})}else _e.title.hasOwnProperty("standoff")&&In.push(function(){_e._depth=cn[4]*(Qn()[_e.side]-Dt)});var x2=c.getComponentMethod("rangeslider","isVisible")(_e);return In.push(function(){var Rn,mn,M2,x1,Q2=_e.side.charAt(0),J2=ee[_e.side].charAt(0),l1=F.getPxPosition(ge,_e),I1=Mn?_e.ticklen:0;if((_e.automargin||x2)&&("multicategory"===_e.type?Rn=Qn("tick2"):(Rn=Qn(),"x"===xt&&"b"===Q2&&(_e._depth=Math.max(Rn.width>0?Rn.bottom-l1:0,I1)))),_e.automargin){mn={x:0,y:0,r:0,l:0,t:0,b:0};var M1=[0,1];if("x"===xt){if("b"===Q2?mn[Q2]=_e._depth:(mn[Q2]=_e._depth=Math.max(Rn.width>0?l1-Rn.top:0,I1),M1.reverse()),Rn.width>0){var T1=Rn.right-(_e._offset+_e._length);T1>0&&(mn.xr=1,mn.r=T1);var B2=_e._offset-Rn.left;B2>0&&(mn.xl=0,mn.l=B2)}}else if("l"===Q2?mn[Q2]=_e._depth=Math.max(Rn.height>0?l1-Rn.left:0,I1):(mn[Q2]=_e._depth=Math.max(Rn.height>0?Rn.right-l1:0,I1),M1.reverse()),Rn.height>0){var U2=Rn.bottom-(_e._offset+_e._length);U2>0&&(mn.yb=0,mn.b=U2);var Dr=_e._offset-Rn.top;Dr>0&&(mn.yt=1,mn.t=Dr)}mn[kt]="free"===_e.anchor?_e.position:_e._anchorAxis.domain[M1[0]],_e.title.text!==et._dfltTitle[xt]&&(mn[Q2]+=_t(_e)+(_e.title.standoff||0)),_e.mirror&&"free"!==_e.anchor&&((M2={x:0,y:0,r:0,l:0,t:0,b:0})[J2]=_e.linewidth,_e.mirror&&!0!==_e.mirror&&(M2[J2]+=I1),!0===_e.mirror||"ticks"===_e.mirror?M2[kt]=_e._anchorAxis.domain[M1[1]]:"all"!==_e.mirror&&"allticks"!==_e.mirror||(M2[kt]=[_e._counterDomainMin,_e._counterDomainMax][M1[1]]))}x2&&(x1=c.getComponentMethod("rangeslider","autoMarginOpts")(ge,_e)),p.autoMargin(ge,bt(_e),mn),p.autoMargin(ge,Fe(_e),M2),p.autoMargin(ge,Ue(_e),x1)}),We.skipTitle||x2&&"bottom"===_e.side||In.push(function(){return function(Rn,mn){var M2,x1=Rn._fullLayout,Q2=mn._id,J2=Q2.charAt(0),l1=mn.title.font.size;if(mn.title.hasOwnProperty("standoff"))M2=mn._depth+mn.title.standoff+_t(mn);else{var I1=Wt(mn);if("multicategory"===mn.type)M2=mn._depth;else{var M1=1.5*l1;I1&&(M1=.5*l1,"outside"===mn.ticks&&(M1+=mn.ticklen)),M2=10+M1+(mn.linewidth?mn.linewidth-1:0)}I1||(M2+="x"===J2?"top"===mn.side?l1*(mn.showticklabels?1:0):l1*(mn.showticklabels?1.5:.5):"right"===mn.side?l1*(mn.showticklabels?1:.5):l1*(mn.showticklabels?.5:0))}var T1,B2,U2,Dr,Qr=F.getPxPosition(Rn,mn);if("x"===J2?(B2=mn._offset+mn._length/2,U2="top"===mn.side?Qr-M2:Qr+M2):(U2=mn._offset+mn._length/2,B2="right"===mn.side?Qr+M2:Qr-M2,T1={rotate:"-90",offset:0}),"multicategory"!==mn.type){var Li=mn._selections[mn._id+"tick"];if(Dr={selection:Li,side:mn.side},Li&&Li.node()&&Li.node().parentNode){var On=C.getTranslate(Li.node().parentNode);Dr.offsetLeft=On.x,Dr.offsetTop=On.y}mn.title.hasOwnProperty("standoff")&&(Dr.pad=0)}return h.draw(Rn,Q2+"title",{propContainer:mn,propName:mn._name+".title.text",placeholder:x1._dfltTitle[J2],avoid:Dr,transform:T1,attributes:{x:B2,y:U2,"text-anchor":"middle"}})}(ge,_e)}),l.syncOrAsync(In)}}function Qn(Rn){var M2,x1,Q2,J2,l1,I1,mn=ut+(Rn||"tick");return Mt[mn]||(Mt[mn]=((M2=_e)._selections[x1=mn].size()?(Q2=1/0,J2=-1/0,l1=1/0,I1=-1/0,M2._selections[x1].each(function(){var M1=Ot(this),T1=C.bBox(M1.node().parentNode);Q2=Math.min(Q2,T1.top),J2=Math.max(J2,T1.bottom),l1=Math.min(l1,T1.left),I1=Math.max(I1,T1.right)})):(Q2=0,J2=0,l1=0,I1=0),{top:Q2,bottom:J2,left:l1,right:I1,height:J2-Q2,width:I1-l1})),Mt[mn]}},F.getTickSigns=function(ge,_e){var We=ge._id.charAt(0),ft=ge.side==={x:"top",y:"right"}[We]?1:-1,st=[-1,1,ft,-ft];return"inside"!==(_e?(ge.minor||{}).ticks:ge.ticks)==("x"===We)&&(st=st.map(function(et){return-et})),ge.side&&st.push({l:-1,t:-1,r:1,b:1}[ge.side.charAt(0)]),st},F.makeTransTickFn=function(ge){return"x"===ge._id.charAt(0)?function(_e){return m(ge._offset+ge.l2p(_e.x),0)}:function(_e){return m(0,ge._offset+ge.l2p(_e.x))}},F.makeTransTickLabelFn=function(ge){var _e=function(ft){var st=ft.ticklabelposition||"",et=function(an){return-1!==st.indexOf(an)},ut=et("top"),xt=et("left"),kt=et("right"),Bt=et("bottom"),rn=et("inside"),Dt=Bt||xt||ut||kt;if(!Dt&&!rn)return[0,0];var $t=ft.side,fn=Dt?(ft.tickwidth||0)/2:0,At=3,Mt=ft.tickfont?ft.tickfont.size:12;return(Bt||ut)&&(fn+=Mt*$,At+=(ft.linewidth||0)/2),(xt||kt)&&(fn+=(ft.linewidth||0)/2,At+=3),rn&&"top"===$t&&(At-=Mt*(1-$)),(xt||ut)&&(fn=-fn),"bottom"!==$t&&"right"!==$t||(At=-At),[Dt?fn:0,rn?At:0]}(ge),We=_e[0],Je=_e[1];return"x"===ge._id.charAt(0)?function(ft){return m(We+ge._offset+ge.l2p(Xe(ft)),Je)}:function(ft){return m(Je,We+ge._offset+ge.l2p(Xe(ft)))}},F.makeTickPath=function(ge,_e,We,Je){Je||(Je={});var ft=Je.minor;if(ft&&!ge.minor)return"";var st=void 0!==Je.len?Je.len:ft?ge.minor.ticklen:ge.ticklen,et=ge._id.charAt(0),ut=(ge.linewidth||1)/2;return"x"===et?"M0,"+(_e+ut*We)+"v"+st*We:"M"+(_e+ut*We)+",0h"+st*We},F.makeLabelFns=function(ge,_e,We){var Je=ge.ticklabelposition||"",ft=function(Dn){return-1!==Je.indexOf(Dn)},st=ft("top"),et=ft("left"),ut=ft("right"),xt=ft("bottom")||et||st||ut,kt=ft("inside"),Bt="inside"===Je&&"inside"===ge.ticks||!kt&&"outside"===ge.ticks&&"boundaries"!==ge.tickson,rn=0,Dt=0,$t=Bt?ge.ticklen:0;if(kt?$t*=-1:xt&&($t=0),Bt&&(rn+=$t,We)){var fn=l.deg2rad(We);rn=$t*Math.cos(fn)+1,Dt=$t*Math.sin(fn)}ge.showticklabels&&(Bt||ge.showline)&&(rn+=.2*ge.tickfont.size);var At,Mt,an,Kt,Ut,Jt={labelStandoff:rn+=(ge.linewidth||1)/2*(kt?-1:1),labelShift:Dt},Ft=0,Mn=ge.side,_n=ge._id.charAt(0),wn=ge.tickangle;if("x"===_n)Kt=(Ut=!kt&&"bottom"===Mn||kt&&"top"===Mn)?1:-1,kt&&(Kt*=-1),At=Dt*Kt,Mt=_e+rn*Kt,an=Ut?1:-.2,90===Math.abs(wn)&&(kt?an+=j:an=-90===wn&&"bottom"===Mn?$:90===wn&&"top"===Mn?j:.5,Ft=j/2*(wn/90)),Jt.xFn=function(Dn){return Dn.dx+At+Ft*Dn.fontSize},Jt.yFn=function(Dn){return Dn.dy+Mt+Dn.fontSize*an},Jt.anchorFn=function(Dn,Zt){if(xt){if(et)return"end";if(ut)return"start"}return g(Zt)&&0!==Zt&&180!==Zt?Zt*Kt<0!==kt?"end":"start":"middle"},Jt.heightFn=function(Dn,Zt,It){return Zt<-60||Zt>60?-.5*It:"top"===ge.side!==kt?-It:0};else if("y"===_n){if(Kt=(Ut=!kt&&"left"===Mn||kt&&"right"===Mn)?1:-1,kt&&(Kt*=-1),At=rn,Mt=Dt*Kt,an=0,kt||90!==Math.abs(wn)||(an=-90===wn&&"left"===Mn||90===wn&&"right"===Mn?$:.5),kt){var Ln=g(wn)?+wn:0;if(0!==Ln){var $n=l.deg2rad(Ln);Ft=Math.abs(Math.sin($n))*$*Kt,an=0}}Jt.xFn=function(Dn){return Dn.dx+_e-(At+Dn.fontSize*an)*Kt+Ft*Dn.fontSize},Jt.yFn=function(Dn){return Dn.dy+Mt+Dn.fontSize*j},Jt.anchorFn=function(Dn,Zt){return g(Zt)&&90===Math.abs(Zt)?"middle":Ut?"end":"start"},Jt.heightFn=function(Dn,Zt,It){return"right"===ge.side&&(Zt*=-1),Zt<-30?-It:Zt<30?-.5*It:0}}return Jt},F.drawTicks=function(ge,_e,We){We=We||{};var Je=_e._id+"tick",ft=[].concat(_e.minor&&_e.minor.ticks?We.vals.filter(function(et){return et.minor&&!et.noTick}):[]).concat(_e.ticks?We.vals.filter(function(et){return!et.minor&&!et.noTick}):[]),st=We.layer.selectAll("path."+Je).data(ft,mt);st.exit().remove(),st.enter().append("path").classed(Je,1).classed("ticks",1).classed("crisp",!1!==We.crisp).each(function(et){return u.stroke(s.select(this),et.minor?_e.minor.tickcolor:_e.tickcolor)}).style("stroke-width",function(et){return C.crispRound(ge,et.minor?_e.minor.tickwidth:_e.tickwidth,1)+"px"}).attr("d",We.path).style("display",null),Nt(_e,[ie]),st.attr("transform",We.transFn)},F.drawGrid=function(ge,_e,We){We=We||{};var Je=_e._id+"grid",ft=_e.minor&&_e.minor.showgrid,st=ft?We.vals.filter(function(an){return an.minor}):[],et=_e.showgrid?We.vals.filter(function(an){return!an.minor}):[],ut=We.counterAxis;if(ut&&F.shouldShowZeroLine(ge,_e,ut))for(var xt="array"===_e.tickmode,kt=0;kt<et.length;kt++){var Bt=et[kt].x;if(xt?!Bt:Math.abs(Bt)<_e.dtick/100){if(et=et.slice(0,kt).concat(et.slice(kt+1)),!xt)break;kt--}}_e._gw=C.crispRound(ge,_e.gridwidth,1);for(var rn=ft?C.crispRound(ge,_e.minor.gridwidth,1):0,Dt=We.layer,$t=We.minorLayer,fn=1;fn>=0;fn--){var At=fn?Dt:$t;if(At){var Mt=At.selectAll("path."+Je).data(fn?et:st,mt);Mt.exit().remove(),Mt.enter().append("path").classed(Je,1).classed("crisp",!1!==We.crisp),Mt.attr("transform",We.transFn).attr("d",We.path).each(function(an){return u.stroke(s.select(this),an.minor?_e.minor.gridcolor:_e.gridcolor||"#ddd")}).style("stroke-dasharray",function(an){return C.dashStyle(an.minor?_e.minor.griddash:_e.griddash,an.minor?_e.minor.gridwidth:_e.gridwidth)}).style("stroke-width",function(an){return(an.minor?rn:_e._gw)+"px"}).style("display",null),"function"==typeof We.path&&Mt.attr("d",We.path)}}Nt(_e,[oe,Ce])},F.drawZeroLine=function(ge,_e,We){var Je=_e._id+"zl",ft=F.shouldShowZeroLine(ge,_e,(We=We||We).counterAxis),st=We.layer.selectAll("path."+Je).data(ft?[{x:0,id:_e._id}]:[]);st.exit().remove(),st.enter().append("path").classed(Je,1).classed("zl",1).classed("crisp",!1!==We.crisp).each(function(){We.layer.selectAll("path").sort(function(et,ut){return B(et.id,ut.id)})}),st.attr("transform",We.transFn).attr("d",We.path).call(u.stroke,_e.zerolinecolor||u.defaultLine).style("stroke-width",C.crispRound(ge,_e.zerolinewidth,_e._gw||1)+"px").style("display",null),Nt(_e,[te])},F.drawLabels=function(ge,_e,We){We=We||{};var Je=ge._fullLayout,ft=_e._id,st=ft.charAt(0),et=We.cls||ft+"tick",ut=We.vals.filter(function(Kt){return Kt.text}),xt=We.labelFns,kt=We.secondary?0:_e.tickangle,Bt=(_e._prevTickAngles||{})[et],rn=We.layer.selectAll("g."+et).data(_e.showticklabels?ut:[],mt),Dt=[];function $t(Kt,Ut){Kt.each(function(Jt){var Ft=s.select(this),Mn=Ft.select(".text-math-group"),_n=xt.anchorFn(Jt,Ut),wn=We.transFn.call(Ft.node(),Jt)+(g(Ut)&&0!=+Ut?" rotate("+Ut+","+xt.xFn(Jt)+","+(xt.yFn(Jt)-Jt.fontSize/2)+")":""),Ln=d.lineCount(Ft),$n=se*Jt.fontSize,Dn=xt.heightFn(Jt,g(Ut)?+Ut:0,(Ln-1)*$n);if(Dn&&(wn+=m(0,Dn)),Mn.empty()){var Zt=Ft.select("text");Zt.attr({transform:wn,"text-anchor":_n}),Zt.style("opacity",1),_e._adjustTickLabelsOverflow&&_e._adjustTickLabelsOverflow()}else{var It=C.bBox(Mn.node()).width*{end:-.5,start:.5}[_n];Mn.attr("transform",wn+m(It,0))}})}rn.enter().append("g").classed(et,1).append("text").attr("text-anchor","middle").each(function(Kt){var Ut=s.select(this),Jt=ge._promises.length;Ut.call(d.positionText,xt.xFn(Kt),xt.yFn(Kt)).call(C.font,Kt.font,Kt.fontSize,Kt.fontColor).text(Kt.text).call(d.convertToTspans,ge),ge._promises[Jt]?Dt.push(ge._promises.pop().then(function(){$t(Ut,kt)})):$t(Ut,kt)}),Nt(_e,[Q]),rn.exit().remove(),We.repositionOnUpdate&&rn.each(function(Kt){s.select(this).select("text").call(d.positionText,xt.xFn(Kt),xt.yFn(Kt))}),_e._adjustTickLabelsOverflow=function(){var Kt=_e.ticklabeloverflow;if(Kt&&"allow"!==Kt){var Ut=-1!==Kt.indexOf("hide"),Jt="x"===_e._id.charAt(0),Ft=0,Mn=Jt?ge._fullLayout.width:ge._fullLayout.height;if(-1!==Kt.indexOf("domain")){var _n=l.simpleMap(_e.range,_e.r2l);Ft=_e.l2p(_n[0])+_e._offset,Mn=_e.l2p(_n[1])+_e._offset}var wn=Math.min(Ft,Mn),Ln=Math.max(Ft,Mn),$n=_e.side,Dn=1/0,Zt=-1/0;for(var It in rn.each(function(cn){var Pn=s.select(this);if(Pn.select(".text-math-group").empty()){var Vn=C.bBox(Pn.node()),vn=0;Jt?(Vn.right>Ln||Vn.left<wn)&&(vn=1):(Vn.bottom>Ln||Vn.top+(_e.tickangle?0:cn.fontSize/4)<wn)&&(vn=1);var n2=Pn.select("text");vn?Ut&&n2.style("opacity",0):(n2.style("opacity",1),Dn="bottom"===$n||"right"===$n?Math.min(Dn,Jt?Vn.top:Vn.left):-1/0,Zt="top"===$n||"left"===$n?Math.max(Zt,Jt?Vn.bottom:Vn.right):1/0)}}),Je._plots){var tn=Je._plots[It];if(_e._id===tn.xaxis._id||_e._id===tn.yaxis._id){var pn=Jt?tn.yaxis:tn.xaxis;pn&&(pn["_visibleLabelMin_"+_e._id]=Dn,pn["_visibleLabelMax_"+_e._id]=Zt)}}}},_e._hideCounterAxisInsideTickLabels=function(Kt){var Ut="x"===_e._id.charAt(0),Jt=[];for(var Ft in Je._plots){var Mn=Je._plots[Ft];_e._id!==Mn.xaxis._id&&_e._id!==Mn.yaxis._id||Jt.push(Ut?Mn.yaxis:Mn.xaxis)}Jt.forEach(function(_n,wn){_n&&Wt(_n)&&(Kt||[te,Ce,oe,ie,Q]).forEach(function(Ln){var $n="tick"===Ln.K&&"text"===Ln.L&&"period"===_e.ticklabelmode,Dn=Je._plots[_e._mainSubplot];(Ln.K===te.K?Dn.zerolinelayer.selectAll("."+_e._id+"zl"):Ln.K===Ce.K?Dn.minorGridlayer.selectAll("."+_e._id):Ln.K===oe.K?Dn.gridlayer.selectAll("."+_e._id):Dn[_e._id.charAt(0)+"axislayer"]).each(function(){var Zt=s.select(this);Ln.L&&(Zt=Zt.selectAll(Ln.L)),Zt.each(function(It){var tn=_e.l2p($n?Xe(It):It.x)+_e._offset,pn=s.select(this);tn<_e["_visibleLabelMax_"+_n._id]&&tn>_e["_visibleLabelMin_"+_n._id]?pn.style("display","none"):"tick"!==Ln.K||wn||pn.style("display",null)})})})})},$t(rn,Bt+1?Bt:kt);var fn=null;_e._selections&&(_e._selections[et]=rn);var At=[function(){return Dt.length&&Promise.all(Dt)}];_e.automargin&&Je._redrawFromAutoMarginCount&&90===Bt?(fn=90,At.push(function(){$t(rn,Bt)})):At.push(function(){if($t(rn,kt),ut.length&&"x"===st&&!g(kt)&&("log"!==_e.type||"D"!==String(_e.dtick).charAt(0))){fn=0;var Kt,Ut=0,Jt=[];if(rn.each(function(Pn){Ut=Math.max(Ut,Pn.fontSize);var Vn=_e.l2p(Pn.x),vn=Ot(this),n2=C.bBox(vn.node());Jt.push({top:0,bottom:10,height:10,left:Vn-n2.width/2,right:Vn+n2.width/2+2,width:n2.width+2})}),"boundaries"!==_e.tickson&&!_e.showdividers||We.secondary){var Ft=ut.length,Mn=Math.abs((ut[Ft-1].x-ut[0].x)*_e._m)/(Ft-1),_n=_e.ticklabelposition||"",wn=function(Pn){return-1!==_n.indexOf(Pn)},Ln=wn("top"),$n=wn("left"),Dn=wn("right"),Zt=wn("bottom")||$n||Ln||Dn?(_e.tickwidth||0)+6:0,It=Mn<2.5*Ut||"multicategory"===_e.type||"realaxis"===_e._name;for(Kt=0;Kt<Jt.length-1;Kt++)if(l.bBoxIntersect(Jt[Kt],Jt[Kt+1],Zt)){fn=It?90:30;break}}else{var tn=2;for(_e.ticks&&(tn+=_e.tickwidth/2),Kt=0;Kt<Jt.length;Kt++){var pn=ut[Kt].xbnd,cn=Jt[Kt];if(null!==pn[0]&&cn.left-_e.l2p(pn[0])<tn||null!==pn[1]&&_e.l2p(pn[1])-cn.right<tn){fn=90;break}}}fn&&$t(rn,fn)}}),_e._tickAngles&&At.push(function(){_e._tickAngles[et]=null===fn?g(kt)?kt:0:fn});var Mt=_e._anchorAxis;Mt&&Mt.autorange&&Wt(_e)&&!ae(Je,_e._id)&&(Je._insideTickLabelsAutorange||(Je._insideTickLabelsAutorange={}),Je._insideTickLabelsAutorange[Mt._name+".autorange"]=Mt.autorange,At.push(function(){rn.each(function(Kt,Ut){var Jt=Ot(this);Jt.select(".text-math-group").empty()&&(_e._vals[Ut].bb=C.bBox(Jt.node()))})}));var an=l.syncOrAsync(At);return an&&an.then&&ge._promises.push(an),an},F.getPxPosition=function(ge,_e){var We,Je=ge._fullLayout._size,ft=_e._id.charAt(0),st=_e.side;return"free"!==_e.anchor?We=_e._anchorAxis:"x"===ft?We={_offset:Je.t+(1-(_e.position||0))*Je.h,_length:0}:"y"===ft&&(We={_offset:Je.l+(_e.position||0)*Je.w,_length:0}),"top"===st||"left"===st?We._offset:"bottom"===st||"right"===st?We._offset+We._length:void 0},F.shouldShowZeroLine=function(ge,_e,We){var Je=l.simpleMap(_e.range,_e.r2l);return Je[0]*Je[1]<=0&&_e.zeroline&&("linear"===_e.type||"-"===_e.type)&&!(_e.rangebreaks&&_e.maskBreaks(0)===ne)&&(yt(_e,0)||!function(ft,st,et,ut){var xt=et._mainAxis;if(xt){var kt=ft._fullLayout,Bt=st._id.charAt(0),rn=F.counterLetter(st._id),Dt=st._offset+(Math.abs(ut[0])<Math.abs(ut[1])==("x"===Bt)?0:st._length),fn=kt._plots[et._mainSubplot];if(!(fn.mainplotinfo||fn).overlays.length)return $t(et);for(var At=F.list(ft,rn),Mt=0;Mt<At.length;Mt++){var an=At[Mt];if(an._mainAxis===xt&&$t(an))return!0}}function $t(Kt){if(!Kt.showline||!Kt.linewidth)return!1;var Ut=Math.max((Kt.linewidth+st.zerolinewidth)/2,1);function Jt(_n){return"number"==typeof _n&&Math.abs(_n-Dt)<Ut}if(Jt(Kt._mainLinePosition)||Jt(Kt._mainMirrorPosition))return!0;var Ft=Kt._linepositions||{};for(var Mn in Ft)if(Jt(Ft[Mn][0])||Jt(Ft[Mn][1]))return!0}}(ge,_e,We,Je)||function(ft,st){for(var et=ft._fullData,ut=st._mainSubplot,xt=st._id.charAt(0),kt=0;kt<et.length;kt++){var Bt=et[kt];if(!0===Bt.visible&&Bt.xaxis+Bt.yaxis===ut&&(c.traceIs(Bt,"bar-like")&&Bt.orientation==={x:"h",y:"v"}[xt]||Bt.fill&&Bt.fill.charAt(Bt.fill.length-1)===xt))return!0}return!1}(ge,_e))},F.clipEnds=function(ge,_e){return _e.filter(function(We){return yt(ge,We.x)})},F.allowAutoMargin=function(ge){for(var _e=F.list(ge,"",!0),We=0;We<_e.length;We++){var Je=_e[We];Je.automargin&&(p.allowAutoMargin(ge,bt(Je)),Je.mirror&&p.allowAutoMargin(ge,Fe(Je))),c.getComponentMethod("rangeslider","isVisible")(Je)&&p.allowAutoMargin(ge,Ue(Je))}},F.swap=function(ge,_e){for(var We=function(ft,st){var et,ut,xt=[];for(et=0;et<st.length;et++){var kt=[],Bt=ft._fullData[st[et]].xaxis,rn=ft._fullData[st[et]].yaxis;if(Bt&&rn){for(ut=0;ut<xt.length;ut++)-1===xt[ut].x.indexOf(Bt)&&-1===xt[ut].y.indexOf(rn)||kt.push(ut);if(kt.length){var Dt,$t=xt[kt[0]];if(kt.length>1)for(ut=1;ut<kt.length;ut++)gt($t.x,(Dt=xt[kt[ut]]).x),gt($t.y,Dt.y);gt($t.x,[Bt]),gt($t.y,[rn])}else xt.push({x:[Bt],y:[rn]})}}return xt}(ge,_e),Je=0;Je<We.length;Je++)Pt(ge,We[Je].x,We[Je].y)}},{"../../components/color":102,"../../components/drawing":124,"../../components/titles":200,"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"./autorange":278,"./axis_autotype":280,"./axis_ids":283,"./clean_ticks":285,"./layout_attributes":294,"./set_convert":301,"@plotly/d3":11,"fast-isnumeric":17}],280:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib"),p=v("../../constants/numerical").BADNUM,c=g.isArrayOrTypedArray,l=g.isDateTime,m=g.cleanNumber,d=Math.round;function h(C,b){return b?s(C):"number"==typeof C}function u(C){return Math.max(1,(C-1)/1e3)}pe.exports=function(C,b,M){var I,w=C,N=M.noMultiCategory;if(c(w)&&!w.length)return"-";if(!N&&c((I=w)[0])&&c(I[1]))return"multicategory";if(N&&Array.isArray(w[0])){for(var A=[],V=0;V<w.length;V++)if(c(w[V]))for(var L=0;L<w[V].length;L++)A.push(w[V][L]);w=A}if(function(I,D){for(var E=I.length,P=u(E),S=0,R=0,G={},z=0;z<E;z+=P){var W=I[d(z)],Z=String(W);G[Z]||(G[Z]=1,l(W,D)&&S++,s(W)&&R++)}return S>2*R}(w,b))return"date";var H="strict"!==M.autotypenumbers;return function(I,D){for(var E=I.length,P=u(E),S=0,R=0,G={},z=0;z<E;z+=P){var W=I[d(z)],Z=String(W);if(!G[Z]){G[Z]=1;var ne=typeof W;"boolean"===ne?R++:(D?m(W)!==p:"number"===ne)?S++:"string"===ne&&R++}}return R>2*S}(w,H)?"category":function(I,D){for(var E=I.length,P=0;P<E;P++)if(h(I[P],D))return!0;return!1}(w,H)?"linear":"-"}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],281:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../registry"),p=v("../../lib"),c=v("../../plot_api/plot_template"),l=v("../array_container_defaults"),m=v("./layout_attributes"),d=v("./tick_value_defaults"),h=v("./tick_mark_defaults"),u=v("./tick_label_defaults"),C=v("./prefix_suffix_defaults"),b=v("./category_order_defaults"),M=v("./line_grid_defaults"),w=v("./set_convert"),N=v("./constants").WEEKDAY_PATTERN,A=v("./constants").HOUR_PATTERN;function V(I,D,E){function P(ne,te){return p.coerce(I,D,m.rangebreaks,ne,te)}if(P("enabled")){var S=P("bounds");if(S&&S.length>=2){var R,G,z="";if(2===S.length)for(R=0;R<2;R++)if(G=H(S[R])){z=N;break}var X=P("pattern",z);if(X===N)for(R=0;R<2;R++)(G=H(S[R]))&&(D.bounds[R]=S[R]=G-1);if(X)for(R=0;R<2;R++)switch(G=S[R],X){case N:if(!s(G)||(G=+G)!==Math.floor(G)||G<0||G>=7)return void(D.enabled=!1);D.bounds[R]=S[R]=G;break;case A:if(!s(G)||(G=+G)<0||G>24)return void(D.enabled=!1);D.bounds[R]=S[R]=G}if(!1===E.autorange){var W=E.range;if(W[0]<W[1]){if(S[0]<W[0]&&S[1]>W[1])return void(D.enabled=!1)}else if(S[0]>W[0]&&S[1]<W[1])return void(D.enabled=!1)}}else{var Z=P("values");if(!Z||!Z.length)return void(D.enabled=!1);P("dvalue")}}}pe.exports=function(I,D,E,P,S){var R,G=P.letter,z=P.font||{},X=P.splomStash||{},W=E("visible",!P.visibleDflt),ne=D.type||(D._template||{}).type||"-";"date"===ne&&(g.getComponentMethod("calendars","handleDefaults")(I,D,"calendar",P.calendar),P.noTicklabelmode||(R=E("ticklabelmode")));var te="";P.noTicklabelposition&&"multicategory"!==ne||(te=p.coerce(I,D,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===R?["outside","inside"]:"x"===G?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),P.noTicklabeloverflow||E("ticklabeloverflow",-1!==te.indexOf("inside")?"hide past domain":"category"===ne||"multicategory"===ne?"allow":"hide past div"),w(D,S);var oe=!D.isValidRange(I.range);oe&&P.reverseDflt&&(oe="reversed"),!E("autorange",oe)||"linear"!==ne&&"-"!==ne||E("rangemode"),E("range"),D.cleanRange(),b(I,D,E,P),"category"===ne||P.noHover||E("hoverformat");var Ce=E("color"),ie=Ce!==m.color.dflt?Ce:z.color,Q=X.label||S._dfltTitle[G];if(C(I,D,E,ne,P),!W)return D;E("title.text",Q),p.coerceFont(E,"title.font",{family:z.family,size:p.bigFont(z.size),color:ie}),d(I,D,E,ne);var le=P.hasMinor;if(le&&(c.newContainer(D,"minor"),d(I,D,E,ne,{isMinor:!0})),u(I,D,E,ne,P),h(I,D,E,P),le){var j=P.isMinor;P.isMinor=!0,h(I,D,E,P),P.isMinor=j}M(I,D,E,{dfltColor:Ce,bgColor:P.bgColor,showGrid:P.showGrid,hasMinor:le,attributes:m}),!le||D.minor.ticks||D.minor.showgrid||delete D.minor,(D.showline||D.ticks)&&E("mirror"),P.automargin&&E("automargin");var $,se="multicategory"===ne;if(P.noTickson||"category"!==ne&&!se||!D.ticks&&!D.showgrid||(se&&($="boundaries"),"boundaries"===E("tickson",$)&&delete D.ticklabelposition),se&&E("showdividers")&&(E("dividercolor"),E("dividerwidth")),"date"===ne)if(l(I,D,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:V}),D.rangebreaks.length){for(var ee=0;ee<D.rangebreaks.length;ee++)if(D.rangebreaks[ee].pattern===N){D._hasDayOfWeekBreaks=!0;break}if(w(D,S),S._has("scattergl")||S._has("splom"))for(var F=0;F<P.data.length;F++){var O=P.data[F];"scattergl"!==O.type&&"splom"!==O.type||(O.visible=!1,p.warn(O.type+" traces do not work on axes with rangebreaks. Setting trace "+O.index+" to `visible: false`."))}}else delete D.rangebreaks;return D};var L={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function H(I){if("string"==typeof I)return L[I.substr(0,3).toLowerCase()]}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"../array_container_defaults":274,"./category_order_defaults":284,"./constants":286,"./layout_attributes":294,"./line_grid_defaults":296,"./prefix_suffix_defaults":298,"./set_convert":301,"./tick_label_defaults":303,"./tick_mark_defaults":304,"./tick_value_defaults":305,"fast-isnumeric":17}],282:[function(v,pe,J){"use strict";var s=v("../../constants/docs"),g=s.FORMAT_LINK,p=s.DATE_FORMAT_LINK;function c(m,d){return["Sets the "+m+" formatting rule"+(d?"for `"+d+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+g+"."].join(" ")}function l(m,d){return c(m,d)+[" And for dates see: "+p+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}pe.exports={axisHoverFormat:function(m,d){return{valType:"string",dflt:"",editType:"none",description:(d?c:l)("hover text",m)+["By default the values are formatted using "+(d?"generic number format":"`"+m+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:c,descriptionWithDates:l}},{"../../constants/docs":209}],283:[function(v,pe,J){"use strict";var s=v("../../registry"),g=v("./constants");function p(c,l){if(l&&l.length)for(var m=0;m<l.length;m++)if(l[m][c])return!0;return!1}J.id2name=function(c){if("string"==typeof c&&c.match(g.AX_ID_PATTERN)){var l=c.split(" ")[0].substr(1);return"1"===l&&(l=""),c.charAt(0)+"axis"+l}},J.name2id=function(c){if(c.match(g.AX_NAME_PATTERN)){var l=c.substr(5);return"1"===l&&(l=""),c.charAt(0)+l}},J.cleanId=function(c,l,m){var d=/( domain)$/.test(c);if("string"==typeof c&&c.match(g.AX_ID_PATTERN)&&(!l||c.charAt(0)===l)&&(!d||m)){var h=c.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===h&&(h=""),c.charAt(0)+h+(d&&m?" domain":"")}},J.list=function(c,l,m){var d=c._fullLayout;if(!d)return[];var h,u=J.listIds(c,l),C=new Array(u.length);for(h=0;h<u.length;h++){var b=u[h];C[h]=d[b.charAt(0)+"axis"+b.substr(1)]}if(!m){var M=d._subplots.gl3d||[];for(h=0;h<M.length;h++){var w=d[M[h]];l?C.push(w[l+"axis"]):C.push(w.xaxis,w.yaxis,w.zaxis)}}return C},J.listIds=function(c,l){var m=c._fullLayout;if(!m)return[];var d=m._subplots;return l?d[l+"axis"]:d.xaxis.concat(d.yaxis)},J.getFromId=function(c,l,m){var d=c._fullLayout;return l=void 0===l||"string"!=typeof l?l:l.replace(" domain",""),"x"===m?l=l.replace(/y[0-9]*/,""):"y"===m&&(l=l.replace(/x[0-9]*/,"")),d[J.id2name(l)]},J.getFromTrace=function(c,l,m){var d=c._fullLayout,h=null;if(s.traceIs(l,"gl3d")){var u=l.scene;"scene"===u.substr(0,5)&&(h=d[u][m+"axis"])}else h=J.getFromId(c,l[m+"axis"]||m);return h},J.idSort=function(c,l){var m=c.charAt(0),d=l.charAt(0);return m!==d?m>d?1:-1:+(c.substr(1)||1)-+(l.substr(1)||1)},J.ref2id=function(c){return!!/^[xyz]/.test(c)&&c.split(" ")[0]},J.isLinked=function(c,l){return p(l,c._axisMatchGroups)||p(l,c._axisConstraintGroups)}},{"../../registry":318,"./constants":286}],284:[function(v,pe,J){"use strict";pe.exports=function(s,g,p,c){if("category"===g.type){var l,m=s.categoryarray,d=Array.isArray(m)&&m.length>0;d&&(l="array");var h,u=p("categoryorder",l);"array"===u&&(h=p("categoryarray")),d||"array"!==u||(u=g.categoryorder="trace"),"trace"===u?g._initialCategories=[]:"array"===u?g._initialCategories=h.slice():(h=function(C,b){var M,w,N,A=b.dataAttr||C._id.charAt(0),V={};if(b.axData)M=b.axData;else for(M=[],w=0;w<b.data.length;w++){var L=b.data[w];L[A+"axis"]===C._id&&M.push(L)}for(w=0;w<M.length;w++){var H=M[w][A];for(N=0;N<H.length;N++){var I=H[N];null!=I&&(V[I]=1)}}return Object.keys(V)}(g,c).sort(),"category ascending"===u?g._initialCategories=h:"category descending"===u&&(g._initialCategories=h.reverse()))}}},{}],285:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib"),p=v("../../constants/numerical"),c=p.ONEDAY,l=p.ONEWEEK;J.dtick=function(m,d){var h="log"===d,u="date"===d,C="category"===d,b=u?c:1;if(!m)return b;if(s(m))return(m=Number(m))<=0?b:C?Math.max(1,Math.round(m)):u?Math.max(.1,m):m;if("string"!=typeof m||!u&&!h)return b;var M=m.charAt(0),w=m.substr(1);return(w=s(w)?Number(w):0)<=0||!(u&&"M"===M&&w===Math.round(w)||h&&"L"===M||h&&"D"===M&&(1===w||2===w))?b:m},J.tick0=function(m,d,h,u){return"date"===d?g.cleanDate(m,g.dateTick0(h,u%l==0?1:0)):"D1"!==u&&"D2"!==u?s(m)?Number(m):0:void 0}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],286:[function(v,pe,J){"use strict";var s=v("../../lib/regex").counter;pe.exports={idRegex:{x:s("x","( domain)?"),y:s("y","( domain)?")},attrRegex:s("[xy]axis"),xAxisMatch:s("xaxis"),yAxisMatch:s("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":248}],287:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("./autorange"),p=v("./axis_ids").id2name,c=v("./layout_attributes"),l=v("./scale_zoom"),m=v("./set_convert"),d=v("../../constants/numerical").ALMOST_EQUAL,h=v("../../constants/alignment").FROM_BL;function u(V,L,H){var I=H.axIds,D=H.layoutOut,E=H.hasImage,P=D._axisConstraintGroups,S=D._axisMatchGroups,R=L._id,G=R.charAt(0),z=((D._splomAxes||{})[G]||{})[R]||{},X=L._id,W="x"===X.charAt(0);function Z(Y,B){return s.coerce(V,L,c,Y,B)}L._matchGroup=null,L._constraintGroup=null,Z("constrain",E?"domain":"range"),s.coerce(V,L,{constraintoward:{valType:"enumerated",values:W?["left","center","right"]:["bottom","middle","top"],dflt:W?"center":"middle"}},"constraintoward");var ne,te,oe=L.type,Ce=[];for(ne=0;ne<I.length;ne++)(te=I[ne])!==X&&D[p(te)].type===oe&&Ce.push(te);var ie=b(P,X);if(ie){var Q=[];for(ne=0;ne<Ce.length;ne++)ie[te=Ce[ne]]||Q.push(te);Ce=Q}var le,j,$=Ce.length;$&&(V.matches||z.matches)&&(le=s.coerce(V,L,{matches:{valType:"enumerated",values:Ce,dflt:-1!==Ce.indexOf(z.matches)?z.matches:void 0}},"matches"));var se=E&&!W?L.anchor:void 0;if($&&!le&&(V.scaleanchor||se)&&(j=s.coerce(V,L,{scaleanchor:{valType:"enumerated",values:Ce}},"scaleanchor",se)),le){L._matchGroup=M(S,X,le,1);var ee=D[p(le)],F=C(D,L)/C(D,ee);W!==("x"===le.charAt(0))&&(F=(W?"x":"y")+F),M(P,X,le,F)}else V.matches&&-1!==I.indexOf(V.matches)&&s.warn("ignored "+L._name+'.matches: "'+V.matches+'" to avoid an infinite loop');if(j){var O=Z("scaleratio");O||(O=L.scaleratio=1),M(P,X,j,O)}else V.scaleanchor&&-1!==I.indexOf(V.scaleanchor)&&s.warn("ignored "+L._name+'.scaleanchor: "'+V.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function C(V,L){var H=L.domain;return H||(H=V[p(L.overlaying)].domain),H[1]-H[0]}function b(V,L){for(var H=0;H<V.length;H++)if(V[H][L])return V[H];return null}function M(V,L,H,I){var D,E,P,S,R,G=b(V,L);null===G?((G={})[L]=1,R=V.length,V.push(G)):R=V.indexOf(G);var z=Object.keys(G);for(D=0;D<V.length;D++)if(P=V[D],D!==R&&P[H]){var X=P[H];for(E=0;E<z.length;E++)P[S=z[E]]=w(X,w(I,G[S]));return void V.splice(R,1)}if(1!==I)for(E=0;E<z.length;E++){var W=z[E];G[W]=w(I,G[W])}G[H]=1}function w(V,L){var H,I,D="",E="";"string"==typeof V&&(H=(D=V.match(/^[xy]*/)[0]).length,V=+V.substr(H)),"string"==typeof L&&(I=(E=L.match(/^[xy]*/)[0]).length,L=+L.substr(I));var P=V*L;return H||I?H&&I&&D.charAt(0)!==E.charAt(0)?H===I?P:(H>I?D.substr(I):E.substr(H))+P:D+E+V*L:P}function N(V,L){for(var H=L._size,I=H.h/H.w,D={},E=Object.keys(V),P=0;P<E.length;P++){var S=E[P],R=V[S];if("string"==typeof R){var G=R.match(/^[xy]*/)[0],z=G.length;R=+R.substr(z);for(var X="y"===G.charAt(0)?I:1/I,W=0;W<z;W++)R*=X}D[S]=R}return D}function A(V,L){var H=V._inputDomain,D=H[0]+(H[1]-H[0])*h[V.constraintoward];V.domain=V._input.domain=[D+(H[0]-D)/L,D+(H[1]-D)/L],V.setScale()}J.handleDefaults=function(V,L,H){var I,D,E,P,S,R,G,z,X=H.axIds,W=H.axHasImage,Z=L._axisConstraintGroups=[],ne=L._axisMatchGroups=[];for(I=0;I<X.length;I++)u(S=V[P=p(X[I])],R=L[P],{axIds:X,layoutOut:L,hasImage:W[P]});function te(ee,F){for(I=0;I<ee.length;I++)for(E in D=ee[I])L[p(E)][F]=D}for(te(ne,"_matchGroup"),I=0;I<Z.length;I++)for(E in D=Z[I])if((R=L[p(E)]).fixedrange){for(var oe in D){var Ce=p(oe);!1===(V[Ce]||{}).fixedrange&&s.warn("fixedrange was specified as false for axis "+Ce+" but was overridden because another axis in its constraint group has fixedrange true"),L[Ce].fixedrange=!0}break}for(I=0;I<Z.length;){for(E in D=Z[I]){(R=L[p(E)])._matchGroup&&Object.keys(R._matchGroup).length===Object.keys(D).length&&(Z.splice(I,1),I--);break}I++}te(Z,"_constraintGroup");var ie=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],Q=!1,le=!1;function j(){z=R[G],"rangebreaks"===G&&(le=R._hasDayOfWeekBreaks)}for(I=0;I<ne.length;I++){D=ne[I];for(var $=0;$<ie.length;$++){var se;for(E in G=ie[$],z=null,D)if(S=V[P=p(E)],G in(R=L[P])){if(!R.matches&&(se=R,G in S)){j();break}null===z&&G in S&&j()}if("range"===G&&z&&(Q=!0),"autorange"===G&&null===z&&Q&&(z=!1),null===z&&G in se&&(z=se[G]),null!==z)for(E in D)(R=L[p(E)])[G]="range"===G?z.slice():z,"rangebreaks"===G&&(R._hasDayOfWeekBreaks=le,m(R,L))}}},J.enforce=function(V){var L,H,I,D,E,P,S,R,G=V._fullLayout,z=G._axisConstraintGroups||[];for(L=0;L<z.length;L++){I=N(z[L],G);var X=Object.keys(I),W=1/0,Z=0,ne=1/0,te={},oe={},Ce=!1;for(H=0;H<X.length;H++)oe[D=X[H]]=E=G[p(D)],E._inputDomain?E.domain=E._inputDomain.slice():E._inputDomain=E.domain.slice(),E._inputRange||(E._inputRange=E.range.slice()),E.setScale(),te[D]=P=Math.abs(E._m)/I[D],W=Math.min(W,P),"domain"!==E.constrain&&E._constraintShrinkable||(ne=Math.min(ne,P)),delete E._constraintShrinkable,Z=Math.max(Z,P),"domain"===E.constrain&&(Ce=!0);if(!(W>d*Z)||Ce)for(H=0;H<X.length;H++)if(P=te[D=X[H]],S=(E=oe[D]).constrain,P!==ne||"domain"===S)if(R=P/ne,"range"===S)l(E,R);else{var ie=E._inputDomain,Q=(E.domain[1]-E.domain[0])/(ie[1]-ie[0]),le=(E.r2l(E.range[1])-E.r2l(E.range[0]))/(E.r2l(E._inputRange[1])-E.r2l(E._inputRange[0]));if((R/=Q)*le<1){E.domain=E._input.domain=ie.slice(),l(E,R);continue}if(le<1&&(E.range=E._input.range=E._inputRange.slice(),R*=le),E.autorange){var j=E.r2l(E.range[0]),$=E.r2l(E.range[1]),se=(j+$)/2,ee=se,F=se,O=Math.abs($-se),Y=se-O*R*1.0001,B=se+O*R*1.0001,ae=g.makePadFn(G,E,0),ue=g.makePadFn(G,E,1);A(E,R);var fe,he,xe=Math.abs(E._m),be=g.concatExtremes(V,E),Ve=be.min,Ae=be.max;for(he=0;he<Ve.length;he++)(fe=Ve[he].val-ae(Ve[he])/xe)>Y&&fe<ee&&(ee=fe);for(he=0;he<Ae.length;he++)(fe=Ae[he].val+ue(Ae[he])/xe)<B&&fe>F&&(F=fe);R/=(F-ee)/(2*O),ee=E.l2r(ee),F=E.l2r(F),E.range=E._input.range=j<$?[ee,F]:[F,ee]}A(E,R)}}},J.getAxisGroup=function(V,L){for(var H=V._axisMatchGroups,I=0;I<H.length;I++)if(H[I][L])return"g"+I;return L},J.clean=function(V,L){if(L._inputDomain){for(var H=!1,I=L._id,D=V._fullLayout._axisConstraintGroups,E=0;E<D.length;E++)if(D[E][I]){H=!0;break}H&&"domain"===L.constrain||(L._input.domain=L.domain=L._inputDomain,delete L._inputDomain)}}},{"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"./autorange":278,"./axis_ids":283,"./layout_attributes":294,"./scale_zoom":299,"./set_convert":301}],288:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../lib"),p=g.numberFormat,c=v("tinycolor2"),l=v("has-passive-events"),m=v("../../registry"),d=g.strTranslate,h=v("../../lib/svg_text_utils"),u=v("../../components/color"),C=v("../../components/drawing"),b=v("../../components/fx"),M=v("./axes"),w=v("../../lib/setcursor"),N=v("../../components/dragelement"),A=v("../../components/dragelement/helpers"),V=A.selectingOrDrawing,L=A.freeMode,H=v("../../constants/alignment").FROM_TL,I=v("../../lib/clear_gl_canvases"),D=v("../../plot_api/subroutines").redrawReglTraces,E=v("../plots"),P=v("./axis_ids").getFromId,S=v("./select").prepSelect,R=v("./select").clearSelect,G=v("./select").selectOnClick,z=v("./scale_zoom"),X=v("./constants"),W=X.MINDRAG,Z=X.MINZOOM,ne=!0;function te(fe,he,xe,be){var Ve=g.ensureSingle(fe.draglayer,he,xe,function(Ae){Ae.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",fe.id)});return Ve.call(w,be),Ve.node()}function oe(fe,he,xe,be,Ve,Ae,Oe){var Re=te(fe,"rect",he,xe);return s.select(Re).call(C.setRect,be,Ve,Ae,Oe),Re}function Ce(fe,he){for(var xe=0;xe<fe.length;xe++)if(!fe[xe].fixedrange)return he;return""}function ie(fe,he,xe,be,Ve){for(var Ae=0;Ae<fe.length;Ae++){var Oe=fe[Ae];if(!Oe.fixedrange)if(Oe.rangebreaks){var Re="y"===Oe._id.charAt(0),Ke=Re?1-xe:xe;be[Oe._name+".range[0]"]=Oe.l2r(Oe.p2l((Re?1-he:he)*Oe._length)),be[Oe._name+".range[1]"]=Oe.l2r(Oe.p2l(Ke*Oe._length))}else{var $e=Oe._rl[0],Me=Oe._rl[1]-$e;be[Oe._name+".range[0]"]=Oe.l2r($e+Me*he),be[Oe._name+".range[1]"]=Oe.l2r($e+Me*xe)}}if(Ve&&Ve.length){var ve=(he+(1-xe))/2;ie(Ve,ve,1-ve,be,[])}}function Q(fe,he){for(var xe=0;xe<fe.length;xe++){var be=fe[xe];if(!be.fixedrange)if(be.rangebreaks){var Ve=be._length,Ae=(be.p2l(0+he)-be.p2l(0)+(be.p2l(Ve+he)-be.p2l(Ve)))/2;be.range=[be.l2r(be._rl[0]-Ae),be.l2r(be._rl[1]-Ae)]}else be.range=[be.l2r(be._rl[0]-he/be._m),be.l2r(be._rl[1]-he/be._m)]}}function le(fe){return 1-(fe>=0?Math.min(fe,.9):1/(1/Math.max(fe,-.3)+3.222))}function j(fe,he,xe,be,Ve){return fe.append("path").attr("class","zoombox").style({fill:he>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",d(xe,be)).attr("d",Ve+"Z")}function $(fe,he,xe){return fe.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("transform",d(he,xe)).attr("d","M0,0Z")}function se(fe,he,xe,be,Ve,Ae){fe.attr("d",be+"M"+xe.l+","+xe.t+"v"+xe.h+"h"+xe.w+"v-"+xe.h+"h-"+xe.w+"Z"),ee(fe,he,Ve,Ae)}function ee(fe,he,xe,be){xe||(fe.transition().style("fill",be>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),he.transition().style("opacity",1).duration(200))}function F(fe){s.select(fe).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function O(fe){ne&&fe.data&&fe._context.showTips&&(g.notifier(g._(fe,"Double-click to zoom back out"),"long"),ne=!1)}function Y(fe){var he=Math.floor(Math.min(fe.b-fe.t,fe.r-fe.l,Z)/2);return"M"+(fe.l-3.5)+","+(fe.t-.5+he)+"h3v"+-he+"h"+he+"v-3h-"+(he+3)+"ZM"+(fe.r+3.5)+","+(fe.t-.5+he)+"h-3v"+-he+"h"+-he+"v-3h"+(he+3)+"ZM"+(fe.r+3.5)+","+(fe.b+.5-he)+"h-3v"+he+"h"+-he+"v3h"+(he+3)+"ZM"+(fe.l-3.5)+","+(fe.b+.5-he)+"h3v"+he+"h"+he+"v3h-"+(he+3)+"Z"}function B(fe,he,xe,be,Ve){for(var Ae,Oe,Re,tt,Ke=!1,$e={},Me={},ve=(Ve||{}).xaHash,Se=(Ve||{}).yaHash,Te=0;Te<he.length;Te++){var qe=he[Te];for(Ae in xe)if(qe[Ae]){for(Re in qe)Ve&&(ve[Re]||Se[Re])||("x"===Re.charAt(0)?xe:be)[Re]||($e[Re]=Ae);for(Oe in be)Ve&&(ve[Oe]||Se[Oe])||!qe[Oe]||(Ke=!0)}for(Oe in be)if(qe[Oe])for(tt in qe)Ve&&(ve[tt]||Se[tt])||("x"===tt.charAt(0)?xe:be)[tt]||(Me[tt]=Oe)}Ke&&(g.extendFlat($e,Me),Me={});var Ee={},Ie=[];for(Re in $e){var Qe=P(fe,Re);Ie.push(Qe),Ee[Qe._id]=Qe}var nt={},Ye=[];for(tt in Me){var rt=P(fe,tt);Ye.push(rt),nt[rt._id]=rt}return{xaHash:Ee,yaHash:nt,xaxes:Ie,yaxes:Ye,xLinks:$e,yLinks:Me,isSubplotConstrained:Ke}}function ae(fe,he){if(l){var xe=void 0!==fe.onwheel?"wheel":"mousewheel";fe._onwheel&&fe.removeEventListener(xe,fe._onwheel),fe._onwheel=he,fe.addEventListener(xe,he,{passive:!1})}else void 0!==fe.onwheel?fe.onwheel=he:void 0!==fe.onmousewheel?fe.onmousewheel=he:fe.isAddedWheelEvent||(fe.isAddedWheelEvent=!0,fe.addEventListener("wheel",he,{passive:!1}))}function ue(fe){var he=[];for(var xe in fe)he.push(fe[xe]);return he}pe.exports={makeDragBox:function(fe,he,xe,be,Ve,Ae,Oe,Re){var tt,Ke,$e,Me,ve,Se,Te,qe,Ee,Ie,Qe,nt,Ye,rt,dt,Xe,mt,_t,yt,Ot,bt,Fe,Ue,gt=fe._fullLayout._zoomlayer,Pt=Oe+Re==="nsew",Qt=1===(Oe+Re).length;function en(){if(Ee=(tt=he.xaxis)._length,Ie=(Ke=he.yaxis)._length,Te=tt._offset,qe=Ke._offset,($e={})[tt._id]=tt,(Me={})[Ke._id]=Ke,Oe&&Re)for(var Zt=he.overlays,It=0;It<Zt.length;It++){var tn=Zt[It].xaxis;$e[tn._id]=tn;var pn=Zt[It].yaxis;Me[pn._id]=pn}ve=ue($e),Se=ue(Me),Ye=Ce(ve,Re),rt=Ce(Se,Oe),dt=!rt&&!Ye,nt=B(fe,fe._fullLayout._axisMatchGroups,$e,Me);var cn=(Qe=B(fe,fe._fullLayout._axisConstraintGroups,$e,Me,nt)).isSubplotConstrained||nt.isSubplotConstrained;Xe=Re||cn,mt=Oe||cn;var Pn=fe._fullLayout;_t=Pn._has("scattergl"),yt=Pn._has("splom"),Ot=Pn._has("svg")}en();var Zt,Xt=(Zt=rt+Ye)?"nsew"===Zt?Pt?"":"pan"===fe._fullLayout.dragmode?"move":"crosshair":Zt.toLowerCase()+"-resize":"pointer",Wt=oe(he,Oe+Re+"drag",Xt,xe,be,Ve,Ae);if(dt&&!Pt)return Wt.onmousedown=null,Wt.style.pointerEvents="none",Wt;var Nt,ge,_e,We,Je,ft,st,et,ut,xt,kt={element:Wt,gd:fe,plotinfo:he};function Bt(){kt.plotinfo.selection=!1,R(fe)}function rn(Zt,It){var g2,u2,qt,Wn,Fn,tn=kt.gd;if(tn._fullLayout._activeShapeIndex>=0)tn._fullLayout._deactivateShape(tn);else{var pn=tn._fullLayout.clickmode;if(F(tn),2!==Zt||Qt||function Mn(){if(!fe._transitioningWithDuration){var Zt=fe._context.doubleClick,It=[];Ye&&(It=It.concat(ve)),rt&&(It=It.concat(Se)),nt.xaxes&&(It=It.concat(nt.xaxes)),nt.yaxes&&(It=It.concat(nt.yaxes));var tn,pn,cn,Pn={};if("reset+autosize"===Zt)for(Zt="autosize",pn=0;pn<It.length;pn++)if((tn=It[pn])._rangeInitial&&(tn.range[0]!==tn._rangeInitial[0]||tn.range[1]!==tn._rangeInitial[1])||!tn._rangeInitial&&!tn.autorange){Zt="reset";break}if("autosize"===Zt)for(pn=0;pn<It.length;pn++)(tn=It[pn]).fixedrange||(Pn[tn._name+".autorange"]=!0);else if("reset"===Zt)for((Ye||Qe.isSubplotConstrained)&&(It=It.concat(Qe.xaxes)),rt&&!Qe.isSubplotConstrained&&(It=It.concat(Qe.yaxes)),Qe.isSubplotConstrained&&(Ye?rt||(It=It.concat(Se)):It=It.concat(ve)),pn=0;pn<It.length;pn++)(tn=It[pn]).fixedrange||(tn._rangeInitial?(Pn[tn._name+".range[0]"]=(cn=tn._rangeInitial)[0],Pn[tn._name+".range[1]"]=cn[1]):Pn[tn._name+".autorange"]=!0);fe.emit("plotly_doubleclick",null),m.call("_guiRelayout",fe,Pn)}}(),Pt)pn.indexOf("select")>-1&&G(It,tn,ve,Se,he.id,kt),pn.indexOf("event")>-1&&b.click(tn,It,he.id);else if(1===Zt&&Qt){var cn=Oe?Ke:tt,Pn="s"===Oe||"w"===Re?0:1,Vn=cn._name+".range["+Pn+"]",vn=(Wn=(g2=cn).range[u2=Pn],Fn=Math.abs(Wn-g2.range[1-u2]),"date"===g2.type?Wn:"log"===g2.type?(qt=Math.ceil(Math.max(0,-Math.log(Fn)/Math.LN10))+3,p("."+qt+"g")(Math.pow(10,Wn))):(qt=Math.floor(Math.log(Math.abs(Wn))/Math.LN10)-Math.floor(Math.log(Fn)/Math.LN10)+4,p("."+String(qt)+"g")(Wn))),n2="left",h2="middle";if(cn.fixedrange)return;Oe?(h2="n"===Oe?"top":"bottom","right"===cn.side&&(n2="right")):"e"===Re&&(n2="right"),tn._context.showAxisRangeEntryBoxes&&s.select(Wt).call(h.makeEditable,{gd:tn,immediate:!0,background:tn._fullLayout.paper_bgcolor,text:String(vn),fill:cn.tickfont?cn.tickfont.color:"#444",horizontalAlign:n2,verticalAlign:h2}).on("edit",function(g2){var u2=cn.d2r(g2);void 0!==u2&&m.call("_guiRelayout",tn,Vn,u2)})}}}function Dt(Zt,It){if(fe._transitioningWithDuration)return!1;var h2,g2,tn=Math.max(0,Math.min(Ee,Fe*Zt+Nt)),pn=Math.max(0,Math.min(Ie,Ue*It+ge)),cn=Math.abs(tn-Nt),Pn=Math.abs(pn-ge);function Vn(){st="",_e.r=_e.l,_e.t=_e.b,ut.attr("d","M0,0Z")}if(_e.l=Math.min(Nt,tn),_e.r=Math.max(Nt,tn),_e.t=Math.min(ge,pn),_e.b=Math.max(ge,pn),Qe.isSubplotConstrained)cn>Z||Pn>Z?(st="xy",cn/Ee>Pn/Ie?(Pn=cn*Ie/Ee,ge>pn?_e.t=ge-Pn:_e.b=ge+Pn):(cn=Pn*Ee/Ie,Nt>tn?_e.l=Nt-cn:_e.r=Nt+cn),ut.attr("d",Y(_e))):Vn();else if(nt.isSubplotConstrained)if(cn>Z||Pn>Z){st="xy";var vn=Math.min(_e.l/Ee,(Ie-_e.b)/Ie),n2=Math.max(_e.r/Ee,(Ie-_e.t)/Ie);_e.l=vn*Ee,_e.r=n2*Ee,_e.b=(1-vn)*Ie,_e.t=(1-n2)*Ie,ut.attr("d",Y(_e))}else Vn();else!rt||Pn<Math.min(Math.max(.6*cn,W),Z)?cn<W||!Ye?Vn():(_e.t=0,_e.b=Ie,st="x",ut.attr("d","M"+((h2=_e).l-.5)+","+((g2=ge)-Z-.5)+"h-3v"+(2*Z+1)+"h3ZM"+(h2.r+.5)+","+(g2-Z-.5)+"h3v"+(2*Z+1)+"h-3Z")):!Ye||cn<Math.min(.6*Pn,Z)?(_e.l=0,_e.r=Ee,st="y",ut.attr("d",function(h2,g2){return"M"+(g2-Z-.5)+","+(h2.t-.5)+"v-3h"+(2*Z+1)+"v3ZM"+(g2-Z-.5)+","+(h2.b+.5)+"v3h"+(2*Z+1)+"v-3Z"}(_e,Nt))):(st="xy",ut.attr("d",Y(_e)));_e.w=_e.r-_e.l,_e.h=_e.b-_e.t,st&&(xt=!0),fe._dragged=xt,se(et,ut,_e,Je,ft,We),$t(),fe.emit("plotly_relayouting",bt),ft=!0}function $t(){bt={},"xy"!==st&&"x"!==st||(ie(ve,_e.l/Ee,_e.r/Ee,bt,Qe.xaxes),Jt("x",bt)),"xy"!==st&&"y"!==st||(ie(Se,(Ie-_e.b)/Ie,(Ie-_e.t)/Ie,bt,Qe.yaxes),Jt("y",bt))}function fn(){$t(),F(fe),_n(),O(fe)}kt.prepFn=function(Zt,It,tn){var pn=kt.dragmode,cn=fe._fullLayout.dragmode;cn!==pn&&(kt.dragmode=cn),en(),Fe=fe._fullLayout._invScaleX,Ue=fe._fullLayout._invScaleY,dt||(Pt?Zt.shiftKey?"pan"===cn?cn="zoom":V(cn)||(cn="pan"):Zt.ctrlKey&&(cn="pan"):cn="pan"),kt.minDrag=L(cn)?1:void 0,V(cn)?(kt.xaxes=ve,kt.yaxes=Se,S(Zt,It,tn,kt,cn)):(kt.clickFn=rn,V(pn)&&Bt(),dt||("zoom"===cn?(kt.moveFn=Dt,kt.doneFn=fn,kt.minDrag=1,function(Pn,Vn,vn){var n2=Wt.getBoundingClientRect();Nt=Vn-n2.left,ge=vn-n2.top,fe._fullLayout._calcInverseTransform(fe);var h2=g.apply3DTransform(fe._fullLayout._invTransform)(Nt,ge);_e={l:Nt=h2[0],r:Nt,w:0,t:ge=h2[1],b:ge,h:0},We=fe._hmpixcount?fe._hmlumcount/fe._hmpixcount:c(fe._fullLayout.plot_bgcolor).getLuminance(),ft=!1,st="xy",xt=!1,et=j(gt,We,Te,qe,Je="M0,0H"+Ee+"V"+Ie+"H0V0"),ut=$(gt,Te,qe)}(0,It,tn)):"pan"===cn&&(kt.moveFn=Ut,kt.doneFn=_n))),fe._fullLayout._redrag=function(){var Pn=fe._dragdata;Pn&&Pn.element===Wt&&(V(fe._fullLayout.dragmode)||(en(),wn([0,0,Ee,Ie]),kt.moveFn(Pn.dx,Pn.dy)))}},N.init(kt);var At=[0,0,Ee,Ie],Mt=null,an=X.REDRAWDELAY,Kt=he.mainplot?fe._fullLayout._plots[he.mainplot]:he;function Ut(Zt,It){if(Zt*=Fe,It*=Ue,!fe._transitioningWithDuration){if(fe._fullLayout._replotting=!0,"ew"===Ye||"ns"===rt){var tn=Ye?-Zt:0,pn=rt?-It:0;if(nt.isSubplotConstrained){if(Ye&&rt){var cn=(Zt/Ee-It/Ie)/2;tn=-(Zt=cn*Ee),pn=-(It=-cn*Ie)}rt?tn=-pn*Ee/Ie:pn=-tn*Ie/Ee}return Ye&&(Q(ve,Zt),Jt("x")),rt&&(Q(Se,It),Jt("y")),wn([tn,pn,Ee,Ie]),Ft(),void fe.emit("plotly_relayouting",bt)}var Pn,Vn,vn="w"===Ye==("n"===rt)?1:-1;if(Ye&&rt&&(Qe.isSubplotConstrained||nt.isSubplotConstrained)){var n2=(Zt/Ee+vn*It/Ie)/2;Zt=n2*Ee,It=vn*n2*Ie}if("w"===Ye?Zt=qt(ve,0,Zt):"e"===Ye?Zt=qt(ve,1,-Zt):Ye||(Zt=0),"n"===rt?It=qt(Se,1,It):"s"===rt?It=qt(Se,0,-It):rt||(It=0),Pn="w"===Ye?Zt:0,Vn="n"===rt?It:0,Qe.isSubplotConstrained&&!nt.isSubplotConstrained||nt.isSubplotConstrained&&Ye&&rt&&vn>0){var h2;if(nt.isSubplotConstrained||!Ye&&1===rt.length){for(h2=0;h2<ve.length;h2++)ve[h2].range=ve[h2]._r.slice(),z(ve[h2],1-It/Ie);Pn=(Zt=It*Ee/Ie)/2}if(nt.isSubplotConstrained||!rt&&1===Ye.length){for(h2=0;h2<Se.length;h2++)Se[h2].range=Se[h2]._r.slice(),z(Se[h2],1-Zt/Ee);Vn=(It=Zt*Ie/Ee)/2}}nt.isSubplotConstrained&&rt||Jt("x"),nt.isSubplotConstrained&&Ye||Jt("y");var g2=Ee-Zt,u2=Ie-It;!nt.isSubplotConstrained||Ye&&rt||(Ye?(Vn=Pn?0:Zt*Ie/Ee,u2=g2*Ie/Ee):(Pn=Vn?0:It*Ee/Ie,g2=u2*Ee/Ie)),wn([Pn,Vn,g2,u2]),Ft(),fe.emit("plotly_relayouting",bt)}function qt(Wn,Fn,e2){for(var En,b2,f2=1-Fn,In=0;In<Wn.length;In++){var d2=Wn[In];if(!d2.fixedrange){En=d2,b2=d2._rl[f2]+(d2._rl[Fn]-d2._rl[f2])/le(e2/d2._length);var x2=d2.l2r(b2);!1!==x2&&void 0!==x2&&(d2.range[Fn]=x2)}}return En._length*(En._rl[Fn]-b2)/(En._rl[Fn]-En._rl[f2])}}function Jt(Zt,It){for(var tn=nt.isSubplotConstrained?{x:Se,y:ve}[Zt]:nt[Zt+"axes"],pn=nt.isSubplotConstrained?{x:ve,y:Se}[Zt]:[],cn=0;cn<tn.length;cn++){var Pn=tn[cn],Vn=Pn._id,vn=nt.xLinks[Vn]||nt.yLinks[Vn],n2=pn[0]||$e[vn]||Me[vn];n2&&(It?(It[Pn._name+".range[0]"]=It[n2._name+".range[0]"],It[Pn._name+".range[1]"]=It[n2._name+".range[1]"]):Pn.range=n2.range.slice())}}function Ft(){var Zt,It=[];function tn(Pn){for(Zt=0;Zt<Pn.length;Zt++)Pn[Zt].fixedrange||It.push(Pn[Zt]._id)}for(Xe&&(tn(ve),tn(Qe.xaxes),tn(nt.xaxes)),mt&&(tn(Se),tn(Qe.yaxes),tn(nt.yaxes)),bt={},Zt=0;Zt<It.length;Zt++){var cn=P(fe,It[Zt]);M.drawOne(fe,cn,{skipTitle:!0}),bt[cn._name+".range[0]"]=cn.range[0],bt[cn._name+".range[1]"]=cn.range[1]}M.redrawComponents(fe,It)}function _n(){wn([0,0,Ee,Ie]),g.syncOrAsync([E.previousPromises,function(){fe._fullLayout._replotting=!1,m.call("_guiRelayout",fe,bt)}],fe)}function wn(Zt){var It,tn,pn,cn,Pn=fe._fullLayout,Vn=Pn._plots,vn=Pn._subplots.cartesian;if(yt&&m.subplotsRegistry.splom.drag(fe),_t)for(It=0;It<vn.length;It++)if(pn=(tn=Vn[vn[It]]).xaxis,cn=tn.yaxis,tn._scene){var n2=g.simpleMap(pn.range,pn.r2l),h2=g.simpleMap(cn.range,cn.r2l);tn._scene.update({range:[n2[0],h2[0],n2[1],h2[1]]})}if((yt||_t)&&(I(fe),D(fe)),Ot){var g2=Zt[2]/tt._length,u2=Zt[3]/Ke._length;for(It=0;It<vn.length;It++){pn=(tn=Vn[vn[It]]).xaxis,cn=tn.yaxis;var qt,Wn,Fn,e2,b2=(mt||nt.isSubplotConstrained)&&!cn.fixedrange&&Me[cn._id];if((Xe||nt.isSubplotConstrained)&&!pn.fixedrange&&$e[pn._id]?(qt=g2,Fn=Re||nt.isSubplotConstrained?Zt[0]:Dn(pn,qt)):nt.xaHash[pn._id]?(qt=g2,Fn=Zt[0]*pn._length/tt._length):nt.yaHash[pn._id]?(qt=u2,Fn="ns"===rt?-Zt[1]*pn._length/Ke._length:Dn(pn,qt,{n:"top",s:"bottom"}[rt])):Fn=$n(pn,qt=Ln(pn,g2,u2)),b2?(Wn=u2,e2=Oe||nt.isSubplotConstrained?Zt[1]:Dn(cn,Wn)):nt.yaHash[cn._id]?(Wn=u2,e2=Zt[1]*cn._length/Ke._length):nt.xaHash[cn._id]?(Wn=g2,e2="ew"===Ye?-Zt[0]*cn._length/tt._length:Dn(cn,Wn,{e:"right",w:"left"}[Ye])):e2=$n(cn,Wn=Ln(cn,g2,u2)),qt||Wn){qt||(qt=1),Wn||(Wn=1);var f2=pn._offset-Fn/qt,In=cn._offset-e2/Wn;tn.clipRect.call(C.setTranslate,Fn,e2).call(C.setScale,qt,Wn),tn.plot.call(C.setTranslate,f2,In).call(C.setScale,1/qt,1/Wn),qt===tn.xScaleFactor&&Wn===tn.yScaleFactor||(C.setPointGroupScale(tn.zoomScalePts,qt,Wn),C.setTextPointsScale(tn.zoomScaleTxt,qt,Wn)),C.hideOutsideRangePoints(tn.clipOnAxisFalseTraces,tn),tn.xScaleFactor=qt,tn.yScaleFactor=Wn}}}}function Ln(Zt,It,tn){return Zt.fixedrange?0:Xe&&Qe.xaHash[Zt._id]?It:mt&&(Qe.isSubplotConstrained?Qe.xaHash:Qe.yaHash)[Zt._id]?tn:0}function $n(Zt,It){return It?(Zt.range=Zt._r.slice(),z(Zt,It),Dn(Zt,It)):0}function Dn(Zt,It,tn){return Zt._length*(1-It)*H[tn||Zt.constraintoward||"middle"]}return Oe.length*Re.length!=1&&ae(Wt,function(Zt){if(fe._context._scrollZoom.cartesian||fe._fullLayout._enablescrollzoom){if(Bt(),fe._transitioningWithDuration)return Zt.preventDefault(),void Zt.stopPropagation();en(),clearTimeout(Mt);var It=-Zt.deltaY;if(isFinite(It)||(It=Zt.wheelDelta/10),isFinite(It)){var tn,pn=Math.exp(-Math.min(Math.max(It,-20),20)/200),cn=Kt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Pn=(Zt.clientX-cn.left)/cn.width,Vn=(cn.bottom-Zt.clientY)/cn.height;if(Xe){for(Re||(Pn=.5),tn=0;tn<ve.length;tn++)vn(ve[tn],Pn,pn);Jt("x"),At[2]*=pn,At[0]+=At[2]*Pn*(1/pn-1)}if(mt){for(Oe||(Vn=.5),tn=0;tn<Se.length;tn++)vn(Se[tn],Vn,pn);Jt("y"),At[3]*=pn,At[1]+=At[3]*(1-Vn)*(1/pn-1)}wn(At),Ft(),fe.emit("plotly_relayouting",bt),Mt=setTimeout(function(){fe._fullLayout&&(At=[0,0,Ee,Ie],_n())},an),Zt.preventDefault()}else g.log("Did not find wheel motion attributes: ",Zt)}function vn(n2,h2,g2){if(!n2.fixedrange){var u2=g.simpleMap(n2.range,n2.r2l),qt=u2[0]+(u2[1]-u2[0])*h2;n2.range=u2.map(function(Wn){return n2.l2r(qt+(Wn-qt)*g2)})}}}),Wt},makeDragger:te,makeRectDragger:oe,makeZoombox:j,makeCorners:$,updateZoombox:se,xyCorners:Y,transitionZoombox:ee,removeZoombox:F,showDoubleClickNotifier:O,attachWheelEventHandler:ae}},{"../../components/color":102,"../../components/dragelement":121,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../constants/alignment":207,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/subroutines":269,"../../registry":318,"../plots":316,"./axes":279,"./axis_ids":283,"./constants":286,"./scale_zoom":299,"./select":300,"@plotly/d3":11,"has-passive-events":49,tinycolor2:67}],289:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../components/fx"),p=v("../../components/dragelement"),c=v("../../lib/setcursor"),l=v("./dragbox").makeDragBox,m=v("./constants").DRAGGERSIZE;J.initInteractions=function(d){var h=d._fullLayout;if(d._context.staticPlot)s.select(d).selectAll(".drag").remove();else if(h._has("cartesian")||h._has("splom")){Object.keys(h._plots||{}).sort(function(C,b){if((h._plots[C].mainplot&&!0)===(h._plots[b].mainplot&&!0)){var M=C.split("y"),w=b.split("y");return M[0]===w[0]?Number(M[1]||1)-Number(w[1]||1):Number(M[0]||1)-Number(w[0]||1)}return h._plots[C].mainplot?1:-1}).forEach(function(C){var b=h._plots[C],M=b.xaxis,w=b.yaxis;if(!b.mainplot){var N=l(d,b,M._offset,w._offset,M._length,w._length,"ns","ew");N.onmousemove=function(L){d._fullLayout._rehover=function(){d._fullLayout._hoversubplot===C&&d._fullLayout._plots[C]&&g.hover(d,L,C)},g.hover(d,L,C),d._fullLayout._lasthover=N,d._fullLayout._hoversubplot=C},N.onmouseout=function(L){d._dragging||(d._fullLayout._hoversubplot=null,p.unhover(d,L))},d._context.showAxisDragHandles&&(l(d,b,M._offset-m,w._offset-m,m,m,"n","w"),l(d,b,M._offset+M._length,w._offset-m,m,m,"n","e"),l(d,b,M._offset-m,w._offset+w._length,m,m,"s","w"),l(d,b,M._offset+M._length,w._offset+w._length,m,m,"s","e"))}if(d._context.showAxisDragHandles){if(C===M._mainSubplot){var A=M._mainLinePosition;"top"===M.side&&(A-=m),l(d,b,M._offset+.1*M._length,A,.8*M._length,m,"","ew"),l(d,b,M._offset,A,.1*M._length,m,"","w"),l(d,b,M._offset+.9*M._length,A,.1*M._length,m,"","e")}if(C===w._mainSubplot){var V=w._mainLinePosition;"right"!==w.side&&(V-=m),l(d,b,V,w._offset+.1*w._length,m,.8*w._length,"ns",""),l(d,b,V,w._offset+.9*w._length,m,.1*w._length,"s",""),l(d,b,V,w._offset,m,.1*w._length,"n","")}}});var u=h._hoverlayer.node();u.onmousemove=function(C){C.target=d._fullLayout._lasthover,g.hover(d,C,h._hoversubplot)},u.onclick=function(C){C.target=d._fullLayout._lasthover,g.click(d,C)},u.onmousedown=function(C){d._fullLayout._lasthover.onmousedown(C)},J.updateFx(d)}},J.updateFx=function(d){var h=d._fullLayout;c(h._draggers,"pan"===h.dragmode?"move":"crosshair")}},{"../../components/dragelement":121,"../../components/fx":142,"../../lib/setcursor":252,"./constants":286,"./dragbox":288,"@plotly/d3":11}],290:[function(v,pe,J){"use strict";pe.exports={clearOutlineControllers:function(s){var g=s._fullLayout._zoomlayer;g&&g.selectAll(".outline-controllers").remove()},clearSelect:function(s){var g=s._fullLayout._zoomlayer;g&&g.selectAll(".select-outline").remove(),s._fullLayout._drawing=!1}}},{}],291:[function(v,pe,J){"use strict";var s=v("../../lib").strTranslate;function g(p,c){switch(p.type){case"log":return p.p2d(c);case"date":return p.p2r(c,0,p.calendar);default:return p.p2r(c)}}pe.exports={p2r:g,r2p:function(p,c){switch(p.type){case"log":return p.d2p(c);case"date":return p.r2p(c,0,p.calendar);default:return p.r2p(c)}},axValue:function(p){var c="y"===p._id.charAt(0)?1:0;return function(l){return g(p,l[c])}},getTransform:function(p){return s(p.xaxis._offset,p.yaxis._offset)}}},{"../../lib":232}],292:[function(v,pe,J){"use strict";var s=v("../../registry"),g=v("../../lib"),p=v("./axis_ids");pe.exports=function(c){return function(l,m){var d=l[c];if(Array.isArray(d))for(var h=s.subplotsRegistry.cartesian,u=h.idRegex,C=m._subplots,b=C.xaxis,M=C.yaxis,w=C.cartesian,N=m._has("cartesian")||m._has("gl2d"),A=0;A<d.length;A++){var V=d[A];if(g.isPlainObject(V)){var L=p.cleanId(V.xref,"x",!1),H=p.cleanId(V.yref,"y",!1),I=u.x.test(L),D=u.y.test(H);if(I||D){N||g.pushUnique(m._basePlotModules,h);var E=!1;I&&-1===b.indexOf(L)&&(b.push(L),E=!0),D&&-1===M.indexOf(H)&&(M.push(H),E=!0),E&&I&&D&&w.push(L+H)}}}}}},{"../../lib":232,"../../registry":318,"./axis_ids":283}],293:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../registry"),p=v("../../lib"),c=v("../plots"),l=v("../../components/drawing"),m=v("../get_data").getModuleCalcData,d=v("./axis_ids"),h=v("./constants"),u=v("../../constants/xmlns_namespaces"),C=p.ensureSingle;function b(V,L,H){return p.ensureSingle(V,L,H,function(I){I.datum(H)})}function M(V,L,H,I,D){for(var E,P,S,R=h.traceLayerClasses,G=V._fullLayout,z=G._modules,X=[],W=[],Z=0;Z<z.length;Z++){var ne=(E=z[Z]).name,te=g.modules[ne].categories;if(te.svg){var oe=E.layerName||ne+"layer",Ce=E.plot;S=(P=m(H,Ce))[0],H=P[1],S.length&&X.push({i:R.indexOf(oe),className:oe,plotMethod:Ce,cdModule:S}),te.zoomScale&&W.push("."+oe)}}X.sort(function(le,j){return le.i-j.i});var ie=L.plot.selectAll("g.mlayer").data(X,function(le){return le.className});if(ie.enter().append("g").attr("class",function(le){return le.className}).classed("mlayer",!0).classed("rangeplot",L.isRangePlot),ie.exit().remove(),ie.order(),ie.each(function(le){var j=s.select(this),$=le.className;le.plotMethod(V,L,le.cdModule,j,I,D),-1===h.clipOnAxisFalseQuery.indexOf("."+$)&&l.setClipUrl(j,L.layerClipId,V)}),G._has("scattergl")&&(E=g.getModule("scattergl"),S=m(H,E)[0],E.plot(V,L,S)),!V._context.staticPlot&&(L._hasClipOnAxisFalse&&(L.clipOnAxisFalseTraces=L.plot.selectAll(h.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),W.length)){var Q=L.plot.selectAll(W.join(",")).selectAll(".trace");L.zoomScalePts=Q.selectAll("path.point"),L.zoomScaleTxt=Q.selectAll(".textpoint")}}function w(V,L){var H=L.plotgroup,I=L.id,D=h.layerValue2layerClass[L.xaxis.layer],E=h.layerValue2layerClass[L.yaxis.layer],P=V._fullLayout._hasOnlyLargeSploms;if(L.mainplot){var S=L.mainplotinfo,R=S.plotgroup,G=I+"-x",z=I+"-y";L.minorGridlayer=S.minorGridlayer,L.gridlayer=S.gridlayer,L.zerolinelayer=S.zerolinelayer,C(S.overlinesBelow,"path",G),C(S.overlinesBelow,"path",z),C(S.overaxesBelow,"g",G),C(S.overaxesBelow,"g",z),L.plot=C(S.overplot,"g",I),C(S.overlinesAbove,"path",G),C(S.overlinesAbove,"path",z),C(S.overaxesAbove,"g",G),C(S.overaxesAbove,"g",z),L.xlines=R.select(".overlines-"+D).select("."+G),L.ylines=R.select(".overlines-"+E).select("."+z),L.xaxislayer=R.select(".overaxes-"+D).select("."+G),L.yaxislayer=R.select(".overaxes-"+E).select("."+z)}else if(P)L.xlines=C(H,"path","xlines-above"),L.ylines=C(H,"path","ylines-above"),L.xaxislayer=C(H,"g","xaxislayer-above"),L.yaxislayer=C(H,"g","yaxislayer-above");else{var X=C(H,"g","layer-subplot");L.shapelayer=C(X,"g","shapelayer"),L.imagelayer=C(X,"g","imagelayer"),L.minorGridlayer=C(H,"g","minor-gridlayer"),L.gridlayer=C(H,"g","gridlayer"),L.zerolinelayer=C(H,"g","zerolinelayer"),C(H,"path","xlines-below"),C(H,"path","ylines-below"),L.overlinesBelow=C(H,"g","overlines-below"),C(H,"g","xaxislayer-below"),C(H,"g","yaxislayer-below"),L.overaxesBelow=C(H,"g","overaxes-below"),L.plot=C(H,"g","plot"),L.overplot=C(H,"g","overplot"),L.xlines=C(H,"path","xlines-above"),L.ylines=C(H,"path","ylines-above"),L.overlinesAbove=C(H,"g","overlines-above"),C(H,"g","xaxislayer-above"),C(H,"g","yaxislayer-above"),L.overaxesAbove=C(H,"g","overaxes-above"),L.xlines=H.select(".xlines-"+D),L.ylines=H.select(".ylines-"+E),L.xaxislayer=H.select(".xaxislayer-"+D),L.yaxislayer=H.select(".yaxislayer-"+E)}P||(b(L.minorGridlayer,"g",L.xaxis._id),b(L.minorGridlayer,"g",L.yaxis._id),L.minorGridlayer.selectAll("g").map(function(W){return W[0]}).sort(d.idSort),b(L.gridlayer,"g",L.xaxis._id),b(L.gridlayer,"g",L.yaxis._id),L.gridlayer.selectAll("g").map(function(W){return W[0]}).sort(d.idSort)),L.xlines.style("fill","none").classed("crisp",!0),L.ylines.style("fill","none").classed("crisp",!0)}function N(V,L){if(V){var H={};for(var I in V.each(function(S){var R=S[0];s.select(this).remove(),A(R,L),H[R]=!0}),L._plots)for(var D=L._plots[I].overlays||[],E=0;E<D.length;E++){var P=D[E];H[P.id]&&P.plot.selectAll(".trace").remove()}}}function A(V,L){L._draggers.selectAll("g."+V).remove(),L._defs.select("#clip"+L._uid+V+"plot").remove()}J.name="cartesian",J.attr=["xaxis","yaxis"],J.idRoot=["x","y"],J.idRegex=h.idRegex,J.attrRegex=h.attrRegex,J.attributes=v("./attributes"),J.layoutAttributes=v("./layout_attributes"),J.supplyLayoutDefaults=v("./layout_defaults"),J.transitionAxes=v("./transition_axes"),J.finalizeSubplots=function(V,L){var H,I,D,E=L._subplots,P=E.xaxis,S=E.yaxis,R=E.cartesian,G=R.concat(E.gl2d||[]),z={},X={};for(H=0;H<G.length;H++){var W=G[H].split("y");z[W[0]]=1,X["y"+W[1]]=1}for(H=0;H<P.length;H++)z[I=P[H]]||(D=(V[d.id2name(I)]||{}).anchor,h.idRegex.y.test(D)||(D="y"),R.push(I+D),G.push(I+D),X[D]||(X[D]=1,p.pushUnique(S,D)));for(H=0;H<S.length;H++)X[D=S[H]]||(I=(V[d.id2name(D)]||{}).anchor,h.idRegex.x.test(I)||(I="x"),R.push(I+D),G.push(I+D),z[I]||(z[I]=1,p.pushUnique(P,I)));if(!G.length){for(var Z in I="",D="",V)h.attrRegex.test(Z)&&("x"===Z.charAt(0)?(!I||+Z.substr(5)<+I.substr(5))&&(I=Z):(!D||+Z.substr(5)<+D.substr(5))&&(D=Z));I=I?d.name2id(I):"x",D=D?d.name2id(D):"y",P.push(I),S.push(D),R.push(I+D)}},J.plot=function(V,L,H,I){var D,E=V._fullLayout,P=E._subplots.cartesian,S=V.calcdata;if(!Array.isArray(L))for(L=[],D=0;D<S.length;D++)L.push(D);for(D=0;D<P.length;D++){for(var R,G=P[D],z=E._plots[G],X=[],W=0;W<S.length;W++){var Z=S[W],ne=Z[0].trace;ne.xaxis+ne.yaxis===G&&((-1!==L.indexOf(ne.index)||ne.carpet)&&(R&&R[0].trace.xaxis+R[0].trace.yaxis===G&&-1!==["tonextx","tonexty","tonext"].indexOf(ne.fill)&&-1===X.indexOf(R)&&X.push(R),X.push(Z)),R=Z)}M(V,z,X,H,I)}},J.clean=function(V,L,H,I){var D,E,P,S=I._plots||{},R=L._plots||{},G=I._subplots||{};if(I._hasOnlyLargeSploms&&!L._hasOnlyLargeSploms)for(P in S)(D=S[P]).plotgroup&&D.plotgroup.remove();var z=I._has&&I._has("gl"),X=L._has&&L._has("gl");if(z&&!X)for(P in S)(D=S[P])._scene&&D._scene.destroy();if(G.xaxis&&G.yaxis){var W=d.listIds({_fullLayout:I});for(E=0;E<W.length;E++){var Z=W[E];L[d.id2name(Z)]||I._infolayer.selectAll(".g-"+Z+"title").remove()}}var ne=I._has&&I._has("cartesian"),te=L._has&&L._has("cartesian");if(ne&&!te)N(I._cartesianlayer.selectAll(".subplot"),I),I._defs.selectAll(".axesclip").remove(),delete I._axisConstraintGroups,delete I._axisMatchGroups;else if(G.cartesian)for(E=0;E<G.cartesian.length;E++){var oe=G.cartesian[E];R[oe]||(I._cartesianlayer.selectAll("."+oe+",."+oe+"-x,."+oe+"-y").remove(),A(oe,I))}},J.drawFramework=function(V){var L=V._fullLayout,H=function(D){var E,P,S,R,G,z,X=D._fullLayout,W=X._subplots.cartesian,Z=W.length,ne=[],te=[];for(E=0;E<Z;E++){var ie=(G=(R=X._plots[S=W[E]]).xaxis)._mainAxis._id+(z=R.yaxis)._mainAxis._id,Q=X._plots[ie];R.overlays=[],ie!==S&&Q?(R.mainplot=ie,R.mainplotinfo=Q,te.push(S)):(R.mainplot=void 0,R.mainplotinfo=void 0,ne.push(S))}for(E=0;E<te.length;E++)(R=X._plots[S=te[E]]).mainplotinfo.overlays.push(R);var le=ne.concat(te),j=new Array(Z);for(E=0;E<Z;E++){var $=[S=le[E],(G=(R=X._plots[S]).xaxis).layer,(z=R.yaxis).layer,G.overlaying||"",z.overlaying||""];for(P=0;P<R.overlays.length;P++)$.push(R.overlays[P].id);j[E]=$}return j}(V),I=L._cartesianlayer.selectAll(".subplot").data(H,String);I.enter().append("g").attr("class",function(D){return"subplot "+D[0]}),I.order(),I.exit().call(N,L),I.each(function(D){var E=D[0],P=L._plots[E];P.plotgroup=s.select(this),w(V,P),P.draglayer=C(L._draggers,"g",E)})},J.rangePlot=function(V,L,H){w(V,L),M(V,L,H),c.style(V)},J.toSVG=function(V){var L=V._fullLayout._glimages,H=s.select(V).selectAll(".svg-container");H.filter(function(I,D){return D===H.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var I=this.toDataURL("image/png");L.append("svg:image").attr({xmlns:u.svg,"xlink:href":I,preserveAspectRatio:"none",x:0,y:0,width:this.style.width,height:this.style.height})})},J.updateFx=v("./graph_interact").updateFx},{"../../components/drawing":124,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../registry":318,"../get_data":312,"../plots":316,"./attributes":277,"./axis_ids":283,"./constants":286,"./graph_interact":289,"./layout_attributes":294,"./layout_defaults":295,"./transition_axes":306,"@plotly/d3":11}],294:[function(v,pe,J){"use strict";var s=v("../font_attributes"),g=v("../../components/color/attributes"),p=v("../../components/drawing/attributes").dash,c=v("../../lib/extend").extendFlat,l=v("../../plot_api/plot_template").templatedArray,m=v("../../plots/cartesian/axis_format_attributes").descriptionWithDates,d=v("../../constants/numerical").ONEDAY,h=v("./constants"),u=h.HOUR_PATTERN,C=h.WEEKDAY_PATTERN,b={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}};function M(R){return{valType:"integer",min:0,dflt:R?5:0,editType:"ticks"}}var w={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},N={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},A={valType:"data_array",editType:"ticks"},V={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function L(R){var G={valType:"number",min:0,editType:"ticks"};return R||(G.dflt=5),G}function H(R){var G={valType:"number",min:0,editType:"ticks"};return R||(G.dflt=1),G}var I={valType:"color",dflt:g.defaultLine,editType:"ticks"},D={valType:"color",dflt:g.lightLine,editType:"ticks"};function E(R){var G={valType:"number",min:0,editType:"ticks"};return R||(G.dflt=1),G}var P=c({},p,{editType:"ticks"}),S={valType:"boolean",editType:"ticks"};pe.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:g.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:s({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"calc"},rangebreaks:l("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[C,u,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:d},editType:"calc"}),tickmode:b,nticks:M(),tick0:w,dtick:N,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:A,ticktext:{valType:"data_array",editType:"ticks"},ticks:V,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:L(),tickwidth:H(),tickcolor:I,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:c({},p,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:s({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:m("tick label")},tickformatstops:l("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:m("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:g.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:S,gridcolor:D,gridwidth:E(),griddash:P,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:g.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:g.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"plot"},minor:{tickmode:b,nticks:M("minor"),tick0:w,dtick:N,tickvals:A,ticks:V,ticklen:L("minor"),tickwidth:H("minor"),tickcolor:I,gridcolor:D,gridwidth:E("minor"),griddash:P,showgrid:S,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:s({editType:"ticks"})}}},{"../../components/color/attributes":101,"../../components/drawing/attributes":123,"../../constants/numerical":212,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_format_attributes":282,"../font_attributes":310,"./constants":286}],295:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../components/color"),p=v("../../components/fx/helpers").isUnifiedHover,c=v("../../components/fx/hovermode_defaults"),l=v("../../plot_api/plot_template"),m=v("../layout_attributes"),d=v("./layout_attributes"),h=v("./type_defaults"),u=v("./axis_defaults"),C=v("./constraints"),b=v("./position_defaults"),M=v("./axis_ids"),w=M.id2name,N=M.name2id,A=v("./constants").AX_ID_PATTERN,V=v("../../registry"),L=V.traceIs,H=V.getComponentMethod;function I(D,E,P){Array.isArray(D[E])?D[E].push(P):D[E]=[P]}pe.exports=function(D,E,P){var S,R,G=E.autotypenumbers,z={},X={},W={},Z={},ne={},te={},oe={},Ce={},ie={},Q={};for(S=0;S<P.length;S++){var le=P[S];if(L(le,"cartesian")||L(le,"gl2d")){var j,$;if(le.xaxis)j=w(le.xaxis),I(z,j,le);else if(le.xaxes)for(R=0;R<le.xaxes.length;R++)I(z,w(le.xaxes[R]),le);if(le.yaxis)$=w(le.yaxis),I(z,$,le);else if(le.yaxes)for(R=0;R<le.yaxes.length;R++)I(z,w(le.yaxes[R]),le);"funnel"===le.type?"h"===le.orientation?(j&&(X[j]=!0),$&&(oe[$]=!0)):$&&(W[$]=!0):"image"===le.type?($&&(Ce[$]=!0),j&&(Ce[j]=!0)):($&&(ne[$]=!0,te[$]=!0),L(le,"carpet")&&("carpet"!==le.type||le._cheater)||j&&(Z[j]=!0)),"carpet"===le.type&&le._cheater&&j&&(X[j]=!0),L(le,"2dMap")&&(ie[j]=!0,ie[$]=!0),L(le,"oriented")&&(Q["h"===le.orientation?$:j]=!0)}}var se=E._subplots,ee=se.xaxis,F=se.yaxis,O=s.simpleMap(ee,w),Y=s.simpleMap(F,w),B=O.concat(Y),ae=g.background;ee.length&&F.length&&(ae=s.coerce(D,E,m,"plot_bgcolor"));var ue,fe,he,xe,be,Ve=g.combine(ae,E.paper_bgcolor);function Ae(){be._traceIndices=(z[ue]||[]).map(function(gt){return gt._expandedIndex}),be._annIndices=[],be._shapeIndices=[],be._imgIndices=[],be._subplotsWith=[],be._counterAxes=[],be._name=be._attr=ue,be._id=fe}function Oe(Ue,gt){return s.coerce(xe,be,d,Ue,gt)}function Re(Ue,gt){return s.coerce2(xe,be,d,Ue,gt)}function tt(Ue){return"x"===Ue?F:ee}function Ke(Ue,gt){for(var Pt="x"===Ue?O:Y,Qt=[],en=0;en<Pt.length;en++){var Xt=Pt[en];Xt===gt||(D[Xt]||{}).overlaying||Qt.push(N(Xt))}return Qt}var $e={x:tt("x"),y:tt("y")},Me=$e.x.concat($e.y),ve={},Se=[];function Te(){var Ue=xe.matches;A.test(Ue)&&-1===Me.indexOf(Ue)&&(ve[Ue]=xe.type,Se=Object.keys(ve))}var qe=c(D,E),Ee=p(qe);for(S=0;S<B.length;S++){fe=N(ue=B[S]),he=ue.charAt(0),s.isPlainObject(D[ue])||(D[ue]={}),xe=D[ue],be=l.newContainer(E,ue,he+"axis"),Ae();var nt={hasMinor:!0,letter:he,font:E.font,outerTicks:ie[ue],showGrid:!Q[ue],data:z[ue]||[],bgColor:Ve,calendar:E.calendar,automargin:!0,visibleDflt:"x"===he&&!Z[ue]&&X[ue]||"y"===he&&!ne[ue]&&W[ue],reverseDflt:"y"===he&&(!te[ue]&&oe[ue]||Ce[ue]),autotypenumbersDflt:G,splomStash:((E._splomAxes||{})[he]||{})[fe]};Oe("uirevision",E.uirevision),h(xe,be,Oe,nt),u(xe,be,Oe,nt,E);var Ye=Ee&&he===qe.charAt(0),rt=Re("spikecolor",Ee?be.color:void 0),dt=Re("spikethickness",Ee?1.5:void 0),Xe=Re("spikedash",Ee?"dot":void 0),mt=Re("spikemode",Ee?"across":void 0),_t=Re("spikesnap");Oe("showspikes",!!(Ye||rt||dt||Xe||mt||_t))||(delete be.spikecolor,delete be.spikethickness,delete be.spikedash,delete be.spikemode,delete be.spikesnap),b(xe,be,Oe,{letter:he,counterAxes:$e[he],overlayableAxes:Ke(he,ue),grid:E.grid}),Oe("title.standoff"),Te(),be._input=xe}for(S=0;S<Se.length;){fe=Se[S++],he=(ue=w(fe)).charAt(0),s.isPlainObject(D[ue])||(D[ue]={}),xe=D[ue],be=l.newContainer(E,ue,he+"axis"),Ae();var yt={letter:he,font:E.font,outerTicks:ie[ue],showGrid:!Q[ue],data:[],bgColor:Ve,calendar:E.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:G,splomStash:((E._splomAxes||{})[he]||{})[fe]};Oe("uirevision",E.uirevision),be.type=ve[fe]||"linear",u(xe,be,Oe,yt,E),b(xe,be,Oe,{letter:he,counterAxes:$e[he],overlayableAxes:Ke(he,ue),grid:E.grid}),Oe("fixedrange"),Te(),be._input=xe}var Ot=H("rangeslider","handleDefaults"),bt=H("rangeselector","handleDefaults");for(S=0;S<O.length;S++)xe=D[ue=O[S]],be=E[ue],Ot(D,E,ue),"date"===be.type&&bt(xe,be,E,Y,be.calendar),Oe("fixedrange");for(S=0;S<Y.length;S++){xe=D[ue=Y[S]];var Fe=E[w((be=E[ue]).anchor)];Oe("fixedrange",H("rangeslider","isVisible")(Fe))}C.handleDefaults(D,E,{axIds:Me.concat(Se).sort(M.idSort),axHasImage:Ce})}},{"../../components/color":102,"../../components/fx/helpers":138,"../../components/fx/hovermode_defaults":141,"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"../layout_attributes":314,"./axis_defaults":281,"./axis_ids":283,"./constants":286,"./constraints":287,"./layout_attributes":294,"./position_defaults":297,"./type_defaults":307}],296:[function(v,pe,J){"use strict";var s=v("tinycolor2").mix,g=v("../../components/color/attributes"),p=v("../../lib");pe.exports=function(c,l,m,d){var h=(d=d||{}).dfltColor;function u(D,E){return p.coerce2(c,l,d.attributes,D,E)}var C=u("linecolor",h),b=u("linewidth");m("showline",d.showLine||!!C||!!b)||(delete l.linecolor,delete l.linewidth);var M=u("gridcolor",s(h,d.bgColor,d.blend||g.lightFraction).toRgbString()),w=u("gridwidth"),N=u("griddash");if(m("showgrid",d.showGrid||!!M||!!w||!!N)||(delete l.gridcolor,delete l.gridwidth,delete l.griddash),d.hasMinor){var A=u("minor.gridcolor",s(l.gridcolor,d.bgColor,67).toRgbString()),V=u("minor.gridwidth",l.gridwidth||1),L=u("minor.griddash",l.griddash||"solid");m("minor.showgrid",!!A||!!V||!!L)||(delete l.minor.gridcolor,delete l.minor.gridwidth,delete l.minor.griddash)}if(!d.noZeroLine){var H=u("zerolinecolor",h),I=u("zerolinewidth");m("zeroline",d.showGrid||!!H||!!I)||(delete l.zerolinecolor,delete l.zerolinewidth)}}},{"../../components/color/attributes":101,"../../lib":232,tinycolor2:67}],297:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib");pe.exports=function(p,c,l,m){var d,h,u,C,b=m.counterAxes||[],M=m.overlayableAxes||[],w=m.letter,N=m.grid;N&&(d=N._anchors[c._id],(h=N._domains[w][N._axisMap[c._id]])&&(u=N[w+"side"].split(" ")[0],C=N.domain[w]["right"===u||"top"===u?1:0])),h=h||[0,1],d=d||(s(p.position)?"free":b[0]||"free"),u=u||("x"===w?"bottom":"left"),C=C||0,"free"===g.coerce(p,c,{anchor:{valType:"enumerated",values:["free"].concat(b),dflt:d}},"anchor")&&l("position",C),g.coerce(p,c,{side:{valType:"enumerated",values:"x"===w?["bottom","top"]:["left","right"],dflt:u}},"side");var A=!1;if(M.length&&(A=g.coerce(p,c,{overlaying:{valType:"enumerated",values:[!1].concat(M),dflt:!1}},"overlaying")),!A){var V=l("domain",h);V[0]>V[1]-1/4096&&(c.domain=h),g.noneOrAll(p.domain,c.domain,h)}return l("layer"),c}},{"../../lib":232,"fast-isnumeric":17}],298:[function(v,pe,J){"use strict";var s=v("./show_dflt");pe.exports=function(g,p,c,l,m){m||(m={});var d=m.tickSuffixDflt,h=s(g);c("tickprefix")&&c("showtickprefix",h),c("ticksuffix",d)&&c("showticksuffix",h)}},{"./show_dflt":302}],299:[function(v,pe,J){"use strict";var s=v("../../constants/alignment").FROM_BL;pe.exports=function(g,p,c){void 0===c&&(c=s[g.constraintoward||"center"]);var l=[g.r2l(g.range[0]),g.r2l(g.range[1])],m=l[0]+(l[1]-l[0])*c;g.range=g._input.range=[g.l2r(m+(l[0]-m)*p),g.l2r(m+(l[1]-m)*p)],g.setScale()}},{"../../constants/alignment":207}],300:[function(v,pe,J){"use strict";var s=v("polybooljs"),g=v("../../registry"),p=v("../../components/drawing").dashStyle,c=v("../../components/color"),l=v("../../components/fx"),m=v("../../components/fx/helpers").makeEventData,d=v("../../components/dragelement/helpers"),h=d.freeMode,u=d.rectMode,C=d.drawMode,b=d.openMode,M=d.selectMode,w=v("../../components/shapes/draw_newshape/display_outlines"),N=v("../../components/shapes/draw_newshape/helpers").handleEllipse,A=v("../../components/shapes/draw_newshape/newshapes"),V=v("../../lib"),L=v("../../lib/polygon"),H=v("../../lib/throttle"),I=v("./axis_ids").getFromId,D=v("../../lib/clear_gl_canvases"),E=v("../../plot_api/subroutines").redrawReglTraces,P=v("./constants"),S=P.MINSELECT,R=L.filter,G=L.tester,z=v("./handle_outline").clearSelect,X=v("./helpers"),W=X.p2r,Z=X.axValue,ne=X.getTransform;function te(O,Y,B,ae,ue,fe,he){var xe,be,Ve,Ae,Oe,Re,tt,Ke,$e,Qe,Me=Y._hoverdata,ve=Y._fullLayout.clickmode.indexOf("event")>-1,Se=[];if((Qe=Me)&&Array.isArray(Qe)&&!0!==Qe[0].hoverOnBox){Q(O,Y,fe);var Te=function(Qe,nt){var Ye,rt,dt=Qe[0],Xe=-1,mt=[];for(rt=0;rt<nt.length;rt++)if(dt.fullData._expandedIndex===(Ye=nt[rt]).cd[0].trace._expandedIndex){if(!0===dt.hoverOnBox)break;void 0!==dt.pointNumber?Xe=dt.pointNumber:void 0!==dt.binNumber&&(Xe=dt.binNumber,mt=dt.pointNumbers);break}return{pointNumber:Xe,pointNumbers:mt,searchInfo:Ye}}(Me,xe=j(Y,B,ae,ue));if(Te.pointNumbers.length>0?function(Qe,nt){var Ye,rt,dt,Xe=[];for(dt=0;dt<Qe.length;dt++)(Ye=Qe[dt]).cd[0].trace.selectedpoints&&Ye.cd[0].trace.selectedpoints.length>0&&Xe.push(Ye);if(1===Xe.length&&Xe[0]===nt.searchInfo&&(rt=nt.searchInfo.cd[0].trace).selectedpoints.length===nt.pointNumbers.length){for(dt=0;dt<nt.pointNumbers.length;dt++)if(rt.selectedpoints.indexOf(nt.pointNumbers[dt])<0)return!1;return!0}return!1}(xe,Te):function(Qe){var Ye,rt,dt=0;for(rt=0;rt<Qe.length;rt++)if((Ye=Qe[rt].cd[0].trace).selectedpoints&&(Ye.selectedpoints.length>1||(dt+=Ye.selectedpoints.length)>1))return!1;return 1===dt}(xe)&&(Re=$(Te))){for(he&&he.remove(),$e=0;$e<xe.length;$e++)(be=xe[$e])._module.selectPoints(be,!1);se(Y,xe),le(fe),ve&&Y.emit("plotly_deselect",null)}else{for(tt=O.shiftKey&&(void 0!==Re?Re:$(Te)),Ve=function(Qe,nt,Ye){return{pointNumber:Qe,searchInfo:nt,subtract:Ye}}(Te.pointNumber,Te.searchInfo,tt),Ae=ie(fe.selectionDefs.concat([Ve])),$e=0;$e<xe.length;$e++)if(Oe=ee(xe[$e]._module.selectPoints(xe[$e],Ae),xe[$e]),Se.length)for(var qe=0;qe<Oe.length;qe++)Se.push(Oe[qe]);else Se=Oe;if(se(Y,xe,Ke={points:Se}),Ve&&fe&&fe.selectionDefs.push(Ve),he){var Ee=fe.mergedPolygons,Ie=b(fe.dragmode);w(F(Ee,Ie),he,fe)}ve&&Y.emit("plotly_selected",Ke)}}}function oe(O){return"pointNumber"in O&&"searchInfo"in O}function Ce(O){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Y,B,ae,ue){return ue.cd[0].trace._expandedIndex===O.searchInfo.cd[0].trace._expandedIndex&&ae===O.pointNumber},isRect:!1,degenerate:!1,subtract:O.subtract}}function ie(O){for(var Y=[],B=oe(O[0])?0:O[0][0][0],ae=B,ue=oe(O[0])?0:O[0][0][1],fe=ue,he=0;he<O.length;he++)if(oe(O[he]))Y.push(Ce(O[he]));else{var xe=L.tester(O[he]);xe.subtract=O[he].subtract,Y.push(xe),B=Math.min(B,xe.xmin),ae=Math.max(ae,xe.xmax),ue=Math.min(ue,xe.ymin),fe=Math.max(fe,xe.ymax)}return{xmin:B,xmax:ae,ymin:ue,ymax:fe,pts:[],contains:function(be,Ve,Ae,Oe){for(var Re=!1,tt=0;tt<Y.length;tt++)Y[tt].contains(be,Ve,Ae,Oe)&&(Re=!1===Y[tt].subtract);return Re},isRect:!1,degenerate:!1}}function Q(O,Y,B){Y._fullLayout._drawing=!1;var ae=Y._fullLayout,ue=B.plotinfo,fe=B.dragmode,he=ae._lastSelectedSubplot&&ae._lastSelectedSubplot===ue.id,xe=(O.shiftKey||O.altKey)&&!(C(fe)&&b(fe));he&&xe&&ue.selection&&ue.selection.selectionDefs&&!B.selectionDefs?(B.selectionDefs=ue.selection.selectionDefs,B.mergedPolygons=ue.selection.mergedPolygons):xe&&ue.selection||le(B),he||(z(Y),ae._lastSelectedSubplot=ue.id)}function le(O){var Y=O.dragmode,B=O.plotinfo,ae=O.gd;if(ae._fullLayout._activeShapeIndex>=0&&ae._fullLayout._deactivateShape(ae),C(Y)){var ue=ae._fullLayout._zoomlayer.selectAll(".select-outline-"+B.id);if(ue&&ae._fullLayout._drawing){var fe=A(ue,O);fe&&g.call("_guiRelayout",ae,{shapes:fe}),ae._fullLayout._drawing=!1}}B.selection={},B.selection.selectionDefs=O.selectionDefs=[],B.selection.mergedPolygons=O.mergedPolygons=[]}function j(O,Y,B,ae){var ue,fe,he,xe=[],be=Y.map(function(tt){return tt._id}),Ve=B.map(function(tt){return tt._id});for(he=0;he<O.calcdata.length;he++)if(!0===(fe=(ue=O.calcdata[he])[0].trace).visible&&fe._module&&fe._module.selectPoints)if(!ae||fe.subplot!==ae&&fe.geo!==ae)if("splom"===fe.type&&fe._xaxes[be[0]]&&fe._yaxes[Ve[0]]){var Ae=Re(fe._module,ue,Y[0],B[0]);Ae.scene=O._fullLayout._splomScenes[fe.uid],xe.push(Ae)}else if("sankey"===fe.type){var Oe=Re(fe._module,ue,Y[0],B[0]);xe.push(Oe)}else{if(-1===be.indexOf(fe.xaxis)||-1===Ve.indexOf(fe.yaxis))continue;xe.push(Re(fe._module,ue,I(O,fe.xaxis),I(O,fe.yaxis)))}else xe.push(Re(fe._module,ue,Y[0],B[0]));return xe;function Re(tt,Ke,$e,Me){return{_module:tt,cd:Ke,xaxis:$e,yaxis:Me}}}function $(O){var Y=O.searchInfo.cd[0].trace,ae=O.pointNumbers;return!!Y.selectedpoints&&Y.selectedpoints.indexOf(ae.length>0?ae[0]:O.pointNumber)>-1}function se(O,Y,B){var ae,ue,fe,he;for(ae=0;ae<Y.length;ae++){var xe=Y[ae].cd[0].trace._fullInput,be=O._fullLayout._tracePreGUI[xe.uid]||{};void 0===be.selectedpoints&&(be.selectedpoints=xe._input.selectedpoints||null)}if(B){var Ve=B.points||[];for(ae=0;ae<Y.length;ae++)(he=Y[ae].cd[0].trace)._input.selectedpoints=he._fullInput.selectedpoints=[],he._fullInput!==he&&(he.selectedpoints=[]);for(ae=0;ae<Ve.length;ae++){var Ae=Ve[ae],Oe=Ae.data,Re=Ae.fullData;Ae.pointIndices?([].push.apply(Oe.selectedpoints,Ae.pointIndices),he._fullInput!==he&&[].push.apply(Re.selectedpoints,Ae.pointIndices)):(Oe.selectedpoints.push(Ae.pointIndex),he._fullInput!==he&&Re.selectedpoints.push(Ae.pointIndex))}}else for(ae=0;ae<Y.length;ae++)delete(he=Y[ae].cd[0].trace).selectedpoints,delete he._input.selectedpoints,he._fullInput!==he&&delete he._fullInput.selectedpoints;var tt=!1;for(ae=0;ae<Y.length;ae++){he=(fe=(ue=Y[ae]).cd)[0].trace,g.traceIs(he,"regl")&&(tt=!0);var Ke=ue._module,$e=Ke.styleOnSelect||Ke.style;$e&&($e(O,fe,fe[0].node3),fe[0].nodeRangePlot3&&$e(O,fe,fe[0].nodeRangePlot3))}tt&&(D(O),E(O))}function ee(O,Y){if(Array.isArray(O))for(var B=Y.cd,ae=Y.cd[0].trace,ue=0;ue<O.length;ue++)O[ue]=m(O[ue],ae,B);return O}function F(O,Y){for(var B=[],ae=0;ae<O.length;ae++){B[ae]=[];for(var ue=0;ue<O[ae].length;ue++){B[ae][ue]=[],B[ae][ue][0]=ue?"L":"M";for(var fe=0;fe<O[ae][ue].length;fe++)B[ae][ue].push(O[ae][ue][fe])}Y||B[ae].push(["Z",B[ae][0][1],B[ae][0][2]])}return B}pe.exports={prepSelect:function(O,Y,B,ae,ue){var fe=h(ue),he=u(ue),xe=b(ue),be=C(ue),Ve=M(ue),Ae="drawcircle"===ue,Oe="drawline"===ue||Ae,Re=ae.gd,tt=Re._fullLayout,Ke=tt._zoomlayer,$e=ae.element.getBoundingClientRect(),Me=ae.plotinfo,ve=ne(Me),Se=Y-$e.left,Te=B-$e.top;tt._calcInverseTransform(Re);var Ee,Ie,Qe,nt,Ye,rt,dt,qe=V.apply3DTransform(tt._invTransform)(Se,Te),Xe=tt._invScaleX,mt=tt._invScaleY,_t=Se=qe[0],yt=Te=qe[1],Ot="M"+Se+","+Te,bt=ae.xaxes[0]._length,Fe=ae.yaxes[0]._length,Ue=ae.xaxes.concat(ae.yaxes),gt=O.altKey&&!(C(ue)&&xe);Q(O,Re,ae),fe&&(Ee=R([[Se,Te]],P.BENDPX));var Pt=Ke.selectAll("path.select-outline-"+Me.id).data(be?[0]:[1,2]),Qt=tt.newshape;Pt.enter().append("path").attr("class",function(We){return"select-outline select-outline-"+We+" select-outline-"+Me.id}).style(be?{opacity:Qt.opacity/2,fill:xe?void 0:Qt.fillcolor,stroke:Qt.line.color,"stroke-dasharray":p(Qt.line.dash,Qt.line.width),"stroke-width":Qt.line.width+"px"}:{}).attr("fill-rule",Qt.fillrule).classed("cursor-move",!!be).attr("transform",ve).attr("d",Ot+"Z");var en,Xt=Ke.append("path").attr("class","zoombox-corners").style({fill:c.background,stroke:c.defaultLine,"stroke-width":1}).attr("transform",ve).attr("d","M0,0Z"),Wt=tt._uid+P.SELECTID,Nt=[],ge=j(Re,ae.xaxes,ae.yaxes,ae.subplot);function _e(We,Je){return We-Je}en=Me.fillRangeItems?Me.fillRangeItems:he?function(We,Je){var ft=We.range={};for(Ye=0;Ye<Ue.length;Ye++){var st=Ue[Ye],et=st._id.charAt(0);ft[st._id]=[W(st,Je[et+"min"]),W(st,Je[et+"max"])].sort(_e)}}:function(We,Je,ft){var st=We.lassoPoints={};for(Ye=0;Ye<Ue.length;Ye++){var et=Ue[Ye];st[et._id]=ft.filtered.map(Z(et))}},ae.moveFn=function(We,Je){_t=Math.max(0,Math.min(bt,Xe*We+Se)),yt=Math.max(0,Math.min(Fe,mt*Je+Te));var Bt,rn,ft=Math.abs(_t-Se),st=Math.abs(yt-Te);if(he){var et,ut,xt;if(Ve){var kt=tt.selectdirection;switch(et="any"===kt?st<Math.min(.6*ft,S)?"h":ft<Math.min(.6*st,S)?"v":"d":kt){case"h":ut=Ae?Fe/2:0,xt=Fe;break;case"v":ut=Ae?bt/2:0,xt=bt}}if(be)switch(tt.newshape.drawdirection){case"vertical":et="h",ut=Ae?Fe/2:0,xt=Fe;break;case"horizontal":et="v",ut=Ae?bt/2:0,xt=bt;break;case"ortho":ft<st?(et="h",ut=Te,xt=yt):(et="v",ut=Se,xt=_t);break;default:et="d"}"h"===et?((nt=Oe?N(Ae,[_t,ut],[_t,xt]):[[Se,ut],[Se,xt],[_t,xt],[_t,ut]]).xmin=Oe?_t:Math.min(Se,_t),nt.xmax=Oe?_t:Math.max(Se,_t),nt.ymin=Math.min(ut,xt),nt.ymax=Math.max(ut,xt),Xt.attr("d","M"+nt.xmin+","+(Te-S)+"h-4v"+2*S+"h4ZM"+(nt.xmax-1)+","+(Te-S)+"h4v"+2*S+"h-4Z")):"v"===et?((nt=Oe?N(Ae,[ut,yt],[xt,yt]):[[ut,Te],[ut,yt],[xt,yt],[xt,Te]]).xmin=Math.min(ut,xt),nt.xmax=Math.max(ut,xt),nt.ymin=Oe?yt:Math.min(Te,yt),nt.ymax=Oe?yt:Math.max(Te,yt),Xt.attr("d","M"+(Se-S)+","+nt.ymin+"v-4h"+2*S+"v4ZM"+(Se-S)+","+(nt.ymax-1)+"v4h"+2*S+"v-4Z")):"d"===et&&((nt=Oe?N(Ae,[Se,Te],[_t,yt]):[[Se,Te],[Se,yt],[_t,yt],[_t,Te]]).xmin=Math.min(Se,_t),nt.xmax=Math.max(Se,_t),nt.ymin=Math.min(Te,yt),nt.ymax=Math.max(Te,yt),Xt.attr("d","M0,0Z"))}else fe&&(Ee.addPt([_t,yt]),nt=Ee.filtered);ae.selectionDefs&&ae.selectionDefs.length?(Bt=ae.mergedPolygons,rn=nt,Qe=gt?s.difference({regions:Bt,inverted:!1},{regions:[rn],inverted:!1}).regions:s.union({regions:Bt,inverted:!1},{regions:[rn],inverted:!1}).regions,nt.subtract=gt,Ie=ie(ae.selectionDefs.concat([nt]))):(Qe=[nt],Ie=G(nt)),w(F(Qe,xe),Pt,ae),Ve&&H.throttle(Wt,P.SELECTDELAY,function(){var Bt;Nt=[];var rn,Dt=[];for(Ye=0;Ye<ge.length;Ye++)if(rn=(rt=ge[Ye])._module.selectPoints(rt,Ie),Dt.push(rn),Bt=ee(rn,rt),Nt.length)for(var $t=0;$t<Bt.length;$t++)Nt.push(Bt[$t]);else Nt=Bt;se(Re,ge,dt={points:Nt}),en(dt,nt,Ee),ae.gd.emit("plotly_selecting",dt)})},ae.clickFn=function(We,Je){if(Xt.remove(),Re._fullLayout._activeShapeIndex>=0)Re._fullLayout._deactivateShape(Re);else if(!be){var ft=tt.clickmode;H.done(Wt).then(function(){if(H.clear(Wt),2===We){for(Pt.remove(),Ye=0;Ye<ge.length;Ye++)(rt=ge[Ye])._module.selectPoints(rt,!1);se(Re,ge),le(ae),Re.emit("plotly_deselect",null)}else ft.indexOf("select")>-1&&te(Je,Re,ae.xaxes,ae.yaxes,ae.subplot,ae,Pt),"event"===ft&&Re.emit("plotly_selected",void 0);l.click(Re,Je)}).catch(V.error)}},ae.doneFn=function(){Xt.remove(),H.done(Wt).then(function(){H.clear(Wt),ae.gd.emit("plotly_selected",dt),nt&&ae.selectionDefs&&(nt.subtract=gt,ae.selectionDefs.push(nt),ae.mergedPolygons.length=0,[].push.apply(ae.mergedPolygons,Qe)),ae.doneFnCompleted&&ae.doneFnCompleted(Nt)}).catch(V.error),be&&le(ae)}},clearSelect:z,clearSelectionsCache:le,selectOnClick:te}},{"../../components/color":102,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../components/fx/helpers":138,"../../components/shapes/draw_newshape/display_outlines":190,"../../components/shapes/draw_newshape/helpers":191,"../../components/shapes/draw_newshape/newshapes":192,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/polygon":244,"../../lib/throttle":256,"../../plot_api/subroutines":269,"../../registry":318,"./axis_ids":283,"./constants":286,"./handle_outline":290,"./helpers":291,polybooljs:57}],301:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("d3-time-format").utcFormat,p=v("../../lib"),c=p.numberFormat,l=v("fast-isnumeric"),m=p.cleanNumber,d=p.ms2DateTime,h=p.dateTime2ms,u=p.ensureNumber,C=p.isArrayOrTypedArray,b=v("../../constants/numerical"),M=b.FP_SAFE,w=b.BADNUM,N=b.LOG_CLIP,A=b.ONEWEEK,V=b.ONEDAY,L=b.ONEHOUR,H=b.ONEMIN,I=b.ONESEC,D=v("./axis_ids"),E=v("./constants"),P=E.HOUR_PATTERN,S=E.WEEKDAY_PATTERN;function R(z){return Math.pow(10,z)}function G(z){return null!=z}pe.exports=function(z,X){X=X||{};var W=z._id||"x",Z=W.charAt(0);function ne(B,ae){if(B>0)return Math.log(B)/Math.LN10;if(B<=0&&ae&&z.range&&2===z.range.length){var ue=z.range[0],fe=z.range[1];return.5*(ue+fe-2*N*Math.abs(ue-fe))}return w}function te(B,ae,ue,fe){if((fe||{}).msUTC&&l(B))return+B;var he=h(B,ue||z.calendar);if(he===w){if(!l(B))return w;B=+B;var xe=Math.floor(10*p.mod(B+.05,1)),be=Math.round(B-xe/10);he=h(new Date(be))+xe/10}return he}function oe(B,ae,ue){return d(B,ae,ue||z.calendar)}function Ce(B){return z._categories[Math.round(B)]}function ie(B){if(G(B)){if(void 0===z._categoriesMap&&(z._categoriesMap={}),void 0!==z._categoriesMap[B])return z._categoriesMap[B];z._categories.push("number"==typeof B?String(B):B);var ae=z._categories.length-1;return z._categoriesMap[B]=ae,ae}return w}function Q(B){if(z._categoriesMap)return z._categoriesMap[B]}function le(B){var ae=Q(B);return void 0!==ae?ae:l(B)?+B:void 0}function j(B){return l(B)?+B:Q(B)}function $(B,ae,ue){return s.round(ue+ae*B,2)}function se(B,ae,ue){return(B-ue)/ae}var ee=function(B){return l(B)?$(B,z._m,z._b):w},F=function(B){return se(B,z._m,z._b)};if(z.rangebreaks){var O="y"===Z;ee=function(B){if(!l(B))return w;var ae=z._rangebreaks.length;if(!ae)return $(B,z._m,z._b);var ue=O;z.range[0]>z.range[1]&&(ue=!ue);for(var fe=ue?-1:1,he=fe*B,xe=0,be=0;be<ae;be++){var Ve=fe*z._rangebreaks[be].min,Ae=fe*z._rangebreaks[be].max;if(he<Ve)break;if(!(he>Ae)){xe=he<(Ve+Ae)/2?be:be+1;break}xe=be+1}var Oe=z._B[xe]||0;return isFinite(Oe)?$(B,z._m2,Oe):0},F=function(B){var ae=z._rangebreaks.length;if(!ae)return se(B,z._m,z._b);for(var ue=0,fe=0;fe<ae&&!(B<z._rangebreaks[fe].pmin);fe++)B>z._rangebreaks[fe].pmax&&(ue=fe+1);return se(B,z._m2,z._B[ue])}}z.c2l="log"===z.type?ne:u,z.l2c="log"===z.type?R:u,z.l2p=ee,z.p2l=F,z.c2p="log"===z.type?function(B,ae){return ee(ne(B,ae))}:ee,z.p2c="log"===z.type?function(B){return R(F(B))}:F,-1!==["linear","-"].indexOf(z.type)?(z.d2r=z.r2d=z.d2c=z.r2c=z.d2l=z.r2l=m,z.c2d=z.c2r=z.l2d=z.l2r=u,z.d2p=z.r2p=function(B){return z.l2p(m(B))},z.p2d=z.p2r=F,z.cleanPos=u):"log"===z.type?(z.d2r=z.d2l=function(B,ae){return ne(m(B),ae)},z.r2d=z.r2c=function(B){return R(m(B))},z.d2c=z.r2l=m,z.c2d=z.l2r=u,z.c2r=ne,z.l2d=R,z.d2p=function(B,ae){return z.l2p(z.d2r(B,ae))},z.p2d=function(B){return R(F(B))},z.r2p=function(B){return z.l2p(m(B))},z.p2r=F,z.cleanPos=u):"date"===z.type?(z.d2r=z.r2d=p.identity,z.d2c=z.r2c=z.d2l=z.r2l=te,z.c2d=z.c2r=z.l2d=z.l2r=oe,z.d2p=z.r2p=function(B,ae,ue){return z.l2p(te(B,0,ue))},z.p2d=z.p2r=function(B,ae,ue){return oe(F(B),ae,ue)},z.cleanPos=function(B){return p.cleanDate(B,w,z.calendar)}):"category"===z.type?(z.d2c=z.d2l=ie,z.r2d=z.c2d=z.l2d=Ce,z.d2r=z.d2l_noadd=le,z.r2c=function(B){var ae=j(B);return void 0!==ae?ae:z.fraction2r(.5)},z.l2r=z.c2r=u,z.r2l=j,z.d2p=function(B){return z.l2p(z.r2c(B))},z.p2d=function(B){return Ce(F(B))},z.r2p=z.d2p,z.p2r=F,z.cleanPos=function(B){return"string"==typeof B&&""!==B?B:u(B)}):"multicategory"===z.type&&(z.r2d=z.c2d=z.l2d=Ce,z.d2r=z.d2l_noadd=le,z.r2c=function(B){var ae=le(B);return void 0!==ae?ae:z.fraction2r(.5)},z.r2c_just_indices=Q,z.l2r=z.c2r=u,z.r2l=le,z.d2p=function(B){return z.l2p(z.r2c(B))},z.p2d=function(B){return Ce(F(B))},z.r2p=z.d2p,z.p2r=F,z.cleanPos=function(B){return Array.isArray(B)||"string"==typeof B&&""!==B?B:u(B)},z.setupMultiCategory=function(B){var ae,ue,fe=z._traceIndices,he=z._matchGroup;if(he&&0===z._categories.length)for(var xe in he)if(xe!==W){var be=X[D.id2name(xe)];fe=fe.concat(be._traceIndices)}var Ve=[[0,{}],[0,{}]],Ae=[];for(ae=0;ae<fe.length;ae++){var Oe=B[fe[ae]];if(Z in Oe){var Re=Oe[Z],tt=Oe._length||p.minRowLength(Re);if(C(Re[0])&&C(Re[1]))for(ue=0;ue<tt;ue++){var Ke=Re[0][ue],$e=Re[1][ue];G(Ke)&&G($e)&&(Ae.push([Ke,$e]),Ke in Ve[0][1]||(Ve[0][1][Ke]=Ve[0][0]++),$e in Ve[1][1]||(Ve[1][1][$e]=Ve[1][0]++))}}}for(Ae.sort(function(Me,ve){var Se=Ve[0][1],Te=Se[Me[0]]-Se[ve[0]];if(Te)return Te;var qe=Ve[1][1];return qe[Me[1]]-qe[ve[1]]}),ae=0;ae<Ae.length;ae++)ie(Ae[ae])}),z.fraction2r=function(B){var ae=z.r2l(z.range[0]),ue=z.r2l(z.range[1]);return z.l2r(ae+B*(ue-ae))},z.r2fraction=function(B){var ae=z.r2l(z.range[0]),ue=z.r2l(z.range[1]);return(z.r2l(B)-ae)/(ue-ae)},z.cleanRange=function(B,ae){ae||(ae={}),B||(B="range");var ue,fe,he=p.nestedProperty(z,B).get();if(fe=(fe="date"===z.type?p.dfltRange(z.calendar):"y"===Z?E.DFLTRANGEY:"realaxis"===z._name?[0,1]:ae.dfltRange||E.DFLTRANGEX).slice(),"tozero"!==z.rangemode&&"nonnegative"!==z.rangemode||(fe[0]=0),he&&2===he.length)for("date"!==z.type||z.autorange||(he[0]=p.cleanDate(he[0],w,z.calendar),he[1]=p.cleanDate(he[1],w,z.calendar)),ue=0;ue<2;ue++)if("date"===z.type){if(!p.isDateTime(he[ue],z.calendar)){z[B]=fe;break}if(z.r2l(he[0])===z.r2l(he[1])){var xe=p.constrain(z.r2l(he[0]),p.MIN_MS+1e3,p.MAX_MS-1e3);he[0]=z.l2r(xe-1e3),he[1]=z.l2r(xe+1e3);break}}else{if(!l(he[ue])){if(!l(he[1-ue])){z[B]=fe;break}he[ue]=he[1-ue]*(ue?10:.1)}if(he[ue]<-M?he[ue]=-M:he[ue]>M&&(he[ue]=M),he[0]===he[1]){var be=Math.max(1,Math.abs(1e-6*he[0]));he[0]-=be,he[1]+=be}}else p.nestedProperty(z,B).set(fe)},z.setScale=function(B){var ae=X._size;if(z.overlaying){var ue=D.getFromId({_fullLayout:X},z.overlaying);z.domain=ue.domain}var fe=B&&z._r?"_r":"range",he=z.calendar;z.cleanRange(fe);var xe,be,Ve=z.r2l(z[fe][0],he),Ae=z.r2l(z[fe][1],he),Oe="y"===Z;if(Oe?(z._offset=ae.t+(1-z.domain[1])*ae.h,z._length=ae.h*(z.domain[1]-z.domain[0]),z._m=z._length/(Ve-Ae),z._b=-z._m*Ae):(z._offset=ae.l+z.domain[0]*ae.w,z._length=ae.w*(z.domain[1]-z.domain[0]),z._m=z._length/(Ae-Ve),z._b=-z._m*Ve),z._rangebreaks=[],z._lBreaks=0,z._m2=0,z._B=[],z.rangebreaks&&(z._rangebreaks=z.locateBreaks(Math.min(Ve,Ae),Math.max(Ve,Ae)),z._rangebreaks.length)){for(xe=0;xe<z._rangebreaks.length;xe++)be=z._rangebreaks[xe],z._lBreaks+=Math.abs(be.max-be.min);var Re=Oe;Ve>Ae&&(Re=!Re),Re&&z._rangebreaks.reverse();var tt=Re?-1:1;for(z._m2=tt*z._length/(Math.abs(Ae-Ve)-z._lBreaks),z._B.push(-z._m2*(Oe?Ae:Ve)),xe=0;xe<z._rangebreaks.length;xe++)z._B.push(z._B[z._B.length-1]-tt*z._m2*((be=z._rangebreaks[xe]).max-be.min));for(xe=0;xe<z._rangebreaks.length;xe++)(be=z._rangebreaks[xe]).pmin=ee(be.min),be.pmax=ee(be.max)}if(!isFinite(z._m)||!isFinite(z._b)||z._length<0)throw X._replotting=!1,new Error("Something went wrong with axis scaling")},z.maskBreaks=function(B){var ae,ue,fe,he,xe,be=z.rangebreaks||[];be._cachedPatterns||(be._cachedPatterns=be.map(function(Ke){return Ke.enabled&&Ke.bounds?p.simpleMap(Ke.bounds,Ke.pattern?m:z.d2c):null})),be._cachedValues||(be._cachedValues=be.map(function(Ke){return Ke.enabled&&Ke.values?p.simpleMap(Ke.values,z.d2c).sort(p.sorterAsc):null}));for(var Ve=0;Ve<be.length;Ve++){var Ae=be[Ve];if(Ae.enabled)if(Ae.bounds){switch(ue=(ae=be._cachedPatterns[Ve])[0],fe=ae[1],Ae.pattern){case S:he=(xe=new Date(B)).getUTCDay(),ue>fe&&(fe+=7,he<ue&&(he+=7));break;case P:he=(xe=new Date(B)).getUTCHours()+(xe.getUTCMinutes()/60+xe.getUTCSeconds()/3600+xe.getUTCMilliseconds()/36e5),ue>fe&&(fe+=24,he<ue&&(he+=24));break;case"":he=B}if(he>=ue&&he<fe)return w}else for(var Re=be._cachedValues[Ve],tt=0;tt<Re.length;tt++)if(fe=(ue=Re[tt])+Ae.dvalue,B>=ue&&B<fe)return w}return B},z.locateBreaks=function(B,ae){var ue,fe,he,xe,be=[];if(!z.rangebreaks)return be;var Ve=z.rangebreaks.slice().sort(function(qe,Ee){return qe.pattern===S&&Ee.pattern===P?-1:Ee.pattern===S&&qe.pattern===P?1:0}),Ae=function(qe,Ee){if((qe=p.constrain(qe,B,ae))!==(Ee=p.constrain(Ee,B,ae))){for(var Ie=!0,Qe=0;Qe<be.length;Qe++){var nt=be[Qe];qe<nt.max&&Ee>=nt.min&&(qe<nt.min&&(nt.min=qe),Ee>nt.max&&(nt.max=Ee),Ie=!1)}Ie&&be.push({min:qe,max:Ee})}};for(ue=0;ue<Ve.length;ue++){var Oe=Ve[ue];if(Oe.enabled)if(Oe.bounds){var Re=B,tt=ae;Oe.pattern&&(Re=Math.floor(Re)),he=(fe=p.simpleMap(Oe.bounds,Oe.pattern?m:z.r2l))[0],xe=fe[1];var Ke,$e,Me=new Date(Re);switch(Oe.pattern){case S:$e=A,Ke=(xe-he+(xe<he?7:0))*V,Re+=he*V-(Me.getUTCDay()*V+Me.getUTCHours()*L+Me.getUTCMinutes()*H+Me.getUTCSeconds()*I+Me.getUTCMilliseconds());break;case P:$e=V,Ke=(xe-he+(xe<he?24:0))*L,Re+=he*L-(Me.getUTCHours()*L+Me.getUTCMinutes()*H+Me.getUTCSeconds()*I+Me.getUTCMilliseconds());break;default:Re=Math.min(fe[0],fe[1]),Ke=$e=(tt=Math.max(fe[0],fe[1]))-Re}for(var ve=Re;ve<tt;ve+=$e)Ae(ve,ve+Ke)}else for(var Se=p.simpleMap(Oe.values,z.d2c),Te=0;Te<Se.length;Te++)Ae(he=Se[Te],xe=he+Oe.dvalue)}return be.sort(function(qe,Ee){return qe.min-Ee.min}),be},z.makeCalcdata=function(B,ae,ue){var fe,he,xe,be,Ve=z.type,Ae="date"===Ve&&B[ae+"calendar"];if(ae in B){if(fe=B[ae],be=B._length||p.minRowLength(fe),p.isTypedArray(fe)&&("linear"===Ve||"log"===Ve)){if(be===fe.length)return fe;if(fe.subarray)return fe.subarray(0,be)}if("multicategory"===Ve)return function(tt,Ke){for(var $e=new Array(Ke),Me=0;Me<Ke;Me++)$e[Me]=Q([(tt[0]||[])[Me],(tt[1]||[])[Me]]);return $e}(fe,be);for(he=new Array(be),xe=0;xe<be;xe++)he[xe]=z.d2c(fe[xe],0,Ae,ue)}else{var Oe=ae+"0"in B?z.d2c(B[ae+"0"],0,Ae):0,Re=B["d"+ae]?Number(B["d"+ae]):1;for(fe=B[{x:"y",y:"x"}[ae]],be=B._length||fe.length,he=new Array(be),xe=0;xe<be;xe++)he[xe]=Oe+xe*Re}if(z.rangebreaks)for(xe=0;xe<be;xe++)he[xe]=z.maskBreaks(he[xe]);return he},z.isValidRange=function(B){return Array.isArray(B)&&2===B.length&&l(z.r2l(B[0]))&&l(z.r2l(B[1]))},z.isPtWithinRange=function(B,ae){var ue=z.c2l(B[Z],null,ae),fe=z.r2l(z.range[0]),he=z.r2l(z.range[1]);return fe<he?fe<=ue&&ue<=he:he<=ue&&ue<=fe},z._emptyCategories=function(){z._categories=[],z._categoriesMap={}},z.clearCalc=function(){var B=z._matchGroup;if(B){var ae=null,ue=null;for(var fe in B){var he=X[D.id2name(fe)];if(he._categories){ae=he._categories,ue=he._categoriesMap;break}}ae&&ue?(z._categories=ae,z._categoriesMap=ue):z._emptyCategories()}else z._emptyCategories();if(z._initialCategories)for(var xe=0;xe<z._initialCategories.length;xe++)ie(z._initialCategories[xe])},z.sortByInitialCategories=function(){var B=[];if(z._emptyCategories(),z._initialCategories)for(var ae=0;ae<z._initialCategories.length;ae++)ie(z._initialCategories[ae]);B=B.concat(z._traceIndices);var ue=z._matchGroup;for(var fe in ue)if(W!==fe){var he=X[D.id2name(fe)];he._categories=z._categories,he._categoriesMap=z._categoriesMap,B=B.concat(he._traceIndices)}return B};var Y=X._d3locale;"date"===z.type&&(z._dateFormat=Y?Y.timeFormat:g,z._extraFormat=X._extraFormat),z._separators=X.separators,z._numFormat=Y?Y.numberFormat:c,delete z._minDtick,delete z._forceTick0}},{"../../constants/numerical":212,"../../lib":232,"./axis_ids":283,"./constants":286,"@plotly/d3":11,"d3-time-format":14,"fast-isnumeric":17}],302:[function(v,pe,J){"use strict";pe.exports=function(s){var g=["showexponent","showtickprefix","showticksuffix"].filter(function(p){return void 0!==s[p]});if(g.every(function(p){return s[p]===s[g[0]]})||1===g.length)return s[g[0]]}},{}],303:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../components/color").contrast,p=v("./layout_attributes"),c=v("./show_dflt"),l=v("../array_container_defaults");function m(d,h){function u(C,b){return s.coerce(d,h,p.tickformatstops,C,b)}u("enabled")&&(u("dtickrange"),u("value"))}pe.exports=function(d,h,u,C,b){b||(b={});var M=c(d);if(u("showticklabels")){var w=b.font||{},N=h.color,A=-1!==(h.ticklabelposition||"").indexOf("inside")?g(b.bgColor):N&&N!==p.color.dflt?N:w.color;if(s.coerceFont(u,"tickfont",{family:w.family,size:w.size,color:A}),b.noTicklabelstep||"multicategory"===C||"log"===C||u("ticklabelstep"),b.noAng||u("tickangle"),"category"!==C){var V=u("tickformat");l(d,h,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:m}),h.tickformatstops.length||delete h.tickformatstops,b.noExp||V||"date"===C||(u("showexponent",M),u("exponentformat"),u("minexponent"),u("separatethousands"))}}}},{"../../components/color":102,"../../lib":232,"../array_container_defaults":274,"./layout_attributes":294,"./show_dflt":302}],304:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("./layout_attributes");pe.exports=function(p,c,l,m){var d=m.isMinor,h=d?p.minor||{}:p,u=d?c.minor:c,C=d?g.minor:g,b=d?"minor.":"",M=s.coerce2(h,u,C,"ticklen",d?.6*(c.ticklen||5):void 0),w=s.coerce2(h,u,C,"tickwidth",d?c.tickwidth||1:void 0),N=s.coerce2(h,u,C,"tickcolor",(d?c.tickcolor:void 0)||u.color);l(b+"ticks",!d&&m.outerTicks||M||w||N?"outside":"")||(delete u.ticklen,delete u.tickwidth,delete u.tickcolor)}},{"../../lib":232,"./layout_attributes":294}],305:[function(v,pe,J){"use strict";var s=v("./clean_ticks"),g=v("../../lib").isArrayOrTypedArray;pe.exports=function(p,c,l,m,d){d||(d={});var h=d.isMinor,u=h?p.minor||{}:p,C=h?c.minor:c,b=h?"minor.":"";function M(H){var I=u[H];return void 0!==I?I:(C._template||{})[H]}var w=M("tick0"),N=M("dtick"),A=M("tickvals"),V=l(b+"tickmode",g(A)?"array":N?"linear":"auto");if("auto"===V)l(b+"nticks");else if("linear"===V){var L=C.dtick=s.dtick(N,m);C.tick0=s.tick0(w,m,c.calendar,L)}else"multicategory"!==m&&(void 0===l(b+"tickvals")?C.tickmode="auto":h||l("ticktext"))}},{"../../lib":232,"./clean_ticks":285}],306:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../registry"),p=v("../../lib"),c=v("../../components/drawing"),l=v("./axes");pe.exports=function(m,d,h,u){var C=m._fullLayout;if(0!==d.length){var b,M,w,N;u&&(b=u());var A=s.ease(h.easing);return m._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(N),N=null,function(){for(var H={},I=0;I<d.length;I++){var D=d[I],P=D.plotinfo.yaxis;D.xr0&&(H[D.plotinfo.xaxis._name+".range"]=D.xr0.slice()),D.yr0&&(H[P._name+".range"]=D.yr0.slice())}return g.call("relayout",m,H).then(function(){for(var S=0;S<d.length;S++)V(d[S].plotinfo)})}()}),M=Date.now(),N=window.requestAnimationFrame(function H(){w=Date.now();for(var I=Math.min(1,(w-M)/h.duration),D=A(I),E=0;E<d.length;E++)L(d[E],D);w-M>h.duration?(function(){for(var P={},S=0;S<d.length;S++){var R=d[S],z=R.plotinfo.yaxis;R.xr1&&(P[R.plotinfo.xaxis._name+".range"]=R.xr1.slice()),R.yr1&&(P[z._name+".range"]=R.yr1.slice())}b&&b(),g.call("relayout",m,P).then(function(){for(var X=0;X<d.length;X++)V(d[X].plotinfo)})}(),N=window.cancelAnimationFrame(H)):N=window.requestAnimationFrame(H)}),Promise.resolve()}function V(H){var I=H.xaxis,D=H.yaxis;C._defs.select("#"+H.clipId+"> rect").call(c.setTranslate,0,0).call(c.setScale,1,1),H.plot.call(c.setTranslate,I._offset,D._offset).call(c.setScale,1,1);var E=H.plot.selectAll(".scatterlayer .trace");E.selectAll(".point").call(c.setPointGroupScale,1,1),E.selectAll(".textpoint").call(c.setTextPointsScale,1,1),E.call(c.hideOutsideRangePoints,H)}function L(H,I){var D=H.plotinfo,E=D.xaxis,P=D.yaxis,S=E._length,R=P._length,G=!!H.xr1,z=!!H.yr1,X=[];if(G){var W=p.simpleMap(H.xr0,E.r2l),Z=p.simpleMap(H.xr1,E.r2l),ne=W[1]-W[0],te=Z[1]-Z[0];X[0]=(W[0]*(1-I)+I*Z[0]-W[0])/(W[1]-W[0])*S,X[2]=S*(1-I+I*te/ne),E.range[0]=E.l2r(W[0]*(1-I)+I*Z[0]),E.range[1]=E.l2r(W[1]*(1-I)+I*Z[1])}else X[0]=0,X[2]=S;if(z){var oe=p.simpleMap(H.yr0,P.r2l),Ce=p.simpleMap(H.yr1,P.r2l),ie=oe[1]-oe[0],Q=Ce[1]-Ce[0];X[1]=(oe[1]*(1-I)+I*Ce[1]-oe[1])/(oe[0]-oe[1])*R,X[3]=R*(1-I+I*Q/ie),P.range[0]=E.l2r(oe[0]*(1-I)+I*Ce[0]),P.range[1]=P.l2r(oe[1]*(1-I)+I*Ce[1])}else X[1]=0,X[3]=R;l.drawOne(m,E,{skipTitle:!0}),l.drawOne(m,P,{skipTitle:!0}),l.redrawComponents(m,[E._id,P._id]);var le=G?S/X[2]:1,j=z?R/X[3]:1,O=E._offset-(G?X[0]/X[2]*S:0),Y=P._offset-(z?X[1]/X[3]*R:0);D.clipRect.call(c.setTranslate,G?X[0]:0,z?X[1]:0).call(c.setScale,1/le,1/j),D.plot.call(c.setTranslate,O,Y).call(c.setScale,le,j),c.setPointGroupScale(D.zoomScalePts,1/le,1/j),c.setTextPointsScale(D.zoomScaleTxt,1/le,1/j)}l.redrawComponents(m)}},{"../../components/drawing":124,"../../lib":232,"../../registry":318,"./axes":279,"@plotly/d3":11}],307:[function(v,pe,J){"use strict";var s=v("../../registry").traceIs,g=v("./axis_autotype");function p(l){return{v:"x",h:"y"}[l.orientation||"v"]}function c(l,m){var d=p(l),h=s(l,"box-violin"),u=s(l._fullInput||{},"candlestick");return h&&!u&&m===d&&void 0===l[d]&&void 0===l[d+"0"]}pe.exports=function(l,m,d,h){d("autotypenumbers",h.autotypenumbersDflt),"-"===d("type",(h.splomStash||{}).type)&&(function(u,C){if("-"===u.type){var b,M=u._id,w=M.charAt(0);-1!==M.indexOf("scene")&&(M=w);var N=function(P,S,R){for(var G=0;G<P.length;G++){var z=P[G];if("splom"===z.type&&z._length>0&&(z["_"+R+"axes"]||{})[S]||(z[R+"axis"]||R)===S&&(c(z,R)||(z[R]||[]).length||z[R+"0"]))return z}}(C,M,w);if(N){if("histogram"===N.type&&w==={v:"y",h:"x"}[N.orientation||"v"])return void(u.type="linear");var A=w+"calendar",V=N[A],L={noMultiCategory:!s(N,"cartesian")||s(N,"noMultiCategory")};if("box"===N.type&&N._hasPreCompStats&&w==={h:"x",v:"y"}[N.orientation||"v"]&&(L.noMultiCategory=!0),L.autotypenumbers=u.autotypenumbers,c(N,w)){var H=p(N),I=[];for(b=0;b<C.length;b++){var D=C[b];s(D,"box-violin")&&(D[w+"axis"]||w)===M&&(I.push(void 0!==D[H]?D[H][0]:void 0!==D.name?D.name:"text"),D[A]!==V&&(V=void 0))}u.type=g(I,V,L)}else if("splom"===N.type){var E=N.dimensions[N._axesDim[M]];E.visible&&(u.type=g(E.values,V,L))}else u.type=g(N[w]||[N[w+"0"]],V,L)}}}(m,h.data),"-"===m.type?m.type="linear":l.type=m.type)}},{"../../registry":318,"./axis_autotype":280}],308:[function(v,pe,J){"use strict";var s=v("../registry"),g=v("../lib");function p(d,h,u){var C,b,M,w=!1;if("data"===h.type)C=d._fullData[null!==h.traces?h.traces[0]:0];else{if("layout"!==h.type)return!1;C=d._fullLayout}return b=g.nestedProperty(C,h.prop).get(),(M=u[h.type]=u[h.type]||{}).hasOwnProperty(h.prop)&&M[h.prop]!==b&&(w=!0),M[h.prop]=b,{changed:w,value:b}}function c(d,h){var u=[],C=h[0],b={};if("string"==typeof C)b[C]=h[1];else{if(!g.isPlainObject(C))return u;b=C}return m(b,function(M,w,N){u.push({type:"layout",prop:M,value:N})},"",0),u}function l(d,h){var u,C,b,M,w=[];if(b=h[1],u=h[2],M={},"string"==typeof(C=h[0]))M[C]=b;else{if(!g.isPlainObject(C))return w;M=C,void 0===u&&(u=b)}return void 0===u&&(u=null),m(M,function(N,A,V){var L,H;if(Array.isArray(V)){H=V.slice();var I=Math.min(H.length,d.data.length);u&&(I=Math.min(I,u.length)),L=[];for(var D=0;D<I;D++)L[D]=u?u[D]:D}else H=V,L=u?u.slice():null;if(null===L)Array.isArray(H)&&(H=H[0]);else if(Array.isArray(L)){if(!Array.isArray(H)){var E=H;H=[];for(var P=0;P<L.length;P++)H[P]=E}H.length=Math.min(L.length,H.length)}w.push({type:"data",prop:N,traces:L,value:H})},"",0),w}function m(d,h,u,C){Object.keys(d).forEach(function(b){var M=d[b];if("_"!==b[0]){var w=u+(C>0?".":"")+b;g.isPlainObject(M)?m(M,h,w,C+1):h(w,b,M)}})}J.manageCommandObserver=function(d,h,u,C){var b={},M=!0;h&&h._commandObserver&&(b=h._commandObserver),b.cache||(b.cache={}),b.lookupTable={};var w=J.hasSimpleAPICommandBindings(d,u,b.lookupTable);if(h&&h._commandObserver){if(w)return b;if(h._commandObserver.remove)return h._commandObserver.remove(),h._commandObserver=null,b}if(w){p(d,w,b.cache),b.check=function(){if(M){var V=p(d,w,b.cache);return V.changed&&C&&void 0!==b.lookupTable[V.value]&&(b.disable(),Promise.resolve(C({value:V.value,type:w.type,prop:w.prop,traces:w.traces,index:b.lookupTable[V.value]})).then(b.enable,b.enable)),V.changed}};for(var N=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],A=0;A<N.length;A++)d._internalOn(N[A],b.check);b.remove=function(){for(var V=0;V<N.length;V++)d._removeInternalListener(N[V],b.check)}}else g.log("Unable to automatically bind plot updates to API command"),b.lookupTable={},b.remove=function(){};return b.disable=function(){M=!1},b.enable=function(){M=!0},h&&(h._commandObserver=b),b},J.hasSimpleAPICommandBindings=function(d,h,u){var C,b,M=h.length;for(C=0;C<M;C++){var w,N=h[C],A=N.method,V=N.args;if(Array.isArray(V)||(V=[]),!A)return!1;var L=J.computeAPICommandBindings(d,A,V);if(1!==L.length)return!1;if(b){if((w=L[0]).type!==b.type||w.prop!==b.prop)return!1;if(Array.isArray(b.traces)){if(!Array.isArray(w.traces))return!1;w.traces.sort();for(var H=0;H<b.traces.length;H++)if(b.traces[H]!==w.traces[H])return!1}else if(w.prop!==b.prop)return!1}else b=L[0],Array.isArray(b.traces)&&b.traces.sort();var I=(w=L[0]).value;if(Array.isArray(I)){if(1!==I.length)return!1;I=I[0]}u&&(u[I]=C)}return b},J.executeAPICommand=function(d,h,u){if("skip"===h)return Promise.resolve();var C=s.apiMethodRegistry[h],b=[d];Array.isArray(u)||(u=[]);for(var M=0;M<u.length;M++)b.push(u[M]);return C.apply(null,b).catch(function(w){return g.warn("API call to Plotly."+h+" rejected.",w),Promise.reject(w)})},J.computeAPICommandBindings=function(d,h,u){var C,M;switch(Array.isArray(u)||(u=[]),h){case"restyle":C=l(d,u);break;case"relayout":C=c(0,u);break;case"update":C=l(d,[u[0],u[2]]).concat(c(0,[u[1]]));break;case"animate":M=u,C=Array.isArray(M[0])&&1===M[0].length&&-1!==["string","number"].indexOf(typeof M[0][0])?[{type:"layout",prop:"_currentFrame",value:M[0][0].toString()}]:[];break;default:C=[]}return C}},{"../lib":232,"../registry":318}],309:[function(v,pe,J){"use strict";var s=v("../lib/extend").extendFlat;J.attributes=function(g,p){p=p||{};var c={valType:"info_array",editType:(g=g||{}).editType,items:[{valType:"number",min:0,max:1,editType:g.editType},{valType:"number",min:0,max:1,editType:g.editType}],dflt:[0,1]},l={x:s({},c,{}),y:s({},c,{}),editType:g.editType};return g.noGridCell||(l.row={valType:"integer",min:0,dflt:0,editType:g.editType},l.column={valType:"integer",min:0,dflt:0,editType:g.editType}),l},J.defaults=function(g,p,c,l){var m=l&&l.x||[0,1],d=l&&l.y||[0,1],h=p.grid;if(h){var u=c("domain.column");void 0!==u&&(u<h.columns?m=h._domains.x[u]:delete g.domain.column);var C=c("domain.row");void 0!==C&&(C<h.rows?d=h._domains.y[C]:delete g.domain.row)}var b=c("domain.x",m),M=c("domain.y",d);b[0]<b[1]||(g.domain.x=m.slice()),M[0]<M[1]||(g.domain.y=d.slice())}},{"../lib/extend":226}],310:[function(v,pe,J){"use strict";pe.exports=function(s){var g=s.editType,p=s.colorEditType;void 0===p&&(p=g);var c={family:{valType:"string",noBlank:!0,strict:!0,editType:g},size:{valType:"number",min:1,editType:g},color:{valType:"color",editType:p},editType:g};return s.autoSize&&(c.size.dflt="auto"),s.autoColor&&(c.color.dflt="auto"),s.arrayOk&&(c.family.arrayOk=!0,c.size.arrayOk=!0,c.color.arrayOk=!0),c}},{}],311:[function(v,pe,J){"use strict";pe.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],312:[function(v,pe,J){"use strict";var s=v("../registry"),g=v("./cartesian/constants").SUBPLOT_PATTERN;J.getSubplotCalcData=function(p,c,l){var m=s.subplotsRegistry[c];if(!m)return[];for(var d=m.attr,h=[],u=0;u<p.length;u++){var C=p[u];C[0].trace[d]===l&&h.push(C)}return h},J.getModuleCalcData=function(p,c){var l,m=[],d=[];if(!(l="string"==typeof c?s.getModule(c).plot:"function"==typeof c?c:c.plot))return[m,p];for(var h=0;h<p.length;h++){var u=p[h],C=u[0].trace;!0===C.visible&&0!==C._length&&(C._module.plot===l?m.push(u):d.push(u))}return[m,d]},J.getSubplotData=function(p,c,l){if(!s.subplotsRegistry[c])return[];var m,d,h,u=s.subplotsRegistry[c].attr,C=[];if("gl2d"===c){var b=l.match(g);d="x"+b[1],h="y"+b[2]}for(var M=0;M<p.length;M++)m=p[M],"gl2d"===c&&s.traceIs(m,"gl2d")?m[u[0]]===d&&m[u[1]]===h&&C.push(m):m[u]===l&&C.push(m);return C}},{"../registry":318,"./cartesian/constants":286}],313:[function(v,pe,J){"use strict";function s(g,p){var c,l,m=[0,0,0,0];for(c=0;c<4;++c)for(l=0;l<4;++l)m[l]+=g[4*c+l]*p[c];return m}pe.exports=function(g,p){return s(g.projection,s(g.view,s(g.model,[p[0],p[1],p[2],1])))}},{}],314:[function(v,pe,J){"use strict";var s=v("./font_attributes"),g=v("./animation_attributes"),p=v("../components/color/attributes"),c=v("../components/shapes/draw_newshape/attributes"),l=v("./pad_attributes"),m=v("../lib/extend").extendFlat,d=s({editType:"calc"});d.family.dflt='"Open Sans", verdana, arial, sans-serif',d.size.dflt=12,d.color.dflt=p.defaultLine,pe.exports={font:d,title:{text:{valType:"string",editType:"layoutstyle"},font:s({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:m(l({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:p.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:p.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:p.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:c.newshape,activeshape:c.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:m({},g.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:s({editType:"layoutstyle"})}}},{"../components/color/attributes":101,"../components/shapes/draw_newshape/attributes":187,"../lib/extend":226,"./animation_attributes":273,"./font_attributes":310,"./pad_attributes":315}],315:[function(v,pe,J){"use strict";pe.exports=function(s){var g=s.editType;return{t:{valType:"number",dflt:0,editType:g},r:{valType:"number",dflt:0,editType:g},b:{valType:"number",dflt:0,editType:g},l:{valType:"number",dflt:0,editType:g},editType:g}}},{}],316:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("d3-time-format").timeFormatLocale,p=v("d3-format").formatLocale,c=v("fast-isnumeric"),l=v("../registry"),m=v("../plot_api/plot_schema"),d=v("../plot_api/plot_template"),h=v("../lib"),u=v("../components/color"),C=v("../constants/numerical").BADNUM,b=v("./cartesian/axis_ids"),M=v("./cartesian/handle_outline").clearSelect,w=v("./animation_attributes"),N=v("./frame_attributes"),A=v("../plots/get_data").getModuleCalcData,V=h.relinkPrivateKeys,L=h._,H=pe.exports={};h.extendFlat(H,l),H.attributes=v("./attributes"),H.attributes.type.values=H.allTypes,H.fontAttrs=v("./font_attributes"),H.layoutAttributes=v("./layout_attributes"),H.fontWeight="normal";var I=H.transformsRegistry,D=v("./command");H.executeAPICommand=D.executeAPICommand,H.computeAPICommandBindings=D.computeAPICommandBindings,H.manageCommandObserver=D.manageCommandObserver,H.hasSimpleAPICommandBindings=D.hasSimpleAPICommandBindings,H.redrawText=function(ie){return ie=h.getGraphDiv(ie),new Promise(function(Q){setTimeout(function(){ie._fullLayout&&(l.getComponentMethod("annotations","draw")(ie),l.getComponentMethod("legend","draw")(ie),l.getComponentMethod("colorbar","draw")(ie),Q(H.previousPromises(ie)))},300)})},H.resize=function(ie){var Q;ie=h.getGraphDiv(ie);var le=new Promise(function(j,$){ie&&!h.isHidden(ie)||$(new Error("Resize must be passed a displayed plot div element.")),ie._redrawTimer&&clearTimeout(ie._redrawTimer),ie._resolveResize&&(Q=ie._resolveResize),ie._resolveResize=j,ie._redrawTimer=setTimeout(function(){if(!ie.layout||ie.layout.width&&ie.layout.height||h.isHidden(ie))j(ie);else{delete ie.layout.width,delete ie.layout.height;var se=ie.changed;ie.autoplay=!0,l.call("relayout",ie,{autosize:!0}).then(function(){ie.changed=se,ie._resolveResize===j&&(delete ie._resolveResize,j(ie))})}},100)});return Q&&Q(le),le},H.previousPromises=function(ie){if((ie._promises||[]).length)return Promise.all(ie._promises).then(function(){ie._promises=[]})},H.addLinks=function(ie){if(ie._context.showLink||ie._context.showSources){var Q=ie._fullLayout,le=h.ensureSingle(Q._paper,"text","js-plot-link-container",function(O){O.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:u.defaultLine,"pointer-events":"all"}).each(function(){var Y=s.select(this);Y.append("tspan").classed("js-link-to-tool",!0),Y.append("tspan").classed("js-link-spacer",!0),Y.append("tspan").classed("js-sourcelinks",!0)})}),j=le.node(),$={y:Q._paper.attr("height")-9};document.body.contains(j)&&j.getComputedTextLength()>=Q.width-20?($["text-anchor"]="start",$.x=5):($["text-anchor"]="end",$.x=Q._paper.attr("width")-7),le.attr($);var se=le.select(".js-link-to-tool"),ee=le.select(".js-link-spacer"),F=le.select(".js-sourcelinks");ie._context.showSources&&ie._context.showSources(ie),ie._context.showLink&&function(O,Y){Y.text("");var B=Y.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(O._context.linkText+" "+String.fromCharCode(187));if(O._context.sendData)B.on("click",function(){H.sendDataToCloud(O)});else{var ae=window.location.pathname.split("/"),ue=window.location.search;B.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ae[2].split(".")[0]+"/"+ae[1]+ue})}}(ie,se),ee.text(se.text()&&F.text()?" - ":"")}},H.sendDataToCloud=function(ie){var Q=(window.PLOTLYENV||{}).BASE_URL||ie._context.plotlyServerURL;if(Q){ie.emit("plotly_beforeexport");var le=s.select(ie).append("div").attr("id","hiddenform").style("display","none"),j=le.append("form").attr({action:Q+"/external",method:"post",target:"_blank"});return j.append("input").attr({type:"text",name:"data"}).node().value=H.graphJson(ie,!1,"keepdata"),j.node().submit(),le.remove(),ie.emit("plotly_afterexport"),!1}};var E=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],P=["year","month","dayMonth","dayMonthYear"];function S(ie,Q){var le=ie._context.locale;le||(le="en-US");var j=!1,$={};function se(ae){for(var ue=!0,fe=0;fe<Q.length;fe++){var he=Q[fe];$[he]||(ae[he]?$[he]=ae[he]:ue=!1)}ue&&(j=!0)}for(var ee=0;ee<2;ee++){for(var F=ie._context.locales,O=0;O<2;O++){var Y=(F[le]||{}).format;if(Y&&(se(Y),j))break;F=l.localeRegistry}var B=le.split("-")[0];if(j||B===le)break;le=B}return j||se(l.localeRegistry.en.format),$}function R(ie,Q){var le={_fullLayout:Q},j="x"===ie._id.charAt(0),$=ie._mainAxis._anchorAxis,se="",ee="",F="";if($&&(F=$._mainAxis._id,se=j?ie._id+F:F+ie._id),!se||!Q._plots[se]){se="";for(var O=ie._counterAxes,Y=0;Y<O.length;Y++){var B=O[Y],ae=j?ie._id+B:B+ie._id;ee||(ee=ae);var ue=b.getFromId(le,B);if(F&&ue.overlaying===F){se=ae;break}}}return se||ee}function G(ie){var Q=ie.transforms;if(Array.isArray(Q)&&Q.length)for(var le=0;le<Q.length;le++){var j=Q[le],$=j._module||I[j.type];if($&&$.makesData)return!0}return!1}function z(ie,Q,le,j){for(var $=ie.transforms,se=[ie],ee=0;ee<$.length;ee++){var F=$[ee],O=I[F.type];O&&O.transform&&(se=O.transform(se,{transform:F,fullTrace:ie,fullData:Q,layout:le,fullLayout:j,transformIndex:ee}))}return se}function X(ie){return"string"==typeof ie&&"px"===ie.substr(ie.length-2)&&parseFloat(ie)}function W(ie){var Q=ie.margin;if(!ie._size){var le=ie._size={l:Math.round(Q.l),r:Math.round(Q.r),t:Math.round(Q.t),b:Math.round(Q.b),p:Math.round(Q.pad)};le.w=Math.round(ie.width)-le.l-le.r,le.h=Math.round(ie.height)-le.t-le.b}ie._pushmargin||(ie._pushmargin={}),ie._pushmarginIds||(ie._pushmarginIds={})}H.supplyDefaults=function(ie,Q){var rt,dt,le=Q&&Q.skipUpdateCalc,j=ie._fullLayout||{};if(j._skipDefaults)delete j._skipDefaults;else{var $,se=ie._fullLayout={},ee=ie.layout||{},F=ie._fullData||[],O=ie._fullData=[],Y=ie.data||[],B=ie.calcdata||[],ae=ie._context||{};ie._transitionData||H.createTransitionData(ie),se._dfltTitle={plot:L(ie,"Click to enter Plot title"),x:L(ie,"Click to enter X axis title"),y:L(ie,"Click to enter Y axis title"),colorbar:L(ie,"Click to enter Colorscale title"),annotation:L(ie,"new text")},se._traceWord=L(ie,"trace");var ue=S(ie,E);if(se._mapboxAccessToken=ae.mapboxAccessToken,j._initialAutoSizeIsDone){var fe=j.width,he=j.height;H.supplyLayoutGlobalDefaults(ee,se,ue),ee.width||(se.width=fe),ee.height||(se.height=he),H.sanitizeMargins(se)}else{H.supplyLayoutGlobalDefaults(ee,se,ue);var xe=!ee.width||!ee.height,be=se.autosize;xe&&(be||ae.autosizable)?H.plotAutoSize(ie,ee,se):xe&&H.sanitizeMargins(se),!be&&xe&&(ee.width=se.width,ee.height=se.height)}se._d3locale=((rt=ue).decimal=(dt=se.separators).charAt(0),rt.thousands=dt.charAt(1),{numberFormat:function(Xe){try{Xe=p(rt).format(h.adjustFormat(Xe))}catch{return h.warnBadFormat(Xe),h.noFormat}return Xe},timeFormat:g(rt).utcFormat}),se._extraFormat=S(ie,P),se._initialAutoSizeIsDone=!0,se._dataLength=Y.length,se._modules=[],se._visibleModules=[],se._basePlotModules=[];var Ae=se._subplots=function(){var rt,dt,Xe=l.collectableSubplotTypes,mt={};if(!Xe){Xe=[];var _t=l.subplotsRegistry;for(var yt in _t){var Ot=_t[yt].attr;if(Ot&&(Xe.push(yt),Array.isArray(Ot)))for(dt=0;dt<Ot.length;dt++)h.pushUnique(Xe,Ot[dt])}}for(rt=0;rt<Xe.length;rt++)mt[Xe[rt]]=[];return mt}(),Oe=se._splomAxes={x:{},y:{}},Re=se._splomSubplots={};se._splomGridDflt={},se._scatterStackOpts={},se._firstScatter={},se._alignmentOpts={},se._colorAxes={},se._requestRangeslider={},se._traceUids=function(rt,dt){var Xe,mt,_t=dt.length,yt=[];for(Xe=0;Xe<rt.length;Xe++){var Ot=rt[Xe]._fullInput;Ot!==mt&&yt.push(Ot),mt=Ot}var bt=yt.length,Fe=new Array(_t),Ue={};function gt(en,Xt){Fe[Xt]=en,Ue[en]=1}function Pt(en,Xt){if(en&&"string"==typeof en&&!Ue[en])return gt(en,Xt),!0}for(Xe=0;Xe<_t;Xe++){var Qt=dt[Xe].uid;"number"==typeof Qt&&(Qt=String(Qt)),Pt(Qt,Xe)||Xe<bt&&Pt(yt[Xe].uid,Xe)||gt(h.randstr(Ue),Xe)}return Fe}(F,Y),se._globalTransforms=(ie._context||{}).globalTransforms,H.supplyDataDefaults(Y,O,ee,se);var tt=Object.keys(Oe.x),Ke=Object.keys(Oe.y);if(tt.length>1&&Ke.length>1){for(l.getComponentMethod("grid","sizeDefaults")(ee,se),$=0;$<tt.length;$++)h.pushUnique(Ae.xaxis,tt[$]);for($=0;$<Ke.length;$++)h.pushUnique(Ae.yaxis,Ke[$]);for(var $e in Re)h.pushUnique(Ae.cartesian,$e)}if(se._has=H._hasPlotType.bind(se),F.length===O.length)for($=0;$<O.length;$++)V(O[$],F[$]);H.supplyLayoutModuleDefaults(ee,se,O,ie._transitionData);var Me=se._visibleModules,ve=[];for($=0;$<Me.length;$++){var Se=Me[$].crossTraceDefaults;Se&&h.pushUnique(ve,Se)}for($=0;$<ve.length;$++)ve[$](O,se);se._hasOnlyLargeSploms=1===se._basePlotModules.length&&"splom"===se._basePlotModules[0].name&&tt.length>15&&Ke.length>15&&0===se.shapes.length&&0===se.images.length,H.linkSubplots(O,se,F,j),H.cleanPlot(O,se,F,j);var Te=!(!j._has||!j._has("gl2d")),qe=!(!se._has||!se._has("gl2d")),Ee=!(!j._has||!j._has("cartesian"))||Te,Ie=!(!se._has||!se._has("cartesian"))||qe;Ee&&!Ie?j._bgLayer.remove():Ie&&!Ee&&(se._shouldCreateBgLayer=!0),j._zoomlayer&&!ie._dragging&&M({_fullLayout:j}),function(rt,dt){var Xe,mt=[];dt.meta&&(Xe=dt._meta={meta:dt.meta,layout:{meta:dt.meta}});for(var _t=0;_t<rt.length;_t++){var yt=rt[_t];yt.meta?mt[yt.index]=yt._meta={meta:yt.meta}:dt.meta&&(yt._meta={meta:dt.meta}),dt.meta&&(yt._meta.layout={meta:dt.meta})}mt.length&&(Xe||(Xe=dt._meta={}),Xe.data=mt)}(O,se),V(se,j),l.getComponentMethod("colorscale","crossTraceDefaults")(O,se),se._preGUI||(se._preGUI={}),se._tracePreGUI||(se._tracePreGUI={});var Qe,nt=se._tracePreGUI,Ye={};for(Qe in nt)Ye[Qe]="old";for($=0;$<O.length;$++)Ye[Qe=O[$]._fullInput.uid]||(nt[Qe]={}),Ye[Qe]="new";for(Qe in Ye)"old"===Ye[Qe]&&delete nt[Qe];W(se),l.getComponentMethod("rangeslider","makeData")(se),le||B.length!==O.length||H.supplyDefaultsUpdateCalc(B,O)}},H.supplyDefaultsUpdateCalc=function(ie,Q){for(var le=0;le<Q.length;le++){var j=Q[le],$=(ie[le]||[])[0];if($&&$.trace){var se=$.trace;if(se._hasCalcTransform){var ee,F,O,Y=se._arrayAttrs;for(ee=0;ee<Y.length;ee++)O=h.nestedProperty(se,F=Y[ee]).get().slice(),h.nestedProperty(j,F).set(O)}$.trace=j}}},H.createTransitionData=function(ie){ie._transitionData||(ie._transitionData={}),ie._transitionData._frames||(ie._transitionData._frames=[]),ie._transitionData._frameHash||(ie._transitionData._frameHash={}),ie._transitionData._counter||(ie._transitionData._counter=0),ie._transitionData._interruptCallbacks||(ie._transitionData._interruptCallbacks=[])},H._hasPlotType=function(ie){var Q,le=this._basePlotModules||[];for(Q=0;Q<le.length;Q++)if(le[Q].name===ie)return!0;var j=this._modules||[];for(Q=0;Q<j.length;Q++){var $=j[Q].name;if($===ie)return!0;var se=l.modules[$];if(se&&se.categories[ie])return!0}return!1},H.cleanPlot=function(ie,Q,le,j){var $,se,ee=j._basePlotModules||[];for($=0;$<ee.length;$++){var F=ee[$];F.clean&&F.clean(ie,Q,le,j)}var O=j._has&&j._has("gl"),Y=Q._has&&Q._has("gl");O&&!Y&&void 0!==j._glcontainer&&(j._glcontainer.selectAll(".gl-canvas").remove(),j._glcontainer.selectAll(".no-webgl").remove(),j._glcanvas=null);var B=!!j._infolayer;e:for($=0;$<le.length;$++){var ae=le[$].uid;for(se=0;se<ie.length;se++)if(ae===ie[se].uid)continue e;B&&j._infolayer.select(".cb"+ae).remove()}},H.linkSubplots=function(ie,Q,le,j){var $,se,ee=j._plots||{},F=Q._plots={},O=Q._subplots,Y={_fullData:ie,_fullLayout:Q},B=O.cartesian.concat(O.gl2d||[]);for($=0;$<B.length;$++){var ae,ue=B[$],fe=ee[ue],he=b.getFromId(Y,ue,"x"),xe=b.getFromId(Y,ue,"y");for(fe?ae=F[ue]=fe:(ae=F[ue]={}).id=ue,he._counterAxes.push(xe._id),xe._counterAxes.push(he._id),he._subplotsWith.push(ue),xe._subplotsWith.push(ue),ae.xaxis=he,ae.yaxis=xe,ae._hasClipOnAxisFalse=!1,se=0;se<ie.length;se++){var be=ie[se];if(be.xaxis===ae.xaxis._id&&be.yaxis===ae.yaxis._id&&!1===be.cliponaxis){ae._hasClipOnAxisFalse=!0;break}}}var Ve,Ae=b.list(Y,null,!0);for($=0;$<Ae.length;$++){var Oe=null;(Ve=Ae[$]).overlaying&&(Oe=b.getFromId(Y,Ve.overlaying))&&Oe.overlaying&&(Ve.overlaying=!1,Oe=null),Ve._mainAxis=Oe||Ve,Oe&&(Ve.domain=Oe.domain.slice()),Ve._anchorAxis="free"===Ve.anchor?null:b.getFromId(Y,Ve.anchor)}for($=0;$<Ae.length;$++)if((Ve=Ae[$])._counterAxes.sort(b.idSort),Ve._subplotsWith.sort(h.subplotSort),Ve._mainSubplot=R(Ve,Q),Ve._counterAxes.length&&(Ve.spikemode&&-1!==Ve.spikemode.indexOf("across")||Ve.automargin&&Ve.mirror&&"free"!==Ve.anchor||l.getComponentMethod("rangeslider","isVisible")(Ve))){var Re=1,tt=0;for(se=0;se<Ve._counterAxes.length;se++){var Ke=b.getFromId(Y,Ve._counterAxes[se]);Re=Math.min(Re,Ke.domain[0]),tt=Math.max(tt,Ke.domain[1])}Re<tt&&(Ve._counterDomainMin=Re,Ve._counterDomainMax=tt)}},H.clearExpandedTraceDefaultColors=function(ie){var Q,le,j;for(le=[],(Q=ie._module._colorAttrs)||(ie._module._colorAttrs=Q=[],m.crawl(ie._module.attributes,function($,se,ee,F){le[F]=se,le.length=F+1,"color"===$.valType&&void 0===$.dflt&&Q.push(le.join("."))})),j=0;j<Q.length;j++)h.nestedProperty(ie,"_input."+Q[j]).get()||h.nestedProperty(ie,Q[j]).set(null)},H.supplyDataDefaults=function(ie,Q,le,j){var $,se,ee,F=j._modules,O=j._visibleModules,Y=j._basePlotModules,B=0,ae=0;function ue($e){Q.push($e);var Me=$e._module;Me&&(h.pushUnique(F,Me),!0===$e.visible&&h.pushUnique(O,Me),h.pushUnique(Y,$e._module.basePlotModule),B++,!1!==$e._input.visible&&ae++)}j._transformModules=[];var fe={},he=[],be=d.traceTemplater((le.template||{}).data||{});for($=0;$<ie.length;$++){if((se=be.newTrace(ee=ie[$])).uid=j._traceUids[$],H.supplyTraceDefaults(ee,se,ae,j,$),se.index=$,se._input=ee,se._expandedIndex=B,se.transforms&&se.transforms.length)for(var Ve=!1!==ee.visible&&!1===se.visible,Ae=z(se,Q,le,j),Oe=0;Oe<Ae.length;Oe++){var Re=Ae[Oe],tt={_template:se._template,type:se.type,uid:se.uid+Oe};Ve&&!1===Re.visible&&delete Re.visible,H.supplyTraceDefaults(Re,tt,B,j,$),V(tt,Re),tt.index=$,tt._input=ee,tt._fullInput=se,tt._expandedIndex=B,tt._expandedInput=Re,ue(tt)}else se._fullInput=se,se._expandedInput=se,ue(se);l.traceIs(se,"carpetAxis")&&(fe[se.carpet]=se),l.traceIs(se,"carpetDependent")&&he.push($)}for($=0;$<he.length;$++)if((se=Q[he[$]]).visible){var Ke=fe[se.carpet];se._carpet=Ke,Ke&&Ke.visible?(se.xaxis=Ke.xaxis,se.yaxis=Ke.yaxis):se.visible=!1}},H.supplyAnimationDefaults=function(ie){var Q;ie=ie||{};var le={};function j($,se){return h.coerce(ie||{},le,w,$,se)}if(j("mode"),j("direction"),j("fromcurrent"),Array.isArray(ie.frame))for(le.frame=[],Q=0;Q<ie.frame.length;Q++)le.frame[Q]=H.supplyAnimationFrameDefaults(ie.frame[Q]||{});else le.frame=H.supplyAnimationFrameDefaults(ie.frame||{});if(Array.isArray(ie.transition))for(le.transition=[],Q=0;Q<ie.transition.length;Q++)le.transition[Q]=H.supplyAnimationTransitionDefaults(ie.transition[Q]||{});else le.transition=H.supplyAnimationTransitionDefaults(ie.transition||{});return le},H.supplyAnimationFrameDefaults=function(ie){var Q={};function le(j,$){return h.coerce(ie||{},Q,w.frame,j,$)}return le("duration"),le("redraw"),Q},H.supplyAnimationTransitionDefaults=function(ie){var Q={};function le(j,$){return h.coerce(ie||{},Q,w.transition,j,$)}return le("duration"),le("easing"),Q},H.supplyFrameDefaults=function(ie){var Q={};function le(j,$){return h.coerce(ie,Q,N,j,$)}return le("group"),le("name"),le("traces"),le("baseframe"),le("data"),le("layout"),Q},H.supplyTraceDefaults=function(ie,Q,le,j,$){var se,ee=j.colorway||u.defaults,F=ee[le%ee.length];function O(Ae,Oe){return h.coerce(ie,Q,H.attributes,Ae,Oe)}var Y=O("visible");O("type"),O("name",j._traceWord+" "+$),O("uirevision",j.uirevision);var B=H.getModule(Q);if(Q._module=B,B){var ae=B.basePlotModule,ue=ae.attr,fe=ae.attributes;if(ue&&fe){var he=j._subplots,xe="";if(Y||"gl2d"!==ae.name){if(Array.isArray(ue))for(se=0;se<ue.length;se++){var be=ue[se],Ve=h.coerce(ie,Q,fe,be);he[be]&&h.pushUnique(he[be],Ve),xe+=Ve}else xe=h.coerce(ie,Q,fe,ue);he[ae.name]&&h.pushUnique(he[ae.name],xe)}}}return Y&&(O("customdata"),O("ids"),O("meta"),l.traceIs(Q,"showLegend")?(h.coerce(ie,Q,B.attributes.showlegend?B.attributes:H.attributes,"showlegend"),O("legendgroup"),O("legendgrouptitle.text"),O("legendrank"),Q._dfltShowLegend=!0):Q._dfltShowLegend=!1,B&&B.supplyDefaults(ie,Q,F,j),l.traceIs(Q,"noOpacity")||O("opacity"),l.traceIs(Q,"notLegendIsolatable")&&(Q.visible=!!Q.visible),l.traceIs(Q,"noHover")||(Q.hovertemplate||h.coerceHoverinfo(ie,Q,j),"parcats"!==Q.type&&l.getComponentMethod("fx","supplyDefaults")(ie,Q,F,j)),B&&B.selectPoints&&O("selectedpoints"),H.supplyTransformDefaults(ie,Q,j)),Q},H.hasMakesDataTransform=G,H.supplyTransformDefaults=function(ie,Q,le){if(Q._length||G(ie)){var j=le._globalTransforms||[],$=le._transformModules||[];if(Array.isArray(ie.transforms)||0!==j.length)for(var ee=j.concat(ie.transforms||[]),F=Q.transforms=[],O=0;O<ee.length;O++){var Y,B=ee[O],ae=B.type,ue=I[ae],fe=!(B._module&&B._module===ue),he=ue&&"function"==typeof ue.transform;ue||h.warn("Unrecognized transform type "+ae+"."),ue&&ue.supplyDefaults&&(fe||he)?((Y=ue.supplyDefaults(B,Q,le,ie)).type=ae,Y._module=ue,h.pushUnique($,ue)):Y=h.extendFlat({},B),F.push(Y)}}},H.supplyLayoutGlobalDefaults=function(ie,Q,le){function j(O,Y){return h.coerce(ie,Q,H.layoutAttributes,O,Y)}var $=ie.template;h.isPlainObject($)&&(Q.template=$,Q._template=$.layout,Q._dataTemplate=$.data),j("autotypenumbers");var se=h.coerceFont(j,"font");h.coerceFont(j,"title.font",h.extendFlat({},se,{size:Math.round(1.4*se.size)})),j("title.text",Q._dfltTitle.plot),j("title.xref"),j("title.yref"),j("title.x"),j("title.y"),j("title.xanchor"),j("title.yanchor"),j("title.pad.t"),j("title.pad.r"),j("title.pad.b"),j("title.pad.l"),j("uniformtext.mode")&&j("uniformtext.minsize"),j("autosize",!(ie.width&&ie.height)),j("width"),j("height"),j("margin.l"),j("margin.r"),j("margin.t"),j("margin.b"),j("margin.pad"),j("margin.autoexpand"),ie.width&&ie.height&&H.sanitizeMargins(Q),l.getComponentMethod("grid","sizeDefaults")(ie,Q),j("paper_bgcolor"),j("separators",le.decimal+le.thousands),j("hidesources"),j("colorway"),j("datarevision");var F=j("uirevision");j("editrevision",F),j("selectionrevision",F),l.getComponentMethod("modebar","supplyLayoutDefaults")(ie,Q),l.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(ie,Q,j),j("meta"),h.isPlainObject(ie.transition)&&(j("transition.duration"),j("transition.easing"),j("transition.ordering")),l.getComponentMethod("calendars","handleDefaults")(ie,Q,"calendar"),l.getComponentMethod("fx","supplyLayoutGlobalDefaults")(ie,Q,j)},H.plotAutoSize=function(ie,Q,le){var j,$,se=ie._context||{},ee=se.frameMargins,F=h.isPlotDiv(ie);if(F&&ie.emit("plotly_autosize"),se.fillFrame)j=window.innerWidth,$=window.innerHeight,document.body.style.overflow="hidden";else{var O=F?window.getComputedStyle(ie):{};if(j=X(O.width)||X(O.maxWidth)||le.width,$=X(O.height)||X(O.maxHeight)||le.height,c(ee)&&ee>0){var Y=1-2*ee;j=Math.round(Y*j),$=Math.round(Y*$)}}var B=H.layoutAttributes.width.min,ae=H.layoutAttributes.height.min;j<B&&(j=B),$<ae&&($=ae);var ue=!Q.width&&Math.abs(le.width-j)>1,fe=!Q.height&&Math.abs(le.height-$)>1;(fe||ue)&&(ue&&(le.width=j),fe&&(le.height=$)),ie._initialAutoSize||(ie._initialAutoSize={width:j,height:$}),H.sanitizeMargins(le)},H.supplyLayoutModuleDefaults=function(ie,Q,le,j){var $,se,ee,F=l.componentsRegistry,O=Q._basePlotModules,Y=l.subplotsRegistry.cartesian;for($ in F)(ee=F[$]).includeBasePlot&&ee.includeBasePlot(ie,Q);for(var B in O.length||O.push(Y),Q._has("cartesian")&&(l.getComponentMethod("grid","contentDefaults")(ie,Q),Y.finalizeSubplots(ie,Q)),Q._subplots)Q._subplots[B].sort(h.subplotSort);for(se=0;se<O.length;se++)(ee=O[se]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(ie,Q,le);var ae=Q._modules;for(se=0;se<ae.length;se++)(ee=ae[se]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(ie,Q,le);var ue=Q._transformModules;for(se=0;se<ue.length;se++)(ee=ue[se]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(ie,Q,le,j);for($ in F)(ee=F[$]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(ie,Q,le)},H.purge=function(ie){var Q=ie._fullLayout||{};void 0!==Q._glcontainer&&(Q._glcontainer.selectAll(".gl-canvas").remove(),Q._glcontainer.remove(),Q._glcanvas=null),Q._modeBar&&Q._modeBar.destroy(),ie._transitionData&&(ie._transitionData._interruptCallbacks&&(ie._transitionData._interruptCallbacks.length=0),ie._transitionData._animationRaf&&window.cancelAnimationFrame(ie._transitionData._animationRaf)),h.clearThrottle(),h.clearResponsive(ie),delete ie.data,delete ie.layout,delete ie._fullData,delete ie._fullLayout,delete ie.calcdata,delete ie.empty,delete ie.fid,delete ie.undoqueue,delete ie.undonum,delete ie.autoplay,delete ie.changed,delete ie._promises,delete ie._redrawTimer,delete ie._hmlumcount,delete ie._hmpixcount,delete ie._transitionData,delete ie._transitioning,delete ie._initialAutoSize,delete ie._transitioningWithDuration,delete ie._dragging,delete ie._dragged,delete ie._dragdata,delete ie._hoverdata,delete ie._snapshotInProgress,delete ie._editing,delete ie._mouseDownTime,delete ie._legendMouseDownTime,ie.removeAllListeners&&ie.removeAllListeners()},H.style=function(ie){var Q,le=ie._fullLayout._visibleModules,j=[];for(Q=0;Q<le.length;Q++){var $=le[Q];$.style&&h.pushUnique(j,$.style)}for(Q=0;Q<j.length;Q++)j[Q](ie)},H.sanitizeMargins=function(ie){if(ie&&ie.margin){var Q,le=ie.width,j=ie.height,$=ie.margin,ee=j-($.t+$.b);le-($.l+$.r)<0&&(Q=(le-1)/($.l+$.r),$.l=Math.floor(Q*$.l),$.r=Math.floor(Q*$.r)),ee<0&&(Q=(j-1)/($.t+$.b),$.t=Math.floor(Q*$.t),$.b=Math.floor(Q*$.b))}},H.clearAutoMarginIds=function(ie){ie._fullLayout._pushmarginIds={}},H.allowAutoMargin=function(ie,Q){ie._fullLayout._pushmarginIds[Q]=1},H.autoMargin=function(ie,Q,le){var j=ie._fullLayout,$=j.width,se=j.height,ee=j.margin,F=h.constrain($-ee.l-ee.r,2,64),O=h.constrain(se-ee.t-ee.b,2,64),Y=Math.max(0,$-F),B=Math.max(0,se-O),ae=j._pushmargin,ue=j._pushmarginIds;if(!1!==ee.autoexpand){if(le){var fe=le.pad;if(void 0===fe&&(fe=Math.min(12,ee.l,ee.r,ee.t,ee.b)),Y){var he=(le.l+le.r)/Y;he>1&&(le.l/=he,le.r/=he)}if(B){var xe=(le.t+le.b)/B;xe>1&&(le.t/=xe,le.b/=xe)}ae[Q]={l:{val:void 0!==le.xl?le.xl:le.x,size:le.l+fe},r:{val:void 0!==le.xr?le.xr:le.x,size:le.r+fe},b:{val:void 0!==le.yb?le.yb:le.y,size:le.b+fe},t:{val:void 0!==le.yt?le.yt:le.y,size:le.t+fe}},ue[Q]=1}else delete ae[Q],delete ue[Q];if(!j._replotting)return H.doAutoMargin(ie)}},H.doAutoMargin=function(ie){var Q=ie._fullLayout,le=Q.width,j=Q.height;Q._size||(Q._size={}),W(Q);var $=Q._size,se=Q.margin,ee=h.extendFlat({},$),F=se.l,O=se.r,Y=se.t,B=se.b,ae=Q._pushmargin,ue=Q._pushmarginIds;if(!1!==Q.margin.autoexpand){for(var fe in ae)ue[fe]||delete ae[fe];for(var he in ae.base={l:{val:0,size:F},r:{val:1,size:O},t:{val:1,size:Y},b:{val:0,size:B}},ae){var xe=ae[he].l||{},be=ae[he].b||{},Ve=xe.val,Ae=xe.size,Oe=be.val,Re=be.size;for(var tt in ae){if(c(Ae)&&ae[tt].r){var Ke=ae[tt].r.val,$e=ae[tt].r.size;if(Ke>Ve){var Me=(Ae*Ke+($e-le)*Ve)/(Ke-Ve),ve=($e*(1-Ve)+(Ae-le)*(1-Ke))/(Ke-Ve);Me+ve>F+O&&(F=Me,O=ve)}}if(c(Re)&&ae[tt].t){var Se=ae[tt].t.val,Te=ae[tt].t.size;if(Se>Oe){var qe=(Re*Se+(Te-j)*Oe)/(Se-Oe),Ee=(Te*(1-Oe)+(Re-j)*(1-Se))/(Se-Oe);qe+Ee>B+Y&&(B=qe,Y=Ee)}}}}}var _t,Ie=h.constrain(le-se.l-se.r,2,64),Qe=h.constrain(j-se.t-se.b,2,64),nt=Math.max(0,le-Ie),Ye=Math.max(0,j-Qe);if(nt){var rt=(F+O)/nt;rt>1&&(F/=rt,O/=rt)}if(Ye){var dt=(B+Y)/Ye;dt>1&&(B/=dt,Y/=dt)}if($.l=Math.round(F),$.r=Math.round(O),$.t=Math.round(Y),$.b=Math.round(B),$.p=Math.round(se.pad),$.w=Math.round(le)-$.l-$.r,$.h=Math.round(j)-$.t-$.b,!Q._replotting&&H.didMarginChange(ee,$)){"_redrawFromAutoMarginCount"in Q?Q._redrawFromAutoMarginCount++:Q._redrawFromAutoMarginCount=1;var Xe=3*(1+Object.keys(ue).length);if(Q._redrawFromAutoMarginCount<Xe)return l.call("_doPlot",ie);Q._size=ee,h.warn("Too many auto-margin redraws.")}_t=b.list(ie,"",!0),["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(yt){for(var Ot=0;Ot<_t.length;Ot++){var bt=_t[Ot][yt];bt&&bt()}})};var Z=["l","r","t","b","p","w","h"];function ne(ie,Q,le){var j=!1,se=h.syncOrAsync([H.previousPromises,function(){if(ie._transitionData)return ie._transitioning=!1,function(ee){var F=Promise.resolve();if(!ee)return F;for(;ee.length;)F=F.then(ee.shift());return F}(ie._transitionData._interruptCallbacks)},le.prepareFn,H.rehover,function(){return ie.emit("plotly_transitioning",[]),new Promise(function(ee){ie._transitioning=!0,Q.duration>0&&(ie._transitioningWithDuration=!0),ie._transitionData._interruptCallbacks.push(function(){j=!0}),le.redraw&&ie._transitionData._interruptCallbacks.push(function(){return l.call("redraw",ie)}),ie._transitionData._interruptCallbacks.push(function(){ie.emit("plotly_transitioninterrupted",[])});var F=0,O=0;function Y(){return F++,function(){var B;O++,j||O!==F||(B=ee,ie._transitionData&&(function(ae){if(ae)for(;ae.length;)ae.shift()}(ie._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(le.redraw)return l.call("redraw",ie)}).then(function(){ie._transitioning=!1,ie._transitioningWithDuration=!1,ie.emit("plotly_transitioned",[])}).then(B)))}}le.runFn(Y),setTimeout(Y())})}],ie);return se&&se.then||(se=Promise.resolve()),se.then(function(){return ie})}H.didMarginChange=function(ie,Q){for(var le=0;le<Z.length;le++){var j=Z[le],$=ie[j],se=Q[j];if(!c($)||Math.abs(se-$)>1)return!0}return!1},H.graphJson=function(ie,Q,le,j,$,se){($&&Q&&!ie._fullData||$&&!Q&&!ie._fullLayout)&&H.supplyDefaults(ie);var F=$?ie._fullLayout:ie.layout,O=(ie._transitionData||{})._frames;function Y(ue,fe){if("function"==typeof ue)return fe?"_function_":null;if(h.isPlainObject(ue)){var he,xe={};return Object.keys(ue).sort().forEach(function(be){if(-1===["_","["].indexOf(be.charAt(0)))if("function"!=typeof ue[be]){if("keepdata"===le){if("src"===be.substr(be.length-3))return}else if("keepstream"===le){if("string"==typeof(he=ue[be+"src"])&&he.indexOf(":")>0&&!h.isPlainObject(ue.stream))return}else if("keepall"!==le&&"string"==typeof(he=ue[be+"src"])&&he.indexOf(":")>0)return;xe[be]=Y(ue[be],fe)}else fe&&(xe[be]="_function")}),xe}return Array.isArray(ue)?ue.map(function(be){return Y(be,fe)}):h.isTypedArray(ue)?h.simpleMap(ue,h.identity):h.isJSDate(ue)?h.ms2DateTimeLocal(+ue):ue}var B={data:(($?ie._fullData:ie.data)||[]).map(function(ue){var fe=Y(ue);return Q&&delete fe.fit,fe})};if(!Q&&(B.layout=Y(F),$)){var ae=F._size;B.layout.computed={margin:{b:ae.b,l:ae.l,r:ae.r,t:ae.t}}}return O&&(B.frames=Y(O)),se&&(B.config=Y(ie._context,!0)),"object"===j?B:JSON.stringify(B)},H.modifyFrames=function(ie,Q){var le,j,$,se=ie._transitionData._frames,ee=ie._transitionData._frameHash;for(le=0;le<Q.length;le++)switch((j=Q[le]).type){case"replace":var F=(se[j.index]||{}).name,O=($=j.value).name;se[j.index]=ee[O]=$,O!==F&&(delete ee[F],ee[O]=$);break;case"insert":ee[($=j.value).name]=$,se.splice(j.index,0,$);break;case"delete":delete ee[($=se[j.index]).name],se.splice(j.index,1)}return Promise.resolve()},H.computeFrame=function(ie,Q){var le,j,$,se,ee=ie._transitionData._frameHash;if(!Q)throw new Error("computeFrame must be given a string frame name");var F=ee[Q.toString()];if(!F)return!1;for(var O=[F],Y=[F.name];F.baseframe&&(F=ee[F.baseframe.toString()])&&-1===Y.indexOf(F.name);)O.push(F),Y.push(F.name);for(var B={};F=O.pop();)if(F.layout&&(B.layout=H.extendLayout(B.layout,F.layout)),F.data){if(B.data||(B.data=[]),!(j=F.traces))for(j=[],le=0;le<F.data.length;le++)j[le]=le;for(B.traces||(B.traces=[]),le=0;le<F.data.length;le++)null!=($=j[le])&&(-1===(se=B.traces.indexOf($))&&(B.traces[se=B.data.length]=$),B.data[se]=H.extendTrace(B.data[se],F.data[le]))}return B},H.recomputeFrameHash=function(ie){for(var Q=ie._transitionData._frameHash={},le=ie._transitionData._frames,j=0;j<le.length;j++){var $=le[j];$&&$.name&&(Q[$.name]=$)}},H.extendObjectWithContainers=function(ie,Q,le){var j,$,se,ee,F,O,Y,B=h.extendDeepNoArrays({},Q||{}),ae=h.expandObjectPaths(B),ue={};if(le&&le.length)for(se=0;se<le.length;se++)void 0===($=(j=h.nestedProperty(ae,le[se])).get())?h.nestedProperty(ue,le[se]).set(null):(j.set(null),h.nestedProperty(ue,le[se]).set($));if(ie=h.extendDeepNoArrays(ie||{},ae),le&&le.length)for(se=0;se<le.length;se++)if(O=h.nestedProperty(ue,le[se]).get()){for(Y=(F=h.nestedProperty(ie,le[se])).get(),Array.isArray(Y)||F.set(Y=[]),ee=0;ee<O.length;ee++){var fe=O[ee];Y[ee]=null===fe?null:H.extendObjectWithContainers(Y[ee],fe)}F.set(Y)}return ie},H.dataArrayContainers=["transforms","dimensions"],H.layoutArrayContainers=l.layoutArrayContainers,H.extendTrace=function(ie,Q){return H.extendObjectWithContainers(ie,Q,H.dataArrayContainers)},H.extendLayout=function(ie,Q){return H.extendObjectWithContainers(ie,Q,H.layoutArrayContainers)},H.transition=function(ie,Q,le,j,$,se){var ee={redraw:$.redraw},F={},O=[];return ee.prepareFn=function(){for(var Y=Array.isArray(Q)?Q.length:0,B=j.slice(0,Y),ae=0;ae<B.length;ae++){var ue=B[ae],fe=ie._fullData[ue]._module;if(fe){if(fe.animatable){var he=fe.basePlotModule.name;F[he]||(F[he]=[]),F[he].push(ue)}ie.data[B[ae]]=H.extendTrace(ie.data[B[ae]],Q[ae])}}var xe=h.expandObjectPaths(h.extendDeepNoArrays({},le)),be=/^[xy]axis[0-9]*$/;for(var Ve in xe)be.test(Ve)&&delete xe[Ve].range;H.extendLayout(ie.layout,xe),delete ie.calcdata,H.supplyDefaults(ie),H.doCalcdata(ie);var Ae=h.expandObjectPaths(le);if(Ae){var Oe=ie._fullLayout._plots;for(var Re in Oe){var tt=Oe[Re],Ke=tt.xaxis,$e=tt.yaxis,Me=Ke.range.slice(),ve=$e.range.slice(),Se=null,Te=null,qe=null,Ee=null;Array.isArray(Ae[Ke._name+".range"])?Se=Ae[Ke._name+".range"].slice():Array.isArray((Ae[Ke._name]||{}).range)&&(Se=Ae[Ke._name].range.slice()),Array.isArray(Ae[$e._name+".range"])?Te=Ae[$e._name+".range"].slice():Array.isArray((Ae[$e._name]||{}).range)&&(Te=Ae[$e._name].range.slice()),Me&&Se&&(Ke.r2l(Me[0])!==Ke.r2l(Se[0])||Ke.r2l(Me[1])!==Ke.r2l(Se[1]))&&(qe={xr0:Me,xr1:Se}),ve&&Te&&($e.r2l(ve[0])!==$e.r2l(Te[0])||$e.r2l(ve[1])!==$e.r2l(Te[1]))&&(Ee={yr0:ve,yr1:Te}),(qe||Ee)&&O.push(h.extendFlat({plotinfo:tt},qe,Ee))}}return Promise.resolve()},ee.runFn=function(Y){var B,ae,ue=ie._fullLayout._basePlotModules,fe=O.length;if(le)for(ae=0;ae<ue.length;ae++)ue[ae].transitionAxes&&ue[ae].transitionAxes(ie,O,se,Y);for(var he in fe?((B=h.extendFlat({},se)).duration=0,delete F.cartesian):B=se,F){var xe=F[he];ie._fullData[xe[0]]._module.basePlotModule.plot(ie,xe,B,Y)}},ne(ie,se,ee)},H.transitionFromReact=function(ie,Q,le,j){var $=ie._fullLayout,se=$.transition,ee={},F=[];return ee.prepareFn=function(){var O=$._plots;for(var Y in ee.redraw=!1,"some"===Q.anim&&(ee.redraw=!0),"some"===le.anim&&(ee.redraw=!0),O){var B=O[Y],ae=B.xaxis,ue=B.yaxis,fe=j[ae._name].range.slice(),he=j[ue._name].range.slice(),xe=ae.range.slice(),be=ue.range.slice();ae.setScale(),ue.setScale();var Ve=null,Ae=null;ae.r2l(fe[0])===ae.r2l(xe[0])&&ae.r2l(fe[1])===ae.r2l(xe[1])||(Ve={xr0:fe,xr1:xe}),ue.r2l(he[0])===ue.r2l(be[0])&&ue.r2l(he[1])===ue.r2l(be[1])||(Ae={yr0:he,yr1:be}),(Ve||Ae)&&F.push(h.extendFlat({plotinfo:B},Ve,Ae))}return Promise.resolve()},ee.runFn=function(O){for(var Y,B,ae,ue=ie._fullData,fe=ie._fullLayout._basePlotModules,he=[],xe=0;xe<ue.length;xe++)he.push(xe);function be(){if(ie._fullLayout)for(var Ae=0;Ae<fe.length;Ae++)fe[Ae].transitionAxes&&fe[Ae].transitionAxes(ie,F,Y,O)}function Ve(){if(ie._fullLayout)for(var Ae=0;Ae<fe.length;Ae++)fe[Ae].plot(ie,ae,B,O)}F.length&&Q.anim?"traces first"===se.ordering?(Y=h.extendFlat({},se,{duration:0}),ae=he,B=se,setTimeout(be,se.duration),Ve()):(Y=se,ae=null,B=h.extendFlat({},se,{duration:0}),setTimeout(Ve,Y.duration),be()):F.length?(Y=se,be()):Q.anim&&(ae=he,B=se,Ve())},ne(ie,se,ee)},H.doCalcdata=function(ie,Q){var le,j,$,se,ee=b.list(ie),F=ie._fullData,O=ie._fullLayout,Y=new Array(F.length),B=(ie.calcdata||[]).slice();for(ie.calcdata=Y,O._numBoxes=0,O._numViolins=0,O._violinScaleGroupStats={},ie._hmpixcount=0,ie._hmlumcount=0,O._piecolormap={},O._sunburstcolormap={},O._treemapcolormap={},O._iciclecolormap={},O._funnelareacolormap={},$=0;$<F.length;$++)Array.isArray(Q)&&-1===Q.indexOf($)&&(Y[$]=B[$]);for($=0;$<F.length;$++)(le=F[$])._arrayAttrs=m.findArrayAttributes(le),le._extremes={};var ae=O._subplots.polar||[];for($=0;$<ae.length;$++)ee.push(O[ae[$]].radialaxis,O[ae[$]].angularaxis);for(var ue in O._colorAxes){var fe=O[ue];!1!==fe.cauto&&(delete fe.cmin,delete fe.cmax)}var he=!1;function xe(Ae){if(j=(le=F[Ae])._module,!0===le.visible&&le.transforms){if(j&&j.calc){var Oe=j.calc(ie,le);Oe[0]&&Oe[0].t&&Oe[0].t._scene&&delete Oe[0].t._scene.dirty}for(se=0;se<le.transforms.length;se++){var Re=le.transforms[se];(j=I[Re.type])&&j.calcTransform&&(le._hasCalcTransform=!0,he=!0,j.calcTransform(ie,le,Re))}}}function be(Ae,Oe){if(!!(j=(le=F[Ae])._module).isContainer===Oe){var Re=[];if(!0===le.visible&&0!==le._length){delete le._indexToPoints;var tt=le.transforms||[];for(se=tt.length-1;se>=0;se--)if(tt[se].enabled){le._indexToPoints=tt[se]._indexToPoints;break}j&&j.calc&&(Re=j.calc(ie,le))}Array.isArray(Re)&&Re[0]||(Re=[{x:C,y:C}]),Re[0].t||(Re[0].t={}),Re[0].trace=le,Y[Ae]=Re}}for(oe(ee,F,O),$=0;$<F.length;$++)be($,!0);for($=0;$<F.length;$++)xe($);for(he&&oe(ee,F,O),$=0;$<F.length;$++)be($,!0);for($=0;$<F.length;$++)be($,!1);Ce(ie);var Ve=function(Ae,Oe){var Re,tt,Ke,$e,Me,ve=[];function Se(Nt,ge,_e){var We=ge._id.charAt(0);if("histogram2dcontour"===Nt){var Je=ge._counterAxes[0],ft=b.getFromId(Oe,Je),st="x"===We||"x"===Je&&"category"===ft.type,et="y"===We||"y"===Je&&"category"===ft.type;return function(ut,xt){return 0===ut||0===xt||st&&ut===_e[xt].length-1||et&&xt===_e.length-1?-1:("y"===We?xt:ut)-1}}return function(ut,xt){return"y"===We?xt:ut}}var Te={min:function(Nt){return h.aggNums(Math.min,null,Nt)},max:function(Nt){return h.aggNums(Math.max,null,Nt)},sum:function(Nt){return h.aggNums(function(ge,_e){return ge+_e},null,Nt)},total:function(Nt){return h.aggNums(function(ge,_e){return ge+_e},null,Nt)},mean:function(Nt){return h.mean(Nt)},median:function(Nt){return h.median(Nt)}};for(Re=0;Re<Ae.length;Re++){var qe=Ae[Re];if("category"===qe.type){var Ee=qe.categoryorder.match(te);if(Ee){var Ie=Ee[1],Qe=Ee[2],nt=qe._id.charAt(0),Ye="x"===nt,rt=[];for(tt=0;tt<qe._categories.length;tt++)rt.push([qe._categories[tt],[]]);for(tt=0;tt<qe._traceIndices.length;tt++){var dt=qe._traceIndices[tt],Xe=Oe._fullData[dt];if(!0===Xe.visible){var mt=Xe.type;l.traceIs(Xe,"histogram")&&(delete Xe._xautoBinFinished,delete Xe._yautoBinFinished);var _t="splom"===mt,yt="scattergl"===mt,Ot=Oe.calcdata[dt];for(Ke=0;Ke<Ot.length;Ke++){var bt,Fe,Ue=Ot[Ke];if(_t){var gt=Xe._axesDim[qe._id];if(!Ye){var Pt=Xe._diag[gt][0];Pt&&(qe=Oe._fullLayout[b.id2name(Pt)])}var Qt=Ue.trace.dimensions[gt].values;for($e=0;$e<Qt.length;$e++)for(bt=qe._categoriesMap[Qt[$e]],Me=0;Me<Ue.trace.dimensions.length;Me++)Me!==gt&&rt[bt][1].push(Ue.trace.dimensions[Me].values[$e])}else if(yt){for($e=0;$e<Ue.t.x.length;$e++)Ye?(bt=Ue.t.x[$e],Fe=Ue.t.y[$e]):(bt=Ue.t.y[$e],Fe=Ue.t.x[$e]),rt[bt][1].push(Fe);Ue.t&&Ue.t._scene&&delete Ue.t._scene.dirty}else if(Ue.hasOwnProperty("z")){var Xt=Se(Xe.type,qe,Fe=Ue.z);for($e=0;$e<Fe.length;$e++)for(Me=0;Me<Fe[$e].length;Me++)(bt=Xt(Me,$e))+1&&rt[bt][1].push(Fe[$e][Me])}else for(void 0===(bt=Ue.p)&&(bt=Ue[nt]),void 0===(Fe=Ue.s)&&(Fe=Ue.v),void 0===Fe&&(Fe=Ye?Ue.y:Ue.x),Array.isArray(Fe)||(Fe=void 0===Fe?[]:[Fe]),$e=0;$e<Fe.length;$e++)rt[bt][1].push(Fe[$e])}}}qe._categoriesValue=rt;var Wt=[];for(tt=0;tt<rt.length;tt++)Wt.push([rt[tt][0],Te[Ie](rt[tt][1])]);Wt.sort(function(Nt,ge){return Nt[1]-ge[1]}),qe._categoriesAggregatedValue=Wt,qe._initialCategories=Wt.map(function(Nt){return Nt[0]}),"descending"===Qe&&qe._initialCategories.reverse(),ve=ve.concat(qe.sortByInitialCategories())}}}return ve}(ee,ie);if(Ve.length){for(O._numBoxes=0,O._numViolins=0,$=0;$<Ve.length;$++)be(Ve[$],!0);for($=0;$<Ve.length;$++)be(Ve[$],!1);Ce(ie)}l.getComponentMethod("fx","calc")(ie),l.getComponentMethod("errorbars","calc")(ie)};var te=/(total|sum|min|max|mean|median) (ascending|descending)/;function oe(ie,Q,le){var j={};function $(O){O.clearCalc(),"multicategory"===O.type&&O.setupMultiCategory(Q),j[O._id]=1}h.simpleMap(ie,$);for(var se=le._axisMatchGroups||[],ee=0;ee<se.length;ee++)for(var F in se[ee])j[F]||$(le[b.id2name(F)])}function Ce(ie){var Q,le,j,$=ie._fullLayout,se=$._visibleModules,ee={};for(le=0;le<se.length;le++){var F=se[le],O=F.crossTraceCalc;if(O){var Y=F.basePlotModule.name;ee[Y]?h.pushUnique(ee[Y],O):ee[Y]=[O]}}for(j in ee){var B=ee[j],ae=$._subplots[j];if(Array.isArray(ae))for(Q=0;Q<ae.length;Q++){var ue=ae[Q],fe="cartesian"===j?$._plots[ue]:$[ue];for(le=0;le<B.length;le++)B[le](ie,fe,ue)}else for(le=0;le<B.length;le++)B[le](ie)}}H.rehover=function(ie){ie._fullLayout._rehover&&ie._fullLayout._rehover()},H.redrag=function(ie){ie._fullLayout._redrag&&ie._fullLayout._redrag()},H.generalUpdatePerTraceModule=function(ie,Q,le,j){var $,se=Q.traceHash,ee={};for($=0;$<le.length;$++){var F=le[$],O=F[0].trace;O.visible&&(ee[O.type]=ee[O.type]||[],ee[O.type].push(F))}for(var Y in se)if(!ee[Y]){var B=se[Y][0];B[0].trace.visible=!1,ee[Y]=[B]}for(var ae in ee){var ue=ee[ae];ue[0][0].trace._module.plot(ie,Q,h.filterVisible(ue),j)}Q.traceHash=ee},H.plotBasePlot=function(ie,Q,le,j,$){var se=l.getModule(ie),ee=A(Q.calcdata,se)[0];se.plot(Q,ee,j,$)},H.cleanBasePlot=function(ie,Q,le,j,$){var se=$._has&&$._has(ie),ee=le._has&&le._has(ie);se&&!ee&&$["_"+ie+"layer"].selectAll("g.trace").remove()}},{"../components/color":102,"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plot_api/plot_template":268,"../plots/get_data":312,"../registry":318,"./animation_attributes":273,"./attributes":275,"./cartesian/axis_ids":283,"./cartesian/handle_outline":290,"./command":308,"./font_attributes":310,"./frame_attributes":311,"./layout_attributes":314,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],317:[function(v,pe,J){"use strict";function g(p){var c=p.description?" "+p.description:"",l=p.keys||[];if(l.length>0){for(var m=[],d=0;d<l.length;d++)m[d]="`"+l[d]+"`";c+="Finally, the template string has access to ",c=1===l.length?"variable "+m[0]:"variables "+m.slice(0,-1).join(", ")+" and "+m.slice(-1)+"."}return c}v("../constants/docs"),J.hovertemplateAttrs=function(p,c){p=p||{},g(c=c||{});var l={valType:"string",dflt:"",editType:p.editType||"none"};return!1!==p.arrayOk&&(l.arrayOk=!0),l},J.texttemplateAttrs=function(p,c){p=p||{},g(c=c||{});var l={valType:"string",dflt:"",editType:p.editType||"calc"};return!1!==p.arrayOk&&(l.arrayOk=!0),l}},{"../constants/docs":209}],318:[function(v,pe,J){"use strict";var s=v("./lib/loggers"),g=v("./lib/noop"),p=v("./lib/push_unique"),c=v("./lib/is_plain_object"),l=v("./lib/dom").addStyleRule,m=v("./lib/extend"),d=v("./plots/attributes"),h=v("./plots/layout_attributes"),u=m.extendFlat,C=m.extendDeepAll;function b(D){var E=D.name,P=D.categories,S=D.meta;if(J.modules[E])s.log("Type "+E+" already registered");else{J.subplotsRegistry[D.basePlotModule.name]||function(te){var oe=te.name;if(J.subplotsRegistry[oe])s.log("Plot type "+oe+" already registered.");else for(var Ce in A(te),J.subplotsRegistry[oe]=te,J.componentsRegistry)H(Ce,te.name)}(D.basePlotModule);for(var R={},G=0;G<P.length;G++)R[P[G]]=!0,J.allCategories[P[G]]=!0;for(var z in J.modules[E]={_module:D,categories:R},S&&Object.keys(S).length&&(J.modules[E].meta=S),J.allTypes.push(E),J.componentsRegistry)V(z,E);D.layoutAttributes&&u(J.traceLayoutAttributes,D.layoutAttributes);var X=D.basePlotModule,W=X.name;if("mapbox"===W){var Z=X.constants.styleRules;for(var ne in Z)l(".js-plotly-plot .plotly .mapboxgl-"+ne,Z[ne])}"geo"!==W&&"mapbox"!==W||void 0===typeof window||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function M(D){if("string"!=typeof D.name)throw new Error("Component module *name* must be a string.");var E=D.name;for(var P in J.componentsRegistry[E]=D,D.layoutAttributes&&(D.layoutAttributes._isLinkedToArray&&p(J.layoutArrayContainers,E),A(D)),J.modules)V(E,P);for(var S in J.subplotsRegistry)H(E,S);for(var R in J.transformsRegistry)L(E,R);D.schema&&D.schema.layout&&C(h,D.schema.layout)}function w(D){if("string"!=typeof D.name)throw new Error("Transform module *name* must be a string.");var E="Transform module "+D.name,P="function"==typeof D.transform,S="function"==typeof D.calcTransform;if(!P&&!S)throw new Error(E+" is missing a *transform* or *calcTransform* method.");for(var R in P&&S&&s.log([E+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),c(D.attributes)||s.log(E+" registered without an *attributes* object."),"function"!=typeof D.supplyDefaults&&s.log(E+" registered without a *supplyDefaults* method."),J.transformsRegistry[D.name]=D,J.componentsRegistry)L(R,D.name)}function N(D){var E=D.name,P=E.split("-")[0],S=D.dictionary,R=D.format,G=S&&Object.keys(S).length,z=R&&Object.keys(R).length,X=J.localeRegistry,W=X[E];if(W||(X[E]=W={}),P!==E){var Z=X[P];Z||(X[P]=Z={}),G&&Z.dictionary===W.dictionary&&(Z.dictionary=S),z&&Z.format===W.format&&(Z.format=R)}G&&(W.dictionary=S),z&&(W.format=R)}function A(D){if(D.layoutAttributes){var E=D.layoutAttributes._arrayAttrRegexps;if(E)for(var P=0;P<E.length;P++)p(J.layoutArrayRegexes,E[P])}}function V(D,E){var P=J.componentsRegistry[D].schema;if(P&&P.traces){var S=P.traces[E];S&&C(J.modules[E]._module.attributes,S)}}function L(D,E){var P=J.componentsRegistry[D].schema;if(P&&P.transforms){var S=P.transforms[E];S&&C(J.transformsRegistry[E].attributes,S)}}function H(D,E){var P=J.componentsRegistry[D].schema;if(P&&P.subplots){var S=J.subplotsRegistry[E],R=S.layoutAttributes,G="subplot"===S.attr?S.name:S.attr;Array.isArray(G)&&(G=G[0]);var z=P.subplots[G];R&&z&&C(R,z)}}function I(D){return"object"==typeof D&&(D=D.type),D}J.modules={},J.allCategories={},J.allTypes=[],J.subplotsRegistry={},J.transformsRegistry={},J.componentsRegistry={},J.layoutArrayContainers=[],J.layoutArrayRegexes=[],J.traceLayoutAttributes={},J.localeRegistry={},J.apiMethodRegistry={},J.collectableSubplotTypes=null,J.register=function(D){if(J.collectableSubplotTypes=null,!D)throw new Error("No argument passed to Plotly.register.");D&&!Array.isArray(D)&&(D=[D]);for(var E=0;E<D.length;E++){var P=D[E];if(!P)throw new Error("Invalid module was attempted to be registered!");switch(P.moduleType){case"trace":b(P);break;case"transform":w(P);break;case"component":M(P);break;case"locale":N(P);break;case"apiMethod":J.apiMethodRegistry[P.name]=P.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},J.getModule=function(D){var E=J.modules[I(D)];return!!E&&E._module},J.traceIs=function(D,E){if("various"===(D=I(D)))return!1;var P=J.modules[D];return P||(D&&s.log("Unrecognized trace type "+D+"."),P=J.modules[d.type.dflt]),!!P.categories[E]},J.getTransformIndices=function(D,E){for(var P=[],S=D.transforms||[],R=0;R<S.length;R++)S[R].type===E&&P.push(R);return P},J.hasTransform=function(D,E){for(var P=D.transforms||[],S=0;S<P.length;S++)if(P[S].type===E)return!0;return!1},J.getComponentMethod=function(D,E){var P=J.componentsRegistry[D];return P&&P[E]||g},J.call=function(){var D=arguments[0],E=[].slice.call(arguments,1);return J.apiMethodRegistry[D].apply(null,E)}},{"./lib/dom":224,"./lib/extend":226,"./lib/is_plain_object":233,"./lib/loggers":236,"./lib/noop":241,"./lib/push_unique":246,"./plots/attributes":275,"./plots/layout_attributes":314}],319:[function(v,pe,J){"use strict";var s=v("../registry"),g=v("../lib"),p=g.extendFlat,c=g.extendDeep;function l(m){var d;switch(m){case"themes__thumb":d={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":d={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:d={}}return d}pe.exports=function(m,d){var h,b=m.layout,M=c([],m.data),w=c({},b,l(d.tileClass)),N=m._context||{};if(d.width&&(w.width=d.width),d.height&&(w.height=d.height),"thumbnail"===d.tileClass||"themes__thumb"===d.tileClass){w.annotations=[];var A=Object.keys(w);for(h=0;h<A.length;h++)["xaxis","yaxis","zaxis"].indexOf(A[h].slice(0,5))>-1&&(w[A[h]].title={text:""});for(h=0;h<M.length;h++){var V=M[h];V.showscale=!1,V.marker&&(V.marker.showscale=!1),s.traceIs(V,"pie-like")&&(V.textposition="none")}}if(Array.isArray(d.annotations))for(h=0;h<d.annotations.length;h++)w.annotations.push(d.annotations[h]);var L=Object.keys(w).filter(function(P){return P.match(/^scene\d*$/)});if(L.length){var H={};for("thumbnail"===d.tileClass&&(H={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),h=0;h<L.length;h++){var I=w[L[h]];I.xaxis||(I.xaxis={}),I.yaxis||(I.yaxis={}),I.zaxis||(I.zaxis={}),p(I.xaxis,H),p(I.yaxis,H),p(I.zaxis,H),I._scene=null}}var D=document.createElement("div");d.tileClass&&(D.className=d.tileClass);var E={gd:D,td:D,layout:w,data:M,config:{staticPlot:void 0===d.staticPlot||d.staticPlot,plotGlPixelRatio:void 0===d.plotGlPixelRatio?2:d.plotGlPixelRatio,displaylogo:d.displaylogo||!1,showLink:d.showLink||!1,showTips:d.showTips||!1,mapboxAccessToken:N.mapboxAccessToken}};return"transparent"!==d.setBackground&&(E.config.setBackground=d.setBackground||"opaque"),E.gd.defaultLayout=l(d.tileClass),E}},{"../lib":232,"../registry":318}],320:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("../plot_api/to_image"),p=v("./filesaver"),c=v("./helpers");pe.exports=function(l,m){var d;return s.isPlainObject(l)||(d=s.getGraphDiv(l)),(m=m||{}).format=m.format||"png",m.width=m.width||null,m.height=m.height||null,m.imageDataOnly=!0,new Promise(function(h,u){d&&d._snapshotInProgress&&u(new Error("Snapshotting already in progress.")),s.isIE()&&"svg"!==m.format&&u(new Error(c.MSG_IE_BAD_FORMAT)),d&&(d._snapshotInProgress=!0);var C=g(l,m),b=m.filename||l.fn||"newplot";b+="."+m.format.replace("-","."),C.then(function(M){return d&&(d._snapshotInProgress=!1),p(M,b,m.format)}).then(function(M){h(M)}).catch(function(M){d&&(d._snapshotInProgress=!1),u(M)})})}},{"../lib":232,"../plot_api/to_image":271,"./filesaver":321,"./helpers":322}],321:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("./helpers");pe.exports=function(p,c,l){var m=document.createElement("a"),d="download"in m;return new Promise(function(h,u){var C,b;return s.isIE()?(C=g.createBlob(p,"svg"),window.navigator.msSaveBlob(C,c),C=null,h(c)):d?(C=g.createBlob(p,l),b=g.createObjectURL(C),m.href=b,m.download=c,document.body.appendChild(m),m.click(),document.body.removeChild(m),g.revokeObjectURL(b),C=null,h(c)):s.isSafari()?(g.octetStream(("svg"===l?",":";base64,")+encodeURIComponent(p)),h(c)):void u(new Error("download error"))})}},{"../lib":232,"./helpers":322}],322:[function(v,pe,J){"use strict";var s=v("../registry");J.getDelay=function(p){return p._has&&(p._has("gl3d")||p._has("gl2d")||p._has("mapbox"))?500:0},J.getRedrawFunc=function(p){return function(){s.getComponentMethod("colorbar","draw")(p)}},J.encodeSVG=function(p){return"data:image/svg+xml,"+encodeURIComponent(p)},J.encodeJSON=function(p){return"data:application/json,"+encodeURIComponent(p)};var g=window.URL||window.webkitURL;J.createObjectURL=function(p){return g.createObjectURL(p)},J.revokeObjectURL=function(p){return g.revokeObjectURL(p)},J.createBlob=function(p,c){if("svg"===c)return new window.Blob([p],{type:"image/svg+xml;charset=utf-8"});if("full-json"===c)return new window.Blob([p],{type:"application/json;charset=utf-8"});var l=function(m){for(var d=m.length,h=new ArrayBuffer(d),u=new Uint8Array(h),C=0;C<d;C++)u[C]=m.charCodeAt(C);return h}(window.atob(p));return new window.Blob([l],{type:"image/"+c})},J.octetStream=function(p){document.location.href="data:application/octet-stream"+p},J.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,J.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":318}],323:[function(v,pe,J){"use strict";var s=v("./helpers"),g={getDelay:s.getDelay,getRedrawFunc:s.getRedrawFunc,clone:v("./cloneplot"),toSVG:v("./tosvg"),svgToImg:v("./svgtoimg"),toImage:v("./toimage"),downloadImage:v("./download")};pe.exports=g},{"./cloneplot":319,"./download":320,"./helpers":322,"./svgtoimg":324,"./toimage":325,"./tosvg":326}],324:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("events").EventEmitter,p=v("./helpers");pe.exports=function(c){var l=c.emitter||new g,m=new Promise(function(d,h){var u=window.Image,C=c.svg,b=c.format||"png";if(s.isIE()&&"svg"!==b){var M=new Error(p.MSG_IE_BAD_FORMAT);return h(M),c.promise?m:l.emit("error",M)}var w,N,A=c.canvas,V=c.scale||1,I=V*(c.width||300),D=V*(c.height||150),E=A.getContext("2d",{willReadFrequently:!0}),P=new u;"svg"===b||s.isSafari()?N=p.encodeSVG(C):(w=p.createBlob(C,"svg"),N=p.createObjectURL(w)),A.width=I,A.height=D,P.onload=function(){var S;switch(w=null,p.revokeObjectURL(N),"svg"!==b&&E.drawImage(P,0,0,I,D),b){case"jpeg":S=A.toDataURL("image/jpeg");break;case"png":S=A.toDataURL("image/png");break;case"webp":S=A.toDataURL("image/webp");break;case"svg":S=N;break;default:var R="Image format is not jpeg, png, svg or webp.";if(h(new Error(R)),!c.promise)return l.emit("error",R)}d(S),c.promise||l.emit("success",S)},P.onerror=function(S){if(w=null,p.revokeObjectURL(N),h(S),!c.promise)return l.emit("error",S)},P.src=N});return c.promise?m:l}},{"../lib":232,"./helpers":322,events:12}],325:[function(v,pe,J){"use strict";var s=v("events").EventEmitter,g=v("../registry"),p=v("../lib"),c=v("./helpers"),l=v("./cloneplot"),m=v("./tosvg"),d=v("./svgtoimg");pe.exports=function(h,u){var C=new s,b=l(h,{format:"png"}),M=b.gd;M.style.position="absolute",M.style.left="-5000px",document.body.appendChild(M);var w=c.getRedrawFunc(M);return g.call("_doPlot",M,b.data,b.layout,b.config).then(w).then(function(){var N=c.getDelay(M._fullLayout);setTimeout(function(){var A=m(M),V=document.createElement("canvas");V.id=p.randstr(),(C=d({format:u.format,width:M._fullLayout.width,height:M._fullLayout.height,canvas:V,emitter:C,svg:A})).clean=function(){M&&document.body.removeChild(M)}},N)}).catch(function(N){C.emit("error",N)}),C}},{"../lib":232,"../registry":318,"./cloneplot":319,"./helpers":322,"./svgtoimg":324,"./tosvg":326,events:12}],326:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../lib"),p=v("../components/drawing"),c=v("../components/color"),l=v("../constants/xmlns_namespaces"),m=/"/g,d=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");pe.exports=function(h,u,C){var b,M=h._fullLayout,w=M._paper,N=M._toppaper,A=M.width,V=M.height;w.insert("rect",":first-child").call(p.setRect,0,0,A,V).call(c.fill,M.paper_bgcolor);var L=M._basePlotModules||[];for(b=0;b<L.length;b++){var H=L[b];H.toSVG&&H.toSVG(h)}if(N){var I=N.node().childNodes,D=Array.prototype.slice.call(I);for(b=0;b<D.length;b++){var E=D[b];E.childNodes.length&&w.node().appendChild(E)}}M._draggers&&M._draggers.remove(),w.node().style.background="",w.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var S=s.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){S.style({visibility:null,display:null});var R=this.style.fontFamily;R&&-1!==R.indexOf('"')&&S.style("font-family",R.replace(m,"TOBESTRIPPED"))}else S.remove()}),w.selectAll(".gradient_filled,.pattern_filled").each(function(){var S=s.select(this),R=this.style.fill;R&&-1!==R.indexOf("url(")&&S.style("fill",R.replace(m,"TOBESTRIPPED"));var G=this.style.stroke;G&&-1!==G.indexOf("url(")&&S.style("stroke",G.replace(m,"TOBESTRIPPED"))}),"pdf"!==u&&"eps"!==u||w.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),w.node().setAttributeNS(l.xmlns,"xmlns",l.svg),w.node().setAttributeNS(l.xmlns,"xmlns:xlink",l.xlink),"svg"===u&&C&&(w.attr("width",C*A),w.attr("height",C*V),w.attr("viewBox","0 0 "+A+" "+V));var S,R,G,P=(new window.XMLSerializer).serializeToString(w.node());return S=P,R=s.select("body").append("div").style({display:"none"}).html(""),G=S.replace(/(&[^;]*;)/gi,function(z){return"&lt;"===z?"&#60;":"&rt;"===z?"&#62;":-1!==z.indexOf("<")||-1!==z.indexOf(">")?"":R.html(z).text()}),R.remove(),P=(P=(P=G).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(d,"'"),g.isIE()&&(P=(P=(P=P.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),P}},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],327:[function(v,pe,J){"use strict";var s=v("../../lib");pe.exports=function(g,p){for(var c=0;c<g.length;c++)g[c].i=c;s.mergeArray(p.text,g,"tx"),s.mergeArray(p.hovertext,g,"htx");var l=p.marker;if(l){s.mergeArray(l.opacity,g,"mo",!0),s.mergeArray(l.color,g,"mc");var m=l.line;m&&(s.mergeArray(m.color,g,"mlc"),s.mergeArrayCastPositive(m.width,g,"mlw"))}}},{"../../lib":232}],328:[function(v,pe,J){"use strict";var s=v("../scatter/attributes"),g=v("../../plots/cartesian/axis_format_attributes").axisHoverFormat,p=v("../../plots/template_attributes").hovertemplateAttrs,c=v("../../plots/template_attributes").texttemplateAttrs,l=v("../../components/colorscale/attributes"),m=v("../../plots/font_attributes"),d=v("./constants"),h=v("../../components/drawing/attributes").pattern,u=v("../../lib/extend").extendFlat,C=m({editType:"calc",arrayOk:!0,colorEditType:"style"}),b=u({},s.marker.line.width,{dflt:0}),M=u({width:b,editType:"calc"},l("marker.line")),w=u({line:M,editType:"calc"},l("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:h});pe.exports={x:s.x,x0:s.x0,dx:s.dx,y:s.y,y0:s.y0,dy:s.dy,xperiod:s.xperiod,yperiod:s.yperiod,xperiod0:s.xperiod0,yperiod0:s.yperiod0,xperiodalignment:s.xperiodalignment,yperiodalignment:s.yperiodalignment,xhoverformat:g("x"),yhoverformat:g("y"),text:s.text,texttemplate:c({editType:"plot"},{keys:d.eventDataKeys}),hovertext:s.hovertext,hovertemplate:p({},{keys:d.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:u({},C,{}),insidetextfont:u({},C,{}),outsidetextfont:u({},C,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:u({},s.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:w,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:s.selected.marker.opacity,color:s.selected.marker.color,editType:"style"},textfont:s.selected.textfont,editType:"style"},unselected:{marker:{opacity:s.unselected.marker.opacity,color:s.unselected.marker.color,editType:"style"},textfont:s.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorscale/attributes":109,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":310,"../../plots/template_attributes":317,"../scatter/attributes":358,"./constants":330}],329:[function(v,pe,J){"use strict";var s=v("../../plots/cartesian/axes"),g=v("../../plots/cartesian/align_period"),p=v("../../components/colorscale/helpers").hasColorscale,c=v("../../components/colorscale/calc"),l=v("./arrays_to_calcdata"),m=v("../scatter/calc_selection");pe.exports=function(d,h){var u,C,b,M,w,N,A=s.getFromId(d,h.xaxis||"x"),V=s.getFromId(d,h.yaxis||"y"),L={msUTC:!(!h.base&&0!==h.base)};"h"===h.orientation?(u=A.makeCalcdata(h,"x",L),b=V.makeCalcdata(h,"y"),M=g(h,V,"y",b),w=!!h.yperiodalignment,N="y"):(u=V.makeCalcdata(h,"y",L),b=A.makeCalcdata(h,"x"),M=g(h,A,"x",b),w=!!h.xperiodalignment,N="x"),C=M.vals;for(var H=Math.min(C.length,u.length),I=new Array(H),D=0;D<H;D++)I[D]={p:C[D],s:u[D]},w&&(I[D].orig_p=b[D],I[D][N+"End"]=M.ends[D],I[D][N+"Start"]=M.starts[D]),h.ids&&(I[D].id=String(h.ids[D]));return p(h,"marker")&&c(d,h,{vals:h.marker.color,containerStr:"marker",cLetter:"c"}),p(h,"marker.line")&&c(d,h,{vals:h.marker.line.color,containerStr:"marker.line",cLetter:"c"}),l(I,h),m(I,h),I}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"../scatter/calc_selection":360,"./arrays_to_calcdata":327}],330:[function(v,pe,J){"use strict";pe.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},{}],331:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib").isArrayOrTypedArray,p=v("../../constants/numerical").BADNUM,c=v("../../registry"),l=v("../../plots/cartesian/axes"),m=v("../../plots/cartesian/constraints").getAxisGroup,d=v("./sieve.js");function h(H,I,D,E,P){if(E.length){var S,R,G,z;switch(function(X,W){var Z,ne;for(Z=0;Z<W.length;Z++){var te,oe=W[Z],Ce=oe[0].trace,ie="funnel"===Ce.type?Ce._base:Ce.base,Q="h"===Ce.orientation?Ce.xcalendar:Ce.ycalendar,le="category"===X.type||"multicategory"===X.type?function(){return null}:X.d2c;if(g(ie)){for(ne=0;ne<Math.min(ie.length,oe.length);ne++)te=le(ie[ne],0,Q),s(te)?(oe[ne].b=+te,oe[ne].hasB=1):oe[ne].b=0;for(;ne<oe.length;ne++)oe[ne].b=0}else{te=le(ie,0,Q);var j=s(te);for(te=j?te:0,ne=0;ne<oe.length;ne++)oe[ne].b=te,j&&(oe[ne].hasB=1)}}}(D,E),P.mode){case"overlay":u(I,D,E,P);break;case"group":for(S=[],R=[],G=0;G<E.length;G++)void 0===(z=E[G])[0].trace.offset?R.push(z):S.push(z);R.length&&(X=H,Z=D,oe=new d(R,{posAxis:W=I,sepNegVal:!1,overlapNoMerge:!(te=P).norm}),function(Ce,ie,Q,le){for(var j=Ce._fullLayout,ee=Q.minDiff,F=Q.traces,O=F.length,Y=Q.positions.length!==Q.distinctPositions.length,B=ee*(1-le.gap),ae=m(j,ie._id)+F[0][0].trace.orientation,ue=j._alignmentOpts[ae]||{},fe=0;fe<O;fe++){var he,xe,be=F[fe],Ve=be[0].trace,Oe=Object.keys((ue[Ve.alignmentgroup]||{}).offsetGroups||{}).length,Re=(he=Oe?B/Oe:Y?B/O:B)*(1-(le.groupgap||0));xe=Oe?((2*Ve._offsetIndex+1-Oe)*he-Re)/2:Y?((2*fe+1-O)*he-Re)/2:-Re/2;var tt=be[0].t;tt.barwidth=Re,tt.poffset=xe,tt.bargroupwidth=B,tt.bardelta=ee}Q.binWidth=F[0][0].t.barwidth/100,b(Q),M(ie,Q),w(ie,Q,Y)}(X,W,oe,te),function(Ce,ie){for(var Q=Ce.traces,le=0;le<Q.length;le++){var j=Q[le];if(void 0===j[0].trace.base)for(var $=new d([j],{posAxis:ie,sepNegVal:!0,overlapNoMerge:!0}),se=0;se<j.length;se++){var ee=j[se];if(ee.p!==p){var F=$.put(ee.p,ee.b+ee.s);F&&(ee.b=F)}}}}(oe,W),te.norm?(A(oe),V(Z,oe,te)):N(Z,oe)),S.length&&u(I,D,S,P);break;case"stack":case"relative":for(S=[],R=[],G=0;G<E.length;G++)void 0===(z=E[G])[0].trace.base?R.push(z):S.push(z);R.length&&function(X,W,Z,ne,te){var oe=new d(ne,{posAxis:W,sepNegVal:"relative"===te.mode,overlapNoMerge:!(te.norm||"stack"===te.mode||"relative"===te.mode)});C(W,oe,te),function(j,$,se){var ee,F,O,Y,B,ae,ue=L(j),fe=$.traces;for(Y=0;Y<fe.length;Y++)if("funnel"===(F=(ee=fe[Y])[0].trace).type)for(B=0;B<ee.length;B++)(ae=ee[B]).s!==p&&$.put(ae.p,-.5*ae.s);for(Y=0;Y<fe.length;Y++){O="funnel"===(F=(ee=fe[Y])[0].trace).type;var he=[];for(B=0;B<ee.length;B++)if((ae=ee[B]).s!==p){var xe,be=$.put(ae.p,xe=O?ae.s:ae.s+ae.b),Ve=be+xe;ae.b=be,ae[ue]=Ve,se.norm||(he.push(Ve),ae.hasB&&he.push(be))}se.norm||(F._extremes[j._id]=l.findExtremes(j,he,{tozero:!0,padded:!0}))}}(Z,oe,te);for(var Ce=0;Ce<ne.length;Ce++)for(var ie=ne[Ce],Q=0;Q<ie.length;Q++){var le=ie[Q];le.s!==p&&le.b+le.s===oe.get(le.p,le.s)&&(le._outmost=!0)}te.norm&&V(Z,oe,te)}(0,I,D,R,P),S.length&&u(I,D,S,P)}!function(X,W){var Z,ne,te,oe=L(W),Ce={},ie=1/0,Q=-1/0;for(Z=0;Z<X.length;Z++)for(te=X[Z],ne=0;ne<te.length;ne++){var le=te[ne].p;s(le)&&(ie=Math.min(ie,le),Q=Math.max(Q,le))}var j=1e4/(Q-ie),$=Ce.round=function(ae){return String(Math.round(j*(ae-ie)))};for(Z=0;Z<X.length;Z++){(te=X[Z])[0].t.extents=Ce;var se=te[0].t.poffset,ee=Array.isArray(se);for(ne=0;ne<te.length;ne++){var F=te[ne],O=F[oe]-F.w/2;if(s(O)){var Y=F[oe]+F.w/2,B=$(F.p);Ce[B]=Ce[B]?[Math.min(O,Ce[B][0]),Math.max(Y,Ce[B][1])]:[O,Y]}F.p0=F.p+(ee?se[ne]:se),F.p1=F.p0+F.w,F.s0=F.b,F.s1=F.s0+F.s}}}(E,I)}var X,W,Z,te,oe}function u(H,I,D,E){for(var P=0;P<D.length;P++){var R=new d([D[P]],{posAxis:H,sepNegVal:!1,overlapNoMerge:!E.norm});C(H,R,E),E.norm?(A(R),V(I,R,E)):N(I,R)}}function C(H,I,D){for(var E=I.minDiff,P=I.traces,S=E*(1-D.gap),R=S*(1-(D.groupgap||0)),G=-R/2,z=0;z<P.length;z++){var X=P[z][0].t;X.barwidth=R,X.poffset=G,X.bargroupwidth=S,X.bardelta=E}I.binWidth=P[0][0].t.barwidth/100,b(I),M(H,I),w(H,I)}function b(H){var I,D,E=H.traces;for(I=0;I<E.length;I++){var P,S=E[I],R=S[0],G=R.trace,z=R.t,X=G._offset||G.offset,W=z.poffset;if(g(X)){for(P=Array.prototype.slice.call(X,0,S.length),D=0;D<P.length;D++)s(P[D])||(P[D]=W);for(D=P.length;D<S.length;D++)P.push(W);z.poffset=P}else void 0!==X&&(z.poffset=X);var Z=G._width||G.width,ne=z.barwidth;if(g(Z)){var te=Array.prototype.slice.call(Z,0,S.length);for(D=0;D<te.length;D++)s(te[D])||(te[D]=ne);for(D=te.length;D<S.length;D++)te.push(ne);if(z.barwidth=te,void 0===X){for(P=[],D=0;D<S.length;D++)P.push(W+(ne-te[D])/2);z.poffset=P}}else void 0!==Z&&(z.barwidth=Z,void 0===X&&(z.poffset=W+(ne-Z)/2))}}function M(H,I){for(var D=I.traces,E=L(H),P=0;P<D.length;P++)for(var S=D[P],R=S[0].t,G=R.poffset,z=Array.isArray(G),X=R.barwidth,W=Array.isArray(X),Z=0;Z<S.length;Z++){var ne=S[Z],te=ne.w=W?X[Z]:X;ne[E]=ne.p+(z?G[Z]:G)+te/2}}function w(H,I,D){var E=I.traces,P=I.minDiff/2;l.minDtick(H,I.minDiff,I.distinctPositions[0],D);for(var S=0;S<E.length;S++){var R,G,z,X,W=E[S],Z=W[0],ne=Z.trace,te=[];for(X=0;X<W.length;X++)G=(R=W[X]).p-P,te.push(G,z=R.p+P);if(ne.width||ne.offset){var oe=Z.t,Ce=oe.poffset,ie=oe.barwidth,Q=Array.isArray(Ce),le=Array.isArray(ie);for(X=0;X<W.length;X++)z=(G=(R=W[X]).p+(Q?Ce[X]:Ce))+(le?ie[X]:ie),te.push(G,z)}ne._extremes[H._id]=l.findExtremes(H,te,{padded:!1})}}function N(H,I){for(var D=I.traces,E=L(H),P=0;P<D.length;P++){for(var S=D[P],R=S[0].trace,G=[],z=!1,X=0;X<S.length;X++){var W=S[X],Z=W.b,ne=Z+W.s;W[E]=ne,G.push(ne),W.hasB&&G.push(Z),W.hasB&&W.b||(z=!0)}R._extremes[H._id]=l.findExtremes(H,G,{tozero:z,padded:!0})}}function A(H){for(var I=H.traces,D=0;D<I.length;D++)for(var E=I[D],P=0;P<E.length;P++){var S=E[P];S.s!==p&&H.put(S.p,S.b+S.s)}}function V(H,I,D){var E=I.traces,P=L(H),S="fraction"===D.norm?1:100,R=S/1e9,G=H.l2c(H.c2l(0)),z="stack"===D.mode?S:G;function X(se){return s(H.c2l(se))&&(se<G-R||se>z+R||!s(G))}for(var W=0;W<E.length;W++){for(var Z=E[W],ne=Z[0].trace,te=[],oe=!1,Ce=!1,ie=0;ie<Z.length;ie++){var Q=Z[ie];if(Q.s!==p){var le=Math.abs(S/I.get(Q.p,Q.s));Q.b*=le,Q.s*=le;var j=Q.b,$=j+Q.s;Q[P]=$,te.push($),Ce=Ce||X($),Q.hasB&&(te.push(j),Ce=Ce||X(j)),Q.hasB&&Q.b||(oe=!0)}}ne._extremes[H._id]=l.findExtremes(H,te,{tozero:oe,padded:Ce})}}function L(H){return H._id.charAt(0)}pe.exports={crossTraceCalc:function(H,I){for(var D=I.xaxis,E=I.yaxis,P=H._fullLayout,S=H._fullData,R=H.calcdata,G=[],z=[],X=0;X<S.length;X++){var W=S[X];if(!0===W.visible&&c.traceIs(W,"bar")&&W.xaxis===D._id&&W.yaxis===E._id&&("h"===W.orientation?G.push(R[X]):z.push(R[X]),W._computePh))for(var Z=H.calcdata[X],ne=0;ne<Z.length;ne++)"function"==typeof Z[ne].ph0&&(Z[ne].ph0=Z[ne].ph0()),"function"==typeof Z[ne].ph1&&(Z[ne].ph1=Z[ne].ph1())}var te={xCat:"category"===D.type||"multicategory"===D.type,yCat:"category"===E.type||"multicategory"===E.type,mode:P.barmode,norm:P.barnorm,gap:P.bargap,groupgap:P.bargroupgap};h(H,D,E,z,te),h(H,E,D,G,te)},setGroupPositions:h}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../plots/cartesian/constraints":287,"../../registry":318,"./sieve.js":341,"fast-isnumeric":17}],332:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../components/color"),p=v("../../registry"),c=v("../scatter/xy_defaults"),l=v("../scatter/period_defaults"),m=v("./style_defaults"),d=v("../../plots/cartesian/constraints").getAxisGroup,h=v("./attributes"),u=s.coerceFont;function C(M,w,N,A){var V=w.orientation,H=d(N,w[{v:"x",h:"y"}[V]+"axis"])+V,I=N._alignmentOpts||{},D=A("alignmentgroup"),E=I[H];E||(E=I[H]={});var P=E[D];P?P.traces.push(w):P=E[D]={traces:[w],alignmentIndex:Object.keys(E).length,offsetGroups:{}};var S=A("offsetgroup"),R=P.offsetGroups,G=R[S];S&&(G||(G=R[S]={offsetIndex:Object.keys(R).length}),w._offsetIndex=G.offsetIndex)}function b(M,w,N,A,V,L){var H=!1!==(L=L||{}).moduleHasSelected,I=!1!==L.moduleHasUnselected,D=!1!==L.moduleHasConstrain,E=!1!==L.moduleHasCliponaxis,P=!1!==L.moduleHasTextangle,S=!1!==L.moduleHasInsideanchor,R=!!L.hasPathbar,G=Array.isArray(V)||"auto"===V,z=G||"inside"===V,X=G||"outside"===V;if(z||X){var W=u(A,"textfont",N.font),Z=s.extendFlat({},W),ne=!(M.textfont&&M.textfont.color);if(ne&&delete Z.color,u(A,"insidetextfont",Z),R){var te=s.extendFlat({},W);ne&&delete te.color,u(A,"pathbar.textfont",te)}X&&u(A,"outsidetextfont",W),H&&A("selected.textfont.color"),I&&A("unselected.textfont.color"),D&&A("constraintext"),E&&A("cliponaxis"),P&&A("textangle"),A("texttemplate")}z&&S&&A("insidetextanchor")}pe.exports={supplyDefaults:function(M,w,N,A){function V(D,E){return s.coerce(M,w,h,D,E)}if(c(M,w,A,V)){l(M,w,A,V),V("xhoverformat"),V("yhoverformat"),V("orientation",w.x&&!w.y?"h":"v"),V("base"),V("offset"),V("width"),V("text"),V("hovertext"),V("hovertemplate");var L=V("textposition");b(M,0,A,V,L,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),m(M,w,V,N,A);var H=(w.marker.line||{}).color,I=p.getComponentMethod("errorbars","supplyDefaults");I(M,w,H||g.defaultLine,{axis:"y"}),I(M,w,H||g.defaultLine,{axis:"x",inherit:"y"}),s.coerceSelectionMarkerOpacity(w,V)}else w.visible=!1},crossTraceDefaults:function(M,w){var N;function A(L){return s.coerce(N._input,N,h,L)}if("group"===w.barmode)for(var V=0;V<M.length;V++)"bar"===(N=M[V]).type&&C(0,N,w,A)},handleGroupingDefaults:C,handleText:b}},{"../../components/color":102,"../../lib":232,"../../plots/cartesian/constraints":287,"../../registry":318,"../scatter/period_defaults":378,"../scatter/xy_defaults":385,"./attributes":328,"./style_defaults":343}],333:[function(v,pe,J){"use strict";pe.exports=function(s,g,p){return s.x="xVal"in g?g.xVal:g.x,s.y="yVal"in g?g.yVal:g.y,g.xa&&(s.xaxis=g.xa),g.ya&&(s.yaxis=g.ya),"h"===p.orientation?(s.label=s.y,s.value=s.x):(s.label=s.x,s.value=s.y),s}},{}],334:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("tinycolor2"),p=v("../../lib").isArrayOrTypedArray;J.coerceString=function(c,l,m){if("string"==typeof l){if(l||!c.noBlank)return l}else if(("number"==typeof l||!0===l)&&!c.strict)return String(l);return void 0!==m?m:c.dflt},J.coerceNumber=function(c,l,m){if(s(l)){l=+l;var d=c.min,h=c.max;if(!(void 0!==d&&l<d||void 0!==h&&l>h))return l}return void 0!==m?m:c.dflt},J.coerceColor=function(c,l,m){return g(l).isValid()?l:void 0!==m?m:c.dflt},J.coerceEnumerated=function(c,l,m){return c.coerceNumber&&(l=+l),-1!==c.values.indexOf(l)?l:void 0!==m?m:c.dflt},J.getValue=function(c,l){var m;return Array.isArray(c)?l<c.length&&(m=c[l]):m=c,m},J.getLineWidth=function(c,l){return 0<l.mlw?l.mlw:p(c.marker.line.width)?0:c.marker.line.width}},{"../../lib":232,"fast-isnumeric":17,tinycolor2:67}],335:[function(v,pe,J){"use strict";var s=v("../../components/fx"),g=v("../../registry"),p=v("../../components/color"),c=v("../../lib").fillText,l=v("./helpers").getLineWidth,m=v("../../plots/cartesian/axes").hoverLabelText,d=v("../../constants/numerical").BADNUM;function h(C,b,M,w,N){var A,V,L,H,I,D,E,P=C.cd,S=P[0].trace,R=P[0].t,G="closest"===w,z="waterfall"===S.type,X=C.maxHoverDistance,W=C.maxSpikeDistance;"h"===S.orientation?(A=M,V=b,L="y",H="x",I=ee,D=$):(A=b,V=M,L="x",H="y",D=ee,I=$);var Z=S[L+"period"],ne=G||Z;function te(he){return Ce(he,-1)}function oe(he){return Ce(he,1)}function Ce(he,xe){return he[L]+xe*he.w/2}function ie(he){return he[L+"End"]-he[L+"Start"]}var Q=G?te:Z?function(he){return he.p-ie(he)/2}:function(he){return Math.min(te(he),he.p-R.bardelta/2)},le=G?oe:Z?function(he){return he.p+ie(he)/2}:function(he){return Math.max(oe(he),he.p+R.bardelta/2)};function j(he,xe,be){return N.finiteRange&&(be=0),s.inbox(he-A,xe-A,be+Math.min(1,Math.abs(xe-he)/E)-1)}function $(he){return j(Q(he),le(he),X)}function se(he){var xe=he[H];if(z){var be=Math.abs(he.rawS)||0;V>0?xe+=be:V<0&&(xe-=be)}return xe}function ee(he){var xe=V,be=he.b,Ve=se(he);return s.inbox(be-xe,Ve-xe,X+(Ve-xe)/(Ve-be)-1)}var F=C[L+"a"],O=C[H+"a"];E=Math.abs(F.r2c(F.range[1])-F.r2c(F.range[0]));var he,xe,be,Ve,Y=s.getDistanceFunction(w,I,D,function(he){return(I(he)+D(he))/2});if(s.getClosest(P,Y,C),!1!==C.index&&P[C.index].p!==d){ne||(Q=function(he){return Math.min(te(he),he.p-R.bargroupwidth/2)},le=function(he){return Math.max(oe(he),he.p+R.bargroupwidth/2)});var B=P[C.index],ae=S.base?B.b+B.s:B.s;C[H+"0"]=C[H+"1"]=O.c2p(B[H],!0),C[H+"LabelVal"]=ae;var ue=R.extents[R.extents.round(B.p)];return C[L+"0"]=F.c2p(G?Q(B):ue[0],!0),C[L+"1"]=F.c2p(G?le(B):ue[1],!0),C[L+"LabelVal"]=void 0!==B.orig_p?B.orig_p:B.p,C.labelLabel=m(F,C[L+"LabelVal"],S[L+"hoverformat"]),C.valueLabel=m(O,C[H+"LabelVal"],S[H+"hoverformat"]),C.baseLabel=m(O,B.b,S[H+"hoverformat"]),C.spikeDistance=(xe=V,be=(he=B).b,Ve=se(he),(s.inbox(be-xe,Ve-xe,W+(Ve-xe)/(Ve-be)-1)+function(he){return j(te(he),oe(he),W)}(B))/2),C[L+"Spike"]=F.c2p(B.p,!0),c(B,S,C),C.hovertemplate=S.hovertemplate,C}}function u(C,b){var M=b.mcc||C.marker.color,w=b.mlcc||C.marker.line.color,N=l(C,b);return p.opacity(M)?M:p.opacity(w)&&N?w:void 0}pe.exports={hoverPoints:function(C,b,M,w,N){var A=h(C,b,M,w,N);if(A){var V=A.cd,L=V[0].trace,H=V[A.index];return A.color=u(L,H),g.getComponentMethod("errorbars","hoverInfo")(H,L,A),[A]}},hoverOnBars:h,getTraceColor:u}},{"../../components/color":102,"../../components/fx":142,"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./helpers":334}],336:[function(v,pe,J){"use strict";pe.exports={attributes:v("./attributes"),layoutAttributes:v("./layout_attributes"),supplyDefaults:v("./defaults").supplyDefaults,crossTraceDefaults:v("./defaults").crossTraceDefaults,supplyLayoutDefaults:v("./layout_defaults"),calc:v("./calc"),crossTraceCalc:v("./cross_trace_calc").crossTraceCalc,colorbar:v("../scatter/marker_colorbar"),arraysToCalcdata:v("./arrays_to_calcdata"),plot:v("./plot").plot,style:v("./style").style,styleOnSelect:v("./style").styleOnSelect,hoverPoints:v("./hover").hoverPoints,eventData:v("./event_data"),selectPoints:v("./select"),moduleType:"trace",name:"bar",basePlotModule:v("../../plots/cartesian"),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},{"../../plots/cartesian":293,"../scatter/marker_colorbar":376,"./arrays_to_calcdata":327,"./attributes":328,"./calc":329,"./cross_trace_calc":331,"./defaults":332,"./event_data":333,"./hover":335,"./layout_attributes":337,"./layout_defaults":338,"./plot":339,"./select":340,"./style":342}],337:[function(v,pe,J){"use strict";pe.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],338:[function(v,pe,J){"use strict";var s=v("../../registry"),g=v("../../plots/cartesian/axes"),p=v("../../lib"),c=v("./layout_attributes");pe.exports=function(l,m,d){function h(L,H){return p.coerce(l,m,c,L,H)}for(var u=!1,C=!1,b=!1,M={},w=h("barmode"),N=0;N<d.length;N++){var A=d[N];if(s.traceIs(A,"bar")&&A.visible){if(u=!0,"group"===w){var V=A.xaxis+A.yaxis;M[V]&&(b=!0),M[V]=!0}A.visible&&"histogram"===A.type&&"category"!==g.getFromId({_fullLayout:m},A["v"===A.orientation?"xaxis":"yaxis"]).type&&(C=!0)}}u?("overlay"!==w&&h("barnorm"),h("bargap",C&&!b?0:.2),h("bargroupgap")):delete m.barmode}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./layout_attributes":337}],339:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("fast-isnumeric"),p=v("../../lib"),c=v("../../lib/svg_text_utils"),l=v("../../components/color"),m=v("../../components/drawing"),d=v("../../registry"),h=v("../../plots/cartesian/axes").tickText,u=v("./uniform_text"),C=u.recordMinTextSize,b=u.clearMinTextSize,M=v("./style"),w=v("./helpers"),N=v("./constants"),A=v("./attributes"),V=A.text,L=A.textposition,H=v("../../components/fx/helpers").appendArrayPointValue,I=N.TEXTPAD;function D(W){return W.id}function P(W,Z){return W<Z?1:-1}function S(W,Z,ne,te){var oe;return!Z.uniformtext.mode&&R(ne)?(te&&(oe=te()),W.transition().duration(ne.duration).ease(ne.easing).each("end",function(){oe&&oe()}).each("interrupt",function(){oe&&oe()})):W}function R(W){return W&&W.duration>0}function G(W){return"auto"===W?0:W}function z(W,Z){var ne=Math.PI/180*Z,te=Math.abs(Math.sin(ne)),oe=Math.abs(Math.cos(ne));return{x:W.width*oe+W.height*te,y:W.width*te+W.height*oe}}function X(W,Z,ne,te,oe,Ce){var ie=!!Ce.isHorizontal,Q=!!Ce.constrained,le=Ce.angle||0,j=Ce.anchor||"end",$="end"===j,se="start"===j,ee=((Ce.leftToRight||0)+1)/2,F=1-ee,O=oe.width,Y=oe.height,B=Math.abs(Z-W),ae=Math.abs(te-ne),ue=B>2*I&&ae>2*I?I:0;B-=2*ue,ae-=2*ue;var fe=G(le);"auto"!==le||O<=B&&Y<=ae||!(O>B||Y>ae)||(O>ae||Y>B)&&O<Y==B<ae||(fe+=90);var he=z(oe,fe),xe=1;Q&&(xe=Math.min(1,B/he.x,ae/he.y));var be=oe.left*F+oe.right*ee,Ve=(oe.top+oe.bottom)/2,Ae=(W+I)*F+(Z-I)*ee,Oe=(ne+te)/2,Re=0,tt=0;if(se||$){var Ke=(ie?he.x:he.y)/2,$e=ie?P(W,Z):P(ne,te);ie?se?(Ae=W+$e*ue,Re=-$e*Ke):(Ae=Z-$e*ue,Re=$e*Ke):se?(Oe=ne+$e*ue,tt=-$e*Ke):(Oe=te-$e*ue,tt=$e*Ke)}return{textX:be,textY:Ve,targetX:Ae,targetY:Oe,anchorX:Re,anchorY:tt,scale:xe,rotate:fe}}pe.exports={plot:function(W,Z,ne,te,oe,Ce){var ie=Z.xaxis,Q=Z.yaxis,le=W._fullLayout;oe||(oe={mode:le.barmode,norm:le.barmode,gap:le.bargap,groupgap:le.bargroupgap},b("bar",le));var j=p.makeTraceGroups(te,ne,"trace bars").each(function($){var se=s.select(this),ee=$[0].trace,Y="bar"===ee.type||"funnel"===ee.type,B=0;"waterfall"===ee.type&&ee.connector.visible&&"between"===ee.connector.mode&&(B=ee.connector.line.width/2);var ae="h"===ee.orientation,ue=R(oe),fe=p.ensureSingle(se,"g","points"),he=function E(W){if(W.ids)return D}(ee),xe=fe.selectAll("g.point").data(p.identity,he);xe.enter().append("g").classed("point",!0),xe.exit().remove(),xe.each(function(Ve,Ae){var Oe,Re,Ye,rt,dt,Xe,mt,_t,yt,Ot,tt=s.select(this),Ke=(rt=ie,dt=Q,_t=[],Ot=(Xe=ae)?dt:rt,(mt=[])[0]=(yt=Xe?rt:dt).c2p((Ye=Ve).s0,!0),_t[0]=Ot.c2p(Ye.p0,!0),mt[1]=yt.c2p(Ye.s1,!0),_t[1]=Ot.c2p(Ye.p1,!0),Xe?[mt,_t]:[_t,mt]),$e=Ke[0][0],Me=Ke[0][1],ve=Ke[1][0],Se=Ke[1][1],Te=0==(ae?Me-$e:Se-ve);if(Te&&Y&&w.getLineWidth(ee,Ve)&&(Te=!1),Te||(Te=!(g($e)&&g(Me)&&g(ve)&&g(Se))),Ve.isBlank=Te,Te&&(ae?Me=$e:Se=ve),B&&!Te&&(ae?($e-=P($e,Me)*B,Me+=P($e,Me)*B):(ve-=P(ve,Se)*B,Se+=P(ve,Se)*B)),"waterfall"===ee.type){if(!Te){var qe=ee[Ve.dir].marker;Oe=qe.line.width,Re=qe.color}}else Oe=w.getLineWidth(ee,Ve),Re=Ve.mc||ee.marker.color;function Ee(Ye){var rt=s.round(Oe/2%1,2);return 0===oe.gap&&0===oe.groupgap?s.round(Math.round(Ye)-rt,2):Ye}if(!W._context.staticPlot){var Ie=l.opacity(Re)<1||Oe>.01?Ee:function(Ye,rt,dt){return dt&&Ye===rt?Ye:Math.abs(Ye-rt)>=2?Ee(Ye):Ye>rt?Math.ceil(Ye):Math.floor(Ye)};$e=Ie($e,Me,ae),Me=Ie(Me,$e,ae),ve=Ie(ve,Se,!ae),Se=Ie(Se,ve,!ae)}var Qe=S(p.ensureSingle(tt,"path"),le,oe,Ce);if(Qe.style("vector-effect","non-scaling-stroke").attr("d",isNaN((Me-$e)*(Se-ve))||Te&&W._context.staticPlot?"M0,0Z":"M"+$e+","+ve+"V"+Se+"H"+Me+"V"+ve+"Z").call(m.setClipUrl,Z.layerClipId,W),!le.uniformtext.mode&&ue){var nt=m.makePointStyleFns(ee);m.singlePointStyle(Ve,Qe,ee,nt,W)}(function(Ye,rt,dt,Xe,mt,_t,yt,Ot,bt,Fe,Ue){var gt,Pt=rt.xaxis,Qt=rt.yaxis,en=Ye._fullLayout;function Xt(_n,wn,Ln){return p.ensureSingle(_n,"text").text(wn).attr({class:"bartext bartext-"+gt,"text-anchor":"middle","data-notex":1}).call(m.font,Ln).call(c.convertToTspans,Ye)}var wn,Ln,$n,Dn,Zt,It,Wt=Xe[0].trace,Nt="h"===Wt.orientation,ge=(Ln=mt,$n=Pt,Dn=Qt,Zt=(It=(wn=Xe)[0].trace).texttemplate?function(tn,pn,cn,Pn,Vn){var vn=pn[0].trace,n2=p.castOption(vn,cn,"texttemplate");if(!n2)return"";var h2,g2,u2,qt,Wn="histogram"===vn.type,Fn="waterfall"===vn.type,e2="funnel"===vn.type,En="h"===vn.orientation;function b2(mn){return h(qt,qt.c2l(mn),!0).text}En?(h2="y",g2=Vn,u2="x",qt=Pn):(h2="x",g2=Pn,u2="y",qt=Vn);var f2=pn[cn],In={};In.label=f2.p,In.labelLabel=In[h2+"Label"]=h(g2,g2.c2l(f2.p),!0).text;var x2=p.castOption(vn,f2.i,"text");(0===x2||x2)&&(In.text=x2),In.value=f2.s,In.valueLabel=In[u2+"Label"]=b2(f2.s);var Qn={};H(Qn,vn,f2.i),(Wn||void 0===Qn.x)&&(Qn.x=En?In.value:In.label),(Wn||void 0===Qn.y)&&(Qn.y=En?In.label:In.value),(Wn||void 0===Qn.xLabel)&&(Qn.xLabel=En?In.valueLabel:In.labelLabel),(Wn||void 0===Qn.yLabel)&&(Qn.yLabel=En?In.labelLabel:In.valueLabel),Fn&&(In.delta=+f2.rawS||f2.s,In.deltaLabel=b2(In.delta),In.final=f2.v,In.finalLabel=b2(In.final),In.initial=In.final-In.delta,In.initialLabel=b2(In.initial)),e2&&(In.value=f2.s,In.valueLabel=b2(In.value),In.percentInitial=f2.begR,In.percentInitialLabel=p.formatPercent(f2.begR),In.percentPrevious=f2.difR,In.percentPreviousLabel=p.formatPercent(f2.difR),In.percentTotal=f2.sumR,In.percenTotalLabel=p.formatPercent(f2.sumR));var Rn=p.castOption(vn,f2.i,"customdata");return Rn&&(In.customdata=Rn),p.texttemplateString(n2,In,tn._d3locale,Qn,In,vn._meta||{})}(en,wn,Ln,$n,Dn):It.textinfo?function(tn,pn,cn,Pn){var Vn=tn[0].trace,vn="h"===Vn.orientation,n2="waterfall"===Vn.type,h2="funnel"===Vn.type;function g2(Rn){return h(vn?cn:Pn,+Rn,!0).text}var u2,Wn=tn[pn],Fn=Vn.textinfo.split("+"),e2=[],En=function(Rn){return-1!==Fn.indexOf(Rn)};if(En("label")&&e2.push(h(vn?Pn:cn,tn[pn].p,!0).text),En("text")&&(0===(u2=p.castOption(Vn,Wn.i,"text"))||u2)&&e2.push(u2),n2){var f2=+Wn.rawS||Wn.s,In=Wn.v,d2=In-f2;En("initial")&&e2.push(g2(d2)),En("delta")&&e2.push(g2(f2)),En("final")&&e2.push(g2(In))}if(h2){En("value")&&e2.push(g2(Wn.s));var x2=0;En("percent initial")&&x2++,En("percent previous")&&x2++,En("percent total")&&x2++;var Qn=x2>1;En("percent initial")&&(u2=p.formatPercent(Wn.begR),Qn&&(u2+=" of initial"),e2.push(u2)),En("percent previous")&&(u2=p.formatPercent(Wn.difR),Qn&&(u2+=" of previous"),e2.push(u2)),En("percent total")&&(u2=p.formatPercent(Wn.sumR),Qn&&(u2+=" of total"),e2.push(u2))}return e2.join("<br>")}(wn,Ln,$n,Dn):w.getValue(It.text,Ln),w.coerceString(V,Zt));gt=function(_n,wn){var Ln=w.getValue(_n.textposition,wn);return w.coerceEnumerated(L,Ln)}(Wt,mt);var We=Xe[mt],Je=!("stack"===Fe.mode||"relative"===Fe.mode)||We._outmost;if(ge&&"none"!==gt&&(!We.isBlank&&_t!==yt&&Ot!==bt||"auto"!==gt&&"inside"!==gt)){var ft=en.font,st=M.getBarColor(Xe[mt],Wt),et=M.getInsideTextFont(Wt,mt,ft,st),ut=M.getOutsideTextFont(Wt,mt,ft),xt=dt.datum();Nt?"log"===Pt.type&&xt.s0<=0&&(_t=Pt.range[0]<Pt.range[1]?0:Pt._length):"log"===Qt.type&&xt.s0<=0&&(Ot=Qt.range[0]<Qt.range[1]?Qt._length:0);var kt,Bt,rn,Dt,$t,fn=Math.abs(yt-_t)-2*I,At=Math.abs(bt-Ot)-2*I;if("outside"===gt&&(Je||We.hasB||(gt="inside")),"auto"===gt&&(Je?(gt="inside",kt=Xt(dt,ge,$t=p.ensureUniformFontSize(Ye,et)),Dt=(Bt=m.bBox(kt.node())).height,(rn=Bt.width)>0&&Dt>0&&(rn<=fn&&Dt<=At||rn<=At&&Dt<=fn||(Nt?fn>=rn*(At/Dt):At>=Dt*(fn/rn)))?gt="inside":(gt="outside",kt.remove(),kt=null)):gt="inside"),!kt){var Ut=(kt=Xt(dt,ge,$t=p.ensureUniformFontSize(Ye,"outside"===gt?ut:et))).attr("transform");if(kt.attr("transform",""),rn=(Bt=m.bBox(kt.node())).width,Dt=Bt.height,kt.attr("transform",Ut),rn<=0||Dt<=0)return void kt.remove()}var Jt,Mn=Wt.textangle;Jt="outside"===gt?function(_n,wn,Ln,$n,Dn,Zt){var It,tn=!!Zt.isHorizontal,pn=!!Zt.constrained,cn=Zt.angle||0,Pn=Dn.width,Vn=Dn.height,vn=Math.abs(wn-_n),n2=Math.abs($n-Ln);It=tn?n2>2*I?I:0:vn>2*I?I:0;var h2=1;pn&&(h2=tn?Math.min(1,n2/Vn):Math.min(1,vn/Pn));var g2=G(cn),u2=z(Dn,g2),qt=(tn?u2.x:u2.y)/2,Wn=(Dn.left+Dn.right)/2,Fn=(Dn.top+Dn.bottom)/2,e2=(_n+wn)/2,En=(Ln+$n)/2,b2=0,f2=0,In=tn?P(wn,_n):P(Ln,$n);return tn?(e2=wn-In*It,b2=In*qt):(En=$n+In*It,f2=-In*qt),{textX:Wn,textY:Fn,targetX:e2,targetY:En,anchorX:b2,anchorY:f2,scale:h2,rotate:g2}}(_t,yt,Ot,bt,Bt,{isHorizontal:Nt,constrained:"both"===Wt.constraintext||"outside"===Wt.constraintext,angle:Mn}):X(_t,yt,Ot,bt,Bt,{isHorizontal:Nt,constrained:"both"===Wt.constraintext||"inside"===Wt.constraintext,angle:Mn,anchor:Wt.insidetextanchor}),Jt.fontSize=$t.size,C("histogram"===Wt.type?"bar":Wt.type,Jt,en),We.transform=Jt,S(kt,en,Fe,Ue).attr("transform",p.getTextTransform(Jt))}else dt.select("text").remove()})(W,Z,tt,$,Ae,$e,Me,ve,Se,oe,Ce),Z.layerClipId&&m.hideOutsideRangePoint(Ve,tt.select("text"),ie,Q,ee.xcalendar,ee.ycalendar)}),m.setClipUrl(se,!1===ee.cliponaxis?null:Z.layerClipId,W)});d.getComponentMethod("errorbars","plot")(W,j,Z,oe)},toMoveInsideBar:X}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx/helpers":138,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":318,"./attributes":328,"./constants":330,"./helpers":334,"./style":342,"./uniform_text":344,"@plotly/d3":11,"fast-isnumeric":17}],340:[function(v,pe,J){"use strict";function s(g,p,c,l,m){var d=p.c2p(l?g.s0:g.p0,!0),h=p.c2p(l?g.s1:g.p1,!0),u=c.c2p(l?g.p0:g.s0,!0),C=c.c2p(l?g.p1:g.s1,!0);return m?[(d+h)/2,(u+C)/2]:l?[h,(u+C)/2]:[(d+h)/2,C]}pe.exports=function(g,p){var c,l=g.cd,m=g.xaxis,d=g.yaxis,h=l[0].trace,u="funnel"===h.type,C="h"===h.orientation,b=[];if(!1===p)for(c=0;c<l.length;c++)l[c].selected=0;else for(c=0;c<l.length;c++){var M=l[c],w="ct"in M?M.ct:s(M,m,d,C,u);p.contains(w,!1,c,g)?(b.push({pointNumber:c,x:m.c2d(M.x),y:d.c2d(M.y)}),M.selected=1):M.selected=0}return b}},{}],341:[function(v,pe,J){"use strict";pe.exports=p;var s=v("../../lib").distinctVals,g=v("../../constants/numerical").BADNUM;function p(c,l){this.traces=c,this.sepNegVal=l.sepNegVal,this.overlapNoMerge=l.overlapNoMerge;for(var m=1/0,d=[],h=0;h<c.length;h++){for(var u=c[h],C=0;C<u.length;C++){var b=u[C];b.p!==g&&d.push(b.p)}u[0]&&u[0].width1&&(m=Math.min(u[0].width1,m))}this.positions=d;var M=s(d);this.distinctPositions=M.vals,this.minDiff=1===M.vals.length&&m!==1/0?m:Math.min(M.minDiff,m);var w=(l.posAxis||{}).type;"category"!==w&&"multicategory"!==w||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}p.prototype.put=function(c,l){var m=this.getLabel(c,l),d=this.bins[m]||0;return this.bins[m]=d+l,d},p.prototype.get=function(c,l){var m=this.getLabel(c,l);return this.bins[m]||0},p.prototype.getLabel=function(c,l){return(l<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?c:Math.round(c/this.binWidth))}},{"../../constants/numerical":212,"../../lib":232}],342:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../components/color"),p=v("../../components/drawing"),c=v("../../lib"),l=v("../../registry"),m=v("./uniform_text").resizeText,d=v("./attributes"),h=d.textfont,u=d.insidetextfont,C=d.outsidetextfont,b=v("./helpers");function M(D,E,P){p.pointStyle(D.selectAll("path"),E,P),w(D,E,P)}function w(D,E,P){D.selectAll("text").each(function(S){var R=s.select(this),G=c.ensureUniformFontSize(P,N(R,S,E,P));p.font(R,G)})}function N(D,E,P,S){var R=S._fullLayout.font,G=P.textfont;if(D.classed("bartext-inside")){var z=I(E,P);G=V(P,E.i,R,z)}else D.classed("bartext-outside")&&(G=L(P,E.i,R));return G}function A(D,E,P){return H(h,D.textfont,E,P)}function V(D,E,P,S){var R=A(D,E,P);return(void 0===D._input.textfont||void 0===D._input.textfont.color||Array.isArray(D.textfont.color)&&void 0===D.textfont.color[E])&&(R={color:g.contrast(S),family:R.family,size:R.size}),H(u,D.insidetextfont,E,R)}function L(D,E,P){var S=A(D,E,P);return H(C,D.outsidetextfont,E,S)}function H(D,E,P,S){var R=b.getValue((E=E||{}).family,P),G=b.getValue(E.size,P),z=b.getValue(E.color,P);return{family:b.coerceString(D.family,R,S.family),size:b.coerceNumber(D.size,G,S.size),color:b.coerceColor(D.color,z,S.color)}}function I(D,E){return"waterfall"===E.type?E[D.dir].marker.color:D.mcc||D.mc||E.marker.color}pe.exports={style:function(D){var E=s.select(D).selectAll("g.barlayer").selectAll("g.trace");m(D,E,"bar");var P=E.size(),S=D._fullLayout;E.style("opacity",function(R){return R[0].trace.opacity}).each(function(R){("stack"===S.barmode&&P>1||0===S.bargap&&0===S.bargroupgap&&!R[0].trace.marker.line.width)&&s.select(this).attr("shape-rendering","crispEdges")}),E.selectAll("g.points").each(function(R){M(s.select(this),R[0].trace,D)}),l.getComponentMethod("errorbars","style")(E)},styleTextPoints:w,styleOnSelect:function(D,E,P){var R,G,z,X,W,Z,S=E[0].trace;S.selectedpoints?(G=S,z=D,p.selectedPointStyle((R=P).selectAll("path"),G),X=R.selectAll("text"),W=G,Z=z,X.each(function(ne){var te,oe=s.select(this);if(ne.selected){te=c.ensureUniformFontSize(Z,N(oe,ne,W,Z));var Ce=W.selected.textfont&&W.selected.textfont.color;Ce&&(te.color=Ce),p.font(oe,te)}else p.selectedTextStyle(oe,W)})):(M(P,S,D),l.getComponentMethod("errorbars","style")(P))},getInsideTextFont:V,getOutsideTextFont:L,getBarColor:I,resizeText:m}},{"../../components/color":102,"../../components/drawing":124,"../../lib":232,"../../registry":318,"./attributes":328,"./helpers":334,"./uniform_text":344,"@plotly/d3":11}],343:[function(v,pe,J){"use strict";var s=v("../../components/color"),g=v("../../components/colorscale/helpers").hasColorscale,p=v("../../components/colorscale/defaults"),c=v("../../lib").coercePattern;pe.exports=function(l,m,d,h,u){var C=d("marker.color",h),b=g(l,"marker");b&&p(l,m,u,d,{prefix:"marker.",cLetter:"c"}),d("marker.line.color",s.defaultLine),g(l,"marker.line")&&p(l,m,u,d,{prefix:"marker.line.",cLetter:"c"}),d("marker.line.width"),d("marker.opacity"),c(d,"marker.pattern",C,b),d("selected.marker.color"),d("unselected.marker.color")}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],344:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../lib");function p(c){return"_"+c+"Text_minsize"}pe.exports={recordMinTextSize:function(c,l,m){if(m.uniformtext.mode){var d=p(c),h=m.uniformtext.minsize,u=l.scale*l.fontSize;l.hide=u<h,m[d]=m[d]||1/0,l.hide||(m[d]=Math.min(m[d],Math.max(u,h)))}},clearMinTextSize:function(c,l){l[p(c)]=void 0},resizeText:function(c,l,m){var d=c._fullLayout,h=d["_"+m+"Text_minsize"];if(h){var u,C="hide"===d.uniformtext.mode;switch(m){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}l.selectAll(u).each(function(b){var M=b.transform;M&&(M.scale=C&&M.hide?0:h/M.fontSize,s.select(this).select("text").attr("transform",g.getTextTransform(M)))})}}}},{"../../lib":232,"@plotly/d3":11}],345:[function(v,pe,J){"use strict";var s=v("../../plots/attributes"),g=v("../../plots/domain").attributes,p=v("../../plots/font_attributes"),c=v("../../components/color/attributes"),l=v("../../plots/template_attributes").hovertemplateAttrs,m=v("../../plots/template_attributes").texttemplateAttrs,d=v("../../lib/extend").extendFlat,h=p({editType:"plot",arrayOk:!0,colorEditType:"plot"});pe.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:c.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:d({},s.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:l({},{keys:["label","color","value","percent","text"]}),texttemplate:m({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:d({},h,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:d({},h,{}),outsidetextfont:d({},h,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:d({},h,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:g({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:d({},h,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},{"../../components/color/attributes":101,"../../lib/extend":226,"../../plots/attributes":275,"../../plots/domain":309,"../../plots/font_attributes":310,"../../plots/template_attributes":317}],346:[function(v,pe,J){"use strict";var s=v("../../plots/plots");J.name="pie",J.plot=function(g,p,c,l){s.plotBasePlot(J.name,g,p,c,l)},J.clean=function(g,p,c,l){s.cleanBasePlot(J.name,g,p,c,l)}},{"../../plots/plots":316}],347:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("tinycolor2"),p=v("../../components/color"),c={};function l(d){return function(h,u){return!!h&&!!(h=g(h)).isValid()&&(h=p.addOpacity(h,h.getAlpha()),d[u]||(d[u]=h),h)}}function m(d,h){var u,C=JSON.stringify(d),b=h[C];if(!b){for(b=d.slice(),u=0;u<d.length;u++)b.push(g(d[u]).lighten(20).toHexString());for(u=0;u<d.length;u++)b.push(g(d[u]).darken(20).toHexString());h[C]=b}return b}pe.exports={calc:function(d,h){var u,C,b=[],M=d._fullLayout,w=M.hiddenlabels||[],N=h.labels,A=h.marker.colors||[],V=h.values,L=h._length,H=h._hasValues&&L;if(h.dlabel)for(N=new Array(L),u=0;u<L;u++)N[u]=String(h.label0+u*h.dlabel);var I={},D=l(M["_"+h.type+"colormap"]),E=0,P=!1;for(u=0;u<L;u++){var S,R,G;if(H){if(!s(S=V[u]))continue;S=+S}else S=1;void 0!==(R=N[u])&&""!==R||(R=u);var z=I[R=String(R)];void 0===z?(I[R]=b.length,(G=-1!==w.indexOf(R))||(E+=S),b.push({v:S,label:R,color:D(A[u],R),i:u,pts:[u],hidden:G})):(P=!0,(C=b[z]).v+=S,C.pts.push(u),C.hidden||(E+=S),!1===C.color&&A[u]&&(C.color=D(A[u],R)))}return b=b.filter(function(X){return X.v>=0}),("funnelarea"===h.type?P:h.sort)&&b.sort(function(X,W){return W.v-X.v}),b[0]&&(b[0].vTotal=E),b},crossTraceCalc:function(d,h){var u=(h||{}).type;u||(u="pie");var C=d._fullLayout,b=d.calcdata,M=C[u+"colorway"],w=C["_"+u+"colormap"];C["extend"+u+"colors"]&&(M=m(M,c));for(var N=0,A=0;A<b.length;A++){var V=b[A];if(V[0].trace.type===u)for(var L=0;L<V.length;L++){var H=V[L];!1===H.color&&(w[H.label]?H.color=w[H.label]:(w[H.label]=H.color=M[N%M.length],N++))}}},makePullColorFn:l,generateExtendedColors:m}},{"../../components/color":102,"fast-isnumeric":17,tinycolor2:67}],348:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib"),p=v("./attributes"),c=v("../../plots/domain").defaults,l=v("../bar/defaults").handleText;function m(d,h){var u=Array.isArray(d),C=g.isArrayOrTypedArray(h),b=Math.min(u?d.length:1/0,C?h.length:1/0);if(isFinite(b)||(b=0),b&&C){for(var M,w=0;w<b;w++){var N=h[w];if(s(N)&&N>0){M=!0;break}}M||(b=0)}return{hasLabels:u,hasValues:C,len:b}}pe.exports={handleLabelsAndValues:m,supplyDefaults:function(d,h,u,C){function b(D,E){return g.coerce(d,h,p,D,E)}var M=m(b("labels"),b("values")),w=M.len;if(h._hasLabels=M.hasLabels,h._hasValues=M.hasValues,!h._hasLabels&&h._hasValues&&(b("label0"),b("dlabel")),w){h._length=w,b("marker.line.width")&&b("marker.line.color"),b("marker.colors"),b("scalegroup");var N,A=b("text"),V=b("texttemplate");if(V||(N=b("textinfo",Array.isArray(A)?"text+percent":"percent")),b("hovertext"),b("hovertemplate"),V||N&&"none"!==N){var L=b("textposition");l(d,h,C,b,L,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(L)||"auto"===L||"outside"===L)&&b("automargin"),("inside"===L||"auto"===L||Array.isArray(L))&&b("insidetextorientation")}c(h,C,b);var H=b("hole");if(b("title.text")){var I=b("title.position",H?"middle center":"top center");H||"middle center"!==I||(h.title.position="top center"),g.coerceFont(b,"title.font",C.font)}b("sort"),b("direction"),b("rotation"),b("pull")}else h.visible=!1}}},{"../../lib":232,"../../plots/domain":309,"../bar/defaults":332,"./attributes":345,"fast-isnumeric":17}],349:[function(v,pe,J){"use strict";var s=v("../../components/fx/helpers").appendArrayMultiPointValues;pe.exports=function(g,p){var c={curveNumber:p.index,pointNumbers:g.pts,data:p._input,fullData:p,label:g.label,color:g.color,value:g.v,percent:g.percent,text:g.text,bbox:g.bbox,v:g.v};return 1===g.pts.length&&(c.pointNumber=c.i=g.pts[0]),s(c,p,g.pts),"funnelarea"===p.type&&(delete c.v,delete c.i),c}},{"../../components/fx/helpers":138}],350:[function(v,pe,J){"use strict";var s=v("../../lib");function g(p){return-1!==p.indexOf("e")?p.replace(/[.]?0+e/,"e"):-1!==p.indexOf(".")?p.replace(/[.]?0+$/,""):p}J.formatPiePercent=function(p,c){var l=g((100*p).toPrecision(3));return s.numSeparate(l,c)+"%"},J.formatPieValue=function(p,c){var l=g(p.toPrecision(10));return s.numSeparate(l,c)},J.getFirstFilled=function(p,c){if(Array.isArray(p))for(var l=0;l<c.length;l++){var m=p[c[l]];if(m||0===m||""===m)return m}},J.castOption=function(p,c){return Array.isArray(p)?J.getFirstFilled(p,c):p||void 0},J.getRotationAngle=function(p){return("auto"===p?0:p)*Math.PI/180}},{"../../lib":232}],351:[function(v,pe,J){"use strict";pe.exports={attributes:v("./attributes"),supplyDefaults:v("./defaults").supplyDefaults,supplyLayoutDefaults:v("./layout_defaults"),layoutAttributes:v("./layout_attributes"),calc:v("./calc").calc,crossTraceCalc:v("./calc").crossTraceCalc,plot:v("./plot").plot,style:v("./style"),styleOne:v("./style_one"),moduleType:"trace",name:"pie",basePlotModule:v("./base_plot"),categories:["pie-like","pie","showLegend"],meta:{}}},{"./attributes":345,"./base_plot":346,"./calc":347,"./defaults":348,"./layout_attributes":352,"./layout_defaults":353,"./plot":354,"./style":355,"./style_one":356}],352:[function(v,pe,J){"use strict";pe.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},{}],353:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("./layout_attributes");pe.exports=function(p,c){function l(m,d){return s.coerce(p,c,g,m,d)}l("hiddenlabels"),l("piecolorway",c.colorway),l("extendpiecolors")}},{"../../lib":232,"./layout_attributes":352}],354:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../plots/plots"),p=v("../../components/fx"),c=v("../../components/color"),l=v("../../components/drawing"),m=v("../../lib"),d=m.strScale,h=m.strTranslate,u=v("../../lib/svg_text_utils"),C=v("../bar/uniform_text"),b=C.recordMinTextSize,M=C.clearMinTextSize,w=v("../bar/constants").TEXTPAD,N=v("./helpers"),A=v("./event_data"),V=v("../../lib").isValidTextValue;function L(Q,le,j){var $=j[0],se=$.cx,ee=$.cy,F=$.trace,O="funnelarea"===F.type;"_hasHoverLabel"in F||(F._hasHoverLabel=!1),"_hasHoverEvent"in F||(F._hasHoverEvent=!1),Q.on("mouseover",function(Y){var B=le._fullLayout,ae=le._fullData[F.index];if(!le._dragging&&!1!==B.hovermode){var ue=ae.hoverinfo;if(Array.isArray(ue)&&(ue=p.castHoverinfo({hoverinfo:[N.castOption(ue,Y.pts)],_module:F._module},B,0)),"all"===ue&&(ue="label+text+value+percent+name"),ae.hovertemplate||"none"!==ue&&"skip"!==ue&&ue){var fe=Y.rInscribed||0,he=se+Y.pxmid[0]*(1-fe),xe=ee+Y.pxmid[1]*(1-fe),be=B.separators,Ve=[];if(ue&&-1!==ue.indexOf("label")&&Ve.push(Y.label),Y.text=N.castOption(ae.hovertext||ae.text,Y.pts),ue&&-1!==ue.indexOf("text")){var Ae=Y.text;m.isValidTextValue(Ae)&&Ve.push(Ae)}Y.value=Y.v,Y.valueLabel=N.formatPieValue(Y.v,be),ue&&-1!==ue.indexOf("value")&&Ve.push(Y.valueLabel),Y.percent=Y.v/$.vTotal,Y.percentLabel=N.formatPiePercent(Y.percent,be),ue&&-1!==ue.indexOf("percent")&&Ve.push(Y.percentLabel);var Oe=ae.hoverlabel,Re=Oe.font,tt=[];p.loneHover({trace:F,x0:he-fe*$.r,x1:he+fe*$.r,y:xe,_x0:O?se+Y.TL[0]:he-fe*$.r,_x1:O?se+Y.TR[0]:he+fe*$.r,_y0:O?ee+Y.TL[1]:xe-fe*$.r,_y1:O?ee+Y.BL[1]:xe+fe*$.r,text:Ve.join("<br>"),name:ae.hovertemplate||-1!==ue.indexOf("name")?ae.name:void 0,idealAlign:Y.pxmid[0]<0?"left":"right",color:N.castOption(Oe.bgcolor,Y.pts)||Y.color,borderColor:N.castOption(Oe.bordercolor,Y.pts),fontFamily:N.castOption(Re.family,Y.pts),fontSize:N.castOption(Re.size,Y.pts),fontColor:N.castOption(Re.color,Y.pts),nameLength:N.castOption(Oe.namelength,Y.pts),textAlign:N.castOption(Oe.align,Y.pts),hovertemplate:N.castOption(ae.hovertemplate,Y.pts),hovertemplateLabels:Y,eventData:[A(Y,ae)]},{container:B._hoverlayer.node(),outerContainer:B._paper.node(),gd:le,inOut_bbox:tt}),Y.bbox=tt[0],F._hasHoverLabel=!0}F._hasHoverEvent=!0,le.emit("plotly_hover",{points:[A(Y,ae)],event:s.event})}}),Q.on("mouseout",function(Y){var B=le._fullLayout,ae=le._fullData[F.index],ue=s.select(this).datum();F._hasHoverEvent&&(Y.originalEvent=s.event,le.emit("plotly_unhover",{points:[A(ue,ae)],event:s.event}),F._hasHoverEvent=!1),F._hasHoverLabel&&(p.loneUnhover(B._hoverlayer.node()),F._hasHoverLabel=!1)}),Q.on("click",function(Y){le._dragging||!1===le._fullLayout.hovermode||(le._hoverdata=[A(Y,le._fullData[F.index])],p.click(le,s.event))})}function H(Q,le,j){var $=N.castOption(Q.insidetextfont.color,le.pts);!$&&Q._input.textfont&&($=N.castOption(Q._input.textfont.color,le.pts));var se=N.castOption(Q.insidetextfont.family,le.pts)||N.castOption(Q.textfont.family,le.pts)||j.family,ee=N.castOption(Q.insidetextfont.size,le.pts)||N.castOption(Q.textfont.size,le.pts)||j.size;return{color:$||c.contrast(le.color),family:se,size:ee}}function I(Q,le){for(var j,$,se=0;se<Q.length;se++)if(($=(j=Q[se][0]).trace).title.text){var ee=$.title.text;$._meta&&(ee=m.templateString(ee,$._meta));var F=l.tester.append("text").attr("data-notex",1).text(ee).call(l.font,$.title.font).call(u.convertToTspans,le),O=l.bBox(F.node(),!0);j.titleBox={width:O.width,height:O.height},F.remove()}}function D(Q,le,j){var $=j.r||le.rpx1,se=le.rInscribed;if(le.startangle===le.stopangle)return{rCenter:1-se,scale:0,rotate:0,textPosAngle:0};var ee,F=le.ring,O=1===F&&Math.abs(le.startangle-le.stopangle)===2*Math.PI,Y=le.halfangle,B=le.midangle,ae=j.trace.insidetextorientation,ue="horizontal"===ae,fe="tangential"===ae,he="radial"===ae,xe="auto"===ae,be=[];if(!xe){var Ve,Ae=function(Me,ve){if(nt=(Ee=le).stopangle,(Qe=Ee.startangle)>(Ie=Me)&&Ie>nt||Qe<Ie&&Ie<nt){var Se=Math.abs(Me-le.startangle),Te=Math.abs(Me-le.stopangle),qe=Se<Te?Se:Te;(ee="tan"===ve?P(Q,$,F,qe,0):E(Q,$,F,qe,Math.PI/2)).textPosAngle=Me,be.push(ee)}var Ee,Ie,Qe,nt};if(ue||fe){for(Ve=4;Ve>=-4;Ve-=2)Ae(Math.PI*Ve,"tan");for(Ve=4;Ve>=-4;Ve-=2)Ae(Math.PI*(Ve+1),"tan")}if(ue||he){for(Ve=4;Ve>=-4;Ve-=2)Ae(Math.PI*(Ve+1.5),"rad");for(Ve=4;Ve>=-4;Ve-=2)Ae(Math.PI*(Ve+.5),"rad")}}if(O||xe||ue){var Oe=Math.sqrt(Q.width*Q.width+Q.height*Q.height);if((ee={scale:se*$*2/Oe,rCenter:1-se,rotate:0}).textPosAngle=(le.startangle+le.stopangle)/2,ee.scale>=1)return ee;be.push(ee)}(xe||he)&&((ee=E(Q,$,F,Y,B)).textPosAngle=(le.startangle+le.stopangle)/2,be.push(ee)),(xe||fe)&&((ee=P(Q,$,F,Y,B)).textPosAngle=(le.startangle+le.stopangle)/2,be.push(ee));for(var Re=0,tt=0,Ke=0;Ke<be.length;Ke++){var $e=be[Ke].scale;if(tt<$e&&(tt=$e,Re=Ke),!xe&&tt>=1)break}return be[Re]}function E(Q,le,j,$,se){le=Math.max(0,le-2*w);var ee=Q.width/Q.height,F=G(ee,$,le,j);return{scale:2*F/Q.height,rCenter:S(ee,F/le),rotate:R(se)}}function P(Q,le,j,$,se){le=Math.max(0,le-2*w);var ee=Q.height/Q.width,F=G(ee,$,le,j);return{scale:2*F/Q.width,rCenter:S(ee,F/le),rotate:R(se+Math.PI/2)}}function S(Q,le){return Math.cos(le)-Q*le}function R(Q){return(180/Math.PI*Q+720)%180-90}function G(Q,le,j,$){var se=Q+1/(2*Math.tan(le));return j*Math.min(1/(Math.sqrt(se*se+.5)+se),$/(Math.sqrt(Q*Q+$/2)+Q))}function z(Q,le){return Q.v!==le.vTotal||le.trace.hole?Math.min(1/(1+1/Math.sin(Q.halfangle)),Q.ring/2):1}function X(Q,le){var j=le.pxmid[0],$=le.pxmid[1],se=Q.width/2,ee=Q.height/2;return j<0&&(se*=-1),$<0&&(ee*=-1),{scale:1,rCenter:1,rotate:0,x:se+Math.abs(ee)*(se>0?1:-1)/2,y:ee/(1+j*j/($*$)),outside:!0}}function W(Q,le){var j,$,se,ee=Q.trace,F={x:Q.cx,y:Q.cy},O={tx:0,ty:0};O.ty+=ee.title.font.size,se=ne(ee),-1!==ee.title.position.indexOf("top")?(F.y-=(1+se)*Q.r,O.ty-=Q.titleBox.height):-1!==ee.title.position.indexOf("bottom")&&(F.y+=(1+se)*Q.r);var B,ae=Q.r/(void 0===(B=Q.trace.aspectratio)?1:B),ue=le.w*(ee.domain.x[1]-ee.domain.x[0])/2;return-1!==ee.title.position.indexOf("left")?(ue+=ae,F.x-=(1+se)*ae,O.tx+=Q.titleBox.width/2):-1!==ee.title.position.indexOf("center")?ue*=2:-1!==ee.title.position.indexOf("right")&&(ue+=ae,F.x+=(1+se)*ae,O.tx-=Q.titleBox.width/2),j=ue/Q.titleBox.width,$=Z(Q,le)/Q.titleBox.height,{x:F.x,y:F.y,scale:Math.min(j,$),tx:O.tx,ty:O.ty}}function Z(Q,le){var j=Q.trace;return Math.min(Q.titleBox.height,le.h*(j.domain.y[1]-j.domain.y[0])/2)}function ne(Q){var le,j=Q.pull;if(!j)return 0;if(Array.isArray(j))for(j=0,le=0;le<Q.pull.length;le++)Q.pull[le]>j&&(j=Q.pull[le]);return j}function te(Q,le){for(var j=[],$=0;$<Q.length;$++){var se=Q[$][0],ee=se.trace,F=ee.domain,O=le.w*(F.x[1]-F.x[0]),Y=le.h*(F.y[1]-F.y[0]);ee.title.text&&"middle center"!==ee.title.position&&(Y-=Z(se,le));var ae=Y/2;"funnelarea"!==ee.type||ee.scalegroup||(ae/=ee.aspectratio),se.r=Math.min(O/2,ae)/(1+ne(ee)),se.cx=le.l+le.w*(ee.domain.x[1]+ee.domain.x[0])/2,se.cy=le.t+le.h*(1-ee.domain.y[0])-Y/2,ee.title.text&&-1!==ee.title.position.indexOf("bottom")&&(se.cy-=Z(se,le)),ee.scalegroup&&-1===j.indexOf(ee.scalegroup)&&j.push(ee.scalegroup)}!function(ue,fe){for(var he,xe,be,Ve=0;Ve<fe.length;Ve++){var Ae=1/0,Oe=fe[Ve];for(xe=0;xe<ue.length;xe++)if((be=(he=ue[xe][0]).trace).scalegroup===Oe){var Re;if("pie"===be.type)Re=he.r*he.r;else if("funnelarea"===be.type){var tt,Ke;be.aspectratio>1?Ke=(tt=he.r)/be.aspectratio:tt=(Ke=he.r)*be.aspectratio,Re=(tt*=(1+be.baseratio)/2)*Ke}Ae=Math.min(Ae,Re/he.vTotal)}for(xe=0;xe<ue.length;xe++)if((be=(he=ue[xe][0]).trace).scalegroup===Oe){var $e=Ae*he.vTotal;"funnelarea"===be.type&&($e/=(1+be.baseratio)/2,$e/=be.aspectratio),he.r=Math.sqrt($e)}}}(Q,j)}function oe(Q,le){return[Q*Math.sin(le),-Q*Math.cos(le)]}function Ce(Q,le,j){var Re,$=Q._fullLayout,se=j.trace,ee=se.texttemplate,F=se.textinfo;if(!ee&&F&&"none"!==F){var O,Y=F.split("+"),B=function(Re){return-1!==Y.indexOf(Re)},ae=B("label"),ue=B("text"),fe=B("value"),he=B("percent"),xe=$.separators;if(O=ae?[le.label]:[],ue){var be=N.getFirstFilled(se.text,le.pts);V(be)&&O.push(be)}fe&&O.push(N.formatPieValue(le.v,xe)),he&&O.push(N.formatPiePercent(le.v/j.vTotal,xe)),le.text=O.join("<br>")}if(ee){var Ve=m.castOption(se,le.i,"texttemplate");if(Ve){var Ae={label:(Re=le).label,value:Re.v,valueLabel:N.formatPieValue(Re.v,$.separators),percent:Re.v/j.vTotal,percentLabel:N.formatPiePercent(Re.v/j.vTotal,$.separators),color:Re.color,text:Re.text,customdata:m.castOption(se,Re.i,"customdata")},Oe=N.getFirstFilled(se.text,le.pts);(V(Oe)||""===Oe)&&(Ae.text=Oe),le.text=m.texttemplateString(Ve,Ae,Q._fullLayout._d3locale,Ae,se._meta||{})}else le.text=""}}function ie(Q,le){var j=Q.rotate*Math.PI/180,$=Math.cos(j),se=Math.sin(j),ee=(le.left+le.right)/2,F=(le.top+le.bottom)/2;Q.textX=ee*$-F*se,Q.textY=ee*se+F*$,Q.noCenter=!0}pe.exports={plot:function(Q,le){var j=Q._fullLayout,$=j._size;M("pie",j),I(le,Q),te(le,$);var se=m.makeTraceGroups(j._pielayer,le,"trace").each(function(ee){var F=s.select(this),O=ee[0],Y=O.trace;(function(B){var ae,ue,fe,he=B[0],xe=he.r,be=he.trace,Ve=N.getRotationAngle(be.rotation),Ae=2*Math.PI/he.vTotal,Oe="px0",Re="px1";if("counterclockwise"===be.direction){for(ae=0;ae<B.length&&B[ae].hidden;ae++);if(ae===B.length)return;Ve+=Ae*B[ae].v,Ae*=-1,Oe="px1",Re="px0"}for(fe=oe(xe,Ve),ae=0;ae<B.length;ae++)(ue=B[ae]).hidden||(ue[Oe]=fe,ue.startangle=Ve,ue.pxmid=oe(xe,Ve+=Ae*ue.v/2),ue.midangle=Ve,fe=oe(xe,Ve+=Ae*ue.v/2),ue.stopangle=Ve,ue[Re]=fe,ue.largeArc=ue.v>he.vTotal/2?1:0,ue.halfangle=Math.PI*Math.min(ue.v/he.vTotal,.5),ue.ring=1-be.hole,ue.rInscribed=z(ue,he))})(ee),F.attr("stroke-linejoin","round"),F.each(function(){var B=s.select(this).selectAll("g.slice").data(ee);B.enter().append("g").classed("slice",!0),B.exit().remove();var ae=[[[],[]],[[],[]]],ue=!1;B.each(function(Re,tt){if(Re.hidden)s.select(this).selectAll("path,g").remove();else{Re.pointNumber=Re.i,Re.curveNumber=Y.index,ae[Re.pxmid[1]<0?0:1][Re.pxmid[0]<0?0:1].push(Re);var Ke=O.cx,$e=O.cy,Me=s.select(this),ve=Me.selectAll("path.surface").data([Re]);if(ve.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),Me.call(L,Q,ee),Y.pull){var Se=+N.castOption(Y.pull,Re.pts)||0;Se>0&&(Ke+=Se*Re.pxmid[0],$e+=Se*Re.pxmid[1])}Re.cxFinal=Ke,Re.cyFinal=$e;var Te=Y.hole;if(Re.v===O.vTotal){var qe="M"+(Ke+Re.px0[0])+","+($e+Re.px0[1])+Ye(Re.px0,Re.pxmid,!0,1)+Ye(Re.pxmid,Re.px0,!0,1)+"Z";ve.attr("d",Te?"M"+(Ke+Te*Re.px0[0])+","+($e+Te*Re.px0[1])+Ye(Re.px0,Re.pxmid,!1,Te)+Ye(Re.pxmid,Re.px0,!1,Te)+"Z"+qe:qe)}else{var Ee=Ye(Re.px0,Re.px1,!0,1);if(Te){var Ie=1-Te;ve.attr("d","M"+(Ke+Te*Re.px1[0])+","+($e+Te*Re.px1[1])+Ye(Re.px1,Re.px0,!1,Te)+"l"+Ie*Re.px0[0]+","+Ie*Re.px0[1]+Ee+"Z")}else ve.attr("d","M"+Ke+","+$e+"l"+Re.px0[0]+","+Re.px0[1]+Ee+"Z")}Ce(Q,Re,O);var Qe=N.castOption(Y.textposition,Re.pts),nt=Me.selectAll("g.slicetext").data(Re.text&&"none"!==Qe?[0]:[]);nt.enter().append("g").classed("slicetext",!0),nt.exit().remove(),nt.each(function(){var Fe,Ue,gt,rt=m.ensureSingle(s.select(this),"text","",function(Fe){Fe.attr("data-notex",1)}),dt=m.ensureUniformFontSize(Q,"outside"===Qe?(gt=j.font,{color:N.castOption((Fe=Y).outsidetextfont.color,(Ue=Re).pts)||N.castOption(Fe.textfont.color,Ue.pts)||gt.color,family:N.castOption(Fe.outsidetextfont.family,Ue.pts)||N.castOption(Fe.textfont.family,Ue.pts)||gt.family,size:N.castOption(Fe.outsidetextfont.size,Ue.pts)||N.castOption(Fe.textfont.size,Ue.pts)||gt.size}):H(Y,Re,j.font));rt.text(Re.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(l.font,dt).call(u.convertToTspans,Q);var Xe,mt=l.bBox(rt.node());if("outside"===Qe)Xe=X(mt,Re);else if(Xe=D(mt,Re,O),"auto"===Qe&&Xe.scale<1){var _t=m.ensureUniformFontSize(Q,Y.outsidetextfont);rt.call(l.font,_t),Xe=X(mt=l.bBox(rt.node()),Re)}var yt=Xe.textPosAngle,Ot=void 0===yt?Re.pxmid:oe(O.r,yt);if(Xe.targetX=Ke+Ot[0]*Xe.rCenter+(Xe.x||0),Xe.targetY=$e+Ot[1]*Xe.rCenter+(Xe.y||0),ie(Xe,mt),Xe.outside){var bt=Xe.targetY;Re.yLabelMin=bt-mt.height/2,Re.yLabelMid=bt,Re.yLabelMax=bt+mt.height/2,Re.labelExtraX=0,Re.labelExtraY=0,ue=!0}Xe.fontSize=dt.size,b(Y.type,Xe,j),ee[tt].transform=Xe,rt.attr("transform",m.getTextTransform(Xe))})}function Ye(rt,dt,Xe,mt){return"a"+mt*O.r+","+mt*O.r+" 0 "+Re.largeArc+(Xe?" 1 ":" 0 ")+mt*(dt[0]-rt[0])+","+mt*(dt[1]-rt[1])}});var tt,fe=s.select(this).selectAll("g.titletext").data(Y.title.text?[0]:[]);if(fe.enter().append("g").classed("titletext",!0),fe.exit().remove(),fe.each(function(){var Re,$e,Me,tt=m.ensureSingle(s.select(this),"text","",function($e){$e.attr("data-notex",1)}),Ke=Y.title.text;Y._meta&&(Ke=m.templateString(Ke,Y._meta)),tt.text(Ke).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(l.font,Y.title.font).call(u.convertToTspans,Q),Re="middle center"===Y.title.position?($e=O,Me=Math.sqrt($e.titleBox.width*$e.titleBox.width+$e.titleBox.height*$e.titleBox.height),{x:$e.cx,y:$e.cy,scale:$e.trace.hole*$e.r*2/Me,tx:0,ty:-$e.titleBox.height/2+$e.trace.title.font.size}):W(O,$),tt.attr("transform",h(Re.x,Re.y)+d(Math.min(1,Re.scale))+h(Re.tx,Re.ty))}),ue&&function(Re,tt){var Ke,$e,Me,ve,Se,Te,qe,Ee,Ie,Qe,nt,Ye,rt;function dt(yt,Ot){return yt.pxmid[1]-Ot.pxmid[1]}function Xe(yt,Ot){return Ot.pxmid[1]-yt.pxmid[1]}function mt(yt,Ot){Ot||(Ot={});var bt,Fe,Ue,gt,Pt=Ot.labelExtraY+($e?Ot.yLabelMax:Ot.yLabelMin),Qt=$e?yt.yLabelMin:yt.yLabelMax,en=$e?yt.yLabelMax:yt.yLabelMin,Xt=yt.cyFinal+Se(yt.px0[1],yt.px1[1]),Wt=Pt-Qt;if(Wt*qe>0&&(yt.labelExtraY=Wt),Array.isArray(tt.pull))for(Fe=0;Fe<Qe.length;Fe++)(Ue=Qe[Fe])===yt||(N.castOption(tt.pull,yt.pts)||0)>=(N.castOption(tt.pull,Ue.pts)||0)||((yt.pxmid[1]-Ue.pxmid[1])*qe>0?(Wt=Ue.cyFinal+Se(Ue.px0[1],Ue.px1[1])-Qt-yt.labelExtraY)*qe>0&&(yt.labelExtraY+=Wt):(en+yt.labelExtraY-Xt)*qe>0&&(bt=3*Te*Math.abs(Fe-Qe.indexOf(yt)),(gt=Ue.cxFinal+ve(Ue.px0[0],Ue.px1[0])+bt-(yt.cxFinal+yt.pxmid[0])-yt.labelExtraX)*Te>0&&(yt.labelExtraX+=gt)))}for($e=0;$e<2;$e++)for(Me=$e?dt:Xe,Se=$e?Math.max:Math.min,qe=$e?1:-1,Ke=0;Ke<2;Ke++){for(ve=Ke?Math.max:Math.min,Te=Ke?1:-1,(Ee=Re[$e][Ke]).sort(Me),Qe=(Ie=Re[1-$e][Ke]).concat(Ee),Ye=[],nt=0;nt<Ee.length;nt++)void 0!==Ee[nt].yLabelMid&&Ye.push(Ee[nt]);for(rt=!1,nt=0;$e&&nt<Ie.length;nt++)if(void 0!==Ie[nt].yLabelMid){rt=Ie[nt];break}for(nt=0;nt<Ye.length;nt++){var _t=nt&&Ye[nt-1];rt&&!nt&&(_t=rt),mt(Ye[nt],_t)}}}(ae,Y),tt=Y,B.each(function(Ke){var $e=s.select(this);if(Ke.labelExtraX||Ke.labelExtraY){var Me=$e.select("g.slicetext text");Ke.transform.targetX+=Ke.labelExtraX,Ke.transform.targetY+=Ke.labelExtraY,Me.attr("transform",m.getTextTransform(Ke.transform));var ve=Ke.cxFinal+Ke.pxmid[0],Se="M"+ve+","+(Ke.cyFinal+Ke.pxmid[1]),Te=(Ke.yLabelMax-Ke.yLabelMin)*(Ke.pxmid[0]<0?-1:1)/4;if(Ke.labelExtraX){var qe=Ke.labelExtraX*Ke.pxmid[1]/Ke.pxmid[0],Ee=Ke.yLabelMid+Ke.labelExtraY-(Ke.cyFinal+Ke.pxmid[1]);Math.abs(qe)>Math.abs(Ee)?Se+="l"+Ee*Ke.pxmid[0]/Ke.pxmid[1]+","+Ee+"H"+(ve+Ke.labelExtraX+Te):Se+="l"+Ke.labelExtraX+","+qe+"v"+(Ee-qe)+"h"+Te}else Se+="V"+(Ke.yLabelMid+Ke.labelExtraY)+"h"+Te;m.ensureSingle($e,"path","textline").call(c.stroke,tt.outsidetextfont.color).attr({"stroke-width":Math.min(2,tt.outsidetextfont.size/8),d:Se,fill:"none"})}else $e.select("path.textline").remove()}),ue&&Y.automargin){var he=l.bBox(F.node()),xe=Y.domain,Ae=($.w*(xe.x[1]-xe.x[0])*.5-O.r)/$.w,Oe=($.h*(xe.y[1]-xe.y[0])*.5-O.r)/$.h;g.autoMargin(Q,"pie."+Y.uid+".automargin",{xl:xe.x[0]-Ae,xr:xe.x[1]+Ae,yb:xe.y[0]-Oe,yt:xe.y[1]+Oe,l:Math.max(O.cx-O.r-he.left,0),r:Math.max(he.right-(O.cx+O.r),0),b:Math.max(he.bottom-(O.cy+O.r),0),t:Math.max(O.cy-O.r-he.top,0),pad:5})}})});setTimeout(function(){se.selectAll("tspan").each(function(){var ee=s.select(this);ee.attr("dy")&&ee.attr("dy",ee.attr("dy"))})},0)},formatSliceLabel:Ce,transformInsideText:D,determineInsideTextFont:H,positionTitleOutside:W,prerenderTitles:I,layoutAreas:te,attachFxHandlers:L,computeTransform:ie}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx":142,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../bar/constants":330,"../bar/uniform_text":344,"./event_data":349,"./helpers":350,"@plotly/d3":11}],355:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("./style_one"),p=v("../bar/uniform_text").resizeText;pe.exports=function(c){var l=c._fullLayout._pielayer.selectAll(".trace");p(c,l,"pie"),l.each(function(m){var d=m[0].trace,h=s.select(this);h.style({opacity:d.opacity}),h.selectAll("path.surface").each(function(u){s.select(this).call(g,u,d)})})}},{"../bar/uniform_text":344,"./style_one":356,"@plotly/d3":11}],356:[function(v,pe,J){"use strict";var s=v("../../components/color"),g=v("./helpers").castOption;pe.exports=function(p,c,l){var m=l.marker.line,d=g(m.color,c.pts)||s.defaultLine,h=g(m.width,c.pts)||0;p.style("stroke-width",h).call(s.fill,c.color).call(s.stroke,d)}},{"../../components/color":102,"./helpers":350}],357:[function(v,pe,J){"use strict";var s=v("../../lib");pe.exports=function(g,p){for(var c=0;c<g.length;c++)g[c].i=c;s.mergeArray(p.text,g,"tx"),s.mergeArray(p.texttemplate,g,"txt"),s.mergeArray(p.hovertext,g,"htx"),s.mergeArray(p.customdata,g,"data"),s.mergeArray(p.textposition,g,"tp"),p.textfont&&(s.mergeArrayCastPositive(p.textfont.size,g,"ts"),s.mergeArray(p.textfont.color,g,"tc"),s.mergeArray(p.textfont.family,g,"tf"));var l=p.marker;if(l){s.mergeArrayCastPositive(l.size,g,"ms"),s.mergeArrayCastPositive(l.opacity,g,"mo"),s.mergeArray(l.symbol,g,"mx"),s.mergeArray(l.color,g,"mc");var m=l.line;l.line&&(s.mergeArray(m.color,g,"mlc"),s.mergeArrayCastPositive(m.width,g,"mlw"));var d=l.gradient;d&&"none"!==d.type&&(s.mergeArray(d.type,g,"mgt"),s.mergeArray(d.color,g,"mgc"))}}},{"../../lib":232}],358:[function(v,pe,J){"use strict";var s=v("../../plots/cartesian/axis_format_attributes").axisHoverFormat,g=v("../../plots/template_attributes").texttemplateAttrs,p=v("../../plots/template_attributes").hovertemplateAttrs,c=v("../../components/colorscale/attributes"),l=v("../../plots/font_attributes"),m=v("../../components/drawing/attributes").dash,d=v("../../components/drawing/attributes").pattern,h=v("../../components/drawing"),u=v("./constants"),C=v("../../lib/extend").extendFlat;pe.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:s("x"),yhoverformat:s("y"),stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:g({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:p({},{keys:u.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:C({},m,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:d,marker:C({symbol:{valType:"enumerated",values:h.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:C({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},c("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},c("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:l({editType:"calc",colorEditType:"style",arrayOk:!0})}},{"../../components/colorscale/attributes":109,"../../components/drawing":124,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":310,"../../plots/template_attributes":317,"./constants":362}],359:[function(v,pe,J){"use strict";var s=v("fast-isnumeric"),g=v("../../lib"),p=v("../../plots/cartesian/axes"),c=v("../../plots/cartesian/align_period"),l=v("../../constants/numerical").BADNUM,m=v("./subtypes"),d=v("./colorscale_calc"),h=v("./arrays_to_calcdata"),u=v("./calc_selection");function C(A,V,L,H,I,D,E){var P=V._length,S=A._fullLayout,R=L._id,G=H._id,z=S._firstScatter[w(V)]===V.uid,X=(N(V,S,L,H)||{}).orientation,W=V.fill;L._minDtick=0,H._minDtick=0;var Z={padded:!0},ne={padded:!0};E&&(Z.ppad=ne.ppad=E);var te=P<2||I[0]!==I[P-1]||D[0]!==D[P-1];te&&("tozerox"===W||"tonextx"===W&&(z||"h"===X))?Z.tozero=!0:(V.error_y||{}).visible||"tonexty"!==W&&"tozeroy"!==W&&(m.hasMarkers(V)||m.hasText(V))||(Z.padded=!1,Z.ppad=0),te&&("tozeroy"===W||"tonexty"===W&&(z||"v"===X))?ne.tozero=!0:"tonextx"!==W&&"tozerox"!==W||(ne.padded=!1),R&&(V._extremes[R]=p.findExtremes(L,I,Z)),G&&(V._extremes[G]=p.findExtremes(H,D,ne))}function b(A,V){if(m.hasMarkers(A)){var L,H=A.marker,I=1.6*(A.marker.sizeref||1);if(L="area"===A.marker.sizemode?function(R){return Math.max(Math.sqrt((R||0)/I),3)}:function(R){return Math.max((R||0)/I,3)},g.isArrayOrTypedArray(H.size)){var D={type:"linear"};p.setConvert(D);for(var E=D.makeCalcdata(A.marker,"size"),P=new Array(V),S=0;S<V;S++)P[S]=L(E[S]);return P}return L(H.size)}}function M(A,V){var L=w(V),H=A._firstScatter;H[L]||(H[L]=V.uid)}function w(A){var V=A.stackgroup;return A.xaxis+A.yaxis+A.type+(V?"-"+V:"")}function N(A,V,L,H){var I=A.stackgroup;if(I){var D=V._scatterStackOpts[L._id+H._id][I],E="v"===D.orientation?H:L;return"linear"===E.type||"log"===E.type?D:void 0}}pe.exports={calc:function(A,V){var L,H,I,D,E,P,S=A._fullLayout,R=p.getFromId(A,V.xaxis||"x"),G=p.getFromId(A,V.yaxis||"y"),z=R.makeCalcdata(V,"x"),X=G.makeCalcdata(V,"y"),W=c(V,R,"x",z),Z=c(V,G,"y",X),ne=W.vals,te=Z.vals,oe=V._length,Ce=new Array(oe),ie=V.ids,Q=N(V,S,R,G),le=!1;M(S,V);var j,$="x",se="y";Q?(g.pushUnique(Q.traceIndices,V._expandedIndex),(L="v"===Q.orientation)?(se="s",j="x"):($="s",j="y"),E="interpolate"===Q.stackgaps):C(A,V,R,G,ne,te,b(V,oe));var ee=!!V.xperiodalignment,F=!!V.yperiodalignment;for(H=0;H<oe;H++){var O=Ce[H]={},Y=s(ne[H]),B=s(te[H]);Y&&B?(O[$]=ne[H],O[se]=te[H],ee&&(O.orig_x=z[H],O.xEnd=W.ends[H],O.xStart=W.starts[H]),F&&(O.orig_y=X[H],O.yEnd=Z.ends[H],O.yStart=Z.starts[H])):Q&&(L?Y:B)?(O[j]=L?ne[H]:te[H],O.gap=!0,E?(O.s=l,le=!0):O.s=0):O[$]=O[se]=l,ie&&(O.id=String(ie[H]))}if(h(Ce,V),d(A,V),u(Ce,V),Q){for(H=0;H<Ce.length;)Ce[H][j]===l?Ce.splice(H,1):H++;if(g.sort(Ce,function(he,xe){return he[j]-xe[j]||he.i-xe.i}),le){for(H=0;H<Ce.length-1&&Ce[H].gap;)H++;for((P=Ce[H].s)||(P=Ce[H].s=0),I=0;I<H;I++)Ce[I].s=P;for(D=Ce.length-1;D>H&&Ce[D].gap;)D--;for(P=Ce[D].s,I=Ce.length-1;I>D;I--)Ce[I].s=P;for(;H<D;)if(Ce[++H].gap){for(I=H+1;Ce[I].gap;)I++;for(var ae=Ce[H-1][j],ue=Ce[H-1].s,fe=(Ce[I].s-ue)/(Ce[I][j]-ae);H<I;)Ce[H].s=ue+(Ce[H][j]-ae)*fe,H++}}}return Ce},calcMarkerSize:b,calcAxisExpansion:C,setFirstScatter:M,getStackOpts:N}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"./arrays_to_calcdata":357,"./calc_selection":360,"./colorscale_calc":361,"./subtypes":383,"fast-isnumeric":17}],360:[function(v,pe,J){"use strict";var s=v("../../lib");pe.exports=function(g,p){s.isArrayOrTypedArray(p.selectedpoints)&&s.tagSelected(g,p)}},{"../../lib":232}],361:[function(v,pe,J){"use strict";var s=v("../../components/colorscale/helpers").hasColorscale,g=v("../../components/colorscale/calc"),p=v("./subtypes");pe.exports=function(c,l){p.hasLines(l)&&s(l,"line")&&g(c,l,{vals:l.line.color,containerStr:"line",cLetter:"c"}),p.hasMarkers(l)&&(s(l,"marker")&&g(c,l,{vals:l.marker.color,containerStr:"marker",cLetter:"c"}),s(l,"marker.line")&&g(c,l,{vals:l.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"./subtypes":383}],362:[function(v,pe,J){"use strict";pe.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],363:[function(v,pe,J){"use strict";var s=v("./calc");function g(p,c,l,m,d,h,u){d[m]=!0;var M,w,A,V,L,C={i:null,gap:!0,s:0};if(C[u]=l,p.splice(c,0,C),c&&l===p[c-1][u]){var b=p[c-1];C.s=b.s,C.i=b.i,C.gap=b.gap}else h&&(C.s=(A=u,V=(M=p)[(w=c)-1],(L=M[w+1])?V?V.s+(L.s-V.s)*(l-V[A])/(L[A]-V[A]):L.s:V.s));c||(p[0].t=p[1].t,p[0].trace=p[1].trace,delete p[1].t,delete p[1].trace)}pe.exports=function(p,c){var l=c.xaxis,m=c.yaxis,h=p._fullLayout._scatterStackOpts[l._id+m._id];if(h){var u,C,b,M,w,N,A,V,L,H,I,D,E,P,S,R=p.calcdata;for(var G in h){var z=(H=h[G]).traceIndices;if(z.length){for(I="interpolate"===H.stackgaps,D=H.groupnorm,"v"===H.orientation?(E="x",P="y"):(E="y",P="x"),S=new Array(z.length),u=0;u<S.length;u++)S[u]=!1;N=R[z[0]];var X=new Array(N.length);for(u=0;u<N.length;u++)X[u]=N[u][E];for(u=1;u<z.length;u++){for(w=R[z[u]],C=b=0;C<w.length;C++){for(A=w[C][E];A>X[b]&&b<X.length;b++)g(w,C,X[b],u,S,I,E),C++;if(A!==X[b]){for(M=0;M<u;M++)g(R[z[M]],b,A,M,S,I,E);X.splice(b,0,A)}b++}for(;b<X.length;b++)g(w,C,X[b],u,S,I,E),C++}var W=X.length;for(C=0;C<N.length;C++){for(V=N[C][P]=N[C].s,u=1;u<z.length;u++)(w=R[z[u]])[0].trace._rawLength=w[0].trace._length,w[0].trace._length=W,w[C][P]=V+=w[C].s;if(D)for(L=("fraction"===D?V:V/100)||1,u=0;u<z.length;u++){var Z=R[z[u]][C];Z[P]/=L,Z.sNorm=Z.s/L}}for(u=0;u<z.length;u++){var ne=(w=R[z[u]])[0].trace,te=s.calcMarkerSize(ne,ne._rawLength),oe=Array.isArray(te);if(te&&S[u]||oe){var Ce=te;for(te=new Array(W),C=0;C<W;C++)te[C]=w[C].gap?0:oe?Ce[w[C].i]:Ce}var ie=new Array(W),Q=new Array(W);for(C=0;C<W;C++)ie[C]=w[C].x,Q[C]=w[C].y;s.calcAxisExpansion(p,ne,l,m,ie,Q,te),w[0].t.orientation=H.orientation}}}}}},{"./calc":359}],364:[function(v,pe,J){"use strict";pe.exports=function(s){for(var g=0;g<s.length;g++){var p=s[g];if("scatter"===p.type){var c=p.fill;if("none"!==c&&"toself"!==c&&(p.opacity=void 0,"tonexty"===c||"tonextx"===c))for(var l=g-1;l>=0;l--){var m=s[l];if("scatter"===m.type&&m.xaxis===p.xaxis&&m.yaxis===p.yaxis){m.opacity=void 0;break}}}}}},{}],365:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../registry"),p=v("./attributes"),c=v("./constants"),l=v("./subtypes"),m=v("./xy_defaults"),d=v("./period_defaults"),h=v("./stack_defaults"),u=v("./marker_defaults"),C=v("./line_defaults"),b=v("./line_shape_defaults"),M=v("./text_defaults"),w=v("./fillcolor_defaults"),N=v("../../lib").coercePattern;pe.exports=function(A,V,L,H){function I(X,W){return s.coerce(A,V,p,X,W)}var D=m(A,V,H,I);if(D||(V.visible=!1),V.visible){d(A,V,H,I),I("xhoverformat"),I("yhoverformat");var E=h(A,V,H,I),P=!E&&D<c.PTS_LINESONLY?"lines+markers":"lines";I("text"),I("hovertext"),I("mode",P),l.hasLines(V)&&(C(A,V,L,H,I),b(A,V,I),I("connectgaps"),I("line.simplify")),l.hasMarkers(V)&&u(A,V,L,H,I,{gradient:!0}),l.hasText(V)&&(I("texttemplate"),M(A,V,H,I));var S=[];(l.hasMarkers(V)||l.hasText(V))&&(I("cliponaxis"),I("marker.maxdisplayed"),S.push("points")),I("fill",E?E.fillDflt:"none"),"none"!==V.fill&&(w(A,V,L,I),l.hasLines(V)||b(A,V,I),N(I,"fillpattern",V.fillcolor,!1));var R=(V.line||{}).color,G=(V.marker||{}).color;"tonext"!==V.fill&&"toself"!==V.fill||S.push("fills"),I("hoveron",S.join("+")||"points"),"fills"!==V.hoveron&&I("hovertemplate");var z=g.getComponentMethod("errorbars","supplyDefaults");z(A,V,R||G||L,{axis:"y"}),z(A,V,R||G||L,{axis:"x",inherit:"y"}),s.coerceSelectionMarkerOpacity(V,I)}}},{"../../lib":232,"../../registry":318,"./attributes":358,"./constants":362,"./fillcolor_defaults":366,"./line_defaults":371,"./line_shape_defaults":373,"./marker_defaults":377,"./period_defaults":378,"./stack_defaults":381,"./subtypes":383,"./text_defaults":384,"./xy_defaults":385}],366:[function(v,pe,J){"use strict";var s=v("../../components/color"),g=v("../../lib").isArrayOrTypedArray;pe.exports=function(p,c,l,m){var d=!1;if(c.marker){var h=c.marker.color,u=(c.marker.line||{}).color;h&&!g(h)?d=h:u&&!g(u)&&(d=u)}m("fillcolor",s.addOpacity((c.line||{}).color||d||l,.5))}},{"../../components/color":102,"../../lib":232}],367:[function(v,pe,J){"use strict";var s=v("../../plots/cartesian/axes");pe.exports=function(g,p,c){var l={},m={_fullLayout:c},d=s.getFromTrace(m,p,"x"),h=s.getFromTrace(m,p,"y");return l.xLabel=s.tickText(d,d.c2l(g.x),!0).text,l.yLabel=s.tickText(h,h.c2l(g.y),!0).text,l}},{"../../plots/cartesian/axes":279}],368:[function(v,pe,J){"use strict";var s=v("../../components/color"),g=v("./subtypes");pe.exports=function(p,c){var l,m;if("lines"===p.mode)return(l=p.line.color)&&s.opacity(l)?l:p.fillcolor;if("none"===p.mode)return p.fill?p.fillcolor:"";var d=c.mcc||(p.marker||{}).color,h=c.mlcc||((p.marker||{}).line||{}).color;return(m=d&&s.opacity(d)?d:h&&s.opacity(h)&&(c.mlw||((p.marker||{}).line||{}).width)?h:"")?s.opacity(m)<.3?s.addOpacity(m,.3):m:(l=(p.line||{}).color)&&s.opacity(l)&&g.hasLines(p)&&p.line.width?l:p.fillcolor}},{"../../components/color":102,"./subtypes":383}],369:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../components/fx"),p=v("../../registry"),c=v("./get_trace_color"),l=v("../../components/color"),m=s.fillText;pe.exports=function(d,h,u,C){var b=d.cd,M=b[0].trace,w=d.xa,N=d.ya,A=w.c2p(h),V=N.c2p(u),L=[A,V],H=M.hoveron||"",I=-1!==M.mode.indexOf("markers")?3:.5,D=!!M.xperiodalignment,E=!!M.yperiodalignment;if(-1!==H.indexOf("points")){var P=function(be){var Ve=Math.max(I,be.mrc||0),Ae=w.c2p(be.x)-A,Oe=N.c2p(be.y)-V;return Math.max(Math.sqrt(Ae*Ae+Oe*Oe)-Ve,1-I/Ve)},S=g.getDistanceFunction(C,function(be){if(D){var Ve=w.c2p(be.xStart),Ae=w.c2p(be.xEnd);return A>=Math.min(Ve,Ae)&&A<=Math.max(Ve,Ae)?0:1/0}var Oe=Math.max(3,be.mrc||0),Re=1-1/Oe,tt=Math.abs(w.c2p(be.x)-A);return tt<Oe?Re*tt/Oe:tt-Oe+Re},function(be){if(E){var Ve=N.c2p(be.yStart),Ae=N.c2p(be.yEnd);return V>=Math.min(Ve,Ae)&&V<=Math.max(Ve,Ae)?0:1/0}var Oe=Math.max(3,be.mrc||0),Re=1-1/Oe,tt=Math.abs(N.c2p(be.y)-V);return tt<Oe?Re*tt/Oe:tt-Oe+Re},P);if(g.getClosest(b,S,d),!1!==d.index){var R=b[d.index],G=w.c2p(R.x,!0),z=N.c2p(R.y,!0),X=R.mrc||1;d.index=R.i;var W=b[0].t.orientation,Z=W&&(R.sNorm||R.s),ne="h"===W?Z:void 0!==R.orig_x?R.orig_x:R.x,te="v"===W?Z:void 0!==R.orig_y?R.orig_y:R.y;return s.extendFlat(d,{color:c(M,R),x0:G-X,x1:G+X,xLabelVal:ne,y0:z-X,y1:z+X,yLabelVal:te,spikeDistance:P(R),hovertemplate:M.hovertemplate}),m(R,M,d),p.getComponentMethod("errorbars","hoverInfo")(R,M,d),[d]}}if(-1!==H.indexOf("fills")&&M._polygons){var oe,Ce,ie,Q,le,j,se,ee,F=M._polygons,O=[],Y=!1,B=1/0,ae=-1/0,ue=1/0,fe=-1/0;for(oe=0;oe<F.length;oe++)(ie=F[oe]).contains(L)&&(Y=!Y,O.push(ie),ue=Math.min(ue,ie.ymin),fe=Math.max(fe,ie.ymax));if(Y){var he=((ue=Math.max(ue,0))+(fe=Math.min(fe,N._length)))/2;for(oe=0;oe<O.length;oe++)for(Q=O[oe].pts,Ce=1;Ce<Q.length;Ce++)(se=Q[Ce-1][1])>he!=(ee=Q[Ce][1])>=he&&(j=Q[Ce-1][0],ee-se&&(le=j+(Q[Ce][0]-j)*(he-se)/(ee-se),B=Math.min(B,le),ae=Math.max(ae,le)));B=Math.max(B,0),ae=Math.min(ae,w._length);var xe=l.defaultLine;return l.opacity(M.fillcolor)?xe=M.fillcolor:l.opacity((M.line||{}).color)&&(xe=M.line.color),s.extendFlat(d,{distance:d.maxHoverDistance,x0:B,x1:ae,y0:he,y1:he,color:xe,hovertemplate:!1}),delete d.index,d.text=M.text&&!Array.isArray(M.text)?String(M.text):M.name,[d]}}}},{"../../components/color":102,"../../components/fx":142,"../../lib":232,"../../registry":318,"./get_trace_color":368}],370:[function(v,pe,J){"use strict";var s=v("./subtypes");pe.exports={hasLines:s.hasLines,hasMarkers:s.hasMarkers,hasText:s.hasText,isBubble:s.isBubble,attributes:v("./attributes"),supplyDefaults:v("./defaults"),crossTraceDefaults:v("./cross_trace_defaults"),calc:v("./calc").calc,crossTraceCalc:v("./cross_trace_calc"),arraysToCalcdata:v("./arrays_to_calcdata"),plot:v("./plot"),colorbar:v("./marker_colorbar"),formatLabels:v("./format_labels"),style:v("./style").style,styleOnSelect:v("./style").styleOnSelect,hoverPoints:v("./hover"),selectPoints:v("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:v("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":293,"./arrays_to_calcdata":357,"./attributes":358,"./calc":359,"./cross_trace_calc":363,"./cross_trace_defaults":364,"./defaults":365,"./format_labels":367,"./hover":369,"./marker_colorbar":376,"./plot":379,"./select":380,"./style":382,"./subtypes":383}],371:[function(v,pe,J){"use strict";var s=v("../../lib").isArrayOrTypedArray,g=v("../../components/colorscale/helpers").hasColorscale,p=v("../../components/colorscale/defaults");pe.exports=function(c,l,m,d,h,u){var C=(c.marker||{}).color;h("line.color",m),g(c,"line")?p(c,l,d,h,{prefix:"line.",cLetter:"c"}):h("line.color",!s(C)&&C||m),h("line.width"),(u||{}).noDash||h("line.dash")}},{"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],372:[function(v,pe,J){"use strict";var s=v("../../constants/numerical"),g=s.BADNUM,p=s.LOG_CLIP,c=p+.5,l=p-.5,m=v("../../lib"),d=m.segmentsIntersect,h=m.constrain,u=v("./constants");pe.exports=function(C,b){var M,w,N,A,V,L,H,I,D,E,P,S,R,G,z,X,W,Z,ne=b.xaxis,te=b.yaxis,oe="log"===ne.type,Ce="log"===te.type,ie=ne._length,Q=te._length,le=b.connectGaps,j=b.baseTolerance,$=b.shape,se="linear"===$,ee=b.fill&&"none"!==b.fill,F=[],O=u.minTolerance,Y=C.length,B=new Array(Y),ae=0;function ue(Xe){var mt=C[Xe];if(!mt)return!1;var _t=b.linearized?ne.l2p(mt.x):ne.c2p(mt.x),yt=b.linearized?te.l2p(mt.y):te.c2p(mt.y);if(_t===g){if(oe&&(_t=ne.c2p(mt.x,!0)),_t===g)return!1;Ce&&yt===g&&(_t*=Math.abs(ne._m*Q*(ne._m>0?c:l)/(te._m*ie*(te._m>0?c:l)))),_t*=1e3}if(yt===g){if(Ce&&(yt=te.c2p(mt.y,!0)),yt===g)return!1;yt*=1e3}return[_t,yt]}function fe(Xe,mt,_t,yt){var Ot=_t-Xe,bt=yt-mt,Fe=.5-Xe,Ue=.5-mt,gt=Ot*Ot+bt*bt,Pt=Ot*Fe+bt*Ue;if(Pt>0&&Pt<gt){var Qt=Fe*bt-Ue*Ot;if(Qt*Qt<gt)return!0}}function he(Xe,mt){var _t=Xe[0]/ie,yt=Xe[1]/Q,Ot=Math.max(0,-_t,_t-1,-yt,yt-1);return Ot&&void 0!==W&&fe(_t,yt,W,Z)&&(Ot=0),Ot&&mt&&fe(_t,yt,mt[0]/ie,mt[1]/Q)&&(Ot=0),(1+u.toleranceGrowth*Ot)*j}function xe(Xe,mt){var _t=Xe[0]-mt[0],yt=Xe[1]-mt[1];return Math.sqrt(_t*_t+yt*yt)}var be,Ve,Ae,Oe,Re,tt,Ke,$e=u.maxScreensAway,Me=-ie*$e,ve=ie*(1+$e),Se=-Q*$e,Te=Q*(1+$e),qe=[[Me,Se,ve,Se],[ve,Se,ve,Te],[ve,Te,Me,Te],[Me,Te,Me,Se]];function Ee(Xe){if(Xe[0]<Me||Xe[0]>ve||Xe[1]<Se||Xe[1]>Te)return[h(Xe[0],Me,ve),h(Xe[1],Se,Te)]}function Ie(Xe,mt){return Xe[0]===mt[0]&&(Xe[0]===Me||Xe[0]===ve)||Xe[1]===mt[1]&&(Xe[1]===Se||Xe[1]===Te)||void 0}function Qe(Xe,mt,_t){return function(yt,Ot){var bt=Ee(yt),Fe=Ee(Ot),Ue=[];if(bt&&Fe&&Ie(bt,Fe))return Ue;bt&&Ue.push(bt),Fe&&Ue.push(Fe);var gt=2*m.constrain((yt[Xe]+Ot[Xe])/2,mt,_t)-((bt||yt)[Xe]+(Fe||Ot)[Xe]);return gt&&((bt&&Fe?gt>0==bt[Xe]>Fe[Xe]?bt:Fe:bt||Fe)[Xe]+=gt),Ue}}function nt(Xe){var mt=Xe[0],_t=Xe[1],yt=mt===B[ae-1][0],Ot=_t===B[ae-1][1];if(!yt||!Ot)if(ae>1){var bt=mt===B[ae-2][0],Fe=_t===B[ae-2][1];yt&&(mt===Me||mt===ve)&&bt?Fe?ae--:B[ae-1]=Xe:Ot&&(_t===Se||_t===Te)&&Fe?bt?ae--:B[ae-1]=Xe:B[ae++]=Xe}else B[ae++]=Xe}function Ye(Xe){B[ae-1][0]!==Xe[0]&&B[ae-1][1]!==Xe[1]&&nt([Ae,Oe]),nt(Xe),Re=null,Ae=Oe=0}function rt(Xe){if(W=Xe[0]/ie,Z=Xe[1]/Q,Ve=Xe[1]<Se?Se:Xe[1]>Te?Te:0,(be=Xe[0]<Me?Me:Xe[0]>ve?ve:0)||Ve){if(ae)if(Re){var mt=Ke(Re,Xe);mt.length>1&&(Ye(mt[0]),B[ae++]=mt[1])}else tt=Ke(B[ae-1],Xe)[0],B[ae++]=tt;else B[ae++]=[be||Xe[0],Ve||Xe[1]];var _t=B[ae-1];be&&Ve&&(_t[0]!==be||_t[1]!==Ve)?(Re&&(Ae!==be&&Oe!==Ve?nt(Ae&&Oe?(bt=(Ot=Xe)[0]-(yt=Re)[0],Fe=(Ot[1]-yt[1])/bt,(yt[1]*Ot[0]-Ot[1]*yt[0])/bt>0?[Fe>0?Me:ve,Te]:[Fe>0?ve:Me,Se]):[Ae||be,Oe||Ve]):Ae&&Oe&&nt([Ae,Oe])),nt([be,Ve])):Ae-be&&Oe-Ve&&nt([be||Ae,Ve||Oe]),Re=Xe,Ae=be,Oe=Ve}else Re&&Ye(Ke(Re,Xe)[0]),B[ae++]=Xe;var yt,Ot,bt,Fe}for("linear"===$||"spline"===$?Ke=function(Xe,mt){for(var _t=[],yt=0,Ot=0;Ot<4;Ot++){var bt=qe[Ot],Fe=d(Xe[0],Xe[1],mt[0],mt[1],bt[0],bt[1],bt[2],bt[3]);Fe&&(!yt||Math.abs(Fe.x-_t[0][0])>1||Math.abs(Fe.y-_t[0][1])>1)&&(Fe=[Fe.x,Fe.y],yt&&xe(Fe,Xe)<xe(_t[0],Xe)?_t.unshift(Fe):_t.push(Fe),yt++)}return _t}:"hv"===$||"vh"===$?Ke=function(Xe,mt){var _t=[],yt=Ee(Xe),Ot=Ee(mt);return yt&&Ot&&Ie(yt,Ot)||(yt&&_t.push(yt),Ot&&_t.push(Ot)),_t}:"hvh"===$?Ke=Qe(0,Me,ve):"vhv"===$&&(Ke=Qe(1,Se,Te)),M=0;M<Y;M++)if(w=ue(M)){for(ae=0,Re=null,rt(w),M++;M<Y;M++){if(!(A=ue(M))){if(le)continue;break}if(se&&b.simplify){var dt=ue(M+1);if(E=xe(A,w),ee&&(0===ae||ae===Y-1)||!(E<he(A,dt)*O)){for(I=[(A[0]-w[0])/E,(A[1]-w[1])/E],V=w,P=E,S=G=z=0,H=!1,N=A,M++;M<C.length;M++){if(L=dt,dt=ue(M+1),!L){if(le)continue;break}if(X=(D=[L[0]-w[0],L[1]-w[1]])[0]*I[1]-D[1]*I[0],G=Math.min(G,X),(z=Math.max(z,X))-G>he(L,dt))break;N=L,(R=D[0]*I[0]+D[1]*I[1])>P?(P=R,A=L,H=!1):R<S&&(S=R,V=L,H=!0)}if(H?(rt(A),N!==V&&rt(V)):(V!==w&&rt(V),N!==A&&rt(A)),rt(N),M>=C.length||!L)break;rt(L),w=L}}else rt(A)}Re&&nt([Ae||Re[0],Oe||Re[1]]),F.push(B.slice(0,ae))}return F}},{"../../constants/numerical":212,"../../lib":232,"./constants":362}],373:[function(v,pe,J){"use strict";pe.exports=function(s,g,p){"spline"===p("line.shape")&&p("line.smoothing")}},{}],374:[function(v,pe,J){"use strict";var s={tonextx:1,tonexty:1,tonext:1};pe.exports=function(g,p,c){var l,m,d,h,u,C={},b=!1,M=-1,w=0,N=-1;for(m=0;m<c.length;m++)(d=(l=c[m][0].trace).stackgroup||"")?d in C?u=C[d]:(u=C[d]=w,w++):l.fill in s&&N>=0?u=N:(u=N=w,w++),u<M&&(b=!0),l._groupIndex=M=u;var A=c.slice();b&&A.sort(function(L,H){var I=L[0].trace,D=H[0].trace;return I._groupIndex-D._groupIndex||I.index-D.index});var V={};for(m=0;m<A.length;m++)d=(l=A[m][0].trace).stackgroup||"",!0===l.visible?(l._nexttrace=null,l.fill in s&&(l._prevtrace=(h=V[d])||null,h&&(h._nexttrace=l)),l._ownfill=l.fill&&("tozero"===l.fill.substr(0,6)||"toself"===l.fill||"to"===l.fill.substr(0,2)&&!l._prevtrace),V[d]=l):l._prevtrace=l._nexttrace=l._ownfill=null;return A}},{}],375:[function(v,pe,J){"use strict";var s=v("fast-isnumeric");pe.exports=function(g,p){p||(p=2);var c=g.marker,l=c.sizeref||1,m=c.sizemin||0,d="area"===c.sizemode?function(h){return Math.sqrt(h/l)}:function(h){return h/l};return function(h){var u=d(h/p);return s(u)&&u>0?Math.max(u,m):0}}},{"fast-isnumeric":17}],376:[function(v,pe,J){"use strict";pe.exports={container:"marker",min:"cmin",max:"cmax"}},{}],377:[function(v,pe,J){"use strict";var s=v("../../components/color"),g=v("../../components/colorscale/helpers").hasColorscale,p=v("../../components/colorscale/defaults"),c=v("./subtypes");pe.exports=function(l,m,d,h,u,C){var b=c.isBubble(l),M=(l.line||{}).color;C=C||{},M&&(d=M),u("marker.symbol"),u("marker.opacity",b?.7:1),u("marker.size"),u("marker.color",d),g(l,"marker")&&p(l,m,h,u,{prefix:"marker.",cLetter:"c"}),C.noSelect||(u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size")),C.noLine||(u("marker.line.color",M&&!Array.isArray(M)&&m.marker.color!==M?M:b?s.background:s.defaultLine),g(l,"marker.line")&&p(l,m,h,u,{prefix:"marker.line.",cLetter:"c"}),u("marker.line.width",b?1:0)),b&&(u("marker.sizeref"),u("marker.sizemin"),u("marker.sizemode")),C.gradient&&"none"!==u("marker.gradient.type")&&u("marker.gradient.color")}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"./subtypes":383}],378:[function(v,pe,J){"use strict";var s=v("../../lib").dateTick0,g=v("../../constants/numerical").ONEWEEK;function p(c,l){return s(l,c%g==0?1:0)}pe.exports=function(c,l,m,d,h){if(h||(h={x:!0,y:!0}),h.x){var u=d("xperiod");u&&(d("xperiod0",p(u,l.xcalendar)),d("xperiodalignment"))}if(h.y){var C=d("yperiod");C&&(d("yperiod0",p(C,l.ycalendar)),d("yperiodalignment"))}}},{"../../constants/numerical":212,"../../lib":232}],379:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../registry"),p=v("../../lib"),c=p.ensureSingle,l=p.identity,m=v("../../components/drawing"),d=v("./subtypes"),h=v("./line_points"),u=v("./link_traces"),C=v("../../lib/polygon").tester;function b(M,w,N,A,V,L,H){var I;!function(ve,Se,Te,qe,Ee){var Ie=Te.xaxis,Qe=Te.yaxis,nt=s.extent(p.simpleMap(Ie.range,Ie.r2c)),Ye=s.extent(p.simpleMap(Qe.range,Qe.r2c)),rt=qe[0].trace;if(d.hasMarkers(rt)){var dt=rt.marker.maxdisplayed;if(0!==dt){var Xe=qe.filter(function(Ot){return Ot.x>=nt[0]&&Ot.x<=nt[1]&&Ot.y>=Ye[0]&&Ot.y<=Ye[1]}),mt=Math.ceil(Xe.length/dt),_t=0;Ee.forEach(function(Ot,bt){var Fe=Ot[0].trace;d.hasMarkers(Fe)&&Fe.marker.maxdisplayed>0&&bt<Se&&_t++});var yt=Math.round(_t*mt/3+Math.floor(_t/3)*mt/7.1);qe.forEach(function(Ot){delete Ot.vis}),Xe.forEach(function(Ot,bt){0===Math.round((bt+yt)%mt)&&(Ot.vis=!0)})}}}(0,w,N,A,V);var D=!!H&&H.duration>0;function E(ve){return D?ve.transition():ve}var P=N.xaxis,S=N.yaxis,R=A[0].trace,G=R.line,z=s.select(L),X=c(z,"g","errorbars"),W=c(z,"g","lines"),Z=c(z,"g","points"),ne=c(z,"g","text");if(g.getComponentMethod("errorbars","plot")(M,X,N,H),!0===R.visible){var te,oe;E(z).style("opacity",R.opacity);var Ce=R.fill.charAt(R.fill.length-1);"x"!==Ce&&"y"!==Ce&&(Ce=""),A[0][N.isRangePlot?"nodeRangePlot3":"node3"]=z;var ie,Q,le="",j=[],$=R._prevtrace;$&&(le=$._prevRevpath||"",oe=$._nextFill,j=$._polygons);var se,ee,F,O,Y,B,ae,ue="",fe="",he=[],xe=p.noop;if(te=R._ownFill,d.hasLines(R)||"none"!==R.fill){for(oe&&oe.datum(A),-1!==["hv","vh","hvh","vhv"].indexOf(G.shape)?(se=m.steps(G.shape),ee=m.steps(G.shape.split("").reverse().join(""))):se=ee="spline"===G.shape?function(ve){var Se=ve[ve.length-1];return ve.length>1&&ve[0][0]===Se[0]&&ve[0][1]===Se[1]?m.smoothclosed(ve.slice(1),G.smoothing):m.smoothopen(ve,G.smoothing)}:function(ve){return"M"+ve.join("L")},F=function(ve){return ee(ve.reverse())},he=h(A,{xaxis:P,yaxis:S,connectGaps:R.connectgaps,baseTolerance:Math.max(G.width||1,3)/4,shape:G.shape,simplify:G.simplify,fill:R.fill}),ae=R._polygons=new Array(he.length),I=0;I<he.length;I++)R._polygons[I]=C(he[I]);he.length&&(O=he[0][0],B=(Y=he[he.length-1])[Y.length-1]),xe=function(ve){return function(Se){if(ie=se(Se),Q=F(Se),ue?Ce?(ue+="L"+ie.substr(1),fe=Q+"L"+fe.substr(1)):(ue+="Z"+ie,fe=Q+"Z"+fe):(ue=ie,fe=Q),d.hasLines(R)&&Se.length>1){var Te=s.select(this);if(Te.datum(A),ve)E(Te.style("opacity",0).attr("d",ie).call(m.lineGroupStyle)).style("opacity",1);else{var qe=E(Te);qe.attr("d",ie),m.singleLineStyle(A,qe)}}}}}var be=W.selectAll(".js-line").data(he);E(be.exit()).style("opacity",0).remove(),be.each(xe(!1)),be.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(m.lineGroupStyle).each(xe(!0)),m.setClipUrl(be,N.layerClipId,M),he.length?(te?(te.datum(A),O&&B&&(Ce?("y"===Ce?O[1]=B[1]=S.c2p(0,!0):"x"===Ce&&(O[0]=B[0]=P.c2p(0,!0)),E(te).attr("d","M"+B+"L"+O+"L"+ue.substr(1)).call(m.singleFillStyle,M)):E(te).attr("d",ue+"Z").call(m.singleFillStyle,M))):oe&&("tonext"===R.fill.substr(0,6)&&ue&&le?("tonext"===R.fill?E(oe).attr("d",ue+"Z"+le+"Z").call(m.singleFillStyle,M):E(oe).attr("d",ue+"L"+le.substr(1)+"Z").call(m.singleFillStyle,M),R._polygons=R._polygons.concat(j)):(Ae(oe),R._polygons=null)),R._prevRevpath=fe,R._prevPolygons=ae):(te?Ae(te):oe&&Ae(oe),R._polygons=R._prevRevpath=R._prevPolygons=null),Z.datum(A),ne.datum(A),function(ve,Se,Te){var qe,Ee=Te[0].trace,Ie=d.hasMarkers(Ee),Qe=d.hasText(Ee),nt=function $e(ve){if(ve.ids)return Ke}(Ee),Ye=Me,rt=Me;if(Ie||Qe){var dt=l,Xe=Ee.stackgroup,mt=Xe&&"infer zero"===M._fullLayout._scatterStackOpts[P._id+S._id][Xe].stackgaps;Ee.marker.maxdisplayed||Ee._needsCull?dt=mt?Re:Oe:Xe&&!mt&&(dt=tt),Ie&&(Ye=dt),Qe&&(rt=dt)}var _t,yt=(qe=ve.selectAll("path.point").data(Ye,nt)).enter().append("path").classed("point",!0);D&&yt.call(m.pointStyle,Ee,M).call(m.translatePoints,P,S).style("opacity",0).transition().style("opacity",1),qe.order(),Ie&&(_t=m.makePointStyleFns(Ee)),qe.each(function(Ot){var bt=s.select(this),Fe=E(bt);m.translatePoint(Ot,Fe,P,S)?(m.singlePointStyle(Ot,Fe,Ee,_t,M),N.layerClipId&&m.hideOutsideRangePoint(Ot,Fe,P,S,Ee.xcalendar,Ee.ycalendar),Ee.customdata&&bt.classed("plotly-customdata",null!=Ot.data)):Fe.remove()}),D?qe.exit().transition().style("opacity",0).remove():qe.exit().remove(),(qe=Se.selectAll("g").data(rt,nt)).enter().append("g").classed("textpoint",!0).append("text"),qe.order(),qe.each(function(Ot){var bt=s.select(this),Fe=E(bt.select("text"));m.translatePoint(Ot,Fe,P,S)?N.layerClipId&&m.hideOutsideRangePoint(Ot,bt,P,S,Ee.xcalendar,Ee.ycalendar):bt.remove()}),qe.selectAll("text").call(m.textPointStyle,Ee,M).each(function(Ot){var bt=P.c2p(Ot.x),Fe=S.c2p(Ot.y);s.select(this).selectAll("tspan.line").each(function(){E(s.select(this)).attr({x:bt,y:Fe})})}),qe.exit().remove()}(Z,ne,A);var Ve=!1===R.cliponaxis?null:N.layerClipId;m.setClipUrl(Z,Ve,M),m.setClipUrl(ne,Ve,M)}function Ae(ve){E(ve).attr("d","M0,0Z")}function Oe(ve){return ve.filter(function(Se){return!Se.gap&&Se.vis})}function Re(ve){return ve.filter(function(Se){return Se.vis})}function tt(ve){return ve.filter(function(Se){return!Se.gap})}function Ke(ve){return ve.id}function Me(){return!1}}pe.exports=function(M,w,N,A,V,L){var H,I,S,G,D=!V,E=!!V&&V.duration>0,P=u(M,w,N);(H=A.selectAll("g.trace").data(P,function(S){return S[0].trace.uid})).enter().append("g").attr("class",function(S){return"trace scatter trace"+S[0].trace.uid}).style("stroke-miterlimit",2),H.order(),S=M,G=w,H.each(function(z){var X=c(s.select(this),"g","fills");m.setClipUrl(X,G.layerClipId,S);var W=z[0].trace,Z=[];W._ownfill&&Z.push("_ownFill"),W._nexttrace&&Z.push("_nextFill");var ne=X.selectAll("g").data(Z,l);ne.enter().append("g"),ne.exit().each(function(te){W[te]=null}).remove(),ne.order().each(function(te){W[te]=c(s.select(this),"path","js-fill")})}),E?(L&&(I=L()),s.transition().duration(V.duration).ease(V.easing).each("end",function(){I&&I()}).each("interrupt",function(){I&&I()}).each(function(){A.selectAll("g.trace").each(function(S,R){b(M,R,w,S,P,this,V)})})):H.each(function(S,R){b(M,R,w,S,P,this,V)}),D&&H.exit().remove(),A.selectAll("path:not([d])").remove()}},{"../../components/drawing":124,"../../lib":232,"../../lib/polygon":244,"../../registry":318,"./line_points":372,"./link_traces":374,"./subtypes":383,"@plotly/d3":11}],380:[function(v,pe,J){"use strict";var s=v("./subtypes");pe.exports=function(g,p){var c,l,m,d,h=g.cd,u=g.xaxis,C=g.yaxis,b=[],M=h[0].trace;if(!s.hasMarkers(M)&&!s.hasText(M))return[];if(!1===p)for(c=0;c<h.length;c++)h[c].selected=0;else for(c=0;c<h.length;c++)m=u.c2p((l=h[c]).x),d=C.c2p(l.y),null!==l.i&&p.contains([m,d],!1,c,g)?(b.push({pointNumber:l.i,x:u.c2d(l.x),y:C.c2d(l.y)}),l.selected=1):l.selected=0;return b}},{"./subtypes":383}],381:[function(v,pe,J){"use strict";var s=["orientation","groupnorm","stackgaps"];pe.exports=function(g,p,c,l){var m=c._scatterStackOpts,d=l("stackgroup");if(d){var h=p.xaxis+p.yaxis,u=m[h];u||(u=m[h]={});var C=u[d],b=!1;C?C.traces.push(p):(C=u[d]={traceIndices:[],traces:[p]},b=!0);for(var M={orientation:p.x&&!p.y?"h":"v"},w=0;w<s.length;w++){var N=s[w],A=N+"Found";if(!C[A]){var V=void 0!==g[N],L="orientation"===N;if((V||b)&&(C[N]=l(N,M[N]),L&&(C.fillDflt="h"===C[N]?"tonextx":"tonexty"),V&&(C[A]=!0,!b&&(delete C.traces[0][N],L))))for(var H=0;H<C.traces.length-1;H++){var I=C.traces[H];I._input.fill!==I.fill&&(I.fill=C.fillDflt)}}}return C}}},{}],382:[function(v,pe,J){"use strict";var s=v("@plotly/d3"),g=v("../../components/drawing"),p=v("../../registry");function c(m,d,h){g.pointStyle(m.selectAll("path.point"),d,h)}function l(m,d,h){g.textPointStyle(m.selectAll("text"),d,h)}pe.exports={style:function(m){var d=s.select(m).selectAll("g.trace.scatter");d.style("opacity",function(h){return h[0].trace.opacity}),d.selectAll("g.points").each(function(h){c(s.select(this),h.trace||h[0].trace,m)}),d.selectAll("g.text").each(function(h){l(s.select(this),h.trace||h[0].trace,m)}),d.selectAll("g.trace path.js-line").call(g.lineGroupStyle),d.selectAll("g.trace path.js-fill").call(g.fillGroupStyle,m),p.getComponentMethod("errorbars","style")(d)},stylePoints:c,styleText:l,styleOnSelect:function(m,d,h){var u=d[0].trace;u.selectedpoints?(g.selectedPointStyle(h.selectAll("path.point"),u),g.selectedTextStyle(h.selectAll("text"),u)):(c(h,u,m),l(h,u,m))}}},{"../../components/drawing":124,"../../registry":318,"@plotly/d3":11}],383:[function(v,pe,J){"use strict";var s=v("../../lib");pe.exports={hasLines:function(g){return g.visible&&g.mode&&-1!==g.mode.indexOf("lines")},hasMarkers:function(g){return g.visible&&(g.mode&&-1!==g.mode.indexOf("markers")||"splom"===g.type)},hasText:function(g){return g.visible&&g.mode&&-1!==g.mode.indexOf("text")},isBubble:function(g){return s.isPlainObject(g.marker)&&s.isArrayOrTypedArray(g.marker.size)}}},{"../../lib":232}],384:[function(v,pe,J){"use strict";var s=v("../../lib");pe.exports=function(g,p,c,l,m){m=m||{},l("textposition"),s.coerceFont(l,"textfont",c.font),m.noSelect||(l("selected.textfont.color"),l("unselected.textfont.color"))}},{"../../lib":232}],385:[function(v,pe,J){"use strict";var s=v("../../lib"),g=v("../../registry");pe.exports=function(p,c,l,m){var d,h=m("x"),u=m("y");if(g.getComponentMethod("calendars","handleTraceDefaults")(p,c,["x","y"],l),h){var C=s.minRowLength(h);u?d=Math.min(C,s.minRowLength(u)):(d=C,m("y0"),m("dy"))}else{if(!u)return 0;d=s.minRowLength(u),m("x0"),m("dx")}return c._length=d,d}},{"../../lib":232,"../../registry":318}],386:[function(v,pe,J){"use strict";var s=v("../plots/cartesian/axes"),g=v("../lib"),p=v("../plot_api/plot_schema"),c=v("./helpers").pointsAccessorFunction,l=v("../constants/numerical").BADNUM;J.moduleType="transform",J.name="aggregate";var m=J.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},d=m.aggregations;function h(M,w,N,A){if(A.enabled){for(var V=A.target,L=g.nestedProperty(w,V),H=L.get(),I=function(P,S){var G=S.d2c,z=S.c2d;switch(P.func){case"count":return u;case"first":return C;case"last":return b;case"sum":return function(X,W){for(var Z=0,ne=0;ne<W.length;ne++){var te=G(X[W[ne]]);te!==l&&(Z+=te)}return z(Z)};case"avg":return function(X,W){for(var Z=0,ne=0,te=0;te<W.length;te++){var oe=G(X[W[te]]);oe!==l&&(Z+=oe,ne++)}return ne?z(Z/ne):l};case"min":return function(X,W){for(var Z=1/0,ne=0;ne<W.length;ne++){var te=G(X[W[ne]]);te!==l&&(Z=Math.min(Z,te))}return Z===1/0?l:z(Z)};case"max":return function(X,W){for(var Z=-1/0,ne=0;ne<W.length;ne++){var te=G(X[W[ne]]);te!==l&&(Z=Math.max(Z,te))}return Z===-1/0?l:z(Z)};case"range":return function(X,W){for(var Z=1/0,ne=-1/0,te=0;te<W.length;te++){var oe=G(X[W[te]]);oe!==l&&(Z=Math.min(Z,oe),ne=Math.max(ne,oe))}return ne===-1/0||Z===1/0?l:z(ne-Z)};case"change":return function(X,W){var Z=G(X[W[0]]),ne=G(X[W[W.length-1]]);return Z===l||ne===l?l:z(ne-Z)};case"median":return function(X,W){for(var Z=[],ne=0;ne<W.length;ne++){var te=G(X[W[ne]]);te!==l&&Z.push(te)}if(!Z.length)return l;Z.sort(g.sorterAsc);var oe=(Z.length-1)/2;return z((Z[Math.floor(oe)]+Z[Math.ceil(oe)])/2)};case"mode":return function(X,W){for(var Z={},ne=0,te=l,oe=0;oe<W.length;oe++){var Ce=G(X[W[oe]]);if(Ce!==l){var ie=Z[Ce]=(Z[Ce]||0)+1;ie>ne&&(ne=ie,te=Ce)}}return ne?z(te):l};case"rms":return function(X,W){for(var Z=0,ne=0,te=0;te<W.length;te++){var oe=G(X[W[te]]);oe!==l&&(Z+=oe*oe,ne++)}return ne?z(Math.sqrt(Z/ne)):l};case"stddev":return function(X,W){var Z,ne=0,te=0,oe=1,Ce=l;for(Z=0;Z<W.length&&Ce===l;Z++)Ce=G(X[W[Z]]);if(Ce===l)return l;for(;Z<W.length;Z++){var ie=G(X[W[Z]]);if(ie!==l){var Q=ie-Ce;ne+=Q,te+=Q*Q,oe++}}var le="sample"===P.funcmode?oe-1:oe;return le?Math.sqrt((te-ne*ne/oe)/le):0}}}(A,s.getDataConversions(M,w,V,H)),D=new Array(N.length),E=0;E<N.length;E++)D[E]=I(H,N[E]);L.set(D),"count"===A.func&&g.pushUnique(w._arrayAttrs,V)}}function u(M,w){return w.length}function C(M,w){return M[w[0]]}function b(M,w){return M[w[w.length-1]]}J.supplyDefaults=function(M,w){var N,A={};function V(z,X){return g.coerce(M,A,m,z,X)}if(!V("enabled"))return A;var L=p.findArrayAttributes(w),H={};for(N=0;N<L.length;N++)H[L[N]]=1;var I=V("groups");if(!Array.isArray(I)){if(!H[I])return A.enabled=!1,A;H[I]=0}var D,E=M.aggregations||[],P=A.aggregations=new Array(E.length);function S(z,X){return g.coerce(E[N],D,d,z,X)}for(N=0;N<E.length;N++){D={_index:N};var R=S("target"),G=S("func");S("enabled")&&R&&(H[R]||"count"===G&&void 0===H[R])?("stddev"===G&&S("funcmode"),H[R]=0,P[N]=D):P[N]={enabled:!1,_index:N}}for(N=0;N<L.length;N++)H[L[N]]&&P.push({target:L[N],func:d.func.dflt,enabled:!0,_index:-1});return A},J.calcTransform=function(M,w,N){if(N.enabled){var A=N.groups,V=g.getTargetArray(w,{target:A});if(V){var L,H,I,E={},P={},S=[],R=c(w.transforms,N),G=V.length;for(w._length&&(G=Math.min(G,w._length)),L=0;L<G;L++)void 0===(I=E[H=V[L]])?(E[H]=S.length,S.push([L]),P[E[H]]=R(L)):(S[I].push(L),P[E[H]]=(P[E[H]]||[]).concat(R(L)));N._indexToPoints=P;var z=N.aggregations;for(L=0;L<z.length;L++)h(M,w,S,z[L]);"string"==typeof A&&h(M,w,S,{target:A,func:"first",enabled:!0}),w._length=S.length}}}},{"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plots/cartesian/axes":279,"./helpers":389}],387:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("../registry"),p=v("../plots/cartesian/axes"),c=v("./helpers").pointsAccessorFunction,l=v("../constants/filter_ops"),m=l.COMPARISON_OPS,d=l.INTERVAL_OPS,h=l.SET_OPS;J.moduleType="transform",J.name="filter",J.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(m).concat(d).concat(h),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},J.supplyDefaults=function(u){var C={};function b(N,A){return s.coerce(u,C,J.attributes,N,A)}if(b("enabled")){var M=b("target");if(s.isArrayOrTypedArray(M)&&0===M.length)return C.enabled=!1,C;b("preservegaps"),b("operation"),b("value");var w=g.getComponentMethod("calendars","handleDefaults");w(u,C,"valuecalendar",null),w(u,C,"targetcalendar",null)}return C},J.calcTransform=function(u,C,b){if(b.enabled){var M=s.getTargetArray(C,b);if(M){var w=b.target,N=M.length;C._length&&(N=Math.min(N,C._length));var A=b.targetcalendar,V=C._arrayAttrs,L=b.preservegaps;if("string"==typeof w){var H=s.nestedProperty(C,w+"calendar").get();H&&(A=H)}var I,D,E=function(W,Z,ne){var te=W.operation,oe=W.value,Ce=Array.isArray(oe);function ie($){return-1!==$.indexOf(te)}var Q,le=function($){return Z($,0,W.valuecalendar)},j=function($){return Z($,0,ne)};switch(ie(m)?Q=le(Ce?oe[0]:oe):ie(d)?Q=Ce?[le(oe[0]),le(oe[1])]:[le(oe),le(oe)]:ie(h)&&(Q=Ce?oe.map(le):[le(oe)]),te){case"=":return function($){return j($)===Q};case"!=":return function($){return j($)!==Q};case"<":return function($){return j($)<Q};case"<=":return function($){return j($)<=Q};case">":return function($){return j($)>Q};case">=":return function($){return j($)>=Q};case"[]":return function($){var se=j($);return se>=Q[0]&&se<=Q[1]};case"()":return function($){var se=j($);return se>Q[0]&&se<Q[1]};case"[)":return function($){var se=j($);return se>=Q[0]&&se<Q[1]};case"(]":return function($){var se=j($);return se>Q[0]&&se<=Q[1]};case"][":return function($){var se=j($);return se<=Q[0]||se>=Q[1]};case")(":return function($){var se=j($);return se<Q[0]||se>Q[1]};case"](":return function($){var se=j($);return se<=Q[0]||se>Q[1]};case")[":return function($){var se=j($);return se<Q[0]||se>=Q[1]};case"{}":return function($){return-1!==Q.indexOf(j($))};case"}{":return function($){return-1===Q.indexOf(j($))}}}(b,p.getDataToCoordFunc(u,C,w,M),A),P={},S={},R=0;L?(I=function(W){P[W.astr]=s.extendDeep([],W.get()),W.set(new Array(N))},D=function(W,Z){var ne=P[W.astr][Z];W.get()[Z]=ne}):(I=function(W){P[W.astr]=s.extendDeep([],W.get()),W.set([])},D=function(W,Z){var ne=P[W.astr][Z];W.get().push(ne)}),X(I);for(var G=c(C.transforms,b),z=0;z<N;z++)E(M[z])?(X(D,z),S[R++]=G(z)):L&&R++;b._indexToPoints=S,C._length=R}}function X(W,Z){for(var ne=0;ne<V.length;ne++)W(s.nestedProperty(C,V[ne]),Z)}}},{"../constants/filter_ops":210,"../lib":232,"../plots/cartesian/axes":279,"../registry":318,"./helpers":389}],388:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("../plot_api/plot_schema"),p=v("../plots/plots"),c=v("./helpers").pointsAccessorFunction;function l(m,d){var h,u,C,b,M,w,N,A,V,L,H=d.transform,I=d.transformIndex,D=m.transforms[I].groups,E=c(m.transforms,H);if(!s.isArrayOrTypedArray(D)||0===D.length)return[m];var P=s.filterUnique(D),S=new Array(P.length),R=D.length,G=g.findArrayAttributes(m),z=H.styles||[],X={};for(h=0;h<z.length;h++)X[z[h].target]=z[h].value;H.styles&&(L=s.keyedContainer(H,"styles","target","value.name"));var W={},Z={};for(h=0;h<P.length;h++){W[w=P[h]]=h,Z[w]=0,(N=S[h]=s.extendDeepNoArrays({},m))._group=w,N.transforms[I]._indexToPoints={};var ne=null;for(L&&(ne=L.get(w)),N.name=ne||""===ne?ne:s.templateString(H.nameformat,{trace:m.name,group:w}),A=N.transforms,N.transforms=[],u=0;u<A.length;u++)N.transforms[u]=s.extendDeepNoArrays({},A[u]);for(u=0;u<G.length;u++)s.nestedProperty(N,G[u]).set([])}for(C=0;C<G.length;C++){for(b=G[C],u=0,V=[];u<P.length;u++)V[u]=s.nestedProperty(S[u],b).get();for(M=s.nestedProperty(m,b).get(),u=0;u<R;u++)V[W[D[u]]].push(M[u])}for(u=0;u<R;u++)(N=S[W[D[u]]]).transforms[I]._indexToPoints[Z[D[u]]]=E(u),Z[D[u]]++;for(h=0;h<P.length;h++)w=P[h],p.clearExpandedTraceDefaultColors(N=S[h]),N=s.extendDeepNoArrays(N,X[w]||{});return S}J.moduleType="transform",J.name="groupby",J.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},J.supplyDefaults=function(m,d,h){var u,C={};function b(V,L){return s.coerce(m,C,J.attributes,V,L)}if(!b("enabled"))return C;b("groups"),b("nameformat",h._dataLength>1?"%{group} (%{trace})":"%{group}");var M=m.styles,w=C.styles=[];if(M)for(u=0;u<M.length;u++){var N=w[u]={};s.coerce(M[u],w[u],J.attributes.styles,"target");var A=s.coerce(M[u],w[u],J.attributes.styles,"value");s.isPlainObject(A)?N.value=s.extendDeep({},A):A&&delete N.value}return C},J.transform=function(m,d){var h,u,C,b=[];for(u=0;u<m.length;u++)for(h=l(m[u],d),C=0;C<h.length;C++)b.push(h[C]);return b}},{"../lib":232,"../plot_api/plot_schema":267,"../plots/plots":316,"./helpers":389}],389:[function(v,pe,J){"use strict";J.pointsAccessorFunction=function(s,g){for(var p,c,l=0;l<s.length&&(p=s[l])!==g;l++)p._indexToPoints&&!1!==p.enabled&&(c=p._indexToPoints);return c?function(m){return c[m]}:function(m){return[m]}}},{}],390:[function(v,pe,J){"use strict";var s=v("../lib"),g=v("../plots/cartesian/axes"),p=v("./helpers").pointsAccessorFunction,c=v("../constants/numerical").BADNUM;J.moduleType="transform",J.name="sort",J.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},J.supplyDefaults=function(l){var m={};function d(h,u){return s.coerce(l,m,J.attributes,h,u)}return d("enabled")&&(d("target"),d("order")),m},J.calcTransform=function(l,m,d){if(d.enabled){var h=s.getTargetArray(m,d);if(h){var u=d.target,C=h.length;m._length&&(C=Math.min(C,m._length));var b,M,w=m._arrayAttrs,N=function(D,E,P,S){var R,G=new Array(S),z=new Array(S);for(R=0;R<S;R++)G[R]={v:E[R],i:R};for(G.sort(function(X,W){switch(X.order){case"ascending":return function(Z,ne){var te=W(Z.v),oe=W(ne.v);return te===c?1:oe===c?-1:te-oe};case"descending":return function(Z,ne){var te=W(Z.v),oe=W(ne.v);return te===c?1:oe===c?-1:oe-te}}}(D,P)),R=0;R<S;R++)z[R]=G[R].i;return z}(d,h,g.getDataToCoordFunc(l,m,u,h),C),A=p(m.transforms,d),V={};for(b=0;b<w.length;b++){var L=s.nestedProperty(m,w[b]),H=L.get(),I=new Array(C);for(M=0;M<C;M++)I[M]=H[N[M]];L.set(I)}for(M=0;M<C;M++)V[M]=A(N[M]);d._indexToPoints=V,m._length=C}}}},{"../constants/numerical":212,"../lib":232,"../plots/cartesian/axes":279,"./helpers":389}],391:[function(v,pe,J){"use strict";J.version="2.12.0"},{}]},{},[8])(8)}},Ha=>{Ha(Ha.s=397)}]);