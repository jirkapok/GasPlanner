(function(c,tt){"object"==typeof exports&&typeof module<"u"?module.exports=tt(require("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],tt):(c=typeof globalThis<"u"?globalThis:c||self).bootstrap=tt(c.Popper)})(this,function(c){"use strict";const V=function tt(se){if(se&&se.__esModule)return se;const rt=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(se)for(const yt in se)if("default"!==yt){const le=Object.getOwnPropertyDescriptor(se,yt);Object.defineProperty(rt,yt,le.get?le:{enumerable:!0,get:()=>se[yt]})}return rt.default=se,Object.freeze(rt)}(c),t="transitionend",l=se=>{let rt=se.getAttribute("data-bs-target");if(!rt||"#"===rt){let yt=se.getAttribute("href");if(!yt||!yt.includes("#")&&!yt.startsWith("."))return null;yt.includes("#")&&!yt.startsWith("#")&&(yt=`#${yt.split("#")[1]}`),rt=yt&&"#"!==yt?yt.trim():null}return rt},o=se=>{const rt=l(se);return rt&&document.querySelector(rt)?rt:null},e=se=>{const rt=l(se);return rt?document.querySelector(rt):null},n=se=>{se.dispatchEvent(new Event(t))},s=se=>!(!se||"object"!=typeof se)&&(void 0!==se.jquery&&(se=se[0]),void 0!==se.nodeType),a=se=>s(se)?se.jquery?se[0]:se:"string"==typeof se&&se.length>0?document.querySelector(se):null,i=se=>{if(!s(se)||0===se.getClientRects().length)return!1;const rt="visible"===getComputedStyle(se).getPropertyValue("visibility"),yt=se.closest("details:not([open])");if(!yt)return rt;if(yt!==se){const le=se.closest("summary");if(le&&le.parentNode!==yt||null===le)return!1}return rt},r=se=>!se||se.nodeType!==Node.ELEMENT_NODE||!!se.classList.contains("disabled")||(void 0!==se.disabled?se.disabled:se.hasAttribute("disabled")&&"false"!==se.getAttribute("disabled")),d=se=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof se.getRootNode){const rt=se.getRootNode();return rt instanceof ShadowRoot?rt:null}return se instanceof ShadowRoot?se:se.parentNode?d(se.parentNode):null},f=()=>{},p=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,T=[],w=()=>"rtl"===document.documentElement.dir,x=se=>{var rt;rt=()=>{const yt=p();if(yt){const le=se.NAME,Ie=yt.fn[le];yt.fn[le]=se.jQueryInterface,yt.fn[le].Constructor=se,yt.fn[le].noConflict=()=>(yt.fn[le]=Ie,se.jQueryInterface)}},"loading"===document.readyState?(T.length||document.addEventListener("DOMContentLoaded",()=>{for(const yt of T)yt()}),T.push(rt)):rt()},m=se=>{"function"==typeof se&&se()},y=(se,rt,yt=!0)=>{if(!yt)return void m(se);const le=(on=>{if(!on)return 0;let{transitionDuration:kn,transitionDelay:Nn}=window.getComputedStyle(on);const Vn=Number.parseFloat(kn),Kn=Number.parseFloat(Nn);return Vn||Kn?(kn=kn.split(",")[0],Nn=Nn.split(",")[0],1e3*(Number.parseFloat(kn)+Number.parseFloat(Nn))):0})(rt)+5;let Ie=!1;const We=({target:on})=>{on===rt&&(Ie=!0,rt.removeEventListener(t,We),m(se))};rt.addEventListener(t,We),setTimeout(()=>{Ie||n(rt)},le)},A=(se,rt,yt,le)=>{const Ie=se.length;let We=se.indexOf(rt);return-1===We?!yt&&le?se[Ie-1]:se[0]:(We+=yt?1:-1,le&&(We=(We+Ie)%Ie),se[Math.max(0,Math.min(We,Ie-1))])},b=/[^.]*(?=\..*)\.|.*/,k=/\..*/,L=/::\d+$/,g={};let S=1;const I={mouseenter:"mouseover",mouseleave:"mouseout"},v=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function R(se,rt){return rt&&`${rt}::${S++}`||se.uidEvent||S++}function z(se){const rt=R(se);return se.uidEvent=rt,g[rt]=g[rt]||{},g[rt]}function F(se,rt,yt=null){return Object.values(se).find(le=>le.callable===rt&&le.delegationSelector===yt)}function B(se,rt,yt){const le="string"==typeof rt,Ie=le?yt:rt||yt;let We=q(se);return v.has(We)||(We=se),[le,Ie,We]}function H(se,rt,yt,le,Ie){if("string"!=typeof rt||!se)return;let[We,on,kn]=B(rt,yt,le);var cr;rt in I&&(cr=on,on=function(Un){if(!Un.relatedTarget||Un.relatedTarget!==Un.delegateTarget&&!Un.delegateTarget.contains(Un.relatedTarget))return cr.call(this,Un)});const Nn=z(se),Vn=Nn[kn]||(Nn[kn]={}),Kn=F(Vn,on,We?yt:null);if(Kn)return void(Kn.oneOff=Kn.oneOff&&Ie);const Hn=R(on,rt.replace(b,"")),lr=We?function(nr,cr,Un){return function fr(wr){const Wr=nr.querySelectorAll(cr);for(let{target:vr}=wr;vr&&vr!==this;vr=vr.parentNode)for(const Jr of Wr)if(Jr===vr)return J(wr,{delegateTarget:vr}),fr.oneOff&&P.off(nr,wr.type,cr,Un),Un.apply(vr,[wr])}}(se,yt,on):function(nr,cr){return function Un(fr){return J(fr,{delegateTarget:nr}),Un.oneOff&&P.off(nr,fr.type,cr),cr.apply(nr,[fr])}}(se,on);lr.delegationSelector=We?yt:null,lr.callable=on,lr.oneOff=Ie,lr.uidEvent=Hn,Vn[Hn]=lr,se.addEventListener(kn,lr,We)}function X(se,rt,yt,le,Ie){const We=F(rt[yt],le,Ie);We&&(se.removeEventListener(yt,We,Boolean(Ie)),delete rt[yt][We.uidEvent])}function ot(se,rt,yt,le){const Ie=rt[yt]||{};for(const We of Object.keys(Ie))if(We.includes(le)){const on=Ie[We];X(se,rt,yt,on.callable,on.delegationSelector)}}function q(se){return se=se.replace(k,""),I[se]||se}const P={on(se,rt,yt,le){H(se,rt,yt,le,!1)},one(se,rt,yt,le){H(se,rt,yt,le,!0)},off(se,rt,yt,le){if("string"!=typeof rt||!se)return;const[Ie,We,on]=B(rt,yt,le),kn=on!==rt,Nn=z(se),Vn=Nn[on]||{},Kn=rt.startsWith(".");if(void 0===We){if(Kn)for(const Hn of Object.keys(Nn))ot(se,Nn,Hn,rt.slice(1));for(const Hn of Object.keys(Vn)){const lr=Hn.replace(L,"");if(!kn||rt.includes(lr)){const nr=Vn[Hn];X(se,Nn,on,nr.callable,nr.delegationSelector)}}}else{if(!Object.keys(Vn).length)return;X(se,Nn,on,We,Ie?yt:null)}},trigger(se,rt,yt){if("string"!=typeof rt||!se)return null;const le=p();let Ie=null,We=!0,on=!0,kn=!1;rt!==q(rt)&&le&&(Ie=le.Event(rt,yt),le(se).trigger(Ie),We=!Ie.isPropagationStopped(),on=!Ie.isImmediatePropagationStopped(),kn=Ie.isDefaultPrevented());let Nn=new Event(rt,{bubbles:We,cancelable:!0});return Nn=J(Nn,yt),kn&&Nn.preventDefault(),on&&se.dispatchEvent(Nn),Nn.defaultPrevented&&Ie&&Ie.preventDefault(),Nn}};function J(se,rt){for(const[yt,le]of Object.entries(rt||{}))try{se[yt]=le}catch{Object.defineProperty(se,yt,{configurable:!0,get:()=>le})}return se}const E=new Map,N={set(se,rt,yt){E.has(se)||E.set(se,new Map);const le=E.get(se);le.has(rt)||0===le.size?le.set(rt,yt):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(le.keys())[0]}.`)},get:(se,rt)=>E.has(se)&&E.get(se).get(rt)||null,remove(se,rt){if(!E.has(se))return;const yt=E.get(se);yt.delete(rt),0===yt.size&&E.delete(se)}};function Z(se){if("true"===se)return!0;if("false"===se)return!1;if(se===Number(se).toString())return Number(se);if(""===se||"null"===se)return null;if("string"!=typeof se)return se;try{return JSON.parse(decodeURIComponent(se))}catch{return se}}function U(se){return se.replace(/[A-Z]/g,rt=>`-${rt.toLowerCase()}`)}const D={setDataAttribute(se,rt,yt){se.setAttribute(`data-bs-${U(rt)}`,yt)},removeDataAttribute(se,rt){se.removeAttribute(`data-bs-${U(rt)}`)},getDataAttributes(se){if(!se)return{};const rt={},yt=Object.keys(se.dataset).filter(le=>le.startsWith("bs")&&!le.startsWith("bsConfig"));for(const le of yt){let Ie=le.replace(/^bs/,"");Ie=Ie.charAt(0).toLowerCase()+Ie.slice(1,Ie.length),rt[Ie]=Z(se.dataset[le])}return rt},getDataAttribute:(se,rt)=>Z(se.getAttribute(`data-bs-${U(rt)}`))};class M{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(rt){return rt=this._mergeConfigObj(rt),rt=this._configAfterMerge(rt),this._typeCheckConfig(rt),rt}_configAfterMerge(rt){return rt}_mergeConfigObj(rt,yt){const le=s(yt)?D.getDataAttribute(yt,"config"):{};return{...this.constructor.Default,..."object"==typeof le?le:{},...s(yt)?D.getDataAttributes(yt):{},..."object"==typeof rt?rt:{}}}_typeCheckConfig(rt,yt=this.constructor.DefaultType){for(const Ie of Object.keys(yt)){const We=yt[Ie],on=rt[Ie],kn=s(on)?"element":null==(le=on)?`${le}`:Object.prototype.toString.call(le).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(We).test(kn))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Ie}" provided type "${kn}" but expected type "${We}".`)}var le}}class j extends M{constructor(rt,yt){super(),(rt=a(rt))&&(this._element=rt,this._config=this._getConfig(yt),N.set(this._element,this.constructor.DATA_KEY,this))}dispose(){N.remove(this._element,this.constructor.DATA_KEY),P.off(this._element,this.constructor.EVENT_KEY);for(const rt of Object.getOwnPropertyNames(this))this[rt]=null}_queueCallback(rt,yt,le=!0){y(rt,yt,le)}_getConfig(rt){return rt=this._mergeConfigObj(rt,this._element),rt=this._configAfterMerge(rt),this._typeCheckConfig(rt),rt}static getInstance(rt){return N.get(a(rt),this.DATA_KEY)}static getOrCreateInstance(rt,yt={}){return this.getInstance(rt)||new this(rt,"object"==typeof yt?yt:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(rt){return`${rt}${this.EVENT_KEY}`}}const C=(se,rt="hide")=>{const le=se.NAME;P.on(document,`click.dismiss${se.EVENT_KEY}`,`[data-bs-dismiss="${le}"]`,function(Ie){if(["A","AREA"].includes(this.tagName)&&Ie.preventDefault(),r(this))return;const We=e(this)||this.closest(`.${le}`);se.getOrCreateInstance(We)[rt]()})};class G extends j{static get NAME(){return"alert"}close(){if(P.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const rt=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,rt)}_destroyElement(){this._element.remove(),P.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(rt){return this.each(function(){const yt=G.getOrCreateInstance(this);if("string"==typeof rt){if(void 0===yt[rt]||rt.startsWith("_")||"constructor"===rt)throw new TypeError(`No method named "${rt}"`);yt[rt](this)}})}}C(G,"close"),x(G);const K='[data-bs-toggle="button"]';class $ extends j{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(rt){return this.each(function(){const yt=$.getOrCreateInstance(this);"toggle"===rt&&yt[rt]()})}}P.on(document,"click.bs.button.data-api",K,se=>{se.preventDefault();const rt=se.target.closest(K);$.getOrCreateInstance(rt).toggle()}),x($);const Q={find:(se,rt=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(rt,se)),findOne:(se,rt=document.documentElement)=>Element.prototype.querySelector.call(rt,se),children:(se,rt)=>[].concat(...se.children).filter(yt=>yt.matches(rt)),parents(se,rt){const yt=[];let le=se.parentNode.closest(rt);for(;le;)yt.push(le),le=le.parentNode.closest(rt);return yt},prev(se,rt){let yt=se.previousElementSibling;for(;yt;){if(yt.matches(rt))return[yt];yt=yt.previousElementSibling}return[]},next(se,rt){let yt=se.nextElementSibling;for(;yt;){if(yt.matches(rt))return[yt];yt=yt.nextElementSibling}return[]},focusableChildren(se){const rt=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(yt=>`${yt}:not([tabindex^="-"])`).join(",");return this.find(rt,se).filter(yt=>!r(yt)&&i(yt))}},ut={endCallback:null,leftCallback:null,rightCallback:null},ct={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class gt extends M{constructor(rt,yt){super(),this._element=rt,rt&&gt.isSupported()&&(this._config=this._getConfig(yt),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ut}static get DefaultType(){return ct}static get NAME(){return"swipe"}dispose(){P.off(this._element,".bs.swipe")}_start(rt){this._supportPointerEvents?this._eventIsPointerPenTouch(rt)&&(this._deltaX=rt.clientX):this._deltaX=rt.touches[0].clientX}_end(rt){this._eventIsPointerPenTouch(rt)&&(this._deltaX=rt.clientX-this._deltaX),this._handleSwipe(),m(this._config.endCallback)}_move(rt){this._deltaX=rt.touches&&rt.touches.length>1?0:rt.touches[0].clientX-this._deltaX}_handleSwipe(){const rt=Math.abs(this._deltaX);if(rt<=40)return;const yt=rt/this._deltaX;this._deltaX=0,yt&&m(yt>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(P.on(this._element,"pointerdown.bs.swipe",rt=>this._start(rt)),P.on(this._element,"pointerup.bs.swipe",rt=>this._end(rt)),this._element.classList.add("pointer-event")):(P.on(this._element,"touchstart.bs.swipe",rt=>this._start(rt)),P.on(this._element,"touchmove.bs.swipe",rt=>this._move(rt)),P.on(this._element,"touchend.bs.swipe",rt=>this._end(rt)))}_eventIsPointerPenTouch(rt){return this._supportPointerEvents&&("pen"===rt.pointerType||"touch"===rt.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const vt="next",_t="prev",kt="left",Et="right",It="slid.bs.carousel",Lt="carousel",lt="active",at={ArrowLeft:Et,ArrowRight:kt},dt={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},mt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class St extends j{constructor(rt,yt){super(rt,yt),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Q.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Lt&&this.cycle()}static get Default(){return dt}static get DefaultType(){return mt}static get NAME(){return"carousel"}next(){this._slide(vt)}nextWhenVisible(){!document.hidden&&i(this._element)&&this.next()}prev(){this._slide(_t)}pause(){this._isSliding&&n(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?P.one(this._element,It,()=>this.cycle()):this.cycle())}to(rt){const yt=this._getItems();if(rt>yt.length-1||rt<0)return;if(this._isSliding)return void P.one(this._element,It,()=>this.to(rt));const le=this._getItemIndex(this._getActive());le!==rt&&this._slide(rt>le?vt:_t,yt[rt])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(rt){return rt.defaultInterval=rt.interval,rt}_addEventListeners(){this._config.keyboard&&P.on(this._element,"keydown.bs.carousel",rt=>this._keydown(rt)),"hover"===this._config.pause&&(P.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),P.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&gt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const yt of Q.find(".carousel-item img",this._element))P.on(yt,"dragstart.bs.carousel",le=>le.preventDefault());this._swipeHelper=new gt(this._element,{leftCallback:()=>this._slide(this._directionToOrder(kt)),rightCallback:()=>this._slide(this._directionToOrder(Et)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(rt){if(/input|textarea/i.test(rt.target.tagName))return;const yt=at[rt.key];yt&&(rt.preventDefault(),this._slide(this._directionToOrder(yt)))}_getItemIndex(rt){return this._getItems().indexOf(rt)}_setActiveIndicatorElement(rt){if(!this._indicatorsElement)return;const yt=Q.findOne(".active",this._indicatorsElement);yt.classList.remove(lt),yt.removeAttribute("aria-current");const le=Q.findOne(`[data-bs-slide-to="${rt}"]`,this._indicatorsElement);le&&(le.classList.add(lt),le.setAttribute("aria-current","true"))}_updateInterval(){const rt=this._activeElement||this._getActive();if(!rt)return;const yt=Number.parseInt(rt.getAttribute("data-bs-interval"),10);this._config.interval=yt||this._config.defaultInterval}_slide(rt,yt=null){if(this._isSliding)return;const le=this._getActive(),Ie=rt===vt,We=yt||A(this._getItems(),le,Ie,this._config.wrap);if(We===le)return;const on=this._getItemIndex(We),kn=Hn=>P.trigger(this._element,Hn,{relatedTarget:We,direction:this._orderToDirection(rt),from:this._getItemIndex(le),to:on});if(kn("slide.bs.carousel").defaultPrevented||!le||!We)return;const Nn=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(on),this._activeElement=We;const Vn=Ie?"carousel-item-start":"carousel-item-end",Kn=Ie?"carousel-item-next":"carousel-item-prev";We.classList.add(Kn),le.classList.add(Vn),We.classList.add(Vn),this._queueCallback(()=>{We.classList.remove(Vn,Kn),We.classList.add(lt),le.classList.remove(lt,Kn,Vn),this._isSliding=!1,kn(It)},le,this._isAnimated()),Nn&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Q.findOne(".active.carousel-item",this._element)}_getItems(){return Q.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(rt){return w()?rt===kt?_t:vt:rt===kt?vt:_t}_orderToDirection(rt){return w()?rt===_t?kt:Et:rt===_t?Et:kt}static jQueryInterface(rt){return this.each(function(){const yt=St.getOrCreateInstance(this,rt);if("number"!=typeof rt){if("string"==typeof rt){if(void 0===yt[rt]||rt.startsWith("_")||"constructor"===rt)throw new TypeError(`No method named "${rt}"`);yt[rt]()}}else yt.to(rt)})}}P.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(se){const rt=e(this);if(!rt||!rt.classList.contains(Lt))return;se.preventDefault();const yt=St.getOrCreateInstance(rt),le=this.getAttribute("data-bs-slide-to");return le?(yt.to(le),void yt._maybeEnableCycle()):"next"===D.getDataAttribute(this,"slide")?(yt.next(),void yt._maybeEnableCycle()):(yt.prev(),void yt._maybeEnableCycle())}),P.on(window,"load.bs.carousel.data-api",()=>{const se=Q.find('[data-bs-ride="carousel"]');for(const rt of se)St.getOrCreateInstance(rt)}),x(St);const bt="show",wt="collapse",Ot="collapsing",Nt='[data-bs-toggle="collapse"]',Dt={parent:null,toggle:!0},zt={parent:"(null|element)",toggle:"boolean"};class Vt extends j{constructor(rt,yt){super(rt,yt),this._isTransitioning=!1,this._triggerArray=[];const le=Q.find(Nt);for(const Ie of le){const We=o(Ie),on=Q.find(We).filter(kn=>kn===this._element);null!==We&&on.length&&this._triggerArray.push(Ie)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Dt}static get DefaultType(){return zt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let rt=[];if(this._config.parent&&(rt=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(Ie=>Ie!==this._element).map(Ie=>Vt.getOrCreateInstance(Ie,{toggle:!1}))),rt.length&&rt[0]._isTransitioning||P.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const Ie of rt)Ie.hide();const yt=this._getDimension();this._element.classList.remove(wt),this._element.classList.add(Ot),this._element.style[yt]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const le=`scroll${yt[0].toUpperCase()+yt.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ot),this._element.classList.add(wt,bt),this._element.style[yt]="",P.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[yt]=`${this._element[le]}px`}hide(){if(this._isTransitioning||!this._isShown()||P.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const rt=this._getDimension();this._element.style[rt]=`${this._element.getBoundingClientRect()[rt]}px`,this._element.classList.add(Ot),this._element.classList.remove(wt,bt);for(const yt of this._triggerArray){const le=e(yt);le&&!this._isShown(le)&&this._addAriaAndCollapsedClass([yt],!1)}this._isTransitioning=!0,this._element.style[rt]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ot),this._element.classList.add(wt),P.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(rt=this._element){return rt.classList.contains(bt)}_configAfterMerge(rt){return rt.toggle=Boolean(rt.toggle),rt.parent=a(rt.parent),rt}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const rt=this._getFirstLevelChildren(Nt);for(const yt of rt){const le=e(yt);le&&this._addAriaAndCollapsedClass([yt],this._isShown(le))}}_getFirstLevelChildren(rt){const yt=Q.find(":scope .collapse .collapse",this._config.parent);return Q.find(rt,this._config.parent).filter(le=>!yt.includes(le))}_addAriaAndCollapsedClass(rt,yt){if(rt.length)for(const le of rt)le.classList.toggle("collapsed",!yt),le.setAttribute("aria-expanded",yt)}static jQueryInterface(rt){const yt={};return"string"==typeof rt&&/show|hide/.test(rt)&&(yt.toggle=!1),this.each(function(){const le=Vt.getOrCreateInstance(this,yt);if("string"==typeof rt){if(void 0===le[rt])throw new TypeError(`No method named "${rt}"`);le[rt]()}})}}P.on(document,"click.bs.collapse.data-api",Nt,function(se){("A"===se.target.tagName||se.delegateTarget&&"A"===se.delegateTarget.tagName)&&se.preventDefault();const rt=o(this),yt=Q.find(rt);for(const le of yt)Vt.getOrCreateInstance(le,{toggle:!1}).toggle()}),x(Vt);const Ct="dropdown",Zt="ArrowUp",Kt="ArrowDown",Jt="click.bs.dropdown.data-api",de="keydown.bs.dropdown.data-api",$t="show",Tt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',At=`${Tt}.show`,qt=".dropdown-menu",ue=w()?"top-end":"top-start",Te=w()?"top-start":"top-end",Ce=w()?"bottom-end":"bottom-start",xe=w()?"bottom-start":"bottom-end",ye=w()?"left-start":"right-start",ce=w()?"right-start":"left-start",nt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},it={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Mt extends j{constructor(rt,yt){super(rt,yt),this._popper=null,this._parent=this._element.parentNode,this._menu=Q.next(this._element,qt)[0]||Q.prev(this._element,qt)[0]||Q.findOne(qt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return nt}static get DefaultType(){return it}static get NAME(){return Ct}toggle(){return this._isShown()?this.hide():this.show()}show(){if(r(this._element)||this._isShown())return;const rt={relatedTarget:this._element};if(!P.trigger(this._element,"show.bs.dropdown",rt).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const yt of[].concat(...document.body.children))P.on(yt,"mouseover",f);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add($t),this._element.classList.add($t),P.trigger(this._element,"shown.bs.dropdown",rt)}}hide(){!r(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(rt){if(!P.trigger(this._element,"hide.bs.dropdown",rt).defaultPrevented){if("ontouchstart"in document.documentElement)for(const yt of[].concat(...document.body.children))P.off(yt,"mouseover",f);this._popper&&this._popper.destroy(),this._menu.classList.remove($t),this._element.classList.remove($t),this._element.setAttribute("aria-expanded","false"),D.removeDataAttribute(this._menu,"popper"),P.trigger(this._element,"hidden.bs.dropdown",rt)}}_getConfig(rt){if("object"==typeof(rt=super._getConfig(rt)).reference&&!s(rt.reference)&&"function"!=typeof rt.reference.getBoundingClientRect)throw new TypeError(`${Ct.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return rt}_createPopper(){if(void 0===V)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let rt=this._element;"parent"===this._config.reference?rt=this._parent:s(this._config.reference)?rt=a(this._config.reference):"object"==typeof this._config.reference&&(rt=this._config.reference);const yt=this._getPopperConfig();this._popper=V.createPopper(rt,this._menu,yt)}_isShown(){return this._menu.classList.contains($t)}_getPlacement(){const rt=this._parent;if(rt.classList.contains("dropend"))return ye;if(rt.classList.contains("dropstart"))return ce;if(rt.classList.contains("dropup-center"))return"top";if(rt.classList.contains("dropdown-center"))return"bottom";const yt="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return rt.classList.contains("dropup")?yt?Te:ue:yt?xe:Ce}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:rt}=this._config;return"string"==typeof rt?rt.split(",").map(yt=>Number.parseInt(yt,10)):"function"==typeof rt?yt=>rt(yt,this._element):rt}_getPopperConfig(){const rt={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(D.setDataAttribute(this._menu,"popper","static"),rt.modifiers=[{name:"applyStyles",enabled:!1}]),{...rt,..."function"==typeof this._config.popperConfig?this._config.popperConfig(rt):this._config.popperConfig}}_selectMenuItem({key:rt,target:yt}){const le=Q.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Ie=>i(Ie));le.length&&A(le,yt,rt===Kt,!le.includes(yt)).focus()}static jQueryInterface(rt){return this.each(function(){const yt=Mt.getOrCreateInstance(this,rt);if("string"==typeof rt){if(void 0===yt[rt])throw new TypeError(`No method named "${rt}"`);yt[rt]()}})}static clearMenus(rt){if(2===rt.button||"keyup"===rt.type&&"Tab"!==rt.key)return;const yt=Q.find(At);for(const le of yt){const Ie=Mt.getInstance(le);if(!Ie||!1===Ie._config.autoClose)continue;const We=rt.composedPath(),on=We.includes(Ie._menu);if(We.includes(Ie._element)||"inside"===Ie._config.autoClose&&!on||"outside"===Ie._config.autoClose&&on||Ie._menu.contains(rt.target)&&("keyup"===rt.type&&"Tab"===rt.key||/input|select|option|textarea|form/i.test(rt.target.tagName)))continue;const kn={relatedTarget:Ie._element};"click"===rt.type&&(kn.clickEvent=rt),Ie._completeHide(kn)}}static dataApiKeydownHandler(rt){const yt=/input|textarea/i.test(rt.target.tagName),le="Escape"===rt.key,Ie=[Zt,Kt].includes(rt.key);if(!Ie&&!le||yt&&!le)return;rt.preventDefault();const We=this.matches(Tt)?this:Q.prev(this,Tt)[0]||Q.next(this,Tt)[0]||Q.findOne(Tt,rt.delegateTarget.parentNode),on=Mt.getOrCreateInstance(We);if(Ie)return rt.stopPropagation(),on.show(),void on._selectMenuItem(rt);on._isShown()&&(rt.stopPropagation(),on.hide(),We.focus())}}P.on(document,de,Tt,Mt.dataApiKeydownHandler),P.on(document,de,qt,Mt.dataApiKeydownHandler),P.on(document,Jt,Mt.clearMenus),P.on(document,"keyup.bs.dropdown.data-api",Mt.clearMenus),P.on(document,Jt,Tt,function(se){se.preventDefault(),Mt.getOrCreateInstance(this).toggle()}),x(Mt);const Pt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ut=".sticky-top",Rt="padding-right",jt="margin-right";class Yt{constructor(){this._element=document.body}getWidth(){const rt=document.documentElement.clientWidth;return Math.abs(window.innerWidth-rt)}hide(){const rt=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Rt,yt=>yt+rt),this._setElementAttributes(Pt,Rt,yt=>yt+rt),this._setElementAttributes(Ut,jt,yt=>yt-rt)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Rt),this._resetElementAttributes(Pt,Rt),this._resetElementAttributes(Ut,jt)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(rt,yt,le){const Ie=this.getWidth();this._applyManipulationCallback(rt,We=>{if(We!==this._element&&window.innerWidth>We.clientWidth+Ie)return;this._saveInitialAttribute(We,yt);const on=window.getComputedStyle(We).getPropertyValue(yt);We.style.setProperty(yt,`${le(Number.parseFloat(on))}px`)})}_saveInitialAttribute(rt,yt){const le=rt.style.getPropertyValue(yt);le&&D.setDataAttribute(rt,yt,le)}_resetElementAttributes(rt,yt){this._applyManipulationCallback(rt,le=>{const Ie=D.getDataAttribute(le,yt);null!==Ie?(D.removeDataAttribute(le,yt),le.style.setProperty(yt,Ie)):le.style.removeProperty(yt)})}_applyManipulationCallback(rt,yt){if(s(rt))yt(rt);else for(const le of Q.find(rt,this._element))yt(le)}}const ae="mousedown.bs.backdrop",he={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Me={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class re extends M{constructor(rt){super(),this._config=this._getConfig(rt),this._isAppended=!1,this._element=null}static get Default(){return he}static get DefaultType(){return Me}static get NAME(){return"backdrop"}show(rt){if(!this._config.isVisible)return void m(rt);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{m(rt)})}hide(rt){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),m(rt)})):m(rt)}dispose(){this._isAppended&&(P.off(this._element,ae),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const rt=document.createElement("div");rt.className=this._config.className,this._config.isAnimated&&rt.classList.add("fade"),this._element=rt}return this._element}_configAfterMerge(rt){return rt.rootElement=a(rt.rootElement),rt}_append(){if(this._isAppended)return;const rt=this._getElement();this._config.rootElement.append(rt),P.on(rt,ae,()=>{m(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(rt){y(rt,this._getElement(),this._config.isAnimated)}}const me=".bs.focustrap",Oe="backward",oe={autofocus:!0,trapElement:null},te={autofocus:"boolean",trapElement:"element"};class Ae extends M{constructor(rt){super(),this._config=this._getConfig(rt),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return oe}static get DefaultType(){return te}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),P.off(document,me),P.on(document,"focusin.bs.focustrap",rt=>this._handleFocusin(rt)),P.on(document,"keydown.tab.bs.focustrap",rt=>this._handleKeydown(rt)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,P.off(document,me))}_handleFocusin(rt){const{trapElement:yt}=this._config;if(rt.target===document||rt.target===yt||yt.contains(rt.target))return;const le=Q.focusableChildren(yt);0===le.length?yt.focus():this._lastTabNavDirection===Oe?le[le.length-1].focus():le[0].focus()}_handleKeydown(rt){"Tab"===rt.key&&(this._lastTabNavDirection=rt.shiftKey?Oe:"forward")}}const _e="hidden.bs.modal",ge="show.bs.modal",we="modal-open",Ne="modal-static",Pe={backdrop:!0,focus:!0,keyboard:!0},ze={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ue extends j{constructor(rt,yt){super(rt,yt),this._dialog=Q.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Yt,this._addEventListeners()}static get Default(){return Pe}static get DefaultType(){return ze}static get NAME(){return"modal"}toggle(rt){return this._isShown?this.hide():this.show(rt)}show(rt){this._isShown||this._isTransitioning||P.trigger(this._element,ge,{relatedTarget:rt}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(we),this._adjustDialog(),this._backdrop.show(()=>this._showElement(rt)))}hide(){this._isShown&&!this._isTransitioning&&(P.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){for(const rt of[window,this._dialog])P.off(rt,".bs.modal");this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new re({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ae({trapElement:this._element})}_showElement(rt){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const yt=Q.findOne(".modal-body",this._dialog);yt&&(yt.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,P.trigger(this._element,"shown.bs.modal",{relatedTarget:rt})},this._dialog,this._isAnimated())}_addEventListeners(){P.on(this._element,"keydown.dismiss.bs.modal",rt=>{if("Escape"===rt.key)return this._config.keyboard?(rt.preventDefault(),void this.hide()):void this._triggerBackdropTransition()}),P.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),P.on(this._element,"mousedown.dismiss.bs.modal",rt=>{P.one(this._element,"click.dismiss.bs.modal",yt=>{this._element===rt.target&&this._element===yt.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(we),this._resetAdjustments(),this._scrollBar.reset(),P.trigger(this._element,_e)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(P.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const rt=this._element.scrollHeight>document.documentElement.clientHeight,yt=this._element.style.overflowY;"hidden"===yt||this._element.classList.contains(Ne)||(rt||(this._element.style.overflowY="hidden"),this._element.classList.add(Ne),this._queueCallback(()=>{this._element.classList.remove(Ne),this._queueCallback(()=>{this._element.style.overflowY=yt},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const rt=this._element.scrollHeight>document.documentElement.clientHeight,yt=this._scrollBar.getWidth(),le=yt>0;if(le&&!rt){const Ie=w()?"paddingLeft":"paddingRight";this._element.style[Ie]=`${yt}px`}if(!le&&rt){const Ie=w()?"paddingRight":"paddingLeft";this._element.style[Ie]=`${yt}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(rt,yt){return this.each(function(){const le=Ue.getOrCreateInstance(this,rt);if("string"==typeof rt){if(void 0===le[rt])throw new TypeError(`No method named "${rt}"`);le[rt](yt)}})}}P.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(se){const rt=e(this);["A","AREA"].includes(this.tagName)&&se.preventDefault(),P.one(rt,ge,le=>{le.defaultPrevented||P.one(rt,_e,()=>{i(this)&&this.focus()})});const yt=Q.findOne(".modal.show");yt&&Ue.getInstance(yt).hide(),Ue.getOrCreateInstance(rt).toggle(this)}),C(Ue),x(Ue);const He="showing",ve=".offcanvas.show",ke="hidePrevented.bs.offcanvas",Fe="hidden.bs.offcanvas",De={backdrop:!0,keyboard:!0,scroll:!1},Ve={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ze extends j{constructor(rt,yt){super(rt,yt),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return De}static get DefaultType(){return Ve}static get NAME(){return"offcanvas"}toggle(rt){return this._isShown?this.hide():this.show(rt)}show(rt){this._isShown||P.trigger(this._element,"show.bs.offcanvas",{relatedTarget:rt}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Yt).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(He),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(He),P.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:rt})},this._element,!0))}hide(){this._isShown&&(P.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Yt).reset(),P.trigger(this._element,Fe)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const rt=Boolean(this._config.backdrop);return new re({className:"offcanvas-backdrop",isVisible:rt,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:rt?()=>{"static"!==this._config.backdrop?this.hide():P.trigger(this._element,ke)}:null})}_initializeFocusTrap(){return new Ae({trapElement:this._element})}_addEventListeners(){P.on(this._element,"keydown.dismiss.bs.offcanvas",rt=>{"Escape"===rt.key&&(this._config.keyboard?this.hide():P.trigger(this._element,ke))})}static jQueryInterface(rt){return this.each(function(){const yt=Ze.getOrCreateInstance(this,rt);if("string"==typeof rt){if(void 0===yt[rt]||rt.startsWith("_")||"constructor"===rt)throw new TypeError(`No method named "${rt}"`);yt[rt](this)}})}}P.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(se){const rt=e(this);if(["A","AREA"].includes(this.tagName)&&se.preventDefault(),r(this))return;P.one(rt,Fe,()=>{i(this)&&this.focus()});const yt=Q.findOne(ve);yt&&yt!==rt&&Ze.getInstance(yt).hide(),Ze.getOrCreateInstance(rt).toggle(this)}),P.on(window,"load.bs.offcanvas.data-api",()=>{for(const se of Q.find(ve))Ze.getOrCreateInstance(se).show()}),P.on(window,"resize.bs.offcanvas",()=>{for(const se of Q.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(se).position&&Ze.getOrCreateInstance(se).hide()}),C(Ze),x(Ze);const tn=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),rn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,ln=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,cn=(se,rt)=>{const yt=se.nodeName.toLowerCase();return rt.includes(yt)?!tn.has(yt)||Boolean(rn.test(se.nodeValue)||ln.test(se.nodeValue)):rt.filter(le=>le instanceof RegExp).some(le=>le.test(yt))},sn={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},fn={allowList:sn,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Xe={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},gn={entry:"(string|element|function|null)",selector:"(string|element)"};class Mn extends M{constructor(rt){super(),this._config=this._getConfig(rt)}static get Default(){return fn}static get DefaultType(){return Xe}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(rt=>this._resolvePossibleFunction(rt)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(rt){return this._checkContent(rt),this._config.content={...this._config.content,...rt},this}toHtml(){const rt=document.createElement("div");rt.innerHTML=this._maybeSanitize(this._config.template);for(const[Ie,We]of Object.entries(this._config.content))this._setContent(rt,We,Ie);const yt=rt.children[0],le=this._resolvePossibleFunction(this._config.extraClass);return le&&yt.classList.add(...le.split(" ")),yt}_typeCheckConfig(rt){super._typeCheckConfig(rt),this._checkContent(rt.content)}_checkContent(rt){for(const[yt,le]of Object.entries(rt))super._typeCheckConfig({selector:yt,entry:le},gn)}_setContent(rt,yt,le){const Ie=Q.findOne(le,rt);Ie&&((yt=this._resolvePossibleFunction(yt))?s(yt)?this._putElementInTemplate(a(yt),Ie):this._config.html?Ie.innerHTML=this._maybeSanitize(yt):Ie.textContent=yt:Ie.remove())}_maybeSanitize(rt){return this._config.sanitize?function(yt,le,Ie){if(!yt.length)return yt;if(Ie&&"function"==typeof Ie)return Ie(yt);const We=(new window.DOMParser).parseFromString(yt,"text/html"),on=[].concat(...We.body.querySelectorAll("*"));for(const kn of on){const Nn=kn.nodeName.toLowerCase();if(!Object.keys(le).includes(Nn)){kn.remove();continue}const Vn=[].concat(...kn.attributes),Kn=[].concat(le["*"]||[],le[Nn]||[]);for(const Hn of Vn)cn(Hn,Kn)||kn.removeAttribute(Hn.nodeName)}return We.body.innerHTML}(rt,this._config.allowList,this._config.sanitizeFn):rt}_resolvePossibleFunction(rt){return"function"==typeof rt?rt(this):rt}_putElementInTemplate(rt,yt){if(this._config.html)return yt.innerHTML="",void yt.append(rt);yt.textContent=rt.textContent}}const Ye=new Set(["sanitize","allowList","sanitizeFn"]),dn="fade",an="show",vn="hide.bs.modal",un="hover",Ge={AUTO:"auto",TOP:"top",RIGHT:w()?"left":"right",BOTTOM:"bottom",LEFT:w()?"right":"left"},Ee={allowList:sn,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},hn={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Tn extends j{constructor(rt,yt){if(void 0===V)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(rt,yt),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ee}static get DefaultType(){return hn}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),P.off(this._element.closest(".modal"),vn,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const rt=P.trigger(this._element,this.constructor.eventName("show")),yt=(d(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(rt.defaultPrevented||!yt)return;this._disposePopper();const le=this._getTipElement();this._element.setAttribute("aria-describedby",le.getAttribute("id"));const{container:Ie}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Ie.append(le),P.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(le),le.classList.add(an),"ontouchstart"in document.documentElement)for(const We of[].concat(...document.body.children))P.on(We,"mouseover",f);this._queueCallback(()=>{P.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!P.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(an),"ontouchstart"in document.documentElement)for(const rt of[].concat(...document.body.children))P.off(rt,"mouseover",f);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),P.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(rt){const yt=this._getTemplateFactory(rt).toHtml();if(!yt)return null;yt.classList.remove(dn,an),yt.classList.add(`bs-${this.constructor.NAME}-auto`);const le=(Ie=>{do{Ie+=Math.floor(1e6*Math.random())}while(document.getElementById(Ie));return Ie})(this.constructor.NAME).toString();return yt.setAttribute("id",le),this._isAnimated()&&yt.classList.add(dn),yt}setContent(rt){this._newContent=rt,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(rt){return this._templateFactory?this._templateFactory.changeContent(rt):this._templateFactory=new Mn({...this._config,content:rt,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(rt){return this.constructor.getOrCreateInstance(rt.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(dn)}_isShown(){return this.tip&&this.tip.classList.contains(an)}_createPopper(rt){const yt="function"==typeof this._config.placement?this._config.placement.call(this,rt,this._element):this._config.placement,le=Ge[yt.toUpperCase()];return V.createPopper(this._element,rt,this._getPopperConfig(le))}_getOffset(){const{offset:rt}=this._config;return"string"==typeof rt?rt.split(",").map(yt=>Number.parseInt(yt,10)):"function"==typeof rt?yt=>rt(yt,this._element):rt}_resolvePossibleFunction(rt){return"function"==typeof rt?rt.call(this._element):rt}_getPopperConfig(rt){const yt={placement:rt,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:le=>{this._getTipElement().setAttribute("data-popper-placement",le.state.placement)}}]};return{...yt,..."function"==typeof this._config.popperConfig?this._config.popperConfig(yt):this._config.popperConfig}}_setListeners(){const rt=this._config.trigger.split(" ");for(const yt of rt)if("click"===yt)P.on(this._element,this.constructor.eventName("click"),this._config.selector,le=>{this._initializeOnDelegatedTarget(le).toggle()});else if("manual"!==yt){const le=this.constructor.eventName(yt===un?"mouseenter":"focusin"),Ie=this.constructor.eventName(yt===un?"mouseleave":"focusout");P.on(this._element,le,this._config.selector,We=>{const on=this._initializeOnDelegatedTarget(We);on._activeTrigger["focusin"===We.type?"focus":un]=!0,on._enter()}),P.on(this._element,Ie,this._config.selector,We=>{const on=this._initializeOnDelegatedTarget(We);on._activeTrigger["focusout"===We.type?"focus":un]=on._element.contains(We.relatedTarget),on._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},P.on(this._element.closest(".modal"),vn,this._hideModalHandler)}_fixTitle(){const rt=this._element.getAttribute("title");rt&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",rt),this._element.setAttribute("data-bs-original-title",rt),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(rt,yt){clearTimeout(this._timeout),this._timeout=setTimeout(rt,yt)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(rt){const yt=D.getDataAttributes(this._element);for(const le of Object.keys(yt))Ye.has(le)&&delete yt[le];return rt={...yt,..."object"==typeof rt&&rt?rt:{}},rt=this._mergeConfigObj(rt),rt=this._configAfterMerge(rt),this._typeCheckConfig(rt),rt}_configAfterMerge(rt){return rt.container=!1===rt.container?document.body:a(rt.container),"number"==typeof rt.delay&&(rt.delay={show:rt.delay,hide:rt.delay}),"number"==typeof rt.title&&(rt.title=rt.title.toString()),"number"==typeof rt.content&&(rt.content=rt.content.toString()),rt}_getDelegateConfig(){const rt={};for(const yt in this._config)this.constructor.Default[yt]!==this._config[yt]&&(rt[yt]=this._config[yt]);return rt.selector=!1,rt.trigger="manual",rt}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(rt){return this.each(function(){const yt=Tn.getOrCreateInstance(this,rt);if("string"==typeof rt){if(void 0===yt[rt])throw new TypeError(`No method named "${rt}"`);yt[rt]()}})}}x(Tn);const xn={...Tn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},bn={...Tn.DefaultType,content:"(null|string|element|function)"};class wn extends Tn{static get Default(){return xn}static get DefaultType(){return bn}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(rt){return this.each(function(){const yt=wn.getOrCreateInstance(this,rt);if("string"==typeof rt){if(void 0===yt[rt])throw new TypeError(`No method named "${rt}"`);yt[rt]()}})}}x(wn);const On="click.bs.scrollspy",An="active",Sn={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},qn={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class zn extends j{constructor(rt,yt){super(rt,yt),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Sn}static get DefaultType(){return qn}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const rt of this._observableSections.values())this._observer.observe(rt)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(rt){return rt.target=a(rt.target)||document.body,rt.rootMargin=rt.offset?`${rt.offset}px 0px -30%`:rt.rootMargin,"string"==typeof rt.threshold&&(rt.threshold=rt.threshold.split(",").map(yt=>Number.parseFloat(yt))),rt}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(P.off(this._config.target,On),P.on(this._config.target,On,"[href]",rt=>{const yt=this._observableSections.get(rt.target.hash);if(yt){rt.preventDefault();const le=this._rootElement||window,Ie=yt.offsetTop-this._element.offsetTop;if(le.scrollTo)return void le.scrollTo({top:Ie,behavior:"smooth"});le.scrollTop=Ie}}))}_getNewObserver(){return new IntersectionObserver(yt=>this._observerCallback(yt),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(rt){const yt=on=>this._targetLinks.get(`#${on.target.id}`),le=on=>{this._previousScrollData.visibleEntryTop=on.target.offsetTop,this._process(yt(on))},Ie=(this._rootElement||document.documentElement).scrollTop,We=Ie>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Ie;for(const on of rt){if(!on.isIntersecting){this._activeTarget=null,this._clearActiveClass(yt(on));continue}const kn=on.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(We&&kn){if(le(on),!Ie)return}else We||kn||le(on)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const rt=Q.find("[href]",this._config.target);for(const yt of rt){if(!yt.hash||r(yt))continue;const le=Q.findOne(yt.hash,this._element);i(le)&&(this._targetLinks.set(yt.hash,yt),this._observableSections.set(yt.hash,le))}}_process(rt){this._activeTarget!==rt&&(this._clearActiveClass(this._config.target),this._activeTarget=rt,rt.classList.add(An),this._activateParents(rt),P.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:rt}))}_activateParents(rt){if(rt.classList.contains("dropdown-item"))Q.findOne(".dropdown-toggle",rt.closest(".dropdown")).classList.add(An);else for(const yt of Q.parents(rt,".nav, .list-group"))for(const le of Q.prev(yt,".nav-link, .nav-item > .nav-link, .list-group-item"))le.classList.add(An)}_clearActiveClass(rt){rt.classList.remove(An);const yt=Q.find("[href].active",rt);for(const le of yt)le.classList.remove(An)}static jQueryInterface(rt){return this.each(function(){const yt=zn.getOrCreateInstance(this,rt);if("string"==typeof rt){if(void 0===yt[rt]||rt.startsWith("_")||"constructor"===rt)throw new TypeError(`No method named "${rt}"`);yt[rt]()}})}}P.on(window,"load.bs.scrollspy.data-api",()=>{for(const se of Q.find('[data-bs-spy="scroll"]'))zn.getOrCreateInstance(se)}),x(zn);const $n="ArrowLeft",Gn="ArrowRight",dr="ArrowUp",Pn="ArrowDown",Rn="active",jn="show",Ir='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ar=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${Ir}`;class rr extends j{constructor(rt){super(rt),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),P.on(this._element,"keydown.bs.tab",yt=>this._keydown(yt)))}static get NAME(){return"tab"}show(){const rt=this._element;if(this._elemIsActive(rt))return;const yt=this._getActiveElem(),le=yt?P.trigger(yt,"hide.bs.tab",{relatedTarget:rt}):null;P.trigger(rt,"show.bs.tab",{relatedTarget:yt}).defaultPrevented||le&&le.defaultPrevented||(this._deactivate(yt,rt),this._activate(rt,yt))}_activate(rt,yt){rt&&(rt.classList.add(Rn),this._activate(e(rt)),this._queueCallback(()=>{"tab"===rt.getAttribute("role")?(rt.removeAttribute("tabindex"),rt.setAttribute("aria-selected",!0),this._toggleDropDown(rt,!0),P.trigger(rt,"shown.bs.tab",{relatedTarget:yt})):rt.classList.add(jn)},rt,rt.classList.contains("fade")))}_deactivate(rt,yt){rt&&(rt.classList.remove(Rn),rt.blur(),this._deactivate(e(rt)),this._queueCallback(()=>{"tab"===rt.getAttribute("role")?(rt.setAttribute("aria-selected",!1),rt.setAttribute("tabindex","-1"),this._toggleDropDown(rt,!1),P.trigger(rt,"hidden.bs.tab",{relatedTarget:yt})):rt.classList.remove(jn)},rt,rt.classList.contains("fade")))}_keydown(rt){if(![$n,Gn,dr,Pn].includes(rt.key))return;rt.stopPropagation(),rt.preventDefault();const yt=[Gn,Pn].includes(rt.key),le=A(this._getChildren().filter(Ie=>!r(Ie)),rt.target,yt,!0);le&&(le.focus({preventScroll:!0}),rr.getOrCreateInstance(le).show())}_getChildren(){return Q.find(Ar,this._parent)}_getActiveElem(){return this._getChildren().find(rt=>this._elemIsActive(rt))||null}_setInitialAttributes(rt,yt){this._setAttributeIfNotExists(rt,"role","tablist");for(const le of yt)this._setInitialAttributesOnChild(le)}_setInitialAttributesOnChild(rt){rt=this._getInnerElement(rt);const yt=this._elemIsActive(rt),le=this._getOuterElement(rt);rt.setAttribute("aria-selected",yt),le!==rt&&this._setAttributeIfNotExists(le,"role","presentation"),yt||rt.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(rt,"role","tab"),this._setInitialAttributesOnTargetPanel(rt)}_setInitialAttributesOnTargetPanel(rt){const yt=e(rt);yt&&(this._setAttributeIfNotExists(yt,"role","tabpanel"),rt.id&&this._setAttributeIfNotExists(yt,"aria-labelledby",`#${rt.id}`))}_toggleDropDown(rt,yt){const le=this._getOuterElement(rt);if(!le.classList.contains("dropdown"))return;const Ie=(We,on)=>{const kn=Q.findOne(We,le);kn&&kn.classList.toggle(on,yt)};Ie(".dropdown-toggle",Rn),Ie(".dropdown-menu",jn),le.setAttribute("aria-expanded",yt)}_setAttributeIfNotExists(rt,yt,le){rt.hasAttribute(yt)||rt.setAttribute(yt,le)}_elemIsActive(rt){return rt.classList.contains(Rn)}_getInnerElement(rt){return rt.matches(Ar)?rt:Q.findOne(Ar,rt)}_getOuterElement(rt){return rt.closest(".nav-item, .list-group-item")||rt}static jQueryInterface(rt){return this.each(function(){const yt=rr.getOrCreateInstance(this);if("string"==typeof rt){if(void 0===yt[rt]||rt.startsWith("_")||"constructor"===rt)throw new TypeError(`No method named "${rt}"`);yt[rt]()}})}}P.on(document,"click.bs.tab",Ir,function(se){["A","AREA"].includes(this.tagName)&&se.preventDefault(),r(this)||rr.getOrCreateInstance(this).show()}),P.on(window,"load.bs.tab",()=>{for(const se of Q.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))rr.getOrCreateInstance(se)}),x(rr);const gr="show",mr="showing",Cr={animation:"boolean",autohide:"boolean",delay:"number"},Lr={animation:!0,autohide:!0,delay:5e3};class sr extends j{constructor(rt,yt){super(rt,yt),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Lr}static get DefaultType(){return Cr}static get NAME(){return"toast"}show(){P.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(gr,mr),this._queueCallback(()=>{this._element.classList.remove(mr),P.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(P.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(mr),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(mr,gr),P.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(gr),super.dispose()}isShown(){return this._element.classList.contains(gr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(rt,yt){switch(rt.type){case"mouseover":case"mouseout":this._hasMouseInteraction=yt;break;case"focusin":case"focusout":this._hasKeyboardInteraction=yt}if(yt)return void this._clearTimeout();const le=rt.relatedTarget;this._element===le||this._element.contains(le)||this._maybeScheduleHide()}_setListeners(){P.on(this._element,"mouseover.bs.toast",rt=>this._onInteraction(rt,!0)),P.on(this._element,"mouseout.bs.toast",rt=>this._onInteraction(rt,!1)),P.on(this._element,"focusin.bs.toast",rt=>this._onInteraction(rt,!0)),P.on(this._element,"focusout.bs.toast",rt=>this._onInteraction(rt,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(rt){return this.each(function(){const yt=sr.getOrCreateInstance(this,rt);if("string"==typeof rt){if(void 0===yt[rt])throw new TypeError(`No method named "${rt}"`);yt[rt](this)}})}}return C(sr),x(sr),{Alert:G,Button:$,Carousel:St,Collapse:Vt,Dropdown:Mt,Modal:Ue,Offcanvas:Ze,Popover:wn,ScrollSpy:zn,Tab:rr,Toast:sr,Tooltip:Tn}}),function(c){"object"==typeof exports&&typeof module<"u"?module.exports=c():"function"==typeof define&&define.amd?define([],c):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).Plotly=c()}(function(){return function c(tt,V,t){function l(n,s){if(!V[n]){if(!tt[n]){var a="function"==typeof require&&require;if(!s&&a)return a(n,!0);if(o)return o(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=V[n]={exports:{}};tt[n][0].call(r.exports,function(d){return l(tt[n][1][d]||d)},r,r.exports,c,tt,V,t)}return V[n].exports}for(var o="function"==typeof require&&require,e=0;e<t.length;e++)l(t[e]);return l}({1:[function(c,tt,V){"use strict";var t=c("../src/lib"),l={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:#fff;","X .select-outline-2":"stroke:#000;stroke-dasharray:2px 2px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in l){var e=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");t.addStyleRule(e,l[o])}},{"../src/lib":232}],2:[function(c,tt,V){"use strict";tt.exports=c("../src/transforms/aggregate")},{"../src/transforms/aggregate":386}],3:[function(c,tt,V){"use strict";tt.exports=c("../src/traces/bar")},{"../src/traces/bar":336}],4:[function(c,tt,V){"use strict";tt.exports=c("../src/components/calendars")},{"../src/components/calendars":100}],5:[function(c,tt,V){"use strict";tt.exports=c("../src/core")},{"../src/core":214}],6:[function(c,tt,V){"use strict";tt.exports=c("../src/transforms/filter")},{"../src/transforms/filter":387}],7:[function(c,tt,V){"use strict";tt.exports=c("../src/transforms/groupby")},{"../src/transforms/groupby":388}],8:[function(c,tt,V){"use strict";var t=c("./core");t.register([c("./bar"),c("./pie"),c("./aggregate"),c("./filter"),c("./groupby"),c("./sort"),c("./calendars")]),tt.exports=t},{"./aggregate":2,"./bar":3,"./calendars":4,"./core":5,"./filter":6,"./groupby":7,"./pie":9,"./sort":10}],9:[function(c,tt,V){"use strict";tt.exports=c("../src/traces/pie")},{"../src/traces/pie":351}],10:[function(c,tt,V){"use strict";tt.exports=c("../src/transforms/sort")},{"../src/transforms/sort":390}],11:[function(c,tt,V){(function(){var t={version:"3.8.0"},l=[].slice,o=function(u){return l.call(u)},e=self.document;function n(u){return u&&(u.ownerDocument||u.document||u).documentElement}function s(u){return u&&(u.ownerDocument&&u.ownerDocument.defaultView||u.document&&u||u.defaultView)}if(e)try{o(e.documentElement.childNodes)}catch{o=function(_){for(var O=_.length,Y=new Array(O);O--;)Y[O]=_[O];return Y}}if(Date.now||(Date.now=function(){return+new Date}),e)try{e.createElement("DIV").style.setProperty("opacity",0,"")}catch{var a=this.Element.prototype,i=a.setAttribute,r=a.setAttributeNS,d=this.CSSStyleDeclaration.prototype,f=d.setProperty;a.setAttribute=function(_,O){i.call(this,_,O+"")},a.setAttributeNS=function(_,O,Y){r.call(this,_,O,Y+"")},d.setProperty=function(_,O,Y){f.call(this,_,O+"",Y)}}function h(u,_){return u<_?-1:u>_?1:u>=_?0:NaN}function p(u){return null===u?NaN:+u}function T(u){return!isNaN(u)}function w(u){return{left:function(_,O,Y,W){for(arguments.length<3&&(Y=0),arguments.length<4&&(W=_.length);Y<W;){var et=Y+W>>>1;u(_[et],O)<0?Y=et+1:W=et}return Y},right:function(_,O,Y,W){for(arguments.length<3&&(Y=0),arguments.length<4&&(W=_.length);Y<W;){var et=Y+W>>>1;u(_[et],O)>0?W=et:Y=et+1}return Y}}}t.ascending=h,t.descending=function(u,_){return _<u?-1:_>u?1:_>=u?0:NaN},t.min=function(u,_){var O,Y,W=-1,et=u.length;if(1===arguments.length){for(;++W<et;)if(null!=(Y=u[W])&&Y>=Y){O=Y;break}for(;++W<et;)null!=(Y=u[W])&&O>Y&&(O=Y)}else{for(;++W<et;)if(null!=(Y=_.call(u,u[W],W))&&Y>=Y){O=Y;break}for(;++W<et;)null!=(Y=_.call(u,u[W],W))&&O>Y&&(O=Y)}return O},t.max=function(u,_){var O,Y,W=-1,et=u.length;if(1===arguments.length){for(;++W<et;)if(null!=(Y=u[W])&&Y>=Y){O=Y;break}for(;++W<et;)null!=(Y=u[W])&&Y>O&&(O=Y)}else{for(;++W<et;)if(null!=(Y=_.call(u,u[W],W))&&Y>=Y){O=Y;break}for(;++W<et;)null!=(Y=_.call(u,u[W],W))&&Y>O&&(O=Y)}return O},t.extent=function(u,_){var O,Y,W,et=-1,st=u.length;if(1===arguments.length){for(;++et<st;)if(null!=(Y=u[et])&&Y>=Y){O=W=Y;break}for(;++et<st;)null!=(Y=u[et])&&(O>Y&&(O=Y),W<Y&&(W=Y))}else{for(;++et<st;)if(null!=(Y=_.call(u,u[et],et))&&Y>=Y){O=W=Y;break}for(;++et<st;)null!=(Y=_.call(u,u[et],et))&&(O>Y&&(O=Y),W<Y&&(W=Y))}return[O,W]},t.sum=function(u,_){var O,Y=0,W=u.length,et=-1;if(1===arguments.length)for(;++et<W;)T(O=+u[et])&&(Y+=O);else for(;++et<W;)T(O=+_.call(u,u[et],et))&&(Y+=O);return Y},t.mean=function(u,_){var O,Y=0,W=u.length,et=-1,st=W;if(1===arguments.length)for(;++et<W;)T(O=p(u[et]))?Y+=O:--st;else for(;++et<W;)T(O=p(_.call(u,u[et],et)))?Y+=O:--st;if(st)return Y/st},t.quantile=function(u,_){var O=(u.length-1)*_+1,Y=Math.floor(O),W=+u[Y-1],et=O-Y;return et?W+et*(u[Y]-W):W},t.median=function(u,_){var O,Y=[],W=u.length,et=-1;if(1===arguments.length)for(;++et<W;)T(O=p(u[et]))&&Y.push(O);else for(;++et<W;)T(O=p(_.call(u,u[et],et)))&&Y.push(O);if(Y.length)return t.quantile(Y.sort(h),.5)},t.variance=function(u,_){var O,Y,W=u.length,et=0,st=0,ht=-1,ft=0;if(1===arguments.length)for(;++ht<W;)T(O=p(u[ht]))&&(st+=(Y=O-et)*(O-(et+=Y/++ft)));else for(;++ht<W;)T(O=p(_.call(u,u[ht],ht)))&&(st+=(Y=O-et)*(O-(et+=Y/++ft)));if(ft>1)return st/(ft-1)},t.deviation=function(){var u=t.variance.apply(this,arguments);return u&&Math.sqrt(u)};var x=w(h);function m(u){return u.length}t.bisectLeft=x.left,t.bisect=t.bisectRight=x.right,t.bisector=function(u){return w(1===u.length?function(_,O){return h(u(_),O)}:u)},t.shuffle=function(u,_,O){(et=arguments.length)<3&&(O=u.length,et<2&&(_=0));for(var Y,W,et=O-_;et;)W=Math.random()*et--|0,Y=u[et+_],u[et+_]=u[W+_],u[W+_]=Y;return u},t.permute=function(u,_){for(var O=_.length,Y=new Array(O);O--;)Y[O]=u[_[O]];return Y},t.pairs=function(u){for(var _=0,O=u.length-1,Y=u[0],W=new Array(O<0?0:O);_<O;)W[_]=[Y,Y=u[++_]];return W},t.transpose=function(u){if(!(W=u.length))return[];for(var _=-1,O=t.min(u,m),Y=new Array(O);++_<O;)for(var W,et=-1,st=Y[_]=new Array(W);++et<W;)st[et]=u[et][_];return Y},t.zip=function(){return t.transpose(arguments)},t.keys=function(u){var _=[];for(var O in u)_.push(O);return _},t.values=function(u){var _=[];for(var O in u)_.push(u[O]);return _},t.entries=function(u){var _=[];for(var O in u)_.push({key:O,value:u[O]});return _},t.merge=function(u){for(var _,O,Y,W=u.length,et=-1,st=0;++et<W;)st+=u[et].length;for(O=new Array(st);--W>=0;)for(_=(Y=u[W]).length;--_>=0;)O[--st]=Y[_];return O};var y=Math.abs;function A(u){for(var _=1;u*_%1;)_*=10;return _}function b(u,_){for(var O in _)Object.defineProperty(u.prototype,O,{value:_[O],enumerable:!1})}function k(){this._=Object.create(null)}function L(u){return"__proto__"==(u+="")||"\0"===u[0]?"\0"+u:u}function g(u){return"\0"===(u+="")[0]?u.slice(1):u}function S(u){return L(u)in this._}function I(u){return(u=L(u))in this._&&delete this._[u]}function v(){var u=[];for(var _ in this._)u.push(g(_));return u}function R(){var u=0;for(var _ in this._)++u;return u}function z(){for(var u in this._)return!1;return!0}function F(){this._=Object.create(null)}function B(u){return u}function H(u,_,O){return function(){var Y=O.apply(_,arguments);return Y===_?u:Y}}function X(u,_){if(_ in u)return _;_=_.charAt(0).toUpperCase()+_.slice(1);for(var O=0,Y=ot.length;O<Y;++O){var W=ot[O]+_;if(W in u)return W}}t.range=function(u,_,O){if(arguments.length<3&&(O=1,arguments.length<2&&(_=u,u=0)),(_-u)/O==1/0)throw new Error("infinite range");var Y,W=[],et=A(y(O)),st=-1;if(u*=et,_*=et,(O*=et)<0)for(;(Y=u+O*++st)>_;)W.push(Y/et);else for(;(Y=u+O*++st)<_;)W.push(Y/et);return W},t.map=function(u,_){var O=new k;if(u instanceof k)u.forEach(function(ht,ft){O.set(ht,ft)});else if(Array.isArray(u)){var Y,W=-1,et=u.length;if(1===arguments.length)for(;++W<et;)O.set(W,u[W]);else for(;++W<et;)O.set(_.call(u,Y=u[W],W),Y)}else for(var st in u)O.set(st,u[st]);return O},b(k,{has:S,get:function(u){return this._[L(u)]},set:function(u,_){return this._[L(u)]=_},remove:I,keys:v,values:function(){var u=[];for(var _ in this._)u.push(this._[_]);return u},entries:function(){var u=[];for(var _ in this._)u.push({key:g(_),value:this._[_]});return u},size:R,empty:z,forEach:function(u){for(var _ in this._)u.call(this,g(_),this._[_])}}),t.nest=function(){var u,_,O={},Y=[],W=[];function et(st,ht,ft){if(ft>=Y.length)return _?_.call(O,ht):u?ht.sort(u):ht;for(var pt,xt,Ft,Ht,Xt=-1,ie=ht.length,Gt=Y[ft++],Qt=new k;++Xt<ie;)(Ht=Qt.get(pt=Gt(xt=ht[Xt])))?Ht.push(xt):Qt.set(pt,[xt]);return st?(xt=st(),Ft=function(Bt,pe){xt.set(Bt,et(st,pe,ft))}):(xt={},Ft=function(Bt,pe){xt[Bt]=et(st,pe,ft)}),Qt.forEach(Ft),xt}return O.map=function(st,ht){return et(ht,st,0)},O.entries=function(st){return function ht(ft,pt){if(pt>=Y.length)return ft;var xt=[],Ft=W[pt++];return ft.forEach(function(Ht,Xt){xt.push({key:Ht,values:ht(Xt,pt)})}),Ft?xt.sort(function(Ht,Xt){return Ft(Ht.key,Xt.key)}):xt}(et(t.map,st,0),0)},O.key=function(st){return Y.push(st),O},O.sortKeys=function(st){return W[Y.length-1]=st,O},O.sortValues=function(st){return u=st,O},O.rollup=function(st){return _=st,O},O},t.set=function(u){var _=new F;if(u)for(var O=0,Y=u.length;O<Y;++O)_.add(u[O]);return _},b(F,{has:S,add:function(u){return this._[L(u+="")]=!0,u},remove:I,values:v,size:R,empty:z,forEach:function(u){for(var _ in this._)u.call(this,g(_))}}),t.behavior={},t.rebind=function(u,_){for(var O,Y=1,W=arguments.length;++Y<W;)u[O=arguments[Y]]=H(u,_,_[O]);return u};var ot=["webkit","ms","moz","Moz","o","O"];function q(){}function P(){}function J(u){var _=[],O=new k;function Y(){for(var W,et=_,st=-1,ht=et.length;++st<ht;)(W=et[st].on)&&W.apply(this,arguments);return u}return Y.on=function(W,et){var st,ht=O.get(W);return arguments.length<2?ht&&ht.on:(ht&&(ht.on=null,_=_.slice(0,st=_.indexOf(ht)).concat(_.slice(st+1)),O.remove(W)),et&&_.push(O.set(W,{on:et})),u)},Y}function E(){t.event.preventDefault()}function N(){for(var u,_=t.event;u=_.sourceEvent;)_=u;return _}function Z(u){for(var _=new P,O=0,Y=arguments.length;++O<Y;)_[arguments[O]]=J(_);return _.of=function(W,et){return function(st){try{var ht=st.sourceEvent=t.event;st.target=u,t.event=st,_[st.type].apply(W,et)}finally{t.event=ht}}},_}t.dispatch=function(){for(var u=new P,_=-1,O=arguments.length;++_<O;)u[arguments[_]]=J(u);return u},P.prototype.on=function(u,_){var O=u.indexOf("."),Y="";if(O>=0&&(Y=u.slice(O+1),u=u.slice(0,O)),u)return arguments.length<2?this[u].on(Y):this[u].on(Y,_);if(2===arguments.length){if(null==_)for(u in this)this.hasOwnProperty(u)&&this[u].on(Y,null);return this}},t.event=null,t.requote=function(u){return u.replace(U,"\\$&")};var U=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,D={}.__proto__?function(u,_){u.__proto__=_}:function(u,_){for(var O in _)u[O]=_[O]};function M(u){return D(u,K),u}var j=function(u,_){return _.querySelector(u)},C=function(u,_){return _.querySelectorAll(u)},G=function(u,_){var O=u.matches||u[X(u,"matchesSelector")];return(G=function(Y,W){return O.call(Y,W)})(u,_)};"function"==typeof Sizzle&&(j=function(u,_){return Sizzle(u,_)[0]||null},C=Sizzle,G=Sizzle.matchesSelector),t.selection=function(){return t.select(e.documentElement)};var K=t.selection.prototype=[];function $(u){return"function"==typeof u?u:function(){return j(u,this)}}function Q(u){return"function"==typeof u?u:function(){return C(u,this)}}K.select=function(u){var _,O,Y,W,et=[];u=$(u);for(var st=-1,ht=this.length;++st<ht;){et.push(_=[]),_.parentNode=(Y=this[st]).parentNode;for(var ft=-1,pt=Y.length;++ft<pt;)(W=Y[ft])?(_.push(O=u.call(W,W.__data__,ft,st)),O&&"__data__"in W&&(O.__data__=W.__data__)):_.push(null)}return M(et)},K.selectAll=function(u){var _,O,Y=[];u=Q(u);for(var W=-1,et=this.length;++W<et;)for(var st=this[W],ht=-1,ft=st.length;++ht<ft;)(O=st[ht])&&(Y.push(_=o(u.call(O,O.__data__,ht,W))),_.parentNode=O);return M(Y)};var ut="http://www.w3.org/1999/xhtml",ct={svg:"http://www.w3.org/2000/svg",xhtml:ut,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gt(u,_){return u=t.ns.qualify(u),null==_?u.local?function(){this.removeAttributeNS(u.space,u.local)}:function(){this.removeAttribute(u)}:"function"==typeof _?u.local?function(){var O=_.apply(this,arguments);null==O?this.removeAttributeNS(u.space,u.local):this.setAttributeNS(u.space,u.local,O)}:function(){var O=_.apply(this,arguments);null==O?this.removeAttribute(u):this.setAttribute(u,O)}:u.local?function(){this.setAttributeNS(u.space,u.local,_)}:function(){this.setAttribute(u,_)}}function vt(u){return u.trim().replace(/\s+/g," ")}function _t(u){return new RegExp("(?:^|\\s+)"+t.requote(u)+"(?:\\s+|$)","g")}function kt(u){return(u+"").trim().split(/^|\s+/)}function Et(u,_){var O=(u=kt(u).map(It)).length;return"function"==typeof _?function(){for(var Y=-1,W=_.apply(this,arguments);++Y<O;)u[Y](this,W)}:function(){for(var Y=-1;++Y<O;)u[Y](this,_)}}function It(u){var _=_t(u);return function(O,Y){if(W=O.classList)return Y?W.add(u):W.remove(u);var W=O.getAttribute("class")||"";Y?(_.lastIndex=0,_.test(W)||O.setAttribute("class",vt(W+" "+u))):O.setAttribute("class",vt(W.replace(_," ")))}}function Lt(u,_,O){return null==_?function(){this.style.removeProperty(u)}:"function"==typeof _?function(){var Y=_.apply(this,arguments);null==Y?this.style.removeProperty(u):this.style.setProperty(u,Y,O)}:function(){this.style.setProperty(u,_,O)}}function lt(u,_){return null==_?function(){delete this[u]}:"function"==typeof _?function(){var O=_.apply(this,arguments);null==O?delete this[u]:this[u]=O}:function(){this[u]=_}}function at(u){return"function"==typeof u?u:(u=t.ns.qualify(u)).local?function(){return this.ownerDocument.createElementNS(u.space,u.local)}:function(){var _=this.ownerDocument,O=this.namespaceURI;return O===ut&&_.documentElement.namespaceURI===ut?_.createElement(u):_.createElementNS(O,u)}}function dt(){var u=this.parentNode;u&&u.removeChild(this)}function mt(u){return{__data__:u}}function St(u){return function(){return G(this,u)}}function bt(u){return arguments.length||(u=h),function(_,O){return _&&O?u(_.__data__,O.__data__):!_-!O}}function wt(u,_){for(var O=0,Y=u.length;O<Y;O++)for(var W,et=u[O],st=0,ht=et.length;st<ht;st++)(W=et[st])&&_(W,st,O);return u}function Ot(u){return D(u,Nt),u}t.ns={prefix:ct,qualify:function(u){var _=u.indexOf(":"),O=u;return _>=0&&"xmlns"!==(O=u.slice(0,_))&&(u=u.slice(_+1)),ct.hasOwnProperty(O)?{space:ct[O],local:u}:u}},K.attr=function(u,_){if(arguments.length<2){if("string"==typeof u){var O=this.node();return(u=t.ns.qualify(u)).local?O.getAttributeNS(u.space,u.local):O.getAttribute(u)}for(_ in u)this.each(gt(_,u[_]));return this}return this.each(gt(u,_))},K.classed=function(u,_){if(arguments.length<2){if("string"==typeof u){var O=this.node(),Y=(u=kt(u)).length,W=-1;if(_=O.classList){for(;++W<Y;)if(!_.contains(u[W]))return!1}else for(_=O.getAttribute("class");++W<Y;)if(!_t(u[W]).test(_))return!1;return!0}for(_ in u)this.each(Et(_,u[_]));return this}return this.each(Et(u,_))},K.style=function(u,_,O){var Y=arguments.length;if(Y<3){if("string"!=typeof u){for(O in Y<2&&(_=""),u)this.each(Lt(O,u[O],_));return this}if(Y<2){var W=this.node();return s(W).getComputedStyle(W,null).getPropertyValue(u)}O=""}return this.each(Lt(u,_,O))},K.property=function(u,_){if(arguments.length<2){if("string"==typeof u)return this.node()[u];for(_ in u)this.each(lt(_,u[_]));return this}return this.each(lt(u,_))},K.text=function(u){return arguments.length?this.each("function"==typeof u?function(){var _=u.apply(this,arguments);this.textContent=_??""}:null==u?function(){this.textContent=""}:function(){this.textContent=u}):this.node().textContent},K.html=function(u){return arguments.length?this.each("function"==typeof u?function(){var _=u.apply(this,arguments);this.innerHTML=_??""}:null==u?function(){this.innerHTML=""}:function(){this.innerHTML=u}):this.node().innerHTML},K.append=function(u){return u=at(u),this.select(function(){return this.appendChild(u.apply(this,arguments))})},K.insert=function(u,_){return u=at(u),_=$(_),this.select(function(){return this.insertBefore(u.apply(this,arguments),_.apply(this,arguments)||null)})},K.remove=function(){return this.each(dt)},K.data=function(u,_){var O,Y,W=-1,et=this.length;if(!arguments.length){for(u=new Array(et=(O=this[0]).length);++W<et;)(Y=O[W])&&(u[W]=Y.__data__);return u}function st(xt,Ft){var Ht,Xt,ie,Gt=xt.length,Qt=Ft.length,Bt=Math.min(Gt,Qt),pe=new Array(Qt),ne=new Array(Qt),Wt=new Array(Gt);if(_){var Le,Se=new k,je=new Array(Gt);for(Ht=-1;++Ht<Gt;)(Xt=xt[Ht])&&(Se.has(Le=_.call(Xt,Xt.__data__,Ht))?Wt[Ht]=Xt:Se.set(Le,Xt),je[Ht]=Le);for(Ht=-1;++Ht<Qt;)(Xt=Se.get(Le=_.call(Ft,ie=Ft[Ht],Ht)))?!0!==Xt&&(pe[Ht]=Xt,Xt.__data__=ie):ne[Ht]=mt(ie),Se.set(Le,!0);for(Ht=-1;++Ht<Gt;)Ht in je&&!0!==Se.get(je[Ht])&&(Wt[Ht]=xt[Ht])}else{for(Ht=-1;++Ht<Bt;)ie=Ft[Ht],(Xt=xt[Ht])?(Xt.__data__=ie,pe[Ht]=Xt):ne[Ht]=mt(ie);for(;Ht<Qt;++Ht)ne[Ht]=mt(Ft[Ht]);for(;Ht<Gt;++Ht)Wt[Ht]=xt[Ht]}ne.update=pe,ne.parentNode=pe.parentNode=Wt.parentNode=xt.parentNode,ht.push(ne),ft.push(pe),pt.push(Wt)}var ht=Ot([]),ft=M([]),pt=M([]);if("function"==typeof u)for(;++W<et;)st(O=this[W],u.call(O,O.parentNode.__data__,W));else for(;++W<et;)st(O=this[W],u);return ft.enter=function(){return ht},ft.exit=function(){return pt},ft},K.datum=function(u){return arguments.length?this.property("__data__",u):this.property("__data__")},K.filter=function(u){var _,O,Y,W=[];"function"!=typeof u&&(u=St(u));for(var et=0,st=this.length;et<st;et++){W.push(_=[]),_.parentNode=(O=this[et]).parentNode;for(var ht=0,ft=O.length;ht<ft;ht++)(Y=O[ht])&&u.call(Y,Y.__data__,ht,et)&&_.push(Y)}return M(W)},K.order=function(){for(var u=-1,_=this.length;++u<_;)for(var O,Y=this[u],W=Y.length-1,et=Y[W];--W>=0;)(O=Y[W])&&(et&&et!==O.nextSibling&&et.parentNode.insertBefore(O,et),et=O);return this},K.sort=function(u){u=bt.apply(this,arguments);for(var _=-1,O=this.length;++_<O;)this[_].sort(u);return this.order()},K.each=function(u){return wt(this,function(_,O,Y){u.call(_,_.__data__,O,Y)})},K.call=function(u){var _=o(arguments);return u.apply(_[0]=this,_),this},K.empty=function(){return!this.node()},K.node=function(){for(var u=0,_=this.length;u<_;u++)for(var O=this[u],Y=0,W=O.length;Y<W;Y++){var et=O[Y];if(et)return et}return null},K.size=function(){var u=0;return wt(this,function(){++u}),u};var Nt=[];function Dt(u){var _,O;return function(Y,W,et){var st,ht=u[et].update,ft=ht.length;for(et!=O&&(O=et,_=0),W>=_&&(_=W+1);!(st=ht[_])&&++_<ft;);return st}}function zt(u,_,O){var Y="__on"+u,W=u.indexOf("."),et=Ct;W>0&&(u=u.slice(0,W));var st=Vt.get(u);function ht(){var ft=this[Y];ft&&(this.removeEventListener(u,ft,ft.$),delete this[Y])}return st&&(u=st,et=Zt),W?_?function(){var ft=et(_,o(arguments));ht.call(this),this.addEventListener(u,this[Y]=ft,ft.$=O),ft._=_}:ht:_?q:function(){var ft,pt=new RegExp("^__on([^.]+)"+t.requote(u)+"$");for(var xt in this)if(ft=xt.match(pt)){var Ft=this[xt];this.removeEventListener(ft[1],Ft,Ft.$),delete this[xt]}}}t.selection.enter=Ot,t.selection.enter.prototype=Nt,Nt.append=K.append,Nt.empty=K.empty,Nt.node=K.node,Nt.call=K.call,Nt.size=K.size,Nt.select=function(u){for(var _,O,Y,W,et,st=[],ht=-1,ft=this.length;++ht<ft;){Y=(W=this[ht]).update,st.push(_=[]),_.parentNode=W.parentNode;for(var pt=-1,xt=W.length;++pt<xt;)(et=W[pt])?(_.push(Y[pt]=O=u.call(W.parentNode,et.__data__,pt,ht)),O.__data__=et.__data__):_.push(null)}return M(st)},Nt.insert=function(u,_){return arguments.length<2&&(_=Dt(this)),K.insert.call(this,u,_)},t.select=function(u){var _;return"string"==typeof u?(_=[j(u,e)]).parentNode=e.documentElement:(_=[u]).parentNode=n(u),M([_])},t.selectAll=function(u){var _;return"string"==typeof u?(_=o(C(u,e))).parentNode=e.documentElement:(_=o(u)).parentNode=null,M([_])},K.on=function(u,_,O){var Y=arguments.length;if(Y<3){if("string"!=typeof u){for(O in Y<2&&(_=!1),u)this.each(zt(O,u[O],_));return this}if(Y<2)return(Y=this.node()["__on"+u])&&Y._;O=!1}return this.each(zt(u,_,O))};var Vt=t.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Ct(u,_){return function(O){var Y=t.event;t.event=O,_[0]=this.__data__;try{u.apply(this,_)}finally{t.event=Y}}}function Zt(u,_){var O=Ct(u,_);return function(Y){var W=Y.relatedTarget;W&&(W===this||8&W.compareDocumentPosition(this))||O.call(this,Y)}}e&&Vt.forEach(function(u){"on"+u in e&&Vt.remove(u)});var Kt,Jt=0;function de(u){var _=".dragsuppress-"+ ++Jt,O="click"+_,Y=t.select(s(u)).on("touchmove"+_,E).on("dragstart"+_,E).on("selectstart"+_,E);if(null==Kt&&(Kt=!("onselectstart"in u)&&X(u.style,"userSelect")),Kt){var W=n(u).style,et=W[Kt];W[Kt]="none"}return function(st){if(Y.on(_,null),Kt&&(W[Kt]=et),st){var ht=function(){Y.on(O,null)};Y.on(O,function(){E(),ht()},!0),setTimeout(ht,0)}}}t.mouse=function(u){return Tt(u,N())};var $t=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Tt(u,_){_.changedTouches&&(_=_.changedTouches[0]);var O=u.ownerSVGElement||u;if(O.createSVGPoint){var Y=O.createSVGPoint();if($t<0){var W=s(u);if(W.scrollX||W.scrollY){var et=(O=t.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();$t=!(et.f||et.e),O.remove()}}return $t?(Y.x=_.pageX,Y.y=_.pageY):(Y.x=_.clientX,Y.y=_.clientY),[(Y=Y.matrixTransform(u.getScreenCTM().inverse())).x,Y.y]}var st=u.getBoundingClientRect();return[_.clientX-st.left-u.clientLeft,_.clientY-st.top-u.clientTop]}function At(){return t.event.changedTouches[0].identifier}t.touch=function(u,_,O){if(arguments.length<3&&(O=_,_=N().changedTouches),_)for(var Y,W=0,et=_.length;W<et;++W)if((Y=_[W]).identifier===O)return Tt(u,Y)},t.behavior.drag=function(){var u=Z(W,"drag","dragstart","dragend"),_=null,O=et(q,t.mouse,s,"mousemove","mouseup"),Y=et(At,t.touch,B,"touchmove","touchend");function W(){this.on("mousedown.drag",O).on("touchstart.drag",Y)}function et(st,ht,ft,pt,xt){return function(){var Ft,Ht=this,Xt=t.event.target.correspondingElement||t.event.target,ie=Ht.parentNode,Gt=u.of(Ht,arguments),Qt=0,Bt=st(),pe=".drag"+(null==Bt?"":"-"+Bt),ne=t.select(ft(Xt)).on(pt+pe,Se).on(xt+pe,je),Wt=de(Xt),Le=ht(ie,Bt);function Se(){var Be,Ke,Qe=ht(ie,Bt);Qe&&(Qt|=(Be=Qe[0]-Le[0])|(Ke=Qe[1]-Le[1]),Le=Qe,Gt({type:"drag",x:Qe[0]+Ft[0],y:Qe[1]+Ft[1],dx:Be,dy:Ke}))}function je(){ht(ie,Bt)&&(ne.on(pt+pe,null).on(xt+pe,null),Wt(Qt),Gt({type:"dragend"}))}Ft=_?[(Ft=_.apply(Ht,arguments)).x-Le[0],Ft.y-Le[1]]:[0,0],Gt({type:"dragstart"})}}return W.origin=function(st){return arguments.length?(_=st,W):_},t.rebind(W,u,"on")},t.touches=function(u,_){return arguments.length<2&&(_=N().touches),_?o(_).map(function(O){var Y=Tt(u,O);return Y.identifier=O.identifier,Y}):[]};var qt=1e-6,ue=Math.PI,Te=2*ue,Ce=Te-qt,xe=ue/2,ye=ue/180,ce=180/ue;function nt(u){return u>1?xe:u<-1?-xe:Math.asin(u)}function it(u){return((u=Math.exp(u))+1/u)/2}var Mt=Math.SQRT2;t.interpolateZoom=function(u,_){var O,Y,W=u[0],et=u[1],st=u[2],pt=_[2],xt=_[0]-W,Ft=_[1]-et,Ht=xt*xt+Ft*Ft;if(Ht<1e-12)Y=Math.log(pt/st)/Mt,O=function(pe){return[W+pe*xt,et+pe*Ft,st*Math.exp(Mt*pe*Y)]};else{var Xt=Math.sqrt(Ht),ie=(pt*pt-st*st+4*Ht)/(2*st*2*Xt),Gt=(pt*pt-st*st-4*Ht)/(2*pt*2*Xt),Qt=Math.log(Math.sqrt(ie*ie+1)-ie),Bt=Math.log(Math.sqrt(Gt*Gt+1)-Gt);Y=(Bt-Qt)/Mt,O=function(pe){var ne,je,Wt=pe*Y,Le=it(Qt),Se=st/(2*Xt)*(Le*(ne=Mt*Wt+Qt,((ne=Math.exp(2*ne))-1)/(ne+1))-(je=Qt,((je=Math.exp(je))-1/je)/2));return[W+Se*xt,et+Se*Ft,st*Le/it(Mt*Wt+Qt)]}}return O.duration=1e3*Y,O},t.behavior.zoom=function(){var u,_,O,Y,W,et,st,ht,ft,pt={x:0,y:0,k:1},xt=[960,500],Ft=Rt,Ht=250,Xt=0,ie="mousedown.zoom",Gt="mousemove.zoom",Qt="mouseup.zoom",Bt="touchstart.zoom",pe=Z(ne,"zoomstart","zoom","zoomend");function ne(Re){Re.on(ie,en).on(Ut+".zoom",En).on("dblclick.zoom",Fn).on(Bt,_n)}function Wt(Re){return[(Re[0]-pt.x)/pt.k,(Re[1]-pt.y)/pt.k]}function Le(Re){pt.k=Math.max(Ft[0],Math.min(Ft[1],Re))}function Se(Re,nn){var yn;pt.x+=Re[0]-(nn=[(yn=nn)[0]*pt.k+pt.x,yn[1]*pt.k+pt.y])[0],pt.y+=Re[1]-nn[1]}function je(Re,nn,yn,pn){Re.__chart__={x:pt.x,y:pt.y,k:pt.k},Le(Math.pow(2,pn)),Se(_=nn,yn),Re=t.select(Re),Ht>0&&(Re=Re.transition().duration(Ht)),Re.call(ne.event)}function Be(){st&&st.domain(et.range().map(function(Re){return(Re-pt.x)/pt.k}).map(et.invert)),ft&&ft.domain(ht.range().map(function(Re){return(Re-pt.y)/pt.k}).map(ht.invert))}function Ke(Re){Xt++||Re({type:"zoomstart"})}function Qe(Re){Be(),Re({type:"zoom",scale:pt.k,translate:[pt.x,pt.y]})}function mn(Re){--Xt||(Re({type:"zoomend"}),_=null)}function en(){var Re=this,nn=pe.of(Re,arguments),yn=0,pn=t.select(s(Re)).on(Gt,In).on(Qt,Yn),Dn=Wt(t.mouse(Re)),Cn=de(Re);function In(){yn=1,Se(t.mouse(Re),Dn),Qe(nn)}function Yn(){pn.on(Gt,null).on(Qt,null),Cn(yn),mn(nn)}Ur.call(Re),Ke(nn)}function _n(){var Re,nn=this,yn=pe.of(nn,arguments),pn={},Dn=0,Cn=".zoom-"+t.event.changedTouches[0].identifier,In="touchmove"+Cn,Yn="touchend"+Cn,Wn=[],Jn=t.select(nn),or=de(nn);function Qn(){var tr=t.touches(nn);return Re=pt.k,tr.forEach(function(Xn){Xn.identifier in pn&&(pn[Xn.identifier]=Wt(Xn))}),tr}function er(){var tr=t.event.target;t.select(tr).on(In,pr).on(Yn,kr),Wn.push(tr);for(var Xn=t.event.changedTouches,ar=0,yr=Xn.length;ar<yr;++ar)pn[Xn[ar].identifier]=null;var xr=Qn(),Dr=Date.now();if(1===xr.length){if(Dr-W<500){var Mr=xr[0];je(nn,Mr,pn[Mr.identifier],Math.floor(Math.log(pt.k)/Math.LN2)+1),E()}W=Dr}else if(xr.length>1){var _r=xr[1],Zr=(Mr=xr[0])[0]-_r[0],Ka=Mr[1]-_r[1];Dn=Zr*Zr+Ka*Ka}}function pr(){var tr,Xn,ar,yr,xr=t.touches(nn);Ur.call(nn);for(var Dr=0,Mr=xr.length;Dr<Mr;++Dr,yr=null)if(yr=pn[(ar=xr[Dr]).identifier]){if(Xn)break;tr=ar,Xn=yr}if(yr){var _r=(_r=ar[0]-tr[0])*_r+(_r=ar[1]-tr[1])*_r,Zr=Dn&&Math.sqrt(_r/Dn);tr=[(tr[0]+ar[0])/2,(tr[1]+ar[1])/2],Xn=[(Xn[0]+yr[0])/2,(Xn[1]+yr[1])/2],Le(Zr*Re)}W=null,Se(tr,Xn),Qe(yn)}function kr(){if(t.event.touches.length){for(var tr=t.event.changedTouches,Xn=0,ar=tr.length;Xn<ar;++Xn)delete pn[tr[Xn].identifier];for(var yr in pn)return void Qn()}t.selectAll(Wn).on(Cn,null),Jn.on(ie,en).on(Bt,_n),or(),mn(yn)}er(),Ke(yn),Jn.on(ie,null).on(Bt,er)}function En(){var Re=pe.of(this,arguments);Y?clearTimeout(Y):(Ur.call(this),u=Wt(_=O||t.mouse(this)),Ke(Re)),Y=setTimeout(function(){Y=null,mn(Re)},50),E(),Le(Math.pow(2,.002*Pt())*pt.k),Se(_,u),Qe(Re)}function Fn(){var Re=t.mouse(this),nn=Math.log(pt.k)/Math.LN2;je(this,Re,Wt(Re),t.event.shiftKey?Math.ceil(nn)-1:Math.floor(nn)+1)}return Ut||(Ut="onwheel"in e?(Pt=function(){return-t.event.deltaY*(t.event.deltaMode?120:1)},"wheel"):"onmousewheel"in e?(Pt=function(){return t.event.wheelDelta},"mousewheel"):(Pt=function(){return-t.event.detail},"MozMousePixelScroll")),ne.event=function(Re){Re.each(function(){var nn=pe.of(this,arguments),yn=pt;Tr?t.select(this).transition().each("start.zoom",function(){pt=this.__chart__||{x:0,y:0,k:1},Ke(nn)}).tween("zoom:zoom",function(){var pn=xt[0],Cn=_?_[0]:pn/2,In=_?_[1]:xt[1]/2,Yn=t.interpolateZoom([(Cn-pt.x)/pt.k,(In-pt.y)/pt.k,pn/pt.k],[(Cn-yn.x)/yn.k,(In-yn.y)/yn.k,pn/yn.k]);return function(Wn){var Jn=Yn(Wn),or=pn/Jn[2];this.__chart__=pt={x:Cn-Jn[0]*or,y:In-Jn[1]*or,k:or},Qe(nn)}}).each("interrupt.zoom",function(){mn(nn)}).each("end.zoom",function(){mn(nn)}):(this.__chart__=pt,Ke(nn),Qe(nn),mn(nn))})},ne.translate=function(Re){return arguments.length?(pt={x:+Re[0],y:+Re[1],k:pt.k},Be(),ne):[pt.x,pt.y]},ne.scale=function(Re){return arguments.length?(pt={x:pt.x,y:pt.y,k:null},Le(+Re),Be(),ne):pt.k},ne.scaleExtent=function(Re){return arguments.length?(Ft=null==Re?Rt:[+Re[0],+Re[1]],ne):Ft},ne.center=function(Re){return arguments.length?(O=Re&&[+Re[0],+Re[1]],ne):O},ne.size=function(Re){return arguments.length?(xt=Re&&[+Re[0],+Re[1]],ne):xt},ne.duration=function(Re){return arguments.length?(Ht=+Re,ne):Ht},ne.x=function(Re){return arguments.length?(st=Re,et=Re.copy(),pt={x:0,y:0,k:1},ne):st},ne.y=function(Re){return arguments.length?(ft=Re,ht=Re.copy(),pt={x:0,y:0,k:1},ne):ft},t.rebind(ne,pe,"on")};var Pt,Ut,Rt=[0,1/0];function jt(){}function Yt(u,_,O){return this instanceof Yt?(this.h=+u,this.s=+_,void(this.l=+O)):arguments.length<2?u instanceof Yt?new Yt(u.h,u.s,u.l):Je(""+u,He,Yt):new Yt(u,_,O)}t.color=jt,jt.prototype.toString=function(){return this.rgb()+""},t.hsl=Yt;var ee=Yt.prototype=new jt;function ae(u,_,O){var Y,W;function et(st){return Math.round(255*((ht=st)>360?ht-=360:ht<0&&(ht+=360),ht<60?Y+(W-Y)*ht/60:ht<180?W:ht<240?Y+(W-Y)*(240-ht)/60:Y));var ht}return u=isNaN(u)?0:(u%=360)<0?u+360:u,_=isNaN(_)||_<0?0:_>1?1:_,Y=2*(O=O<0?0:O>1?1:O)-(W=O<=.5?O*(1+_):O+_-O*_),new fe(et(u+120),et(u),et(u-120))}function he(u,_,O){return this instanceof he?(this.h=+u,this.c=+_,void(this.l=+O)):arguments.length<2?u instanceof he?new he(u.h,u.c,u.l):Ae(u instanceof me?u.l:(u=be((u=t.rgb(u)).r,u.g,u.b)).l,u.a,u.b):new he(u,_,O)}ee.brighter=function(u){return u=Math.pow(.7,arguments.length?u:1),new Yt(this.h,this.s,this.l/u)},ee.darker=function(u){return u=Math.pow(.7,arguments.length?u:1),new Yt(this.h,this.s,u*this.l)},ee.rgb=function(){return ae(this.h,this.s,this.l)},t.hcl=he;var Me=he.prototype=new jt;function re(u,_,O){return isNaN(u)&&(u=0),isNaN(_)&&(_=0),new me(O,Math.cos(u*=ye)*_,Math.sin(u)*_)}function me(u,_,O){return this instanceof me?(this.l=+u,this.a=+_,void(this.b=+O)):arguments.length<2?u instanceof me?new me(u.l,u.a,u.b):u instanceof he?re(u.h,u.c,u.l):be((u=fe(u)).r,u.g,u.b):new me(u,_,O)}Me.brighter=function(u){return new he(this.h,this.c,Math.min(100,this.l+Oe*(arguments.length?u:1)))},Me.darker=function(u){return new he(this.h,this.c,Math.max(0,this.l-Oe*(arguments.length?u:1)))},Me.rgb=function(){return re(this.h,this.c,this.l).rgb()},t.lab=me;var Oe=18,oe=me.prototype=new jt;function te(u,_,O){var Y=(u+16)/116,W=Y+_/500,et=Y-O/200;return new fe(we(3.2404542*(W=.95047*_e(W))-1.5371385*(Y=1*_e(Y))-.4985314*(et=1.08883*_e(et))),we(-.969266*W+1.8760108*Y+.041556*et),we(.0556434*W-.2040259*Y+1.0572252*et))}function Ae(u,_,O){return u>0?new he(Math.atan2(O,_)*ce,Math.sqrt(_*_+O*O),u):new he(NaN,NaN,u)}function _e(u){return u>.206893034?u*u*u:(u-4/29)/7.787037}function ge(u){return u>.008856?Math.pow(u,1/3):7.787037*u+4/29}function we(u){return Math.round(255*(u<=.00304?12.92*u:1.055*Math.pow(u,1/2.4)-.055))}function fe(u,_,O){return this instanceof fe?(this.r=~~u,this.g=~~_,void(this.b=~~O)):arguments.length<2?u instanceof fe?new fe(u.r,u.g,u.b):Je(""+u,fe,ae):new fe(u,_,O)}function Ne(u){return new fe(u>>16,u>>8&255,255&u)}function Pe(u){return Ne(u)+""}oe.brighter=function(u){return new me(Math.min(100,this.l+Oe*(arguments.length?u:1)),this.a,this.b)},oe.darker=function(u){return new me(Math.max(0,this.l-Oe*(arguments.length?u:1)),this.a,this.b)},oe.rgb=function(){return te(this.l,this.a,this.b)},t.rgb=fe;var ze=fe.prototype=new jt;function Ue(u){return u<16?"0"+Math.max(0,u).toString(16):Math.min(255,u).toString(16)}function Je(u,_,O){var Y,W,et,st=0,ht=0,ft=0;if(Y=/([a-z]+)\((.*)\)/.exec(u=u.toLowerCase()))switch(W=Y[2].split(","),Y[1]){case"hsl":return O(parseFloat(W[0]),parseFloat(W[1])/100,parseFloat(W[2])/100);case"rgb":return _(ke(W[0]),ke(W[1]),ke(W[2]))}return(et=Fe.get(u))?_(et.r,et.g,et.b):(null==u||"#"!==u.charAt(0)||isNaN(et=parseInt(u.slice(1),16))||(4===u.length?(st=(3840&et)>>4,st|=st>>4,ht=240&et,ht|=ht>>4,ft=15&et,ft|=ft<<4):7===u.length&&(st=(16711680&et)>>16,ht=(65280&et)>>8,ft=255&et)),_(st,ht,ft))}function He(u,_,O){var Y,W,et=Math.min(u/=255,_/=255,O/=255),st=Math.max(u,_,O),ht=st-et,ft=(st+et)/2;return ht?(W=ft<.5?ht/(st+et):ht/(2-st-et),Y=u==st?(_-O)/ht+(_<O?6:0):_==st?(O-u)/ht+2:(u-_)/ht+4,Y*=60):(Y=NaN,W=ft>0&&ft<1?0:Y),new Yt(Y,W,ft)}function be(u,_,O){var Y=ge((.4124564*(u=ve(u))+.3575761*(_=ve(_))+.1804375*(O=ve(O)))/.95047),W=ge((.2126729*u+.7151522*_+.072175*O)/1);return me(116*W-16,500*(Y-W),200*(W-ge((.0193339*u+.119192*_+.9503041*O)/1.08883)))}function ve(u){return(u/=255)<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function ke(u){var _=parseFloat(u);return"%"===u.charAt(u.length-1)?Math.round(2.55*_):_}ze.brighter=function(u){u=Math.pow(.7,arguments.length?u:1);var _=this.r,O=this.g,Y=this.b,W=30;return _||O||Y?(_&&_<W&&(_=W),O&&O<W&&(O=W),Y&&Y<W&&(Y=W),new fe(Math.min(255,_/u),Math.min(255,O/u),Math.min(255,Y/u))):new fe(W,W,W)},ze.darker=function(u){return new fe((u=Math.pow(.7,arguments.length?u:1))*this.r,u*this.g,u*this.b)},ze.hsl=function(){return He(this.r,this.g,this.b)},ze.toString=function(){return"#"+Ue(this.r)+Ue(this.g)+Ue(this.b)};var Fe=t.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function De(u){return"function"==typeof u?u:function(){return u}}function Ve(u){return function(_,O,Y){return 2===arguments.length&&"function"==typeof O&&(Y=O,O=null),Ze(_,O,u,Y)}}function Ze(u,_,O,Y){var xt,W={},et=t.dispatch("beforesend","progress","load","error"),st={},ht=new XMLHttpRequest,ft=null;function pt(){var xt,Ht,Xt,Ft=ht.status;if(!Ft&&((Xt=(Ht=ht).responseType)&&"text"!==Xt?Ht.response:Ht.responseText)||Ft>=200&&Ft<300||304===Ft){try{xt=O.call(W,ht)}catch(Ht){return void et.error.call(W,Ht)}et.load.call(W,xt)}else et.error.call(W,ht)}return self.XDomainRequest&&!("withCredentials"in ht)&&/^(http(s)?:)?\/\//.test(u)&&(ht=new XDomainRequest),"onload"in ht?ht.onload=ht.onerror=pt:ht.onreadystatechange=function(){ht.readyState>3&&pt()},ht.onprogress=function(xt){var Ft=t.event;t.event=xt;try{et.progress.call(W,ht)}finally{t.event=Ft}},W.header=function(xt,Ft){return xt=(xt+"").toLowerCase(),arguments.length<2?st[xt]:(null==Ft?delete st[xt]:st[xt]=Ft+"",W)},W.mimeType=function(xt){return arguments.length?(_=null==xt?null:xt+"",W):_},W.responseType=function(xt){return arguments.length?(ft=xt,W):ft},W.response=function(xt){return O=xt,W},["get","post"].forEach(function(xt){W[xt]=function(){return W.send.apply(W,[xt].concat(o(arguments)))}}),W.send=function(xt,Ft,Ht){if(2===arguments.length&&"function"==typeof Ft&&(Ht=Ft,Ft=null),ht.open(xt,u,!0),null==_||"accept"in st||(st.accept=_+",*/*"),ht.setRequestHeader)for(var Xt in st)ht.setRequestHeader(Xt,st[Xt]);return null!=_&&ht.overrideMimeType&&ht.overrideMimeType(_),null!=ft&&(ht.responseType=ft),null!=Ht&&W.on("error",Ht).on("load",function(ie){Ht(null,ie)}),et.beforesend.call(W,ht),ht.send(Ft??null),W},W.abort=function(){return ht.abort(),W},t.rebind(W,et,"on"),null==Y?W:W.get(1===(xt=Y).length?function(Ft,Ht){xt(null==Ft?Ht:null)}:xt)}Fe.forEach(function(u,_){Fe.set(u,Ne(_))}),t.functor=De,t.xhr=Ve(B),t.dsv=function(u,_){var O=new RegExp('["'+u+"\n]"),Y=u.charCodeAt(0);function W(pt,xt,Ft){arguments.length<3&&(Ft=xt,xt=null);var Ht=Ze(pt,_,null==xt?et:st(xt),Ft);return Ht.row=function(Xt){return arguments.length?Ht.response(null==(xt=Xt)?et:st(Xt)):xt},Ht}function et(pt){return W.parse(pt.responseText)}function st(pt){return function(xt){return W.parse(xt.responseText,pt)}}function ht(pt){return pt.map(ft).join(u)}function ft(pt){return O.test(pt)?'"'+pt.replace(/\"/g,'""')+'"':pt}return W.parse=function(pt,xt){var Ft;return W.parseRows(pt,function(Ht,Xt){if(Ft)return Ft(Ht,Xt-1);var ie=function(Gt){for(var Qt={},Bt=Ht.length,pe=0;pe<Bt;++pe)Qt[Ht[pe]]=Gt[pe];return Qt};Ft=xt?function(Gt,Qt){return xt(ie(Gt),Qt)}:ie})},W.parseRows=function(pt,xt){var Ft,Ht,Xt={},ie={},Gt=[],Qt=pt.length,Bt=0,pe=0;function ne(){if(Bt>=Qt)return ie;if(Ht)return Ht=!1,Xt;var Le=Bt;if(34===pt.charCodeAt(Le)){for(var Se=Le;Se++<Qt;)if(34===pt.charCodeAt(Se)){if(34!==pt.charCodeAt(Se+1))break;++Se}return Bt=Se+2,13===(je=pt.charCodeAt(Se+1))?(Ht=!0,10===pt.charCodeAt(Se+2)&&++Bt):10===je&&(Ht=!0),pt.slice(Le+1,Se).replace(/""/g,'"')}for(;Bt<Qt;){var je,Be=1;if(10===(je=pt.charCodeAt(Bt++)))Ht=!0;else if(13===je)Ht=!0,10===pt.charCodeAt(Bt)&&(++Bt,++Be);else if(je!==Y)continue;return pt.slice(Le,Bt-Be)}return pt.slice(Le)}for(;(Ft=ne())!==ie;){for(var Wt=[];Ft!==Xt&&Ft!==ie;)Wt.push(Ft),Ft=ne();xt&&null==(Wt=xt(Wt,pe++))||Gt.push(Wt)}return Gt},W.format=function(pt){if(Array.isArray(pt[0]))return W.formatRows(pt);var xt=new F,Ft=[];return pt.forEach(function(Ht){for(var Xt in Ht)xt.has(Xt)||Ft.push(xt.add(Xt))}),[Ft.map(ft).join(u)].concat(pt.map(function(Ht){return Ft.map(function(Xt){return ft(Ht[Xt])}).join(u)})).join("\n")},W.formatRows=function(pt){return pt.map(ht).join("\n")},W},t.csv=t.dsv(",","text/csv"),t.tsv=t.dsv("\t","text/tab-separated-values");var tn,rn,ln,cn,sn=this[X(this,"requestAnimationFrame")]||function(u){setTimeout(u,17)};function fn(u,_,O){var Y=arguments.length;Y<2&&(_=0),Y<3&&(O=Date.now());var W=O+_,et={c:u,t:W,n:null};return rn?rn.n=et:tn=et,rn=et,ln||(cn=clearTimeout(cn),ln=1,sn(Xe)),et}function Xe(){var u=gn(),_=Mn()-u;_>24?(isFinite(_)&&(clearTimeout(cn),cn=setTimeout(Xe,_)),ln=0):(ln=1,sn(Xe))}function gn(){for(var u=Date.now(),_=tn;_;)u>=_.t&&_.c(u-_.t)&&(_.c=null),_=_.n;return u}function Mn(){for(var u,_=tn,O=1/0;_;)_.c?(_.t<O&&(O=_.t),_=(u=_).n):_=u?u.n=_.n:tn=_.n;return rn=u,O}function Ye(u){return u[0]}function dn(u){return u[1]}function an(u){for(var _,O,Y,W=u.length,et=[0,1],st=2,ht=2;ht<W;ht++){for(;st>1&&((O=u[et[st-1]])[0]-(_=u[et[st-2]])[0])*((Y=u[ht])[1]-_[1])-(O[1]-_[1])*(Y[0]-_[0])<=0;)--st;et[st++]=ht}return et.slice(0,st)}function qe(u,_){return u[0]-_[0]||u[1]-_[1]}t.timer=function(){fn.apply(this,arguments)},t.timer.flush=function(){gn(),Mn()},t.round=function(u,_){return _?Math.round(u*(_=Math.pow(10,_)))/_:Math.round(u)},t.geom={},t.geom.hull=function(u){var _=Ye,O=dn;if(arguments.length)return Y(u);function Y(W){if(W.length<3)return[];var et,st=De(_),ht=De(O),ft=W.length,pt=[],xt=[];for(et=0;et<ft;et++)pt.push([+st.call(this,W[et],et),+ht.call(this,W[et],et),et]);for(pt.sort(qe),et=0;et<ft;et++)xt.push([pt[et][0],-pt[et][1]]);var Ft=an(pt),Ht=an(xt),Xt=Ht[0]===Ft[0],ie=Ht[Ht.length-1]===Ft[Ft.length-1],Gt=[];for(et=Ft.length-1;et>=0;--et)Gt.push(W[pt[Ft[et]][2]]);for(et=+Xt;et<Ht.length-ie;++et)Gt.push(W[pt[Ht[et]][2]]);return Gt}return Y.x=function(W){return arguments.length?(_=W,Y):_},Y.y=function(W){return arguments.length?(O=W,Y):O},Y},t.geom.polygon=function(u){return D(u,vn),u};var vn=t.geom.polygon.prototype=[];function un(u,_,O){return(O[0]-_[0])*(u[1]-_[1])<(O[1]-_[1])*(u[0]-_[0])}function $e(u,_,O,Y){var W=u[0],et=O[0],st=_[0]-W,ht=Y[0]-et,ft=u[1],pt=O[1],xt=_[1]-ft,Ft=Y[1]-pt,Ht=(ht*(ft-pt)-Ft*(W-et))/(Ft*st-ht*xt);return[W+Ht*st,ft+Ht*xt]}function Ge(u){var _=u[0],O=u[u.length-1];return!(_[0]-O[0]||_[1]-O[1])}vn.area=function(){for(var u,_=-1,O=this.length,Y=this[O-1],W=0;++_<O;)W+=(u=Y)[1]*(Y=this[_])[0]-u[0]*Y[1];return.5*W},vn.centroid=function(u){var _,O,Y=-1,W=this.length,et=0,st=0,ht=this[W-1];for(arguments.length||(u=-1/(6*this.area()));++Y<W;)et+=((_=ht)[0]+(ht=this[Y])[0])*(O=_[0]*ht[1]-ht[0]*_[1]),st+=(_[1]+ht[1])*O;return[et*u,st*u]},vn.clip=function(u){for(var _,O,Y,W,et,st,ht=Ge(u),ft=-1,pt=this.length-Ge(this),xt=this[pt-1];++ft<pt;){for(_=u.slice(),u.length=0,W=this[ft],et=_[(Y=_.length-ht)-1],O=-1;++O<Y;)un(st=_[O],xt,W)?(un(et,xt,W)||u.push($e(et,st,xt,W)),u.push(st)):un(et,xt,W)&&u.push($e(et,st,xt,W)),et=st;ht&&u.push(u[0]),xt=W}return u};var Ee,hn,Tn,xn,bn,wn=[],On=[];function An(){Lr(this),this.edge=this.site=this.circle=null}function Ln(u){var _=wn.pop()||new An;return _.site=u,_}function Sn(u){jn(u),Tn.remove(u),wn.push(u),Lr(u)}function qn(u){var _=u.circle,O=_.x,Y=_.cy,W={x:O,y:Y},et=u.P,st=u.N,ht=[u];Sn(u);for(var ft=et;ft.circle&&y(O-ft.circle.x)<qt&&y(Y-ft.circle.cy)<qt;)et=ft.P,ht.unshift(ft),Sn(ft),ft=et;ht.unshift(ft),jn(ft);for(var pt=st;pt.circle&&y(O-pt.circle.x)<qt&&y(Y-pt.circle.cy)<qt;)st=pt.N,ht.push(pt),Sn(pt),pt=st;ht.push(pt),jn(pt);var xt,Ft=ht.length;for(xt=1;xt<Ft;++xt)gr((pt=ht[xt]).edge,(ft=ht[xt-1]).site,pt.site,W);(pt=ht[Ft-1]).edge=rr((ft=ht[0]).site,pt.site,null,W),Zn(ft),Zn(pt)}function zn(u){for(var _,O,Y,W,et=u.x,st=u.y,ht=Tn._;ht;)if((Y=$n(ht,st)-et)>qt)ht=ht.L;else{if(!((W=et-Gn(ht,st))>qt)){Y>-qt?(_=ht.P,O=ht):W>-qt?(_=ht,O=ht.N):_=O=ht;break}if(!ht.R){_=ht;break}ht=ht.R}var ft=Ln(u);if(Tn.insert(_,ft),_||O){if(_===O)return jn(_),O=Ln(_.site),Tn.insert(ft,O),ft.edge=O.edge=rr(_.site,ft.site),Zn(_),void Zn(O);if(O){jn(_),jn(O);var pt=_.site,xt=pt.x,Ft=pt.y,Ht=u.x-xt,Xt=u.y-Ft,ie=O.site,Gt=ie.x-xt,Qt=ie.y-Ft,Bt=2*(Ht*Qt-Xt*Gt),pe=Ht*Ht+Xt*Xt,ne=Gt*Gt+Qt*Qt,Wt={x:(Qt*pe-Xt*ne)/Bt+xt,y:(Ht*ne-Gt*pe)/Bt+Ft};gr(O.edge,pt,ie,Wt),ft.edge=rr(pt,u,null,Wt),O.edge=rr(u,ie,null,Wt),Zn(_),Zn(O)}else ft.edge=rr(_.site,ft.site)}}function $n(u,_){var O=u.site,Y=O.x,W=O.y,et=W-_;if(!et)return Y;var st=u.P;if(!st)return-1/0;var ht=(O=st.site).x,ft=O.y,pt=ft-_;if(!pt)return ht;var xt=ht-Y,Ft=1/et-1/pt,Ht=xt/pt;return Ft?(-Ht+Math.sqrt(Ht*Ht-2*Ft*(xt*xt/(-2*pt)-ft+pt/2+W-et/2)))/Ft+Y:(Y+ht)/2}function Gn(u,_){var O=u.N;if(O)return $n(O,_);var Y=u.site;return Y.y===_?Y.x:1/0}function dr(u){this.site=u,this.edges=[]}function Pn(u,_){return _.angle-u.angle}function Rn(){Lr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Zn(u){var _=u.P,O=u.N;if(_&&O){var Y=_.site,W=u.site,et=O.site;if(Y!==et){var st=W.x,ht=W.y,ft=Y.x-st,pt=Y.y-ht,xt=et.x-st,Ft=2*(ft*(Qt=et.y-ht)-pt*xt);if(!(Ft>=-1e-12)){var Ht=ft*ft+pt*pt,Xt=xt*xt+Qt*Qt,ie=(Qt*Ht-pt*Xt)/Ft,Gt=(ft*Xt-xt*Ht)/Ft,Qt=Gt+ht,Bt=On.pop()||new Rn;Bt.arc=u,Bt.site=W,Bt.x=ie+st,Bt.y=Qt+Math.sqrt(ie*ie+Gt*Gt),Bt.cy=Qt,u.circle=Bt;for(var pe=null,ne=bn._;ne;)if(Bt.y<ne.y||Bt.y===ne.y&&Bt.x<=ne.x){if(!ne.L){pe=ne.P;break}ne=ne.L}else{if(!ne.R){pe=ne;break}ne=ne.R}bn.insert(pe,Bt),pe||(xn=Bt)}}}}function jn(u){var _=u.circle;_&&(_.P||(xn=_.N),bn.remove(_),On.push(_),Lr(_),u.circle=null)}function Ir(u,_){var O=u.b;if(O)return!0;var Y,W,et=u.a,st=_[0][0],ht=_[1][0],ft=_[0][1],pt=_[1][1],xt=u.l,Ft=u.r,Ht=xt.x,Xt=xt.y,ie=Ft.x,Gt=Ft.y,Qt=(Ht+ie)/2;if(Gt===Xt){if(Qt<st||Qt>=ht)return;if(Ht>ie){if(et){if(et.y>=pt)return}else et={x:Qt,y:ft};O={x:Qt,y:pt}}else{if(et){if(et.y<ft)return}else et={x:Qt,y:pt};O={x:Qt,y:ft}}}else if(W=(Xt+Gt)/2-(Y=(Ht-ie)/(Gt-Xt))*Qt,Y<-1||Y>1)if(Ht>ie){if(et){if(et.y>=pt)return}else et={x:(ft-W)/Y,y:ft};O={x:(pt-W)/Y,y:pt}}else{if(et){if(et.y<ft)return}else et={x:(pt-W)/Y,y:pt};O={x:(ft-W)/Y,y:ft}}else if(Xt<Gt){if(et){if(et.x>=ht)return}else et={x:st,y:Y*st+W};O={x:ht,y:Y*ht+W}}else{if(et){if(et.x<st)return}else et={x:ht,y:Y*ht+W};O={x:st,y:Y*st+W}}return u.a=et,u.b=O,!0}function Ar(u,_){this.l=u,this.r=_,this.a=this.b=null}function rr(u,_,O,Y){var W=new Ar(u,_);return Ee.push(W),O&&gr(W,u,_,O),Y&&gr(W,_,u,Y),hn[u.i].edges.push(new mr(W,u,_)),hn[_.i].edges.push(new mr(W,_,u)),W}function Nr(u,_,O){var Y=new Ar(u,null);return Y.a=_,Y.b=O,Ee.push(Y),Y}function gr(u,_,O,Y){u.a||u.b?u.l===O?u.b=Y:u.a=Y:(u.a=Y,u.l=_,u.r=O)}function mr(u,_,O){var Y=u.a,W=u.b;this.edge=u,this.site=_,this.angle=O?Math.atan2(O.y-_.y,O.x-_.x):u.l===_?Math.atan2(W.x-Y.x,Y.y-W.y):Math.atan2(Y.x-W.x,W.y-Y.y)}function Cr(){this._=null}function Lr(u){u.U=u.C=u.L=u.R=u.P=u.N=null}function sr(u,_){var O=_,Y=_.R,W=O.U;W?W.L===O?W.L=Y:W.R=Y:u._=Y,Y.U=W,O.U=Y,O.R=Y.L,O.R&&(O.R.U=O),Y.L=O}function se(u,_){var O=_,Y=_.L,W=O.U;W?W.L===O?W.L=Y:W.R=Y:u._=Y,Y.U=W,O.U=Y,O.L=Y.R,O.L&&(O.L.U=O),Y.R=O}function rt(u){for(;u.L;)u=u.L;return u}function yt(u,_){var O,Y,W,et=u.sort(le).pop();for(Ee=[],hn=new Array(u.length),Tn=new Cr,bn=new Cr;;)if(W=xn,et&&(!W||et.y<W.y||et.y===W.y&&et.x<W.x))et.x===O&&et.y===Y||(hn[et.i]=new dr(et),zn(et),O=et.x,Y=et.y),et=u.pop();else{if(!W)break;qn(W.arc)}_&&(function(ht){for(var ft,pt,xt,Ft,Ht,Xt=Ee,ie=(pt=ht[0][0],xt=ht[0][1],Ft=ht[1][0],Ht=ht[1][1],function(Qt){var Bt,pe=Qt.a,ne=Qt.b,Wt=pe.x,Le=pe.y,Se=0,je=1,Be=ne.x-Wt,Ke=ne.y-Le;if(Bt=pt-Wt,Be||!(Bt>0)){if(Bt/=Be,Be<0){if(Bt<Se)return;Bt<je&&(je=Bt)}else if(Be>0){if(Bt>je)return;Bt>Se&&(Se=Bt)}if(Bt=Ft-Wt,Be||!(Bt<0)){if(Bt/=Be,Be<0){if(Bt>je)return;Bt>Se&&(Se=Bt)}else if(Be>0){if(Bt<Se)return;Bt<je&&(je=Bt)}if(Bt=xt-Le,Ke||!(Bt>0)){if(Bt/=Ke,Ke<0){if(Bt<Se)return;Bt<je&&(je=Bt)}else if(Ke>0){if(Bt>je)return;Bt>Se&&(Se=Bt)}if(Bt=Ht-Le,Ke||!(Bt<0)){if(Bt/=Ke,Ke<0){if(Bt>je)return;Bt>Se&&(Se=Bt)}else if(Ke>0){if(Bt<Se)return;Bt<je&&(je=Bt)}return Se>0&&(Qt.a={x:Wt+Se*Be,y:Le+Se*Ke}),je<1&&(Qt.b={x:Wt+je*Be,y:Le+je*Ke}),Qt}}}}}),Gt=Xt.length;Gt--;)(!Ir(ft=Xt[Gt],ht)||!ie(ft)||y(ft.a.x-ft.b.x)<qt&&y(ft.a.y-ft.b.y)<qt)&&(ft.a=ft.b=null,Xt.splice(Gt,1))}(_),function(ht){for(var ft,pt,xt,Ft,Ht,Xt,ie,Gt,Qt,Bt,pe=ht[0][0],ne=ht[1][0],Wt=ht[0][1],Le=ht[1][1],Se=hn,je=Se.length;je--;)if((Ht=Se[je])&&Ht.prepare())for(Gt=(ie=Ht.edges).length,Xt=0;Xt<Gt;)xt=(Bt=ie[Xt].end()).x,Ft=Bt.y,ft=(Qt=ie[++Xt%Gt].start()).x,pt=Qt.y,(y(xt-ft)>qt||y(Ft-pt)>qt)&&(ie.splice(Xt,0,new mr(Nr(Ht.site,Bt,y(xt-pe)<qt&&Le-Ft>qt?{x:pe,y:y(ft-pe)<qt?pt:Le}:y(Ft-Le)<qt&&ne-xt>qt?{x:y(pt-Le)<qt?ft:ne,y:Le}:y(xt-ne)<qt&&Ft-Wt>qt?{x:ne,y:y(ft-ne)<qt?pt:Wt}:y(Ft-Wt)<qt&&xt-pe>qt?{x:y(pt-Wt)<qt?ft:pe,y:Wt}:null),Ht.site,null)),++Gt)}(_));var st={cells:hn,edges:Ee};return Tn=bn=Ee=hn=null,st}function le(u,_){return _.y-u.y||_.x-u.x}dr.prototype.prepare=function(){for(var u,_=this.edges,O=_.length;O--;)(u=_[O].edge).b&&u.a||_.splice(O,1);return _.sort(Pn),_.length},mr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Cr.prototype={insert:function(u,_){var O,Y,W;if(u){if(_.P=u,_.N=u.N,u.N&&(u.N.P=_),u.N=_,u.R){for(u=u.R;u.L;)u=u.L;u.L=_}else u.R=_;O=u}else this._?(u=rt(this._),_.P=null,_.N=u,u.P=u.L=_,O=u):(_.P=_.N=null,this._=_,O=null);for(_.L=_.R=null,_.U=O,_.C=!0,u=_;O&&O.C;)O===(Y=O.U).L?(W=Y.R)&&W.C?(O.C=W.C=!1,Y.C=!0,u=Y):(u===O.R&&(sr(this,O),O=(u=O).U),O.C=!1,Y.C=!0,se(this,Y)):(W=Y.L)&&W.C?(O.C=W.C=!1,Y.C=!0,u=Y):(u===O.L&&(se(this,O),O=(u=O).U),O.C=!1,Y.C=!0,sr(this,Y)),O=u.U;this._.C=!1},remove:function(u){u.N&&(u.N.P=u.P),u.P&&(u.P.N=u.N),u.N=u.P=null;var _,O,Y,W=u.U,et=u.L,st=u.R;if(O=et?st?rt(st):et:st,W?W.L===u?W.L=O:W.R=O:this._=O,et&&st?(Y=O.C,O.C=u.C,O.L=et,et.U=O,O!==st?(W=O.U,O.U=u.U,W.L=u=O.R,O.R=st,st.U=O):(O.U=W,W=O,u=O.R)):(Y=u.C,u=O),u&&(u.U=W),!Y)if(u&&u.C)u.C=!1;else{do{if(u===this._)break;if(u===W.L){if((_=W.R).C&&(_.C=!1,W.C=!0,sr(this,W),_=W.R),_.L&&_.L.C||_.R&&_.R.C){_.R&&_.R.C||(_.L.C=!1,_.C=!0,se(this,_),_=W.R),_.C=W.C,W.C=_.R.C=!1,sr(this,W),u=this._;break}}else if((_=W.L).C&&(_.C=!1,W.C=!0,se(this,W),_=W.L),_.L&&_.L.C||_.R&&_.R.C){_.L&&_.L.C||(_.R.C=!1,_.C=!0,sr(this,_),_=W.L),_.C=W.C,W.C=_.L.C=!1,se(this,W),u=this._;break}_.C=!0,u=W,W=W.U}while(!u.C);u&&(u.C=!1)}}},t.geom.voronoi=function(u){var _=Ye,O=dn,Y=_,W=O,et=Ie;if(u)return st(u);function st(ft){var pt=new Array(ft.length),xt=et[0][0],Ft=et[0][1],Ht=et[1][0],Xt=et[1][1];return yt(ht(ft),et).cells.forEach(function(ie,Gt){var Qt=ie.edges,Bt=ie.site;(pt[Gt]=Qt.length?Qt.map(function(pe){var ne=pe.start();return[ne.x,ne.y]}):Bt.x>=xt&&Bt.x<=Ht&&Bt.y>=Ft&&Bt.y<=Xt?[[xt,Xt],[Ht,Xt],[Ht,Ft],[xt,Ft]]:[]).point=ft[Gt]}),pt}function ht(ft){return ft.map(function(pt,xt){return{x:Math.round(Y(pt,xt)/qt)*qt,y:Math.round(W(pt,xt)/qt)*qt,i:xt}})}return st.links=function(ft){return yt(ht(ft)).edges.filter(function(pt){return pt.l&&pt.r}).map(function(pt){return{source:ft[pt.l.i],target:ft[pt.r.i]}})},st.triangles=function(ft){var pt=[];return yt(ht(ft)).cells.forEach(function(xt,Ft){for(var Ht,Xt,ie,Gt,Qt=xt.site,Bt=xt.edges.sort(Pn),pe=-1,ne=Bt.length,Wt=Bt[ne-1].edge,Le=Wt.l===Qt?Wt.r:Wt.l;++pe<ne;)Ht=Le,Le=(Wt=Bt[pe].edge).l===Qt?Wt.r:Wt.l,Ft<Ht.i&&Ft<Le.i&&((Xt=Qt).x-(Gt=Le).x)*((ie=Ht).y-Xt.y)-(Xt.x-ie.x)*(Gt.y-Xt.y)<0&&pt.push([ft[Ft],ft[Ht.i],ft[Le.i]])}),pt},st.x=function(ft){return arguments.length?(Y=De(_=ft),st):_},st.y=function(ft){return arguments.length?(W=De(O=ft),st):O},st.clipExtent=function(ft){return arguments.length?(et=ft??Ie,st):et===Ie?null:et},st.size=function(ft){return arguments.length?st.clipExtent(ft&&[[0,0],ft]):et===Ie?null:et&&et[1]},st};var Ie=[[-1e6,-1e6],[1e6,1e6]];function We(u){return u.x}function on(u){return u.y}function kn(u,_,O,Y,W,et){if(!u(_,O,Y,W,et)){var st=.5*(O+W),ht=.5*(Y+et),ft=_.nodes;ft[0]&&kn(u,ft[0],O,Y,st,ht),ft[1]&&kn(u,ft[1],st,Y,W,ht),ft[2]&&kn(u,ft[2],O,ht,st,et),ft[3]&&kn(u,ft[3],st,ht,W,et)}}function Nn(u,_,O,Y,W,et,st){var ht,ft=1/0;return function pt(xt,Ft,Ht,Xt,ie){if(!(Ft>et||Ht>st||Xt<Y||ie<W)){if(Gt=xt.point){var Gt,Qt=_-xt.x,Bt=O-xt.y,pe=Qt*Qt+Bt*Bt;if(pe<ft){var ne=Math.sqrt(ft=pe);Y=_-ne,W=O-ne,et=_+ne,st=O+ne,ht=Gt}}for(var Wt=xt.nodes,Le=.5*(Ft+Xt),Se=.5*(Ht+ie),je=(O>=Se)<<1|_>=Le,Be=je+4;je<Be;++je)if(xt=Wt[3&je])switch(3&je){case 0:pt(xt,Ft,Ht,Le,Se);break;case 1:pt(xt,Le,Ht,Xt,Se);break;case 2:pt(xt,Ft,Se,Le,ie);break;case 3:pt(xt,Le,Se,Xt,ie)}}}(u,Y,W,et,st),ht}function Vn(u,_){u=t.rgb(u),_=t.rgb(_);var O=u.r,Y=u.g,W=u.b,et=_.r-O,st=_.g-Y,ht=_.b-W;return function(ft){return"#"+Ue(Math.round(O+et*ft))+Ue(Math.round(Y+st*ft))+Ue(Math.round(W+ht*ft))}}function Kn(u,_){var O,Y={},W={};for(O in u)O in _?Y[O]=Un(u[O],_[O]):W[O]=u[O];for(O in _)O in u||(W[O]=_[O]);return function(et){for(O in Y)W[O]=Y[O](et);return W}}function Hn(u,_){return u=+u,_=+_,function(O){return u*(1-O)+_*O}}function lr(u,_){var O,Y,W,et=nr.lastIndex=cr.lastIndex=0,st=-1,ht=[],ft=[];for(u+="",_+="";(O=nr.exec(u))&&(Y=cr.exec(_));)(W=Y.index)>et&&(W=_.slice(et,W),ht[st]?ht[st]+=W:ht[++st]=W),(O=O[0])===(Y=Y[0])?ht[st]?ht[st]+=Y:ht[++st]=Y:(ht[++st]=null,ft.push({i:st,x:Hn(O,Y)})),et=cr.lastIndex;return et<_.length&&(W=_.slice(et),ht[st]?ht[st]+=W:ht[++st]=W),ht.length<2?ft[0]?(_=ft[0].x,function(pt){return _(pt)+""}):function(){return _}:(_=ft.length,function(pt){for(var xt,Ft=0;Ft<_;++Ft)ht[(xt=ft[Ft]).i]=xt.x(pt);return ht.join("")})}t.geom.delaunay=function(u){return t.geom.voronoi().triangles(u)},t.geom.quadtree=function(u,_,O,Y,W){var et,st=Ye,ht=dn;if(et=arguments.length)return st=We,ht=on,3===et&&(W=O,Y=_,O=_=0),ft(u);function ft(pt){var xt,Ft,Ht,Xt,ie,Gt,Qt,Bt,pe,ne=De(st),Wt=De(ht);if(null!=_)Gt=_,Qt=O,Bt=Y,pe=W;else if(Bt=pe=-(Gt=Qt=1/0),Ft=[],Ht=[],ie=pt.length,et)for(Xt=0;Xt<ie;++Xt)(xt=pt[Xt]).x<Gt&&(Gt=xt.x),xt.y<Qt&&(Qt=xt.y),xt.x>Bt&&(Bt=xt.x),xt.y>pe&&(pe=xt.y),Ft.push(xt.x),Ht.push(xt.y);else for(Xt=0;Xt<ie;++Xt){var Le=+ne(xt=pt[Xt],Xt),Se=+Wt(xt,Xt);Le<Gt&&(Gt=Le),Se<Qt&&(Qt=Se),Le>Bt&&(Bt=Le),Se>pe&&(pe=Se),Ft.push(Le),Ht.push(Se)}var je=Bt-Gt,Be=pe-Qt;function Ke(en,_n,En,Fn,Re,nn,yn,pn){if(!isNaN(En)&&!isNaN(Fn))if(en.leaf){var Dn=en.x,Cn=en.y;if(null!=Dn)if(y(Dn-En)+y(Cn-Fn)<.01)Qe(en,_n,En,Fn,Re,nn,yn,pn);else{var In=en.point;en.x=en.y=en.point=null,Qe(en,In,Dn,Cn,Re,nn,yn,pn),Qe(en,_n,En,Fn,Re,nn,yn,pn)}else en.x=En,en.y=Fn,en.point=_n}else Qe(en,_n,En,Fn,Re,nn,yn,pn)}function Qe(en,_n,En,Fn,Re,nn,yn,pn){var Dn=.5*(Re+yn),Cn=.5*(nn+pn),In=En>=Dn,Yn=Fn>=Cn,Wn=Yn<<1|In;en.leaf=!1,In?Re=Dn:yn=Dn,Yn?nn=Cn:pn=Cn,Ke(en=en.nodes[Wn]||(en.nodes[Wn]={leaf:!0,nodes:[],point:null,x:null,y:null}),_n,En,Fn,Re,nn,yn,pn)}je>Be?pe=Qt+je:Bt=Gt+Be;var mn={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(en){Ke(mn,en,+ne(en,++Xt),+Wt(en,Xt),Gt,Qt,Bt,pe)},visit:function(en){kn(en,mn,Gt,Qt,Bt,pe)},find:function(en){return Nn(mn,en[0],en[1],Gt,Qt,Bt,pe)}};if(Xt=-1,null==_){for(;++Xt<ie;)Ke(mn,pt[Xt],Ft[Xt],Ht[Xt],Gt,Qt,Bt,pe);--Xt}else pt.forEach(mn.add);return Ft=Ht=pt=xt=null,mn}return ft.x=function(pt){return arguments.length?(st=pt,ft):st},ft.y=function(pt){return arguments.length?(ht=pt,ft):ht},ft.extent=function(pt){return arguments.length?(null==pt?_=O=Y=W=null:(_=+pt[0][0],O=+pt[0][1],Y=+pt[1][0],W=+pt[1][1]),ft):null==_?null:[[_,O],[Y,W]]},ft.size=function(pt){return arguments.length?(null==pt?_=O=Y=W=null:(_=O=0,Y=+pt[0],W=+pt[1]),ft):null==_?null:[Y-_,W-O]},ft},t.interpolateRgb=Vn,t.interpolateObject=Kn,t.interpolateNumber=Hn,t.interpolateString=lr;var nr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cr=new RegExp(nr.source,"g");function Un(u,_){for(var O,Y=t.interpolators.length;--Y>=0&&!(O=t.interpolators[Y](u,_)););return O}function fr(u,_){var O,Y=[],W=[],et=u.length,st=_.length,ht=Math.min(u.length,_.length);for(O=0;O<ht;++O)Y.push(Un(u[O],_[O]));for(;O<et;++O)W[O]=u[O];for(;O<st;++O)W[O]=_[O];return function(ft){for(O=0;O<ht;++O)W[O]=Y[O](ft);return W}}t.interpolate=Un,t.interpolators=[function(u,_){var O=typeof _;return("string"===O?Fe.has(_.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(_)?Vn:lr:_ instanceof jt?Vn:Array.isArray(_)?fr:"object"===O&&isNaN(_)?Kn:Hn)(u,_)}],t.interpolateArray=fr;var wr=function(){return B},Wr=t.map({linear:wr,poly:function(u){return function(_){return Math.pow(_,u)}},quad:function(){return Qa},cubic:function(){return ti},sin:function(){return ni},exp:function(){return ri},circle:function(){return ai},elastic:function(u,_){var O;return arguments.length<2&&(_=.45),arguments.length?O=_/Te*Math.asin(1/u):(u=1,O=_/4),function(Y){return 1+u*Math.pow(2,-10*Y)*Math.sin((Y-O)*Te/_)}},back:function(u){return u||(u=1.70158),function(_){return _*_*((u+1)*_-u)}},bounce:function(){return ii}}),vr=t.map({in:B,out:pa,"in-out":ga,"out-in":function(u){return ga(pa(u))}});function Jr(u){return function(_){return _<=0?0:_>=1?1:u(_)}}function pa(u){return function(_){return 1-u(1-_)}}function ga(u){return function(_){return.5*(_<.5?u(2*_):2-u(2-2*_))}}function Qa(u){return u*u}function ti(u){return u*u*u}function ei(u){if(u<=0)return 0;if(u>=1)return 1;var _=u*u,O=_*u;return 4*(u<.5?O:3*(u-_)+O-.75)}function ni(u){return 1-Math.cos(u*xe)}function ri(u){return Math.pow(2,10*(u-1))}function ai(u){return 1-Math.sqrt(1-u*u)}function ii(u){return u<1/2.75?7.5625*u*u:u<2/2.75?7.5625*(u-=1.5/2.75)*u+.75:u<2.5/2.75?7.5625*(u-=2.25/2.75)*u+.9375:7.5625*(u-=2.625/2.75)*u+.984375}function ma(u,_){return _-=u,function(O){return Math.round(u+_*O)}}function va(u){var _,O,Y,W=[u.a,u.b],et=[u.c,u.d],st=ba(W),ht=ya(W,et),ft=ba(((_=et)[0]+=(Y=-ht)*(O=W)[0],_[1]+=Y*O[1],_))||0;W[0]*et[1]<et[0]*W[1]&&(W[0]*=-1,W[1]*=-1,st*=-1,ht*=-1),this.rotate=(st?Math.atan2(W[1],W[0]):Math.atan2(-et[0],et[1]))*ce,this.translate=[u.e,u.f],this.scale=[st,ft],this.skew=ft?Math.atan2(ht,ft)*ce:0}function ya(u,_){return u[0]*_[0]+u[1]*_[1]}function ba(u){var _=Math.sqrt(ya(u,u));return _&&(u[0]/=_,u[1]/=_),_}t.ease=function(u){var _=u.indexOf("-"),O=_>=0?u.slice(0,_):u,Y=_>=0?u.slice(_+1):"in";return O=Wr.get(O)||wr,Jr((Y=vr.get(Y)||B)(O.apply(null,l.call(arguments,1))))},t.interpolateHcl=function(u,_){u=t.hcl(u),_=t.hcl(_);var O=u.h,Y=u.c,W=u.l,et=_.h-O,st=_.c-Y,ht=_.l-W;return isNaN(st)&&(st=0,Y=isNaN(Y)?_.c:Y),isNaN(et)?(et=0,O=isNaN(O)?_.h:O):et>180?et-=360:et<-180&&(et+=360),function(ft){return re(O+et*ft,Y+st*ft,W+ht*ft)+""}},t.interpolateHsl=function(u,_){u=t.hsl(u),_=t.hsl(_);var O=u.h,Y=u.s,W=u.l,et=_.h-O,st=_.s-Y,ht=_.l-W;return isNaN(st)&&(st=0,Y=isNaN(Y)?_.s:Y),isNaN(et)?(et=0,O=isNaN(O)?_.h:O):et>180?et-=360:et<-180&&(et+=360),function(ft){return ae(O+et*ft,Y+st*ft,W+ht*ft)+""}},t.interpolateLab=function(u,_){u=t.lab(u),_=t.lab(_);var O=u.l,Y=u.a,W=u.b,et=_.l-O,st=_.a-Y,ht=_.b-W;return function(ft){return te(O+et*ft,Y+st*ft,W+ht*ft)+""}},t.interpolateRound=ma,t.transform=function(u){var _=e.createElementNS(t.ns.prefix.svg,"g");return(t.transform=function(O){if(null!=O){_.setAttribute("transform",O);var Y=_.transform.baseVal.consolidate()}return new va(Y?Y.matrix:oi)})(u)},va.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var oi={a:1,b:0,c:0,d:1,e:0,f:0};function Sr(u){return u.length?u.pop()+",":""}function xa(u,_){var W,et,st,O=[],Y=[];return u=t.transform(u),_=t.transform(_),function(W,et,st,ht){if(W[0]!==et[0]||W[1]!==et[1]){var ft=st.push("translate(",null,",",null,")");ht.push({i:ft-4,x:Hn(W[0],et[0])},{i:ft-2,x:Hn(W[1],et[1])})}else(et[0]||et[1])&&st.push("translate("+et+")")}(u.translate,_.translate,O,Y),st=O,(W=u.rotate)!==(et=_.rotate)?(W-et>180?et+=360:et-W>180&&(W+=360),Y.push({i:st.push(Sr(st)+"rotate(",null,")")-2,x:Hn(W,et)})):et&&st.push(Sr(st)+"rotate("+et+")"),function(W,et,st,ht){W!==et?ht.push({i:st.push(Sr(st)+"skewX(",null,")")-2,x:Hn(W,et)}):et&&st.push(Sr(st)+"skewX("+et+")")}(u.skew,_.skew,O,Y),function(W,et,st,ht){if(W[0]!==et[0]||W[1]!==et[1]){var ft=st.push(Sr(st)+"scale(",null,",",null,")");ht.push({i:ft-4,x:Hn(W[0],et[0])},{i:ft-2,x:Hn(W[1],et[1])})}else 1===et[0]&&1===et[1]||st.push(Sr(st)+"scale("+et+")")}(u.scale,_.scale,O,Y),u=_=null,function(W){for(var et,st=-1,ht=Y.length;++st<ht;)O[(et=Y[st]).i]=et.x(W);return O.join("")}}function si(u,_){return _=(_-=u=+u)||1/_,function(O){return(O-u)/_}}function li(u,_){return _=(_-=u=+u)||1/_,function(O){return Math.max(0,Math.min(1,(O-u)/_))}}function ci(u){for(var _=u.source,O=u.target,Y=function(st,ht){if(st===ht)return st;for(var ft=_a(st),pt=_a(ht),xt=ft.pop(),Ft=pt.pop(),Ht=null;xt===Ft;)Ht=xt,xt=ft.pop(),Ft=pt.pop();return Ht}(_,O),W=[_];_!==Y;)W.push(_=_.parent);for(var et=W.length;O!==Y;)W.splice(et,0,O),O=O.parent;return W}function _a(u){for(var _=[],O=u.parent;null!=O;)_.push(u),u=O,O=O.parent;return _.push(u),_}function ui(u){u.fixed|=2}function di(u){u.fixed&=-7}function fi(u){u.fixed|=4,u.px=u.x,u.py=u.y}function hi(u){u.fixed&=-5}t.interpolateTransform=xa,t.layout={},t.layout.bundle=function(){return function(u){for(var _=[],O=-1,Y=u.length;++O<Y;)_.push(ci(u[O]));return _}},t.layout.chord=function(){var u,_,O,Y,W,et,st,ht={},ft=0;function pt(){var Ft,Ht,Xt,ie,Gt,Qt={},Bt=[],pe=t.range(Y),ne=[];for(u=[],_=[],Ft=0,ie=-1;++ie<Y;){for(Ht=0,Gt=-1;++Gt<Y;)Ht+=O[ie][Gt];Bt.push(Ht),ne.push(t.range(Y)),Ft+=Ht}for(W&&pe.sort(function(mn,en){return W(Bt[mn],Bt[en])}),et&&ne.forEach(function(mn,en){mn.sort(function(_n,En){return et(O[en][_n],O[en][En])})}),Ft=(Te-ft*Y)/Ft,Ht=0,ie=-1;++ie<Y;){for(Xt=Ht,Gt=-1;++Gt<Y;){var Wt=pe[ie],Le=ne[Wt][Gt],Se=O[Wt][Le],je=Ht,Be=Ht+=Se*Ft;Qt[Wt+"-"+Le]={index:Wt,subindex:Le,startAngle:je,endAngle:Be,value:Se}}_[Wt]={index:Wt,startAngle:Xt,endAngle:Ht,value:Bt[Wt]},Ht+=ft}for(ie=-1;++ie<Y;)for(Gt=ie-1;++Gt<Y;){var Ke=Qt[ie+"-"+Gt],Qe=Qt[Gt+"-"+ie];(Ke.value||Qe.value)&&u.push(Ke.value<Qe.value?{source:Qe,target:Ke}:{source:Ke,target:Qe})}st&&xt()}function xt(){u.sort(function(Ft,Ht){return st((Ft.source.value+Ft.target.value)/2,(Ht.source.value+Ht.target.value)/2)})}return ht.matrix=function(Ft){return arguments.length?(Y=(O=Ft)&&O.length,u=_=null,ht):O},ht.padding=function(Ft){return arguments.length?(ft=Ft,u=_=null,ht):ft},ht.sortGroups=function(Ft){return arguments.length?(W=Ft,u=_=null,ht):W},ht.sortSubgroups=function(Ft){return arguments.length?(et=Ft,u=null,ht):et},ht.sortChords=function(Ft){return arguments.length?(st=Ft,u&&xt(),ht):st},ht.chords=function(){return u||pt(),u},ht.groups=function(){return _||pt(),_},ht},t.layout.force=function(){var u,_,O,Y,W,et,st={},ht=t.dispatch("start","tick","end"),ft=[1,1],pt=.9,xt=pi,Ft=gi,Ht=-30,Xt=mi,ie=.1,Gt=.64,Qt=[],Bt=[];function pe(Wt){return function(Le,Se,je,Be){if(Le.point!==Wt){var Ke=Le.cx-Wt.x,Qe=Le.cy-Wt.y,mn=Be-Se,en=Ke*Ke+Qe*Qe;if(mn*mn/Gt<en){if(en<Xt){var _n=Le.charge/en;Wt.px-=Ke*_n,Wt.py-=Qe*_n}return!0}Le.point&&en&&en<Xt&&(Wt.px-=Ke*(_n=Le.pointCharge/en),Wt.py-=Qe*_n)}return!Le.charge}}function ne(Wt){Wt.px=t.event.x,Wt.py=t.event.y,st.resume()}return st.tick=function(){if((O*=.99)<.005)return u=null,ht.end({type:"end",alpha:O=0}),!0;var Wt,Le,Se,je,Be,Ke,Qe,mn,en,_n=Qt.length,En=Bt.length;for(Le=0;Le<En;++Le)je=(Se=Bt[Le]).source,(Ke=(mn=(Be=Se.target).x-je.x)*mn+(en=Be.y-je.y)*en)&&(mn*=Ke=O*W[Le]*((Ke=Math.sqrt(Ke))-Y[Le])/Ke,en*=Ke,Be.x-=mn*(Qe=je.weight+Be.weight?je.weight/(je.weight+Be.weight):.5),Be.y-=en*Qe,je.x+=mn*(Qe=1-Qe),je.y+=en*Qe);if((Qe=O*ie)&&(mn=ft[0]/2,en=ft[1]/2,Le=-1,Qe))for(;++Le<_n;)(Se=Qt[Le]).x+=(mn-Se.x)*Qe,Se.y+=(en-Se.y)*Qe;if(Ht)for(function Fn(Re,nn,yn){var pn=0,Dn=0;if(Re.charge=0,!Re.leaf)for(var Cn,In=Re.nodes,Yn=In.length,Wn=-1;++Wn<Yn;)null!=(Cn=In[Wn])&&(Fn(Cn,nn,yn),Re.charge+=Cn.charge,pn+=Cn.charge*Cn.cx,Dn+=Cn.charge*Cn.cy);if(Re.point){Re.leaf||(Re.point.x+=Math.random()-.5,Re.point.y+=Math.random()-.5);var Jn=nn*yn[Re.point.index];Re.charge+=Re.pointCharge=Jn,pn+=Jn*Re.point.x,Dn+=Jn*Re.point.y}Re.cx=pn/Re.charge,Re.cy=Dn/Re.charge}(Wt=t.geom.quadtree(Qt),O,et),Le=-1;++Le<_n;)(Se=Qt[Le]).fixed||Wt.visit(pe(Se));for(Le=-1;++Le<_n;)(Se=Qt[Le]).fixed?(Se.x=Se.px,Se.y=Se.py):(Se.x-=(Se.px-(Se.px=Se.x))*pt,Se.y-=(Se.py-(Se.py=Se.y))*pt);ht.tick({type:"tick",alpha:O})},st.nodes=function(Wt){return arguments.length?(Qt=Wt,st):Qt},st.links=function(Wt){return arguments.length?(Bt=Wt,st):Bt},st.size=function(Wt){return arguments.length?(ft=Wt,st):ft},st.linkDistance=function(Wt){return arguments.length?(xt="function"==typeof Wt?Wt:+Wt,st):xt},st.distance=st.linkDistance,st.linkStrength=function(Wt){return arguments.length?(Ft="function"==typeof Wt?Wt:+Wt,st):Ft},st.friction=function(Wt){return arguments.length?(pt=+Wt,st):pt},st.charge=function(Wt){return arguments.length?(Ht="function"==typeof Wt?Wt:+Wt,st):Ht},st.chargeDistance=function(Wt){return arguments.length?(Xt=Wt*Wt,st):Math.sqrt(Xt)},st.gravity=function(Wt){return arguments.length?(ie=+Wt,st):ie},st.theta=function(Wt){return arguments.length?(Gt=Wt*Wt,st):Math.sqrt(Gt)},st.alpha=function(Wt){return arguments.length?(Wt=+Wt,O?Wt>0?O=Wt:(u.c=null,u.t=NaN,u=null,ht.end({type:"end",alpha:O=0})):Wt>0&&(ht.start({type:"start",alpha:O=Wt}),u=fn(st.tick)),st):O},st.start=function(){var Wt,Le,Se,je=Qt.length,Be=Bt.length,Ke=ft[0],Qe=ft[1];for(Wt=0;Wt<je;++Wt)(Se=Qt[Wt]).index=Wt,Se.weight=0;for(Wt=0;Wt<Be;++Wt)"number"==typeof(Se=Bt[Wt]).source&&(Se.source=Qt[Se.source]),"number"==typeof Se.target&&(Se.target=Qt[Se.target]),++Se.source.weight,++Se.target.weight;for(Wt=0;Wt<je;++Wt)Se=Qt[Wt],isNaN(Se.x)&&(Se.x=mn("x",Ke)),isNaN(Se.y)&&(Se.y=mn("y",Qe)),isNaN(Se.px)&&(Se.px=Se.x),isNaN(Se.py)&&(Se.py=Se.y);if(Y=[],"function"==typeof xt)for(Wt=0;Wt<Be;++Wt)Y[Wt]=+xt.call(this,Bt[Wt],Wt);else for(Wt=0;Wt<Be;++Wt)Y[Wt]=xt;if(W=[],"function"==typeof Ft)for(Wt=0;Wt<Be;++Wt)W[Wt]=+Ft.call(this,Bt[Wt],Wt);else for(Wt=0;Wt<Be;++Wt)W[Wt]=Ft;if(et=[],"function"==typeof Ht)for(Wt=0;Wt<je;++Wt)et[Wt]=+Ht.call(this,Qt[Wt],Wt);else for(Wt=0;Wt<je;++Wt)et[Wt]=Ht;function mn(en,_n){if(!Le){for(Le=new Array(je),nn=0;nn<je;++nn)Le[nn]=[];for(nn=0;nn<Be;++nn){var En=Bt[nn];Le[En.source.index].push(En.target),Le[En.target.index].push(En.source)}}for(var Fn,Re=Le[Wt],nn=-1,yn=Re.length;++nn<yn;)if(!isNaN(Fn=Re[nn][en]))return Fn;return Math.random()*_n}return st.resume()},st.resume=function(){return st.alpha(.1)},st.stop=function(){return st.alpha(0)},st.drag=function(){if(_||(_=t.behavior.drag().origin(B).on("dragstart.force",ui).on("drag.force",ne).on("dragend.force",di)),!arguments.length)return _;this.on("mouseover.force",fi).on("mouseout.force",hi).call(_)},t.rebind(st,ht,"on")};var pi=20,gi=1,mi=1/0;function Or(u,_){return t.rebind(u,_,"sort","children","value"),u.nodes=u,u.links=xi,u}function Pr(u,_){for(var O=[u];null!=(u=O.pop());)if(_(u),(W=u.children)&&(Y=W.length))for(var Y,W;--Y>=0;)O.push(W[Y])}function hr(u,_){for(var O=[u],Y=[];null!=(u=O.pop());)if(Y.push(u),(et=u.children)&&(W=et.length))for(var W,et,st=-1;++st<W;)O.push(et[st]);for(;null!=(u=Y.pop());)_(u)}function vi(u){return u.children}function yi(u){return u.value}function bi(u,_){return _.value-u.value}function xi(u){return t.merge(u.map(function(_){return(_.children||[]).map(function(O){return{source:_,target:O}})}))}t.layout.hierarchy=function(){var u=bi,_=vi,O=yi;function Y(W){var et,st=[W],ht=[];for(W.depth=0;null!=(et=st.pop());)if(ht.push(et),(pt=_.call(Y,et,et.depth))&&(ft=pt.length)){for(var ft,pt,xt;--ft>=0;)st.push(xt=pt[ft]),xt.parent=et,xt.depth=et.depth+1;O&&(et.value=0),et.children=pt}else O&&(et.value=+O.call(Y,et,et.depth)||0),delete et.children;return hr(W,function(Ft){var Ht,Xt;u&&(Ht=Ft.children)&&Ht.sort(u),O&&(Xt=Ft.parent)&&(Xt.value+=Ft.value)}),ht}return Y.sort=function(W){return arguments.length?(u=W,Y):u},Y.children=function(W){return arguments.length?(_=W,Y):_},Y.value=function(W){return arguments.length?(O=W,Y):O},Y.revalue=function(W){return O&&(Pr(W,function(et){et.children&&(et.value=0)}),hr(W,function(et){var st;et.children||(et.value=+O.call(Y,et,et.depth)||0),(st=et.parent)&&(st.value+=et.value)})),W},Y},t.layout.partition=function(){var u=t.layout.hierarchy(),_=[1,1];function O(Y,W){var et=u.call(this,Y,W);return function st(ht,ft,pt,xt){var Ft=ht.children;if(ht.x=ft,ht.y=ht.depth*xt,ht.dx=pt,ht.dy=xt,Ft&&(Ht=Ft.length)){var Ht,Xt,ie,Gt=-1;for(pt=ht.value?pt/ht.value:0;++Gt<Ht;)st(Xt=Ft[Gt],ft,ie=Xt.value*pt,xt),ft+=ie}}(et[0],0,_[0],_[1]/function st(ht){var ft=ht.children,pt=0;if(ft&&(xt=ft.length))for(var xt,Ft=-1;++Ft<xt;)pt=Math.max(pt,st(ft[Ft]));return 1+pt}(et[0])),et}return O.size=function(Y){return arguments.length?(_=Y,O):_},Or(O,u)},t.layout.pie=function(){var u=Number,_=wa,O=0,Y=Te,W=0;function et(st){var ht,ft=st.length,pt=st.map(function(pe,ne){return+u.call(et,pe,ne)}),xt=+("function"==typeof O?O.apply(this,arguments):O),Ft=("function"==typeof Y?Y.apply(this,arguments):Y)-xt,Ht=Math.min(Math.abs(Ft)/ft,+("function"==typeof W?W.apply(this,arguments):W)),Xt=Ht*(Ft<0?-1:1),ie=t.sum(pt),Gt=ie?(Ft-ft*Xt)/ie:0,Qt=t.range(ft),Bt=[];return null!=_&&Qt.sort(_===wa?function(pe,ne){return pt[ne]-pt[pe]}:function(pe,ne){return _(st[pe],st[ne])}),Qt.forEach(function(pe){Bt[pe]={data:st[pe],value:ht=pt[pe],startAngle:xt,endAngle:xt+=ht*Gt+Xt,padAngle:Ht}}),Bt}return et.value=function(st){return arguments.length?(u=st,et):u},et.sort=function(st){return arguments.length?(_=st,et):_},et.startAngle=function(st){return arguments.length?(O=st,et):O},et.endAngle=function(st){return arguments.length?(Y=st,et):Y},et.padAngle=function(st){return arguments.length?(W=st,et):W},et};var wa={};function _i(u){return u.x}function wi(u){return u.y}function Ti(u,_,O){u.y0=_,u.y=O}t.layout.stack=function(){var u=B,_=Xr,O=$r,Y=Ti,W=_i,et=wi;function st(ht,ft){if(!(Ht=ht.length))return ht;var pt=ht.map(function(pe,ne){return u.call(st,pe,ne)}),xt=pt.map(function(pe){return pe.map(function(ne,Wt){return[W.call(st,ne,Wt),et.call(st,ne,Wt)]})}),Ft=_.call(st,xt,ft);pt=t.permute(pt,Ft),xt=t.permute(xt,Ft);var Ht,Xt,ie,Gt,Qt=O.call(st,xt,ft),Bt=pt[0].length;for(ie=0;ie<Bt;++ie)for(Y.call(st,pt[0][ie],Gt=Qt[ie],xt[0][ie][1]),Xt=1;Xt<Ht;++Xt)Y.call(st,pt[Xt][ie],Gt+=xt[Xt-1][ie][1],xt[Xt][ie][1]);return ht}return st.values=function(ht){return arguments.length?(u=ht,st):u},st.order=function(ht){return arguments.length?(_="function"==typeof ht?ht:ki.get(ht)||Xr,st):_},st.offset=function(ht){return arguments.length?(O="function"==typeof ht?ht:Mi.get(ht)||$r,st):O},st.x=function(ht){return arguments.length?(W=ht,st):W},st.y=function(ht){return arguments.length?(et=ht,st):et},st.out=function(ht){return arguments.length?(Y=ht,st):Y},st};var ki=t.map({"inside-out":function(u){var _,O,Y=u.length,W=u.map(Ai),et=u.map(Li),st=t.range(Y).sort(function(Ft,Ht){return W[Ft]-W[Ht]}),ht=0,ft=0,pt=[],xt=[];for(_=0;_<Y;++_)O=st[_],ht<ft?(ht+=et[O],pt.push(O)):(ft+=et[O],xt.push(O));return xt.reverse().concat(pt)},reverse:function(u){return t.range(u.length).reverse()},default:Xr}),Mi=t.map({silhouette:function(u){var _,O,Y,W=u.length,et=u[0].length,st=[],ht=0,ft=[];for(O=0;O<et;++O){for(_=0,Y=0;_<W;_++)Y+=u[_][O][1];Y>ht&&(ht=Y),st.push(Y)}for(O=0;O<et;++O)ft[O]=(ht-st[O])/2;return ft},wiggle:function(u){var _,O,Y,W,et,st,ht,ft,pt,xt=u.length,Ft=u[0],Ht=Ft.length,Xt=[];for(Xt[0]=ft=pt=0,O=1;O<Ht;++O){for(_=0,W=0;_<xt;++_)W+=u[_][O][1];for(_=0,et=0,ht=Ft[O][0]-Ft[O-1][0];_<xt;++_){for(Y=0,st=(u[_][O][1]-u[_][O-1][1])/(2*ht);Y<_;++Y)st+=(u[Y][O][1]-u[Y][O-1][1])/ht;et+=st*u[_][O][1]}Xt[O]=ft-=W?et/W*ht:0,ft<pt&&(pt=ft)}for(O=0;O<Ht;++O)Xt[O]-=pt;return Xt},expand:function(u){var _,O,Y,W=u.length,et=u[0].length,st=1/W,ht=[];for(O=0;O<et;++O){for(_=0,Y=0;_<W;_++)Y+=u[_][O][1];if(Y)for(_=0;_<W;_++)u[_][O][1]/=Y;else for(_=0;_<W;_++)u[_][O][1]=st}for(O=0;O<et;++O)ht[O]=0;return ht},zero:$r});function Xr(u){return t.range(u.length)}function $r(u){for(var _=-1,O=u[0].length,Y=[];++_<O;)Y[_]=0;return Y}function Ai(u){for(var _,O=1,Y=0,W=u[0][1],et=u.length;O<et;++O)(_=u[O][1])>W&&(Y=O,W=_);return Y}function Li(u){return u.reduce(Si,0)}function Si(u,_){return u+_[1]}function Di(u,_){return Ta(u,Math.ceil(Math.log(_.length)/Math.LN2+1))}function Ta(u,_){for(var O=-1,Y=+u[0],W=(u[1]-Y)/_,et=[];++O<=_;)et[O]=W*O+Y;return et}function Ci(u){return[t.min(u),t.max(u)]}function Oi(u,_){return u.value-_.value}function Kr(u,_){var O=u._pack_next;u._pack_next=_,_._pack_prev=u,_._pack_next=O,O._pack_prev=_}function ka(u,_){u._pack_next=_,_._pack_prev=u}function Ma(u,_){var O=_.x-u.x,Y=_.y-u.y,W=u.r+_.r;return.999*W*W>O*O+Y*Y}function Aa(u){if((_=u.children)&&(ft=_.length)){var _,O,Y,W,et,st,ht,ft,pt=1/0,xt=-1/0,Ft=1/0,Ht=-1/0;if(_.forEach(Pi),(O=_[0]).x=-O.r,O.y=0,ne(O),ft>1&&((Y=_[1]).x=Y.r,Y.y=0,ne(Y),ft>2))for(La(O,Y,W=_[2]),ne(W),Kr(O,W),O._pack_prev=W,Kr(W,Y),Y=O._pack_next,et=3;et<ft;et++){La(O,Y,W=_[et]);var Xt=0,ie=1,Gt=1;for(st=Y._pack_next;st!==Y;st=st._pack_next,ie++)if(Ma(st,W)){Xt=1;break}if(1==Xt)for(ht=O._pack_prev;ht!==st._pack_prev&&!Ma(ht,W);ht=ht._pack_prev,Gt++);Xt?(ie<Gt||ie==Gt&&Y.r<O.r?ka(O,Y=st):ka(O=ht,Y),et--):(Kr(O,W),Y=W,ne(W))}var Qt=(pt+xt)/2,Bt=(Ft+Ht)/2,pe=0;for(et=0;et<ft;et++)(W=_[et]).x-=Qt,W.y-=Bt,pe=Math.max(pe,W.r+Math.sqrt(W.x*W.x+W.y*W.y));u.r=pe,_.forEach(Ei)}function ne(Wt){pt=Math.min(Wt.x-Wt.r,pt),xt=Math.max(Wt.x+Wt.r,xt),Ft=Math.min(Wt.y-Wt.r,Ft),Ht=Math.max(Wt.y+Wt.r,Ht)}}function Pi(u){u._pack_next=u._pack_prev=u}function Ei(u){delete u._pack_next,delete u._pack_prev}function La(u,_,O){var Y=u.r+O.r,W=_.x-u.x,et=_.y-u.y;if(Y&&(W||et)){var st=_.r+O.r,ht=W*W+et*et,ft=.5+((Y*=Y)-(st*=st))/(2*ht),pt=Math.sqrt(Math.max(0,2*st*(Y+ht)-(Y-=ht)*Y-st*st))/(2*ht);O.x=u.x+ft*W+pt*et,O.y=u.y+ft*et-pt*W}else O.x=u.x+Y,O.y=u.y}function Sa(u,_){return u.parent==_.parent?1:2}function Qr(u){var _=u.children;return _.length?_[0]:u.t}function ta(u){var _,O=u.children;return(_=O.length)?O[_-1]:u.t}function Ii(u,_,O){var Y=O/(_.i-u.i);_.c-=Y,_.s+=O,u.c+=Y,_.z+=O,_.m+=O}function Ni(u,_,O){return u.a.parent===_.parent?u.a:O}function ea(u){return{x:u.x,y:u.y,dx:u.dx,dy:u.dy}}function Da(u,_){var O=u.x+_[3],Y=u.y+_[0],W=u.dx-_[1]-_[3],et=u.dy-_[0]-_[2];return W<0&&(O+=W/2,W=0),et<0&&(Y+=et/2,et=0),{x:O,y:Y,dx:W,dy:et}}function zr(u){var _=u[0],O=u[u.length-1];return _<O?[_,O]:[O,_]}function Fr(u){return u.rangeExtent?u.rangeExtent():zr(u.range())}function zi(u,_,O,Y){var W=O(u[0],u[1]),et=Y(_[0],_[1]);return function(st){return et(W(st))}}function na(u,_){var O,Y=0,W=u.length-1,et=u[Y],st=u[W];return st<et&&(O=Y,Y=W,W=O,O=et,et=st,st=O),u[Y]=_.floor(et),u[W]=_.ceil(st),u}function Ca(u){return u?{floor:function(_){return Math.floor(_/u)*u},ceil:function(_){return Math.ceil(_/u)*u}}:Fi}t.layout.histogram=function(){var u=!0,_=Number,O=Ci,Y=Di;function W(et,st){for(var ht,ft,pt=[],xt=et.map(_,this),Ft=O.call(this,xt,st),Ht=Y.call(this,Ft,xt,st),Xt=(st=-1,xt.length),ie=Ht.length-1,Gt=u?1:1/Xt;++st<ie;)(ht=pt[st]=[]).dx=Ht[st+1]-(ht.x=Ht[st]),ht.y=0;if(ie>0)for(st=-1;++st<Xt;)(ft=xt[st])>=Ft[0]&&ft<=Ft[1]&&((ht=pt[t.bisect(Ht,ft,1,ie)-1]).y+=Gt,ht.push(et[st]));return pt}return W.value=function(et){return arguments.length?(_=et,W):_},W.range=function(et){return arguments.length?(O=De(et),W):O},W.bins=function(et){return arguments.length?(Y="number"==typeof et?function(st){return Ta(st,et)}:De(et),W):Y},W.frequency=function(et){return arguments.length?(u=!!et,W):u},W},t.layout.pack=function(){var u,_=t.layout.hierarchy().sort(Oi),O=0,Y=[1,1];function W(et,st){var ht=_.call(this,et,st),ft=ht[0],pt=Y[0],xt=Y[1],Ft=null==u?Math.sqrt:"function"==typeof u?u:function(){return u};if(ft.x=ft.y=0,hr(ft,function(Xt){Xt.r=+Ft(Xt.value)}),hr(ft,Aa),O){var Ht=O*(u?1:Math.max(2*ft.r/pt,2*ft.r/xt))/2;hr(ft,function(Xt){Xt.r+=Ht}),hr(ft,Aa),hr(ft,function(Xt){Xt.r-=Ht})}return function Xt(ie,Gt,Qt,Bt){var pe=ie.children;if(ie.x=Gt+=Bt*ie.x,ie.y=Qt+=Bt*ie.y,ie.r*=Bt,pe)for(var ne=-1,Wt=pe.length;++ne<Wt;)Xt(pe[ne],Gt,Qt,Bt)}(ft,pt/2,xt/2,u?1:1/Math.max(2*ft.r/pt,2*ft.r/xt)),ht}return W.size=function(et){return arguments.length?(Y=et,W):Y},W.radius=function(et){return arguments.length?(u=null==et||"function"==typeof et?et:+et,W):u},W.padding=function(et){return arguments.length?(O=+et,W):O},Or(W,_)},t.layout.tree=function(){var u=t.layout.hierarchy().sort(null).value(null),_=Sa,O=[1,1],Y=null;function W(ft,pt){var xt=u.call(this,ft,pt),Ft=xt[0],Ht=function(ne){for(var Wt,Le={A:null,children:[ne]},Se=[Le];null!=(Wt=Se.pop());)for(var je,Be=Wt.children,Ke=0,Qe=Be.length;Ke<Qe;++Ke)Se.push((Be[Ke]=je={_:Be[Ke],parent:Wt,children:(je=Be[Ke].children)&&je.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Ke}).a=je);return Le.children[0]}(Ft);if(hr(Ht,et),Ht.parent.m=-Ht.z,Pr(Ht,st),Y)Pr(Ft,ht);else{var Xt=Ft,ie=Ft,Gt=Ft;Pr(Ft,function(ne){ne.x<Xt.x&&(Xt=ne),ne.x>ie.x&&(ie=ne),ne.depth>Gt.depth&&(Gt=ne)});var Qt=_(Xt,ie)/2-Xt.x,Bt=O[0]/(ie.x+_(ie,Xt)/2+Qt),pe=O[1]/(Gt.depth||1);Pr(Ft,function(ne){ne.x=(ne.x+Qt)*Bt,ne.y=ne.depth*pe})}return xt}function et(ft){var pt=ft.children,xt=ft.parent.children,Ft=ft.i?xt[ft.i-1]:null;if(pt.length){!function(Xt){for(var ie,Gt=0,Qt=0,Bt=Xt.children,pe=Bt.length;--pe>=0;)(ie=Bt[pe]).z+=Gt,ie.m+=Gt,Gt+=ie.s+(Qt+=ie.c)}(ft);var Ht=(pt[0].z+pt[pt.length-1].z)/2;Ft?(ft.z=Ft.z+_(ft._,Ft._),ft.m=ft.z-Ht):ft.z=Ht}else Ft&&(ft.z=Ft.z+_(ft._,Ft._));ft.parent.A=function(Xt,ie,Gt){if(ie){for(var Qt,Bt=Xt,pe=Xt,ne=ie,Wt=Bt.parent.children[0],Le=Bt.m,Se=pe.m,je=ne.m,Be=Wt.m;ne=ta(ne),Bt=Qr(Bt),ne&&Bt;)Wt=Qr(Wt),(pe=ta(pe)).a=Xt,(Qt=ne.z+je-Bt.z-Le+_(ne._,Bt._))>0&&(Ii(Ni(ne,Xt,Gt),Xt,Qt),Le+=Qt,Se+=Qt),je+=ne.m,Le+=Bt.m,Be+=Wt.m,Se+=pe.m;ne&&!ta(pe)&&(pe.t=ne,pe.m+=je-Se),Bt&&!Qr(Wt)&&(Wt.t=Bt,Wt.m+=Le-Be,Gt=Xt)}return Gt}(ft,Ft,ft.parent.A||xt[0])}function st(ft){ft._.x=ft.z+ft.parent.m,ft.m+=ft.parent.m}function ht(ft){ft.x*=O[0],ft.y=ft.depth*O[1]}return W.separation=function(ft){return arguments.length?(_=ft,W):_},W.size=function(ft){return arguments.length?(Y=null==(O=ft)?ht:null,W):Y?null:O},W.nodeSize=function(ft){return arguments.length?(Y=null==(O=ft)?null:ht,W):Y?O:null},Or(W,u)},t.layout.cluster=function(){var u=t.layout.hierarchy().sort(null).value(null),_=Sa,O=[1,1],Y=!1;function W(et,st){var ht,ft=u.call(this,et,st),pt=ft[0],xt=0;hr(pt,function(Gt){var Bt,Qt=Gt.children;Qt&&Qt.length?(Gt.x=(Bt=Qt).reduce(function(pe,ne){return pe+ne.x},0)/Bt.length,Gt.y=function(Bt){return 1+t.max(Bt,function(pe){return pe.y})}(Qt)):(Gt.x=ht?xt+=_(Gt,ht):0,Gt.y=0,ht=Gt)});var Ft=function Gt(Qt){var Bt=Qt.children;return Bt&&Bt.length?Gt(Bt[0]):Qt}(pt),Ht=function Gt(Qt){var Bt,pe=Qt.children;return pe&&(Bt=pe.length)?Gt(pe[Bt-1]):Qt}(pt),Xt=Ft.x-_(Ft,Ht)/2,ie=Ht.x+_(Ht,Ft)/2;return hr(pt,Y?function(Gt){Gt.x=(Gt.x-pt.x)*O[0],Gt.y=(pt.y-Gt.y)*O[1]}:function(Gt){Gt.x=(Gt.x-Xt)/(ie-Xt)*O[0],Gt.y=(1-(pt.y?Gt.y/pt.y:1))*O[1]}),ft}return W.separation=function(et){return arguments.length?(_=et,W):_},W.size=function(et){return arguments.length?(Y=null==(O=et),W):Y?null:O},W.nodeSize=function(et){return arguments.length?(Y=null!=(O=et),W):Y?O:null},Or(W,u)},t.layout.treemap=function(){var u,_=t.layout.hierarchy(),O=Math.round,Y=[1,1],W=null,et=ea,st=!1,ht="squarify",ft=.5*(1+Math.sqrt(5));function pt(Gt,Qt){for(var Bt,pe,ne=-1,Wt=Gt.length;++ne<Wt;)pe=(Bt=Gt[ne]).value*(Qt<0?0:Qt),Bt.area=isNaN(pe)||pe<=0?0:pe}function xt(Gt){var Qt=Gt.children;if(Qt&&Qt.length){var Bt,pe,ne,Wt=et(Gt),Le=[],Se=Qt.slice(),je=1/0,Be="slice"===ht?Wt.dx:"dice"===ht?Wt.dy:"slice-dice"===ht?1&Gt.depth?Wt.dy:Wt.dx:Math.min(Wt.dx,Wt.dy);for(pt(Se,Wt.dx*Wt.dy/Gt.value),Le.area=0;(ne=Se.length)>0;)Le.push(Bt=Se[ne-1]),Le.area+=Bt.area,"squarify"!==ht||(pe=Ht(Le,Be))<=je?(Se.pop(),je=pe):(Le.area-=Le.pop().area,Xt(Le,Be,Wt,!1),Be=Math.min(Wt.dx,Wt.dy),Le.length=Le.area=0,je=1/0);Le.length&&(Xt(Le,Be,Wt,!0),Le.length=Le.area=0),Qt.forEach(xt)}}function Ft(Gt){var Qt=Gt.children;if(Qt&&Qt.length){var Bt,pe=et(Gt),ne=Qt.slice(),Wt=[];for(pt(ne,pe.dx*pe.dy/Gt.value),Wt.area=0;Bt=ne.pop();)Wt.push(Bt),Wt.area+=Bt.area,null!=Bt.z&&(Xt(Wt,Bt.z?pe.dx:pe.dy,pe,!ne.length),Wt.length=Wt.area=0);Qt.forEach(Ft)}}function Ht(Gt,Qt){for(var Bt,pe=Gt.area,ne=0,Wt=1/0,Le=-1,Se=Gt.length;++Le<Se;)(Bt=Gt[Le].area)&&(Bt<Wt&&(Wt=Bt),Bt>ne&&(ne=Bt));return Qt*=Qt,(pe*=pe)?Math.max(Qt*ne*ft/pe,pe/(Qt*Wt*ft)):1/0}function Xt(Gt,Qt,Bt,pe){var ne,Wt=-1,Le=Gt.length,Se=Bt.x,je=Bt.y,Be=Qt?O(Gt.area/Qt):0;if(Qt==Bt.dx){for((pe||Be>Bt.dy)&&(Be=Bt.dy);++Wt<Le;)(ne=Gt[Wt]).x=Se,ne.y=je,ne.dy=Be,Se+=ne.dx=Math.min(Bt.x+Bt.dx-Se,Be?O(ne.area/Be):0);ne.z=!0,ne.dx+=Bt.x+Bt.dx-Se,Bt.y+=Be,Bt.dy-=Be}else{for((pe||Be>Bt.dx)&&(Be=Bt.dx);++Wt<Le;)(ne=Gt[Wt]).x=Se,ne.y=je,ne.dx=Be,je+=ne.dy=Math.min(Bt.y+Bt.dy-je,Be?O(ne.area/Be):0);ne.z=!1,ne.dy+=Bt.y+Bt.dy-je,Bt.x+=Be,Bt.dx-=Be}}function ie(Gt){var Qt=u||_(Gt),Bt=Qt[0];return Bt.x=Bt.y=0,Bt.value?(Bt.dx=Y[0],Bt.dy=Y[1]):Bt.dx=Bt.dy=0,u&&_.revalue(Bt),pt([Bt],Bt.dx*Bt.dy/Bt.value),(u?Ft:xt)(Bt),st&&(u=Qt),Qt}return ie.size=function(Gt){return arguments.length?(Y=Gt,ie):Y},ie.padding=function(Gt){if(!arguments.length)return W;function Qt(ne){var Wt=Gt.call(ie,ne,ne.depth);return null==Wt?ea(ne):Da(ne,"number"==typeof Wt?[Wt,Wt,Wt,Wt]:Wt)}function Bt(ne){return Da(ne,Gt)}var pe;return et=null==(W=Gt)?ea:"function"==(pe=typeof Gt)?Qt:("number"===pe&&(Gt=[Gt,Gt,Gt,Gt]),Bt),ie},ie.round=function(Gt){return arguments.length?(O=Gt?Math.round:Number,ie):O!=Number},ie.sticky=function(Gt){return arguments.length?(st=Gt,u=null,ie):st},ie.ratio=function(Gt){return arguments.length?(ft=Gt,ie):ft},ie.mode=function(Gt){return arguments.length?(ht=Gt+"",ie):ht},Or(ie,_)},t.random={normal:function(u,_){var O=arguments.length;return O<2&&(_=1),O<1&&(u=0),function(){var Y,W,et;do{et=(Y=2*Math.random()-1)*Y+(W=2*Math.random()-1)*W}while(!et||et>1);return u+_*Y*Math.sqrt(-2*Math.log(et)/et)}},logNormal:function(){var u=t.random.normal.apply(t,arguments);return function(){return Math.exp(u())}},bates:function(u){var _=t.random.irwinHall(u);return function(){return _()/u}},irwinHall:function(u){return function(){for(var _=0,O=0;O<u;O++)_+=Math.random();return _}}},t.scale={};var Fi={floor:B,ceil:B};function Ri(u,_,O,Y){var W=[],et=[],st=0,ht=Math.min(u.length,_.length)-1;for(u[ht]<u[0]&&(u=u.slice().reverse(),_=_.slice().reverse());++st<=ht;)W.push(O(u[st-1],u[st])),et.push(Y(_[st-1],_[st]));return function(ft){var pt=t.bisect(u,ft,1,ht)-1;return et[pt](W[pt](ft))}}function Oa(u,_){return t.rebind(u,_,"range","rangeRound","interpolate","clamp")}function Pa(u,_){return na(u,Ca(ra(u,_)[2])),na(u,Ca(ra(u,_)[2])),u}function ra(u,_){null==_&&(_=10);var O=zr(u),Y=O[1]-O[0],W=Math.pow(10,Math.floor(Math.log(Y/_)/Math.LN10)),et=_/Y*W;return et<=.15?W*=10:et<=.35?W*=5:et<=.75&&(W*=2),O[0]=Math.ceil(O[0]/W)*W,O[1]=Math.floor(O[1]/W)*W+.5*W,O[2]=W,O}function aa(u,_){return t.range.apply(t,ra(u,_))}t.scale.linear=function(){return function u(_,O,Y,W){var et,st;function ht(){var pt=Math.min(_.length,O.length)>2?Ri:zi,xt=W?li:si;return et=pt(_,O,xt,Y),st=pt(O,_,xt,Un),ft}function ft(pt){return et(pt)}return ft.invert=function(pt){return st(pt)},ft.domain=function(pt){return arguments.length?(_=pt.map(Number),ht()):_},ft.range=function(pt){return arguments.length?(O=pt,ht()):O},ft.rangeRound=function(pt){return ft.range(pt).interpolate(ma)},ft.clamp=function(pt){return arguments.length?(W=pt,ht()):W},ft.interpolate=function(pt){return arguments.length?(Y=pt,ht()):Y},ft.ticks=function(pt){return aa(_,pt)},ft.tickFormat=function(pt,xt){return d3_scale_linearTickFormat(_,pt,xt)},ft.nice=function(pt){return Pa(_,pt),ht()},ft.copy=function(){return u(_,O,Y,W)},ht()}([0,1],[0,1],Un,!1)},t.scale.log=function(){return function u(_,O,Y,W){function et(ft){return(Y?Math.log(ft<0?0:ft):-Math.log(ft>0?0:-ft))/Math.log(O)}function st(ft){return Y?Math.pow(O,ft):-Math.pow(O,-ft)}function ht(ft){return _(et(ft))}return ht.invert=function(ft){return st(_.invert(ft))},ht.domain=function(ft){return arguments.length?(Y=ft[0]>=0,_.domain((W=ft.map(Number)).map(et)),ht):W},ht.base=function(ft){return arguments.length?(O=+ft,_.domain(W.map(et)),ht):O},ht.nice=function(){var ft=na(W.map(et),Y?Math:ji);return _.domain(ft),W=ft.map(st),ht},ht.ticks=function(){var ft=zr(W),pt=[],xt=ft[0],Ft=ft[1],Ht=Math.floor(et(xt)),Xt=Math.ceil(et(Ft)),ie=O%1?2:O;if(isFinite(Xt-Ht)){if(Y){for(;Ht<Xt;Ht++)for(var Gt=1;Gt<ie;Gt++)pt.push(st(Ht)*Gt);pt.push(st(Ht))}else for(pt.push(st(Ht));Ht++<Xt;)for(Gt=ie-1;Gt>0;Gt--)pt.push(st(Ht)*Gt);for(Ht=0;pt[Ht]<xt;Ht++);for(Xt=pt.length;pt[Xt-1]>Ft;Xt--);pt=pt.slice(Ht,Xt)}return pt},ht.copy=function(){return u(_.copy(),O,Y,W)},Oa(ht,_)}(t.scale.linear().domain([0,1]),10,!0,[1,10])};var ji={floor:function(u){return-Math.ceil(-u)},ceil:function(u){return-Math.floor(-u)}};function Rr(u){return function(_){return _<0?-Math.pow(-_,u):Math.pow(_,u)}}t.scale.pow=function(){return function u(_,O,Y){var W=Rr(O),et=Rr(1/O);function st(ht){return _(W(ht))}return st.invert=function(ht){return et(_.invert(ht))},st.domain=function(ht){return arguments.length?(_.domain((Y=ht.map(Number)).map(W)),st):Y},st.ticks=function(ht){return aa(Y,ht)},st.tickFormat=function(ht,ft){return d3_scale_linearTickFormat(Y,ht,ft)},st.nice=function(ht){return st.domain(Pa(Y,ht))},st.exponent=function(ht){return arguments.length?(W=Rr(O=ht),et=Rr(1/O),_.domain(Y.map(W)),st):O},st.copy=function(){return u(_.copy(),O,Y)},Oa(st,_)}(t.scale.linear(),1,[0,1])},t.scale.sqrt=function(){return t.scale.pow().exponent(.5)},t.scale.ordinal=function(){return function u(_,O){var Y,W,et;function st(ft){return W[((Y.get(ft)||("range"===O.t?Y.set(ft,_.push(ft)):NaN))-1)%W.length]}function ht(ft,pt){return t.range(_.length).map(function(xt){return ft+pt*xt})}return st.domain=function(ft){if(!arguments.length)return _;_=[],Y=new k;for(var pt,xt=-1,Ft=ft.length;++xt<Ft;)Y.has(pt=ft[xt])||Y.set(pt,_.push(pt));return st[O.t].apply(st,O.a)},st.range=function(ft){return arguments.length?(W=ft,et=0,O={t:"range",a:arguments},st):W},st.rangePoints=function(ft,pt){arguments.length<2&&(pt=0);var xt=ft[0],Ft=ft[1],Ht=_.length<2?(xt=(xt+Ft)/2,0):(Ft-xt)/(_.length-1+pt);return W=ht(xt+Ht*pt/2,Ht),et=0,O={t:"rangePoints",a:arguments},st},st.rangeRoundPoints=function(ft,pt){arguments.length<2&&(pt=0);var xt=ft[0],Ft=ft[1],Ht=_.length<2?(xt=Ft=Math.round((xt+Ft)/2),0):(Ft-xt)/(_.length-1+pt)|0;return W=ht(xt+Math.round(Ht*pt/2+(Ft-xt-(_.length-1+pt)*Ht)/2),Ht),et=0,O={t:"rangeRoundPoints",a:arguments},st},st.rangeBands=function(ft,pt,xt){arguments.length<2&&(pt=0),arguments.length<3&&(xt=pt);var Ft=ft[1]<ft[0],Ht=ft[Ft-0],Xt=ft[1-Ft],ie=(Xt-Ht)/(_.length-pt+2*xt);return W=ht(Ht+ie*xt,ie),Ft&&W.reverse(),et=ie*(1-pt),O={t:"rangeBands",a:arguments},st},st.rangeRoundBands=function(ft,pt,xt){arguments.length<2&&(pt=0),arguments.length<3&&(xt=pt);var Ft=ft[1]<ft[0],Ht=ft[Ft-0],Xt=ft[1-Ft],ie=Math.floor((Xt-Ht)/(_.length-pt+2*xt));return W=ht(Ht+Math.round((Xt-Ht-(_.length-pt)*ie)/2),ie),Ft&&W.reverse(),et=Math.round(ie*(1-pt)),O={t:"rangeRoundBands",a:arguments},st},st.rangeBand=function(){return et},st.rangeExtent=function(){return zr(O.a[0])},st.copy=function(){return u(_,O)},st.domain(_)}([],{t:"range",a:[[]]})},t.scale.category10=function(){return t.scale.ordinal().range(Hi)},t.scale.category20=function(){return t.scale.ordinal().range(Bi)},t.scale.category20b=function(){return t.scale.ordinal().range(Yi)},t.scale.category20c=function(){return t.scale.ordinal().range(Vi)};var Hi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Pe),Bi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Pe),Yi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Pe),Vi=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Pe);function Ui(){return 0}t.scale.quantile=function(){return function u(_,O){var Y;function W(){var st=0,ht=O.length;for(Y=[];++st<ht;)Y[st-1]=t.quantile(_,st/ht);return et}function et(st){if(!isNaN(st=+st))return O[t.bisect(Y,st)]}return et.domain=function(st){return arguments.length?(_=st.map(p).filter(T).sort(h),W()):_},et.range=function(st){return arguments.length?(O=st,W()):O},et.quantiles=function(){return Y},et.invertExtent=function(st){return(st=O.indexOf(st))<0?[NaN,NaN]:[st>0?Y[st-1]:_[0],st<Y.length?Y[st]:_[_.length-1]]},et.copy=function(){return u(_,O)},W()}([],[])},t.scale.quantize=function(){return function u(_,O,Y){var W,et;function st(ft){return Y[Math.max(0,Math.min(et,Math.floor(W*(ft-_))))]}function ht(){return W=Y.length/(O-_),et=Y.length-1,st}return st.domain=function(ft){return arguments.length?(_=+ft[0],O=+ft[ft.length-1],ht()):[_,O]},st.range=function(ft){return arguments.length?(Y=ft,ht()):Y},st.invertExtent=function(ft){return[ft=(ft=Y.indexOf(ft))<0?NaN:ft/W+_,ft+1/W]},st.copy=function(){return u(_,O,Y)},ht()}(0,1,[0,1])},t.scale.threshold=function(){return function u(_,O){function Y(W){if(W<=W)return O[t.bisect(_,W)]}return Y.domain=function(W){return arguments.length?(_=W,Y):_},Y.range=function(W){return arguments.length?(O=W,Y):O},Y.invertExtent=function(W){return W=O.indexOf(W),[_[W-1],_[W]]},Y.copy=function(){return u(_,O)},Y}([.5],[0,1])},t.scale.identity=function(){return function u(_){function O(Y){return+Y}return O.invert=O,O.domain=O.range=function(Y){return arguments.length?(_=Y.map(O),O):_},O.ticks=function(Y){return aa(_,Y)},O.tickFormat=function(Y,W){return d3_scale_linearTickFormat(_,Y,W)},O.copy=function(){return u(_)},O}([0,1])},t.svg={},t.svg.arc=function(){var u=qi,_=Gi,O=Ui,Y=jr,W=Ea,et=Ia,st=Zi;function ht(){var pt=Math.max(0,+u.apply(this,arguments)),xt=Math.max(0,+_.apply(this,arguments)),Ft=W.apply(this,arguments)-xe,Ht=et.apply(this,arguments)-xe,Xt=Math.abs(Ht-Ft),ie=Ft>Ht?0:1;if(xt<pt&&(Gt=xt,xt=pt,pt=Gt),Xt>=Ce)return ft(xt,ie)+(pt?ft(pt,1-ie):"")+"Z";var Gt,Qt,Bt,pe,ne,Wt,Le,Se,je,Be,Ke,Qe,mn=0,en=0,_n=[];if((pe=(+st.apply(this,arguments)||0)/2)&&(Bt=Y===jr?Math.sqrt(pt*pt+xt*xt):+Y.apply(this,arguments),ie||(en*=-1),xt&&(en=nt(Bt/xt*Math.sin(pe))),pt&&(mn=nt(Bt/pt*Math.sin(pe)))),xt){ne=xt*Math.cos(Ft+en),Wt=xt*Math.sin(Ft+en),Le=xt*Math.cos(Ht-en),Se=xt*Math.sin(Ht-en);var En=Math.abs(Ht-Ft-2*en)<=ue?0:1;if(en&&Hr(ne,Wt,Le,Se)===ie^En){var Fn=(Ft+Ht)/2;ne=xt*Math.cos(Fn),Wt=xt*Math.sin(Fn),Le=Se=null}}else ne=Wt=0;if(pt){je=pt*Math.cos(Ht-mn),Be=pt*Math.sin(Ht-mn),Ke=pt*Math.cos(Ft+mn),Qe=pt*Math.sin(Ft+mn);var Re=Math.abs(Ft-Ht+2*mn)<=ue?0:1;if(mn&&Hr(je,Be,Ke,Qe)===1-ie^Re){var nn=(Ft+Ht)/2;je=pt*Math.cos(nn),Be=pt*Math.sin(nn),Ke=Qe=null}}else je=Be=0;if(Xt>qt&&(Gt=Math.min(Math.abs(xt-pt)/2,+O.apply(this,arguments)))>.001){Qt=pt<xt^ie?0:1;var yn=Gt,pn=Gt;if(Xt<ue){var Dn=null==Ke?[je,Be]:null==Le?[ne,Wt]:$e([ne,Wt],[Ke,Qe],[Le,Se],[je,Be]),Cn=ne-Dn[0],In=Wt-Dn[1],Yn=Le-Dn[0],Wn=Se-Dn[1],Jn=1/Math.sin(Math.acos((Cn*Yn+In*Wn)/(Math.sqrt(Cn*Cn+In*In)*Math.sqrt(Yn*Yn+Wn*Wn)))/2),or=Math.sqrt(Dn[0]*Dn[0]+Dn[1]*Dn[1]);pn=Math.min(Gt,(pt-or)/(Jn-1)),yn=Math.min(Gt,(xt-or)/(Jn+1))}if(null!=Le){var Qn=Br(null==Ke?[je,Be]:[Ke,Qe],[ne,Wt],xt,yn,ie),er=Br([Le,Se],[je,Be],xt,yn,ie);Gt===yn?_n.push("M",Qn[0],"A",yn,",",yn," 0 0,",Qt," ",Qn[1],"A",xt,",",xt," 0 ",1-ie^Hr(Qn[1][0],Qn[1][1],er[1][0],er[1][1]),",",ie," ",er[1],"A",yn,",",yn," 0 0,",Qt," ",er[0]):_n.push("M",Qn[0],"A",yn,",",yn," 0 1,",Qt," ",er[0])}else _n.push("M",ne,",",Wt);if(null!=Ke){var pr=Br([ne,Wt],[Ke,Qe],pt,-pn,ie),kr=Br([je,Be],null==Le?[ne,Wt]:[Le,Se],pt,-pn,ie);Gt===pn?_n.push("L",kr[0],"A",pn,",",pn," 0 0,",Qt," ",kr[1],"A",pt,",",pt," 0 ",ie^Hr(kr[1][0],kr[1][1],pr[1][0],pr[1][1]),",",1-ie," ",pr[1],"A",pn,",",pn," 0 0,",Qt," ",pr[0]):_n.push("L",kr[0],"A",pn,",",pn," 0 0,",Qt," ",pr[0])}else _n.push("L",je,",",Be)}else _n.push("M",ne,",",Wt),null!=Le&&_n.push("A",xt,",",xt," 0 ",En,",",ie," ",Le,",",Se),_n.push("L",je,",",Be),null!=Ke&&_n.push("A",pt,",",pt," 0 ",Re,",",1-ie," ",Ke,",",Qe);return _n.push("Z"),_n.join("")}function ft(pt,xt){return"M0,"+pt+"A"+pt+","+pt+" 0 1,"+xt+" 0,"+-pt+"A"+pt+","+pt+" 0 1,"+xt+" 0,"+pt}return ht.innerRadius=function(pt){return arguments.length?(u=De(pt),ht):u},ht.outerRadius=function(pt){return arguments.length?(_=De(pt),ht):_},ht.cornerRadius=function(pt){return arguments.length?(O=De(pt),ht):O},ht.padRadius=function(pt){return arguments.length?(Y=pt==jr?jr:De(pt),ht):Y},ht.startAngle=function(pt){return arguments.length?(W=De(pt),ht):W},ht.endAngle=function(pt){return arguments.length?(et=De(pt),ht):et},ht.padAngle=function(pt){return arguments.length?(st=De(pt),ht):st},ht.centroid=function(){var pt=(+u.apply(this,arguments)+ +_.apply(this,arguments))/2,xt=(+W.apply(this,arguments)+ +et.apply(this,arguments))/2-xe;return[Math.cos(xt)*pt,Math.sin(xt)*pt]},ht};var jr="auto";function qi(u){return u.innerRadius}function Gi(u){return u.outerRadius}function Ea(u){return u.startAngle}function Ia(u){return u.endAngle}function Zi(u){return u&&u.padAngle}function Hr(u,_,O,Y){return(u-O)*_-(_-Y)*u>0?0:1}function Br(u,_,O,Y,W){var et=u[0]-_[0],st=u[1]-_[1],ht=(W?Y:-Y)/Math.sqrt(et*et+st*st),ft=ht*st,pt=-ht*et,xt=u[0]+ft,Ft=u[1]+pt,Ht=_[0]+ft,Xt=_[1]+pt,ie=(xt+Ht)/2,Gt=(Ft+Xt)/2,Qt=Ht-xt,Bt=Xt-Ft,pe=Qt*Qt+Bt*Bt,ne=O-Y,Wt=xt*Xt-Ht*Ft,Le=(Bt<0?-1:1)*Math.sqrt(Math.max(0,ne*ne*pe-Wt*Wt)),Se=(Wt*Bt-Qt*Le)/pe,je=(-Wt*Qt-Bt*Le)/pe,Be=(Wt*Bt+Qt*Le)/pe,Ke=(-Wt*Qt+Bt*Le)/pe,Qe=Se-ie,mn=je-Gt,en=Be-ie,_n=Ke-Gt;return Qe*Qe+mn*mn>en*en+_n*_n&&(Se=Be,je=Ke),[[Se-ft,je-pt],[Se*O/ne,je*O/ne]]}function Na(){return!0}function za(u){var _=Ye,O=dn,Y=Na,W=ur,et=W.key,st=.7;function ht(ft){var pt,xt=[],Ft=[],Ht=-1,Xt=ft.length,ie=De(_),Gt=De(O);function Qt(){xt.push("M",W(u(Ft),st))}for(;++Ht<Xt;)Y.call(this,pt=ft[Ht],Ht)?Ft.push([+ie.call(this,pt,Ht),+Gt.call(this,pt,Ht)]):Ft.length&&(Qt(),Ft=[]);return Ft.length&&Qt(),xt.length?xt.join(""):null}return ht.x=function(ft){return arguments.length?(_=ft,ht):_},ht.y=function(ft){return arguments.length?(O=ft,ht):O},ht.defined=function(ft){return arguments.length?(Y=ft,ht):Y},ht.interpolate=function(ft){return arguments.length?(et="function"==typeof ft?W=ft:(W=ia.get(ft)||ur).key,ht):et},ht.tension=function(ft){return arguments.length?(st=ft,ht):st},ht}t.svg.line=function(){return za(B)};var ia=t.map({linear:ur,"linear-closed":Fa,step:function(u){for(var _=0,O=u.length,Y=u[0],W=[Y[0],",",Y[1]];++_<O;)W.push("H",(Y[0]+(Y=u[_])[0])/2,"V",Y[1]);return O>1&&W.push("H",Y[0]),W.join("")},"step-before":oa,"step-after":sa,basis:Ra,"basis-open":function(u){if(u.length<4)return ur(u);for(var _,O=[],Y=-1,W=u.length,et=[0],st=[0];++Y<3;)et.push((_=u[Y])[0]),st.push(_[1]);for(O.push(ir(br,et)+","+ir(br,st)),--Y;++Y<W;)_=u[Y],et.shift(),et.push(_[0]),st.shift(),st.push(_[1]),ca(O,et,st);return O.join("")},"basis-closed":function(u){for(var _,O,Y=-1,W=u.length,et=W+4,st=[],ht=[];++Y<4;)st.push((O=u[Y%W])[0]),ht.push(O[1]);for(_=[ir(br,st),",",ir(br,ht)],--Y;++Y<et;)O=u[Y%W],st.shift(),st.push(O[0]),ht.shift(),ht.push(O[1]),ca(_,st,ht);return _.join("")},bundle:function(u,_){var O=u.length-1;if(O)for(var Y,W,et=u[0][0],st=u[0][1],ht=u[O][0]-et,ft=u[O][1]-st,pt=-1;++pt<=O;)(Y=u[pt])[0]=_*Y[0]+(1-_)*(et+(W=pt/O)*ht),Y[1]=_*Y[1]+(1-_)*(st+W*ft);return Ra(u)},cardinal:function(u,_){return u.length<3?ur(u):u[0]+Yr(u,la(u,_))},"cardinal-open":function(u,_){return u.length<4?ur(u):u[1]+Yr(u.slice(1,-1),la(u,_))},"cardinal-closed":function(u,_){return u.length<3?Fa(u):u[0]+Yr((u.push(u[0]),u),la([u[u.length-2]].concat(u,[u[1]]),_))},monotone:function(u){return u.length<3?ur(u):u[0]+Yr(u,function(_){for(var O,Y,W,et,st=[],ht=function(xt){for(var Ft=0,Ht=xt.length-1,Xt=[],ie=xt[0],Gt=xt[1],Qt=Xt[0]=ua(ie,Gt);++Ft<Ht;)Xt[Ft]=(Qt+(Qt=ua(ie=Gt,Gt=xt[Ft+1])))/2;return Xt[Ft]=Qt,Xt}(_),ft=-1,pt=_.length-1;++ft<pt;)O=ua(_[ft],_[ft+1]),y(O)<qt?ht[ft]=ht[ft+1]=0:(et=(Y=ht[ft]/O)*Y+(W=ht[ft+1]/O)*W)>9&&(et=3*O/Math.sqrt(et),ht[ft]=et*Y,ht[ft+1]=et*W);for(ft=-1;++ft<=pt;)et=(_[Math.min(pt,ft+1)][0]-_[Math.max(0,ft-1)][0])/(6*(1+ht[ft]*ht[ft])),st.push([et||0,ht[ft]*et||0]);return st}(u))}});function ur(u){return u.length>1?u.join("L"):u+"Z"}function Fa(u){return u.join("L")+"Z"}function oa(u){for(var _=0,O=u.length,Y=u[0],W=[Y[0],",",Y[1]];++_<O;)W.push("V",(Y=u[_])[1],"H",Y[0]);return W.join("")}function sa(u){for(var _=0,O=u.length,Y=u[0],W=[Y[0],",",Y[1]];++_<O;)W.push("H",(Y=u[_])[0],"V",Y[1]);return W.join("")}function Yr(u,_){if(_.length<1||u.length!=_.length&&u.length!=_.length+2)return ur(u);var O=u.length!=_.length,Y="",W=u[0],et=u[1],st=_[0],ht=st,ft=1;if(O&&(Y+="Q"+(et[0]-2*st[0]/3)+","+(et[1]-2*st[1]/3)+","+et[0]+","+et[1],W=u[1],ft=2),_.length>1){et=u[ft],ft++,Y+="C"+(W[0]+st[0])+","+(W[1]+st[1])+","+(et[0]-(ht=_[1])[0])+","+(et[1]-ht[1])+","+et[0]+","+et[1];for(var pt=2;pt<_.length;pt++,ft++)Y+="S"+((et=u[ft])[0]-(ht=_[pt])[0])+","+(et[1]-ht[1])+","+et[0]+","+et[1]}if(O){var xt=u[ft];Y+="Q"+(et[0]+2*ht[0]/3)+","+(et[1]+2*ht[1]/3)+","+xt[0]+","+xt[1]}return Y}function la(u,_){for(var O,Y=[],W=(1-_)/2,et=u[0],st=u[1],ht=1,ft=u.length;++ht<ft;)O=et,et=st,Y.push([W*((st=u[ht])[0]-O[0]),W*(st[1]-O[1])]);return Y}function Ra(u){if(u.length<3)return ur(u);var _=1,O=u.length,Y=u[0],W=Y[0],et=Y[1],st=[W,W,W,(Y=u[1])[0]],ht=[et,et,et,Y[1]],ft=[W,",",et,"L",ir(br,st),",",ir(br,ht)];for(u.push(u[O-1]);++_<=O;)Y=u[_],st.shift(),st.push(Y[0]),ht.shift(),ht.push(Y[1]),ca(ft,st,ht);return u.pop(),ft.push("L",Y),ft.join("")}function ir(u,_){return u[0]*_[0]+u[1]*_[1]+u[2]*_[2]+u[3]*_[3]}ia.forEach(function(u,_){_.key=u,_.closed=/-closed$/.test(u)});var ja=[0,2/3,1/3,0],Ha=[0,1/3,2/3,0],br=[0,1/6,2/3,1/6];function ca(u,_,O){u.push("C",ir(ja,_),",",ir(ja,O),",",ir(Ha,_),",",ir(Ha,O),",",ir(br,_),",",ir(br,O))}function ua(u,_){return(_[1]-u[1])/(_[0]-u[0])}function Ba(u){for(var _,O,Y,W=-1,et=u.length;++W<et;)O=(_=u[W])[0],Y=_[1]-xe,_[0]=O*Math.cos(Y),_[1]=O*Math.sin(Y);return u}function Ya(u){var _=Ye,O=Ye,Y=0,W=dn,et=Na,st=ur,ht=st.key,ft=st,pt="L",xt=.7;function Ft(Ht){var Xt,ie,Gt,Qt=[],Bt=[],pe=[],ne=-1,Wt=Ht.length,Le=De(_),Se=De(Y),je=_===O?function(){return ie}:De(O),Be=Y===W?function(){return Gt}:De(W);function Ke(){Qt.push("M",st(u(pe),xt),pt,ft(u(Bt.reverse()),xt),"Z")}for(;++ne<Wt;)et.call(this,Xt=Ht[ne],ne)?(Bt.push([ie=+Le.call(this,Xt,ne),Gt=+Se.call(this,Xt,ne)]),pe.push([+je.call(this,Xt,ne),+Be.call(this,Xt,ne)])):Bt.length&&(Ke(),Bt=[],pe=[]);return Bt.length&&Ke(),Qt.length?Qt.join(""):null}return Ft.x=function(Ht){return arguments.length?(_=O=Ht,Ft):O},Ft.x0=function(Ht){return arguments.length?(_=Ht,Ft):_},Ft.x1=function(Ht){return arguments.length?(O=Ht,Ft):O},Ft.y=function(Ht){return arguments.length?(Y=W=Ht,Ft):W},Ft.y0=function(Ht){return arguments.length?(Y=Ht,Ft):Y},Ft.y1=function(Ht){return arguments.length?(W=Ht,Ft):W},Ft.defined=function(Ht){return arguments.length?(et=Ht,Ft):et},Ft.interpolate=function(Ht){return arguments.length?(ht="function"==typeof Ht?st=Ht:(st=ia.get(Ht)||ur).key,ft=st.reverse||st,pt=st.closed?"M":"L",Ft):ht},Ft.tension=function(Ht){return arguments.length?(xt=Ht,Ft):xt},Ft}function Va(u){return u.source}function Ua(u){return u.target}function Wi(u){return u.radius}function qa(u){return[u.x,u.y]}function Ji(u){return function(){var _=u.apply(this,arguments),O=_[0],Y=_[1]-xe;return[O*Math.cos(Y),O*Math.sin(Y)]}}function Xi(){return 64}function $i(){return"circle"}function Ga(u){var _=Math.sqrt(u/ue);return"M0,"+_+"A"+_+","+_+" 0 1,1 0,"+-_+"A"+_+","+_+" 0 1,1 0,"+_+"Z"}t.svg.line.radial=function(){var u=za(Ba);return u.radius=u.x,delete u.x,u.angle=u.y,delete u.y,u},oa.reverse=sa,sa.reverse=oa,t.svg.area=function(){return Ya(B)},t.svg.area.radial=function(){var u=Ya(Ba);return u.radius=u.x,delete u.x,u.innerRadius=u.x0,delete u.x0,u.outerRadius=u.x1,delete u.x1,u.angle=u.y,delete u.y,u.startAngle=u.y0,delete u.y0,u.endAngle=u.y1,delete u.y1,u},t.svg.chord=function(){var u=Va,_=Ua,O=Wi,Y=Ea,W=Ia;function et(pt,xt){var Ft,Ht,Xt=st(this,u,pt,xt),ie=st(this,_,pt,xt);return"M"+Xt.p0+ht(Xt.r,Xt.p1,Xt.a1-Xt.a0)+((Ft=Xt).a0==(Ht=ie).a0&&Ft.a1==Ht.a1?ft(0,0,0,Xt.p0):ft(0,0,0,ie.p0)+ht(ie.r,ie.p1,ie.a1-ie.a0)+ft(0,0,0,Xt.p0))+"Z"}function st(pt,xt,Ft,Ht){var Xt=xt.call(pt,Ft,Ht),ie=O.call(pt,Xt,Ht),Gt=Y.call(pt,Xt,Ht)-xe,Qt=W.call(pt,Xt,Ht)-xe;return{r:ie,a0:Gt,a1:Qt,p0:[ie*Math.cos(Gt),ie*Math.sin(Gt)],p1:[ie*Math.cos(Qt),ie*Math.sin(Qt)]}}function ht(pt,xt,Ft){return"A"+pt+","+pt+" 0 "+ +(Ft>ue)+",1 "+xt}function ft(pt,xt,Ft,Ht){return"Q 0,0 "+Ht}return et.radius=function(pt){return arguments.length?(O=De(pt),et):O},et.source=function(pt){return arguments.length?(u=De(pt),et):u},et.target=function(pt){return arguments.length?(_=De(pt),et):_},et.startAngle=function(pt){return arguments.length?(Y=De(pt),et):Y},et.endAngle=function(pt){return arguments.length?(W=De(pt),et):W},et},t.svg.diagonal=function(){var u=Va,_=Ua,O=qa;function Y(W,et){var st=u.call(this,W,et),ht=_.call(this,W,et),ft=(st.y+ht.y)/2,pt=[st,{x:st.x,y:ft},{x:ht.x,y:ft},ht];return"M"+(pt=pt.map(O))[0]+"C"+pt[1]+" "+pt[2]+" "+pt[3]}return Y.source=function(W){return arguments.length?(u=De(W),Y):u},Y.target=function(W){return arguments.length?(_=De(W),Y):_},Y.projection=function(W){return arguments.length?(O=W,Y):O},Y},t.svg.diagonal.radial=function(){var u=t.svg.diagonal(),_=qa,O=u.projection;return u.projection=function(Y){return arguments.length?O(Ji(_=Y)):_},u},t.svg.symbol=function(){var u=$i,_=Xi;function O(Y,W){return(Za.get(u.call(this,Y,W))||Ga)(_.call(this,Y,W))}return O.type=function(Y){return arguments.length?(u=De(Y),O):u},O.size=function(Y){return arguments.length?(_=De(Y),O):_},O};var Za=t.map({circle:Ga,cross:function(u){var _=Math.sqrt(u/5)/2;return"M"+-3*_+","+-_+"H"+-_+"V"+-3*_+"H"+_+"V"+-_+"H"+3*_+"V"+_+"H"+_+"V"+3*_+"H"+-_+"V"+_+"H"+-3*_+"Z"},diamond:function(u){var _=Math.sqrt(u/(2*Wa)),O=_*Wa;return"M0,"+-_+"L"+O+",0 0,"+_+" "+-O+",0Z"},square:function(u){var _=Math.sqrt(u)/2;return"M"+-_+","+-_+"L"+_+","+-_+" "+_+","+_+" "+-_+","+_+"Z"},"triangle-down":function(u){var _=Math.sqrt(u/Vr),O=_*Vr/2;return"M0,"+O+"L"+_+","+-O+" "+-_+","+-O+"Z"},"triangle-up":function(u){var _=Math.sqrt(u/Vr),O=_*Vr/2;return"M0,"+-O+"L"+_+","+O+" "+-_+","+O+"Z"}});t.svg.symbolTypes=Za.keys();var Vr=Math.sqrt(3),Wa=Math.tan(30*ye);K.transition=function(u){for(var _,O,Y=Tr||++Xa,W=fa(u),et=[],st=qr||{time:Date.now(),ease:ei,delay:0,duration:250},ht=-1,ft=this.length;++ht<ft;){et.push(_=[]);for(var pt=this[ht],xt=-1,Ft=pt.length;++xt<Ft;)(O=pt[xt])&&Gr(O,xt,W,Y,st),_.push(O)}return Er(et,W,Y)},K.interrupt=function(u){return this.each(null==u?Ur:Ja(fa(u)))};var Ur=Ja(fa());function Ja(u){return function(){var _,O,Y;(_=this[u])&&(Y=_[O=_.active])&&(Y.timer.c=null,Y.timer.t=NaN,--_.count?delete _[O]:delete this[u],_.active+=.5,Y.event&&Y.event.interrupt.call(this,this.__data__,Y.index))}}function Er(u,_,O){return D(u,Bn),u.namespace=_,u.id=O,u}var Tr,qr,Bn=[],Xa=0;function da(u,_,O,Y){var W=u.id,et=u.namespace;return wt(u,"function"==typeof O?function(st,ht,ft){st[et][W].tween.set(_,Y(O.call(st,st.__data__,ht,ft)))}:(O=Y(O),function(st){st[et][W].tween.set(_,O)}))}function Ki(u){return null==u&&(u=""),function(){this.textContent=u}}function fa(u){return null==u?"__transition__":"__transition_"+u+"__"}function Gr(u,_,O,Y,W){var et,st,ht,ft,pt,xt=u[O]||(u[O]={active:0,count:0}),Ft=xt[Y];function Ht(ie){var Gt=xt.active,Qt=xt[Gt];for(var Bt in Qt&&(Qt.timer.c=null,Qt.timer.t=NaN,--xt.count,delete xt[Gt],Qt.event&&Qt.event.interrupt.call(u,u.__data__,Qt.index)),xt)if(+Bt<Y){var pe=xt[Bt];pe.timer.c=null,pe.timer.t=NaN,--xt.count,delete xt[Bt]}st.c=Xt,fn(function(){return st.c&&Xt(ie||1)&&(st.c=null,st.t=NaN),1},0,et),xt.active=Y,Ft.event&&Ft.event.start.call(u,u.__data__,_),pt=[],Ft.tween.forEach(function(ne,Wt){(Wt=Wt.call(u,u.__data__,_))&&pt.push(Wt)}),ft=Ft.ease,ht=Ft.duration}function Xt(ie){for(var Gt=ie/ht,Qt=ft(Gt),Bt=pt.length;Bt>0;)pt[--Bt].call(u,Qt);if(Gt>=1)return Ft.event&&Ft.event.end.call(u,u.__data__,_),--xt.count?delete xt[Y]:delete u[O],1}Ft||(st=fn(function(ie){var Gt=Ft.delay;if(st.t=Gt+et,Gt<=ie)return Ht(ie-Gt);st.c=Ht},0,et=W.time),Ft=xt[Y]={tween:new k,time:et,timer:st,delay:W.delay,duration:W.duration,ease:W.ease,index:_},W=null,++xt.count)}Bn.call=K.call,Bn.empty=K.empty,Bn.node=K.node,Bn.size=K.size,t.transition=function(u,_){return u&&u.transition?Tr?u.transition(_):u:t.selection().transition(u)},t.transition.prototype=Bn,Bn.select=function(u){var _,O,Y,W=this.id,et=this.namespace,st=[];u=$(u);for(var ht=-1,ft=this.length;++ht<ft;){st.push(_=[]);for(var pt=this[ht],xt=-1,Ft=pt.length;++xt<Ft;)(Y=pt[xt])&&(O=u.call(Y,Y.__data__,xt,ht))?("__data__"in Y&&(O.__data__=Y.__data__),Gr(O,xt,et,W,Y[et][W]),_.push(O)):_.push(null)}return Er(st,et,W)},Bn.selectAll=function(u){var _,O,Y,W,et,st=this.id,ht=this.namespace,ft=[];u=Q(u);for(var pt=-1,xt=this.length;++pt<xt;)for(var Ft=this[pt],Ht=-1,Xt=Ft.length;++Ht<Xt;)if(Y=Ft[Ht]){et=Y[ht][st],O=u.call(Y,Y.__data__,Ht,pt),ft.push(_=[]);for(var ie=-1,Gt=O.length;++ie<Gt;)(W=O[ie])&&Gr(W,ie,ht,st,et),_.push(W)}return Er(ft,ht,st)},Bn.filter=function(u){var _,O,Y=[];"function"!=typeof u&&(u=St(u));for(var W=0,et=this.length;W<et;W++){Y.push(_=[]);for(var st,ht=0,ft=(st=this[W]).length;ht<ft;ht++)(O=st[ht])&&u.call(O,O.__data__,ht,W)&&_.push(O)}return Er(Y,this.namespace,this.id)},Bn.tween=function(u,_){var O=this.id,Y=this.namespace;return arguments.length<2?this.node()[Y][O].tween.get(u):wt(this,null==_?function(W){W[Y][O].tween.remove(u)}:function(W){W[Y][O].tween.set(u,_)})},Bn.attr=function(u,_){if(arguments.length<2){for(_ in u)this.attr(_,u[_]);return this}var O="transform"==u?xa:Un,Y=t.ns.qualify(u);function W(){this.removeAttribute(Y)}function et(){this.removeAttributeNS(Y.space,Y.local)}function st(ft){return null==ft?W:(ft+="",function(){var pt,xt=this.getAttribute(Y);return xt!==ft&&(pt=O(xt,ft),function(Ft){this.setAttribute(Y,pt(Ft))})})}function ht(ft){return null==ft?et:(ft+="",function(){var pt,xt=this.getAttributeNS(Y.space,Y.local);return xt!==ft&&(pt=O(xt,ft),function(Ft){this.setAttributeNS(Y.space,Y.local,pt(Ft))})})}return da(this,"attr."+u,_,Y.local?ht:st)},Bn.attrTween=function(u,_){var O=t.ns.qualify(u);return this.tween("attr."+u,O.local?function(Y,W){var et=_.call(this,Y,W,this.getAttributeNS(O.space,O.local));return et&&function(st){this.setAttributeNS(O.space,O.local,et(st))}}:function(Y,W){var et=_.call(this,Y,W,this.getAttribute(O));return et&&function(st){this.setAttribute(O,et(st))}})},Bn.style=function(u,_,O){var Y=arguments.length;if(Y<3){if("string"!=typeof u){for(O in Y<2&&(_=""),u)this.style(O,u[O],_);return this}O=""}function W(){this.style.removeProperty(u)}function et(st){return null==st?W:(st+="",function(){var ht,ft=s(this).getComputedStyle(this,null).getPropertyValue(u);return ft!==st&&(ht=Un(ft,st),function(pt){this.style.setProperty(u,ht(pt),O)})})}return da(this,"style."+u,_,et)},Bn.styleTween=function(u,_,O){function Y(W,et){var st=_.call(this,W,et,s(this).getComputedStyle(this,null).getPropertyValue(u));return st&&function(ht){this.style.setProperty(u,st(ht),O)}}return arguments.length<3&&(O=""),this.tween("style."+u,Y)},Bn.text=function(u){return da(this,"text",u,Ki)},Bn.remove=function(){var u=this.namespace;return this.each("end.transition",function(){var _;this[u].count<2&&(_=this.parentNode)&&_.removeChild(this)})},Bn.ease=function(u){var _=this.id,O=this.namespace;return arguments.length<1?this.node()[O][_].ease:("function"!=typeof u&&(u=t.ease.apply(t,arguments)),wt(this,function(Y){Y[O][_].ease=u}))},Bn.delay=function(u){var _=this.id,O=this.namespace;return arguments.length<1?this.node()[O][_].delay:wt(this,"function"==typeof u?function(Y,W,et){Y[O][_].delay=+u.call(Y,Y.__data__,W,et)}:(u=+u,function(Y){Y[O][_].delay=u}))},Bn.duration=function(u){var _=this.id,O=this.namespace;return arguments.length<1?this.node()[O][_].duration:wt(this,"function"==typeof u?function(Y,W,et){Y[O][_].duration=Math.max(1,u.call(Y,Y.__data__,W,et))}:(u=Math.max(1,u),function(Y){Y[O][_].duration=u}))},Bn.each=function(u,_){var O=this.id,Y=this.namespace;if(arguments.length<2){var W=qr,et=Tr;try{Tr=O,wt(this,function(st,ht,ft){qr=st[Y][O],u.call(st,st.__data__,ht,ft)})}finally{qr=W,Tr=et}}else wt(this,function(st){var ht=st[Y][O];(ht.event||(ht.event=t.dispatch("start","end","interrupt"))).on(u,_)});return this},Bn.transition=function(){for(var u,_,O,Y=this.id,W=++Xa,et=this.namespace,st=[],ht=0,ft=this.length;ht<ft;ht++){st.push(u=[]);for(var pt,xt=0,Ft=(pt=this[ht]).length;xt<Ft;xt++)(_=pt[xt])&&Gr(_,xt,et,W,{time:(O=_[et][Y]).time,ease:O.ease,delay:O.delay+O.duration,duration:O.duration}),u.push(_)}return Er(st,et,W)},t.svg.axis=function(){var u,_=t.scale.linear(),O=$a,Y=6,W=6,et=3,st=[10],ht=null;function ft(pt){pt.each(function(){var xt,Ft=t.select(this),Ht=this.__chart__||_,Xt=this.__chart__=_.copy(),ie=ht??(Xt.ticks?Xt.ticks.apply(Xt,st):Xt.domain()),Gt=u??(Xt.tickFormat?Xt.tickFormat.apply(Xt,st):B),Qt=Ft.selectAll(".tick").data(ie,Xt),Bt=Qt.enter().insert("g",".domain").attr("class","tick").style("opacity",qt),pe=t.transition(Qt.exit()).style("opacity",qt).remove(),ne=t.transition(Qt.order()).style("opacity",1),Wt=Math.max(Y,0)+et,Le=Fr(Xt),Se=Ft.selectAll(".domain").data([0]),je=(Se.enter().append("path").attr("class","domain"),t.transition(Se));Bt.append("line"),Bt.append("text");var Be,Ke,Qe,mn,en=Bt.select("line"),_n=ne.select("line"),En=Qt.select("text").text(Gt),Fn=Bt.select("text"),Re=ne.select("text"),nn="top"===O||"left"===O?-1:1;if("bottom"===O||"top"===O?(xt=to,Be="x",Qe="y",Ke="x2",mn="y2",En.attr("dy",nn<0?"0em":".71em").style("text-anchor","middle"),je.attr("d","M"+Le[0]+","+nn*W+"V0H"+Le[1]+"V"+nn*W)):(xt=eo,Be="y",Qe="x",Ke="y2",mn="x2",En.attr("dy",".32em").style("text-anchor",nn<0?"end":"start"),je.attr("d","M"+nn*W+","+Le[0]+"H0V"+Le[1]+"H"+nn*W)),en.attr(mn,nn*Y),Fn.attr(Qe,nn*Wt),_n.attr(Ke,0).attr(mn,nn*Y),Re.attr(Be,0).attr(Qe,nn*Wt),Xt.rangeBand){var yn=Xt,pn=yn.rangeBand()/2;Ht=Xt=function(Dn){return yn(Dn)+pn}}else Ht.rangeBand?Ht=Xt:pe.call(xt,Xt,Ht);Bt.call(xt,Ht,Xt),ne.call(xt,Xt,Xt)})}return ft.scale=function(pt){return arguments.length?(_=pt,ft):_},ft.orient=function(pt){return arguments.length?(O=pt in Qi?pt+"":$a,ft):O},ft.ticks=function(){return arguments.length?(st=o(arguments),ft):st},ft.tickValues=function(pt){return arguments.length?(ht=pt,ft):ht},ft.tickFormat=function(pt){return arguments.length?(u=pt,ft):u},ft.tickSize=function(pt){var xt=arguments.length;return xt?(Y=+pt,W=+arguments[xt-1],ft):Y},ft.innerTickSize=function(pt){return arguments.length?(Y=+pt,ft):Y},ft.outerTickSize=function(pt){return arguments.length?(W=+pt,ft):W},ft.tickPadding=function(pt){return arguments.length?(et=+pt,ft):et},ft.tickSubdivide=function(){return arguments.length&&ft},ft};var $a="bottom",Qi={top:1,right:1,bottom:1,left:1};function to(u,_,O){u.attr("transform",function(Y){var W=_(Y);return"translate("+(isFinite(W)?W:O(Y))+",0)"})}function eo(u,_,O){u.attr("transform",function(Y){var W=_(Y);return"translate(0,"+(isFinite(W)?W:O(Y))+")"})}t.svg.brush=function(){var u,_,O=Z(xt,"brushstart","brush","brushend"),Y=null,W=null,et=[0,0],st=[0,0],ht=!0,ft=!0,pt=ha[0];function xt(Gt){Gt.each(function(){var Qt=t.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",ie).on("touchstart.brush",ie),Bt=Qt.selectAll(".background").data([0]);Bt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Qt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var pe=Qt.selectAll(".resize").data(pt,B);pe.exit().remove(),pe.enter().append("g").attr("class",function(Se){return"resize "+Se}).style("cursor",function(Se){return no[Se]}).append("rect").attr("x",function(Se){return/[ew]$/.test(Se)?-3:null}).attr("y",function(Se){return/^[ns]/.test(Se)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),pe.style("display",xt.empty()?"none":null);var ne,Wt=t.transition(Qt),Le=t.transition(Bt);Y&&(ne=Fr(Y),Le.attr("x",ne[0]).attr("width",ne[1]-ne[0]),Ht(Wt)),W&&(ne=Fr(W),Le.attr("y",ne[0]).attr("height",ne[1]-ne[0]),Xt(Wt)),Ft(Wt)})}function Ft(Gt){Gt.selectAll(".resize").attr("transform",function(Qt){return"translate("+et[+/e$/.test(Qt)]+","+st[+/^s/.test(Qt)]+")"})}function Ht(Gt){Gt.select(".extent").attr("x",et[0]),Gt.selectAll(".extent,.n>rect,.s>rect").attr("width",et[1]-et[0])}function Xt(Gt){Gt.select(".extent").attr("y",st[0]),Gt.selectAll(".extent,.e>rect,.w>rect").attr("height",st[1]-st[0])}function ie(){var Gt,Qt,Bt=this,pe=t.select(t.event.target),ne=O.of(Bt,arguments),Wt=t.select(Bt),Le=pe.datum(),Se=!/^(n|s)$/.test(Le)&&Y,je=!/^(e|w)$/.test(Le)&&W,Be=pe.classed("extent"),Ke=de(Bt),Qe=t.mouse(Bt),mn=t.select(s(Bt)).on("keydown.brush",En).on("keyup.brush",Fn);if(t.event.changedTouches?mn.on("touchmove.brush",Re).on("touchend.brush",yn):mn.on("mousemove.brush",Re).on("mouseup.brush",yn),Wt.interrupt().selectAll("*").interrupt(),Be)Qe[0]=et[0]-Qe[0],Qe[1]=st[0]-Qe[1];else if(Le){var en=+/w$/.test(Le),_n=+/^n/.test(Le);Qt=[et[1-en]-Qe[0],st[1-_n]-Qe[1]],Qe[0]=et[en],Qe[1]=st[_n]}else t.event.altKey&&(Gt=Qe.slice());function En(){32==t.event.keyCode&&(Be||(Gt=null,Qe[0]-=et[1],Qe[1]-=st[1],Be=2),E())}function Fn(){32==t.event.keyCode&&2==Be&&(Qe[0]+=et[1],Qe[1]+=st[1],Be=0,E())}function Re(){var pn=t.mouse(Bt),Dn=!1;Qt&&(pn[0]+=Qt[0],pn[1]+=Qt[1]),Be||(t.event.altKey?(Gt||(Gt=[(et[0]+et[1])/2,(st[0]+st[1])/2]),Qe[0]=et[+(pn[0]<Gt[0])],Qe[1]=st[+(pn[1]<Gt[1])]):Gt=null),Se&&nn(pn,Y,0)&&(Ht(Wt),Dn=!0),je&&nn(pn,W,1)&&(Xt(Wt),Dn=!0),Dn&&(Ft(Wt),ne({type:"brush",mode:Be?"move":"resize"}))}function nn(pn,Dn,Cn){var In,Yn,Wn=Fr(Dn),Jn=Wn[0],or=Wn[1],Qn=Qe[Cn],er=Cn?st:et,pr=er[1]-er[0];if(Be&&(Jn-=Qn,or-=pr+Qn),In=(Cn?ft:ht)?Math.max(Jn,Math.min(or,pn[Cn])):pn[Cn],Be?Yn=(In+=Qn)+pr:(Gt&&(Qn=Math.max(Jn,Math.min(or,2*Gt[Cn]-In))),Qn<In?(Yn=In,In=Qn):Yn=Qn),er[0]!=In||er[1]!=Yn)return Cn?_=null:u=null,er[0]=In,er[1]=Yn,!0}function yn(){Re(),Wt.style("pointer-events","all").selectAll(".resize").style("display",xt.empty()?"none":null),t.select("body").style("cursor",null),mn.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Ke(),ne({type:"brushend"})}Wt.style("pointer-events","none").selectAll(".resize").style("display",null),t.select("body").style("cursor",pe.style("cursor")),ne({type:"brushstart"}),Re()}return xt.event=function(Gt){Gt.each(function(){var Qt=O.of(this,arguments),Bt={x:et,y:st,i:u,j:_},pe=this.__chart__||Bt;this.__chart__=Bt,Tr?t.select(this).transition().each("start.brush",function(){u=pe.i,_=pe.j,et=pe.x,st=pe.y,Qt({type:"brushstart"})}).tween("brush:brush",function(){var ne=fr(et,Bt.x),Wt=fr(st,Bt.y);return u=_=null,function(Le){et=Bt.x=ne(Le),st=Bt.y=Wt(Le),Qt({type:"brush",mode:"resize"})}}).each("end.brush",function(){u=Bt.i,_=Bt.j,Qt({type:"brush",mode:"resize"}),Qt({type:"brushend"})}):(Qt({type:"brushstart"}),Qt({type:"brush",mode:"resize"}),Qt({type:"brushend"}))})},xt.x=function(Gt){return arguments.length?(pt=ha[!(Y=Gt)<<1|!W],xt):Y},xt.y=function(Gt){return arguments.length?(pt=ha[!Y<<1|!(W=Gt)],xt):W},xt.clamp=function(Gt){return arguments.length?(Y&&W?(ht=!!Gt[0],ft=!!Gt[1]):Y?ht=!!Gt:W&&(ft=!!Gt),xt):Y&&W?[ht,ft]:Y?ht:W?ft:null},xt.extent=function(Gt){var Qt,Bt,pe,ne,Wt;return arguments.length?(Y&&(Qt=Gt[0],Bt=Gt[1],W&&(Qt=Qt[0],Bt=Bt[0]),u=[Qt,Bt],Y.invert&&(Qt=Y(Qt),Bt=Y(Bt)),Bt<Qt&&(Wt=Qt,Qt=Bt,Bt=Wt),Qt==et[0]&&Bt==et[1]||(et=[Qt,Bt])),W&&(pe=Gt[0],ne=Gt[1],Y&&(pe=pe[1],ne=ne[1]),_=[pe,ne],W.invert&&(pe=W(pe),ne=W(ne)),ne<pe&&(Wt=pe,pe=ne,ne=Wt),pe==st[0]&&ne==st[1]||(st=[pe,ne])),xt):(Y&&(u?(Qt=u[0],Bt=u[1]):(Qt=et[0],Bt=et[1],Y.invert&&(Qt=Y.invert(Qt),Bt=Y.invert(Bt)),Bt<Qt&&(Wt=Qt,Qt=Bt,Bt=Wt))),W&&(_?(pe=_[0],ne=_[1]):(pe=st[0],ne=st[1],W.invert&&(pe=W.invert(pe),ne=W.invert(ne)),ne<pe&&(Wt=pe,pe=ne,ne=Wt))),Y&&W?[[Qt,pe],[Bt,ne]]:Y?[Qt,Bt]:W&&[pe,ne])},xt.clear=function(){return xt.empty()||(et=[0,0],st=[0,0],u=_=null),xt},xt.empty=function(){return!!Y&&et[0]==et[1]||!!W&&st[0]==st[1]},t.rebind(xt,O,"on")};var no={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ha=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function ro(u){return JSON.parse(u.responseText)}function ao(u){var _=e.createRange();return _.selectNode(e.body),_.createContextualFragment(u.responseText)}t.text=Ve(function(u){return u.responseText}),t.json=function(u,_){return Ze(u,"application/json",ro,_)},t.html=function(u,_){return Ze(u,"text/html",ao,_)},t.xml=Ve(function(u){return u.responseXML}),"object"==typeof tt&&tt.exports?tt.exports=t:this.d3=t}).apply(self)},{}],12:[function(c,tt,V){"use strict";var t,l="object"==typeof Reflect?Reflect:null,o=l&&"function"==typeof l.apply?l.apply:function(w,x,m){return Function.prototype.apply.call(w,x,m)};t=l&&"function"==typeof l.ownKeys?l.ownKeys:Object.getOwnPropertySymbols?function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:function(w){return Object.getOwnPropertyNames(w)};var e=Number.isNaN||function(w){return w!=w};function n(){n.init.call(this)}tt.exports=n,tt.exports.once=function(w,x){return new Promise(function(m,y){function A(){void 0!==b&&w.removeListener("error",b),m([].slice.call(arguments))}var b;"error"!==x&&(b=function(k){w.removeListener(x,A),y(k)},w.once("error",b)),w.once(x,A)})},n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var s=10;function a(w){if("function"!=typeof w)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}function i(w){return void 0===w._maxListeners?n.defaultMaxListeners:w._maxListeners}function r(w,x,m,y){var A,b,k;if(a(m),void 0===(b=w._events)?(b=w._events=Object.create(null),w._eventsCount=0):(void 0!==b.newListener&&(w.emit("newListener",x,m.listener?m.listener:m),b=w._events),k=b[x]),void 0===k)k=b[x]=m,++w._eventsCount;else if("function"==typeof k?k=b[x]=y?[m,k]:[k,m]:y?k.unshift(m):k.push(m),(A=i(w))>0&&k.length>A&&!k.warned){k.warned=!0;var g=new Error("Possible EventEmitter memory leak detected. "+k.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");g.name="MaxListenersExceededWarning",g.emitter=w,g.type=x,g.count=k.length,console&&console.warn&&console.warn(g)}return w}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(w,x,m){var y={fired:!1,wrapFn:void 0,target:w,type:x,listener:m},A=d.bind(y);return A.listener=m,y.wrapFn=A,A}function h(w,x,m){var y=w._events;if(void 0===y)return[];var A=y[x];return void 0===A?[]:"function"==typeof A?m?[A.listener||A]:[A]:m?function(b){for(var k=new Array(b.length),L=0;L<k.length;++L)k[L]=b[L].listener||b[L];return k}(A):T(A,A.length)}function p(w){var x=this._events;if(void 0!==x){var m=x[w];if("function"==typeof m)return 1;if(void 0!==m)return m.length}return 0}function T(w,x){for(var m=new Array(x),y=0;y<x;++y)m[y]=w[y];return m}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(w){if("number"!=typeof w||w<0||e(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");s=w}}),n.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(w){if("number"!=typeof w||w<0||e(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this},n.prototype.getMaxListeners=function(){return i(this)},n.prototype.emit=function(w){for(var x=[],m=1;m<arguments.length;m++)x.push(arguments[m]);var y="error"===w,A=this._events;if(void 0!==A)y=y&&void 0===A.error;else if(!y)return!1;if(y){var b;if(x.length>0&&(b=x[0]),b instanceof Error)throw b;var k=new Error("Unhandled error."+(b?" ("+b.message+")":""));throw k.context=b,k}var L=A[w];if(void 0===L)return!1;if("function"==typeof L)o(L,this,x);else{var g=L.length,S=T(L,g);for(m=0;m<g;++m)o(S[m],this,x)}return!0},n.prototype.on=n.prototype.addListener=function(w,x){return r(this,w,x,!1)},n.prototype.prependListener=function(w,x){return r(this,w,x,!0)},n.prototype.once=function(w,x){return a(x),this.on(w,f(this,w,x)),this},n.prototype.prependOnceListener=function(w,x){return a(x),this.prependListener(w,f(this,w,x)),this},n.prototype.off=n.prototype.removeListener=function(w,x){var m,y,A,b,k;if(a(x),void 0===(y=this._events))return this;if(void 0===(m=y[w]))return this;if(m===x||m.listener===x)0==--this._eventsCount?this._events=Object.create(null):(delete y[w],y.removeListener&&this.emit("removeListener",w,m.listener||x));else if("function"!=typeof m){for(A=-1,b=m.length-1;b>=0;b--)if(m[b]===x||m[b].listener===x){k=m[b].listener,A=b;break}if(A<0)return this;0===A?m.shift():function(L,g){for(;g+1<L.length;g++)L[g]=L[g+1];L.pop()}(m,A),1===m.length&&(y[w]=m[0]),void 0!==y.removeListener&&this.emit("removeListener",w,k||x)}return this},n.prototype.removeAllListeners=function(w){var x,m,y;if(void 0===(m=this._events))return this;if(void 0===m.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==m[w]&&(0==--this._eventsCount?this._events=Object.create(null):delete m[w]),this;if(0===arguments.length){var A,b=Object.keys(m);for(y=0;y<b.length;++y)"removeListener"!==(A=b[y])&&this.removeAllListeners(A);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(x=m[w]))this.removeListener(w,x);else if(void 0!==x)for(y=x.length-1;y>=0;y--)this.removeListener(w,x[y]);return this},n.prototype.listeners=function(w){return h(this,w,!0)},n.prototype.rawListeners=function(w){return h(this,w,!1)},n.listenerCount=function(w,x){return"function"==typeof w.listenerCount?w.listenerCount(x):p.call(w,x)},n.prototype.listenerCount=p,n.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},{}],13:[function(c,tt,V){var t;t=this,function(t){"use strict";function l(x,m){if((y=(x=m?x.toExponential(m-1):x.toExponential()).indexOf("e"))<0)return null;var y,A=x.slice(0,y);return[A.length>1?A[0]+A.slice(2):A,+x.slice(y+1)]}function o(x){return(x=l(Math.abs(x)))?x[1]:NaN}var e,n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s(x){if(!(m=n.exec(x)))throw new Error("invalid format: "+x);var m;return new a({fill:m[1],align:m[2],sign:m[3],symbol:m[4],zero:m[5],width:m[6],comma:m[7],precision:m[8]&&m[8].slice(1),trim:m[9],type:m[10]})}function a(x){this.fill=void 0===x.fill?" ":x.fill+"",this.align=void 0===x.align?">":x.align+"",this.sign=void 0===x.sign?"-":x.sign+"",this.symbol=void 0===x.symbol?"":x.symbol+"",this.zero=!!x.zero,this.width=void 0===x.width?void 0:+x.width,this.comma=!!x.comma,this.precision=void 0===x.precision?void 0:+x.precision,this.trim=!!x.trim,this.type=void 0===x.type?"":x.type+""}function i(x,m){var y=l(x,m);if(!y)return x+"";var A=y[0],b=y[1];return b<0?"0."+new Array(-b).join("0")+A:A.length>b+1?A.slice(0,b+1)+"."+A.slice(b+1):A+new Array(b-A.length+2).join("0")}s.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var r={"%":function(x,m){return(100*x).toFixed(m)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:function(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)},e:function(x,m){return x.toExponential(m)},f:function(x,m){return x.toFixed(m)},g:function(x,m){return x.toPrecision(m)},o:function(x){return Math.round(x).toString(8)},p:function(x,m){return i(100*x,m)},r:i,s:function(x,m){var y=l(x,m);if(!y)return x+"";var A=y[0],b=y[1],k=b-(e=3*Math.max(-8,Math.min(8,Math.floor(b/3))))+1,L=A.length;return k===L?A:k>L?A+new Array(k-L+1).join("0"):k>0?A.slice(0,k)+"."+A.slice(k):"0."+new Array(1-k).join("0")+l(x,Math.max(0,m+k-1))[0]},X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function d(x){return x}var f,h=Array.prototype.map,p=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function T(x){var m,y,z,A=void 0===x.grouping||void 0===x.thousands?d:(m=h.call(x.grouping,Number),y=x.thousands+"",function(z,F){for(var B=z.length,H=[],X=0,ot=m[0],q=0;B>0&&ot>0&&(q+ot+1>F&&(ot=Math.max(1,F-q)),H.push(z.substring(B-=ot,B+ot)),!((q+=ot+1)>F));)ot=m[X=(X+1)%m.length];return H.reverse().join(y)}),b=void 0===x.currency?"":x.currency[0]+"",k=void 0===x.currency?"":x.currency[1]+"",L=void 0===x.decimal?".":x.decimal+"",g=void 0===x.numerals?d:(z=h.call(x.numerals,String),function(F){return F.replace(/[0-9]/g,function(B){return z[+B]})}),S=void 0===x.percent?"%":x.percent+"",I=void 0===x.minus?"-":x.minus+"",v=void 0===x.nan?"NaN":x.nan+"";function R(z){var F=(z=s(z)).fill,B=z.align,H=z.sign,X=z.symbol,ot=z.zero,q=z.width,P=z.comma,J=z.precision,E=z.trim,N=z.type;"n"===N?(P=!0,N="g"):r[N]||(void 0===J&&(J=12),E=!0,N="g"),(ot||"0"===F&&"="===B)&&(ot=!0,F="0",B="=");var Z="$"===X?b:"#"===X&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",U="$"===X?k:/[%p]/.test(N)?S:"",D=r[N],M=/[defgprs%]/.test(N);function j(C){var G,K,$,Q=Z,ut=U;if("c"===N)ut=D(C)+ut,C="";else{var ct=(C=+C)<0||1/C<0;if(C=isNaN(C)?v:D(Math.abs(C),J),E&&(C=function(_t){t:for(var kt,Et=_t.length,It=1,Lt=-1;It<Et;++It)switch(_t[It]){case".":Lt=kt=It;break;case"0":0===Lt&&(Lt=It),kt=It;break;default:if(!+_t[It])break t;Lt>0&&(Lt=0)}return Lt>0?_t.slice(0,Lt)+_t.slice(kt+1):_t}(C)),ct&&0==+C&&"+"!==H&&(ct=!1),Q=(ct?"("===H?H:I:"-"===H||"("===H?"":H)+Q,ut=("s"===N?p[8+e/3]:"")+ut+(ct&&"("===H?")":""),M)for(G=-1,K=C.length;++G<K;)if(48>($=C.charCodeAt(G))||$>57){ut=(46===$?L+C.slice(G+1):C.slice(G))+ut,C=C.slice(0,G);break}}P&&!ot&&(C=A(C,1/0));var gt=Q.length+C.length+ut.length,vt=gt<q?new Array(q-gt+1).join(F):"";switch(P&&ot&&(C=A(vt+C,vt.length?q-ut.length:1/0),vt=""),B){case"<":C=Q+C+ut+vt;break;case"=":C=Q+vt+C+ut;break;case"^":C=vt.slice(0,gt=vt.length>>1)+Q+C+ut+vt.slice(gt);break;default:C=vt+Q+C+ut}return g(C)}return J=void 0===J?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,J)):Math.max(0,Math.min(20,J)),j.toString=function(){return z+""},j}return{format:R,formatPrefix:function(z,F){var B=R(((z=s(z)).type="f",z)),H=3*Math.max(-8,Math.min(8,Math.floor(o(F)/3))),X=Math.pow(10,-H),ot=p[8+H/3];return function(q){return B(X*q)+ot}}}}function w(x){return f=T(x),t.format=f.format,t.formatPrefix=f.formatPrefix,f}w({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),t.FormatSpecifier=a,t.formatDefaultLocale=w,t.formatLocale=T,t.formatSpecifier=s,t.precisionFixed=function(x){return Math.max(0,-o(Math.abs(x)))},t.precisionPrefix=function(x,m){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(o(m)/3)))-o(Math.abs(x)))},t.precisionRound=function(x,m){return x=Math.abs(x),m=Math.abs(m)-x,Math.max(0,o(m)-o(x))+1},Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof V&&void 0!==tt?V:(t=typeof globalThis<"u"?globalThis:t||self).d3=t.d3||{})},{}],14:[function(c,tt,V){var t,l;t=this,l=function(t,l){"use strict";function o(Tt){if(0<=Tt.y&&Tt.y<100){var At=new Date(-1,Tt.m,Tt.d,Tt.H,Tt.M,Tt.S,Tt.L);return At.setFullYear(Tt.y),At}return new Date(Tt.y,Tt.m,Tt.d,Tt.H,Tt.M,Tt.S,Tt.L)}function e(Tt){if(0<=Tt.y&&Tt.y<100){var At=new Date(Date.UTC(-1,Tt.m,Tt.d,Tt.H,Tt.M,Tt.S,Tt.L));return At.setUTCFullYear(Tt.y),At}return new Date(Date.UTC(Tt.y,Tt.m,Tt.d,Tt.H,Tt.M,Tt.S,Tt.L))}function n(Tt,At,qt){return{y:Tt,m:At,d:qt,H:0,M:0,S:0,L:0}}function s(Tt){var At=Tt.dateTime,qt=Tt.date,ue=Tt.time,Te=Tt.periods,Ce=Tt.days,xe=Tt.shortDays,ye=Tt.months,ce=Tt.shortMonths,nt=T(Te),it=w(Te),Mt=T(Ce),Pt=w(Ce),Ut=T(xe),Rt=w(xe),jt=T(ye),Yt=w(ye),ee=T(ce),ae=w(ce),he={a:function(te){return xe[te.getDay()]},A:function(te){return Ce[te.getDay()]},b:function(te){return ce[te.getMonth()]},B:function(te){return ye[te.getMonth()]},c:null,d:J,e:J,f:D,H:E,I:N,j:Z,L:U,m:M,M:j,p:function(te){return Te[+(te.getHours()>=12)]},q:function(te){return 1+~~(te.getMonth()/3)},Q:Zt,s:Kt,S:C,u:G,U:K,V:$,w:Q,W:ut,x:null,X:null,y:ct,Y:gt,Z:vt,"%":Ct},Me={a:function(te){return xe[te.getUTCDay()]},A:function(te){return Ce[te.getUTCDay()]},b:function(te){return ce[te.getUTCMonth()]},B:function(te){return ye[te.getUTCMonth()]},c:null,d:_t,e:_t,f:lt,H:kt,I:Et,j:It,L:Lt,m:at,M:dt,p:function(te){return Te[+(te.getUTCHours()>=12)]},q:function(te){return 1+~~(te.getUTCMonth()/3)},Q:Zt,s:Kt,S:mt,u:St,U:bt,V:wt,w:Ot,W:Nt,x:null,X:null,y:Dt,Y:zt,Z:Vt,"%":Ct},re={a:function(te,Ae,_e){var ge=Ut.exec(Ae.slice(_e));return ge?(te.w=Rt[ge[0].toLowerCase()],_e+ge[0].length):-1},A:function(te,Ae,_e){var ge=Mt.exec(Ae.slice(_e));return ge?(te.w=Pt[ge[0].toLowerCase()],_e+ge[0].length):-1},b:function(te,Ae,_e){var ge=ee.exec(Ae.slice(_e));return ge?(te.m=ae[ge[0].toLowerCase()],_e+ge[0].length):-1},B:function(te,Ae,_e){var ge=jt.exec(Ae.slice(_e));return ge?(te.m=Yt[ge[0].toLowerCase()],_e+ge[0].length):-1},c:function(te,Ae,_e){return oe(te,At,Ae,_e)},d:v,e:v,f:X,H:z,I:z,j:R,L:H,m:I,M:F,p:function(te,Ae,_e){var ge=nt.exec(Ae.slice(_e));return ge?(te.p=it[ge[0].toLowerCase()],_e+ge[0].length):-1},q:S,Q:q,s:P,S:B,u:m,U:y,V:A,w:x,W:b,x:function(te,Ae,_e){return oe(te,qt,Ae,_e)},X:function(te,Ae,_e){return oe(te,ue,Ae,_e)},y:L,Y:k,Z:g,"%":ot};function me(te,Ae){return function(_e){var ge,we,fe,Ne=[],Pe=-1,ze=0,Ue=te.length;for(_e instanceof Date||(_e=new Date(+_e));++Pe<Ue;)37===te.charCodeAt(Pe)&&(Ne.push(te.slice(ze,Pe)),null!=(we=i[ge=te.charAt(++Pe)])?ge=te.charAt(++Pe):we="e"===ge?" ":"0",(fe=Ae[ge])&&(ge=fe(_e,we)),Ne.push(ge),ze=Pe+1);return Ne.push(te.slice(ze,Pe)),Ne.join("")}}function Oe(te,Ae){return function(_e){var ge,we,fe=n(1900,void 0,1);if(oe(fe,te,_e+="",0)!=_e.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(1e3*fe.s+("L"in fe?fe.L:0));if(Ae&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+12*fe.p),void 0===fe.m&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(we=(ge=e(n(fe.y,0,1))).getUTCDay(),ge=we>4||0===we?l.utcMonday.ceil(ge):l.utcMonday(ge),ge=l.utcDay.offset(ge,7*(fe.V-1)),fe.y=ge.getUTCFullYear(),fe.m=ge.getUTCMonth(),fe.d=ge.getUTCDate()+(fe.w+6)%7):(we=(ge=o(n(fe.y,0,1))).getDay(),ge=we>4||0===we?l.timeMonday.ceil(ge):l.timeMonday(ge),ge=l.timeDay.offset(ge,7*(fe.V-1)),fe.y=ge.getFullYear(),fe.m=ge.getMonth(),fe.d=ge.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),we="Z"in fe?e(n(fe.y,0,1)).getUTCDay():o(n(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+7*fe.W-(we+5)%7:fe.w+7*fe.U-(we+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,e(fe)):o(fe)}}function oe(te,Ae,_e,ge){for(var we,fe,Ne=0,Pe=Ae.length,ze=_e.length;Ne<Pe;){if(ge>=ze)return-1;if(37===(we=Ae.charCodeAt(Ne++))){if(we=Ae.charAt(Ne++),!(fe=re[we in i?Ae.charAt(Ne++):we])||(ge=fe(te,_e,ge))<0)return-1}else if(we!=_e.charCodeAt(ge++))return-1}return ge}return he.x=me(qt,he),he.X=me(ue,he),he.c=me(At,he),Me.x=me(qt,Me),Me.X=me(ue,Me),Me.c=me(At,Me),{format:function(te){var Ae=me(te+="",he);return Ae.toString=function(){return te},Ae},parse:function(te){var Ae=Oe(te+="",!1);return Ae.toString=function(){return te},Ae},utcFormat:function(te){var Ae=me(te+="",Me);return Ae.toString=function(){return te},Ae},utcParse:function(te){var Ae=Oe(te+="",!0);return Ae.toString=function(){return te},Ae}}}var a,i={"-":"",_:" ",0:"0"},r=/^\s*\d+/,d=/^%/,f=/[\\^$*+?|[\]().{}]/g;function h(Tt,At,qt){var ue=Tt<0?"-":"",Te=(ue?-Tt:Tt)+"",Ce=Te.length;return ue+(Ce<qt?new Array(qt-Ce+1).join(At)+Te:Te)}function p(Tt){return Tt.replace(f,"\\$&")}function T(Tt){return new RegExp("^(?:"+Tt.map(p).join("|")+")","i")}function w(Tt){for(var At={},qt=-1,ue=Tt.length;++qt<ue;)At[Tt[qt].toLowerCase()]=qt;return At}function x(Tt,At,qt){var ue=r.exec(At.slice(qt,qt+1));return ue?(Tt.w=+ue[0],qt+ue[0].length):-1}function m(Tt,At,qt){var ue=r.exec(At.slice(qt,qt+1));return ue?(Tt.u=+ue[0],qt+ue[0].length):-1}function y(Tt,At,qt){var ue=r.exec(At.slice(qt,qt+2));return ue?(Tt.U=+ue[0],qt+ue[0].length):-1}function A(Tt,At,qt){var ue=r.exec(At.slice(qt,qt+2));return ue?(Tt.V=+ue[0],qt+ue[0].length):-1}function b(Tt,At,qt){var ue=r.exec(At.slice(qt,qt+2));return ue?(Tt.W=+ue[0],qt+ue[0].length):-1}function k(Tt,At,qt){var ue=r.exec(At.slice(qt,qt+4));return ue?(Tt.y=+ue[0],qt+ue[0].length):-1}function L(Tt,At,qt){var ue=r.exec(At.slice(qt,qt+2));return ue?(Tt.y=+ue[0]+(+ue[0]>68?1900:2e3),qt+ue[0].length):-1}function g(Tt,At,qt){var ue=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(At.slice(qt,qt+6));return ue?(Tt.Z=ue[1]?0:-(ue[2]+(ue[3]||"00")),qt+ue[0].length):-1}function S(Tt,At,qt){var ue=r.exec(At.slice(qt,qt+1));return ue?(Tt.q=3*ue[0]-3,qt+ue[0].length):-1}function I(Tt,At,qt){var ue=r.exec(At.slice(qt,qt+2));return ue?(Tt.m=ue[0]-1,qt+ue[0].length):-1}function v(Tt,At,qt){var ue=r.exec(At.slice(qt,qt+2));return ue?(Tt.d=+ue[0],qt+ue[0].length):-1}function R(Tt,At,qt){var ue=r.exec(At.slice(qt,qt+3));return ue?(Tt.m=0,Tt.d=+ue[0],qt+ue[0].length):-1}function z(Tt,At,qt){var ue=r.exec(At.slice(qt,qt+2));return ue?(Tt.H=+ue[0],qt+ue[0].length):-1}function F(Tt,At,qt){var ue=r.exec(At.slice(qt,qt+2));return ue?(Tt.M=+ue[0],qt+ue[0].length):-1}function B(Tt,At,qt){var ue=r.exec(At.slice(qt,qt+2));return ue?(Tt.S=+ue[0],qt+ue[0].length):-1}function H(Tt,At,qt){var ue=r.exec(At.slice(qt,qt+3));return ue?(Tt.L=+ue[0],qt+ue[0].length):-1}function X(Tt,At,qt){var ue=r.exec(At.slice(qt,qt+6));return ue?(Tt.L=Math.floor(ue[0]/1e3),qt+ue[0].length):-1}function ot(Tt,At,qt){var ue=d.exec(At.slice(qt,qt+1));return ue?qt+ue[0].length:-1}function q(Tt,At,qt){var ue=r.exec(At.slice(qt));return ue?(Tt.Q=+ue[0],qt+ue[0].length):-1}function P(Tt,At,qt){var ue=r.exec(At.slice(qt));return ue?(Tt.s=+ue[0],qt+ue[0].length):-1}function J(Tt,At){return h(Tt.getDate(),At,2)}function E(Tt,At){return h(Tt.getHours(),At,2)}function N(Tt,At){return h(Tt.getHours()%12||12,At,2)}function Z(Tt,At){return h(1+l.timeDay.count(l.timeYear(Tt),Tt),At,3)}function U(Tt,At){return h(Tt.getMilliseconds(),At,3)}function D(Tt,At){return U(Tt,At)+"000"}function M(Tt,At){return h(Tt.getMonth()+1,At,2)}function j(Tt,At){return h(Tt.getMinutes(),At,2)}function C(Tt,At){return h(Tt.getSeconds(),At,2)}function G(Tt){var At=Tt.getDay();return 0===At?7:At}function K(Tt,At){return h(l.timeSunday.count(l.timeYear(Tt)-1,Tt),At,2)}function $(Tt,At){var qt=Tt.getDay();return Tt=qt>=4||0===qt?l.timeThursday(Tt):l.timeThursday.ceil(Tt),h(l.timeThursday.count(l.timeYear(Tt),Tt)+(4===l.timeYear(Tt).getDay()),At,2)}function Q(Tt){return Tt.getDay()}function ut(Tt,At){return h(l.timeMonday.count(l.timeYear(Tt)-1,Tt),At,2)}function ct(Tt,At){return h(Tt.getFullYear()%100,At,2)}function gt(Tt,At){return h(Tt.getFullYear()%1e4,At,4)}function vt(Tt){var At=Tt.getTimezoneOffset();return(At>0?"-":(At*=-1,"+"))+h(At/60|0,"0",2)+h(At%60,"0",2)}function _t(Tt,At){return h(Tt.getUTCDate(),At,2)}function kt(Tt,At){return h(Tt.getUTCHours(),At,2)}function Et(Tt,At){return h(Tt.getUTCHours()%12||12,At,2)}function It(Tt,At){return h(1+l.utcDay.count(l.utcYear(Tt),Tt),At,3)}function Lt(Tt,At){return h(Tt.getUTCMilliseconds(),At,3)}function lt(Tt,At){return Lt(Tt,At)+"000"}function at(Tt,At){return h(Tt.getUTCMonth()+1,At,2)}function dt(Tt,At){return h(Tt.getUTCMinutes(),At,2)}function mt(Tt,At){return h(Tt.getUTCSeconds(),At,2)}function St(Tt){var At=Tt.getUTCDay();return 0===At?7:At}function bt(Tt,At){return h(l.utcSunday.count(l.utcYear(Tt)-1,Tt),At,2)}function wt(Tt,At){var qt=Tt.getUTCDay();return Tt=qt>=4||0===qt?l.utcThursday(Tt):l.utcThursday.ceil(Tt),h(l.utcThursday.count(l.utcYear(Tt),Tt)+(4===l.utcYear(Tt).getUTCDay()),At,2)}function Ot(Tt){return Tt.getUTCDay()}function Nt(Tt,At){return h(l.utcMonday.count(l.utcYear(Tt)-1,Tt),At,2)}function Dt(Tt,At){return h(Tt.getUTCFullYear()%100,At,2)}function zt(Tt,At){return h(Tt.getUTCFullYear()%1e4,At,4)}function Vt(){return"+0000"}function Ct(){return"%"}function Zt(Tt){return+Tt}function Kt(Tt){return Math.floor(+Tt/1e3)}function Jt(Tt){return a=s(Tt),t.timeFormat=a.format,t.timeParse=a.parse,t.utcFormat=a.utcFormat,t.utcParse=a.utcParse,a}Jt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var de=Date.prototype.toISOString?function(Tt){return Tt.toISOString()}:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),$t=+new Date("2000-01-01T00:00:00.000Z")?function(Tt){var At=new Date(Tt);return isNaN(At)?null:At}:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");t.isoFormat=de,t.isoParse=$t,t.timeFormatDefaultLocale=Jt,t.timeFormatLocale=s,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof V&&void 0!==tt?l(V,c("d3-time")):l((t=t||self).d3=t.d3||{},t.d3)},{"d3-time":15}],15:[function(c,tt,V){var t;t=this,function(t){"use strict";var l=new Date,o=new Date;function e(at,dt,mt,St){function bt(wt){return at(wt=0===arguments.length?new Date:new Date(+wt)),wt}return bt.floor=function(wt){return at(wt=new Date(+wt)),wt},bt.ceil=function(wt){return at(wt=new Date(wt-1)),dt(wt,1),at(wt),wt},bt.round=function(wt){var Ot=bt(wt),Nt=bt.ceil(wt);return wt-Ot<Nt-wt?Ot:Nt},bt.offset=function(wt,Ot){return dt(wt=new Date(+wt),null==Ot?1:Math.floor(Ot)),wt},bt.range=function(wt,Ot,Nt){var Dt,zt=[];if(wt=bt.ceil(wt),Nt=null==Nt?1:Math.floor(Nt),!(wt<Ot&&Nt>0))return zt;do{zt.push(Dt=new Date(+wt)),dt(wt,Nt),at(wt)}while(Dt<wt&&wt<Ot);return zt},bt.filter=function(wt){return e(function(Ot){if(Ot>=Ot)for(;at(Ot),!wt(Ot);)Ot.setTime(Ot-1)},function(Ot,Nt){if(Ot>=Ot)if(Nt<0)for(;++Nt<=0;)for(;dt(Ot,-1),!wt(Ot););else for(;--Nt>=0;)for(;dt(Ot,1),!wt(Ot););})},mt&&(bt.count=function(wt,Ot){return l.setTime(+wt),o.setTime(+Ot),at(l),at(o),Math.floor(mt(l,o))},bt.every=function(wt){return wt=Math.floor(wt),isFinite(wt)&&wt>0?wt>1?bt.filter(St?function(Ot){return St(Ot)%wt==0}:function(Ot){return bt.count(0,Ot)%wt==0}):bt:null}),bt}var n=e(function(){},function(at,dt){at.setTime(+at+dt)},function(at,dt){return dt-at});n.every=function(at){return at=Math.floor(at),isFinite(at)&&at>0?at>1?e(function(dt){dt.setTime(Math.floor(dt/at)*at)},function(dt,mt){dt.setTime(+dt+mt*at)},function(dt,mt){return(mt-dt)/at}):n:null};var s=n.range,a=e(function(at){at.setTime(at-at.getMilliseconds())},function(at,dt){at.setTime(+at+1e3*dt)},function(at,dt){return(dt-at)/1e3},function(at){return at.getUTCSeconds()}),i=a.range,r=e(function(at){at.setTime(at-at.getMilliseconds()-1e3*at.getSeconds())},function(at,dt){at.setTime(+at+6e4*dt)},function(at,dt){return(dt-at)/6e4},function(at){return at.getMinutes()}),d=r.range,f=e(function(at){at.setTime(at-at.getMilliseconds()-1e3*at.getSeconds()-6e4*at.getMinutes())},function(at,dt){at.setTime(+at+36e5*dt)},function(at,dt){return(dt-at)/36e5},function(at){return at.getHours()}),h=f.range,p=e(function(at){at.setHours(0,0,0,0)},function(at,dt){at.setDate(at.getDate()+dt)},function(at,dt){return(dt-at-6e4*(dt.getTimezoneOffset()-at.getTimezoneOffset()))/864e5},function(at){return at.getDate()-1}),T=p.range;function w(at){return e(function(dt){dt.setDate(dt.getDate()-(dt.getDay()+7-at)%7),dt.setHours(0,0,0,0)},function(dt,mt){dt.setDate(dt.getDate()+7*mt)},function(dt,mt){return(mt-dt-6e4*(mt.getTimezoneOffset()-dt.getTimezoneOffset()))/6048e5})}var x=w(0),m=w(1),y=w(2),A=w(3),b=w(4),k=w(5),L=w(6),g=x.range,S=m.range,I=y.range,v=A.range,R=b.range,z=k.range,F=L.range,B=e(function(at){at.setDate(1),at.setHours(0,0,0,0)},function(at,dt){at.setMonth(at.getMonth()+dt)},function(at,dt){return dt.getMonth()-at.getMonth()+12*(dt.getFullYear()-at.getFullYear())},function(at){return at.getMonth()}),H=B.range,X=e(function(at){at.setMonth(0,1),at.setHours(0,0,0,0)},function(at,dt){at.setFullYear(at.getFullYear()+dt)},function(at,dt){return dt.getFullYear()-at.getFullYear()},function(at){return at.getFullYear()});X.every=function(at){return isFinite(at=Math.floor(at))&&at>0?e(function(dt){dt.setFullYear(Math.floor(dt.getFullYear()/at)*at),dt.setMonth(0,1),dt.setHours(0,0,0,0)},function(dt,mt){dt.setFullYear(dt.getFullYear()+mt*at)}):null};var ot=X.range,q=e(function(at){at.setUTCSeconds(0,0)},function(at,dt){at.setTime(+at+6e4*dt)},function(at,dt){return(dt-at)/6e4},function(at){return at.getUTCMinutes()}),P=q.range,J=e(function(at){at.setUTCMinutes(0,0,0)},function(at,dt){at.setTime(+at+36e5*dt)},function(at,dt){return(dt-at)/36e5},function(at){return at.getUTCHours()}),E=J.range,N=e(function(at){at.setUTCHours(0,0,0,0)},function(at,dt){at.setUTCDate(at.getUTCDate()+dt)},function(at,dt){return(dt-at)/864e5},function(at){return at.getUTCDate()-1}),Z=N.range;function U(at){return e(function(dt){dt.setUTCDate(dt.getUTCDate()-(dt.getUTCDay()+7-at)%7),dt.setUTCHours(0,0,0,0)},function(dt,mt){dt.setUTCDate(dt.getUTCDate()+7*mt)},function(dt,mt){return(mt-dt)/6048e5})}var D=U(0),M=U(1),j=U(2),C=U(3),G=U(4),K=U(5),$=U(6),Q=D.range,ut=M.range,ct=j.range,gt=C.range,vt=G.range,_t=K.range,kt=$.range,Et=e(function(at){at.setUTCDate(1),at.setUTCHours(0,0,0,0)},function(at,dt){at.setUTCMonth(at.getUTCMonth()+dt)},function(at,dt){return dt.getUTCMonth()-at.getUTCMonth()+12*(dt.getUTCFullYear()-at.getUTCFullYear())},function(at){return at.getUTCMonth()}),It=Et.range,Lt=e(function(at){at.setUTCMonth(0,1),at.setUTCHours(0,0,0,0)},function(at,dt){at.setUTCFullYear(at.getUTCFullYear()+dt)},function(at,dt){return dt.getUTCFullYear()-at.getUTCFullYear()},function(at){return at.getUTCFullYear()});Lt.every=function(at){return isFinite(at=Math.floor(at))&&at>0?e(function(dt){dt.setUTCFullYear(Math.floor(dt.getUTCFullYear()/at)*at),dt.setUTCMonth(0,1),dt.setUTCHours(0,0,0,0)},function(dt,mt){dt.setUTCFullYear(dt.getUTCFullYear()+mt*at)}):null};var lt=Lt.range;t.timeDay=p,t.timeDays=T,t.timeFriday=k,t.timeFridays=z,t.timeHour=f,t.timeHours=h,t.timeInterval=e,t.timeMillisecond=n,t.timeMilliseconds=s,t.timeMinute=r,t.timeMinutes=d,t.timeMonday=m,t.timeMondays=S,t.timeMonth=B,t.timeMonths=H,t.timeSaturday=L,t.timeSaturdays=F,t.timeSecond=a,t.timeSeconds=i,t.timeSunday=x,t.timeSundays=g,t.timeThursday=b,t.timeThursdays=R,t.timeTuesday=y,t.timeTuesdays=I,t.timeWednesday=A,t.timeWednesdays=v,t.timeWeek=x,t.timeWeeks=g,t.timeYear=X,t.timeYears=ot,t.utcDay=N,t.utcDays=Z,t.utcFriday=K,t.utcFridays=_t,t.utcHour=J,t.utcHours=E,t.utcMillisecond=n,t.utcMilliseconds=s,t.utcMinute=q,t.utcMinutes=P,t.utcMonday=M,t.utcMondays=ut,t.utcMonth=Et,t.utcMonths=It,t.utcSaturday=$,t.utcSaturdays=kt,t.utcSecond=a,t.utcSeconds=i,t.utcSunday=D,t.utcSundays=Q,t.utcThursday=G,t.utcThursdays=vt,t.utcTuesday=j,t.utcTuesdays=ct,t.utcWednesday=C,t.utcWednesdays=gt,t.utcWeek=D,t.utcWeeks=Q,t.utcYear=Lt,t.utcYears=lt,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof V&&void 0!==tt?V:(t=t||self).d3=t.d3||{})},{}],16:[function(c,tt,V){arguments[4][15][0].apply(V,arguments)},{dup:15}],17:[function(c,tt,V){"use strict";var t=c("is-string-blank");tt.exports=function(l){var o=typeof l;if("string"===o){var e=l;if(0==(l=+l)&&t(e))return!1}else if("number"!==o)return!1;return l-l<1}},{"is-string-blank":52}],18:[function(c,tt,V){tt.exports=function(t,l){var o=l[0],e=l[1],n=l[2],s=l[3],a=l[4],i=l[5],r=l[6],d=l[7],f=l[8],h=l[9],p=l[10],T=l[11],w=l[12],x=l[13],m=l[14],y=l[15];return t[0]=i*(p*y-T*m)-h*(r*y-d*m)+x*(r*T-d*p),t[1]=-(e*(p*y-T*m)-h*(n*y-s*m)+x*(n*T-s*p)),t[2]=e*(r*y-d*m)-i*(n*y-s*m)+x*(n*d-s*r),t[3]=-(e*(r*T-d*p)-i*(n*T-s*p)+h*(n*d-s*r)),t[4]=-(a*(p*y-T*m)-f*(r*y-d*m)+w*(r*T-d*p)),t[5]=o*(p*y-T*m)-f*(n*y-s*m)+w*(n*T-s*p),t[6]=-(o*(r*y-d*m)-a*(n*y-s*m)+w*(n*d-s*r)),t[7]=o*(r*T-d*p)-a*(n*T-s*p)+f*(n*d-s*r),t[8]=a*(h*y-T*x)-f*(i*y-d*x)+w*(i*T-d*h),t[9]=-(o*(h*y-T*x)-f*(e*y-s*x)+w*(e*T-s*h)),t[10]=o*(i*y-d*x)-a*(e*y-s*x)+w*(e*d-s*i),t[11]=-(o*(i*T-d*h)-a*(e*T-s*h)+f*(e*d-s*i)),t[12]=-(a*(h*m-p*x)-f*(i*m-r*x)+w*(i*p-r*h)),t[13]=o*(h*m-p*x)-f*(e*m-n*x)+w*(e*p-n*h),t[14]=-(o*(i*m-r*x)-a*(e*m-n*x)+w*(e*r-n*i)),t[15]=o*(i*p-r*h)-a*(e*p-n*h)+f*(e*r-n*i),t}},{}],19:[function(c,tt,V){tt.exports=function(t){var l=new Float32Array(16);return l[0]=t[0],l[1]=t[1],l[2]=t[2],l[3]=t[3],l[4]=t[4],l[5]=t[5],l[6]=t[6],l[7]=t[7],l[8]=t[8],l[9]=t[9],l[10]=t[10],l[11]=t[11],l[12]=t[12],l[13]=t[13],l[14]=t[14],l[15]=t[15],l}},{}],20:[function(c,tt,V){tt.exports=function(t,l){return t[0]=l[0],t[1]=l[1],t[2]=l[2],t[3]=l[3],t[4]=l[4],t[5]=l[5],t[6]=l[6],t[7]=l[7],t[8]=l[8],t[9]=l[9],t[10]=l[10],t[11]=l[11],t[12]=l[12],t[13]=l[13],t[14]=l[14],t[15]=l[15],t}},{}],21:[function(c,tt,V){tt.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],22:[function(c,tt,V){tt.exports=function(t){var l=t[0],o=t[1],e=t[2],n=t[3],s=t[4],a=t[5],i=t[6],r=t[7],d=t[8],f=t[9],h=t[10],p=t[11],T=t[12],w=t[13],x=t[14],m=t[15];return(l*a-o*s)*(h*m-p*x)-(l*i-e*s)*(f*m-p*w)+(l*r-n*s)*(f*x-h*w)+(o*i-e*a)*(d*m-p*T)-(o*r-n*a)*(d*x-h*T)+(e*r-n*i)*(d*w-f*T)}},{}],23:[function(c,tt,V){tt.exports=function(t,l){var o=l[0],e=l[1],n=l[2],s=l[3],a=o+o,i=e+e,r=n+n,d=o*a,f=e*a,h=e*i,p=n*a,T=n*i,w=n*r,x=s*a,m=s*i,y=s*r;return t[0]=1-h-w,t[1]=f+y,t[2]=p-m,t[3]=0,t[4]=f-y,t[5]=1-d-w,t[6]=T+x,t[7]=0,t[8]=p+m,t[9]=T-x,t[10]=1-d-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],24:[function(c,tt,V){tt.exports=function(t,l,o){var e,n,s,a=o[0],i=o[1],r=o[2],d=Math.sqrt(a*a+i*i+r*r);return Math.abs(d)<1e-6?null:(a*=d=1/d,i*=d,r*=d,e=Math.sin(l),n=Math.cos(l),t[0]=a*a*(s=1-n)+n,t[1]=i*a*s+r*e,t[2]=r*a*s-i*e,t[3]=0,t[4]=a*i*s-r*e,t[5]=i*i*s+n,t[6]=r*i*s+a*e,t[7]=0,t[8]=a*r*s+i*e,t[9]=i*r*s-a*e,t[10]=r*r*s+n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}},{}],25:[function(c,tt,V){tt.exports=function(t,l,o){var e=l[0],n=l[1],s=l[2],a=l[3],i=e+e,r=n+n,d=s+s,f=e*i,h=e*r,p=e*d,T=n*r,w=n*d,x=s*d,m=a*i,y=a*r,A=a*d;return t[0]=1-(T+x),t[1]=h+A,t[2]=p-y,t[3]=0,t[4]=h-A,t[5]=1-(f+x),t[6]=w+m,t[7]=0,t[8]=p+y,t[9]=w-m,t[10]=1-(f+T),t[11]=0,t[12]=o[0],t[13]=o[1],t[14]=o[2],t[15]=1,t}},{}],26:[function(c,tt,V){tt.exports=function(t,l){return t[0]=l[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=l[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],27:[function(c,tt,V){tt.exports=function(t,l){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=l[0],t[13]=l[1],t[14]=l[2],t[15]=1,t}},{}],28:[function(c,tt,V){tt.exports=function(t,l){var o=Math.sin(l),e=Math.cos(l);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=o,t[7]=0,t[8]=0,t[9]=-o,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],29:[function(c,tt,V){tt.exports=function(t,l){var o=Math.sin(l),e=Math.cos(l);return t[0]=e,t[1]=0,t[2]=-o,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=o,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],30:[function(c,tt,V){tt.exports=function(t,l){var o=Math.sin(l),e=Math.cos(l);return t[0]=e,t[1]=o,t[2]=0,t[3]=0,t[4]=-o,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],31:[function(c,tt,V){tt.exports=function(t,l,o,e,n,s,a){var i=1/(o-l),r=1/(n-e),d=1/(s-a);return t[0]=2*s*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*r,t[6]=0,t[7]=0,t[8]=(o+l)*i,t[9]=(n+e)*r,t[10]=(a+s)*d,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*s*2*d,t[15]=0,t}},{}],32:[function(c,tt,V){tt.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],33:[function(c,tt,V){tt.exports={create:c("./create"),clone:c("./clone"),copy:c("./copy"),identity:c("./identity"),transpose:c("./transpose"),invert:c("./invert"),adjoint:c("./adjoint"),determinant:c("./determinant"),multiply:c("./multiply"),translate:c("./translate"),scale:c("./scale"),rotate:c("./rotate"),rotateX:c("./rotateX"),rotateY:c("./rotateY"),rotateZ:c("./rotateZ"),fromRotation:c("./fromRotation"),fromRotationTranslation:c("./fromRotationTranslation"),fromScaling:c("./fromScaling"),fromTranslation:c("./fromTranslation"),fromXRotation:c("./fromXRotation"),fromYRotation:c("./fromYRotation"),fromZRotation:c("./fromZRotation"),fromQuat:c("./fromQuat"),frustum:c("./frustum"),perspective:c("./perspective"),perspectiveFromFieldOfView:c("./perspectiveFromFieldOfView"),ortho:c("./ortho"),lookAt:c("./lookAt"),str:c("./str")}},{"./adjoint":18,"./clone":19,"./copy":20,"./create":21,"./determinant":22,"./fromQuat":23,"./fromRotation":24,"./fromRotationTranslation":25,"./fromScaling":26,"./fromTranslation":27,"./fromXRotation":28,"./fromYRotation":29,"./fromZRotation":30,"./frustum":31,"./identity":32,"./invert":34,"./lookAt":35,"./multiply":36,"./ortho":37,"./perspective":38,"./perspectiveFromFieldOfView":39,"./rotate":40,"./rotateX":41,"./rotateY":42,"./rotateZ":43,"./scale":44,"./str":45,"./translate":46,"./transpose":47}],34:[function(c,tt,V){tt.exports=function(t,l){var o=l[0],e=l[1],n=l[2],s=l[3],a=l[4],i=l[5],r=l[6],d=l[7],f=l[8],h=l[9],p=l[10],T=l[11],w=l[12],x=l[13],m=l[14],y=l[15],A=o*i-e*a,b=o*r-n*a,k=o*d-s*a,L=e*r-n*i,g=e*d-s*i,S=n*d-s*r,I=f*x-h*w,v=f*m-p*w,R=f*y-T*w,z=h*m-p*x,F=h*y-T*x,B=p*y-T*m,H=A*B-b*F+k*z+L*R-g*v+S*I;return H?(t[0]=(i*B-r*F+d*z)*(H=1/H),t[1]=(n*F-e*B-s*z)*H,t[2]=(x*S-m*g+y*L)*H,t[3]=(p*g-h*S-T*L)*H,t[4]=(r*R-a*B-d*v)*H,t[5]=(o*B-n*R+s*v)*H,t[6]=(m*k-w*S-y*b)*H,t[7]=(f*S-p*k+T*b)*H,t[8]=(a*F-i*R+d*I)*H,t[9]=(e*R-o*F-s*I)*H,t[10]=(w*g-x*k+y*A)*H,t[11]=(h*k-f*g-T*A)*H,t[12]=(i*v-a*z-r*I)*H,t[13]=(o*z-e*v+n*I)*H,t[14]=(x*b-w*L-m*A)*H,t[15]=(f*L-h*b+p*A)*H,t):null}},{}],35:[function(c,tt,V){var t=c("./identity");tt.exports=function(l,o,e,n){var s,a,i,r,d,f,h,p,T,w,x=o[0],m=o[1],y=o[2],A=n[0],b=n[1],k=n[2],L=e[0],g=e[1],S=e[2];return Math.abs(x-L)<1e-6&&Math.abs(m-g)<1e-6&&Math.abs(y-S)<1e-6?t(l):(h=x-L,p=m-g,T=y-S,s=b*(T*=w=1/Math.sqrt(h*h+p*p+T*T))-k*(p*=w),a=k*(h*=w)-A*T,i=A*p-b*h,(w=Math.sqrt(s*s+a*a+i*i))?(s*=w=1/w,a*=w,i*=w):(s=0,a=0,i=0),r=p*i-T*a,d=T*s-h*i,f=h*a-p*s,(w=Math.sqrt(r*r+d*d+f*f))?(r*=w=1/w,d*=w,f*=w):(r=0,d=0,f=0),l[0]=s,l[1]=r,l[2]=h,l[3]=0,l[4]=a,l[5]=d,l[6]=p,l[7]=0,l[8]=i,l[9]=f,l[10]=T,l[11]=0,l[12]=-(s*x+a*m+i*y),l[13]=-(r*x+d*m+f*y),l[14]=-(h*x+p*m+T*y),l[15]=1,l)}},{"./identity":32}],36:[function(c,tt,V){tt.exports=function(t,l,o){var e=l[0],n=l[1],s=l[2],a=l[3],i=l[4],r=l[5],d=l[6],f=l[7],h=l[8],p=l[9],T=l[10],w=l[11],x=l[12],m=l[13],y=l[14],A=l[15],b=o[0],k=o[1],L=o[2],g=o[3];return t[0]=b*e+k*i+L*h+g*x,t[1]=b*n+k*r+L*p+g*m,t[2]=b*s+k*d+L*T+g*y,t[3]=b*a+k*f+L*w+g*A,t[4]=(b=o[4])*e+(k=o[5])*i+(L=o[6])*h+(g=o[7])*x,t[5]=b*n+k*r+L*p+g*m,t[6]=b*s+k*d+L*T+g*y,t[7]=b*a+k*f+L*w+g*A,t[8]=(b=o[8])*e+(k=o[9])*i+(L=o[10])*h+(g=o[11])*x,t[9]=b*n+k*r+L*p+g*m,t[10]=b*s+k*d+L*T+g*y,t[11]=b*a+k*f+L*w+g*A,t[12]=(b=o[12])*e+(k=o[13])*i+(L=o[14])*h+(g=o[15])*x,t[13]=b*n+k*r+L*p+g*m,t[14]=b*s+k*d+L*T+g*y,t[15]=b*a+k*f+L*w+g*A,t}},{}],37:[function(c,tt,V){tt.exports=function(t,l,o,e,n,s,a){var i=1/(l-o),r=1/(e-n),d=1/(s-a);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*d,t[11]=0,t[12]=(l+o)*i,t[13]=(n+e)*r,t[14]=(a+s)*d,t[15]=1,t}},{}],38:[function(c,tt,V){tt.exports=function(t,l,o,e,n){var s=1/Math.tan(l/2),a=1/(e-n);return t[0]=s/o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(n+e)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*n*e*a,t[15]=0,t}},{}],39:[function(c,tt,V){tt.exports=function(t,l,o,e){var n=Math.tan(l.upDegrees*Math.PI/180),s=Math.tan(l.downDegrees*Math.PI/180),a=Math.tan(l.leftDegrees*Math.PI/180),i=Math.tan(l.rightDegrees*Math.PI/180),r=2/(a+i),d=2/(n+s);return t[0]=r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=d,t[6]=0,t[7]=0,t[8]=-(a-i)*r*.5,t[9]=(n-s)*d*.5,t[10]=e/(o-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*o/(o-e),t[15]=0,t}},{}],40:[function(c,tt,V){tt.exports=function(t,l,o,e){var n,s,a,i,r,d,f,h,p,T,w,x,m,y,A,b,k,L,g,S,I,v,R,z,F=e[0],B=e[1],H=e[2],X=Math.sqrt(F*F+B*B+H*H);return Math.abs(X)<1e-6?null:(F*=X=1/X,B*=X,H*=X,n=Math.sin(o),s=Math.cos(o),r=l[1],d=l[2],f=l[3],p=l[5],T=l[6],w=l[7],m=l[9],y=l[10],A=l[11],g=F*B*(a=1-s)-H*n,S=B*B*a+s,I=H*B*a+F*n,v=F*H*a+B*n,R=B*H*a-F*n,z=H*H*a+s,t[0]=(i=l[0])*(b=F*F*a+s)+(h=l[4])*(k=B*F*a+H*n)+(x=l[8])*(L=H*F*a-B*n),t[1]=r*b+p*k+m*L,t[2]=d*b+T*k+y*L,t[3]=f*b+w*k+A*L,t[4]=i*g+h*S+x*I,t[5]=r*g+p*S+m*I,t[6]=d*g+T*S+y*I,t[7]=f*g+w*S+A*I,t[8]=i*v+h*R+x*z,t[9]=r*v+p*R+m*z,t[10]=d*v+T*R+y*z,t[11]=f*v+w*R+A*z,l!==t&&(t[12]=l[12],t[13]=l[13],t[14]=l[14],t[15]=l[15]),t)}},{}],41:[function(c,tt,V){tt.exports=function(t,l,o){var e=Math.sin(o),n=Math.cos(o),s=l[4],a=l[5],i=l[6],r=l[7],d=l[8],f=l[9],h=l[10],p=l[11];return l!==t&&(t[0]=l[0],t[1]=l[1],t[2]=l[2],t[3]=l[3],t[12]=l[12],t[13]=l[13],t[14]=l[14],t[15]=l[15]),t[4]=s*n+d*e,t[5]=a*n+f*e,t[6]=i*n+h*e,t[7]=r*n+p*e,t[8]=d*n-s*e,t[9]=f*n-a*e,t[10]=h*n-i*e,t[11]=p*n-r*e,t}},{}],42:[function(c,tt,V){tt.exports=function(t,l,o){var e=Math.sin(o),n=Math.cos(o),s=l[0],a=l[1],i=l[2],r=l[3],d=l[8],f=l[9],h=l[10],p=l[11];return l!==t&&(t[4]=l[4],t[5]=l[5],t[6]=l[6],t[7]=l[7],t[12]=l[12],t[13]=l[13],t[14]=l[14],t[15]=l[15]),t[0]=s*n-d*e,t[1]=a*n-f*e,t[2]=i*n-h*e,t[3]=r*n-p*e,t[8]=s*e+d*n,t[9]=a*e+f*n,t[10]=i*e+h*n,t[11]=r*e+p*n,t}},{}],43:[function(c,tt,V){tt.exports=function(t,l,o){var e=Math.sin(o),n=Math.cos(o),s=l[0],a=l[1],i=l[2],r=l[3],d=l[4],f=l[5],h=l[6],p=l[7];return l!==t&&(t[8]=l[8],t[9]=l[9],t[10]=l[10],t[11]=l[11],t[12]=l[12],t[13]=l[13],t[14]=l[14],t[15]=l[15]),t[0]=s*n+d*e,t[1]=a*n+f*e,t[2]=i*n+h*e,t[3]=r*n+p*e,t[4]=d*n-s*e,t[5]=f*n-a*e,t[6]=h*n-i*e,t[7]=p*n-r*e,t}},{}],44:[function(c,tt,V){tt.exports=function(t,l,o){var e=o[0],n=o[1],s=o[2];return t[0]=l[0]*e,t[1]=l[1]*e,t[2]=l[2]*e,t[3]=l[3]*e,t[4]=l[4]*n,t[5]=l[5]*n,t[6]=l[6]*n,t[7]=l[7]*n,t[8]=l[8]*s,t[9]=l[9]*s,t[10]=l[10]*s,t[11]=l[11]*s,t[12]=l[12],t[13]=l[13],t[14]=l[14],t[15]=l[15],t}},{}],45:[function(c,tt,V){tt.exports=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},{}],46:[function(c,tt,V){tt.exports=function(t,l,o){var e,n,s,a,i,r,d,f,h,p,T,w,x=o[0],m=o[1],y=o[2];return l===t?(t[12]=l[0]*x+l[4]*m+l[8]*y+l[12],t[13]=l[1]*x+l[5]*m+l[9]*y+l[13],t[14]=l[2]*x+l[6]*m+l[10]*y+l[14],t[15]=l[3]*x+l[7]*m+l[11]*y+l[15]):(n=l[1],s=l[2],a=l[3],i=l[4],r=l[5],d=l[6],f=l[7],h=l[8],p=l[9],T=l[10],w=l[11],t[0]=e=l[0],t[1]=n,t[2]=s,t[3]=a,t[4]=i,t[5]=r,t[6]=d,t[7]=f,t[8]=h,t[9]=p,t[10]=T,t[11]=w,t[12]=e*x+i*m+h*y+l[12],t[13]=n*x+r*m+p*y+l[13],t[14]=s*x+d*m+T*y+l[14],t[15]=a*x+f*m+w*y+l[15]),t}},{}],47:[function(c,tt,V){tt.exports=function(t,l){if(t===l){var o=l[1],e=l[2],n=l[3],s=l[6],a=l[7],i=l[11];t[1]=l[4],t[2]=l[8],t[3]=l[12],t[4]=o,t[6]=l[9],t[7]=l[13],t[8]=e,t[9]=s,t[11]=l[14],t[12]=n,t[13]=a,t[14]=i}else t[0]=l[0],t[1]=l[4],t[2]=l[8],t[3]=l[12],t[4]=l[1],t[5]=l[5],t[6]=l[9],t[7]=l[13],t[8]=l[2],t[9]=l[6],t[10]=l[10],t[11]=l[14],t[12]=l[3],t[13]=l[7],t[14]=l[11],t[15]=l[15];return t}},{}],48:[function(c,tt,V){(function(t){(function(){"use strict";var l,o=c("is-browser");l="function"==typeof t.matchMedia?!t.matchMedia("(hover: none)").matches:o,tt.exports=l}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"is-browser":50}],49:[function(c,tt,V){"use strict";var t=c("is-browser");tt.exports=t&&function(){var l=!1;try{var o=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("test",null,o),window.removeEventListener("test",null,o)}catch{l=!1}return l}()},{"is-browser":50}],50:[function(c,tt,V){tt.exports=!0},{}],51:[function(c,tt,V){"use strict";tt.exports=o,tt.exports.isMobile=o,tt.exports.default=o;var t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function o(e){e||(e={});var n=e.ua;if(n||typeof navigator>"u"||(n=navigator.userAgent),n&&n.headers&&"string"==typeof n.headers["user-agent"]&&(n=n.headers["user-agent"]),"string"!=typeof n)return!1;var s=e.tablet?l.test(n):t.test(n);return!s&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==n.indexOf("Macintosh")&&-1!==n.indexOf("Safari")&&(s=!0),s}},{}],52:[function(c,tt,V){"use strict";tt.exports=function(t){for(var l,o=t.length,e=0;e<o;e++)if(((l=t.charCodeAt(e))<9||l>13)&&32!==l&&133!==l&&160!==l&&5760!==l&&6158!==l&&(l<8192||l>8205)&&8232!==l&&8233!==l&&8239!==l&&8287!==l&&8288!==l&&12288!==l&&65279!==l)return!1;return!0}},{}],53:[function(c,tt,V){var t={left:0,top:0};tt.exports=function(l,o,e){o=o||l.currentTarget||l.srcElement,Array.isArray(e)||(e=[0,0]);var i,n=l.clientX||0,s=l.clientY||0,a=(i=o)===window||i===document||i===document.body?t:i.getBoundingClientRect();return e[0]=n-a.left,e[1]=s-a.top,e}},{}],54:[function(c,tt,V){(function(t,l){(function(){var o,e,n;n=function(){"use strict";var s,a,i,r=Object.prototype.toString,d=void 0!==l?function(L){return l(L)}:setTimeout;try{Object.defineProperty({},"x",{}),s=function(L,g,S,I){return Object.defineProperty(L,g,{value:S,writable:!0,configurable:!1!==I})}}catch{s=function(g,S,I){return g[S]=I,g}}function f(L,g){i.add(L,g),a||(a=d(i.drain))}function h(L){var g,S=typeof L;return null==L||"object"!=S&&"function"!=S||(g=L.then),"function"==typeof g&&g}function p(){for(var L=0;L<this.chain.length;L++)T(this,1===this.state?this.chain[L].success:this.chain[L].failure,this.chain[L]);this.chain.length=0}function T(L,g,S){var I,v;try{!1===g?S.reject(L.msg):(I=!0===g?L.msg:g.call(void 0,L.msg))===S.promise?S.reject(TypeError("Promise-chain cycle")):(v=h(I))?v.call(I,S.resolve,S.reject):S.resolve(I)}catch(R){S.reject(R)}}function w(L){var g,S=this;if(!S.triggered){S.triggered=!0,S.def&&(S=S.def);try{(g=h(L))?f(function(){var I=new y(S);try{g.call(L,function(){w.apply(I,arguments)},function(){x.apply(I,arguments)})}catch(v){x.call(I,v)}}):(S.msg=L,S.state=1,S.chain.length>0&&f(p,S))}catch(I){x.call(new y(S),I)}}}function x(L){var g=this;g.triggered||(g.triggered=!0,g.def&&(g=g.def),g.msg=L,g.state=2,g.chain.length>0&&f(p,g))}function m(L,g,S,I){for(var v=0;v<g.length;v++)!function(R){L.resolve(g[R]).then(function(z){S(R,z)},I)}(v)}function y(L){this.def=L,this.triggered=!1}function A(L){this.promise=L,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function b(L){if("function"!=typeof L)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var g=new A(this);this.then=function(S,I){var v={success:"function"!=typeof S||S,failure:"function"==typeof I&&I};return v.promise=new this.constructor(function(R,z){if("function"!=typeof R||"function"!=typeof z)throw TypeError("Not a function");v.resolve=R,v.reject=z}),g.chain.push(v),0!==g.state&&f(p,g),v.promise},this.catch=function(S){return this.then(void 0,S)};try{L.call(void 0,function(S){w.call(g,S)},function(S){x.call(g,S)})}catch(S){x.call(g,S)}}i=function(){var L,g,S;function I(v,R){this.fn=v,this.self=R,this.next=void 0}return{add:function(v,R){S=new I(v,R),g?g.next=S:L=S,g=S,S=void 0},drain:function(){var v=L;for(L=g=a=void 0;v;)v.fn.call(v.self),v=v.next}}}();var k=s({},"constructor",b,!1);return b.prototype=k,s(k,"__NPO__",0,!1),s(b,"resolve",function(L){return L&&"object"==typeof L&&1===L.__NPO__?L:new this(function(g,S){if("function"!=typeof g||"function"!=typeof S)throw TypeError("Not a function");g(L)})}),s(b,"reject",function(L){return new this(function(g,S){if("function"!=typeof g||"function"!=typeof S)throw TypeError("Not a function");S(L)})}),s(b,"all",function(L){var g=this;return"[object Array]"!=r.call(L)?g.reject(TypeError("Not an array")):0===L.length?g.resolve([]):new g(function(S,I){if("function"!=typeof S||"function"!=typeof I)throw TypeError("Not a function");var v=L.length,R=Array(v),z=0;m(g,L,function(F,B){R[F]=B,++z===v&&S(R)},I)})}),s(b,"race",function(L){var g=this;return"[object Array]"!=r.call(L)?g.reject(TypeError("Not an array")):new g(function(S,I){if("function"!=typeof S||"function"!=typeof I)throw TypeError("Not a function");m(g,L,function(v,R){S(R)},I)})}),b},(e=void 0!==t?t:this)[o="Promise"]=e[o]||n(),void 0!==tt&&tt.exports&&(tt.exports=e[o])}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},c("timers").setImmediate)},{timers:66}],55:[function(c,tt,V){"use strict";var t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function e(n){if(null==n)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}tt.exports=function(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de","5"===Object.getOwnPropertyNames(n)[0])return!1;for(var s={},a=0;a<10;a++)s["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(s).map(function(r){return s[r]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(r){i[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch{return!1}}()?Object.assign:function(n,s){for(var a,i,r=e(n),d=1;d<arguments.length;d++){for(var f in a=Object(arguments[d]))l.call(a,f)&&(r[f]=a[f]);if(t){i=t(a);for(var h=0;h<i.length;h++)o.call(a,i[h])&&(r[i[h]]=a[i[h]])}}return r}},{}],56:[function(c,tt,V){tt.exports=function(e){var n=[];return e.replace(l,function(s,a,i){var f,r=a.toLowerCase();for(f=void 0,i=(f=i.match(o))?f.map(Number):[],"m"==r&&i.length>2&&(n.push([a].concat(i.splice(0,2))),r="l",a="m"==a?"l":"L");;){if(i.length==t[r])return i.unshift(a),n.push(i);if(i.length<t[r])throw new Error("malformed path data");n.push([a].concat(i.splice(0,t[r])))}}),n};var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},l=/([astvzqmhlc])([^astvzqmhlc]*)/gi,o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},{}],57:[function(c,tt,V){var t,l=c("./lib/build-log"),o=c("./lib/epsilon"),e=c("./lib/intersecter"),n=c("./lib/segment-chainer"),s=c("./lib/segment-selector"),a=c("./lib/geojson"),i=!1,r=o();function d(f,h,p){var T=t.segments(f),w=t.segments(h),x=p(t.combine(T,w));return t.polygon(x)}t={buildLog:function(f){return!0===f?i=l():!1===f&&(i=!1),!1!==i&&i.list},epsilon:function(f){return r.epsilon(f)},segments:function(f){var h=e(!0,r,i);return f.regions.forEach(h.addRegion),{segments:h.calculate(f.inverted),inverted:f.inverted}},combine:function(f,h){return{combined:e(!1,r,i).calculate(f.segments,f.inverted,h.segments,h.inverted),inverted1:f.inverted,inverted2:h.inverted}},selectUnion:function(f){return{segments:s.union(f.combined,i),inverted:f.inverted1||f.inverted2}},selectIntersect:function(f){return{segments:s.intersect(f.combined,i),inverted:f.inverted1&&f.inverted2}},selectDifference:function(f){return{segments:s.difference(f.combined,i),inverted:f.inverted1&&!f.inverted2}},selectDifferenceRev:function(f){return{segments:s.differenceRev(f.combined,i),inverted:!f.inverted1&&f.inverted2}},selectXor:function(f){return{segments:s.xor(f.combined,i),inverted:f.inverted1!==f.inverted2}},polygon:function(f){return{regions:n(f.segments,r,i),inverted:f.inverted}},polygonFromGeoJSON:function(f){return a.toPolygon(t,f)},polygonToGeoJSON:function(f){return a.fromPolygon(t,r,f)},union:function(f,h){return d(f,h,t.selectUnion)},intersect:function(f,h){return d(f,h,t.selectIntersect)},difference:function(f,h){return d(f,h,t.selectDifference)},differenceRev:function(f,h){return d(f,h,t.selectDifferenceRev)},xor:function(f,h){return d(f,h,t.selectXor)}},"object"==typeof window&&(window.PolyBool=t),tt.exports=t},{"./lib/build-log":58,"./lib/epsilon":59,"./lib/geojson":60,"./lib/intersecter":61,"./lib/segment-chainer":63,"./lib/segment-selector":64}],58:[function(c,tt,V){tt.exports=function(){var t,l=0,o=!1;function e(n,s){return t.list.push({type:n,data:s?JSON.parse(JSON.stringify(s)):void 0}),t}return t={list:[],segmentId:function(){return l++},checkIntersection:function(n,s){return e("check",{seg1:n,seg2:s})},segmentChop:function(n,s){return e("div_seg",{seg:n,pt:s}),e("chop",{seg:n,pt:s})},statusRemove:function(n){return e("pop_seg",{seg:n})},segmentUpdate:function(n){return e("seg_update",{seg:n})},segmentNew:function(n,s){return e("new_seg",{seg:n,primary:s})},segmentRemove:function(n){return e("rem_seg",{seg:n})},tempStatus:function(n,s,a){return e("temp_status",{seg:n,above:s,below:a})},rewind:function(n){return e("rewind",{seg:n})},status:function(n,s,a){return e("status",{seg:n,above:s,below:a})},vert:function(n){return n===o?t:(o=n,e("vert",{x:n}))},log:function(n){return"string"!=typeof n&&(n=JSON.stringify(n,!1,"  ")),e("log",{txt:n})},reset:function(){return e("reset")},selected:function(n){return e("selected",{segs:n})},chainStart:function(n){return e("chain_start",{seg:n})},chainRemoveHead:function(n,s){return e("chain_rem_head",{index:n,pt:s})},chainRemoveTail:function(n,s){return e("chain_rem_tail",{index:n,pt:s})},chainNew:function(n,s){return e("chain_new",{pt1:n,pt2:s})},chainMatch:function(n){return e("chain_match",{index:n})},chainClose:function(n){return e("chain_close",{index:n})},chainAddHead:function(n,s){return e("chain_add_head",{index:n,pt:s})},chainAddTail:function(n,s){return e("chain_add_tail",{index:n,pt:s})},chainConnect:function(n,s){return e("chain_con",{index1:n,index2:s})},chainReverse:function(n){return e("chain_rev",{index:n})},chainJoin:function(n,s){return e("chain_join",{index1:n,index2:s})},done:function(){return e("done")}}}},{}],59:[function(c,tt,V){tt.exports=function(t){"number"!=typeof t&&(t=1e-10);var l={epsilon:function(o){return"number"==typeof o&&(t=o),t},pointAboveOrOnLine:function(o,e,n){var s=e[0],a=e[1];return(n[0]-s)*(o[1]-a)-(n[1]-a)*(o[0]-s)>=-t},pointBetween:function(o,e,n){var a=n[0]-e[0],r=n[1]-e[1],d=(o[0]-e[0])*a+(o[1]-e[1])*r;return!(d<t||d-(a*a+r*r)>-t)},pointsSameX:function(o,e){return Math.abs(o[0]-e[0])<t},pointsSameY:function(o,e){return Math.abs(o[1]-e[1])<t},pointsSame:function(o,e){return l.pointsSameX(o,e)&&l.pointsSameY(o,e)},pointsCompare:function(o,e){return l.pointsSameX(o,e)?l.pointsSameY(o,e)?0:o[1]<e[1]?-1:1:o[0]<e[0]?-1:1},pointsCollinear:function(o,e,n){return Math.abs((o[0]-e[0])*(e[1]-n[1])-(e[0]-n[0])*(o[1]-e[1]))<t},linesIntersect:function(o,e,n,s){var a=e[0]-o[0],i=e[1]-o[1],r=s[0]-n[0],d=s[1]-n[1],f=a*d-i*r;if(Math.abs(f)<t)return!1;var h=o[0]-n[0],p=o[1]-n[1],T=(r*p-d*h)/f,w=(a*p-i*h)/f,x={alongA:0,alongB:0,pt:[o[0]+T*a,o[1]+T*i]};return x.alongA=T<=-t?-2:T<t?-1:T-1<=-t?0:T-1<t?1:2,x.alongB=w<=-t?-2:w<t?-1:w-1<=-t?0:w-1<t?1:2,x},pointInsideRegion:function(o,e){for(var n=o[0],s=o[1],a=e[e.length-1][0],i=e[e.length-1][1],r=!1,d=0;d<e.length;d++){var f=e[d][0],h=e[d][1];h-s>t!=i-s>t&&(a-f)*(s-h)/(i-h)+f-n>t&&(r=!r),a=f,i=h}return r}};return l}},{}],60:[function(c,tt,V){tt.exports={toPolygon:function(l,o){function e(a){if(a.length<=0)return l.segments({inverted:!1,regions:[]});function i(f){var h=f.slice(0,f.length-1);return l.segments({inverted:!1,regions:[h]})}for(var r=i(a[0]),d=1;d<a.length;d++)r=l.selectDifference(l.combine(r,i(a[d])));return r}if("Polygon"===o.type)return l.polygon(e(o.coordinates));if("MultiPolygon"===o.type){for(var n=l.segments({inverted:!1,regions:[]}),s=0;s<o.coordinates.length;s++)n=l.selectUnion(l.combine(n,e(o.coordinates[s])));return l.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(l,o,e){function n(w,x){return o.pointInsideRegion([.5*(w[0][0]+w[1][0]),.5*(w[0][1]+w[1][1])],x)}function s(w){return{region:w,children:[]}}e=l.polygon(l.segments(e));var a=s(null);function i(w,x){for(var m=0;m<w.children.length;m++)if(n(x,(A=w.children[m]).region))return void i(A,x);var y=s(x);for(m=0;m<w.children.length;m++){var A;n((A=w.children[m]).region,x)&&(y.children.push(A),w.children.splice(m,1),m--)}w.children.push(y)}for(var r=0;r<e.regions.length;r++){var d=e.regions[r];d.length<3||i(a,d)}function f(w,x){for(var m=0,y=w[w.length-1][0],A=w[w.length-1][1],b=[],k=0;k<w.length;k++){var L=w[k][0],g=w[k][1];b.push([L,g]),m+=g*y-L*A,y=L,A=g}return m<0!==x&&b.reverse(),b.push([b[0][0],b[0][1]]),b}var h=[];function p(w){var x=[f(w.region,!1)];h.push(x);for(var m=0;m<w.children.length;m++)x.push(T(w.children[m]))}function T(w){for(var x=0;x<w.children.length;x++)p(w.children[x]);return f(w.region,!0)}for(r=0;r<a.children.length;r++)p(a.children[r]);return h.length<=0?{type:"Polygon",coordinates:[]}:1==h.length?{type:"Polygon",coordinates:h[0]}:{type:"MultiPolygon",coordinates:h}}}},{}],61:[function(c,tt,V){var t=c("./linked-list");tt.exports=function(l,o,e){function n(f,h,p){return{id:e?e.segmentId():-1,start:f,end:h,myFill:{above:p.myFill.above,below:p.myFill.below},otherFill:null}}var s=t.create();function a(f,h){s.insertBefore(f,function(p){return T=f.isStart,x=h,m=p.isStart,A=p.other.pt,(0!==(b=o.pointsCompare(f.pt,y=p.pt))?b:o.pointsSame(x,A)?0:T!==m?T?1:-1:o.pointAboveOrOnLine(x,m?y:A,m?A:y)?1:-1)<0;var T,x,m,y,A,b})}function i(f,h){var T,x,p=(a(x=t.node({isStart:!0,pt:(T=f).start,seg:T,primary:h,other:null,status:null}),T.end),x);return function(T,w,x){var m=t.node({isStart:!1,pt:w.end,seg:w,primary:x,other:T,status:null});T.other=m,a(m,T.pt)}(p,f,h),p}function r(f,h){var T,w,p=n(h,f.seg.end,f.seg);return T=f,w=h,e&&e.segmentChop(T.seg,w),T.other.remove(),T.seg.end=w,T.other.pt=w,a(T.other,T.pt),i(p,f.primary)}function d(f,h){var p=t.create();function T(R){return p.findTransition(function(z){var F,B,H,X,ot,q;return X=(F=R).seg.end,(o.pointsCollinear(H=F.seg.start,ot=(B=z.ev).seg.start,q=B.seg.end)?o.pointsCollinear(X,ot,q)||o.pointAboveOrOnLine(X,ot,q)?1:-1:o.pointAboveOrOnLine(H,ot,q)?1:-1)>0})}function w(R,z){var F=R.seg,B=z.seg,H=F.start,X=F.end,ot=B.start,q=B.end;e&&e.checkIntersection(F,B);var P=o.linesIntersect(H,X,ot,q);if(!1===P){if(!o.pointsCollinear(H,X,ot)||o.pointsSame(H,q)||o.pointsSame(X,ot))return!1;var J=o.pointsSame(H,ot),E=o.pointsSame(X,q);if(J&&E)return z;var N=!J&&o.pointBetween(H,ot,q),Z=!E&&o.pointBetween(X,ot,q);if(J)return Z?r(z,X):r(R,q),z;N&&(E||(Z?r(z,X):r(R,q)),r(z,H))}else 0===P.alongA&&(-1===P.alongB?r(R,ot):0===P.alongB?r(R,P.pt):1===P.alongB&&r(R,q)),0===P.alongB&&(-1===P.alongA?r(z,H):0===P.alongA?r(z,P.pt):1===P.alongA&&r(z,X));return!1}for(var x=[];!s.isEmpty();){var m=s.getHead();if(e&&e.vert(m.pt[0]),m.isStart){let R=function(){if(A){var z=w(m,A);if(z)return z}return!!b&&w(m,b)};e&&e.segmentNew(m.seg,m.primary);var y=T(m),A=y.before?y.before.ev:null,b=y.after?y.after.ev:null;e&&e.tempStatus(m.seg,!!A&&A.seg,!!b&&b.seg);var k,g,L=R();if(L&&(l?(g=null===m.seg.myFill.below||m.seg.myFill.above!==m.seg.myFill.below)&&(L.seg.myFill.above=!L.seg.myFill.above):L.seg.otherFill=m.seg.myFill,e&&e.segmentUpdate(L.seg),m.other.remove(),m.remove()),s.getHead()!==m){e&&e.rewind(m.seg);continue}l?(g=null===m.seg.myFill.below||m.seg.myFill.above!==m.seg.myFill.below,m.seg.myFill.below=b?b.seg.myFill.above:f,m.seg.myFill.above=g?!m.seg.myFill.below:m.seg.myFill.below):null===m.seg.otherFill&&(m.seg.otherFill={above:k=b?m.primary===b.primary?b.seg.otherFill.above:b.seg.myFill.above:m.primary?h:f,below:k}),e&&e.status(m.seg,!!A&&A.seg,!!b&&b.seg),m.other.status=y.insert(t.node({ev:m}))}else{var S=m.status;if(null===S)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(p.exists(S.prev)&&p.exists(S.next)&&w(S.prev.ev,S.next.ev),e&&e.statusRemove(S.ev.seg),S.remove(),!m.primary){var I=m.seg.myFill;m.seg.myFill=m.seg.otherFill,m.seg.otherFill=I}x.push(m.seg)}s.getHead().remove()}return e&&e.done(),x}return l?{addRegion:function(f){for(var h,p,T,w=f[f.length-1],x=0;x<f.length;x++){var m=o.pointsCompare(h=w,w=f[x]);0!==m&&i((p=m<0?h:w,T=m<0?w:h,{id:e?e.segmentId():-1,start:p,end:T,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(f){return d(f,!1)}}:{calculate:function(f,h,p,T){return f.forEach(function(w){i(n(w.start,w.end,w),!0)}),p.forEach(function(w){i(n(w.start,w.end,w),!1)}),d(h,T)}}}},{"./linked-list":62}],62:[function(c,tt,V){tt.exports={create:function(){var t={root:{root:!0,next:null},exists:function(l){return null!==l&&l!==t.root},isEmpty:function(){return null===t.root.next},getHead:function(){return t.root.next},insertBefore:function(l,o){for(var e=t.root,n=t.root.next;null!==n;){if(o(n))return l.prev=n.prev,l.next=n,n.prev.next=l,void(n.prev=l);e=n,n=n.next}e.next=l,l.prev=e,l.next=null},findTransition:function(l){for(var o=t.root,e=t.root.next;null!==e&&!l(e);)o=e,e=e.next;return{before:o===t.root?null:o,after:e,insert:function(n){return n.prev=o,n.next=e,o.next=n,null!==e&&(e.prev=n),n}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}}},{}],63:[function(c,tt,V){tt.exports=function(t,l,o){var e=[],n=[];return t.forEach(function(s){var a=s.start,i=s.end;if(l.pointsSame(a,i))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{o&&o.chainStart(s);for(var r={index:0,matches_head:!1,matches_pt1:!1},d={index:0,matches_head:!1,matches_pt1:!1},f=r,h=0;h<e.length;h++){var p=(y=e[h])[0],T=y[y.length-1];if(l.pointsSame(p,a)){if(v(h,!0,!0))break}else if(l.pointsSame(p,i)){if(v(h,!0,!1))break}else if(l.pointsSame(T,a)){if(v(h,!1,!0))break}else if(l.pointsSame(T,i)&&v(h,!1,!1))break}if(f===r)return e.push([a,i]),void(o&&o.chainNew(a,i));if(f===d){o&&o.chainMatch(r.index);var w=r.index,x=r.matches_pt1?i:a,m=r.matches_head,y=e[w],A=m?y[0]:y[y.length-1],b=m?y[1]:y[y.length-2],k=m?y[y.length-1]:y[0],L=m?y[y.length-2]:y[1];return l.pointsCollinear(b,A,x)&&(m?(o&&o.chainRemoveHead(r.index,x),y.shift()):(o&&o.chainRemoveTail(r.index,x),y.pop()),A=b),l.pointsSame(k,x)?(e.splice(w,1),l.pointsCollinear(L,k,A)&&(m?(o&&o.chainRemoveTail(r.index,A),y.pop()):(o&&o.chainRemoveHead(r.index,A),y.shift())),o&&o.chainClose(r.index),void n.push(y)):void(m?(o&&o.chainAddHead(r.index,x),y.unshift(x)):(o&&o.chainAddTail(r.index,x),y.push(x)))}var g=r.index,S=d.index;o&&o.chainConnect(g,S);var I=e[g].length<e[S].length;r.matches_head?d.matches_head?I?(R(g),z(g,S)):(R(S),z(S,g)):z(S,g):d.matches_head?z(g,S):I?(R(g),z(S,g)):(R(S),z(g,S))}function v(F,B,H){return f.index=F,f.matches_head=B,f.matches_pt1=H,f===r?(f=d,!1):(f=null,!0)}function R(F){o&&o.chainReverse(F),e[F].reverse()}function z(F,B){var H=e[F],X=e[B],ot=H[H.length-1],q=H[H.length-2],P=X[0],J=X[1];l.pointsCollinear(q,ot,P)&&(o&&o.chainRemoveTail(F,ot),H.pop(),ot=q),l.pointsCollinear(ot,P,J)&&(o&&o.chainRemoveHead(B,P),X.shift()),o&&o.chainJoin(F,B),e[F]=H.concat(X),e.splice(B,1)}}),n}},{}],64:[function(c,tt,V){function t(o,e,n){var s=[];return o.forEach(function(a){var i=(a.myFill.above?8:0)+(a.myFill.below?4:0)+(a.otherFill&&a.otherFill.above?2:0)+(a.otherFill&&a.otherFill.below?1:0);0!==e[i]&&s.push({id:n?n.segmentId():-1,start:a.start,end:a.end,myFill:{above:1===e[i],below:2===e[i]},otherFill:null})}),n&&n.selected(s),s}tt.exports={union:function(o,e){return t(o,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],e)},intersect:function(o,e){return t(o,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],e)},difference:function(o,e){return t(o,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],e)},differenceRev:function(o,e){return t(o,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],e)},xor:function(o,e){return t(o,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],e)}}},{}],65:[function(c,tt,V){var t,l,o=tt.exports={};function e(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function s(w){if(t===setTimeout)return setTimeout(w,0);if((t===e||!t)&&setTimeout)return t=setTimeout,setTimeout(w,0);try{return t(w,0)}catch{try{return t.call(null,w,0)}catch{return t.call(this,w,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:e}catch{t=e}try{l="function"==typeof clearTimeout?clearTimeout:n}catch{l=n}}();var a,i=[],r=!1,d=-1;function f(){r&&a&&(r=!1,a.length?i=a.concat(i):d=-1,i.length&&h())}function h(){if(!r){var w=s(f);r=!0;for(var x=i.length;x;){for(a=i,i=[];++d<x;)a&&a[d].run();d=-1,x=i.length}a=null,r=!1,function(m){if(l===clearTimeout)return clearTimeout(m);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(m);try{l(m)}catch{try{return l.call(null,m)}catch{return l.call(this,m)}}}(w)}}function p(w,x){this.fun=w,this.array=x}function T(){}o.nextTick=function(w){var x=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)x[m-1]=arguments[m];i.push(new p(w,x)),1!==i.length||r||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=T,o.addListener=T,o.once=T,o.off=T,o.removeListener=T,o.removeAllListeners=T,o.emit=T,o.prependListener=T,o.prependOnceListener=T,o.listeners=function(w){return[]},o.binding=function(w){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(w){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],66:[function(c,tt,V){(function(t,l){(function(){var o=c("process/browser.js").nextTick,e=Function.prototype.apply,n=Array.prototype.slice,s={},a=0;function i(r,d){this._id=r,this._clearFn=d}V.setTimeout=function(){return new i(e.call(setTimeout,window,arguments),clearTimeout)},V.setInterval=function(){return new i(e.call(setInterval,window,arguments),clearInterval)},V.clearTimeout=V.clearInterval=function(r){r.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},V.enroll=function(r,d){clearTimeout(r._idleTimeoutId),r._idleTimeout=d},V.unenroll=function(r){clearTimeout(r._idleTimeoutId),r._idleTimeout=-1},V._unrefActive=V.active=function(r){clearTimeout(r._idleTimeoutId);var d=r._idleTimeout;d>=0&&(r._idleTimeoutId=setTimeout(function(){r._onTimeout&&r._onTimeout()},d))},V.setImmediate="function"==typeof t?t:function(r){var d=a++,f=!(arguments.length<2)&&n.call(arguments,1);return s[d]=!0,o(function(){s[d]&&(f?r.apply(null,f):r.call(null),V.clearImmediate(d))}),d},V.clearImmediate="function"==typeof l?l:function(r){delete s[r]}}).call(this)}).call(this,c("timers").setImmediate,c("timers").clearImmediate)},{"process/browser.js":65,timers:66}],67:[function(c,tt,V){!function(t){var l=/^\s+/,o=/\s+$/,e=0,n=t.round,s=t.min,a=t.max,i=t.random;function r(M,j){if(j=j||{},(M=M||"")instanceof r)return M;if(!(this instanceof r))return new r(M,j);var G,kt,Et,K,$,Q,ut,ct,gt,vt,C=(K={r:0,g:0,b:0},$=1,Q=null,ut=null,ct=null,gt=!1,vt=!1,"string"==typeof(G=M)&&(G=function(It){It=It.replace(l,"").replace(o,"").toLowerCase();var Lt,lt=!1;if(R[It])It=R[It],lt=!0;else if("transparent"==It)return{r:0,g:0,b:0,a:0,format:"name"};return(Lt=U.rgb.exec(It))?{r:Lt[1],g:Lt[2],b:Lt[3]}:(Lt=U.rgba.exec(It))?{r:Lt[1],g:Lt[2],b:Lt[3],a:Lt[4]}:(Lt=U.hsl.exec(It))?{h:Lt[1],s:Lt[2],l:Lt[3]}:(Lt=U.hsla.exec(It))?{h:Lt[1],s:Lt[2],l:Lt[3],a:Lt[4]}:(Lt=U.hsv.exec(It))?{h:Lt[1],s:Lt[2],v:Lt[3]}:(Lt=U.hsva.exec(It))?{h:Lt[1],s:Lt[2],v:Lt[3],a:Lt[4]}:(Lt=U.hex8.exec(It))?{r:X(Lt[1]),g:X(Lt[2]),b:X(Lt[3]),a:J(Lt[4]),format:lt?"name":"hex8"}:(Lt=U.hex6.exec(It))?{r:X(Lt[1]),g:X(Lt[2]),b:X(Lt[3]),format:lt?"name":"hex"}:(Lt=U.hex4.exec(It))?{r:X(Lt[1]+""+Lt[1]),g:X(Lt[2]+""+Lt[2]),b:X(Lt[3]+""+Lt[3]),a:J(Lt[4]+""+Lt[4]),format:lt?"name":"hex8"}:!!(Lt=U.hex3.exec(It))&&{r:X(Lt[1]+""+Lt[1]),g:X(Lt[2]+""+Lt[2]),b:X(Lt[3]+""+Lt[3]),format:lt?"name":"hex"}}(G)),"object"==typeof G&&(D(G.r)&&D(G.g)&&D(G.b)?(kt=G.g,Et=G.b,K={r:255*B(G.r,255),g:255*B(kt,255),b:255*B(Et,255)},gt=!0,vt="%"===String(G.r).substr(-1)?"prgb":"rgb"):D(G.h)&&D(G.s)&&D(G.v)?(Q=q(G.s),ut=q(G.v),K=function(It,Lt,lt){It=6*B(It,360),Lt=B(Lt,100),lt=B(lt,100);var at=t.floor(It),dt=It-at,mt=lt*(1-Lt),St=lt*(1-dt*Lt),bt=lt*(1-(1-dt)*Lt),wt=at%6;return{r:255*[lt,St,mt,mt,bt,lt][wt],g:255*[bt,lt,lt,St,mt,mt][wt],b:255*[mt,mt,bt,lt,lt,St][wt]}}(G.h,Q,ut),gt=!0,vt="hsv"):D(G.h)&&D(G.s)&&D(G.l)&&(Q=q(G.s),ct=q(G.l),K=function(It,Lt,lt){var at,dt,mt;function St(Ot,Nt,Dt){return Dt<0&&(Dt+=1),Dt>1&&(Dt-=1),Dt<1/6?Ot+6*(Nt-Ot)*Dt:Dt<.5?Nt:Dt<2/3?Ot+(Nt-Ot)*(2/3-Dt)*6:Ot}if(It=B(It,360),Lt=B(Lt,100),lt=B(lt,100),0===Lt)at=dt=mt=lt;else{var bt=lt<.5?lt*(1+Lt):lt+Lt-lt*Lt,wt=2*lt-bt;at=St(wt,bt,It+1/3),dt=St(wt,bt,It),mt=St(wt,bt,It-1/3)}return{r:255*at,g:255*dt,b:255*mt}}(G.h,Q,ct),gt=!0,vt="hsl"),G.hasOwnProperty("a")&&($=G.a)),$=F($),{ok:gt,format:G.format||vt,r:s(255,a(K.r,0)),g:s(255,a(K.g,0)),b:s(255,a(K.b,0)),a:$});this._originalInput=M,this._r=C.r,this._g=C.g,this._b=C.b,this._a=C.a,this._roundA=n(100*this._a)/100,this._format=j.format||C.format,this._gradientType=j.gradientType,this._r<1&&(this._r=n(this._r)),this._g<1&&(this._g=n(this._g)),this._b<1&&(this._b=n(this._b)),this._ok=C.ok,this._tc_id=e++}function d(M,j,C){M=B(M,255),j=B(j,255),C=B(C,255);var G,K,$=a(M,j,C),Q=s(M,j,C),ut=($+Q)/2;if($==Q)G=K=0;else{var ct=$-Q;switch(K=ut>.5?ct/(2-$-Q):ct/($+Q),$){case M:G=(j-C)/ct+(j<C?6:0);break;case j:G=(C-M)/ct+2;break;case C:G=(M-j)/ct+4}G/=6}return{h:G,s:K,l:ut}}function f(M,j,C){M=B(M,255),j=B(j,255),C=B(C,255);var G,K,$=a(M,j,C),Q=s(M,j,C),ut=$,ct=$-Q;if(K=0===$?0:ct/$,$==Q)G=0;else{switch($){case M:G=(j-C)/ct+(j<C?6:0);break;case j:G=(C-M)/ct+2;break;case C:G=(M-j)/ct+4}G/=6}return{h:G,s:K,v:ut}}function h(M,j,C,G){var K=[ot(n(M).toString(16)),ot(n(j).toString(16)),ot(n(C).toString(16))];return G&&K[0].charAt(0)==K[0].charAt(1)&&K[1].charAt(0)==K[1].charAt(1)&&K[2].charAt(0)==K[2].charAt(1)?K[0].charAt(0)+K[1].charAt(0)+K[2].charAt(0):K.join("")}function p(M,j,C,G){return[ot(P(G)),ot(n(M).toString(16)),ot(n(j).toString(16)),ot(n(C).toString(16))].join("")}function T(M,j){j=0===j?0:j||10;var C=r(M).toHsl();return C.s-=j/100,C.s=H(C.s),r(C)}function w(M,j){j=0===j?0:j||10;var C=r(M).toHsl();return C.s+=j/100,C.s=H(C.s),r(C)}function x(M){return r(M).desaturate(100)}function m(M,j){j=0===j?0:j||10;var C=r(M).toHsl();return C.l+=j/100,C.l=H(C.l),r(C)}function y(M,j){j=0===j?0:j||10;var C=r(M).toRgb();return C.r=a(0,s(255,C.r-n(-j/100*255))),C.g=a(0,s(255,C.g-n(-j/100*255))),C.b=a(0,s(255,C.b-n(-j/100*255))),r(C)}function A(M,j){j=0===j?0:j||10;var C=r(M).toHsl();return C.l-=j/100,C.l=H(C.l),r(C)}function b(M,j){var C=r(M).toHsl(),G=(C.h+j)%360;return C.h=G<0?360+G:G,r(C)}function k(M){var j=r(M).toHsl();return j.h=(j.h+180)%360,r(j)}function L(M){var j=r(M).toHsl(),C=j.h;return[r(M),r({h:(C+120)%360,s:j.s,l:j.l}),r({h:(C+240)%360,s:j.s,l:j.l})]}function g(M){var j=r(M).toHsl(),C=j.h;return[r(M),r({h:(C+90)%360,s:j.s,l:j.l}),r({h:(C+180)%360,s:j.s,l:j.l}),r({h:(C+270)%360,s:j.s,l:j.l})]}function S(M){var j=r(M).toHsl(),C=j.h;return[r(M),r({h:(C+72)%360,s:j.s,l:j.l}),r({h:(C+216)%360,s:j.s,l:j.l})]}function I(M,j,C){j=j||6,C=C||30;var G=r(M).toHsl(),K=360/C,$=[r(M)];for(G.h=(G.h-(K*j>>1)+720)%360;--j;)G.h=(G.h+K)%360,$.push(r(G));return $}function v(M,j){j=j||6;for(var C=r(M).toHsv(),G=C.h,K=C.s,$=C.v,Q=[],ut=1/j;j--;)Q.push(r({h:G,s:K,v:$})),$=($+ut)%1;return Q}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var M=this.toRgb();return(299*M.r+587*M.g+114*M.b)/1e3},getLuminance:function(){var M,j,C,G=this.toRgb();return j=G.g/255,C=G.b/255,.2126*((M=G.r/255)<=.03928?M/12.92:t.pow((M+.055)/1.055,2.4))+.7152*(j<=.03928?j/12.92:t.pow((j+.055)/1.055,2.4))+.0722*(C<=.03928?C/12.92:t.pow((C+.055)/1.055,2.4))},setAlpha:function(M){return this._a=F(M),this._roundA=n(100*this._a)/100,this},toHsv:function(){var M=f(this._r,this._g,this._b);return{h:360*M.h,s:M.s,v:M.v,a:this._a}},toHsvString:function(){var M=f(this._r,this._g,this._b),j=n(360*M.h),C=n(100*M.s),G=n(100*M.v);return 1==this._a?"hsv("+j+", "+C+"%, "+G+"%)":"hsva("+j+", "+C+"%, "+G+"%, "+this._roundA+")"},toHsl:function(){var M=d(this._r,this._g,this._b);return{h:360*M.h,s:M.s,l:M.l,a:this._a}},toHslString:function(){var M=d(this._r,this._g,this._b),j=n(360*M.h),C=n(100*M.s),G=n(100*M.l);return 1==this._a?"hsl("+j+", "+C+"%, "+G+"%)":"hsla("+j+", "+C+"%, "+G+"%, "+this._roundA+")"},toHex:function(M){return h(this._r,this._g,this._b,M)},toHexString:function(M){return"#"+this.toHex(M)},toHex8:function(M){return C=this._g,G=this._b,K=this._a,$=M,Q=[ot(n(this._r).toString(16)),ot(n(C).toString(16)),ot(n(G).toString(16)),ot(P(K))],$&&Q[0].charAt(0)==Q[0].charAt(1)&&Q[1].charAt(0)==Q[1].charAt(1)&&Q[2].charAt(0)==Q[2].charAt(1)&&Q[3].charAt(0)==Q[3].charAt(1)?Q[0].charAt(0)+Q[1].charAt(0)+Q[2].charAt(0)+Q[3].charAt(0):Q.join("");var C,G,K,$,Q},toHex8String:function(M){return"#"+this.toHex8(M)},toRgb:function(){return{r:n(this._r),g:n(this._g),b:n(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+n(this._r)+", "+n(this._g)+", "+n(this._b)+")":"rgba("+n(this._r)+", "+n(this._g)+", "+n(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:n(100*B(this._r,255))+"%",g:n(100*B(this._g,255))+"%",b:n(100*B(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+n(100*B(this._r,255))+"%, "+n(100*B(this._g,255))+"%, "+n(100*B(this._b,255))+"%)":"rgba("+n(100*B(this._r,255))+"%, "+n(100*B(this._g,255))+"%, "+n(100*B(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(z[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(M){var j="#"+p(this._r,this._g,this._b,this._a),C=j,G=this._gradientType?"GradientType = 1, ":"";if(M){var K=r(M);C="#"+p(K._r,K._g,K._b,K._a)}return"progid:DXImageTransform.Microsoft.gradient("+G+"startColorstr="+j+",endColorstr="+C+")"},toString:function(M){var j=!!M;M=M||this._format;var C=!1;return j||!(this._a<1&&this._a>=0)||"hex"!==M&&"hex6"!==M&&"hex3"!==M&&"hex4"!==M&&"hex8"!==M&&"name"!==M?("rgb"===M&&(C=this.toRgbString()),"prgb"===M&&(C=this.toPercentageRgbString()),"hex"!==M&&"hex6"!==M||(C=this.toHexString()),"hex3"===M&&(C=this.toHexString(!0)),"hex4"===M&&(C=this.toHex8String(!0)),"hex8"===M&&(C=this.toHex8String()),"name"===M&&(C=this.toName()),"hsl"===M&&(C=this.toHslString()),"hsv"===M&&(C=this.toHsvString()),C||this.toHexString()):"name"===M&&0===this._a?this.toName():this.toRgbString()},clone:function(){return r(this.toString())},_applyModification:function(M,j){var C=M.apply(null,[this].concat([].slice.call(j)));return this._r=C._r,this._g=C._g,this._b=C._b,this.setAlpha(C._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(A,arguments)},desaturate:function(){return this._applyModification(T,arguments)},saturate:function(){return this._applyModification(w,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(M,j){return M.apply(null,[this].concat([].slice.call(j)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(v,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(L,arguments)},tetrad:function(){return this._applyCombination(g,arguments)}},r.fromRatio=function(M,j){if("object"==typeof M){var C={};for(var G in M)M.hasOwnProperty(G)&&(C[G]="a"===G?M[G]:q(M[G]));M=C}return r(M,j)},r.equals=function(M,j){return!(!M||!j)&&r(M).toRgbString()==r(j).toRgbString()},r.random=function(){return r.fromRatio({r:i(),g:i(),b:i()})},r.mix=function(M,j,C){C=0===C?0:C||50;var G=r(M).toRgb(),K=r(j).toRgb(),$=C/100;return r({r:(K.r-G.r)*$+G.r,g:(K.g-G.g)*$+G.g,b:(K.b-G.b)*$+G.b,a:(K.a-G.a)*$+G.a})},r.readability=function(M,j){var C=r(M),G=r(j);return(t.max(C.getLuminance(),G.getLuminance())+.05)/(t.min(C.getLuminance(),G.getLuminance())+.05)},r.isReadable=function(M,j,C){var G,K,Q,ut,ct,$=r.readability(M,j);switch(K=!1,(Q=C,"AA"!==(ut=((Q=Q||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==ut&&(ut="AA"),"small"!==(ct=(Q.size||"small").toLowerCase())&&"large"!==ct&&(ct="small"),G={level:ut,size:ct}).level+G.size){case"AAsmall":case"AAAlarge":K=$>=4.5;break;case"AAlarge":K=$>=3;break;case"AAAsmall":K=$>=7}return K},r.mostReadable=function(M,j,C){var G,K,$,Q,ut=null,ct=0;K=(C=C||{}).includeFallbackColors,$=C.level,Q=C.size;for(var gt=0;gt<j.length;gt++)(G=r.readability(M,j[gt]))>ct&&(ct=G,ut=r(j[gt]));return r.isReadable(M,ut,{level:$,size:Q})||!K?ut:(C.includeFallbackColors=!1,r.mostReadable(M,["#fff","#000"],C))};var R=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=r.hexNames=function(M){var j={};for(var C in M)M.hasOwnProperty(C)&&(j[M[C]]=C);return j}(R);function F(M){return M=parseFloat(M),(isNaN(M)||M<0||M>1)&&(M=1),M}function B(M,j){var G;"string"==typeof(G=M)&&-1!=G.indexOf(".")&&1===parseFloat(G)&&(M="100%");var C=function(G){return"string"==typeof G&&-1!=G.indexOf("%")}(M);return M=s(j,a(0,parseFloat(M))),C&&(M=parseInt(M*j,10)/100),t.abs(M-j)<1e-6?1:M%j/parseFloat(j)}function H(M){return s(1,a(0,M))}function X(M){return parseInt(M,16)}function ot(M){return 1==M.length?"0"+M:""+M}function q(M){return M<=1&&(M=100*M+"%"),M}function P(M){return t.round(255*parseFloat(M)).toString(16)}function J(M){return X(M)/255}var E,N,Z,U=(N="[\\s|\\(]+("+(E="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+E+")[,|\\s]+("+E+")\\s*\\)?",Z="[\\s|\\(]+("+E+")[,|\\s]+("+E+")[,|\\s]+("+E+")[,|\\s]+("+E+")\\s*\\)?",{CSS_UNIT:new RegExp(E),rgb:new RegExp("rgb"+N),rgba:new RegExp("rgba"+Z),hsl:new RegExp("hsl"+N),hsla:new RegExp("hsla"+Z),hsv:new RegExp("hsv"+N),hsva:new RegExp("hsva"+Z),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function D(M){return!!U.CSS_UNIT.exec(M)}void 0!==tt&&tt.exports?tt.exports=r:window.tinycolor=r}(Math)},{}],68:[function(c,tt,V){var t=c("../main"),l=c("object-assign"),o=t.instance();function e(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}l(e.prototype=new t.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(f,h){if("string"==typeof f){var p=f.match(s);return p?p[0]:""}var T=this._validateYear(f),w=f.month(),x=""+this.toChineseMonth(T,w);return h&&x.length<2&&(x="0"+x),this.isIntercalaryMonth(T,w)&&(x+="i"),x},monthNames:function(f){if("string"==typeof f){var h=f.match(a);return h?h[0]:""}var p=this._validateYear(f),T=f.month(),w=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(p,T)-1];return this.isIntercalaryMonth(p,T)&&(w="\u95f0"+w),w},monthNamesShort:function(f){if("string"==typeof f){var h=f.match(i);return h?h[0]:""}var p=this._validateYear(f),T=f.month(),w=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(p,T)-1];return this.isIntercalaryMonth(p,T)&&(w="\u95f0"+w),w},parseMonth:function(f,h){f=this._validateYear(f);var p,T=parseInt(h);if(isNaN(T))"\u95f0"===h[0]&&(p=!0,h=h.substring(1)),"\u6708"===h[h.length-1]&&(h=h.substring(0,h.length-1)),T=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(h);else{var w=h[h.length-1];p="i"===w||"I"===w}return this.toMonthIndex(f,T,p)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(f,h){if(f.year&&(f=f.year()),"number"!=typeof f||f<1888||f>2111)throw h.replace(/\{0\}/,this.local.name);return f},toMonthIndex:function(f,h,p){var T=this.intercalaryMonth(f);if(p&&h!==T||h<1||h>12)throw t.local.invalidMonth.replace(/\{0\}/,this.local.name);return T?!p&&h<=T?h-1:h:h-1},toChineseMonth:function(f,h){f.year&&(h=(f=f.year()).month());var p=this.intercalaryMonth(f);if(h<0||h>(p?12:11))throw t.local.invalidMonth.replace(/\{0\}/,this.local.name);return p?h<p?h+1:h:h+1},intercalaryMonth:function(f){return f=this._validateYear(f),r[f-r[0]]>>13},isIntercalaryMonth:function(f,h){f.year&&(h=(f=f.year()).month());var p=this.intercalaryMonth(f);return!!p&&p===h},leapYear:function(f){return 0!==this.intercalaryMonth(f)},weekOfYear:function(f,h,p){var T,w=this._validateYear(f,t.local.invalidyear),x=d[w-d[0]];(T=o.newDate(x>>9&4095,x>>5&15,31&x)).add(4-(T.dayOfWeek()||7),"d");var b=this.toJD(f,h,p)-T.toJD();return 1+Math.floor(b/7)},monthsInYear:function(f){return this.leapYear(f)?13:12},daysInMonth:function(f,h){f.year&&(h=f.month(),f=f.year()),f=this._validateYear(f);var p=r[f-r[0]];if(h>(p>>13?12:11))throw t.local.invalidMonth.replace(/\{0\}/,this.local.name);return p&1<<12-h?30:29},weekDay:function(f,h,p){return(this.dayOfWeek(f,h,p)||7)<6},toJD:function(f,h,p){var T=this._validate(f,x,p,t.local.invalidDate);f=this._validateYear(T.year()),h=T.month(),p=T.day();var w=this.isIntercalaryMonth(f,h),x=this.toChineseMonth(f,h),m=function(y,A,b,k,L){var g,S,I;if("object"==typeof y)S=y,g=A||{};else{var v;if(!("number"==typeof y&&y>=1888&&y<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof A&&A>=1&&A<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof b&&b>=1&&b<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof k?(v=!1,g=k):(v=!!k,g={}),S={year:y,month:A,day:b,isIntercalary:v}}I=S.day-1;var R,z=r[S.year-r[0]],F=z>>13;R=F&&(S.month>F||S.isIntercalary)?S.month:S.month-1;for(var B=0;B<R;B++)I+=z&1<<12-B?30:29;var H=d[S.year-d[0]],X=new Date(H>>9&4095,(H>>5&15)-1,(31&H)+I);return g.year=X.getFullYear(),g.month=1+X.getMonth(),g.day=X.getDate(),g}(f,x,p,w);return o.toJD(m.year,m.month,m.day)},fromJD:function(f){var h=o.fromJD(f),p=function(w,x,m,y){var A,b;if("object"==typeof w)A=w,b=x||{};else{if(!("number"==typeof w&&w>=1888&&w<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof x&&x>=1&&x<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof m&&m>=1&&m<=31))throw new Error("Solar day outside range 1 - 31");A={year:w,month:x,day:m},b={}}var k=d[A.year-d[0]];b.year=(A.year<<9|A.month<<5|A.day)>=k?A.year:A.year-1,k=d[b.year-d[0]];var g,S=new Date(k>>9&4095,(k>>5&15)-1,31&k),I=new Date(A.year,A.month-1,A.day);g=Math.round((I-S)/864e5);var v,R=r[b.year-r[0]];for(v=0;v<13;v++){var z=R&1<<12-v?30:29;if(g<z)break;g-=z}var F=R>>13;return!F||v<F?(b.isIntercalary=!1,b.month=1+v):v===F?(b.isIntercalary=!0,b.month=v):(b.isIntercalary=!1,b.month=v),b.day=1+g,b}(h.year(),h.month(),h.day()),T=this.toMonthIndex(p.year,p.month,p.isIntercalary);return this.newDate(p.year,T,p.day)},fromString:function(f){var h=f.match(n),p=this._validateYear(+h[1]),x=this.toMonthIndex(p,+h[2],!!h[3]);return this.newDate(p,x,+h[4])},add:function(f,h,p){var T=f.year(),w=f.month(),x=this.isIntercalaryMonth(T,w),m=this.toChineseMonth(T,w),y=Object.getPrototypeOf(e.prototype).add.call(this,f,h,p);if("y"===p){var A=y.year(),b=y.month(),k=this.isIntercalaryMonth(A,m),L=this.toMonthIndex(A,m,!(!x||!k));L!==b&&y.month(L)}return y}});var n=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,s=/^\d?\d[iI]?/m,a=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,i=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;t.calendars.chinese=e;var r=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],d=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},{"../main":82,"object-assign":55}],69:[function(c,tt,V){var t=c("../main");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}c("object-assign")(o.prototype=new t.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return(e=n.year()+(n.year()<0?1:0))%4==3||e%4==-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear||t.regionalOptions[""].invalidYear),13},weekOfYear:function(e,n,s){var a=this.newDate(e,n,s);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var s=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(13===s.month()&&this.leapYear(s.year())?1:0)},weekDay:function(e,n,s){return(this.dayOfWeek(e,n,s)||7)<6},toJD:function(e,n,s){var a=this._validate(e,n,s,t.local.invalidDate);return(e=a.year())<0&&e++,a.day()+30*(a.month()-1)+365*(e-1)+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var n=Math.floor(e)+.5-this.jdEpoch,s=Math.floor((n-Math.floor((n+366)/1461))/365)+1;s<=0&&s--,n=Math.floor(e)+.5-this.newDate(s,1,1).toJD();var a=Math.floor(n/30)+1;return this.newDate(s,a,n-30*(a-1)+1)}}),t.calendars.coptic=o},{"../main":82,"object-assign":55}],70:[function(c,tt,V){var t=c("../main");function o(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}c("object-assign")(o.prototype=new t.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(n){return this._validate(n,this.minMonth,this.minDay,t.local.invalidYear),!1},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,t.local.invalidYear),13},daysInYear:function(n){return this._validate(n,this.minMonth,this.minDay,t.local.invalidYear),400},weekOfYear:function(n,s,a){var i=this.newDate(n,s,a);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/8)+1},daysInMonth:function(n,s){var a=this._validate(n,s,this.minDay,t.local.invalidMonth);return this.daysPerMonth[a.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(n,s,a){return(this._validate(n,s,a,t.local.invalidDate).day()+1)%8},weekDay:function(n,s,a){var i=this.dayOfWeek(n,s,a);return i>=2&&i<=6},extraInfo:function(n,s,a){var i=this._validate(n,s,a,t.local.invalidDate);return{century:e[Math.floor((i.year()-1)/100)+1]||""}},toJD:function(n,s,a){var i=this._validate(n,s,a,t.local.invalidDate);return n=i.year()+(i.year()<0?1:0),s=i.month(),(a=i.day())+(s>1?16:0)+(s>2?32*(s-2):0)+400*(n-1)+this.jdEpoch-1},fromJD:function(n){n=Math.floor(n+.5)-Math.floor(this.jdEpoch)-1;var s=Math.floor(n/400)+1;n-=400*(s-1),n+=n>15?16:0;var a=Math.floor(n/32)+1;return this.newDate(s<=0?s-1:s,a,n-32*(a-1)+1)}});var e={20:"Fruitbat",21:"Anchovy"};t.calendars.discworld=o},{"../main":82,"object-assign":55}],71:[function(c,tt,V){var t=c("../main");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}c("object-assign")(o.prototype=new t.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return(e=n.year()+(n.year()<0?1:0))%4==3||e%4==-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear||t.regionalOptions[""].invalidYear),13},weekOfYear:function(e,n,s){var a=this.newDate(e,n,s);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var s=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(13===s.month()&&this.leapYear(s.year())?1:0)},weekDay:function(e,n,s){return(this.dayOfWeek(e,n,s)||7)<6},toJD:function(e,n,s){var a=this._validate(e,n,s,t.local.invalidDate);return(e=a.year())<0&&e++,a.day()+30*(a.month()-1)+365*(e-1)+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var n=Math.floor(e)+.5-this.jdEpoch,s=Math.floor((n-Math.floor((n+366)/1461))/365)+1;s<=0&&s--,n=Math.floor(e)+.5-this.newDate(s,1,1).toJD();var a=Math.floor(n/30)+1;return this.newDate(s,a,n-30*(a-1)+1)}}),t.calendars.ethiopian=o},{"../main":82,"object-assign":55}],72:[function(c,tt,V){var t=c("../main");function o(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}function e(n,s){return n-s*Math.floor(n/s)}c("object-assign")(o.prototype=new t.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var s=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return this._leapYear(s.year())},_leapYear:function(n){return e(7*(n=n<0?n+1:n)+1,19)<7},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,t.local.invalidYear),this._leapYear(n.year?n.year():n)?13:12},weekOfYear:function(n,s,a){var i=this.newDate(n,s,a);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(n){return n=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear).year(),this.toJD(-1===n?1:n+1,7,1)-this.toJD(n,7,1)},daysInMonth:function(n,s){return n.year&&(s=n.month(),n=n.year()),this._validate(n,s,this.minDay,t.local.invalidMonth),12===s&&this.leapYear(n)||8===s&&5===e(this.daysInYear(n),10)?30:9===s&&3===e(this.daysInYear(n),10)?29:this.daysPerMonth[s-1]},weekDay:function(n,s,a){return 6!==this.dayOfWeek(n,s,a)},extraInfo:function(n,s,a){var i=this._validate(n,s,a,t.local.invalidDate);return{yearType:(this.leapYear(i)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(i)%10-3]}},toJD:function(n,s,a){var i=this._validate(n,s,a,t.local.invalidDate);n=i.year(),s=i.month(),a=i.day();var r=n<=0?n+1:n,d=this.jdEpoch+this._delay1(r)+this._delay2(r)+a+1;if(s<7){for(var f=7;f<=this.monthsInYear(n);f++)d+=this.daysInMonth(n,f);for(f=1;f<s;f++)d+=this.daysInMonth(n,f)}else for(f=7;f<s;f++)d+=this.daysInMonth(n,f);return d},_delay1:function(n){var s=Math.floor((235*n-234)/19),i=29*s+Math.floor((12084+13753*s)/25920);return e(3*(i+1),7)<3&&i++,i},_delay2:function(n){var s=this._delay1(n-1),a=this._delay1(n);return this._delay1(n+1)-a==356?2:a-s==382?1:0},fromJD:function(n){n=Math.floor(n)+.5;for(var s=Math.floor(98496*(n-this.jdEpoch)/35975351)-1;n>=this.toJD(-1===s?1:s+1,7,1);)s++;for(var a=n<this.toJD(s,1,1)?7:1;n>this.toJD(s,a,this.daysInMonth(s,a));)a++;var i=n-this.toJD(s,a,1)+1;return this.newDate(s,a,i)}}),t.calendars.hebrew=o},{"../main":82,"object-assign":55}],73:[function(c,tt,V){var t=c("../main");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}c("object-assign")(o.prototype=new t.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){return(11*this._validate(e,this.minMonth,this.minDay,t.local.invalidYear).year()+14)%30<11},weekOfYear:function(e,n,s){var a=this.newDate(e,n,s);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(e){return this.leapYear(e)?355:354},daysInMonth:function(e,n){var s=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(12===s.month()&&this.leapYear(s.year())?1:0)},weekDay:function(e,n,s){return 5!==this.dayOfWeek(e,n,s)},toJD:function(e,n,s){var a=this._validate(e,n,s,t.local.invalidDate);return e=a.year(),n=a.month(),e=e<=0?e+1:e,(s=a.day())+Math.ceil(29.5*(n-1))+354*(e-1)+Math.floor((3+11*e)/30)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var n=Math.floor((30*(e-this.jdEpoch)+10646)/10631);n=n<=0?n-1:n;var s=Math.min(12,Math.ceil((e-29-this.toJD(n,1,1))/29.5)+1),a=e-this.toJD(n,s,1)+1;return this.newDate(n,s,a)}}),t.calendars.islamic=o},{"../main":82,"object-assign":55}],74:[function(c,tt,V){var t=c("../main");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}c("object-assign")(o.prototype=new t.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return(e=n.year()<0?n.year()+1:n.year())%4==0},weekOfYear:function(e,n,s){var a=this.newDate(e,n,s);return a.add(4-(a.dayOfWeek()||7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var s=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(2===s.month()&&this.leapYear(s.year())?1:0)},weekDay:function(e,n,s){return(this.dayOfWeek(e,n,s)||7)<6},toJD:function(e,n,s){var a=this._validate(e,n,s,t.local.invalidDate);return e=a.year(),n=a.month(),s=a.day(),e<0&&e++,n<=2&&(e--,n+=12),Math.floor(365.25*(e+4716))+Math.floor(30.6001*(n+1))+s-1524.5},fromJD:function(e){var n=Math.floor(e+.5)+1524,s=Math.floor((n-122.1)/365.25),a=Math.floor(365.25*s),i=Math.floor((n-a)/30.6001),r=i-Math.floor(i<14?1:13),d=s-Math.floor(r>2?4716:4715),f=n-a-Math.floor(30.6001*i);return d<=0&&d--,this.newDate(d,r,f)}}),t.calendars.julian=o},{"../main":82,"object-assign":55}],75:[function(c,tt,V){var t=c("../main");function o(s){this.local=this.regionalOptions[s||""]||this.regionalOptions[""]}function e(s,a){return s-a*Math.floor(s/a)}function n(s,a){return e(s-1,a)+1}c("object-assign")(o.prototype=new t.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(s){return this._validate(s,this.minMonth,this.minDay,t.local.invalidYear),!1},formatYear:function(s){s=this._validate(s,this.minMonth,this.minDay,t.local.invalidYear).year();var a=Math.floor(s/400);return s%=400,s+=s<0?400:0,a+"."+Math.floor(s/20)+"."+s%20},forYear:function(s){if((s=s.split(".")).length<3)throw"Invalid Mayan year";for(var a=0,i=0;i<s.length;i++){var r=parseInt(s[i],10);if(Math.abs(r)>19||i>0&&r<0)throw"Invalid Mayan year";a=20*a+r}return a},monthsInYear:function(s){return this._validate(s,this.minMonth,this.minDay,t.local.invalidYear),18},weekOfYear:function(s,a,i){return this._validate(s,a,i,t.local.invalidDate),0},daysInYear:function(s){return this._validate(s,this.minMonth,this.minDay,t.local.invalidYear),360},daysInMonth:function(s,a){return this._validate(s,a,this.minDay,t.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(s,a,i){return this._validate(s,a,i,t.local.invalidDate).day()},weekDay:function(s,a,i){return this._validate(s,a,i,t.local.invalidDate),!0},extraInfo:function(s,a,i){var r=this._validate(s,a,i,t.local.invalidDate).toJD(),d=this._toHaab(r),f=this._toTzolkin(r);return{haabMonthName:this.local.haabMonths[d[0]-1],haabMonth:d[0],haabDay:d[1],tzolkinDayName:this.local.tzolkinMonths[f[0]-1],tzolkinDay:f[0],tzolkinTrecena:f[1]}},_toHaab:function(s){var a=e(8+(s-=this.jdEpoch)+340,365);return[Math.floor(a/20)+1,e(a,20)]},_toTzolkin:function(s){return[n(20+(s-=this.jdEpoch),20),n(s+4,13)]},toJD:function(s,a,i){var r=this._validate(s,a,i,t.local.invalidDate);return r.day()+20*r.month()+360*r.year()+this.jdEpoch},fromJD:function(s){s=Math.floor(s)+.5-this.jdEpoch;var a=Math.floor(s/360);s%=360,s+=s<0?360:0;var i=Math.floor(s/20);return this.newDate(a,i,s%20)}}),t.calendars.mayan=o},{"../main":82,"object-assign":55}],76:[function(c,tt,V){var t=c("../main"),l=c("object-assign");function o(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar;var e=t.instance("gregorian");l(o.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var s=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear||t.regionalOptions[""].invalidYear);return e.leapYear(s.year()+(s.year()<1?1:0)+1469)},weekOfYear:function(n,s,a){var i=this.newDate(n,s,a);return i.add(1-(i.dayOfWeek()||7),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(n,s){var a=this._validate(n,s,this.minDay,t.local.invalidMonth);return this.daysPerMonth[a.month()-1]+(12===a.month()&&this.leapYear(a.year())?1:0)},weekDay:function(n,s,a){return(this.dayOfWeek(n,s,a)||7)<6},toJD:function(n,s,a){var i=this._validate(n,s,a,t.local.invalidMonth);(n=i.year())<0&&n++;for(var r=i.day(),d=1;d<i.month();d++)r+=this.daysPerMonth[d-1];return r+e.toJD(n+1468,3,13)},fromJD:function(n){n=Math.floor(n+.5);for(var s=Math.floor((n-(this.jdEpoch-1))/366);n>=this.toJD(s+1,1,1);)s++;for(var a=n-Math.floor(this.toJD(s,1,1)+.5)+1,i=1;a>this.daysInMonth(s,i);)a-=this.daysInMonth(s,i),i++;return this.newDate(s,i,a)}}),t.calendars.nanakshahi=o},{"../main":82,"object-assign":55}],77:[function(c,tt,V){var t=c("../main");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}c("object-assign")(o.prototype=new t.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(e){return this.daysInYear(e)!==this.daysPerYear},weekOfYear:function(e,n,s){var a=this.newDate(e,n,s);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(e){if(e=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[e])return this.daysPerYear;for(var n=0,s=this.minMonth;s<=12;s++)n+=this.NEPALI_CALENDAR_DATA[e][s];return n},daysInMonth:function(e,n){return e.year&&(n=e.month(),e=e.year()),this._validate(e,n,this.minDay,t.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[e]?this.daysPerMonth[n-1]:this.NEPALI_CALENDAR_DATA[e][n]},weekDay:function(e,n,s){return 6!==this.dayOfWeek(e,n,s)},toJD:function(e,n,s){var a=this._validate(e,n,s,t.local.invalidDate);e=a.year(),n=a.month(),s=a.day();var i=t.instance(),r=0,d=n,f=e;this._createMissingCalendarData(e);var h=e-(d>9||9===d&&s>=this.NEPALI_CALENDAR_DATA[f][0]?56:57);for(9!==n&&(r=s,d--);9!==d;)d<=0&&(d=12,f--),r+=this.NEPALI_CALENDAR_DATA[f][d],d--;return 9===n?(r+=s-this.NEPALI_CALENDAR_DATA[f][0])<0&&(r+=i.daysInYear(h)):r+=this.NEPALI_CALENDAR_DATA[f][9]-this.NEPALI_CALENDAR_DATA[f][0],i.newDate(h,1,1).add(r,"d").toJD()},fromJD:function(e){var n=t.instance().fromJD(e),s=n.year(),a=n.dayOfYear(),i=s+56;this._createMissingCalendarData(i);for(var r=9,f=this.NEPALI_CALENDAR_DATA[i][r]-this.NEPALI_CALENDAR_DATA[i][0]+1;a>f;)++r>12&&(r=1,i++),f+=this.NEPALI_CALENDAR_DATA[i][r];return this.newDate(i,r,this.NEPALI_CALENDAR_DATA[i][r]-(f-a))},_createMissingCalendarData:function(e){var n=this.daysPerMonth.slice(0);n.unshift(17);for(var s=e-1;s<e+2;s++)void 0===this.NEPALI_CALENDAR_DATA[s]&&(this.NEPALI_CALENDAR_DATA[s]=n)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),t.calendars.nepali=o},{"../main":82,"object-assign":55}],78:[function(c,tt,V){var t=c("../main");function o(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}function e(n,s){return n-s*Math.floor(n/s)}c("object-assign")(o.prototype=new t.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(n){var s=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return 682*((s.year()-(s.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(n,s,a){var i=this.newDate(n,s,a);return i.add(-(i.dayOfWeek()+1)%7,"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(n,s){var a=this._validate(n,s,this.minDay,t.local.invalidMonth);return this.daysPerMonth[a.month()-1]+(12===a.month()&&this.leapYear(a.year())?1:0)},weekDay:function(n,s,a){return 5!==this.dayOfWeek(n,s,a)},toJD:function(n,s,a){var i=this._validate(n,s,a,t.local.invalidDate);n=i.year(),s=i.month(),a=i.day();var r=n-(n>=0?474:473),d=474+e(r,2820);return a+(s<=7?31*(s-1):30*(s-1)+6)+Math.floor((682*d-110)/2816)+365*(d-1)+1029983*Math.floor(r/2820)+this.jdEpoch-1},fromJD:function(n){var s=(n=Math.floor(n)+.5)-this.toJD(475,1,1),a=Math.floor(s/1029983),i=e(s,1029983),r=2820;if(1029982!==i){var d=Math.floor(i/366),f=e(i,366);r=Math.floor((2134*d+2816*f+2815)/1028522)+d+1}var h=r+2820*a+474,p=n-this.toJD(h=h<=0?h-1:h,1,1)+1,T=p<=186?Math.ceil(p/31):Math.ceil((p-6)/30),w=n-this.toJD(h,T,1)+1;return this.newDate(h,T,w)}}),t.calendars.persian=o,t.calendars.jalali=o},{"../main":82,"object-assign":55}],79:[function(c,tt,V){var t=c("../main"),l=c("object-assign"),o=t.instance();function e(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}l(e.prototype=new t.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(n){var s=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return n=this._t2gYear(s.year()),o.leapYear(n)},weekOfYear:function(n,s,a){var i=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return n=this._t2gYear(i.year()),o.weekOfYear(n,i.month(),i.day())},daysInMonth:function(n,s){var a=this._validate(n,s,this.minDay,t.local.invalidMonth);return this.daysPerMonth[a.month()-1]+(2===a.month()&&this.leapYear(a.year())?1:0)},weekDay:function(n,s,a){return(this.dayOfWeek(n,s,a)||7)<6},toJD:function(n,s,a){var i=this._validate(n,s,a,t.local.invalidDate);return n=this._t2gYear(i.year()),o.toJD(n,i.month(),i.day())},fromJD:function(n){var s=o.fromJD(n),a=this._g2tYear(s.year());return this.newDate(a,s.month(),s.day())},_t2gYear:function(n){return n+this.yearsOffset+(n>=-this.yearsOffset&&n<=-1?1:0)},_g2tYear:function(n){return n-this.yearsOffset-(n>=1&&n<=this.yearsOffset?1:0)}}),t.calendars.taiwan=e},{"../main":82,"object-assign":55}],80:[function(c,tt,V){var t=c("../main"),l=c("object-assign"),o=t.instance();function e(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}l(e.prototype=new t.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var s=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return n=this._t2gYear(s.year()),o.leapYear(n)},weekOfYear:function(n,s,a){var i=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return n=this._t2gYear(i.year()),o.weekOfYear(n,i.month(),i.day())},daysInMonth:function(n,s){var a=this._validate(n,s,this.minDay,t.local.invalidMonth);return this.daysPerMonth[a.month()-1]+(2===a.month()&&this.leapYear(a.year())?1:0)},weekDay:function(n,s,a){return(this.dayOfWeek(n,s,a)||7)<6},toJD:function(n,s,a){var i=this._validate(n,s,a,t.local.invalidDate);return n=this._t2gYear(i.year()),o.toJD(n,i.month(),i.day())},fromJD:function(n){var s=o.fromJD(n),a=this._g2tYear(s.year());return this.newDate(a,s.month(),s.day())},_t2gYear:function(n){return n-this.yearsOffset-(n>=1&&n<=this.yearsOffset?1:0)},_g2tYear:function(n){return n+this.yearsOffset+(n>=-this.yearsOffset&&n<=-1?1:0)}}),t.calendars.thai=e},{"../main":82,"object-assign":55}],81:[function(c,tt,V){var t=c("../main");function o(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}c("object-assign")(o.prototype=new t.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(n){var s=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return 355===this.daysInYear(s.year())},weekOfYear:function(n,s,a){var i=this.newDate(n,s,a);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(n){for(var s=0,a=1;a<=12;a++)s+=this.daysInMonth(n,a);return s},daysInMonth:function(n,s){for(var a=this._validate(n,s,this.minDay,t.local.invalidMonth).toJD()-24e5+.5,i=0,r=0;r<e.length;r++){if(e[r]>a)return e[i]-e[i-1];i++}return 30},weekDay:function(n,s,a){return 5!==this.dayOfWeek(n,s,a)},toJD:function(n,s,a){var i=this._validate(n,s,a,t.local.invalidDate),r=12*(i.year()-1)+i.month()-15292;return i.day()+e[r-1]-1+24e5-.5},fromJD:function(n){for(var s=n-24e5+.5,a=0,i=0;i<e.length&&!(e[i]>s);i++)a++;var r=a+15292,d=Math.floor((r-1)/12);return this.newDate(d+1,r-12*d,s-e[a-1]+1)},isValid:function(n,s,a){var i=t.baseCalendar.prototype.isValid.apply(this,arguments);return i&&(i=(n=null!=n.year?n.year:n)>=1276&&n<=1500),i},_validate:function(n,s,a,i){var r=t.baseCalendar.prototype._validate.apply(this,arguments);if(r.year<1276||r.year>1500)throw i.replace(/\{0\}/,this.local.name);return r}}),t.calendars.ummalqura=o;var e=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},{"../main":82,"object-assign":55}],82:[function(c,tt,V){var t=c("object-assign");function l(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function o(i,r,d,f){if(this._calendar=i,this._year=r,this._month=d,this._day=f,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(a.local.invalidDate||a.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function e(i,r){return"000000".substring(0,r-(i=""+i).length)+i}function n(){this.shortYearCutoff="+10"}function s(i){this.local=this.regionalOptions[i]||this.regionalOptions[""]}t(l.prototype,{instance:function(i,r){i=(i||"gregorian").toLowerCase();var d=this._localCals[i+"-"+(r=r||"")];if(!d&&this.calendars[i]&&(d=new this.calendars[i](r),this._localCals[i+"-"+r]=d),!d)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,i);return d},newDate:function(i,r,d,f,h){return(f=(null!=i&&i.year?i.calendar():"string"==typeof f?this.instance(f,h):f)||this.instance()).newDate(i,r,d)},substituteDigits:function(i){return function(r){return(r+"").replace(/[0-9]/g,function(d){return i[d]})}},substituteChineseDigits:function(i,r){return function(d){for(var f="",h=0;d>0;){var p=d%10;f=(0===p?"":i[p]+r[h])+f,h++,d=Math.floor(d/10)}return 0===f.indexOf(i[1]+r[1])&&(f=f.substr(1)),f||i[0]}}}),t(o.prototype,{newDate:function(i,r,d){return this._calendar.newDate(i??this,r,d)},year:function(i){return 0===arguments.length?this._year:this.set(i,"y")},month:function(i){return 0===arguments.length?this._month:this.set(i,"m")},day:function(i){return 0===arguments.length?this._day:this.set(i,"d")},date:function(i,r,d){if(!this._calendar.isValid(i,r,d))throw(a.local.invalidDate||a.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=i,this._month=r,this._day=d,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(i,r){return this._calendar.add(this,i,r)},set:function(i,r){return this._calendar.set(this,i,r)},compareTo:function(i){if(this._calendar.name!==i._calendar.name)throw(a.local.differentCalendars||a.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,i._calendar.local.name);var r=this._year!==i._year?this._year-i._year:this._month!==i._month?this.monthOfYear()-i.monthOfYear():this._day-i._day;return 0===r?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(i){return this._calendar.fromJD(i)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(i){return this._calendar.fromJSDate(i)},toString:function(){return(this.year()<0?"-":"")+e(Math.abs(this.year()),4)+"-"+e(this.month(),2)+"-"+e(this.day(),2)}}),t(n.prototype,{_validateLevel:0,newDate:function(i,r,d){return null==i?this.today():(i.year&&(this._validate(i,r,d,a.local.invalidDate||a.regionalOptions[""].invalidDate),d=i.day(),r=i.month(),i=i.year()),new o(this,i,r,d))},today:function(){return this.fromJSDate(new Date)},epoch:function(i){return this._validate(i,this.minMonth,this.minDay,a.local.invalidYear||a.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(i){var r=this._validate(i,this.minMonth,this.minDay,a.local.invalidYear||a.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+e(Math.abs(r.year()),4)},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,a.local.invalidYear||a.regionalOptions[""].invalidYear),12},monthOfYear:function(i,r){var d=this._validate(i,r,this.minDay,a.local.invalidMonth||a.regionalOptions[""].invalidMonth);return(d.month()+this.monthsInYear(d)-this.firstMonth)%this.monthsInYear(d)+this.minMonth},fromMonthOfYear:function(i,r){var d=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(i)+this.minMonth;return this._validate(i,d,this.minDay,a.local.invalidMonth||a.regionalOptions[""].invalidMonth),d},daysInYear:function(i){var r=this._validate(i,this.minMonth,this.minDay,a.local.invalidYear||a.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(i,r,d){var f=this._validate(i,r,d,a.local.invalidDate||a.regionalOptions[""].invalidDate);return f.toJD()-this.newDate(f.year(),this.fromMonthOfYear(f.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(i,r,d){var f=this._validate(i,r,d,a.local.invalidDate||a.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(f))+2)%this.daysInWeek()},extraInfo:function(i,r,d){return this._validate(i,r,d,a.local.invalidDate||a.regionalOptions[""].invalidDate),{}},add:function(i,r,d){return this._validate(i,this.minMonth,this.minDay,a.local.invalidDate||a.regionalOptions[""].invalidDate),this._correctAdd(i,this._add(i,r,d),r,d)},_add:function(i,r,d){if(this._validateLevel++,"d"===d||"w"===d){var f=i.toJD()+r*("w"===d?this.daysInWeek():1),h=i.calendar().fromJD(f);return this._validateLevel--,[h.year(),h.month(),h.day()]}try{var p=i.year()+("y"===d?r:0),T=i.monthOfYear()+("m"===d?r:0);h=i.day(),"y"===d?(i.month()!==this.fromMonthOfYear(p,T)&&(T=this.newDate(p,i.month(),this.minDay).monthOfYear()),T=Math.min(T,this.monthsInYear(p)),h=Math.min(h,this.daysInMonth(p,this.fromMonthOfYear(p,T)))):"m"===d&&(function(x){for(;T<x.minMonth;)p--,T+=x.monthsInYear(p);for(var m=x.monthsInYear(p);T>m-1+x.minMonth;)p++,T-=m,m=x.monthsInYear(p)}(this),h=Math.min(h,this.daysInMonth(p,this.fromMonthOfYear(p,T))));var w=[p,this.fromMonthOfYear(p,T),h];return this._validateLevel--,w}catch(x){throw this._validateLevel--,x}},_correctAdd:function(i,r,d,f){if(!(this.hasYearZero||"y"!==f&&"m"!==f||0!==r[0]&&i.year()>0==r[0]>0)){var h={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[f];r=this._add(i,d*h[0]+(d<0?-1:1)*h[1],h[2])}return i.date(r[0],r[1],r[2])},set:function(i,r,d){this._validate(i,this.minMonth,this.minDay,a.local.invalidDate||a.regionalOptions[""].invalidDate);var f="y"===d?r:i.year(),h="m"===d?r:i.month(),p="d"===d?r:i.day();return"y"!==d&&"m"!==d||(p=Math.min(p,this.daysInMonth(f,h))),i.date(f,h,p)},isValid:function(i,r,d){this._validateLevel++;var f=this.hasYearZero||0!==i;if(f){var h=this.newDate(i,r,this.minDay);f=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(h)&&d>=this.minDay&&d-this.minDay<this.daysInMonth(h)}return this._validateLevel--,f},toJSDate:function(i,r,d){var f=this._validate(i,r,d,a.local.invalidDate||a.regionalOptions[""].invalidDate);return a.instance().fromJD(this.toJD(f)).toJSDate()},fromJSDate:function(i){return this.fromJD(a.instance().fromJSDate(i).toJD())},_validate:function(i,r,d,f){if(i.year){if(0===this._validateLevel&&this.name!==i.calendar().name)throw(a.local.differentCalendars||a.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,i.calendar().local.name);return i}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(i,r,d))throw f.replace(/\{0\}/,this.local.name);var h=this.newDate(i,r,d);return this._validateLevel--,h}catch(p){throw this._validateLevel--,p}}}),t(s.prototype=new n,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var r=this._validate(i,this.minMonth,this.minDay,a.local.invalidYear||a.regionalOptions[""].invalidYear);return(i=r.year()+(r.year()<0?1:0))%4==0&&(i%100!=0||i%400==0)},weekOfYear:function(i,r,d){var f=this.newDate(i,r,d);return f.add(4-(f.dayOfWeek()||7),"d"),Math.floor((f.dayOfYear()-1)/7)+1},daysInMonth:function(i,r){var d=this._validate(i,r,this.minDay,a.local.invalidMonth||a.regionalOptions[""].invalidMonth);return this.daysPerMonth[d.month()-1]+(2===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(i,r,d){return(this.dayOfWeek(i,r,d)||7)<6},toJD:function(i,r,d){var f=this._validate(i,r,d,a.local.invalidDate||a.regionalOptions[""].invalidDate);i=f.year(),r=f.month(),d=f.day(),i<0&&i++,r<3&&(r+=12,i--);var h=Math.floor(i/100),p=2-h+Math.floor(h/4);return Math.floor(365.25*(i+4716))+Math.floor(30.6001*(r+1))+d+p-1524.5},fromJD:function(i){var r=Math.floor(i+.5),d=Math.floor((r-1867216.25)/36524.25),f=1524+(d=r+1+d-Math.floor(d/4)),h=Math.floor((f-122.1)/365.25),p=Math.floor(365.25*h),T=Math.floor((f-p)/30.6001),w=f-p-Math.floor(30.6001*T),x=T-(T>13.5?13:1),m=h-(x>2.5?4716:4715);return m<=0&&m--,this.newDate(m,x,w)},toJSDate:function(i,r,d){var f=this._validate(i,r,d,a.local.invalidDate||a.regionalOptions[""].invalidDate),h=new Date(f.year(),f.month()-1,f.day());return h.setHours(0),h.setMinutes(0),h.setSeconds(0),h.setMilliseconds(0),h.setHours(h.getHours()>12?h.getHours()+2:0),h},fromJSDate:function(i){return this.newDate(i.getFullYear(),i.getMonth()+1,i.getDate())}});var a=tt.exports=new l;a.cdate=o,a.baseCalendar=n,a.calendars.gregorian=s},{"object-assign":55}],83:[function(c,tt,V){var t=c("object-assign"),l=c("./main");t(l.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),l.local=l.regionalOptions[""],t(l.cdate.prototype,{formatDate:function(o,e){return"string"!=typeof o&&(e=o,o=""),this._calendar.formatDate(o||"",this,e)}}),t(l.baseCalendar.prototype,{UNIX_EPOCH:l.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:l.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(o,e,n){if("string"!=typeof o&&(n=e,e=o,o=""),!e)return"";if(e.calendar()!==this)throw l.local.invalidFormat||l.regionalOptions[""].invalidFormat;o=o||this.local.dateFormat;for(var a,i,r,d=(n=n||{}).dayNamesShort||this.local.dayNamesShort,f=n.dayNames||this.local.dayNames,h=n.monthNumbers||this.local.monthNumbers,p=n.monthNamesShort||this.local.monthNamesShort,T=n.monthNames||this.local.monthNames,w=function(I,v){for(var R=1;S+R<o.length&&o.charAt(S+R)===I;)R++;return S+=R-1,Math.floor(R/(v||1))>1},x=function(I,v,R,z){var F=""+v;if(w(I,z))for(;F.length<R;)F="0"+F;return F},m=this,A=function(I,v){return v?"function"==typeof T?T.call(m,I):T[I.month()-m.minMonth]:"function"==typeof p?p.call(m,I):p[I.month()-m.minMonth]},b=this.local.digits,k=function(I){return n.localNumbers&&b?b(I):I},L="",g=!1,S=0;S<o.length;S++)if(g)"'"!==o.charAt(S)||w("'")?L+=o.charAt(S):g=!1;else switch(o.charAt(S)){case"d":L+=k(x("d",e.day(),2));break;case"D":L+=(a=e.dayOfWeek(),i=d,r=f,w("D")?r[a]:i[a]);break;case"o":L+=x("o",e.dayOfYear(),3);break;case"w":L+=x("w",e.weekOfYear(),2);break;case"m":L+=(I=e,"function"==typeof h?h.call(m,I,w("m")):k(x("m",I.month(),2)));break;case"M":L+=A(e,w("M"));break;case"y":L+=w("y",2)?e.year():(e.year()%100<10?"0":"")+e.year()%100;break;case"Y":w("Y",2),L+=e.formatYear();break;case"J":L+=e.toJD();break;case"@":L+=(e.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":L+=(e.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":w("'")?L+="'":g=!0;break;default:L+=o.charAt(S)}var I;return L},parseDate:function(o,e,n){if(null==e)throw l.local.invalidArguments||l.regionalOptions[""].invalidArguments;if(""===(e="object"==typeof e?e.toString():e+""))return null;o=o||this.local.dateFormat;var s=(n=n||{}).shortYearCutoff||this.shortYearCutoff;s="string"!=typeof s?s:this.today().year()%100+parseInt(s,10);for(var a=n.dayNamesShort||this.local.dayNamesShort,i=n.dayNames||this.local.dayNames,r=n.parseMonth||this.local.parseMonth,d=n.monthNumbers||this.local.monthNumbers,f=n.monthNamesShort||this.local.monthNamesShort,h=n.monthNames||this.local.monthNames,p=-1,T=-1,w=-1,x=-1,m=-1,y=!1,A=!1,b=function(H,X){for(var ot=1;z+ot<o.length&&o.charAt(z+ot)===H;)ot++;return z+=ot-1,Math.floor(ot/(X||1))>1},k=function(H,X){var ot=b(H,X),q=[2,3,ot?4:2,ot?4:2,10,11,20]["oyYJ@!".indexOf(H)+1],P=new RegExp("^-?\\d{1,"+q+"}"),J=e.substring(R).match(P);if(!J)throw(l.local.missingNumberAt||l.regionalOptions[""].missingNumberAt).replace(/\{0\}/,R);return R+=J[0].length,parseInt(J[0],10)},L=this,g=function(){if("function"==typeof d){b("m");var H=d.call(L,e.substring(R));return R+=H.length,H}return k("m")},S=function(H,X,ot,q){for(var P=b(H,q)?ot:X,J=0;J<P.length;J++)if(e.substr(R,P[J].length).toLowerCase()===P[J].toLowerCase())return R+=P[J].length,J+L.minMonth;throw(l.local.unknownNameAt||l.regionalOptions[""].unknownNameAt).replace(/\{0\}/,R)},I=function(){if("function"==typeof h){var H=b("M")?h.call(L,e.substring(R)):f.call(L,e.substring(R));return R+=H.length,H}return S("M",f,h)},v=function(){if(e.charAt(R)!==o.charAt(z))throw(l.local.unexpectedLiteralAt||l.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,R);R++},R=0,z=0;z<o.length;z++)if(A)"'"!==o.charAt(z)||b("'")?v():A=!1;else switch(o.charAt(z)){case"d":x=k("d");break;case"D":S("D",a,i);break;case"o":m=k("o");break;case"w":k("w");break;case"m":w=g();break;case"M":w=I();break;case"y":var F=z;y=!b("y",2),z=F,T=k("y",2);break;case"Y":T=k("Y",2);break;case"J":p=k("J")+.5,"."===e.charAt(R)&&(R++,k("J"));break;case"@":p=k("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":p=k("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":R=e.length;break;case"'":b("'")?v():A=!0;break;default:v()}if(R<e.length)throw l.local.unexpectedText||l.regionalOptions[""].unexpectedText;if(-1===T?T=this.today().year():T<100&&y&&(T+=-1===s?1900:this.today().year()-this.today().year()%100-(T<=s?0:100)),"string"==typeof w&&(w=r.call(this,T,w)),m>-1){x=m;for(var B=this.daysInMonth(T,w=1);x>B;B=this.daysInMonth(T,w))w++,x-=B}return p>-1?this.fromJD(p):this.newDate(T,w,x)},determineDate:function(o,e,n,s,a){n&&"object"!=typeof n&&(a=s,s=n,n=null),"string"!=typeof s&&(a=s,s="");var i=this;return e=e?e.newDate():null,null==o?e:"string"==typeof o?function(r){try{return i.parseDate(s,r,a)}catch{}for(var d=((r=r.toLowerCase()).match(/^c/)&&n?n.newDate():null)||i.today(),f=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,h=f.exec(r);h;)d.add(parseInt(h[1],10),h[2]||"d"),h=f.exec(r);return d}(o):"number"==typeof o?isNaN(o)||o===1/0||o===-1/0?e:i.today().add(o,"d"):i.newDate(o)}})},{"./main":82,"object-assign":55}],84:[function(c,tt,V){"use strict";tt.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],85:[function(c,tt,V){"use strict";var t=c("./arrow_paths"),l=c("../../plots/font_attributes"),o=c("../../plots/cartesian/constants"),e=c("../../plot_api/plot_template").templatedArray;c("../../constants/axis_placeable_objects"),tt.exports=e("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:l({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:t.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:t.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:l({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/font_attributes":310,"./arrow_paths":84}],86:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../plots/cartesian/axes"),o=c("./draw").draw;function e(s){t.filterVisible(s._fullLayout.annotations).forEach(function(i){var r=l.getFromId(s,i.xref),d=l.getFromId(s,i.yref),f=l.getRefType(i.xref),h=l.getRefType(i.yref);i._extremes={},"range"===f&&n(i,r),"range"===h&&n(i,d)})}function n(s,a){var i,r=a._id,d=r.charAt(0),f=s[d],h=s["a"+d],w=s["_"+d+"padplus"],x=s["_"+d+"padminus"],m={x:1,y:-1}[d]*s[d+"shift"],y=3*s.arrowsize*s.arrowwidth||0,A=y+m,b=y-m,k=3*s.startarrowsize*s.arrowwidth||0,L=k+m,g=k-m;if(s["a"+d+"ref"]===s[d+"ref"]){var S=l.findExtremes(a,[a.r2c(f)],{ppadplus:A,ppadminus:b}),I=l.findExtremes(a,[a.r2c(h)],{ppadplus:Math.max(w,L),ppadminus:Math.max(x,g)});i={min:[S.min[0],I.min[0]],max:[S.max[0],I.max[0]]}}else L=h?L+h:L,g=h?g-h:g,i=l.findExtremes(a,[a.r2c(f)],{ppadplus:Math.max(w,A,L),ppadminus:Math.max(x,b,g)});s._extremes[r]=i}tt.exports=function(s){if(t.filterVisible(s._fullLayout.annotations).length&&s._fullData.length)return t.syncOrAsync([o,e],s)}},{"../../lib":232,"../../plots/cartesian/axes":279,"./draw":91}],87:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../registry"),o=c("../../plot_api/plot_template").arrayEditor;function e(s,a){var i,r,d,f,h,p,T,w=s._fullLayout.annotations,x=[],m=[],y=[],A=(a||[]).length;for(i=0;i<w.length;i++)if(f=(d=w[i]).clicktoshow){for(r=0;r<A;r++)if(p=(h=a[r]).xaxis,T=h.yaxis,p._id===d.xref&&T._id===d.yref&&p.d2r(h.x)===n(d._xclick,p)&&T.d2r(h.y)===n(d._yclick,T)){(d.visible?"onout"===f?m:y:x).push(i);break}r===A&&d.visible&&"onout"===f&&m.push(i)}return{on:x,off:m,explicitOff:y}}function n(s,a){return"log"===a.type?a.l2r(s):a.d2r(s)}tt.exports={hasClickToShow:function(s,a){var i=e(s,a);return i.on.length>0||i.explicitOff.length>0},onClick:function(s,a){var i,r,d=e(s,a),f=d.on,h=d.off.concat(d.explicitOff),p={},T=s._fullLayout.annotations;if(f.length||h.length){for(i=0;i<f.length;i++)(r=o(s.layout,"annotations",T[f[i]])).modifyItem("visible",!0),t.extendFlat(p,r.getUpdateObj());for(i=0;i<h.length;i++)(r=o(s.layout,"annotations",T[h[i]])).modifyItem("visible",!1),t.extendFlat(p,r.getUpdateObj());return l.call("update",s,{},p)}}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318}],88:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../color");tt.exports=function(o,e,n,s){s("opacity");var a=s("bgcolor"),i=s("bordercolor"),r=l.opacity(i);s("borderpad");var d=s("borderwidth"),f=s("showarrow");if(s("text",f?" ":n._dfltTitle.annotation),s("textangle"),t.coerceFont(s,"font",n.font),s("width"),s("align"),s("height")&&s("valign"),f){var h,p,T=s("arrowside");-1!==T.indexOf("end")&&(h=s("arrowhead"),p=s("arrowsize")),-1!==T.indexOf("start")&&(s("startarrowhead",h),s("startarrowsize",p)),s("arrowcolor",r?e.bordercolor:l.defaultLine),s("arrowwidth",2*(r&&d||1)),s("standoff"),s("startstandoff")}var w=s("hovertext"),x=n.hoverlabel||{};if(w){var m=s("hoverlabel.bgcolor",x.bgcolor||(l.opacity(a)?l.rgb(a):l.defaultLine)),y=s("hoverlabel.bordercolor",x.bordercolor||l.contrast(m));t.coerceFont(s,"hoverlabel.font",{family:x.font.family,size:x.font.size,color:x.font.color||y})}s("captureevents",!!w)}},{"../../lib":232,"../color":102}],89:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("../../lib/to_log_range");tt.exports=function(o,e,n,s){e=e||{};var a="log"===n&&"linear"===e.type;if(a||"linear"===n&&"log"===e.type)for(var r,d,f=o._fullLayout.annotations,h=e._id.charAt(0),p=0;p<f.length;p++)d="annotations["+p+"].",(r=f[p])[h+"ref"]===e._id&&T(h),r["a"+h+"ref"]===e._id&&T("a"+h);function T(w){var x=r[w],m=null;m=a?l(x,e.range):Math.pow(10,x),t(m)||(m=null),s(d+w,m)}}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],90:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../plots/cartesian/axes"),o=c("../../plots/array_container_defaults"),e=c("./common_defaults"),n=c("./attributes");function s(a,i,r){function d(I,v){return t.coerce(a,i,n,I,v)}var f=d("visible"),h=d("clicktoshow");if(f||h){e(a,i,r,d);for(var p=i.showarrow,T=["x","y"],w=[-10,-30],x={_fullLayout:r},m=0;m<2;m++){var y=T[m],A=l.coerceRef(a,i,x,y,"","paper");if("paper"!==A&&l.getFromId(x,A)._annIndices.push(i._index),l.coercePosition(i,x,d,A,y,.5),p){var b="a"+y,k=l.coerceRef(a,i,x,b,"pixel",["pixel","paper"]);"pixel"!==k&&k!==A&&(k=i[b]="pixel"),l.coercePosition(i,x,d,k,b,"pixel"===k?w[m]:.4)}d(y+"anchor"),d(y+"shift")}if(t.noneOrAll(a,i,["x","y"]),p&&t.noneOrAll(a,i,["ax","ay"]),h){var g=d("xclick"),S=d("yclick");i._xclick=void 0===g?i.x:l.cleanPosition(g,x,i.xref),i._yclick=void 0===S?i.y:l.cleanPosition(S,x,i.yref)}}}tt.exports=function(a,i){o(a,i,{name:"annotations",handleItemDefaults:s})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":85,"./common_defaults":88}],91:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../../registry"),o=c("../../plots/plots"),e=c("../../lib"),n=e.strTranslate,s=c("../../plots/cartesian/axes"),a=c("../color"),i=c("../drawing"),r=c("../fx"),d=c("../../lib/svg_text_utils"),f=c("../../lib/setcursor"),h=c("../dragelement"),p=c("../../plot_api/plot_template").arrayEditor,T=c("./draw_arrow_head");function w(y,A){var b=y._fullLayout.annotations[A]||{},k=s.getFromId(y,b.xref),L=s.getFromId(y,b.yref);k&&k.setScale(),L&&L.setScale(),m(y,b,A,!1,k,L)}function x(y,A,b,k,L){var g=L[b],S=L[b+"ref"],I=-1!==b.indexOf("y"),v="domain"===s.getRefType(S),R=I?k.h:k.w;return y?v?g+(I?-A:A)/y._length:y.p2r(y.r2p(g)+A):g+(I?-A:A)/R}function m(y,A,b,k,L,g){var S,I,v=y._fullLayout,R=y._fullLayout._size,z=y._context.edits;k?(S="annotation-"+k,I=k+".annotations"):(S="annotation",I="annotations");var F=p(y.layout,I,A),B=F.modifyBase,H=F.modifyItem,X=F.getUpdateObj;v._infolayer.selectAll("."+S+'[data-index="'+b+'"]').remove();var ot="clip"+v._uid+"_ann"+b;if(A._input&&!1!==A.visible){var q={x:{},y:{}},P=+A.textangle||0,J=v._infolayer.append("g").classed(S,!0).attr("data-index",String(b)).style("opacity",A.opacity),E=J.append("g").classed("annotation-text-g",!0),N=z[A.showarrow?"annotationTail":"annotationPosition"],Z=A.captureevents||z.annotationText||N,U=E.append("g").style("pointer-events",Z?"all":null).call(f,"pointer").on("click",function(){y._dragging=!1,y.emit("plotly_clickannotation",ct(t.event))});A.hovertext&&U.on("mouseover",function(){var _t=A.hoverlabel,kt=_t.font,Et=this.getBoundingClientRect(),It=y.getBoundingClientRect();r.loneHover({x0:Et.left-It.left,x1:Et.right-It.left,y:(Et.top+Et.bottom)/2-It.top,text:A.hovertext,color:_t.bgcolor,borderColor:_t.bordercolor,fontFamily:kt.family,fontSize:kt.size,fontColor:kt.color},{container:v._hoverlayer.node(),outerContainer:v._paper.node(),gd:y})}).on("mouseout",function(){r.loneUnhover(v._hoverlayer.node())});var D=A.borderwidth,j=D+A.borderpad,C=U.append("rect").attr("class","bg").style("stroke-width",D+"px").call(a.stroke,A.bordercolor).call(a.fill,A.bgcolor),G=A.width||A.height,K=v._topclips.selectAll("#"+ot).data(G?[0]:[]);K.enter().append("clipPath").classed("annclip",!0).attr("id",ot).append("rect"),K.exit().remove();var $=A.font,Q=v._meta?e.templateString(A.text,v._meta):A.text,ut=U.append("text").classed("annotation-text",!0).text(Q);z.annotationText?ut.call(d.makeEditable,{delegate:U,gd:y}).call(gt).on("edit",function(_t){A.text=_t,this.call(gt),H("text",_t),L&&L.autorange&&B(L._name+".autorange",!0),g&&g.autorange&&B(g._name+".autorange",!0),l.call("_guiRelayout",y,X())}):ut.call(gt)}else t.selectAll("#"+ot).remove();function ct(_t){var kt={index:b,annotation:A._input,fullAnnotation:A,event:_t};return k&&(kt.subplotId=k),kt}function gt(_t){return _t.call(i.font,$).attr({"text-anchor":{left:"start",right:"end"}[A.align]||"middle"}),d.convertToTspans(_t,y,vt),_t}function vt(){var _t=ut.selectAll("a");1===_t.size()&&_t.text()===ut.text()&&U.insert("a",":first-child").attr({"xlink:xlink:href":_t.attr("xlink:href"),"xlink:xlink:show":_t.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(C.node());var kt=U.select(".annotation-text-math-group"),Et=!kt.empty(),It=i.bBox((Et?kt:ut).node()),Lt=It.width,lt=It.height,at=A.width||Lt,dt=A.height||lt,mt=Math.round(at+2*j),St=Math.round(dt+2*j);function bt(re,me){return"auto"===me&&(me=re<1/3?"left":re>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[me]}for(var wt=!1,Ot=["x","y"],Nt=0;Nt<Ot.length;Nt++){var Dt,zt,Vt,Ct,Zt,Kt=Ot[Nt],Jt=A[Kt+"ref"]||Kt,de=A["a"+Kt+"ref"],$t={x:L,y:g}[Kt],Tt=(P+("x"===Kt?0:-90))*Math.PI/180,At=mt*Math.cos(Tt),qt=St*Math.sin(Tt),ue=Math.abs(At)+Math.abs(qt),Te=A[Kt+"anchor"],Ce=A[Kt+"shift"]*("x"===Kt?1:-1),xe=q[Kt],ye=s.getRefType(Jt);if($t&&"domain"!==ye){var ce=$t.r2fraction(A[Kt]);(ce<0||ce>1)&&(de===Jt?((ce=$t.r2fraction(A["a"+Kt]))<0||ce>1)&&(wt=!0):wt=!0),Dt=$t._offset+$t.r2p(A[Kt]),Ct=.5}else{var nt="domain"===ye;"x"===Kt?(Vt=A[Kt],Dt=nt?$t._offset+$t._length*Vt:Dt=R.l+R.w*Vt):(Vt=1-A[Kt],Dt=nt?$t._offset+$t._length*Vt:Dt=R.t+R.h*Vt),Ct=A.showarrow?.5:Vt}if(A.showarrow){xe.head=Dt;var it=A["a"+Kt];if(Zt=At*bt(.5,A.xanchor)-qt*bt(.5,A.yanchor),de===Jt){var Mt=s.getRefType(de);"domain"===Mt?("y"===Kt&&(it=1-it),xe.tail=$t._offset+$t._length*it):xe.tail="paper"===Mt?"y"===Kt?R.t+R.h*(it=1-it):R.l+R.w*it:$t._offset+$t.r2p(it),zt=Zt}else xe.tail=Dt+it,zt=Zt+it;xe.text=xe.tail+Zt;var Pt=v["x"===Kt?"width":"height"];if("paper"===Jt&&(xe.head=e.constrain(xe.head,1,Pt-1)),"pixel"===de){var Ut=-Math.max(xe.tail-3,xe.text),Rt=Math.min(xe.tail+3,xe.text)-Pt;Ut>0?(xe.tail+=Ut,xe.text+=Ut):Rt>0&&(xe.tail-=Rt,xe.text-=Rt)}xe.tail+=Ce,xe.head+=Ce}else zt=Zt=ue*bt(Ct,Te),xe.text=Dt+Zt;xe.text+=Ce,Zt+=Ce,A["_"+Kt+"padplus"]=ue/2+(zt+=Ce),A["_"+Kt+"padminus"]=ue/2-zt,A["_"+Kt+"size"]=ue,A["_"+Kt+"shift"]=Zt}if(wt)U.remove();else{var jt=0,Yt=0;"left"!==A.align&&(jt=(at-Lt)*("center"===A.align?.5:1)),"top"!==A.valign&&(Yt=(dt-lt)*("middle"===A.valign?.5:1)),Et?kt.select("svg").attr({x:j+jt-1,y:j+Yt}).call(i.setClipUrl,G?ot:null,y):ut.call(d.positionText,j+jt-It.left,j+Yt-It.top).call(i.setClipUrl,G?ot:null,y),K.select("rect").call(i.setRect,j,j,at,dt),C.call(i.setRect,D/2,D/2,mt-D,St-D),U.call(i.setTranslate,Math.round(q.x.text-mt/2),Math.round(q.y.text-St/2)),E.attr({transform:"rotate("+P+","+q.x.text+","+q.y.text+")"});var he,Me=function(re,me){J.selectAll(".annotation-arrow-g").remove();var Oe=q.x.head,oe=q.y.head,te=q.x.tail+re,Ae=q.y.tail+me,_e=q.x.text+re,ge=q.y.text+me,we=e.rotationXYMatrix(P,_e,ge),fe=e.apply2DTransform(we),Ne=e.apply2DTransform2(we),Pe=+C.attr("width"),ze=+C.attr("height"),Ue=_e-.5*Pe,Je=Ue+Pe,He=ge-.5*ze,be=He+ze,ve=[[Ue,He,Ue,be],[Ue,be,Je,be],[Je,be,Je,He],[Je,He,Ue,He]].map(Ne);if(!ve.reduce(function(Xe,gn){return Xe^!!e.segmentsIntersect(Oe,oe,Oe+1e6,oe+1e6,gn[0],gn[1],gn[2],gn[3])},!1)){ve.forEach(function(Xe){var gn=e.segmentsIntersect(te,Ae,Oe,oe,Xe[0],Xe[1],Xe[2],Xe[3]);gn&&(te=gn.x,Ae=gn.y)});var ke=A.arrowwidth,Fe=A.arrowcolor,De=A.arrowside,Ve=J.append("g").style({opacity:a.opacity(Fe)}).classed("annotation-arrow-g",!0),Ze=Ve.append("path").attr("d","M"+te+","+Ae+"L"+Oe+","+oe).style("stroke-width",ke+"px").call(a.stroke,a.rgb(Fe));if(T(Ze,De,A),z.annotationPosition&&Ze.node().parentNode&&!k){var tn=Oe,rn=oe;if(A.standoff){var ln=Math.sqrt(Math.pow(Oe-te,2)+Math.pow(oe-Ae,2));tn+=A.standoff*(te-Oe)/ln,rn+=A.standoff*(Ae-oe)/ln}var cn,sn,fn=Ve.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(te-tn)+","+(Ae-rn),transform:n(tn,rn)}).style("stroke-width",ke+6+"px").call(a.stroke,"rgba(0,0,0,0)").call(a.fill,"rgba(0,0,0,0)");h.init({element:fn.node(),gd:y,prepFn:function(){var Xe=i.getTranslate(U);cn=Xe.x,sn=Xe.y,L&&L.autorange&&B(L._name+".autorange",!0),g&&g.autorange&&B(g._name+".autorange",!0)},moveFn:function(Xe,gn){var Mn=fe(cn,sn),Ye=Mn[0]+Xe,dn=Mn[1]+gn;U.call(i.setTranslate,Ye,dn),H("x",x(L,Xe,"x",R,A)),H("y",x(g,gn,"y",R,A)),A.axref===A.xref&&H("ax",x(L,Xe,"ax",R,A)),A.ayref===A.yref&&H("ay",x(g,gn,"ay",R,A)),Ve.attr("transform",n(Xe,gn)),E.attr({transform:"rotate("+P+","+Ye+","+dn+")"})},doneFn:function(){l.call("_guiRelayout",y,X());var Xe=document.querySelector(".js-notes-box-panel");Xe&&Xe.redraw(Xe.selectedObj)}})}}};A.showarrow&&Me(0,0),N&&h.init({element:U.node(),gd:y,prepFn:function(){he=E.attr("transform")},moveFn:function(re,me){var Oe="pointer";if(A.showarrow)H("ax",A.axref===A.xref?x(L,re,"ax",R,A):A.ax+re),H("ay",A.ayref===A.yref?x(g,me,"ay",R.w,A):A.ay+me),Me(re,me);else{if(k)return;var oe,te;if(L)oe=x(L,re,"x",R,A);else{var Ae=A._xsize/R.w;oe=h.align(A.x+(A._xshift-A.xshift)/R.w-Ae/2+re/R.w,Ae,0,1,A.xanchor)}if(g)te=x(g,me,"y",R,A);else{var ge=A._ysize/R.h;te=h.align(A.y-(A._yshift+A.yshift)/R.h-ge/2-me/R.h,ge,0,1,A.yanchor)}H("x",oe),H("y",te),L&&g||(Oe=h.getCursor(L?.5:oe,g?.5:te,A.xanchor,A.yanchor))}E.attr({transform:n(re,me)+he}),f(U,Oe)},clickFn:function(re,me){A.captureevents&&y.emit("plotly_clickannotation",ct(me))},doneFn:function(){f(U),l.call("_guiRelayout",y,X());var re=document.querySelector(".js-notes-box-panel");re&&re.redraw(re.selectedObj)}})}}}tt.exports={draw:function(y){var A=y._fullLayout;A._infolayer.selectAll(".annotation").remove();for(var b=0;b<A.annotations.length;b++)A.annotations[b].visible&&w(y,b);return o.previousPromises(y)},drawOne:w,drawRaw:m}},{"../../lib":232,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../fx":142,"./draw_arrow_head":92,"@plotly/d3":11}],92:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../color"),o=c("./arrow_paths"),e=c("../../lib"),n=e.strScale,s=e.strRotate,a=e.strTranslate;tt.exports=function(i,r,d){var f,h,p,T,w=i.node(),x=o[d.arrowhead||0],m=o[d.startarrowhead||0],y=(d.arrowwidth||1)*(d.arrowsize||1),A=(d.arrowwidth||1)*(d.startarrowsize||1),b=r.indexOf("start")>=0,k=r.indexOf("end")>=0,L=x.backoff*y+d.standoff,g=m.backoff*A+d.startstandoff;if("line"===w.nodeName){f={x:+i.attr("x1"),y:+i.attr("y1")},h={x:+i.attr("x2"),y:+i.attr("y2")};var S=f.x-h.x,I=f.y-h.y;if(T=(p=Math.atan2(I,S))+Math.PI,L&&g&&L+g>Math.sqrt(S*S+I*I))return void J();if(L){if(L*L>S*S+I*I)return void J();var v=L*Math.cos(p),R=L*Math.sin(p);h.x+=v,h.y+=R,i.attr({x2:h.x,y2:h.y})}if(g){if(g*g>S*S+I*I)return void J();var z=g*Math.cos(p),F=g*Math.sin(p);f.x-=z,f.y-=F,i.attr({x1:f.x,y1:f.y})}}else if("path"===w.nodeName){var B=w.getTotalLength(),H="";if(B<L+g)return void J();var X=w.getPointAtLength(0),ot=w.getPointAtLength(.1);p=Math.atan2(X.y-ot.y,X.x-ot.x),f=w.getPointAtLength(Math.min(g,B)),H="0px,"+g+"px,";var q=w.getPointAtLength(B),P=w.getPointAtLength(B-.1);T=Math.atan2(q.y-P.y,q.x-P.x),h=w.getPointAtLength(Math.max(0,B-L)),i.style("stroke-dasharray",H+=B-(H?g+L:L)+"px,"+B+"px")}function J(){i.style("stroke-dasharray","0px,100px")}function E(N,Z,U,D){N.path&&(N.noRotate&&(U=0),t.select(w.parentNode).append("path").attr({class:i.attr("class"),d:N.path,transform:a(Z.x,Z.y)+s(180*U/Math.PI)+n(D)}).style({fill:l.rgb(d.arrowcolor),"stroke-width":0}))}b&&E(m,f,p,A),k&&E(x,h,T,y)}},{"../../lib":232,"../color":102,"./arrow_paths":84,"@plotly/d3":11}],93:[function(c,tt,V){"use strict";var t=c("./draw"),l=c("./click");tt.exports={moduleType:"component",name:"annotations",layoutAttributes:c("./attributes"),supplyLayoutDefaults:c("./defaults"),includeBasePlot:c("../../plots/cartesian/include_components")("annotations"),calcAutorange:c("./calc_autorange"),draw:t.draw,drawOne:t.drawOne,drawRaw:t.drawRaw,hasClickToShow:l.hasClickToShow,onClick:l.onClick,convertCoords:c("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":85,"./calc_autorange":86,"./click":87,"./convert_coords":89,"./defaults":90,"./draw":91}],94:[function(c,tt,V){"use strict";var t=c("../annotations/attributes"),l=c("../../plot_api/edit_types").overrideAll,o=c("../../plot_api/plot_template").templatedArray;tt.exports=l(o("annotation",{visible:t.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:t.xanchor,xshift:t.xshift,yanchor:t.yanchor,yshift:t.yshift,text:t.text,textangle:t.textangle,font:t.font,width:t.width,height:t.height,opacity:t.opacity,align:t.align,valign:t.valign,bgcolor:t.bgcolor,bordercolor:t.bordercolor,borderpad:t.borderpad,borderwidth:t.borderwidth,showarrow:t.showarrow,arrowcolor:t.arrowcolor,arrowhead:t.arrowhead,startarrowhead:t.startarrowhead,arrowside:t.arrowside,arrowsize:t.arrowsize,startarrowsize:t.startarrowsize,arrowwidth:t.arrowwidth,standoff:t.standoff,startstandoff:t.startstandoff,hovertext:t.hovertext,hoverlabel:t.hoverlabel,captureevents:t.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../annotations/attributes":85}],95:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../plots/cartesian/axes");function o(e,n){var s=n.fullSceneLayout.domain,a=n.fullLayout._size,i={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},t.extendFlat(e._xa,i),l.setConvert(e._xa),e._xa._offset=a.l+s.x[0]*a.w,e._xa.l2p=function(){return.5*(1+e._pdata[0]/e._pdata[3])*a.w*(s.x[1]-s.x[0])},e._ya={},t.extendFlat(e._ya,i),l.setConvert(e._ya),e._ya._offset=a.t+(1-s.y[1])*a.h,e._ya.l2p=function(){return.5*(1-e._pdata[1]/e._pdata[3])*a.h*(s.y[1]-s.y[0])}}tt.exports=function(e){for(var n=e.fullSceneLayout.annotations,s=0;s<n.length;s++)o(n[s],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()}},{"../../lib":232,"../../plots/cartesian/axes":279}],96:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../plots/cartesian/axes"),o=c("../../plots/array_container_defaults"),e=c("../annotations/common_defaults"),n=c("./attributes");function s(a,i,r,d){function f(p,T){return t.coerce(a,i,n,p,T)}function h(p){var T=p+"axis",w={_fullLayout:{}};return w._fullLayout[T]=r[T],l.coercePosition(i,w,f,p,p,.5)}f("visible")&&(e(a,i,d.fullLayout,f),h("x"),h("y"),h("z"),t.noneOrAll(a,i,["x","y","z"]),i.xref="x",i.yref="y",i.zref="z",f("xanchor"),f("yanchor"),f("xshift"),f("yshift"),i.showarrow&&(i.axref="pixel",i.ayref="pixel",f("ax",-10),f("ay",-30),t.noneOrAll(a,i,["ax","ay"])))}tt.exports=function(a,i,r){o(a,i,{name:"annotations",handleItemDefaults:s,fullLayout:r.fullLayout})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"../annotations/common_defaults":88,"./attributes":94}],97:[function(c,tt,V){"use strict";var t=c("../annotations/draw").drawRaw,l=c("../../plots/gl3d/project"),o=["x","y","z"];tt.exports=function(e){for(var n=e.fullSceneLayout,s=e.dataScale,a=n.annotations,i=0;i<a.length;i++){for(var r=a[i],d=!1,f=0;f<3;f++){var h=o[f],T=n[h+"axis"].r2fraction(r[h]);if(T<0||T>1){d=!0;break}}d?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+i+'"]').remove():(r._pdata=l(e.glplot.cameraParams,[n.xaxis.r2l(r.x)*s[0],n.yaxis.r2l(r.y)*s[1],n.zaxis.r2l(r.z)*s[2]]),t(e.graphDiv,r,i,e.id,r._xa,r._ya))}}},{"../../plots/gl3d/project":313,"../annotations/draw":91}],98:[function(c,tt,V){"use strict";var t=c("../../registry"),l=c("../../lib");tt.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:c("./attributes")}}},layoutAttributes:c("./attributes"),handleDefaults:c("./defaults"),includeBasePlot:function(o,e){var n=t.subplotsRegistry.gl3d;if(n)for(var s=n.attrRegex,a=Object.keys(o),i=0;i<a.length;i++){var r=a[i];s.test(r)&&(o[r].annotations||[]).length&&(l.pushUnique(e._basePlotModules,n),l.pushUnique(e._subplots.gl3d,r))}},convert:c("./convert"),draw:c("./draw")}},{"../../lib":232,"../../registry":318,"./attributes":94,"./convert":95,"./defaults":96,"./draw":97}],99:[function(c,tt,V){"use strict";tt.exports=c("world-calendars/dist/main"),c("world-calendars/dist/plus"),c("world-calendars/dist/calendars/chinese"),c("world-calendars/dist/calendars/coptic"),c("world-calendars/dist/calendars/discworld"),c("world-calendars/dist/calendars/ethiopian"),c("world-calendars/dist/calendars/hebrew"),c("world-calendars/dist/calendars/islamic"),c("world-calendars/dist/calendars/julian"),c("world-calendars/dist/calendars/mayan"),c("world-calendars/dist/calendars/nanakshahi"),c("world-calendars/dist/calendars/nepali"),c("world-calendars/dist/calendars/persian"),c("world-calendars/dist/calendars/taiwan"),c("world-calendars/dist/calendars/thai"),c("world-calendars/dist/calendars/ummalqura")},{"world-calendars/dist/calendars/chinese":68,"world-calendars/dist/calendars/coptic":69,"world-calendars/dist/calendars/discworld":70,"world-calendars/dist/calendars/ethiopian":71,"world-calendars/dist/calendars/hebrew":72,"world-calendars/dist/calendars/islamic":73,"world-calendars/dist/calendars/julian":74,"world-calendars/dist/calendars/mayan":75,"world-calendars/dist/calendars/nanakshahi":76,"world-calendars/dist/calendars/nepali":77,"world-calendars/dist/calendars/persian":78,"world-calendars/dist/calendars/taiwan":79,"world-calendars/dist/calendars/thai":80,"world-calendars/dist/calendars/ummalqura":81,"world-calendars/dist/main":82,"world-calendars/dist/plus":83}],100:[function(c,tt,V){"use strict";var t=c("./calendars"),l=c("../../lib"),o=c("../../constants/numerical"),e=o.EPOCHJD,n=o.ONEDAY,s={valType:"enumerated",values:l.sortObjectKeys(t.calendars),editType:"calc",dflt:"gregorian"},a=function(m,y,A,b){var k={};return k[A]=s,l.coerce(m,y,k,A,b)},i={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:"##",w:"##",c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},r={};function d(m){return r[m]||(r[m]=t.instance(m))}function f(m){return l.extendFlat({},s,{description:m})}function h(m){return"Sets the calendar system to use with `"+m+"` date data."}var p={xcalendar:f(h("x"))},T=l.extendFlat({},p,{ycalendar:f(h("y"))}),w=l.extendFlat({},T,{zcalendar:f(h("z"))}),x=f(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));tt.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:T,bar:T,box:T,heatmap:T,contour:T,histogram:T,histogram2d:T,histogram2dcontour:T,scatter3d:w,surface:w,mesh3d:w,scattergl:T,ohlc:p,candlestick:p},layout:{calendar:f(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:x},yaxis:{calendar:x},scene:{xaxis:{calendar:x},yaxis:{calendar:x},zaxis:{calendar:x}},polar:{radialaxis:{calendar:x}}},transforms:{filter:{valuecalendar:f(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:f(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:s,handleDefaults:a,handleTraceDefaults:function(m,y,A,b){for(var k=0;k<A.length;k++)a(m,y,A[k]+"calendar",b.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:d,worldCalFmt:function(m,y,A){for(var b,k,L,g,S,I=Math.floor((y+.05)/n)+e,v=d(A).fromJD(I),R=0;-1!==(R=m.indexOf("%",R));)"0"===(b=m.charAt(R+1))||"-"===b||"_"===b?(L=3,k=m.charAt(R+2),"_"===b&&(b="-")):(k=b,b="0",L=2),(g=i[k])?(S="##"===g?"##":v.formatDate(g[b]),m=m.substr(0,R)+S+m.substr(R+L),R+=S.length):R+=L;return m}}},{"../../constants/numerical":212,"../../lib":232,"./calendars":99}],101:[function(c,tt,V){"use strict";V.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],V.defaultLine="#444",V.lightLine="#eee",V.background="#fff",V.borderLine="#BEC8D9",V.lightFraction=1e3/11},{}],102:[function(c,tt,V){"use strict";var t=c("tinycolor2"),l=c("fast-isnumeric"),o=c("../../lib/array").isTypedArray,e=tt.exports={},n=c("./attributes");e.defaults=n.defaults;var s=e.defaultLine=n.defaultLine;e.lightLine=n.lightLine;var a=e.background=n.background;function i(r){if(l(r)||"string"!=typeof r)return r;var d=r.trim();if("rgb"!==d.substr(0,3))return r;var f=d.match(/^rgba?\s*\(([^()]*)\)$/);if(!f)return r;var h=f[1].trim().split(/\s*[\s,]\s*/),p="a"===d.charAt(3)&&4===h.length;if(!p&&3!==h.length)return r;for(var T=0;T<h.length;T++){if(!(h[T].length&&(h[T]=Number(h[T]),h[T]>=0)))return r;if(3===T)h[T]>1&&(h[T]=1);else if(h[T]>=1)return r}var w=Math.round(255*h[0])+", "+Math.round(255*h[1])+", "+Math.round(255*h[2]);return p?"rgba("+w+", "+h[3]+")":"rgb("+w+")"}e.tinyRGB=function(r){var d=r.toRgb();return"rgb("+Math.round(d.r)+", "+Math.round(d.g)+", "+Math.round(d.b)+")"},e.rgb=function(r){return e.tinyRGB(t(r))},e.opacity=function(r){return r?t(r).getAlpha():0},e.addOpacity=function(r,d){var f=t(r).toRgb();return"rgba("+Math.round(f.r)+", "+Math.round(f.g)+", "+Math.round(f.b)+", "+d+")"},e.combine=function(r,d){var f=t(r).toRgb();if(1===f.a)return t(r).toRgbString();var h=t(d||a).toRgb(),p=1===h.a?h:{r:255*(1-h.a)+h.r*h.a,g:255*(1-h.a)+h.g*h.a,b:255*(1-h.a)+h.b*h.a};return t({r:p.r*(1-f.a)+f.r*f.a,g:p.g*(1-f.a)+f.g*f.a,b:p.b*(1-f.a)+f.b*f.a}).toRgbString()},e.contrast=function(r,d,f){var h=t(r);return 1!==h.getAlpha()&&(h=t(e.combine(r,a))),(h.isDark()?d?h.lighten(d):a:f?h.darken(f):s).toString()},e.stroke=function(r,d){var f=t(d);r.style({stroke:e.tinyRGB(f),"stroke-opacity":f.getAlpha()})},e.fill=function(r,d){var f=t(d);r.style({fill:e.tinyRGB(f),"fill-opacity":f.getAlpha()})},e.clean=function(r){if(r&&"object"==typeof r){var d,f,h,p,T=Object.keys(r);for(d=0;d<T.length;d++)if(p=r[h=T[d]],"color"===h.substr(h.length-5))if(Array.isArray(p))for(f=0;f<p.length;f++)p[f]=i(p[f]);else r[h]=i(p);else if("colorscale"===h.substr(h.length-10)&&Array.isArray(p))for(f=0;f<p.length;f++)Array.isArray(p[f])&&(p[f][1]=i(p[f][1]));else if(Array.isArray(p)){var w=p[0];if(!Array.isArray(w)&&w&&"object"==typeof w)for(f=0;f<p.length;f++)e.clean(p[f])}else p&&"object"==typeof p&&!o(p)&&e.clean(p)}}},{"../../lib/array":218,"./attributes":101,"fast-isnumeric":17,tinycolor2:67}],103:[function(c,tt,V){"use strict";var t=c("../../plots/cartesian/layout_attributes"),l=c("../../plots/font_attributes"),o=c("../../lib/extend").extendFlat,e=c("../../plot_api/edit_types").overrideAll;tt.exports=e({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:t.linecolor,outlinewidth:t.linewidth,bordercolor:t.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:t.tickmode,nticks:t.nticks,tick0:t.tick0,dtick:t.dtick,tickvals:t.tickvals,ticktext:t.ticktext,ticks:o({},t.ticks,{dflt:""}),ticklabeloverflow:o({},t.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:t.ticklen,tickwidth:t.tickwidth,tickcolor:t.tickcolor,ticklabelstep:t.ticklabelstep,showticklabels:t.showticklabels,tickfont:l({}),tickangle:t.tickangle,tickformat:t.tickformat,tickformatstops:t.tickformatstops,tickprefix:t.tickprefix,showtickprefix:t.showtickprefix,ticksuffix:t.ticksuffix,showticksuffix:t.showticksuffix,separatethousands:t.separatethousands,exponentformat:t.exponentformat,minexponent:t.minexponent,showexponent:t.showexponent,title:{text:{valType:"string"},font:l({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:l({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plots/cartesian/layout_attributes":294,"../../plots/font_attributes":310}],104:[function(c,tt,V){"use strict";tt.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],105:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../plot_api/plot_template"),o=c("../../plots/cartesian/tick_value_defaults"),e=c("../../plots/cartesian/tick_mark_defaults"),n=c("../../plots/cartesian/tick_label_defaults"),s=c("../../plots/cartesian/prefix_suffix_defaults"),a=c("./attributes");tt.exports=function(i,r,d){var f=l.newContainer(r,"colorbar"),h=i.colorbar||{};function p(I,v){return t.coerce(h,f,a,I,v)}var T=d.margin||{t:0,b:0,l:0,r:0},w=d.width-T.l-T.r,x=d.height-T.t-T.b,m="v"===p("orientation"),y=p("thicknessmode");p("thickness","fraction"===y?30/(m?w:x):30);var A=p("lenmode");p("len","fraction"===A?1:m?x:w),p("x",m?1.02:.5),p("xanchor",m?"left":"center"),p("xpad"),p("y",m?.5:1.02),p("yanchor",m?"middle":"bottom"),p("ypad"),t.noneOrAll(h,f,["x","y"]),p("outlinecolor"),p("outlinewidth"),p("bordercolor"),p("borderwidth"),p("bgcolor");var b=t.coerce(h,f,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:m?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");p("ticklabeloverflow",-1!==b.indexOf("inside")?"hide past domain":"hide past div"),o(h,f,p,"linear");var k=d.font,L={outerTicks:!1,font:k};-1!==b.indexOf("inside")&&(L.bgColor="black"),s(h,f,p,"linear",L),n(h,f,p,"linear",L),e(h,f,p,"linear",L),p("title.text",d._dfltTitle.colorbar);var g=f.tickfont,S=t.extendFlat({},g,{color:k.color,size:t.bigFont(g.size)});t.coerceFont(p,"title.font",S),p("title.side",m?"top":"right")}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/prefix_suffix_defaults":298,"../../plots/cartesian/tick_label_defaults":303,"../../plots/cartesian/tick_mark_defaults":304,"../../plots/cartesian/tick_value_defaults":305,"./attributes":103}],106:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("tinycolor2"),o=c("../../plots/plots"),e=c("../../registry"),n=c("../../plots/cartesian/axes"),s=c("../dragelement"),a=c("../../lib"),i=a.strTranslate,r=c("../../lib/extend").extendFlat,d=c("../../lib/setcursor"),f=c("../drawing"),h=c("../color"),p=c("../titles"),T=c("../../lib/svg_text_utils"),w=c("../colorscale/helpers").flipScale,x=c("../../plots/cartesian/axis_defaults"),m=c("../../plots/cartesian/position_defaults"),y=c("../../plots/cartesian/layout_attributes"),A=c("../../constants/alignment"),b=A.LINE_SPACING,k=A.FROM_TL,L=A.FROM_BR,g=c("./constants").cn;tt.exports={draw:function(S){var I=S._fullLayout._infolayer.selectAll("g."+g.colorbar).data(function(v){var R,z,F,B,H=v._fullLayout,X=v.calcdata,ot=[];function q(G){return r(G,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function P(){"function"==typeof B.calc?B.calc(v,F,R):(R._fillgradient=z.reversescale?w(z.colorscale):z.colorscale,R._zrange=[z[B.min],z[B.max]])}for(var J=0;J<X.length;J++){var N=(F=X[J][0].trace)._module.colorbar;if(!0===F.visible&&N)for(var Z=Array.isArray(N),U=Z?N:[N],D=0;D<U.length;D++){var M=(B=U[D]).container;(z=M?F[M]:F)&&z.showscale&&((R=q(z.colorbar))._id="cb"+F.uid+(Z&&M?"-"+M:""),R._traceIndex=F.index,R._propPrefix=(M?M+".":"")+"colorbar.",R._meta=F._meta,P(),ot.push(R))}}for(var j in H._colorAxes)if((z=H[j]).showscale){var C=H._colorAxes[j];(R=q(z.colorbar))._id="cb"+j,R._propPrefix=j+".colorbar.",R._meta=H._meta,B={min:"cmin",max:"cmax"},"heatmap"!==C[0]&&(B.calc=(F=C[1])._module.colorbar.calc),P(),ot.push(R)}return ot}(S),function(v){return v._id});I.enter().append("g").attr("class",function(v){return v._id}).classed(g.colorbar,!0),I.each(function(v){var R=t.select(this);a.ensureSingle(R,"rect",g.cbbg),a.ensureSingle(R,"g",g.cbfills),a.ensureSingle(R,"g",g.cblines),a.ensureSingle(R,"g",g.cbaxis,function(F){F.classed(g.crisp,!0)}),a.ensureSingle(R,"g",g.cbtitleunshift,function(F){F.append("g").classed(g.cbtitle,!0)}),a.ensureSingle(R,"rect",g.cboutline);var F,B,H,X,ot,q,P,J,z=function(F,B,H){var X="v"===B.orientation,ot=B.len,q=B.lenmode,P=B.thickness,J=B.thicknessmode,E=B.outlinewidth,N=B.borderwidth,Z=B.bgcolor,U=B.xanchor,D=B.yanchor,M=B.xpad,j=B.ypad,C=B.x,G=X?B.y:1-B.y,K=H._fullLayout,$=K._size,Q=B._fillcolor,ut=B._line,ct=B.title,gt=ct.side,vt=B._zrange||t.extent(("function"==typeof Q?Q:ut.color).domain()),_t="function"==typeof ut.color?ut.color:function(){return ut.color},kt="function"==typeof Q?Q:function(){return Q},Et=B._levels,It=function(ye,ce,nt){var it,Mt,Pt=ce._levels,Ut=[],Rt=[],jt=Pt.end+Pt.size/100,Yt=Pt.size,ee=1.001*nt[0]-.001*nt[1],ae=1.001*nt[1]-.001*nt[0];for(Mt=0;Mt<1e5&&(it=Pt.start+Mt*Yt,!(Yt>0?it>=jt:it<=jt));Mt++)it>ee&&it<ae&&Ut.push(it);if(ce._fillgradient)Rt=[0];else if("function"==typeof ce._fillcolor){var he=ce._filllevels;if(he)for(jt=he.end+he.size/100,Yt=he.size,Mt=0;Mt<1e5&&(it=he.start+Mt*Yt,!(Yt>0?it>=jt:it<=jt));Mt++)it>nt[0]&&it<nt[1]&&Rt.push(it);else(Rt=Ut.map(function(Me){return Me-Pt.size/2})).push(Rt[Rt.length-1]+Pt.size)}else ce._fillcolor&&"string"==typeof ce._fillcolor&&(Rt=[0]);return Pt.size<0&&(Ut.reverse(),Rt.reverse()),{line:Ut,fill:Rt}}(0,B,vt),Lt=It.fill,lt=It.line,at=Math.round(P*("fraction"===J?X?$.w:$.h:1)),dt=at/(X?$.w:$.h),mt=Math.round(ot*("fraction"===q?X?$.h:$.w:1)),St=mt/(X?$.h:$.w),bt=Math.round(X?C*$.w+M:G*$.h+j),wt={center:.5,right:1}[U]||0,Ot={top:1,middle:.5}[D]||0,Nt=X?C-wt*dt:G-Ot*dt,Dt=X?G-Ot*St:C-wt*St,zt=Math.round(X?$.h*(1-Dt):$.w*Dt);B._lenFrac=St,B._thickFrac=dt,B._uFrac=Nt,B._vFrac=Dt;var Vt=B._axis=function(ye,ce,nt){var it=ye._fullLayout,Mt="v"===ce.orientation,Pt={type:"linear",range:nt,tickmode:ce.tickmode,nticks:ce.nticks,tick0:ce.tick0,dtick:ce.dtick,tickvals:ce.tickvals,ticktext:ce.ticktext,ticks:ce.ticks,ticklen:ce.ticklen,tickwidth:ce.tickwidth,tickcolor:ce.tickcolor,showticklabels:ce.showticklabels,ticklabelposition:ce.ticklabelposition,ticklabeloverflow:ce.ticklabeloverflow,ticklabelstep:ce.ticklabelstep,tickfont:ce.tickfont,tickangle:ce.tickangle,tickformat:ce.tickformat,exponentformat:ce.exponentformat,minexponent:ce.minexponent,separatethousands:ce.separatethousands,showexponent:ce.showexponent,showtickprefix:ce.showtickprefix,tickprefix:ce.tickprefix,showticksuffix:ce.showticksuffix,ticksuffix:ce.ticksuffix,title:ce.title,showline:!0,anchor:"free",side:Mt?"right":"bottom",position:1},Ut=Mt?"y":"x",Rt={type:"linear",_id:Ut+ce._id},jt={letter:Ut,font:it.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:it.calendar};function Yt(ee,ae){return a.coerce(Pt,Rt,y,ee,ae)}return x(Pt,Rt,Yt,jt,it),m(Pt,Rt,Yt,jt),Rt}(H,B,vt);Vt.position=dt+(X?C+M/$.w:G+j/$.h);var Ct=-1!==["top","bottom"].indexOf(gt);if(X&&Ct&&(Vt.title.side=gt,Vt.titlex=C+M/$.w,Vt.titley=Dt+("top"===ct.side?St-j/$.h:j/$.h)),X||Ct||(Vt.title.side=gt,Vt.titley=G+j/$.h,Vt.titlex=Dt+M/$.w),ut.color&&"auto"===B.tickmode){Vt.tickmode="linear",Vt.tick0=Et.start;var Zt=Et.size,Kt=a.constrain(mt/50,4,15)+1,Jt=(vt[1]-vt[0])/((B.nticks||Kt)*Zt);if(Jt>1){var de=Math.pow(10,Math.floor(Math.log(Jt)/Math.LN10));Zt*=de*a.roundUp(Jt/de,[2,5,10]),(Math.abs(Et.start)/Et.size+1e-6)%1<2e-6&&(Vt.tick0=0)}Vt.dtick=Zt}Vt.domain=X?[Dt+j/$.h,Dt+St-j/$.h]:[Dt+M/$.w,Dt+St-M/$.w],Vt.setScale(),F.attr("transform",i(Math.round($.l),Math.round($.t)));var $t,Tt=F.select("."+g.cbtitleunshift).attr("transform",i(-Math.round($.l),-Math.round($.t))),At=Vt.ticklabelposition,qt=Vt.title.font.size,ue=F.select("."+g.cbaxis),Te=0,Ce=0;function xe(ye,ce){var nt={propContainer:Vt,propName:B._propPrefix+"title",traceIndex:B._traceIndex,_meta:B._meta,placeholder:K._dfltTitle.colorbar,containerGroup:F.select("."+g.cbtitle)},it="h"===ye.charAt(0)?ye.substr(1):"h"+ye;F.selectAll("."+it+",."+it+"-math-group").remove(),p.draw(H,ye,r(nt,ce||{}))}return a.syncOrAsync([o.previousPromises,function(){var ye,ce;(X&&Ct||!X&&!Ct)&&("top"===gt&&(ye=M+$.l+$.w*C,ce=j+$.t+$.h*(1-Dt-St)+3+.75*qt),"bottom"===gt&&(ye=M+$.l+$.w*C,ce=j+$.t+$.h*(1-Dt)-3-.25*qt),"right"===gt&&(ce=j+$.t+$.h*G+3+.75*qt,ye=M+$.l+$.w*Dt),xe(Vt._id+"title",{attributes:{x:ye,y:ce,"text-anchor":X?"start":"middle"}}))},function(){if(!X&&!Ct||X&&Ct){var ye,ce=F.select("."+g.cbtitle),nt=ce.select("text"),it=[-E/2,E/2],Mt=ce.select(".h"+Vt._id+"title-math-group").node(),Pt=15.6;if(nt.node()&&(Pt=parseInt(nt.node().style.fontSize,10)*b),Mt?(ye=f.bBox(Mt),Ce=ye.width,(Te=ye.height)>Pt&&(it[1]-=(Te-Pt)/2)):nt.node()&&!nt.classed(g.jsPlaceholder)&&(ye=f.bBox(nt.node()),Ce=ye.width,Te=ye.height),X){if(Te){if(Te+=5,"top"===gt)Vt.domain[1]-=Te/$.h,it[1]*=-1;else{Vt.domain[0]+=Te/$.h;var Ut=T.lineCount(nt);it[1]+=(1-Ut)*Pt}ce.attr("transform",i(it[0],it[1])),Vt.setScale()}}else Ce&&("right"===gt&&(Vt.domain[0]+=(Ce+qt/2)/$.w),ce.attr("transform",i(it[0],it[1])),Vt.setScale())}F.selectAll("."+g.cbfills+",."+g.cblines).attr("transform",X?i(0,Math.round($.h*(1-Vt.domain[1]))):i(Math.round($.w*Vt.domain[0]),0)),ue.attr("transform",X?i(0,Math.round(-$.t)):i(Math.round(-$.l),0));var Rt=F.select("."+g.cbfills).selectAll("rect."+g.cbfill).attr("style","").data(Lt);Rt.enter().append("rect").classed(g.cbfill,!0).style("stroke","none"),Rt.exit().remove();var jt=vt.map(Vt.c2p).map(Math.round).sort(function(Me,re){return Me-re});Rt.each(function(Me,re){var me=[0===re?vt[0]:(Lt[re]+Lt[re-1])/2,re===Lt.length-1?vt[1]:(Lt[re]+Lt[re+1])/2].map(Vt.c2p).map(Math.round);X&&(me[1]=a.constrain(me[1]+(me[1]>me[0])?1:-1,jt[0],jt[1]));var Oe=t.select(this).attr(X?"x":"y",bt).attr(X?"y":"x",t.min(me)).attr(X?"width":"height",Math.max(at,2)).attr(X?"height":"width",Math.max(t.max(me)-t.min(me),2));if(B._fillgradient)f.gradient(Oe,H,B._id,X?"vertical":"horizontalreversed",B._fillgradient,"fill");else{var oe=kt(Me).replace("e-","");Oe.attr("fill",l(oe).toHexString())}});var Yt=F.select("."+g.cblines).selectAll("path."+g.cbline).data(ut.color&&ut.width?lt:[]);Yt.enter().append("path").classed(g.cbline,!0),Yt.exit().remove(),Yt.each(function(Me){var re=bt,me=Math.round(Vt.c2p(Me))+ut.width/2%1;t.select(this).attr("d","M"+(X?re+","+me:me+","+re)+(X?"h":"v")+at).call(f.lineGroupStyle,ut.width,_t(Me),ut.dash)}),ue.selectAll("g."+Vt._id+"tick,path").remove();var ee=bt+at+(E||0)/2-("outside"===B.ticks?1:0),ae=n.calcTicks(Vt),he=n.getTickSigns(Vt)[2];return n.drawTicks(H,Vt,{vals:"inside"===Vt.ticks?n.clipEnds(Vt,ae):ae,layer:ue,path:n.makeTickPath(Vt,ee,he),transFn:n.makeTransTickFn(Vt)}),n.drawLabels(H,Vt,{vals:ae,layer:ue,transFn:n.makeTransTickLabelFn(Vt),labelFns:n.makeLabelFns(Vt,ee)})},function(){if(X&&!Ct||!X&&Ct){var ye,ce,nt=Vt.position||0,it=Vt._offset+Vt._length/2;if("right"===gt)ce=it,ye=$.l+$.w*nt+10+qt*(Vt.showticklabels?1:.5);else if(ye=it,"bottom"===gt&&(ce=$.t+$.h*nt+10+(-1===At.indexOf("inside")?Vt.tickfont.size:0)+("intside"!==Vt.ticks&&B.ticklen||0)),"top"===gt){var Mt=ct.text.split("<br>").length;ce=$.t+$.h*nt+10-at-b*qt*Mt}xe((X?"h":"v")+Vt._id+"title",{avoid:{selection:t.select(H).selectAll("g."+Vt._id+"tick"),side:gt,offsetTop:X?0:$.t,offsetLeft:X?$.l:0,maxShift:X?K.width:K.height},attributes:{x:ye,y:ce,"text-anchor":"middle"},transform:{rotate:X?-90:0,offset:0}})}},o.previousPromises,function(){var ye,ce=at+E/2;-1===At.indexOf("inside")&&(ye=f.bBox(ue.node()),ce+=X?ye.width:ye.height),$t=Tt.select("text");var nt=0,it=X&&"top"===gt,Mt=!X&&"right"===gt,Pt=0;if($t.node()&&!$t.classed(g.jsPlaceholder)){var Ut,Rt=Tt.select(".h"+Vt._id+"title-math-group").node();Rt&&(X&&Ct||!X&&!Ct)?(nt=(ye=f.bBox(Rt)).width,Ut=ye.height):(nt=(ye=f.bBox(Tt.node())).right-$.l-(X?bt:zt),Ut=ye.bottom-$.t-(X?zt:bt),X||"top"!==gt||(ce+=ye.height,Pt=ye.height)),Mt&&($t.attr("transform",i(nt/2+qt/2,0)),nt*=2),ce=Math.max(ce,X?nt:Ut)}var jt=2*(X?M:j)+ce+N+E/2,Yt=0;!X&&ct.text&&"bottom"===D&&G<=0&&(jt+=Yt=jt/2,Pt+=Yt),K._hColorbarMoveTitle=Yt,K._hColorbarMoveCBTitle=Pt;var ee=N+E;F.select("."+g.cbbg).attr("x",(X?bt:zt)-ee/2-(X?M:0)).attr("y",(X?zt:bt)-(X?mt:j+Pt-Yt)).attr(X?"width":"height",Math.max(jt-Yt,2)).attr(X?"height":"width",Math.max(mt+ee,2)).call(h.fill,Z).call(h.stroke,B.bordercolor).style("stroke-width",N);var ae=Mt?Math.max(nt-10,0):0;if(F.selectAll("."+g.cboutline).attr("x",(X?bt:zt+M)+ae).attr("y",(X?zt+j-mt:bt)+(it?Te:0)).attr(X?"width":"height",Math.max(at,2)).attr(X?"height":"width",Math.max(mt-(X?2*j+Te:2*M+ae),2)).call(h.stroke,B.outlinecolor).style({fill:"none","stroke-width":E}),F.attr("transform",i($.l-(X?wt*jt:0),$.t-(X?0:(1-Ot)*jt-Pt))),!X&&(N||l(Z).getAlpha()&&!l.equals(K.paper_bgcolor,Z))){var he=ue.selectAll("text"),Me=he[0].length,re=F.select("."+g.cbbg).node(),me=f.bBox(re),Oe=f.getTranslate(F);he.each(function(fe,Ne){var Pe=Me-1;if(0===Ne||Ne===Pe){var ze,Ue=f.bBox(this),Je=f.getTranslate(this);Ne===Pe?(ze=me.right+Oe.x+zt-N-2+C-(Ue.right+Je.x))>0&&(ze=0):0===Ne&&(ze=me.left+Oe.x+zt+N+2-(Ue.left+Je.x))<0&&(ze=0),ze&&(Me<3?this.setAttribute("transform","translate("+ze+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var oe={},te=k[U],Ae=L[U],_e=k[D],ge=L[D],we=jt-at;X?("pixels"===q?(oe.y=G,oe.t=mt*_e,oe.b=mt*ge):(oe.t=oe.b=0,oe.yt=G+ot*_e,oe.yb=G-ot*ge),"pixels"===J?(oe.x=C,oe.l=jt*te,oe.r=jt*Ae):(oe.l=we*te,oe.r=we*Ae,oe.xl=C-P*te,oe.xr=C+P*Ae)):("pixels"===q?(oe.x=C,oe.l=mt*te,oe.r=mt*Ae):(oe.l=oe.r=0,oe.xl=C+ot*te,oe.xr=C-ot*Ae),"pixels"===J?(oe.y=1-G,oe.t=jt*_e,oe.b=jt*ge):(oe.t=we*_e,oe.b=we*ge,oe.yt=G-P*_e,oe.yb=G+P*ge)),o.autoMargin(H,B._id,oe)}],H)}(R,v,S);z&&z.then&&(S._promises||[]).push(z),S._context.edits.colorbarPosition&&(P="v"===(B=v).orientation,J=(H=S)._fullLayout._size,s.init({element:(F=R).node(),gd:H,prepFn:function(){X=F.attr("transform"),d(F)},moveFn:function(E,N){F.attr("transform",X+i(E,N)),ot=s.align((P?B._uFrac:B._vFrac)+E/J.w,P?B._thickFrac:B._lenFrac,0,1,B.xanchor),q=s.align((P?B._vFrac:1-B._uFrac)-N/J.h,P?B._lenFrac:B._thickFrac,0,1,B.yanchor);var Z=s.getCursor(ot,q,B.xanchor,B.yanchor);d(F,Z)},doneFn:function(){if(d(F),void 0!==ot&&void 0!==q){var E={};E[B._propPrefix+"x"]=ot,E[B._propPrefix+"y"]=q,void 0!==B._traceIndex?e.call("_guiRestyle",H,E,B._traceIndex):e.call("_guiRelayout",H,E)}}}))}),I.exit().each(function(v){o.autoMargin(S,v._id)}).remove(),I.order()}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/extend":226,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_defaults":281,"../../plots/cartesian/layout_attributes":294,"../../plots/cartesian/position_defaults":297,"../../plots/plots":316,"../../registry":318,"../color":102,"../colorscale/helpers":113,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":104,"@plotly/d3":11,tinycolor2:67}],107:[function(c,tt,V){"use strict";var t=c("../../lib");tt.exports=function(l){return t.isPlainObject(l.colorbar)}},{"../../lib":232}],108:[function(c,tt,V){"use strict";tt.exports={moduleType:"component",name:"colorbar",attributes:c("./attributes"),supplyDefaults:c("./defaults"),draw:c("./draw").draw,hasColorbar:c("./has_colorbar")}},{"./attributes":103,"./defaults":105,"./draw":106,"./has_colorbar":107}],109:[function(c,tt,V){"use strict";var t=c("../colorbar/attributes"),l=c("../../lib/regex").counter,o=c("../../lib/sort_object_keys"),e=c("./scales.js").scales;function n(s){return"`"+s+"`"}o(e),tt.exports=function(s,a){s=s||"";var i,r=(a=a||{}).cLetter||"c",d=("onlyIfNumerical"in a||Boolean(s),"noScale"in a?a.noScale:"marker.line"===s),f="showScaleDflt"in a?a.showScaleDflt:"z"===r,h="string"==typeof a.colorscaleDflt?e[a.colorscaleDflt]:null,p=a.editTypeOverride||"",T=s?s+".":"";"colorAttr"in a?i=a.colorAttr:n(T+(i={z:"z",c:"color"}[r]));var w=r+"auto",x=r+"min",m=r+"max",y=r+"mid",A=(n(T+w),n(T+x),n(T+m),{});A[x]=A[m]=void 0;var b={};b[w]=!1;var k={};return"color"===i&&(k.color={valType:"color",arrayOk:!0,editType:p||"style"},a.anim&&(k.color.anim=!0)),k[w]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:A},k[x]={valType:"number",dflt:null,editType:p||"plot",impliedEdits:b},k[m]={valType:"number",dflt:null,editType:p||"plot",impliedEdits:b},k[y]={valType:"number",dflt:null,editType:"calc",impliedEdits:A},k.colorscale={valType:"colorscale",editType:"calc",dflt:h,impliedEdits:{autocolorscale:!1}},k.autocolorscale={valType:"boolean",dflt:!1!==a.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},k.reversescale={valType:"boolean",dflt:!1,editType:"plot"},d||(k.showscale={valType:"boolean",dflt:f,editType:"calc"},k.colorbar=t),a.noColorAxis||(k.coloraxis={valType:"subplotid",regex:l("coloraxis"),dflt:null,editType:"calc"}),k}},{"../../lib/regex":248,"../../lib/sort_object_keys":253,"../colorbar/attributes":103,"./scales.js":117}],110:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("../../lib"),o=c("./helpers").extractOpts;tt.exports=function(e,n,s){var i=e._fullLayout,r=s.vals,d=s.containerStr,f=d?l.nestedProperty(n,d).get():n,h=o(f),p=!1!==h.auto,T=h.min,w=h.max,x=h.mid,m=function(){return l.aggNums(Math.min,null,r)},y=function(){return l.aggNums(Math.max,null,r)};void 0===T?T=m():p&&(T=f._colorAx&&t(T)?Math.min(T,m()):m()),void 0===w?w=y():p&&(w=f._colorAx&&t(w)?Math.max(w,y()):y()),p&&void 0!==x&&(w-x>x-T?T=x-(w-x):w-x<x-T&&(w=x+(x-T))),T===w&&(T-=.5,w+=.5),h._sync("min",T),h._sync("max",w),h.autocolorscale&&h._sync("colorscale",T*w<0?i.colorscale.diverging:T>=0?i.colorscale.sequential:i.colorscale.sequentialminus)}},{"../../lib":232,"./helpers":113,"fast-isnumeric":17}],111:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("./helpers").hasColorscale,o=c("./helpers").extractOpts;tt.exports=function(e,n){function s(p,T){var w=p["_"+T];void 0!==w&&(p[T]=w)}function a(p,T){var w=T.container?t.nestedProperty(p,T.container).get():p;if(w)if(w.coloraxis)w._colorAx=n[w.coloraxis];else{var x=o(w),m=x.auto;(m||void 0===x.min)&&s(w,T.min),(m||void 0===x.max)&&s(w,T.max),x.autocolorscale&&s(w,"colorscale")}}for(var i=0;i<e.length;i++){var r=e[i],d=r._module.colorbar;if(d)if(Array.isArray(d))for(var f=0;f<d.length;f++)a(r,d[f]);else a(r,d);l(r,"marker.line")&&a(r,{container:"marker.line",min:"cmin",max:"cmax"})}for(var h in n._colorAxes)a(n[h],{min:"cmin",max:"cmax"})}},{"../../lib":232,"./helpers":113}],112:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("../../lib"),o=c("../colorbar/has_colorbar"),e=c("../colorbar/defaults"),n=c("./scales").isValid,s=c("../../registry").traceIs;function a(i,r){var d=r.slice(0,r.length-1);return r?l.nestedProperty(i,d).get()||{}:i}tt.exports=function i(r,d,f,h,p){var T=p.prefix,w=p.cLetter,x="_module"in d,m=a(r,T),y=a(d,T),A=a(d._template||{},T)||{},b=function(){return delete r.coloraxis,delete d.coloraxis,i(r,d,f,h,p)};if(x){var k=f._colorAxes||{},L=h(T+"coloraxis");if(L){var g=s(d,"contour")&&l.nestedProperty(d,"contours.coloring").get()||"heatmap",S=k[L];return void(S?(S[2].push(b),S[0]!==g&&(S[0]=!1,l.warn(["Ignoring coloraxis:",L,"setting","as it is linked to incompatible colorscales."].join(" ")))):k[L]=[g,d,[b]])}}var I=m[w+"min"],v=m[w+"max"],R=t(I)&&t(v)&&I<v;h(T+w+"auto",!R)?h(T+w+"mid"):(h(T+w+"min"),h(T+w+"max"));var z,F,B=m.colorscale,H=A.colorscale;void 0!==B&&(z=!n(B)),void 0!==H&&(z=!n(H)),h(T+"autocolorscale",z),h(T+"colorscale"),h(T+"reversescale"),"marker.line."!==T&&(T&&x&&(F=o(m)),h(T+"showscale",F)&&(T&&A&&(y._template=A),e(m,y,f)))}},{"../../lib":232,"../../registry":318,"../colorbar/defaults":105,"../colorbar/has_colorbar":107,"./scales":117,"fast-isnumeric":17}],113:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("tinycolor2"),o=c("fast-isnumeric"),e=c("../../lib"),n=c("../color"),s=c("./scales").isValid,a=["showscale","autocolorscale","colorscale","reversescale","colorbar"],i=["min","max","mid","auto"];function r(T){var w,x,m,y=T._colorAx,A=y||T,b={};for(x=0;x<a.length;x++)b[m=a[x]]=A[m];if(y)for(w="c",x=0;x<i.length;x++)b[m=i[x]]=A["c"+m];else{var k;for(x=0;x<i.length;x++)((k="c"+(m=i[x]))in A||(k="z"+m)in A)&&(b[m]=A[k]);w=k.charAt(0)}return b._sync=function(L,g){var S=-1!==i.indexOf(L)?w+L:L;A[S]=A["_"+S]=g},b}function d(T){for(var w=r(T),x=w.min,m=w.max,y=w.reversescale?f(w.colorscale):w.colorscale,A=y.length,b=new Array(A),k=new Array(A),L=0;L<A;L++){var g=y[L];b[L]=x+g[0]*(m-x),k[L]=g[1]}return{domain:b,range:k}}function f(T){for(var w=T.length,x=new Array(w),m=w-1,y=0;m>=0;m--,y++){var A=T[m];x[y]=[1-A[0],A[1]]}return x}function h(T,w){w=w||{};for(var x=T.domain,m=T.range,y=m.length,A=new Array(y),b=0;b<y;b++){var k=l(m[b]).toRgb();A[b]=[k.r,k.g,k.b,k.a]}var L,g=t.scale.linear().domain(x).range(A).clamp(!0),S=w.noNumericCheck,I=w.returnArray;return(L=S&&I?g:S?function(v){return p(g(v))}:I?function(v){return o(v)?g(v):l(v).isValid()?v:n.defaultLine}:function(v){return o(v)?p(g(v)):l(v).isValid()?v:n.defaultLine}).domain=g.domain,L.range=function(){return m},L}function p(T){return l({r:T[0],g:T[1],b:T[2],a:T[3]}).toRgbString()}tt.exports={hasColorscale:function(T,w,x){var m=w?e.nestedProperty(T,w).get()||{}:T,y=m[x||"color"],A=!1;if(e.isArrayOrTypedArray(y))for(var b=0;b<y.length;b++)if(o(y[b])){A=!0;break}return e.isPlainObject(m)&&(A||!0===m.showscale||o(m.cmin)&&o(m.cmax)||s(m.colorscale)||e.isPlainObject(m.colorbar))},extractOpts:r,extractScale:d,flipScale:f,makeColorScaleFunc:h,makeColorScaleFuncFromTrace:function(T,w){return h(d(T),w)}}},{"../../lib":232,"../color":102,"./scales":117,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],114:[function(c,tt,V){"use strict";var t=c("./scales"),l=c("./helpers");tt.exports={moduleType:"component",name:"colorscale",attributes:c("./attributes"),layoutAttributes:c("./layout_attributes"),supplyLayoutDefaults:c("./layout_defaults"),handleDefaults:c("./defaults"),crossTraceDefaults:c("./cross_trace_defaults"),calc:c("./calc"),scales:t.scales,defaultScale:t.defaultScale,getScale:t.get,isValidScale:t.isValid,hasColorscale:l.hasColorscale,extractOpts:l.extractOpts,extractScale:l.extractScale,flipScale:l.flipScale,makeColorScaleFunc:l.makeColorScaleFunc,makeColorScaleFuncFromTrace:l.makeColorScaleFuncFromTrace}},{"./attributes":109,"./calc":110,"./cross_trace_defaults":111,"./defaults":112,"./helpers":113,"./layout_attributes":115,"./layout_defaults":116,"./scales":117}],115:[function(c,tt,V){"use strict";var t=c("../../lib/extend").extendFlat,l=c("./attributes"),o=c("./scales").scales;tt.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:o.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:o.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:o.RdBu,editType:"calc"}},coloraxis:t({_isSubplotObj:!0,editType:"calc"},l("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":226,"./attributes":109,"./scales":117}],116:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../plot_api/plot_template"),o=c("./layout_attributes"),e=c("./defaults");tt.exports=function(n,s){function a(w,x){return t.coerce(n,s,o,w,x)}a("colorscale.sequential"),a("colorscale.sequentialminus"),a("colorscale.diverging");var i,r,d=s._colorAxes;function f(w,x){return t.coerce(i,r,o.coloraxis,w,x)}for(var h in d){var p=d[h];if(p[0])i=n[h]||{},(r=l.newContainer(s,h,"coloraxis"))._name=h,e(i,r,s,f,{prefix:"",cLetter:"c"});else{for(var T=0;T<p[2].length;T++)p[2][T]();delete s._colorAxes[h]}}}},{"../../lib":232,"../../plot_api/plot_template":268,"./defaults":112,"./layout_attributes":115}],117:[function(c,tt,V){"use strict";var t=c("tinycolor2"),l={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},o=l.RdBu;function e(n){var s=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||0!=+n[0][0]||1!=+n[n.length-1][0])return!1;for(var a=0;a<n.length;a++){var i=n[a];if(2!==i.length||+i[0]<s||!t(i[1]).isValid())return!1;s=+i[0]}return!0}tt.exports={scales:l,defaultScale:o,get:function(n,s){if(s||(s=o),!n)return s;function a(){try{n=l[n]||JSON.parse(n)}catch{n=s}}return"string"==typeof n&&(a(),"string"==typeof n&&a()),e(n)?n:s},isValid:function(n){return void 0!==l[n]||e(n)}}},{tinycolor2:67}],118:[function(c,tt,V){"use strict";tt.exports=function(t,l,o,e,n){var s=(t-o)/(e-o),a=s+l/(e-o),i=(s+a)/2;return"left"===n||"bottom"===n?s:"center"===n||"middle"===n?i:"right"===n||"top"===n?a:s<2/3-i?s:a>4/3-i?a:i}},{}],119:[function(c,tt,V){"use strict";var t=c("../../lib"),l=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];tt.exports=function(o,e,n,s){return o="left"===n?0:"center"===n?1:"right"===n?2:t.constrain(Math.floor(3*o),0,2),e="bottom"===s?0:"middle"===s?1:"top"===s?2:t.constrain(Math.floor(3*e),0,2),l[e][o]}},{"../../lib":232}],120:[function(c,tt,V){"use strict";V.selectMode=function(t){return"lasso"===t||"select"===t},V.drawMode=function(t){return"drawclosedpath"===t||"drawopenpath"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},V.openMode=function(t){return"drawline"===t||"drawopenpath"===t},V.rectMode=function(t){return"select"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},V.freeMode=function(t){return"lasso"===t||"drawclosedpath"===t||"drawopenpath"===t},V.selectingOrDrawing=function(t){return V.freeMode(t)||V.rectMode(t)}},{}],121:[function(c,tt,V){"use strict";var t=c("mouse-event-offset"),l=c("has-hover"),o=c("has-passive-events"),e=c("../../lib").removeElement,n=c("../../plots/cartesian/constants"),s=tt.exports={};s.align=c("./align"),s.getCursor=c("./cursor");var a=c("./unhover");function i(){var d=document.createElement("div");d.className="dragcover";var f=d.style;return f.position="fixed",f.left=0,f.right=0,f.top=0,f.bottom=0,f.zIndex=999999999,f.background="none",document.body.appendChild(d),d}function r(d){return t(d.changedTouches?d.changedTouches[0]:d,document.body)}s.unhover=a.wrapped,s.unhoverRaw=a.raw,s.init=function(d){var f,h,p,T,w,x,m,y,A=d.gd,b=1,k=A._context.doubleClickDelay,L=d.element;A._mouseDownTime||(A._mouseDownTime=0),L.style.pointerEvents="all",L.onmousedown=S,o?(L._ontouchstart&&L.removeEventListener("touchstart",L._ontouchstart),L._ontouchstart=S,L.addEventListener("touchstart",S,{passive:!1})):L.ontouchstart=S;var g=d.clampFn||function(R,z,F){return Math.abs(R)<F&&(R=0),Math.abs(z)<F&&(z=0),[R,z]};function S(R){A._dragged=!1,A._dragging=!0;var z=r(R);f=z[0],h=z[1],m=R.target,x=R,y=2===R.buttons||R.ctrlKey,void 0===R.clientX&&void 0===R.clientY&&(R.clientX=f,R.clientY=h),(p=(new Date).getTime())-A._mouseDownTime<k?b+=1:(b=1,A._mouseDownTime=p),d.prepFn&&d.prepFn(R,f,h),l&&!y?(w=i()).style.cursor=window.getComputedStyle(L).cursor:l||(w=document,T=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(L).cursor),document.addEventListener("mouseup",v),document.addEventListener("touchend",v),!1!==d.dragmode&&(R.preventDefault(),document.addEventListener("mousemove",I),document.addEventListener("touchmove",I,{passive:!1}))}function I(R){R.preventDefault();var z=r(R),B=g(z[0]-f,z[1]-h,d.minDrag||n.MINDRAG),H=B[0],X=B[1];(H||X)&&(A._dragged=!0,s.unhover(A,R)),A._dragged&&d.moveFn&&!y&&(A._dragdata={element:L,dx:H,dy:X},d.moveFn(H,X))}function v(R){if(delete A._dragdata,!1!==d.dragmode&&(R.preventDefault(),document.removeEventListener("mousemove",I),document.removeEventListener("touchmove",I)),document.removeEventListener("mouseup",v),document.removeEventListener("touchend",v),l?e(w):T&&(w.documentElement.style.cursor=T,T=null),A._dragging){if(A._dragging=!1,(new Date).getTime()-A._mouseDownTime>k&&(b=Math.max(b-1,1)),A._dragged)d.doneFn&&d.doneFn();else if(d.clickFn&&d.clickFn(b,x),!y){var z;try{z=new MouseEvent("click",R)}catch{var F=r(R);(z=document.createEvent("MouseEvents")).initMouseEvent("click",R.bubbles,R.cancelable,R.view,R.detail,R.screenX,R.screenY,F[0],F[1],R.ctrlKey,R.altKey,R.shiftKey,R.metaKey,R.button,R.relatedTarget)}m.dispatchEvent(z)}A._dragging=!1,A._dragged=!1}else A._dragged=!1}},s.coverSlip=i},{"../../lib":232,"../../plots/cartesian/constants":286,"./align":118,"./cursor":119,"./unhover":122,"has-hover":48,"has-passive-events":49,"mouse-event-offset":53}],122:[function(c,tt,V){"use strict";var t=c("../../lib/events"),l=c("../../lib/throttle"),o=c("../../lib/dom").getGraphDiv,e=c("../fx/constants"),n=tt.exports={};n.wrapped=function(s,a,i){(s=o(s))._fullLayout&&l.clear(s._fullLayout._uid+e.HOVERID),n.raw(s,a,i)},n.raw=function(s,a){var i=s._fullLayout,r=s._hoverdata;a||(a={}),a.target&&!s._dragged&&!1===t.triggerHandler(s,"plotly_beforehover",a)||(i._hoverlayer.selectAll("g").remove(),i._hoverlayer.selectAll("line").remove(),i._hoverlayer.selectAll("circle").remove(),s._hoverdata=void 0,a.target&&r&&s.emit("plotly_unhover",{event:a,points:r}))}},{"../../lib/dom":224,"../../lib/events":225,"../../lib/throttle":256,"../fx/constants":136}],123:[function(c,tt,V){"use strict";V.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},V.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},{}],124:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../../lib"),o=l.numberFormat,e=c("fast-isnumeric"),n=c("tinycolor2"),s=c("../../registry"),a=c("../color"),i=c("../colorscale"),r=l.strTranslate,d=c("../../lib/svg_text_utils"),f=c("../../constants/xmlns_namespaces"),h=c("../../constants/alignment").LINE_SPACING,p=c("../../constants/interactions").DESELECTDIM,T=c("../../traces/scatter/subtypes"),w=c("../../traces/scatter/make_bubble_size_func"),x=c("../../components/fx/helpers").appendArrayPointValue,m=tt.exports={};function y(E,N,Z){var U=N.fillpattern,D=U&&m.getPatternAttr(U.shape,0,"");if(D){var M=m.getPatternAttr(U.bgcolor,0,null),j=m.getPatternAttr(U.fgcolor,0,null),C=U.fgopacity,G=m.getPatternAttr(U.size,0,8),K=m.getPatternAttr(U.solidity,0,.3);m.pattern(E,"point",Z,N.uid,D,G,K,void 0,U.fillmode,M,j,C)}else N.fillcolor&&E.call(a.fill,N.fillcolor)}m.font=function(E,N,Z,U){l.isPlainObject(N)&&(U=N.color,Z=N.size,N=N.family),N&&E.style("font-family",N),Z+1&&E.style("font-size",Z+"px"),U&&E.call(a.fill,U)},m.setPosition=function(E,N,Z){E.attr("x",N).attr("y",Z)},m.setSize=function(E,N,Z){E.attr("width",N).attr("height",Z)},m.setRect=function(E,N,Z,U,D){E.call(m.setPosition,N,Z).call(m.setSize,U,D)},m.translatePoint=function(E,N,Z,U){var D=Z.c2p(E.x),M=U.c2p(E.y);return!!(e(D)&&e(M)&&N.node())&&("text"===N.node().nodeName?N.attr("x",D).attr("y",M):N.attr("transform",r(D,M)),!0)},m.translatePoints=function(E,N,Z){E.each(function(U){var D=t.select(this);m.translatePoint(U,D,N,Z)})},m.hideOutsideRangePoint=function(E,N,Z,U,D,M){N.attr("display",Z.isPtWithinRange(E,D)&&U.isPtWithinRange(E,M)?null:"none")},m.hideOutsideRangePoints=function(E,N){if(N._hasClipOnAxisFalse){var Z=N.xaxis,U=N.yaxis;E.each(function(D){var M=D[0].trace,j=M.xcalendar,C=M.ycalendar,G=s.traceIs(M,"bar-like")?".bartext":".point,.textpoint";E.selectAll(G).each(function(K){m.hideOutsideRangePoint(K,t.select(this),Z,U,j,C)})})}},m.crispRound=function(E,N,Z){return N&&e(N)?E._context.staticPlot?N:N<1?1:Math.round(N):Z||0},m.singleLineStyle=function(E,N,Z,U,D){N.style("fill","none");var M=(((E||[])[0]||{}).trace||{}).line||{},j=Z||M.width||0,C=D||M.dash||"";a.stroke(N,U||M.color),m.dashLine(N,C,j)},m.lineGroupStyle=function(E,N,Z,U){E.style("fill","none").each(function(D){var M=(((D||[])[0]||{}).trace||{}).line||{},j=N||M.width||0,C=U||M.dash||"";t.select(this).call(a.stroke,Z||M.color).call(m.dashLine,C,j)})},m.dashLine=function(E,N,Z){N=m.dashStyle(N,Z=+Z||0),E.style({"stroke-dasharray":N,"stroke-width":Z+"px"})},m.dashStyle=function(E,N){N=+N||1;var Z=Math.max(N,3);return"solid"===E?E="":"dot"===E?E=Z+"px,"+Z+"px":"dash"===E?E=3*Z+"px,"+3*Z+"px":"longdash"===E?E=5*Z+"px,"+5*Z+"px":"dashdot"===E?E=3*Z+"px,"+Z+"px,"+Z+"px,"+Z+"px":"longdashdot"===E&&(E=5*Z+"px,"+2*Z+"px,"+Z+"px,"+2*Z+"px"),E},m.singleFillStyle=function(E,N){var Z=t.select(E.node());y(E,((Z.data()[0]||[])[0]||{}).trace||{},N)},m.fillGroupStyle=function(E,N){E.style("stroke-width",0).each(function(Z){var U=t.select(this);Z[0].trace&&y(U,Z[0].trace,N)})};var A=c("./symbol_defs");m.symbolNames=[],m.symbolFuncs=[],m.symbolNeedLines={},m.symbolNoDot={},m.symbolNoFill={},m.symbolList=[],Object.keys(A).forEach(function(E){var N=A[E],Z=N.n;m.symbolList.push(Z,String(Z),E,Z+100,String(Z+100),E+"-open"),m.symbolNames[Z]=E,m.symbolFuncs[Z]=N.f,N.needLine&&(m.symbolNeedLines[Z]=!0),N.noDot?m.symbolNoDot[Z]=!0:m.symbolList.push(Z+200,String(Z+200),E+"-dot",Z+300,String(Z+300),E+"-open-dot"),N.noFill&&(m.symbolNoFill[Z]=!0)});var b=m.symbolNames.length;function k(E,N){return m.symbolFuncs[E%100](N)+(E>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}m.symbolNumber=function(E){if(e(E))E=+E;else if("string"==typeof E){var N=0;E.indexOf("-open")>0&&(N=100,E=E.replace("-open","")),E.indexOf("-dot")>0&&(N+=200,E=E.replace("-dot","")),(E=m.symbolNames.indexOf(E))>=0&&(E+=N)}return E%100>=b||E>=400?0:Math.floor(Math.max(E,0))};var L={x1:1,x2:0,y1:0,y2:0},g={x1:0,x2:0,y1:1,y2:0},S=o("~f"),I={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:L},horizontalreversed:{node:"linearGradient",attrs:L,reversed:!0},vertical:{node:"linearGradient",attrs:g},verticalreversed:{node:"linearGradient",attrs:g,reversed:!0}};m.gradient=function(E,N,Z,U,D,M){for(var j=D.length,C=I[U],G=new Array(j),K=0;K<j;K++)C.reversed?G[j-1-K]=[S(100*(1-D[K][0])),D[K][1]]:G[K]=[S(100*D[K][0]),D[K][1]];var $=N._fullLayout,Q="g"+$._uid+"-"+Z,ut=$._defs.select(".gradients").selectAll("#"+Q).data([U+G.join(";")],l.identity);ut.exit().remove(),ut.enter().append(C.node).each(function(){var ct=t.select(this);C.attrs&&ct.attr(C.attrs),ct.attr("id",Q);var gt=ct.selectAll("stop").data(G);gt.exit().remove(),gt.enter().append("stop"),gt.each(function(vt){var _t=n(vt[1]);t.select(this).attr({offset:vt[0]+"%","stop-color":a.tinyRGB(_t),"stop-opacity":_t.getAlpha()})})}),E.style(M,q(Q,N)).style(M+"-opacity",null),E.classed("gradient_filled",!0)},m.pattern=function(E,N,Z,U,D,M,j,C,G,K,$,Q){var ut="legend"===N;C&&("overlay"===G?$=a.contrast(K=C):(K=void 0,$=C));var ct,gt,vt,_t,kt,Et,It,Lt,at,mt=Z._fullLayout,St="p"+mt._uid+"-"+U,bt={};switch(D){case"/":ct=M*Math.sqrt(2),gt=M*Math.sqrt(2),Et="path",bt={d:vt="M-"+ct/4+","+gt/4+"l"+ct/2+",-"+gt/2+"M0,"+gt+"L"+ct+",0M"+ct/4*3+","+gt/4*5+"l"+ct/2+",-"+gt/2,opacity:Q,stroke:$,"stroke-width":(_t=j*M)+"px"};break;case"\\":ct=M*Math.sqrt(2),gt=M*Math.sqrt(2),Et="path",bt={d:vt="M"+ct/4*3+",-"+gt/4+"l"+ct/2+","+gt/2+"M0,0L"+ct+","+gt+"M-"+ct/4+","+gt/4*3+"l"+ct/2+","+gt/2,opacity:Q,stroke:$,"stroke-width":(_t=j*M)+"px"};break;case"x":ct=M*Math.sqrt(2),gt=M*Math.sqrt(2),vt="M-"+ct/4+","+gt/4+"l"+ct/2+",-"+gt/2+"M0,"+gt+"L"+ct+",0M"+ct/4*3+","+gt/4*5+"l"+ct/2+",-"+gt/2+"M"+ct/4*3+",-"+gt/4+"l"+ct/2+","+gt/2+"M0,0L"+ct+","+gt+"M-"+ct/4+","+gt/4*3+"l"+ct/2+","+gt/2,_t=M-M*Math.sqrt(1-j),Et="path",bt={d:vt,opacity:Q,stroke:$,"stroke-width":_t+"px"};break;case"|":Et="path",Et="path",bt={d:vt="M"+(ct=M)/2+",0L"+ct/2+","+(gt=M),opacity:Q,stroke:$,"stroke-width":(_t=j*M)+"px"};break;case"-":Et="path",Et="path",bt={d:vt="M0,"+(gt=M)/2+"L"+(ct=M)+","+gt/2,opacity:Q,stroke:$,"stroke-width":(_t=j*M)+"px"};break;case"+":Et="path",vt="M"+(ct=M)/2+",0L"+ct/2+","+(gt=M)+"M0,"+gt/2+"L"+ct+","+gt/2,_t=M-M*Math.sqrt(1-j),Et="path",bt={d:vt,opacity:Q,stroke:$,"stroke-width":_t+"px"};break;case".":ct=M,gt=M,j<Math.PI/4?kt=Math.sqrt(j*M*M/Math.PI):(It=j,Lt=Math.PI/4,kt=(at=M/2)+(M/Math.sqrt(2)-at)*(It-Lt)/(1-Lt)),Et="circle",bt={cx:ct/2,cy:gt/2,r:kt,opacity:Q,fill:$}}var wt=[D||"noSh",K||"noBg",$||"noFg",M,j].join(";"),Ot=mt._defs.select(".patterns").selectAll("#"+St).data([wt],l.identity);Ot.exit().remove(),Ot.enter().append("pattern").each(function(){var Nt=t.select(this);if(Nt.attr({id:St,width:ct+"px",height:gt+"px",patternUnits:"userSpaceOnUse",patternTransform:ut?"scale(0.8)":""}),K){var Dt=Nt.selectAll("rect").data([0]);Dt.exit().remove(),Dt.enter().append("rect").attr({width:ct+"px",height:gt+"px",fill:K})}var zt=Nt.selectAll(Et).data([0]);zt.exit().remove(),zt.enter().append(Et).attr(bt)}),E.style("fill",q(St,Z)).style("fill-opacity",null),E.classed("pattern_filled",!0)},m.initGradients=function(E){l.ensureSingle(E._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),t.select(E).selectAll(".gradient_filled").classed("gradient_filled",!1)},m.initPatterns=function(E){l.ensureSingle(E._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),t.select(E).selectAll(".pattern_filled").classed("pattern_filled",!1)},m.getPatternAttr=function(E,N,Z){return E&&l.isArrayOrTypedArray(E)?N<E.length?E[N]:Z:E},m.pointStyle=function(E,N,Z){if(E.size()){var U=m.makePointStyleFns(N);E.each(function(D){m.singlePointStyle(D,t.select(this),N,U,Z)})}},m.singlePointStyle=function(E,N,Z,U,D){var M=Z.marker,j=M.line;if(N.style("opacity",U.selectedOpacityFn?U.selectedOpacityFn(E):void 0===E.mo?M.opacity:E.mo),U.ms2mrc){var C;C="various"===E.ms||"various"===M.size?3:U.ms2mrc(E.ms),E.mrc=C,U.selectedSizeFn&&(C=E.mrc=U.selectedSizeFn(E));var G=m.symbolNumber(E.mx||M.symbol)||0;E.om=G%200>=100,N.attr("d",k(G,C))}var K,$,Q,ut=!1;if(E.so?(Q=j.outlierwidth,$=j.outliercolor,K=M.outliercolor):(Q=(E.mlw+1||(j||{}).width+1||(E.trace?(E.trace.marker.line||{}).width:0)+1)-1||0,$="mlc"in E?E.mlcc=U.lineScale(E.mlc):l.isArrayOrTypedArray(j.color)?a.defaultLine:j.color,l.isArrayOrTypedArray(M.color)&&(K=a.defaultLine,ut=!0),K="mc"in E?E.mcc=U.markerScale(E.mc):M.color||"rgba(0,0,0,0)",U.selectedColorFn&&(K=U.selectedColorFn(E))),E.om)N.call(a.stroke,K).style({"stroke-width":(Q||1)+"px",fill:"none"});else{N.style("stroke-width",(E.isBlank?0:Q)+"px");var gt=M.gradient,vt=E.mgt;vt?ut=!0:vt=gt&&gt.type,l.isArrayOrTypedArray(vt)&&(I[vt=vt[0]]||(vt=0));var _t=M.pattern,kt=_t&&m.getPatternAttr(_t.shape,E.i,"");if(vt&&"none"!==vt){var Et=E.mgc;Et?ut=!0:Et=gt.color;var It=Z.uid;ut&&(It+="-"+E.i),m.gradient(N,D,It,vt,[[0,Et],[1,K]],"fill")}else if(kt){var Lt=m.getPatternAttr(_t.bgcolor,E.i,null),lt=m.getPatternAttr(_t.fgcolor,E.i,null),at=_t.fgopacity,dt=m.getPatternAttr(_t.size,E.i,8),mt=m.getPatternAttr(_t.solidity,E.i,.3),St=E.mcc||l.isArrayOrTypedArray(_t.shape)||l.isArrayOrTypedArray(_t.bgcolor)||l.isArrayOrTypedArray(_t.size)||l.isArrayOrTypedArray(_t.solidity),bt=Z.uid;St&&(bt+="-"+E.i),m.pattern(N,"point",D,bt,kt,dt,mt,E.mcc,_t.fillmode,Lt,lt,at)}else a.fill(N,K);Q&&a.stroke(N,$)}},m.makePointStyleFns=function(E){var N={},Z=E.marker;return N.markerScale=m.tryColorscale(Z,""),N.lineScale=m.tryColorscale(Z,"line"),s.traceIs(E,"symbols")&&(N.ms2mrc=T.isBubble(E)?w(E):function(){return(Z.size||6)/2}),E.selectedpoints&&l.extendFlat(N,m.makeSelectedPointStyleFns(E)),N},m.makeSelectedPointStyleFns=function(E){var N={},D=E.marker||{},M=(E.selected||{}).marker||{},j=(E.unselected||{}).marker||{},G=M.opacity,K=j.opacity,$=void 0!==G,Q=void 0!==K;(l.isArrayOrTypedArray(D.opacity)||$||Q)&&(N.selectedOpacityFn=function(Lt){var lt=void 0===Lt.mo?D.opacity:Lt.mo;return Lt.selected?$?G:lt:Q?K:p*lt});var ut=D.color,ct=M.color,gt=j.color;(ct||gt)&&(N.selectedColorFn=function(Lt){var lt=Lt.mcc||ut;return Lt.selected?ct||lt:gt||lt});var vt=D.size,_t=M.size,kt=j.size,Et=void 0!==_t,It=void 0!==kt;return s.traceIs(E,"symbols")&&(Et||It)&&(N.selectedSizeFn=function(Lt){var lt=Lt.mrc||vt/2;return Lt.selected?Et?_t/2:lt:It?kt/2:lt}),N},m.makeSelectedTextStyleFns=function(E){var N={},C=(E.textfont||{}).color,G=((E.selected||{}).textfont||{}).color,K=((E.unselected||{}).textfont||{}).color;return N.selectedTextColorFn=function($){var Q=$.tc||C;return $.selected?G||Q:K||(G?Q:a.addOpacity(Q,p))},N},m.selectedPointStyle=function(E,N){if(E.size()&&N.selectedpoints){var Z=m.makeSelectedPointStyleFns(N),U=N.marker||{},D=[];Z.selectedOpacityFn&&D.push(function(M,j){M.style("opacity",Z.selectedOpacityFn(j))}),Z.selectedColorFn&&D.push(function(M,j){a.fill(M,Z.selectedColorFn(j))}),Z.selectedSizeFn&&D.push(function(M,j){var C=j.mx||U.symbol||0,G=Z.selectedSizeFn(j);M.attr("d",k(m.symbolNumber(C),G)),j.mrc2=G}),D.length&&E.each(function(M){for(var j=t.select(this),C=0;C<D.length;C++)D[C](j,M)})}},m.tryColorscale=function(E,N){var Z=N?l.nestedProperty(E,N).get():E;return Z&&(Z.colorscale||Z._colorAx)&&l.isArrayOrTypedArray(Z.color)?i.makeColorScaleFuncFromTrace(Z):l.identity};var v={start:1,end:-1,middle:0,bottom:1,top:-1};function R(E,N,Z,U,D){var M=t.select(E.node().parentNode),j=-1!==N.indexOf("top")?"top":-1!==N.indexOf("bottom")?"bottom":"middle",C=-1!==N.indexOf("left")?"end":-1!==N.indexOf("right")?"start":"middle",G=U?U/.8+1:0,K=(d.lineCount(E)-1)*h+1,$=v[C]*G,Q=.75*Z+v[j]*G+(v[j]-1)*K*Z/2;E.attr("text-anchor",C),D||M.attr("transform",r($,Q))}function z(E,N){var Z=E.ts||N.textfont.size;return e(Z)&&Z>0?Z:0}function F(E,N,Z,U){var D=E[0]-N[0],M=E[1]-N[1],j=Z[0]-N[0],C=Z[1]-N[1],G=Math.pow(D*D+M*M,.25),K=Math.pow(j*j+C*C,.25),$=(K*K*D-G*G*j)*U,Q=(K*K*M-G*G*C)*U,ut=3*K*(G+K),ct=3*G*(G+K);return[[t.round(N[0]+(ut&&$/ut),2),t.round(N[1]+(ut&&Q/ut),2)],[t.round(N[0]-(ct&&$/ct),2),t.round(N[1]-(ct&&Q/ct),2)]]}m.textPointStyle=function(E,N,Z){if(E.size()){var U;if(N.selectedpoints){var D=m.makeSelectedTextStyleFns(N);U=D.selectedTextColorFn}var M=N.texttemplate,j=Z._fullLayout;E.each(function(C){var G=t.select(this),K=M?l.extractOption(C,N,"txt","texttemplate"):l.extractOption(C,N,"tx","text");if(K||0===K){if(M){var $=N._module.formatLabels,Q=$?$(C,N,j):{},ut={};x(ut,N,C.i),K=l.texttemplateString(K,Q,j._d3locale,ut,C,N._meta||{})}var gt=C.tp||N.textposition,vt=z(C,N),_t=U?U(C):C.tc||N.textfont.color;G.call(m.font,C.tf||N.textfont.family,vt,_t).text(K).call(d.convertToTspans,Z).call(R,gt,vt,C.mrc)}else G.remove()})}},m.selectedTextStyle=function(E,N){if(E.size()&&N.selectedpoints){var Z=m.makeSelectedTextStyleFns(N);E.each(function(U){var D=t.select(this),M=Z.selectedTextColorFn(U),j=U.tp||N.textposition,C=z(U,N);a.fill(D,M);var G=s.traceIs(N,"bar-like");R(D,j,C,U.mrc2||U.mrc,G)})}},m.smoothopen=function(E,N){if(E.length<3)return"M"+E.join("L");var Z,U="M"+E[0],D=[];for(Z=1;Z<E.length-1;Z++)D.push(F(E[Z-1],E[Z],E[Z+1],N));for(U+="Q"+D[0][0]+" "+E[1],Z=2;Z<E.length-1;Z++)U+="C"+D[Z-2][1]+" "+D[Z-1][0]+" "+E[Z];return U+"Q"+D[E.length-3][1]+" "+E[E.length-1]},m.smoothclosed=function(E,N){if(E.length<3)return"M"+E.join("L")+"Z";var Z,U="M"+E[0],D=E.length-1,M=[F(E[D],E[0],E[1],N)];for(Z=1;Z<D;Z++)M.push(F(E[Z-1],E[Z],E[Z+1],N));for(M.push(F(E[D-1],E[D],E[0],N)),Z=1;Z<=D;Z++)U+="C"+M[Z-1][1]+" "+M[Z][0]+" "+E[Z];return U+"C"+M[D][1]+" "+M[0][0]+" "+E[0]+"Z"};var B={hv:function(E,N){return"H"+t.round(N[0],2)+"V"+t.round(N[1],2)},vh:function(E,N){return"V"+t.round(N[1],2)+"H"+t.round(N[0],2)},hvh:function(E,N){return"H"+t.round((E[0]+N[0])/2,2)+"V"+t.round(N[1],2)+"H"+t.round(N[0],2)},vhv:function(E,N){return"V"+t.round((E[1]+N[1])/2,2)+"H"+t.round(N[0],2)+"V"+t.round(N[1],2)}},H=function(E,N){return"L"+t.round(N[0],2)+","+t.round(N[1],2)};m.steps=function(E){var N=B[E]||H;return function(Z){for(var U="M"+t.round(Z[0][0],2)+","+t.round(Z[0][1],2),D=1;D<Z.length;D++)U+=N(Z[D-1],Z[D]);return U}},m.makeTester=function(){var E=l.ensureSingleById(t.select("body"),"svg","js-plotly-tester",function(Z){Z.attr(f.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),N=l.ensureSingle(E,"path","js-reference-point",function(Z){Z.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});m.tester=E,m.testref=N},m.savedBBoxes={};var X=0;function ot(E){var N=E.getAttribute("data-unformatted");if(null!==N)return N+E.getAttribute("data-math")+E.getAttribute("text-anchor")+E.getAttribute("style")}function q(E,N){if(!E)return null;var Z=N._context,U=Z._exportedPlot?"":Z._baseUrl||"";return U?"url('"+U+"#"+E+"')":"url(#"+E+")"}m.bBox=function(E,N,Z){var U,D,M;if(Z||(Z=ot(E)),Z){if(U=m.savedBBoxes[Z])return l.extendFlat({},U)}else if(1===E.childNodes.length){var j=E.childNodes[0];if(Z=ot(j)){var C=+j.getAttribute("x")||0,G=+j.getAttribute("y")||0,K=j.getAttribute("transform");if(!K){var $=m.bBox(j,!1,Z);return C&&($.left+=C,$.right+=C),G&&($.top+=G,$.bottom+=G),$}if(U=m.savedBBoxes[Z+="~"+C+"~"+G+"~"+K])return l.extendFlat({},U)}}N?D=E:(M=m.tester.node(),D=E.cloneNode(!0),M.appendChild(D)),t.select(D).attr("transform",null).call(d.positionText,0,0);var Q=D.getBoundingClientRect(),ut=m.testref.node().getBoundingClientRect();N||M.removeChild(D);var ct={height:Q.height,width:Q.width,left:Q.left-ut.left,top:Q.top-ut.top,right:Q.right-ut.left,bottom:Q.bottom-ut.top};return X>=1e4&&(m.savedBBoxes={},X=0),Z&&(m.savedBBoxes[Z]=ct),X++,l.extendFlat({},ct)},m.setClipUrl=function(E,N,Z){E.attr("clip-path",q(N,Z))},m.getTranslate=function(E){var N=(E[E.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(Z,U,D){return[U,D].join(" ")}).split(" ");return{x:+N[0]||0,y:+N[1]||0}},m.setTranslate=function(E,N,Z){var D=E.attr?"attr":"setAttribute",M=E[E.attr?"attr":"getAttribute"]("transform")||"";return N=N||0,Z=Z||0,M=M.replace(/(\btranslate\(.*?\);?)/,"").trim(),M=(M+=r(N,Z)).trim(),E[D]("transform",M),M},m.getScale=function(E){var N=(E[E.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(Z,U,D){return[U,D].join(" ")}).split(" ");return{x:+N[0]||1,y:+N[1]||1}},m.setScale=function(E,N,Z){var D=E.attr?"attr":"setAttribute",M=E[E.attr?"attr":"getAttribute"]("transform")||"";return N=N||1,Z=Z||1,M=M.replace(/(\bscale\(.*?\);?)/,"").trim(),M=(M+="scale("+N+","+Z+")").trim(),E[D]("transform",M),M};var P=/\s*sc.*/;m.setPointGroupScale=function(E,N,Z){if(N=N||1,Z=Z||1,E){var U=1===N&&1===Z?"":"scale("+N+","+Z+")";E.each(function(){var D=(this.getAttribute("transform")||"").replace(P,"");D=(D+=U).trim(),this.setAttribute("transform",D)})}};var J=/translate\([^)]*\)\s*$/;m.setTextPointsScale=function(E,N,Z){E&&E.each(function(){var U,D=t.select(this),M=D.select("text");if(M.node()){var j=parseFloat(M.attr("x")||0),C=parseFloat(M.attr("y")||0),G=(D.attr("transform")||"").match(J);U=1===N&&1===Z?[]:[r(j,C),"scale("+N+","+Z+")",r(-j,-C)],G&&U.push(G),D.attr("transform",U.join(""))}})}},{"../../components/fx/helpers":138,"../../constants/alignment":207,"../../constants/interactions":211,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../lib/svg_text_utils":255,"../../registry":318,"../../traces/scatter/make_bubble_size_func":375,"../../traces/scatter/subtypes":383,"../color":102,"../colorscale":114,"./symbol_defs":125,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],125:[function(c,tt,V){"use strict";var t=c("@plotly/d3");tt.exports={circle:{n:0,f:function(l){var o=t.round(l,2);return"M"+o+",0A"+o+","+o+" 0 1,1 0,-"+o+"A"+o+","+o+" 0 0,1 "+o+",0Z"}},square:{n:1,f:function(l){var o=t.round(l,2);return"M"+o+","+o+"H-"+o+"V-"+o+"H"+o+"Z"}},diamond:{n:2,f:function(l){var o=t.round(1.3*l,2);return"M"+o+",0L0,"+o+"L-"+o+",0L0,-"+o+"Z"}},cross:{n:3,f:function(l){var o=t.round(.4*l,2),e=t.round(1.2*l,2);return"M"+e+","+o+"H"+o+"V"+e+"H-"+o+"V"+o+"H-"+e+"V-"+o+"H-"+o+"V-"+e+"H"+o+"V-"+o+"H"+e+"Z"}},x:{n:4,f:function(l){var o=t.round(.8*l/Math.sqrt(2),2),e="l"+o+","+o,n="l"+o+",-"+o,s="l-"+o+",-"+o,a="l-"+o+","+o;return"M0,"+o+e+n+s+n+s+a+s+a+e+a+e+"Z"}},"triangle-up":{n:5,f:function(l){var o=t.round(2*l/Math.sqrt(3),2);return"M-"+o+","+t.round(l/2,2)+"H"+o+"L0,-"+t.round(l,2)+"Z"}},"triangle-down":{n:6,f:function(l){var o=t.round(2*l/Math.sqrt(3),2);return"M-"+o+",-"+t.round(l/2,2)+"H"+o+"L0,"+t.round(l,2)+"Z"}},"triangle-left":{n:7,f:function(l){var o=t.round(2*l/Math.sqrt(3),2);return"M"+t.round(l/2,2)+",-"+o+"V"+o+"L-"+t.round(l,2)+",0Z"}},"triangle-right":{n:8,f:function(l){var o=t.round(2*l/Math.sqrt(3),2);return"M-"+t.round(l/2,2)+",-"+o+"V"+o+"L"+t.round(l,2)+",0Z"}},"triangle-ne":{n:9,f:function(l){var o=t.round(.6*l,2),e=t.round(1.2*l,2);return"M-"+e+",-"+o+"H"+o+"V"+e+"Z"}},"triangle-se":{n:10,f:function(l){var o=t.round(.6*l,2),e=t.round(1.2*l,2);return"M"+o+",-"+e+"V"+o+"H-"+e+"Z"}},"triangle-sw":{n:11,f:function(l){var o=t.round(.6*l,2),e=t.round(1.2*l,2);return"M"+e+","+o+"H-"+o+"V-"+e+"Z"}},"triangle-nw":{n:12,f:function(l){var o=t.round(.6*l,2),e=t.round(1.2*l,2);return"M-"+o+","+e+"V-"+o+"H"+e+"Z"}},pentagon:{n:13,f:function(l){var o=t.round(.951*l,2),e=t.round(.588*l,2),n=t.round(-l,2),s=t.round(-.309*l,2);return"M"+o+","+s+"L"+e+","+t.round(.809*l,2)+"H-"+e+"L-"+o+","+s+"L0,"+n+"Z"}},hexagon:{n:14,f:function(l){var o=t.round(l,2),e=t.round(l/2,2),n=t.round(l*Math.sqrt(3)/2,2);return"M"+n+",-"+e+"V"+e+"L0,"+o+"L-"+n+","+e+"V-"+e+"L0,-"+o+"Z"}},hexagon2:{n:15,f:function(l){var o=t.round(l,2),e=t.round(l/2,2),n=t.round(l*Math.sqrt(3)/2,2);return"M-"+e+","+n+"H"+e+"L"+o+",0L"+e+",-"+n+"H-"+e+"L-"+o+",0Z"}},octagon:{n:16,f:function(l){var o=t.round(.924*l,2),e=t.round(.383*l,2);return"M-"+e+",-"+o+"H"+e+"L"+o+",-"+e+"V"+e+"L"+e+","+o+"H-"+e+"L-"+o+","+e+"V-"+e+"Z"}},star:{n:17,f:function(l){var o=1.4*l,e=t.round(.225*o,2),n=t.round(.951*o,2),s=t.round(.363*o,2),a=t.round(.588*o,2),i=t.round(-o,2),r=t.round(-.309*o,2),d=t.round(.118*o,2),f=t.round(.809*o,2);return"M"+e+","+r+"H"+n+"L"+s+","+d+"L"+a+","+f+"L0,"+t.round(.382*o,2)+"L-"+a+","+f+"L-"+s+","+d+"L-"+n+","+r+"H-"+e+"L0,"+i+"Z"}},hexagram:{n:18,f:function(l){var o=t.round(.66*l,2),e=t.round(.38*l,2),n=t.round(.76*l,2);return"M-"+n+",0l-"+e+",-"+o+"h"+n+"l"+e+",-"+o+"l"+e+","+o+"h"+n+"l-"+e+","+o+"l"+e+","+o+"h-"+n+"l-"+e+","+o+"l-"+e+",-"+o+"h-"+n+"Z"}},"star-triangle-up":{n:19,f:function(l){var o=t.round(l*Math.sqrt(3)*.8,2),e=t.round(.8*l,2),n=t.round(1.6*l,2),s=t.round(4*l,2),a="A "+s+","+s+" 0 0 1 ";return"M-"+o+","+e+a+o+","+e+a+"0,-"+n+a+"-"+o+","+e+"Z"}},"star-triangle-down":{n:20,f:function(l){var o=t.round(l*Math.sqrt(3)*.8,2),e=t.round(.8*l,2),n=t.round(1.6*l,2),s=t.round(4*l,2),a="A "+s+","+s+" 0 0 1 ";return"M"+o+",-"+e+a+"-"+o+",-"+e+a+"0,"+n+a+o+",-"+e+"Z"}},"star-square":{n:21,f:function(l){var o=t.round(1.1*l,2),e=t.round(2*l,2),n="A "+e+","+e+" 0 0 1 ";return"M-"+o+",-"+o+n+"-"+o+","+o+n+o+","+o+n+o+",-"+o+n+"-"+o+",-"+o+"Z"}},"star-diamond":{n:22,f:function(l){var o=t.round(1.4*l,2),e=t.round(1.9*l,2),n="A "+e+","+e+" 0 0 1 ";return"M-"+o+",0"+n+"0,"+o+n+o+",0"+n+"0,-"+o+n+"-"+o+",0Z"}},"diamond-tall":{n:23,f:function(l){var o=t.round(.7*l,2),e=t.round(1.4*l,2);return"M0,"+e+"L"+o+",0L0,-"+e+"L-"+o+",0Z"}},"diamond-wide":{n:24,f:function(l){var o=t.round(1.4*l,2),e=t.round(.7*l,2);return"M0,"+e+"L"+o+",0L0,-"+e+"L-"+o+",0Z"}},hourglass:{n:25,f:function(l){var o=t.round(l,2);return"M"+o+","+o+"H-"+o+"L"+o+",-"+o+"H-"+o+"Z"},noDot:!0},bowtie:{n:26,f:function(l){var o=t.round(l,2);return"M"+o+","+o+"V-"+o+"L-"+o+","+o+"V-"+o+"Z"},noDot:!0},"circle-cross":{n:27,f:function(l){var o=t.round(l,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o+"M"+o+",0A"+o+","+o+" 0 1,1 0,-"+o+"A"+o+","+o+" 0 0,1 "+o+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(l){var o=t.round(l,2),e=t.round(l/Math.sqrt(2),2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e+"M"+o+",0A"+o+","+o+" 0 1,1 0,-"+o+"A"+o+","+o+" 0 0,1 "+o+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(l){var o=t.round(l,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o+"M"+o+","+o+"H-"+o+"V-"+o+"H"+o+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(l){var o=t.round(l,2);return"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+o+","+o+"H-"+o+"V-"+o+"H"+o+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(l){var o=t.round(1.3*l,2);return"M"+o+",0L0,"+o+"L-"+o+",0L0,-"+o+"ZM0,-"+o+"V"+o+"M-"+o+",0H"+o},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(l){var o=t.round(1.3*l,2),e=t.round(.65*l,2);return"M"+o+",0L0,"+o+"L-"+o+",0L0,-"+o+"ZM-"+e+",-"+e+"L"+e+","+e+"M-"+e+","+e+"L"+e+",-"+e},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(l){var o=t.round(1.4*l,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(l){var o=t.round(l,2);return"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(l){var o=t.round(1.2*l,2),e=t.round(.85*l,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o+"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(l){var o=t.round(l/2,2),e=t.round(l,2);return"M"+o+","+e+"V-"+e+"m-"+e+",0V"+e+"M"+e+","+o+"H-"+e+"m0,-"+e+"H"+e},needLine:!0,noFill:!0},"y-up":{n:37,f:function(l){var o=t.round(1.2*l,2),e=t.round(1.6*l,2),n=t.round(.8*l,2);return"M-"+o+","+n+"L0,0M"+o+","+n+"L0,0M0,-"+e+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(l){var o=t.round(1.2*l,2),e=t.round(1.6*l,2),n=t.round(.8*l,2);return"M-"+o+",-"+n+"L0,0M"+o+",-"+n+"L0,0M0,"+e+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(l){var o=t.round(1.2*l,2),e=t.round(1.6*l,2),n=t.round(.8*l,2);return"M"+n+","+o+"L0,0M"+n+",-"+o+"L0,0M-"+e+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(l){var o=t.round(1.2*l,2),e=t.round(1.6*l,2),n=t.round(.8*l,2);return"M-"+n+","+o+"L0,0M-"+n+",-"+o+"L0,0M"+e+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(l){var o=t.round(1.4*l,2);return"M"+o+",0H-"+o},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(l){var o=t.round(1.4*l,2);return"M0,"+o+"V-"+o},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(l){var o=t.round(l,2);return"M"+o+",-"+o+"L-"+o+","+o},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(l){var o=t.round(l,2);return"M"+o+","+o+"L-"+o+",-"+o},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(l){var o=t.round(l,2);return"M0,0L-"+o+","+t.round(2*l,2)+"H"+o+"Z"},noDot:!0},"arrow-down":{n:46,f:function(l){var o=t.round(l,2);return"M0,0L-"+o+",-"+t.round(2*l,2)+"H"+o+"Z"},noDot:!0},"arrow-left":{n:47,f:function(l){var o=t.round(2*l,2),e=t.round(l,2);return"M0,0L"+o+",-"+e+"V"+e+"Z"},noDot:!0},"arrow-right":{n:48,f:function(l){var o=t.round(2*l,2),e=t.round(l,2);return"M0,0L-"+o+",-"+e+"V"+e+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(l){var o=t.round(l,2);return"M-"+o+",0H"+o+"M0,0L-"+o+","+t.round(2*l,2)+"H"+o+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(l){var o=t.round(l,2);return"M-"+o+",0H"+o+"M0,0L-"+o+",-"+t.round(2*l,2)+"H"+o+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(l){var o=t.round(2*l,2),e=t.round(l,2);return"M0,-"+e+"V"+e+"M0,0L"+o+",-"+e+"V"+e+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(l){var o=t.round(2*l,2),e=t.round(l,2);return"M0,-"+e+"V"+e+"M0,0L-"+o+",-"+e+"V"+e+"Z"},needLine:!0,noDot:!0}}},{"@plotly/d3":11}],126:[function(c,tt,V){"use strict";tt.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],127:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("../../registry"),o=c("../../plots/cartesian/axes"),e=c("../../lib"),n=c("./compute_error");function s(a,i,r,d){var f=i["error_"+d]||{},h=[];if(f.visible&&-1!==["linear","log"].indexOf(r.type)){for(var p=n(f),T=0;T<a.length;T++){var w=a[T],x=w.i;if(void 0===x)x=T;else if(null===x)continue;var m=w[d];if(t(r.c2l(m))){var y=p(m,x);if(t(y[0])&&t(y[1])){var A=w[d+"s"]=m-y[0],b=w[d+"h"]=m+y[1];h.push(A,b)}}}var L=i._extremes[r._id],g=o.findExtremes(r,h,e.extendFlat({tozero:L.opts.tozero},{padded:!0}));L.min=L.min.concat(g.min),L.max=L.max.concat(g.max)}}tt.exports=function(a){for(var i=a.calcdata,r=0;r<i.length;r++){var d=i[r],f=d[0].trace;if(!0===f.visible&&l.traceIs(f,"errorBarsOK")){var h=o.getFromId(a,f.xaxis),p=o.getFromId(a,f.yaxis);s(d,f,h,"x"),s(d,f,p,"y")}}}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./compute_error":128,"fast-isnumeric":17}],128:[function(c,tt,V){"use strict";function t(l,o){return"percent"===l?function(e){return Math.abs(e*o/100)}:"constant"===l?function(){return Math.abs(o)}:"sqrt"===l?function(e){return Math.sqrt(Math.abs(e))}:void 0}tt.exports=function(l){var o=l.type,e=l.symmetric;if("data"===o){var n=l.array||[];if(e)return function(r,d){var f=+n[d];return[f,f]};var s=l.arrayminus||[];return function(r,d){var f=+n[d],h=+s[d];return isNaN(f)&&isNaN(h)?[NaN,NaN]:[h||0,f||0]}}var a=t(o,l.value),i=t(o,l.valueminus);return e||void 0===l.valueminus?function(r){var d=a(r);return[d,d]}:function(r){return[i(r),a(r)]}}},{}],129:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("../../registry"),o=c("../../lib"),e=c("../../plot_api/plot_template"),n=c("./attributes");tt.exports=function(s,a,i,r){var d="error_"+r.axis,f=e.newContainer(a,d),h=s[d]||{};function p(m,y){return o.coerce(h,f,n,m,y)}if(!1!==p("visible",void 0!==h.array||void 0!==h.value||"sqrt"===h.type)){var T=p("type","array"in h?"data":"percent"),w=!0;"sqrt"!==T&&(w=p("symmetric",!(("data"===T?"arrayminus":"valueminus")in h))),"data"===T?(p("array"),p("traceref"),w||(p("arrayminus"),p("tracerefminus"))):"percent"!==T&&"constant"!==T||(p("value"),w||p("valueminus"));var x="copy_"+r.inherit+"style";r.inherit&&(a["error_"+r.inherit]||{}).visible&&p(x,!(h.color||t(h.thickness)||t(h.width))),r.inherit&&f[x]||(p("color",i),p("thickness"),p("width",l.traceIs(a,"gl3d")?0:4))}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"./attributes":126,"fast-isnumeric":17}],130:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../plot_api/edit_types").overrideAll,o=c("./attributes"),e={error_x:t.extendFlat({},o),error_y:t.extendFlat({},o)};delete e.error_x.copy_zstyle,delete e.error_y.copy_zstyle,delete e.error_y.copy_ystyle;var n={error_x:t.extendFlat({},o),error_y:t.extendFlat({},o),error_z:t.extendFlat({},o)};delete n.error_x.copy_ystyle,delete n.error_y.copy_ystyle,delete n.error_z.copy_ystyle,delete n.error_z.copy_zstyle,tt.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:e,bar:e,histogram:e,scatter3d:l(n,"calc","nested"),scattergl:l(e,"calc","nested")}},supplyDefaults:c("./defaults"),calc:c("./calc"),makeComputeError:c("./compute_error"),plot:c("./plot"),style:c("./style"),hoverInfo:function(s,a,i){(a.error_y||{}).visible&&(i.yerr=s.yh-s.y,a.error_y.symmetric||(i.yerrneg=s.y-s.ys)),(a.error_x||{}).visible&&(i.xerr=s.xh-s.x,a.error_x.symmetric||(i.xerrneg=s.x-s.xs))}}},{"../../lib":232,"../../plot_api/edit_types":261,"./attributes":126,"./calc":127,"./compute_error":128,"./defaults":129,"./plot":131,"./style":132}],131:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("fast-isnumeric"),o=c("../drawing"),e=c("../../traces/scatter/subtypes");tt.exports=function(n,s,a,i){var r=a.xaxis,d=a.yaxis,f=i&&i.duration>0;s.each(function(h){var p,T=h[0].trace,w=T.error_x||{},x=T.error_y||{};T.ids&&(p=function(b){return b.id});var m=e.hasMarkers(T)&&T.marker.maxdisplayed>0;x.visible||w.visible||(h=[]);var y=t.select(this).selectAll("g.errorbar").data(h,p);if(y.exit().remove(),h.length){w.visible||y.selectAll("path.xerror").remove(),x.visible||y.selectAll("path.yerror").remove(),y.style("opacity",1);var A=y.enter().append("g").classed("errorbar",!0);f&&A.style("opacity",0).transition().duration(i.duration).style("opacity",1),o.setClipUrl(y,a.layerClipId,n),y.each(function(b){var z,F,B,H,k=t.select(this),L=(B=d,H={x:(F=r).c2p((z=b).x),y:B.c2p(z.y)},void 0!==z.yh&&(H.yh=B.c2p(z.yh),H.ys=B.c2p(z.ys),l(H.ys)||(H.noYS=!0,H.ys=B.c2p(z.ys,!0))),void 0!==z.xh&&(H.xh=F.c2p(z.xh),H.xs=F.c2p(z.xs),l(H.xs)||(H.noXS=!0,H.xs=F.c2p(z.xs,!0))),H);if(!m||b.vis){var g,S=k.select("path.yerror");if(x.visible&&l(L.x)&&l(L.yh)&&l(L.ys)){var I=x.width;g="M"+(L.x-I)+","+L.yh+"h"+2*I+"m-"+I+",0V"+L.ys,L.noYS||(g+="m-"+I+",0h"+2*I),S.size()?f&&(S=S.transition().duration(i.duration).ease(i.easing)):S=k.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0),S.attr("d",g)}else S.remove();var v=k.select("path.xerror");if(w.visible&&l(L.y)&&l(L.xh)&&l(L.xs)){var R=(w.copy_ystyle?x:w).width;g="M"+L.xh+","+(L.y-R)+"v"+2*R+"m0,-"+R+"H"+L.xs,L.noXS||(g+="m0,-"+R+"v"+2*R),v.size()?f&&(v=v.transition().duration(i.duration).ease(i.easing)):v=k.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0),v.attr("d",g)}else v.remove()}})}})}},{"../../traces/scatter/subtypes":383,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],132:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../color");tt.exports=function(o){o.each(function(e){var n=e[0].trace,s=n.error_y||{},a=n.error_x||{},i=t.select(this);i.selectAll("path.yerror").style("stroke-width",s.thickness+"px").call(l.stroke,s.color),a.copy_ystyle&&(a=s),i.selectAll("path.xerror").style("stroke-width",a.thickness+"px").call(l.stroke,a.color)})}},{"../color":102,"@plotly/d3":11}],133:[function(c,tt,V){"use strict";var t=c("../../plots/font_attributes"),l=c("./layout_attributes").hoverlabel,o=c("../../lib/extend").extendFlat;tt.exports={hoverlabel:{bgcolor:o({},l.bgcolor,{arrayOk:!0}),bordercolor:o({},l.bordercolor,{arrayOk:!0}),font:t({arrayOk:!0,editType:"none"}),align:o({},l.align,{arrayOk:!0}),namelength:o({},l.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":226,"../../plots/font_attributes":310,"./layout_attributes":143}],134:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../registry");function o(e,n,s,a){a=a||t.identity,Array.isArray(e)&&(n[0][s]=a(e))}tt.exports=function(e){var n=e.calcdata,s=e._fullLayout;function a(h){return function(p){return t.coerceHoverinfo({hoverinfo:p},{_module:h._module},s)}}for(var i=0;i<n.length;i++){var r=n[i],d=r[0].trace;if(!l.traceIs(d,"pie-like")){var f=l.traceIs(d,"2dMap")?o:t.fillArray;f(d.hoverinfo,r,"hi",a(d)),d.hovertemplate&&f(d.hovertemplate,r,"ht"),d.hoverlabel&&(f(d.hoverlabel.bgcolor,r,"hbg"),f(d.hoverlabel.bordercolor,r,"hbc"),f(d.hoverlabel.font.size,r,"hts"),f(d.hoverlabel.font.color,r,"htc"),f(d.hoverlabel.font.family,r,"htf"),f(d.hoverlabel.namelength,r,"hnl"),f(d.hoverlabel.align,r,"hta"))}}}},{"../../lib":232,"../../registry":318}],135:[function(c,tt,V){"use strict";var t=c("../../registry"),l=c("./hover").hover;tt.exports=function(o,e,n){var s=t.getComponentMethod("annotations","onClick")(o,o._hoverdata);function a(){o.emit("plotly_click",{points:o._hoverdata,event:e})}void 0!==n&&l(o,e,n,!0),o._hoverdata&&e&&e.target&&(s&&s.then?s.then(a):a(),e.stopImmediatePropagation&&e.stopImmediatePropagation())}},{"../../registry":318,"./hover":139}],136:[function(c,tt,V){"use strict";tt.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],137:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("./attributes"),o=c("./hoverlabel_defaults");tt.exports=function(e,n,s,a){var i=t.extendFlat({},a.hoverlabel);n.hovertemplate&&(i.namelength=-1),o(e,n,function(r,d){return t.coerce(e,n,l,r,d)},i)}},{"../../lib":232,"./attributes":133,"./hoverlabel_defaults":140}],138:[function(c,tt,V){"use strict";var t=c("../../lib");V.getSubplot=function(a){return a.subplot||a.xaxis+a.yaxis||a.geo},V.isTraceInSubplots=function(a,i){if("splom"===a.type){for(var r=a.xaxes||[],d=a.yaxes||[],f=0;f<r.length;f++)for(var h=0;h<d.length;h++)if(-1!==i.indexOf(r[f]+d[h]))return!0;return!1}return-1!==i.indexOf(V.getSubplot(a))},V.flat=function(a,i){for(var r=new Array(a.length),d=0;d<a.length;d++)r[d]=i;return r},V.p2c=function(a,i){for(var r=new Array(a.length),d=0;d<a.length;d++)r[d]=a[d].p2c(i);return r},V.getDistanceFunction=function(a,i,r,d){return"closest"===a?d||V.quadrature(i,r):"x"===a.charAt(0)?i:r},V.getClosest=function(a,i,r){if(!1!==r.index)r.index>=0&&r.index<a.length?r.distance=0:r.index=!1;else for(var d=0;d<a.length;d++){var f=i(a[d]);f<=r.distance&&(r.index=d,r.distance=f)}return r},V.inbox=function(a,i,r){return a*i<0||0===a?r:1/0},V.quadrature=function(a,i){return function(r){var d=a(r),f=i(r);return Math.sqrt(d*d+f*f)}},V.makeEventData=function(a,i,r){var d="index"in a?a.index:a.pointNumber,f={data:i._input,fullData:i,curveNumber:i.index,pointNumber:d};if(i._indexToPoints){var h=i._indexToPoints[d];1===h.length?f.pointIndex=h[0]:f.pointIndices=h}else f.pointIndex=d;return i._module.eventData?f=i._module.eventData(f,a,i,r,d):("xVal"in a?f.x=a.xVal:"x"in a&&(f.x=a.x),"yVal"in a?f.y=a.yVal:"y"in a&&(f.y=a.y),a.xa&&(f.xaxis=a.xa),a.ya&&(f.yaxis=a.ya),void 0!==a.zLabelVal&&(f.z=a.zLabelVal)),V.appendArrayPointValue(f,i,d),f},V.appendArrayPointValue=function(a,i,r){var d=i._arrayAttrs;if(d)for(var f=0;f<d.length;f++){var h=d[f],p=o(h);if(void 0===a[p]){var T=e(t.nestedProperty(i,h).get(),r);void 0!==T&&(a[p]=T)}}},V.appendArrayMultiPointValues=function(a,i,r){var d=i._arrayAttrs;if(d)for(var f=0;f<d.length;f++){var h=d[f],p=o(h);if(void 0===a[p]){for(var T=t.nestedProperty(i,h).get(),w=new Array(r.length),x=0;x<r.length;x++)w[x]=e(T,r[x]);a[p]=w}}};var l={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function o(a){return l[a]||a}function e(a,i){return Array.isArray(i)?Array.isArray(a)&&Array.isArray(a[i[0]])?a[i[0]][i[1]]:void 0:a[i]}var n={x:!0,y:!0},s={"x unified":!0,"y unified":!0};V.isUnifiedHover=function(a){return"string"==typeof a&&!!s[a]},V.isXYhover=function(a){return"string"==typeof a&&!!n[a]}},{"../../lib":232}],139:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("fast-isnumeric"),o=c("tinycolor2"),e=c("../../lib"),n=e.strTranslate,s=e.strRotate,a=c("../../lib/events"),i=c("../../lib/svg_text_utils"),r=c("../../lib/override_cursor"),d=c("../drawing"),f=c("../color"),h=c("../dragelement"),p=c("../../plots/cartesian/axes"),T=c("../../registry"),w=c("./helpers"),x=c("./constants"),m=c("../legend/defaults"),y=c("../legend/draw"),A=x.YANGLE,b=Math.PI*A/180,k=1/Math.sin(b),L=Math.cos(b),g=Math.sin(b),S=x.HOVERARROWSIZE,I=x.HOVERTEXTPAD,v={box:!0,ohlc:!0,violin:!0,candlestick:!0},R={scatter:!0,scattergl:!0,splom:!0};function z(D){return[D.trace.index,D.index,D.x0,D.y0,D.name,D.attr,D.xa?D.xa._id:"",D.ya?D.ya._id:""].join(",")}V.hover=function(D,M,j,C){D=e.getGraphDiv(D);var G=M.target;e.throttle(D._fullLayout._uid+x.HOVERID,x.HOVERMINTIME,function(){!function(K,$,Q,ut,ct){Q||(Q="xy");var gt=Array.isArray(Q)?Q:[Q],vt=K._fullLayout,_t=vt._plots||[],kt=_t[Q],Et=vt._has("cartesian");if(kt){var It=kt.overlays.map(function(Ye){return Ye.id});gt=gt.concat(It)}for(var Lt=gt.length,lt=new Array(Lt),at=new Array(Lt),dt=!1,mt=0;mt<Lt;mt++){var St=gt[mt];if(_t[St])dt=!0,lt[mt]=_t[St].xaxis,at[mt]=_t[St].yaxis;else{if(!vt[St]||!vt[St]._subplot)return void e.warn("Unrecognized subplot: "+St);var bt=vt[St]._subplot;lt[mt]=bt.xaxis,at[mt]=bt.yaxis}}var wt=$.hovermode||vt.hovermode;if(wt&&!dt&&(wt="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(wt)||!K.calcdata||K.querySelector(".zoombox")||K._dragging)return h.unhoverRaw(K,$);var Ot=vt.hoverdistance;-1===Ot&&(Ot=1/0);var Nt=vt.spikedistance;-1===Nt&&(Nt=1/0);var Dt,zt,Vt,Ct,Zt,Kt,Jt,de,$t,Tt,At,qt,ue,Te=[],Ce=[],xe={hLinePoint:null,vLinePoint:null},ye=!1;if(Array.isArray($))for(wt="array",Vt=0;Vt<$.length;Vt++)(Zt=K.calcdata[$[Vt].curveNumber||0])&&(Kt=Zt[0].trace,"skip"!==Zt[0].trace.hoverinfo&&(Ce.push(Zt),"h"===Kt.orientation&&(ye=!0)));else{for(Ct=0;Ct<K.calcdata.length;Ct++)"skip"!==(Kt=(Zt=K.calcdata[Ct])[0].trace).hoverinfo&&w.isTraceInSubplots(Kt,gt)&&(Ce.push(Zt),"h"===Kt.orientation&&(ye=!0));var ce,nt;if(ct){if(!1===a.triggerHandler(K,"plotly_beforehover",$))return;var it=ct.getBoundingClientRect();ce=$.clientX-it.left,nt=$.clientY-it.top,vt._calcInverseTransform(K);var Mt=e.apply3DTransform(vt._invTransform)(ce,nt);if(nt=Mt[1],(ce=Mt[0])<0||ce>lt[0]._length||nt<0||nt>at[0]._length)return h.unhoverRaw(K,$)}else ce="xpx"in $?$.xpx:lt[0]._length/2,nt="ypx"in $?$.ypx:at[0]._length/2;if($.pointerX=ce+lt[0]._offset,$.pointerY=nt+at[0]._offset,Dt="xval"in $?w.flat(gt,$.xval):w.p2c(lt,ce),zt="yval"in $?w.flat(gt,$.yval):w.p2c(at,nt),!l(Dt[0])||!l(zt[0]))return e.warn("Fx.hover failed",$,K),h.unhoverRaw(K,$)}var Pt=1/0;function Ut(Ye,dn){for(Ct=0;Ct<Ce.length;Ct++)if((Zt=Ce[Ct])&&Zt[0]&&Zt[0].trace&&!0===(Kt=Zt[0].trace).visible&&0!==Kt._length&&-1===["carpet","contourcarpet"].indexOf(Kt._module.name)){if("splom"===Kt.type?Jt=gt[de=0]:(Jt=w.getSubplot(Kt),de=gt.indexOf(Jt)),w.isUnifiedHover($t=wt)&&($t=$t.charAt(0)),qt={cd:Zt,trace:Kt,xa:lt[de],ya:at[de],maxHoverDistance:Ot,maxSpikeDistance:Nt,index:!1,distance:Math.min(Pt,Ot),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:f.defaultLine,name:Kt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},vt[Jt]&&(qt.subplot=vt[Jt]._subplot),vt._splomScenes&&vt._splomScenes[Kt.uid]&&(qt.scene=vt._splomScenes[Kt.uid]),ue=Te.length,"array"===$t){var an=$[Ct];"pointNumber"in an?(qt.index=an.pointNumber,$t="closest"):($t="","xval"in an&&(Tt=an.xval,$t="x"),"yval"in an&&(At=an.yval,$t=$t?"closest":"y"))}else void 0!==Ye&&void 0!==dn?(Tt=Ye,At=dn):(Tt=Dt[de],At=zt[de]);if(0!==Ot)if(Kt._module&&Kt._module.hoverPoints){var qe=Kt._module.hoverPoints(qt,Tt,At,$t,{finiteRange:!0,hoverLayer:vt._hoverlayer});if(qe)for(var vn,un=0;un<qe.length;un++)l((vn=qe[un]).x0)&&l(vn.y0)&&Te.push(ot(vn,wt))}else e.log("Unrecognized trace type in hover:",Kt);if("closest"===wt&&Te.length>ue&&(Te.splice(0,ue),Pt=Te[0].distance),Et&&0!==Nt&&0===Te.length){qt.distance=Nt,qt.index=!1;var $e=Kt._module.hoverPoints(qt,Tt,At,"closest",{hoverLayer:vt._hoverlayer});if($e&&($e=$e.filter(function(bn){return bn.spikeDistance<=Nt})),$e&&$e.length){var Ge,Ee=$e.filter(function(bn){return bn.xa.showspikes&&"hovered data"!==bn.xa.spikesnap});if(Ee.length){var hn=Ee[0];l(hn.x0)&&l(hn.y0)&&(Ge=jt(hn),(!xe.vLinePoint||xe.vLinePoint.spikeDistance>Ge.spikeDistance)&&(xe.vLinePoint=Ge))}var Tn=$e.filter(function(bn){return bn.ya.showspikes&&"hovered data"!==bn.ya.spikesnap});if(Tn.length){var xn=Tn[0];l(xn.x0)&&l(xn.y0)&&(Ge=jt(xn),(!xe.hLinePoint||xe.hLinePoint.spikeDistance>Ge.spikeDistance)&&(xe.hLinePoint=Ge))}}}}}function Rt(Ye,dn,an){for(var qe,vn=null,un=1/0,$e=0;$e<Ye.length;$e++)qe=Ye[$e].spikeDistance,an&&0===$e&&(qe=-1/0),qe<=un&&qe<=dn&&(vn=Ye[$e],un=qe);return vn}function jt(Ye){return Ye?{xa:Ye.xa,ya:Ye.ya,x:void 0!==Ye.xSpike?Ye.xSpike:(Ye.x0+Ye.x1)/2,y:void 0!==Ye.ySpike?Ye.ySpike:(Ye.y0+Ye.y1)/2,distance:Ye.distance,spikeDistance:Ye.spikeDistance,curveNumber:Ye.trace.index,color:Ye.color,pointNumber:Ye.index}:null}Ut();var Yt={fullLayout:vt,container:vt._hoverlayer,event:$},ee=K._spikepoints;K._spikepoints={vLinePoint:xe.vLinePoint,hLinePoint:xe.hLinePoint};var he=function(){Te.sort(function(Ye,dn){return Ye.distance-dn.distance}),Te=function(Ye,dn){for(var an=dn.charAt(0),qe=[],vn=[],un=[],$e=0;$e<Ye.length;$e++){var Ge=Ye[$e];T.traceIs(Ge.trace,"bar-like")||T.traceIs(Ge.trace,"box-violin")?un.push(Ge):Ge.trace[an+"period"]?vn.push(Ge):qe.push(Ge)}return qe.concat(vn).concat(un)}(Te,wt)};he();var Me=wt.charAt(0),re=("x"===Me||"y"===Me)&&Te[0]&&R[Te[0].trace.type];if(Et&&0!==Nt&&0!==Te.length){var me=Rt(Te.filter(function(Ye){return Ye.ya.showspikes}),Nt,re);xe.hLinePoint=jt(me);var Oe=Rt(Te.filter(function(Ye){return Ye.xa.showspikes}),Nt,re);xe.vLinePoint=jt(Oe)}if(0===Te.length){var oe=h.unhoverRaw(K,$);return!Et||null===xe.hLinePoint&&null===xe.vLinePoint||P(ee)&&q(K,xe,Yt),oe}if(Et&&P(ee)&&q(K,xe,Yt),w.isXYhover($t)&&0!==Te[0].length&&"splom"!==Te[0].trace.type){var te=Te[0],Ae=(Te=v[te.trace.type]?Te.filter(function(Ye){return Ye.trace.index===te.trace.index}):[te]).length;Ut(E("x",te,vt),E("y",te,vt));var we,fe=[],Ne={},Pe=0,ze=function(Ye){var dn=v[Ye.trace.type]?z(Ye):Ye.trace.index;if(Ne[dn]){var an=Ne[dn]-1,qe=fe[an];an>0&&Math.abs(Ye.distance)<Math.abs(qe.distance)&&(fe[an]=Ye)}else Pe++,Ne[dn]=Pe,fe.push(Ye)};for(we=0;we<Ae;we++)ze(Te[we]);for(we=Te.length-1;we>Ae-1;we--)ze(Te[we]);Te=fe,he()}var Ue=K._hoverdata,Je=[],He=N(K),be=Z(K);for(Vt=0;Vt<Te.length;Vt++){var ve=Te[Vt],ke=w.makeEventData(ve,ve.trace,ve.cd);if(!1!==ve.hovertemplate){var Fe=!1;ve.cd[ve.index]&&ve.cd[ve.index].ht&&(Fe=ve.cd[ve.index].ht),ve.hovertemplate=Fe||ve.trace.hovertemplate||!1}if(ve.xa&&ve.ya){var De=ve.x0+ve.xa._offset,Ve=ve.x1+ve.xa._offset,Ze=ve.y0+ve.ya._offset,tn=ve.y1+ve.ya._offset,rn=Math.min(De,Ve),ln=Math.max(De,Ve),cn=Math.min(Ze,tn),sn=Math.max(Ze,tn);ke.bbox={x0:rn+be,x1:ln+be,y0:cn+He,y1:sn+He}}ve.eventData=[ke],Je.push(ke)}K._hoverdata=Je;var fn="y"===wt&&(Ce.length>1||Te.length>1)||"closest"===wt&&ye&&Te.length>1,Xe=f.combine(vt.plot_bgcolor||f.background,vt.paper_bgcolor),gn=B(Te,{gd:K,hovermode:wt,rotateLabels:fn,bgColor:Xe,container:vt._hoverlayer,outerContainer:vt._paper.node(),commonLabelOpts:vt.hoverlabel,hoverdistance:vt.hoverdistance});if(w.isUnifiedHover(wt)||(function(Ye,dn,an){var qe,vn,un,$e,Ge,Ee,hn,Tn=0,xn=1,bn=Ye.size(),wn=new Array(bn),On=0;function An(Pn){var Rn=Pn[0],Zn=Pn[Pn.length-1];if(un=Zn.pos+Zn.dp+Zn.size-Rn.pmax,(vn=Rn.pmin-Rn.pos-Rn.dp+Rn.size)>.01){for(Ge=Pn.length-1;Ge>=0;Ge--)Pn[Ge].dp+=vn;qe=!1}if(!(un<.01)){if(vn<-.01){for(Ge=Pn.length-1;Ge>=0;Ge--)Pn[Ge].dp-=un;qe=!1}if(qe){var jn=0;for($e=0;$e<Pn.length;$e++)(Ee=Pn[$e]).pos+Ee.dp+Ee.size>Rn.pmax&&jn++;for($e=Pn.length-1;$e>=0&&!(jn<=0);$e--)(Ee=Pn[$e]).pos>Rn.pmax-1&&(Ee.del=!0,jn--);for($e=0;$e<Pn.length&&!(jn<=0);$e++)if((Ee=Pn[$e]).pos<Rn.pmin+1)for(Ee.del=!0,jn--,un=2*Ee.size,Ge=Pn.length-1;Ge>=0;Ge--)Pn[Ge].dp-=un;for($e=Pn.length-1;$e>=0&&!(jn<=0);$e--)(Ee=Pn[$e]).pos+Ee.dp+Ee.size>Rn.pmax&&(Ee.del=!0,jn--)}}}for(Ye.each(function(Pn){var Rn=Pn[dn],Zn="x"===Rn._id.charAt(0),jn=Rn.range;0===On&&jn&&jn[0]>jn[1]!==Zn&&(xn=-1),wn[On++]=[{datum:Pn,traceIndex:Pn.trace.index,dp:0,pos:Pn.pos,posref:Pn.posref,size:Pn.by*(Zn?k:1)/2,pmin:0,pmax:Zn?an.width:an.height}]}),wn.sort(function(Pn,Rn){return Pn[0].posref-Rn[0].posref||xn*(Rn[0].traceIndex-Pn[0].traceIndex)});!qe&&Tn<=bn;){for(Tn++,qe=!0,$e=0;$e<wn.length-1;){var Ln=wn[$e],Sn=wn[$e+1],qn=Ln[Ln.length-1],zn=Sn[0];if((vn=qn.pos+qn.dp+qn.size-zn.pos-zn.dp+zn.size)>.01&&qn.pmin===zn.pmin&&qn.pmax===zn.pmax){for(Ge=Sn.length-1;Ge>=0;Ge--)Sn[Ge].dp+=vn;for(Ln.push.apply(Ln,Sn),wn.splice($e+1,1),hn=0,Ge=Ln.length-1;Ge>=0;Ge--)hn+=Ln[Ge].dp;for(un=hn/Ln.length,Ge=Ln.length-1;Ge>=0;Ge--)Ln[Ge].dp-=un;qe=!1}else $e++}wn.forEach(An)}for($e=wn.length-1;$e>=0;$e--){var $n=wn[$e];for(Ge=$n.length-1;Ge>=0;Ge--){var Gn=$n[Ge],dr=Gn.datum;dr.offset=Gn.dp,dr.del=Gn.del}}}(gn,fn?"xa":"ya",vt),X(gn,fn,vt._invScaleX,vt._invScaleY)),ct&&ct.tagName){var Mn=T.getComponentMethod("annotations","hasClickToShow")(K,Je);r(t.select(ct),Mn?"pointer":"")}!ct||ut||!function(Ye,dn,an){if(!an||an.length!==Ye._hoverdata.length)return!0;for(var qe=an.length-1;qe>=0;qe--){var vn=an[qe],un=Ye._hoverdata[qe];if(vn.curveNumber!==un.curveNumber||String(vn.pointNumber)!==String(un.pointNumber)||String(vn.pointNumbers)!==String(un.pointNumbers))return!0}return!1}(K,0,Ue)||(Ue&&K.emit("plotly_unhover",{event:$,points:Ue}),K.emit("plotly_hover",{event:$,points:K._hoverdata,xaxes:lt,yaxes:at,xvals:Dt,yvals:zt}))}(D,M,j,C,G)})},V.loneHover=function(D,M){var j=!0;Array.isArray(D)||(j=!1,D=[D]);var C=M.gd,G=N(C),K=Z(C),$=B(D.map(function(ct){var gt=ct._x0||ct.x0||ct.x||0,vt=ct._x1||ct.x1||ct.x||0,_t=ct._y0||ct.y0||ct.y||0,kt=ct._y1||ct.y1||ct.y||0,Et=ct.eventData;if(Et){var It=Math.min(gt,vt),Lt=Math.max(gt,vt),lt=Math.min(_t,kt),at=Math.max(_t,kt),dt=ct.trace;if(T.traceIs(dt,"gl3d")){var mt=C._fullLayout[dt.scene]._scene.container,St=mt.offsetLeft,bt=mt.offsetTop;It+=St,Lt+=St,lt+=bt,at+=bt}Et.bbox={x0:It+K,x1:Lt+K,y0:lt+G,y1:at+G},M.inOut_bbox&&M.inOut_bbox.push(Et.bbox)}else Et=!1;return{color:ct.color||f.defaultLine,x0:ct.x0||ct.x||0,x1:ct.x1||ct.x||0,y0:ct.y0||ct.y||0,y1:ct.y1||ct.y||0,xLabel:ct.xLabel,yLabel:ct.yLabel,zLabel:ct.zLabel,text:ct.text,name:ct.name,idealAlign:ct.idealAlign,borderColor:ct.borderColor,fontFamily:ct.fontFamily,fontSize:ct.fontSize,fontColor:ct.fontColor,nameLength:ct.nameLength,textAlign:ct.textAlign,trace:ct.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:ct.hovertemplate||!1,hovertemplateLabels:ct.hovertemplateLabels||!1,eventData:Et}}),{gd:C,hovermode:"closest",rotateLabels:!1,bgColor:M.bgColor||f.background,container:t.select(M.container),outerContainer:M.outerContainer||M.container}),Q=0,ut=0;return $.sort(function(ct,gt){return ct.y0-gt.y0}).each(function(ct,gt){var vt=ct.y0-ct.by/2;ct.offset=vt-5<Q?Q-vt+5:0,Q=vt+ct.by+ct.offset,gt===M.anchorIndex&&(ut=ct.offset)}).each(function(ct){ct.offset-=ut}),X($,!1,C._fullLayout._invScaleX,C._fullLayout._invScaleY),j?$:$.node()};var F=/<extra>([\s\S]*)<\/extra>/;function B(D,M){var j=M.gd,C=j._fullLayout,G=M.hovermode,K=M.rotateLabels,$=M.bgColor,Q=M.container,ut=M.outerContainer,ct=M.commonLabelOpts||{};if(0===D.length)return[[]];var gt=M.fontFamily||x.HOVERFONT,vt=M.fontSize||x.HOVERFONTSIZE,_t=D[0],kt=_t.xa,Et=_t.ya,It=G.charAt(0),Lt=_t[It+"Label"],lt=U(j,ut),at=lt.top,dt=lt.width,mt=lt.height,St=void 0!==Lt&&_t.distance<=M.hoverdistance&&("x"===G||"y"===G);if(St){var bt,wt,Ot=!0;for(bt=0;bt<D.length;bt++)if(Ot&&void 0===D[bt].zLabel&&(Ot=!1),wt=D[bt].hoverinfo||D[bt].trace.hoverinfo){var Nt=Array.isArray(wt)?wt:wt.split("+");if(-1===Nt.indexOf("all")&&-1===Nt.indexOf(G)){St=!1;break}}Ot&&(St=!1)}var Dt=Q.selectAll("g.axistext").data(St?[0]:[]);if(Dt.enter().append("g").classed("axistext",!0),Dt.exit().remove(),Dt.each(function(){var re=t.select(this),me=e.ensureSingle(re,"path","",function(Ve){Ve.style({"stroke-width":"1px"})}),Oe=e.ensureSingle(re,"text","",function(Ve){Ve.attr("data-notex",1)}),oe=ct.bgcolor||f.defaultLine,te=ct.bordercolor||f.contrast(oe),Ae=f.contrast(oe),_e={family:ct.font.family||gt,size:ct.font.size||vt,color:ct.font.color||Ae};me.style({fill:oe,stroke:te}),Oe.text(Lt).call(d.font,_e).call(i.positionText,0,0).call(i.convertToTspans,j),re.attr("transform","");var ge,we,fe=U(j,Oe.node());if("x"===G){var Ne="top"===kt.side?"-":"";Oe.attr("text-anchor","middle").call(i.positionText,0,"top"===kt.side?at-fe.bottom-S-I:at-fe.top+S+I),we=Et._offset+("top"===kt.side?0:Et._length);var Pe=fe.width/2+I;(ge=kt._offset+(_t.x0+_t.x1)/2)<Pe?(ge=Pe,me.attr("d","M-"+(Pe-S)+",0L-"+(Pe-2*S)+","+Ne+S+"H"+(I+fe.width/2)+"v"+Ne+(2*I+fe.height)+"H-"+Pe+"V"+Ne+S+"Z")):ge>C.width-Pe?(ge=C.width-Pe,me.attr("d","M"+(Pe-S)+",0L"+Pe+","+Ne+S+"v"+Ne+(2*I+fe.height)+"H-"+Pe+"V"+Ne+S+"H"+(Pe-2*S)+"Z")):me.attr("d","M0,0L"+S+","+Ne+S+"H"+(I+fe.width/2)+"v"+Ne+(2*I+fe.height)+"H-"+(I+fe.width/2)+"V"+Ne+S+"H-"+S+"Z")}else{var ze,Ue,Je;"right"===Et.side?(ze="start",Ue=1,Je="",ge=kt._offset+kt._length):(ze="end",Ue=-1,Je="-",ge=kt._offset),we=Et._offset+(_t.y0+_t.y1)/2,Oe.attr("text-anchor",ze),me.attr("d","M0,0L"+Je+S+","+S+"V"+(I+fe.height/2)+"h"+Je+(2*I+fe.width)+"V-"+(I+fe.height/2)+"H"+Je+S+"V-"+S+"Z");var He,be=fe.height/2,ve=at-fe.top-be,ke="clip"+C._uid+"commonlabel"+Et._id;if(ge<fe.width+2*I+S){He="M-"+(S+I)+"-"+be+"h-"+(fe.width-I)+"V"+be+"h"+(fe.width-I)+"Z";var Fe=fe.width-ge+I;i.positionText(Oe,Fe,ve),"end"===ze&&Oe.selectAll("tspan").each(function(){var Ve=t.select(this),Ze=d.tester.append("text").text(Ve.text()).call(d.font,_e),tn=U(j,Ze.node());Math.round(tn.width)<Math.round(fe.width)&&Ve.attr("x",Fe-tn.width),Ze.remove()})}else i.positionText(Oe,Ue*(I+S),ve),He=null;var De=C._topclips.selectAll("#"+ke).data(He?[0]:[]);De.enter().append("clipPath").attr("id",ke).append("path"),De.exit().remove(),De.select("path").attr("d",He),d.setClipUrl(Oe,He?ke:null,j)}re.attr("transform",n(ge,we))}),w.isUnifiedHover(G)){Q.selectAll("g.hovertext").remove();var zt=D.filter(function(re){return"none"!==re.hoverinfo});if(0===zt.length)return;var Vt=C.hoverlabel,Ct=Vt.font,Kt={font:Ct};m({showlegend:!0,legend:{title:{text:Lt,font:Ct},font:Ct,bgcolor:Vt.bgcolor,bordercolor:Vt.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:C.legend?C.legend.traceorder:void 0,orientation:"v"}},Kt,j._fullData);var Jt=Kt.legend;Jt.entries=[];for(var de=0;de<zt.length;de++){var $t=zt[de];if("none"!==$t.hoverinfo){var Tt=H($t,!0,G,C,Lt),At=Tt[0],qt=Tt[1];$t.name=qt,$t.text=""!==qt?qt+" : "+At:At;var ue=$t.cd[$t.index];ue&&(ue.mc&&($t.mc=ue.mc),ue.mcc&&($t.mc=ue.mcc),ue.mlc&&($t.mlc=ue.mlc),ue.mlcc&&($t.mlc=ue.mlcc),ue.mlw&&($t.mlw=ue.mlw),ue.mrc&&($t.mrc=ue.mrc),ue.dir&&($t.dir=ue.dir)),$t._distinct=!0,Jt.entries.push([$t])}}Jt.entries.sort(function(re,me){return re[0].trace.index-me[0].trace.index}),Jt.layer=Q,Jt._inHover=!0,Jt._groupTitleFont=Vt.grouptitlefont,y(j,Jt);var Te,Ce,xe,ye,ce=Q.select("g.legend"),nt=U(j,ce.node()),it=nt.width+2*I,Mt=nt.height+2*I,Pt=zt[0],Ut=(Pt.x0+Pt.x1)/2,Rt=(Pt.y0+Pt.y1)/2,jt=!(T.traceIs(Pt.trace,"bar-like")||T.traceIs(Pt.trace,"box-violin"));"y"===It?jt?(Ce=Rt-I,Te=Rt+I):(Ce=Math.min.apply(null,zt.map(function(re){return Math.min(re.y0,re.y1)})),Te=Math.max.apply(null,zt.map(function(re){return Math.max(re.y0,re.y1)}))):Ce=Te=e.mean(zt.map(function(re){return(re.y0+re.y1)/2}))-Mt/2,"x"===It?jt?(xe=Ut+I,ye=Ut-I):(xe=Math.max.apply(null,zt.map(function(re){return Math.max(re.x0,re.x1)})),ye=Math.min.apply(null,zt.map(function(re){return Math.min(re.x0,re.x1)}))):xe=ye=e.mean(zt.map(function(re){return(re.x0+re.x1)/2}))-it/2;var Yt,ee,ae=kt._offset,he=Et._offset;return ye+=ae-it,Ce+=he-Mt,Yt=(xe+=ae)+it<dt&&xe>=0?xe:ye+it<dt&&ye>=0?ye:ae+it<dt?ae:xe-Ut<Ut-ye+it?dt-it:0,ee=(Te+=he)+Mt<mt&&Te>=0?Te:Ce+Mt<mt&&Ce>=0?Ce:he+Mt<mt?he:Te-Rt<Rt-Ce+Mt?mt-Mt:0,ce.attr("transform",n((Yt+=I)-1,(ee+=I)-1)),ce}var Me=Q.selectAll("g.hovertext").data(D,function(re){return z(re)});return Me.enter().append("g").classed("hovertext",!0).each(function(){var re=t.select(this);re.append("rect").call(f.fill,f.addOpacity($,.8)),re.append("text").classed("name",!0),re.append("path").style("stroke-width","1px"),re.append("text").classed("nums",!0).call(d.font,gt,vt)}),Me.exit().remove(),Me.each(function(re){var me=t.select(this).attr("transform",""),Oe=re.color;Array.isArray(Oe)&&(Oe=Oe[re.eventData[0].pointNumber]);var oe=re.bgcolor||Oe,te=f.combine(f.opacity(oe)?oe:f.defaultLine,$),Ae=f.combine(f.opacity(Oe)?Oe:f.defaultLine,$),_e=re.borderColor||f.contrast(te),ge=H(re,St,G,C,Lt,me),we=ge[0],fe=ge[1],Ne=me.select("text.nums").call(d.font,re.fontFamily||gt,re.fontSize||vt,re.fontColor||_e).text(we).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,j),Pe=me.select("text.name"),ze=0,Ue=0;if(fe&&fe!==we){Pe.call(d.font,re.fontFamily||gt,re.fontSize||vt,Ae).text(fe).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,j);var Je=U(j,Pe.node());ze=Je.width+2*I,Ue=Je.height+2*I}else Pe.remove(),me.select("rect").remove();me.select("path").style({fill:te,stroke:_e});var He=re.xa._offset+(re.x0+re.x1)/2,be=re.ya._offset+(re.y0+re.y1)/2,ve=Math.abs(re.x1-re.x0),ke=Math.abs(re.y1-re.y0),Fe=U(j,Ne.node()),De=Fe.width/C._invScaleX,Ve=Fe.height/C._invScaleY;re.ty0=(at-Fe.top)/C._invScaleY,re.bx=De+2*I,re.by=Math.max(Ve+2*I,Ue),re.anchor="start",re.txwidth=De,re.tx2width=ze,re.offset=0;var Ze,tn,rn=(De+S+I+ze)*C._invScaleX;if(K)re.pos=He,Ze=be+ke/2+rn<=mt,tn=be-ke/2-rn>=0,"top"!==re.idealAlign&&Ze||!tn?Ze?(be+=ke/2,re.anchor="start"):re.anchor="middle":(be-=ke/2,re.anchor="end");else if(re.pos=be,Ze=He+ve/2+rn<=dt,tn=He-ve/2-rn>=0,"left"!==re.idealAlign&&Ze||!tn)if(Ze)He+=ve/2,re.anchor="start";else{re.anchor="middle";var ln=rn/2,cn=He+ln-dt,sn=He-ln;cn>0&&(He-=cn),sn<0&&(He+=-sn)}else He-=ve/2,re.anchor="end";Ne.attr("text-anchor",re.anchor),ze&&Pe.attr("text-anchor",re.anchor),me.attr("transform",n(He,be)+(K?s(A):""))}),Me}function H(D,M,j,C,G,K){var $="",Q="";void 0!==D.nameOverride&&(D.name=D.nameOverride),D.name&&(D.trace._meta&&(D.name=e.templateString(D.name,D.trace._meta)),$=J(D.name,D.nameLength));var ut=j.charAt(0);void 0!==D.zLabel?(void 0!==D.xLabel&&(Q+="x: "+D.xLabel+"<br>"),void 0!==D.yLabel&&(Q+="y: "+D.yLabel+"<br>"),"choropleth"!==D.trace.type&&"choroplethmapbox"!==D.trace.type&&(Q+=(Q?"z: ":"")+D.zLabel)):M&&D[ut+"Label"]===G?Q=D[("x"===ut?"y":"x")+"Label"]||"":void 0===D.xLabel?void 0!==D.yLabel&&"scattercarpet"!==D.trace.type&&(Q=D.yLabel):Q=void 0===D.yLabel?D.xLabel:"("+D.xLabel+", "+D.yLabel+")",!D.text&&0!==D.text||Array.isArray(D.text)||(Q+=(Q?"<br>":"")+D.text),void 0!==D.extraText&&(Q+=(Q?"<br>":"")+D.extraText),K&&""===Q&&!D.hovertemplate&&(""===$&&K.remove(),Q=$);var gt=D.hovertemplate||!1;if(gt){var vt=D.hovertemplateLabels||D;D[ut+"Label"]!==G&&(vt[ut+"other"]=vt[ut+"Val"],vt[ut+"otherLabel"]=vt[ut+"Label"]),Q=(Q=e.hovertemplateString(gt,vt,C._d3locale,D.eventData[0]||{},D.trace._meta)).replace(F,function(_t,kt){return $=J(kt,D.nameLength),""})}return[Q,$]}function X(D,M,j,C){var G=function($){return $*j},K=function($){return $*C};D.each(function($){var Q=t.select(this);if($.del)return Q.remove();var ut=Q.select("text.nums"),ct=$.anchor,gt="end"===ct?-1:1,vt={start:1,end:-1,middle:0}[ct],_t=vt*(S+I),kt=_t+vt*($.txwidth+I),Et=0,It=$.offset,Lt="middle"===ct;Lt&&(_t-=$.tx2width/2,kt+=$.txwidth/2+I),M&&(It*=-g,Et=$.offset*L),Q.select("path").attr("d",Lt?"M-"+G($.bx/2+$.tx2width/2)+","+K(It-$.by/2)+"h"+G($.bx)+"v"+K($.by)+"h-"+G($.bx)+"Z":"M0,0L"+G(gt*S+Et)+","+K(S+It)+"v"+K($.by/2-S)+"h"+G(gt*$.bx)+"v-"+K($.by)+"H"+G(gt*S+Et)+"V"+K(It-S)+"Z");var lt=Et+_t,at=It+$.ty0-$.by/2+I,dt=$.textAlign||"auto";"auto"!==dt&&("left"===dt&&"start"!==ct?(ut.attr("text-anchor","start"),lt=Lt?-$.bx/2-$.tx2width/2+I:-$.bx-I):"right"===dt&&"end"!==ct&&(ut.attr("text-anchor","end"),lt=Lt?$.bx/2-$.tx2width/2-I:$.bx+I)),ut.call(i.positionText,G(lt),K(at)),$.tx2width&&(Q.select("text.name").call(i.positionText,G(kt+vt*I+Et),K(It+$.ty0-$.by/2+I)),Q.select("rect").call(d.setRect,G(kt+(vt-1)*$.tx2width/2+Et),K(It-$.by/2-1),G($.tx2width),K($.by+2)))})}function ot(D,M){var j=D.index,C=D.trace||{},G=D.cd[0],K=D.cd[j]||{};function $(_t){return _t||l(_t)&&0===_t}var Q=Array.isArray(j)?function(_t,kt){var Et=e.castOption(G,j,_t);return $(Et)?Et:e.extractOption({},C,"",kt)}:function(_t,kt){return e.extractOption(K,C,_t,kt)};function ut(_t,kt,Et){var It=Q(kt,Et);$(It)&&(D[_t]=It)}if(ut("hoverinfo","hi","hoverinfo"),ut("bgcolor","hbg","hoverlabel.bgcolor"),ut("borderColor","hbc","hoverlabel.bordercolor"),ut("fontFamily","htf","hoverlabel.font.family"),ut("fontSize","hts","hoverlabel.font.size"),ut("fontColor","htc","hoverlabel.font.color"),ut("nameLength","hnl","hoverlabel.namelength"),ut("textAlign","hta","hoverlabel.align"),D.posref="y"===M||"closest"===M&&"h"===C.orientation?D.xa._offset+(D.x0+D.x1)/2:D.ya._offset+(D.y0+D.y1)/2,D.x0=e.constrain(D.x0,0,D.xa._length),D.x1=e.constrain(D.x1,0,D.xa._length),D.y0=e.constrain(D.y0,0,D.ya._length),D.y1=e.constrain(D.y1,0,D.ya._length),void 0!==D.xLabelVal&&(D.xLabel="xLabel"in D?D.xLabel:p.hoverLabelText(D.xa,D.xLabelVal,C.xhoverformat),D.xVal=D.xa.c2d(D.xLabelVal)),void 0!==D.yLabelVal&&(D.yLabel="yLabel"in D?D.yLabel:p.hoverLabelText(D.ya,D.yLabelVal,C.yhoverformat),D.yVal=D.ya.c2d(D.yLabelVal)),void 0!==D.zLabelVal&&void 0===D.zLabel&&(D.zLabel=String(D.zLabelVal)),!(isNaN(D.xerr)||"log"===D.xa.type&&D.xerr<=0)){var ct=p.tickText(D.xa,D.xa.c2l(D.xerr),"hover").text;D.xLabel+=void 0!==D.xerrneg?" +"+ct+" / -"+p.tickText(D.xa,D.xa.c2l(D.xerrneg),"hover").text:" \xb1 "+ct,"x"===M&&(D.distance+=1)}if(!(isNaN(D.yerr)||"log"===D.ya.type&&D.yerr<=0)){var gt=p.tickText(D.ya,D.ya.c2l(D.yerr),"hover").text;D.yLabel+=void 0!==D.yerrneg?" +"+gt+" / -"+p.tickText(D.ya,D.ya.c2l(D.yerrneg),"hover").text:" \xb1 "+gt,"y"===M&&(D.distance+=1)}var vt=D.hoverinfo||D.trace.hoverinfo;return vt&&"all"!==vt&&(-1===(vt=Array.isArray(vt)?vt:vt.split("+")).indexOf("x")&&(D.xLabel=void 0),-1===vt.indexOf("y")&&(D.yLabel=void 0),-1===vt.indexOf("z")&&(D.zLabel=void 0),-1===vt.indexOf("text")&&(D.text=void 0),-1===vt.indexOf("name")&&(D.name=void 0)),D}function q(D,M,j){var C,G,K=j.container,$=j.fullLayout,Q=$._size,ut=j.event,ct=!!M.hLinePoint,gt=!!M.vLinePoint;if(K.selectAll(".spikeline").remove(),gt||ct){var vt=f.combine($.plot_bgcolor,$.paper_bgcolor);if(ct){var _t,kt,Et=M.hLinePoint;C=Et&&Et.xa,"cursor"===(G=Et&&Et.ya).spikesnap?(_t=ut.pointerX,kt=ut.pointerY):(_t=C._offset+Et.x,kt=G._offset+Et.y);var It,Lt,lt=o.readability(Et.color,vt)<1.5?f.contrast(vt):Et.color,at=G.spikemode,dt=G.spikethickness,mt=G.spikecolor||lt,St=p.getPxPosition(D,G);if(-1!==at.indexOf("toaxis")||-1!==at.indexOf("across")){if(-1!==at.indexOf("toaxis")&&(It=St,Lt=_t),-1!==at.indexOf("across")){var bt=G._counterDomainMin,wt=G._counterDomainMax;"free"===G.anchor&&(bt=Math.min(bt,G.position),wt=Math.max(wt,G.position)),It=Q.l+bt*Q.w,Lt=Q.l+wt*Q.w}K.insert("line",":first-child").attr({x1:It,x2:Lt,y1:kt,y2:kt,"stroke-width":dt,stroke:mt,"stroke-dasharray":d.dashStyle(G.spikedash,dt)}).classed("spikeline",!0).classed("crisp",!0),K.insert("line",":first-child").attr({x1:It,x2:Lt,y1:kt,y2:kt,"stroke-width":dt+2,stroke:vt}).classed("spikeline",!0).classed("crisp",!0)}-1!==at.indexOf("marker")&&K.insert("circle",":first-child").attr({cx:St+("right"!==G.side?dt:-dt),cy:kt,r:dt,fill:mt}).classed("spikeline",!0)}if(gt){var Ot,Nt,Dt=M.vLinePoint;G=Dt&&Dt.ya,"cursor"===(C=Dt&&Dt.xa).spikesnap?(Ot=ut.pointerX,Nt=ut.pointerY):(Ot=C._offset+Dt.x,Nt=G._offset+Dt.y);var zt,Vt,Ct=o.readability(Dt.color,vt)<1.5?f.contrast(vt):Dt.color,Zt=C.spikemode,Kt=C.spikethickness,Jt=C.spikecolor||Ct,de=p.getPxPosition(D,C);if(-1!==Zt.indexOf("toaxis")||-1!==Zt.indexOf("across")){if(-1!==Zt.indexOf("toaxis")&&(zt=de,Vt=Nt),-1!==Zt.indexOf("across")){var $t=C._counterDomainMin,Tt=C._counterDomainMax;"free"===C.anchor&&($t=Math.min($t,C.position),Tt=Math.max(Tt,C.position)),zt=Q.t+(1-Tt)*Q.h,Vt=Q.t+(1-$t)*Q.h}K.insert("line",":first-child").attr({x1:Ot,x2:Ot,y1:zt,y2:Vt,"stroke-width":Kt,stroke:Jt,"stroke-dasharray":d.dashStyle(C.spikedash,Kt)}).classed("spikeline",!0).classed("crisp",!0),K.insert("line",":first-child").attr({x1:Ot,x2:Ot,y1:zt,y2:Vt,"stroke-width":Kt+2,stroke:vt}).classed("spikeline",!0).classed("crisp",!0)}-1!==Zt.indexOf("marker")&&K.insert("circle",":first-child").attr({cx:Ot,cy:de-("top"!==C.side?Kt:-Kt),r:Kt,fill:Jt}).classed("spikeline",!0)}}}function P(D,M){return!M||M.vLinePoint!==D._spikepoints.vLinePoint||M.hLinePoint!==D._spikepoints.hLinePoint}function J(D,M){return i.plainText(D||"",{len:M,allowedTags:["br","sub","sup","b","i","em"]})}function E(D,M,j){var C=M[D+"a"],G=M[D+"Val"],K=M.cd[0];if("category"===C.type)G=C._categoriesMap[G];else if("date"===C.type){var $=M.trace[D+"periodalignment"];if($){var Q=M.cd[M.index],ut=Q[D+"Start"];void 0===ut&&(ut=Q[D]);var ct=Q[D+"End"];void 0===ct&&(ct=Q[D]);var gt=ct-ut;"end"===$?G+=gt:"middle"===$&&(G+=gt/2)}G=C.d2c(G)}return K&&K.t&&K.t.posLetter===C._id&&("group"!==j.boxmode&&"group"!==j.violinmode||(G+=K.t.dPos)),G}function N(D){return D.offsetTop+D.clientTop}function Z(D){return D.offsetLeft+D.clientLeft}function U(D,M){var j=D._fullLayout,C=M.getBoundingClientRect(),G=C.x,K=C.y,$=G+C.width,Q=K+C.height,ut=e.apply3DTransform(j._invTransform)(G,K),ct=e.apply3DTransform(j._invTransform)($,Q),gt=ut[0],vt=ut[1],_t=ct[0],kt=ct[1];return{x:gt,y:vt,width:_t-gt,height:kt-vt,top:Math.min(vt,kt),left:Math.min(gt,_t),right:Math.max(gt,_t),bottom:Math.max(vt,kt)}}},{"../../lib":232,"../../lib/events":225,"../../lib/override_cursor":243,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../legend/defaults":154,"../legend/draw":155,"./constants":136,"./helpers":138,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],140:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../color"),o=c("./helpers").isUnifiedHover;tt.exports=function(e,n,s,a){a=a||{};var i=n.legend;function r(d){a.font[d]||(a.font[d]=i?n.legend.font[d]:n.font[d])}n&&o(n.hovermode)&&(a.font||(a.font={}),r("size"),r("family"),r("color"),i?(a.bgcolor||(a.bgcolor=l.combine(n.legend.bgcolor,n.paper_bgcolor)),a.bordercolor||(a.bordercolor=n.legend.bordercolor)):a.bgcolor||(a.bgcolor=n.paper_bgcolor)),s("hoverlabel.bgcolor",a.bgcolor),s("hoverlabel.bordercolor",a.bordercolor),s("hoverlabel.namelength",a.namelength),t.coerceFont(s,"hoverlabel.font",a.font),s("hoverlabel.align",a.align)}},{"../../lib":232,"../color":102,"./helpers":138}],141:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("./layout_attributes");tt.exports=function(o,e){function n(s,a){return void 0!==e[s]?e[s]:t.coerce(o,e,l,s,a)}return n("clickmode"),n("hovermode")}},{"../../lib":232,"./layout_attributes":143}],142:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../../lib"),o=c("../dragelement"),e=c("./helpers"),n=c("./layout_attributes"),s=c("./hover");tt.exports={moduleType:"component",name:"fx",constants:c("./constants"),schema:{layout:n},attributes:c("./attributes"),layoutAttributes:n,supplyLayoutGlobalDefaults:c("./layout_global_defaults"),supplyDefaults:c("./defaults"),supplyLayoutDefaults:c("./layout_defaults"),calc:c("./calc"),getDistanceFunction:e.getDistanceFunction,getClosest:e.getClosest,inbox:e.inbox,quadrature:e.quadrature,appendArrayPointValue:e.appendArrayPointValue,castHoverOption:function(a,i,r){return l.castOption(a,i,"hoverlabel."+r)},castHoverinfo:function(a,i,r){return l.castOption(a,r,"hoverinfo",function(d){return l.coerceHoverinfo({hoverinfo:d},{_module:a._module},i)})},hover:s.hover,unhover:o.unhover,loneHover:s.loneHover,loneUnhover:function(a){var i=l.isD3Selection(a)?a:t.select(a);i.selectAll("g.hovertext").remove(),i.selectAll(".spikeline").remove()},click:c("./click")}},{"../../lib":232,"../dragelement":121,"./attributes":133,"./calc":134,"./click":135,"./constants":136,"./defaults":137,"./helpers":138,"./hover":139,"./layout_attributes":143,"./layout_defaults":144,"./layout_global_defaults":145,"@plotly/d3":11}],143:[function(c,tt,V){"use strict";var t=c("./constants"),l=c("../../plots/font_attributes"),o=l({editType:"none"});o.family.dflt=t.HOVERFONT,o.size.dflt=t.HOVERFONTSIZE,tt.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:o,grouptitlefont:l({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":310,"./constants":136}],144:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("./layout_attributes"),o=c("./hovermode_defaults"),e=c("./hoverlabel_defaults");tt.exports=function(n,s){function a(f,h){return t.coerce(n,s,l,f,h)}o(n,s)&&(a("hoverdistance"),a("spikedistance")),"select"===a("dragmode")&&a("selectdirection");var i=s._has("mapbox"),r=s._has("geo"),d=s._basePlotModules.length;"zoom"===s.dragmode&&((i||r)&&1===d||i&&r&&2===d)&&(s.dragmode="pan"),e(n,s,a),t.coerceFont(a,"hoverlabel.grouptitlefont",s.hoverlabel.font)}},{"../../lib":232,"./hoverlabel_defaults":140,"./hovermode_defaults":141,"./layout_attributes":143}],145:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("./hoverlabel_defaults"),o=c("./layout_attributes");tt.exports=function(e,n){l(e,n,function(s,a){return t.coerce(e,n,o,s,a)})}},{"../../lib":232,"./hoverlabel_defaults":140,"./layout_attributes":143}],146:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../lib/regex").counter,o=c("../../plots/domain").attributes,e=c("../../plots/cartesian/constants").idRegex,n=c("../../plot_api/plot_template"),s={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[l("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[e.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[e.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:o({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function a(d,f,h){var p=f[h+"axes"],T=Object.keys((d._splomAxes||{})[h]||{});return Array.isArray(p)?p:T.length?T:void 0}function i(d,f,h,p,T,w){var x=f(d+"gap",h),m=f("domain."+d);f(d+"side",p);for(var y=new Array(T),A=m[0],b=(m[1]-A)/(T-x),k=b*(1-x),L=0;L<T;L++){var g=A+b*L;y[w?T-1-L:L]=[g,g+k]}return y}function r(d,f,h,p,T){var w,x=new Array(h);function m(y,A){-1!==f.indexOf(A)&&void 0===p[A]?(x[y]=A,p[A]=y):x[y]=""}if(Array.isArray(d))for(w=0;w<h;w++)m(w,d[w]);else for(m(0,T),w=1;w<h;w++)m(w,T+(w+1));return x}tt.exports={moduleType:"component",name:"grid",schema:{layout:{grid:s}},layoutAttributes:s,sizeDefaults:function(d,f){var h=d.grid||{},p=a(f,h,"x"),T=a(f,h,"y");if(d.grid||p||T){var w,x,m=Array.isArray(h.subplots)&&Array.isArray(h.subplots[0]),y=Array.isArray(p),A=Array.isArray(T),b=y&&p!==h.xaxes&&A&&T!==h.yaxes;m?(w=h.subplots.length,x=h.subplots[0].length):(A&&(w=T.length),y&&(x=p.length));var k=n.newContainer(f,"grid"),L=F("rows",w),g=F("columns",x);if(L*g>1){!m&&!y&&!A&&"independent"===F("pattern")&&(m=!0),k._hasSubplotGrid=m;var S,I,v="top to bottom"===F("roworder"),z=m?.3:.1;b&&f._splomGridDflt&&(S=f._splomGridDflt.xside,I=f._splomGridDflt.yside),k._domains={x:i("x",F,m?.2:.1,S,g),y:i("y",F,z,I,L,v)}}else delete f.grid}function F(B,H){return t.coerce(h,k,s,B,H)}},contentDefaults:function(d,f){var h=f.grid;if(h&&h._domains){var p,T,w,x,m,y,A,b=d.grid||{},k=f._subplots,L=h._hasSubplotGrid,g=h.rows,S=h.columns,I="independent"===h.pattern,v=h._axisMap={};if(L){var R=b.subplots||[];y=h.subplots=new Array(g);var z=1;for(p=0;p<g;p++){var F=y[p]=new Array(S),B=R[p]||[];for(T=0;T<S;T++)if(I?(m=1===z?"xy":"x"+z+"y"+z,z++):m=B[T],F[T]="",-1!==k.cartesian.indexOf(m)){if(A=m.indexOf("y"),w=m.slice(0,A),x=m.slice(A),void 0!==v[w]&&v[w]!==T||void 0!==v[x]&&v[x]!==p)continue;F[T]=m,v[w]=T,v[x]=p}}}else{var H=a(f,b,"x"),X=a(f,b,"y");h.xaxes=r(H,k.xaxis,S,v,"x"),h.yaxes=r(X,k.yaxis,g,v,"y")}var ot=h._anchors={},q="top to bottom"===h.roworder;for(var P in v){var J,E,N,Z=P.charAt(0),U=h[Z+"side"];if(U.length<8)ot[P]="free";else if("x"===Z){if("t"===U.charAt(0)===q?(J=0,E=1,N=g):(J=g-1,E=-1,N=-1),L){var D=v[P];for(p=J;p!==N;p+=E)if((m=y[p][D])&&(A=m.indexOf("y"),m.slice(0,A)===P)){ot[P]=m.slice(A);break}}else for(p=J;p!==N;p+=E)if(-1!==k.cartesian.indexOf(P+(x=h.yaxes[p]))){ot[P]=x;break}}else if("l"===U.charAt(0)?(J=0,E=1,N=S):(J=S-1,E=-1,N=-1),L){var M=v[P];for(p=J;p!==N;p+=E)if((m=y[M][p])&&(A=m.indexOf("y"),m.slice(A)===P)){ot[P]=m.slice(0,A);break}}else for(p=J;p!==N;p+=E)if(-1!==k.cartesian.indexOf((w=h.xaxes[p])+P)){ot[P]=w;break}}}}}},{"../../lib":232,"../../lib/regex":248,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/domain":309}],147:[function(c,tt,V){"use strict";var t=c("../../plots/cartesian/constants"),l=c("../../plot_api/plot_template").templatedArray;c("../../constants/axis_placeable_objects"),tt.exports=l("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",t.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",t.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286}],148:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("../../lib/to_log_range");tt.exports=function(o,e,n,s){e=e||{};var a="log"===n&&"linear"===e.type;if(a||"linear"===n&&"log"===e.type)for(var r,d,f=o._fullLayout.images,h=e._id.charAt(0),p=0;p<f.length;p++)if(d="images["+p+"].",(r=f[p])[h+"ref"]===e._id){var T=r[h],w=r["size"+h],x=null,m=null;if(a){x=l(T,e.range);var y=w/Math.pow(10,x)/2;m=2*Math.log(y+Math.sqrt(1+y*y))/Math.LN10}else m=(x=Math.pow(10,T))*(Math.pow(10,w/2)-Math.pow(10,-w/2));t(x)?t(m)||(m=null):(x=null,m=null),s(d+h,x),s(d+"size"+h,m)}}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],149:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../plots/cartesian/axes"),o=c("../../plots/array_container_defaults"),e=c("./attributes");function n(s,a,i){function r(x,m){return t.coerce(s,a,e,x,m)}var d=r("source");if(!r("visible",!!d))return a;r("layer"),r("xanchor"),r("yanchor"),r("sizex"),r("sizey"),r("sizing"),r("opacity");for(var f={_fullLayout:i},h=["x","y"],p=0;p<2;p++){var T=h[p],w=l.coerceRef(s,a,f,T,"paper",void 0);"paper"!==w&&l.getFromId(f,w)._imgIndices.push(a._index),l.coercePosition(a,f,r,w,T,0)}return a}tt.exports=function(s,a){o(s,a,{name:"images",handleItemDefaults:n})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":147}],150:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../drawing"),o=c("../../plots/cartesian/axes"),e=c("../../plots/cartesian/axis_ids"),n=c("../../constants/xmlns_namespaces");tt.exports=function(s){var a,i,r=s._fullLayout,d=[],f={},h=[];for(i=0;i<r.images.length;i++){var p=r.images[i];if(p.visible)if("below"===p.layer&&"paper"!==p.xref&&"paper"!==p.yref){a=e.ref2id(p.xref)+e.ref2id(p.yref);var T=r._plots[a];if(!T){h.push(p);continue}T.mainplot&&(a=T.mainplot.id),f[a]||(f[a]=[]),f[a].push(p)}else"above"===p.layer?d.push(p):h.push(p)}var w={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},x={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function m(S){var I=t.select(this);if(this._imgSrc!==S.source)if(I.attr("xmlns",n.svg),S.source&&"data:"===S.source.slice(0,5))I.attr("xlink:href",S.source),this._imgSrc=S.source;else{var v=new Promise(function(R){var z=new Image;function F(){I.remove(),R()}this.img=z,z.setAttribute("crossOrigin","anonymous"),z.onerror=F,z.onload=function(){var B=document.createElement("canvas");B.width=this.width,B.height=this.height,B.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var H=B.toDataURL("image/png");I.attr("xlink:href",H),R()},I.on("error",F),z.src=S.source,this._imgSrc=S.source}.bind(this));s._promises.push(v)}}function y(S){var I,v,R=t.select(this),z=o.getFromId(s,S.xref),F=o.getFromId(s,S.yref),B="domain"===o.getRefType(S.xref),H="domain"===o.getRefType(S.yref),X=r._size;I=void 0!==z?"string"==typeof S.xref&&B?z._length*S.sizex:Math.abs(z.l2p(S.sizex)-z.l2p(0)):S.sizex*X.w,v=void 0!==F?"string"==typeof S.yref&&H?F._length*S.sizey:Math.abs(F.l2p(S.sizey)-F.l2p(0)):S.sizey*X.h;var ot,q,P=I*w[S.xanchor].offset,J=v*x[S.yanchor].offset,E=w[S.xanchor].sizing+x[S.yanchor].sizing;switch(ot=void 0!==z?"string"==typeof S.xref&&B?z._length*S.x+z._offset:z.r2p(S.x)+z._offset:S.x*X.w+X.l,ot+=P,q=void 0!==F?"string"==typeof S.yref&&H?F._length*(1-S.y)+F._offset:F.r2p(S.y)+F._offset:X.h-S.y*X.h+X.t,q+=J,S.sizing){case"fill":E+=" slice";break;case"stretch":E="none"}R.attr({x:ot,y:q,width:I,height:v,preserveAspectRatio:E,opacity:S.opacity});var N=(z&&"domain"!==o.getRefType(S.xref)?z._id:"")+(F&&"domain"!==o.getRefType(S.yref)?F._id:"");l.setClipUrl(R,N?"clip"+r._uid+N:null,s)}var A=r._imageLowerLayer.selectAll("image").data(h),b=r._imageUpperLayer.selectAll("image").data(d);A.enter().append("image"),b.enter().append("image"),A.exit().remove(),b.exit().remove(),A.each(function(S){m.bind(this)(S),y.bind(this)(S)}),b.each(function(S){m.bind(this)(S),y.bind(this)(S)});var k=Object.keys(r._plots);for(i=0;i<k.length;i++){var L=r._plots[a=k[i]];if(L.imagelayer){var g=L.imagelayer.selectAll("image").data(f[a]||[]);g.enter().append("image"),g.exit().remove(),g.each(function(S){m.bind(this)(S),y.bind(this)(S)})}}}},{"../../constants/xmlns_namespaces":213,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_ids":283,"../drawing":124,"@plotly/d3":11}],151:[function(c,tt,V){"use strict";tt.exports={moduleType:"component",name:"images",layoutAttributes:c("./attributes"),supplyLayoutDefaults:c("./defaults"),includeBasePlot:c("../../plots/cartesian/include_components")("images"),draw:c("./draw"),convertCoords:c("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":147,"./convert_coords":148,"./defaults":149,"./draw":150}],152:[function(c,tt,V){"use strict";var t=c("../../plots/font_attributes"),l=c("../color/attributes");tt.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:l.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:t({editType:"legend"}),grouptitlefont:t({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:t({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":310,"../color/attributes":101}],153:[function(c,tt,V){"use strict";tt.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},{}],154:[function(c,tt,V){"use strict";var t=c("../../registry"),l=c("../../lib"),o=c("../../plot_api/plot_template"),e=c("../../plots/attributes"),n=c("./attributes"),s=c("../../plots/layout_attributes"),a=c("./helpers");tt.exports=function(i,r,d){var f,h=i.legend||{},p=o.newContainer(r,"legend");function T(F,B){return l.coerce(h,p,n,F,B)}for(var w=function(F,B){return l.coerce(f._input,f,e,F,B)},x=r.font||{},m=l.coerceFont(T,"grouptitlefont",l.extendFlat({},x,{size:Math.round(1.1*x.size)})),y=0,A=!1,b="normal",k=0;k<d.length;k++)(f=d[k]).visible&&((f.showlegend||f._dfltShowLegend&&!(f._module&&f._module.attributes&&f._module.attributes.showlegend&&!1===f._module.attributes.showlegend.dflt))&&(y++,f.showlegend&&(A=!0,(t.traceIs(f,"pie-like")||!0===f._input.showlegend)&&y++),l.coerceFont(w,"legendgrouptitle.font",m)),(t.traceIs(f,"bar")&&"stack"===r.barmode||-1!==["tonextx","tonexty"].indexOf(f.fill))&&(b=a.isGrouped({traceorder:b})?"grouped+reversed":"reversed"),void 0!==f.legendgroup&&""!==f.legendgroup&&(b=a.isReversed({traceorder:b})?"reversed+grouped":"grouped"));var L=l.coerce(i,r,s,"showlegend",A&&y>1);if(!1===L&&(r.legend=void 0),(!1!==L||h.uirevision)&&(T("uirevision",r.uirevision),!1!==L)){T("bgcolor",r.paper_bgcolor),T("bordercolor"),T("borderwidth");var g,S,I,v=l.coerceFont(T,"font",r.font),R="h"===T("orientation");if(R?(g=0,t.getComponentMethod("rangeslider","isVisible")(i.xaxis)?(S=1.1,I="bottom"):(S=-.1,I="top")):(g=1.02,S=1,I="auto"),T("traceorder",b),a.isGrouped(r.legend)&&T("tracegroupgap"),T("itemsizing"),T("itemwidth"),T("itemclick"),T("itemdoubleclick"),T("groupclick"),T("x",g),T("xanchor"),T("y",S),T("yanchor",I),T("valign"),l.noneOrAll(h,p,["x","y"]),T("title.text")){T("title.side",R?"left":"top");var z=l.extendFlat({},v,{size:l.bigFont(v.size)});l.coerceFont(T,"title.font",z)}}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/attributes":275,"../../plots/layout_attributes":314,"../../registry":318,"./attributes":152,"./helpers":158}],155:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../../lib"),o=c("../../plots/plots"),e=c("../../registry"),n=c("../../lib/events"),s=c("../dragelement"),a=c("../drawing"),i=c("../color"),r=c("../../lib/svg_text_utils"),d=c("./handle_click"),f=c("./constants"),h=c("../../constants/alignment"),p=h.LINE_SPACING,T=h.FROM_TL,w=h.FROM_BR,x=c("./get_legend_data"),m=c("./style"),y=c("./helpers");function A(v,R,z,F,B){var H=z.data()[0][0].trace,X={event:B,node:z.node(),curveNumber:H.index,expandedIndex:H._expandedIndex,data:v.data,layout:v.layout,frames:v._transitionData._frames,config:v._context,fullData:v._fullData,fullLayout:v._fullLayout};H._group&&(X.group=H._group),e.traceIs(H,"pie-like")&&(X.label=z.datum()[0].label),!1!==n.triggerHandler(v,"plotly_legendclick",X)&&(1===F?R._clickTimeout=setTimeout(function(){v._fullLayout&&d(z,v,F)},v._context.doubleClickDelay):2===F&&(R._clickTimeout&&clearTimeout(R._clickTimeout),v._legendMouseDownTime=0,!1!==n.triggerHandler(v,"plotly_legenddoubleclick",X)&&d(z,v,F)))}function b(v,R,z){var F,B,H=v.data()[0][0],X=H.trace,ot=e.traceIs(X,"pie-like"),q=!z._inHover&&R._context.edits.legendText&&!ot,P=z._maxNameLength;H.groupTitle?(F=H.groupTitle.text,B=H.groupTitle.font):(B=z.font,z.entries?F=H.text:(F=ot?H.label:X.name,X._meta&&(F=l.templateString(F,X._meta))));var J=l.ensureSingle(v,"text","legendtext");J.attr("text-anchor","start").call(a.font,B).text(q?k(F,P):F),r.positionText(J,z.itemwidth+2*f.itemGap,0),q?J.call(r.makeEditable,{gd:R,text:F}).call(g,v,R,z).on("edit",function(N){this.text(k(N,P)).call(g,v,R,z);var Z=H.trace._fullInput||{},U={};if(e.hasTransform(Z,"groupby")){var D=e.getTransformIndices(Z,"groupby"),j=l.keyedContainer(Z,"transforms["+D[D.length-1]+"].styles","target","value.name");j.set(H.trace._group,N),U=j.constructUpdate()}else U.name=N;return e.call("_guiRestyle",R,U,X.index)}):g(J,v,R,z)}function k(v,R){var z=Math.max(4,R);if(v&&v.trim().length>=z/2)return v;for(var F=z-(v=v||"").length;F>0;F--)v+=" ";return v}function L(v,R){var z,F=R._context.doubleClickDelay,B=1,H=l.ensureSingle(v,"rect","legendtoggle",function(X){R._context.staticPlot||X.style("cursor","pointer").attr("pointer-events","all"),X.call(i.fill,"rgba(0,0,0,0)")});R._context.staticPlot||(H.on("mousedown",function(){(z=(new Date).getTime())-R._legendMouseDownTime<F?B+=1:(B=1,R._legendMouseDownTime=z)}),H.on("mouseup",function(){if(!R._dragged&&!R._editing){var X=R._fullLayout.legend;(new Date).getTime()-R._legendMouseDownTime>F&&(B=Math.max(B-1,1)),A(R,X,v,B,t.event)}}))}function g(v,R,z,F,B){F._inHover&&v.attr("data-notex",!0),r.convertToTspans(v,z,function(){!function(H,X,ot,q){var P=H.data()[0][0];if(ot._inHover||!P||P.trace.showlegend){var J=H.select("g[class*=math-group]"),E=J.node();ot||(ot=X._fullLayout.legend);var U,D,Z=ot.borderwidth,M=(1===q?ot.title.font:P.groupTitle?P.groupTitle.font:ot.font).size*p;if(E){var j=a.bBox(E);U=j.height,D=j.width,1===q?a.setTranslate(J,Z,Z+.75*U):a.setTranslate(J,0,.25*U)}else{var C=H.select(1===q?".legendtitletext":".legendtext"),G=r.lineCount(C),K=C.node();if(U=M*G,D=K?a.bBox(K).width:0,1===q)"left"===ot.title.side&&(D+=2*f.itemGap),r.positionText(C,Z+f.titlePad,Z+M);else{var $=2*f.itemGap+ot.itemwidth;P.groupTitle&&($=f.itemGap,D-=ot.itemwidth),r.positionText(C,$,-M*((G-1)/2-.3))}}1===q?(ot._titleWidth=D,ot._titleHeight=U):(P.lineHeight=M,P.height=Math.max(U,16)+3,P.width=D)}else H.remove()}(R,z,F,B)})}function S(v){return l.isRightAnchor(v)?"right":l.isCenterAnchor(v)?"center":"left"}function I(v){return l.isBottomAnchor(v)?"bottom":l.isMiddleAnchor(v)?"middle":"top"}tt.exports=function(v,R){return R||(R=v._fullLayout.legend||{}),function(z,F){var B,H,X=z._fullLayout,ot="legend"+X._uid,q=F._inHover;if(q?(B=F.layer,ot+="-hover"):B=X._infolayer,B){if(z._legendMouseDownTime||(z._legendMouseDownTime=0),q){if(!F.entries)return;H=x(F.entries,F)}else{if(!z.calcdata)return;H=X.showlegend&&x(z.calcdata,F)}var P=X.hiddenlabels||[];if(!(q||X.showlegend&&H.length))return B.selectAll(".legend").remove(),X._topdefs.select("#"+ot).remove(),o.autoMargin(z,"legend");var J=l.ensureSingle(B,"g","legend",function(G){q||G.attr("pointer-events","all")}),E=l.ensureSingleById(X._topdefs,"clipPath",ot,function(G){G.append("rect")}),N=l.ensureSingle(J,"rect","bg",function(G){G.attr("shape-rendering","crispEdges")});N.call(i.stroke,F.bordercolor).call(i.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px");var Z=l.ensureSingle(J,"g","scrollbox"),U=F.title;if(F._titleWidth=0,F._titleHeight=0,U.text){var D=l.ensureSingle(Z,"text","legendtitletext");D.attr("text-anchor","start").call(a.font,U.font).text(U.text),g(D,Z,z,F,1)}else Z.selectAll(".legendtitletext").remove();var M=l.ensureSingle(J,"rect","scrollbar",function(G){G.attr(f.scrollBarEnterAttrs).call(i.fill,f.scrollBarColor)}),j=Z.selectAll("g.groups").data(H);j.enter().append("g").attr("class","groups"),j.exit().remove();var C=j.selectAll("g.traces").data(l.identity);C.enter().append("g").attr("class","traces"),C.exit().remove(),C.style("opacity",function(G){var K=G[0].trace;return e.traceIs(K,"pie-like")?-1!==P.indexOf(G[0].label)?.5:1:"legendonly"===K.visible?.5:1}).each(function(){t.select(this).call(b,z,F)}).call(m,z,F).each(function(){q||t.select(this).call(L,z)}),l.syncOrAsync([o.previousPromises,function(){return function(G,K,$,Q){var ut=G._fullLayout;Q||(Q=ut.legend);var ct=ut._size,gt=y.isVertical(Q),vt=y.isGrouped(Q),_t=Q.borderwidth,kt=2*_t,Et=f.itemGap,It=Q.itemwidth+2*Et,Lt=2*(_t+Et),lt=I(Q),at=Q.y<0||0===Q.y&&"top"===lt,dt=Q.y>1||1===Q.y&&"bottom"===lt,mt=Q.tracegroupgap;Q._maxHeight=Math.max(at||dt?ut.height/2:ct.h,30);var St=0;Q._width=0,Q._height=0;var ye,ce,nt,it,bt=(ce=0,nt=0,(it=(ye=Q).title.side)&&(-1!==it.indexOf("left")&&(ce=ye._titleWidth),-1!==it.indexOf("top")&&(nt=ye._titleHeight)),[ce,nt]);if(gt)$.each(function(ye){var ce=ye[0].height;a.setTranslate(this,_t+bt[0],_t+bt[1]+Q._height+ce/2+Et),Q._height+=ce,Q._width=Math.max(Q._width,ye[0].width)}),St=It+Q._width,Q._width+=Et+It+kt,Q._height+=Lt,vt&&(K.each(function(ye,ce){a.setTranslate(this,0,ce*Q.tracegroupgap)}),Q._height+=(Q._lgroupsLength-1)*Q.tracegroupgap);else{var wt=S(Q),Dt=dt||at,zt=ut.width/2;Q._maxWidth=Math.max(Q.x<0||0===Q.x&&"right"===wt?Dt&&"left"===wt?ct.l+ct.w:zt:Q.x>1||1===Q.x&&"left"===wt?Dt&&"right"===wt?ct.r+ct.w:zt:ct.w,2*It);var Vt=0,Ct=0;$.each(function(ye){var ce=ye[0].width+It;Vt=Math.max(Vt,ce),Ct+=ce}),St=null;var Zt=0;if(vt){var Kt=0,Jt=0,de=0;K.each(function(){var ye=0,ce=0;t.select(this).selectAll("g.traces").each(function(it){var Mt=it[0].width,Pt=it[0].height;a.setTranslate(this,bt[0],bt[1]+_t+Et+Pt/2+ce),ce+=Pt,ye=Math.max(ye,It+Mt)});var nt=ye+Et;Jt>0&&nt+_t+Jt>Q._maxWidth?(Zt=Math.max(Zt,Jt),Jt=0,de+=Kt+mt,Kt=ce):Kt=Math.max(Kt,ce),a.setTranslate(this,Jt,de),Jt+=nt}),Q._width=Math.max(Zt,Jt)+_t,Q._height=de+Kt+Lt}else{var $t=$.size(),Tt=Ct+kt+($t-1)*Et<Q._maxWidth,At=0,qt=0,ue=0,Te=0;$.each(function(ye){var ce=ye[0].height,nt=It+ye[0].width,it=(Tt?nt:Vt)+Et;it+_t+qt-Et>=Q._maxWidth&&(Zt=Math.max(Zt,Te),qt=0,ue+=At,Q._height+=At,At=0),a.setTranslate(this,bt[0]+_t+qt,bt[1]+_t+ue+ce/2+Et),Te=qt+nt+Et,qt+=it,At=Math.max(At,ce)}),Tt?(Q._width=qt+kt,Q._height=At+Lt):(Q._width=Math.max(Zt,Te)+kt,Q._height+=At+Lt)}}Q._width=Math.ceil(Math.max(Q._width+bt[0],Q._titleWidth+2*(_t+f.titlePad))),Q._height=Math.ceil(Math.max(Q._height+bt[1],Q._titleHeight+2*(_t+f.itemGap))),Q._effHeight=Math.min(Q._height,Q._maxHeight);var Ce=G._context.edits,xe=Ce.legendText||Ce.legendPosition;$.each(function(ye){var ce=t.select(this).select(".legendtoggle"),nt=ye[0].height,it=xe?It:St||It+ye[0].width;gt||(it+=Et/2),a.setRect(ce,0,-nt/2,it,nt)})}(z,j,C,F)},function(){var G,K,$,Q,Dt,zt,Vt,Ct,ut=X._size,ct=F.borderwidth;if(!q){if(Vt=S(zt=(Dt=z)._fullLayout.legend),Ct=I(zt),o.autoMargin(Dt,"legend",{x:zt.x,y:zt.y,l:zt._width*T[Vt],r:zt._width*w[Vt],b:zt._effHeight*w[Ct],t:zt._effHeight*T[Ct]}))return;var gt=ut.l+ut.w*F.x-T[S(F)]*F._width,vt=ut.t+ut.h*(1-F.y)-T[I(F)]*F._effHeight;if(X.margin.autoexpand){var _t=gt,kt=vt;gt=l.constrain(gt,0,X.width-F._width),vt=l.constrain(vt,0,X.height-F._effHeight),gt!==_t&&l.log("Constrain legend.x to make legend fit inside graph"),vt!==kt&&l.log("Constrain legend.y to make legend fit inside graph")}a.setTranslate(J,gt,vt)}if(M.on(".drag",null),J.on("wheel",null),q||F._height<=F._maxHeight||z._context.staticPlot){var Et=F._effHeight;q&&(Et=F._height),N.attr({width:F._width-ct,height:Et-ct,x:ct/2,y:ct/2}),a.setTranslate(Z,0,0),E.select("rect").attr({width:F._width-2*ct,height:Et-2*ct,x:ct,y:ct}),a.setClipUrl(Z,ot,z),a.setRect(M,0,0,0,0),delete F._scrollY}else{var It,lt,at=Math.max(f.scrollBarMinHeight,F._effHeight*F._effHeight/F._height),dt=F._effHeight-at-2*f.scrollBarMargin,mt=F._height-F._effHeight,St=dt/mt,bt=Math.min(F._scrollY||0,mt);N.attr({width:F._width-2*ct+f.scrollBarWidth+f.scrollBarMargin,height:F._effHeight-ct,x:ct/2,y:ct/2}),E.select("rect").attr({width:F._width-2*ct+f.scrollBarWidth+f.scrollBarMargin,height:F._effHeight-2*ct,x:ct,y:ct+bt}),a.setClipUrl(Z,ot,z),Nt(bt,at,St),J.on("wheel",function(){Nt(bt=l.constrain(F._scrollY+t.event.deltaY/dt*mt,0,mt),at,St),0!==bt&&bt!==mt&&t.event.preventDefault()});var wt=t.behavior.drag().on("dragstart",function(){var Dt=t.event.sourceEvent;It="touchstart"===Dt.type?Dt.changedTouches[0].clientY:Dt.clientY,lt=bt}).on("drag",function(){var Dt=t.event.sourceEvent;2===Dt.buttons||Dt.ctrlKey||Nt(bt=function(zt,Vt,Ct){return l.constrain((Ct-Vt)/St+zt,0,mt)}(lt,It,"touchmove"===Dt.type?Dt.changedTouches[0].clientY:Dt.clientY),at,St)});M.call(wt);var Ot=t.behavior.drag().on("dragstart",function(){var Dt=t.event.sourceEvent;"touchstart"===Dt.type&&(It=Dt.changedTouches[0].clientY,lt=bt)}).on("drag",function(){var Dt=t.event.sourceEvent;"touchmove"===Dt.type&&Nt(bt=function(zt,Vt,Ct){return l.constrain((Vt-Ct)/St+zt,0,mt)}(lt,It,Dt.changedTouches[0].clientY),at,St)});Z.call(Ot)}function Nt(Dt,zt,Vt){F._scrollY=z._fullLayout.legend._scrollY=Dt,a.setTranslate(Z,0,-Dt),a.setRect(M,F._width,f.scrollBarMargin+Dt*Vt,f.scrollBarWidth,zt),E.select("rect").attr("y",ct+Dt)}z._context.edits.legendPosition&&(J.classed("cursor-move",!0),s.init({element:J.node(),gd:z,prepFn:function(){var Dt=a.getTranslate(J);$=Dt.x,Q=Dt.y},moveFn:function(Dt,zt){var Vt=$+Dt,Ct=Q+zt;a.setTranslate(J,Vt,Ct),G=s.align(Vt,0,ut.l,ut.l+ut.w,F.xanchor),K=s.align(Ct,0,ut.t+ut.h,ut.t,F.yanchor)},doneFn:function(){void 0!==G&&void 0!==K&&e.call("_guiRelayout",z,{"legend.x":G,"legend.y":K})},clickFn:function(Dt,zt){var Vt=B.selectAll("g.traces").filter(function(){var Ct=this.getBoundingClientRect();return zt.clientX>=Ct.left&&zt.clientX<=Ct.right&&zt.clientY>=Ct.top&&zt.clientY<=Ct.bottom});Vt.size()>0&&A(z,J,Vt,Dt,zt)}}))}],z)}}(v,R)}},{"../../constants/alignment":207,"../../lib":232,"../../lib/events":225,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"./constants":153,"./get_legend_data":156,"./handle_click":157,"./helpers":158,"./style":160,"@plotly/d3":11}],156:[function(c,tt,V){"use strict";var t=c("../../registry"),l=c("./helpers");tt.exports=function(o,e){var n,s,a=e._inHover,i=l.isGrouped(e),r=l.isReversed(e),d={},f=[],h=!1,p={},T=0,w=0;function x(X,ot){if(""!==X&&l.isGrouped(e))-1===f.indexOf(X)?(f.push(X),h=!0,d[X]=[ot]):d[X].push(ot);else{var q="~~i"+T;f.push(q),d[q]=[ot],T++}}for(n=0;n<o.length;n++){var m=o[n],y=m[0],A=y.trace,b=A.legendgroup;if(a||A.visible&&A.showlegend)if(t.traceIs(A,"pie-like"))for(p[b]||(p[b]={}),s=0;s<m.length;s++){var k=m[s].label;p[b][k]||(x(b,{label:k,color:m[s].color,i:m[s].i,trace:A,pts:m[s].pts}),p[b][k]=!0,w=Math.max(w,(k||"").length))}else x(b,y),w=Math.max(w,(A.name||"").length)}if(!f.length)return[];var L=!h||!i,g=[];for(n=0;n<f.length;n++){var S=d[f[n]];g.push(L?S[0]:S)}for(L&&(g=[g]),n=0;n<g.length;n++){var I=1/0;for(s=0;s<g[n].length;s++){var v=g[n][s].trace.legendrank;I>v&&(I=v)}g[n][0]._groupMinRank=I,g[n][0]._preGroupSort=n}var R=function(X,ot){return X.trace.legendrank-ot.trace.legendrank||X._preSort-ot._preSort};for(g.forEach(function(X,ot){X[0]._preGroupSort=ot}),g.sort(function(X,ot){return X[0]._groupMinRank-ot[0]._groupMinRank||X[0]._preGroupSort-ot[0]._preGroupSort}),n=0;n<g.length;n++){g[n].forEach(function(X,ot){X._preSort=ot}),g[n].sort(R);var z=g[n][0].trace,F=null;for(s=0;s<g[n].length;s++){var B=g[n][s].trace.legendgrouptitle;if(B&&B.text){F=B,a&&(B.font=e._groupTitleFont);break}}if(r&&g[n].reverse(),F){var H=!1;for(s=0;s<g[n].length;s++)if(t.traceIs(g[n][s].trace,"pie-like")){H=!0;break}g[n].unshift({i:-1,groupTitle:F,noClick:H,trace:{showlegend:z.showlegend,legendgroup:z.legendgroup,visible:"toggleitem"===e.groupclick||z.visible}})}for(s=0;s<g[n].length;s++)g[n][s]=[g[n][s]]}return e._lgroupsLength=g.length,e._maxNameLength=w,g}},{"../../registry":318,"./helpers":158}],157:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../registry"),o=!0;tt.exports=function(e,n,s){var a=n._fullLayout;if(!n._dragged&&!n._editing){var i,r=a.legend.itemclick,d=a.legend.itemdoubleclick,f=a.legend.groupclick;if(1===s&&"toggle"===r&&"toggleothers"===d&&o&&n.data&&n._context.showTips&&t.notifier(t._(n,"Double-click on legend to isolate one trace"),"long"),o=!1,1===s?i=r:2===s&&(i=d),i){var h="togglegroup"===f,p=a.hiddenlabels?a.hiddenlabels.slice():[],T=e.data()[0][0];if(!T.groupTitle||!T.noClick){var w,x,m,y,A,b=n._fullData,k=T.trace,L=k.legendgroup,g={},S=[],I=[],v=[];if(l.traceIs(k,"pie-like")){var R=T.label,z=p.indexOf(R);"toggle"===i?-1===z?p.push(R):p.splice(z,1):"toggleothers"===i&&(p=[],n.calcdata[0].forEach(function(M){R!==M.label&&p.push(M.label)}),n._fullLayout.hiddenlabels&&n._fullLayout.hiddenlabels.length===p.length&&-1===z&&(p=[])),l.call("_guiRelayout",n,"hiddenlabels",p)}else{var F,B=L&&L.length,H=[];if(B)for(w=0;w<b.length;w++)(F=b[w]).visible&&F.legendgroup===L&&H.push(w);if("toggle"===i){var X;switch(k.visible){case!0:X="legendonly";break;case!1:X=!1;break;case"legendonly":X=!0}if(B)if(h)for(w=0;w<b.length;w++)!1!==b[w].visible&&b[w].legendgroup===L&&D(b[w],X);else D(k,X);else D(k,X)}else if("toggleothers"===i){var P,E=!0;for(w=0;w<b.length;w++)if(P=!0!==b[w].showlegend,!(b[w]===k||P||B&&b[w].legendgroup===L||!0!==b[w].visible||l.traceIs(b[w],"notLegendIsolatable"))){E=!1;break}for(w=0;w<b.length;w++)if(!1!==b[w].visible&&!l.traceIs(b[w],"notLegendIsolatable"))switch(k.visible){case"legendonly":D(b[w],!0);break;case!0:P=!0!==b[w].showlegend&&!b[w].legendgroup,D(b[w],!!(b[w]===k||B&&b[w].legendgroup===L||P)||!!E||"legendonly")}}for(w=0;w<I.length;w++)if(m=I[w]){var N=m.constructUpdate(),Z=Object.keys(N);for(x=0;x<Z.length;x++)(g[y=Z[x]]=g[y]||[])[v[w]]=N[y]}for(A=Object.keys(g),w=0;w<A.length;w++)for(y=A[w],x=0;x<S.length;x++)g[y].hasOwnProperty(x)||(g[y][x]=void 0);l.call("_guiRestyle",n,g,S)}}}}function U(M,j,C){var G=S.indexOf(M),K=g[j];return K||(K=g[j]=[]),-1===S.indexOf(M)&&(S.push(M),G=S.length-1),K[G]=C,G}function D(M,j){if(!T.groupTitle||h){var C=M._fullInput;if(l.hasTransform(C,"groupby")){var G=I[C.index];if(!G){var K=l.getTransformIndices(C,"groupby");G=t.keyedContainer(C,"transforms["+K[K.length-1]+"].styles","target","value.visible"),I[C.index]=G}var Q=G.get(M._group);void 0===Q&&(Q=!0),!1!==Q&&G.set(M._group,j),v[C.index]=U(C.index,"visible",!1!==C.visible)}else U(C.index,"visible",!1!==C.visible&&j)}}}},{"../../lib":232,"../../registry":318}],158:[function(c,tt,V){"use strict";V.isGrouped=function(t){return-1!==(t.traceorder||"").indexOf("grouped")},V.isVertical=function(t){return"h"!==t.orientation},V.isReversed=function(t){return-1!==(t.traceorder||"").indexOf("reversed")}},{}],159:[function(c,tt,V){"use strict";tt.exports={moduleType:"component",name:"legend",layoutAttributes:c("./attributes"),supplyLayoutDefaults:c("./defaults"),draw:c("./draw"),style:c("./style")}},{"./attributes":152,"./defaults":154,"./draw":155,"./style":160}],160:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../../registry"),o=c("../../lib"),e=o.strTranslate,n=c("../drawing"),s=c("../color"),a=c("../colorscale/helpers").extractOpts,i=c("../../traces/scatter/subtypes"),r=c("../../traces/pie/style_one"),d=c("../../traces/pie/helpers").castOption,f=c("./constants");function h(w,x){return(x?"radial":"horizontal")+(w?"":"reversed")}function p(w){var x=w[0].trace,m=x.contours,y=i.hasLines(x),A=i.hasMarkers(x),b=x.visible&&x.fill&&"none"!==x.fill,k=!1,L=!1;if(m){var g=m.coloring;"lines"===g?k=!0:y="none"===g||"heatmap"===g||m.showlines,"constraint"===m.type?b="="!==m._operation:"fill"!==g&&"heatmap"!==g||(L=!0)}return{showMarker:A,showLine:y,showFill:b,showGradientLine:k,showGradientFill:L,anyLine:y||k,anyFill:b||L}}function T(w,x,m){return w&&o.isArrayOrTypedArray(w)?x:w>m?m:w}tt.exports=function(w,x,m){m||(m=x._fullLayout.legend);var A="constant"===m.itemsizing,b=m.itemwidth,L=e((b+2*f.itemGap)/2,0),g=function(v,R,z,F){var B;if(v+1)B=v;else{if(!(R&&R.width>0))return 0;B=R.width}return A?F:Math.min(B,z)};function S(v,R,z){var F=v[0].trace,B=F.marker||{},H=B.line||{},X=z?F.visible&&F.type===z:l.traceIs(F,"bar"),ot=t.select(R).select("g.legendpoints").selectAll("path.legend"+z).data(X?[v]:[]);ot.enter().append("path").classed("legend"+z,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),ot.exit().remove(),ot.each(function(q){var P=t.select(this),J=q[0],E=g(J.mlw,B.line,5,2);P.style("stroke-width",E+"px");var N=J.mcc;if(!m._inHover&&"mc"in J){var Z=a(B),U=Z.mid;void 0===U&&(U=(Z.max+Z.min)/2),N=n.tryColorscale(B,"")(U)}var D=N||J.mc||B.color,M=B.pattern,j=M&&n.getPatternAttr(M.shape,0,"");if(j){var C=n.getPatternAttr(M.bgcolor,0,null),G=n.getPatternAttr(M.fgcolor,0,null),K=M.fgopacity,$=T(M.size,8,10),Q=T(M.solidity,.5,1);P.call(n.pattern,"legend",x,"legend-"+F.uid,j,$,Q,N,M.fillmode,C,G,K)}else P.call(s.fill,D);E&&s.stroke(P,J.mlc||H.color)})}function I(v,R,z){var F=v[0],B=F.trace,H=z?B.visible&&B.type===z:l.traceIs(B,z),X=t.select(R).select("g.legendpoints").selectAll("path.legend"+z).data(H?[v]:[]);if(X.enter().append("path").classed("legend"+z,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),X.exit().remove(),X.size()){var ot=(B.marker||{}).line,q=g(d(ot.width,F.pts),ot,5,2),P=o.minExtend(B,{marker:{line:{width:q}}});P.marker.line.color=ot.color;var J=o.minExtend(F,{trace:P});r(X,J,P)}}w.each(function(v){var R=t.select(this),z=o.ensureSingle(R,"g","layers");z.style("opacity",v[0].trace.opacity);var F=m.valign,B=v[0].lineHeight,H=v[0].height;z.attr("transform","middle"!==F&&B&&H?e(0,{top:1,bottom:-1}[F]*(.5*(B-H+3))):null),z.selectAll("g.legendfill").data([v]).enter().append("g").classed("legendfill",!0),z.selectAll("g.legendlines").data([v]).enter().append("g").classed("legendlines",!0);var ot=z.selectAll("g.legendsymbols").data([v]);ot.enter().append("g").classed("legendsymbols",!0),ot.selectAll("g.legendpoints").data([v]).enter().append("g").classed("legendpoints",!0)}).each(function(v){var R,z=v[0].trace,F=[];if(z.visible)switch(z.type){case"histogram2d":case"heatmap":F=[["M-15,-2V4H15V-2Z"]],R=!0;break;case"choropleth":case"choroplethmapbox":F=[["M-6,-6V6H6V-6Z"]],R=!0;break;case"densitymapbox":F=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],R="radial";break;case"cone":F=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],R=!1;break;case"streamtube":F=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],R=!1;break;case"surface":F=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],R=!0;break;case"mesh3d":F=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],R=!1;break;case"volume":F=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],R=!0;break;case"isosurface":F=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],R=!1}var B=t.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(F);B.enter().append("path").classed("legend3dandfriends",!0).attr("transform",L).style("stroke-miterlimit",1),B.exit().remove(),B.each(function(H,X){var ot,q=t.select(this),P=a(z),J=P.colorscale,E=P.reversescale;if(J){if(!R){var N=J.length;ot=0===X?J[E?N-1:0][1]:1===X?J[E?0:N-1][1]:J[Math.floor((N-1)/2)][1]}}else{var Z=z.vertexcolor||z.facecolor||z.color;ot=o.isArrayOrTypedArray(Z)?Z[X]||Z[0]:Z}q.attr("d",H[0]),ot?q.call(s.fill,ot):q.call(function(U){U.size()&&n.gradient(U,x,"legendfill-"+z.uid,h(E,"radial"===R),J,"fill")})})}).each(function(v){var R=v[0].trace,z="waterfall"===R.type;if(v[0]._distinct&&z){var F=v[0].trace[v[0].dir].marker;return v[0].mc=F.color,v[0].mlw=F.line.width,v[0].mlc=F.line.color,S(v,this,"waterfall")}var B=[];R.visible&&z&&(B=v[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var H=t.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(B);H.enter().append("path").classed("legendwaterfall",!0).attr("transform",L).style("stroke-miterlimit",1),H.exit().remove(),H.each(function(X){var ot=t.select(this),q=R[X[0]].marker,P=g(void 0,q.line,5,2);ot.attr("d",X[1]).style("stroke-width",P+"px").call(s.fill,q.color),P&&ot.call(s.stroke,q.line.color)})}).each(function(v){S(v,this,"funnel")}).each(function(v){S(v,this)}).each(function(v){var R=v[0].trace,z=t.select(this).select("g.legendpoints").selectAll("path.legendbox").data(R.visible&&l.traceIs(R,"box-violin")?[v]:[]);z.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),z.exit().remove(),z.each(function(){var F=t.select(this);if("all"!==R.boxpoints&&"all"!==R.points||0!==s.opacity(R.fillcolor)||0!==s.opacity((R.line||{}).color)){var B=g(void 0,R.line,5,2);F.style("stroke-width",B+"px").call(s.fill,R.fillcolor),B&&s.stroke(F,R.line.color)}else{var H=o.minExtend(R,{marker:{size:A?12:o.constrain(R.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});z.call(n.pointStyle,H,x)}})}).each(function(v){I(v,this,"funnelarea")}).each(function(v){I(v,this,"pie")}).each(function(v){var R,z,F=p(v),B=F.showFill,H=F.showLine,X=F.showGradientLine,ot=F.showGradientFill,q=F.anyFill,P=F.anyLine,J=v[0],E=J.trace,N=a(E),Z=N.colorscale,U=N.reversescale,D=i.hasMarkers(E)||!q?"M5,0":P?"M5,-2":"M5,-3",M=t.select(this),j=M.select(".legendfill").selectAll("path").data(B||ot?[v]:[]);if(j.enter().append("path").classed("js-fill",!0),j.exit().remove(),j.attr("d",D+"h"+b+"v6h-"+b+"z").call(function(K){K.size()&&(B?n.fillGroupStyle(K,x):n.gradient(K,x,"legendfill-"+E.uid,h(U),Z,"fill"))}),H||X){var C=g(void 0,E.line,10,5);z=o.minExtend(E,{line:{width:C}}),R=[o.minExtend(J,{trace:z})]}var G=M.select(".legendlines").selectAll("path").data(H||X?[R]:[]);G.enter().append("path").classed("js-line",!0),G.exit().remove(),G.attr("d",D+(X?"l"+b+",0.0001":"h"+b)).call(H?n.lineGroupStyle:function(K){if(K.size()){var $="legendline-"+E.uid;n.lineGroupStyle(K),n.gradient(K,x,$,h(U),Z,"stroke")}})}).each(function(v){var R,z,F=p(v),X=F.showLine,ot=F.showMarker,q=v[0],P=q.trace,J=!ot&&!F.anyLine&&!F.anyFill&&i.hasText(P);function E(G,K,$,Q){var ut=o.nestedProperty(P,G).get(),ct=o.isArrayOrTypedArray(ut)&&K?K(ut):ut;if(A&&ct&&void 0!==Q&&(ct=Q),$){if(ct<$[0])return $[0];if(ct>$[1])return $[1]}return ct}function N(G){return q._distinct&&q.index&&G[q.index]?G[q.index]:G[0]}if(ot||J||X){var Z={},U={};if(ot){Z.mc=E("marker.color",N),Z.mx=E("marker.symbol",N),Z.mo=E("marker.opacity",o.mean,[.2,1]),Z.mlc=E("marker.line.color",N),Z.mlw=E("marker.line.width",o.mean,[0,5],2),U.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var D=E("marker.size",o.mean,[2,16],12);Z.ms=D,U.marker.size=D}X&&(U.line={width:E("line.width",N,[0,10],5)}),J&&(Z.tx="Aa",Z.tp=E("textposition",N),Z.ts=10,Z.tc=E("textfont.color",N),Z.tf=E("textfont.family",N)),R=[o.minExtend(q,Z)],(z=o.minExtend(P,U)).selectedpoints=null,z.texttemplate=null}var M=t.select(this).select("g.legendpoints"),j=M.selectAll("path.scatterpts").data(ot?R:[]);j.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",L),j.exit().remove(),j.call(n.pointStyle,z,x),ot&&(R[0].mrc=3);var C=M.selectAll("g.pointtext").data(J?R:[]);C.enter().append("g").classed("pointtext",!0).append("text").attr("transform",L),C.exit().remove(),C.selectAll("text").call(n.textPointStyle,z,x)}).each(function(v){var R=v[0].trace,z=t.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(R.visible&&"candlestick"===R.type?[v,v]:[]);z.enter().append("path").classed("legendcandle",!0).attr("d",function(F,B){return B?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",L).style("stroke-miterlimit",1),z.exit().remove(),z.each(function(F,B){var H=t.select(this),X=R[B?"increasing":"decreasing"],ot=g(void 0,X.line,5,2);H.style("stroke-width",ot+"px").call(s.fill,X.fillcolor),ot&&s.stroke(H,X.line.color)})}).each(function(v){var R=v[0].trace,z=t.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(R.visible&&"ohlc"===R.type?[v,v]:[]);z.enter().append("path").classed("legendohlc",!0).attr("d",function(F,B){return B?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",L).style("stroke-miterlimit",1),z.exit().remove(),z.each(function(F,B){var H=t.select(this),X=R[B?"increasing":"decreasing"],ot=g(void 0,X.line,5,2);H.style("fill","none").call(n.dashLine,X.line.dash,ot),ot&&s.stroke(H,X.line.color)})})}},{"../../lib":232,"../../registry":318,"../../traces/pie/helpers":350,"../../traces/pie/style_one":356,"../../traces/scatter/subtypes":383,"../color":102,"../colorscale/helpers":113,"../drawing":124,"./constants":153,"@plotly/d3":11}],161:[function(c,tt,V){"use strict";c("./constants"),tt.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},{"./constants":163}],162:[function(c,tt,V){"use strict";var t=c("../../registry"),l=c("../../plots/plots"),o=c("../../plots/cartesian/axis_ids"),e=c("../../fonts/ploticon"),n=c("../shapes/draw").eraseActiveShape,s=c("../../lib"),a=s._,i=tt.exports={};function r(y,A){var b,k,L=A.currentTarget,g=L.getAttribute("data-attr"),S=L.getAttribute("data-val")||!0,I=y._fullLayout,v={},R=o.list(y,null,!0),z=I._cartesianSpikesEnabled;if("zoom"===g){var F,B="in"===S?.5:2,H=(1+B)/2,X=(1-B)/2;for(k=0;k<R.length;k++)if(!(b=R[k]).fixedrange)if(F=b._name,"auto"===S)v[F+".autorange"]=!0;else if("reset"===S){if(void 0===b._rangeInitial)v[F+".autorange"]=!0;else{var ot=b._rangeInitial.slice();v[F+".range[0]"]=ot[0],v[F+".range[1]"]=ot[1]}void 0!==b._showSpikeInitial&&(v[F+".showspikes"]=b._showSpikeInitial,"on"!==z||b._showSpikeInitial||(z="off"))}else{var q=[b.r2l(b.range[0]),b.r2l(b.range[1])],P=[H*q[0]+X*q[1],H*q[1]+X*q[0]];v[F+".range[0]"]=b.l2r(P[0]),v[F+".range[1]"]=b.l2r(P[1])}}else"hovermode"!==g||"x"!==S&&"y"!==S||L.setAttribute("data-val",S=I._isHoriz?"y":"x"),v[g]=S;I._cartesianSpikesEnabled=z,t.call("_guiRelayout",y,v)}function d(y,A){for(var b=A.currentTarget,k=b.getAttribute("data-attr"),L=b.getAttribute("data-val")||!0,g=y._fullLayout._subplots.gl3d||[],S={},I=k.split("."),v=0;v<g.length;v++)S[g[v]+"."+I[1]]=L;S.dragmode="pan"===L?L:"zoom",t.call("_guiRelayout",y,S)}function f(y,A){for(var b=A.currentTarget.getAttribute("data-attr"),k="resetLastSave"===b,L="resetDefault"===b,g=y._fullLayout,S=g._subplots.gl3d||[],I={},v=0;v<S.length;v++){var R,z=S[v],F=z+".camera",B=z+".aspectratio",H=z+".aspectmode",X=g[z]._scene;k?(I[F+".up"]=X.viewInitial.up,I[F+".eye"]=X.viewInitial.eye,I[F+".center"]=X.viewInitial.center,R=!0):L&&(I[F+".up"]=null,I[F+".eye"]=null,I[F+".center"]=null,R=!0),R&&(I[B+".x"]=X.viewInitial.aspectratio.x,I[B+".y"]=X.viewInitial.aspectratio.y,I[B+".z"]=X.viewInitial.aspectratio.z,I[H]=X.viewInitial.aspectmode)}t.call("_guiRelayout",y,I)}function h(y,A){var b=A.currentTarget,k=b._previousVal,L=y._fullLayout,g=L._subplots.gl3d||[],S=["xaxis","yaxis","zaxis"],I={},v={};if(k)v=k,b._previousVal=null;else{for(var R=0;R<g.length;R++){var z=g[R],F=L[z],B=z+".hovermode";I[B]=F.hovermode,v[B]=!1;for(var H=0;H<3;H++){var X=S[H],ot=z+"."+X+".showspikes";v[ot]=!1,I[ot]=F[X].showspikes}}b._previousVal=I}return v}function p(y,A){for(var b=A.currentTarget,k=b.getAttribute("data-attr"),L=b.getAttribute("data-val")||!0,g=y._fullLayout,S=g._subplots.geo||[],I=0;I<S.length;I++){var v=S[I];if("zoom"===k){var z=g[v].projection.scale;t.call("_guiRelayout",y,v+".projection.scale","in"===L?2*z:.5*z)}}"reset"===k&&m(y,"geo")}function T(y){var A=y._fullLayout;return!A.hovermode&&(A._has("cartesian")?A._isHoriz?"y":"x":"closest")}function w(y){var A=T(y);t.call("_guiRelayout",y,"hovermode",A)}function x(y,A){for(var b=A.currentTarget.getAttribute("data-val"),k=y._fullLayout,L=k._subplots.mapbox||[],g={},S=0;S<L.length;S++){var I=L[S],v=k[I].zoom;g[I+".zoom"]="in"===b?1.05*v:v/1.05}t.call("_guiRelayout",y,g)}function m(y,A){for(var b=y._fullLayout,k=b._subplots[A]||[],L={},g=0;g<k.length;g++)for(var S=k[g],I=b[S]._subplot.viewInitial,v=Object.keys(I),R=0;R<v.length;R++){var z=v[R];L[S+"."+z]=I[z]}t.call("_guiRelayout",y,L)}i.toImage={name:"toImage",title:function(y){return a(y,"png"===((y._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:e.camera,click:function(y){var A=y._context.toImageButtonOptions,b={format:A.format||"png"};s.notifier(a(y,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==b.format&&s.isIE()&&(s.notifier(a(y,"IE only supports svg.  Changing format to svg."),"long"),b.format="svg"),["filename","width","height","scale"].forEach(function(k){k in A&&(b[k]=A[k])}),t.call("downloadImage",y,b).then(function(k){s.notifier(a(y,"Snapshot succeeded")+" - "+k,"long")}).catch(function(){s.notifier(a(y,"Sorry, there was a problem downloading your snapshot!"),"long")})}},i.sendDataToCloud={name:"sendDataToCloud",title:function(y){return a(y,"Edit in Chart Studio")},icon:e.disk,click:function(y){l.sendDataToCloud(y)}},i.editInChartStudio={name:"editInChartStudio",title:function(y){return a(y,"Edit in Chart Studio")},icon:e.pencil,click:function(y){l.sendDataToCloud(y)}},i.zoom2d={name:"zoom2d",_cat:"zoom",title:function(y){return a(y,"Zoom")},attr:"dragmode",val:"zoom",icon:e.zoombox,click:r},i.pan2d={name:"pan2d",_cat:"pan",title:function(y){return a(y,"Pan")},attr:"dragmode",val:"pan",icon:e.pan,click:r},i.select2d={name:"select2d",_cat:"select",title:function(y){return a(y,"Box Select")},attr:"dragmode",val:"select",icon:e.selectbox,click:r},i.lasso2d={name:"lasso2d",_cat:"lasso",title:function(y){return a(y,"Lasso Select")},attr:"dragmode",val:"lasso",icon:e.lasso,click:r},i.drawclosedpath={name:"drawclosedpath",title:function(y){return a(y,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:e.drawclosedpath,click:r},i.drawopenpath={name:"drawopenpath",title:function(y){return a(y,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:e.drawopenpath,click:r},i.drawline={name:"drawline",title:function(y){return a(y,"Draw line")},attr:"dragmode",val:"drawline",icon:e.drawline,click:r},i.drawrect={name:"drawrect",title:function(y){return a(y,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:e.drawrect,click:r},i.drawcircle={name:"drawcircle",title:function(y){return a(y,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:e.drawcircle,click:r},i.eraseshape={name:"eraseshape",title:function(y){return a(y,"Erase active shape")},icon:e.eraseshape,click:n},i.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(y){return a(y,"Zoom in")},attr:"zoom",val:"in",icon:e.zoom_plus,click:r},i.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(y){return a(y,"Zoom out")},attr:"zoom",val:"out",icon:e.zoom_minus,click:r},i.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(y){return a(y,"Autoscale")},attr:"zoom",val:"auto",icon:e.autoscale,click:r},i.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(y){return a(y,"Reset axes")},attr:"zoom",val:"reset",icon:e.home,click:r},i.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(y){return a(y,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:e.tooltip_basic,gravity:"ne",click:r},i.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(y){return a(y,"Compare data on hover")},attr:"hovermode",val:function(y){return y._fullLayout._isHoriz?"y":"x"},icon:e.tooltip_compare,gravity:"ne",click:r},i.zoom3d={name:"zoom3d",_cat:"zoom",title:function(y){return a(y,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:e.zoombox,click:d},i.pan3d={name:"pan3d",_cat:"pan",title:function(y){return a(y,"Pan")},attr:"scene.dragmode",val:"pan",icon:e.pan,click:d},i.orbitRotation={name:"orbitRotation",title:function(y){return a(y,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:e["3d_rotate"],click:d},i.tableRotation={name:"tableRotation",title:function(y){return a(y,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:e["z-axis"],click:d},i.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(y){return a(y,"Reset camera to default")},attr:"resetDefault",icon:e.home,click:f},i.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(y){return a(y,"Reset camera to last save")},attr:"resetLastSave",icon:e.movie,click:f},i.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(y){return a(y,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:e.tooltip_basic,gravity:"ne",click:function(y,A){var b=h(y,A);t.call("_guiRelayout",y,b)}},i.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(y){return a(y,"Zoom in")},attr:"zoom",val:"in",icon:e.zoom_plus,click:p},i.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(y){return a(y,"Zoom out")},attr:"zoom",val:"out",icon:e.zoom_minus,click:p},i.resetGeo={name:"resetGeo",_cat:"reset",title:function(y){return a(y,"Reset")},attr:"reset",val:null,icon:e.autoscale,click:p},i.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(y){return a(y,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:e.tooltip_basic,gravity:"ne",click:w},i.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(y){return a(y,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:e.tooltip_basic,gravity:"ne",click:w},i.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(y){return a(y,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:e.tooltip_basic,gravity:"ne",click:w},i.resetViewSankey={name:"resetSankeyGroup",title:function(y){return a(y,"Reset view")},icon:e.home,click:function(y){for(var A={"node.groups":[],"node.x":[],"node.y":[]},b=0;b<y._fullData.length;b++){var k=y._fullData[b]._viewInitial;A["node.groups"].push(k.node.groups.slice()),A["node.x"].push(k.node.x.slice()),A["node.y"].push(k.node.y.slice())}t.call("restyle",y,A)}},i.toggleHover={name:"toggleHover",title:function(y){return a(y,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:e.tooltip_basic,gravity:"ne",click:function(y,A){var b=h(y,A);b.hovermode=T(y),t.call("_guiRelayout",y,b)}},i.resetViews={name:"resetViews",title:function(y){return a(y,"Reset views")},icon:e.home,click:function(y,A){var b=A.currentTarget;b.setAttribute("data-attr","zoom"),b.setAttribute("data-val","reset"),r(y,A),b.setAttribute("data-attr","resetLastSave"),f(y,A),m(y,"geo"),m(y,"mapbox")}},i.toggleSpikelines={name:"toggleSpikelines",title:function(y){return a(y,"Toggle Spike Lines")},icon:e.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(y){var A=y._fullLayout;A._cartesianSpikesEnabled="on"===A._cartesianSpikesEnabled?"off":"on",t.call("_guiRelayout",y,function(k){for(var L="on"===k._fullLayout._cartesianSpikesEnabled,g=o.list(k,null,!0),S={},I=0;I<g.length;I++){var v=g[I];S[v._name+".showspikes"]=!!L||v._showSpikeInitial}return S}(y))}},i.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(y){return a(y,"Reset view")},attr:"reset",icon:e.home,click:function(y){m(y,"mapbox")}},i.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(y){return a(y,"Zoom in")},attr:"zoom",val:"in",icon:e.zoom_plus,click:x},i.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(y){return a(y,"Zoom out")},attr:"zoom",val:"out",icon:e.zoom_minus,click:x}},{"../../fonts/ploticon":215,"../../lib":232,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../shapes/draw":186}],163:[function(c,tt,V){"use strict";var t=c("./buttons"),l=Object.keys(t),o=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],e=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(o),n=[];l.forEach(function(s){!function(a){if(-1===e.indexOf(a._cat||a.name)){var i=a.name,r=(a._cat||a.name).toLowerCase();-1===n.indexOf(i)&&n.push(i),-1===n.indexOf(r)&&n.push(r)}}(t[s])}),n.sort(),tt.exports={DRAW_MODES:o,backButtons:e,foreButtons:n}},{"./buttons":162}],164:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../color"),o=c("../../plot_api/plot_template"),e=c("./attributes");tt.exports=function(n,s){var a=n.modebar||{},i=o.newContainer(s,"modebar");function r(f,h){return t.coerce(a,i,e,f,h)}r("orientation"),r("bgcolor",l.addOpacity(s.paper_bgcolor,.5));var d=l.contrast(l.rgb(s.modebar.bgcolor));r("color",l.addOpacity(d,.3)),r("activecolor",l.addOpacity(d,.7)),r("uirevision",s.uirevision),r("add"),r("remove")}},{"../../lib":232,"../../plot_api/plot_template":268,"../color":102,"./attributes":161}],165:[function(c,tt,V){"use strict";tt.exports={moduleType:"component",name:"modebar",layoutAttributes:c("./attributes"),supplyLayoutDefaults:c("./defaults"),manage:c("./manage")}},{"./attributes":161,"./defaults":164,"./manage":166}],166:[function(c,tt,V){"use strict";var t=c("../../plots/cartesian/axis_ids"),l=c("../../traces/scatter/subtypes"),o=c("../../registry"),e=c("../fx/helpers").isUnifiedHover,n=c("./modebar"),s=c("./buttons"),a=c("./constants").DRAW_MODES;tt.exports=function(i){var r=i._fullLayout,d=i._context,f=r._modeBar;if(d.displayModeBar||d.watermark){if(!Array.isArray(d.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(d.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var h,p=d.modeBarButtons;h=Array.isArray(p)&&p.length?function(T){for(var w=0;w<T.length;w++)for(var x=T[w],m=0;m<x.length;m++){var y=x[m];if("string"==typeof y){if(void 0===s[y])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));T[w][m]=s[y]}}return T}(p):!d.displayModeBar&&d.watermark?[]:function(T){var w=T._fullLayout,x=T._fullData,m=T._context;function y(Q,ut){if("string"==typeof ut){if(ut.toLowerCase()===Q.toLowerCase())return!0}else if(ut.name===Q||(ut._cat||ut.name)===Q.toLowerCase())return!0;return!1}var A=w.modebar.add;"string"==typeof A&&(A=[A]);var b=w.modebar.remove;"string"==typeof b&&(b=[b]);var k=m.modeBarButtonsToAdd.concat(A.filter(function(Q){for(var ut=0;ut<m.modeBarButtonsToRemove.length;ut++)if(y(Q,m.modeBarButtonsToRemove[ut]))return!1;return!0})),L=m.modeBarButtonsToRemove.concat(b.filter(function(Q){for(var ut=0;ut<m.modeBarButtonsToAdd.length;ut++)if(y(Q,m.modeBarButtonsToAdd[ut]))return!1;return!0})),g=w._has("cartesian"),S=w._has("gl3d"),I=w._has("geo"),v=w._has("pie"),R=w._has("funnelarea"),z=w._has("gl2d"),F=w._has("ternary"),B=w._has("mapbox"),H=w._has("polar"),X=w._has("smith"),ot=w._has("sankey"),q=function(Q){for(var ut=t.list({_fullLayout:Q},null,!0),ct=0;ct<ut.length;ct++)if(!ut[ct].fixedrange)return!1;return!0}(w),P=e(w.hovermode),J=[];function E(Q){if(Q.length){for(var ut=[],ct=0;ct<Q.length;ct++){for(var gt=Q[ct],vt=s[gt],_t=vt.name.toLowerCase(),kt=(vt._cat||vt.name).toLowerCase(),Et=!1,It=0;It<L.length;It++){var Lt=L[It].toLowerCase();if(Lt===_t||Lt===kt){Et=!0;break}}Et||ut.push(s[gt])}J.push(ut)}}var N=["toImage"];m.showEditInChartStudio?N.push("editInChartStudio"):m.showSendToCloud&&N.push("sendDataToCloud"),E(N);var Z=[],U=[],D=[],M=[];(g||z||v||R||F)+I+S+B+H+X>1?(U=["toggleHover"],D=["resetViews"]):I?(Z=["zoomInGeo","zoomOutGeo"],U=["hoverClosestGeo"],D=["resetGeo"]):S?(U=["hoverClosest3d"],D=["resetCameraDefault3d","resetCameraLastSave3d"]):B?(Z=["zoomInMapbox","zoomOutMapbox"],U=["toggleHover"],D=["resetViewMapbox"]):z?U=["hoverClosestGl2d"]:v?U=["hoverClosestPie"]:ot?(U=["hoverClosestCartesian","hoverCompareCartesian"],D=["resetViewSankey"]):U=["toggleHover"],g&&(U=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(Q){for(var ut=0;ut<Q.length;ut++)if(!o.traceIs(Q[ut],"noHover"))return!1;return!0}(x)||P)&&(U=[]),!g&&!z||q||(Z=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==D[0]&&(D=["resetScale2d"])),S?M=["zoom3d","pan3d","orbitRotation","tableRotation"]:(g||z)&&!q||F?M=["zoom2d","pan2d"]:B||I?M=["pan2d"]:H&&(M=["zoom2d"]),function(Q){for(var ut=!1,ct=0;ct<Q.length&&!ut;ct++){var gt=Q[ct];gt._module&&gt._module.selectPoints&&(o.traceIs(gt,"scatter-like")?(l.hasMarkers(gt)||l.hasText(gt))&&(ut=!0):o.traceIs(gt,"box-violin")&&"all"!==gt.boxpoints&&"all"!==gt.points||(ut=!0))}return ut}(x)&&M.push("select2d","lasso2d");var j=[],C=function(Q){-1===j.indexOf(Q)&&-1!==U.indexOf(Q)&&j.push(Q)};if(Array.isArray(k)){for(var G=[],K=0;K<k.length;K++){var $=k[K];"string"==typeof $?($=$.toLowerCase(),-1!==a.indexOf($)?(w._has("mapbox")||w._has("cartesian"))&&M.push($):"togglespikelines"===$?C("toggleSpikelines"):"togglehover"===$?C("toggleHover"):"hovercompare"===$?C("hoverCompareCartesian"):"hoverclosest"===$?(C("hoverClosestCartesian"),C("hoverClosestGeo"),C("hoverClosest3d"),C("hoverClosestGl2d"),C("hoverClosestPie")):"v1hovermode"===$&&(C("toggleHover"),C("hoverClosestCartesian"),C("hoverCompareCartesian"),C("hoverClosestGeo"),C("hoverClosest3d"),C("hoverClosestGl2d"),C("hoverClosestPie"))):G.push($)}k=G}return E(M),E(Z.concat(D)),E(j),function(Q,ut){if(ut.length)if(Array.isArray(ut[0]))for(var ct=0;ct<ut.length;ct++)Q.push(ut[ct]);else Q.push(ut);return Q}(J,k)}(i),f?f.update(i,h):r._modeBar=n(i,h)}else f&&(f.destroy(),delete r._modeBar)}},{"../../plots/cartesian/axis_ids":283,"../../registry":318,"../../traces/scatter/subtypes":383,"../fx/helpers":138,"./buttons":162,"./constants":163,"./modebar":167}],167:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("fast-isnumeric"),o=c("../../lib"),e=c("../../fonts/ploticon"),n=c("../../version").version,s=new DOMParser;function a(r){this.container=r.container,this.element=document.createElement("div"),this.update(r.graphInfo,r.buttons),this.container.appendChild(this.element)}var i=a.prototype;i.update=function(r,d){this.graphInfo=r;var f=this.graphInfo._context,h=this.graphInfo._fullLayout,p="modebar-"+h._uid;this.element.setAttribute("id",p),this._uid=p,this.element.className="modebar","hover"===f.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===h.modebar.orientation&&(this.element.className+=" vertical",d=d.reverse());var T=h.modebar,w="hover"===f.displayModeBar?".js-plotly-plot .plotly:hover ":"";o.deleteRelatedStyleRule(p),o.addRelatedStyleRule(p,w+"#"+p+" .modebar-group","background-color: "+T.bgcolor),o.addRelatedStyleRule(p,"#"+p+" .modebar-btn .icon path","fill: "+T.color),o.addRelatedStyleRule(p,"#"+p+" .modebar-btn:hover .icon path","fill: "+T.activecolor),o.addRelatedStyleRule(p,"#"+p+" .modebar-btn.active .icon path","fill: "+T.activecolor);var x=!this.hasButtons(d),m=this.hasLogo!==f.displaylogo,y=this.locale!==f.locale;if(this.locale=f.locale,(x||m||y)&&(this.removeAllButtons(),this.updateButtons(d),f.watermark||f.displaylogo)){var A=this.getLogo();f.watermark&&(A.className=A.className+" watermark"),"v"===h.modebar.orientation?this.element.insertBefore(A,this.element.childNodes[0]):this.element.appendChild(A),this.hasLogo=!0}this.updateActiveButton()},i.updateButtons=function(r){var d=this;this.buttons=r,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(f){var h=d.createGroup();f.forEach(function(p){var T=p.name;if(!T)throw new Error("must provide button 'name' in button config");if(-1!==d.buttonsNames.indexOf(T))throw new Error("button name '"+T+"' is taken");d.buttonsNames.push(T);var w=d.createButton(p);d.buttonElements.push(w),h.appendChild(w)}),d.element.appendChild(h)})},i.createGroup=function(){var r=document.createElement("div");return r.className="modebar-group",r},i.createButton=function(r){var d=this,f=document.createElement("a");f.setAttribute("rel","tooltip"),f.className="modebar-btn";var h=r.title;void 0===h?h=r.name:"function"==typeof h&&(h=h(this.graphInfo)),(h||0===h)&&f.setAttribute("data-title",h),void 0!==r.attr&&f.setAttribute("data-attr",r.attr);var p=r.val;if(void 0!==p&&("function"==typeof p&&(p=p(this.graphInfo)),f.setAttribute("data-val",p)),"function"!=typeof r.click)throw new Error("must provide button 'click' function in button config");f.addEventListener("click",function(w){r.click(d.graphInfo,w),d.updateActiveButton(w.currentTarget)}),f.setAttribute("data-toggle",r.toggle||!1),r.toggle&&t.select(f).classed("active",!0);var T=r.icon;return f.appendChild("function"==typeof T?T():this.createIcon(T||e.question)),f.setAttribute("data-gravity",r.gravity||"n"),f},i.createIcon=function(r){var d,f=l(r.height)?Number(r.height):r.ascent-r.descent,h="http://www.w3.org/2000/svg";if(r.path){(d=document.createElementNS(h,"svg")).setAttribute("viewBox",[0,0,r.width,f].join(" ")),d.setAttribute("class","icon");var p=document.createElementNS(h,"path");p.setAttribute("d",r.path),r.transform?p.setAttribute("transform",r.transform):void 0!==r.ascent&&p.setAttribute("transform","matrix(1 0 0 -1 0 "+r.ascent+")"),d.appendChild(p)}return r.svg&&(d=s.parseFromString(r.svg,"application/xml").childNodes[0]),d.setAttribute("height","1em"),d.setAttribute("width","1em"),d},i.updateActiveButton=function(r){var d=this.graphInfo._fullLayout,f=void 0!==r?r.getAttribute("data-attr"):null;this.buttonElements.forEach(function(h){var p=h.getAttribute("data-val")||!0,T=h.getAttribute("data-attr"),w="true"===h.getAttribute("data-toggle"),x=t.select(h);if(w)T===f&&x.classed("active",!x.classed("active"));else{var m=null===T?T:o.nestedProperty(d,T).get();x.classed("active",m===p)}})},i.hasButtons=function(r){var d=this.buttons;if(!d||r.length!==d.length)return!1;for(var f=0;f<r.length;++f){if(r[f].length!==d[f].length)return!1;for(var h=0;h<r[f].length;h++)if(r[f][h].name!==d[f][h].name)return!1}return!0},i.getLogo=function(){var r=this.createGroup(),d=document.createElement("a");return d.href="https://plotly.com/",d.target="_blank",d.setAttribute("data-title",o._(this.graphInfo,"Produced with Plotly.js")+" (v"+n+")"),d.className="modebar-btn plotlyjsicon modebar-btn--logo",d.appendChild(this.createIcon(e.newplotlylogo)),r.appendChild(d),r},i.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},i.destroy=function(){o.removeElement(this.container.querySelector(".modebar")),o.deleteRelatedStyleRule(this._uid)},tt.exports=function(r,d){var f=r._fullLayout,h=new a({graphInfo:r,container:f._modebardiv.node(),buttons:d});return f._privateplot&&t.select(h.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),h}},{"../../fonts/ploticon":215,"../../lib":232,"../../version":391,"@plotly/d3":11,"fast-isnumeric":17}],168:[function(c,tt,V){"use strict";var t=c("../../plots/font_attributes"),l=c("../color/attributes"),o=(0,c("../../plot_api/plot_template").templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});tt.exports={visible:{valType:"boolean",editType:"plot"},buttons:o,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:t({editType:"plot"}),bgcolor:{valType:"color",dflt:l.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:l.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":268,"../../plots/font_attributes":310,"../color/attributes":101}],169:[function(c,tt,V){"use strict";tt.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],170:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../color"),o=c("../../plot_api/plot_template"),e=c("../../plots/array_container_defaults"),n=c("./attributes"),s=c("./constants");function a(i,r,d,f){var h=f.calendar;function p(w,x){return t.coerce(i,r,n.buttons,w,x)}if(p("visible")){var T=p("step");"all"!==T&&(!h||"gregorian"===h||"month"!==T&&"year"!==T?p("stepmode"):r.stepmode="backward",p("count")),p("label")}}tt.exports=function(i,r,d,f,h){var p=i.rangeselector||{},T=o.newContainer(r,"rangeselector");function w(y,A){return t.coerce(p,T,n,y,A)}if(w("visible",e(p,T,{name:"buttons",handleItemDefaults:a,calendar:h}).length>0)){var x=function(y,A,b){for(var k=b.filter(function(I){return A[I].anchor===y._id}),L=0,g=0;g<k.length;g++){var S=A[k[g]].domain;S&&(L=Math.max(S[1],L))}return[y.domain[0],L+s.yPad]}(r,d,f);w("x",x[0]),w("y",x[1]),t.noneOrAll(i,r,["x","y"]),w("xanchor"),w("yanchor"),t.coerceFont(w,"font",d.font);var m=w("bgcolor");w("activecolor",l.contrast(m,s.lightAmount,s.darkAmount)),w("bordercolor"),w("borderwidth")}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/array_container_defaults":274,"../color":102,"./attributes":168,"./constants":169}],171:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../../registry"),o=c("../../plots/plots"),e=c("../color"),n=c("../drawing"),s=c("../../lib"),a=s.strTranslate,i=c("../../lib/svg_text_utils"),r=c("../../plots/cartesian/axis_ids"),d=c("../../constants/alignment"),f=d.LINE_SPACING,h=d.FROM_TL,p=d.FROM_BR,T=c("./constants"),w=c("./get_update_object");function x(A){return A._id}function m(A,b,k){var g,S,L=s.ensureSingle(A,"rect","selector-rect",function(g){g.attr("shape-rendering","crispEdges")});L.attr({rx:T.rx,ry:T.ry}),L.call(e.stroke,b.bordercolor).call(e.fill,(g=b,S=k,S._isActive||S._isHovered?g.activecolor:g.bgcolor)).style("stroke-width",b.borderwidth+"px")}function y(A,b,k,L){var g,S;s.ensureSingle(A,"text","selector-text",function(g){g.attr("text-anchor","middle")}).call(n.font,b.font).text((g=k,S=L._fullLayout._meta,g.label?S?s.templateString(g.label,S):g.label:"all"===g.step?"all":g.count+g.step.charAt(0))).call(function(g){i.convertToTspans(g,L)})}tt.exports=function(A){var b=A._fullLayout._infolayer.selectAll(".rangeselector").data(function(k){for(var L=r.list(k,"x",!0),g=[],S=0;S<L.length;S++){var I=L[S];I.rangeselector&&I.rangeselector.visible&&g.push(I)}return g}(A),x);b.enter().append("g").classed("rangeselector",!0),b.exit().remove(),b.style({cursor:"pointer","pointer-events":"all"}),b.each(function(k){var L=t.select(this),g=k,S=g.rangeselector,I=L.selectAll("g.button").data(s.filterVisible(S.buttons));I.enter().append("g").classed("button",!0),I.exit().remove(),I.each(function(v){var R=t.select(this),z=w(g,v);v._isActive=function(F,B,H){if("all"===B.step)return!0===F.autorange;var X=Object.keys(H);return F.range[0]===H[X[0]]&&F.range[1]===H[X[1]]}(g,v,z),R.call(m,S,v),R.call(y,S,v,A),R.on("click",function(){A._dragged||l.call("_guiRelayout",A,z)}),R.on("mouseover",function(){v._isHovered=!0,R.call(m,S,v)}),R.on("mouseout",function(){v._isHovered=!1,R.call(m,S,v)})}),function(v,R,z,F,B){var H=0,X=0,ot=z.borderwidth;R.each(function(){var Z=t.select(this).select(".selector-text"),D=Math.max(z.font.size*f*i.lineCount(Z),16)+3;X=Math.max(X,D)}),R.each(function(){var Z=t.select(this),U=Z.select(".selector-rect"),D=Z.select(".selector-text"),M=D.node()&&n.bBox(D.node()).width,j=z.font.size*f,C=i.lineCount(D),G=Math.max(M+10,T.minButtonWidth);Z.attr("transform",a(ot+H,ot)),U.attr({x:0,y:0,width:G,height:X}),i.positionText(D,G/2,X/2-(C-1)*j/2+3),H+=G+5});var q=v._fullLayout._size,P=q.l+q.w*z.x,J=q.t+q.h*(1-z.y),E="left";s.isRightAnchor(z)&&(P-=H,E="right"),s.isCenterAnchor(z)&&(P-=H/2,E="center");var N="top";s.isBottomAnchor(z)&&(J-=X,N="bottom"),s.isMiddleAnchor(z)&&(J-=X/2,N="middle"),H=Math.ceil(H),X=Math.ceil(X),P=Math.round(P),J=Math.round(J),o.autoMargin(v,F+"-range-selector",{x:z.x,y:z.y,l:H*h[E],r:H*p[E],b:X*p[N],t:X*h[N]}),B.attr("transform",a(P,J))}(A,I,S,g._name,L)})}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../color":102,"../drawing":124,"./constants":169,"./get_update_object":172,"@plotly/d3":11}],172:[function(c,tt,V){"use strict";var t=c("d3-time"),l=c("../../lib").titleCase;tt.exports=function(o,e){var n=o._name,s={};if("all"===e.step)s[n+".autorange"]=!0;else{var a=function(i,r){var d,f=i.range,h=new Date(i.r2l(f[1])),T=t["utc"+l(r.step)],w=r.count;switch(r.stepmode){case"backward":d=i.l2r(+T.offset(h,-w));break;case"todate":var x=T.offset(h,-w);d=i.l2r(+T.ceil(x))}return[d,f[1]]}(o,e);s[n+".range[0]"]=a[0],s[n+".range[1]"]=a[1]}return s}},{"../../lib":232,"d3-time":16}],173:[function(c,tt,V){"use strict";tt.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:c("./attributes")}}},layoutAttributes:c("./attributes"),handleDefaults:c("./defaults"),draw:c("./draw")}},{"./attributes":168,"./defaults":170,"./draw":171}],174:[function(c,tt,V){"use strict";var t=c("../color/attributes");tt.exports={bgcolor:{valType:"color",dflt:t.background,editType:"plot"},bordercolor:{valType:"color",dflt:t.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":101}],175:[function(c,tt,V){"use strict";var t=c("../../plots/cartesian/axis_ids").list,l=c("../../plots/cartesian/autorange").getAutoRange,o=c("./constants");tt.exports=function(e){for(var n=t(e,"x",!0),s=0;s<n.length;s++){var a=n[s],i=a[o.name];i&&i.visible&&i.autorange&&(i._input.autorange=!0,i._input.range=i.range=l(e,a))}}},{"../../plots/cartesian/autorange":278,"../../plots/cartesian/axis_ids":283,"./constants":176}],176:[function(c,tt,V){"use strict";tt.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],177:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../plot_api/plot_template"),o=c("../../plots/cartesian/axis_ids"),e=c("./attributes"),n=c("./oppaxis_attributes");tt.exports=function(s,a,i){var r=s[i],d=a[i];if(r.rangeslider||a._requestRangeslider[d._id]){t.isPlainObject(r.rangeslider)||(r.rangeslider={});var f,h,p=r.rangeslider,T=l.newContainer(d,"rangeslider");if(L("visible")){L("bgcolor",a.plot_bgcolor),L("bordercolor"),L("borderwidth"),L("thickness"),L("autorange",!d.isValidRange(p.range)),L("range");var w=a._subplots;if(w)for(var x=w.cartesian.filter(function(S){return S.substr(0,S.indexOf("y"))===o.name2id(i)}).map(function(S){return S.substr(S.indexOf("y"),S.length)}),m=t.simpleMap(x,o.id2name),y=0;y<m.length;y++){var A=m[y];f=p[A]||{},h=l.newContainer(T,A,"yaxis");var b,k=a[A];f.range&&k.isValidRange(f.range)&&(b="fixed"),"match"!==g("rangemode",b)&&g("range",k.range.slice())}T._input=p}}function L(S,I){return t.coerce(p,T,e,S,I)}function g(S,I){return t.coerce(f,h,n,S,I)}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_ids":283,"./attributes":174,"./oppaxis_attributes":181}],178:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../../registry"),o=c("../../plots/plots"),e=c("../../lib"),n=e.strTranslate,s=c("../drawing"),a=c("../color"),i=c("../titles"),r=c("../../plots/cartesian"),d=c("../../plots/cartesian/axis_ids"),f=c("../dragelement"),h=c("../../lib/setcursor"),p=c("./constants");function T(b,k,L,g){var S=e.ensureSingle(b,"rect",p.bgClassName,function(z){z.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),I=g.borderwidth%2==0?g.borderwidth:g.borderwidth-1,v=-g._offsetShift,R=s.crispRound(k,g.borderwidth);S.attr({width:g._width+I,height:g._height+I,transform:n(v,v),fill:g.bgcolor,stroke:g.bordercolor,"stroke-width":R})}function w(b,k,L,g){e.ensureSingleById(k._fullLayout._topdefs,"clipPath",g._clipId,function(I){I.append("rect").attr({x:0,y:0})}).select("rect").attr({width:g._width,height:g._height})}function x(b,k,L,g){var S,I=k.calcdata,v=b.selectAll("g."+p.rangePlotClassName).data(L._subplotsWith,e.identity);v.enter().append("g").attr("class",function(R){return p.rangePlotClassName+" "+R}).call(s.setClipUrl,g._clipId,k),v.order(),v.exit().remove(),v.each(function(R,z){var F=t.select(this),B=0===z,H=d.getFromId(k,R,"y"),X=H._name,ot=g[X],q={data:[],layout:{xaxis:{type:L.type,domain:[0,1],range:g.range.slice(),calendar:L.calendar},width:g._width,height:g._height,margin:{t:0,b:0,l:0,r:0}},_context:k._context};L.rangebreaks&&(q.layout.xaxis.rangebreaks=L.rangebreaks),q.layout[X]={type:H.type,domain:[0,1],range:"match"!==ot.rangemode?ot.range.slice():H.range.slice(),calendar:H.calendar},H.rangebreaks&&(q.layout[X].rangebreaks=H.rangebreaks),o.supplyDefaults(q);var P=q._fullLayout.xaxis,J=q._fullLayout[X];P.clearCalc(),P.setScale(),J.clearCalc(),J.setScale();var E={id:R,plotgroup:F,xaxis:P,yaxis:J,isRangePlot:!0};B?S=E:(E.mainplot="xy",E.mainplotinfo=S),r.rangePlot(k,E,function(N,Z){for(var U=[],D=0;D<N.length;D++){var M=N[D],j=M[0].trace;j.xaxis+j.yaxis===Z&&U.push(M)}return U}(I,R))})}function m(b,k,L,g,S){e.ensureSingle(b,"rect",p.maskMinClassName,function(I){I.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",g._height).call(a.fill,p.maskColor),e.ensureSingle(b,"rect",p.maskMaxClassName,function(I){I.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",g._height).call(a.fill,p.maskColor),"match"!==S.rangemode&&(e.ensureSingle(b,"rect",p.maskMinOppAxisClassName,function(I){I.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",g._width).call(a.fill,p.maskOppAxisColor),e.ensureSingle(b,"rect",p.maskMaxOppAxisClassName,function(I){I.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",g._width).style("border-top",p.maskOppBorder).call(a.fill,p.maskOppAxisColor))}function y(b,k,L,g){k._context.staticPlot||e.ensureSingle(b,"rect",p.slideBoxClassName,function(S){S.attr({y:0,cursor:p.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:g._height,fill:p.slideBoxFill})}function A(b,k,L,g){var S=e.ensureSingle(b,"g",p.grabberMinClassName),I=e.ensureSingle(b,"g",p.grabberMaxClassName),v={x:0,width:p.handleWidth,rx:p.handleRadius,fill:a.background,stroke:a.defaultLine,"stroke-width":p.handleStrokeWidth,"shape-rendering":"crispEdges"},R={y:Math.round(g._height/4),height:Math.round(g._height/2)};e.ensureSingle(S,"rect",p.handleMinClassName,function(F){F.attr(v)}).attr(R),e.ensureSingle(I,"rect",p.handleMaxClassName,function(F){F.attr(v)}).attr(R);var z={width:p.grabAreaWidth,x:0,y:0,fill:p.grabAreaFill,cursor:k._context.staticPlot?void 0:p.grabAreaCursor};e.ensureSingle(S,"rect",p.grabAreaMinClassName,function(F){F.attr(z)}).attr("height",g._height),e.ensureSingle(I,"rect",p.grabAreaMaxClassName,function(F){F.attr(z)}).attr("height",g._height)}tt.exports=function(b){for(var k=b._fullLayout,L=k._rangeSliderData,g=0;g<L.length;g++){var S=L[g][p.name];S._clipId=S._id+"-"+k._uid}var I=k._infolayer.selectAll("g."+p.containerClassName).data(L,function(v){return v._name});I.exit().each(function(v){k._topdefs.select("#"+v[p.name]._clipId).remove()}).remove(),0!==L.length&&(I.enter().append("g").classed(p.containerClassName,!0).attr("pointer-events","all"),I.each(function(v){var R=t.select(this),z=v[p.name],F=k[d.id2name(v.anchor)],B=z[d.id2name(v.anchor)];if(z.range){var H,X=e.simpleMap(z.range,v.r2l),ot=e.simpleMap(v.range,v.r2l);H=ot[0]<ot[1]?[Math.min(X[0],ot[0]),Math.max(X[1],ot[1])]:[Math.max(X[0],ot[0]),Math.min(X[1],ot[1])],z.range=z._input.range=e.simpleMap(H,v.l2r)}v.cleanRange("rangeslider.range");var q=k._size,P=v.domain;z._width=q.w*(P[1]-P[0]);var J=Math.round(q.l+q.w*P[0]),E=Math.round(q.t+q.h*(1-v._counterDomainMin)+("bottom"===v.side?v._depth:0)+z._offsetShift+p.extraPad);R.attr("transform",n(J,E)),z._rl=e.simpleMap(z.range,v.r2l);var N=z._rl[0],Z=z._rl[1],U=Z-N;if(z.p2d=function(ut){return ut/z._width*U+N},z.d2p=function(ut){return(ut-N)/U*z._width},v.rangebreaks){var D=v.locateBreaks(N,Z);if(D.length){var M,j,C=0;for(M=0;M<D.length;M++)C+=(j=D[M]).max-j.min;var G=z._width/(Z-N-C),K=[-G*N];for(M=0;M<D.length;M++)K.push(K[K.length-1]-G*((j=D[M]).max-j.min));for(z.d2p=function(ut){for(var ct=K[0],gt=0;gt<D.length;gt++){var vt=D[gt];if(ut>=vt.max)ct=K[gt+1];else if(ut<vt.min)break}return ct+G*ut},M=0;M<D.length;M++)(j=D[M]).pmin=z.d2p(j.min),j.pmax=z.d2p(j.max);z.p2d=function(ut){for(var ct=K[0],gt=0;gt<D.length;gt++){var vt=D[gt];if(ut>=vt.pmax)ct=K[gt+1];else if(ut<vt.pmin)break}return(ut-ct)/G}}}if("match"!==B.rangemode){var $=F.r2l(B.range[0]),Q=F.r2l(B.range[1])-$;z.d2pOppAxis=function(ut){return(ut-$)/Q*z._height}}R.call(T,b,v,z).call(w,b,v,z).call(x,b,v,z).call(m,b,v,z,B).call(y,b,v,z).call(A,b,v,z),function(ut,ct,gt,vt){if(!ct._context.staticPlot){var _t=ut.select("rect."+p.slideBoxClassName).node(),kt=ut.select("rect."+p.grabAreaMinClassName).node(),Et=ut.select("rect."+p.grabAreaMaxClassName).node();ut.on("mousedown",It),ut.on("touchstart",It)}function It(){var Lt=t.event,lt=Lt.target,at=Lt.clientX||Lt.touches[0].clientX,dt=at-ut.node().getBoundingClientRect().left,mt=vt.d2p(gt._rl[0]),St=vt.d2p(gt._rl[1]),bt=f.coverSlip();function wt(Nt){var Dt,zt,Vt,Ct=+(Nt.clientX||Nt.touches[0].clientX)-at;switch(lt){case _t:Vt="ew-resize",Dt=mt+Ct,zt=St+Ct;break;case kt:Vt="col-resize",Dt=mt+Ct,zt=St;break;case Et:Vt="col-resize",Dt=mt,zt=St+Ct;break;default:Vt="ew-resize",Dt=dt,zt=dt+Ct}if(zt<Dt){var Zt=zt;zt=Dt,Dt=Zt}vt._pixelMin=Dt,vt._pixelMax=zt,h(t.select(bt),Vt),function(Kt,Jt,de,$t){function Tt(ue){return de.l2r(e.constrain(ue,$t._rl[0],$t._rl[1]))}var At=Tt($t.p2d($t._pixelMin)),qt=Tt($t.p2d($t._pixelMax));window.requestAnimationFrame(function(){l.call("_guiRelayout",Jt,de._name+".range",[At,qt])})}(0,ct,gt,vt)}function Ot(){bt.removeEventListener("mousemove",wt),bt.removeEventListener("mouseup",Ot),this.removeEventListener("touchmove",wt),this.removeEventListener("touchend",Ot),e.removeElement(bt)}this.addEventListener("touchmove",wt),this.addEventListener("touchend",Ot),bt.addEventListener("mousemove",wt),bt.addEventListener("mouseup",Ot)}}(R,b,v,z),function(ut,ct,gt,vt,_t,kt){var Et=p.handleWidth/2;function It(Ot){return e.constrain(Ot,0,vt._width)}function Lt(Ot){return e.constrain(Ot,0,vt._height)}function lt(Ot){return e.constrain(Ot,-Et,vt._width+Et)}var at=It(vt.d2p(gt._rl[0])),dt=It(vt.d2p(gt._rl[1]));if(ut.select("rect."+p.slideBoxClassName).attr("x",at).attr("width",dt-at),ut.select("rect."+p.maskMinClassName).attr("width",at),ut.select("rect."+p.maskMaxClassName).attr("x",dt).attr("width",vt._width-dt),"match"!==kt.rangemode){var mt=vt._height-Lt(vt.d2pOppAxis(_t._rl[1])),St=vt._height-Lt(vt.d2pOppAxis(_t._rl[0]));ut.select("rect."+p.maskMinOppAxisClassName).attr("x",at).attr("height",mt).attr("width",dt-at),ut.select("rect."+p.maskMaxOppAxisClassName).attr("x",at).attr("y",St).attr("height",vt._height-St).attr("width",dt-at),ut.select("rect."+p.slideBoxClassName).attr("y",mt).attr("height",St-mt)}var bt=Math.round(lt(at-Et))-.5,wt=Math.round(lt(dt-Et))+.5;ut.select("g."+p.grabberMinClassName).attr("transform",n(bt,.5)),ut.select("g."+p.grabberMaxClassName).attr("transform",n(wt,.5))}(R,0,v,z,F,B),"bottom"===v.side&&i.draw(b,v._id+"title",{propContainer:v,propName:v._name+".title",placeholder:k._dfltTitle.x,attributes:{x:v._offset+v._length/2,y:E+z._height+z._offsetShift+10+1.5*v.title.font.size,"text-anchor":"middle"}})}))}},{"../../lib":232,"../../lib/setcursor":252,"../../plots/cartesian":293,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":176,"@plotly/d3":11}],179:[function(c,tt,V){"use strict";var t=c("../../plots/cartesian/axis_ids"),l=c("../../lib/svg_text_utils"),o=c("./constants"),e=c("../../constants/alignment").LINE_SPACING,n=o.name;function s(a){var i=a&&a[n];return i&&i.visible}V.isVisible=s,V.makeData=function(a){var i=t.list({_fullLayout:a},"x",!0),r=a.margin,d=[];if(!a._has("gl2d"))for(var f=0;f<i.length;f++){var h=i[f];if(s(h)){d.push(h);var p=h[n];p._id=n+h._id,p._height=(a.height-r.b-r.t)*p.thickness,p._offsetShift=Math.floor(p.borderwidth/2)}}a._rangeSliderData=d},V.autoMarginOpts=function(a,i){var r=a._fullLayout,d=i[n],f=i._id.charAt(0),h=0,p=0;return"bottom"===i.side&&(h=i._depth,i.title.text!==r._dfltTitle[f]&&(p=1.5*i.title.font.size+10+d._offsetShift,p+=(i.title.text.match(l.BR_TAG_ALL)||[]).length*i.title.font.size*e)),{x:0,y:i._counterDomainMin,l:0,r:0,t:0,b:d._height+h+Math.max(r.margin.b,p),pad:o.extraPad+2*d._offsetShift}}},{"../../constants/alignment":207,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"./constants":176}],180:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("./attributes"),o=c("./oppaxis_attributes"),e=c("./helpers");tt.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:t.extendFlat({},l,{yaxis:o})}}},layoutAttributes:c("./attributes"),handleDefaults:c("./defaults"),calcAutorange:c("./calc_autorange"),draw:c("./draw"),isVisible:e.isVisible,makeData:e.makeData,autoMarginOpts:e.autoMarginOpts}},{"../../lib":232,"./attributes":174,"./calc_autorange":175,"./defaults":177,"./draw":178,"./helpers":179,"./oppaxis_attributes":181}],181:[function(c,tt,V){"use strict";tt.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],182:[function(c,tt,V){"use strict";var t=c("../annotations/attributes"),l=c("../../traces/scatter/attributes").line,o=c("../drawing/attributes").dash,e=c("../../lib/extend").extendFlat,n=c("../../plot_api/plot_template").templatedArray;c("../../constants/axis_placeable_objects"),tt.exports=n("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:e({},t.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:e({},t.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:e({},l.color,{editType:"arraydraw"}),width:e({},l.width,{editType:"calc+arraydraw"}),dash:e({},o,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../traces/scatter/attributes":358,"../annotations/attributes":85,"../drawing/attributes":123}],183:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../plots/cartesian/axes"),o=c("./constants"),e=c("./helpers");function n(r){return a(r.line.width,r.xsizemode,r.x0,r.x1,r.path,!1)}function s(r){return a(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function a(r,d,f,h,p,T){var w=r/2,x=T;if("pixel"===d){var m=p?e.extractPathCoords(p,T?o.paramIsY:o.paramIsX):[f,h],y=t.aggNums(Math.max,null,m),A=t.aggNums(Math.min,null,m),b=A<0?Math.abs(A)+w:w,k=y>0?y+w:w;return{ppad:w,ppadplus:x?b:k,ppadminus:x?k:b}}return{ppad:w}}function i(r,d,f,h,p){var T="category"===r.type||"multicategory"===r.type?r.r2c:r.d2c;if(void 0!==d)return[T(d),T(f)];if(h){var w,x,m,y,A=1/0,b=-1/0,k=h.match(o.segmentRE);for("date"===r.type&&(T=e.decodeDate(T)),w=0;w<k.length;w++)void 0!==(x=p[k[w].charAt(0)].drawn)&&(!(m=k[w].substr(1).match(o.paramRE))||m.length<x||((y=T(m[x]))<A&&(A=y),y>b&&(b=y)));return b>=A?[A,b]:void 0}}tt.exports=function(r){var f=t.filterVisible(r._fullLayout.shapes);if(f.length&&r._fullData.length)for(var h=0;h<f.length;h++){var p,T,w=f[h];w._extremes={};var x=l.getRefType(w.xref),m=l.getRefType(w.yref);if("paper"!==w.xref&&"domain"!==x){var y="pixel"===w.xsizemode?w.xanchor:w.x0,A="pixel"===w.xsizemode?w.xanchor:w.x1;(T=i(p=l.getFromId(r,w.xref),y,A,w.path,o.paramIsX))&&(w._extremes[p._id]=l.findExtremes(p,T,n(w)))}if("paper"!==w.yref&&"domain"!==m){var b="pixel"===w.ysizemode?w.yanchor:w.y0,k="pixel"===w.ysizemode?w.yanchor:w.y1;(T=i(p=l.getFromId(r,w.yref),b,k,w.path,o.paramIsY))&&(w._extremes[p._id]=l.findExtremes(p,T,s(w)))}}}},{"../../lib":232,"../../plots/cartesian/axes":279,"./constants":184,"./helpers":193}],184:[function(c,tt,V){"use strict";tt.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],185:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../plots/cartesian/axes"),o=c("../../plots/array_container_defaults"),e=c("./attributes"),n=c("./helpers");function s(a,i,r){function d(B,H){return t.coerce(a,i,e,B,H)}if(d("visible")){var f=d("path"),h=d("type",f?"path":"rect");"path"!==i.type&&delete i.path,d("editable"),d("layer"),d("opacity"),d("fillcolor"),d("fillrule"),d("line.width")&&(d("line.color"),d("line.dash"));for(var p=d("xsizemode"),T=d("ysizemode"),w=["x","y"],x=0;x<2;x++){var m,y,A,b=w[x],k=b+"anchor",L="x"===b?p:T,g={_fullLayout:r},S=l.coerceRef(a,i,g,b,void 0,"paper");if("range"===l.getRefType(S)?((m=l.getFromId(g,S))._shapeIndices.push(i._index),A=n.rangeToShapePosition(m),y=n.shapePositionToRange(m)):y=A=t.identity,"path"!==h){var I=b+"0",v=b+"1",R=a[I],z=a[v];a[I]=y(a[I],!0),a[v]=y(a[v],!0),"pixel"===L?(d(I,0),d(v,10)):(l.coercePosition(i,g,d,S,I,.25),l.coercePosition(i,g,d,S,v,.75)),i[I]=A(i[I]),i[v]=A(i[v]),a[I]=R,a[v]=z}if("pixel"===L){var F=a[k];a[k]=y(a[k],!0),l.coercePosition(i,g,d,S,k,.25),i[k]=A(i[k]),a[k]=F}}"path"===h?d("path"):t.noneOrAll(a,i,["x0","x1","y0","y1"])}}tt.exports=function(a,i){o(a,i,{name:"shapes",handleItemDefaults:s})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":182,"./helpers":193}],186:[function(c,tt,V){"use strict";var t=c("../../registry"),l=c("../../lib"),o=c("../../plots/cartesian/axes"),e=c("./draw_newshape/helpers").readPaths,n=c("./draw_newshape/display_outlines"),s=c("../../plots/cartesian/handle_outline").clearOutlineControllers,a=c("../color"),i=c("../drawing"),r=c("../../plot_api/plot_template").arrayEditor,d=c("../dragelement"),f=c("../../lib/setcursor"),h=c("./constants"),p=c("./helpers");function T(L){var g=L._fullLayout;for(var S in g._shapeUpperLayer.selectAll("path").remove(),g._shapeLowerLayer.selectAll("path").remove(),g._plots){var I=g._plots[S].shapelayer;I&&I.selectAll("path").remove()}for(var v=0;v<g.shapes.length;v++)g.shapes[v].visible&&m(L,v)}function w(L){return!!L._fullLayout._drawing}function x(L){return!L._context.edits.shapePosition}function m(L,g){L._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+g+'"]').remove();var S=p.makeOptionsAndPlotinfo(L,g),I=S.options,v=S.plotinfo;I._input&&!1!==I.visible&&function R(z){var F=A(L,I),B={"data-index":g,"fill-rule":I.fillrule,d:F},H=I.opacity,X=I.fillcolor,ot=I.line.width?I.line.color:"rgba(0,0,0,0)",q=I.line.width,P=I.line.dash;q||!0!==I.editable||(q=5,P="solid");var J="Z"!==F[F.length-1],E=x(L)&&I.editable&&L._fullLayout._activeShapeIndex===g;E&&(X=J?"rgba(0,0,0,0)":L._fullLayout.activeshape.fillcolor,H=L._fullLayout.activeshape.opacity);var N,Z=z.append("path").attr(B).style("opacity",H).call(a.stroke,ot).call(a.fill,X).call(i.dashLine,P,q);if(y(Z,L,I),(E||L._context.edits.shapePosition)&&(N=r(L.layout,"shapes",I)),E){Z.style({cursor:"move"});var U={element:Z.node(),plotinfo:v,gd:L,editHelpers:N,isActiveShape:!0},D=e(F,L);n(D,Z,U)}else L._context.edits.shapePosition?function(M,j,C,G,K,$){var Q,ut,ct,gt,vt,_t,kt,Et,It,Lt,lt,at,dt,mt,St,bt,wt="pixel"===C.xsizemode,Ot="pixel"===C.ysizemode,Nt="line"===C.type,Dt="path"===C.type,zt=$.modifyItem,Vt=o.getFromId(M,C.xref),Ct=o.getRefType(C.xref),Zt=o.getFromId(M,C.yref),Kt=o.getRefType(C.yref),Jt=p.getDataToPixel(M,Vt,!1,Ct),de=p.getDataToPixel(M,Zt,!0,Kt),$t=p.getPixelToData(M,Vt,!1,Ct),Tt=p.getPixelToData(M,Zt,!0,Kt),At=Nt?function(){var ce=Math.max(C.line.width,10),nt=K.append("g").attr("data-index",G);nt.append("path").attr("d",j.attr("d")).style({cursor:"move","stroke-width":ce,"stroke-opacity":"0"});var it={"fill-opacity":"0"},Mt=Math.max(ce/2,10);return nt.append("circle").attr({"data-line-point":"start-point",cx:wt?Jt(C.xanchor)+C.x0:Jt(C.x0),cy:Ot?de(C.yanchor)-C.y0:de(C.y0),r:Mt}).style(it).classed("cursor-grab",!0),nt.append("circle").attr({"data-line-point":"end-point",cx:wt?Jt(C.xanchor)+C.x1:Jt(C.x1),cy:Ot?de(C.yanchor)-C.y1:de(C.y1),r:Mt}).style(it).classed("cursor-grab",!0),nt}():j,qt={element:At.node(),gd:M,prepFn:function(ce){var nt,it,Mt,Pt,Ut,Rt,jt,Yt;w(M)||(wt&&(vt=Jt(C.xanchor)),Ot&&(_t=de(C.yanchor)),"path"===C.type?St=C.path:(Q=wt?C.x0:Jt(C.x0),ut=Ot?C.y0:de(C.y0),ct=wt?C.x1:Jt(C.x1),gt=Ot?C.y1:de(C.y1)),Q<ct?(It=Q,dt="x0",Lt=ct,mt="x1"):(It=ct,dt="x1",Lt=Q,mt="x0"),!Ot&&ut<gt||Ot&&ut>gt?(kt=ut,lt="y0",Et=gt,at="y1"):(kt=gt,lt="y1",Et=ut,at="y0"),ue(ce),xe(K,C),nt=j,Ut=(it=C).yref,Rt=o.getFromId(Mt=M,Pt=it.xref),jt=o.getFromId(Mt,Ut),Yt="","paper"===Pt||Rt.autorange||(Yt+=Pt),"paper"===Ut||jt.autorange||(Yt+=Ut),i.setClipUrl(nt,Yt?"clip"+Mt._fullLayout._uid+Yt:null,Mt),qt.moveFn="move"===bt?Te:Ce,qt.altKey=ce.altKey)},doneFn:function(){w(M)||(f(j),ye(K),y(j,M,C),t.call("_guiRelayout",M,$.getUpdateObj()))},clickFn:function(){w(M)||ye(K)}};function ue(ce){if(w(M))bt=null;else if(Nt)bt="path"===ce.target.tagName?"move":"start-point"===ce.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var nt=qt.element.getBoundingClientRect(),it=nt.right-nt.left,Mt=nt.bottom-nt.top,Rt=!Dt&&it>10&&Mt>10&&!ce.shiftKey?d.getCursor((ce.clientX-nt.left)/it,1-(ce.clientY-nt.top)/Mt):"move";f(j,Rt),bt=Rt.split("-")[0]}}function Te(ce,nt){if("path"===C.type){var it=function(Ut){return Ut},Mt=it,Pt=it;wt?zt("xanchor",C.xanchor=$t(vt+ce)):(Mt=function(Ut){return $t(Jt(Ut)+ce)},Vt&&"date"===Vt.type&&(Mt=p.encodeDate(Mt))),Ot?zt("yanchor",C.yanchor=Tt(_t+nt)):(Pt=function(Ut){return Tt(de(Ut)+nt)},Zt&&"date"===Zt.type&&(Pt=p.encodeDate(Pt))),zt("path",C.path=b(St,Mt,Pt))}else wt?zt("xanchor",C.xanchor=$t(vt+ce)):(zt("x0",C.x0=$t(Q+ce)),zt("x1",C.x1=$t(ct+ce))),Ot?zt("yanchor",C.yanchor=Tt(_t+nt)):(zt("y0",C.y0=Tt(ut+nt)),zt("y1",C.y1=Tt(gt+nt)));j.attr("d",A(M,C)),xe(K,C)}function Ce(ce,nt){if(Dt){var it=function(Ae){return Ae},Mt=it,Pt=it;wt?zt("xanchor",C.xanchor=$t(vt+ce)):(Mt=function(Ae){return $t(Jt(Ae)+ce)},Vt&&"date"===Vt.type&&(Mt=p.encodeDate(Mt))),Ot?zt("yanchor",C.yanchor=Tt(_t+nt)):(Pt=function(Ae){return Tt(de(Ae)+nt)},Zt&&"date"===Zt.type&&(Pt=p.encodeDate(Pt))),zt("path",C.path=b(St,Mt,Pt))}else if(Nt){if("resize-over-start-point"===bt){var Ut=Q+ce,Rt=Ot?ut-nt:ut+nt;zt("x0",C.x0=wt?Ut:$t(Ut)),zt("y0",C.y0=Ot?Rt:Tt(Rt))}else if("resize-over-end-point"===bt){var jt=ct+ce,Yt=Ot?gt-nt:gt+nt;zt("x1",C.x1=wt?jt:$t(jt)),zt("y1",C.y1=Ot?Yt:Tt(Yt))}}else{var ee=function(Ae){return-1!==bt.indexOf(Ae)},ae=ee("n"),he=ee("s"),Me=ee("w"),re=ee("e"),me=ae?kt+nt:kt,Oe=he?Et+nt:Et,oe=Me?It+ce:It,te=re?Lt+ce:Lt;Ot&&(ae&&(me=kt-nt),he&&(Oe=Et-nt)),(!Ot&&Oe-me>10||Ot&&me-Oe>10)&&(zt(lt,C[lt]=Ot?me:Tt(me)),zt(at,C[at]=Ot?Oe:Tt(Oe))),te-oe>10&&(zt(dt,C[dt]=wt?oe:$t(oe)),zt(mt,C[mt]=wt?te:$t(te)))}j.attr("d",A(M,C)),xe(K,C)}function xe(ce,nt){(wt||Ot)&&function(){var it="path"!==nt.type,Mt=ce.selectAll(".visual-cue").data([0]);Mt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var Pt=Jt(wt?nt.xanchor:l.midRange(it?[nt.x0,nt.x1]:p.extractPathCoords(nt.path,h.paramIsX))),Ut=de(Ot?nt.yanchor:l.midRange(it?[nt.y0,nt.y1]:p.extractPathCoords(nt.path,h.paramIsY)));Pt=p.roundPositionForSharpStrokeRendering(Pt,1),Ut=p.roundPositionForSharpStrokeRendering(Ut,1),Mt.attr("d",wt&&Ot?"M"+(Pt-1-1)+","+(Ut-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":wt?"M"+(Pt-1-1)+","+(Ut-9-1)+"v18 h2 v-18 Z":"M"+(Pt-9-1)+","+(Ut-1-1)+"h18 v2 h-18 Z")}()}function ye(ce){ce.selectAll(".visual-cue").remove()}d.init(qt),At.node().onmousemove=ue}(L,Z,I,g,z,N):!0===I.editable&&Z.style("pointer-events",J||a.opacity(X)*H<=.5?"stroke":"all");Z.node().addEventListener("click",function(){return function(M,j){if(x(M)){var C=+j.node().getAttribute("data-index");if(C>=0){if(C===M._fullLayout._activeShapeIndex)return void k(M);M._fullLayout._activeShapeIndex=C,M._fullLayout._deactivateShape=k,T(M)}}}(L,Z)})}("below"!==I.layer?L._fullLayout._shapeUpperLayer:"paper"===I.xref||"paper"===I.yref?L._fullLayout._shapeLowerLayer:v._hadPlotinfo?(v.mainplotinfo||v).shapelayer:L._fullLayout._shapeLowerLayer)}function y(L,g,S){var I=(S.xref+S.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");i.setClipUrl(L,I?"clip"+g._fullLayout._uid+I:null,g)}function A(L,g){var S,I,v,R,z,F,B,H,K,$,Q,ct,gt,vt,_t,X=g.type,ot=o.getRefType(g.xref),q=o.getRefType(g.yref),P=o.getFromId(L,g.xref),J=o.getFromId(L,g.yref),E=L._fullLayout._size;if(P?"domain"===ot?I=function(K){return P._offset+P._length*K}:(S=p.shapePositionToRange(P),I=function(K){return P._offset+P.r2p(S(K,!0))}):I=function(K){return E.l+E.w*K},J?"domain"===q?R=function(K){return J._offset+J._length*(1-K)}:(v=p.shapePositionToRange(J),R=function(K){return J._offset+J.r2p(v(K,!0))}):R=function(K){return E.t+E.h*(1-K)},"path"===X)return P&&"date"===P.type&&(I=p.decodeDate(I)),J&&"date"===J.type&&(R=p.decodeDate(R)),$=I,Q=R,ct=(K=g).xsizemode,gt=K.ysizemode,vt=K.xanchor,_t=K.yanchor,K.path.replace(h.segmentRE,function(kt){var Et=0,It=kt.charAt(0),Lt=h.paramIsX[It],lt=h.paramIsY[It],at=h.numParams[It],dt=kt.substr(1).replace(h.paramRE,function(mt){return Lt[Et]?mt="pixel"===ct?$(vt)+Number(mt):$(mt):lt[Et]&&(mt="pixel"===gt?Q(_t)-Number(mt):Q(mt)),++Et>at&&(mt="X"),mt});return Et>at&&(dt=dt.replace(/[\s,]*X.*/,""),l.log("Ignoring extra params in segment "+kt)),It+dt});if("pixel"===g.xsizemode){var N=I(g.xanchor);z=N+g.x0,F=N+g.x1}else z=I(g.x0),F=I(g.x1);if("pixel"===g.ysizemode){var Z=R(g.yanchor);B=Z-g.y0,H=Z-g.y1}else B=R(g.y0),H=R(g.y1);if("line"===X)return"M"+z+","+B+"L"+F+","+H;if("rect"===X)return"M"+z+","+B+"H"+F+"V"+H+"H"+z+"Z";var U=(z+F)/2,D=(B+H)/2,M=Math.abs(U-z),j=Math.abs(D-B),C="A"+M+","+j,G=U+M+","+D;return"M"+G+C+" 0 1,1 "+U+","+(D-j)+C+" 0 0,1 "+G+"Z"}function b(L,g,S){return L.replace(h.segmentRE,function(I){var v=0,R=I.charAt(0),z=h.paramIsX[R],F=h.paramIsY[R],B=h.numParams[R];return R+I.substr(1).replace(h.paramRE,function(H){return v>=B||(z[v]?H=g(H):F[v]&&(H=S(H)),v++),H})})}function k(L){x(L)&&L._fullLayout._activeShapeIndex>=0&&(s(L),delete L._fullLayout._activeShapeIndex,T(L))}tt.exports={draw:T,drawOne:m,eraseActiveShape:function(L){if(x(L)){s(L);var g=L._fullLayout._activeShapeIndex,S=(L.layout||{}).shapes||[];if(g<S.length){for(var I=[],v=0;v<S.length;v++)v!==g&&I.push(S[v]);delete L._fullLayout._activeShapeIndex,t.call("_guiRelayout",L,{shapes:I})}}}}},{"../../lib":232,"../../lib/setcursor":252,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/cartesian/handle_outline":290,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"./constants":184,"./draw_newshape/display_outlines":190,"./draw_newshape/helpers":191,"./helpers":193}],187:[function(c,tt,V){"use strict";var t=c("../../drawing/attributes").dash,l=c("../../../lib/extend").extendFlat;tt.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:l({},t,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":226,"../../drawing/attributes":123}],188:[function(c,tt,V){"use strict";tt.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],189:[function(c,tt,V){"use strict";var t=c("../../color");tt.exports=function(l,o,e){e("newshape.drawdirection"),e("newshape.layer"),e("newshape.fillcolor"),e("newshape.fillrule"),e("newshape.opacity"),e("newshape.line.width")&&(e("newshape.line.color",t.contrast((l||{}).plot_bgcolor||"#FFF")),e("newshape.line.dash")),e("activeshape.fillcolor"),e("activeshape.opacity")}},{"../../color":102}],190:[function(c,tt,V){"use strict";var t=c("../../dragelement"),l=c("../../dragelement/helpers").drawMode,o=c("../../../registry"),e=c("./constants"),n=e.i000,s=e.i090,a=e.i180,i=e.i270,r=c("../../../plots/cartesian/handle_outline").clearOutlineControllers,d=c("./helpers"),f=d.pointsShapeRectangle,h=d.pointsShapeEllipse,p=d.writePaths,T=c("./newshapes");tt.exports=function w(x,m,y,A){A||(A=0);var b=y.gd;function k(){w(x,m,y,A++),h(x[0])&&L({redrawing:!0})}function L(N){y.isActiveShape=!1;var Z=T(m,y);Object.keys(Z).length&&o.call((N||{}).redrawing?"relayout":"_guiRelayout",b,Z)}var g,S,I,v,R,z=y.isActiveShape,F=b._fullLayout._zoomlayer;function H(N){I=+N.srcElement.getAttribute("data-i"),v=+N.srcElement.getAttribute("data-j"),g[I][v].moveFn=X}function X(N,Z){if(x.length){var U=R[I][v][1],D=R[I][v][2],M=x[I],j=M.length;if(f(M)){for(var C=0;C<j;C++)if(C!==v){var G=M[C];G[1]===M[v][1]&&(G[1]=U+N),G[2]===M[v][2]&&(G[2]=D+Z)}if(M[v][1]=U+N,M[v][2]=D+Z,!f(M))for(var K=0;K<j;K++)for(var $=0;$<M[K].length;$++)M[K][$]=R[I][K][$]}else M[v][1]=U+N,M[v][2]=D+Z;k()}}function ot(){L()}function q(N,Z){if(2===N){I=+Z.srcElement.getAttribute("data-i"),v=+Z.srcElement.getAttribute("data-j");var U=x[I];f(U)||h(U)||function(){if(x.length&&x[I]&&x[I].length){for(var D=[],M=0;M<x[I].length;M++)M!==v&&D.push(x[I][M]);D.length>1&&(2!==D.length||"Z"!==D[1][0])&&(0===v&&(D[0][0]="M"),x[I]=D,k(),L())}}()}}function P(N,Z){(function(U,D){if(x.length)for(var M=0;M<x.length;M++)for(var j=0;j<x[M].length;j++)for(var C=0;C+2<x[M][j].length;C+=2)x[M][j][C+1]=R[M][j][C+1]+U,x[M][j][C+2]=R[M][j][C+2]+D})(N,Z),k()}l(y.dragmode)?b._fullLayout._drawing=!0:b._fullLayout._activeShapeIndex>=0&&r(b),m.attr("d",p(x)),z&&!A&&(R=function(N,Z){for(var U=0;U<Z.length;U++){var D=Z[U];N[U]=[];for(var M=0;M<D.length;M++){N[U][M]=[];for(var j=0;j<D[M].length;j++)N[U][M][j]=D[M][j]}}return N}([],x),function(N){g=[];for(var Z=0;Z<x.length;Z++){var U=x[Z],D=!f(U)&&h(U);g[Z]=[];for(var M=0;M<U.length;M++)if("Z"!==U[M][0]&&(!D||M===n||M===s||M===a||M===i)){var j=U[M][1],C=U[M][2],G=N.append("circle").classed("cursor-grab",!0).attr("data-i",Z).attr("data-j",M).attr("cx",j).attr("cy",C).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});g[Z][M]={element:G.node(),gd:b,prepFn:H,doneFn:ot,clickFn:q},t.init(g[Z][M])}}}(F.append("g").attr("class","outline-controllers")),S=[],x.length&&(S[0]={element:m[0][0],gd:b,prepFn:function J(N){(I=+N.srcElement.getAttribute("data-i"))||(I=0),S[I].moveFn=P},doneFn:function E(){L()}},t.init(S[0])))}},{"../../../plots/cartesian/handle_outline":290,"../../../registry":318,"../../dragelement":121,"../../dragelement/helpers":120,"./constants":188,"./helpers":191,"./newshapes":192}],191:[function(c,tt,V){"use strict";var t=c("parse-svg-path"),l=c("./constants"),o=l.CIRCLE_SIDES,e=l.SQRT2,n=c("../../../plots/cartesian/helpers"),s=n.p2r,a=n.r2p,i=[0,3,4,5,6,1,2],r=[0,3,4,1,2];function d(h,p){return Math.abs(h-p)<=1e-6}function f(h,p){var T=p[1]-h[1],w=p[2]-h[2];return Math.sqrt(T*T+w*w)}V.writePaths=function(h){var p=h.length;if(!p)return"M0,0Z";for(var T="",w=0;w<p;w++)for(var x=h[w].length,m=0;m<x;m++){var y=h[w][m][0];if("Z"===y)T+="Z";else for(var A=h[w][m].length,b=0;b<A;b++){var k=b;"Q"===y||"S"===y?k=r[b]:"C"===y&&(k=i[b]),T+=h[w][m][k],b>0&&b<A-1&&(T+=",")}}return T},V.readPaths=function(h,p,T,w){var x,m,y,A=t(h),b=[],k=-1,L=0,g=0,S=function(){m=L,y=g};S();for(var I=0;I<A.length;I++){var B=[],H=A[I][0],X=H;switch(H){case"M":b[++k]=[],B.push([X,L=+A[I][1],g=+A[I][2]]),S();break;case"Q":case"S":B.push([X,L=+A[I][3],g=+A[I][4],+A[I][1],+A[I][2]]);break;case"C":B.push([X,L=+A[I][5],g=+A[I][6],+A[I][1],+A[I][2],+A[I][3],+A[I][4]]);break;case"T":case"L":B.push([X,L=+A[I][1],g=+A[I][2]]);break;case"H":B.push([X="L",L=+A[I][1],g]);break;case"V":B.push([X="L",L,g=+A[I][1]]);break;case"A":X="L";var ot=+A[I][1],q=+A[I][2];+A[I][4]||(ot=-ot,q=-q);var P=L-ot,J=g;for(x=1;x<=o/2;x++){var E=2*Math.PI*x/o;B.push([X,P+ot*Math.cos(E),J+q*Math.sin(E)])}break;case"Z":L===m&&g===y||B.push([X,L=m,g=y])}for(var N=(T||{}).domain,Z=p._fullLayout._size,U=T&&"pixel"===T.xsizemode,D=T&&"pixel"===T.ysizemode,M=!1===w,j=0;j<B.length;j++){for(x=0;x+2<7;x+=2){var C=B[j][x+1],G=B[j][x+2];void 0!==C&&void 0!==G&&(L=C,g=G,T&&(T.xaxis&&T.xaxis.p2r?(M&&(C-=T.xaxis._offset),C=U?a(T.xaxis,T.xanchor)+C:s(T.xaxis,C)):(M&&(C-=Z.l),N?C=N.x[0]+C/Z.w:C/=Z.w),T.yaxis&&T.yaxis.p2r?(M&&(G-=T.yaxis._offset),G=D?a(T.yaxis,T.yanchor)-G:s(T.yaxis,G)):(M&&(G-=Z.t),G=N?N.y[1]-G/Z.h:1-G/Z.h)),B[j][x+1]=C,B[j][x+2]=G)}b[k].push(B[j].slice())}}return b},V.pointsShapeRectangle=function(h){if(5!==h.length)return!1;for(var p=1;p<3;p++)if(!d(h[0][p]-h[1][p],h[3][p]-h[2][p])||!d(h[0][p]-h[3][p],h[1][p]-h[2][p]))return!1;return!(!d(h[0][1],h[1][1])&&!d(h[0][1],h[3][1])||!(f(h[0],h[1])*f(h[0],h[3])))},V.pointsShapeEllipse=function(h){var p=h.length;if(p!==o+1)return!1;p=o;for(var T=0;T<p;T++){var w=(2*p-T)%p,x=(p/2+w)%p;if(!d(f(h[T],h[(p/2+T)%p]),f(h[w],h[x])))return!1}return!0},V.handleEllipse=function(h,p,T){if(!h)return[p,T];var w=V.ellipseOver({x0:p[0],y0:p[1],x1:T[0],y1:T[1]}),x=(w.x1+w.x0)/2,m=(w.y1+w.y0)/2,y=(w.x1-w.x0)/2,A=(w.y1-w.y0)/2;y||(y=A/=e),A||(A=y/=e);for(var b=[],k=0;k<o;k++){var L=2*k*Math.PI/o;b.push([x+y*Math.cos(L),m+A*Math.sin(L)])}return b},V.ellipseOver=function(h){var p=h.x0,T=h.y0,w=h.x1,x=h.y1,m=w-p,y=x-T,A=((p-=m)+w)/2,b=((T-=y)+x)/2;return{x0:A-(m*=e),y0:b-(y*=e),x1:A+m,y1:b+y}}},{"../../../plots/cartesian/helpers":291,"./constants":188,"parse-svg-path":56}],192:[function(c,tt,V){"use strict";var t=c("../../dragelement/helpers"),l=t.drawMode,o=t.openMode,e=c("./constants"),n=e.i000,s=e.i090,a=e.i180,i=e.i270,r=e.cos45,d=e.sin45,f=c("../../../plots/cartesian/helpers"),h=f.p2r,p=f.r2p,T=c("../../../plots/cartesian/handle_outline").clearSelect,w=c("./helpers"),x=w.readPaths,m=w.writePaths,y=w.ellipseOver;tt.exports=function(A,b){if(A.length){var k=A[0][0];if(k){var L=k.getAttribute("d"),g=b.gd,S=g._fullLayout.newshape,I=b.plotinfo,v=I.xaxis,R=I.yaxis,z=!!I.domain||!I.xaxis,F=!!I.domain||!I.yaxis,B=b.isActiveShape,H=b.dragmode,X=(g.layout||{}).shapes||[];if(!l(H)&&void 0!==B){var ot=g._fullLayout._activeShapeIndex;if(ot<X.length)switch(g._fullLayout.shapes[ot].type){case"rect":H="drawrect";break;case"circle":H="drawcircle";break;case"line":H="drawline";break;case"path":var q=X[ot].path||"";H="Z"===q[q.length-1]?"drawclosedpath":"drawopenpath"}}var P,J=o(H),E=x(L,g,I,B),N={editable:!0,xref:z?"paper":v._id,yref:F?"paper":R._id,layer:S.layer,opacity:S.opacity,line:{color:S.line.color,width:S.line.width,dash:S.line.dash}};if(J||(N.fillcolor=S.fillcolor,N.fillrule=S.fillrule),1===E.length&&(P=E[0]),P&&"drawrect"===H)N.type="rect",N.x0=P[0][1],N.y0=P[0][2],N.x1=P[2][1],N.y1=P[2][2];else if(P&&"drawline"===H)N.type="line",N.x0=P[0][1],N.y0=P[0][2],N.x1=P[1][1],N.y1=P[1][2];else if(P&&"drawcircle"===H){N.type="circle";var Z=P[n][1],U=P[s][1],D=P[a][1],M=P[i][1],j=P[n][2],C=P[s][2],G=P[a][2],K=P[i][2],$=I.xaxis&&("date"===I.xaxis.type||"log"===I.xaxis.type),Q=I.yaxis&&("date"===I.yaxis.type||"log"===I.yaxis.type);$&&(Z=p(I.xaxis,Z),U=p(I.xaxis,U),D=p(I.xaxis,D),M=p(I.xaxis,M)),Q&&(j=p(I.yaxis,j),C=p(I.yaxis,C),G=p(I.yaxis,G),K=p(I.yaxis,K));var ut=(U+M)/2,ct=(j+G)/2,gt=y({x0:ut,y0:ct,x1:ut+(M-U+D-Z)/2*r,y1:ct+(K-C+G-j)/2*d});$&&(gt.x0=h(I.xaxis,gt.x0),gt.x1=h(I.xaxis,gt.x1)),Q&&(gt.y0=h(I.yaxis,gt.y0),gt.y1=h(I.yaxis,gt.y1)),N.x0=gt.x0,N.y0=gt.y0,N.x1=gt.x1,N.y1=gt.y1}else N.type="path",v&&R&&function(lt,at,dt){var mt="date"===at.type,St="date"===dt.type;if(!mt&&!St)return lt;for(var bt=0;bt<lt.length;bt++)for(var wt=0;wt<lt[bt].length;wt++)for(var Ot=0;Ot+2<lt[bt][wt].length;Ot+=2)mt&&(lt[bt][wt][Ot+1]=lt[bt][wt][Ot+1].replace(" ","_")),St&&(lt[bt][wt][Ot+2]=lt[bt][wt][Ot+2].replace(" ","_"))}(E,v,R),N.path=m(E),P=null;T(g);for(var vt=b.editHelpers,_t=(vt||{}).modifyItem,kt=[],Et=0;Et<X.length;Et++){var It=g._fullLayout.shapes[Et];if(kt[Et]=It._input,void 0!==B&&Et===g._fullLayout._activeShapeIndex){var Lt=N;switch(It.type){case"line":case"rect":case"circle":_t("x0",Lt.x0),_t("x1",Lt.x1),_t("y0",Lt.y0),_t("y1",Lt.y1);break;case"path":_t("path",Lt.path)}}}return void 0===B?(kt.push(N),kt):vt?vt.getUpdateObj():{}}}}},{"../../../plots/cartesian/handle_outline":290,"../../../plots/cartesian/helpers":291,"../../dragelement/helpers":120,"./constants":188,"./helpers":191}],193:[function(c,tt,V){"use strict";var t=c("./constants"),l=c("../../lib");V.rangeToShapePosition=function(o){return"log"===o.type?o.r2d:function(e){return e}},V.shapePositionToRange=function(o){return"log"===o.type?o.d2r:function(e){return e}},V.decodeDate=function(o){return function(e){return e.replace&&(e=e.replace("_"," ")),o(e)}},V.encodeDate=function(o){return function(e){return o(e).replace(" ","_")}},V.extractPathCoords=function(o,e){var n=[];return o.match(t.segmentRE).forEach(function(s){var a=e[s.charAt(0)].drawn;if(void 0!==a){var i=s.substr(1).match(t.paramRE);!i||i.length<a||n.push(l.cleanNumber(i[a]))}}),n},V.getDataToPixel=function(o,e,n,s){var a,i=o._fullLayout._size;if(e)if("domain"===s)a=function(d){return e._length*(n?1-d:d)+e._offset};else{var r=V.shapePositionToRange(e);a=function(d){return e._offset+e.r2p(r(d,!0))},"date"===e.type&&(a=V.decodeDate(a))}else a=n?function(d){return i.t+i.h*(1-d)}:function(d){return i.l+i.w*d};return a},V.getPixelToData=function(o,e,n,s){var a,i=o._fullLayout._size;if(e)if("domain"===s)a=function(d){var f=(d-e._offset)/e._length;return n?1-f:f};else{var r=V.rangeToShapePosition(e);a=function(d){return r(e.p2r(d-e._offset))}}else a=n?function(d){return 1-(d-i.t)/i.h}:function(d){return(d-i.l)/i.w};return a},V.roundPositionForSharpStrokeRendering=function(o,e){var n=1===Math.round(e%2),s=Math.round(o);return n?s+.5:s},V.makeOptionsAndPlotinfo=function(o,e){var n=o._fullLayout.shapes[e]||{},s=o._fullLayout._plots[n.xref+n.yref];return s?s._hadPlotinfo=!0:(s={},n.xref&&"paper"!==n.xref&&(s.xaxis=o._fullLayout[n.xref+"axis"]),n.yref&&"paper"!==n.yref&&(s.yaxis=o._fullLayout[n.yref+"axis"])),s.xsizemode=n.xsizemode,s.ysizemode=n.ysizemode,s.xanchor=n.xanchor,s.yanchor=n.yanchor,{options:n,plotinfo:s}}},{"../../lib":232,"./constants":184}],194:[function(c,tt,V){"use strict";var t=c("./draw");tt.exports={moduleType:"component",name:"shapes",layoutAttributes:c("./attributes"),supplyLayoutDefaults:c("./defaults"),supplyDrawNewShapeDefaults:c("./draw_newshape/defaults"),includeBasePlot:c("../../plots/cartesian/include_components")("shapes"),calcAutorange:c("./calc_autorange"),draw:t.draw,drawOne:t.drawOne}},{"../../plots/cartesian/include_components":292,"./attributes":182,"./calc_autorange":183,"./defaults":185,"./draw":186,"./draw_newshape/defaults":189}],195:[function(c,tt,V){"use strict";var t=c("../../plots/font_attributes"),l=c("../../plots/pad_attributes"),o=c("../../lib/extend").extendDeepAll,e=c("../../plot_api/edit_types").overrideAll,n=c("../../plots/animation_attributes"),s=c("../../plot_api/plot_template").templatedArray,a=c("./constants"),i=s("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});tt.exports=e(s("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:i,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:o(l({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:n.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:t({})},font:t({}),activebgcolor:{valType:"color",dflt:a.gripBgActiveColor},bgcolor:{valType:"color",dflt:a.railBgColor},bordercolor:{valType:"color",dflt:a.railBorderColor},borderwidth:{valType:"number",min:0,dflt:a.railBorderWidth},ticklen:{valType:"number",min:0,dflt:a.tickLength},tickcolor:{valType:"color",dflt:a.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:a.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/animation_attributes":273,"../../plots/font_attributes":310,"../../plots/pad_attributes":315,"./constants":196}],196:[function(c,tt,V){"use strict";tt.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],197:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../plots/array_container_defaults"),o=c("./attributes"),e=c("./constants").name,n=o.steps;function s(i,r,d){function f(x,m){return t.coerce(i,r,o,x,m)}for(var h=l(i,r,{name:"steps",handleItemDefaults:a}),p=0,T=0;T<h.length;T++)h[T].visible&&p++;if(p<2?r.visible=!1:f("visible")){r._stepCount=p;var w=r._visibleSteps=t.filterVisible(h);(h[f("active")]||{}).visible||(r.active=w[0]._index),f("x"),f("y"),t.noneOrAll(i,r,["x","y"]),f("xanchor"),f("yanchor"),f("len"),f("lenmode"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),t.coerceFont(f,"font",d.font),f("currentvalue.visible")&&(f("currentvalue.xanchor"),f("currentvalue.prefix"),f("currentvalue.suffix"),f("currentvalue.offset"),t.coerceFont(f,"currentvalue.font",r.font)),f("transition.duration"),f("transition.easing"),f("bgcolor"),f("activebgcolor"),f("bordercolor"),f("borderwidth"),f("ticklen"),f("tickwidth"),f("tickcolor"),f("minorticklen")}}function a(i,r){function d(h,p){return t.coerce(i,r,n,h,p)}if("skip"===i.method||Array.isArray(i.args)?d("visible"):r.visible=!1){d("method"),d("args");var f=d("label","step-"+r._index);d("value",f),d("execute")}}tt.exports=function(i,r){l(i,r,{name:e,handleItemDefaults:s})}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":195,"./constants":196}],198:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../../plots/plots"),o=c("../color"),e=c("../drawing"),n=c("../../lib"),s=n.strTranslate,a=c("../../lib/svg_text_utils"),i=c("../../plot_api/plot_template").arrayEditor,r=c("./constants"),d=c("../../constants/alignment"),f=d.LINE_SPACING,h=d.FROM_TL,p=d.FROM_BR;function T(B){return r.autoMarginIdRoot+B._index}function w(B){return B._index}function x(B,H){var X=e.tester.selectAll("g."+r.labelGroupClass).data(H._visibleSteps);X.enter().append("g").classed(r.labelGroupClass,!0);var ot=0,q=0;X.each(function(j){var C=A(t.select(this),{step:j},H).node();if(C){var G=e.bBox(C);q=Math.max(q,G.height),ot=Math.max(ot,G.width)}}),X.remove();var P=H._dims={};P.inputAreaWidth=Math.max(r.railWidth,r.gripHeight);var J=B._fullLayout._size;if(P.lx=J.l+J.w*H.x,P.ly=J.t+J.h*(1-H.y),P.outerLength="fraction"===H.lenmode?Math.round(J.w*H.len):H.len,P.inputAreaStart=0,P.inputAreaLength=Math.round(P.outerLength-H.pad.l-H.pad.r),P.labelStride=Math.max(1,Math.ceil((ot+r.labelPadding)/((P.inputAreaLength-2*r.stepInset)/(H._stepCount-1)))),P.labelHeight=q,P.currentValueMaxWidth=0,P.currentValueHeight=0,P.currentValueTotalHeight=0,P.currentValueMaxLines=1,H.currentvalue.visible){var Z=e.tester.append("g");X.each(function(j){var C=m(Z,H,j.label),G=C.node()&&e.bBox(C.node())||{width:0,height:0},K=a.lineCount(C);P.currentValueMaxWidth=Math.max(P.currentValueMaxWidth,Math.ceil(G.width)),P.currentValueHeight=Math.max(P.currentValueHeight,Math.ceil(G.height)),P.currentValueMaxLines=Math.max(P.currentValueMaxLines,K)}),P.currentValueTotalHeight=P.currentValueHeight+H.currentvalue.offset,Z.remove()}P.height=P.currentValueTotalHeight+r.tickOffset+H.ticklen+r.labelOffset+P.labelHeight+H.pad.t+H.pad.b;var U="left";n.isRightAnchor(H)&&(P.lx-=P.outerLength,U="right"),n.isCenterAnchor(H)&&(P.lx-=P.outerLength/2,U="center");var D="top";n.isBottomAnchor(H)&&(P.ly-=P.height,D="bottom"),n.isMiddleAnchor(H)&&(P.ly-=P.height/2,D="middle"),P.outerLength=Math.ceil(P.outerLength),P.height=Math.ceil(P.height),P.lx=Math.round(P.lx),P.ly=Math.round(P.ly);var M={y:H.y,b:P.height*p[D],t:P.height*h[D]};"fraction"===H.lenmode?(M.l=0,M.xl=H.x-H.len*h[U],M.r=0,M.xr=H.x+H.len*p[U]):(M.x=H.x,M.l=P.outerLength*h[U],M.r=P.outerLength*p[U]),l.autoMargin(B,T(H),M)}function m(B,H,X){if(H.currentvalue.visible){var ot,q,P=H._dims;switch(H.currentvalue.xanchor){case"right":ot=P.inputAreaLength-r.currentValueInset-P.currentValueMaxWidth,q="left";break;case"center":ot=.5*P.inputAreaLength,q="middle";break;default:ot=r.currentValueInset,q="left"}var J=n.ensureSingle(B,"text",r.labelClass,function(M){M.attr({"text-anchor":q,"data-notex":1})}),E=H.currentvalue.prefix?H.currentvalue.prefix:"";if("string"==typeof X)E+=X;else{var N=H.steps[H.active].label,Z=H._gd._fullLayout._meta;Z&&(N=n.templateString(N,Z)),E+=N}H.currentvalue.suffix&&(E+=H.currentvalue.suffix),J.call(e.font,H.currentvalue.font).text(E).call(a.convertToTspans,H._gd);var U=a.lineCount(J);return a.positionText(J,ot,(P.currentValueMaxLines+1-U)*H.currentvalue.font.size*f),J}}function y(B,H,X){n.ensureSingle(B,"rect",r.gripRectClass,function(ot){ot.call(g,H,B,X).style("pointer-events","all")}).attr({width:r.gripWidth,height:r.gripHeight,rx:r.gripRadius,ry:r.gripRadius}).call(o.stroke,X.bordercolor).call(o.fill,X.bgcolor).style("stroke-width",X.borderwidth+"px")}function A(B,H,X){var ot=n.ensureSingle(B,"text",r.labelClass,function(J){J.attr({"text-anchor":"middle","data-notex":1})}),q=H.step.label,P=X._gd._fullLayout._meta;return P&&(q=n.templateString(q,P)),ot.call(e.font,X.font).text(q).call(a.convertToTspans,X._gd),ot}function b(B,H){var X=n.ensureSingle(B,"g",r.labelsClass),ot=H._dims,q=X.selectAll("g."+r.labelGroupClass).data(ot.labelSteps);q.enter().append("g").classed(r.labelGroupClass,!0),q.exit().remove(),q.each(function(P){var J=t.select(this);J.call(A,P,H),e.setTranslate(J,v(H,P.fraction),r.tickOffset+H.ticklen+H.font.size*f+r.labelOffset+ot.currentValueTotalHeight)})}function k(B,H,X,ot,q){var P=Math.round(ot*(X._stepCount-1)),J=X._visibleSteps[P]._index;J!==X.active&&L(B,H,X,J,!0,q)}function L(B,H,X,ot,q,P){var J=X.active;X.active=ot,i(B.layout,r.name,X).applyUpdate("active",ot);var E=X.steps[X.active];H.call(I,X,P),H.call(m,X),B.emit("plotly_sliderchange",{slider:X,step:X.steps[X.active],interaction:q,previousActive:J}),E&&E.method&&q&&(H._nextMethod?(H._nextMethod.step=E,H._nextMethod.doCallback=q,H._nextMethod.doTransition=P):(H._nextMethod={step:E,doCallback:q,doTransition:P},H._nextMethodRaf=window.requestAnimationFrame(function(){var N=H._nextMethod.step;N.method&&(N.execute&&l.executeAPICommand(B,N.method,N.args),H._nextMethod=null,H._nextMethodRaf=null)})))}function g(B,H,X){var ot=X.node(),q=t.select(H);function P(){return X.data()[0]}function J(){var E=P();H.emit("plotly_sliderstart",{slider:E});var N=X.select("."+r.gripRectClass);t.event.stopPropagation(),t.event.preventDefault(),N.call(o.fill,E.activebgcolor);var Z=R(E,t.mouse(ot)[0]);function U(){var M=P(),j=R(M,t.mouse(ot)[0]);k(H,X,M,j,!1)}function D(){var M=P();M._dragging=!1,N.call(o.fill,M.bgcolor),q.on("mouseup",null),q.on("mousemove",null),q.on("touchend",null),q.on("touchmove",null),H.emit("plotly_sliderend",{slider:M,step:M.steps[M.active]})}k(H,X,E,Z,!0),E._dragging=!0,q.on("mousemove",U),q.on("touchmove",U),q.on("mouseup",D),q.on("touchend",D)}B.on("mousedown",J),B.on("touchstart",J)}function S(B,H){var X=B.selectAll("rect."+r.tickRectClass).data(H._visibleSteps),ot=H._dims;X.enter().append("rect").classed(r.tickRectClass,!0),X.exit().remove(),X.attr({width:H.tickwidth+"px","shape-rendering":"crispEdges"}),X.each(function(q,P){var J=P%ot.labelStride==0,E=t.select(this);E.attr({height:J?H.ticklen:H.minorticklen}).call(o.fill,H.tickcolor),e.setTranslate(E,v(H,P/(H._stepCount-1))-.5*H.tickwidth,(J?r.tickOffset:r.minorTickOffset)+ot.currentValueTotalHeight)})}function I(B,H,X){for(var ot=B.select("rect."+r.gripRectClass),q=0,P=0;P<H._stepCount;P++)if(H._visibleSteps[P]._index===H.active){q=P;break}var J=v(H,q/(H._stepCount-1));if(!H._invokingCommand){var E=ot;X&&H.transition.duration>0&&(E=E.transition().duration(H.transition.duration).ease(H.transition.easing)),E.attr("transform",s(J-.5*r.gripWidth,H._dims.currentValueTotalHeight))}}function v(B,H){var X=B._dims;return X.inputAreaStart+r.stepInset+(X.inputAreaLength-2*r.stepInset)*Math.min(1,Math.max(0,H))}function R(B,H){var X=B._dims;return Math.min(1,Math.max(0,(H-r.stepInset-X.inputAreaStart)/(X.inputAreaLength-2*r.stepInset-2*X.inputAreaStart)))}function z(B,H,X){var ot=X._dims,q=n.ensureSingle(B,"rect",r.railTouchRectClass,function(P){P.call(g,H,B,X).style("pointer-events","all")});q.attr({width:ot.inputAreaLength,height:Math.max(ot.inputAreaWidth,r.tickOffset+X.ticklen+ot.labelHeight)}).call(o.fill,X.bgcolor).attr("opacity",0),e.setTranslate(q,0,ot.currentValueTotalHeight)}function F(B,H){var X=H._dims,ot=X.inputAreaLength-2*r.railInset,q=n.ensureSingle(B,"rect",r.railRectClass);q.attr({width:ot,height:r.railWidth,rx:r.railRadius,ry:r.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,H.bordercolor).call(o.fill,H.bgcolor).style("stroke-width",H.borderwidth+"px"),e.setTranslate(q,r.railInset,.5*(X.inputAreaWidth-r.railWidth)+X.currentValueTotalHeight)}tt.exports=function(B){var H=B._fullLayout,X=function(N,Z){for(var U=N[r.name],D=[],M=0;M<U.length;M++){var j=U[M];j.visible&&(j._gd=Z,D.push(j))}return D}(H,B),ot=H._infolayer.selectAll("g."+r.containerClassName).data(X.length>0?[0]:[]);function q(N){N._commandObserver&&(N._commandObserver.remove(),delete N._commandObserver),l.autoMargin(B,T(N))}if(ot.enter().append("g").classed(r.containerClassName,!0).style("cursor","ew-resize"),ot.exit().each(function(){t.select(this).selectAll("g."+r.groupClassName).each(q)}).remove(),0!==X.length){var P=ot.selectAll("g."+r.groupClassName).data(X,w);P.enter().append("g").classed(r.groupClassName,!0),P.exit().each(q).remove();for(var J=0;J<X.length;J++)x(B,X[J]);P.each(function(N){var Z=t.select(this);(function(U){var D=U._dims;D.labelSteps=[];for(var M=U._stepCount,j=0;j<M;j+=D.labelStride)D.labelSteps.push({fraction:j/(M-1),step:U._visibleSteps[j]})})(N),l.manageCommandObserver(B,N,N._visibleSteps,function(U){var D=Z.data()[0];D.active!==U.index&&(D._dragging||L(B,Z,D,U.index,!1,!0))}),function(U,D,M){(M.steps[M.active]||{}).visible||(M.active=M._visibleSteps[0]._index),D.call(m,M).call(F,M).call(b,M).call(S,M).call(z,U,M).call(y,U,M);var j=M._dims;e.setTranslate(D,j.lx+M.pad.l,j.ly+M.pad.t),D.call(I,M,!1),D.call(m,M)}(B,t.select(this),N)})}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":316,"../color":102,"../drawing":124,"./constants":196,"@plotly/d3":11}],199:[function(c,tt,V){"use strict";var t=c("./constants");tt.exports={moduleType:"component",name:t.name,layoutAttributes:c("./attributes"),supplyLayoutDefaults:c("./defaults"),draw:c("./draw")}},{"./attributes":195,"./constants":196,"./defaults":197,"./draw":198}],200:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("fast-isnumeric"),o=c("../../plots/plots"),e=c("../../registry"),n=c("../../lib"),s=n.strTranslate,a=c("../drawing"),i=c("../color"),r=c("../../lib/svg_text_utils"),d=c("../../constants/interactions"),f=c("../../constants/alignment").OPPOSITE_SIDE,h=/ [XY][0-9]* /;tt.exports={draw:function(p,T,w){var x,y=w.propName,A=w.placeholder,b=w.traceIndex,k=w.avoid||{},L=w.attributes,g=w.transform,S=w.containerGroup,I=p._fullLayout,v=1,R=!1,z=w.propContainer.title,F=(z&&z.text?z.text:"").trim(),B=z&&z.font?z.font:{},H=B.family,X=B.size,ot=B.color;"title.text"===y?x="titleText":-1!==y.indexOf("axis")?x="axisTitleText":y.indexOf(!0)&&(x="colorbarTitleText");var q=p._context.edits[x];""===F?v=0:F.replace(h," % ")===A.replace(h," % ")&&(v=.2,R=!0,q||(F="")),w._meta?F=n.templateString(F,w._meta):I._meta&&(F=n.templateString(F,I._meta));var P,J=F||q;S||(S=n.ensureSingle(I._infolayer,"g","g-"+T),P=I._hColorbarMoveTitle);var E=S.selectAll("text").data(J?[0]:[]);if(E.enter().append("text"),E.text(F).attr("class",T),E.exit().remove(),!J)return S;function N(D){n.syncOrAsync([Z,U],D)}function Z(D){var M;return!g&&P&&(g={}),g?(M="",g.rotate&&(M+="rotate("+[g.rotate,L.x,L.y]+")"),(g.offset||P)&&(M+=s(0,(g.offset||0)-(P||0)))):M=null,D.attr("transform",M),D.style({"font-family":H,"font-size":t.round(X,2)+"px",fill:i.rgb(ot),opacity:v*i.opacity(ot),"font-weight":o.fontWeight}).attr(L).call(r.convertToTspans,p),o.previousPromises(p)}function U(D){var M=t.select(D.node().parentNode);if(k&&k.selection&&k.side&&F){M.attr("transform",null);var j=f[k.side],C="left"===k.side||"top"===k.side?-1:1,G=l(k.pad)?k.pad:2,K=a.bBox(M.node()),Q=k.maxShift||C*({left:0,top:0,right:I.width,bottom:I.height}[k.side]-K[k.side]),ut=0;if(Q<0)ut=Q;else{var ct=k.offsetLeft||0,gt=k.offsetTop||0;K.left-=ct,K.right-=ct,K.top-=gt,K.bottom-=gt,k.selection.each(function(){var _t=a.bBox(this);n.bBoxIntersect(K,_t,G)&&(ut=Math.max(ut,C*(_t[k.side]-K[j])+G))}),ut=Math.min(Q,ut)}if(ut>0||Q<0){var vt={left:[-ut,0],right:[ut,0],top:[0,-ut],bottom:[0,ut]}[k.side];M.attr("transform",s(vt[0],vt[1]))}}}return E.call(N),q&&(F?E.on(".opacity",null):(v=0,R=!0,E.text(A).on("mouseover.opacity",function(){t.select(this).transition().duration(d.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){t.select(this).transition().duration(d.HIDE_PLACEHOLDER).style("opacity",0)})),E.call(r.makeEditable,{gd:p}).on("edit",function(D){void 0!==b?e.call("_guiRestyle",p,y,D,b):e.call("_guiRelayout",p,y,D)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(N)}).on("input",function(D){this.text(D||" ").call(r.positionText,L.x,L.y)})),E.classed("js-placeholder",R),S}}},{"../../constants/alignment":207,"../../constants/interactions":211,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"../color":102,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],201:[function(c,tt,V){"use strict";var t=c("../../plots/font_attributes"),l=c("../color/attributes"),o=c("../../lib/extend").extendFlat,e=c("../../plot_api/edit_types").overrideAll,n=c("../../plots/pad_attributes"),s=c("../../plot_api/plot_template").templatedArray,a=s("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});tt.exports=e(s("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:a,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:o(n({editType:"arraydraw"}),{}),font:t({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:l.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/font_attributes":310,"../../plots/pad_attributes":315,"../color/attributes":101}],202:[function(c,tt,V){"use strict";tt.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},{}],203:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../plots/array_container_defaults"),o=c("./attributes"),e=c("./constants").name,n=o.buttons;function s(i,r,d){function f(h,p){return t.coerce(i,r,o,h,p)}f("visible",l(i,r,{name:"buttons",handleItemDefaults:a}).length>0)&&(f("active"),f("direction"),f("type"),f("showactive"),f("x"),f("y"),t.noneOrAll(i,r,["x","y"]),f("xanchor"),f("yanchor"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),t.coerceFont(f,"font",d.font),f("bgcolor",d.paper_bgcolor),f("bordercolor"),f("borderwidth"))}function a(i,r){function d(f,h){return t.coerce(i,r,n,f,h)}d("visible","skip"===i.method||Array.isArray(i.args))&&(d("method"),d("args"),d("args2"),d("label"),d("execute"))}tt.exports=function(i,r){l(i,r,{name:e,handleItemDefaults:s})}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":201,"./constants":202}],204:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../../plots/plots"),o=c("../color"),e=c("../drawing"),n=c("../../lib"),s=c("../../lib/svg_text_utils"),a=c("../../plot_api/plot_template").arrayEditor,i=c("../../constants/alignment").LINE_SPACING,r=c("./constants"),d=c("./scrollbox");function f(v){return v._index}function h(v,R){return+v.attr(r.menuIndexAttrName)===R._index}function p(v,R,z,F,B,H,X,ot){R.active=X,a(v.layout,r.name,R).applyUpdate("active",X),"buttons"===R.type?w(v,F,null,null,R):"dropdown"===R.type&&(B.attr(r.menuIndexAttrName,"-1"),T(v,F,B,H,R),ot||w(v,F,B,H,R))}function T(v,R,z,F,B){var H=n.ensureSingle(R,"g",r.headerClassName,function(E){E.style("pointer-events","all")}),X=B._dims,P={y:B.pad.t,yPad:0,x:B.pad.l,xPad:0,index:0},J={width:X.headerWidth,height:X.headerHeight};H.call(x,B,B.buttons[B.active]||r.blankHeaderOpts,v).call(S,B,P,J),n.ensureSingle(R,"text",r.headerArrowClassName,function(E){E.attr("text-anchor","end").call(e.font,B.font).text(r.arrowSymbol[B.direction])}).attr({x:X.headerWidth-r.arrowOffsetX+B.pad.l,y:X.headerHeight/2+r.textOffsetY+B.pad.t}),H.on("click",function(){z.call(I,String(h(z,B)?-1:B._index)),w(v,R,z,F,B)}),H.on("mouseover",function(){H.call(b)}),H.on("mouseout",function(){H.call(k,B)}),e.setTranslate(R,X.lx,X.ly)}function w(v,R,z,F,B){z||(z=R).attr("pointer-events","all");var H=-1==+z.attr(r.menuIndexAttrName)&&"buttons"!==B.type?[]:B.buttons,X="dropdown"===B.type?r.dropdownButtonClassName:r.buttonClassName,ot=z.selectAll("g."+X).data(n.filterVisible(H)),q=ot.enter().append("g").classed(X,!0),P=ot.exit();"dropdown"===B.type?(q.attr("opacity","0").transition().attr("opacity","1"),P.transition().attr("opacity","0").remove()):P.remove();var J=0,E=0,N=B._dims,Z=-1!==["up","down"].indexOf(B.direction);"dropdown"===B.type&&(Z?E=N.headerHeight+r.gapButtonHeader:J=N.headerWidth+r.gapButtonHeader),"dropdown"===B.type&&"up"===B.direction&&(E=-r.gapButtonHeader+r.gapButton-N.openHeight),"dropdown"===B.type&&"left"===B.direction&&(J=-r.gapButtonHeader+r.gapButton-N.openWidth);var M,j,C,U={x:N.lx+J+B.pad.l,y:N.ly+E+B.pad.t,yPad:r.gapButton,xPad:r.gapButton,index:0},D={l:U.x+B.borderwidth,t:U.y+B.borderwidth};ot.each(function(M,j){var C=t.select(this);C.call(x,B,M,v).call(S,B,U),C.on("click",function(){t.event.defaultPrevented||(M.execute&&(M.args2&&B.active===j?(p(v,B,0,R,z,F,-1),l.executeAPICommand(v,M.method,M.args2)):(p(v,B,0,R,z,F,j),l.executeAPICommand(v,M.method,M.args))),v.emit("plotly_buttonclicked",{menu:B,button:M,active:B.active}))}),C.on("mouseover",function(){C.call(b)}),C.on("mouseout",function(){C.call(k,B),ot.call(A,B)})}),ot.call(A,B),Z?(D.w=Math.max(N.openWidth,N.headerWidth),D.h=U.y-D.t):(D.w=U.x-D.l,D.h=Math.max(N.openHeight,N.headerHeight)),D.direction=B.direction,F&&(ot.size()?function(M,j,C,G,K,$){var Q,ut,ct,gt=K.direction,_t=K._dims,kt=K.active;if("up"===gt||"down"===gt)for(ut=0,ct=0;ct<kt;ct++)ut+=_t.heights[ct]+r.gapButton;else for(Q=0,ct=0;ct<kt;ct++)Q+=_t.widths[ct]+r.gapButton;G.enable($,Q,ut),G.hbar&&G.hbar.attr("opacity","0").transition().attr("opacity","1"),G.vbar&&G.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,F,B,D):(C=!!(M=F).vbar,(j=!!M.hbar)&&M.hbar.transition().attr("opacity","0").each("end",function(){j=!1,C||M.disable()}),C&&M.vbar.transition().attr("opacity","0").each("end",function(){C=!1,j||M.disable()})))}function x(v,R,z,F){v.call(m,R).call(y,R,z,F)}function m(v,R){n.ensureSingle(v,"rect",r.itemRectClassName,function(z){z.attr({rx:r.rx,ry:r.ry,"shape-rendering":"crispEdges"})}).call(o.stroke,R.bordercolor).call(o.fill,R.bgcolor).style("stroke-width",R.borderwidth+"px")}function y(v,R,z,F){var B=n.ensureSingle(v,"text",r.itemTextClassName,function(ot){ot.attr({"text-anchor":"start","data-notex":1})}),H=z.label,X=F._fullLayout._meta;X&&(H=n.templateString(H,X)),B.call(e.font,R.font).text(H).call(s.convertToTspans,F)}function A(v,R){var z=R.active;v.each(function(F,B){var H=t.select(this);B===z&&R.showactive&&H.select("rect."+r.itemRectClassName).call(o.fill,r.activeColor)})}function b(v){v.select("rect."+r.itemRectClassName).call(o.fill,r.hoverColor)}function k(v,R){v.select("rect."+r.itemRectClassName).call(o.fill,R.bgcolor)}function L(v,R){var z=R._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},F=e.tester.selectAll("g."+r.dropdownButtonClassName).data(n.filterVisible(R.buttons));F.enter().append("g").classed(r.dropdownButtonClassName,!0);var B=-1!==["up","down"].indexOf(R.direction);F.each(function(J,E){var N=t.select(this);N.call(x,R,J,v);var Z=N.select("."+r.itemTextClassName),U=Z.node()&&e.bBox(Z.node()).width,D=Math.max(U+r.textPadX,r.minWidth),M=R.font.size*i,j=s.lineCount(Z),C=Math.max(M*j,r.minHeight)+r.textOffsetY;C=Math.ceil(C),D=Math.ceil(D),z.widths[E]=D,z.heights[E]=C,z.height1=Math.max(z.height1,C),z.width1=Math.max(z.width1,D),B?(z.totalWidth=Math.max(z.totalWidth,D),z.openWidth=z.totalWidth,z.totalHeight+=C+r.gapButton,z.openHeight+=C+r.gapButton):(z.totalWidth+=D+r.gapButton,z.openWidth+=D+r.gapButton,z.totalHeight=Math.max(z.totalHeight,C),z.openHeight=z.totalHeight)}),B?z.totalHeight-=r.gapButton:z.totalWidth-=r.gapButton,z.headerWidth=z.width1+r.arrowPadX,z.headerHeight=z.height1,"dropdown"===R.type&&(B?(z.width1+=r.arrowPadX,z.totalHeight=z.height1):z.totalWidth=z.width1,z.totalWidth+=r.arrowPadX),F.remove();var H=z.totalWidth+R.pad.l+R.pad.r,X=z.totalHeight+R.pad.t+R.pad.b,ot=v._fullLayout._size;z.lx=ot.l+ot.w*R.x,z.ly=ot.t+ot.h*(1-R.y);var q="left";n.isRightAnchor(R)&&(z.lx-=H,q="right"),n.isCenterAnchor(R)&&(z.lx-=H/2,q="center");var P="top";n.isBottomAnchor(R)&&(z.ly-=X,P="bottom"),n.isMiddleAnchor(R)&&(z.ly-=X/2,P="middle"),z.totalWidth=Math.ceil(z.totalWidth),z.totalHeight=Math.ceil(z.totalHeight),z.lx=Math.round(z.lx),z.ly=Math.round(z.ly),l.autoMargin(v,g(R),{x:R.x,y:R.y,l:H*({right:1,center:.5}[q]||0),r:H*({left:1,center:.5}[q]||0),b:X*({top:1,middle:.5}[P]||0),t:X*({bottom:1,middle:.5}[P]||0)})}function g(v){return r.autoMarginIdRoot+v._index}function S(v,R,z,F){F=F||{};var B=v.select("."+r.itemRectClassName),H=v.select("."+r.itemTextClassName),X=R.borderwidth,ot=z.index,q=R._dims;e.setTranslate(v,X+z.x,X+z.y);var P=-1!==["up","down"].indexOf(R.direction),J=F.height||(P?q.heights[ot]:q.height1);B.attr({x:0,y:0,width:F.width||(P?q.width1:q.widths[ot]),height:J});var E=R.font.size*i,N=(s.lineCount(H)-1)*E/2;s.positionText(H,r.textOffsetX,J/2-N+r.textOffsetY),P?z.y+=q.heights[ot]+z.yPad:z.x+=q.widths[ot]+z.xPad,z.index++}function I(v,R){v.attr(r.menuIndexAttrName,R||"-1").selectAll("g."+r.dropdownButtonClassName).remove()}tt.exports=function(v){var R=v._fullLayout,z=n.filterVisible(R[r.name]);function F(E){l.autoMargin(v,g(E))}var B=R._menulayer.selectAll("g."+r.containerClassName).data(z.length>0?[0]:[]);if(B.enter().append("g").classed(r.containerClassName,!0).style("cursor","pointer"),B.exit().each(function(){t.select(this).selectAll("g."+r.headerGroupClassName).each(F)}).remove(),0!==z.length){var H=B.selectAll("g."+r.headerGroupClassName).data(z,f);H.enter().append("g").classed(r.headerGroupClassName,!0);for(var X=n.ensureSingle(B,"g",r.dropdownButtonGroupClassName,function(E){E.style("pointer-events","all")}),ot=0;ot<z.length;ot++)L(v,z[ot]);var J=new d(v,X,"updatemenus"+R._uid);H.enter().size()&&(X.node().parentNode.appendChild(X.node()),X.call(I)),H.exit().each(function(E){X.call(I),F(E)}).remove(),H.each(function(E){var N=t.select(this),Z="dropdown"===E.type?X:null;l.manageCommandObserver(v,E,E.buttons,function(U){p(v,E,0,N,Z,J,U.index,!0)}),"dropdown"===E.type?(T(v,N,X,J,E),h(X,E)&&w(v,N,X,J,E)):w(v,N,null,null,E)})}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":316,"../color":102,"../drawing":124,"./constants":202,"./scrollbox":206,"@plotly/d3":11}],205:[function(c,tt,V){arguments[4][199][0].apply(V,arguments)},{"./attributes":201,"./constants":202,"./defaults":203,"./draw":204,dup:199}],206:[function(c,tt,V){"use strict";tt.exports=n;var t=c("@plotly/d3"),l=c("../color"),o=c("../drawing"),e=c("../../lib");function n(s,a,i){this.gd=s,this.container=a,this.id=i,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}n.barWidth=2,n.barLength=20,n.barRadius=2,n.barPad=1,n.barColor="#808BA4",n.prototype.enable=function(s,a,i){var r=this.gd._fullLayout,d=r.width,f=r.height;this.position=s;var h,p,T,w,x=this.position.l,m=this.position.w,y=this.position.t,A=this.position.h,b=this.position.direction,k="down"===b,L="left"===b,g="up"===b,S=m,I=A;k||L||"right"===b||g||(this.position.direction="down",k=!0),k||g?(p=(h=x)+S,k?(T=y,I=(w=Math.min(T+I,f))-T):I=(w=y+I)-(T=Math.max(w-I,0))):(w=(T=y)+I,L?S=(p=x+S)-(h=Math.max(p-S,0)):(h=x,S=(p=Math.min(h+S,d))-h)),this._box={l:h,t:T,w:S,h:I};var v=m>S,R=n.barLength+2*n.barPad,z=n.barWidth+2*n.barPad,F=x,B=y+A;B+z>f&&(B=f-z);var H=this.container.selectAll("rect.scrollbar-horizontal").data(v?[0]:[]);H.exit().on(".drag",null).remove(),H.enter().append("rect").classed("scrollbar-horizontal",!0).call(l.fill,n.barColor),v?(this.hbar=H.attr({rx:n.barRadius,ry:n.barRadius,x:F,y:B,width:R,height:z}),this._hbarXMin=F+R/2,this._hbarTranslateMax=S-R):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var X=A>I,ot=n.barWidth+2*n.barPad,q=n.barLength+2*n.barPad,P=x+m,J=y;P+ot>d&&(P=d-ot);var E=this.container.selectAll("rect.scrollbar-vertical").data(X?[0]:[]);E.exit().on(".drag",null).remove(),E.enter().append("rect").classed("scrollbar-vertical",!0).call(l.fill,n.barColor),X?(this.vbar=E.attr({rx:n.barRadius,ry:n.barRadius,x:P,y:J,width:ot,height:q}),this._vbarYMin=J+q/2,this._vbarTranslateMax=I-q):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var N=this.id,Z=h-.5,U=X?p+ot+.5:p+.5,D=T-.5,M=v?w+z+.5:w+.5,j=r._topdefs.selectAll("#"+N).data(v||X?[0]:[]);if(j.exit().remove(),j.enter().append("clipPath").attr("id",N).append("rect"),v||X?(this._clipRect=j.select("rect").attr({x:Math.floor(Z),y:Math.floor(D),width:Math.ceil(U)-Math.floor(Z),height:Math.ceil(M)-Math.floor(D)}),this.container.call(o.setClipUrl,N,this.gd),this.bg.attr({x,y,width:m,height:A})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),v||X){var C=t.behavior.drag().on("dragstart",function(){t.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(C);var G=t.behavior.drag().on("dragstart",function(){t.event.sourceEvent.preventDefault(),t.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));v&&this.hbar.on(".drag",null).call(G),X&&this.vbar.on(".drag",null).call(G)}this.setTranslate(a,i)},n.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},n.prototype._onBoxDrag=function(){var s=this.translateX,a=this.translateY;this.hbar&&(s-=t.event.dx),this.vbar&&(a-=t.event.dy),this.setTranslate(s,a)},n.prototype._onBoxWheel=function(){var s=this.translateX,a=this.translateY;this.hbar&&(s+=t.event.deltaY),this.vbar&&(a+=t.event.deltaY),this.setTranslate(s,a)},n.prototype._onBarDrag=function(){var s=this.translateX,a=this.translateY;if(this.hbar){var i=s+this._hbarXMin,r=i+this._hbarTranslateMax;s=(e.constrain(t.event.x,i,r)-i)/(r-i)*(this.position.w-this._box.w)}if(this.vbar){var d=a+this._vbarYMin,f=d+this._vbarTranslateMax;a=(e.constrain(t.event.y,d,f)-d)/(f-d)*(this.position.h-this._box.h)}this.setTranslate(s,a)},n.prototype.setTranslate=function(s,a){var i=this.position.w-this._box.w,r=this.position.h-this._box.h;s=e.constrain(s||0,0,i),a=e.constrain(a||0,0,r),this.translateX=s,this.translateY=a,this.container.call(o.setTranslate,this._box.l-this.position.l-s,this._box.t-this.position.t-a),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+s-.5),y:Math.floor(this.position.t+a-.5)}),this.hbar&&this.hbar.call(o.setTranslate,s+s/i*this._hbarTranslateMax,a),this.vbar&&this.vbar.call(o.setTranslate,s,a+a/r*this._vbarTranslateMax)}},{"../../lib":232,"../color":102,"../drawing":124,"@plotly/d3":11}],207:[function(c,tt,V){"use strict";tt.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],208:[function(c,tt,V){"use strict";tt.exports={axisRefDescription:function(t,l,o){return["If set to a",t,"axis id (e.g. *"+t+"* or","*"+t+"2*), the `"+t+"` position refers to a",t,"coordinate. If set to *paper*, the `"+t+"`","position refers to the distance from the",l,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",l,"("+o+"). If set to a",t,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",l,"of the domain of that axis: e.g.,","*"+t+"2 domain* refers to the domain of the second",t," axis and a",t,"position of 0.5 refers to the","point between the",l,"and the",o,"of the domain of the","second",t,"axis."].join(" ")}}},{}],209:[function(c,tt,V){"use strict";tt.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},{}],210:[function(c,tt,V){"use strict";tt.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},{}],211:[function(c,tt,V){"use strict";tt.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],212:[function(c,tt,V){"use strict";tt.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},{}],213:[function(c,tt,V){"use strict";V.xmlns="http://www.w3.org/2000/xmlns/",V.svg="http://www.w3.org/2000/svg",V.xlink="http://www.w3.org/1999/xlink",V.svgAttrs={xmlns:V.svg,"xmlns:xlink":V.xlink}},{}],214:[function(c,tt,V){"use strict";V.version=c("./version").version,c("native-promise-only"),c("../build/plotcss");for(var t=c("./registry"),l=V.register=t.register,o=c("./plot_api"),e=Object.keys(o),n=0;n<e.length;n++){var s=e[n];"_"!==s.charAt(0)&&(V[s]=o[s]),l({moduleType:"apiMethod",name:s,fn:o[s]})}l(c("./traces/scatter")),l([c("./components/legend"),c("./components/fx"),c("./components/annotations"),c("./components/annotations3d"),c("./components/shapes"),c("./components/images"),c("./components/updatemenus"),c("./components/sliders"),c("./components/rangeslider"),c("./components/rangeselector"),c("./components/grid"),c("./components/errorbars"),c("./components/colorscale"),c("./components/colorbar"),c("./components/modebar")]),l([c("./locale-en"),c("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(l(window.PlotlyLocales),delete window.PlotlyLocales),V.Icons=c("./fonts/ploticon");var a=c("./components/fx"),i=c("./plots/plots");V.Plots={resize:i.resize,graphJson:i.graphJson,sendDataToCloud:i.sendDataToCloud},V.Fx={hover:a.hover,unhover:a.unhover,loneHover:a.loneHover,loneUnhover:a.loneUnhover},V.Snapshot=c("./snapshot"),V.PlotSchema=c("./plot_api/plot_schema")},{"../build/plotcss":1,"./components/annotations":93,"./components/annotations3d":98,"./components/colorbar":108,"./components/colorscale":114,"./components/errorbars":130,"./components/fx":142,"./components/grid":146,"./components/images":151,"./components/legend":159,"./components/modebar":165,"./components/rangeselector":173,"./components/rangeslider":180,"./components/shapes":194,"./components/sliders":199,"./components/updatemenus":205,"./fonts/ploticon":215,"./locale-en":259,"./locale-en-us":258,"./plot_api":263,"./plot_api/plot_schema":267,"./plots/plots":316,"./registry":318,"./snapshot":323,"./traces/scatter":370,"./version":391,"native-promise-only":54}],215:[function(c,tt,V){"use strict";tt.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},{}],216:[function(c,tt,V){"use strict";V.isLeftAnchor=function(t){return"left"===t.xanchor||"auto"===t.xanchor&&t.x<=1/3},V.isCenterAnchor=function(t){return"center"===t.xanchor||"auto"===t.xanchor&&t.x>1/3&&t.x<2/3},V.isRightAnchor=function(t){return"right"===t.xanchor||"auto"===t.xanchor&&t.x>=2/3},V.isTopAnchor=function(t){return"top"===t.yanchor||"auto"===t.yanchor&&t.y>=2/3},V.isMiddleAnchor=function(t){return"middle"===t.yanchor||"auto"===t.yanchor&&t.y>1/3&&t.y<2/3},V.isBottomAnchor=function(t){return"bottom"===t.yanchor||"auto"===t.yanchor&&t.y<=1/3}},{}],217:[function(c,tt,V){"use strict";var t=c("./mod"),l=t.mod,o=t.modHalf,e=Math.PI,n=2*e;function s(d){return Math.abs(d[1]-d[0])>n-1e-14}function a(d,f){return o(f-d,n)}function i(d,f){if(s(f))return!0;var h,p;f[0]<f[1]?(h=f[0],p=f[1]):(h=f[1],p=f[0]),(h=l(h,n))>(p=l(p,n))&&(p+=n);var T=l(d,n),w=T+n;return T>=h&&T<=p||w>=h&&w<=p}function r(d,f,h,p,T,w,x){T=T||0,w=w||0;var m,y,A,b,k,L=s([h,p]);function g(R,z){return[R*Math.cos(z)+T,w-R*Math.sin(z)]}L?(m=0,y=e,A=n):h<p?(m=h,A=p):(m=p,A=h),d<f?(b=d,k=f):(b=f,k=d);var S,I=Math.abs(A-m)<=e?0:1;function v(R,z,F){return"A"+[R,R]+" "+[0,I,F]+" "+g(R,z)}return L?S=null===b?"M"+g(k,m)+v(k,y,0)+v(k,A,0)+"Z":"M"+g(b,m)+v(b,y,0)+v(b,A,0)+"ZM"+g(k,m)+v(k,y,1)+v(k,A,1)+"Z":null===b?(S="M"+g(k,m)+v(k,A,0),x&&(S+="L0,0Z")):S="M"+g(b,m)+"L"+g(k,m)+v(k,A,0)+"L"+g(b,A)+v(b,m,1)+"Z",S}tt.exports={deg2rad:function(d){return d/180*e},rad2deg:function(d){return d/e*180},angleDelta:a,angleDist:function(d,f){return Math.abs(a(d,f))},isFullCircle:s,isAngleInsideSector:i,isPtInsideSector:function(d,f,h,p){return!!i(f,p)&&(h[0]<h[1]?(T=h[0],w=h[1]):(T=h[1],w=h[0]),d>=T&&d<=w);var T,w},pathArc:function(d,f,h,p,T){return r(null,d,f,h,p,T,0)},pathSector:function(d,f,h,p,T){return r(null,d,f,h,p,T,1)},pathAnnulus:function(d,f,h,p,T,w){return r(d,f,h,p,T,w,1)}}},{"./mod":239}],218:[function(c,tt,V){"use strict";var t=Array.isArray,l=ArrayBuffer,o=DataView;function e(a){return l.isView(a)&&!(a instanceof o)}function n(a){return t(a)||e(a)}function s(a,i,r){if(n(a)){if(n(a[0])){for(var d=r,f=0;f<a.length;f++)d=i(d,a[f].length);return d}return a.length}return 0}V.isTypedArray=e,V.isArrayOrTypedArray=n,V.isArray1D=function(a){return!n(a[0])},V.ensureArray=function(a,i){return t(a)||(a=[]),a.length=i,a},V.concat=function(){var a,i,r,d,f,h,p,T,w=[],x=!0,m=0;for(r=0;r<arguments.length;r++)(h=(d=arguments[r]).length)&&(i?w.push(d):(i=d,f=h),t(d)?a=!1:(x=!1,m?a!==d.constructor&&(a=!1):a=d.constructor),m+=h);if(!m)return[];if(!w.length)return i;if(x)return i.concat.apply(i,w);if(a){for((p=new a(m)).set(i),r=0;r<w.length;r++)p.set(d=w[r],f),f+=d.length;return p}for(p=new Array(m),T=0;T<i.length;T++)p[T]=i[T];for(r=0;r<w.length;r++){for(d=w[r],T=0;T<d.length;T++)p[f+T]=d[T];f+=T}return p},V.maxRowLength=function(a){return s(a,Math.max,0)},V.minRowLength=function(a){return s(a,Math.min,1/0)}},{}],219:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("../constants/numerical").BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;tt.exports=function(e){return"string"==typeof e&&(e=e.replace(o,"")),t(e)?Number(e):l}},{"../constants/numerical":212,"fast-isnumeric":17}],220:[function(c,tt,V){"use strict";tt.exports=function(t){var l=t._fullLayout;l._glcanvas&&l._glcanvas.size()&&l._glcanvas.each(function(o){o.regl&&o.regl.clear({color:!0,depth:!0})})}},{}],221:[function(c,tt,V){"use strict";tt.exports=function(t){t._responsiveChartHandler&&(window.removeEventListener("resize",t._responsiveChartHandler),delete t._responsiveChartHandler)}},{}],222:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("tinycolor2"),o=c("../plots/attributes"),e=c("../components/colorscale/scales"),n=c("../components/color"),s=c("../constants/interactions").DESELECTDIM,a=c("./nested_property"),i=c("./regex").counter,r=c("./mod").modHalf,d=c("./array").isArrayOrTypedArray;function f(h,p){var T=V.valObjectMeta[p.valType];if(p.arrayOk&&d(h))return!0;if(T.validateFunction)return T.validateFunction(h,p);var w={},x=w;return T.coerceFunction(h,{set:function(y){x=y}},w,p),x!==w}V.valObjectMeta={data_array:{coerceFunction:function(h,p,T){d(h)?p.set(h):void 0!==T&&p.set(T)}},enumerated:{coerceFunction:function(h,p,T,w){w.coerceNumber&&(h=+h),-1===w.values.indexOf(h)?p.set(T):p.set(h)},validateFunction:function(h,p){p.coerceNumber&&(h=+h);for(var T=p.values,w=0;w<T.length;w++){var x=String(T[w]);if("/"===x.charAt(0)&&"/"===x.charAt(x.length-1)){if(new RegExp(x.substr(1,x.length-2)).test(h))return!0}else if(h===T[w])return!0}return!1}},boolean:{coerceFunction:function(h,p,T){p.set(!0===h||!1===h?h:T)}},number:{coerceFunction:function(h,p,T,w){!t(h)||void 0!==w.min&&h<w.min||void 0!==w.max&&h>w.max?p.set(T):p.set(+h)}},integer:{coerceFunction:function(h,p,T,w){h%1||!t(h)||void 0!==w.min&&h<w.min||void 0!==w.max&&h>w.max?p.set(T):p.set(+h)}},string:{coerceFunction:function(h,p,T,w){p.set("string"!=typeof h?!0!==w.strict&&"number"==typeof h?String(h):T:w.noBlank&&!h?T:h)}},color:{coerceFunction:function(h,p,T){l(h).isValid()?p.set(h):p.set(T)}},colorlist:{coerceFunction:function(h,p,T){Array.isArray(h)&&h.length&&h.every(function(w){return l(w).isValid()})?p.set(h):p.set(T)}},colorscale:{coerceFunction:function(h,p,T){p.set(e.get(h,T))}},angle:{coerceFunction:function(h,p,T){"auto"===h?p.set("auto"):t(h)?p.set(r(+h,360)):p.set(T)}},subplotid:{coerceFunction:function(h,p,T,w){var x=w.regex||i(T);"string"==typeof h&&x.test(h)?p.set(h):p.set(T)},validateFunction:function(h,p){var T=p.dflt;return h===T||"string"==typeof h&&!!i(T).test(h)}},flaglist:{coerceFunction:function(h,p,T,w){if("string"==typeof h)if(-1===(w.extras||[]).indexOf(h)){for(var x=h.split("+"),m=0;m<x.length;){var y=x[m];-1===w.flags.indexOf(y)||x.indexOf(y)<m?x.splice(m,1):m++}p.set(x.length?x.join("+"):T)}else p.set(h);else p.set(T)}},any:{coerceFunction:function(h,p,T){p.set(void 0===h?T:h)}},info_array:{coerceFunction:function(h,p,T,w){function x(B,H,X){var ot;return void 0===X&&(X=H.dflt),V.valObjectMeta[H.valType].coerceFunction(B,{set:function(P){ot=P}},X,H),ot}var m=2===w.dimensions||"1-2"===w.dimensions&&Array.isArray(h)&&Array.isArray(h[0]);if(Array.isArray(h)){var y,A,b,L,g,S=w.items,I=[],v=Array.isArray(S),R=v&&m&&Array.isArray(S[0]),z=m&&v&&!R,F=v&&!z?S.length:h.length;if(T=Array.isArray(T)?T:[],m)for(y=0;y<F;y++)for(I[y]=[],b=Array.isArray(h[y])?h[y]:[],L=z?S.length:v?S[y].length:b.length,A=0;A<L;A++)void 0!==(g=x(b[A],z?S[A]:v?S[y][A]:S,(T[y]||[])[A]))&&(I[y][A]=g);else for(y=0;y<F;y++)void 0!==(g=x(h[y],v?S[y]:S,T[y]))&&(I[y]=g);p.set(I)}else p.set(T)},validateFunction:function(h,p){if(!Array.isArray(h))return!1;var T=p.items,w=Array.isArray(T),x=2===p.dimensions;if(!p.freeLength&&h.length!==T.length)return!1;for(var m=0;m<h.length;m++)if(x){if(!Array.isArray(h[m])||!p.freeLength&&h[m].length!==T[m].length)return!1;for(var y=0;y<h[m].length;y++)if(!f(h[m][y],w?T[m][y]:T))return!1}else if(!f(h[m],w?T[m]:T))return!1;return!0}}},V.coerce=function(h,p,T,w,x){var m=a(T,w).get(),y=a(h,w),A=a(p,w),b=y.get(),k=p._template;if(void 0===b&&k&&(b=a(k,w).get(),k=0),void 0===x&&(x=m.dflt),m.arrayOk&&d(b))return A.set(b),b;var L=V.valObjectMeta[m.valType].coerceFunction;L(b,A,x,m);var g=A.get();return k&&g===x&&!f(b,m)&&(L(b=a(k,w).get(),A,x,m),g=A.get()),g},V.coerce2=function(h,p,T,w,x){var m=a(h,w),y=V.coerce(h,p,T,w,x);return null!=m.get()&&y},V.coerceFont=function(h,p,T){var w={};return w.family=h(p+".family",(T=T||{}).family),w.size=h(p+".size",T.size),w.color=h(p+".color",T.color),w},V.coercePattern=function(h,p,T,w){if(h(p+".shape")){h(p+".solidity"),h(p+".size");var x="overlay"===h(p+".fillmode");if(!w){var m=h(p+".bgcolor",x?T:void 0);h(p+".fgcolor",x?n.contrast(m):T)}h(p+".fgopacity",x?.5:1)}},V.coerceHoverinfo=function(h,p,T){var w,x=p._module.attributes,m=x.hoverinfo?x:o,y=m.hoverinfo;if(1===T._dataLength){var A="all"===y.dflt?y.flags.slice():y.dflt.split("+");A.splice(A.indexOf("name"),1),w=A.join("+")}return V.coerce(h,p,m,"hoverinfo",w)},V.coerceSelectionMarkerOpacity=function(h,p){if(h.marker){var T,w,x=h.marker.opacity;void 0!==x&&(d(x)||h.selected||h.unselected||(T=x,w=s*x),p("selected.marker.opacity",T),p("unselected.marker.opacity",w))}},V.validate=f},{"../components/color":102,"../components/colorscale/scales":117,"../constants/interactions":211,"../plots/attributes":275,"./array":218,"./mod":239,"./nested_property":240,"./regex":248,"fast-isnumeric":17,tinycolor2:67}],223:[function(c,tt,V){"use strict";var t,l,o=c("d3-time-format").timeFormat,e=c("fast-isnumeric"),n=c("./loggers"),s=c("./mod").mod,a=c("../constants/numerical"),i=a.BADNUM,r=a.ONEDAY,d=a.ONEHOUR,f=a.ONEMIN,h=a.ONESEC,p=a.EPOCHJD,T=c("../registry"),w=c("d3-time-format").utcFormat,x=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=(new Date).getFullYear()-70;function A(H){return H&&T.componentsRegistry.calendars&&"string"==typeof H&&"gregorian"!==H}function b(H,X){return String(H+Math.pow(10,X)).substr(1)}V.dateTick0=function(H,X){var P,J,ot=(J=!!X,A(P=H)?J?T.getComponentMethod("calendars","CANONICAL_SUNDAY")[P]:T.getComponentMethod("calendars","CANONICAL_TICK")[P]:J?"2000-01-02":"2000-01-01");if(X<2)return ot;var q=V.dateTime2ms(ot,H);return V.ms2DateTime(q+=r*(X-1),0,H)},V.dfltRange=function(H){return A(H)?T.getComponentMethod("calendars","DFLTRANGE")[H]:["2000-01-01","2001-01-01"]},V.isJSDate=function(H){return"object"==typeof H&&null!==H&&"function"==typeof H.getTime},V.dateTime2ms=function(H,X){if(V.isJSDate(H)){var ot=H.getTimezoneOffset()*f,q=(H.getUTCMinutes()-H.getMinutes())*f+(H.getUTCSeconds()-H.getSeconds())*h+(H.getUTCMilliseconds()-H.getMilliseconds());if(q){var P=3*f;ot=ot-P/2+s(q-ot+P/2,P)}return(H=Number(H)-ot)>=t&&H<=l?H:i}if("string"!=typeof H&&"number"!=typeof H)return i;H=String(H);var J=A(X),E=H.charAt(0);!J||"G"!==E&&"g"!==E||(H=H.substr(1),X="");var N=J&&"chinese"===X.substr(0,7),Z=H.match(N?m:x);if(!Z)return i;var U=Z[1],D=Z[3]||"1",M=Number(Z[5]||1),j=Number(Z[7]||0),C=Number(Z[9]||0),G=Number(Z[11]||0);if(J){if(2===U.length)return i;var K;U=Number(U);try{var $=T.getComponentMethod("calendars","getCal")(X);if(N){var Q="i"===D.charAt(D.length-1);D=parseInt(D,10),K=$.newDate(U,$.toMonthIndex(U,D,Q),M)}else K=$.newDate(U,Number(D),M)}catch{return i}return K?(K.toJD()-p)*r+j*d+C*f+G*h:i}U=2===U.length?(Number(U)+2e3-y)%100+y:Number(U),D-=1;var ut=new Date(Date.UTC(2e3,D,M,j,C));return ut.setUTCFullYear(U),ut.getUTCMonth()!==D||ut.getUTCDate()!==M?i:ut.getTime()+G*h},t=V.MIN_MS=V.dateTime2ms("-9999"),l=V.MAX_MS=V.dateTime2ms("9999-12-31 23:59:59.9999"),V.isDateTime=function(H,X){return V.dateTime2ms(H,X)!==i};var k=90*r,L=3*d,g=5*f;function S(H,X,ot,q,P){if((X||ot||q||P)&&(H+=" "+b(X,2)+":"+b(ot,2),(q||P)&&(H+=":"+b(q,2),P))){for(var J=4;P%10==0;)J-=1,P/=10;H+="."+b(P,J)}return H}V.ms2DateTime=function(H,X,ot){if("number"!=typeof H||!(H>=t&&H<=l))return i;X||(X=0);var q,P,J,E,N,Z,U=Math.floor(10*s(H+.05,1)),D=Math.round(H-U/10);if(A(ot)){var M=Math.floor(D/r)+p,j=Math.floor(s(H,r));try{q=T.getComponentMethod("calendars","getCal")(ot).fromJD(M).formatDate("yyyy-mm-dd")}catch{q=w("G%Y-%m-%d")(new Date(D))}if("-"===q.charAt(0))for(;q.length<11;)q="-0"+q.substr(1);else for(;q.length<10;)q="0"+q;P=X<k?Math.floor(j/d):0,J=X<k?Math.floor(j%d/f):0,E=X<L?Math.floor(j%f/h):0,N=X<g?j%h*10+U:0}else Z=new Date(D),q=w("%Y-%m-%d")(Z),P=X<k?Z.getUTCHours():0,J=X<k?Z.getUTCMinutes():0,E=X<L?Z.getUTCSeconds():0,N=X<g?10*Z.getUTCMilliseconds()+U:0;return S(q,P,J,E,N)},V.ms2DateTimeLocal=function(H){if(!(H>=t+r&&H<=l-r))return i;var X=Math.floor(10*s(H+.05,1)),ot=new Date(Math.round(H-X/10));return S(o("%Y-%m-%d")(ot),ot.getHours(),ot.getMinutes(),ot.getSeconds(),10*ot.getUTCMilliseconds()+X)},V.cleanDate=function(H,X,ot){if(H===i)return X;if(V.isJSDate(H)||"number"==typeof H&&isFinite(H)){if(A(ot))return n.error("JS Dates and milliseconds are incompatible with world calendars",H),X;if(!(H=V.ms2DateTimeLocal(+H))&&void 0!==X)return X}else if(!V.isDateTime(H,ot))return n.error("unrecognized date",H),X;return H};var I=/%\d?f/g,v=/%h/g,R={1:"1",2:"1",3:"2",4:"2"};function z(H,X,ot,q){H=H.replace(I,function(J){var E=Math.min(+J.charAt(1)||6,6);return(X/1e3%1+2).toFixed(E).substr(2).replace(/0+$/,"")||"0"});var P=new Date(Math.floor(X+.05));if(H=H.replace(v,function(){return R[ot("%q")(P)]}),A(q))try{H=T.getComponentMethod("calendars","worldCalFmt")(H,X,q)}catch{return"Invalid"}return ot(H)(P)}var F=[59,59.9,59.99,59.999,59.9999];V.formatDate=function(H,X,ot,q,P,J){if(P=A(P)&&P,!X)if("y"===ot)X=J.year;else if("m"===ot)X=J.month;else{if("d"!==ot)return function(E,N){var Z=s(E+.05,r),U=b(Math.floor(Z/d),2)+":"+b(s(Math.floor(Z/f),60),2);if("M"!==N){e(N)||(N=0);var D=(100+Math.min(s(E/h,60),F[N])).toFixed(N).substr(1);N>0&&(D=D.replace(/0+$/,"").replace(/[\.]$/,"")),U+=":"+D}return U}(H,ot)+"\n"+z(J.dayMonthYear,H,q,P);X=J.dayMonth+"\n"+J.year}return z(X,H,q,P)};var B=3*r;V.incrementMonth=function(H,X,ot){ot=A(ot)&&ot;var q=s(H,r);if(H=Math.round(H-q),ot)try{var P=Math.round(H/r)+p,J=T.getComponentMethod("calendars","getCal")(ot),E=J.fromJD(P);return X%12?J.add(E,X,"m"):J.add(E,X/12,"y"),(E.toJD()-p)*r+q}catch{n.error("invalid ms "+H+" in calendar "+ot)}var N=new Date(H+B);return N.setUTCMonth(N.getUTCMonth()+X)+q-B},V.findExactDates=function(H,X){for(var ot,q,P=0,J=0,E=0,N=0,Z=A(X)&&T.getComponentMethod("calendars","getCal")(X),U=0;U<H.length;U++)if(e(q=H[U])){if(!(q%r))if(Z)try{1===(ot=Z.fromJD(q/r+p)).day()?1===ot.month()?P++:J++:E++}catch{}else 1===(ot=new Date(q)).getUTCDate()?0===ot.getUTCMonth()?P++:J++:E++}else N++;E+=J+=P;var D=H.length-N;return{exactYears:P/D,exactMonths:J/D,exactDays:E/D}}},{"../constants/numerical":212,"../registry":318,"./loggers":236,"./mod":239,"d3-time-format":14,"fast-isnumeric":17}],224:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("./loggers"),o=c("./matrix"),e=c("gl-mat4");function n(d){var f=d&&d.parentNode;f&&f.removeChild(d)}function s(d,f,h){var p="plotly.js-style-"+d,T=document.getElementById(p);T||((T=document.createElement("style")).setAttribute("id",p),T.appendChild(document.createTextNode("")),document.head.appendChild(T));var w=T.sheet;w.insertRule?w.insertRule(f+"{"+h+"}",0):w.addRule?w.addRule(f,h,0):l.warn("addStyleRule failed")}function a(d){var f=window.getComputedStyle(d,null),h=f.getPropertyValue("-webkit-transform")||f.getPropertyValue("-moz-transform")||f.getPropertyValue("-ms-transform")||f.getPropertyValue("-o-transform")||f.getPropertyValue("transform");return"none"===h?null:h.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(p){return+p})}function i(d){for(var f=[];r(d);)f.push(d),d=d.parentNode;return f}function r(d){return d&&(d instanceof Element||d instanceof HTMLElement)}tt.exports={getGraphDiv:function(d){var f;if("string"==typeof d){if(null===(f=document.getElementById(d)))throw new Error("No DOM element with id '"+d+"' exists on the page.");return f}if(null==d)throw new Error("DOM element provided is null or undefined");return d},isPlotDiv:function(d){var f=t.select(d);return f.node()instanceof HTMLElement&&f.size()&&f.classed("js-plotly-plot")},removeElement:n,addStyleRule:function(d,f){s("global",d,f)},addRelatedStyleRule:s,deleteRelatedStyleRule:function(d){var h=document.getElementById("plotly.js-style-"+d);h&&n(h)},getFullTransformMatrix:function(d){var f=i(d),h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return f.forEach(function(p){var T=a(p);if(T){var w=o.convertCssMatrix(T);h=e.multiply(h,h,w)}}),h},getElementTransformMatrix:a,getElementAndAncestors:i,equalDomRects:function(d,f){return d&&f&&d.x===f.x&&d.y===f.y&&d.top===f.top&&d.left===f.left&&d.right===f.right&&d.bottom===f.bottom}}},{"./loggers":236,"./matrix":238,"@plotly/d3":11,"gl-mat4":33}],225:[function(c,tt,V){"use strict";var t=c("events").EventEmitter;tt.exports={init:function(o){if(o._ev instanceof t)return o;var e=new t,n=new t;return o._ev=e,o._internalEv=n,o.on=e.on.bind(e),o.once=e.once.bind(e),o.removeListener=e.removeListener.bind(e),o.removeAllListeners=e.removeAllListeners.bind(e),o._internalOn=n.on.bind(n),o._internalOnce=n.once.bind(n),o._removeInternalListener=n.removeListener.bind(n),o._removeAllInternalListeners=n.removeAllListeners.bind(n),o.emit=function(s,a){typeof jQuery<"u"&&jQuery(o).trigger(s,a),e.emit(s,a),n.emit(s,a)},o},triggerHandler:function(o,e,n){var s,a;typeof jQuery<"u"&&(s=jQuery(o).triggerHandler(e,n));var i=o._ev;if(!i)return s;var r,d=i._events[e];if(!d)return s;function f(h){return h.listener?(i.removeListener(e,h.listener),h.fired?void 0:(h.fired=!0,h.listener.apply(i,[n]))):h.apply(i,[n])}for(d=Array.isArray(d)?d:[d],r=0;r<d.length-1;r++)f(d[r]);return a=f(d[r]),void 0!==s?s:a},purge:function(o){return delete o._ev,delete o.on,delete o.once,delete o.removeListener,delete o.removeAllListeners,delete o.emit,delete o._ev,delete o._internalEv,delete o._internalOn,delete o._internalOnce,delete o._removeInternalListener,delete o._removeAllInternalListeners,o}}},{events:12}],226:[function(c,tt,V){"use strict";var t=c("./is_plain_object.js"),l=Array.isArray;function o(e,n,s,a){var i,r,d,f,h,p,T=e[0],w=e.length;if(2===w&&l(T)&&l(e[1])&&0===T.length){if(function(m,y){var A,b;for(A=0;A<m.length;A++){if(null!==(b=m[A])&&"object"==typeof b)return!1;void 0!==b&&(y[A]=b)}return!0}(e[1],T))return T;T.splice(0,T.length)}for(var x=1;x<w;x++)for(r in i=e[x])d=T[r],f=i[r],a&&l(f)?T[r]=f:n&&f&&(t(f)||(h=l(f)))?(h?(h=!1,p=d&&l(d)?d:[]):p=d&&t(d)?d:{},T[r]=o([p,f],n,s,a)):(void 0!==f||s)&&(T[r]=f);return T}V.extendFlat=function(){return o(arguments,!1,!1,!1)},V.extendDeep=function(){return o(arguments,!0,!1,!1)},V.extendDeepAll=function(){return o(arguments,!0,!0,!1)},V.extendDeepNoArrays=function(){return o(arguments,!0,!1,!0)}},{"./is_plain_object.js":233}],227:[function(c,tt,V){"use strict";tt.exports=function(t){for(var l={},o=[],e=0,n=0;n<t.length;n++){var s=t[n];1!==l[s]&&(l[s]=1,o[e++]=s)}return o}},{}],228:[function(c,tt,V){"use strict";function t(o){return!0===o.visible}function l(o){var e=o[0].trace;return!0===e.visible&&0!==e._length}tt.exports=function(o){for(var e,n=(e=o,Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace?l:t),s=[],a=0;a<o.length;a++){var i=o[a];n(i)&&s.push(i)}return s}},{}],229:[function(c,tt,V){"use strict";var t,l,o,e=c("./mod").mod;function n(a,i,r,d,f,h,p,T){var w=r-a,x=f-a,m=p-f,y=d-i,A=h-i,b=T-h,k=w*b-m*y;if(0===k)return null;var L=(x*b-m*A)/k,g=(x*y-w*A)/k;return g<0||g>1||L<0||L>1?null:{x:a+w*L,y:i+y*L}}function s(a,i,r,d,f){var h=d*a+f*i;if(h<0)return d*d+f*f;if(h>r){var p=d-a,T=f-i;return p*p+T*T}var w=d*i-f*a;return w*w/r}V.segmentsIntersect=n,V.segmentDistance=function(a,i,r,d,f,h,p,T){if(n(a,i,r,d,f,h,p,T))return 0;var w=r-a,x=d-i,m=p-f,y=T-h,A=w*w+x*x,b=m*m+y*y,k=Math.min(s(w,x,A,f-a,h-i),s(w,x,A,p-a,T-i),s(m,y,b,a-f,i-h),s(m,y,b,r-f,d-h));return Math.sqrt(k)},V.getTextLocation=function(a,i,r,d){if(a===l&&d===o||(t={},l=a,o=d),t[r])return t[r];var f=a.getPointAtLength(e(r-d/2,i)),h=a.getPointAtLength(e(r+d/2,i)),p=Math.atan((h.y-f.y)/(h.x-f.x)),T=a.getPointAtLength(e(r,i)),w={x:(4*T.x+f.x+h.x)/6,y:(4*T.y+f.y+h.y)/6,theta:p};return t[r]=w,w},V.clearLocationCache=function(){l=null},V.getVisibleSegment=function(a,i,r){var d,f,h=i.left,p=i.right,T=i.top,w=i.bottom,x=0,m=a.getTotalLength(),y=m;function A(k){var L=a.getPointAtLength(k);0===k?d=L:k===m&&(f=L);var g=L.x<h?h-L.x:L.x>p?L.x-p:0,S=L.y<T?T-L.y:L.y>w?L.y-w:0;return Math.sqrt(g*g+S*S)}for(var b=A(x);b;){if((x+=b+r)>y)return;b=A(x)}for(b=A(y);b;){if(x>(y-=b+r))return;b=A(y)}return{min:x,max:y,len:y-x,total:m,isClosed:0===x&&y===m&&Math.abs(d.x-f.x)<.1&&Math.abs(d.y-f.y)<.1}},V.findPointOnPath=function(a,i,r,d){for(var f,h,p,T=(d=d||{}).pathLength||a.getTotalLength(),w=d.tolerance||.001,x=d.iterationLimit||30,m=a.getPointAtLength(0)[r]>a.getPointAtLength(T)[r]?-1:1,y=0,A=0,b=T;y<x;){if(p=(h=a.getPointAtLength(f=(A+b)/2))[r]-i,Math.abs(p)<w)return h;m*p>0?b=f:A=f,y++}return h}},{"./mod":239}],230:[function(c,tt,V){"use strict";tt.exports=function(t){return t}},{}],231:[function(c,tt,V){"use strict";tt.exports=function(t,l){if(!l)return t;var o=1/Math.abs(l),e=o>1?(o*t+o*l)/o:t+l,n=String(e).length;if(n>16){var s=String(l).length;if(n>=String(t).length+s){var a=parseFloat(e).toPrecision(12);-1===a.indexOf("e+")&&(e=+a)}}return e}},{}],232:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("d3-time-format").utcFormat,o=c("d3-format").format,e=c("fast-isnumeric"),n=c("../constants/numerical"),s=n.FP_SAFE,a=-s,i=n.BADNUM,r=tt.exports={};r.adjustFormat=function(U){return!U||/^\d[.]\df/.test(U)||/[.]\d%/.test(U)?U:"0.f"===U?"~f":/^\d%/.test(U)?"~%":/^\ds/.test(U)?"~s":!/^[~,.0$]/.test(U)&&/[&fps]/.test(U)?"~"+U:U};var d={};r.warnBadFormat=function(U){var D=String(U);d[D]||(d[D]=1,r.warn('encountered bad format: "'+D+'"'))},r.noFormat=function(U){return String(U)},r.numberFormat=function(U){var D;try{D=o(r.adjustFormat(U))}catch{return r.warnBadFormat(U),r.noFormat}return D},r.nestedProperty=c("./nested_property"),r.keyedContainer=c("./keyed_container"),r.relativeAttr=c("./relative_attr"),r.isPlainObject=c("./is_plain_object"),r.toLogRange=c("./to_log_range"),r.relinkPrivateKeys=c("./relink_private");var f=c("./array");r.isTypedArray=f.isTypedArray,r.isArrayOrTypedArray=f.isArrayOrTypedArray,r.isArray1D=f.isArray1D,r.ensureArray=f.ensureArray,r.concat=f.concat,r.maxRowLength=f.maxRowLength,r.minRowLength=f.minRowLength;var h=c("./mod");r.mod=h.mod,r.modHalf=h.modHalf;var p=c("./coerce");r.valObjectMeta=p.valObjectMeta,r.coerce=p.coerce,r.coerce2=p.coerce2,r.coerceFont=p.coerceFont,r.coercePattern=p.coercePattern,r.coerceHoverinfo=p.coerceHoverinfo,r.coerceSelectionMarkerOpacity=p.coerceSelectionMarkerOpacity,r.validate=p.validate;var T=c("./dates");r.dateTime2ms=T.dateTime2ms,r.isDateTime=T.isDateTime,r.ms2DateTime=T.ms2DateTime,r.ms2DateTimeLocal=T.ms2DateTimeLocal,r.cleanDate=T.cleanDate,r.isJSDate=T.isJSDate,r.formatDate=T.formatDate,r.incrementMonth=T.incrementMonth,r.dateTick0=T.dateTick0,r.dfltRange=T.dfltRange,r.findExactDates=T.findExactDates,r.MIN_MS=T.MIN_MS,r.MAX_MS=T.MAX_MS;var w=c("./search");r.findBin=w.findBin,r.sorterAsc=w.sorterAsc,r.sorterDes=w.sorterDes,r.distinctVals=w.distinctVals,r.roundUp=w.roundUp,r.sort=w.sort,r.findIndexOfMin=w.findIndexOfMin,r.sortObjectKeys=c("./sort_object_keys");var x=c("./stats");r.aggNums=x.aggNums,r.len=x.len,r.mean=x.mean,r.median=x.median,r.midRange=x.midRange,r.variance=x.variance,r.stdev=x.stdev,r.interp=x.interp;var m=c("./matrix");r.init2dArray=m.init2dArray,r.transposeRagged=m.transposeRagged,r.dot=m.dot,r.translationMatrix=m.translationMatrix,r.rotationMatrix=m.rotationMatrix,r.rotationXYMatrix=m.rotationXYMatrix,r.apply3DTransform=m.apply3DTransform,r.apply2DTransform=m.apply2DTransform,r.apply2DTransform2=m.apply2DTransform2,r.convertCssMatrix=m.convertCssMatrix,r.inverseTransformMatrix=m.inverseTransformMatrix;var y=c("./angles");r.deg2rad=y.deg2rad,r.rad2deg=y.rad2deg,r.angleDelta=y.angleDelta,r.angleDist=y.angleDist,r.isFullCircle=y.isFullCircle,r.isAngleInsideSector=y.isAngleInsideSector,r.isPtInsideSector=y.isPtInsideSector,r.pathArc=y.pathArc,r.pathSector=y.pathSector,r.pathAnnulus=y.pathAnnulus;var A=c("./anchor_utils");r.isLeftAnchor=A.isLeftAnchor,r.isCenterAnchor=A.isCenterAnchor,r.isRightAnchor=A.isRightAnchor,r.isTopAnchor=A.isTopAnchor,r.isMiddleAnchor=A.isMiddleAnchor,r.isBottomAnchor=A.isBottomAnchor;var b=c("./geometry2d");r.segmentsIntersect=b.segmentsIntersect,r.segmentDistance=b.segmentDistance,r.getTextLocation=b.getTextLocation,r.clearLocationCache=b.clearLocationCache,r.getVisibleSegment=b.getVisibleSegment,r.findPointOnPath=b.findPointOnPath;var k=c("./extend");r.extendFlat=k.extendFlat,r.extendDeep=k.extendDeep,r.extendDeepAll=k.extendDeepAll,r.extendDeepNoArrays=k.extendDeepNoArrays;var L=c("./loggers");r.log=L.log,r.warn=L.warn,r.error=L.error;var g=c("./regex");r.counterRegex=g.counter;var S=c("./throttle");r.throttle=S.throttle,r.throttleDone=S.done,r.clearThrottle=S.clear;var I=c("./dom");function v(U){var D={};for(var M in U)for(var j=U[M],C=0;C<j.length;C++)D[j[C]]=+M;return D}r.getGraphDiv=I.getGraphDiv,r.isPlotDiv=I.isPlotDiv,r.removeElement=I.removeElement,r.addStyleRule=I.addStyleRule,r.addRelatedStyleRule=I.addRelatedStyleRule,r.deleteRelatedStyleRule=I.deleteRelatedStyleRule,r.getFullTransformMatrix=I.getFullTransformMatrix,r.getElementTransformMatrix=I.getElementTransformMatrix,r.getElementAndAncestors=I.getElementAndAncestors,r.equalDomRects=I.equalDomRects,r.clearResponsive=c("./clear_responsive"),r.preserveDrawingBuffer=c("./preserve_drawing_buffer"),r.makeTraceGroups=c("./make_trace_groups"),r._=c("./localize"),r.notifier=c("./notifier"),r.filterUnique=c("./filter_unique"),r.filterVisible=c("./filter_visible"),r.pushUnique=c("./push_unique"),r.increment=c("./increment"),r.cleanNumber=c("./clean_number"),r.ensureNumber=function(U){return e(U)?(U=Number(U))>s||U<a?i:U:i},r.isIndex=function(U,D){return!(void 0!==D&&U>=D)&&e(U)&&U>=0&&U%1==0},r.noop=c("./noop"),r.identity=c("./identity"),r.repeat=function(U,D){for(var M=new Array(D),j=0;j<D;j++)M[j]=U;return M},r.swapAttrs=function(U,D,M,j){M||(M="x"),j||(j="y");for(var C=0;C<D.length;C++){var G=D[C],K=r.nestedProperty(U,G.replace("?",M)),$=r.nestedProperty(U,G.replace("?",j)),Q=K.get();K.set($.get()),$.set(Q)}},r.raiseToTop=function(U){U.parentNode.appendChild(U)},r.cancelTransition=function(U){return U.transition().duration(0)},r.constrain=function(U,D,M){return D>M?Math.max(M,Math.min(D,U)):Math.max(D,Math.min(M,U))},r.bBoxIntersect=function(U,D,M){return U.left<=D.right+(M=M||0)&&D.left<=U.right+M&&U.top<=D.bottom+M&&D.top<=U.bottom+M},r.simpleMap=function(U,D,M,j,C){for(var G=U.length,K=new Array(G),$=0;$<G;$++)K[$]=D(U[$],M,j,C);return K},r.randstr=function U(D,M,j,C){if(j||(j=16),void 0===M&&(M=24),M<=0)return"0";var G,K,$=Math.log(Math.pow(2,M))/Math.log(j),Q="";for(G=2;$===1/0;G*=2)$=Math.log(Math.pow(2,M/G))/Math.log(j)*G;var ut=$-Math.floor($);for(G=0;G<Math.floor($);G++)Q=Math.floor(Math.random()*j).toString(j)+Q;ut&&(K=Math.pow(j,ut),Q=Math.floor(Math.random()*K).toString(j)+Q);var ct=parseInt(Q,j);return D&&D[Q]||ct!==1/0&&ct>=Math.pow(2,M)?C>10?(r.warn("randstr failed uniqueness"),Q):U(D,M,j,(C||0)+1):Q},r.OptionControl=function(U,D){U||(U={}),D||(D="opt");var M={optionList:[],_newoption:function(j){j[D]=U,M[j.name]=j,M.optionList.push(j)}};return M["_"+D]=U,M},r.smooth=function(U,D){if((D=Math.round(D)||0)<2)return U;var M,j,C,G,K=U.length,$=2*K,Q=2*D-1,ut=new Array(Q),ct=new Array(K);for(M=0;M<Q;M++)ut[M]=(1-Math.cos(Math.PI*(M+1)/D))/(2*D);for(M=0;M<K;M++){for(G=0,j=0;j<Q;j++)(C=M+j+1-D)<-K?C-=$*Math.round(C/$):C>=$&&(C-=$*Math.floor(C/$)),C<0?C=-1-C:C>=K&&(C=$-1-C),G+=U[C]*ut[j];ct[M]=G}return ct},r.syncOrAsync=function(U,D,M){var j;function C(){return r.syncOrAsync(U,D,M)}for(;U.length;)if((j=(0,U.splice(0,1)[0])(D))&&j.then)return j.then(C);return M&&M(D)},r.stripTrailingSlash=function(U){return"/"===U.substr(-1)?U.substr(0,U.length-1):U},r.noneOrAll=function(U,D,M){if(U){var j,C=!1,G=!0;for(j=0;j<M.length;j++)null!=U[M[j]]?C=!0:G=!1;if(C&&!G)for(j=0;j<M.length;j++)U[M[j]]=D[M[j]]}},r.mergeArray=function(U,D,M,j){var C="function"==typeof j;if(r.isArrayOrTypedArray(U))for(var G=Math.min(U.length,D.length),K=0;K<G;K++){var $=U[K];D[K][M]=C?j($):$}},r.mergeArrayCastPositive=function(U,D,M){return r.mergeArray(U,D,M,function(j){var C=+j;return isFinite(C)&&C>0?C:0})},r.fillArray=function(U,D,M,j){if(j=j||r.identity,r.isArrayOrTypedArray(U))for(var C=0;C<D.length;C++)D[C][M]=j(U[C])},r.castOption=function(U,D,M,j){j=j||r.identity;var C=r.nestedProperty(U,M).get();return r.isArrayOrTypedArray(C)?Array.isArray(D)&&r.isArrayOrTypedArray(C[D[0]])?j(C[D[0]][D[1]]):j(C[D]):C},r.extractOption=function(U,D,M,j){if(M in U)return U[M];var C=r.nestedProperty(D,j).get();return Array.isArray(C)?void 0:C},r.tagSelected=function(U,D,M){var j,C,G=D.selectedpoints,K=D._indexToPoints;K&&(j=v(K));for(var $=0;$<G.length;$++){var Q=G[$];if(r.isIndex(Q)||r.isArrayOrTypedArray(Q)&&r.isIndex(Q[0])&&r.isIndex(Q[1])){var ut=j?j[Q]:Q,ct=M?M[ut]:ut;void 0!==(C=ct)&&C<U.length&&(U[ct].selected=1)}}},r.selIndices2selPoints=function(U){var D=U.selectedpoints,M=U._indexToPoints;if(M){for(var j=v(M),C=[],G=0;G<D.length;G++){var K=D[G];if(r.isIndex(K)){var $=j[K];r.isIndex($)&&C.push($)}}return C}return D},r.getTargetArray=function(U,D){var M=D.target;if("string"==typeof M&&M){var j=r.nestedProperty(U,M).get();return!!Array.isArray(j)&&j}return!!Array.isArray(M)&&M},r.minExtend=function(U,D){var M={};"object"!=typeof D&&(D={});var j,C,G,K=Object.keys(U);for(j=0;j<K.length;j++)G=U[C=K[j]],"_"!==C.charAt(0)&&"function"!=typeof G&&(M[C]="module"===C?G:Array.isArray(G)?"colorscale"===C?G.slice():G.slice(0,3):r.isTypedArray(G)?G.subarray(0,3):G&&"object"==typeof G?r.minExtend(U[C],D[C]):G);for(K=Object.keys(D),j=0;j<K.length;j++)"object"==typeof(G=D[C=K[j]])&&C in M&&"object"==typeof M[C]||(M[C]=G);return M},r.titleCase=function(U){return U.charAt(0).toUpperCase()+U.substr(1)},r.containsAny=function(U,D){for(var M=0;M<D.length;M++)if(-1!==U.indexOf(D[M]))return!0;return!1},r.isIE=function(){return void 0!==window.navigator.msSaveBlob};var R=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return R.test(window.navigator.userAgent)};var z=/iPad|iPhone|iPod/;r.isIOS=function(){return z.test(window.navigator.userAgent)};var F=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var U=F.exec(window.navigator.userAgent);if(U&&2===U.length){var D=parseInt(U[1]);if(!isNaN(D))return D}return null},r.isD3Selection=function(U){return U instanceof t.selection},r.ensureSingle=function(U,D,M,j){var C=U.select(D+(M?"."+M:""));if(C.size())return C;var G=U.append(D);return M&&G.classed(M,!0),j&&G.call(j),G},r.ensureSingleById=function(U,D,M,j){var C=U.select(D+"#"+M);if(C.size())return C;var G=U.append(D).attr("id",M);return j&&G.call(j),G},r.objectFromPath=function(U,D){for(var M,j=U.split("."),C=M={},G=0;G<j.length;G++){var K=j[G],$=null,Q=j[G].match(/(.*)\[([0-9]+)\]/);Q?($=Q[2],(M=M[K=Q[1]]=[])[$]=G===j.length-1?D:{},M=M[$]):(M[K]=G===j.length-1?D:{},M=M[K])}return C};var B=/^([^\[\.]+)\.(.+)?/,H=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;r.expandObjectPaths=function(U){var D,M,j,C,G,K,$;if("object"==typeof U&&!Array.isArray(U))for(M in U)U.hasOwnProperty(M)&&((D=M.match(B))?(C=U[M],j=D[1],delete U[M],U[j]=r.extendDeepNoArrays(U[j]||{},r.objectFromPath(M,r.expandObjectPaths(C))[j])):(D=M.match(H))?(C=U[M],j=D[1],G=parseInt(D[2]),delete U[M],U[j]=U[j]||[],"."===D[3]?($=D[4],K=U[j][G]=U[j][G]||{},r.extendDeepNoArrays(K,r.objectFromPath($,r.expandObjectPaths(C)))):U[j][G]=r.expandObjectPaths(C)):U[M]=r.expandObjectPaths(U[M]));return U},r.numSeparate=function(U,D,M){if(M||(M=!1),"string"!=typeof D||0===D.length)throw new Error("Separator string required for formatting!");"number"==typeof U&&(U=String(U));var j=/(\d+)(\d{3})/,C=D.charAt(0),G=D.charAt(1),K=U.split("."),$=K[0],Q=K.length>1?C+K[1]:"";if(G&&(K.length>1||$.length>4||M))for(;j.test($);)$=$.replace(j,"$1"+G+"$2");return $+Q},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var X=/^\w*$/;r.templateString=function(U,D){var M={};return U.replace(r.TEMPLATE_STRING_REGEX,function(j,C){var G;return X.test(C)?G=D[C]:(M[C]=M[C]||r.nestedProperty(D,C).get,G=M[C]()),r.isValidTextValue(G)?G:""})};var ot={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return J.apply(ot,arguments)};var q={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return J.apply(q,arguments)};var P=/^[:|\|]/;function J(U,D,M){var j=this,C=arguments;D||(D={});var G={};return U.replace(r.TEMPLATE_STRING_REGEX,function(K,$,Q){var ut,ct,gt,vt="_xother"===$||"_yother"===$,_t="_xother_"===$||"_yother_"===$,kt="xother_"===$||"yother_"===$,Et="xother"===$||"yother"===$||vt||kt||_t,It=$;if((vt||_t)&&(It=It.substring(1)),(kt||_t)&&(It=It.substring(0,It.length-1)),Et){if(void 0===(ut=D[It]))return""}else for(gt=3;gt<C.length;gt++)if(ct=C[gt]){if(ct.hasOwnProperty(It)){ut=ct[It];break}if(X.test(It)||(ut=r.nestedProperty(ct,It).get(),(ut=G[It]||r.nestedProperty(ct,It).get())&&(G[It]=ut)),void 0!==ut)break}if(void 0===ut&&j)return j.count<j.max&&(r.warn("Variable '"+It+"' in "+j.name+" could not be found!"),ut=K),j.count===j.max&&r.warn("Too many "+j.name+" warnings - additional warnings will be suppressed"),j.count++,K;if(Q){var Lt;if(":"===Q[0]&&(ut=(Lt=M?M.numberFormat:r.numberFormat)(Q.replace(P,""))(ut)),"|"===Q[0]){Lt=M?M.timeFormat:l;var lt=r.dateTime2ms(ut);ut=r.formatDate(lt,Q.replace(P,""),!1,Lt)}}else{var at=It+"Label";D.hasOwnProperty(at)&&(ut=D[at])}return Et&&(ut="("+ut+")",(vt||_t)&&(ut=" "+ut),(kt||_t)&&(ut+=" ")),ut})}r.subplotSort=function(U,D){for(var M=Math.min(U.length,D.length)+1,j=0,C=0,G=0;G<M;G++){var K=U.charCodeAt(G)||0,$=D.charCodeAt(G)||0,Q=K>=48&&K<=57,ut=$>=48&&$<=57;if(Q&&(j=10*j+K-48),ut&&(C=10*C+$-48),!Q||!ut){if(j!==C)return j-C;if(K!==$)return K-$}}return C-j};var E=2e9;r.seedPseudoRandom=function(){E=2e9},r.pseudoRandom=function(){var U=E;return E=(69069*E+1)%4294967296,Math.abs(E-U)<429496729?r.pseudoRandom():E/4294967296},r.fillText=function(U,D,M){var j=Array.isArray(M)?function(K){M.push(K)}:function(K){M.text=K},C=r.extractOption(U,D,"htx","hovertext");if(r.isValidTextValue(C))return j(C);var G=r.extractOption(U,D,"tx","text");return r.isValidTextValue(G)?j(G):void 0},r.isValidTextValue=function(U){return U||0===U},r.formatPercent=function(U,D){D=D||0;for(var M=(Math.round(100*U*Math.pow(10,D))*Math.pow(.1,D)).toFixed(D)+"%",j=0;j<D;j++)-1!==M.indexOf(".")&&(M=(M=M.replace("0%","%")).replace(".%","%"));return M},r.isHidden=function(U){var D=window.getComputedStyle(U).display;return!D||"none"===D},r.strTranslate=function(U,D){return U||D?"translate("+U+","+D+")":""},r.strRotate=function(U){return U?"rotate("+U+")":""},r.strScale=function(U){return 1!==U?"scale("+U+")":""},r.getTextTransform=function(U){var D=U.noCenter,M=U.textX,j=U.textY,Q=U.rotate,ut=U.scale;return ut?ut>1&&(ut=1):ut=0,r.strTranslate(U.targetX-ut*(M+(U.anchorX||0)),U.targetY-ut*(j+(U.anchorY||0)))+r.strScale(ut)+(Q?"rotate("+Q+(D?"":" "+M+" "+j)+")":"")},r.ensureUniformFontSize=function(U,D){var M=r.extendFlat({},D);return M.size=Math.max(D.size,U._fullLayout.uniformtext.minsize||0),M},r.join2=function(U,D,M){var j=U.length;return j>1?U.slice(0,-1).join(D)+M+U[j-1]:U.join(D)},r.bigFont=function(U){return Math.round(1.2*U)};var N=r.getFirefoxVersion(),Z=null!==N&&N<86;r.getPositionFromD3Event=function(){return Z?[t.event.layerX,t.event.layerY]:[t.event.offsetX,t.event.offsetY]}},{"../constants/numerical":212,"./anchor_utils":216,"./angles":217,"./array":218,"./clean_number":219,"./clear_responsive":221,"./coerce":222,"./dates":223,"./dom":224,"./extend":226,"./filter_unique":227,"./filter_visible":228,"./geometry2d":229,"./identity":230,"./increment":231,"./is_plain_object":233,"./keyed_container":234,"./localize":235,"./loggers":236,"./make_trace_groups":237,"./matrix":238,"./mod":239,"./nested_property":240,"./noop":241,"./notifier":242,"./preserve_drawing_buffer":245,"./push_unique":246,"./regex":248,"./relative_attr":249,"./relink_private":250,"./search":251,"./sort_object_keys":253,"./stats":254,"./throttle":256,"./to_log_range":257,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],233:[function(c,tt,V){"use strict";tt.exports=function(t){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(t):"[object Object]"===Object.prototype.toString.call(t)&&Object.getPrototypeOf(t).hasOwnProperty("hasOwnProperty")}},{}],234:[function(c,tt,V){"use strict";var t=c("./nested_property"),l=/^\w*$/;tt.exports=function(o,e,n,s){var a,i,r;n=n||"name",s=s||"value";var d={};e&&e.length?(r=t(o,e),i=r.get()):i=o,e=e||"";var f={};if(i)for(a=0;a<i.length;a++)f[i[a][n]]=a;var h=l.test(s),p={set:function(T,w){var x=null===w?4:0;if(!i){if(!r||4===x)return;r.set(i=[])}var m=f[T];if(void 0===m){if(4===x)return;x|=3,f[T]=m=i.length}else w!==(h?i[m][s]:t(i[m],s).get())&&(x|=2);var y=i[m]=i[m]||{};return y[n]=T,h?y[s]=w:t(y,s).set(w),null!==w&&(x&=-5),d[m]=d[m]|x,p},get:function(T){if(i){var w=f[T];return void 0===w?void 0:h?i[w][s]:t(i[w],s).get()}},rename:function(T,w){var x=f[T];return void 0===x||(d[x]=1|d[x],f[w]=x,delete f[T],i[x][n]=w),p},remove:function(T){var w=f[T];if(void 0===w)return p;var x=i[w];if(Object.keys(x).length>2)return d[w]=2|d[w],p.set(T,null);if(h){for(a=w;a<i.length;a++)d[a]=3|d[a];for(a=w;a<i.length;a++)f[i[a][n]]--;i.splice(w,1),delete f[T]}else t(x,s).set(null),d[w]=6|d[w];return p},constructUpdate:function(){for(var T,w,x={},m=Object.keys(d),y=0;y<m.length;y++)T=e+"["+(w=m[y])+"]",i[w]?(1&d[w]&&(x[T+"."+n]=i[w][n]),2&d[w]&&(x[T+"."+s]=h?4&d[w]?null:i[w][s]:4&d[w]?null:t(i[w],s).get())):x[T]=null;return x}};return p}},{"./nested_property":240}],235:[function(c,tt,V){"use strict";var t=c("../registry");tt.exports=function(l,o){for(var e=l._context.locale,n=0;n<2;n++){for(var s=l._context.locales,a=0;a<2;a++){var i=(s[e]||{}).dictionary;if(i){var r=i[o];if(r)return r}s=t.localeRegistry}var d=e.split("-")[0];if(d===e)break;e=d}return o}},{"../registry":318}],236:[function(c,tt,V){"use strict";var t=c("../plot_api/plot_config").dfltConfig,l=c("./notifier"),o=tt.exports={};o.log=function(){var e;if(t.logging>1){var n=["LOG:"];for(e=0;e<arguments.length;e++)n.push(arguments[e]);console.trace.apply(console,n)}if(t.notifyOnLogging>1){var s=[];for(e=0;e<arguments.length;e++)s.push(arguments[e]);l(s.join("<br>"),"long")}},o.warn=function(){var e;if(t.logging>0){var n=["WARN:"];for(e=0;e<arguments.length;e++)n.push(arguments[e]);console.trace.apply(console,n)}if(t.notifyOnLogging>0){var s=[];for(e=0;e<arguments.length;e++)s.push(arguments[e]);l(s.join("<br>"),"stick")}},o.error=function(){var e;if(t.logging>0){var n=["ERROR:"];for(e=0;e<arguments.length;e++)n.push(arguments[e]);console.error.apply(console,n)}if(t.notifyOnLogging>0){var s=[];for(e=0;e<arguments.length;e++)s.push(arguments[e]);l(s.join("<br>"),"stick")}}},{"../plot_api/plot_config":266,"./notifier":242}],237:[function(c,tt,V){"use strict";var t=c("@plotly/d3");tt.exports=function(l,o,e){var n=l.selectAll("g."+e.replace(/\s/g,".")).data(o,function(a){return a[0].trace.uid});n.exit().remove(),n.enter().append("g").attr("class",e),n.order();var s=l.classed("rangeplot")?"nodeRangePlot3":"node3";return n.each(function(a){a[0][s]=t.select(this)}),n}},{"@plotly/d3":11}],238:[function(c,tt,V){"use strict";var t=c("gl-mat4");V.init2dArray=function(l,o){for(var e=new Array(l),n=0;n<l;n++)e[n]=new Array(o);return e},V.transposeRagged=function(l){var o,e,n=0,s=l.length;for(o=0;o<s;o++)n=Math.max(n,l[o].length);var a=new Array(n);for(o=0;o<n;o++)for(a[o]=new Array(s),e=0;e<s;e++)a[o][e]=l[e][o];return a},V.dot=function(l,o){if(!l.length||!o.length||l.length!==o.length)return null;var e,n,s=l.length;if(l[0].length)for(e=new Array(s),n=0;n<s;n++)e[n]=V.dot(l[n],o);else if(o[0].length){var a=V.transposeRagged(o);for(e=new Array(a.length),n=0;n<a.length;n++)e[n]=V.dot(l,a[n])}else for(e=0,n=0;n<s;n++)e+=l[n]*o[n];return e},V.translationMatrix=function(l,o){return[[1,0,l],[0,1,o],[0,0,1]]},V.rotationMatrix=function(l){var o=l*Math.PI/180;return[[Math.cos(o),-Math.sin(o),0],[Math.sin(o),Math.cos(o),0],[0,0,1]]},V.rotationXYMatrix=function(l,o,e){return V.dot(V.dot(V.translationMatrix(o,e),V.rotationMatrix(l)),V.translationMatrix(-o,-e))},V.apply3DTransform=function(l){return function(){var o=arguments,e=1===arguments.length?o[0]:[o[0],o[1],o[2]||0];return V.dot(l,[e[0],e[1],e[2],1]).slice(0,3)}},V.apply2DTransform=function(l){return function(){var o=arguments;3===o.length&&(o=o[0]);var e=1===arguments.length?o[0]:[o[0],o[1]];return V.dot(l,[e[0],e[1],1]).slice(0,2)}},V.apply2DTransform2=function(l){var o=V.apply2DTransform(l);return function(e){return o(e.slice(0,2)).concat(o(e.slice(2,4)))}},V.convertCssMatrix=function(l){if(l){var o=l.length;if(16===o)return l;if(6===o)return[l[0],l[1],0,0,l[2],l[3],0,0,0,0,1,0,l[4],l[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},V.inverseTransformMatrix=function(l){var o=[];return t.invert(o,l),[[o[0],o[1],o[2],o[3]],[o[4],o[5],o[6],o[7]],[o[8],o[9],o[10],o[11]],[o[12],o[13],o[14],o[15]]]}},{"gl-mat4":33}],239:[function(c,tt,V){"use strict";tt.exports={mod:function(t,l){var o=t%l;return o<0?o+l:o},modHalf:function(t,l){return Math.abs(t)>l/2?t-Math.round(t/l)*l:t}}},{}],240:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("./array").isArrayOrTypedArray;function o(d,f){return function(){var h,p,T,w,x,m=d;for(w=0;w<f.length-1;w++){if(-1===(h=f[w])){for(p=!0,T=[],x=0;x<m.length;x++)T[x]=o(m[x],f.slice(w+1))(),T[x]!==T[0]&&(p=!1);return p?T[0]:T}if("number"==typeof h&&!l(m)||"object"!=typeof(m=m[h])||null===m)return}if("object"==typeof m&&null!==m&&null!==(T=m[f[w]]))return T}}tt.exports=function(d,f){if(t(f))f=String(f);else if("string"!=typeof f||"[-1]"===f.substr(f.length-4))throw"bad property string";for(var h,p,T,w=0,x=f.split(".");w<x.length;){if(h=String(x[w]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(h[1])x[w]=h[1];else{if(0!==w)throw"bad property string";x.splice(0,1)}for(p=h[2].substr(1,h[2].length-2).split("]["),T=0;T<p.length;T++)w++,x.splice(w,0,Number(p[T]))}w++}return"object"!=typeof d?{set:function(){throw"bad container"},get:function(){},astr:f,parts:x,obj:d}:{set:s(d,x,f),get:o(d,x),astr:f,parts:x,obj:d}};var e=/(^|\.)args\[/;function n(d,f){return void 0===d||null===d&&!f.match(e)}function s(d,f,h){return function(p){var T,w,x=d,m="",y=[[d,m]],A=n(p,h);for(w=0;w<f.length-1;w++){if("number"==typeof(T=f[w])&&!l(x))throw"array index but container is not an array";if(-1===T){if(A=!i(x,f.slice(w+1),p,h))break;return}if(!r(x,T,f[w+1],A))break;if("object"!=typeof(x=x[T])||null===x)throw"container is not an object";m=a(m,T),y.push([x,m])}if(A){if(w===f.length-1&&(delete x[f[w]],Array.isArray(x)&&+f[w]==x.length-1))for(;x.length&&void 0===x[x.length-1];)x.pop()}else x[f[w]]=p}}function a(d,f){var h=f;return t(f)?h="["+f+"]":d&&(h="."+f),d+h}function i(d,f,h,p){var T,w=l(h),x=!0,m=h,y=p.replace("-1",0),A=!w&&n(h,y),b=f[0];for(T=0;T<d.length;T++)y=p.replace("-1",T),w&&(A=n(m=h[T%h.length],y)),A&&(x=!1),r(d,T,b,A)&&s(d[T],f,p.replace("-1",T))(m);return x}function r(d,f,h,p){if(void 0===d[f]){if(p)return!1;d[f]="number"==typeof h?[]:{}}return!0}},{"./array":218,"fast-isnumeric":17}],241:[function(c,tt,V){"use strict";tt.exports=function(){}},{}],242:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("fast-isnumeric"),o=[];tt.exports=function(e,n){if(-1===o.indexOf(e)){o.push(e);var s=1e3;l(n)?s=n:"long"===n&&(s=3e3);var a=t.select("body").selectAll(".plotly-notifier").data([0]);a.enter().append("div").classed("plotly-notifier",!0),a.selectAll(".notifier-note").data(o).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(r){var d=t.select(this);d.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){d.transition().call(i)});for(var f=d.append("p"),h=r.split(/<br\s*\/?>/g),p=0;p<h.length;p++)p&&f.append("br"),f.append("span").text(h[p]);"stick"===n?d.transition().duration(350).style("opacity",1):d.transition().duration(700).style("opacity",1).transition().delay(s).call(i)})}function i(r){r.duration(700).style("opacity",0).each("end",function(d){var f=o.indexOf(d);-1!==f&&o.splice(f,1),t.select(this).remove()})}}},{"@plotly/d3":11,"fast-isnumeric":17}],243:[function(c,tt,V){"use strict";var t=c("./setcursor"),l="data-savedcursor";tt.exports=function(o,e){var n=o.attr(l);if(e){if(!n){for(var s=(o.attr("class")||"").split(" "),a=0;a<s.length;a++){var i=s[a];0===i.indexOf("cursor-")&&o.attr(l,i.substr(7)).classed(i,!1)}o.attr(l)||o.attr(l,"!!")}t(o,e)}else n&&(o.attr(l,null),"!!"===n?t(o):t(o,n))}},{"./setcursor":252}],244:[function(c,tt,V){"use strict";var t=c("./matrix").dot,l=c("../constants/numerical").BADNUM,o=tt.exports={};o.tester=function(e){var n,s=e.slice(),a=s[0][0],i=a,r=s[0][1],d=r;for(s.push(s[0]),n=1;n<s.length;n++)a=Math.min(a,s[n][0]),i=Math.max(i,s[n][0]),r=Math.min(r,s[n][1]),d=Math.max(d,s[n][1]);var f,h=!1;5===s.length&&(s[0][0]===s[1][0]?s[2][0]===s[3][0]&&s[0][1]===s[3][1]&&s[1][1]===s[2][1]&&(h=!0,f=function(w){return w[0]===s[0][0]}):s[0][1]===s[1][1]&&s[2][1]===s[3][1]&&s[0][0]===s[3][0]&&s[1][0]===s[2][0]&&(h=!0,f=function(w){return w[1]===s[0][1]}));var p=!0,T=s[0];for(n=1;n<s.length;n++)if(T[0]!==s[n][0]||T[1]!==s[n][1]){p=!1;break}return{xmin:a,xmax:i,ymin:r,ymax:d,pts:s,contains:h?function(w,x){var m=w[0],y=w[1];return!(m===l||m<a||m>i||y===l||y<r||y>d||x&&f(w))}:function(w,x){var m=w[0],y=w[1];if(m===l||m<a||m>i||y===l||y<r||y>d)return!1;var A,b,k,L,g,S=s.length,I=s[0][0],v=s[0][1],R=0;for(A=1;A<S;A++)if(b=I,k=v,I=s[A][0],v=s[A][1],!(m<(L=Math.min(b,I))||m>Math.max(b,I)||y>Math.max(k,v)))if(y<Math.min(k,v))m!==L&&R++;else{if(y===(g=I===b?y:k+(m-b)*(v-k)/(I-b)))return 1!==A||!x;y<=g&&m!==L&&R++}return R%2==1},isRect:h,degenerate:p}},o.isSegmentBent=function(e,n,s,a){var i,r,d,f=e[n],h=[e[s][0]-f[0],e[s][1]-f[1]],p=t(h,h),T=Math.sqrt(p),w=[-h[1]/T,h[0]/T];for(i=n+1;i<s;i++)if((d=t(r=[e[i][0]-f[0],e[i][1]-f[1]],h))<0||d>p||Math.abs(t(r,w))>a)return!0;return!1},o.filter=function(e,n){var s=[e[0]],a=0,i=0;function r(d){e.push(d);var f=s.length,h=a;s.splice(i+1);for(var p=h+1;p<e.length;p++)(p===e.length-1||o.isSegmentBent(e,h,p+1,n))&&(s.push(e[p]),s.length<f-2&&(a=p,i=s.length-1),h=p)}return e.length>1&&r(e.pop()),{addPt:r,raw:e,filtered:s}}},{"../constants/numerical":212,"./matrix":238}],245:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("is-mobile");tt.exports=function(o){var e,f;if("string"!=typeof(e=o&&o.hasOwnProperty("userAgent")?o.userAgent:(typeof navigator<"u"&&(f=navigator.userAgent),f&&f.headers&&"string"==typeof f.headers["user-agent"]&&(f=f.headers["user-agent"]),f)))return!0;var n=l({ua:{headers:{"user-agent":e}},tablet:!0,featureDetect:!1});if(!n)for(var s=e.split(" "),a=1;a<s.length;a++)if(-1!==s[a].indexOf("Safari"))for(var i=a-1;i>-1;i--){var r=s[i];if("Version/"===r.substr(0,8)){var d=r.substr(8).split(".")[0];if(t(d)&&(d=+d),d>=13)return!0}}return n}},{"fast-isnumeric":17,"is-mobile":51}],246:[function(c,tt,V){"use strict";tt.exports=function(t,l){if(l instanceof RegExp){for(var o=l.toString(),e=0;e<t.length;e++)if(t[e]instanceof RegExp&&t[e].toString()===o)return t;t.push(l)}else!l&&0!==l||-1!==t.indexOf(l)||t.push(l);return t}},{}],247:[function(c,tt,V){"use strict";var t=c("../lib"),l=c("../plot_api/plot_config").dfltConfig,o={add:function(e,n,s,a,i){var r,d;e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},d=e.undoQueue.index,e.autoplay?e.undoQueue.inSequence||(e.autoplay=!1):(!e.undoQueue.sequence||e.undoQueue.beginSequence?(e.undoQueue.queue.splice(d,e.undoQueue.queue.length-d,r={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),e.undoQueue.index+=1):r=e.undoQueue.queue[d-1],e.undoQueue.beginSequence=!1,r&&(r.undo.calls.unshift(n),r.undo.args.unshift(s),r.redo.calls.push(a),r.redo.args.push(i)),e.undoQueue.queue.length>l.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--))},startSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},stopSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},undo:function(e){var n,s;if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,n=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,s=0;s<n.undo.calls.length;s++)o.plotDo(e,n.undo.calls[s],n.undo.args[s]);e.undoQueue.inSequence=!1,e.autoplay=!1}},redo:function(e){var n,s;if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(n=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,s=0;s<n.redo.calls.length;s++)o.plotDo(e,n.redo.calls[s],n.redo.args[s]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}},plotDo:function(e,n,s){e.autoplay=!0,s=function(a,i){for(var r,d=[],f=0;f<i.length;f++)d[f]=(r=i[f])===a?r:"object"==typeof r?Array.isArray(r)?t.extendDeep([],r):t.extendDeepAll({},r):r;return d}(e,s),n.apply(null,s)}};tt.exports=o},{"../lib":232,"../plot_api/plot_config":266}],248:[function(c,tt,V){"use strict";V.counter=function(t,l,o,e){var n=(l||"")+(o?"":"$"),s=!1===e?"":"^";return"xy"===t?new RegExp(s+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+n):new RegExp(s+t+"([2-9]|[1-9][0-9]+)?"+n)}},{}],249:[function(c,tt,V){"use strict";var t=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,l=/^[^\.\[\]]+$/;tt.exports=function(o,e){for(;e;){var n=o.match(t);if(n)o=n[1];else{if(!o.match(l))throw new Error("bad relativeAttr call:"+[o,e]);o=""}if("^"!==e.charAt(0))break;e=e.slice(1)}return o&&"["!==e.charAt(0)?o+"."+e:o+e}},{}],250:[function(c,tt,V){"use strict";var t=c("./array").isArrayOrTypedArray,l=c("./is_plain_object");tt.exports=function o(e,n){for(var s in n){var a=n[s],i=e[s];if(i!==a)if("_"===s.charAt(0)||"function"==typeof a){if(s in e)continue;e[s]=a}else if(t(a)&&t(i)&&l(a[0])){if("customdata"===s||"ids"===s)continue;for(var r=Math.min(a.length,i.length),d=0;d<r;d++)i[d]!==a[d]&&l(a[d])&&l(i[d])&&o(i[d],a[d])}else l(a)&&l(i)&&(o(i,a),Object.keys(i).length||delete e[s])}}},{"./array":218,"./is_plain_object":233}],251:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("./loggers"),o=c("./identity"),e=c("../constants/numerical").BADNUM;function n(r,d){return r<d}function s(r,d){return r<=d}function a(r,d){return r>d}function i(r,d){return r>=d}V.findBin=function(r,d,f){if(t(d.start))return f?Math.ceil((r-d.start)/d.size-1e-9)-1:Math.floor((r-d.start)/d.size+1e-9);var h,p,T=0,w=d.length,x=0,m=w>1?(d[w-1]-d[0])/(w-1):1;for(p=m>=0?f?n:s:f?i:a,r+=1e-9*m*(f?-1:1)*(m>=0?1:-1);T<w&&x++<100;)p(d[h=Math.floor((T+w)/2)],r)?T=h+1:w=h;return x>90&&l.log("Long binary search..."),T-1},V.sorterAsc=function(r,d){return r-d},V.sorterDes=function(r,d){return d-r},V.distinctVals=function(r){var d,f=r.slice();for(f.sort(V.sorterAsc),d=f.length-1;d>-1&&f[d]===e;d--);for(var h,p=f[d]-f[0]||1,T=p/(d||1)/1e4,w=[],x=0;x<=d;x++){var m=f[x],y=m-h;void 0===h?(w.push(m),h=m):y>T&&(p=Math.min(p,y),w.push(m),h=m)}return{vals:w,minDiff:p}},V.roundUp=function(r,d,f){for(var h,p=0,T=d.length-1,w=0,x=f?0:1,m=f?1:0,y=f?Math.ceil:Math.floor;p<T&&w++<100;)d[h=y((p+T)/2)]<=r?p=h+x:T=h-m;return d[p]},V.sort=function(r,d){for(var f=0,h=0,p=1;p<r.length;p++){var T=d(r[p],r[p-1]);if(T<0?f=1:T>0&&(h=1),f&&h)return r.sort(d)}return h?r:r.reverse()},V.findIndexOfMin=function(r,d){d=d||o;for(var f,h=1/0,p=0;p<r.length;p++){var T=d(r[p]);T<h&&(h=T,f=p)}return f}},{"../constants/numerical":212,"./identity":230,"./loggers":236,"fast-isnumeric":17}],252:[function(c,tt,V){"use strict";tt.exports=function(t,l){(t.attr("class")||"").split(" ").forEach(function(o){0===o.indexOf("cursor-")&&t.classed(o,!1)}),l&&t.classed("cursor-"+l,!0)}},{}],253:[function(c,tt,V){"use strict";tt.exports=function(t){return Object.keys(t).sort()}},{}],254:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("./array").isArrayOrTypedArray;V.aggNums=function(o,e,n,s){var a,i;if((!s||s>n.length)&&(s=n.length),t(e)||(e=!1),l(n[0])){for(i=new Array(s),a=0;a<s;a++)i[a]=V.aggNums(o,e,n[a]);n=i}for(a=0;a<s;a++)t(e)?t(n[a])&&(e=o(+e,+n[a])):e=n[a];return e},V.len=function(o){return V.aggNums(function(e){return e+1},0,o)},V.mean=function(o,e){return e||(e=V.len(o)),V.aggNums(function(n,s){return n+s},0,o)/e},V.midRange=function(o){if(void 0!==o&&0!==o.length)return(V.aggNums(Math.max,null,o)+V.aggNums(Math.min,null,o))/2},V.variance=function(o,e,n){return e||(e=V.len(o)),t(n)||(n=V.mean(o,e)),V.aggNums(function(s,a){return s+Math.pow(a-n,2)},0,o)/e},V.stdev=function(o,e,n){return Math.sqrt(V.variance(o,e,n))},V.median=function(o){var e=o.slice().sort();return V.interp(e,.5)},V.interp=function(o,e){if(!t(e))throw"n should be a finite number";if((e=e*o.length-.5)<0)return o[0];if(e>o.length-1)return o[o.length-1];var n=e%1;return n*o[Math.ceil(e)]+(1-n)*o[Math.floor(e)]}},{"./array":218,"fast-isnumeric":17}],255:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../lib"),o=l.strTranslate,e=c("../constants/xmlns_namespaces"),n=c("../constants/alignment").LINE_SPACING,s=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;V.convertToTspans=function(F,B,H){var X=F.text(),ot=!F.attr("data-notex")&&B&&B._context.typesetMath&&typeof MathJax<"u"&&X.match(s),q=t.select(F.node().parentNode);if(!q.empty()){var P=F.attr("class")?F.attr("class").split(" ")[0]:"text";return q.selectAll("svg."+(P+="-math")).remove(),q.selectAll("g."+P+"-group").remove(),F.style("display",null).attr({"data-unformatted":X,"data-math":"N"}),ot?(B&&B._promises||[]).push(new Promise(function(E){F.style("display","none");var N=parseInt(F.node().style.fontSize,10);!function(U,D,M){var j,C,G,K,$=parseInt((MathJax.version||"").split(".")[0]);if(2===$||3===$){var Q=function(){var ct="math-output-"+l.randstr({},64),gt=(K=t.select("body").append("div").attr({id:ct}).style({visibility:"hidden",position:"absolute","font-size":D.fontSize+"px"}).text(U.replace(a,"\\lt ").replace(i,"\\gt "))).node();return 2===$?MathJax.Hub.Typeset(gt):MathJax.typeset([gt])},ut=function(){var ct=K.select(2===$?".MathJax_SVG":".MathJax"),gt=!ct.empty()&&K.select("svg").node();if(gt){var vt,_t=gt.getBoundingClientRect();vt=2===$?t.select("body").select("#MathJax_SVG_glyphs"):ct.select("defs"),M(ct,vt,_t)}else l.log("There was an error in the tex syntax.",U),M();K.remove()};2===$?MathJax.Hub.Queue(function(){return C=l.extendDeepAll({},MathJax.Hub.config),G=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:r},displayAlign:"left"})},function(){if("SVG"!==(j=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},Q,ut,function(){if("SVG"!==j)return MathJax.Hub.setRenderer(j)},function(){return void 0!==G&&(MathJax.Hub.processSectionDelay=G),MathJax.Hub.Config(C)}):3===$&&(C=l.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=r,"svg"!==(j=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){Q(),ut(),"svg"!==j&&(MathJax.config.startup.output=j),MathJax.config=C}))}else l.warn("No MathJax version:",MathJax.version)}(ot[2],{fontSize:N},function(U,D,M){q.selectAll("svg."+P).remove(),q.selectAll("g."+P+"-group").remove();var j=U&&U.select("svg");if(!j||!j.node())return J(),void E();var C=q.append("g").classed(P+"-group",!0).attr({"pointer-events":"none","data-unformatted":X,"data-math":"Y"});C.node().appendChild(j.node()),D&&D.node()&&j.node().insertBefore(D.node().cloneNode(!0),j.node().firstChild);var G=M.width,K=M.height;j.attr({class:P,height:K,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var $=F.node().style.fill||"black",Q=j.select("g");Q.attr({fill:$,stroke:$});var ut=Q.node().getBoundingClientRect(),ct=ut.width,gt=ut.height;(ct>G||gt>K)&&(j.style("overflow","hidden"),ct=(ut=j.node().getBoundingClientRect()).width,gt=ut.height);var vt=+F.attr("x"),_t=+F.attr("y"),kt=-(N||F.node().getBoundingClientRect().height)/4;if("y"===P[0])C.attr({transform:"rotate("+[-90,vt,_t]+")"+o(-ct/2,kt-gt/2)});else if("l"===P[0])_t=kt-gt/2;else if("a"===P[0]&&0!==P.indexOf("atitle"))vt=0,_t=kt;else{var Et=F.attr("text-anchor");vt-=ct*("middle"===Et?.5:"end"===Et?1:0),_t=_t+kt-gt/2}j.attr({x:vt,y:_t}),H&&H.call(F,C),E(C)})})):J(),F}function J(){q.empty()||(P=F.attr("class")+"-math",q.select("svg."+P).remove()),F.text("").style("white-space","pre"),function(E,N){N=N.replace(T," ");var Z,U=!1,D=[],M=-1;function j(){M++;var lt=document.createElementNS(e.svg,"tspan");t.select(lt).attr({class:"line",dy:M*n+"em"}),E.appendChild(lt),Z=lt;var at=D;if(D=[{node:lt}],at.length>1)for(var dt=1;dt<at.length;dt++)C(at[dt])}function C(lt){var at,dt=lt.type,mt={};if("a"===dt){at="a";var St=lt.target,bt=lt.href,wt=lt.popup;bt&&(mt={"xlink:xlink:show":"_blank"===St||"_"!==St.charAt(0)?"new":"replace",target:St,"xlink:xlink:href":bt},wt&&(mt.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+wt+'");return false;'))}else at="tspan";lt.style&&(mt.style=lt.style);var Ot=document.createElementNS(e.svg,at);if("sup"===dt||"sub"===dt){G(Z,"\u200b"),Z.appendChild(Ot);var Nt=document.createElementNS(e.svg,"tspan");G(Nt,"\u200b"),t.select(Nt).attr("dy",h[dt]),mt.dy=f[dt],Z.appendChild(Ot),Z.appendChild(Nt)}else Z.appendChild(Ot);t.select(Ot).attr(mt),Z=lt.node=Ot,D.push(lt)}function G(lt,at){lt.appendChild(document.createTextNode(at))}function K(lt){if(1!==D.length){var at=D.pop();lt!==at.type&&l.log("Start tag <"+at.type+"> doesnt match end tag <"+lt+">. Pretending it did match.",N),Z=D[D.length-1].node}else l.log("Ignoring unexpected end tag </"+lt+">.",N)}m.test(N)?j():(Z=E,D=[{node:E}]);for(var $=N.split(w),Q=0;Q<$.length;Q++){var ut=$[Q],ct=ut.match(x),gt=ct&&ct[2].toLowerCase(),vt=d[gt];if("br"===gt)j();else if(void 0===vt)G(Z,v(ut));else if(ct[1])K(gt);else{var _t=ct[4],kt={type:gt},Et=L(_t,y);if(Et?(Et=Et.replace(g,"$1 fill:"),vt&&(Et+=";"+vt)):vt&&(Et=vt),Et&&(kt.style=Et),"a"===gt){U=!0;var It=L(_t,A);if(It){var Lt=R(It);Lt&&(kt.href=Lt,kt.target=L(_t,b)||"_blank",kt.popup=L(_t,k))}}C(kt)}}return U}(F.node(),X)&&F.style("pointer-events","all"),V.positionText(F),H&&H.call(F)}};var a=/(<|&lt;|&#60;)/g,i=/(>|&gt;|&#62;)/g,r=[["$","$"],["\\(","\\)"]],d={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},f={sub:"0.3em",sup:"-0.6em"},h={sub:"-0.21em",sup:"0.42em"},p=["http:","https:","mailto:","",void 0,":"],T=V.NEWLINES=/(\r\n?|\n)/g,w=/(<[^<>]*>)/,x=/<(\/?)([^ >]*)(\s+(.*))?>/i,m=/<br(\s+.*)?>/i;V.BR_TAG_ALL=/<br(\s+.*)?>/gi;var y=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,A=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,b=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,k=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function L(F,B){if(!F)return null;var H=F.match(B),X=H&&(H[3]||H[4]);return X&&v(X)}var g=/(^|;)\s*color:/;V.plainText=function(F,B){for(var H=void 0!==(B=B||{}).len&&-1!==B.len?B.len:1/0,X=void 0!==B.allowedTags?B.allowedTags:["br"],q=F.split(w),P=[],J="",E=0,N=0;N<q.length;N++){var Z=q[N],U=Z.match(x),D=U&&U[2].toLowerCase();if(D)-1!==X.indexOf(D)&&(P.push(Z),J=D);else{var M=Z.length;if(E+M<H)P.push(Z),E+=M;else if(E<H){var j=H-E;J&&("br"!==J||j<=3||M<=3)&&P.pop(),P.push(H>3?Z.substr(0,j-3)+"...":Z.substr(0,j));break}J=""}}return P.join("")};var S={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},I=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function v(F){return F.replace(I,function(B,H){return("#"===H.charAt(0)?function(X){if(!(X>1114111)){var ot=String.fromCodePoint;if(ot)return ot(X);var q=String.fromCharCode;return X<=65535?q(X):q(55232+(X>>10),X%1024+56320)}}("x"===H.charAt(1)?parseInt(H.substr(2),16):parseInt(H.substr(1),10)):S[H])||B})}function R(F){var B=encodeURI(decodeURI(F)),H=document.createElement("a"),X=document.createElement("a");H.href=F,X.href=B;var q=X.protocol;return-1!==p.indexOf(H.protocol)&&-1!==p.indexOf(q)?B:""}function z(F,B,H){var X,ot,q,P=H.horizontalAlign,J=H.verticalAlign||"top",E=F.node().getBoundingClientRect(),N=B.node().getBoundingClientRect();return ot="bottom"===J?function(){return E.bottom-X.height}:"middle"===J?function(){return E.top+(E.height-X.height)/2}:function(){return E.top},q="right"===P?function(){return E.right-X.width}:"center"===P?function(){return E.left+(E.width-X.width)/2}:function(){return E.left},function(){X=this.node().getBoundingClientRect();var Z=q()-N.left,U=ot()-N.top,D=H.gd||{};if(H.gd){D._fullLayout._calcInverseTransform(D);var M=l.apply3DTransform(D._fullLayout._invTransform)(Z,U);Z=M[0],U=M[1]}return this.style({top:U+"px",left:Z+"px","z-index":1e3}),this}}V.convertEntities=v,V.sanitizeHTML=function(F){F=F.replace(T," ");for(var B=document.createElement("p"),H=B,X=[],ot=F.split(w),q=0;q<ot.length;q++){var P=ot[q],J=P.match(x),E=J&&J[2].toLowerCase();if(E in d)if(J[1])X.length&&(H=X.pop());else{var N=J[4],Z=L(N,y),U=Z?{style:Z}:{};if("a"===E){var D=L(N,A);if(D){var M=R(D);if(M){U.href=M;var j=L(N,b);j&&(U.target=j)}}}var C=document.createElement(E);H.appendChild(C),t.select(C).attr(U),H=C,X.push(C)}else H.appendChild(document.createTextNode(v(P)))}return B.innerHTML},V.lineCount=function(F){return F.selectAll("tspan.line").size()||1},V.positionText=function(F,B,H){return F.each(function(){var X=t.select(this);function ot(J,E){return void 0===E?null===(E=X.attr(J))&&(X.attr(J,0),E=0):X.attr(J,E),E}var q=ot("x",B),P=ot("y",H);"text"===this.nodeName&&X.selectAll("tspan.line").attr({x:q,y:P})})},V.makeTextShadow=function(F){var B="1px ",H="1px ",X="1px ";return B+H+X+F+", -"+B+"-"+H+X+F+", "+B+"-"+H+X+F+", -"+B+H+X+F},V.makeEditable=function(F,B){var H=B.gd,X=B.delegate,ot=t.dispatch("edit","input","cancel"),q=X||F;if(F.style({"pointer-events":X?"none":"all"}),1!==F.size())throw new Error("boo");function P(){var Z,U,D,M,j;Z=t.select(H).select(".svg-container"),U=Z.append("div"),D=F.node().style,M=parseFloat(D.fontSize||12),void 0===(j=B.text)&&(j=F.attr("data-unformatted")),U.classed("plugin-editable editable",!0).style({position:"absolute","font-family":D.fontFamily||"Arial","font-size":M,color:B.fill||D.fill||"black",opacity:1,"background-color":B.background||"transparent",outline:"#ffffff33 1px solid",margin:[-M/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(j).call(z(F,Z,B)).on("blur",function(){H._editing=!1,F.text(this.textContent).style({opacity:1});var C,G=t.select(this).attr("class");(C=G?"."+G.split(" ")[0]+"-math-group":"[class*=-math-group]")&&t.select(F.node().parentNode).select(C).style({opacity:0});var K=this.textContent;t.select(this).transition().duration(0).remove(),t.select(document).on("mouseup",null),ot.edit.call(F,K)}).on("focus",function(){var C=this;H._editing=!0,t.select(document).on("mouseup",function(){if(t.event.target===C)return!1;document.activeElement===U.node()&&U.node().blur()})}).on("keyup",function(){27===t.event.which?(H._editing=!1,F.style({opacity:1}),t.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),ot.cancel.call(F,this.textContent)):(ot.input.call(F,this.textContent),t.select(this).call(z(F,Z,B)))}).on("keydown",function(){13===t.event.which&&this.blur()}).call(J),F.style({opacity:0});var E,N=q.attr("class");(E=N?"."+N.split(" ")[0]+"-math-group":"[class*=-math-group]")&&t.select(F.node().parentNode).select(E).style({opacity:0})}function J(E){var N=E.node(),Z=document.createRange();Z.selectNodeContents(N);var U=window.getSelection();U.removeAllRanges(),U.addRange(Z),N.focus()}return B.immediate?P():q.on("click",P),t.rebind(F,ot,"on")}},{"../constants/alignment":207,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],256:[function(c,tt,V){"use strict";var t={};function l(o){o&&null!==o.timer&&(clearTimeout(o.timer),o.timer=null)}V.throttle=function(o,e,n){var s=t[o],a=Date.now();if(!s){for(var i in t)t[i].ts<a-6e4&&delete t[i];s=t[o]={ts:0,timer:null}}function r(){n(),s.ts=Date.now(),s.onDone&&(s.onDone(),s.onDone=null)}l(s),a>s.ts+e?r():s.timer=setTimeout(function(){r(),s.timer=null},e)},V.done=function(o){var e=t[o];return e&&e.timer?new Promise(function(n){var s=e.onDone;e.onDone=function(){s&&s(),n(),e.onDone=null}}):Promise.resolve()},V.clear=function(o){if(o)l(t[o]),delete t[o];else for(var e in t)V.clear(e)}},{}],257:[function(c,tt,V){"use strict";var t=c("fast-isnumeric");tt.exports=function(l,o){if(l>0)return Math.log(l)/Math.LN10;var e=Math.log(Math.min(o[0],o[1]))/Math.LN10;return t(e)||(e=Math.log(Math.max(o[0],o[1]))/Math.LN10-6),e}},{"fast-isnumeric":17}],258:[function(c,tt,V){"use strict";tt.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],259:[function(c,tt,V){"use strict";tt.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],260:[function(c,tt,V){"use strict";var t=c("../registry");tt.exports=function(l){for(var o,e,n=t.layoutArrayContainers,s=t.layoutArrayRegexes,a=l.split("[")[0],i=0;i<s.length;i++)if((e=l.match(s[i]))&&0===e.index){o=e[0];break}if(o||(o=n[n.indexOf(a)]),!o)return!1;var r=l.substr(o.length);return r?!!(e=r.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:o,index:Number(e[1]),property:e[3]||""}:{array:o,index:"",property:""}}},{"../registry":318}],261:[function(c,tt,V){"use strict";var t=c("../lib"),l=t.extendFlat,o=t.isPlainObject,e={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},n={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},s=e.flags.slice().concat(["fullReplot"]),a=n.flags.slice().concat("layoutReplot");function i(f){for(var h={},p=0;p<f.length;p++)h[f[p]]=!1;return h}function r(f,h,p){var T=l({},f);for(var w in T){var x=T[w];o(x)&&(T[w]=d(x,h,0,w))}return"from-root"===p&&(T.editType=h),T}function d(f,h,p,T){if(f.valType){var w=l({},f);if(w.editType=h,Array.isArray(f.items)){w.items=new Array(f.items.length);for(var x=0;x<f.items.length;x++)w.items[x]=d(f.items[x],h)}return w}return r(f,h,"_"===T.charAt(0)?"nested":"from-root")}tt.exports={traces:e,layout:n,traceFlags:function(){return i(s)},layoutFlags:function(){return i(a)},update:function(f,h){var p=h.editType;if(p&&"none"!==p)for(var T=p.split("+"),w=0;w<T.length;w++)f[T[w]]=!0},overrideAll:r}},{"../lib":232}],262:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("gl-mat4/fromQuat"),o=c("../registry"),e=c("../lib"),n=c("../plots/plots"),s=c("../plots/cartesian/axis_ids"),a=c("../components/color"),i=s.cleanId,r=s.getFromTrace,d=o.traceIs;function f(b,k){var L=b[k],g=k.charAt(0);L&&"paper"!==L&&(b[k]=i(L,g,!0))}function h(b){function k(L,g){b[L]&&(!b.title||!b.title[g])&&(b.title||(b.title={}),b.title[g]=b[L],delete b[L])}b&&("string"!=typeof b.title&&"number"!=typeof b.title||(b.title={text:b.title}),k("titlefont","font"),k("titleposition","position"),k("titleside","side"),k("titleoffset","offset"))}function p(b){if(!e.isPlainObject(b))return!1;var k=b.name;return delete b.name,delete b.showlegend,("string"==typeof k||"number"==typeof k)&&String(k)}function T(b,k,L,g){if(L&&!g)return b;if(g&&!L||!b.trim())return k;if(!k.trim())return b;var S,I=Math.min(b.length,k.length);for(S=0;S<I&&b.charAt(S)===k.charAt(S);S++);return b.substr(0,S).trim()}function w(b){var k="middle",L="center";return"string"==typeof b&&(-1!==b.indexOf("top")?k="top":-1!==b.indexOf("bottom")&&(k="bottom"),-1!==b.indexOf("left")?L="left":-1!==b.indexOf("right")&&(L="right")),k+" "+L}function x(b,k){return k in b&&"object"==typeof b[k]&&0===Object.keys(b[k]).length}V.clearPromiseQueue=function(b){Array.isArray(b._promises)&&b._promises.length>0&&e.log("Clearing previous rejected promises from queue."),b._promises=[]},V.cleanLayout=function(b){var k,L;b||(b={}),b.xaxis1&&(b.xaxis||(b.xaxis=b.xaxis1),delete b.xaxis1),b.yaxis1&&(b.yaxis||(b.yaxis=b.yaxis1),delete b.yaxis1),b.scene1&&(b.scene||(b.scene=b.scene1),delete b.scene1);var g=(n.subplotsRegistry.cartesian||{}).attrRegex,S=(n.subplotsRegistry.polar||{}).attrRegex,I=(n.subplotsRegistry.ternary||{}).attrRegex,v=(n.subplotsRegistry.gl3d||{}).attrRegex,R=Object.keys(b);for(k=0;k<R.length;k++){var z=R[k];if(g&&g.test(z)){var F=b[z];F.anchor&&"free"!==F.anchor&&(F.anchor=i(F.anchor)),F.overlaying&&(F.overlaying=i(F.overlaying)),F.type||(F.isdate?F.type="date":F.islog?F.type="log":!1===F.isdate&&!1===F.islog&&(F.type="linear")),"withzero"!==F.autorange&&"tozero"!==F.autorange||(F.autorange=!0,F.rangemode="tozero"),delete F.islog,delete F.isdate,delete F.categories,x(F,"domain")&&delete F.domain,void 0!==F.autotick&&(void 0===F.tickmode&&(F.tickmode=F.autotick?"auto":"linear"),delete F.autotick),h(F)}else if(S&&S.test(z))h(b[z].radialaxis);else if(I&&I.test(z)){var B=b[z];h(B.aaxis),h(B.baxis),h(B.caxis)}else if(v&&v.test(z)){var H=b[z],X=H.cameraposition;if(Array.isArray(X)&&4===X[0].length){var q=X[1],P=X[2],J=l([],X[0]),E=[];for(L=0;L<3;++L)E[L]=q[L]+P*J[2+4*L];H.camera={eye:{x:E[0],y:E[1],z:E[2]},center:{x:q[0],y:q[1],z:q[2]},up:{x:0,y:0,z:1}},delete H.cameraposition}h(H.xaxis),h(H.yaxis),h(H.zaxis)}}var N=Array.isArray(b.annotations)?b.annotations.length:0;for(k=0;k<N;k++){var Z=b.annotations[k];e.isPlainObject(Z)&&(Z.ref&&("paper"===Z.ref?(Z.xref="paper",Z.yref="paper"):"data"===Z.ref&&(Z.xref="x",Z.yref="y"),delete Z.ref),f(Z,"xref"),f(Z,"yref"))}var U=Array.isArray(b.shapes)?b.shapes.length:0;for(k=0;k<U;k++){var D=b.shapes[k];e.isPlainObject(D)&&(f(D,"xref"),f(D,"yref"))}var M=Array.isArray(b.images)?b.images.length:0;for(k=0;k<M;k++){var j=b.images[k];e.isPlainObject(j)&&(f(j,"xref"),f(j,"yref"))}var C=b.legend;return C&&(C.x>3?(C.x=1.02,C.xanchor="left"):C.x<-2&&(C.x=-.02,C.xanchor="right"),C.y>3?(C.y=1.02,C.yanchor="bottom"):C.y<-2&&(C.y=-.02,C.yanchor="top")),h(b),"rotate"===b.dragmode&&(b.dragmode="orbit"),a.clean(b),b.template&&b.template.layout&&V.cleanLayout(b.template.layout),b},V.cleanData=function(b){for(var k=0;k<b.length;k++){var L,g=b[k];if("histogramy"===g.type&&"xbins"in g&&!("ybins"in g)&&(g.ybins=g.xbins,delete g.xbins),g.error_y&&"opacity"in g.error_y){var S=a.defaults,I=g.error_y.color||(d(g,"bar")?a.defaultLine:S[k%S.length]);g.error_y.color=a.addOpacity(a.rgb(I),a.opacity(I)*g.error_y.opacity),delete g.error_y.opacity}if("bardir"in g&&("h"!==g.bardir||!d(g,"bar")&&"histogram"!==g.type.substr(0,9)||(g.orientation="h",V.swapXYData(g)),delete g.bardir),"histogramy"===g.type&&V.swapXYData(g),"histogramx"!==g.type&&"histogramy"!==g.type||(g.type="histogram"),"scl"in g&&!("colorscale"in g)&&(g.colorscale=g.scl,delete g.scl),"reversescl"in g&&!("reversescale"in g)&&(g.reversescale=g.reversescl,delete g.reversescl),g.xaxis&&(g.xaxis=i(g.xaxis,"x")),g.yaxis&&(g.yaxis=i(g.yaxis,"y")),d(g,"gl3d")&&g.scene&&(g.scene=n.subplotsRegistry.gl3d.cleanId(g.scene)),!d(g,"pie-like")&&!d(g,"bar-like"))if(Array.isArray(g.textposition))for(L=0;L<g.textposition.length;L++)g.textposition[L]=w(g.textposition[L]);else g.textposition&&(g.textposition=w(g.textposition));var v=o.getModule(g);if(v&&v.colorbar){var R=v.colorbar.container,z=R?g[R]:g;z&&z.colorscale&&("YIGnBu"===z.colorscale&&(z.colorscale="YlGnBu"),"YIOrRd"===z.colorscale&&(z.colorscale="YlOrRd"))}if("surface"===g.type&&e.isPlainObject(g.contours)){var F=["x","y","z"];for(L=0;L<F.length;L++){var B=g.contours[F[L]];e.isPlainObject(B)&&(B.highlightColor&&(B.highlightcolor=B.highlightColor,delete B.highlightColor),B.highlightWidth&&(B.highlightwidth=B.highlightWidth,delete B.highlightWidth))}}if("candlestick"===g.type||"ohlc"===g.type){var H=!1!==(g.increasing||{}).showlegend,X=!1!==(g.decreasing||{}).showlegend,ot=p(g.increasing),q=p(g.decreasing);if(!1!==ot&&!1!==q){var P=T(ot,q,H,X);P&&(g.name=P)}else!ot&&!q||g.name||(g.name=ot||q)}if(Array.isArray(g.transforms)){var J=g.transforms;for(L=0;L<J.length;L++){var E=J[L];if(e.isPlainObject(E))switch(E.type){case"filter":E.filtersrc&&(E.target=E.filtersrc,delete E.filtersrc),E.calendar&&(E.valuecalendar||(E.valuecalendar=E.calendar),delete E.calendar);break;case"groupby":if(E.styles=E.styles||E.style,E.styles&&!Array.isArray(E.styles)){var N=E.styles,Z=Object.keys(N);E.styles=[];for(var U=0;U<Z.length;U++)E.styles.push({target:Z[U],value:N[Z[U]]})}}}}x(g,"line")&&delete g.line,"marker"in g&&(x(g.marker,"line")&&delete g.marker.line,x(g,"marker")&&delete g.marker),a.clean(g),g.autobinx&&(delete g.autobinx,delete g.xbins),g.autobiny&&(delete g.autobiny,delete g.ybins),h(g),g.colorbar&&h(g.colorbar),g.marker&&g.marker.colorbar&&h(g.marker.colorbar),g.line&&g.line.colorbar&&h(g.line.colorbar),g.aaxis&&h(g.aaxis),g.baxis&&h(g.baxis)}},V.swapXYData=function(b){var k;if(e.swapAttrs(b,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(b.z)&&Array.isArray(b.z[0])&&(b.transpose?delete b.transpose:b.transpose=!0),b.error_x&&b.error_y){var L=b.error_y,g="copy_ystyle"in L?L.copy_ystyle:!(L.color||L.thickness||L.width);e.swapAttrs(b,["error_?.copy_ystyle"]),g&&e.swapAttrs(b,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof b.hoverinfo){var S=b.hoverinfo.split("+");for(k=0;k<S.length;k++)"x"===S[k]?S[k]="y":"y"===S[k]&&(S[k]="x");b.hoverinfo=S.join("+")}},V.coerceTraceIndices=function(b,k){if(t(k))return[k];if(!Array.isArray(k)||!k.length)return b.data.map(function(S,I){return I});if(Array.isArray(k)){for(var L=[],g=0;g<k.length;g++)e.isIndex(k[g],b.data.length)?L.push(k[g]):e.warn("trace index (",k[g],") is not a number or is out of bounds");return L}return k},V.manageArrayContainers=function(b,k,L){var g=b.obj,S=b.parts,I=S.length,v=S[I-1],R=t(v);if(R&&null===k){var z=S.slice(0,I-1).join(".");e.nestedProperty(g,z).get().splice(v,1)}else R&&void 0===b.get()&&void 0===b.get()&&(L[b.astr]=null),b.set(k)};var m=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function y(b){var k=b.search(m);if(k>0)return b.substr(0,k)}V.hasParent=function(b,k){for(var L=y(k);L;){if(L in b)return!0;L=y(L)}return!1};var A=["x","y","z"];V.clearAxisTypes=function(b,k,L){for(var g=0;g<k.length;g++)for(var S=b._fullData[g],I=0;I<3;I++){var v=r(b,S,A[I]);if(v&&"log"!==v.type){var R=v._name,z=v._id.substr(1);if("scene"===z.substr(0,5)){if(void 0!==L[z])continue;R=z+"."+R}var F=R+".type";void 0===L[R]&&void 0===L[F]&&e.nestedProperty(b.layout,F).set(null)}}}},{"../components/color":102,"../lib":232,"../plots/cartesian/axis_ids":283,"../plots/plots":316,"../registry":318,"fast-isnumeric":17,"gl-mat4/fromQuat":23}],263:[function(c,tt,V){"use strict";var t=c("./plot_api");V._doPlot=t._doPlot,V.newPlot=t.newPlot,V.restyle=t.restyle,V.relayout=t.relayout,V.redraw=t.redraw,V.update=t.update,V._guiRestyle=t._guiRestyle,V._guiRelayout=t._guiRelayout,V._guiUpdate=t._guiUpdate,V._storeDirectGUIEdit=t._storeDirectGUIEdit,V.react=t.react,V.extendTraces=t.extendTraces,V.prependTraces=t.prependTraces,V.addTraces=t.addTraces,V.deleteTraces=t.deleteTraces,V.moveTraces=t.moveTraces,V.purge=t.purge,V.addFrames=t.addFrames,V.deleteFrames=t.deleteFrames,V.animate=t.animate,V.setPlotConfig=t.setPlotConfig,V.toImage=c("./to_image"),V.validate=c("./validate"),V.downloadImage=c("../snapshot/download");var l=c("./template_api");V.makeTemplate=l.makeTemplate,V.validateTemplate=l.validateTemplate},{"../snapshot/download":320,"./plot_api":265,"./template_api":270,"./to_image":271,"./validate":272}],264:[function(c,tt,V){"use strict";var t=c("../lib/is_plain_object"),l=c("../lib/noop"),o=c("../lib/loggers"),e=c("../lib/search").sorterAsc,n=c("../registry");V.containerArrayMatch=c("./container_array_match");var s=V.isAddVal=function(i){return"add"===i||t(i)},a=V.isRemoveVal=function(i){return null===i||"remove"===i};V.applyContainerArrayChanges=function(i,r,d,f,h){var p=r.astr,T=n.getComponentMethod(p,"supplyLayoutDefaults"),w=n.getComponentMethod(p,"draw"),x=n.getComponentMethod(p,"drawOne"),m=f.replot||f.recalc||T===l||w===l,y=i.layout,A=i._fullLayout;if(d[""]){Object.keys(d).length>1&&o.warn("Full array edits are incompatible with other edits",p);var b=d[""][""];if(a(b))r.set(null);else{if(!Array.isArray(b))return o.warn("Unrecognized full array edit value",p,b),!0;r.set(b)}return!m&&(T(y,A),w(i),!0)}var k,L,g,S,I,v,R,F=Object.keys(d).map(Number).sort(e),B=r.get(),H=B||[],X=h(A,p).get(),ot=[],q=-1,P=H.length;for(k=0;k<F.length;k++)if(S=d[g=F[k]],I=Object.keys(S),R=s(v=S[""]),g<0||g>H.length-(R?0:1))o.warn("index out of range",p,g);else if(void 0!==v)I.length>1&&o.warn("Insertion & removal are incompatible with edits to the same index.",p,g),a(v)?ot.push(g):R?("add"===v&&(v={}),H.splice(g,0,v),X&&X.splice(g,0,{})):o.warn("Unrecognized full object edit value",p,g,v),-1===q&&(q=g);else for(L=0;L<I.length;L++)h(H[g],I[L],p+"["+g+"].").set(S[I[L]]);for(k=ot.length-1;k>=0;k--)H.splice(ot[k],1),X&&X.splice(ot[k],1);if(H.length?B||r.set(H):r.set(null),m)return!1;if(T(y,A),x!==l){var J;if(-1===q)J=F;else{for(P=Math.max(H.length,P),J=[],k=0;k<F.length&&!((g=F[k])>=q);k++)J.push(g);for(k=q;k<P;k++)J.push(k)}for(k=0;k<J.length;k++)x(i,J[k])}else w(i);return!0}},{"../lib/is_plain_object":233,"../lib/loggers":236,"../lib/noop":241,"../lib/search":251,"../registry":318,"./container_array_match":260}],265:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("fast-isnumeric"),o=c("has-hover"),e=c("../lib"),n=e.nestedProperty,s=c("../lib/events"),a=c("../lib/queue"),i=c("../registry"),r=c("./plot_schema"),d=c("../plots/plots"),f=c("../plots/cartesian/axes"),h=c("../components/drawing"),p=c("../components/color"),T=c("../plots/cartesian/graph_interact").initInteractions,w=c("../constants/xmlns_namespaces"),x=c("../plots/cartesian/select").clearSelect,m=c("./plot_config").dfltConfig,y=c("./manage_arrays"),A=c("./helpers"),b=c("./subroutines"),k=c("./edit_types"),L=c("../plots/cartesian/constants").AX_NAME_PATTERN,g=0;function S(lt){var at=lt._fullLayout;at._redrawFromAutoMarginCount?at._redrawFromAutoMarginCount--:lt.emit("plotly_afterplot")}function I(lt,at){try{lt._fullLayout._paper.style("background",at)}catch(dt){e.error(dt)}}function v(lt,at){I(lt,p.combine(at,"white"))}function R(lt,at){if(!lt._context){lt._context=e.extendDeep({},m);var dt=t.select("base");lt._context._baseUrl=dt.size()&&dt.attr("href")?window.location.href.split("#")[0]:""}var mt,St,bt,wt=lt._context;if(at){for(St=Object.keys(at),mt=0;mt<St.length;mt++)"editable"!==(bt=St[mt])&&"edits"!==bt&&bt in wt&&(wt[bt]="setBackground"===bt&&"opaque"===at[bt]?v:at[bt]);at.plot3dPixelRatio&&!wt.plotGlPixelRatio&&(wt.plotGlPixelRatio=wt.plot3dPixelRatio);var Ot=at.editable;if(void 0!==Ot)for(wt.editable=Ot,St=Object.keys(wt.edits),mt=0;mt<St.length;mt++)wt.edits[St[mt]]=Ot;if(at.edits)for(St=Object.keys(at.edits),mt=0;mt<St.length;mt++)(bt=St[mt])in wt.edits&&(wt.edits[bt]=at.edits[bt]);wt._exportedPlot=at._exportedPlot}wt.staticPlot&&(wt.editable=!1,wt.edits={},wt.autosizable=!1,wt.scrollZoom=!1,wt.doubleClick=!1,wt.showTips=!1,wt.showLink=!1,wt.displayModeBar=!1),"hover"!==wt.displayModeBar||o||(wt.displayModeBar=!0),"transparent"!==wt.setBackground&&"function"==typeof wt.setBackground||(wt.setBackground=I),wt._hasZeroHeight=wt._hasZeroHeight||0===lt.clientHeight,wt._hasZeroWidth=wt._hasZeroWidth||0===lt.clientWidth;var Nt=wt.scrollZoom,Dt=wt._scrollZoom={};if(!0===Nt)Dt.cartesian=1,Dt.gl3d=1,Dt.geo=1,Dt.mapbox=1;else if("string"==typeof Nt){var zt=Nt.split("+");for(mt=0;mt<zt.length;mt++)Dt[zt[mt]]=1}else!1!==Nt&&(Dt.gl3d=1,Dt.geo=1,Dt.mapbox=1)}function z(lt,at){var dt,mt,St=at+1,bt=[];for(dt=0;dt<lt.length;dt++)(mt=lt[dt])<0?bt.push(St+mt):bt.push(mt);return bt}function F(lt,at,dt){var mt,St;for(mt=0;mt<at.length;mt++){if((St=at[mt])!==parseInt(St,10))throw new Error("all values in "+dt+" must be integers");if(St>=lt.data.length||St<-lt.data.length)throw new Error(dt+" must be valid indices for gd.data.");if(at.indexOf(St,mt+1)>-1||St>=0&&at.indexOf(-lt.data.length+St)>-1||St<0&&at.indexOf(lt.data.length+St)>-1)throw new Error("each index in "+dt+" must be unique.")}}function B(lt,at,dt){if(!Array.isArray(lt.data))throw new Error("gd.data must be an array.");if(void 0===at)throw new Error("currentIndices is a required argument.");if(Array.isArray(at)||(at=[at]),F(lt,at,"currentIndices"),void 0===dt||Array.isArray(dt)||(dt=[dt]),void 0!==dt&&F(lt,dt,"newIndices"),void 0!==dt&&at.length!==dt.length)throw new Error("current and new indices must be of equal length.")}function H(lt,at,dt,mt,St){!function(Ct,Zt,Kt,Jt){var de=e.isPlainObject(Jt);if(!Array.isArray(Ct.data))throw new Error("gd.data must be an array");if(!e.isPlainObject(Zt))throw new Error("update must be a key:value object");if(void 0===Kt)throw new Error("indices must be an integer or array of integers");for(var $t in F(Ct,Kt,"indices"),Zt){if(!Array.isArray(Zt[$t])||Zt[$t].length!==Kt.length)throw new Error("attribute "+$t+" must be an array of length equal to indices array length");if(de&&(!($t in Jt)||!Array.isArray(Jt[$t])||Jt[$t].length!==Zt[$t].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(lt,at,dt,mt);for(var bt=function(Ct,Zt,Kt,Jt){var $t,Tt,At,qt,ue=e.isPlainObject(Jt),Te=[];for(var Ce in Array.isArray(Kt)||(Kt=[Kt]),Kt=z(Kt,Ct.data.length-1),Zt)for(var xe=0;xe<Kt.length;xe++){if($t=(Tt=n(Ct.data[Kt[xe]],Ce)).get(),!e.isArrayOrTypedArray(At=Zt[Ce][xe]))throw new Error("attribute: "+Ce+" index: "+xe+" must be an array");if(!e.isArrayOrTypedArray($t))throw new Error("cannot extend missing or non-array attribute: "+Ce);if($t.constructor!==At.constructor)throw new Error("cannot extend array with an array of a different type: "+Ce);l(qt=ue?Jt[Ce][xe]:Jt)||(qt=-1),Te.push({prop:Tt,target:$t,insert:At,maxp:Math.floor(qt)})}return Te}(lt,at,dt,mt),wt={},Ot={},Nt=0;Nt<bt.length;Nt++){var Dt=bt[Nt].prop,Vt=St(bt[Nt].target,bt[Nt].insert,bt[Nt].maxp);Dt.set(Vt[0]),Array.isArray(wt[Dt.astr])||(wt[Dt.astr]=[]),wt[Dt.astr].push(Vt[1]),Array.isArray(Ot[Dt.astr])||(Ot[Dt.astr]=[]),Ot[Dt.astr].push(bt[Nt].target.length)}return{update:wt,maxPoints:Ot}}function X(lt,at){var dt=new lt.constructor(lt.length+at.length);return dt.set(lt),dt.set(at,lt.length),dt}function ot(lt,at,dt,mt){lt=e.getGraphDiv(lt),A.clearPromiseQueue(lt);var St={};if("string"==typeof at)St[at]=dt;else{if(!e.isPlainObject(at))return e.warn("Restyle fail.",at,dt,mt),Promise.reject();St=e.extendFlat({},at),void 0===mt&&(mt=dt)}Object.keys(St).length&&(lt.changed=!0);var bt=A.coerceTraceIndices(lt,mt),wt=E(lt,St,bt),Ot=wt.flags;Ot.calc&&(lt.calcdata=void 0),Ot.clearAxisTypes&&A.clearAxisTypes(lt,bt,{});var Nt=[];Ot.fullReplot?Nt.push(V._doPlot):(Nt.push(d.previousPromises),d.supplyDefaults(lt),Ot.markerSize&&(d.doCalcdata(lt),D(Nt)),Ot.style&&Nt.push(b.doTraceStyle),Ot.colorbars&&Nt.push(b.doColorBars),Nt.push(S)),Nt.push(d.rehover,d.redrag),a.add(lt,ot,[lt,wt.undoit,wt.traces],ot,[lt,wt.redoit,wt.traces]);var Dt=e.syncOrAsync(Nt,lt);return Dt&&Dt.then||(Dt=Promise.resolve()),Dt.then(function(){return lt.emit("plotly_restyle",wt.eventData),lt})}function q(lt){return void 0===lt?null:lt}function P(lt,at){return at?function(dt,mt,St){var bt=n(dt,mt),wt=bt.set;return bt.set=function(Ot){J((St||"")+mt,bt.get(),Ot,lt),wt(Ot)},bt}:n}function J(lt,at,dt,mt){if(Array.isArray(at)||Array.isArray(dt))for(var St=Array.isArray(at)?at:[],bt=Array.isArray(dt)?dt:[],wt=Math.max(St.length,bt.length),Ot=0;Ot<wt;Ot++)J(lt+"["+Ot+"]",St[Ot],bt[Ot],mt);else if(e.isPlainObject(at)||e.isPlainObject(dt)){var Nt=e.isPlainObject(at)?at:{},Dt=e.isPlainObject(dt)?dt:{},zt=e.extendFlat({},Nt,Dt);for(var Vt in zt)J(lt+"."+Vt,Nt[Vt],Dt[Vt],mt)}else void 0===mt[lt]&&(mt[lt]=q(at))}function E(lt,at,dt){var mt,St=lt._fullLayout,bt=lt._fullData,wt=lt.data,Ot=St._guiEditing,Nt=P(St._preGUI,Ot),Dt=e.extendDeepAll({},at);N(at);var zt,Vt=k.traceFlags(),Ct={},Zt={};function Kt(){return dt.map(function(){})}function Jt(ge){var we=f.id2name(ge);-1===zt.indexOf(we)&&zt.push(we)}function de(ge){return"LAYOUT"+ge+".autorange"}function $t(ge){return"LAYOUT"+ge+".range"}function Tt(ge){for(var we=ge;we<bt.length;we++)if(bt[we]._input===wt[ge])return bt[we]}function At(ge,we,fe){if(Array.isArray(ge))ge.forEach(function(ze){At(ze,we,fe)});else if(!(ge in at)&&!A.hasParent(at,ge)){var Ne;if("LAYOUT"===ge.substr(0,6))Ne=Nt(lt.layout,ge.replace("LAYOUT",""));else{var Pe=dt[fe];Ne=P(St._tracePreGUI[Tt(Pe)._fullInput.uid],Ot)(wt[Pe],ge)}ge in Zt||(Zt[ge]=Kt()),void 0===Zt[ge][fe]&&(Zt[ge][fe]=q(Ne.get())),void 0!==we&&Ne.set(we)}}function qt(ge){return function(we){return bt[we][ge]}}function ue(ge){return function(we,fe){return!1===we?bt[dt[fe]][ge]:null}}for(var Te in at){if(A.hasParent(at,Te))throw new Error("cannot set "+Te+" and a parent attribute simultaneously");var Ce,xe,ye,ce,nt,it,Mt=at[Te];if("autobinx"!==Te&&"autobiny"!==Te||(Te=Te.charAt(Te.length-1)+"bins",Mt=Array.isArray(Mt)?Mt.map(ue(Te)):!1===Mt?dt.map(qt(Te)):null),Ct[Te]=Mt,"LAYOUT"!==Te.substr(0,6)){for(Zt[Te]=Kt(),mt=0;mt<dt.length;mt++)if(Ce=wt[dt[mt]],xe=Tt(dt[mt]),ce=(ye=P(St._tracePreGUI[xe._fullInput.uid],Ot)(Ce,Te)).get(),void 0!==(nt=Array.isArray(Mt)?Mt[mt%Mt.length]:Mt)){var Pt=ye.parts[ye.parts.length-1],Ut=Te.substr(0,Te.length-Pt.length-1),Rt=Ut?Ut+".":"",jt=Ut?n(xe,Ut).get():xe;if((it=r.getTraceValObject(xe,ye.parts))&&it.impliedEdits&&null!==nt)for(var Yt in it.impliedEdits)At(e.relativeAttr(Te,Yt),it.impliedEdits[Yt],mt);else if("thicknessmode"!==Pt&&"lenmode"!==Pt||ce===nt||"fraction"!==nt&&"pixels"!==nt||!jt){if("type"===Te&&("pie"===nt!=("pie"===ce)||"funnelarea"===nt!=("funnelarea"===ce))){var ee="x",ae="y";"bar"!==nt&&"bar"!==ce||"h"!==Ce.orientation||(ee="y",ae="x"),e.swapAttrs(Ce,["?","?src"],"labels",ee),e.swapAttrs(Ce,["d?","?0"],"label",ee),e.swapAttrs(Ce,["?","?src"],"values",ae),"pie"===ce||"funnelarea"===ce?(n(Ce,"marker.color").set(n(Ce,"marker.colors").get()),St._pielayer.selectAll("g.trace").remove()):i.traceIs(Ce,"cartesian")&&n(Ce,"marker.colors").set(n(Ce,"marker.color").get())}}else{var he=St._size,Me=jt.orient,re="top"===Me||"bottom"===Me;if("thicknessmode"===Pt){var me=re?he.h:he.w;At(Rt+"thickness",jt.thickness*("fraction"===nt?1/me:me),mt)}else{var Oe=re?he.w:he.h;At(Rt+"len",jt.len*("fraction"===nt?1/Oe:Oe),mt)}}if(Zt[Te][mt]=q(ce),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Te)){if("orientation"===Te){ye.set(nt);var oe=Ce.x&&!Ce.y?"h":"v";if((ye.get()||oe)===xe.orientation)continue}else"orientationaxes"===Te&&(Ce.orientation={v:"h",h:"v"}[xe.orientation]);A.swapXYData(Ce),Vt.calc=Vt.clearAxisTypes=!0}else-1!==d.dataArrayContainers.indexOf(ye.parts[0])?(A.manageArrayContainers(ye,nt,Zt),Vt.calc=!0):(it?it.arrayOk&&!i.traceIs(xe,"regl")&&(e.isArrayOrTypedArray(nt)||e.isArrayOrTypedArray(ce))?Vt.calc=!0:k.update(Vt,it):Vt.calc=!0,ye.set(nt))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Te)&&f.swap(lt,dt),"orientationaxes"===Te){var te=n(lt.layout,"hovermode"),Ae=te.get();"x"===Ae?te.set("y"):"y"===Ae?te.set("x"):"x unified"===Ae?te.set("y unified"):"y unified"===Ae&&te.set("x unified")}if(-1!==["orientation","type"].indexOf(Te)){for(zt=[],mt=0;mt<dt.length;mt++){var _e=wt[dt[mt]];i.traceIs(_e,"cartesian")&&(Jt(_e.xaxis||"x"),Jt(_e.yaxis||"y"))}At(zt.map(de),!0,0),At(zt.map($t),[0,1],0)}}else ye=Nt(lt.layout,Te.replace("LAYOUT","")),Zt[Te]=[q(ye.get())],ye.set(Array.isArray(Mt)?Mt[0]:Mt),Vt.calc=!0}return(Vt.calc||Vt.plot)&&(Vt.fullReplot=!0),{flags:Vt,undoit:Zt,redoit:Ct,traces:dt,eventData:e.extendDeepNoArrays([],[Dt,dt])}}function N(lt){var at,dt,mt,St=e.counterRegex("axis",".title",!1,!1),bt=/colorbar\.title$/,wt=Object.keys(lt);for(at=0;at<wt.length;at++)mt=lt[dt=wt[at]],"title"!==dt&&!St.test(dt)&&!bt.test(dt)||"string"!=typeof mt&&"number"!=typeof mt?dt.indexOf("titlefont")>-1&&-1===dt.indexOf("grouptitlefont")?Ot(dt,dt.replace("titlefont","title.font")):dt.indexOf("titleposition")>-1?Ot(dt,dt.replace("titleposition","title.position")):dt.indexOf("titleside")>-1?Ot(dt,dt.replace("titleside","title.side")):dt.indexOf("titleoffset")>-1&&Ot(dt,dt.replace("titleoffset","title.offset")):Ot(dt,dt.replace("title","title.text"));function Ot(Nt,Dt){lt[Dt]=lt[Nt],delete lt[Nt]}}function Z(lt,at,dt){lt=e.getGraphDiv(lt),A.clearPromiseQueue(lt);var mt={};if("string"==typeof at)mt[at]=dt;else{if(!e.isPlainObject(at))return e.warn("Relayout fail.",at,dt),Promise.reject();mt=e.extendFlat({},at)}Object.keys(mt).length&&(lt.changed=!0);var St=G(lt,mt),bt=St.flags;bt.calc&&(lt.calcdata=void 0);var wt=[d.previousPromises];bt.layoutReplot?wt.push(b.layoutReplot):Object.keys(mt).length&&(U(lt,bt,St)||d.supplyDefaults(lt),bt.legend&&wt.push(b.doLegend),bt.layoutstyle&&wt.push(b.layoutStyles),bt.axrange&&D(wt,St.rangesAltered),bt.ticks&&wt.push(b.doTicksRelayout),bt.modebar&&wt.push(b.doModeBar),bt.camera&&wt.push(b.doCamera),bt.colorbars&&wt.push(b.doColorBars),wt.push(S)),wt.push(d.rehover,d.redrag),a.add(lt,Z,[lt,St.undoit],Z,[lt,St.redoit]);var Ot=e.syncOrAsync(wt,lt);return Ot&&Ot.then||(Ot=Promise.resolve(lt)),Ot.then(function(){return lt.emit("plotly_relayout",St.eventData),lt})}function U(lt,at,dt){var mt=lt._fullLayout;if(!at.axrange)return!1;for(var St in at)if("axrange"!==St&&at[St])return!1;for(var bt in dt.rangesAltered){var wt=f.id2name(bt),Ot=lt.layout[wt],Nt=mt[wt];if(Nt.autorange=Ot.autorange,Ot.range&&(Nt.range=Ot.range.slice()),Nt.cleanRange(),Nt._matchGroup)for(var Dt in Nt._matchGroup)if(Dt!==bt){var zt=mt[f.id2name(Dt)];zt.autorange=Nt.autorange,zt.range=Nt.range.slice(),zt._input.range=Nt.range.slice()}}return!0}function D(lt,at){lt.push(x,b.doAutoRangeAndConstraints,at?function(mt){var St=[],bt=!0;for(var wt in at){var Ot=f.getFromId(mt,wt);if(St.push(wt),-1!==(Ot.ticklabelposition||"").indexOf("inside")&&Ot._anchorAxis&&St.push(Ot._anchorAxis._id),Ot._matchGroup)for(var Nt in Ot._matchGroup)at[Nt]||St.push(Nt);Ot.automargin&&(bt=!1)}return f.draw(mt,St,{skipTitle:bt})}:function(mt){return f.draw(mt,"redraw")},b.drawData,b.finalDraw)}var M=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,j=/^[xyz]axis[0-9]*\.autorange$/,C=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function G(lt,at){var dt,mt,St,bt=lt.layout,wt=lt._fullLayout,Nt=P(wt._preGUI,wt._guiEditing),Dt=Object.keys(at),zt=f.list(lt),Vt=e.extendDeepAll({},at),Ct={};for(N(at),Dt=Object.keys(at),mt=0;mt<Dt.length;mt++)if(0===Dt[mt].indexOf("allaxes")){for(St=0;St<zt.length;St++){var Zt=zt[St]._id.substr(1),Kt=-1!==Zt.indexOf("scene")?Zt+".":"",Jt=Dt[mt].replace("allaxes",Kt+zt[St]._name);at[Jt]||(at[Jt]=at[Dt[mt]])}delete at[Dt[mt]]}var de=k.layoutFlags(),$t={},Tt={};function At(Pe,ze){if(Array.isArray(Pe))Pe.forEach(function(Je){At(Je,ze)});else if(!(Pe in at)&&!A.hasParent(at,Pe)){var Ue=Nt(bt,Pe);Pe in Tt||(Tt[Pe]=q(Ue.get())),void 0!==ze&&Ue.set(ze)}}var qt,ue={};function Te(Pe){var ze=f.name2id(Pe.split(".")[0]);return ue[ze]=1,ze}for(var Ce in at){if(A.hasParent(at,Ce))throw new Error("cannot set "+Ce+" and a parent attribute simultaneously");for(var xe=Nt(bt,Ce),ye=at[Ce],ce=xe.parts.length-1;ce>0&&"string"!=typeof xe.parts[ce];)ce--;var nt=xe.parts[ce],it=xe.parts[ce-1]+"."+nt,Mt=xe.parts.slice(0,ce).join("."),Pt=n(lt.layout,Mt).get(),Ut=n(wt,Mt).get(),Rt=xe.get();if(void 0!==ye){$t[Ce]=ye,Tt[Ce]="reverse"===nt?ye:q(Rt);var jt=r.getLayoutValObject(wt,xe.parts);if(jt&&jt.impliedEdits&&null!==ye)for(var Yt in jt.impliedEdits)At(e.relativeAttr(Ce,Yt),jt.impliedEdits[Yt]);if(-1!==["width","height"].indexOf(Ce))if(ye){At("autosize",null);var ee="height"===Ce?"width":"height";At(ee,wt[ee])}else wt[Ce]=lt._initialAutoSize[Ce];else if("autosize"===Ce)At("width",ye?null:wt.width),At("height",ye?null:wt.height);else if(it.match(M))Te(it),n(wt,Mt+"._inputRange").set(null);else if(it.match(j)){Te(it),n(wt,Mt+"._inputRange").set(null);var ae=n(wt,Mt).get();ae._inputDomain&&(ae._input.domain=ae._inputDomain.slice())}else it.match(C)&&n(wt,Mt+"._inputDomain").set(null);if("type"===nt){qt=Pt;var he="linear"===Ut.type&&"log"===ye;if(he||"log"===Ut.type&&"linear"===ye){if(qt&&qt.range)if(Ut.autorange)he&&(qt.range=qt.range[1]>qt.range[0]?[1,2]:[2,1]);else{var re=qt.range[0],me=qt.range[1];he?(re<=0&&me<=0&&At(Mt+".autorange",!0),re<=0?re=me/1e6:me<=0&&(me=re/1e6),At(Mt+".range[0]",Math.log(re)/Math.LN10),At(Mt+".range[1]",Math.log(me)/Math.LN10)):(At(Mt+".range[0]",Math.pow(10,re)),At(Mt+".range[1]",Math.pow(10,me)))}else At(Mt+".autorange",!0);Array.isArray(wt._subplots.polar)&&wt._subplots.polar.length&&wt[xe.parts[0]]&&"radialaxis"===xe.parts[1]&&delete wt[xe.parts[0]]._subplot.viewInitial["radialaxis.range"],i.getComponentMethod("annotations","convertCoords")(lt,Ut,ye,At),i.getComponentMethod("images","convertCoords")(lt,Ut,ye,At)}else At(Mt+".autorange",!0),At(Mt+".range",null);n(wt,Mt+"._inputRange").set(null)}else if(nt.match(L)){var Oe=n(wt,Ce).get(),oe=(ye||{}).type;oe&&"-"!==oe||(oe="linear"),i.getComponentMethod("annotations","convertCoords")(lt,Oe,oe,At),i.getComponentMethod("images","convertCoords")(lt,Oe,oe,At)}var te=y.containerArrayMatch(Ce);if(te){dt=te.array;var Ae=te.property,_e=jt||{editType:"calc"};""!==(mt=te.index)&&""===Ae&&(y.isAddVal(ye)?Tt[Ce]=null:y.isRemoveVal(ye)?Tt[Ce]=(n(bt,dt).get()||[])[mt]:e.warn("unrecognized full object value",at)),k.update(de,_e),Ct[dt]||(Ct[dt]={});var ge=Ct[dt][mt];ge||(ge=Ct[dt][mt]={}),ge[Ae]=ye,delete at[Ce]}else"reverse"===nt?(Pt.range?Pt.range.reverse():(At(Mt+".autorange",!0),Pt.range=[1,0]),Ut.autorange?de.calc=!0:de.plot=!0):(wt._has("scatter-like")&&wt._has("regl")&&"dragmode"===Ce&&("lasso"===ye||"select"===ye)&&"lasso"!==Rt&&"select"!==Rt||wt._has("gl2d")?de.plot=!0:jt?k.update(de,jt):de.calc=!0,xe.set(ye))}}for(dt in Ct)y.applyContainerArrayChanges(lt,Nt(bt,dt),Ct[dt],de,Nt)||(de.plot=!0);for(var we in ue){var fe=(qt=f.getFromId(lt,we))&&qt._constraintGroup;if(fe)for(var Ne in de.calc=!0,fe)ue[Ne]||(f.getFromId(lt,Ne)._constraintShrinkable=!0)}return(K(lt)||at.height||at.width)&&(de.plot=!0),(de.plot||de.calc)&&(de.layoutReplot=!0),{flags:de,rangesAltered:ue,undoit:Tt,redoit:$t,eventData:Vt}}function K(lt){var at=lt._fullLayout,dt=at.width,mt=at.height;return lt.layout.autosize&&d.plotAutoSize(lt,lt.layout,at),at.width!==dt||at.height!==mt}function $(lt,at,dt,mt){lt=e.getGraphDiv(lt),A.clearPromiseQueue(lt),e.isPlainObject(at)||(at={}),e.isPlainObject(dt)||(dt={}),Object.keys(at).length&&(lt.changed=!0),Object.keys(dt).length&&(lt.changed=!0);var St=A.coerceTraceIndices(lt,mt),bt=E(lt,e.extendFlat({},at),St),wt=bt.flags,Ot=G(lt,e.extendFlat({},dt)),Nt=Ot.flags;(wt.calc||Nt.calc)&&(lt.calcdata=void 0),wt.clearAxisTypes&&A.clearAxisTypes(lt,St,dt);var Dt=[];Nt.layoutReplot?Dt.push(b.layoutReplot):wt.fullReplot?Dt.push(V._doPlot):(Dt.push(d.previousPromises),U(lt,Nt,Ot)||d.supplyDefaults(lt),wt.style&&Dt.push(b.doTraceStyle),(wt.colorbars||Nt.colorbars)&&Dt.push(b.doColorBars),Nt.legend&&Dt.push(b.doLegend),Nt.layoutstyle&&Dt.push(b.layoutStyles),Nt.axrange&&D(Dt,Ot.rangesAltered),Nt.ticks&&Dt.push(b.doTicksRelayout),Nt.modebar&&Dt.push(b.doModeBar),Nt.camera&&Dt.push(b.doCamera),Dt.push(S)),Dt.push(d.rehover,d.redrag),a.add(lt,$,[lt,bt.undoit,Ot.undoit,bt.traces],$,[lt,bt.redoit,Ot.redoit,bt.traces]);var zt=e.syncOrAsync(Dt,lt);return zt&&zt.then||(zt=Promise.resolve(lt)),zt.then(function(){return lt.emit("plotly_update",{data:bt.eventData,layout:Ot.eventData}),lt})}function Q(lt){return function(at){at._fullLayout._guiEditing=!0;var dt=lt.apply(null,arguments);return at._fullLayout._guiEditing=!1,dt}}var ut=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ct=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function gt(lt,at){for(var dt=0;dt<at.length;dt++){var mt=at[dt],St=lt.match(mt.pattern);if(St){var bt=St[1]||"";return{head:bt,tail:lt.substr(bt.length+1),attr:mt.attr}}}}function vt(lt,at){var dt=n(at,lt).get();if(void 0!==dt)return dt;var mt=lt.split(".");for(mt.pop();mt.length>1;)if(mt.pop(),void 0!==(dt=n(at,mt.join(".")+".uirevision").get()))return dt;return at.uirevision}function _t(lt,at){for(var dt=0;dt<at.length;dt++)if(at[dt]._fullInput.uid===lt)return dt;return-1}function kt(lt,at,dt){for(var mt=0;mt<at.length;mt++)if(at[mt].uid===lt)return mt;return!at[dt]||at[dt].uid?-1:dt}function Et(lt,at){var dt=e.isPlainObject(lt),mt=Array.isArray(lt);return dt||mt?(dt&&e.isPlainObject(at)||mt&&Array.isArray(at))&&JSON.stringify(lt)===JSON.stringify(at):lt===at}function It(lt,at,dt,mt){var St,bt,wt,Ot=mt.getValObject,Nt=mt.flags,Dt=mt.immutable,zt=mt.inArray,Vt=mt.arrayIndex;function Ct(){var Pt=St.editType;zt&&-1!==Pt.indexOf("arraydraw")?e.pushUnique(Nt.arrays[zt],Vt):(k.update(Nt,St),"none"!==Pt&&Nt.nChanges++,mt.transition&&St.anim&&Nt.nChangesAnim++,(M.test(wt)||j.test(wt))&&(Nt.rangesAltered[dt[0]]=1),C.test(wt)&&n(at,"_inputDomain").set(null),"datarevision"===bt&&(Nt.newDataRevision=1))}function Zt(Pt){return"data_array"===Pt.valType||Pt.arrayOk}for(bt in lt){if(Nt.calc&&!mt.transition)return;var Kt=lt[bt],Jt=at[bt],de=dt.concat(bt);if(wt=de.join("."),"_"!==bt.charAt(0)&&"function"!=typeof Kt&&Kt!==Jt){if(("tick0"===bt||"dtick"===bt)&&"geo"!==dt[0]){var $t=at.tickmode;if("auto"===$t||"array"===$t||!$t)continue}if(("range"!==bt||!at.autorange)&&("zmin"!==bt&&"zmax"!==bt||"contourcarpet"!==at.type)&&(St=Ot(de))&&(!St._compareAsJSON||JSON.stringify(Kt)!==JSON.stringify(Jt))){var Tt,At=St.valType,qt=Zt(St),ue=Array.isArray(Kt),Te=Array.isArray(Jt);if(ue&&Te){var Ce="_input_"+bt,xe=lt[Ce],ye=at[Ce];if(Array.isArray(xe)&&xe===ye)continue}if(void 0===Jt)qt&&ue?Nt.calc=!0:Ct();else if(St._isLinkedToArray){var ce=[],nt=!1;zt||(Nt.arrays[bt]=ce);var it=Math.min(Kt.length,Jt.length),Mt=Math.max(Kt.length,Jt.length);if(it!==Mt){if("arraydraw"!==St.editType){Ct();continue}nt=!0}for(Tt=0;Tt<it;Tt++)It(Kt[Tt],Jt[Tt],de.concat(Tt),e.extendFlat({inArray:bt,arrayIndex:Tt},mt));if(nt)for(Tt=it;Tt<Mt;Tt++)ce.push(Tt)}else!At&&e.isPlainObject(Kt)?It(Kt,Jt,de,mt):qt?ue&&Te?(Dt&&(Nt.calc=!0),(Dt||mt.newDataRevision)&&Ct()):ue!==Te?Nt.calc=!0:Ct():ue&&Te&&Kt.length===Jt.length&&String(Kt)===String(Jt)||Ct()}}}for(bt in at)if(!(bt in lt)&&"_"!==bt.charAt(0)&&"function"!=typeof at[bt]){if(Zt(St=Ot(dt.concat(bt)))&&Array.isArray(at[bt]))return void(Nt.calc=!0);Ct()}}function Lt(lt){var at=lt._fullLayout,dt=lt.getBoundingClientRect();if(!e.equalDomRects(dt,at._lastBBox)){var mt=at._invTransform=e.inverseTransformMatrix(e.getFullTransformMatrix(lt));at._invScaleX=Math.sqrt(mt[0][0]*mt[0][0]+mt[0][1]*mt[0][1]+mt[0][2]*mt[0][2]),at._invScaleY=Math.sqrt(mt[1][0]*mt[1][0]+mt[1][1]*mt[1][1]+mt[1][2]*mt[1][2]),at._lastBBox=dt}}V.animate=function(lt,at,dt){if(lt=e.getGraphDiv(lt),!e.isPlotDiv(lt))throw new Error("This element is not a Plotly plot: "+lt+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var mt=lt._transitionData;mt._frameQueue||(mt._frameQueue=[]);var St=(dt=d.supplyAnimationDefaults(dt)).transition,bt=dt.frame;function wt(Dt){return Array.isArray(St)?Dt>=St.length?St[0]:St[Dt]:St}function Ot(Dt){return Array.isArray(bt)?Dt>=bt.length?bt[0]:bt[Dt]:bt}function Nt(Dt,zt){var Vt=0;return function(){if(Dt&&++Vt===zt)return Dt()}}return void 0===mt._frameWaitingCnt&&(mt._frameWaitingCnt=0),new Promise(function(Dt,zt){var Zt,Kt,Jt=0;function de(xe){return xe.transitionOpts=Array.isArray(St)?Jt>=St.length?St[Jt]:St[0]:St,Jt++,xe}var $t=[],Tt=null==at,At=Array.isArray(at);if(Tt||At||!e.isPlainObject(at)){if(Tt||-1!==["string","number"].indexOf(typeof at))for(Zt=0;Zt<mt._frames.length;Zt++)(Kt=mt._frames[Zt])&&(Tt||String(Kt.group)===String(at))&&$t.push({type:"byname",name:String(Kt.name),data:de({name:Kt.name})});else if(At)for(Zt=0;Zt<at.length;Zt++){var qt=at[Zt];-1!==["number","string"].indexOf(typeof qt)?(qt=String(qt),$t.push({type:"byname",name:qt,data:de({name:qt})})):e.isPlainObject(qt)&&$t.push({type:"object",data:de(e.extendFlat({},qt))})}}else $t.push({type:"object",data:de(e.extendFlat({},at))});for(Zt=0;Zt<$t.length;Zt++)if("byname"===(Kt=$t[Zt]).type&&!mt._frameHash[Kt.data.name])return e.warn('animate failure: frame not found: "'+Kt.data.name+'"'),void zt();-1!==["next","immediate"].indexOf(dt.mode)&&function(){if(0!==mt._frameQueue.length){for(;mt._frameQueue.length;){var xe=mt._frameQueue.pop();xe.onInterrupt&&xe.onInterrupt()}lt.emit("plotly_animationinterrupted",[])}}(),"reverse"===dt.direction&&$t.reverse();var ue=lt._fullLayout._currentFrame;if(ue&&dt.fromcurrent){var Te=-1;for(Zt=0;Zt<$t.length;Zt++)if("byname"===(Kt=$t[Zt]).type&&Kt.name===ue){Te=Zt;break}if(Te>0&&Te<$t.length-1){var Ce=[];for(Zt=0;Zt<$t.length;Zt++)Kt=$t[Zt],("byname"!==$t[Zt].type||Zt>Te)&&Ce.push(Kt);$t=Ce}}$t.length>0?function(xe){if(0!==xe.length){for(var ye=0;ye<xe.length;ye++){var ce;ce="byname"===xe[ye].type?d.computeFrame(lt,xe[ye].name):xe[ye].data;var nt=Ot(ye),it=wt(ye);it.duration=Math.min(it.duration,nt.duration);var Mt={frame:ce,name:xe[ye].name,frameOpts:nt,transitionOpts:it};ye===xe.length-1&&(Mt.onComplete=Nt(Dt,2),Mt.onInterrupt=zt),mt._frameQueue.push(Mt)}"immediate"===dt.mode&&(mt._lastFrameAt=-1/0),mt._animationRaf||function Ct(){lt.emit("plotly_animating"),mt._lastFrameAt=-1/0,mt._timeToNext=0,mt._runningTransitions=0,mt._currentFrame=null;var xe=function(){mt._animationRaf=window.requestAnimationFrame(xe),Date.now()-mt._lastFrameAt>mt._timeToNext&&function Vt(){mt._currentFrame&&mt._currentFrame.onComplete&&mt._currentFrame.onComplete();var xe=mt._currentFrame=mt._frameQueue.shift();if(xe){var ye=xe.name?xe.name.toString():null;lt._fullLayout._currentFrame=ye,mt._lastFrameAt=Date.now(),mt._timeToNext=xe.frameOpts.duration,d.transition(lt,xe.frame.data,xe.frame.layout,A.coerceTraceIndices(lt,xe.frame.traces),xe.frameOpts,xe.transitionOpts).then(function(){xe.onComplete&&xe.onComplete()}),lt.emit("plotly_animatingframe",{name:ye,frame:xe.frame,animation:{frame:xe.frameOpts,transition:xe.transitionOpts}})}else lt.emit("plotly_animated"),window.cancelAnimationFrame(mt._animationRaf),mt._animationRaf=null}()};xe()}()}}($t):(lt.emit("plotly_animated"),Dt())})},V.addFrames=function(lt,at,dt){if(lt=e.getGraphDiv(lt),null==at)return Promise.resolve();if(!e.isPlotDiv(lt))throw new Error("This element is not a Plotly plot: "+lt+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var mt,St,bt,wt,Ot=lt._transitionData._frames,Nt=lt._transitionData._frameHash;if(!Array.isArray(at))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+at);var Dt=Ot.length+2*at.length,zt=[],Vt={};for(mt=at.length-1;mt>=0;mt--)if(e.isPlainObject(at[mt])){var Ct=at[mt].name,Zt=(Nt[Ct]||Vt[Ct]||{}).name,Kt=at[mt].name;Zt&&Kt&&"number"==typeof Kt&&(Nt[Zt]||Vt[Zt])&&g<5&&(g++,e.warn('addFrames: overwriting frame "'+(Nt[Zt]||Vt[Zt]).name+'" with a frame whose name of type "number" also equates to "'+Zt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===g&&e.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Vt[Ct]={name:Ct},zt.push({frame:d.supplyFrameDefaults(at[mt]),index:dt&&null!=dt[mt]?dt[mt]:Dt+mt})}zt.sort(function(Ce,xe){return Ce.index>xe.index?-1:Ce.index<xe.index?1:0});var de=[],$t=[],Tt=Ot.length;for(mt=zt.length-1;mt>=0;mt--){if("number"==typeof(St=zt[mt].frame).name&&e.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!St.name)for(;Nt[St.name="frame "+lt._transitionData._counter++];);if(Nt[St.name]){for(bt=0;bt<Ot.length&&(Ot[bt]||{}).name!==St.name;bt++);de.push({type:"replace",index:bt,value:St}),$t.unshift({type:"replace",index:bt,value:Ot[bt]})}else wt=Math.max(0,Math.min(zt[mt].index,Tt)),de.push({type:"insert",index:wt,value:St}),$t.unshift({type:"delete",index:wt}),Tt++}return a&&a.add(lt,d.modifyFrames,[lt,$t],d.modifyFrames,[lt,de]),d.modifyFrames(lt,de)},V.deleteFrames=function(lt,at){if(lt=e.getGraphDiv(lt),!e.isPlotDiv(lt))throw new Error("This element is not a Plotly plot: "+lt);var dt,mt,St=lt._transitionData._frames,bt=[],wt=[];if(!at)for(at=[],dt=0;dt<St.length;dt++)at.push(dt);for((at=at.slice()).sort(),dt=at.length-1;dt>=0;dt--)bt.push({type:"delete",index:mt=at[dt]}),wt.unshift({type:"insert",index:mt,value:St[mt]});return a&&a.add(lt,d.modifyFrames,[lt,wt],d.modifyFrames,[lt,bt]),d.modifyFrames(lt,bt)},V.addTraces=function lt(at,dt,mt){at=e.getGraphDiv(at);var St,bt,wt=[],Ot=V.deleteTraces,Nt=lt,Dt=[at,wt],zt=[at,dt];for(function(Vt,Ct,Zt){var Kt,Jt;if(!Array.isArray(Vt.data))throw new Error("gd.data must be an array.");if(void 0===Ct)throw new Error("traces must be defined.");for(Array.isArray(Ct)||(Ct=[Ct]),Kt=0;Kt<Ct.length;Kt++)if("object"!=typeof(Jt=Ct[Kt])||Array.isArray(Jt)||null===Jt)throw new Error("all values in traces array must be non-array objects");if(void 0===Zt||Array.isArray(Zt)||(Zt=[Zt]),void 0!==Zt&&Zt.length!==Ct.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(at,dt,mt),Array.isArray(dt)||(dt=[dt]),dt=dt.map(function(Vt){return e.extendFlat({},Vt)}),A.cleanData(dt),St=0;St<dt.length;St++)at.data.push(dt[St]);for(St=0;St<dt.length;St++)wt.push(-dt.length+St);if(void 0===mt)return bt=V.redraw(at),a.add(at,Ot,Dt,Nt,zt),bt;Array.isArray(mt)||(mt=[mt]);try{B(at,wt,mt)}catch(Vt){throw at.data.splice(at.data.length-dt.length,dt.length),Vt}return a.startSequence(at),a.add(at,Ot,Dt,Nt,zt),bt=V.moveTraces(at,wt,mt),a.stopSequence(at),bt},V.deleteTraces=function lt(at,dt){at=e.getGraphDiv(at);var mt,St,bt=[],wt=V.addTraces,Ot=lt,Nt=[at,bt,dt],Dt=[at,dt];if(void 0===dt)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(dt)||(dt=[dt]),F(at,dt,"indices"),(dt=z(dt,at.data.length-1)).sort(e.sorterDes),mt=0;mt<dt.length;mt+=1)St=at.data.splice(dt[mt],1)[0],bt.push(St);var zt=V.redraw(at);return a.add(at,wt,Nt,Ot,Dt),zt},V.extendTraces=function lt(at,dt,mt,St){function bt(Dt,zt,Vt){var Ct,Zt;if(e.isTypedArray(Dt))if(Vt<0){var Kt=new Dt.constructor(0),Jt=X(Dt,zt);Vt<0?(Ct=Jt,Zt=Kt):(Ct=Kt,Zt=Jt)}else if(Ct=new Dt.constructor(Vt),Zt=new Dt.constructor(Dt.length+zt.length-Vt),Vt===zt.length)Ct.set(zt),Zt.set(Dt);else if(Vt<zt.length){var de=zt.length-Vt;Ct.set(zt.subarray(de)),Zt.set(Dt),Zt.set(zt.subarray(0,de),Dt.length)}else{var $t=Vt-zt.length,Tt=Dt.length-$t;Ct.set(Dt.subarray(Tt)),Ct.set(zt,$t),Zt.set(Dt.subarray(0,Tt))}else Ct=Dt.concat(zt),Zt=Vt>=0&&Vt<Ct.length?Ct.splice(0,Ct.length-Vt):[];return[Ct,Zt]}var wt=H(at=e.getGraphDiv(at),dt,mt,St,bt),Ot=V.redraw(at),Nt=[at,wt.update,mt,wt.maxPoints];return a.add(at,V.prependTraces,Nt,lt,arguments),Ot},V.moveTraces=function lt(at,dt,mt){var St,bt=[],wt=[],Ot=lt,Nt=lt,Dt=[at=e.getGraphDiv(at),mt,dt],zt=[at,dt,mt];if(B(at,dt,mt),dt=Array.isArray(dt)?dt:[dt],void 0===mt)for(mt=[],St=0;St<dt.length;St++)mt.push(-dt.length+St);for(mt=Array.isArray(mt)?mt:[mt],dt=z(dt,at.data.length-1),mt=z(mt,at.data.length-1),St=0;St<at.data.length;St++)-1===dt.indexOf(St)&&bt.push(at.data[St]);for(St=0;St<dt.length;St++)wt.push({newIndex:mt[St],trace:at.data[dt[St]]});for(wt.sort(function(Ct,Zt){return Ct.newIndex-Zt.newIndex}),St=0;St<wt.length;St+=1)bt.splice(wt[St].newIndex,0,wt[St].trace);at.data=bt;var Vt=V.redraw(at);return a.add(at,Ot,Dt,Nt,zt),Vt},V.prependTraces=function lt(at,dt,mt,St){function bt(Dt,zt,Vt){var Ct,Zt;if(e.isTypedArray(Dt))if(Vt<=0){var Kt=new Dt.constructor(0),Jt=X(zt,Dt);Vt<0?(Ct=Jt,Zt=Kt):(Ct=Kt,Zt=Jt)}else if(Ct=new Dt.constructor(Vt),Zt=new Dt.constructor(Dt.length+zt.length-Vt),Vt===zt.length)Ct.set(zt),Zt.set(Dt);else if(Vt<zt.length){var de=zt.length-Vt;Ct.set(zt.subarray(0,de)),Zt.set(zt.subarray(de)),Zt.set(Dt,de)}else{var $t=Vt-zt.length;Ct.set(zt),Ct.set(Dt.subarray(0,$t),zt.length),Zt.set(Dt.subarray($t))}else Ct=zt.concat(Dt),Zt=Vt>=0&&Vt<Ct.length?Ct.splice(Vt,Ct.length):[];return[Ct,Zt]}var wt=H(at=e.getGraphDiv(at),dt,mt,St,bt),Ot=V.redraw(at),Nt=[at,wt.update,mt,wt.maxPoints];return a.add(at,V.extendTraces,Nt,lt,arguments),Ot},V.newPlot=function(lt,at,dt,mt){return lt=e.getGraphDiv(lt),d.cleanPlot([],{},lt._fullData||[],lt._fullLayout||{}),d.purge(lt),V._doPlot(lt,at,dt,mt)},V._doPlot=function(lt,at,dt,mt){var St;if(lt=e.getGraphDiv(lt),s.init(lt),e.isPlainObject(at)){var bt=at;at=bt.data,dt=bt.layout,mt=bt.config,St=bt.frames}if(!1===s.triggerHandler(lt,"plotly_beforeplot",[at,dt,mt]))return Promise.reject();at||dt||e.isPlotDiv(lt)||e.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",lt),R(lt,mt),dt||(dt={}),t.select(lt).classed("js-plotly-plot",!0),h.makeTester(),Array.isArray(lt._promises)||(lt._promises=[]);var wt=0===(lt.data||[]).length&&Array.isArray(at);Array.isArray(at)&&(A.cleanData(at),wt?lt.data=at:lt.data.push.apply(lt.data,at),lt.empty=!1),lt.layout&&!wt||(lt.layout=A.cleanLayout(dt)),d.supplyDefaults(lt);var Ot=lt._fullLayout,Nt=Ot._has("cartesian");Ot._replotting=!0,(wt||Ot._shouldCreateBgLayer)&&(function($t){var Tt=t.select($t),At=$t._fullLayout;if(At._calcInverseTransform=Lt,At._calcInverseTransform($t),At._container=Tt.selectAll(".plot-container").data([0]),At._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),At._paperdiv=At._container.selectAll(".svg-container").data([0]),At._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),At._glcontainer=At._paperdiv.selectAll(".gl-container").data([{}]),At._glcontainer.enter().append("div").classed("gl-container",!0),At._paperdiv.selectAll(".main-svg").remove(),At._paperdiv.select(".modebar-container").remove(),At._paper=At._paperdiv.insert("svg",":first-child").classed("main-svg",!0),At._toppaper=At._paperdiv.append("svg").classed("main-svg",!0),At._modebardiv=At._paperdiv.append("div"),delete At._modeBar,At._hoverpaper=At._paperdiv.append("svg").classed("main-svg",!0),!At._uid){var qt={};t.selectAll("defs").each(function(){this.id&&(qt[this.id.split("-")[1]]=1)}),At._uid=e.randstr(qt)}At._paperdiv.selectAll(".main-svg").attr(w.svgAttrs),At._defs=At._paper.append("defs").attr("id","defs-"+At._uid),At._clips=At._defs.append("g").classed("clips",!0),At._topdefs=At._toppaper.append("defs").attr("id","topdefs-"+At._uid),At._topclips=At._topdefs.append("g").classed("clips",!0),At._bgLayer=At._paper.append("g").classed("bglayer",!0),At._draggers=At._paper.append("g").classed("draglayer",!0);var ue=At._paper.append("g").classed("layer-below",!0);At._imageLowerLayer=ue.append("g").classed("imagelayer",!0),At._shapeLowerLayer=ue.append("g").classed("shapelayer",!0),At._cartesianlayer=At._paper.append("g").classed("cartesianlayer",!0),At._polarlayer=At._paper.append("g").classed("polarlayer",!0),At._smithlayer=At._paper.append("g").classed("smithlayer",!0),At._ternarylayer=At._paper.append("g").classed("ternarylayer",!0),At._geolayer=At._paper.append("g").classed("geolayer",!0),At._funnelarealayer=At._paper.append("g").classed("funnelarealayer",!0),At._pielayer=At._paper.append("g").classed("pielayer",!0),At._iciclelayer=At._paper.append("g").classed("iciclelayer",!0),At._treemaplayer=At._paper.append("g").classed("treemaplayer",!0),At._sunburstlayer=At._paper.append("g").classed("sunburstlayer",!0),At._indicatorlayer=At._toppaper.append("g").classed("indicatorlayer",!0),At._glimages=At._paper.append("g").classed("glimages",!0);var Te=At._toppaper.append("g").classed("layer-above",!0);At._imageUpperLayer=Te.append("g").classed("imagelayer",!0),At._shapeUpperLayer=Te.append("g").classed("shapelayer",!0),At._infolayer=At._toppaper.append("g").classed("infolayer",!0),At._menulayer=At._toppaper.append("g").classed("menulayer",!0),At._zoomlayer=At._toppaper.append("g").classed("zoomlayer",!0),At._hoverlayer=At._hoverpaper.append("g").classed("hoverlayer",!0),At._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),$t.emit("plotly_framework")}(lt),Ot._shouldCreateBgLayer&&delete Ot._shouldCreateBgLayer),h.initGradients(lt),h.initPatterns(lt),wt&&f.saveShowSpikeInitial(lt);var Dt=!lt.calcdata||lt.calcdata.length!==(lt._fullData||[]).length;Dt&&d.doCalcdata(lt);for(var zt=0;zt<lt.calcdata.length;zt++)lt.calcdata[zt][0].trace=lt._fullData[zt];lt._context.responsive?lt._responsiveChartHandler||(lt._responsiveChartHandler=function(){e.isHidden(lt)||d.resize(lt)},window.addEventListener("resize",lt._responsiveChartHandler)):e.clearResponsive(lt);var Vt=e.extendFlat({},Ot._size),Ct=0;function Zt(){if(d.clearAutoMarginIds(lt),b.drawMarginPushers(lt),f.allowAutoMargin(lt),Ot._has("pie"))for(var $t=lt._fullData,Tt=0;Tt<$t.length;Tt++){var At=$t[Tt];"pie"===At.type&&At.automargin&&d.allowAutoMargin(lt,"pie."+At.uid+".automargin")}return d.doAutoMargin(lt),d.previousPromises(lt)}function Kt(){lt._transitioning||(b.doAutoRangeAndConstraints(lt),wt&&f.saveRangeInitial(lt),i.getComponentMethod("rangeslider","calcAutorange")(lt))}var Jt=[d.previousPromises,function(){if(St)return V.addFrames(lt,St)},function $t(){for(var Tt=Ot._basePlotModules,At=0;At<Tt.length;At++)Tt[At].drawFramework&&Tt[At].drawFramework(lt);!Ot._glcanvas&&Ot._has("gl")&&(Ot._glcanvas=Ot._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Ce){return Ce.key}),Ot._glcanvas.enter().append("canvas").attr("class",function(Ce){return"gl-canvas gl-canvas-"+Ce.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var qt=lt._context.plotGlPixelRatio;if(Ot._glcanvas){Ot._glcanvas.attr("width",Ot.width*qt).attr("height",Ot.height*qt).style("width",Ot.width+"px").style("height",Ot.height+"px");var ue=Ot._glcanvas.data()[0].regl;if(ue&&(Math.floor(Ot.width*qt)!==ue._gl.drawingBufferWidth||Math.floor(Ot.height*qt)!==ue._gl.drawingBufferHeight)){var Te="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Ct)return e.log(Te+" Clearing graph and plotting again."),d.cleanPlot([],{},lt._fullData,Ot),d.supplyDefaults(lt),Ot=lt._fullLayout,d.doCalcdata(lt),Ct++,$t();e.error(Te)}}return"h"===Ot.modebar.orientation?Ot._modebardiv.style("height",null).style("width","100%"):Ot._modebardiv.style("width",null).style("height",Ot.height+"px"),d.previousPromises(lt)},Zt,function(){if(d.didMarginChange(Vt,Ot._size))return e.syncOrAsync([Zt,b.layoutStyles],lt)}];Nt&&Jt.push(function(){if(Dt)return e.syncOrAsync([i.getComponentMethod("shapes","calcAutorange"),i.getComponentMethod("annotations","calcAutorange"),Kt],lt);Kt()}),Jt.push(b.layoutStyles),Nt&&Jt.push(function(){return f.draw(lt,wt?"":"redraw")},function($t){$t._fullLayout._insideTickLabelsAutorange&&Z($t,$t._fullLayout._insideTickLabelsAutorange).then(function(){$t._fullLayout._insideTickLabelsAutorange=void 0})}),Jt.push(b.drawData,b.finalDraw,T,d.addLinks,d.rehover,d.redrag,d.doAutoMargin,function($t){$t._fullLayout._insideTickLabelsAutorange&&wt&&f.saveRangeInitial($t,!0)},d.previousPromises);var de=e.syncOrAsync(Jt,lt);return de&&de.then||(de=Promise.resolve()),de.then(function(){return S(lt),lt})},V.purge=function(lt){var at=(lt=e.getGraphDiv(lt))._fullLayout||{};return d.cleanPlot([],{},lt._fullData||[],at),d.purge(lt),s.purge(lt),at._container&&at._container.remove(),delete lt._context,lt},V.react=function(lt,at,dt,mt){var St,bt;lt=e.getGraphDiv(lt),A.clearPromiseQueue(lt);var Mt,Pt,Ut,Rt,jt,Yt,wt=lt._fullData,Ot=lt._fullLayout;if(e.isPlotDiv(lt)&&wt&&Ot){if(e.isPlainObject(at)){var Nt=at;at=Nt.data,dt=Nt.layout,mt=Nt.config,St=Nt.frames}var Dt=!1;if(mt){var zt=e.extendDeep({},lt._context);lt._context=void 0,R(lt,mt),Dt=function Mt(Pt,Ut){var Rt;for(Rt in Pt)if("_"!==Rt.charAt(0)){var jt=Pt[Rt],Yt=Ut[Rt];if(jt!==Yt)if(e.isPlainObject(jt)&&e.isPlainObject(Yt)){if(Mt(jt,Yt))return!0}else{if(!Array.isArray(jt)||!Array.isArray(Yt)||jt.length!==Yt.length)return!0;for(var ee=0;ee<jt.length;ee++)if(jt[ee]!==Yt[ee]&&(!e.isPlainObject(jt[ee])||!e.isPlainObject(Yt[ee])||Mt(jt[ee],Yt[ee])))return!0}}}(zt,lt._context)}lt.data=at||[],A.cleanData(lt.data),lt.layout=dt||{},A.cleanLayout(lt.layout),function(Mt,Pt,Ut,Rt){var jt,Yt,ee,ae,he,Me,re,me,Oe,oe,te=Rt._preGUI,Ae=[],_e={},ge={};for(jt in te){if(he=gt(jt,ut)){if(Oe=he.head,oe=he.tail,(ae=(ee=n(Rt,Yt=he.attr||Oe+".uirevision").get())&&vt(Yt,Pt))&&ae===ee){if(null===(Me=te[jt])&&(Me=void 0),Et(me=(re=n(Pt,jt)).get(),Me)){void 0===me&&"autorange"===oe&&Ae.push(Oe),re.set(q(n(Rt,jt).get()));continue}if("autorange"===oe||"range["===oe.substr(0,6)){var Ne=te[Oe+".autorange"];if(Ne||null===Ne&&null===te[Oe+".range[0]"]&&null===te[Oe+".range[1]"]){if(!(Oe in _e)){var Pe=n(Pt,Oe).get();_e[Oe]=Pe&&(Pe.autorange||!1!==Pe.autorange&&(!Pe.range||2!==Pe.range.length))}if(_e[Oe]){re.set(q(n(Rt,jt).get()));continue}}}}}else e.warn("unrecognized GUI edit: "+jt);delete te[jt],he&&"range["===he.tail.substr(0,6)&&(ge[he.head]=1)}for(var ze=0;ze<Ae.length;ze++){var Ue=Ae[ze];if(ge[Ue]){var Je=n(Pt,Ue).get();Je&&delete Je.autorange}}var He=Rt._tracePreGUI;for(var be in He){var ve,ke=He[be],Fe=null;for(jt in ke){if(!Fe){var De=_t(be,Ut);if(De<0){delete He[be];break}var Ve=kt(be,Mt,(ve=Ut[De]._fullInput).index);if(Ve<0){delete He[be];break}Fe=Mt[Ve]}if(he=gt(jt,ct)){if(he.attr?ae=(ee=n(Rt,he.attr).get())&&vt(he.attr,Pt):(ee=ve.uirevision,void 0===(ae=Fe.uirevision)&&(ae=Pt.uirevision)),ae&&ae===ee&&(null===(Me=ke[jt])&&(Me=void 0),Et(me=(re=n(Fe,jt)).get(),Me))){re.set(q(n(ve,jt).get()));continue}}else e.warn("unrecognized GUI edit: "+jt+" in trace uid "+be);delete ke[jt]}}}(lt.data,lt.layout,wt,Ot),d.supplyDefaults(lt,{skipUpdateCalc:!0});var Vt=lt._fullData,Ct=lt._fullLayout,Zt=void 0===Ct.datarevision,Kt=Ct.transition,Jt=(Mt=lt,Pt=Ot,Ut=Ct,Rt=Zt,jt=Kt,(Yt=k.layoutFlags()).arrays={},Yt.rangesAltered={},Yt.nChanges=0,Yt.nChangesAnim=0,It(Pt,Ut,[],{getValObject:function ee(ae){return r.getLayoutValObject(Ut,ae)},flags:Yt,immutable:Rt,transition:jt,gd:Mt}),(Yt.plot||Yt.calc)&&(Yt.layoutReplot=!0),jt&&Yt.nChanges&&Yt.nChangesAnim&&(Yt.anim=Yt.nChanges===Yt.nChangesAnim?"all":"some"),Yt),$t=function(Mt,Pt,Ut,Rt,jt,Yt){var ee=Pt.length===Ut.length;if(!jt&&!ee)return{fullReplot:!0,calc:!0};var ae,he,Me=k.traceFlags();Me.arrays={},Me.nChanges=0,Me.nChangesAnim=0;var re={getValObject:function(Oe){var oe=r.getTraceValObject(he,Oe);return!he._module.animatable&&oe.anim&&(oe.anim=!1),oe},flags:Me,immutable:Rt,transition:jt,newDataRevision:Yt,gd:Mt},me={};for(ae=0;ae<Pt.length;ae++)if(Ut[ae]){if(d.hasMakesDataTransform(he=Ut[ae]._fullInput)&&(he=Ut[ae]),me[he.uid])continue;me[he.uid]=1,It(Pt[ae]._fullInput,he,[],re)}return(Me.calc||Me.plot)&&(Me.fullReplot=!0),jt&&Me.nChanges&&Me.nChangesAnim&&(Me.anim=Me.nChanges===Me.nChangesAnim&&ee?"all":"some"),Me}(lt,wt,Vt,Zt,Kt,Jt.newDataRevision);if(K(lt)&&(Jt.layoutReplot=!0),$t.calc||Jt.calc){lt.calcdata=void 0;for(var Tt=Object.getOwnPropertyNames(Ct),At=0;At<Tt.length;At++){var qt=Tt[At],ue=qt.substring(0,5);if("xaxis"===ue||"yaxis"===ue){var Te=Ct[qt]._emptyCategories;Te&&Te()}}}else d.supplyDefaultsUpdateCalc(lt.calcdata,Vt);var Ce=[];if(St&&(lt._transitionData={},d.createTransitionData(lt),Ce.push(function(){return V.addFrames(lt,St)})),Ct.transition&&!Dt&&($t.anim||Jt.anim))Jt.ticks&&Ce.push(b.doTicksRelayout),d.doCalcdata(lt),b.doAutoRangeAndConstraints(lt),Ce.push(function(){return d.transitionFromReact(lt,$t,Jt,Ot)});else if($t.fullReplot||Jt.layoutReplot||Dt)lt._fullLayout._skipDefaults=!0,Ce.push(V._doPlot);else{for(var xe in Jt.arrays){var ye=Jt.arrays[xe];if(ye.length){var ce=i.getComponentMethod(xe,"drawOne");if(ce!==e.noop)for(var nt=0;nt<ye.length;nt++)ce(lt,ye[nt]);else{var it=i.getComponentMethod(xe,"draw");if(it===e.noop)throw new Error("cannot draw components: "+xe);it(lt)}}}Ce.push(d.previousPromises),$t.style&&Ce.push(b.doTraceStyle),($t.colorbars||Jt.colorbars)&&Ce.push(b.doColorBars),Jt.legend&&Ce.push(b.doLegend),Jt.layoutstyle&&Ce.push(b.layoutStyles),Jt.axrange&&D(Ce),Jt.ticks&&Ce.push(b.doTicksRelayout),Jt.modebar&&Ce.push(b.doModeBar),Jt.camera&&Ce.push(b.doCamera),Ce.push(S)}Ce.push(d.rehover,d.redrag),(bt=e.syncOrAsync(Ce,lt))&&bt.then||(bt=Promise.resolve(lt))}else bt=V.newPlot(lt,at,dt,mt);return bt.then(function(){return lt.emit("plotly_react",{data:at,layout:dt}),lt})},V.redraw=function(lt){if(lt=e.getGraphDiv(lt),!e.isPlotDiv(lt))throw new Error("This element is not a Plotly plot: "+lt);return A.cleanData(lt.data),A.cleanLayout(lt.layout),lt.calcdata=void 0,V._doPlot(lt).then(function(){return lt.emit("plotly_redraw"),lt})},V.relayout=Z,V.restyle=ot,V.setPlotConfig=function(lt){return e.extendFlat(m,lt)},V.update=$,V._guiRelayout=Q(Z),V._guiRestyle=Q(ot),V._guiUpdate=Q($),V._storeDirectGUIEdit=function(lt,at,dt){for(var mt in dt)J(mt,n(lt,mt).get(),dt[mt],at)}},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"../lib/events":225,"../lib/queue":247,"../plots/cartesian/axes":279,"../plots/cartesian/constants":286,"../plots/cartesian/graph_interact":289,"../plots/cartesian/select":300,"../plots/plots":316,"../registry":318,"./edit_types":261,"./helpers":262,"./manage_arrays":264,"./plot_config":266,"./plot_schema":267,"./subroutines":269,"@plotly/d3":11,"fast-isnumeric":17,"has-hover":48}],266:[function(c,tt,V){"use strict";var t={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},l={};(function o(e,n){for(var s in e){var a=e[s];a.valType?n[s]=a.dflt:(n[s]||(n[s]={}),o(a,n[s]))}})(t,l),tt.exports={configAttributes:t,dfltConfig:l}},{}],267:[function(c,tt,V){"use strict";var t=c("../registry"),l=c("../lib"),o=c("../plots/attributes"),e=c("../plots/layout_attributes"),n=c("../plots/frame_attributes"),s=c("../plots/animation_attributes"),a=c("./plot_config").configAttributes,i=c("./edit_types"),r=l.extendDeepAll,d=l.isPlainObject,f=l.isArrayOrTypedArray,h=l.nestedProperty,p=l.valObjectMeta,T=["_isSubplotObj","_isLinkedToArray","_arrayAttrRegexps","_deprecated"];function w(L,g,S){if(!L)return!1;if(L._isLinkedToArray)if(x(g[S]))S++;else if(S<g.length)return!1;for(;S<g.length;S++){var I=L[g[S]];if(!d(I)||(L=I,S===g.length-1))break;if(L._isLinkedToArray){if(!x(g[++S]))return!1}else if("info_array"===L.valType){var v=g[++S];if(!x(v))return!1;var R=L.items;if(Array.isArray(R)){if(v>=R.length)return!1;if(2===L.dimensions){if(S++,g.length===S)return L;var z=g[S];if(!x(z))return!1;L=R[v][z]}else L=R[v]}else L=R}}return L}function x(L){return L===Math.round(L)&&L>=0}function m(){var L,g,S={};for(L in r(S,e),t.subplotsRegistry)if((g=t.subplotsRegistry[L]).layoutAttributes)if(Array.isArray(g.attr))for(var I=0;I<g.attr.length;I++)b(S,g,g.attr[I]);else b(S,g,"subplot"===g.attr?g.name:g.attr);for(L in t.componentsRegistry){var v=(g=t.componentsRegistry[L]).schema;if(v&&(v.subplots||v.layout)){var R=v.subplots;if(R&&R.xaxis&&!R.yaxis)for(var z in R.xaxis)delete S.yaxis[z]}else"colorscale"===g.name?r(S,g.layoutAttributes):g.layoutAttributes&&k(S,g.layoutAttributes,g.name)}return{layoutAttributes:A(S)}}function y(){var L={frames:r({},n)};return A(L),L.frames}function A(L){return V.crawl(L,function(S,I,v){V.isValObject(S)?!0!==S.arrayOk&&"data_array"!==S.valType||(v[I+"src"]={valType:"string",editType:"none"}):d(S)&&(S.role="object")}),V.crawl(L,function(S,I,v){if(S){var R=S._isLinkedToArray;R&&(delete S._isLinkedToArray,v[I]={items:{}},v[I].items[R]=S,v[I].role="object")}}),function(g){!function S(I){for(var v in I)if(d(I[v]))S(I[v]);else if(Array.isArray(I[v]))for(var R=0;R<I[v].length;R++)S(I[v][R]);else I[v]instanceof RegExp&&(I[v]=I[v].toString())}(g)}(L),L}function b(L,g,S){var I=h(L,S),v=r({},g.layoutAttributes);v._isSubplotObj=!0,I.set(v)}function k(L,g,S){var I=h(L,S);I.set(r(I.get()||{},g))}V.IS_SUBPLOT_OBJ="_isSubplotObj",V.IS_LINKED_TO_ARRAY="_isLinkedToArray",V.DEPRECATED="_deprecated",V.UNDERSCORE_ATTRS=T,V.get=function(){var L={};t.allTypes.forEach(function(S){L[S]=function(I){var v,R;R=(v=t.modules[I]._module).basePlotModule;var z={type:null},F=r({},o),B=r({},v.attributes);V.crawl(B,function(ot,q,P,J,E){h(F,E).set(void 0),void 0===ot&&h(B,E).set(void 0)}),r(z,F),t.traceIs(I,"noOpacity")&&delete z.opacity,t.traceIs(I,"showLegend")||(delete z.showlegend,delete z.legendgroup),t.traceIs(I,"noHover")&&(delete z.hoverinfo,delete z.hoverlabel),v.selectPoints||delete z.selectedpoints,r(z,B),R.attributes&&r(z,R.attributes),z.type=I;var H={meta:v.meta||{},categories:v.categories||{},animatable:Boolean(v.animatable),type:I,attributes:A(z)};if(v.layoutAttributes){var X={};r(X,v.layoutAttributes),H.layoutAttributes=A(X)}return v.animatable||V.crawl(H,function(ot){V.isValObject(ot)&&"anim"in ot&&delete ot.anim}),H}(S)});var g={};return Object.keys(t.transformsRegistry).forEach(function(S){var I,R;g[S]=(R=r({},t.transformsRegistry[I=S].attributes),Object.keys(t.componentsRegistry).forEach(function(z){var F=t.componentsRegistry[z];F.schema&&F.schema.transforms&&F.schema.transforms[I]&&Object.keys(F.schema.transforms[I]).forEach(function(B){k(R,F.schema.transforms[I][B],B)})}),{attributes:A(R)})}),{defs:{valObjects:p,metaKeys:T.concat(["description","role","editType","impliedEdits"]),editType:{traces:i.traces,layout:i.layout},impliedEdits:{}},traces:L,layout:m(),transforms:g,frames:y(),animation:A(s),config:A(a)}},V.crawl=function(L,g,S,I){var v=S||0;I=I||"",Object.keys(L).forEach(function(R){var z=L[R];if(-1===T.indexOf(R)){var F=(I?I+".":"")+R;g(z,R,L,v,F),V.isValObject(z)||d(z)&&"impliedEdits"!==R&&V.crawl(z,g,v+1,F)}})},V.isValObject=function(L){return L&&void 0!==L.valType},V.findArrayAttributes=function(L){var g,S,I=[],v=[],R=[];function z(ot,q,P,J){v=v.slice(0,J).concat([q]),R=R.slice(0,J).concat([ot&&ot._isLinkedToArray]),ot&&("data_array"===ot.valType||!0===ot.arrayOk)&&("colorbar"!==v[J-1]||"ticktext"!==q&&"tickvals"!==q)&&function E(N,Z,U){var D=N[v[Z]],M=U+v[Z];if(Z===v.length-1)f(D)&&I.push(S+M);else if(R[Z]){if(Array.isArray(D))for(var j=0;j<D.length;j++)d(D[j])&&E(D[j],Z+1,M+"["+j+"].")}else d(D)&&E(D,Z+1,M+".")}(g,0,"")}g=L,S="",V.crawl(o,z),L._module&&L._module.attributes&&V.crawl(L._module.attributes,z);var F=L.transforms;if(F)for(var B=0;B<F.length;B++){var H=F[B],X=H._module;X&&(S="transforms["+B+"].",g=H,V.crawl(X.attributes,z))}return I},V.getTraceValObject=function(L,g){var S,I,v=g[0],R=1;if("transforms"===v){if(1===g.length)return o.transforms;var z=L.transforms;if(!Array.isArray(z)||!z.length)return!1;var F=g[1];if(!x(F)||F>=z.length)return!1;I=(S=(t.transformsRegistry[z[F].type]||{}).attributes)&&S[g[2]],R=3}else{var B=L._module;if(B||(B=(t.modules[L.type||o.type.dflt]||{})._module),!B)return!1;if(!(I=(S=B.attributes)&&S[v])){var H=B.basePlotModule;H&&H.attributes&&(I=H.attributes[v])}I||(I=o[v])}return w(I,g,R)},V.getLayoutValObject=function(L,g){return w(function(S,I){var v,R,z,F,B=S._basePlotModules;if(B){var H;for(v=0;v<B.length;v++){if((z=B[v]).attrRegex&&z.attrRegex.test(I)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!H&&z.layoutAttributes&&(H=z.layoutAttributes)}var X=z.baseLayoutAttrOverrides;if(X&&I in X)return X[I]}if(H)return H}var ot=S._modules;if(ot)for(v=0;v<ot.length;v++)if((F=ot[v].layoutAttributes)&&I in F)return F[I];for(R in t.componentsRegistry){if("colorscale"===(z=t.componentsRegistry[R]).name&&0===I.indexOf("coloraxis"))return z.layoutAttributes[I];if(!z.schema&&I===z.name)return z.layoutAttributes}return I in e&&e[I]}(L,g[0]),g,1)}},{"../lib":232,"../plots/animation_attributes":273,"../plots/attributes":275,"../plots/frame_attributes":311,"../plots/layout_attributes":314,"../registry":318,"./edit_types":261,"./plot_config":266}],268:[function(c,tt,V){"use strict";var t=c("../lib"),l=c("../plots/attributes"),o={name:{valType:"string",editType:"none"}};function e(s){return s&&"string"==typeof s}function n(s){return"s"!==s.charAt(s.length-1)&&t.warn("bad argument to arrayDefaultKey: "+s),s.substr(0,s.length-1)+"defaults"}o.templateitemname={valType:"string",editType:"calc"},V.templatedArray=function(s,a){return a._isLinkedToArray=s,a.name=o.name,a.templateitemname=o.templateitemname,a},V.traceTemplater=function(s){var a,i,r={};for(a in s)i=s[a],Array.isArray(i)&&i.length&&(r[a]=0);return{newTrace:function(d){var f={type:a=t.coerce(d,{},l,"type"),_template:null};if(a in r){var h=r[a]%(i=s[a]).length;r[a]++,f._template=i[h]}return f}}},V.newContainer=function(s,a,i){var r=s._template,d=r&&(r[a]||i&&r[i]);return t.isPlainObject(d)||(d=null),s[a]={_template:d}},V.arrayTemplater=function(s,a,i){var r=s._template,d=r&&r[n(a)],f=r&&r[a];Array.isArray(f)&&f.length||(f=[]);var h={};return{newItem:function(p){var T={name:p.name,_input:p},w=T.templateitemname=p.templateitemname;if(!e(w))return T._template=d,T;for(var x=0;x<f.length;x++){var m=f[x];if(m.name===w)return h[w]=1,T._template=m,T}return T[i]=p[i]||!1,T._template=!1,T},defaultItems:function(){for(var p=[],T=0;T<f.length;T++){var w=f[T],x=w.name;if(e(x)&&!h[x]){var m={_template:w,name:x,_input:{_templateitemname:x}};m.templateitemname=w.templateitemname,p.push(m),h[x]=1}}return p}}},V.arrayDefaultKey=n,V.arrayEditor=function(s,a,i){var r=(t.nestedProperty(s,a).get()||[]).length,d=i._index,f=d>=r&&(i._input||{})._templateitemname;f&&(d=r);var h,p=a+"["+d+"]";function T(){h={},f&&(h[p]={},h[p].templateitemname=f)}function w(m,y){f?t.nestedProperty(h[p],m).set(y):h[p+"."+m]=y}function x(){var m=h;return T(),m}return T(),{modifyBase:function(m,y){h[m]=y},modifyItem:w,getUpdateObj:x,applyUpdate:function(m,y){m&&w(m,y);var A=x();for(var b in A)t.nestedProperty(s,b).set(A[b])}}}},{"../lib":232,"../plots/attributes":275}],269:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../registry"),o=c("../plots/plots"),e=c("../lib"),n=c("../lib/clear_gl_canvases"),s=c("../components/color"),a=c("../components/drawing"),i=c("../components/titles"),r=c("../components/modebar"),d=c("../plots/cartesian/axes"),f=c("../constants/alignment"),h=c("../plots/cartesian/constraints"),p=h.enforce,T=h.clean,w=c("../plots/cartesian/autorange").doAutoRange;function x(g,S,I){for(var v=0;v<I.length;v++){var R=I[v][0],z=I[v][1];if(!(R[0]>=g[1]||R[1]<=g[0])&&z[0]<S[1]&&z[1]>S[0])return!0}return!1}function m(g){var S,I,v,R,z,F,B=g._fullLayout,H=B._size,X=H.p,ot=d.list(g,"",!0);if(B._paperdiv.style({width:g._context.responsive&&B.autosize&&!g._context._hasZeroWidth&&!g.layout.width?"100%":B.width+"px",height:g._context.responsive&&B.autosize&&!g._context._hasZeroHeight&&!g.layout.height?"100%":B.height+"px"}).selectAll(".main-svg").call(a.setSize,B.width,B.height),g._context.setBackground(g,B.paper_bgcolor),V.drawMainTitle(g),r.manage(g),!B._has("cartesian"))return o.previousPromises(g);function q(Ct,Zt,Kt){var Jt=Ct._lw/2;return"x"===Ct._id.charAt(0)?Zt?"top"===Kt?Zt._offset-X-Jt:Zt._offset+Zt._length+X+Jt:H.t+H.h*(1-(Ct.position||0))+Jt%1:Zt?"right"===Kt?Zt._offset+Zt._length+X+Jt:Zt._offset-X-Jt:H.l+H.w*(Ct.position||0)+Jt%1}for(S=0;S<ot.length;S++){var P=(R=ot[S])._anchorAxis;R._linepositions={},R._lw=a.crispRound(g,R.linewidth,1),R._mainLinePosition=q(R,P,R.side),R._mainMirrorPosition=R.mirror&&P?q(R,P,f.OPPOSITE_SIDE[R.side]):null}var J=[],E=[],N=[],Z=1===s.opacity(B.paper_bgcolor)&&1===s.opacity(B.plot_bgcolor)&&B.paper_bgcolor===B.plot_bgcolor;for(I in B._plots)if((v=B._plots[I]).mainplot)v.bg&&v.bg.remove(),v.bg=void 0;else{var U=v.xaxis.domain,D=v.yaxis.domain,M=v.plotgroup;if(x(U,D,N)){var j=M.node(),C=v.bg=e.ensureSingle(M,"rect","bg");j.insertBefore(C.node(),j.childNodes[0]),E.push(I)}else M.select("rect.bg").remove(),N.push([U,D]),Z||(J.push(I),E.push(I))}var G,K,$,Q,ut,ct,gt,vt,_t,kt,Et,It,Lt,lt=B._bgLayer.selectAll(".bg").data(J);for(lt.enter().append("rect").classed("bg",!0),lt.exit().remove(),lt.each(function(Ct){B._plots[Ct].bg=t.select(this)}),S=0;S<E.length;S++)z=(v=B._plots[E[S]]).xaxis,F=v.yaxis,v.bg&&void 0!==z._offset&&void 0!==F._offset&&v.bg.call(a.setRect,z._offset-X,F._offset-X,z._length+2*X,F._length+2*X).call(s.fill,B.plot_bgcolor).style("stroke-width",0);if(!B._hasOnlyLargeSploms)for(I in B._plots){z=(v=B._plots[I]).xaxis,F=v.yaxis;var at,dt,mt=v.clipId="clip"+B._uid+I+"plot",St=e.ensureSingleById(B._clips,"clipPath",mt,function(Ct){Ct.classed("plotclip",!0).append("rect")});v.clipRect=St.select("rect").attr({width:z._length,height:F._length}),a.setTranslate(v.plot,z._offset,F._offset),v._hasClipOnAxisFalse?(at=null,dt=mt):(at=mt,dt=null),a.setClipUrl(v.plot,at,g),v.layerClipId=dt}function bt(Ct){return"M"+G+","+Ct+"H"+K}function wt(Ct){return"M"+z._offset+","+Ct+"h"+z._length}function Ot(Ct){return"M"+Ct+","+vt+"V"+gt}function Nt(Ct){return"M"+Ct+","+F._offset+"v"+F._length}function Dt(Ct,Zt,Kt){if(!Ct.showline||I!==Ct._mainSubplot)return"";if(!Ct._anchorAxis)return Kt(Ct._mainLinePosition);var Jt=Zt(Ct._mainLinePosition);return Ct.mirror&&(Jt+=Zt(Ct._mainMirrorPosition)),Jt}for(I in B._plots){F=(v=B._plots[I]).yaxis;var zt="M0,0";y(z=v.xaxis,I)&&(ut=b(z,"left",F,ot),G=z._offset-(ut?X+ut:0),ct=b(z,"right",F,ot),K=z._offset+z._length+(ct?X+ct:0),$=q(z,F,"bottom"),Q=q(z,F,"top"),!(Lt=!z._anchorAxis||I!==z._mainSubplot)||"allticks"!==z.mirror&&"all"!==z.mirror||(z._linepositions[I]=[$,Q]),zt=Dt(z,bt,wt),Lt&&z.showline&&("all"===z.mirror||"allticks"===z.mirror)&&(zt+=bt($)+bt(Q)),v.xlines.style("stroke-width",z._lw+"px").call(s.stroke,z.showline?z.linecolor:"rgba(0,0,0,0)")),v.xlines.attr("d",zt);var Vt="M0,0";y(F,I)&&(Et=b(F,"bottom",z,ot),gt=F._offset+F._length+(Et?X:0),It=b(F,"top",z,ot),vt=F._offset-(It?X:0),_t=q(F,z,"left"),kt=q(F,z,"right"),!(Lt=!F._anchorAxis||I!==F._mainSubplot)||"allticks"!==F.mirror&&"all"!==F.mirror||(F._linepositions[I]=[_t,kt]),Vt=Dt(F,Ot,Nt),Lt&&F.showline&&("all"===F.mirror||"allticks"===F.mirror)&&(Vt+=Ot(_t)+Ot(kt)),v.ylines.style("stroke-width",F._lw+"px").call(s.stroke,F.showline?F.linecolor:"rgba(0,0,0,0)")),v.ylines.attr("d",Vt)}return d.makeClipPaths(g),o.previousPromises(g)}function y(g,S){return(g.ticks||g.showline)&&(S===g._mainSubplot||"all"===g.mirror||"allticks"===g.mirror)}function A(g,S,I){if(!I.showline||!I._lw)return!1;if("all"===I.mirror||"allticks"===I.mirror)return!0;var v=I._anchorAxis;if(!v)return!1;var R=f.FROM_BL[S];return I.side===S?v.domain[R]===g.domain[R]:I.mirror&&v.domain[1-R]===g.domain[1-R]}function b(g,S,I,v){if(A(g,S,I))return I._lw;for(var R=0;R<v.length;R++){var z=v[R];if(z._mainAxis===I._mainAxis&&A(g,S,z))return z._lw}return 0}function k(g,S){var I=g.title,v=g._size,R=0;return"paper"===("start"===S?R=I.pad.l:"end"===S&&(R=-I.pad.r),I.xref)?v.l+v.w*I.x+R:g.width*I.x+R}function L(g,S){var I=g.title,v=g._size,R=0;return"0em"!==S&&S?S===f.CAP_SHIFT+"em"&&(R=I.pad.t):R=-I.pad.b,"auto"===I.y?v.t/2:"paper"===I.yref?v.t+v.h-v.h*I.y+R:g.height-g.height*I.y+R}V.layoutStyles=function(g){return e.syncOrAsync([o.doAutoMargin,m],g)},V.drawMainTitle=function(g){var z,F,S=g._fullLayout,I=(F="middle",e.isRightAnchor(z=S.title)?F="end":e.isLeftAnchor(z)&&(F="start"),F),v=function(R){var z=R.title,F="0em";return e.isTopAnchor(z)?F=f.CAP_SHIFT+"em":e.isMiddleAnchor(z)&&(F=f.MID_SHIFT+"em"),F}(S);i.draw(g,"gtitle",{propContainer:S,propName:"title.text",placeholder:S._dfltTitle.plot,attributes:{x:k(S,I),y:L(S,v),"text-anchor":I,dy:v}})},V.doTraceStyle=function(g){var S,I=g.calcdata,v=[];for(S=0;S<I.length;S++){var R=I[S],z=R[0]||{},F=z.trace||{},B=F._module||{},H=B.arraysToCalcdata;H&&H(R,F);var X=B.editStyle;X&&v.push({fn:X,cd0:z})}if(v.length){for(S=0;S<v.length;S++){var ot=v[S];ot.fn(g,ot.cd0)}n(g),V.redrawReglTraces(g)}return o.style(g),l.getComponentMethod("legend","draw")(g),o.previousPromises(g)},V.doColorBars=function(g){return l.getComponentMethod("colorbar","draw")(g),o.previousPromises(g)},V.layoutReplot=function(g){var S=g.layout;return g.layout=void 0,l.call("_doPlot",g,"",S)},V.doLegend=function(g){return l.getComponentMethod("legend","draw")(g),o.previousPromises(g)},V.doTicksRelayout=function(g){return d.draw(g,"redraw"),g._fullLayout._hasOnlyLargeSploms&&(l.subplotsRegistry.splom.updateGrid(g),n(g),V.redrawReglTraces(g)),V.drawMainTitle(g),o.previousPromises(g)},V.doModeBar=function(g){var S=g._fullLayout;r.manage(g);for(var I=0;I<S._basePlotModules.length;I++){var v=S._basePlotModules[I].updateFx;v&&v(g)}return o.previousPromises(g)},V.doCamera=function(g){for(var S=g._fullLayout,I=S._subplots.gl3d,v=0;v<I.length;v++){var R=S[I[v]];R._scene.setViewport(R)}},V.drawData=function(g){var S=g._fullLayout;n(g);for(var I=S._basePlotModules,v=0;v<I.length;v++)I[v].plot(g);return V.redrawReglTraces(g),o.style(g),l.getComponentMethod("shapes","draw")(g),l.getComponentMethod("annotations","draw")(g),l.getComponentMethod("images","draw")(g),S._replotting=!1,o.previousPromises(g)},V.redrawReglTraces=function(g){var S=g._fullLayout;if(S._has("regl")){var I,v,R=g._fullData,z=[],F=[];for(S._hasOnlyLargeSploms&&S._splomGrid.draw(),I=0;I<R.length;I++){var B=R[I];!0===B.visible&&0!==B._length&&("splom"===B.type?S._splomScenes[B.uid].draw():"scattergl"===B.type?e.pushUnique(z,B.xaxis+B.yaxis):"scatterpolargl"===B.type&&e.pushUnique(F,B.subplot))}for(I=0;I<z.length;I++)(v=S._plots[z[I]])._scene&&v._scene.draw();for(I=0;I<F.length;I++)(v=S[F[I]]._subplot)._scene&&v._scene.draw()}},V.doAutoRangeAndConstraints=function(g){for(var S,I=d.list(g,"",!0),v={},R=0;R<I.length;R++)if(!v[(S=I[R])._id]){v[S._id]=1,T(g,S),w(g,S);var z=S._matchGroup;if(z)for(var F in z){var B=d.getFromId(g,F);w(g,B,S.range),v[F]=1}}p(g)},V.finalDraw=function(g){l.getComponentMethod("rangeslider","draw")(g),l.getComponentMethod("rangeselector","draw")(g)},V.drawMarginPushers=function(g){l.getComponentMethod("legend","draw")(g),l.getComponentMethod("rangeselector","draw")(g),l.getComponentMethod("sliders","draw")(g),l.getComponentMethod("updatemenus","draw")(g),l.getComponentMethod("colorbar","draw")(g)}},{"../components/color":102,"../components/drawing":124,"../components/modebar":165,"../components/titles":200,"../constants/alignment":207,"../lib":232,"../lib/clear_gl_canvases":220,"../plots/cartesian/autorange":278,"../plots/cartesian/axes":279,"../plots/cartesian/constraints":287,"../plots/plots":316,"../registry":318,"@plotly/d3":11}],270:[function(c,tt,V){"use strict";var t=c("../lib"),l=t.isPlainObject,o=c("./plot_schema"),e=c("../plots/plots"),n=c("../plots/attributes"),s=c("./plot_template"),a=c("./plot_config").dfltConfig;function i(x,m){x=t.extendDeep({},x);var y,A,b=Object.keys(x).sort();function k(v,R,z){if(l(R)&&l(v))i(v,R);else if(Array.isArray(R)&&Array.isArray(v)){var F=s.arrayTemplater({_template:x},z);for(A=0;A<R.length;A++){var B=R[A],H=F.newItem(B)._template;H&&i(H,B)}var X=F.defaultItems();for(A=0;A<X.length;A++)R.push(X[A]._template);for(A=0;A<R.length;A++)delete R[A].templateitemname}}for(y=0;y<b.length;y++){var L=b[y],g=x[L];if(L in m?k(g,m[L],L):m[L]=g,r(L)===L)for(var S in m){var I=r(S);S===I||I!==L||S in x||k(g,m[S],L)}}}function r(x){return x.replace(/[0-9]+$/,"")}function d(x,m,y,A,b){var k=b&&y(b);for(var L in x){var g=x[L],S=p(x,L,A),I=p(x,L,b),v=y(I);if(!v){var R=r(L);R!==L&&(v=y(I=p(x,R,b)))}if(!(k&&k===v||!v||v._noTemplating||"data_array"===v.valType||v.arrayOk&&Array.isArray(g)))if(!v.valType&&l(g))d(g,m,y,S,I);else if(v._isLinkedToArray&&Array.isArray(g))for(var z=!1,F=0,B={},H=0;H<g.length;H++){var X=g[H];if(l(X)){var ot=X.name;if(ot)B[ot]||(d(X,m,y,p(g,F,S),p(g,F,I)),F++,B[ot]=1);else if(!z){var q=p(x,s.arrayDefaultKey(L),A),P=p(g,F,S);d(X,m,y,P,p(g,F,I));var J=t.nestedProperty(m,P);t.nestedProperty(m,q).set(J.get()),J.set(null),z=!0}}}else t.nestedProperty(m,S).set(g)}}function f(x,m){return o.getLayoutValObject(x,t.nestedProperty({},m).parts)}function h(x,m){return o.getTraceValObject(x,t.nestedProperty({},m).parts)}function p(x,m,y){return y?Array.isArray(x)?y+"["+m+"]":y+"."+m:m}function T(x){for(var m=0;m<x.length;m++)if(l(x[m]))return!0}function w(x){var m;switch(x.code){case"data":m="The template has no key data.";break;case"layout":m="The template has no key layout.";break;case"missing":m=x.path?"There are no templates for item "+x.path+" with name "+x.templateitemname:"There are no templates for trace "+x.index+", of type "+x.traceType+".";break;case"unused":m=x.path?"The template item at "+x.path+" was not used in constructing the plot.":x.dataCount?"Some of the templates of type "+x.traceType+" were not used. The template has "+x.templateCount+" traces, the data only has "+x.dataCount+" of this type.":"The template has "+x.templateCount+" traces of type "+x.traceType+" but there are none in the data.";break;case"reused":m="Some of the templates of type "+x.traceType+" were used more than once. The template has "+x.templateCount+" traces, the data has "+x.dataCount+" of this type."}return x.msg=m,x}V.makeTemplate=function(x){x=t.isPlainObject(x)?x:t.getGraphDiv(x),x=t.extendDeep({_context:a},{data:x.data,layout:x.layout}),e.supplyDefaults(x);var m=x.data||[],y=x.layout||{};y._basePlotModules=x._fullLayout._basePlotModules,y._modules=x._fullLayout._modules;var A={data:{},layout:{}};m.forEach(function(F){var B={};d(F,B,h.bind(null,F));var H=t.coerce(F,{},n,"type"),X=A.data[H];X||(X=A.data[H]=[]),X.push(B)}),d(y,A.layout,f.bind(null,y)),delete A.layout.template;var b=y.template;if(l(b)){var k,L,g,S,I,v,R=b.layout;l(R)&&i(R,A.layout);var z=b.data;if(l(z)){for(L in A.data)if(g=z[L],Array.isArray(g)){for(v=(I=A.data[L]).length,S=g.length,k=0;k<v;k++)i(g[k%S],I[k]);for(k=v;k<S;k++)I.push(t.extendDeep({},g[k]))}for(L in z)L in A.data||(A.data[L]=t.extendDeep([],z[L]))}}return A},V.validateTemplate=function(x,m){var y=t.extendDeep({},{_context:a,data:x.data,layout:x.layout}),A=y.layout||{};l(m)||(m=A.template||{});var b=m.layout,k=m.data,L=[];y.layout=A,y.layout.template=m,e.supplyDefaults(y);var g=y._fullLayout,S=y._fullData,I={};if(l(b)?(function X(ot,q){for(var P in ot)if("_"!==P.charAt(0)&&l(ot[P])){var J,E=r(P),N=[];for(J=0;J<q.length;J++)N.push(p(ot,P,q[J])),E!==P&&N.push(p(ot,E,q[J]));for(J=0;J<N.length;J++)I[N[J]]=1;X(ot[P],N)}}(g,["layout"]),function X(ot,q){for(var P in ot)if(-1===P.indexOf("defaults")&&l(ot[P])){var J=p(ot,P,q);I[J]?X(ot[P],J):L.push({code:"unused",path:J})}}(b,"layout")):L.push({code:"layout"}),l(k)){for(var v,R={},z=0;z<S.length;z++){var F=S[z];R[v=F.type]=(R[v]||0)+1,F._fullInput._template||L.push({code:"missing",index:F._fullInput.index,traceType:v})}for(v in k){var B=k[v].length,H=R[v]||0;B>H?L.push({code:"unused",traceType:v,templateCount:B,dataCount:H}):H>B&&L.push({code:"reused",traceType:v,templateCount:B,dataCount:H})}}else L.push({code:"data"});if(function X(ot,q){for(var P in ot)if("_"!==P.charAt(0)){var J=ot[P],E=p(ot,P,q);l(J)?(Array.isArray(ot)&&!1===J._template&&J.templateitemname&&L.push({code:"missing",path:E,templateitemname:J.templateitemname}),X(J,E)):Array.isArray(J)&&T(J)&&X(J,E)}}({data:S,layout:g},""),L.length)return L.map(w)}},{"../lib":232,"../plots/attributes":275,"../plots/plots":316,"./plot_config":266,"./plot_schema":267,"./plot_template":268}],271:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("./plot_api"),o=c("../plots/plots"),e=c("../lib"),n=c("../snapshot/helpers"),s=c("../snapshot/tosvg"),a=c("../snapshot/svgtoimg"),i=c("../version").version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};tt.exports=function(d,f){var h,p,T,w;function x(H){return!(H in f)||e.validate(f[H],r[H])}if(f=f||{},e.isPlainObject(d)?(h=d.data||[],p=d.layout||{},T=d.config||{},w={}):(d=e.getGraphDiv(d),h=e.extendDeep([],d.data),p=e.extendDeep({},d.layout),T=d._context,w=d._fullLayout||{}),!x("width")&&null!==f.width||!x("height")&&null!==f.height)throw new Error("Height and width should be pixel values.");if(!x("format"))throw new Error("Export format is not "+e.join2(r.format.values,", "," or ")+".");var m={};function y(H,X){return e.coerce(f,m,r,H,X)}var A=y("format"),b=y("width"),k=y("height"),L=y("scale"),g=y("setBackground"),S=y("imageDataOnly"),I=document.createElement("div");I.style.position="absolute",I.style.left="-5000px",document.body.appendChild(I);var v=e.extendFlat({},p);b?v.width=b:null===f.width&&t(w.width)&&(v.width=w.width),k?v.height=k:null===f.height&&t(w.height)&&(v.height=w.height);var R=e.extendFlat({},T,{_exportedPlot:!0,staticPlot:!0,setBackground:g}),z=n.getRedrawFunc(I);function F(){return new Promise(function(H){setTimeout(H,n.getDelay(I._fullLayout))})}function B(){return new Promise(function(H,X){var ot=s(I,A,L),q=I._fullLayout.width,P=I._fullLayout.height;function J(){l.purge(I),document.body.removeChild(I)}if("full-json"===A){var E=o.graphJson(I,!1,"keepdata","object",!0,!0);return E.version=i,E=JSON.stringify(E),J(),H(S?E:n.encodeJSON(E))}if(J(),"svg"===A)return H(S?ot:n.encodeSVG(ot));var N=document.createElement("canvas");N.id=e.randstr(),a({format:A,width:q,height:P,scale:L,canvas:N,svg:ot,promise:!0}).then(H).catch(X)})}return new Promise(function(H,X){l.newPlot(I,h,v,R).then(z).then(F).then(B).then(function(ot){var q;H((q=ot,S?q.replace(n.IMAGE_URL_PREFIX,""):q))}).catch(function(ot){X(ot)})})}},{"../lib":232,"../plots/plots":316,"../snapshot/helpers":322,"../snapshot/svgtoimg":324,"../snapshot/tosvg":326,"../version":391,"./plot_api":265,"fast-isnumeric":17}],272:[function(c,tt,V){"use strict";var t=c("../lib"),l=c("../plots/plots"),o=c("./plot_schema"),e=c("./plot_config").dfltConfig,n=t.isPlainObject,s=Array.isArray,a=t.isArrayOrTypedArray;function i(m,y,A,b,k,L){L=L||[];for(var g=Object.keys(m),S=0;S<g.length;S++){var I=g[S];if("transforms"!==I){var v=L.slice();v.push(I);var R=m[I],z=y[I],F=T(A,I),B=(F||{}).valType,H="info_array"===B,X="colorscale"===B,ot=(F||{}).items;if(p(A,I))if(n(R)&&n(z)&&"any"!==B)i(R,z,F,b,k,v);else if(H&&s(R)){R.length>z.length&&b.push(h("unused",k,v.concat(z.length)));var q,P,E,N,Z=z.length,U=Array.isArray(ot);if(U&&(Z=Math.min(Z,ot.length)),2===F.dimensions)for(P=0;P<Z;P++)if(s(R[P])){R[P].length>z[P].length&&b.push(h("unused",k,v.concat(P,z[P].length)));var D=z[P].length;for(q=0;q<(U?Math.min(D,ot[P].length):D);q++)N=z[P][q],t.validate(E=R[P][q],U?ot[P][q]:ot)?N!==E&&N!==+E&&b.push(h("dynamic",k,v.concat(P,q),E,N)):b.push(h("value",k,v.concat(P,q),E))}else b.push(h("array",k,v.concat(P),R[P]));else for(P=0;P<Z;P++)N=z[P],t.validate(E=R[P],U?ot[P]:ot)?N!==E&&N!==+E&&b.push(h("dynamic",k,v.concat(P),E,N)):b.push(h("value",k,v.concat(P),E))}else if(F.items&&!H&&s(R)){var M,j,C=ot[Object.keys(ot)[0]],G=[];for(M=0;M<z.length;M++){var K=z[M]._index||M;if((j=v.slice()).push(K),n(R[K])&&n(z[M])){G.push(K);var $=R[K],Q=z[M];n($)&&!1!==$.visible&&!1===Q.visible?b.push(h("invisible",k,j)):i($,Q,C,b,k,j)}}for(M=0;M<R.length;M++)(j=v.slice()).push(M),n(R[M])?-1===G.indexOf(M)&&b.push(h("unused",k,j)):b.push(h("object",k,j,R[M]))}else!n(R)&&n(z)?b.push(h("object",k,v,R)):a(R)||!a(z)||H||X?I in y?t.validate(R,F)?"enumerated"===F.valType&&(F.coerceNumber&&R!==+z||R!==z)&&b.push(h("dynamic",k,v,R,z)):b.push(h("value",k,v,R)):b.push(h("unused",k,v,R)):b.push(h("array",k,v,R));else b.push(h("schema",k,v))}}return b}function r(m,y){for(var A=m.layout.layoutAttributes,b=0;b<y.length;b++){var k=y[b],L=m.traces[k.type],g=L.layoutAttributes;g&&t.extendFlat(k.subplot?A[L.attributes.subplot.dflt]:A,g)}return A}tt.exports=function(m,y){void 0===m&&(m=[]),void 0===y&&(y={});var A,b,k=o.get(),L=[],g={_context:t.extendFlat({},e)};s(m)?(g.data=t.extendDeep([],m),A=m):(g.data=[],A=[],L.push(h("array","data"))),n(y)?(g.layout=t.extendDeep({},y),b=y):(g.layout={},b={},arguments.length>1&&L.push(h("object","layout"))),l.supplyDefaults(g);for(var S=g._fullData,I=A.length,v=0;v<I;v++){var R=A[v],z=["data",v];if(n(R)){var F=S[v],B=F.type,H=k.traces[B].attributes;H.type={valType:"enumerated",values:[B]},!1===F.visible&&!1!==R.visible&&L.push(h("invisible",z)),i(R,F,H,L,z);var X=R.transforms,ot=F.transforms;if(X){s(X)||L.push(h("array",z,["transforms"])),z.push("transforms");for(var q=0;q<X.length;q++){var P=["transforms",q],J=X[q].type;if(n(X[q])){var E=k.transforms[J]?k.transforms[J].attributes:{};E.type={valType:"enumerated",values:Object.keys(k.transforms)},i(X[q],ot[q],E,L,z,P)}else L.push(h("object",z,P))}}}else L.push(h("object",z))}var N=g._fullLayout,Z=r(k,S);return i(b,N,Z,L,"layout"),0===L.length?void 0:L};var d={object:function(m,y){return("layout"===m&&""===y?"The layout argument":"data"===m[0]&&""===y?"Trace "+m[1]+" in the data argument":f(m)+"key "+y)+" must be linked to an object container"},array:function(m,y){return("data"===m?"The data argument":f(m)+"key "+y)+" must be linked to an array container"},schema:function(m,y){return f(m)+"key "+y+" is not part of the schema"},unused:function(m,y,A){var b=n(A)?"container":"key";return f(m)+b+" "+y+" did not get coerced"},dynamic:function(m,y,A,b){return[f(m)+"key",y,"(set to '"+A+"')","got reset to","'"+b+"'","during defaults."].join(" ")},invisible:function(m,y){return(y?f(m)+"item "+y:"Trace "+m[1])+" got defaulted to be not visible"},value:function(m,y,A){return[f(m)+"key "+y,"is set to an invalid value ("+A+")"].join(" ")}};function f(m){return s(m)?"In data trace "+m[1]+", ":"In "+m+", "}function h(m,y,A,b,k){var L,g;A=A||"",s(y)?(L=y[0],g=y[1]):(L=y,g=null);var S=function(v){if(!s(v))return String(v);for(var R="",z=0;z<v.length;z++){var F=v[z];"number"==typeof F?R=R.substr(0,R.length-1)+"["+F+"]":R+=F,z<v.length-1&&(R+=".")}return R}(A),I=d[m](y,S,b,k);return t.log(I),{code:m,container:L,trace:g,path:A,astr:S,msg:I}}function p(m,y){var A=x(y),b=A.keyMinusId;return!!(b in m&&m[b]._isSubplotObj&&A.id)||y in m}function T(m,y){return y in m?m[y]:m[x(y).keyMinusId]}var w=t.counterRegex("([a-z]+)");function x(m){var y=m.match(w);return{keyMinusId:y&&y[1],id:y&&y[2]}}},{"../lib":232,"../plots/plots":316,"./plot_config":266,"./plot_schema":267}],273:[function(c,tt,V){"use strict";tt.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],274:[function(c,tt,V){"use strict";var t=c("../lib"),l=c("../plot_api/plot_template");tt.exports=function(o,e,n){var s,a,i=n.name,r=n.inclusionAttr||"visible",d=e[i],f=t.isArrayOrTypedArray(o[i])?o[i]:[],h=e[i]=[],p=l.arrayTemplater(e,i,r);for(s=0;s<f.length;s++){var T=f[s];t.isPlainObject(T)?a=p.newItem(T):(a=p.newItem({}))[r]=!1,a._index=s,!1!==a[r]&&n.handleItemDefaults(T,a,e,n),h.push(a)}var w=p.defaultItems();for(s=0;s<w.length;s++)(a=w[s])._index=h.length,n.handleItemDefaults({},a,e,n,{}),h.push(a);if(t.isArrayOrTypedArray(d)){var x=Math.min(d.length,h.length);for(s=0;s<x;s++)t.relinkPrivateKeys(h[s],d[s])}return h}},{"../lib":232,"../plot_api/plot_template":268}],275:[function(c,tt,V){"use strict";var t=c("./font_attributes"),l=c("../components/fx/attributes");tt.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:t({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:l.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":133,"./font_attributes":310}],276:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("../../lib"),o=l.dateTime2ms,e=l.incrementMonth,n=c("../../constants/numerical").ONEAVGMONTH;tt.exports=function(s,a,i,r){if("date"!==a.type)return{vals:r};var d=s[i+"periodalignment"];if(!d)return{vals:r};var f,h=s[i+"period"];if(t(h)){if((h=+h)<=0)return{vals:r}}else if("string"==typeof h&&"M"===h.charAt(0)){var p=+h.substring(1);if(!(p>0&&Math.round(p)===p))return{vals:r};f=p}for(var T=a.calendar,w="start"===d,x="end"===d,y=o(s[i+"period0"],T)||0,A=[],b=[],k=[],L=r.length,g=0;g<L;g++){var S,I,v,R=r[g];if(f){for(S=Math.round((R-y)/(f*n)),v=e(y,f*S,T);v>R;)v=e(v,-f,T);for(;v<=R;)v=e(v,f,T);I=e(v,-f,T)}else{for(v=y+(S=Math.round((R-y)/h))*h;v>R;)v-=h;for(;v<=R;)v+=h;I=v-h}A[g]=w?I:x?v:(I+v)/2,b[g]=I,k[g]=v}return{vals:A,starts:b,ends:k}}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],277:[function(c,tt,V){"use strict";tt.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],278:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("fast-isnumeric"),o=c("../../lib"),e=c("../../constants/numerical").FP_SAFE,n=c("../../registry"),s=c("../../components/drawing"),a=c("./axis_ids"),i=a.getFromId,r=a.isLinked;function d(b,k){var L,g,S=[],I=b._fullLayout,v=h(I,k,0),R=h(I,k,1),z=p(b,k),F=z.min,B=z.max;if(0===F.length||0===B.length)return o.simpleMap(k.range,k.r2l);var H=F[0].val,X=B[0].val;for(L=1;L<F.length&&H===X;L++)H=Math.min(H,F[L].val);for(L=1;L<B.length&&H===X;L++)X=Math.max(X,B[L].val);var ot=!1;if(k.range){var q=o.simpleMap(k.range,k.r2l);ot=q[1]<q[0]}"reversed"===k.autorange&&(ot=!0,k.autorange=!0);var P,J,E,N,Z,U,D=k.rangemode,M="tozero"===D,j="nonnegative"===D,C=k._length,G=C/10,K=0;for(L=0;L<F.length;L++)for(P=F[L],g=0;g<B.length;g++)(U=(J=B[g]).val-P.val-f(k,P.val,J.val))>0&&((Z=C-v(P)-R(J))>G?U/Z>K&&(E=P,N=J,K=U/Z):U/C>K&&(E={val:P.val,nopad:1},N={val:J.val,nopad:1},K=U/C));if(H===X){var $=H-1,Q=H+1;if(M)if(0===H)S=[0,1];else{var ut=(H>0?B:F).reduce(function(gt,vt){return Math.max(gt,R(vt))},0),ct=H/(1-Math.min(.5,ut/C));S=H>0?[0,ct]:[ct,0]}else S=j?[Math.max(0,$),Math.max(1,Q)]:[$,Q]}else M?(E.val>=0&&(E={val:0,nopad:1}),N.val<=0&&(N={val:0,nopad:1})):j&&(E.val-K*v(E)<0&&(E={val:0,nopad:1}),N.val<=0&&(N={val:1,nopad:1})),K=(N.val-E.val-f(k,P.val,J.val))/(C-v(E)-R(N)),S=[E.val-K*v(E),N.val+K*R(N)];return ot&&S.reverse(),o.simpleMap(S,k.l2r||Number)}function f(b,k,L){var g=0;if(b.rangebreaks)for(var S=b.locateBreaks(k,L),I=0;I<S.length;I++){var v=S[I];g+=v.max-v.min}return g}function h(b,k,L){var g=.05*k._length,S=k._anchorAxis||{};if(-1!==(k.ticklabelposition||"").indexOf("inside")||-1!==(S.ticklabelposition||"").indexOf("inside")){var I="reversed"===k.autorange;if(!I){var v=o.simpleMap(k.range,k.r2l);I=v[1]<v[0]}I&&(L=!L)}var R=0;return r(b,k._id)||(R=function(z,F,B){var H=0,X="x"===F._id.charAt(0);for(var ot in z._plots){var q=z._plots[ot];if(F._id===q.xaxis._id||F._id===q.yaxis._id){var P=(X?q.yaxis:q.xaxis)||{};if(-1!==(P.ticklabelposition||"").indexOf("inside")&&(!B&&("left"===P.side||"bottom"===P.side)||B&&("top"===P.side||"right"===P.side))){if(P._vals){var J=o.deg2rad(P._tickAngles[P._id+"tick"]||0),E=Math.abs(Math.cos(J)),N=Math.abs(Math.sin(J));P._vals[0].bb||P._selections[P._id+"tick"].each(function(C){var G=t.select(this);G.select(".text-math-group").empty()&&(C.bb=s.bBox(G.node()))});for(var U=0;U<P._vals.length;U++){var D=P._vals[U].bb;if(D){var M=6+D.width,j=6+D.height;H=Math.max(H,X?Math.max(M*E,j*N):Math.max(j*E,M*N))}}}"inside"===P.ticks&&"inside"===P.ticklabelposition&&(H+=P.ticklen||0)}}}return H}(b,k,L)),g=Math.max(R,g),"domain"===k.constrain&&k._inputDomain&&(g*=(k._inputDomain[1]-k._inputDomain[0])/(k.domain[1]-k.domain[0])),function(z){return z.nopad?0:z.pad+(z.extrapad?g:R)}}function p(b,k,L){var g,S,I,v=k._id,z=b._fullLayout,F=[],B=[];function H(J,E){for(g=0;g<E.length;g++){var N=J[E[g]],Z=(N._extremes||{})[v];if(!0===N.visible&&Z){for(S=0;S<Z.min.length;S++)T(F,(I=Z.min[S]).val,I.pad,{extrapad:I.extrapad});for(S=0;S<Z.max.length;S++)w(B,(I=Z.max[S]).val,I.pad,{extrapad:I.extrapad})}}}if(H(b._fullData,k._traceIndices),H(z.annotations||[],k._annIndices||[]),H(z.shapes||[],k._shapeIndices||[]),k._matchGroup&&!L)for(var X in k._matchGroup)if(X!==k._id){var ot=i(b,X),q=p(b,ot,!0),P=k._length/ot._length;for(S=0;S<q.min.length;S++)T(F,(I=q.min[S]).val,I.pad*P,{extrapad:I.extrapad});for(S=0;S<q.max.length;S++)w(B,(I=q.max[S]).val,I.pad*P,{extrapad:I.extrapad})}return{min:F,max:B}}function T(b,k,L,g){x(b,k,L,g,y)}function w(b,k,L,g){x(b,k,L,g,A)}function x(b,k,L,g,S){for(var I=g.tozero,v=g.extrapad,R=!0,z=0;z<b.length&&R;z++){var F=b[z];if(S(F.val,k)&&F.pad>=L&&(F.extrapad||!v)){R=!1;break}S(k,F.val)&&F.pad<=L&&(v||!F.extrapad)&&(b.splice(z,1),z--)}if(R){var B=I&&0===k;b.push({val:k,pad:B?0:L,extrapad:!B&&v})}}function m(b){return l(b)&&Math.abs(b)<e}function y(b,k){return b<=k}function A(b,k){return b>=k}tt.exports={getAutoRange:d,makePadFn:h,doAutoRange:function(b,k,L){if(k.setScale(),k.autorange){k.range=L?L.slice():d(b,k),k._r=k.range.slice(),k._rl=o.simpleMap(k._r,k.r2l);var g=k._input,S={};S[k._attr+".range"]=k.range,S[k._attr+".autorange"]=k.autorange,n.call("_storeDirectGUIEdit",b.layout,b._fullLayout._preGUI,S),g.range=k.range.slice(),g.autorange=k.autorange}var I=k._anchorAxis;if(I&&I.rangeslider){var v=I.rangeslider[k._name];v&&"auto"===v.rangemode&&(v.range=d(b,k)),I._input.rangeslider[k._name]=o.extendFlat({},v)}},findExtremes:function(b,k,L){L||(L={}),b._m||b.setScale();var g,S,I,v,R,z,F,B,H,X=[],ot=[],q=k.length,P=L.padded||!1,J=L.tozero&&("linear"===b.type||"-"===b.type),E="log"===b.type,N=!1,Z=L.vpadLinearized||!1;function U(Q){if(Array.isArray(Q))return N=!0,function(ct){return Math.max(Number(Q[ct]||0),0)};var ut=Math.max(Number(Q||0),0);return function(){return ut}}var D=U((b._m>0?L.ppadplus:L.ppadminus)||L.ppad||0),M=U((b._m>0?L.ppadminus:L.ppadplus)||L.ppad||0),j=U(L.vpadplus||L.vpad),C=U(L.vpadminus||L.vpad);if(!N){if(B=1/0,H=-1/0,E)for(g=0;g<q;g++)(S=k[g])<B&&S>0&&(B=S),S>H&&S<e&&(H=S);else for(g=0;g<q;g++)(S=k[g])<B&&S>-e&&(B=S),S>H&&S<e&&(H=S);k=[B,H],q=2}var G={tozero:J,extrapad:P};function K(Q){l(I=k[Q])&&(z=D(Q),F=M(Q),Z?(v=b.c2l(I)-C(Q),R=b.c2l(I)+j(Q)):(B=I-C(Q),H=I+j(Q),E&&B<H/10&&(B=H/10),v=b.c2l(B),R=b.c2l(H)),J&&(v=Math.min(0,v),R=Math.max(0,R)),m(v)&&T(X,v,F,G),m(R)&&w(ot,R,z,G))}var $=Math.min(6,q);for(g=0;g<$;g++)K(g);for(g=q-1;g>=$;g--)K(g);return{min:X,max:ot,opts:L}},concatExtremes:p}},{"../../components/drawing":124,"../../constants/numerical":212,"../../lib":232,"../../registry":318,"./axis_ids":283,"@plotly/d3":11,"fast-isnumeric":17}],279:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("fast-isnumeric"),o=c("../../plots/plots"),e=c("../../registry"),n=c("../../lib"),s=n.strTranslate,a=c("../../lib/svg_text_utils"),i=c("../../components/titles"),r=c("../../components/color"),d=c("../../components/drawing"),f=c("./layout_attributes"),h=c("./clean_ticks"),p=c("../../constants/numerical"),T=p.ONEMAXYEAR,w=p.ONEAVGYEAR,x=p.ONEMINYEAR,m=p.ONEMAXQUARTER,y=p.ONEAVGQUARTER,A=p.ONEMINQUARTER,b=p.ONEMAXMONTH,k=p.ONEAVGMONTH,L=p.ONEMINMONTH,g=p.ONEWEEK,S=p.ONEDAY,I=S/2,v=p.ONEHOUR,R=p.ONEMIN,z=p.ONESEC,F=p.MINUS_SIGN,B=p.BADNUM,H={K:"zeroline"},X={K:"gridline",L:"path"},ot={K:"minor-gridline",L:"path"},q={K:"tick",L:"path"},P={K:"tick",L:"text"},J=c("../../constants/alignment"),E=J.MID_SHIFT,N=J.CAP_SHIFT,Z=J.LINE_SPACING,U=J.OPPOSITE_SIDE,D=tt.exports={};D.setConvert=c("./set_convert");var M=c("./axis_autotype"),j=c("./axis_ids"),C=j.idSort,G=j.isLinked;D.id2name=j.id2name,D.name2id=j.name2id,D.cleanId=j.cleanId,D.list=j.list,D.listIds=j.listIds,D.getFromId=j.getFromId,D.getFromTrace=j.getFromTrace;var K=c("./autorange");function $(nt){var it=1e-4*(nt[1]-nt[0]);return[nt[0]-it,nt[1]+it]}D.getAutoRange=K.getAutoRange,D.findExtremes=K.findExtremes,D.coerceRef=function(nt,it,Mt,Pt,Ut,Rt){var jt=Pt.charAt(Pt.length-1),Yt=Mt._fullLayout._subplots[jt+"axis"],ee=Pt+"ref",ae={};return Ut||(Ut=Yt[0]||("string"==typeof Rt?Rt:Rt[0])),Rt||(Rt=Ut),Yt=Yt.concat(Yt.map(function(he){return he+" domain"})),ae[ee]={valType:"enumerated",values:Yt.concat(Rt?"string"==typeof Rt?[Rt]:Rt:[]),dflt:Ut},n.coerce(nt,it,ae,ee)},D.getRefType=function(nt){return void 0===nt?nt:"paper"===nt?"paper":"pixel"===nt?"pixel":/( domain)$/.test(nt)?"domain":"range"},D.coercePosition=function(nt,it,Mt,Pt,Ut,Rt){var jt,Yt;if("range"!==D.getRefType(Pt))jt=n.ensureNumber,Yt=Mt(Ut,Rt);else{var ee=D.getFromId(it,Pt);Yt=Mt(Ut,Rt=ee.fraction2r(Rt)),jt=ee.cleanPos}nt[Ut]=jt(Yt)},D.cleanPosition=function(nt,it,Mt){return("paper"===Mt||"pixel"===Mt?n.ensureNumber:D.getFromId(it,Mt).cleanPos)(nt)},D.redrawComponents=function(nt,it){it=it||D.listIds(nt);var Mt=nt._fullLayout;function Pt(Ut,Rt,jt,Yt){for(var ee=e.getComponentMethod(Ut,Rt),ae={},he=0;he<it.length;he++)for(var Me=Mt[D.id2name(it[he])][jt],re=0;re<Me.length;re++){var me=Me[re];if(!ae[me]&&(ee(nt,me),ae[me]=1,Yt))return}}Pt("annotations","drawOne","_annIndices"),Pt("shapes","drawOne","_shapeIndices"),Pt("images","draw","_imgIndices",!0)};var Q=D.getDataConversions=function(nt,it,Mt,Pt){var Ut,Rt="x"===Mt||"y"===Mt||"z"===Mt?Mt:Pt;if(Array.isArray(Rt)){if(Ut={type:M(Pt,void 0,{autotypenumbers:nt._fullLayout.autotypenumbers}),_categories:[]},D.setConvert(Ut),"category"===Ut.type)for(var jt=0;jt<Pt.length;jt++)Ut.d2c(Pt[jt])}else Ut=D.getFromTrace(nt,it,Rt);return Ut?{d2c:Ut.d2c,c2d:Ut.c2d}:"ids"===Rt?{d2c:ct,c2d:ct}:{d2c:ut,c2d:ut}};function ut(nt){return+nt}function ct(nt){return String(nt)}function gt(nt,it){return Math.abs((nt/it+.5)%1-.5)<.001}function vt(nt,it){return Math.abs(nt/it-1)<.001}function _t(nt){return+nt.substring(1)}function kt(nt){var it=$(n.simpleMap(nt.range,nt.r2l)),Mt=Math.min(it[0],it[1]),Pt=Math.max(it[0],it[1]),Ut="category"===nt.type?nt.d2l_noadd:nt.d2l;"log"===nt.type&&"L"!==String(nt.dtick).charAt(0)&&(nt.dtick="L"+Math.pow(10,Math.floor(Math.min(nt.range[0],nt.range[1]))-1));for(var Rt=[],jt=0;jt<=1;jt++)if(!jt||nt.minor){var Yt=jt?nt.minor.tickvals:nt.tickvals,ee=jt?[]:nt.ticktext;if(Yt){Array.isArray(ee)||(ee=[]);for(var ae=0;ae<Yt.length;ae++){var he=Ut(Yt[ae]);if(he>Mt&&he<Pt){var Me=void 0===ee[ae]?D.tickText(nt,he):wt(nt,he,String(ee[ae]));jt&&(Me.minor=!0,Me.text=""),Rt.push(Me)}}}}return nt.rangebreaks&&(Rt=Rt.filter(function(re){return nt.maskBreaks(re.x)!==B})),Rt}D.getDataToCoordFunc=function(nt,it,Mt,Pt){return Q(nt,it,Mt,Pt).d2c},D.counterLetter=function(nt){var it=nt.charAt(0);return"x"===it?"y":"y"===it?"x":void 0},D.minDtick=function(nt,it,Mt,Pt){-1===["log","category","multicategory"].indexOf(nt.type)&&Pt?void 0===nt._minDtick?(nt._minDtick=it,nt._forceTick0=Mt):nt._minDtick&&((nt._minDtick/it+1e-6)%1<2e-6&&((Mt-nt._forceTick0)/it%1+1.000001)%1<2e-6?(nt._minDtick=it,nt._forceTick0=Mt):((it/nt._minDtick+1e-6)%1>2e-6||((Mt-nt._forceTick0)/nt._minDtick%1+1.000001)%1>2e-6)&&(nt._minDtick=0)):nt._minDtick=0},D.saveRangeInitial=function(nt,it){for(var Mt=D.list(nt,"",!0),Pt=!1,Ut=0;Ut<Mt.length;Ut++){var Rt=Mt[Ut],jt=void 0===Rt._rangeInitial;(jt&&!1===Rt.autorange||it&&(jt||Rt.range[0]!==Rt._rangeInitial[0]||Rt.range[1]!==Rt._rangeInitial[1]))&&(Rt._rangeInitial=Rt.range.slice(),Pt=!0)}return Pt},D.saveShowSpikeInitial=function(nt,it){for(var Mt=D.list(nt,"",!0),Pt=!1,Ut="on",Rt=0;Rt<Mt.length;Rt++){var jt=Mt[Rt],Yt=void 0===jt._showSpikeInitial;(Yt||it&&(Yt||jt.showspikes!==jt._showspikes))&&(jt._showSpikeInitial=jt.showspikes,Pt=!0),"on"!==Ut||jt.showspikes||(Ut="off")}return nt._fullLayout._cartesianSpikesEnabled=Ut,Pt},D.autoBin=function(nt,it,Mt,Pt,Ut,Rt){var jt,Yt=n.aggNums(Math.min,null,nt),ee=n.aggNums(Math.max,null,nt);if("category"===it.type||"multicategory"===it.type)return{start:Yt-.5,end:ee+.5,size:Math.max(1,Math.round(Rt)||1),_dataSpan:ee-Yt};if(Ut||(Ut=it.calendar),jt="log"===it.type?{type:"linear",range:[Yt,ee]}:{type:it.type,range:n.simpleMap([Yt,ee],it.c2r,0,Ut),calendar:Ut},D.setConvert(jt),Rt=Rt&&h.dtick(Rt,jt.type))jt.dtick=Rt,jt.tick0=h.tick0(void 0,jt.type,Ut);else{var ae;if(Mt)ae=(ee-Yt)/Mt;else{var he=n.distinctVals(nt),Me=Math.pow(10,Math.floor(Math.log(he.minDiff)/Math.LN10)),re=Me*n.roundUp(he.minDiff/Me,[.9,1.9,4.9,9.9],!0);ae=Math.max(re,2*n.stdev(nt)/Math.pow(nt.length,Pt?.25:.4)),l(ae)||(ae=1)}D.autoTicks(jt,ae)}var me,Oe=jt.dtick,oe=D.tickIncrement(D.tickFirst(jt),Oe,"reverse",Ut);if("number"==typeof Oe)me=(oe=function(te,Ae,_e,ge,we){var fe=0,Ne=0,Pe=0,ze=0;function Ue(ve){return(1+100*(ve-te)/_e.dtick)%100<2}for(var Je=0;Je<Ae.length;Je++)Ae[Je]%1==0?Pe++:l(Ae[Je])||ze++,Ue(Ae[Je])&&fe++,Ue(Ae[Je]+_e.dtick/2)&&Ne++;var He=Ae.length-ze;if(Pe===He&&"date"!==_e.type)_e.dtick<1?te=ge-.5*_e.dtick:(te-=.5)+_e.dtick<ge&&(te+=_e.dtick);else if(Ne<.1*He&&(fe>.3*He||Ue(ge)||Ue(we))){var be=_e.dtick/2;te+=te+be<ge?be:-be}return te}(oe,nt,jt,Yt,ee))+(1+Math.floor((ee-oe)/Oe))*Oe;else for("M"===jt.dtick.charAt(0)&&(oe=function(te,Ae,_e,ge,we){var fe=n.findExactDates(Ae,we);if(fe.exactDays>.8){var Ne=Number(_e.substr(1));fe.exactYears>.8&&Ne%12==0?te=D.tickIncrement(te,"M6","reverse")+1.5*S:fe.exactMonths>.8?te=D.tickIncrement(te,"M1","reverse")+15.5*S:te-=I;var Pe=D.tickIncrement(te,_e);if(Pe<=ge)return Pe}return te}(oe,nt,Oe,Yt,Ut)),me=oe;me<=ee;)me=D.tickIncrement(me,Oe,!1,Ut);return{start:it.c2r(oe,0,Ut),end:it.c2r(me,0,Ut),size:Oe,_dataSpan:ee-Yt}},D.prepMinorTicks=function(nt,it,Mt){if(!it.minor.dtick){delete nt.dtick;var Pt,Ut=it.dtick&&l(it._tmin);if(Ut){var Rt=D.tickIncrement(it._tmin,it.dtick,!0);Pt=[it._tmin,.99*Rt+.01*it._tmin]}else{var jt=n.simpleMap(it.range,it.r2l);Pt=[jt[0],.8*jt[0]+.2*jt[1]]}if(nt.range=n.simpleMap(Pt,it.l2r),nt._isMinor=!0,D.prepTicks(nt,Mt),Ut){var Yt=l(it.dtick),ee=l(nt.dtick),ae=Yt?it.dtick:+it.dtick.substring(1),he=ee?nt.dtick:+nt.dtick.substring(1);Yt&&ee?gt(ae,he)?ae===2*g&&he===2*S&&(nt.dtick=g):nt.dtick=ae===2*g&&he===3*S?g:ae!==g||(it._input.minor||{}).nticks?vt(ae/he,2.5)?ae/2:ae:S:"M"===String(it.dtick).charAt(0)?ee?nt.dtick="M1":gt(ae,he)?ae>=12&&2===he&&(nt.dtick="M3"):nt.dtick=it.dtick:"L"===String(nt.dtick).charAt(0)?"L"===String(it.dtick).charAt(0)?gt(ae,he)||(nt.dtick=vt(ae/he,2.5)?it.dtick/2:it.dtick):nt.dtick="D1":"D2"===nt.dtick&&+it.dtick>1&&(nt.dtick=1)}nt.range=it.range}void 0===it.minor._tick0Init&&(nt.tick0=it.tick0)},D.prepTicks=function(nt,it){var Mt=n.simpleMap(nt.range,nt.r2l,void 0,void 0,it);if("auto"===nt.tickmode||!nt.dtick){var Pt,Ut=nt.nticks;Ut||("category"===nt.type||"multicategory"===nt.type?(Pt=nt.tickfont?n.bigFont(nt.tickfont.size||12):15,Ut=nt._length/Pt):(Pt="y"===nt._id.charAt(0)?40:80,Ut=n.constrain(nt._length/Pt,4,9)+1),"radialaxis"===nt._name&&(Ut*=2)),nt.minor&&"array"!==nt.minor.tickmode||"array"===nt.tickmode&&(Ut*=100),nt._roughDTick=Math.abs(Mt[1]-Mt[0])/Ut,D.autoTicks(nt,nt._roughDTick),nt._minDtick>0&&nt.dtick<2*nt._minDtick&&(nt.dtick=nt._minDtick,nt.tick0=nt.l2r(nt._forceTick0))}"period"===nt.ticklabelmode&&function(Rt){var jt;function Yt(){return!(l(Rt.dtick)||"M"!==Rt.dtick.charAt(0))}var ee=Yt(),ae=D.getTickFormat(Rt);if(ae){var he=Rt._dtickInit!==Rt.dtick;/%[fLQsSMX]/.test(ae)||(/%[HI]/.test(ae)?(jt=v,he&&!ee&&Rt.dtick<v&&(Rt.dtick=v)):/%p/.test(ae)?(jt=I,he&&!ee&&Rt.dtick<I&&(Rt.dtick=I)):/%[Aadejuwx]/.test(ae)?(jt=S,he&&!ee&&Rt.dtick<S&&(Rt.dtick=S)):/%[UVW]/.test(ae)?(jt=g,he&&!ee&&Rt.dtick<g&&(Rt.dtick=g)):/%[Bbm]/.test(ae)?(jt=k,he&&(ee?_t(Rt.dtick)<1:Rt.dtick<L)&&(Rt.dtick="M1")):/%[q]/.test(ae)?(jt=y,he&&(ee?_t(Rt.dtick)<3:Rt.dtick<A)&&(Rt.dtick="M3")):/%[Yy]/.test(ae)&&(jt=w,he&&(ee?_t(Rt.dtick)<12:Rt.dtick<x)&&(Rt.dtick="M12")))}(ee=Yt())&&Rt.tick0===Rt._dowTick0&&(Rt.tick0=Rt._rawTick0),Rt._definedDelta=jt}(nt),nt.tick0||(nt.tick0="date"===nt.type?"2000-01-01":0),"date"===nt.type&&nt.dtick<.1&&(nt.dtick=.1),bt(nt)},D.calcTicks=function(nt,it){for(var Mt,Pt,Ut=nt.type,Rt=nt.calendar,jt=nt.ticklabelstep,Yt="period"===nt.ticklabelmode,ee=n.simpleMap(nt.range,nt.r2l,void 0,void 0,it),ae=ee[1]<ee[0],he=Math.min(ee[0],ee[1]),Me=Math.max(ee[0],ee[1]),re=Math.max(1e3,nt._length||0),me=[],Oe=[],oe=[],te=[],Ae=nt.minor&&(nt.minor.ticks||nt.minor.showgrid),_e=1;_e>=(Ae?0:1);_e--){var ge=!_e;_e?(nt._dtickInit=nt.dtick,nt._tick0Init=nt.tick0):(nt.minor._dtickInit=nt.minor.dtick,nt.minor._tick0Init=nt.minor.tick0);var we=_e?nt:n.extendFlat({},nt,nt.minor);if(ge?D.prepMinorTicks(we,nt,it):D.prepTicks(we,it),"array"!==we.tickmode){var fe=$(ee),Ne=fe[0],Pe=fe[1],ze=l(we.dtick),Ue="log"===Ut&&!(ze||"L"===we.dtick.charAt(0)),Je=D.tickFirst(we,it);if(_e){if(nt._tmin=Je,Je<Ne!==ae)break;"category"!==Ut&&"multicategory"!==Ut||(Pe=ae?Math.max(-.5,Pe):Math.min(nt._categories.length-.5,Pe))}var He,be,ve=null,ke=Je;_e&&(ze?be=nt.dtick:"date"===Ut?"string"==typeof nt.dtick&&"M"===nt.dtick.charAt(0)&&(be=k*nt.dtick.substring(1)):be=nt._roughDTick,He=Math.round((nt.r2l(ke)-nt.r2l(nt.tick0))/be)-1);var Fe=we.dtick;for(we.rangebreaks&&we._tick0Init!==we.tick0&&(ke=xe(ke,nt),ae||(ke=D.tickIncrement(ke,Fe,!ae,Rt))),_e&&Yt&&(ke=D.tickIncrement(ke,Fe,!ae,Rt),He--);ae?ke>=Pe:ke<=Pe;ke=D.tickIncrement(ke,Fe,ae,Rt)){if(_e&&He++,we.rangebreaks&&!ae){if(ke<Ne)continue;if(we.maskBreaks(ke)===B&&xe(ke,we)>=Me)break}if(oe.length>re||ke===ve)break;ve=ke;var De={value:ke};_e?(Ue&&ke!==(0|ke)&&(De.simpleLabel=!0),jt>1&&He%jt&&(De.skipLabel=!0),oe.push(De)):(De.minor=!0,te.push(De))}}else _e?(oe=[],me=kt(nt)):(te=[],Oe=kt(nt))}if(Ae&&!("inside"===nt.minor.ticks&&"outside"===nt.ticks||"outside"===nt.minor.ticks&&"inside"===nt.ticks)){for(var Ve=oe.map(function(un){return un.value}),Ze=[],tn=0;tn<te.length;tn++){var rn=te[tn],ln=rn.value;if(-1===Ve.indexOf(ln)){for(var cn=!1,sn=0;!cn&&sn<oe.length;sn++)1e7+oe[sn].value===1e7+ln&&(cn=!0);cn||Ze.push(rn)}}te=Ze}if(Yt&&function(un,$e,Ge){for(var Ee=0;Ee<un.length;Ee++){var hn=un[Ee].value,Tn=Ee,xn=Ee+1;Ee<un.length-1?(Tn=Ee,xn=Ee+1):Ee>0?(Tn=Ee-1,xn=Ee):(Tn=Ee,xn=Ee);var bn,An=Math.abs(un[xn].value-un[Tn].value),Ln=Ge||An,Sn=0;Ln>=x?Sn=An>=x&&An<=T?An:w:Ge===y&&Ln>=A?Sn=An>=A&&An<=m?An:y:Ln>=L?Sn=An>=L&&An<=b?An:k:Ge===g&&Ln>=g?Sn=g:Ln>=S?Sn=S:Ge===I&&Ln>=I?Sn=I:Ge===v&&Ln>=v&&(Sn=v),Sn>=An&&(Sn=An,bn=!0);var qn=hn+Sn;if($e.rangebreaks&&Sn>0){for(var zn=0,$n=0;$n<84;$n++){var Gn=($n+.5)/84;$e.maskBreaks(hn*(1-Gn)+Gn*qn)!==B&&zn++}(Sn*=zn/84)||(un[Ee].drop=!0),bn&&An>g&&(Sn=An)}(Sn>0||0===Ee)&&(un[Ee].periodX=hn+Sn/2)}}(oe,nt,nt._definedDelta),nt.rangebreaks){var fn="y"===nt._id.charAt(0),Xe=1;"auto"===nt.tickmode&&(Xe=nt.tickfont?nt.tickfont.size:12);var gn=NaN;for(Mt=oe.length-1;Mt>-1;Mt--)if(oe[Mt].drop)oe.splice(Mt,1);else{oe[Mt].value=xe(oe[Mt].value,nt);var Mn=nt.c2p(oe[Mt].value);(fn?gn>Mn-Xe:gn<Mn+Xe)?oe.splice(ae?Mt+1:Mt,1):gn=Mn}}Ce(nt)&&360===Math.abs(ee[1]-ee[0])&&oe.pop(),nt._tmax=(oe[oe.length-1]||{}).value,nt._prevDateHead="",nt._inCalcTicks=!0;var Ye,dn,an=function(un){un.text="",nt._prevDateHead=Pt};for(oe=oe.concat(te),Mt=0;Mt<oe.length;Mt++){var vn=oe[Mt].value;oe[Mt].minor?Oe.push({x:vn,minor:!0}):(Pt=nt._prevDateHead,Ye=D.tickText(nt,vn,!1,oe[Mt].simpleLabel),void 0!==(dn=oe[Mt].periodX)&&(Ye.periodX=dn,(dn>Me||dn<he)&&(dn>Me&&(Ye.periodX=Me),dn<he&&(Ye.periodX=he),an(Ye))),oe[Mt].skipLabel&&an(Ye),me.push(Ye))}return me=me.concat(Oe),nt._inCalcTicks=!1,Yt&&me.length&&(me[0].noTick=!0),me};var Et=[2,5,10],It=[1,2,3,6,12],Lt=[1,2,5,10,15,30],lt=[1,2,3,7,14],at=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],dt=[-.301,0,.301,.699,1],mt=[15,30,45,90,180];function St(nt,it,Mt){return it*n.roundUp(nt/it,Mt)}function bt(nt){var it=nt.dtick;if(nt._tickexponent=0,l(it)||"string"==typeof it||(it=1),"category"!==nt.type&&"multicategory"!==nt.type||(nt._tickround=null),"date"===nt.type){var Mt=nt.r2l(nt.tick0),Pt=nt.l2r(Mt).replace(/(^-|i)/g,""),Ut=Pt.length;if("M"===String(it).charAt(0))nt._tickround=Ut>10||"01-01"!==Pt.substr(5)?"d":+it.substr(1)%12==0?"y":"m";else if(it>=S&&Ut<=10||it>=15*S)nt._tickround="d";else if(it>=R&&Ut<=16||it>=v)nt._tickround="M";else if(it>=z&&Ut<=19||it>=R)nt._tickround="S";else{var Rt=nt.l2r(Mt+it).replace(/^-/,"").length;nt._tickround=Math.max(Ut,Rt)-20,nt._tickround<0&&(nt._tickround=4)}}else if(l(it)||"L"===it.charAt(0)){var jt=nt.range.map(nt.r2d||Number);l(it)||(it=Number(it.substr(1))),nt._tickround=2-Math.floor(Math.log(it)/Math.LN10+.01);var Yt=Math.max(Math.abs(jt[0]),Math.abs(jt[1])),ee=Math.floor(Math.log(Yt)/Math.LN10+.01),ae=void 0===nt.minexponent?3:nt.minexponent;Math.abs(ee)>ae&&(nt._tickexponent=Nt(nt.exponentformat)&&!Dt(ee)?3*Math.round((ee-1)/3):ee)}else nt._tickround=null}function wt(nt,it,Mt){var Pt=nt.tickfont||{};return{x:it,dx:0,dy:0,text:Mt||"",fontSize:Pt.size,font:Pt.family,fontColor:Pt.color}}D.autoTicks=function(nt,it,Mt){var Pt;function Ut(Me){return Math.pow(Me,Math.floor(Math.log(it)/Math.LN10))}if("date"===nt.type){nt.tick0=n.dateTick0(nt.calendar,0);var Rt=2*it;if(Rt>w)it/=w,Pt=Ut(10),nt.dtick="M"+12*St(it,Pt,Et);else if(Rt>k)nt.dtick="M"+St(it/=k,1,It);else if(Rt>S){if(nt.dtick=St(it,S,nt._hasDayOfWeekBreaks?[1,2,7,14]:lt),!Mt){var jt=D.getTickFormat(nt),Yt="period"===nt.ticklabelmode;Yt&&(nt._rawTick0=nt.tick0),nt.tick0=/%[uVW]/.test(jt)?n.dateTick0(nt.calendar,2):n.dateTick0(nt.calendar,1),Yt&&(nt._dowTick0=nt.tick0)}}else Rt>v?nt.dtick=St(it,v,It):Rt>R?nt.dtick=St(it,R,Lt):Rt>z?nt.dtick=St(it,z,Lt):(Pt=Ut(10),nt.dtick=St(it,Pt,Et))}else if("log"===nt.type){nt.tick0=0;var ee=n.simpleMap(nt.range,nt.r2l);if(nt._isMinor&&(it*=1.5),it>.7)nt.dtick=Math.ceil(it);else if(Math.abs(ee[1]-ee[0])<1){var ae=1.5*Math.abs((ee[1]-ee[0])/it);it=Math.abs(Math.pow(10,ee[1])-Math.pow(10,ee[0]))/ae,Pt=Ut(10),nt.dtick="L"+St(it,Pt,Et)}else nt.dtick=it>.3?"D2":"D1"}else"category"===nt.type||"multicategory"===nt.type?(nt.tick0=0,nt.dtick=Math.ceil(Math.max(it,1))):Ce(nt)?(nt.tick0=0,nt.dtick=St(it,Pt=1,mt)):(nt.tick0=0,Pt=Ut(10),nt.dtick=St(it,Pt,Et));if(0===nt.dtick&&(nt.dtick=1),!l(nt.dtick)&&"string"!=typeof nt.dtick){var he=nt.dtick;throw nt.dtick=1,"ax.dtick error: "+String(he)}},D.tickIncrement=function(nt,it,Mt,Pt){var Ut=Mt?-1:1;if(l(it))return n.increment(nt,Ut*it);var Rt=it.charAt(0),jt=Ut*Number(it.substr(1));if("M"===Rt)return n.incrementMonth(nt,jt,Pt);if("L"===Rt)return Math.log(Math.pow(10,nt)+jt)/Math.LN10;if("D"===Rt){var Yt="D2"===it?dt:at,ee=nt+.01*Ut,ae=n.roundUp(n.mod(ee,1),Yt,Mt);return Math.floor(ee)+Math.log(t.round(Math.pow(10,ae),1))/Math.LN10}throw"unrecognized dtick "+String(it)},D.tickFirst=function(nt,it){var Mt=nt.r2l||Number,Pt=n.simpleMap(nt.range,Mt,void 0,void 0,it),Ut=Pt[1]<Pt[0],Rt=Ut?Math.floor:Math.ceil,jt=$(Pt)[0],Yt=nt.dtick,ee=Mt(nt.tick0);if(l(Yt)){var ae=Rt((jt-ee)/Yt)*Yt+ee;return"category"!==nt.type&&"multicategory"!==nt.type||(ae=n.constrain(ae,0,nt._categories.length-1)),ae}var he=Yt.charAt(0),Me=Number(Yt.substr(1));if("M"===he){for(var re,me,Oe,oe=0,te=ee;oe<10;){if(((re=D.tickIncrement(te,Yt,Ut,nt.calendar))-jt)*(te-jt)<=0)return Ut?Math.min(te,re):Math.max(te,re);me=(jt-(te+re)/2)/(re-te),Oe=he+(Math.abs(Math.round(me))||1)*Me,te=D.tickIncrement(te,Oe,me<0?!Ut:Ut,nt.calendar),oe++}return n.error("tickFirst did not converge",nt),te}if("L"===he)return Math.log(Rt((Math.pow(10,jt)-ee)/Me)*Me+ee)/Math.LN10;if("D"===he){var Ae="D2"===Yt?dt:at,_e=n.roundUp(n.mod(jt,1),Ae,Ut);return Math.floor(jt)+Math.log(t.round(Math.pow(10,_e),1))/Math.LN10}throw"unrecognized dtick "+String(Yt)},D.tickText=function(nt,it,Mt,Pt){var Ut,Rt=wt(nt,it),jt="array"===nt.tickmode,Yt=Mt||jt,ee=nt.type,ae="category"===ee?nt.d2l_noadd:nt.d2l;if(jt&&Array.isArray(nt.ticktext)){var he=n.simpleMap(nt.range,nt.r2l),Me=(Math.abs(he[1]-he[0])-(nt._lBreaks||0))/1e4;for(Ut=0;Ut<nt.ticktext.length&&!(Math.abs(it-ae(nt.tickvals[Ut]))<Me);Ut++);if(Ut<nt.ticktext.length)return Rt.text=String(nt.ticktext[Ut]),Rt}function re(oe){return void 0===oe||(Mt?"none"===oe:"all"!==oe&&it!=={first:nt._tmin,last:nt._tmax}[oe])}var te,Ae,me=Mt?"never":"none"!==nt.exponentformat&&re(nt.showexponent)?"hide":"";if("date"===ee?function(oe,te,Ae,_e){var ge=oe._tickround,we=Ae&&oe.hoverformat||D.getTickFormat(oe);_e&&(ge=l(ge)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[ge]);var fe,Ne=n.formatDate(te.x,we,ge,oe._dateFormat,oe.calendar,oe._extraFormat),Pe=Ne.indexOf("\n");if(-1!==Pe&&(fe=Ne.substr(Pe+1),Ne=Ne.substr(0,Pe)),_e&&("00:00:00"===Ne||"00:00"===Ne?(Ne=fe,fe=""):8===Ne.length&&(Ne=Ne.replace(/:00$/,""))),fe)if(Ae)"d"===ge?Ne+=", "+fe:Ne=fe+(Ne?", "+Ne:"");else if(oe._inCalcTicks&&oe._prevDateHead===fe){var ze=ye(oe),Ue=oe._trueSide||oe.side;(!ze&&"top"===Ue||ze&&"bottom"===Ue)&&(Ne+="<br> ")}else oe._prevDateHead=fe,Ne+="<br>"+fe;te.text=Ne}(nt,Rt,Mt,Yt):"log"===ee?function(oe,te,Ae,_e,ge){var we=oe.dtick,fe=te.x,Ne=oe.tickformat,Pe="string"==typeof we&&we.charAt(0);if("never"===ge&&(ge=""),_e&&"L"!==Pe&&(we="L3",Pe="L"),Ne||"L"===Pe)te.text=zt(Math.pow(10,fe),oe,ge,_e);else if(l(we)||"D"===Pe&&n.mod(fe+.01,1)<.1){var ze=Math.round(fe),Ue=Math.abs(ze),Je=oe.exponentformat;"power"===Je||Nt(Je)&&Dt(ze)?(te.text=0===ze?1:1===ze?"10":"10<sup>"+(ze>1?"":F)+Ue+"</sup>",te.fontSize*=1.25):("e"===Je||"E"===Je)&&Ue>2?te.text="1"+Je+(ze>0?"+":F)+Ue:(te.text=zt(Math.pow(10,fe),oe,"","fakehover"),"D1"===we&&"y"===oe._id.charAt(0)&&(te.dy-=te.fontSize/6))}else{if("D"!==Pe)throw"unrecognized dtick "+String(we);te.text=String(Math.round(Math.pow(10,n.mod(fe,1)))),te.fontSize*=.75}if("D1"===oe.dtick){var He=String(te.text).charAt(0);"0"!==He&&"1"!==He||("y"===oe._id.charAt(0)?te.dx-=te.fontSize/4:(te.dy+=te.fontSize/2,te.dx+=(oe.range[1]>oe.range[0]?1:-1)*te.fontSize*(fe<0?.5:.25)))}}(nt,Rt,0,Yt,me):"category"===ee?(te=Rt,void 0===(Ae=nt._categories[Math.round(te.x)])&&(Ae=""),te.text=String(Ae)):"multicategory"===ee?function(oe,te,Ae){var _e=Math.round(te.x),ge=oe._categories[_e]||[],we=void 0===ge[1]?"":String(ge[1]),fe=void 0===ge[0]?"":String(ge[0]);Ae?te.text=fe+" - "+we:(te.text=we,te.text2=fe)}(nt,Rt,Mt):Ce(nt)?function(oe,te,Ae,_e,ge){if("radians"!==oe.thetaunit||Ae)te.text=zt(te.x,oe,ge,_e);else{var we=te.x/180;if(0===we)te.text="0";else{var fe=function(Pe){function ze(be,ve){return Math.abs(be-ve)<=1e-6}var Ue=function(be){for(var ve=1;!ze(Math.round(be*ve)/ve,be);)ve*=10;return ve}(Pe),Je=Pe*Ue,He=Math.abs(function be(ve,ke){return ze(ke,0)?ve:be(ke,ve%ke)}(Je,Ue));return[Math.round(Je/He),Math.round(Ue/He)]}(we);if(fe[1]>=100)te.text=zt(n.deg2rad(te.x),oe,ge,_e);else{var Ne=te.x<0;te.text=1===fe[1]?1===fe[0]?"\u03c0":fe[0]+"\u03c0":["<sup>",fe[0],"</sup>","\u2044","<sub>",fe[1],"</sub>","\u03c0"].join(""),Ne&&(te.text=F+te.text)}}}}(nt,Rt,Mt,Yt,me):function(oe,te,Ae,_e,ge){"never"===ge?ge="":"all"===oe.showexponent&&Math.abs(te.x/oe.dtick)<1e-6&&(ge="hide"),te.text=zt(te.x,oe,ge,_e)}(nt,Rt,0,Yt,me),Pt||(nt.tickprefix&&!re(nt.showtickprefix)&&(Rt.text=nt.tickprefix+Rt.text),nt.ticksuffix&&!re(nt.showticksuffix)&&(Rt.text+=nt.ticksuffix)),"boundaries"===nt.tickson||nt.showdividers){var Oe=function(oe){var te=nt.l2p(oe);return te>=0&&te<=nt._length?oe:null};Rt.xbnd=[Oe(Rt.x-.5),Oe(Rt.x+nt.dtick-.5)]}return Rt},D.hoverLabelText=function(nt,it,Mt){Mt&&(nt=n.extendFlat({},nt,{hoverformat:Mt}));var Pt=Array.isArray(it)?it[0]:it,Ut=Array.isArray(it)?it[1]:void 0;if(void 0!==Ut&&Ut!==Pt)return D.hoverLabelText(nt,Pt,Mt)+" - "+D.hoverLabelText(nt,Ut,Mt);var Rt="log"===nt.type&&Pt<=0,jt=D.tickText(nt,nt.c2l(Rt?-Pt:Pt),"hover").text;return Rt?0===Pt?"0":F+jt:jt};var Ot=["f","p","n","\u03bc","m","","k","M","G","T"];function Nt(nt){return"SI"===nt||"B"===nt}function Dt(nt){return nt>14||nt<-15}function zt(nt,it,Mt,Pt){var Ut=nt<0,Rt=it._tickround,jt=Mt||it.exponentformat||"B",Yt=it._tickexponent,ee=D.getTickFormat(it),ae=it.separatethousands;if(Pt){var he={exponentformat:jt,minexponent:it.minexponent,dtick:"none"===it.showexponent?it.dtick:l(nt)&&Math.abs(nt)||1,range:"none"===it.showexponent?it.range.map(it.r2d):[0,nt||1]};bt(he),Rt=(Number(he._tickround)||0)+4,Yt=he._tickexponent,it.hoverformat&&(ee=it.hoverformat)}if(ee)return it._numFormat(ee)(nt).replace(/-/g,F);var Me,re=Math.pow(10,-Rt)/2;if("none"===jt&&(Yt=0),(nt=Math.abs(nt))<re)nt="0",Ut=!1;else{if(nt+=re,Yt&&(nt*=Math.pow(10,-Yt),Rt+=Yt),0===Rt)nt=String(Math.floor(nt));else if(Rt<0){nt=(nt=String(Math.round(nt))).substr(0,nt.length+Rt);for(var me=Rt;me<0;me++)nt+="0"}else{var Oe=(nt=String(nt)).indexOf(".")+1;Oe&&(nt=nt.substr(0,Oe+Rt).replace(/\.?0+$/,""))}nt=n.numSeparate(nt,it._separators,ae)}return Yt&&"hide"!==jt&&(Nt(jt)&&Dt(Yt)&&(jt="power"),Me=Yt<0?F+-Yt:"power"!==jt?"+"+Yt:String(Yt),"e"===jt||"E"===jt?nt+=jt+Me:"power"===jt?nt+="\xd710<sup>"+Me+"</sup>":"B"===jt&&9===Yt?nt+="B":Nt(jt)&&(nt+=Ot[Yt/3+5])),Ut?F+nt:nt}function Vt(nt,it){for(var Mt=[],Pt={},Ut=0;Ut<it.length;Ut++){var Rt=it[Ut];Pt[Rt.text2]?Pt[Rt.text2].push(Rt.x):Pt[Rt.text2]=[Rt.x]}for(var jt in Pt)Mt.push(wt(nt,n.interp(Pt[jt],.5),jt));return Mt}function Ct(nt){return void 0!==nt.periodX?nt.periodX:nt.x}function Zt(nt){return[nt.text,nt.x,nt.axInfo,nt.font,nt.fontSize,nt.fontColor].join("_")}function Kt(nt){var it=nt.title.font.size,Mt=(nt.title.text.match(a.BR_TAG_ALL)||[]).length;return nt.title.hasOwnProperty("standoff")?Mt?it*(N+Mt*Z):it*N:Mt?it*(Mt+1)*Z:it}function Jt(nt,it){var Mt=nt.l2p(it);return Mt>1&&Mt<nt._length-1}function de(nt){var it=t.select(nt),Mt=it.select(".text-math-group");return Mt.empty()?it.select("text"):Mt}function $t(nt){return nt._id+".automargin"}function Tt(nt){return $t(nt)+".mirror"}function At(nt){return nt._id+".rangeslider"}function qt(nt,it){for(var Mt=0;Mt<it.length;Mt++)-1===nt.indexOf(it[Mt])&&nt.push(it[Mt])}function ue(nt,it,Mt){var Pt,Ut,Rt=[],jt=[],Yt=nt.layout;for(Pt=0;Pt<it.length;Pt++)Rt.push(D.getFromId(nt,it[Pt]));for(Pt=0;Pt<Mt.length;Pt++)jt.push(D.getFromId(nt,Mt[Pt]));var ee=Object.keys(f),ae=["anchor","domain","overlaying","position","side","tickangle","editType"],he=["linear","log"];for(Pt=0;Pt<ee.length;Pt++){var Me=ee[Pt],re=Rt[0][Me],me=jt[0][Me],Oe=!0,oe=!1,te=!1;if("_"!==Me.charAt(0)&&"function"!=typeof re&&-1===ae.indexOf(Me)){for(Ut=1;Ut<Rt.length&&Oe;Ut++){var Ae=Rt[Ut][Me];"type"===Me&&-1!==he.indexOf(re)&&-1!==he.indexOf(Ae)&&re!==Ae?oe=!0:Ae!==re&&(Oe=!1)}for(Ut=1;Ut<jt.length&&Oe;Ut++){var _e=jt[Ut][Me];"type"===Me&&-1!==he.indexOf(me)&&-1!==he.indexOf(_e)&&me!==_e?te=!0:jt[Ut][Me]!==me&&(Oe=!1)}Oe&&(oe&&(Yt[Rt[0]._name].type="linear"),te&&(Yt[jt[0]._name].type="linear"),Te(Yt,Me,Rt,jt,nt._fullLayout._dfltTitle))}}for(Pt=0;Pt<nt._fullLayout.annotations.length;Pt++){var ge=nt._fullLayout.annotations[Pt];-1!==it.indexOf(ge.xref)&&-1!==Mt.indexOf(ge.yref)&&n.swapAttrs(Yt.annotations[Pt],["?"])}}function Te(nt,it,Mt,Pt,Ut){var Rt,jt=n.nestedProperty,Yt=jt(nt[Mt[0]._name],it).get(),ee=jt(nt[Pt[0]._name],it).get();for("title"===it&&(Yt&&Yt.text===Ut.x&&(Yt.text=Ut.y),ee&&ee.text===Ut.y&&(ee.text=Ut.x)),Rt=0;Rt<Mt.length;Rt++)jt(nt,Mt[Rt]._name+"."+it).set(ee);for(Rt=0;Rt<Pt.length;Rt++)jt(nt,Pt[Rt]._name+"."+it).set(Yt)}function Ce(nt){return"angularaxis"===nt._id}function xe(nt,it){for(var Mt=it._rangebreaks.length,Pt=0;Pt<Mt;Pt++){var Ut=it._rangebreaks[Pt];if(nt>=Ut.min&&nt<Ut.max)return Ut.max}return nt}function ye(nt){return-1!==(nt.ticklabelposition||"").indexOf("inside")}function ce(nt,it){ye(nt._anchorAxis||{})&&nt._hideCounterAxisInsideTickLabels&&nt._hideCounterAxisInsideTickLabels(it)}D.getTickFormat=function(nt){var it,Mt,Pt,Ut,Rt,jt,Yt,ee,re,me,Oe,oe,te,Ae;function ae(re){return"string"!=typeof re?re:Number(re.replace("M",""))*k}function he(re,me){var Oe=["L","D"];if(typeof re==typeof me){if("number"==typeof re)return re-me;var oe=Oe.indexOf(re.charAt(0)),te=Oe.indexOf(me.charAt(0));return oe===te?Number(re.replace(/(L|D)/g,""))-Number(me.replace(/(L|D)/g,"")):oe-te}return"number"==typeof re?1:-1}if(nt.tickformatstops&&nt.tickformatstops.length>0)switch(nt.type){case"date":case"linear":for(it=0;it<nt.tickformatstops.length;it++)if((Pt=nt.tickformatstops[it]).enabled&&(Ut=nt.dtick,jt=void 0,jt=ae||function(re){return re},ee=(Rt=Pt.dtickrange)[1],(!(Yt=Rt[0])&&"number"!=typeof Yt||jt(Yt)<=jt(Ut))&&(!ee&&"number"!=typeof ee||jt(ee)>=jt(Ut)))){Mt=Pt;break}break;case"log":for(it=0;it<nt.tickformatstops.length;it++)if((Pt=nt.tickformatstops[it]).enabled&&(void 0,void 0,void 0,void 0,Oe=null===(me=Pt.dtickrange)[0],oe=null===me[1],te=he(re=nt.dtick,me[0])>=0,Ae=he(re,me[1])<=0,(Oe||te)&&(oe||Ae))){Mt=Pt;break}}return Mt?Mt.value:nt.tickformat},D.getSubplots=function(nt,it){var Mt=nt._fullLayout._subplots,Pt=Mt.cartesian.concat(Mt.gl2d||[]),Ut=it?D.findSubplotsWithAxis(Pt,it):Pt;return Ut.sort(function(Rt,jt){var Yt=Rt.substr(1).split("y"),ee=jt.substr(1).split("y");return Yt[0]===ee[0]?+Yt[1]-+ee[1]:+Yt[0]-+ee[0]}),Ut},D.findSubplotsWithAxis=function(nt,it){for(var Mt=new RegExp("x"===it._id.charAt(0)?"^"+it._id+"y":it._id+"$"),Pt=[],Ut=0;Ut<nt.length;Ut++){var Rt=nt[Ut];Mt.test(Rt)&&Pt.push(Rt)}return Pt},D.makeClipPaths=function(nt){var it=nt._fullLayout;if(!it._hasOnlyLargeSploms){var Mt,Pt,Ut={_offset:0,_length:it.width,_id:""},Rt={_offset:0,_length:it.height,_id:""},jt=D.list(nt,"x",!0),Yt=D.list(nt,"y",!0),ee=[];for(Mt=0;Mt<jt.length;Mt++)for(ee.push({x:jt[Mt],y:Rt}),Pt=0;Pt<Yt.length;Pt++)0===Mt&&ee.push({x:Ut,y:Yt[Pt]}),ee.push({x:jt[Mt],y:Yt[Pt]});var ae=it._clips.selectAll(".axesclip").data(ee,function(he){return he.x._id+he.y._id});ae.enter().append("clipPath").classed("axesclip",!0).attr("id",function(he){return"clip"+it._uid+he.x._id+he.y._id}).append("rect"),ae.exit().remove(),ae.each(function(he){t.select(this).select("rect").attr({x:he.x._offset||0,y:he.y._offset||0,width:he.x._length||1,height:he.y._length||1})})}},D.draw=function(nt,it,Mt){var Pt=nt._fullLayout;"redraw"===it&&Pt._paper.selectAll("g.subplot").each(function(Rt){var Yt=Pt._plots[Rt[0]];if(Yt){var ee=Yt.xaxis,ae=Yt.yaxis;Yt.xaxislayer.selectAll("."+ee._id+"tick").remove(),Yt.yaxislayer.selectAll("."+ae._id+"tick").remove(),Yt.xaxislayer.selectAll("."+ee._id+"tick2").remove(),Yt.yaxislayer.selectAll("."+ae._id+"tick2").remove(),Yt.xaxislayer.selectAll("."+ee._id+"divider").remove(),Yt.yaxislayer.selectAll("."+ae._id+"divider").remove(),Yt.minorGridlayer&&Yt.minorGridlayer.selectAll("path").remove(),Yt.gridlayer&&Yt.gridlayer.selectAll("path").remove(),Yt.zerolinelayer&&Yt.zerolinelayer.selectAll("path").remove(),Pt._infolayer.select(".g-"+ee._id+"title").remove(),Pt._infolayer.select(".g-"+ae._id+"title").remove()}});var Ut=it&&"redraw"!==it?it:D.listIds(nt);return n.syncOrAsync(Ut.map(function(Rt){return function(){if(Rt){var jt=D.getFromId(nt,Rt),Yt=D.drawOne(nt,jt,Mt);return jt._r=jt.range.slice(),jt._rl=n.simpleMap(jt._r,jt.r2l),Yt}}}))},D.drawOne=function(nt,it,Mt){var Pt,Ut,Rt;Mt=Mt||{},it.setScale();var jt=nt._fullLayout,Yt=it._id,ee=Yt.charAt(0),ae=D.counterLetter(Yt),he=jt._plots[it._mainSubplot];if(he){var Me=he[ee+"axislayer"],re=it._mainLinePosition,me=it._mainMirrorPosition,Oe=it._vals=D.calcTicks(it),oe=[it.mirror,re,me].join("_");for(Pt=0;Pt<Oe.length;Pt++)Oe[Pt].axInfo=oe;it._selections={},it._tickAngles&&(it._prevTickAngles=it._tickAngles),it._tickAngles={},it._depth=null;var te={};if(it.visible){var Ae,_e,ge=D.makeTransTickFn(it),we=D.makeTransTickLabelFn(it),fe="inside"===it.ticks,Ne="outside"===it.ticks;if("boundaries"===it.tickson){var Pe=function(Ge,Ee){var hn,Tn=[],xn=function(bn,wn){var On=bn.xbnd[wn];null!==On&&Tn.push(n.extendFlat({},bn,{x:On}))};if(Ee.length){for(hn=0;hn<Ee.length;hn++)xn(Ee[hn],0);xn(Ee[hn-1],1)}return Tn}(0,Oe);_e=D.clipEnds(it,Pe),Ae=fe?_e:Pe}else _e=D.clipEnds(it,Oe),Ae=fe&&"period"!==it.ticklabelmode?_e:Oe;var ze,Ue=it._gridVals=_e,Je=function(Ge,Ee){var hn,Tn,xn=[],bn=Ee.length&&Ee[Ee.length-1].x<Ee[0].x,wn=function(An,Ln){var Sn=An.xbnd[Ln];null!==Sn&&xn.push(n.extendFlat({},An,{x:Sn}))};if(Ge.showdividers&&Ee.length){for(hn=0;hn<Ee.length;hn++){var On=Ee[hn];On.text2!==Tn&&wn(On,bn?1:0),Tn=On.text2}wn(Ee[hn-1],bn?0:1)}return xn}(it,Oe);if(!jt._hasOnlyLargeSploms){var He=it._subplotsWith,be={};for(Pt=0;Pt<He.length;Pt++){var ve=(Rt=jt._plots[Ut=He[Pt]])[ae+"axis"],ke=ve._mainAxis._id;if(!be[ke]){be[ke]=1;var Fe="x"===ee?"M0,"+ve._offset+"v"+ve._length:"M"+ve._offset+",0h"+ve._length;D.drawGrid(nt,it,{vals:Ue,counterAxis:ve,layer:Rt.gridlayer.select("."+Yt),minorLayer:Rt.minorGridlayer.select("."+Yt),path:Fe,transFn:ge}),D.drawZeroLine(nt,it,{counterAxis:ve,layer:Rt.zerolinelayer,path:Fe,transFn:ge})}}}var De=D.getTickSigns(it),Ve=D.getTickSigns(it,"minor");if(it.ticks||it.minor&&it.minor.ticks){var Ze,tn,rn,ln,cn=D.makeTickPath(it,re,De[2]),sn=D.makeTickPath(it,re,Ve[2],{minor:!0});if(it._anchorAxis&&it.mirror&&!0!==it.mirror?(Ze=D.makeTickPath(it,me,De[3]),tn=D.makeTickPath(it,me,Ve[3],{minor:!0}),rn=cn+Ze,ln=sn+tn):(Ze="",tn="",rn=cn,ln=sn),it.showdividers&&Ne&&"boundaries"===it.tickson){var fn={};for(Pt=0;Pt<Je.length;Pt++)fn[Je[Pt].x]=1;ze=function(Ge){return fn[Ge.x]?Ze:rn}}else ze=function(Ge){return Ge.minor?ln:rn}}if(D.drawTicks(nt,it,{vals:Ae,layer:Me,path:ze,transFn:ge}),"allticks"===it.mirror){var Xe=Object.keys(it._linepositions||{});for(Pt=0;Pt<Xe.length;Pt++){Rt=jt._plots[Ut=Xe[Pt]];var gn=it._linepositions[Ut]||[],Ye=gn[1],dn=gn[2],an=D.makeTickPath(it,gn[0],dn?De[0]:Ve[0],{minor:dn})+D.makeTickPath(it,Ye,dn?De[1]:Ve[1],{minor:dn});D.drawTicks(nt,it,{vals:Ae,layer:Rt[ee+"axislayer"],path:an,transFn:ge})}}var qe=[];if(qe.push(function(){return D.drawLabels(nt,it,{vals:Oe,layer:Me,plotinfo:Rt,transFn:we,labelFns:D.makeLabelFns(it,re)})}),"multicategory"===it.type){var vn={x:2,y:10}[ee];qe.push(function(){var Ge={x:"height",y:"width"}[ee],Ee=$e()[Ge]+vn+(it._tickAngles[Yt+"tick"]?it.tickfont.size*Z:0);return D.drawLabels(nt,it,{vals:Vt(it,Oe),layer:Me,cls:Yt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:ge,labelFns:D.makeLabelFns(it,re+Ee*De[4])})}),qe.push(function(){return it._depth=De[4]*($e("tick2")[it.side]-re),Ge=nt,Ee=it,xn=(hn={vals:Je,layer:Me,path:D.makeTickPath(it,re,De[4],{len:it._depth}),transFn:ge}).vals,(bn=hn.layer.selectAll("path."+(Tn=Ee._id+"divider")).data(xn,Zt)).exit().remove(),bn.enter().insert("path",":first-child").classed(Tn,1).classed("crisp",1).call(r.stroke,Ee.dividercolor).style("stroke-width",d.crispRound(Ge,Ee.dividerwidth,1)+"px"),void bn.attr("transform",hn.transFn).attr("d",hn.path);var Ge,Ee,hn,Tn,xn,bn})}else it.title.hasOwnProperty("standoff")&&qe.push(function(){it._depth=De[4]*($e()[it.side]-re)});var un=e.getComponentMethod("rangeslider","isVisible")(it);return qe.push(function(){var Ge,Ee,hn,Tn,xn=it.side.charAt(0),bn=U[it.side].charAt(0),wn=D.getPxPosition(nt,it),On=Ne?it.ticklen:0;if((it.automargin||un)&&("multicategory"===it.type?Ge=$e("tick2"):(Ge=$e(),"x"===ee&&"b"===xn&&(it._depth=Math.max(Ge.width>0?Ge.bottom-wn:0,On)))),it.automargin){Ee={x:0,y:0,r:0,l:0,t:0,b:0};var An=[0,1];if("x"===ee){if("b"===xn?Ee[xn]=it._depth:(Ee[xn]=it._depth=Math.max(Ge.width>0?wn-Ge.top:0,On),An.reverse()),Ge.width>0){var Ln=Ge.right-(it._offset+it._length);Ln>0&&(Ee.xr=1,Ee.r=Ln);var Sn=it._offset-Ge.left;Sn>0&&(Ee.xl=0,Ee.l=Sn)}}else if("l"===xn?Ee[xn]=it._depth=Math.max(Ge.height>0?wn-Ge.left:0,On):(Ee[xn]=it._depth=Math.max(Ge.height>0?Ge.right-wn:0,On),An.reverse()),Ge.height>0){var qn=Ge.bottom-(it._offset+it._length);qn>0&&(Ee.yb=0,Ee.b=qn);var zn=it._offset-Ge.top;zn>0&&(Ee.yt=1,Ee.t=zn)}Ee[ae]="free"===it.anchor?it.position:it._anchorAxis.domain[An[0]],it.title.text!==jt._dfltTitle[ee]&&(Ee[xn]+=Kt(it)+(it.title.standoff||0)),it.mirror&&"free"!==it.anchor&&((hn={x:0,y:0,r:0,l:0,t:0,b:0})[bn]=it.linewidth,it.mirror&&!0!==it.mirror&&(hn[bn]+=On),!0===it.mirror||"ticks"===it.mirror?hn[ae]=it._anchorAxis.domain[An[1]]:"all"!==it.mirror&&"allticks"!==it.mirror||(hn[ae]=[it._counterDomainMin,it._counterDomainMax][An[1]]))}un&&(Tn=e.getComponentMethod("rangeslider","autoMarginOpts")(nt,it)),o.autoMargin(nt,$t(it),Ee),o.autoMargin(nt,Tt(it),hn),o.autoMargin(nt,At(it),Tn)}),Mt.skipTitle||un&&"bottom"===it.side||qe.push(function(){return function(Ge,Ee){var hn,Tn=Ge._fullLayout,xn=Ee._id,bn=xn.charAt(0),wn=Ee.title.font.size;if(Ee.title.hasOwnProperty("standoff"))hn=Ee._depth+Ee.title.standoff+Kt(Ee);else{var On=ye(Ee);if("multicategory"===Ee.type)hn=Ee._depth;else{var An=1.5*wn;On&&(An=.5*wn,"outside"===Ee.ticks&&(An+=Ee.ticklen)),hn=10+An+(Ee.linewidth?Ee.linewidth-1:0)}On||(hn+="x"===bn?"top"===Ee.side?wn*(Ee.showticklabels?1:0):wn*(Ee.showticklabels?1.5:.5):"right"===Ee.side?wn*(Ee.showticklabels?1:.5):wn*(Ee.showticklabels?.5:0))}var Ln,Sn,qn,zn,$n=D.getPxPosition(Ge,Ee);if("x"===bn?(Sn=Ee._offset+Ee._length/2,qn="top"===Ee.side?$n-hn:$n+hn):(qn=Ee._offset+Ee._length/2,Sn="right"===Ee.side?$n+hn:$n-hn,Ln={rotate:"-90",offset:0}),"multicategory"!==Ee.type){var Gn=Ee._selections[Ee._id+"tick"];if(zn={selection:Gn,side:Ee.side},Gn&&Gn.node()&&Gn.node().parentNode){var dr=d.getTranslate(Gn.node().parentNode);zn.offsetLeft=dr.x,zn.offsetTop=dr.y}Ee.title.hasOwnProperty("standoff")&&(zn.pad=0)}return i.draw(Ge,xn+"title",{propContainer:Ee,propName:Ee._name+".title.text",placeholder:Tn._dfltTitle[bn],avoid:zn,transform:Ln,attributes:{x:Sn,y:qn,"text-anchor":"middle"}})}(nt,it)}),n.syncOrAsync(qe)}}function $e(Ge){var hn,Tn,xn,bn,wn,On,Ee=Yt+(Ge||"tick");return te[Ee]||(te[Ee]=((hn=it)._selections[Tn=Ee].size()?(xn=1/0,bn=-1/0,wn=1/0,On=-1/0,hn._selections[Tn].each(function(){var An=de(this),Ln=d.bBox(An.node().parentNode);xn=Math.min(xn,Ln.top),bn=Math.max(bn,Ln.bottom),wn=Math.min(wn,Ln.left),On=Math.max(On,Ln.right)})):(xn=0,bn=0,wn=0,On=0),{top:xn,bottom:bn,left:wn,right:On,height:bn-xn,width:On-wn})),te[Ee]}},D.getTickSigns=function(nt,it){var Mt=nt._id.charAt(0),Ut=nt.side==={x:"top",y:"right"}[Mt]?1:-1,Rt=[-1,1,Ut,-Ut];return"inside"!==(it?(nt.minor||{}).ticks:nt.ticks)==("x"===Mt)&&(Rt=Rt.map(function(jt){return-jt})),nt.side&&Rt.push({l:-1,t:-1,r:1,b:1}[nt.side.charAt(0)]),Rt},D.makeTransTickFn=function(nt){return"x"===nt._id.charAt(0)?function(it){return s(nt._offset+nt.l2p(it.x),0)}:function(it){return s(0,nt._offset+nt.l2p(it.x))}},D.makeTransTickLabelFn=function(nt){var it=function(Ut){var Rt=Ut.ticklabelposition||"",jt=function(Ae){return-1!==Rt.indexOf(Ae)},Yt=jt("top"),ee=jt("left"),ae=jt("right"),he=jt("bottom"),Me=jt("inside"),re=he||ee||Yt||ae;if(!re&&!Me)return[0,0];var me=Ut.side,Oe=re?(Ut.tickwidth||0)/2:0,oe=3,te=Ut.tickfont?Ut.tickfont.size:12;return(he||Yt)&&(Oe+=te*N,oe+=(Ut.linewidth||0)/2),(ee||ae)&&(Oe+=(Ut.linewidth||0)/2,oe+=3),Me&&"top"===me&&(oe-=te*(1-N)),(ee||Yt)&&(Oe=-Oe),"bottom"!==me&&"right"!==me||(oe=-oe),[re?Oe:0,Me?oe:0]}(nt),Mt=it[0],Pt=it[1];return"x"===nt._id.charAt(0)?function(Ut){return s(Mt+nt._offset+nt.l2p(Ct(Ut)),Pt)}:function(Ut){return s(Pt,Mt+nt._offset+nt.l2p(Ct(Ut)))}},D.makeTickPath=function(nt,it,Mt,Pt){Pt||(Pt={});var Ut=Pt.minor;if(Ut&&!nt.minor)return"";var Rt=void 0!==Pt.len?Pt.len:Ut?nt.minor.ticklen:nt.ticklen,jt=nt._id.charAt(0),Yt=(nt.linewidth||1)/2;return"x"===jt?"M0,"+(it+Yt*Mt)+"v"+Rt*Mt:"M"+(it+Yt*Mt)+",0h"+Rt*Mt},D.makeLabelFns=function(nt,it,Mt){var Pt=nt.ticklabelposition||"",Ut=function(He){return-1!==Pt.indexOf(He)},Rt=Ut("top"),jt=Ut("left"),Yt=Ut("right"),ee=Ut("bottom")||jt||Rt||Yt,ae=Ut("inside"),he="inside"===Pt&&"inside"===nt.ticks||!ae&&"outside"===nt.ticks&&"boundaries"!==nt.tickson,Me=0,re=0,me=he?nt.ticklen:0;if(ae?me*=-1:ee&&(me=0),he&&(Me+=me,Mt)){var Oe=n.deg2rad(Mt);Me=me*Math.cos(Oe)+1,re=me*Math.sin(Oe)}nt.showticklabels&&(he||nt.showline)&&(Me+=.2*nt.tickfont.size);var oe,te,Ae,_e,ge,we={labelStandoff:Me+=(nt.linewidth||1)/2*(ae?-1:1),labelShift:re},fe=0,Ne=nt.side,Pe=nt._id.charAt(0),ze=nt.tickangle;if("x"===Pe)_e=(ge=!ae&&"bottom"===Ne||ae&&"top"===Ne)?1:-1,ae&&(_e*=-1),oe=re*_e,te=it+Me*_e,Ae=ge?1:-.2,90===Math.abs(ze)&&(ae?Ae+=E:Ae=-90===ze&&"bottom"===Ne?N:90===ze&&"top"===Ne?E:.5,fe=E/2*(ze/90)),we.xFn=function(He){return He.dx+oe+fe*He.fontSize},we.yFn=function(He){return He.dy+te+He.fontSize*Ae},we.anchorFn=function(He,be){if(ee){if(jt)return"end";if(Yt)return"start"}return l(be)&&0!==be&&180!==be?be*_e<0!==ae?"end":"start":"middle"},we.heightFn=function(He,be,ve){return be<-60||be>60?-.5*ve:"top"===nt.side!==ae?-ve:0};else if("y"===Pe){if(_e=(ge=!ae&&"left"===Ne||ae&&"right"===Ne)?1:-1,ae&&(_e*=-1),oe=Me,te=re*_e,Ae=0,ae||90!==Math.abs(ze)||(Ae=-90===ze&&"left"===Ne||90===ze&&"right"===Ne?N:.5),ae){var Ue=l(ze)?+ze:0;if(0!==Ue){var Je=n.deg2rad(Ue);fe=Math.abs(Math.sin(Je))*N*_e,Ae=0}}we.xFn=function(He){return He.dx+it-(oe+He.fontSize*Ae)*_e+fe*He.fontSize},we.yFn=function(He){return He.dy+te+He.fontSize*E},we.anchorFn=function(He,be){return l(be)&&90===Math.abs(be)?"middle":ge?"end":"start"},we.heightFn=function(He,be,ve){return"right"===nt.side&&(be*=-1),be<-30?-ve:be<30?-.5*ve:0}}return we},D.drawTicks=function(nt,it,Mt){Mt=Mt||{};var Pt=it._id+"tick",Ut=[].concat(it.minor&&it.minor.ticks?Mt.vals.filter(function(jt){return jt.minor&&!jt.noTick}):[]).concat(it.ticks?Mt.vals.filter(function(jt){return!jt.minor&&!jt.noTick}):[]),Rt=Mt.layer.selectAll("path."+Pt).data(Ut,Zt);Rt.exit().remove(),Rt.enter().append("path").classed(Pt,1).classed("ticks",1).classed("crisp",!1!==Mt.crisp).each(function(jt){return r.stroke(t.select(this),jt.minor?it.minor.tickcolor:it.tickcolor)}).style("stroke-width",function(jt){return d.crispRound(nt,jt.minor?it.minor.tickwidth:it.tickwidth,1)+"px"}).attr("d",Mt.path).style("display",null),ce(it,[q]),Rt.attr("transform",Mt.transFn)},D.drawGrid=function(nt,it,Mt){Mt=Mt||{};var Pt=it._id+"grid",Ut=it.minor&&it.minor.showgrid,Rt=Ut?Mt.vals.filter(function(Ae){return Ae.minor}):[],jt=it.showgrid?Mt.vals.filter(function(Ae){return!Ae.minor}):[],Yt=Mt.counterAxis;if(Yt&&D.shouldShowZeroLine(nt,it,Yt))for(var ee="array"===it.tickmode,ae=0;ae<jt.length;ae++){var he=jt[ae].x;if(ee?!he:Math.abs(he)<it.dtick/100){if(jt=jt.slice(0,ae).concat(jt.slice(ae+1)),!ee)break;ae--}}it._gw=d.crispRound(nt,it.gridwidth,1);for(var Me=Ut?d.crispRound(nt,it.minor.gridwidth,1):0,re=Mt.layer,me=Mt.minorLayer,Oe=1;Oe>=0;Oe--){var oe=Oe?re:me;if(oe){var te=oe.selectAll("path."+Pt).data(Oe?jt:Rt,Zt);te.exit().remove(),te.enter().append("path").classed(Pt,1).classed("crisp",!1!==Mt.crisp),te.attr("transform",Mt.transFn).attr("d",Mt.path).each(function(Ae){return r.stroke(t.select(this),Ae.minor?it.minor.gridcolor:it.gridcolor||"#ddd")}).style("stroke-dasharray",function(Ae){return d.dashStyle(Ae.minor?it.minor.griddash:it.griddash,Ae.minor?it.minor.gridwidth:it.gridwidth)}).style("stroke-width",function(Ae){return(Ae.minor?Me:it._gw)+"px"}).style("display",null),"function"==typeof Mt.path&&te.attr("d",Mt.path)}}ce(it,[X,ot])},D.drawZeroLine=function(nt,it,Mt){var Pt=it._id+"zl",Ut=D.shouldShowZeroLine(nt,it,(Mt=Mt||Mt).counterAxis),Rt=Mt.layer.selectAll("path."+Pt).data(Ut?[{x:0,id:it._id}]:[]);Rt.exit().remove(),Rt.enter().append("path").classed(Pt,1).classed("zl",1).classed("crisp",!1!==Mt.crisp).each(function(){Mt.layer.selectAll("path").sort(function(jt,Yt){return C(jt.id,Yt.id)})}),Rt.attr("transform",Mt.transFn).attr("d",Mt.path).call(r.stroke,it.zerolinecolor||r.defaultLine).style("stroke-width",d.crispRound(nt,it.zerolinewidth,it._gw||1)+"px").style("display",null),ce(it,[H])},D.drawLabels=function(nt,it,Mt){Mt=Mt||{};var Pt=nt._fullLayout,Ut=it._id,Rt=Ut.charAt(0),jt=Mt.cls||Ut+"tick",Yt=Mt.vals.filter(function(_e){return _e.text}),ee=Mt.labelFns,ae=Mt.secondary?0:it.tickangle,he=(it._prevTickAngles||{})[jt],Me=Mt.layer.selectAll("g."+jt).data(it.showticklabels?Yt:[],Zt),re=[];function me(_e,ge){_e.each(function(we){var fe=t.select(this),Ne=fe.select(".text-math-group"),Pe=ee.anchorFn(we,ge),ze=Mt.transFn.call(fe.node(),we)+(l(ge)&&0!=+ge?" rotate("+ge+","+ee.xFn(we)+","+(ee.yFn(we)-we.fontSize/2)+")":""),Ue=a.lineCount(fe),Je=Z*we.fontSize,He=ee.heightFn(we,l(ge)?+ge:0,(Ue-1)*Je);if(He&&(ze+=s(0,He)),Ne.empty()){var be=fe.select("text");be.attr({transform:ze,"text-anchor":Pe}),be.style("opacity",1),it._adjustTickLabelsOverflow&&it._adjustTickLabelsOverflow()}else{var ve=d.bBox(Ne.node()).width*{end:-.5,start:.5}[Pe];Ne.attr("transform",ze+s(ve,0))}})}Me.enter().append("g").classed(jt,1).append("text").attr("text-anchor","middle").each(function(_e){var ge=t.select(this),we=nt._promises.length;ge.call(a.positionText,ee.xFn(_e),ee.yFn(_e)).call(d.font,_e.font,_e.fontSize,_e.fontColor).text(_e.text).call(a.convertToTspans,nt),nt._promises[we]?re.push(nt._promises.pop().then(function(){me(ge,ae)})):me(ge,ae)}),ce(it,[P]),Me.exit().remove(),Mt.repositionOnUpdate&&Me.each(function(_e){t.select(this).select("text").call(a.positionText,ee.xFn(_e),ee.yFn(_e))}),it._adjustTickLabelsOverflow=function(){var _e=it.ticklabeloverflow;if(_e&&"allow"!==_e){var ge=-1!==_e.indexOf("hide"),we="x"===it._id.charAt(0),fe=0,Ne=we?nt._fullLayout.width:nt._fullLayout.height;if(-1!==_e.indexOf("domain")){var Pe=n.simpleMap(it.range,it.r2l);fe=it.l2p(Pe[0])+it._offset,Ne=it.l2p(Pe[1])+it._offset}var ze=Math.min(fe,Ne),Ue=Math.max(fe,Ne),Je=it.side,He=1/0,be=-1/0;for(var ve in Me.each(function(De){var Ve=t.select(this);if(Ve.select(".text-math-group").empty()){var Ze=d.bBox(Ve.node()),tn=0;we?(Ze.right>Ue||Ze.left<ze)&&(tn=1):(Ze.bottom>Ue||Ze.top+(it.tickangle?0:De.fontSize/4)<ze)&&(tn=1);var rn=Ve.select("text");tn?ge&&rn.style("opacity",0):(rn.style("opacity",1),He="bottom"===Je||"right"===Je?Math.min(He,we?Ze.top:Ze.left):-1/0,be="top"===Je||"left"===Je?Math.max(be,we?Ze.bottom:Ze.right):1/0)}}),Pt._plots){var ke=Pt._plots[ve];if(it._id===ke.xaxis._id||it._id===ke.yaxis._id){var Fe=we?ke.yaxis:ke.xaxis;Fe&&(Fe["_visibleLabelMin_"+it._id]=He,Fe["_visibleLabelMax_"+it._id]=be)}}}},it._hideCounterAxisInsideTickLabels=function(_e){var ge="x"===it._id.charAt(0),we=[];for(var fe in Pt._plots){var Ne=Pt._plots[fe];it._id!==Ne.xaxis._id&&it._id!==Ne.yaxis._id||we.push(ge?Ne.yaxis:Ne.xaxis)}we.forEach(function(Pe,ze){Pe&&ye(Pe)&&(_e||[H,ot,X,q,P]).forEach(function(Ue){var Je="tick"===Ue.K&&"text"===Ue.L&&"period"===it.ticklabelmode,He=Pt._plots[it._mainSubplot];(Ue.K===H.K?He.zerolinelayer.selectAll("."+it._id+"zl"):Ue.K===ot.K?He.minorGridlayer.selectAll("."+it._id):Ue.K===X.K?He.gridlayer.selectAll("."+it._id):He[it._id.charAt(0)+"axislayer"]).each(function(){var be=t.select(this);Ue.L&&(be=be.selectAll(Ue.L)),be.each(function(ve){var ke=it.l2p(Je?Ct(ve):ve.x)+it._offset,Fe=t.select(this);ke<it["_visibleLabelMax_"+Pe._id]&&ke>it["_visibleLabelMin_"+Pe._id]?Fe.style("display","none"):"tick"!==Ue.K||ze||Fe.style("display",null)})})})})},me(Me,he+1?he:ae);var Oe=null;it._selections&&(it._selections[jt]=Me);var oe=[function(){return re.length&&Promise.all(re)}];it.automargin&&Pt._redrawFromAutoMarginCount&&90===he?(Oe=90,oe.push(function(){me(Me,he)})):oe.push(function(){if(me(Me,ae),Yt.length&&"x"===Rt&&!l(ae)&&("log"!==it.type||"D"!==String(it.dtick).charAt(0))){Oe=0;var _e,ge=0,we=[];if(Me.each(function(Ve){ge=Math.max(ge,Ve.fontSize);var Ze=it.l2p(Ve.x),tn=de(this),rn=d.bBox(tn.node());we.push({top:0,bottom:10,height:10,left:Ze-rn.width/2,right:Ze+rn.width/2+2,width:rn.width+2})}),"boundaries"!==it.tickson&&!it.showdividers||Mt.secondary){var fe=Yt.length,Ne=Math.abs((Yt[fe-1].x-Yt[0].x)*it._m)/(fe-1),Pe=it.ticklabelposition||"",ze=function(Ve){return-1!==Pe.indexOf(Ve)},Ue=ze("top"),Je=ze("left"),He=ze("right"),be=ze("bottom")||Je||Ue||He?(it.tickwidth||0)+6:0,ve=Ne<2.5*ge||"multicategory"===it.type||"realaxis"===it._name;for(_e=0;_e<we.length-1;_e++)if(n.bBoxIntersect(we[_e],we[_e+1],be)){Oe=ve?90:30;break}}else{var ke=2;for(it.ticks&&(ke+=it.tickwidth/2),_e=0;_e<we.length;_e++){var Fe=Yt[_e].xbnd,De=we[_e];if(null!==Fe[0]&&De.left-it.l2p(Fe[0])<ke||null!==Fe[1]&&it.l2p(Fe[1])-De.right<ke){Oe=90;break}}}Oe&&me(Me,Oe)}}),it._tickAngles&&oe.push(function(){it._tickAngles[jt]=null===Oe?l(ae)?ae:0:Oe});var te=it._anchorAxis;te&&te.autorange&&ye(it)&&!G(Pt,it._id)&&(Pt._insideTickLabelsAutorange||(Pt._insideTickLabelsAutorange={}),Pt._insideTickLabelsAutorange[te._name+".autorange"]=te.autorange,oe.push(function(){Me.each(function(_e,ge){var we=de(this);we.select(".text-math-group").empty()&&(it._vals[ge].bb=d.bBox(we.node()))})}));var Ae=n.syncOrAsync(oe);return Ae&&Ae.then&&nt._promises.push(Ae),Ae},D.getPxPosition=function(nt,it){var Mt,Pt=nt._fullLayout._size,Ut=it._id.charAt(0),Rt=it.side;return"free"!==it.anchor?Mt=it._anchorAxis:"x"===Ut?Mt={_offset:Pt.t+(1-(it.position||0))*Pt.h,_length:0}:"y"===Ut&&(Mt={_offset:Pt.l+(it.position||0)*Pt.w,_length:0}),"top"===Rt||"left"===Rt?Mt._offset:"bottom"===Rt||"right"===Rt?Mt._offset+Mt._length:void 0},D.shouldShowZeroLine=function(nt,it,Mt){var Pt=n.simpleMap(it.range,it.r2l);return Pt[0]*Pt[1]<=0&&it.zeroline&&("linear"===it.type||"-"===it.type)&&!(it.rangebreaks&&it.maskBreaks(0)===B)&&(Jt(it,0)||!function(Ut,Rt,jt,Yt){var ee=jt._mainAxis;if(ee){var ae=Ut._fullLayout,he=Rt._id.charAt(0),Me=D.counterLetter(Rt._id),re=Rt._offset+(Math.abs(Yt[0])<Math.abs(Yt[1])==("x"===he)?0:Rt._length),Oe=ae._plots[jt._mainSubplot];if(!(Oe.mainplotinfo||Oe).overlays.length)return me(jt);for(var oe=D.list(Ut,Me),te=0;te<oe.length;te++){var Ae=oe[te];if(Ae._mainAxis===ee&&me(Ae))return!0}}function me(_e){if(!_e.showline||!_e.linewidth)return!1;var ge=Math.max((_e.linewidth+Rt.zerolinewidth)/2,1);function we(Pe){return"number"==typeof Pe&&Math.abs(Pe-re)<ge}if(we(_e._mainLinePosition)||we(_e._mainMirrorPosition))return!0;var fe=_e._linepositions||{};for(var Ne in fe)if(we(fe[Ne][0])||we(fe[Ne][1]))return!0}}(nt,it,Mt,Pt)||function(Ut,Rt){for(var jt=Ut._fullData,Yt=Rt._mainSubplot,ee=Rt._id.charAt(0),ae=0;ae<jt.length;ae++){var he=jt[ae];if(!0===he.visible&&he.xaxis+he.yaxis===Yt&&(e.traceIs(he,"bar-like")&&he.orientation==={x:"h",y:"v"}[ee]||he.fill&&he.fill.charAt(he.fill.length-1)===ee))return!0}return!1}(nt,it))},D.clipEnds=function(nt,it){return it.filter(function(Mt){return Jt(nt,Mt.x)})},D.allowAutoMargin=function(nt){for(var it=D.list(nt,"",!0),Mt=0;Mt<it.length;Mt++){var Pt=it[Mt];Pt.automargin&&(o.allowAutoMargin(nt,$t(Pt)),Pt.mirror&&o.allowAutoMargin(nt,Tt(Pt))),e.getComponentMethod("rangeslider","isVisible")(Pt)&&o.allowAutoMargin(nt,At(Pt))}},D.swap=function(nt,it){for(var Mt=function(Ut,Rt){var jt,Yt,ee=[];for(jt=0;jt<Rt.length;jt++){var ae=[],he=Ut._fullData[Rt[jt]].xaxis,Me=Ut._fullData[Rt[jt]].yaxis;if(he&&Me){for(Yt=0;Yt<ee.length;Yt++)-1===ee[Yt].x.indexOf(he)&&-1===ee[Yt].y.indexOf(Me)||ae.push(Yt);if(ae.length){var re,me=ee[ae[0]];if(ae.length>1)for(Yt=1;Yt<ae.length;Yt++)qt(me.x,(re=ee[ae[Yt]]).x),qt(me.y,re.y);qt(me.x,[he]),qt(me.y,[Me])}else ee.push({x:[he],y:[Me]})}}return ee}(nt,it),Pt=0;Pt<Mt.length;Pt++)ue(nt,Mt[Pt].x,Mt[Pt].y)}},{"../../components/color":102,"../../components/drawing":124,"../../components/titles":200,"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"./autorange":278,"./axis_autotype":280,"./axis_ids":283,"./clean_ticks":285,"./layout_attributes":294,"./set_convert":301,"@plotly/d3":11,"fast-isnumeric":17}],280:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("../../lib"),o=c("../../constants/numerical").BADNUM,e=l.isArrayOrTypedArray,n=l.isDateTime,s=l.cleanNumber,a=Math.round;function i(d,f){return f?t(d):"number"==typeof d}function r(d){return Math.max(1,(d-1)/1e3)}tt.exports=function(d,f,h){var A,p=d,T=h.noMultiCategory;if(e(p)&&!p.length)return"-";if(!T&&e((A=p)[0])&&e(A[1]))return"multicategory";if(T&&Array.isArray(p[0])){for(var w=[],x=0;x<p.length;x++)if(e(p[x]))for(var m=0;m<p[x].length;m++)w.push(p[x][m]);p=w}if(function(A,b){for(var k=A.length,L=r(k),g=0,S=0,I={},v=0;v<k;v+=L){var z=A[a(v)],F=String(z);I[F]||(I[F]=1,n(z,b)&&g++,t(z)&&S++)}return g>2*S}(p,f))return"date";var y="strict"!==h.autotypenumbers;return function(A,b){for(var k=A.length,L=r(k),g=0,S=0,I={},v=0;v<k;v+=L){var z=A[a(v)],F=String(z);if(!I[F]){I[F]=1;var B=typeof z;"boolean"===B?S++:(b?s(z)!==o:"number"===B)?g++:"string"===B&&S++}}return S>2*g}(p,y)?"category":function(A,b){for(var k=A.length,L=0;L<k;L++)if(i(A[L],b))return!0;return!1}(p,y)?"linear":"-"}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],281:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("../../registry"),o=c("../../lib"),e=c("../../plot_api/plot_template"),n=c("../array_container_defaults"),s=c("./layout_attributes"),a=c("./tick_value_defaults"),i=c("./tick_mark_defaults"),r=c("./tick_label_defaults"),d=c("./prefix_suffix_defaults"),f=c("./category_order_defaults"),h=c("./line_grid_defaults"),p=c("./set_convert"),T=c("./constants").WEEKDAY_PATTERN,w=c("./constants").HOUR_PATTERN;function x(A,b,k){function L(B,H){return o.coerce(A,b,s.rangebreaks,B,H)}if(L("enabled")){var g=L("bounds");if(g&&g.length>=2){var S,I,v="";if(2===g.length)for(S=0;S<2;S++)if(I=y(g[S])){v=T;break}var R=L("pattern",v);if(R===T)for(S=0;S<2;S++)(I=y(g[S]))&&(b.bounds[S]=g[S]=I-1);if(R)for(S=0;S<2;S++)switch(I=g[S],R){case T:if(!t(I)||(I=+I)!==Math.floor(I)||I<0||I>=7)return void(b.enabled=!1);b.bounds[S]=g[S]=I;break;case w:if(!t(I)||(I=+I)<0||I>24)return void(b.enabled=!1);b.bounds[S]=g[S]=I}if(!1===k.autorange){var z=k.range;if(z[0]<z[1]){if(g[0]<z[0]&&g[1]>z[1])return void(b.enabled=!1)}else if(g[0]>z[0]&&g[1]<z[1])return void(b.enabled=!1)}}else{var F=L("values");if(!F||!F.length)return void(b.enabled=!1);L("dvalue")}}}tt.exports=function(A,b,k,L,g){var S,I=L.letter,v=L.font||{},R=L.splomStash||{},z=k("visible",!L.visibleDflt),B=b.type||(b._template||{}).type||"-";"date"===B&&(l.getComponentMethod("calendars","handleDefaults")(A,b,"calendar",L.calendar),L.noTicklabelmode||(S=k("ticklabelmode")));var H="";L.noTicklabelposition&&"multicategory"!==B||(H=o.coerce(A,b,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===S?["outside","inside"]:"x"===I?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),L.noTicklabeloverflow||k("ticklabeloverflow",-1!==H.indexOf("inside")?"hide past domain":"category"===B||"multicategory"===B?"allow":"hide past div"),p(b,g);var X=!b.isValidRange(A.range);X&&L.reverseDflt&&(X="reversed"),!k("autorange",X)||"linear"!==B&&"-"!==B||k("rangemode"),k("range"),b.cleanRange(),f(A,b,k,L),"category"===B||L.noHover||k("hoverformat");var ot=k("color"),q=ot!==s.color.dflt?ot:v.color,P=R.label||g._dfltTitle[I];if(d(A,b,k,B,L),!z)return b;k("title.text",P),o.coerceFont(k,"title.font",{family:v.family,size:o.bigFont(v.size),color:q}),a(A,b,k,B);var J=L.hasMinor;if(J&&(e.newContainer(b,"minor"),a(A,b,k,B,{isMinor:!0})),r(A,b,k,B,L),i(A,b,k,L),J){var E=L.isMinor;L.isMinor=!0,i(A,b,k,L),L.isMinor=E}h(A,b,k,{dfltColor:ot,bgColor:L.bgColor,showGrid:L.showGrid,hasMinor:J,attributes:s}),!J||b.minor.ticks||b.minor.showgrid||delete b.minor,(b.showline||b.ticks)&&k("mirror"),L.automargin&&k("automargin");var N,Z="multicategory"===B;if(L.noTickson||"category"!==B&&!Z||!b.ticks&&!b.showgrid||(Z&&(N="boundaries"),"boundaries"===k("tickson",N)&&delete b.ticklabelposition),Z&&k("showdividers")&&(k("dividercolor"),k("dividerwidth")),"date"===B)if(n(A,b,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:x}),b.rangebreaks.length){for(var U=0;U<b.rangebreaks.length;U++)if(b.rangebreaks[U].pattern===T){b._hasDayOfWeekBreaks=!0;break}if(p(b,g),g._has("scattergl")||g._has("splom"))for(var D=0;D<L.data.length;D++){var M=L.data[D];"scattergl"!==M.type&&"splom"!==M.type||(M.visible=!1,o.warn(M.type+" traces do not work on axes with rangebreaks. Setting trace "+M.index+" to `visible: false`."))}}else delete b.rangebreaks;return b};var m={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function y(A){if("string"==typeof A)return m[A.substr(0,3).toLowerCase()]}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"../array_container_defaults":274,"./category_order_defaults":284,"./constants":286,"./layout_attributes":294,"./line_grid_defaults":296,"./prefix_suffix_defaults":298,"./set_convert":301,"./tick_label_defaults":303,"./tick_mark_defaults":304,"./tick_value_defaults":305,"fast-isnumeric":17}],282:[function(c,tt,V){"use strict";var t=c("../../constants/docs"),l=t.FORMAT_LINK,o=t.DATE_FORMAT_LINK;function e(s,a){return["Sets the "+s+" formatting rule"+(a?"for `"+a+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+l+"."].join(" ")}function n(s,a){return e(s,a)+[" And for dates see: "+o+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}tt.exports={axisHoverFormat:function(s,a){return{valType:"string",dflt:"",editType:"none",description:(a?e:n)("hover text",s)+["By default the values are formatted using "+(a?"generic number format":"`"+s+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:e,descriptionWithDates:n}},{"../../constants/docs":209}],283:[function(c,tt,V){"use strict";var t=c("../../registry"),l=c("./constants");function o(e,n){if(n&&n.length)for(var s=0;s<n.length;s++)if(n[s][e])return!0;return!1}V.id2name=function(e){if("string"==typeof e&&e.match(l.AX_ID_PATTERN)){var n=e.split(" ")[0].substr(1);return"1"===n&&(n=""),e.charAt(0)+"axis"+n}},V.name2id=function(e){if(e.match(l.AX_NAME_PATTERN)){var n=e.substr(5);return"1"===n&&(n=""),e.charAt(0)+n}},V.cleanId=function(e,n,s){var a=/( domain)$/.test(e);if("string"==typeof e&&e.match(l.AX_ID_PATTERN)&&(!n||e.charAt(0)===n)&&(!a||s)){var i=e.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===i&&(i=""),e.charAt(0)+i+(a&&s?" domain":"")}},V.list=function(e,n,s){var a=e._fullLayout;if(!a)return[];var i,r=V.listIds(e,n),d=new Array(r.length);for(i=0;i<r.length;i++){var f=r[i];d[i]=a[f.charAt(0)+"axis"+f.substr(1)]}if(!s){var h=a._subplots.gl3d||[];for(i=0;i<h.length;i++){var p=a[h[i]];n?d.push(p[n+"axis"]):d.push(p.xaxis,p.yaxis,p.zaxis)}}return d},V.listIds=function(e,n){var s=e._fullLayout;if(!s)return[];var a=s._subplots;return n?a[n+"axis"]:a.xaxis.concat(a.yaxis)},V.getFromId=function(e,n,s){var a=e._fullLayout;return n=void 0===n||"string"!=typeof n?n:n.replace(" domain",""),"x"===s?n=n.replace(/y[0-9]*/,""):"y"===s&&(n=n.replace(/x[0-9]*/,"")),a[V.id2name(n)]},V.getFromTrace=function(e,n,s){var a=e._fullLayout,i=null;if(t.traceIs(n,"gl3d")){var r=n.scene;"scene"===r.substr(0,5)&&(i=a[r][s+"axis"])}else i=V.getFromId(e,n[s+"axis"]||s);return i},V.idSort=function(e,n){var s=e.charAt(0),a=n.charAt(0);return s!==a?s>a?1:-1:+(e.substr(1)||1)-+(n.substr(1)||1)},V.ref2id=function(e){return!!/^[xyz]/.test(e)&&e.split(" ")[0]},V.isLinked=function(e,n){return o(n,e._axisMatchGroups)||o(n,e._axisConstraintGroups)}},{"../../registry":318,"./constants":286}],284:[function(c,tt,V){"use strict";tt.exports=function(t,l,o,e){if("category"===l.type){var n,s=t.categoryarray,a=Array.isArray(s)&&s.length>0;a&&(n="array");var i,r=o("categoryorder",n);"array"===r&&(i=o("categoryarray")),a||"array"!==r||(r=l.categoryorder="trace"),"trace"===r?l._initialCategories=[]:"array"===r?l._initialCategories=i.slice():(i=function(d,f){var h,p,T,w=f.dataAttr||d._id.charAt(0),x={};if(f.axData)h=f.axData;else for(h=[],p=0;p<f.data.length;p++){var m=f.data[p];m[w+"axis"]===d._id&&h.push(m)}for(p=0;p<h.length;p++){var y=h[p][w];for(T=0;T<y.length;T++){var A=y[T];null!=A&&(x[A]=1)}}return Object.keys(x)}(l,e).sort(),"category ascending"===r?l._initialCategories=i:"category descending"===r&&(l._initialCategories=i.reverse()))}}},{}],285:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("../../lib"),o=c("../../constants/numerical"),e=o.ONEDAY,n=o.ONEWEEK;V.dtick=function(s,a){var i="log"===a,r="date"===a,d="category"===a,f=r?e:1;if(!s)return f;if(t(s))return(s=Number(s))<=0?f:d?Math.max(1,Math.round(s)):r?Math.max(.1,s):s;if("string"!=typeof s||!r&&!i)return f;var h=s.charAt(0),p=s.substr(1);return(p=t(p)?Number(p):0)<=0||!(r&&"M"===h&&p===Math.round(p)||i&&"L"===h||i&&"D"===h&&(1===p||2===p))?f:s},V.tick0=function(s,a,i,r){return"date"===a?l.cleanDate(s,l.dateTick0(i,r%n==0?1:0)):"D1"!==r&&"D2"!==r?t(s)?Number(s):0:void 0}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],286:[function(c,tt,V){"use strict";var t=c("../../lib/regex").counter;tt.exports={idRegex:{x:t("x","( domain)?"),y:t("y","( domain)?")},attrRegex:t("[xy]axis"),xAxisMatch:t("xaxis"),yAxisMatch:t("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":248}],287:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("./autorange"),o=c("./axis_ids").id2name,e=c("./layout_attributes"),n=c("./scale_zoom"),s=c("./set_convert"),a=c("../../constants/numerical").ALMOST_EQUAL,i=c("../../constants/alignment").FROM_BL;function r(x,m,y){var A=y.axIds,b=y.layoutOut,k=y.hasImage,L=b._axisConstraintGroups,g=b._axisMatchGroups,S=m._id,I=S.charAt(0),v=((b._splomAxes||{})[I]||{})[S]||{},R=m._id,z="x"===R.charAt(0);function F(j,C){return t.coerce(x,m,e,j,C)}m._matchGroup=null,m._constraintGroup=null,F("constrain",k?"domain":"range"),t.coerce(x,m,{constraintoward:{valType:"enumerated",values:z?["left","center","right"]:["bottom","middle","top"],dflt:z?"center":"middle"}},"constraintoward");var B,H,X=m.type,ot=[];for(B=0;B<A.length;B++)(H=A[B])!==R&&b[o(H)].type===X&&ot.push(H);var q=f(L,R);if(q){var P=[];for(B=0;B<ot.length;B++)q[H=ot[B]]||P.push(H);ot=P}var J,E,N=ot.length;N&&(x.matches||v.matches)&&(J=t.coerce(x,m,{matches:{valType:"enumerated",values:ot,dflt:-1!==ot.indexOf(v.matches)?v.matches:void 0}},"matches"));var Z=k&&!z?m.anchor:void 0;if(N&&!J&&(x.scaleanchor||Z)&&(E=t.coerce(x,m,{scaleanchor:{valType:"enumerated",values:ot}},"scaleanchor",Z)),J){m._matchGroup=h(g,R,J,1);var U=b[o(J)],D=d(b,m)/d(b,U);z!==("x"===J.charAt(0))&&(D=(z?"x":"y")+D),h(L,R,J,D)}else x.matches&&-1!==A.indexOf(x.matches)&&t.warn("ignored "+m._name+'.matches: "'+x.matches+'" to avoid an infinite loop');if(E){var M=F("scaleratio");M||(M=m.scaleratio=1),h(L,R,E,M)}else x.scaleanchor&&-1!==A.indexOf(x.scaleanchor)&&t.warn("ignored "+m._name+'.scaleanchor: "'+x.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function d(x,m){var y=m.domain;return y||(y=x[o(m.overlaying)].domain),y[1]-y[0]}function f(x,m){for(var y=0;y<x.length;y++)if(x[y][m])return x[y];return null}function h(x,m,y,A){var b,k,L,g,S,I=f(x,m);null===I?((I={})[m]=1,S=x.length,x.push(I)):S=x.indexOf(I);var v=Object.keys(I);for(b=0;b<x.length;b++)if(L=x[b],b!==S&&L[y]){var R=L[y];for(k=0;k<v.length;k++)L[g=v[k]]=p(R,p(A,I[g]));return void x.splice(S,1)}if(1!==A)for(k=0;k<v.length;k++){var z=v[k];I[z]=p(A,I[z])}I[y]=1}function p(x,m){var y,A,b="",k="";"string"==typeof x&&(y=(b=x.match(/^[xy]*/)[0]).length,x=+x.substr(y)),"string"==typeof m&&(A=(k=m.match(/^[xy]*/)[0]).length,m=+m.substr(A));var L=x*m;return y||A?y&&A&&b.charAt(0)!==k.charAt(0)?y===A?L:(y>A?b.substr(A):k.substr(y))+L:b+k+x*m:L}function T(x,m){for(var y=m._size,A=y.h/y.w,b={},k=Object.keys(x),L=0;L<k.length;L++){var g=k[L],S=x[g];if("string"==typeof S){var I=S.match(/^[xy]*/)[0],v=I.length;S=+S.substr(v);for(var R="y"===I.charAt(0)?A:1/A,z=0;z<v;z++)S*=R}b[g]=S}return b}function w(x,m){var y=x._inputDomain,b=y[0]+(y[1]-y[0])*i[x.constraintoward];x.domain=x._input.domain=[b+(y[0]-b)/m,b+(y[1]-b)/m],x.setScale()}V.handleDefaults=function(x,m,y){var A,b,k,L,g,S,I,v,R=y.axIds,z=y.axHasImage,F=m._axisConstraintGroups=[],B=m._axisMatchGroups=[];for(A=0;A<R.length;A++)r(g=x[L=o(R[A])],S=m[L],{axIds:R,layoutOut:m,hasImage:z[L]});function H(U,D){for(A=0;A<U.length;A++)for(k in b=U[A])m[o(k)][D]=b}for(H(B,"_matchGroup"),A=0;A<F.length;A++)for(k in b=F[A])if((S=m[o(k)]).fixedrange){for(var X in b){var ot=o(X);!1===(x[ot]||{}).fixedrange&&t.warn("fixedrange was specified as false for axis "+ot+" but was overridden because another axis in its constraint group has fixedrange true"),m[ot].fixedrange=!0}break}for(A=0;A<F.length;){for(k in b=F[A]){(S=m[o(k)])._matchGroup&&Object.keys(S._matchGroup).length===Object.keys(b).length&&(F.splice(A,1),A--);break}A++}H(F,"_constraintGroup");var q=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],P=!1,J=!1;function E(){v=S[I],"rangebreaks"===I&&(J=S._hasDayOfWeekBreaks)}for(A=0;A<B.length;A++){b=B[A];for(var N=0;N<q.length;N++){var Z;for(k in I=q[N],v=null,b)if(g=x[L=o(k)],I in(S=m[L])){if(!S.matches&&(Z=S,I in g)){E();break}null===v&&I in g&&E()}if("range"===I&&v&&(P=!0),"autorange"===I&&null===v&&P&&(v=!1),null===v&&I in Z&&(v=Z[I]),null!==v)for(k in b)(S=m[o(k)])[I]="range"===I?v.slice():v,"rangebreaks"===I&&(S._hasDayOfWeekBreaks=J,s(S,m))}}},V.enforce=function(x){var m,y,A,b,k,L,g,S,I=x._fullLayout,v=I._axisConstraintGroups||[];for(m=0;m<v.length;m++){A=T(v[m],I);var R=Object.keys(A),z=1/0,F=0,B=1/0,H={},X={},ot=!1;for(y=0;y<R.length;y++)X[b=R[y]]=k=I[o(b)],k._inputDomain?k.domain=k._inputDomain.slice():k._inputDomain=k.domain.slice(),k._inputRange||(k._inputRange=k.range.slice()),k.setScale(),H[b]=L=Math.abs(k._m)/A[b],z=Math.min(z,L),"domain"!==k.constrain&&k._constraintShrinkable||(B=Math.min(B,L)),delete k._constraintShrinkable,F=Math.max(F,L),"domain"===k.constrain&&(ot=!0);if(!(z>a*F)||ot)for(y=0;y<R.length;y++)if(L=H[b=R[y]],g=(k=X[b]).constrain,L!==B||"domain"===g)if(S=L/B,"range"===g)n(k,S);else{var q=k._inputDomain,P=(k.domain[1]-k.domain[0])/(q[1]-q[0]),J=(k.r2l(k.range[1])-k.r2l(k.range[0]))/(k.r2l(k._inputRange[1])-k.r2l(k._inputRange[0]));if((S/=P)*J<1){k.domain=k._input.domain=q.slice(),n(k,S);continue}if(J<1&&(k.range=k._input.range=k._inputRange.slice(),S*=J),k.autorange){var E=k.r2l(k.range[0]),N=k.r2l(k.range[1]),Z=(E+N)/2,U=Z,D=Z,M=Math.abs(N-Z),j=Z-M*S*1.0001,C=Z+M*S*1.0001,G=l.makePadFn(I,k,0),K=l.makePadFn(I,k,1);w(k,S);var $,Q,ut=Math.abs(k._m),ct=l.concatExtremes(x,k),gt=ct.min,vt=ct.max;for(Q=0;Q<gt.length;Q++)($=gt[Q].val-G(gt[Q])/ut)>j&&$<U&&(U=$);for(Q=0;Q<vt.length;Q++)($=vt[Q].val+K(vt[Q])/ut)<C&&$>D&&(D=$);S/=(D-U)/(2*M),U=k.l2r(U),D=k.l2r(D),k.range=k._input.range=E<N?[U,D]:[D,U]}w(k,S)}}},V.getAxisGroup=function(x,m){for(var y=x._axisMatchGroups,A=0;A<y.length;A++)if(y[A][m])return"g"+A;return m},V.clean=function(x,m){if(m._inputDomain){for(var y=!1,A=m._id,b=x._fullLayout._axisConstraintGroups,k=0;k<b.length;k++)if(b[k][A]){y=!0;break}y&&"domain"===m.constrain||(m._input.domain=m.domain=m._inputDomain,delete m._inputDomain)}}},{"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"./autorange":278,"./axis_ids":283,"./layout_attributes":294,"./scale_zoom":299,"./set_convert":301}],288:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../../lib"),o=l.numberFormat,e=c("tinycolor2"),n=c("has-passive-events"),s=c("../../registry"),a=l.strTranslate,i=c("../../lib/svg_text_utils"),r=c("../../components/color"),d=c("../../components/drawing"),f=c("../../components/fx"),h=c("./axes"),p=c("../../lib/setcursor"),T=c("../../components/dragelement"),w=c("../../components/dragelement/helpers"),x=w.selectingOrDrawing,m=w.freeMode,y=c("../../constants/alignment").FROM_TL,A=c("../../lib/clear_gl_canvases"),b=c("../../plot_api/subroutines").redrawReglTraces,k=c("../plots"),L=c("./axis_ids").getFromId,g=c("./select").prepSelect,S=c("./select").clearSelect,I=c("./select").selectOnClick,v=c("./scale_zoom"),R=c("./constants"),z=R.MINDRAG,F=R.MINZOOM,B=!0;function H($,Q,ut,ct){var gt=l.ensureSingle($.draglayer,Q,ut,function(vt){vt.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",$.id)});return gt.call(p,ct),gt.node()}function X($,Q,ut,ct,gt,vt,_t){var kt=H($,"rect",Q,ut);return t.select(kt).call(d.setRect,ct,gt,vt,_t),kt}function ot($,Q){for(var ut=0;ut<$.length;ut++)if(!$[ut].fixedrange)return Q;return""}function q($,Q,ut,ct,gt){for(var vt=0;vt<$.length;vt++){var _t=$[vt];if(!_t.fixedrange)if(_t.rangebreaks){var kt="y"===_t._id.charAt(0),It=kt?1-ut:ut;ct[_t._name+".range[0]"]=_t.l2r(_t.p2l((kt?1-Q:Q)*_t._length)),ct[_t._name+".range[1]"]=_t.l2r(_t.p2l(It*_t._length))}else{var Lt=_t._rl[0],lt=_t._rl[1]-Lt;ct[_t._name+".range[0]"]=_t.l2r(Lt+lt*Q),ct[_t._name+".range[1]"]=_t.l2r(Lt+lt*ut)}}if(gt&&gt.length){var at=(Q+(1-ut))/2;q(gt,at,1-at,ct,[])}}function P($,Q){for(var ut=0;ut<$.length;ut++){var ct=$[ut];if(!ct.fixedrange)if(ct.rangebreaks){var gt=ct._length,vt=(ct.p2l(0+Q)-ct.p2l(0)+(ct.p2l(gt+Q)-ct.p2l(gt)))/2;ct.range=[ct.l2r(ct._rl[0]-vt),ct.l2r(ct._rl[1]-vt)]}else ct.range=[ct.l2r(ct._rl[0]-Q/ct._m),ct.l2r(ct._rl[1]-Q/ct._m)]}}function J($){return 1-($>=0?Math.min($,.9):1/(1/Math.max($,-.3)+3.222))}function E($,Q,ut,ct,gt){return $.append("path").attr("class","zoombox").style({fill:Q>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",a(ut,ct)).attr("d",gt+"Z")}function N($,Q,ut){return $.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,opacity:0}).attr("transform",a(Q,ut)).attr("d","M0,0Z")}function Z($,Q,ut,ct,gt,vt){$.attr("d",ct+"M"+ut.l+","+ut.t+"v"+ut.h+"h"+ut.w+"v-"+ut.h+"h-"+ut.w+"Z"),U($,Q,gt,vt)}function U($,Q,ut,ct){ut||($.transition().style("fill",ct>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),Q.transition().style("opacity",1).duration(200))}function D($){t.select($).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function M($){B&&$.data&&$._context.showTips&&(l.notifier(l._($,"Double-click to zoom back out"),"long"),B=!1)}function j($){var Q=Math.floor(Math.min($.b-$.t,$.r-$.l,F)/2);return"M"+($.l-3.5)+","+($.t-.5+Q)+"h3v"+-Q+"h"+Q+"v-3h-"+(Q+3)+"ZM"+($.r+3.5)+","+($.t-.5+Q)+"h-3v"+-Q+"h"+-Q+"v-3h"+(Q+3)+"ZM"+($.r+3.5)+","+($.b+.5-Q)+"h-3v"+Q+"h"+-Q+"v3h"+(Q+3)+"ZM"+($.l-3.5)+","+($.b+.5-Q)+"h3v"+Q+"h"+Q+"v3h-"+(Q+3)+"Z"}function C($,Q,ut,ct,gt){for(var vt,_t,kt,Et,It=!1,Lt={},lt={},at=(gt||{}).xaHash,dt=(gt||{}).yaHash,mt=0;mt<Q.length;mt++){var St=Q[mt];for(vt in ut)if(St[vt]){for(kt in St)gt&&(at[kt]||dt[kt])||("x"===kt.charAt(0)?ut:ct)[kt]||(Lt[kt]=vt);for(_t in ct)gt&&(at[_t]||dt[_t])||!St[_t]||(It=!0)}for(_t in ct)if(St[_t])for(Et in St)gt&&(at[Et]||dt[Et])||("x"===Et.charAt(0)?ut:ct)[Et]||(lt[Et]=_t)}It&&(l.extendFlat(Lt,lt),lt={});var bt={},wt=[];for(kt in Lt){var Ot=L($,kt);wt.push(Ot),bt[Ot._id]=Ot}var Nt={},Dt=[];for(Et in lt){var zt=L($,Et);Dt.push(zt),Nt[zt._id]=zt}return{xaHash:bt,yaHash:Nt,xaxes:wt,yaxes:Dt,xLinks:Lt,yLinks:lt,isSubplotConstrained:It}}function G($,Q){if(n){var ut=void 0!==$.onwheel?"wheel":"mousewheel";$._onwheel&&$.removeEventListener(ut,$._onwheel),$._onwheel=Q,$.addEventListener(ut,Q,{passive:!1})}else void 0!==$.onwheel?$.onwheel=Q:void 0!==$.onmousewheel?$.onmousewheel=Q:$.isAddedWheelEvent||($.isAddedWheelEvent=!0,$.addEventListener("wheel",Q,{passive:!1}))}function K($){var Q=[];for(var ut in $)Q.push($[ut]);return Q}tt.exports={makeDragBox:function($,Q,ut,ct,gt,vt,_t,kt){var Et,It,Lt,lt,at,dt,mt,St,bt,wt,Ot,Nt,Dt,zt,Vt,Ct,Zt,Kt,Jt,de,$t,Tt,At,qt=$._fullLayout._zoomlayer,ue=_t+kt==="nsew",Te=1===(_t+kt).length;function Ce(){if(bt=(Et=Q.xaxis)._length,wt=(It=Q.yaxis)._length,mt=Et._offset,St=It._offset,(Lt={})[Et._id]=Et,(lt={})[It._id]=It,_t&&kt)for(var be=Q.overlays,ve=0;ve<be.length;ve++){var ke=be[ve].xaxis;Lt[ke._id]=ke;var Fe=be[ve].yaxis;lt[Fe._id]=Fe}at=K(Lt),dt=K(lt),Dt=ot(at,kt),zt=ot(dt,_t),Vt=!zt&&!Dt,Nt=C($,$._fullLayout._axisMatchGroups,Lt,lt);var De=(Ot=C($,$._fullLayout._axisConstraintGroups,Lt,lt,Nt)).isSubplotConstrained||Nt.isSubplotConstrained;Ct=kt||De,Zt=_t||De;var Ve=$._fullLayout;Kt=Ve._has("scattergl"),Jt=Ve._has("splom"),de=Ve._has("svg")}Ce();var be,xe=(be=zt+Dt)?"nsew"===be?ue?"":"pan"===$._fullLayout.dragmode?"move":"crosshair":be.toLowerCase()+"-resize":"pointer",ye=X(Q,_t+kt+"drag",xe,ut,ct,gt,vt);if(Vt&&!ue)return ye.onmousedown=null,ye.style.pointerEvents="none",ye;var ce,nt,it,Mt,Pt,Ut,Rt,jt,Yt,ee,ae={element:ye,gd:$,plotinfo:Q};function he(){ae.plotinfo.selection=!1,S($)}function Me(be,ve){var cn,sn,fn,Xe,gn,ke=ae.gd;if(ke._fullLayout._activeShapeIndex>=0)ke._fullLayout._deactivateShape(ke);else{var Fe=ke._fullLayout.clickmode;if(D(ke),2!==be||Te||function Ne(){if(!$._transitioningWithDuration){var be=$._context.doubleClick,ve=[];Dt&&(ve=ve.concat(at)),zt&&(ve=ve.concat(dt)),Nt.xaxes&&(ve=ve.concat(Nt.xaxes)),Nt.yaxes&&(ve=ve.concat(Nt.yaxes));var ke,Fe,De,Ve={};if("reset+autosize"===be)for(be="autosize",Fe=0;Fe<ve.length;Fe++)if((ke=ve[Fe])._rangeInitial&&(ke.range[0]!==ke._rangeInitial[0]||ke.range[1]!==ke._rangeInitial[1])||!ke._rangeInitial&&!ke.autorange){be="reset";break}if("autosize"===be)for(Fe=0;Fe<ve.length;Fe++)(ke=ve[Fe]).fixedrange||(Ve[ke._name+".autorange"]=!0);else if("reset"===be)for((Dt||Ot.isSubplotConstrained)&&(ve=ve.concat(Ot.xaxes)),zt&&!Ot.isSubplotConstrained&&(ve=ve.concat(Ot.yaxes)),Ot.isSubplotConstrained&&(Dt?zt||(ve=ve.concat(dt)):ve=ve.concat(at)),Fe=0;Fe<ve.length;Fe++)(ke=ve[Fe]).fixedrange||(ke._rangeInitial?(Ve[ke._name+".range[0]"]=(De=ke._rangeInitial)[0],Ve[ke._name+".range[1]"]=De[1]):Ve[ke._name+".autorange"]=!0);$.emit("plotly_doubleclick",null),s.call("_guiRelayout",$,Ve)}}(),ue)Fe.indexOf("select")>-1&&I(ve,ke,at,dt,Q.id,ae),Fe.indexOf("event")>-1&&f.click(ke,ve,Q.id);else if(1===be&&Te){var De=_t?It:Et,Ve="s"===_t||"w"===kt?0:1,Ze=De._name+".range["+Ve+"]",tn=(Xe=(cn=De).range[sn=Ve],gn=Math.abs(Xe-cn.range[1-sn]),"date"===cn.type?Xe:"log"===cn.type?(fn=Math.ceil(Math.max(0,-Math.log(gn)/Math.LN10))+3,o("."+fn+"g")(Math.pow(10,Xe))):(fn=Math.floor(Math.log(Math.abs(Xe))/Math.LN10)-Math.floor(Math.log(gn)/Math.LN10)+4,o("."+String(fn)+"g")(Xe))),rn="left",ln="middle";if(De.fixedrange)return;_t?(ln="n"===_t?"top":"bottom","right"===De.side&&(rn="right")):"e"===kt&&(rn="right"),ke._context.showAxisRangeEntryBoxes&&t.select(ye).call(i.makeEditable,{gd:ke,immediate:!0,background:ke._fullLayout.paper_bgcolor,text:String(tn),fill:De.tickfont?De.tickfont.color:"#444",horizontalAlign:rn,verticalAlign:ln}).on("edit",function(cn){var sn=De.d2r(cn);void 0!==sn&&s.call("_guiRelayout",ke,Ze,sn)})}}}function re(be,ve){if($._transitioningWithDuration)return!1;var ln,cn,ke=Math.max(0,Math.min(bt,Tt*be+ce)),Fe=Math.max(0,Math.min(wt,At*ve+nt)),De=Math.abs(ke-ce),Ve=Math.abs(Fe-nt);function Ze(){Rt="",it.r=it.l,it.t=it.b,Yt.attr("d","M0,0Z")}if(it.l=Math.min(ce,ke),it.r=Math.max(ce,ke),it.t=Math.min(nt,Fe),it.b=Math.max(nt,Fe),Ot.isSubplotConstrained)De>F||Ve>F?(Rt="xy",De/bt>Ve/wt?(Ve=De*wt/bt,nt>Fe?it.t=nt-Ve:it.b=nt+Ve):(De=Ve*bt/wt,ce>ke?it.l=ce-De:it.r=ce+De),Yt.attr("d",j(it))):Ze();else if(Nt.isSubplotConstrained)if(De>F||Ve>F){Rt="xy";var tn=Math.min(it.l/bt,(wt-it.b)/wt),rn=Math.max(it.r/bt,(wt-it.t)/wt);it.l=tn*bt,it.r=rn*bt,it.b=(1-tn)*wt,it.t=(1-rn)*wt,Yt.attr("d",j(it))}else Ze();else!zt||Ve<Math.min(Math.max(.6*De,z),F)?De<z||!Dt?Ze():(it.t=0,it.b=wt,Rt="x",Yt.attr("d","M"+((ln=it).l-.5)+","+((cn=nt)-F-.5)+"h-3v"+(2*F+1)+"h3ZM"+(ln.r+.5)+","+(cn-F-.5)+"h3v"+(2*F+1)+"h-3Z")):!Dt||De<Math.min(.6*Ve,F)?(it.l=0,it.r=bt,Rt="y",Yt.attr("d",function(ln,cn){return"M"+(cn-F-.5)+","+(ln.t-.5)+"v-3h"+(2*F+1)+"v3ZM"+(cn-F-.5)+","+(ln.b+.5)+"v3h"+(2*F+1)+"v-3Z"}(it,ce))):(Rt="xy",Yt.attr("d",j(it)));it.w=it.r-it.l,it.h=it.b-it.t,Rt&&(ee=!0),$._dragged=ee,Z(jt,Yt,it,Pt,Ut,Mt),me(),$.emit("plotly_relayouting",$t),Ut=!0}function me(){$t={},"xy"!==Rt&&"x"!==Rt||(q(at,it.l/bt,it.r/bt,$t,Ot.xaxes),we("x",$t)),"xy"!==Rt&&"y"!==Rt||(q(dt,(wt-it.b)/wt,(wt-it.t)/wt,$t,Ot.yaxes),we("y",$t))}function Oe(){me(),D($),Pe(),M($)}ae.prepFn=function(be,ve,ke){var Fe=ae.dragmode,De=$._fullLayout.dragmode;De!==Fe&&(ae.dragmode=De),Ce(),Tt=$._fullLayout._invScaleX,At=$._fullLayout._invScaleY,Vt||(ue?be.shiftKey?"pan"===De?De="zoom":x(De)||(De="pan"):be.ctrlKey&&(De="pan"):De="pan"),ae.minDrag=m(De)?1:void 0,x(De)?(ae.xaxes=at,ae.yaxes=dt,g(be,ve,ke,ae,De)):(ae.clickFn=Me,x(Fe)&&he(),Vt||("zoom"===De?(ae.moveFn=re,ae.doneFn=Oe,ae.minDrag=1,function(Ve,Ze,tn){var rn=ye.getBoundingClientRect();ce=Ze-rn.left,nt=tn-rn.top,$._fullLayout._calcInverseTransform($);var ln=l.apply3DTransform($._fullLayout._invTransform)(ce,nt);it={l:ce=ln[0],r:ce,w:0,t:nt=ln[1],b:nt,h:0},Mt=$._hmpixcount?$._hmlumcount/$._hmpixcount:e($._fullLayout.plot_bgcolor).getLuminance(),Ut=!1,Rt="xy",ee=!1,jt=E(qt,Mt,mt,St,Pt="M0,0H"+bt+"V"+wt+"H0V0"),Yt=N(qt,mt,St)}(0,ve,ke)):"pan"===De&&(ae.moveFn=ge,ae.doneFn=Pe))),$._fullLayout._redrag=function(){var Ve=$._dragdata;Ve&&Ve.element===ye&&(x($._fullLayout.dragmode)||(Ce(),ze([0,0,bt,wt]),ae.moveFn(Ve.dx,Ve.dy)))}},T.init(ae);var oe=[0,0,bt,wt],te=null,Ae=R.REDRAWDELAY,_e=Q.mainplot?$._fullLayout._plots[Q.mainplot]:Q;function ge(be,ve){if(be*=Tt,ve*=At,!$._transitioningWithDuration){if($._fullLayout._replotting=!0,"ew"===Dt||"ns"===zt){var ke=Dt?-be:0,Fe=zt?-ve:0;if(Nt.isSubplotConstrained){if(Dt&&zt){var De=(be/bt-ve/wt)/2;ke=-(be=De*bt),Fe=-(ve=-De*wt)}zt?ke=-Fe*bt/wt:Fe=-ke*wt/bt}return Dt&&(P(at,be),we("x")),zt&&(P(dt,ve),we("y")),ze([ke,Fe,bt,wt]),fe(),void $.emit("plotly_relayouting",$t)}var Ve,Ze,tn="w"===Dt==("n"===zt)?1:-1;if(Dt&&zt&&(Ot.isSubplotConstrained||Nt.isSubplotConstrained)){var rn=(be/bt+tn*ve/wt)/2;be=rn*bt,ve=tn*rn*wt}if("w"===Dt?be=fn(at,0,be):"e"===Dt?be=fn(at,1,-be):Dt||(be=0),"n"===zt?ve=fn(dt,1,ve):"s"===zt?ve=fn(dt,0,-ve):zt||(ve=0),Ve="w"===Dt?be:0,Ze="n"===zt?ve:0,Ot.isSubplotConstrained&&!Nt.isSubplotConstrained||Nt.isSubplotConstrained&&Dt&&zt&&tn>0){var ln;if(Nt.isSubplotConstrained||!Dt&&1===zt.length){for(ln=0;ln<at.length;ln++)at[ln].range=at[ln]._r.slice(),v(at[ln],1-ve/wt);Ve=(be=ve*bt/wt)/2}if(Nt.isSubplotConstrained||!zt&&1===Dt.length){for(ln=0;ln<dt.length;ln++)dt[ln].range=dt[ln]._r.slice(),v(dt[ln],1-be/bt);Ze=(ve=be*wt/bt)/2}}Nt.isSubplotConstrained&&zt||we("x"),Nt.isSubplotConstrained&&Dt||we("y");var cn=bt-be,sn=wt-ve;!Nt.isSubplotConstrained||Dt&&zt||(Dt?(Ze=Ve?0:be*wt/bt,sn=cn*wt/bt):(Ve=Ze?0:ve*bt/wt,cn=sn*bt/wt)),ze([Ve,Ze,cn,sn]),fe(),$.emit("plotly_relayouting",$t)}function fn(Xe,gn,Mn){for(var Ye,dn,an=1-gn,qe=0;qe<Xe.length;qe++){var vn=Xe[qe];if(!vn.fixedrange){Ye=vn,dn=vn._rl[an]+(vn._rl[gn]-vn._rl[an])/J(Mn/vn._length);var un=vn.l2r(dn);!1!==un&&void 0!==un&&(vn.range[gn]=un)}}return Ye._length*(Ye._rl[gn]-dn)/(Ye._rl[gn]-Ye._rl[an])}}function we(be,ve){for(var ke=Nt.isSubplotConstrained?{x:dt,y:at}[be]:Nt[be+"axes"],Fe=Nt.isSubplotConstrained?{x:at,y:dt}[be]:[],De=0;De<ke.length;De++){var Ve=ke[De],Ze=Ve._id,tn=Nt.xLinks[Ze]||Nt.yLinks[Ze],rn=Fe[0]||Lt[tn]||lt[tn];rn&&(ve?(ve[Ve._name+".range[0]"]=ve[rn._name+".range[0]"],ve[Ve._name+".range[1]"]=ve[rn._name+".range[1]"]):Ve.range=rn.range.slice())}}function fe(){var be,ve=[];function ke(Ve){for(be=0;be<Ve.length;be++)Ve[be].fixedrange||ve.push(Ve[be]._id)}for(Ct&&(ke(at),ke(Ot.xaxes),ke(Nt.xaxes)),Zt&&(ke(dt),ke(Ot.yaxes),ke(Nt.yaxes)),$t={},be=0;be<ve.length;be++){var De=L($,ve[be]);h.drawOne($,De,{skipTitle:!0}),$t[De._name+".range[0]"]=De.range[0],$t[De._name+".range[1]"]=De.range[1]}h.redrawComponents($,ve)}function Pe(){ze([0,0,bt,wt]),l.syncOrAsync([k.previousPromises,function(){$._fullLayout._replotting=!1,s.call("_guiRelayout",$,$t)}],$)}function ze(be){var ve,ke,Fe,De,Ve=$._fullLayout,Ze=Ve._plots,tn=Ve._subplots.cartesian;if(Jt&&s.subplotsRegistry.splom.drag($),Kt)for(ve=0;ve<tn.length;ve++)if(Fe=(ke=Ze[tn[ve]]).xaxis,De=ke.yaxis,ke._scene){var rn=l.simpleMap(Fe.range,Fe.r2l),ln=l.simpleMap(De.range,De.r2l);ke._scene.update({range:[rn[0],ln[0],rn[1],ln[1]]})}if((Jt||Kt)&&(A($),b($)),de){var cn=be[2]/Et._length,sn=be[3]/It._length;for(ve=0;ve<tn.length;ve++){Fe=(ke=Ze[tn[ve]]).xaxis,De=ke.yaxis;var fn,Xe,gn,Mn,dn=(Zt||Nt.isSubplotConstrained)&&!De.fixedrange&&lt[De._id];if((Ct||Nt.isSubplotConstrained)&&!Fe.fixedrange&&Lt[Fe._id]?(fn=cn,gn=kt||Nt.isSubplotConstrained?be[0]:He(Fe,fn)):Nt.xaHash[Fe._id]?(fn=cn,gn=be[0]*Fe._length/Et._length):Nt.yaHash[Fe._id]?(fn=sn,gn="ns"===zt?-be[1]*Fe._length/It._length:He(Fe,fn,{n:"top",s:"bottom"}[zt])):gn=Je(Fe,fn=Ue(Fe,cn,sn)),dn?(Xe=sn,Mn=_t||Nt.isSubplotConstrained?be[1]:He(De,Xe)):Nt.yaHash[De._id]?(Xe=sn,Mn=be[1]*De._length/It._length):Nt.xaHash[De._id]?(Xe=cn,Mn="ew"===Dt?-be[0]*De._length/Et._length:He(De,Xe,{e:"right",w:"left"}[Dt])):Mn=Je(De,Xe=Ue(De,cn,sn)),fn||Xe){fn||(fn=1),Xe||(Xe=1);var an=Fe._offset-gn/fn,qe=De._offset-Mn/Xe;ke.clipRect.call(d.setTranslate,gn,Mn).call(d.setScale,fn,Xe),ke.plot.call(d.setTranslate,an,qe).call(d.setScale,1/fn,1/Xe),fn===ke.xScaleFactor&&Xe===ke.yScaleFactor||(d.setPointGroupScale(ke.zoomScalePts,fn,Xe),d.setTextPointsScale(ke.zoomScaleTxt,fn,Xe)),d.hideOutsideRangePoints(ke.clipOnAxisFalseTraces,ke),ke.xScaleFactor=fn,ke.yScaleFactor=Xe}}}}function Ue(be,ve,ke){return be.fixedrange?0:Ct&&Ot.xaHash[be._id]?ve:Zt&&(Ot.isSubplotConstrained?Ot.xaHash:Ot.yaHash)[be._id]?ke:0}function Je(be,ve){return ve?(be.range=be._r.slice(),v(be,ve),He(be,ve)):0}function He(be,ve,ke){return be._length*(1-ve)*y[ke||be.constraintoward||"middle"]}return _t.length*kt.length!=1&&G(ye,function(be){if($._context._scrollZoom.cartesian||$._fullLayout._enablescrollzoom){if(he(),$._transitioningWithDuration)return be.preventDefault(),void be.stopPropagation();Ce(),clearTimeout(te);var ve=-be.deltaY;if(isFinite(ve)||(ve=be.wheelDelta/10),isFinite(ve)){var ke,Fe=Math.exp(-Math.min(Math.max(ve,-20),20)/200),De=_e.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Ve=(be.clientX-De.left)/De.width,Ze=(De.bottom-be.clientY)/De.height;if(Ct){for(kt||(Ve=.5),ke=0;ke<at.length;ke++)tn(at[ke],Ve,Fe);we("x"),oe[2]*=Fe,oe[0]+=oe[2]*Ve*(1/Fe-1)}if(Zt){for(_t||(Ze=.5),ke=0;ke<dt.length;ke++)tn(dt[ke],Ze,Fe);we("y"),oe[3]*=Fe,oe[1]+=oe[3]*(1-Ze)*(1/Fe-1)}ze(oe),fe(),$.emit("plotly_relayouting",$t),te=setTimeout(function(){$._fullLayout&&(oe=[0,0,bt,wt],Pe())},Ae),be.preventDefault()}else l.log("Did not find wheel motion attributes: ",be)}function tn(rn,ln,cn){if(!rn.fixedrange){var sn=l.simpleMap(rn.range,rn.r2l),fn=sn[0]+(sn[1]-sn[0])*ln;rn.range=sn.map(function(Xe){return rn.l2r(fn+(Xe-fn)*cn)})}}}),ye},makeDragger:H,makeRectDragger:X,makeZoombox:E,makeCorners:N,updateZoombox:Z,xyCorners:j,transitionZoombox:U,removeZoombox:D,showDoubleClickNotifier:M,attachWheelEventHandler:G}},{"../../components/color":102,"../../components/dragelement":121,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../constants/alignment":207,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/subroutines":269,"../../registry":318,"../plots":316,"./axes":279,"./axis_ids":283,"./constants":286,"./scale_zoom":299,"./select":300,"@plotly/d3":11,"has-passive-events":49,tinycolor2:67}],289:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../../components/fx"),o=c("../../components/dragelement"),e=c("../../lib/setcursor"),n=c("./dragbox").makeDragBox,s=c("./constants").DRAGGERSIZE;V.initInteractions=function(a){var i=a._fullLayout;if(a._context.staticPlot)t.select(a).selectAll(".drag").remove();else if(i._has("cartesian")||i._has("splom")){Object.keys(i._plots||{}).sort(function(d,f){if((i._plots[d].mainplot&&!0)===(i._plots[f].mainplot&&!0)){var h=d.split("y"),p=f.split("y");return h[0]===p[0]?Number(h[1]||1)-Number(p[1]||1):Number(h[0]||1)-Number(p[0]||1)}return i._plots[d].mainplot?1:-1}).forEach(function(d){var f=i._plots[d],h=f.xaxis,p=f.yaxis;if(!f.mainplot){var T=n(a,f,h._offset,p._offset,h._length,p._length,"ns","ew");T.onmousemove=function(m){a._fullLayout._rehover=function(){a._fullLayout._hoversubplot===d&&a._fullLayout._plots[d]&&l.hover(a,m,d)},l.hover(a,m,d),a._fullLayout._lasthover=T,a._fullLayout._hoversubplot=d},T.onmouseout=function(m){a._dragging||(a._fullLayout._hoversubplot=null,o.unhover(a,m))},a._context.showAxisDragHandles&&(n(a,f,h._offset-s,p._offset-s,s,s,"n","w"),n(a,f,h._offset+h._length,p._offset-s,s,s,"n","e"),n(a,f,h._offset-s,p._offset+p._length,s,s,"s","w"),n(a,f,h._offset+h._length,p._offset+p._length,s,s,"s","e"))}if(a._context.showAxisDragHandles){if(d===h._mainSubplot){var w=h._mainLinePosition;"top"===h.side&&(w-=s),n(a,f,h._offset+.1*h._length,w,.8*h._length,s,"","ew"),n(a,f,h._offset,w,.1*h._length,s,"","w"),n(a,f,h._offset+.9*h._length,w,.1*h._length,s,"","e")}if(d===p._mainSubplot){var x=p._mainLinePosition;"right"!==p.side&&(x-=s),n(a,f,x,p._offset+.1*p._length,s,.8*p._length,"ns",""),n(a,f,x,p._offset+.9*p._length,s,.1*p._length,"s",""),n(a,f,x,p._offset,s,.1*p._length,"n","")}}});var r=i._hoverlayer.node();r.onmousemove=function(d){d.target=a._fullLayout._lasthover,l.hover(a,d,i._hoversubplot)},r.onclick=function(d){d.target=a._fullLayout._lasthover,l.click(a,d)},r.onmousedown=function(d){a._fullLayout._lasthover.onmousedown(d)},V.updateFx(a)}},V.updateFx=function(a){var i=a._fullLayout;e(i._draggers,"pan"===i.dragmode?"move":"crosshair")}},{"../../components/dragelement":121,"../../components/fx":142,"../../lib/setcursor":252,"./constants":286,"./dragbox":288,"@plotly/d3":11}],290:[function(c,tt,V){"use strict";tt.exports={clearOutlineControllers:function(t){var l=t._fullLayout._zoomlayer;l&&l.selectAll(".outline-controllers").remove()},clearSelect:function(t){var l=t._fullLayout._zoomlayer;l&&l.selectAll(".select-outline").remove(),t._fullLayout._drawing=!1}}},{}],291:[function(c,tt,V){"use strict";var t=c("../../lib").strTranslate;function l(o,e){switch(o.type){case"log":return o.p2d(e);case"date":return o.p2r(e,0,o.calendar);default:return o.p2r(e)}}tt.exports={p2r:l,r2p:function(o,e){switch(o.type){case"log":return o.d2p(e);case"date":return o.r2p(e,0,o.calendar);default:return o.r2p(e)}},axValue:function(o){var e="y"===o._id.charAt(0)?1:0;return function(n){return l(o,n[e])}},getTransform:function(o){return t(o.xaxis._offset,o.yaxis._offset)}}},{"../../lib":232}],292:[function(c,tt,V){"use strict";var t=c("../../registry"),l=c("../../lib"),o=c("./axis_ids");tt.exports=function(e){return function(n,s){var a=n[e];if(Array.isArray(a))for(var i=t.subplotsRegistry.cartesian,r=i.idRegex,d=s._subplots,f=d.xaxis,h=d.yaxis,p=d.cartesian,T=s._has("cartesian")||s._has("gl2d"),w=0;w<a.length;w++){var x=a[w];if(l.isPlainObject(x)){var m=o.cleanId(x.xref,"x",!1),y=o.cleanId(x.yref,"y",!1),A=r.x.test(m),b=r.y.test(y);if(A||b){T||l.pushUnique(s._basePlotModules,i);var k=!1;A&&-1===f.indexOf(m)&&(f.push(m),k=!0),b&&-1===h.indexOf(y)&&(h.push(y),k=!0),k&&A&&b&&p.push(m+y)}}}}}},{"../../lib":232,"../../registry":318,"./axis_ids":283}],293:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../../registry"),o=c("../../lib"),e=c("../plots"),n=c("../../components/drawing"),s=c("../get_data").getModuleCalcData,a=c("./axis_ids"),i=c("./constants"),r=c("../../constants/xmlns_namespaces"),d=o.ensureSingle;function f(x,m,y){return o.ensureSingle(x,m,y,function(A){A.datum(y)})}function h(x,m,y,A,b){for(var k,L,g,S=i.traceLayerClasses,I=x._fullLayout,v=I._modules,R=[],z=[],F=0;F<v.length;F++){var B=(k=v[F]).name,H=l.modules[B].categories;if(H.svg){var X=k.layerName||B+"layer",ot=k.plot;g=(L=s(y,ot))[0],y=L[1],g.length&&R.push({i:S.indexOf(X),className:X,plotMethod:ot,cdModule:g}),H.zoomScale&&z.push("."+X)}}R.sort(function(J,E){return J.i-E.i});var q=m.plot.selectAll("g.mlayer").data(R,function(J){return J.className});if(q.enter().append("g").attr("class",function(J){return J.className}).classed("mlayer",!0).classed("rangeplot",m.isRangePlot),q.exit().remove(),q.order(),q.each(function(J){var E=t.select(this),N=J.className;J.plotMethod(x,m,J.cdModule,E,A,b),-1===i.clipOnAxisFalseQuery.indexOf("."+N)&&n.setClipUrl(E,m.layerClipId,x)}),I._has("scattergl")&&(k=l.getModule("scattergl"),g=s(y,k)[0],k.plot(x,m,g)),!x._context.staticPlot&&(m._hasClipOnAxisFalse&&(m.clipOnAxisFalseTraces=m.plot.selectAll(i.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),z.length)){var P=m.plot.selectAll(z.join(",")).selectAll(".trace");m.zoomScalePts=P.selectAll("path.point"),m.zoomScaleTxt=P.selectAll(".textpoint")}}function p(x,m){var y=m.plotgroup,A=m.id,b=i.layerValue2layerClass[m.xaxis.layer],k=i.layerValue2layerClass[m.yaxis.layer],L=x._fullLayout._hasOnlyLargeSploms;if(m.mainplot){var g=m.mainplotinfo,S=g.plotgroup,I=A+"-x",v=A+"-y";m.minorGridlayer=g.minorGridlayer,m.gridlayer=g.gridlayer,m.zerolinelayer=g.zerolinelayer,d(g.overlinesBelow,"path",I),d(g.overlinesBelow,"path",v),d(g.overaxesBelow,"g",I),d(g.overaxesBelow,"g",v),m.plot=d(g.overplot,"g",A),d(g.overlinesAbove,"path",I),d(g.overlinesAbove,"path",v),d(g.overaxesAbove,"g",I),d(g.overaxesAbove,"g",v),m.xlines=S.select(".overlines-"+b).select("."+I),m.ylines=S.select(".overlines-"+k).select("."+v),m.xaxislayer=S.select(".overaxes-"+b).select("."+I),m.yaxislayer=S.select(".overaxes-"+k).select("."+v)}else if(L)m.xlines=d(y,"path","xlines-above"),m.ylines=d(y,"path","ylines-above"),m.xaxislayer=d(y,"g","xaxislayer-above"),m.yaxislayer=d(y,"g","yaxislayer-above");else{var R=d(y,"g","layer-subplot");m.shapelayer=d(R,"g","shapelayer"),m.imagelayer=d(R,"g","imagelayer"),m.minorGridlayer=d(y,"g","minor-gridlayer"),m.gridlayer=d(y,"g","gridlayer"),m.zerolinelayer=d(y,"g","zerolinelayer"),d(y,"path","xlines-below"),d(y,"path","ylines-below"),m.overlinesBelow=d(y,"g","overlines-below"),d(y,"g","xaxislayer-below"),d(y,"g","yaxislayer-below"),m.overaxesBelow=d(y,"g","overaxes-below"),m.plot=d(y,"g","plot"),m.overplot=d(y,"g","overplot"),m.xlines=d(y,"path","xlines-above"),m.ylines=d(y,"path","ylines-above"),m.overlinesAbove=d(y,"g","overlines-above"),d(y,"g","xaxislayer-above"),d(y,"g","yaxislayer-above"),m.overaxesAbove=d(y,"g","overaxes-above"),m.xlines=y.select(".xlines-"+b),m.ylines=y.select(".ylines-"+k),m.xaxislayer=y.select(".xaxislayer-"+b),m.yaxislayer=y.select(".yaxislayer-"+k)}L||(f(m.minorGridlayer,"g",m.xaxis._id),f(m.minorGridlayer,"g",m.yaxis._id),m.minorGridlayer.selectAll("g").map(function(z){return z[0]}).sort(a.idSort),f(m.gridlayer,"g",m.xaxis._id),f(m.gridlayer,"g",m.yaxis._id),m.gridlayer.selectAll("g").map(function(z){return z[0]}).sort(a.idSort)),m.xlines.style("fill","none").classed("crisp",!0),m.ylines.style("fill","none").classed("crisp",!0)}function T(x,m){if(x){var y={};for(var A in x.each(function(g){var S=g[0];t.select(this).remove(),w(S,m),y[S]=!0}),m._plots)for(var b=m._plots[A].overlays||[],k=0;k<b.length;k++){var L=b[k];y[L.id]&&L.plot.selectAll(".trace").remove()}}}function w(x,m){m._draggers.selectAll("g."+x).remove(),m._defs.select("#clip"+m._uid+x+"plot").remove()}V.name="cartesian",V.attr=["xaxis","yaxis"],V.idRoot=["x","y"],V.idRegex=i.idRegex,V.attrRegex=i.attrRegex,V.attributes=c("./attributes"),V.layoutAttributes=c("./layout_attributes"),V.supplyLayoutDefaults=c("./layout_defaults"),V.transitionAxes=c("./transition_axes"),V.finalizeSubplots=function(x,m){var y,A,b,k=m._subplots,L=k.xaxis,g=k.yaxis,S=k.cartesian,I=S.concat(k.gl2d||[]),v={},R={};for(y=0;y<I.length;y++){var z=I[y].split("y");v[z[0]]=1,R["y"+z[1]]=1}for(y=0;y<L.length;y++)v[A=L[y]]||(b=(x[a.id2name(A)]||{}).anchor,i.idRegex.y.test(b)||(b="y"),S.push(A+b),I.push(A+b),R[b]||(R[b]=1,o.pushUnique(g,b)));for(y=0;y<g.length;y++)R[b=g[y]]||(A=(x[a.id2name(b)]||{}).anchor,i.idRegex.x.test(A)||(A="x"),S.push(A+b),I.push(A+b),v[A]||(v[A]=1,o.pushUnique(L,A)));if(!I.length){for(var F in A="",b="",x)i.attrRegex.test(F)&&("x"===F.charAt(0)?(!A||+F.substr(5)<+A.substr(5))&&(A=F):(!b||+F.substr(5)<+b.substr(5))&&(b=F));A=A?a.name2id(A):"x",b=b?a.name2id(b):"y",L.push(A),g.push(b),S.push(A+b)}},V.plot=function(x,m,y,A){var b,k=x._fullLayout,L=k._subplots.cartesian,g=x.calcdata;if(!Array.isArray(m))for(m=[],b=0;b<g.length;b++)m.push(b);for(b=0;b<L.length;b++){for(var S,I=L[b],v=k._plots[I],R=[],z=0;z<g.length;z++){var F=g[z],B=F[0].trace;B.xaxis+B.yaxis===I&&((-1!==m.indexOf(B.index)||B.carpet)&&(S&&S[0].trace.xaxis+S[0].trace.yaxis===I&&-1!==["tonextx","tonexty","tonext"].indexOf(B.fill)&&-1===R.indexOf(S)&&R.push(S),R.push(F)),S=F)}h(x,v,R,y,A)}},V.clean=function(x,m,y,A){var b,k,L,g=A._plots||{},S=m._plots||{},I=A._subplots||{};if(A._hasOnlyLargeSploms&&!m._hasOnlyLargeSploms)for(L in g)(b=g[L]).plotgroup&&b.plotgroup.remove();var v=A._has&&A._has("gl"),R=m._has&&m._has("gl");if(v&&!R)for(L in g)(b=g[L])._scene&&b._scene.destroy();if(I.xaxis&&I.yaxis){var z=a.listIds({_fullLayout:A});for(k=0;k<z.length;k++){var F=z[k];m[a.id2name(F)]||A._infolayer.selectAll(".g-"+F+"title").remove()}}var B=A._has&&A._has("cartesian"),H=m._has&&m._has("cartesian");if(B&&!H)T(A._cartesianlayer.selectAll(".subplot"),A),A._defs.selectAll(".axesclip").remove(),delete A._axisConstraintGroups,delete A._axisMatchGroups;else if(I.cartesian)for(k=0;k<I.cartesian.length;k++){var X=I.cartesian[k];S[X]||(A._cartesianlayer.selectAll("."+X+",."+X+"-x,."+X+"-y").remove(),w(X,A))}},V.drawFramework=function(x){var m=x._fullLayout,y=function(b){var k,L,g,S,I,v,R=b._fullLayout,z=R._subplots.cartesian,F=z.length,B=[],H=[];for(k=0;k<F;k++){var q=(I=(S=R._plots[g=z[k]]).xaxis)._mainAxis._id+(v=S.yaxis)._mainAxis._id,P=R._plots[q];S.overlays=[],q!==g&&P?(S.mainplot=q,S.mainplotinfo=P,H.push(g)):(S.mainplot=void 0,S.mainplotinfo=void 0,B.push(g))}for(k=0;k<H.length;k++)(S=R._plots[g=H[k]]).mainplotinfo.overlays.push(S);var J=B.concat(H),E=new Array(F);for(k=0;k<F;k++){var N=[g=J[k],(I=(S=R._plots[g]).xaxis).layer,(v=S.yaxis).layer,I.overlaying||"",v.overlaying||""];for(L=0;L<S.overlays.length;L++)N.push(S.overlays[L].id);E[k]=N}return E}(x),A=m._cartesianlayer.selectAll(".subplot").data(y,String);A.enter().append("g").attr("class",function(b){return"subplot "+b[0]}),A.order(),A.exit().call(T,m),A.each(function(b){var k=b[0],L=m._plots[k];L.plotgroup=t.select(this),p(x,L),L.draglayer=d(m._draggers,"g",k)})},V.rangePlot=function(x,m,y){p(x,m),h(x,m,y),e.style(x)},V.toSVG=function(x){var m=x._fullLayout._glimages,y=t.select(x).selectAll(".svg-container");y.filter(function(A,b){return b===y.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var A=this.toDataURL("image/png");m.append("svg:image").attr({xmlns:r.svg,"xlink:href":A,preserveAspectRatio:"none",x:0,y:0,width:this.style.width,height:this.style.height})})},V.updateFx=c("./graph_interact").updateFx},{"../../components/drawing":124,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../registry":318,"../get_data":312,"../plots":316,"./attributes":277,"./axis_ids":283,"./constants":286,"./graph_interact":289,"./layout_attributes":294,"./layout_defaults":295,"./transition_axes":306,"@plotly/d3":11}],294:[function(c,tt,V){"use strict";var t=c("../font_attributes"),l=c("../../components/color/attributes"),o=c("../../components/drawing/attributes").dash,e=c("../../lib/extend").extendFlat,n=c("../../plot_api/plot_template").templatedArray,s=c("../../plots/cartesian/axis_format_attributes").descriptionWithDates,a=c("../../constants/numerical").ONEDAY,i=c("./constants"),r=i.HOUR_PATTERN,d=i.WEEKDAY_PATTERN,f={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}};function h(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var p={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},T={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},w={valType:"data_array",editType:"ticks"},x={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function m(S){var I={valType:"number",min:0,editType:"ticks"};return S||(I.dflt=5),I}function y(S){var I={valType:"number",min:0,editType:"ticks"};return S||(I.dflt=1),I}var A={valType:"color",dflt:l.defaultLine,editType:"ticks"},b={valType:"color",dflt:l.lightLine,editType:"ticks"};function k(S){var I={valType:"number",min:0,editType:"ticks"};return S||(I.dflt=1),I}var L=e({},o,{editType:"ticks"}),g={valType:"boolean",editType:"ticks"};tt.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:l.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:t({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"calc"},rangebreaks:n("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[d,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:a},editType:"calc"}),tickmode:f,nticks:h(),tick0:p,dtick:T,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:w,ticktext:{valType:"data_array",editType:"ticks"},ticks:x,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:m(),tickwidth:y(),tickcolor:A,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:e({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:t({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:s("tick label")},tickformatstops:n("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:s("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:l.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:g,gridcolor:b,gridwidth:k(),griddash:L,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:l.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:l.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"plot"},minor:{tickmode:f,nticks:h("minor"),tick0:p,dtick:T,tickvals:w,ticks:x,ticklen:m("minor"),tickwidth:y("minor"),tickcolor:A,gridcolor:b,gridwidth:k("minor"),griddash:L,showgrid:g,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:t({editType:"ticks"})}}},{"../../components/color/attributes":101,"../../components/drawing/attributes":123,"../../constants/numerical":212,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_format_attributes":282,"../font_attributes":310,"./constants":286}],295:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../components/color"),o=c("../../components/fx/helpers").isUnifiedHover,e=c("../../components/fx/hovermode_defaults"),n=c("../../plot_api/plot_template"),s=c("../layout_attributes"),a=c("./layout_attributes"),i=c("./type_defaults"),r=c("./axis_defaults"),d=c("./constraints"),f=c("./position_defaults"),h=c("./axis_ids"),p=h.id2name,T=h.name2id,w=c("./constants").AX_ID_PATTERN,x=c("../../registry"),m=x.traceIs,y=x.getComponentMethod;function A(b,k,L){Array.isArray(b[k])?b[k].push(L):b[k]=[L]}tt.exports=function(b,k,L){var g,S,I=k.autotypenumbers,v={},R={},z={},F={},B={},H={},X={},ot={},q={},P={};for(g=0;g<L.length;g++){var J=L[g];if(m(J,"cartesian")||m(J,"gl2d")){var E,N;if(J.xaxis)E=p(J.xaxis),A(v,E,J);else if(J.xaxes)for(S=0;S<J.xaxes.length;S++)A(v,p(J.xaxes[S]),J);if(J.yaxis)N=p(J.yaxis),A(v,N,J);else if(J.yaxes)for(S=0;S<J.yaxes.length;S++)A(v,p(J.yaxes[S]),J);"funnel"===J.type?"h"===J.orientation?(E&&(R[E]=!0),N&&(X[N]=!0)):N&&(z[N]=!0):"image"===J.type?(N&&(ot[N]=!0),E&&(ot[E]=!0)):(N&&(B[N]=!0,H[N]=!0),m(J,"carpet")&&("carpet"!==J.type||J._cheater)||E&&(F[E]=!0)),"carpet"===J.type&&J._cheater&&E&&(R[E]=!0),m(J,"2dMap")&&(q[E]=!0,q[N]=!0),m(J,"oriented")&&(P["h"===J.orientation?N:E]=!0)}}var Z=k._subplots,U=Z.xaxis,D=Z.yaxis,M=t.simpleMap(U,p),j=t.simpleMap(D,p),C=M.concat(j),G=l.background;U.length&&D.length&&(G=t.coerce(b,k,s,"plot_bgcolor"));var K,$,Q,ut,ct,gt=l.combine(G,k.paper_bgcolor);function vt(){ct._traceIndices=(v[K]||[]).map(function(qt){return qt._expandedIndex}),ct._annIndices=[],ct._shapeIndices=[],ct._imgIndices=[],ct._subplotsWith=[],ct._counterAxes=[],ct._name=ct._attr=K,ct._id=$}function _t(At,qt){return t.coerce(ut,ct,a,At,qt)}function kt(At,qt){return t.coerce2(ut,ct,a,At,qt)}function Et(At){return"x"===At?D:U}function It(At,qt){for(var ue="x"===At?M:j,Te=[],Ce=0;Ce<ue.length;Ce++){var xe=ue[Ce];xe===qt||(b[xe]||{}).overlaying||Te.push(T(xe))}return Te}var Lt={x:Et("x"),y:Et("y")},lt=Lt.x.concat(Lt.y),at={},dt=[];function mt(){var At=ut.matches;w.test(At)&&-1===lt.indexOf(At)&&(at[At]=ut.type,dt=Object.keys(at))}var St=e(b,k),bt=o(St);for(g=0;g<C.length;g++){$=T(K=C[g]),Q=K.charAt(0),t.isPlainObject(b[K])||(b[K]={}),ut=b[K],ct=n.newContainer(k,K,Q+"axis"),vt();var Nt={hasMinor:!0,letter:Q,font:k.font,outerTicks:q[K],showGrid:!P[K],data:v[K]||[],bgColor:gt,calendar:k.calendar,automargin:!0,visibleDflt:"x"===Q&&!F[K]&&R[K]||"y"===Q&&!B[K]&&z[K],reverseDflt:"y"===Q&&(!H[K]&&X[K]||ot[K]),autotypenumbersDflt:I,splomStash:((k._splomAxes||{})[Q]||{})[$]};_t("uirevision",k.uirevision),i(ut,ct,_t,Nt),r(ut,ct,_t,Nt,k);var Dt=bt&&Q===St.charAt(0),zt=kt("spikecolor",bt?ct.color:void 0),Vt=kt("spikethickness",bt?1.5:void 0),Ct=kt("spikedash",bt?"dot":void 0),Zt=kt("spikemode",bt?"across":void 0),Kt=kt("spikesnap");_t("showspikes",!!(Dt||zt||Vt||Ct||Zt||Kt))||(delete ct.spikecolor,delete ct.spikethickness,delete ct.spikedash,delete ct.spikemode,delete ct.spikesnap),f(ut,ct,_t,{letter:Q,counterAxes:Lt[Q],overlayableAxes:It(Q,K),grid:k.grid}),_t("title.standoff"),mt(),ct._input=ut}for(g=0;g<dt.length;){$=dt[g++],Q=(K=p($)).charAt(0),t.isPlainObject(b[K])||(b[K]={}),ut=b[K],ct=n.newContainer(k,K,Q+"axis"),vt();var Jt={letter:Q,font:k.font,outerTicks:q[K],showGrid:!P[K],data:[],bgColor:gt,calendar:k.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:I,splomStash:((k._splomAxes||{})[Q]||{})[$]};_t("uirevision",k.uirevision),ct.type=at[$]||"linear",r(ut,ct,_t,Jt,k),f(ut,ct,_t,{letter:Q,counterAxes:Lt[Q],overlayableAxes:It(Q,K),grid:k.grid}),_t("fixedrange"),mt(),ct._input=ut}var de=y("rangeslider","handleDefaults"),$t=y("rangeselector","handleDefaults");for(g=0;g<M.length;g++)ut=b[K=M[g]],ct=k[K],de(b,k,K),"date"===ct.type&&$t(ut,ct,k,j,ct.calendar),_t("fixedrange");for(g=0;g<j.length;g++){ut=b[K=j[g]];var Tt=k[p((ct=k[K]).anchor)];_t("fixedrange",y("rangeslider","isVisible")(Tt))}d.handleDefaults(b,k,{axIds:lt.concat(dt).sort(h.idSort),axHasImage:ot})}},{"../../components/color":102,"../../components/fx/helpers":138,"../../components/fx/hovermode_defaults":141,"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"../layout_attributes":314,"./axis_defaults":281,"./axis_ids":283,"./constants":286,"./constraints":287,"./layout_attributes":294,"./position_defaults":297,"./type_defaults":307}],296:[function(c,tt,V){"use strict";var t=c("tinycolor2").mix,l=c("../../components/color/attributes"),o=c("../../lib");tt.exports=function(e,n,s,a){var i=(a=a||{}).dfltColor;function r(b,k){return o.coerce2(e,n,a.attributes,b,k)}var d=r("linecolor",i),f=r("linewidth");s("showline",a.showLine||!!d||!!f)||(delete n.linecolor,delete n.linewidth);var h=r("gridcolor",t(i,a.bgColor,a.blend||l.lightFraction).toRgbString()),p=r("gridwidth"),T=r("griddash");if(s("showgrid",a.showGrid||!!h||!!p||!!T)||(delete n.gridcolor,delete n.gridwidth,delete n.griddash),a.hasMinor){var w=r("minor.gridcolor",t(n.gridcolor,a.bgColor,67).toRgbString()),x=r("minor.gridwidth",n.gridwidth||1),m=r("minor.griddash",n.griddash||"solid");s("minor.showgrid",!!w||!!x||!!m)||(delete n.minor.gridcolor,delete n.minor.gridwidth,delete n.minor.griddash)}if(!a.noZeroLine){var y=r("zerolinecolor",i),A=r("zerolinewidth");s("zeroline",a.showGrid||!!y||!!A)||(delete n.zerolinecolor,delete n.zerolinewidth)}}},{"../../components/color/attributes":101,"../../lib":232,tinycolor2:67}],297:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("../../lib");tt.exports=function(o,e,n,s){var a,i,r,d,f=s.counterAxes||[],h=s.overlayableAxes||[],p=s.letter,T=s.grid;T&&(a=T._anchors[e._id],(i=T._domains[p][T._axisMap[e._id]])&&(r=T[p+"side"].split(" ")[0],d=T.domain[p]["right"===r||"top"===r?1:0])),i=i||[0,1],a=a||(t(o.position)?"free":f[0]||"free"),r=r||("x"===p?"bottom":"left"),d=d||0,"free"===l.coerce(o,e,{anchor:{valType:"enumerated",values:["free"].concat(f),dflt:a}},"anchor")&&n("position",d),l.coerce(o,e,{side:{valType:"enumerated",values:"x"===p?["bottom","top"]:["left","right"],dflt:r}},"side");var w=!1;if(h.length&&(w=l.coerce(o,e,{overlaying:{valType:"enumerated",values:[!1].concat(h),dflt:!1}},"overlaying")),!w){var x=n("domain",i);x[0]>x[1]-1/4096&&(e.domain=i),l.noneOrAll(o.domain,e.domain,i)}return n("layer"),e}},{"../../lib":232,"fast-isnumeric":17}],298:[function(c,tt,V){"use strict";var t=c("./show_dflt");tt.exports=function(l,o,e,n,s){s||(s={});var a=s.tickSuffixDflt,i=t(l);e("tickprefix")&&e("showtickprefix",i),e("ticksuffix",a)&&e("showticksuffix",i)}},{"./show_dflt":302}],299:[function(c,tt,V){"use strict";var t=c("../../constants/alignment").FROM_BL;tt.exports=function(l,o,e){void 0===e&&(e=t[l.constraintoward||"center"]);var n=[l.r2l(l.range[0]),l.r2l(l.range[1])],s=n[0]+(n[1]-n[0])*e;l.range=l._input.range=[l.l2r(s+(n[0]-s)*o),l.l2r(s+(n[1]-s)*o)],l.setScale()}},{"../../constants/alignment":207}],300:[function(c,tt,V){"use strict";var t=c("polybooljs"),l=c("../../registry"),o=c("../../components/drawing").dashStyle,e=c("../../components/color"),n=c("../../components/fx"),s=c("../../components/fx/helpers").makeEventData,a=c("../../components/dragelement/helpers"),i=a.freeMode,r=a.rectMode,d=a.drawMode,f=a.openMode,h=a.selectMode,p=c("../../components/shapes/draw_newshape/display_outlines"),T=c("../../components/shapes/draw_newshape/helpers").handleEllipse,w=c("../../components/shapes/draw_newshape/newshapes"),x=c("../../lib"),m=c("../../lib/polygon"),y=c("../../lib/throttle"),A=c("./axis_ids").getFromId,b=c("../../lib/clear_gl_canvases"),k=c("../../plot_api/subroutines").redrawReglTraces,L=c("./constants"),g=L.MINSELECT,S=m.filter,I=m.tester,v=c("./handle_outline").clearSelect,R=c("./helpers"),z=R.p2r,F=R.axValue,B=R.getTransform;function H(M,j,C,G,K,$,Q){var ut,ct,gt,vt,_t,kt,Et,It,Lt,Ot,lt=j._hoverdata,at=j._fullLayout.clickmode.indexOf("event")>-1,dt=[];if((Ot=lt)&&Array.isArray(Ot)&&!0!==Ot[0].hoverOnBox){P(M,j,$);var mt=function(Ot,Nt){var Dt,zt,Vt=Ot[0],Ct=-1,Zt=[];for(zt=0;zt<Nt.length;zt++)if(Vt.fullData._expandedIndex===(Dt=Nt[zt]).cd[0].trace._expandedIndex){if(!0===Vt.hoverOnBox)break;void 0!==Vt.pointNumber?Ct=Vt.pointNumber:void 0!==Vt.binNumber&&(Ct=Vt.binNumber,Zt=Vt.pointNumbers);break}return{pointNumber:Ct,pointNumbers:Zt,searchInfo:Dt}}(lt,ut=E(j,C,G,K));if(mt.pointNumbers.length>0?function(Ot,Nt){var Dt,zt,Vt,Ct=[];for(Vt=0;Vt<Ot.length;Vt++)(Dt=Ot[Vt]).cd[0].trace.selectedpoints&&Dt.cd[0].trace.selectedpoints.length>0&&Ct.push(Dt);if(1===Ct.length&&Ct[0]===Nt.searchInfo&&(zt=Nt.searchInfo.cd[0].trace).selectedpoints.length===Nt.pointNumbers.length){for(Vt=0;Vt<Nt.pointNumbers.length;Vt++)if(zt.selectedpoints.indexOf(Nt.pointNumbers[Vt])<0)return!1;return!0}return!1}(ut,mt):function(Ot){var Dt,zt,Vt=0;for(zt=0;zt<Ot.length;zt++)if((Dt=Ot[zt].cd[0].trace).selectedpoints&&(Dt.selectedpoints.length>1||(Vt+=Dt.selectedpoints.length)>1))return!1;return 1===Vt}(ut)&&(kt=N(mt))){for(Q&&Q.remove(),Lt=0;Lt<ut.length;Lt++)(ct=ut[Lt])._module.selectPoints(ct,!1);Z(j,ut),J($),at&&j.emit("plotly_deselect",null)}else{for(Et=M.shiftKey&&(void 0!==kt?kt:N(mt)),gt=function(Ot,Nt,Dt){return{pointNumber:Ot,searchInfo:Nt,subtract:Dt}}(mt.pointNumber,mt.searchInfo,Et),vt=q($.selectionDefs.concat([gt])),Lt=0;Lt<ut.length;Lt++)if(_t=U(ut[Lt]._module.selectPoints(ut[Lt],vt),ut[Lt]),dt.length)for(var St=0;St<_t.length;St++)dt.push(_t[St]);else dt=_t;if(Z(j,ut,It={points:dt}),gt&&$&&$.selectionDefs.push(gt),Q){var bt=$.mergedPolygons,wt=f($.dragmode);p(D(bt,wt),Q,$)}at&&j.emit("plotly_selected",It)}}}function X(M){return"pointNumber"in M&&"searchInfo"in M}function ot(M){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(j,C,G,K){return K.cd[0].trace._expandedIndex===M.searchInfo.cd[0].trace._expandedIndex&&G===M.pointNumber},isRect:!1,degenerate:!1,subtract:M.subtract}}function q(M){for(var j=[],C=X(M[0])?0:M[0][0][0],G=C,K=X(M[0])?0:M[0][0][1],$=K,Q=0;Q<M.length;Q++)if(X(M[Q]))j.push(ot(M[Q]));else{var ut=m.tester(M[Q]);ut.subtract=M[Q].subtract,j.push(ut),C=Math.min(C,ut.xmin),G=Math.max(G,ut.xmax),K=Math.min(K,ut.ymin),$=Math.max($,ut.ymax)}return{xmin:C,xmax:G,ymin:K,ymax:$,pts:[],contains:function(ct,gt,vt,_t){for(var kt=!1,Et=0;Et<j.length;Et++)j[Et].contains(ct,gt,vt,_t)&&(kt=!1===j[Et].subtract);return kt},isRect:!1,degenerate:!1}}function P(M,j,C){j._fullLayout._drawing=!1;var G=j._fullLayout,K=C.plotinfo,$=C.dragmode,Q=G._lastSelectedSubplot&&G._lastSelectedSubplot===K.id,ut=(M.shiftKey||M.altKey)&&!(d($)&&f($));Q&&ut&&K.selection&&K.selection.selectionDefs&&!C.selectionDefs?(C.selectionDefs=K.selection.selectionDefs,C.mergedPolygons=K.selection.mergedPolygons):ut&&K.selection||J(C),Q||(v(j),G._lastSelectedSubplot=K.id)}function J(M){var j=M.dragmode,C=M.plotinfo,G=M.gd;if(G._fullLayout._activeShapeIndex>=0&&G._fullLayout._deactivateShape(G),d(j)){var K=G._fullLayout._zoomlayer.selectAll(".select-outline-"+C.id);if(K&&G._fullLayout._drawing){var $=w(K,M);$&&l.call("_guiRelayout",G,{shapes:$}),G._fullLayout._drawing=!1}}C.selection={},C.selection.selectionDefs=M.selectionDefs=[],C.selection.mergedPolygons=M.mergedPolygons=[]}function E(M,j,C,G){var K,$,Q,ut=[],ct=j.map(function(Et){return Et._id}),gt=C.map(function(Et){return Et._id});for(Q=0;Q<M.calcdata.length;Q++)if(!0===($=(K=M.calcdata[Q])[0].trace).visible&&$._module&&$._module.selectPoints)if(!G||$.subplot!==G&&$.geo!==G)if("splom"===$.type&&$._xaxes[ct[0]]&&$._yaxes[gt[0]]){var vt=kt($._module,K,j[0],C[0]);vt.scene=M._fullLayout._splomScenes[$.uid],ut.push(vt)}else if("sankey"===$.type){var _t=kt($._module,K,j[0],C[0]);ut.push(_t)}else{if(-1===ct.indexOf($.xaxis)||-1===gt.indexOf($.yaxis))continue;ut.push(kt($._module,K,A(M,$.xaxis),A(M,$.yaxis)))}else ut.push(kt($._module,K,j[0],C[0]));return ut;function kt(Et,It,Lt,lt){return{_module:Et,cd:It,xaxis:Lt,yaxis:lt}}}function N(M){var j=M.searchInfo.cd[0].trace,G=M.pointNumbers;return!!j.selectedpoints&&j.selectedpoints.indexOf(G.length>0?G[0]:M.pointNumber)>-1}function Z(M,j,C){var G,K,$,Q;for(G=0;G<j.length;G++){var ut=j[G].cd[0].trace._fullInput,ct=M._fullLayout._tracePreGUI[ut.uid]||{};void 0===ct.selectedpoints&&(ct.selectedpoints=ut._input.selectedpoints||null)}if(C){var gt=C.points||[];for(G=0;G<j.length;G++)(Q=j[G].cd[0].trace)._input.selectedpoints=Q._fullInput.selectedpoints=[],Q._fullInput!==Q&&(Q.selectedpoints=[]);for(G=0;G<gt.length;G++){var vt=gt[G],_t=vt.data,kt=vt.fullData;vt.pointIndices?([].push.apply(_t.selectedpoints,vt.pointIndices),Q._fullInput!==Q&&[].push.apply(kt.selectedpoints,vt.pointIndices)):(_t.selectedpoints.push(vt.pointIndex),Q._fullInput!==Q&&kt.selectedpoints.push(vt.pointIndex))}}else for(G=0;G<j.length;G++)delete(Q=j[G].cd[0].trace).selectedpoints,delete Q._input.selectedpoints,Q._fullInput!==Q&&delete Q._fullInput.selectedpoints;var Et=!1;for(G=0;G<j.length;G++){Q=($=(K=j[G]).cd)[0].trace,l.traceIs(Q,"regl")&&(Et=!0);var It=K._module,Lt=It.styleOnSelect||It.style;Lt&&(Lt(M,$,$[0].node3),$[0].nodeRangePlot3&&Lt(M,$,$[0].nodeRangePlot3))}Et&&(b(M),k(M))}function U(M,j){if(Array.isArray(M))for(var C=j.cd,G=j.cd[0].trace,K=0;K<M.length;K++)M[K]=s(M[K],G,C);return M}function D(M,j){for(var C=[],G=0;G<M.length;G++){C[G]=[];for(var K=0;K<M[G].length;K++){C[G][K]=[],C[G][K][0]=K?"L":"M";for(var $=0;$<M[G][K].length;$++)C[G][K].push(M[G][K][$])}j||C[G].push(["Z",C[G][0][1],C[G][0][2]])}return C}tt.exports={prepSelect:function(M,j,C,G,K){var $=i(K),Q=r(K),ut=f(K),ct=d(K),gt=h(K),vt="drawcircle"===K,_t="drawline"===K||vt,kt=G.gd,Et=kt._fullLayout,It=Et._zoomlayer,Lt=G.element.getBoundingClientRect(),lt=G.plotinfo,at=B(lt),dt=j-Lt.left,mt=C-Lt.top;Et._calcInverseTransform(kt);var bt,wt,Ot,Nt,Dt,zt,Vt,St=x.apply3DTransform(Et._invTransform)(dt,mt),Ct=Et._invScaleX,Zt=Et._invScaleY,Kt=dt=St[0],Jt=mt=St[1],de="M"+dt+","+mt,$t=G.xaxes[0]._length,Tt=G.yaxes[0]._length,At=G.xaxes.concat(G.yaxes),qt=M.altKey&&!(d(K)&&ut);P(M,kt,G),$&&(bt=S([[dt,mt]],L.BENDPX));var ue=It.selectAll("path.select-outline-"+lt.id).data(ct?[0]:[1,2]),Te=Et.newshape;ue.enter().append("path").attr("class",function(Mt){return"select-outline select-outline-"+Mt+" select-outline-"+lt.id}).style(ct?{opacity:Te.opacity/2,fill:ut?void 0:Te.fillcolor,stroke:Te.line.color,"stroke-dasharray":o(Te.line.dash,Te.line.width),"stroke-width":Te.line.width+"px"}:{}).attr("fill-rule",Te.fillrule).classed("cursor-move",!!ct).attr("transform",at).attr("d",de+"Z");var Ce,xe=It.append("path").attr("class","zoombox-corners").style({fill:e.background,stroke:e.defaultLine,"stroke-width":1}).attr("transform",at).attr("d","M0,0Z"),ye=Et._uid+L.SELECTID,ce=[],nt=E(kt,G.xaxes,G.yaxes,G.subplot);function it(Mt,Pt){return Mt-Pt}Ce=lt.fillRangeItems?lt.fillRangeItems:Q?function(Mt,Pt){var Ut=Mt.range={};for(Dt=0;Dt<At.length;Dt++){var Rt=At[Dt],jt=Rt._id.charAt(0);Ut[Rt._id]=[z(Rt,Pt[jt+"min"]),z(Rt,Pt[jt+"max"])].sort(it)}}:function(Mt,Pt,Ut){var Rt=Mt.lassoPoints={};for(Dt=0;Dt<At.length;Dt++){var jt=At[Dt];Rt[jt._id]=Ut.filtered.map(F(jt))}},G.moveFn=function(Mt,Pt){Kt=Math.max(0,Math.min($t,Ct*Mt+dt)),Jt=Math.max(0,Math.min(Tt,Zt*Pt+mt));var he,Me,Ut=Math.abs(Kt-dt),Rt=Math.abs(Jt-mt);if(Q){var jt,Yt,ee;if(gt){var ae=Et.selectdirection;switch(jt="any"===ae?Rt<Math.min(.6*Ut,g)?"h":Ut<Math.min(.6*Rt,g)?"v":"d":ae){case"h":Yt=vt?Tt/2:0,ee=Tt;break;case"v":Yt=vt?$t/2:0,ee=$t}}if(ct)switch(Et.newshape.drawdirection){case"vertical":jt="h",Yt=vt?Tt/2:0,ee=Tt;break;case"horizontal":jt="v",Yt=vt?$t/2:0,ee=$t;break;case"ortho":Ut<Rt?(jt="h",Yt=mt,ee=Jt):(jt="v",Yt=dt,ee=Kt);break;default:jt="d"}"h"===jt?((Nt=_t?T(vt,[Kt,Yt],[Kt,ee]):[[dt,Yt],[dt,ee],[Kt,ee],[Kt,Yt]]).xmin=_t?Kt:Math.min(dt,Kt),Nt.xmax=_t?Kt:Math.max(dt,Kt),Nt.ymin=Math.min(Yt,ee),Nt.ymax=Math.max(Yt,ee),xe.attr("d","M"+Nt.xmin+","+(mt-g)+"h-4v"+2*g+"h4ZM"+(Nt.xmax-1)+","+(mt-g)+"h4v"+2*g+"h-4Z")):"v"===jt?((Nt=_t?T(vt,[Yt,Jt],[ee,Jt]):[[Yt,mt],[Yt,Jt],[ee,Jt],[ee,mt]]).xmin=Math.min(Yt,ee),Nt.xmax=Math.max(Yt,ee),Nt.ymin=_t?Jt:Math.min(mt,Jt),Nt.ymax=_t?Jt:Math.max(mt,Jt),xe.attr("d","M"+(dt-g)+","+Nt.ymin+"v-4h"+2*g+"v4ZM"+(dt-g)+","+(Nt.ymax-1)+"v4h"+2*g+"v-4Z")):"d"===jt&&((Nt=_t?T(vt,[dt,mt],[Kt,Jt]):[[dt,mt],[dt,Jt],[Kt,Jt],[Kt,mt]]).xmin=Math.min(dt,Kt),Nt.xmax=Math.max(dt,Kt),Nt.ymin=Math.min(mt,Jt),Nt.ymax=Math.max(mt,Jt),xe.attr("d","M0,0Z"))}else $&&(bt.addPt([Kt,Jt]),Nt=bt.filtered);G.selectionDefs&&G.selectionDefs.length?(he=G.mergedPolygons,Me=Nt,Ot=qt?t.difference({regions:he,inverted:!1},{regions:[Me],inverted:!1}).regions:t.union({regions:he,inverted:!1},{regions:[Me],inverted:!1}).regions,Nt.subtract=qt,wt=q(G.selectionDefs.concat([Nt]))):(Ot=[Nt],wt=I(Nt)),p(D(Ot,ut),ue,G),gt&&y.throttle(ye,L.SELECTDELAY,function(){var he;ce=[];var Me,re=[];for(Dt=0;Dt<nt.length;Dt++)if(Me=(zt=nt[Dt])._module.selectPoints(zt,wt),re.push(Me),he=U(Me,zt),ce.length)for(var me=0;me<he.length;me++)ce.push(he[me]);else ce=he;Z(kt,nt,Vt={points:ce}),Ce(Vt,Nt,bt),G.gd.emit("plotly_selecting",Vt)})},G.clickFn=function(Mt,Pt){if(xe.remove(),kt._fullLayout._activeShapeIndex>=0)kt._fullLayout._deactivateShape(kt);else if(!ct){var Ut=Et.clickmode;y.done(ye).then(function(){if(y.clear(ye),2===Mt){for(ue.remove(),Dt=0;Dt<nt.length;Dt++)(zt=nt[Dt])._module.selectPoints(zt,!1);Z(kt,nt),J(G),kt.emit("plotly_deselect",null)}else Ut.indexOf("select")>-1&&H(Pt,kt,G.xaxes,G.yaxes,G.subplot,G,ue),"event"===Ut&&kt.emit("plotly_selected",void 0);n.click(kt,Pt)}).catch(x.error)}},G.doneFn=function(){xe.remove(),y.done(ye).then(function(){y.clear(ye),G.gd.emit("plotly_selected",Vt),Nt&&G.selectionDefs&&(Nt.subtract=qt,G.selectionDefs.push(Nt),G.mergedPolygons.length=0,[].push.apply(G.mergedPolygons,Ot)),G.doneFnCompleted&&G.doneFnCompleted(ce)}).catch(x.error),ct&&J(G)}},clearSelect:v,clearSelectionsCache:J,selectOnClick:H}},{"../../components/color":102,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../components/fx/helpers":138,"../../components/shapes/draw_newshape/display_outlines":190,"../../components/shapes/draw_newshape/helpers":191,"../../components/shapes/draw_newshape/newshapes":192,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/polygon":244,"../../lib/throttle":256,"../../plot_api/subroutines":269,"../../registry":318,"./axis_ids":283,"./constants":286,"./handle_outline":290,"./helpers":291,polybooljs:57}],301:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("d3-time-format").utcFormat,o=c("../../lib"),e=o.numberFormat,n=c("fast-isnumeric"),s=o.cleanNumber,a=o.ms2DateTime,i=o.dateTime2ms,r=o.ensureNumber,d=o.isArrayOrTypedArray,f=c("../../constants/numerical"),h=f.FP_SAFE,p=f.BADNUM,T=f.LOG_CLIP,w=f.ONEWEEK,x=f.ONEDAY,m=f.ONEHOUR,y=f.ONEMIN,A=f.ONESEC,b=c("./axis_ids"),k=c("./constants"),L=k.HOUR_PATTERN,g=k.WEEKDAY_PATTERN;function S(v){return Math.pow(10,v)}function I(v){return null!=v}tt.exports=function(v,R){R=R||{};var z=v._id||"x",F=z.charAt(0);function B(C,G){if(C>0)return Math.log(C)/Math.LN10;if(C<=0&&G&&v.range&&2===v.range.length){var K=v.range[0],$=v.range[1];return.5*(K+$-2*T*Math.abs(K-$))}return p}function H(C,G,K,$){if(($||{}).msUTC&&n(C))return+C;var Q=i(C,K||v.calendar);if(Q===p){if(!n(C))return p;C=+C;var ut=Math.floor(10*o.mod(C+.05,1)),ct=Math.round(C-ut/10);Q=i(new Date(ct))+ut/10}return Q}function X(C,G,K){return a(C,G,K||v.calendar)}function ot(C){return v._categories[Math.round(C)]}function q(C){if(I(C)){if(void 0===v._categoriesMap&&(v._categoriesMap={}),void 0!==v._categoriesMap[C])return v._categoriesMap[C];v._categories.push("number"==typeof C?String(C):C);var G=v._categories.length-1;return v._categoriesMap[C]=G,G}return p}function P(C){if(v._categoriesMap)return v._categoriesMap[C]}function J(C){var G=P(C);return void 0!==G?G:n(C)?+C:void 0}function E(C){return n(C)?+C:P(C)}function N(C,G,K){return t.round(K+G*C,2)}function Z(C,G,K){return(C-K)/G}var U=function(C){return n(C)?N(C,v._m,v._b):p},D=function(C){return Z(C,v._m,v._b)};if(v.rangebreaks){var M="y"===F;U=function(C){if(!n(C))return p;var G=v._rangebreaks.length;if(!G)return N(C,v._m,v._b);var K=M;v.range[0]>v.range[1]&&(K=!K);for(var $=K?-1:1,Q=$*C,ut=0,ct=0;ct<G;ct++){var gt=$*v._rangebreaks[ct].min,vt=$*v._rangebreaks[ct].max;if(Q<gt)break;if(!(Q>vt)){ut=Q<(gt+vt)/2?ct:ct+1;break}ut=ct+1}var _t=v._B[ut]||0;return isFinite(_t)?N(C,v._m2,_t):0},D=function(C){var G=v._rangebreaks.length;if(!G)return Z(C,v._m,v._b);for(var K=0,$=0;$<G&&!(C<v._rangebreaks[$].pmin);$++)C>v._rangebreaks[$].pmax&&(K=$+1);return Z(C,v._m2,v._B[K])}}v.c2l="log"===v.type?B:r,v.l2c="log"===v.type?S:r,v.l2p=U,v.p2l=D,v.c2p="log"===v.type?function(C,G){return U(B(C,G))}:U,v.p2c="log"===v.type?function(C){return S(D(C))}:D,-1!==["linear","-"].indexOf(v.type)?(v.d2r=v.r2d=v.d2c=v.r2c=v.d2l=v.r2l=s,v.c2d=v.c2r=v.l2d=v.l2r=r,v.d2p=v.r2p=function(C){return v.l2p(s(C))},v.p2d=v.p2r=D,v.cleanPos=r):"log"===v.type?(v.d2r=v.d2l=function(C,G){return B(s(C),G)},v.r2d=v.r2c=function(C){return S(s(C))},v.d2c=v.r2l=s,v.c2d=v.l2r=r,v.c2r=B,v.l2d=S,v.d2p=function(C,G){return v.l2p(v.d2r(C,G))},v.p2d=function(C){return S(D(C))},v.r2p=function(C){return v.l2p(s(C))},v.p2r=D,v.cleanPos=r):"date"===v.type?(v.d2r=v.r2d=o.identity,v.d2c=v.r2c=v.d2l=v.r2l=H,v.c2d=v.c2r=v.l2d=v.l2r=X,v.d2p=v.r2p=function(C,G,K){return v.l2p(H(C,0,K))},v.p2d=v.p2r=function(C,G,K){return X(D(C),G,K)},v.cleanPos=function(C){return o.cleanDate(C,p,v.calendar)}):"category"===v.type?(v.d2c=v.d2l=q,v.r2d=v.c2d=v.l2d=ot,v.d2r=v.d2l_noadd=J,v.r2c=function(C){var G=E(C);return void 0!==G?G:v.fraction2r(.5)},v.l2r=v.c2r=r,v.r2l=E,v.d2p=function(C){return v.l2p(v.r2c(C))},v.p2d=function(C){return ot(D(C))},v.r2p=v.d2p,v.p2r=D,v.cleanPos=function(C){return"string"==typeof C&&""!==C?C:r(C)}):"multicategory"===v.type&&(v.r2d=v.c2d=v.l2d=ot,v.d2r=v.d2l_noadd=J,v.r2c=function(C){var G=J(C);return void 0!==G?G:v.fraction2r(.5)},v.r2c_just_indices=P,v.l2r=v.c2r=r,v.r2l=J,v.d2p=function(C){return v.l2p(v.r2c(C))},v.p2d=function(C){return ot(D(C))},v.r2p=v.d2p,v.p2r=D,v.cleanPos=function(C){return Array.isArray(C)||"string"==typeof C&&""!==C?C:r(C)},v.setupMultiCategory=function(C){var G,K,$=v._traceIndices,Q=v._matchGroup;if(Q&&0===v._categories.length)for(var ut in Q)if(ut!==z){var ct=R[b.id2name(ut)];$=$.concat(ct._traceIndices)}var gt=[[0,{}],[0,{}]],vt=[];for(G=0;G<$.length;G++){var _t=C[$[G]];if(F in _t){var kt=_t[F],Et=_t._length||o.minRowLength(kt);if(d(kt[0])&&d(kt[1]))for(K=0;K<Et;K++){var It=kt[0][K],Lt=kt[1][K];I(It)&&I(Lt)&&(vt.push([It,Lt]),It in gt[0][1]||(gt[0][1][It]=gt[0][0]++),Lt in gt[1][1]||(gt[1][1][Lt]=gt[1][0]++))}}}for(vt.sort(function(lt,at){var dt=gt[0][1],mt=dt[lt[0]]-dt[at[0]];if(mt)return mt;var St=gt[1][1];return St[lt[1]]-St[at[1]]}),G=0;G<vt.length;G++)q(vt[G])}),v.fraction2r=function(C){var G=v.r2l(v.range[0]),K=v.r2l(v.range[1]);return v.l2r(G+C*(K-G))},v.r2fraction=function(C){var G=v.r2l(v.range[0]),K=v.r2l(v.range[1]);return(v.r2l(C)-G)/(K-G)},v.cleanRange=function(C,G){G||(G={}),C||(C="range");var K,$,Q=o.nestedProperty(v,C).get();if($=($="date"===v.type?o.dfltRange(v.calendar):"y"===F?k.DFLTRANGEY:"realaxis"===v._name?[0,1]:G.dfltRange||k.DFLTRANGEX).slice(),"tozero"!==v.rangemode&&"nonnegative"!==v.rangemode||($[0]=0),Q&&2===Q.length)for("date"!==v.type||v.autorange||(Q[0]=o.cleanDate(Q[0],p,v.calendar),Q[1]=o.cleanDate(Q[1],p,v.calendar)),K=0;K<2;K++)if("date"===v.type){if(!o.isDateTime(Q[K],v.calendar)){v[C]=$;break}if(v.r2l(Q[0])===v.r2l(Q[1])){var ut=o.constrain(v.r2l(Q[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);Q[0]=v.l2r(ut-1e3),Q[1]=v.l2r(ut+1e3);break}}else{if(!n(Q[K])){if(!n(Q[1-K])){v[C]=$;break}Q[K]=Q[1-K]*(K?10:.1)}if(Q[K]<-h?Q[K]=-h:Q[K]>h&&(Q[K]=h),Q[0]===Q[1]){var ct=Math.max(1,Math.abs(1e-6*Q[0]));Q[0]-=ct,Q[1]+=ct}}else o.nestedProperty(v,C).set($)},v.setScale=function(C){var G=R._size;if(v.overlaying){var K=b.getFromId({_fullLayout:R},v.overlaying);v.domain=K.domain}var $=C&&v._r?"_r":"range",Q=v.calendar;v.cleanRange($);var ut,ct,gt=v.r2l(v[$][0],Q),vt=v.r2l(v[$][1],Q),_t="y"===F;if(_t?(v._offset=G.t+(1-v.domain[1])*G.h,v._length=G.h*(v.domain[1]-v.domain[0]),v._m=v._length/(gt-vt),v._b=-v._m*vt):(v._offset=G.l+v.domain[0]*G.w,v._length=G.w*(v.domain[1]-v.domain[0]),v._m=v._length/(vt-gt),v._b=-v._m*gt),v._rangebreaks=[],v._lBreaks=0,v._m2=0,v._B=[],v.rangebreaks&&(v._rangebreaks=v.locateBreaks(Math.min(gt,vt),Math.max(gt,vt)),v._rangebreaks.length)){for(ut=0;ut<v._rangebreaks.length;ut++)ct=v._rangebreaks[ut],v._lBreaks+=Math.abs(ct.max-ct.min);var kt=_t;gt>vt&&(kt=!kt),kt&&v._rangebreaks.reverse();var Et=kt?-1:1;for(v._m2=Et*v._length/(Math.abs(vt-gt)-v._lBreaks),v._B.push(-v._m2*(_t?vt:gt)),ut=0;ut<v._rangebreaks.length;ut++)v._B.push(v._B[v._B.length-1]-Et*v._m2*((ct=v._rangebreaks[ut]).max-ct.min));for(ut=0;ut<v._rangebreaks.length;ut++)(ct=v._rangebreaks[ut]).pmin=U(ct.min),ct.pmax=U(ct.max)}if(!isFinite(v._m)||!isFinite(v._b)||v._length<0)throw R._replotting=!1,new Error("Something went wrong with axis scaling")},v.maskBreaks=function(C){var G,K,$,Q,ut,ct=v.rangebreaks||[];ct._cachedPatterns||(ct._cachedPatterns=ct.map(function(It){return It.enabled&&It.bounds?o.simpleMap(It.bounds,It.pattern?s:v.d2c):null})),ct._cachedValues||(ct._cachedValues=ct.map(function(It){return It.enabled&&It.values?o.simpleMap(It.values,v.d2c).sort(o.sorterAsc):null}));for(var gt=0;gt<ct.length;gt++){var vt=ct[gt];if(vt.enabled)if(vt.bounds){switch(K=(G=ct._cachedPatterns[gt])[0],$=G[1],vt.pattern){case g:Q=(ut=new Date(C)).getUTCDay(),K>$&&($+=7,Q<K&&(Q+=7));break;case L:Q=(ut=new Date(C)).getUTCHours()+(ut.getUTCMinutes()/60+ut.getUTCSeconds()/3600+ut.getUTCMilliseconds()/36e5),K>$&&($+=24,Q<K&&(Q+=24));break;case"":Q=C}if(Q>=K&&Q<$)return p}else for(var kt=ct._cachedValues[gt],Et=0;Et<kt.length;Et++)if($=(K=kt[Et])+vt.dvalue,C>=K&&C<$)return p}return C},v.locateBreaks=function(C,G){var K,$,Q,ut,ct=[];if(!v.rangebreaks)return ct;var gt=v.rangebreaks.slice().sort(function(St,bt){return St.pattern===g&&bt.pattern===L?-1:bt.pattern===g&&St.pattern===L?1:0}),vt=function(St,bt){if((St=o.constrain(St,C,G))!==(bt=o.constrain(bt,C,G))){for(var wt=!0,Ot=0;Ot<ct.length;Ot++){var Nt=ct[Ot];St<Nt.max&&bt>=Nt.min&&(St<Nt.min&&(Nt.min=St),bt>Nt.max&&(Nt.max=bt),wt=!1)}wt&&ct.push({min:St,max:bt})}};for(K=0;K<gt.length;K++){var _t=gt[K];if(_t.enabled)if(_t.bounds){var kt=C,Et=G;_t.pattern&&(kt=Math.floor(kt)),Q=($=o.simpleMap(_t.bounds,_t.pattern?s:v.r2l))[0],ut=$[1];var It,Lt,lt=new Date(kt);switch(_t.pattern){case g:Lt=w,It=(ut-Q+(ut<Q?7:0))*x,kt+=Q*x-(lt.getUTCDay()*x+lt.getUTCHours()*m+lt.getUTCMinutes()*y+lt.getUTCSeconds()*A+lt.getUTCMilliseconds());break;case L:Lt=x,It=(ut-Q+(ut<Q?24:0))*m,kt+=Q*m-(lt.getUTCHours()*m+lt.getUTCMinutes()*y+lt.getUTCSeconds()*A+lt.getUTCMilliseconds());break;default:kt=Math.min($[0],$[1]),It=Lt=(Et=Math.max($[0],$[1]))-kt}for(var at=kt;at<Et;at+=Lt)vt(at,at+It)}else for(var dt=o.simpleMap(_t.values,v.d2c),mt=0;mt<dt.length;mt++)vt(Q=dt[mt],ut=Q+_t.dvalue)}return ct.sort(function(St,bt){return St.min-bt.min}),ct},v.makeCalcdata=function(C,G,K){var $,Q,ut,ct,gt=v.type,vt="date"===gt&&C[G+"calendar"];if(G in C){if($=C[G],ct=C._length||o.minRowLength($),o.isTypedArray($)&&("linear"===gt||"log"===gt)){if(ct===$.length)return $;if($.subarray)return $.subarray(0,ct)}if("multicategory"===gt)return function(Et,It){for(var Lt=new Array(It),lt=0;lt<It;lt++)Lt[lt]=P([(Et[0]||[])[lt],(Et[1]||[])[lt]]);return Lt}($,ct);for(Q=new Array(ct),ut=0;ut<ct;ut++)Q[ut]=v.d2c($[ut],0,vt,K)}else{var _t=G+"0"in C?v.d2c(C[G+"0"],0,vt):0,kt=C["d"+G]?Number(C["d"+G]):1;for($=C[{x:"y",y:"x"}[G]],ct=C._length||$.length,Q=new Array(ct),ut=0;ut<ct;ut++)Q[ut]=_t+ut*kt}if(v.rangebreaks)for(ut=0;ut<ct;ut++)Q[ut]=v.maskBreaks(Q[ut]);return Q},v.isValidRange=function(C){return Array.isArray(C)&&2===C.length&&n(v.r2l(C[0]))&&n(v.r2l(C[1]))},v.isPtWithinRange=function(C,G){var K=v.c2l(C[F],null,G),$=v.r2l(v.range[0]),Q=v.r2l(v.range[1]);return $<Q?$<=K&&K<=Q:Q<=K&&K<=$},v._emptyCategories=function(){v._categories=[],v._categoriesMap={}},v.clearCalc=function(){var C=v._matchGroup;if(C){var G=null,K=null;for(var $ in C){var Q=R[b.id2name($)];if(Q._categories){G=Q._categories,K=Q._categoriesMap;break}}G&&K?(v._categories=G,v._categoriesMap=K):v._emptyCategories()}else v._emptyCategories();if(v._initialCategories)for(var ut=0;ut<v._initialCategories.length;ut++)q(v._initialCategories[ut])},v.sortByInitialCategories=function(){var C=[];if(v._emptyCategories(),v._initialCategories)for(var G=0;G<v._initialCategories.length;G++)q(v._initialCategories[G]);C=C.concat(v._traceIndices);var K=v._matchGroup;for(var $ in K)if(z!==$){var Q=R[b.id2name($)];Q._categories=v._categories,Q._categoriesMap=v._categoriesMap,C=C.concat(Q._traceIndices)}return C};var j=R._d3locale;"date"===v.type&&(v._dateFormat=j?j.timeFormat:l,v._extraFormat=R._extraFormat),v._separators=R.separators,v._numFormat=j?j.numberFormat:e,delete v._minDtick,delete v._forceTick0}},{"../../constants/numerical":212,"../../lib":232,"./axis_ids":283,"./constants":286,"@plotly/d3":11,"d3-time-format":14,"fast-isnumeric":17}],302:[function(c,tt,V){"use strict";tt.exports=function(t){var l=["showexponent","showtickprefix","showticksuffix"].filter(function(o){return void 0!==t[o]});if(l.every(function(o){return t[o]===t[l[0]]})||1===l.length)return t[l[0]]}},{}],303:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../components/color").contrast,o=c("./layout_attributes"),e=c("./show_dflt"),n=c("../array_container_defaults");function s(a,i){function r(d,f){return t.coerce(a,i,o.tickformatstops,d,f)}r("enabled")&&(r("dtickrange"),r("value"))}tt.exports=function(a,i,r,d,f){f||(f={});var h=e(a);if(r("showticklabels")){var p=f.font||{},T=i.color,w=-1!==(i.ticklabelposition||"").indexOf("inside")?l(f.bgColor):T&&T!==o.color.dflt?T:p.color;if(t.coerceFont(r,"tickfont",{family:p.family,size:p.size,color:w}),f.noTicklabelstep||"multicategory"===d||"log"===d||r("ticklabelstep"),f.noAng||r("tickangle"),"category"!==d){var x=r("tickformat");n(a,i,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:s}),i.tickformatstops.length||delete i.tickformatstops,f.noExp||x||"date"===d||(r("showexponent",h),r("exponentformat"),r("minexponent"),r("separatethousands"))}}}},{"../../components/color":102,"../../lib":232,"../array_container_defaults":274,"./layout_attributes":294,"./show_dflt":302}],304:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("./layout_attributes");tt.exports=function(o,e,n,s){var a=s.isMinor,i=a?o.minor||{}:o,r=a?e.minor:e,d=a?l.minor:l,f=a?"minor.":"",h=t.coerce2(i,r,d,"ticklen",a?.6*(e.ticklen||5):void 0),p=t.coerce2(i,r,d,"tickwidth",a?e.tickwidth||1:void 0),T=t.coerce2(i,r,d,"tickcolor",(a?e.tickcolor:void 0)||r.color);n(f+"ticks",!a&&s.outerTicks||h||p||T?"outside":"")||(delete r.ticklen,delete r.tickwidth,delete r.tickcolor)}},{"../../lib":232,"./layout_attributes":294}],305:[function(c,tt,V){"use strict";var t=c("./clean_ticks"),l=c("../../lib").isArrayOrTypedArray;tt.exports=function(o,e,n,s,a){a||(a={});var i=a.isMinor,r=i?o.minor||{}:o,d=i?e.minor:e,f=i?"minor.":"";function h(y){var A=r[y];return void 0!==A?A:(d._template||{})[y]}var p=h("tick0"),T=h("dtick"),w=h("tickvals"),x=n(f+"tickmode",l(w)?"array":T?"linear":"auto");if("auto"===x)n(f+"nticks");else if("linear"===x){var m=d.dtick=t.dtick(T,s);d.tick0=t.tick0(p,s,e.calendar,m)}else"multicategory"!==s&&(void 0===n(f+"tickvals")?d.tickmode="auto":i||n("ticktext"))}},{"../../lib":232,"./clean_ticks":285}],306:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../../registry"),o=c("../../lib"),e=c("../../components/drawing"),n=c("./axes");tt.exports=function(s,a,i,r){var d=s._fullLayout;if(0!==a.length){var f,h,p,T;r&&(f=r());var w=t.ease(i.easing);return s._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(T),T=null,function(){for(var y={},A=0;A<a.length;A++){var b=a[A],L=b.plotinfo.yaxis;b.xr0&&(y[b.plotinfo.xaxis._name+".range"]=b.xr0.slice()),b.yr0&&(y[L._name+".range"]=b.yr0.slice())}return l.call("relayout",s,y).then(function(){for(var g=0;g<a.length;g++)x(a[g].plotinfo)})}()}),h=Date.now(),T=window.requestAnimationFrame(function y(){p=Date.now();for(var A=Math.min(1,(p-h)/i.duration),b=w(A),k=0;k<a.length;k++)m(a[k],b);p-h>i.duration?(function(){for(var L={},g=0;g<a.length;g++){var S=a[g],v=S.plotinfo.yaxis;S.xr1&&(L[S.plotinfo.xaxis._name+".range"]=S.xr1.slice()),S.yr1&&(L[v._name+".range"]=S.yr1.slice())}f&&f(),l.call("relayout",s,L).then(function(){for(var R=0;R<a.length;R++)x(a[R].plotinfo)})}(),T=window.cancelAnimationFrame(y)):T=window.requestAnimationFrame(y)}),Promise.resolve()}function x(y){var A=y.xaxis,b=y.yaxis;d._defs.select("#"+y.clipId+"> rect").call(e.setTranslate,0,0).call(e.setScale,1,1),y.plot.call(e.setTranslate,A._offset,b._offset).call(e.setScale,1,1);var k=y.plot.selectAll(".scatterlayer .trace");k.selectAll(".point").call(e.setPointGroupScale,1,1),k.selectAll(".textpoint").call(e.setTextPointsScale,1,1),k.call(e.hideOutsideRangePoints,y)}function m(y,A){var b=y.plotinfo,k=b.xaxis,L=b.yaxis,g=k._length,S=L._length,I=!!y.xr1,v=!!y.yr1,R=[];if(I){var z=o.simpleMap(y.xr0,k.r2l),F=o.simpleMap(y.xr1,k.r2l),B=z[1]-z[0],H=F[1]-F[0];R[0]=(z[0]*(1-A)+A*F[0]-z[0])/(z[1]-z[0])*g,R[2]=g*(1-A+A*H/B),k.range[0]=k.l2r(z[0]*(1-A)+A*F[0]),k.range[1]=k.l2r(z[1]*(1-A)+A*F[1])}else R[0]=0,R[2]=g;if(v){var X=o.simpleMap(y.yr0,L.r2l),ot=o.simpleMap(y.yr1,L.r2l),q=X[1]-X[0],P=ot[1]-ot[0];R[1]=(X[1]*(1-A)+A*ot[1]-X[1])/(X[0]-X[1])*S,R[3]=S*(1-A+A*P/q),L.range[0]=k.l2r(X[0]*(1-A)+A*ot[0]),L.range[1]=L.l2r(X[1]*(1-A)+A*ot[1])}else R[1]=0,R[3]=S;n.drawOne(s,k,{skipTitle:!0}),n.drawOne(s,L,{skipTitle:!0}),n.redrawComponents(s,[k._id,L._id]);var J=I?g/R[2]:1,E=v?S/R[3]:1,M=k._offset-(I?R[0]/R[2]*g:0),j=L._offset-(v?R[1]/R[3]*S:0);b.clipRect.call(e.setTranslate,I?R[0]:0,v?R[1]:0).call(e.setScale,1/J,1/E),b.plot.call(e.setTranslate,M,j).call(e.setScale,J,E),e.setPointGroupScale(b.zoomScalePts,1/J,1/E),e.setTextPointsScale(b.zoomScaleTxt,1/J,1/E)}n.redrawComponents(s)}},{"../../components/drawing":124,"../../lib":232,"../../registry":318,"./axes":279,"@plotly/d3":11}],307:[function(c,tt,V){"use strict";var t=c("../../registry").traceIs,l=c("./axis_autotype");function o(n){return{v:"x",h:"y"}[n.orientation||"v"]}function e(n,s){var a=o(n),i=t(n,"box-violin"),r=t(n._fullInput||{},"candlestick");return i&&!r&&s===a&&void 0===n[a]&&void 0===n[a+"0"]}tt.exports=function(n,s,a,i){a("autotypenumbers",i.autotypenumbersDflt),"-"===a("type",(i.splomStash||{}).type)&&(function(r,d){if("-"===r.type){var f,h=r._id,p=h.charAt(0);-1!==h.indexOf("scene")&&(h=p);var T=function(L,g,S){for(var I=0;I<L.length;I++){var v=L[I];if("splom"===v.type&&v._length>0&&(v["_"+S+"axes"]||{})[g]||(v[S+"axis"]||S)===g&&(e(v,S)||(v[S]||[]).length||v[S+"0"]))return v}}(d,h,p);if(T){if("histogram"===T.type&&p==={v:"y",h:"x"}[T.orientation||"v"])return void(r.type="linear");var w=p+"calendar",x=T[w],m={noMultiCategory:!t(T,"cartesian")||t(T,"noMultiCategory")};if("box"===T.type&&T._hasPreCompStats&&p==={h:"x",v:"y"}[T.orientation||"v"]&&(m.noMultiCategory=!0),m.autotypenumbers=r.autotypenumbers,e(T,p)){var y=o(T),A=[];for(f=0;f<d.length;f++){var b=d[f];t(b,"box-violin")&&(b[p+"axis"]||p)===h&&(A.push(void 0!==b[y]?b[y][0]:void 0!==b.name?b.name:"text"),b[w]!==x&&(x=void 0))}r.type=l(A,x,m)}else if("splom"===T.type){var k=T.dimensions[T._axesDim[h]];k.visible&&(r.type=l(k.values,x,m))}else r.type=l(T[p]||[T[p+"0"]],x,m)}}}(s,i.data),"-"===s.type?s.type="linear":n.type=s.type)}},{"../../registry":318,"./axis_autotype":280}],308:[function(c,tt,V){"use strict";var t=c("../registry"),l=c("../lib");function o(a,i,r){var d,f,h,p=!1;if("data"===i.type)d=a._fullData[null!==i.traces?i.traces[0]:0];else{if("layout"!==i.type)return!1;d=a._fullLayout}return f=l.nestedProperty(d,i.prop).get(),(h=r[i.type]=r[i.type]||{}).hasOwnProperty(i.prop)&&h[i.prop]!==f&&(p=!0),h[i.prop]=f,{changed:p,value:f}}function e(a,i){var r=[],d=i[0],f={};if("string"==typeof d)f[d]=i[1];else{if(!l.isPlainObject(d))return r;f=d}return s(f,function(h,p,T){r.push({type:"layout",prop:h,value:T})},"",0),r}function n(a,i){var r,d,f,h,p=[];if(f=i[1],r=i[2],h={},"string"==typeof(d=i[0]))h[d]=f;else{if(!l.isPlainObject(d))return p;h=d,void 0===r&&(r=f)}return void 0===r&&(r=null),s(h,function(T,w,x){var m,y;if(Array.isArray(x)){y=x.slice();var A=Math.min(y.length,a.data.length);r&&(A=Math.min(A,r.length)),m=[];for(var b=0;b<A;b++)m[b]=r?r[b]:b}else y=x,m=r?r.slice():null;if(null===m)Array.isArray(y)&&(y=y[0]);else if(Array.isArray(m)){if(!Array.isArray(y)){var k=y;y=[];for(var L=0;L<m.length;L++)y[L]=k}y.length=Math.min(m.length,y.length)}p.push({type:"data",prop:T,traces:m,value:y})},"",0),p}function s(a,i,r,d){Object.keys(a).forEach(function(f){var h=a[f];if("_"!==f[0]){var p=r+(d>0?".":"")+f;l.isPlainObject(h)?s(h,i,p,d+1):i(p,f,h)}})}V.manageCommandObserver=function(a,i,r,d){var f={},h=!0;i&&i._commandObserver&&(f=i._commandObserver),f.cache||(f.cache={}),f.lookupTable={};var p=V.hasSimpleAPICommandBindings(a,r,f.lookupTable);if(i&&i._commandObserver){if(p)return f;if(i._commandObserver.remove)return i._commandObserver.remove(),i._commandObserver=null,f}if(p){o(a,p,f.cache),f.check=function(){if(h){var x=o(a,p,f.cache);return x.changed&&d&&void 0!==f.lookupTable[x.value]&&(f.disable(),Promise.resolve(d({value:x.value,type:p.type,prop:p.prop,traces:p.traces,index:f.lookupTable[x.value]})).then(f.enable,f.enable)),x.changed}};for(var T=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],w=0;w<T.length;w++)a._internalOn(T[w],f.check);f.remove=function(){for(var x=0;x<T.length;x++)a._removeInternalListener(T[x],f.check)}}else l.log("Unable to automatically bind plot updates to API command"),f.lookupTable={},f.remove=function(){};return f.disable=function(){h=!1},f.enable=function(){h=!0},i&&(i._commandObserver=f),f},V.hasSimpleAPICommandBindings=function(a,i,r){var d,f,h=i.length;for(d=0;d<h;d++){var p,T=i[d],w=T.method,x=T.args;if(Array.isArray(x)||(x=[]),!w)return!1;var m=V.computeAPICommandBindings(a,w,x);if(1!==m.length)return!1;if(f){if((p=m[0]).type!==f.type||p.prop!==f.prop)return!1;if(Array.isArray(f.traces)){if(!Array.isArray(p.traces))return!1;p.traces.sort();for(var y=0;y<f.traces.length;y++)if(f.traces[y]!==p.traces[y])return!1}else if(p.prop!==f.prop)return!1}else f=m[0],Array.isArray(f.traces)&&f.traces.sort();var A=(p=m[0]).value;if(Array.isArray(A)){if(1!==A.length)return!1;A=A[0]}r&&(r[A]=d)}return f},V.executeAPICommand=function(a,i,r){if("skip"===i)return Promise.resolve();var d=t.apiMethodRegistry[i],f=[a];Array.isArray(r)||(r=[]);for(var h=0;h<r.length;h++)f.push(r[h]);return d.apply(null,f).catch(function(p){return l.warn("API call to Plotly."+i+" rejected.",p),Promise.reject(p)})},V.computeAPICommandBindings=function(a,i,r){var d,h;switch(Array.isArray(r)||(r=[]),i){case"restyle":d=n(a,r);break;case"relayout":d=e(0,r);break;case"update":d=n(a,[r[0],r[2]]).concat(e(0,[r[1]]));break;case"animate":h=r,d=Array.isArray(h[0])&&1===h[0].length&&-1!==["string","number"].indexOf(typeof h[0][0])?[{type:"layout",prop:"_currentFrame",value:h[0][0].toString()}]:[];break;default:d=[]}return d}},{"../lib":232,"../registry":318}],309:[function(c,tt,V){"use strict";var t=c("../lib/extend").extendFlat;V.attributes=function(l,o){o=o||{};var e={valType:"info_array",editType:(l=l||{}).editType,items:[{valType:"number",min:0,max:1,editType:l.editType},{valType:"number",min:0,max:1,editType:l.editType}],dflt:[0,1]},n={x:t({},e,{}),y:t({},e,{}),editType:l.editType};return l.noGridCell||(n.row={valType:"integer",min:0,dflt:0,editType:l.editType},n.column={valType:"integer",min:0,dflt:0,editType:l.editType}),n},V.defaults=function(l,o,e,n){var s=n&&n.x||[0,1],a=n&&n.y||[0,1],i=o.grid;if(i){var r=e("domain.column");void 0!==r&&(r<i.columns?s=i._domains.x[r]:delete l.domain.column);var d=e("domain.row");void 0!==d&&(d<i.rows?a=i._domains.y[d]:delete l.domain.row)}var f=e("domain.x",s),h=e("domain.y",a);f[0]<f[1]||(l.domain.x=s.slice()),h[0]<h[1]||(l.domain.y=a.slice())}},{"../lib/extend":226}],310:[function(c,tt,V){"use strict";tt.exports=function(t){var l=t.editType,o=t.colorEditType;void 0===o&&(o=l);var e={family:{valType:"string",noBlank:!0,strict:!0,editType:l},size:{valType:"number",min:1,editType:l},color:{valType:"color",editType:o},editType:l};return t.autoSize&&(e.size.dflt="auto"),t.autoColor&&(e.color.dflt="auto"),t.arrayOk&&(e.family.arrayOk=!0,e.size.arrayOk=!0,e.color.arrayOk=!0),e}},{}],311:[function(c,tt,V){"use strict";tt.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],312:[function(c,tt,V){"use strict";var t=c("../registry"),l=c("./cartesian/constants").SUBPLOT_PATTERN;V.getSubplotCalcData=function(o,e,n){var s=t.subplotsRegistry[e];if(!s)return[];for(var a=s.attr,i=[],r=0;r<o.length;r++){var d=o[r];d[0].trace[a]===n&&i.push(d)}return i},V.getModuleCalcData=function(o,e){var n,s=[],a=[];if(!(n="string"==typeof e?t.getModule(e).plot:"function"==typeof e?e:e.plot))return[s,o];for(var i=0;i<o.length;i++){var r=o[i],d=r[0].trace;!0===d.visible&&0!==d._length&&(d._module.plot===n?s.push(r):a.push(r))}return[s,a]},V.getSubplotData=function(o,e,n){if(!t.subplotsRegistry[e])return[];var s,a,i,r=t.subplotsRegistry[e].attr,d=[];if("gl2d"===e){var f=n.match(l);a="x"+f[1],i="y"+f[2]}for(var h=0;h<o.length;h++)s=o[h],"gl2d"===e&&t.traceIs(s,"gl2d")?s[r[0]]===a&&s[r[1]]===i&&d.push(s):s[r]===n&&d.push(s);return d}},{"../registry":318,"./cartesian/constants":286}],313:[function(c,tt,V){"use strict";function t(l,o){var e,n,s=[0,0,0,0];for(e=0;e<4;++e)for(n=0;n<4;++n)s[n]+=l[4*e+n]*o[e];return s}tt.exports=function(l,o){return t(l.projection,t(l.view,t(l.model,[o[0],o[1],o[2],1])))}},{}],314:[function(c,tt,V){"use strict";var t=c("./font_attributes"),l=c("./animation_attributes"),o=c("../components/color/attributes"),e=c("../components/shapes/draw_newshape/attributes"),n=c("./pad_attributes"),s=c("../lib/extend").extendFlat,a=t({editType:"calc"});a.family.dflt='"Open Sans", verdana, arial, sans-serif',a.size.dflt=12,a.color.dflt=o.defaultLine,tt.exports={font:a,title:{text:{valType:"string",editType:"layoutstyle"},font:t({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:s(n({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:o.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:o.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:o.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:e.newshape,activeshape:e.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:s({},l.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:t({editType:"layoutstyle"})}}},{"../components/color/attributes":101,"../components/shapes/draw_newshape/attributes":187,"../lib/extend":226,"./animation_attributes":273,"./font_attributes":310,"./pad_attributes":315}],315:[function(c,tt,V){"use strict";tt.exports=function(t){var l=t.editType;return{t:{valType:"number",dflt:0,editType:l},r:{valType:"number",dflt:0,editType:l},b:{valType:"number",dflt:0,editType:l},l:{valType:"number",dflt:0,editType:l},editType:l}}},{}],316:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("d3-time-format").timeFormatLocale,o=c("d3-format").formatLocale,e=c("fast-isnumeric"),n=c("../registry"),s=c("../plot_api/plot_schema"),a=c("../plot_api/plot_template"),i=c("../lib"),r=c("../components/color"),d=c("../constants/numerical").BADNUM,f=c("./cartesian/axis_ids"),h=c("./cartesian/handle_outline").clearSelect,p=c("./animation_attributes"),T=c("./frame_attributes"),w=c("../plots/get_data").getModuleCalcData,x=i.relinkPrivateKeys,m=i._,y=tt.exports={};i.extendFlat(y,n),y.attributes=c("./attributes"),y.attributes.type.values=y.allTypes,y.fontAttrs=c("./font_attributes"),y.layoutAttributes=c("./layout_attributes"),y.fontWeight="normal";var A=y.transformsRegistry,b=c("./command");y.executeAPICommand=b.executeAPICommand,y.computeAPICommandBindings=b.computeAPICommandBindings,y.manageCommandObserver=b.manageCommandObserver,y.hasSimpleAPICommandBindings=b.hasSimpleAPICommandBindings,y.redrawText=function(q){return q=i.getGraphDiv(q),new Promise(function(P){setTimeout(function(){q._fullLayout&&(n.getComponentMethod("annotations","draw")(q),n.getComponentMethod("legend","draw")(q),n.getComponentMethod("colorbar","draw")(q),P(y.previousPromises(q)))},300)})},y.resize=function(q){var P;q=i.getGraphDiv(q);var J=new Promise(function(E,N){q&&!i.isHidden(q)||N(new Error("Resize must be passed a displayed plot div element.")),q._redrawTimer&&clearTimeout(q._redrawTimer),q._resolveResize&&(P=q._resolveResize),q._resolveResize=E,q._redrawTimer=setTimeout(function(){if(!q.layout||q.layout.width&&q.layout.height||i.isHidden(q))E(q);else{delete q.layout.width,delete q.layout.height;var Z=q.changed;q.autoplay=!0,n.call("relayout",q,{autosize:!0}).then(function(){q.changed=Z,q._resolveResize===E&&(delete q._resolveResize,E(q))})}},100)});return P&&P(J),J},y.previousPromises=function(q){if((q._promises||[]).length)return Promise.all(q._promises).then(function(){q._promises=[]})},y.addLinks=function(q){if(q._context.showLink||q._context.showSources){var P=q._fullLayout,J=i.ensureSingle(P._paper,"text","js-plot-link-container",function(M){M.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var j=t.select(this);j.append("tspan").classed("js-link-to-tool",!0),j.append("tspan").classed("js-link-spacer",!0),j.append("tspan").classed("js-sourcelinks",!0)})}),E=J.node(),N={y:P._paper.attr("height")-9};document.body.contains(E)&&E.getComputedTextLength()>=P.width-20?(N["text-anchor"]="start",N.x=5):(N["text-anchor"]="end",N.x=P._paper.attr("width")-7),J.attr(N);var Z=J.select(".js-link-to-tool"),U=J.select(".js-link-spacer"),D=J.select(".js-sourcelinks");q._context.showSources&&q._context.showSources(q),q._context.showLink&&function(M,j){j.text("");var C=j.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(M._context.linkText+" "+String.fromCharCode(187));if(M._context.sendData)C.on("click",function(){y.sendDataToCloud(M)});else{var G=window.location.pathname.split("/"),K=window.location.search;C.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+G[2].split(".")[0]+"/"+G[1]+K})}}(q,Z),U.text(Z.text()&&D.text()?" - ":"")}},y.sendDataToCloud=function(q){var P=(window.PLOTLYENV||{}).BASE_URL||q._context.plotlyServerURL;if(P){q.emit("plotly_beforeexport");var J=t.select(q).append("div").attr("id","hiddenform").style("display","none"),E=J.append("form").attr({action:P+"/external",method:"post",target:"_blank"});return E.append("input").attr({type:"text",name:"data"}).node().value=y.graphJson(q,!1,"keepdata"),E.node().submit(),J.remove(),q.emit("plotly_afterexport"),!1}};var k=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],L=["year","month","dayMonth","dayMonthYear"];function g(q,P){var J=q._context.locale;J||(J="en-US");var E=!1,N={};function Z(G){for(var K=!0,$=0;$<P.length;$++){var Q=P[$];N[Q]||(G[Q]?N[Q]=G[Q]:K=!1)}K&&(E=!0)}for(var U=0;U<2;U++){for(var D=q._context.locales,M=0;M<2;M++){var j=(D[J]||{}).format;if(j&&(Z(j),E))break;D=n.localeRegistry}var C=J.split("-")[0];if(E||C===J)break;J=C}return E||Z(n.localeRegistry.en.format),N}function S(q,P){var J={_fullLayout:P},E="x"===q._id.charAt(0),N=q._mainAxis._anchorAxis,Z="",U="",D="";if(N&&(D=N._mainAxis._id,Z=E?q._id+D:D+q._id),!Z||!P._plots[Z]){Z="";for(var M=q._counterAxes,j=0;j<M.length;j++){var C=M[j],G=E?q._id+C:C+q._id;U||(U=G);var K=f.getFromId(J,C);if(D&&K.overlaying===D){Z=G;break}}}return Z||U}function I(q){var P=q.transforms;if(Array.isArray(P)&&P.length)for(var J=0;J<P.length;J++){var E=P[J],N=E._module||A[E.type];if(N&&N.makesData)return!0}return!1}function v(q,P,J,E){for(var N=q.transforms,Z=[q],U=0;U<N.length;U++){var D=N[U],M=A[D.type];M&&M.transform&&(Z=M.transform(Z,{transform:D,fullTrace:q,fullData:P,layout:J,fullLayout:E,transformIndex:U}))}return Z}function R(q){return"string"==typeof q&&"px"===q.substr(q.length-2)&&parseFloat(q)}function z(q){var P=q.margin;if(!q._size){var J=q._size={l:Math.round(P.l),r:Math.round(P.r),t:Math.round(P.t),b:Math.round(P.b),p:Math.round(P.pad)};J.w=Math.round(q.width)-J.l-J.r,J.h=Math.round(q.height)-J.t-J.b}q._pushmargin||(q._pushmargin={}),q._pushmarginIds||(q._pushmarginIds={})}y.supplyDefaults=function(q,P){var zt,Vt,J=P&&P.skipUpdateCalc,E=q._fullLayout||{};if(E._skipDefaults)delete E._skipDefaults;else{var N,Z=q._fullLayout={},U=q.layout||{},D=q._fullData||[],M=q._fullData=[],j=q.data||[],C=q.calcdata||[],G=q._context||{};q._transitionData||y.createTransitionData(q),Z._dfltTitle={plot:m(q,"Click to enter Plot title"),x:m(q,"Click to enter X axis title"),y:m(q,"Click to enter Y axis title"),colorbar:m(q,"Click to enter Colorscale title"),annotation:m(q,"new text")},Z._traceWord=m(q,"trace");var K=g(q,k);if(Z._mapboxAccessToken=G.mapboxAccessToken,E._initialAutoSizeIsDone){var $=E.width,Q=E.height;y.supplyLayoutGlobalDefaults(U,Z,K),U.width||(Z.width=$),U.height||(Z.height=Q),y.sanitizeMargins(Z)}else{y.supplyLayoutGlobalDefaults(U,Z,K);var ut=!U.width||!U.height,ct=Z.autosize;ut&&(ct||G.autosizable)?y.plotAutoSize(q,U,Z):ut&&y.sanitizeMargins(Z),!ct&&ut&&(U.width=Z.width,U.height=Z.height)}Z._d3locale=((zt=K).decimal=(Vt=Z.separators).charAt(0),zt.thousands=Vt.charAt(1),{numberFormat:function(Ct){try{Ct=o(zt).format(i.adjustFormat(Ct))}catch{return i.warnBadFormat(Ct),i.noFormat}return Ct},timeFormat:l(zt).utcFormat}),Z._extraFormat=g(q,L),Z._initialAutoSizeIsDone=!0,Z._dataLength=j.length,Z._modules=[],Z._visibleModules=[],Z._basePlotModules=[];var vt=Z._subplots=function(){var zt,Vt,Ct=n.collectableSubplotTypes,Zt={};if(!Ct){Ct=[];var Kt=n.subplotsRegistry;for(var Jt in Kt){var de=Kt[Jt].attr;if(de&&(Ct.push(Jt),Array.isArray(de)))for(Vt=0;Vt<de.length;Vt++)i.pushUnique(Ct,de[Vt])}}for(zt=0;zt<Ct.length;zt++)Zt[Ct[zt]]=[];return Zt}(),_t=Z._splomAxes={x:{},y:{}},kt=Z._splomSubplots={};Z._splomGridDflt={},Z._scatterStackOpts={},Z._firstScatter={},Z._alignmentOpts={},Z._colorAxes={},Z._requestRangeslider={},Z._traceUids=function(zt,Vt){var Ct,Zt,Kt=Vt.length,Jt=[];for(Ct=0;Ct<zt.length;Ct++){var de=zt[Ct]._fullInput;de!==Zt&&Jt.push(de),Zt=de}var $t=Jt.length,Tt=new Array(Kt),At={};function qt(Ce,xe){Tt[xe]=Ce,At[Ce]=1}function ue(Ce,xe){if(Ce&&"string"==typeof Ce&&!At[Ce])return qt(Ce,xe),!0}for(Ct=0;Ct<Kt;Ct++){var Te=Vt[Ct].uid;"number"==typeof Te&&(Te=String(Te)),ue(Te,Ct)||Ct<$t&&ue(Jt[Ct].uid,Ct)||qt(i.randstr(At),Ct)}return Tt}(D,j),Z._globalTransforms=(q._context||{}).globalTransforms,y.supplyDataDefaults(j,M,U,Z);var Et=Object.keys(_t.x),It=Object.keys(_t.y);if(Et.length>1&&It.length>1){for(n.getComponentMethod("grid","sizeDefaults")(U,Z),N=0;N<Et.length;N++)i.pushUnique(vt.xaxis,Et[N]);for(N=0;N<It.length;N++)i.pushUnique(vt.yaxis,It[N]);for(var Lt in kt)i.pushUnique(vt.cartesian,Lt)}if(Z._has=y._hasPlotType.bind(Z),D.length===M.length)for(N=0;N<M.length;N++)x(M[N],D[N]);y.supplyLayoutModuleDefaults(U,Z,M,q._transitionData);var lt=Z._visibleModules,at=[];for(N=0;N<lt.length;N++){var dt=lt[N].crossTraceDefaults;dt&&i.pushUnique(at,dt)}for(N=0;N<at.length;N++)at[N](M,Z);Z._hasOnlyLargeSploms=1===Z._basePlotModules.length&&"splom"===Z._basePlotModules[0].name&&Et.length>15&&It.length>15&&0===Z.shapes.length&&0===Z.images.length,y.linkSubplots(M,Z,D,E),y.cleanPlot(M,Z,D,E);var mt=!(!E._has||!E._has("gl2d")),St=!(!Z._has||!Z._has("gl2d")),bt=!(!E._has||!E._has("cartesian"))||mt,wt=!(!Z._has||!Z._has("cartesian"))||St;bt&&!wt?E._bgLayer.remove():wt&&!bt&&(Z._shouldCreateBgLayer=!0),E._zoomlayer&&!q._dragging&&h({_fullLayout:E}),function(zt,Vt){var Ct,Zt=[];Vt.meta&&(Ct=Vt._meta={meta:Vt.meta,layout:{meta:Vt.meta}});for(var Kt=0;Kt<zt.length;Kt++){var Jt=zt[Kt];Jt.meta?Zt[Jt.index]=Jt._meta={meta:Jt.meta}:Vt.meta&&(Jt._meta={meta:Vt.meta}),Vt.meta&&(Jt._meta.layout={meta:Vt.meta})}Zt.length&&(Ct||(Ct=Vt._meta={}),Ct.data=Zt)}(M,Z),x(Z,E),n.getComponentMethod("colorscale","crossTraceDefaults")(M,Z),Z._preGUI||(Z._preGUI={}),Z._tracePreGUI||(Z._tracePreGUI={});var Ot,Nt=Z._tracePreGUI,Dt={};for(Ot in Nt)Dt[Ot]="old";for(N=0;N<M.length;N++)Dt[Ot=M[N]._fullInput.uid]||(Nt[Ot]={}),Dt[Ot]="new";for(Ot in Dt)"old"===Dt[Ot]&&delete Nt[Ot];z(Z),n.getComponentMethod("rangeslider","makeData")(Z),J||C.length!==M.length||y.supplyDefaultsUpdateCalc(C,M)}},y.supplyDefaultsUpdateCalc=function(q,P){for(var J=0;J<P.length;J++){var E=P[J],N=(q[J]||[])[0];if(N&&N.trace){var Z=N.trace;if(Z._hasCalcTransform){var U,D,M,j=Z._arrayAttrs;for(U=0;U<j.length;U++)M=i.nestedProperty(Z,D=j[U]).get().slice(),i.nestedProperty(E,D).set(M)}N.trace=E}}},y.createTransitionData=function(q){q._transitionData||(q._transitionData={}),q._transitionData._frames||(q._transitionData._frames=[]),q._transitionData._frameHash||(q._transitionData._frameHash={}),q._transitionData._counter||(q._transitionData._counter=0),q._transitionData._interruptCallbacks||(q._transitionData._interruptCallbacks=[])},y._hasPlotType=function(q){var P,J=this._basePlotModules||[];for(P=0;P<J.length;P++)if(J[P].name===q)return!0;var E=this._modules||[];for(P=0;P<E.length;P++){var N=E[P].name;if(N===q)return!0;var Z=n.modules[N];if(Z&&Z.categories[q])return!0}return!1},y.cleanPlot=function(q,P,J,E){var N,Z,U=E._basePlotModules||[];for(N=0;N<U.length;N++){var D=U[N];D.clean&&D.clean(q,P,J,E)}var M=E._has&&E._has("gl"),j=P._has&&P._has("gl");M&&!j&&void 0!==E._glcontainer&&(E._glcontainer.selectAll(".gl-canvas").remove(),E._glcontainer.selectAll(".no-webgl").remove(),E._glcanvas=null);var C=!!E._infolayer;t:for(N=0;N<J.length;N++){var G=J[N].uid;for(Z=0;Z<q.length;Z++)if(G===q[Z].uid)continue t;C&&E._infolayer.select(".cb"+G).remove()}},y.linkSubplots=function(q,P,J,E){var N,Z,U=E._plots||{},D=P._plots={},M=P._subplots,j={_fullData:q,_fullLayout:P},C=M.cartesian.concat(M.gl2d||[]);for(N=0;N<C.length;N++){var G,K=C[N],$=U[K],Q=f.getFromId(j,K,"x"),ut=f.getFromId(j,K,"y");for($?G=D[K]=$:(G=D[K]={}).id=K,Q._counterAxes.push(ut._id),ut._counterAxes.push(Q._id),Q._subplotsWith.push(K),ut._subplotsWith.push(K),G.xaxis=Q,G.yaxis=ut,G._hasClipOnAxisFalse=!1,Z=0;Z<q.length;Z++){var ct=q[Z];if(ct.xaxis===G.xaxis._id&&ct.yaxis===G.yaxis._id&&!1===ct.cliponaxis){G._hasClipOnAxisFalse=!0;break}}}var gt,vt=f.list(j,null,!0);for(N=0;N<vt.length;N++){var _t=null;(gt=vt[N]).overlaying&&(_t=f.getFromId(j,gt.overlaying))&&_t.overlaying&&(gt.overlaying=!1,_t=null),gt._mainAxis=_t||gt,_t&&(gt.domain=_t.domain.slice()),gt._anchorAxis="free"===gt.anchor?null:f.getFromId(j,gt.anchor)}for(N=0;N<vt.length;N++)if((gt=vt[N])._counterAxes.sort(f.idSort),gt._subplotsWith.sort(i.subplotSort),gt._mainSubplot=S(gt,P),gt._counterAxes.length&&(gt.spikemode&&-1!==gt.spikemode.indexOf("across")||gt.automargin&&gt.mirror&&"free"!==gt.anchor||n.getComponentMethod("rangeslider","isVisible")(gt))){var kt=1,Et=0;for(Z=0;Z<gt._counterAxes.length;Z++){var It=f.getFromId(j,gt._counterAxes[Z]);kt=Math.min(kt,It.domain[0]),Et=Math.max(Et,It.domain[1])}kt<Et&&(gt._counterDomainMin=kt,gt._counterDomainMax=Et)}},y.clearExpandedTraceDefaultColors=function(q){var P,J,E;for(J=[],(P=q._module._colorAttrs)||(q._module._colorAttrs=P=[],s.crawl(q._module.attributes,function(N,Z,U,D){J[D]=Z,J.length=D+1,"color"===N.valType&&void 0===N.dflt&&P.push(J.join("."))})),E=0;E<P.length;E++)i.nestedProperty(q,"_input."+P[E]).get()||i.nestedProperty(q,P[E]).set(null)},y.supplyDataDefaults=function(q,P,J,E){var N,Z,U,D=E._modules,M=E._visibleModules,j=E._basePlotModules,C=0,G=0;function K(Lt){P.push(Lt);var lt=Lt._module;lt&&(i.pushUnique(D,lt),!0===Lt.visible&&i.pushUnique(M,lt),i.pushUnique(j,Lt._module.basePlotModule),C++,!1!==Lt._input.visible&&G++)}E._transformModules=[];var $={},Q=[],ct=a.traceTemplater((J.template||{}).data||{});for(N=0;N<q.length;N++){if((Z=ct.newTrace(U=q[N])).uid=E._traceUids[N],y.supplyTraceDefaults(U,Z,G,E,N),Z.index=N,Z._input=U,Z._expandedIndex=C,Z.transforms&&Z.transforms.length)for(var gt=!1!==U.visible&&!1===Z.visible,vt=v(Z,P,J,E),_t=0;_t<vt.length;_t++){var kt=vt[_t],Et={_template:Z._template,type:Z.type,uid:Z.uid+_t};gt&&!1===kt.visible&&delete kt.visible,y.supplyTraceDefaults(kt,Et,C,E,N),x(Et,kt),Et.index=N,Et._input=U,Et._fullInput=Z,Et._expandedIndex=C,Et._expandedInput=kt,K(Et)}else Z._fullInput=Z,Z._expandedInput=Z,K(Z);n.traceIs(Z,"carpetAxis")&&($[Z.carpet]=Z),n.traceIs(Z,"carpetDependent")&&Q.push(N)}for(N=0;N<Q.length;N++)if((Z=P[Q[N]]).visible){var It=$[Z.carpet];Z._carpet=It,It&&It.visible?(Z.xaxis=It.xaxis,Z.yaxis=It.yaxis):Z.visible=!1}},y.supplyAnimationDefaults=function(q){var P;q=q||{};var J={};function E(N,Z){return i.coerce(q||{},J,p,N,Z)}if(E("mode"),E("direction"),E("fromcurrent"),Array.isArray(q.frame))for(J.frame=[],P=0;P<q.frame.length;P++)J.frame[P]=y.supplyAnimationFrameDefaults(q.frame[P]||{});else J.frame=y.supplyAnimationFrameDefaults(q.frame||{});if(Array.isArray(q.transition))for(J.transition=[],P=0;P<q.transition.length;P++)J.transition[P]=y.supplyAnimationTransitionDefaults(q.transition[P]||{});else J.transition=y.supplyAnimationTransitionDefaults(q.transition||{});return J},y.supplyAnimationFrameDefaults=function(q){var P={};function J(E,N){return i.coerce(q||{},P,p.frame,E,N)}return J("duration"),J("redraw"),P},y.supplyAnimationTransitionDefaults=function(q){var P={};function J(E,N){return i.coerce(q||{},P,p.transition,E,N)}return J("duration"),J("easing"),P},y.supplyFrameDefaults=function(q){var P={};function J(E,N){return i.coerce(q,P,T,E,N)}return J("group"),J("name"),J("traces"),J("baseframe"),J("data"),J("layout"),P},y.supplyTraceDefaults=function(q,P,J,E,N){var Z,U=E.colorway||r.defaults,D=U[J%U.length];function M(vt,_t){return i.coerce(q,P,y.attributes,vt,_t)}var j=M("visible");M("type"),M("name",E._traceWord+" "+N),M("uirevision",E.uirevision);var C=y.getModule(P);if(P._module=C,C){var G=C.basePlotModule,K=G.attr,$=G.attributes;if(K&&$){var Q=E._subplots,ut="";if(j||"gl2d"!==G.name){if(Array.isArray(K))for(Z=0;Z<K.length;Z++){var ct=K[Z],gt=i.coerce(q,P,$,ct);Q[ct]&&i.pushUnique(Q[ct],gt),ut+=gt}else ut=i.coerce(q,P,$,K);Q[G.name]&&i.pushUnique(Q[G.name],ut)}}}return j&&(M("customdata"),M("ids"),M("meta"),n.traceIs(P,"showLegend")?(i.coerce(q,P,C.attributes.showlegend?C.attributes:y.attributes,"showlegend"),M("legendgroup"),M("legendgrouptitle.text"),M("legendrank"),P._dfltShowLegend=!0):P._dfltShowLegend=!1,C&&C.supplyDefaults(q,P,D,E),n.traceIs(P,"noOpacity")||M("opacity"),n.traceIs(P,"notLegendIsolatable")&&(P.visible=!!P.visible),n.traceIs(P,"noHover")||(P.hovertemplate||i.coerceHoverinfo(q,P,E),"parcats"!==P.type&&n.getComponentMethod("fx","supplyDefaults")(q,P,D,E)),C&&C.selectPoints&&M("selectedpoints"),y.supplyTransformDefaults(q,P,E)),P},y.hasMakesDataTransform=I,y.supplyTransformDefaults=function(q,P,J){if(P._length||I(q)){var E=J._globalTransforms||[],N=J._transformModules||[];if(Array.isArray(q.transforms)||0!==E.length)for(var U=E.concat(q.transforms||[]),D=P.transforms=[],M=0;M<U.length;M++){var j,C=U[M],G=C.type,K=A[G],$=!(C._module&&C._module===K),Q=K&&"function"==typeof K.transform;K||i.warn("Unrecognized transform type "+G+"."),K&&K.supplyDefaults&&($||Q)?((j=K.supplyDefaults(C,P,J,q)).type=G,j._module=K,i.pushUnique(N,K)):j=i.extendFlat({},C),D.push(j)}}},y.supplyLayoutGlobalDefaults=function(q,P,J){function E(M,j){return i.coerce(q,P,y.layoutAttributes,M,j)}var N=q.template;i.isPlainObject(N)&&(P.template=N,P._template=N.layout,P._dataTemplate=N.data),E("autotypenumbers");var Z=i.coerceFont(E,"font");i.coerceFont(E,"title.font",i.extendFlat({},Z,{size:Math.round(1.4*Z.size)})),E("title.text",P._dfltTitle.plot),E("title.xref"),E("title.yref"),E("title.x"),E("title.y"),E("title.xanchor"),E("title.yanchor"),E("title.pad.t"),E("title.pad.r"),E("title.pad.b"),E("title.pad.l"),E("uniformtext.mode")&&E("uniformtext.minsize"),E("autosize",!(q.width&&q.height)),E("width"),E("height"),E("margin.l"),E("margin.r"),E("margin.t"),E("margin.b"),E("margin.pad"),E("margin.autoexpand"),q.width&&q.height&&y.sanitizeMargins(P),n.getComponentMethod("grid","sizeDefaults")(q,P),E("paper_bgcolor"),E("separators",J.decimal+J.thousands),E("hidesources"),E("colorway"),E("datarevision");var D=E("uirevision");E("editrevision",D),E("selectionrevision",D),n.getComponentMethod("modebar","supplyLayoutDefaults")(q,P),n.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(q,P,E),E("meta"),i.isPlainObject(q.transition)&&(E("transition.duration"),E("transition.easing"),E("transition.ordering")),n.getComponentMethod("calendars","handleDefaults")(q,P,"calendar"),n.getComponentMethod("fx","supplyLayoutGlobalDefaults")(q,P,E)},y.plotAutoSize=function(q,P,J){var E,N,Z=q._context||{},U=Z.frameMargins,D=i.isPlotDiv(q);if(D&&q.emit("plotly_autosize"),Z.fillFrame)E=window.innerWidth,N=window.innerHeight,document.body.style.overflow="hidden";else{var M=D?window.getComputedStyle(q):{};if(E=R(M.width)||R(M.maxWidth)||J.width,N=R(M.height)||R(M.maxHeight)||J.height,e(U)&&U>0){var j=1-2*U;E=Math.round(j*E),N=Math.round(j*N)}}var C=y.layoutAttributes.width.min,G=y.layoutAttributes.height.min;E<C&&(E=C),N<G&&(N=G);var K=!P.width&&Math.abs(J.width-E)>1,$=!P.height&&Math.abs(J.height-N)>1;($||K)&&(K&&(J.width=E),$&&(J.height=N)),q._initialAutoSize||(q._initialAutoSize={width:E,height:N}),y.sanitizeMargins(J)},y.supplyLayoutModuleDefaults=function(q,P,J,E){var N,Z,U,D=n.componentsRegistry,M=P._basePlotModules,j=n.subplotsRegistry.cartesian;for(N in D)(U=D[N]).includeBasePlot&&U.includeBasePlot(q,P);for(var C in M.length||M.push(j),P._has("cartesian")&&(n.getComponentMethod("grid","contentDefaults")(q,P),j.finalizeSubplots(q,P)),P._subplots)P._subplots[C].sort(i.subplotSort);for(Z=0;Z<M.length;Z++)(U=M[Z]).supplyLayoutDefaults&&U.supplyLayoutDefaults(q,P,J);var G=P._modules;for(Z=0;Z<G.length;Z++)(U=G[Z]).supplyLayoutDefaults&&U.supplyLayoutDefaults(q,P,J);var K=P._transformModules;for(Z=0;Z<K.length;Z++)(U=K[Z]).supplyLayoutDefaults&&U.supplyLayoutDefaults(q,P,J,E);for(N in D)(U=D[N]).supplyLayoutDefaults&&U.supplyLayoutDefaults(q,P,J)},y.purge=function(q){var P=q._fullLayout||{};void 0!==P._glcontainer&&(P._glcontainer.selectAll(".gl-canvas").remove(),P._glcontainer.remove(),P._glcanvas=null),P._modeBar&&P._modeBar.destroy(),q._transitionData&&(q._transitionData._interruptCallbacks&&(q._transitionData._interruptCallbacks.length=0),q._transitionData._animationRaf&&window.cancelAnimationFrame(q._transitionData._animationRaf)),i.clearThrottle(),i.clearResponsive(q),delete q.data,delete q.layout,delete q._fullData,delete q._fullLayout,delete q.calcdata,delete q.empty,delete q.fid,delete q.undoqueue,delete q.undonum,delete q.autoplay,delete q.changed,delete q._promises,delete q._redrawTimer,delete q._hmlumcount,delete q._hmpixcount,delete q._transitionData,delete q._transitioning,delete q._initialAutoSize,delete q._transitioningWithDuration,delete q._dragging,delete q._dragged,delete q._dragdata,delete q._hoverdata,delete q._snapshotInProgress,delete q._editing,delete q._mouseDownTime,delete q._legendMouseDownTime,q.removeAllListeners&&q.removeAllListeners()},y.style=function(q){var P,J=q._fullLayout._visibleModules,E=[];for(P=0;P<J.length;P++){var N=J[P];N.style&&i.pushUnique(E,N.style)}for(P=0;P<E.length;P++)E[P](q)},y.sanitizeMargins=function(q){if(q&&q.margin){var P,J=q.width,E=q.height,N=q.margin,U=E-(N.t+N.b);J-(N.l+N.r)<0&&(P=(J-1)/(N.l+N.r),N.l=Math.floor(P*N.l),N.r=Math.floor(P*N.r)),U<0&&(P=(E-1)/(N.t+N.b),N.t=Math.floor(P*N.t),N.b=Math.floor(P*N.b))}},y.clearAutoMarginIds=function(q){q._fullLayout._pushmarginIds={}},y.allowAutoMargin=function(q,P){q._fullLayout._pushmarginIds[P]=1},y.autoMargin=function(q,P,J){var E=q._fullLayout,N=E.width,Z=E.height,U=E.margin,D=i.constrain(N-U.l-U.r,2,64),M=i.constrain(Z-U.t-U.b,2,64),j=Math.max(0,N-D),C=Math.max(0,Z-M),G=E._pushmargin,K=E._pushmarginIds;if(!1!==U.autoexpand){if(J){var $=J.pad;if(void 0===$&&($=Math.min(12,U.l,U.r,U.t,U.b)),j){var Q=(J.l+J.r)/j;Q>1&&(J.l/=Q,J.r/=Q)}if(C){var ut=(J.t+J.b)/C;ut>1&&(J.t/=ut,J.b/=ut)}G[P]={l:{val:void 0!==J.xl?J.xl:J.x,size:J.l+$},r:{val:void 0!==J.xr?J.xr:J.x,size:J.r+$},b:{val:void 0!==J.yb?J.yb:J.y,size:J.b+$},t:{val:void 0!==J.yt?J.yt:J.y,size:J.t+$}},K[P]=1}else delete G[P],delete K[P];if(!E._replotting)return y.doAutoMargin(q)}},y.doAutoMargin=function(q){var P=q._fullLayout,J=P.width,E=P.height;P._size||(P._size={}),z(P);var N=P._size,Z=P.margin,U=i.extendFlat({},N),D=Z.l,M=Z.r,j=Z.t,C=Z.b,G=P._pushmargin,K=P._pushmarginIds;if(!1!==P.margin.autoexpand){for(var $ in G)K[$]||delete G[$];for(var Q in G.base={l:{val:0,size:D},r:{val:1,size:M},t:{val:1,size:j},b:{val:0,size:C}},G){var ut=G[Q].l||{},ct=G[Q].b||{},gt=ut.val,vt=ut.size,_t=ct.val,kt=ct.size;for(var Et in G){if(e(vt)&&G[Et].r){var It=G[Et].r.val,Lt=G[Et].r.size;if(It>gt){var lt=(vt*It+(Lt-J)*gt)/(It-gt),at=(Lt*(1-gt)+(vt-J)*(1-It))/(It-gt);lt+at>D+M&&(D=lt,M=at)}}if(e(kt)&&G[Et].t){var dt=G[Et].t.val,mt=G[Et].t.size;if(dt>_t){var St=(kt*dt+(mt-E)*_t)/(dt-_t),bt=(mt*(1-_t)+(kt-E)*(1-dt))/(dt-_t);St+bt>C+j&&(C=St,j=bt)}}}}}var Kt,wt=i.constrain(J-Z.l-Z.r,2,64),Ot=i.constrain(E-Z.t-Z.b,2,64),Nt=Math.max(0,J-wt),Dt=Math.max(0,E-Ot);if(Nt){var zt=(D+M)/Nt;zt>1&&(D/=zt,M/=zt)}if(Dt){var Vt=(C+j)/Dt;Vt>1&&(C/=Vt,j/=Vt)}if(N.l=Math.round(D),N.r=Math.round(M),N.t=Math.round(j),N.b=Math.round(C),N.p=Math.round(Z.pad),N.w=Math.round(J)-N.l-N.r,N.h=Math.round(E)-N.t-N.b,!P._replotting&&y.didMarginChange(U,N)){"_redrawFromAutoMarginCount"in P?P._redrawFromAutoMarginCount++:P._redrawFromAutoMarginCount=1;var Ct=3*(1+Object.keys(K).length);if(P._redrawFromAutoMarginCount<Ct)return n.call("_doPlot",q);P._size=U,i.warn("Too many auto-margin redraws.")}Kt=f.list(q,"",!0),["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Jt){for(var de=0;de<Kt.length;de++){var $t=Kt[de][Jt];$t&&$t()}})};var F=["l","r","t","b","p","w","h"];function B(q,P,J){var E=!1,Z=i.syncOrAsync([y.previousPromises,function(){if(q._transitionData)return q._transitioning=!1,function(U){var D=Promise.resolve();if(!U)return D;for(;U.length;)D=D.then(U.shift());return D}(q._transitionData._interruptCallbacks)},J.prepareFn,y.rehover,function(){return q.emit("plotly_transitioning",[]),new Promise(function(U){q._transitioning=!0,P.duration>0&&(q._transitioningWithDuration=!0),q._transitionData._interruptCallbacks.push(function(){E=!0}),J.redraw&&q._transitionData._interruptCallbacks.push(function(){return n.call("redraw",q)}),q._transitionData._interruptCallbacks.push(function(){q.emit("plotly_transitioninterrupted",[])});var D=0,M=0;function j(){return D++,function(){var C;M++,E||M!==D||(C=U,q._transitionData&&(function(G){if(G)for(;G.length;)G.shift()}(q._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(J.redraw)return n.call("redraw",q)}).then(function(){q._transitioning=!1,q._transitioningWithDuration=!1,q.emit("plotly_transitioned",[])}).then(C)))}}J.runFn(j),setTimeout(j())})}],q);return Z&&Z.then||(Z=Promise.resolve()),Z.then(function(){return q})}y.didMarginChange=function(q,P){for(var J=0;J<F.length;J++){var E=F[J],N=q[E],Z=P[E];if(!e(N)||Math.abs(Z-N)>1)return!0}return!1},y.graphJson=function(q,P,J,E,N,Z){(N&&P&&!q._fullData||N&&!P&&!q._fullLayout)&&y.supplyDefaults(q);var D=N?q._fullLayout:q.layout,M=(q._transitionData||{})._frames;function j(K,$){if("function"==typeof K)return $?"_function_":null;if(i.isPlainObject(K)){var Q,ut={};return Object.keys(K).sort().forEach(function(ct){if(-1===["_","["].indexOf(ct.charAt(0)))if("function"!=typeof K[ct]){if("keepdata"===J){if("src"===ct.substr(ct.length-3))return}else if("keepstream"===J){if("string"==typeof(Q=K[ct+"src"])&&Q.indexOf(":")>0&&!i.isPlainObject(K.stream))return}else if("keepall"!==J&&"string"==typeof(Q=K[ct+"src"])&&Q.indexOf(":")>0)return;ut[ct]=j(K[ct],$)}else $&&(ut[ct]="_function")}),ut}return Array.isArray(K)?K.map(function(ct){return j(ct,$)}):i.isTypedArray(K)?i.simpleMap(K,i.identity):i.isJSDate(K)?i.ms2DateTimeLocal(+K):K}var C={data:((N?q._fullData:q.data)||[]).map(function(K){var $=j(K);return P&&delete $.fit,$})};if(!P&&(C.layout=j(D),N)){var G=D._size;C.layout.computed={margin:{b:G.b,l:G.l,r:G.r,t:G.t}}}return M&&(C.frames=j(M)),Z&&(C.config=j(q._context,!0)),"object"===E?C:JSON.stringify(C)},y.modifyFrames=function(q,P){var J,E,N,Z=q._transitionData._frames,U=q._transitionData._frameHash;for(J=0;J<P.length;J++)switch((E=P[J]).type){case"replace":var D=(Z[E.index]||{}).name,M=(N=E.value).name;Z[E.index]=U[M]=N,M!==D&&(delete U[D],U[M]=N);break;case"insert":U[(N=E.value).name]=N,Z.splice(E.index,0,N);break;case"delete":delete U[(N=Z[E.index]).name],Z.splice(E.index,1)}return Promise.resolve()},y.computeFrame=function(q,P){var J,E,N,Z,U=q._transitionData._frameHash;if(!P)throw new Error("computeFrame must be given a string frame name");var D=U[P.toString()];if(!D)return!1;for(var M=[D],j=[D.name];D.baseframe&&(D=U[D.baseframe.toString()])&&-1===j.indexOf(D.name);)M.push(D),j.push(D.name);for(var C={};D=M.pop();)if(D.layout&&(C.layout=y.extendLayout(C.layout,D.layout)),D.data){if(C.data||(C.data=[]),!(E=D.traces))for(E=[],J=0;J<D.data.length;J++)E[J]=J;for(C.traces||(C.traces=[]),J=0;J<D.data.length;J++)null!=(N=E[J])&&(-1===(Z=C.traces.indexOf(N))&&(C.traces[Z=C.data.length]=N),C.data[Z]=y.extendTrace(C.data[Z],D.data[J]))}return C},y.recomputeFrameHash=function(q){for(var P=q._transitionData._frameHash={},J=q._transitionData._frames,E=0;E<J.length;E++){var N=J[E];N&&N.name&&(P[N.name]=N)}},y.extendObjectWithContainers=function(q,P,J){var E,N,Z,U,D,M,j,C=i.extendDeepNoArrays({},P||{}),G=i.expandObjectPaths(C),K={};if(J&&J.length)for(Z=0;Z<J.length;Z++)void 0===(N=(E=i.nestedProperty(G,J[Z])).get())?i.nestedProperty(K,J[Z]).set(null):(E.set(null),i.nestedProperty(K,J[Z]).set(N));if(q=i.extendDeepNoArrays(q||{},G),J&&J.length)for(Z=0;Z<J.length;Z++)if(M=i.nestedProperty(K,J[Z]).get()){for(j=(D=i.nestedProperty(q,J[Z])).get(),Array.isArray(j)||D.set(j=[]),U=0;U<M.length;U++){var $=M[U];j[U]=null===$?null:y.extendObjectWithContainers(j[U],$)}D.set(j)}return q},y.dataArrayContainers=["transforms","dimensions"],y.layoutArrayContainers=n.layoutArrayContainers,y.extendTrace=function(q,P){return y.extendObjectWithContainers(q,P,y.dataArrayContainers)},y.extendLayout=function(q,P){return y.extendObjectWithContainers(q,P,y.layoutArrayContainers)},y.transition=function(q,P,J,E,N,Z){var U={redraw:N.redraw},D={},M=[];return U.prepareFn=function(){for(var j=Array.isArray(P)?P.length:0,C=E.slice(0,j),G=0;G<C.length;G++){var K=C[G],$=q._fullData[K]._module;if($){if($.animatable){var Q=$.basePlotModule.name;D[Q]||(D[Q]=[]),D[Q].push(K)}q.data[C[G]]=y.extendTrace(q.data[C[G]],P[G])}}var ut=i.expandObjectPaths(i.extendDeepNoArrays({},J)),ct=/^[xy]axis[0-9]*$/;for(var gt in ut)ct.test(gt)&&delete ut[gt].range;y.extendLayout(q.layout,ut),delete q.calcdata,y.supplyDefaults(q),y.doCalcdata(q);var vt=i.expandObjectPaths(J);if(vt){var _t=q._fullLayout._plots;for(var kt in _t){var Et=_t[kt],It=Et.xaxis,Lt=Et.yaxis,lt=It.range.slice(),at=Lt.range.slice(),dt=null,mt=null,St=null,bt=null;Array.isArray(vt[It._name+".range"])?dt=vt[It._name+".range"].slice():Array.isArray((vt[It._name]||{}).range)&&(dt=vt[It._name].range.slice()),Array.isArray(vt[Lt._name+".range"])?mt=vt[Lt._name+".range"].slice():Array.isArray((vt[Lt._name]||{}).range)&&(mt=vt[Lt._name].range.slice()),lt&&dt&&(It.r2l(lt[0])!==It.r2l(dt[0])||It.r2l(lt[1])!==It.r2l(dt[1]))&&(St={xr0:lt,xr1:dt}),at&&mt&&(Lt.r2l(at[0])!==Lt.r2l(mt[0])||Lt.r2l(at[1])!==Lt.r2l(mt[1]))&&(bt={yr0:at,yr1:mt}),(St||bt)&&M.push(i.extendFlat({plotinfo:Et},St,bt))}}return Promise.resolve()},U.runFn=function(j){var C,G,K=q._fullLayout._basePlotModules,$=M.length;if(J)for(G=0;G<K.length;G++)K[G].transitionAxes&&K[G].transitionAxes(q,M,Z,j);for(var Q in $?((C=i.extendFlat({},Z)).duration=0,delete D.cartesian):C=Z,D){var ut=D[Q];q._fullData[ut[0]]._module.basePlotModule.plot(q,ut,C,j)}},B(q,Z,U)},y.transitionFromReact=function(q,P,J,E){var N=q._fullLayout,Z=N.transition,U={},D=[];return U.prepareFn=function(){var M=N._plots;for(var j in U.redraw=!1,"some"===P.anim&&(U.redraw=!0),"some"===J.anim&&(U.redraw=!0),M){var C=M[j],G=C.xaxis,K=C.yaxis,$=E[G._name].range.slice(),Q=E[K._name].range.slice(),ut=G.range.slice(),ct=K.range.slice();G.setScale(),K.setScale();var gt=null,vt=null;G.r2l($[0])===G.r2l(ut[0])&&G.r2l($[1])===G.r2l(ut[1])||(gt={xr0:$,xr1:ut}),K.r2l(Q[0])===K.r2l(ct[0])&&K.r2l(Q[1])===K.r2l(ct[1])||(vt={yr0:Q,yr1:ct}),(gt||vt)&&D.push(i.extendFlat({plotinfo:C},gt,vt))}return Promise.resolve()},U.runFn=function(M){for(var j,C,G,K=q._fullData,$=q._fullLayout._basePlotModules,Q=[],ut=0;ut<K.length;ut++)Q.push(ut);function ct(){if(q._fullLayout)for(var vt=0;vt<$.length;vt++)$[vt].transitionAxes&&$[vt].transitionAxes(q,D,j,M)}function gt(){if(q._fullLayout)for(var vt=0;vt<$.length;vt++)$[vt].plot(q,G,C,M)}D.length&&P.anim?"traces first"===Z.ordering?(j=i.extendFlat({},Z,{duration:0}),G=Q,C=Z,setTimeout(ct,Z.duration),gt()):(j=Z,G=null,C=i.extendFlat({},Z,{duration:0}),setTimeout(gt,j.duration),ct()):D.length?(j=Z,ct()):P.anim&&(G=Q,C=Z,gt())},B(q,Z,U)},y.doCalcdata=function(q,P){var J,E,N,Z,U=f.list(q),D=q._fullData,M=q._fullLayout,j=new Array(D.length),C=(q.calcdata||[]).slice();for(q.calcdata=j,M._numBoxes=0,M._numViolins=0,M._violinScaleGroupStats={},q._hmpixcount=0,q._hmlumcount=0,M._piecolormap={},M._sunburstcolormap={},M._treemapcolormap={},M._iciclecolormap={},M._funnelareacolormap={},N=0;N<D.length;N++)Array.isArray(P)&&-1===P.indexOf(N)&&(j[N]=C[N]);for(N=0;N<D.length;N++)(J=D[N])._arrayAttrs=s.findArrayAttributes(J),J._extremes={};var G=M._subplots.polar||[];for(N=0;N<G.length;N++)U.push(M[G[N]].radialaxis,M[G[N]].angularaxis);for(var K in M._colorAxes){var $=M[K];!1!==$.cauto&&(delete $.cmin,delete $.cmax)}var Q=!1;function ut(vt){if(E=(J=D[vt])._module,!0===J.visible&&J.transforms){if(E&&E.calc){var _t=E.calc(q,J);_t[0]&&_t[0].t&&_t[0].t._scene&&delete _t[0].t._scene.dirty}for(Z=0;Z<J.transforms.length;Z++){var kt=J.transforms[Z];(E=A[kt.type])&&E.calcTransform&&(J._hasCalcTransform=!0,Q=!0,E.calcTransform(q,J,kt))}}}function ct(vt,_t){if(!!(E=(J=D[vt])._module).isContainer===_t){var kt=[];if(!0===J.visible&&0!==J._length){delete J._indexToPoints;var Et=J.transforms||[];for(Z=Et.length-1;Z>=0;Z--)if(Et[Z].enabled){J._indexToPoints=Et[Z]._indexToPoints;break}E&&E.calc&&(kt=E.calc(q,J))}Array.isArray(kt)&&kt[0]||(kt=[{x:d,y:d}]),kt[0].t||(kt[0].t={}),kt[0].trace=J,j[vt]=kt}}for(X(U,D,M),N=0;N<D.length;N++)ct(N,!0);for(N=0;N<D.length;N++)ut(N);for(Q&&X(U,D,M),N=0;N<D.length;N++)ct(N,!0);for(N=0;N<D.length;N++)ct(N,!1);ot(q);var gt=function(vt,_t){var kt,Et,It,Lt,lt,at=[];function dt(ce,nt,it){var Mt=nt._id.charAt(0);if("histogram2dcontour"===ce){var Pt=nt._counterAxes[0],Ut=f.getFromId(_t,Pt),Rt="x"===Mt||"x"===Pt&&"category"===Ut.type,jt="y"===Mt||"y"===Pt&&"category"===Ut.type;return function(Yt,ee){return 0===Yt||0===ee||Rt&&Yt===it[ee].length-1||jt&&ee===it.length-1?-1:("y"===Mt?ee:Yt)-1}}return function(Yt,ee){return"y"===Mt?ee:Yt}}var mt={min:function(ce){return i.aggNums(Math.min,null,ce)},max:function(ce){return i.aggNums(Math.max,null,ce)},sum:function(ce){return i.aggNums(function(nt,it){return nt+it},null,ce)},total:function(ce){return i.aggNums(function(nt,it){return nt+it},null,ce)},mean:function(ce){return i.mean(ce)},median:function(ce){return i.median(ce)}};for(kt=0;kt<vt.length;kt++){var St=vt[kt];if("category"===St.type){var bt=St.categoryorder.match(H);if(bt){var wt=bt[1],Ot=bt[2],Nt=St._id.charAt(0),Dt="x"===Nt,zt=[];for(Et=0;Et<St._categories.length;Et++)zt.push([St._categories[Et],[]]);for(Et=0;Et<St._traceIndices.length;Et++){var Vt=St._traceIndices[Et],Ct=_t._fullData[Vt];if(!0===Ct.visible){var Zt=Ct.type;n.traceIs(Ct,"histogram")&&(delete Ct._xautoBinFinished,delete Ct._yautoBinFinished);var Kt="splom"===Zt,Jt="scattergl"===Zt,de=_t.calcdata[Vt];for(It=0;It<de.length;It++){var $t,Tt,At=de[It];if(Kt){var qt=Ct._axesDim[St._id];if(!Dt){var ue=Ct._diag[qt][0];ue&&(St=_t._fullLayout[f.id2name(ue)])}var Te=At.trace.dimensions[qt].values;for(Lt=0;Lt<Te.length;Lt++)for($t=St._categoriesMap[Te[Lt]],lt=0;lt<At.trace.dimensions.length;lt++)lt!==qt&&zt[$t][1].push(At.trace.dimensions[lt].values[Lt])}else if(Jt){for(Lt=0;Lt<At.t.x.length;Lt++)Dt?($t=At.t.x[Lt],Tt=At.t.y[Lt]):($t=At.t.y[Lt],Tt=At.t.x[Lt]),zt[$t][1].push(Tt);At.t&&At.t._scene&&delete At.t._scene.dirty}else if(At.hasOwnProperty("z")){var xe=dt(Ct.type,St,Tt=At.z);for(Lt=0;Lt<Tt.length;Lt++)for(lt=0;lt<Tt[Lt].length;lt++)($t=xe(lt,Lt))+1&&zt[$t][1].push(Tt[Lt][lt])}else for(void 0===($t=At.p)&&($t=At[Nt]),void 0===(Tt=At.s)&&(Tt=At.v),void 0===Tt&&(Tt=Dt?At.y:At.x),Array.isArray(Tt)||(Tt=void 0===Tt?[]:[Tt]),Lt=0;Lt<Tt.length;Lt++)zt[$t][1].push(Tt[Lt])}}}St._categoriesValue=zt;var ye=[];for(Et=0;Et<zt.length;Et++)ye.push([zt[Et][0],mt[wt](zt[Et][1])]);ye.sort(function(ce,nt){return ce[1]-nt[1]}),St._categoriesAggregatedValue=ye,St._initialCategories=ye.map(function(ce){return ce[0]}),"descending"===Ot&&St._initialCategories.reverse(),at=at.concat(St.sortByInitialCategories())}}}return at}(U,q);if(gt.length){for(M._numBoxes=0,M._numViolins=0,N=0;N<gt.length;N++)ct(gt[N],!0);for(N=0;N<gt.length;N++)ct(gt[N],!1);ot(q)}n.getComponentMethod("fx","calc")(q),n.getComponentMethod("errorbars","calc")(q)};var H=/(total|sum|min|max|mean|median) (ascending|descending)/;function X(q,P,J){var E={};function N(M){M.clearCalc(),"multicategory"===M.type&&M.setupMultiCategory(P),E[M._id]=1}i.simpleMap(q,N);for(var Z=J._axisMatchGroups||[],U=0;U<Z.length;U++)for(var D in Z[U])E[D]||N(J[f.id2name(D)])}function ot(q){var P,J,E,N=q._fullLayout,Z=N._visibleModules,U={};for(J=0;J<Z.length;J++){var D=Z[J],M=D.crossTraceCalc;if(M){var j=D.basePlotModule.name;U[j]?i.pushUnique(U[j],M):U[j]=[M]}}for(E in U){var C=U[E],G=N._subplots[E];if(Array.isArray(G))for(P=0;P<G.length;P++){var K=G[P],$="cartesian"===E?N._plots[K]:N[K];for(J=0;J<C.length;J++)C[J](q,$,K)}else for(J=0;J<C.length;J++)C[J](q)}}y.rehover=function(q){q._fullLayout._rehover&&q._fullLayout._rehover()},y.redrag=function(q){q._fullLayout._redrag&&q._fullLayout._redrag()},y.generalUpdatePerTraceModule=function(q,P,J,E){var N,Z=P.traceHash,U={};for(N=0;N<J.length;N++){var D=J[N],M=D[0].trace;M.visible&&(U[M.type]=U[M.type]||[],U[M.type].push(D))}for(var j in Z)if(!U[j]){var C=Z[j][0];C[0].trace.visible=!1,U[j]=[C]}for(var G in U){var K=U[G];K[0][0].trace._module.plot(q,P,i.filterVisible(K),E)}P.traceHash=U},y.plotBasePlot=function(q,P,J,E,N){var Z=n.getModule(q),U=w(P.calcdata,Z)[0];Z.plot(P,U,E,N)},y.cleanBasePlot=function(q,P,J,E,N){var Z=N._has&&N._has(q),U=J._has&&J._has(q);Z&&!U&&N["_"+q+"layer"].selectAll("g.trace").remove()}},{"../components/color":102,"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plot_api/plot_template":268,"../plots/get_data":312,"../registry":318,"./animation_attributes":273,"./attributes":275,"./cartesian/axis_ids":283,"./cartesian/handle_outline":290,"./command":308,"./font_attributes":310,"./frame_attributes":311,"./layout_attributes":314,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],317:[function(c,tt,V){"use strict";function l(o){var e=o.description?" "+o.description:"",n=o.keys||[];if(n.length>0){for(var s=[],a=0;a<n.length;a++)s[a]="`"+n[a]+"`";e+="Finally, the template string has access to ",e=1===n.length?"variable "+s[0]:"variables "+s.slice(0,-1).join(", ")+" and "+s.slice(-1)+"."}return e}c("../constants/docs"),V.hovertemplateAttrs=function(o,e){o=o||{},l(e=e||{});var n={valType:"string",dflt:"",editType:o.editType||"none"};return!1!==o.arrayOk&&(n.arrayOk=!0),n},V.texttemplateAttrs=function(o,e){o=o||{},l(e=e||{});var n={valType:"string",dflt:"",editType:o.editType||"calc"};return!1!==o.arrayOk&&(n.arrayOk=!0),n}},{"../constants/docs":209}],318:[function(c,tt,V){"use strict";var t=c("./lib/loggers"),l=c("./lib/noop"),o=c("./lib/push_unique"),e=c("./lib/is_plain_object"),n=c("./lib/dom").addStyleRule,s=c("./lib/extend"),a=c("./plots/attributes"),i=c("./plots/layout_attributes"),r=s.extendFlat,d=s.extendDeepAll;function f(b){var k=b.name,L=b.categories,g=b.meta;if(V.modules[k])t.log("Type "+k+" already registered");else{V.subplotsRegistry[b.basePlotModule.name]||function(H){var X=H.name;if(V.subplotsRegistry[X])t.log("Plot type "+X+" already registered.");else for(var ot in w(H),V.subplotsRegistry[X]=H,V.componentsRegistry)y(ot,H.name)}(b.basePlotModule);for(var S={},I=0;I<L.length;I++)S[L[I]]=!0,V.allCategories[L[I]]=!0;for(var v in V.modules[k]={_module:b,categories:S},g&&Object.keys(g).length&&(V.modules[k].meta=g),V.allTypes.push(k),V.componentsRegistry)x(v,k);b.layoutAttributes&&r(V.traceLayoutAttributes,b.layoutAttributes);var R=b.basePlotModule,z=R.name;if("mapbox"===z){var F=R.constants.styleRules;for(var B in F)n(".js-plotly-plot .plotly .mapboxgl-"+B,F[B])}"geo"!==z&&"mapbox"!==z||void 0===typeof window||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function h(b){if("string"!=typeof b.name)throw new Error("Component module *name* must be a string.");var k=b.name;for(var L in V.componentsRegistry[k]=b,b.layoutAttributes&&(b.layoutAttributes._isLinkedToArray&&o(V.layoutArrayContainers,k),w(b)),V.modules)x(k,L);for(var g in V.subplotsRegistry)y(k,g);for(var S in V.transformsRegistry)m(k,S);b.schema&&b.schema.layout&&d(i,b.schema.layout)}function p(b){if("string"!=typeof b.name)throw new Error("Transform module *name* must be a string.");var k="Transform module "+b.name,L="function"==typeof b.transform,g="function"==typeof b.calcTransform;if(!L&&!g)throw new Error(k+" is missing a *transform* or *calcTransform* method.");for(var S in L&&g&&t.log([k+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),e(b.attributes)||t.log(k+" registered without an *attributes* object."),"function"!=typeof b.supplyDefaults&&t.log(k+" registered without a *supplyDefaults* method."),V.transformsRegistry[b.name]=b,V.componentsRegistry)m(S,b.name)}function T(b){var k=b.name,L=k.split("-")[0],g=b.dictionary,S=b.format,I=g&&Object.keys(g).length,v=S&&Object.keys(S).length,R=V.localeRegistry,z=R[k];if(z||(R[k]=z={}),L!==k){var F=R[L];F||(R[L]=F={}),I&&F.dictionary===z.dictionary&&(F.dictionary=g),v&&F.format===z.format&&(F.format=S)}I&&(z.dictionary=g),v&&(z.format=S)}function w(b){if(b.layoutAttributes){var k=b.layoutAttributes._arrayAttrRegexps;if(k)for(var L=0;L<k.length;L++)o(V.layoutArrayRegexes,k[L])}}function x(b,k){var L=V.componentsRegistry[b].schema;if(L&&L.traces){var g=L.traces[k];g&&d(V.modules[k]._module.attributes,g)}}function m(b,k){var L=V.componentsRegistry[b].schema;if(L&&L.transforms){var g=L.transforms[k];g&&d(V.transformsRegistry[k].attributes,g)}}function y(b,k){var L=V.componentsRegistry[b].schema;if(L&&L.subplots){var g=V.subplotsRegistry[k],S=g.layoutAttributes,I="subplot"===g.attr?g.name:g.attr;Array.isArray(I)&&(I=I[0]);var v=L.subplots[I];S&&v&&d(S,v)}}function A(b){return"object"==typeof b&&(b=b.type),b}V.modules={},V.allCategories={},V.allTypes=[],V.subplotsRegistry={},V.transformsRegistry={},V.componentsRegistry={},V.layoutArrayContainers=[],V.layoutArrayRegexes=[],V.traceLayoutAttributes={},V.localeRegistry={},V.apiMethodRegistry={},V.collectableSubplotTypes=null,V.register=function(b){if(V.collectableSubplotTypes=null,!b)throw new Error("No argument passed to Plotly.register.");b&&!Array.isArray(b)&&(b=[b]);for(var k=0;k<b.length;k++){var L=b[k];if(!L)throw new Error("Invalid module was attempted to be registered!");switch(L.moduleType){case"trace":f(L);break;case"transform":p(L);break;case"component":h(L);break;case"locale":T(L);break;case"apiMethod":V.apiMethodRegistry[L.name]=L.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},V.getModule=function(b){var k=V.modules[A(b)];return!!k&&k._module},V.traceIs=function(b,k){if("various"===(b=A(b)))return!1;var L=V.modules[b];return L||(b&&t.log("Unrecognized trace type "+b+"."),L=V.modules[a.type.dflt]),!!L.categories[k]},V.getTransformIndices=function(b,k){for(var L=[],g=b.transforms||[],S=0;S<g.length;S++)g[S].type===k&&L.push(S);return L},V.hasTransform=function(b,k){for(var L=b.transforms||[],g=0;g<L.length;g++)if(L[g].type===k)return!0;return!1},V.getComponentMethod=function(b,k){var L=V.componentsRegistry[b];return L&&L[k]||l},V.call=function(){var b=arguments[0],k=[].slice.call(arguments,1);return V.apiMethodRegistry[b].apply(null,k)}},{"./lib/dom":224,"./lib/extend":226,"./lib/is_plain_object":233,"./lib/loggers":236,"./lib/noop":241,"./lib/push_unique":246,"./plots/attributes":275,"./plots/layout_attributes":314}],319:[function(c,tt,V){"use strict";var t=c("../registry"),l=c("../lib"),o=l.extendFlat,e=l.extendDeep;function n(s){var a;switch(s){case"themes__thumb":a={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":a={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:a={}}return a}tt.exports=function(s,a){var i,f=s.layout,h=e([],s.data),p=e({},f,n(a.tileClass)),T=s._context||{};if(a.width&&(p.width=a.width),a.height&&(p.height=a.height),"thumbnail"===a.tileClass||"themes__thumb"===a.tileClass){p.annotations=[];var w=Object.keys(p);for(i=0;i<w.length;i++)["xaxis","yaxis","zaxis"].indexOf(w[i].slice(0,5))>-1&&(p[w[i]].title={text:""});for(i=0;i<h.length;i++){var x=h[i];x.showscale=!1,x.marker&&(x.marker.showscale=!1),t.traceIs(x,"pie-like")&&(x.textposition="none")}}if(Array.isArray(a.annotations))for(i=0;i<a.annotations.length;i++)p.annotations.push(a.annotations[i]);var m=Object.keys(p).filter(function(L){return L.match(/^scene\d*$/)});if(m.length){var y={};for("thumbnail"===a.tileClass&&(y={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),i=0;i<m.length;i++){var A=p[m[i]];A.xaxis||(A.xaxis={}),A.yaxis||(A.yaxis={}),A.zaxis||(A.zaxis={}),o(A.xaxis,y),o(A.yaxis,y),o(A.zaxis,y),A._scene=null}}var b=document.createElement("div");a.tileClass&&(b.className=a.tileClass);var k={gd:b,td:b,layout:p,data:h,config:{staticPlot:void 0===a.staticPlot||a.staticPlot,plotGlPixelRatio:void 0===a.plotGlPixelRatio?2:a.plotGlPixelRatio,displaylogo:a.displaylogo||!1,showLink:a.showLink||!1,showTips:a.showTips||!1,mapboxAccessToken:T.mapboxAccessToken}};return"transparent"!==a.setBackground&&(k.config.setBackground=a.setBackground||"opaque"),k.gd.defaultLayout=n(a.tileClass),k}},{"../lib":232,"../registry":318}],320:[function(c,tt,V){"use strict";var t=c("../lib"),l=c("../plot_api/to_image"),o=c("./filesaver"),e=c("./helpers");tt.exports=function(n,s){var a;return t.isPlainObject(n)||(a=t.getGraphDiv(n)),(s=s||{}).format=s.format||"png",s.width=s.width||null,s.height=s.height||null,s.imageDataOnly=!0,new Promise(function(i,r){a&&a._snapshotInProgress&&r(new Error("Snapshotting already in progress.")),t.isIE()&&"svg"!==s.format&&r(new Error(e.MSG_IE_BAD_FORMAT)),a&&(a._snapshotInProgress=!0);var d=l(n,s),f=s.filename||n.fn||"newplot";f+="."+s.format.replace("-","."),d.then(function(h){return a&&(a._snapshotInProgress=!1),o(h,f,s.format)}).then(function(h){i(h)}).catch(function(h){a&&(a._snapshotInProgress=!1),r(h)})})}},{"../lib":232,"../plot_api/to_image":271,"./filesaver":321,"./helpers":322}],321:[function(c,tt,V){"use strict";var t=c("../lib"),l=c("./helpers");tt.exports=function(o,e,n){var s=document.createElement("a"),a="download"in s;return new Promise(function(i,r){var d,f;return t.isIE()?(d=l.createBlob(o,"svg"),window.navigator.msSaveBlob(d,e),d=null,i(e)):a?(d=l.createBlob(o,n),f=l.createObjectURL(d),s.href=f,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),l.revokeObjectURL(f),d=null,i(e)):t.isSafari()?(l.octetStream(("svg"===n?",":";base64,")+encodeURIComponent(o)),i(e)):void r(new Error("download error"))})}},{"../lib":232,"./helpers":322}],322:[function(c,tt,V){"use strict";var t=c("../registry");V.getDelay=function(o){return o._has&&(o._has("gl3d")||o._has("gl2d")||o._has("mapbox"))?500:0},V.getRedrawFunc=function(o){return function(){t.getComponentMethod("colorbar","draw")(o)}},V.encodeSVG=function(o){return"data:image/svg+xml,"+encodeURIComponent(o)},V.encodeJSON=function(o){return"data:application/json,"+encodeURIComponent(o)};var l=window.URL||window.webkitURL;V.createObjectURL=function(o){return l.createObjectURL(o)},V.revokeObjectURL=function(o){return l.revokeObjectURL(o)},V.createBlob=function(o,e){if("svg"===e)return new window.Blob([o],{type:"image/svg+xml;charset=utf-8"});if("full-json"===e)return new window.Blob([o],{type:"application/json;charset=utf-8"});var n=function(s){for(var a=s.length,i=new ArrayBuffer(a),r=new Uint8Array(i),d=0;d<a;d++)r[d]=s.charCodeAt(d);return i}(window.atob(o));return new window.Blob([n],{type:"image/"+e})},V.octetStream=function(o){document.location.href="data:application/octet-stream"+o},V.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,V.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":318}],323:[function(c,tt,V){"use strict";var t=c("./helpers"),l={getDelay:t.getDelay,getRedrawFunc:t.getRedrawFunc,clone:c("./cloneplot"),toSVG:c("./tosvg"),svgToImg:c("./svgtoimg"),toImage:c("./toimage"),downloadImage:c("./download")};tt.exports=l},{"./cloneplot":319,"./download":320,"./helpers":322,"./svgtoimg":324,"./toimage":325,"./tosvg":326}],324:[function(c,tt,V){"use strict";var t=c("../lib"),l=c("events").EventEmitter,o=c("./helpers");tt.exports=function(e){var n=e.emitter||new l,s=new Promise(function(a,i){var r=window.Image,d=e.svg,f=e.format||"png";if(t.isIE()&&"svg"!==f){var h=new Error(o.MSG_IE_BAD_FORMAT);return i(h),e.promise?s:n.emit("error",h)}var p,T,w=e.canvas,x=e.scale||1,A=x*(e.width||300),b=x*(e.height||150),k=w.getContext("2d",{willReadFrequently:!0}),L=new r;"svg"===f||t.isSafari()?T=o.encodeSVG(d):(p=o.createBlob(d,"svg"),T=o.createObjectURL(p)),w.width=A,w.height=b,L.onload=function(){var g;switch(p=null,o.revokeObjectURL(T),"svg"!==f&&k.drawImage(L,0,0,A,b),f){case"jpeg":g=w.toDataURL("image/jpeg");break;case"png":g=w.toDataURL("image/png");break;case"webp":g=w.toDataURL("image/webp");break;case"svg":g=T;break;default:var S="Image format is not jpeg, png, svg or webp.";if(i(new Error(S)),!e.promise)return n.emit("error",S)}a(g),e.promise||n.emit("success",g)},L.onerror=function(g){if(p=null,o.revokeObjectURL(T),i(g),!e.promise)return n.emit("error",g)},L.src=T});return e.promise?s:n}},{"../lib":232,"./helpers":322,events:12}],325:[function(c,tt,V){"use strict";var t=c("events").EventEmitter,l=c("../registry"),o=c("../lib"),e=c("./helpers"),n=c("./cloneplot"),s=c("./tosvg"),a=c("./svgtoimg");tt.exports=function(i,r){var d=new t,f=n(i,{format:"png"}),h=f.gd;h.style.position="absolute",h.style.left="-5000px",document.body.appendChild(h);var p=e.getRedrawFunc(h);return l.call("_doPlot",h,f.data,f.layout,f.config).then(p).then(function(){var T=e.getDelay(h._fullLayout);setTimeout(function(){var w=s(h),x=document.createElement("canvas");x.id=o.randstr(),(d=a({format:r.format,width:h._fullLayout.width,height:h._fullLayout.height,canvas:x,emitter:d,svg:w})).clean=function(){h&&document.body.removeChild(h)}},T)}).catch(function(T){d.emit("error",T)}),d}},{"../lib":232,"../registry":318,"./cloneplot":319,"./helpers":322,"./svgtoimg":324,"./tosvg":326,events:12}],326:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../lib"),o=c("../components/drawing"),e=c("../components/color"),n=c("../constants/xmlns_namespaces"),s=/"/g,a=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");tt.exports=function(i,r,d){var f,h=i._fullLayout,p=h._paper,T=h._toppaper,w=h.width,x=h.height;p.insert("rect",":first-child").call(o.setRect,0,0,w,x).call(e.fill,h.paper_bgcolor);var m=h._basePlotModules||[];for(f=0;f<m.length;f++){var y=m[f];y.toSVG&&y.toSVG(i)}if(T){var A=T.node().childNodes,b=Array.prototype.slice.call(A);for(f=0;f<b.length;f++){var k=b[f];k.childNodes.length&&p.node().appendChild(k)}}h._draggers&&h._draggers.remove(),p.node().style.background="",p.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var g=t.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){g.style({visibility:null,display:null});var S=this.style.fontFamily;S&&-1!==S.indexOf('"')&&g.style("font-family",S.replace(s,"TOBESTRIPPED"))}else g.remove()}),p.selectAll(".gradient_filled,.pattern_filled").each(function(){var g=t.select(this),S=this.style.fill;S&&-1!==S.indexOf("url(")&&g.style("fill",S.replace(s,"TOBESTRIPPED"));var I=this.style.stroke;I&&-1!==I.indexOf("url(")&&g.style("stroke",I.replace(s,"TOBESTRIPPED"))}),"pdf"!==r&&"eps"!==r||p.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),p.node().setAttributeNS(n.xmlns,"xmlns",n.svg),p.node().setAttributeNS(n.xmlns,"xmlns:xlink",n.xlink),"svg"===r&&d&&(p.attr("width",d*w),p.attr("height",d*x),p.attr("viewBox","0 0 "+w+" "+x));var g,S,I,L=(new window.XMLSerializer).serializeToString(p.node());return g=L,S=t.select("body").append("div").style({display:"none"}).html(""),I=g.replace(/(&[^;]*;)/gi,function(v){return"&lt;"===v?"&#60;":"&rt;"===v?"&#62;":-1!==v.indexOf("<")||-1!==v.indexOf(">")?"":S.html(v).text()}),S.remove(),L=(L=(L=I).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(a,"'"),l.isIE()&&(L=(L=(L=L.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),L}},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],327:[function(c,tt,V){"use strict";var t=c("../../lib");tt.exports=function(l,o){for(var e=0;e<l.length;e++)l[e].i=e;t.mergeArray(o.text,l,"tx"),t.mergeArray(o.hovertext,l,"htx");var n=o.marker;if(n){t.mergeArray(n.opacity,l,"mo",!0),t.mergeArray(n.color,l,"mc");var s=n.line;s&&(t.mergeArray(s.color,l,"mlc"),t.mergeArrayCastPositive(s.width,l,"mlw"))}}},{"../../lib":232}],328:[function(c,tt,V){"use strict";var t=c("../scatter/attributes"),l=c("../../plots/cartesian/axis_format_attributes").axisHoverFormat,o=c("../../plots/template_attributes").hovertemplateAttrs,e=c("../../plots/template_attributes").texttemplateAttrs,n=c("../../components/colorscale/attributes"),s=c("../../plots/font_attributes"),a=c("./constants"),i=c("../../components/drawing/attributes").pattern,r=c("../../lib/extend").extendFlat,d=s({editType:"calc",arrayOk:!0,colorEditType:"style"}),f=r({},t.marker.line.width,{dflt:0}),h=r({width:f,editType:"calc"},n("marker.line")),p=r({line:h,editType:"calc"},n("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:i});tt.exports={x:t.x,x0:t.x0,dx:t.dx,y:t.y,y0:t.y0,dy:t.dy,xperiod:t.xperiod,yperiod:t.yperiod,xperiod0:t.xperiod0,yperiod0:t.yperiod0,xperiodalignment:t.xperiodalignment,yperiodalignment:t.yperiodalignment,xhoverformat:l("x"),yhoverformat:l("y"),text:t.text,texttemplate:e({editType:"plot"},{keys:a.eventDataKeys}),hovertext:t.hovertext,hovertemplate:o({},{keys:a.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:r({},d,{}),insidetextfont:r({},d,{}),outsidetextfont:r({},d,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:r({},t.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:p,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:t.selected.marker.opacity,color:t.selected.marker.color,editType:"style"},textfont:t.selected.textfont,editType:"style"},unselected:{marker:{opacity:t.unselected.marker.opacity,color:t.unselected.marker.color,editType:"style"},textfont:t.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorscale/attributes":109,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":310,"../../plots/template_attributes":317,"../scatter/attributes":358,"./constants":330}],329:[function(c,tt,V){"use strict";var t=c("../../plots/cartesian/axes"),l=c("../../plots/cartesian/align_period"),o=c("../../components/colorscale/helpers").hasColorscale,e=c("../../components/colorscale/calc"),n=c("./arrays_to_calcdata"),s=c("../scatter/calc_selection");tt.exports=function(a,i){var r,d,f,h,p,T,w=t.getFromId(a,i.xaxis||"x"),x=t.getFromId(a,i.yaxis||"y"),m={msUTC:!(!i.base&&0!==i.base)};"h"===i.orientation?(r=w.makeCalcdata(i,"x",m),f=x.makeCalcdata(i,"y"),h=l(i,x,"y",f),p=!!i.yperiodalignment,T="y"):(r=x.makeCalcdata(i,"y",m),f=w.makeCalcdata(i,"x"),h=l(i,w,"x",f),p=!!i.xperiodalignment,T="x"),d=h.vals;for(var y=Math.min(d.length,r.length),A=new Array(y),b=0;b<y;b++)A[b]={p:d[b],s:r[b]},p&&(A[b].orig_p=f[b],A[b][T+"End"]=h.ends[b],A[b][T+"Start"]=h.starts[b]),i.ids&&(A[b].id=String(i.ids[b]));return o(i,"marker")&&e(a,i,{vals:i.marker.color,containerStr:"marker",cLetter:"c"}),o(i,"marker.line")&&e(a,i,{vals:i.marker.line.color,containerStr:"marker.line",cLetter:"c"}),n(A,i),s(A,i),A}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"../scatter/calc_selection":360,"./arrays_to_calcdata":327}],330:[function(c,tt,V){"use strict";tt.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},{}],331:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("../../lib").isArrayOrTypedArray,o=c("../../constants/numerical").BADNUM,e=c("../../registry"),n=c("../../plots/cartesian/axes"),s=c("../../plots/cartesian/constraints").getAxisGroup,a=c("./sieve.js");function i(y,A,b,k,L){if(k.length){var g,S,I,v;switch(function(R,z){var F,B;for(F=0;F<z.length;F++){var H,X=z[F],ot=X[0].trace,q="funnel"===ot.type?ot._base:ot.base,P="h"===ot.orientation?ot.xcalendar:ot.ycalendar,J="category"===R.type||"multicategory"===R.type?function(){return null}:R.d2c;if(l(q)){for(B=0;B<Math.min(q.length,X.length);B++)H=J(q[B],0,P),t(H)?(X[B].b=+H,X[B].hasB=1):X[B].b=0;for(;B<X.length;B++)X[B].b=0}else{H=J(q,0,P);var E=t(H);for(H=E?H:0,B=0;B<X.length;B++)X[B].b=H,E&&(X[B].hasB=1)}}}(b,k),L.mode){case"overlay":r(A,b,k,L);break;case"group":for(g=[],S=[],I=0;I<k.length;I++)void 0===(v=k[I])[0].trace.offset?S.push(v):g.push(v);S.length&&(R=y,F=b,X=new a(S,{posAxis:z=A,sepNegVal:!1,overlapNoMerge:!(H=L).norm}),function(ot,q,P,J){for(var E=ot._fullLayout,U=P.minDiff,D=P.traces,M=D.length,j=P.positions.length!==P.distinctPositions.length,C=U*(1-J.gap),G=s(E,q._id)+D[0][0].trace.orientation,K=E._alignmentOpts[G]||{},$=0;$<M;$++){var Q,ut,ct=D[$],gt=ct[0].trace,_t=Object.keys((K[gt.alignmentgroup]||{}).offsetGroups||{}).length,kt=(Q=_t?C/_t:j?C/M:C)*(1-(J.groupgap||0));ut=_t?((2*gt._offsetIndex+1-_t)*Q-kt)/2:j?((2*$+1-M)*Q-kt)/2:-kt/2;var Et=ct[0].t;Et.barwidth=kt,Et.poffset=ut,Et.bargroupwidth=C,Et.bardelta=U}P.binWidth=D[0][0].t.barwidth/100,f(P),h(q,P),p(q,P,j)}(R,z,X,H),function(ot,q){for(var P=ot.traces,J=0;J<P.length;J++){var E=P[J];if(void 0===E[0].trace.base)for(var N=new a([E],{posAxis:q,sepNegVal:!0,overlapNoMerge:!0}),Z=0;Z<E.length;Z++){var U=E[Z];if(U.p!==o){var D=N.put(U.p,U.b+U.s);D&&(U.b=D)}}}}(X,z),H.norm?(w(X),x(F,X,H)):T(F,X)),g.length&&r(A,b,g,L);break;case"stack":case"relative":for(g=[],S=[],I=0;I<k.length;I++)void 0===(v=k[I])[0].trace.base?S.push(v):g.push(v);S.length&&function(R,z,F,B,H){var X=new a(B,{posAxis:z,sepNegVal:"relative"===H.mode,overlapNoMerge:!(H.norm||"stack"===H.mode||"relative"===H.mode)});d(z,X,H),function(E,N,Z){var U,D,M,j,C,G,K=m(E),$=N.traces;for(j=0;j<$.length;j++)if("funnel"===(D=(U=$[j])[0].trace).type)for(C=0;C<U.length;C++)(G=U[C]).s!==o&&N.put(G.p,-.5*G.s);for(j=0;j<$.length;j++){M="funnel"===(D=(U=$[j])[0].trace).type;var Q=[];for(C=0;C<U.length;C++)if((G=U[C]).s!==o){var ut,ct=N.put(G.p,ut=M?G.s:G.s+G.b),gt=ct+ut;G.b=ct,G[K]=gt,Z.norm||(Q.push(gt),G.hasB&&Q.push(ct))}Z.norm||(D._extremes[E._id]=n.findExtremes(E,Q,{tozero:!0,padded:!0}))}}(F,X,H);for(var ot=0;ot<B.length;ot++)for(var q=B[ot],P=0;P<q.length;P++){var J=q[P];J.s!==o&&J.b+J.s===X.get(J.p,J.s)&&(J._outmost=!0)}H.norm&&x(F,X,H)}(0,A,b,S,L),g.length&&r(A,b,g,L)}!function(R,z){var F,B,H,X=m(z),ot={},q=1/0,P=-1/0;for(F=0;F<R.length;F++)for(H=R[F],B=0;B<H.length;B++){var J=H[B].p;t(J)&&(q=Math.min(q,J),P=Math.max(P,J))}var E=1e4/(P-q),N=ot.round=function(G){return String(Math.round(E*(G-q)))};for(F=0;F<R.length;F++){(H=R[F])[0].t.extents=ot;var Z=H[0].t.poffset,U=Array.isArray(Z);for(B=0;B<H.length;B++){var D=H[B],M=D[X]-D.w/2;if(t(M)){var j=D[X]+D.w/2,C=N(D.p);ot[C]=ot[C]?[Math.min(M,ot[C][0]),Math.max(j,ot[C][1])]:[M,j]}D.p0=D.p+(U?Z[B]:Z),D.p1=D.p0+D.w,D.s0=D.b,D.s1=D.s0+D.s}}}(k,A)}var R,z,F,H,X}function r(y,A,b,k){for(var L=0;L<b.length;L++){var S=new a([b[L]],{posAxis:y,sepNegVal:!1,overlapNoMerge:!k.norm});d(y,S,k),k.norm?(w(S),x(A,S,k)):T(A,S)}}function d(y,A,b){for(var k=A.minDiff,L=A.traces,g=k*(1-b.gap),S=g*(1-(b.groupgap||0)),I=-S/2,v=0;v<L.length;v++){var R=L[v][0].t;R.barwidth=S,R.poffset=I,R.bargroupwidth=g,R.bardelta=k}A.binWidth=L[0][0].t.barwidth/100,f(A),h(y,A),p(y,A)}function f(y){var A,b,k=y.traces;for(A=0;A<k.length;A++){var L,g=k[A],S=g[0],I=S.trace,v=S.t,R=I._offset||I.offset,z=v.poffset;if(l(R)){for(L=Array.prototype.slice.call(R,0,g.length),b=0;b<L.length;b++)t(L[b])||(L[b]=z);for(b=L.length;b<g.length;b++)L.push(z);v.poffset=L}else void 0!==R&&(v.poffset=R);var F=I._width||I.width,B=v.barwidth;if(l(F)){var H=Array.prototype.slice.call(F,0,g.length);for(b=0;b<H.length;b++)t(H[b])||(H[b]=B);for(b=H.length;b<g.length;b++)H.push(B);if(v.barwidth=H,void 0===R){for(L=[],b=0;b<g.length;b++)L.push(z+(B-H[b])/2);v.poffset=L}}else void 0!==F&&(v.barwidth=F,void 0===R&&(v.poffset=z+(B-F)/2))}}function h(y,A){for(var b=A.traces,k=m(y),L=0;L<b.length;L++)for(var g=b[L],S=g[0].t,I=S.poffset,v=Array.isArray(I),R=S.barwidth,z=Array.isArray(R),F=0;F<g.length;F++){var B=g[F],H=B.w=z?R[F]:R;B[k]=B.p+(v?I[F]:I)+H/2}}function p(y,A,b){var k=A.traces,L=A.minDiff/2;n.minDtick(y,A.minDiff,A.distinctPositions[0],b);for(var g=0;g<k.length;g++){var S,I,v,R,z=k[g],F=z[0],B=F.trace,H=[];for(R=0;R<z.length;R++)I=(S=z[R]).p-L,H.push(I,v=S.p+L);if(B.width||B.offset){var X=F.t,ot=X.poffset,q=X.barwidth,P=Array.isArray(ot),J=Array.isArray(q);for(R=0;R<z.length;R++)v=(I=(S=z[R]).p+(P?ot[R]:ot))+(J?q[R]:q),H.push(I,v)}B._extremes[y._id]=n.findExtremes(y,H,{padded:!1})}}function T(y,A){for(var b=A.traces,k=m(y),L=0;L<b.length;L++){for(var g=b[L],S=g[0].trace,I=[],v=!1,R=0;R<g.length;R++){var z=g[R],F=z.b,B=F+z.s;z[k]=B,I.push(B),z.hasB&&I.push(F),z.hasB&&z.b||(v=!0)}S._extremes[y._id]=n.findExtremes(y,I,{tozero:v,padded:!0})}}function w(y){for(var A=y.traces,b=0;b<A.length;b++)for(var k=A[b],L=0;L<k.length;L++){var g=k[L];g.s!==o&&y.put(g.p,g.b+g.s)}}function x(y,A,b){var k=A.traces,L=m(y),g="fraction"===b.norm?1:100,S=g/1e9,I=y.l2c(y.c2l(0)),v="stack"===b.mode?g:I;function R(Z){return t(y.c2l(Z))&&(Z<I-S||Z>v+S||!t(I))}for(var z=0;z<k.length;z++){for(var F=k[z],B=F[0].trace,H=[],X=!1,ot=!1,q=0;q<F.length;q++){var P=F[q];if(P.s!==o){var J=Math.abs(g/A.get(P.p,P.s));P.b*=J,P.s*=J;var E=P.b,N=E+P.s;P[L]=N,H.push(N),ot=ot||R(N),P.hasB&&(H.push(E),ot=ot||R(E)),P.hasB&&P.b||(X=!0)}}B._extremes[y._id]=n.findExtremes(y,H,{tozero:X,padded:ot})}}function m(y){return y._id.charAt(0)}tt.exports={crossTraceCalc:function(y,A){for(var b=A.xaxis,k=A.yaxis,L=y._fullLayout,g=y._fullData,S=y.calcdata,I=[],v=[],R=0;R<g.length;R++){var z=g[R];if(!0===z.visible&&e.traceIs(z,"bar")&&z.xaxis===b._id&&z.yaxis===k._id&&("h"===z.orientation?I.push(S[R]):v.push(S[R]),z._computePh))for(var F=y.calcdata[R],B=0;B<F.length;B++)"function"==typeof F[B].ph0&&(F[B].ph0=F[B].ph0()),"function"==typeof F[B].ph1&&(F[B].ph1=F[B].ph1())}var H={xCat:"category"===b.type||"multicategory"===b.type,yCat:"category"===k.type||"multicategory"===k.type,mode:L.barmode,norm:L.barnorm,gap:L.bargap,groupgap:L.bargroupgap};i(y,b,k,v,H),i(y,k,b,I,H)},setGroupPositions:i}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../plots/cartesian/constraints":287,"../../registry":318,"./sieve.js":341,"fast-isnumeric":17}],332:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../components/color"),o=c("../../registry"),e=c("../scatter/xy_defaults"),n=c("../scatter/period_defaults"),s=c("./style_defaults"),a=c("../../plots/cartesian/constraints").getAxisGroup,i=c("./attributes"),r=t.coerceFont;function d(h,p,T,w){var x=p.orientation,y=a(T,p[{v:"x",h:"y"}[x]+"axis"])+x,A=T._alignmentOpts||{},b=w("alignmentgroup"),k=A[y];k||(k=A[y]={});var L=k[b];L?L.traces.push(p):L=k[b]={traces:[p],alignmentIndex:Object.keys(k).length,offsetGroups:{}};var g=w("offsetgroup"),S=L.offsetGroups,I=S[g];g&&(I||(I=S[g]={offsetIndex:Object.keys(S).length}),p._offsetIndex=I.offsetIndex)}function f(h,p,T,w,x,m){var y=!1!==(m=m||{}).moduleHasSelected,A=!1!==m.moduleHasUnselected,b=!1!==m.moduleHasConstrain,k=!1!==m.moduleHasCliponaxis,L=!1!==m.moduleHasTextangle,g=!1!==m.moduleHasInsideanchor,S=!!m.hasPathbar,I=Array.isArray(x)||"auto"===x,v=I||"inside"===x,R=I||"outside"===x;if(v||R){var z=r(w,"textfont",T.font),F=t.extendFlat({},z),B=!(h.textfont&&h.textfont.color);if(B&&delete F.color,r(w,"insidetextfont",F),S){var H=t.extendFlat({},z);B&&delete H.color,r(w,"pathbar.textfont",H)}R&&r(w,"outsidetextfont",z),y&&w("selected.textfont.color"),A&&w("unselected.textfont.color"),b&&w("constraintext"),k&&w("cliponaxis"),L&&w("textangle"),w("texttemplate")}v&&g&&w("insidetextanchor")}tt.exports={supplyDefaults:function(h,p,T,w){function x(b,k){return t.coerce(h,p,i,b,k)}if(e(h,p,w,x)){n(h,p,w,x),x("xhoverformat"),x("yhoverformat"),x("orientation",p.x&&!p.y?"h":"v"),x("base"),x("offset"),x("width"),x("text"),x("hovertext"),x("hovertemplate");var m=x("textposition");f(h,0,w,x,m,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s(h,p,x,T,w);var y=(p.marker.line||{}).color,A=o.getComponentMethod("errorbars","supplyDefaults");A(h,p,y||l.defaultLine,{axis:"y"}),A(h,p,y||l.defaultLine,{axis:"x",inherit:"y"}),t.coerceSelectionMarkerOpacity(p,x)}else p.visible=!1},crossTraceDefaults:function(h,p){var T;function w(m){return t.coerce(T._input,T,i,m)}if("group"===p.barmode)for(var x=0;x<h.length;x++)"bar"===(T=h[x]).type&&d(0,T,p,w)},handleGroupingDefaults:d,handleText:f}},{"../../components/color":102,"../../lib":232,"../../plots/cartesian/constraints":287,"../../registry":318,"../scatter/period_defaults":378,"../scatter/xy_defaults":385,"./attributes":328,"./style_defaults":343}],333:[function(c,tt,V){"use strict";tt.exports=function(t,l,o){return t.x="xVal"in l?l.xVal:l.x,t.y="yVal"in l?l.yVal:l.y,l.xa&&(t.xaxis=l.xa),l.ya&&(t.yaxis=l.ya),"h"===o.orientation?(t.label=t.y,t.value=t.x):(t.label=t.x,t.value=t.y),t}},{}],334:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("tinycolor2"),o=c("../../lib").isArrayOrTypedArray;V.coerceString=function(e,n,s){if("string"==typeof n){if(n||!e.noBlank)return n}else if(("number"==typeof n||!0===n)&&!e.strict)return String(n);return void 0!==s?s:e.dflt},V.coerceNumber=function(e,n,s){if(t(n)){n=+n;var a=e.min,i=e.max;if(!(void 0!==a&&n<a||void 0!==i&&n>i))return n}return void 0!==s?s:e.dflt},V.coerceColor=function(e,n,s){return l(n).isValid()?n:void 0!==s?s:e.dflt},V.coerceEnumerated=function(e,n,s){return e.coerceNumber&&(n=+n),-1!==e.values.indexOf(n)?n:void 0!==s?s:e.dflt},V.getValue=function(e,n){var s;return Array.isArray(e)?n<e.length&&(s=e[n]):s=e,s},V.getLineWidth=function(e,n){return 0<n.mlw?n.mlw:o(e.marker.line.width)?0:e.marker.line.width}},{"../../lib":232,"fast-isnumeric":17,tinycolor2:67}],335:[function(c,tt,V){"use strict";var t=c("../../components/fx"),l=c("../../registry"),o=c("../../components/color"),e=c("../../lib").fillText,n=c("./helpers").getLineWidth,s=c("../../plots/cartesian/axes").hoverLabelText,a=c("../../constants/numerical").BADNUM;function i(d,f,h,p,T){var w,x,m,y,A,b,k,L=d.cd,g=L[0].trace,S=L[0].t,I="closest"===p,v="waterfall"===g.type,R=d.maxHoverDistance,z=d.maxSpikeDistance;"h"===g.orientation?(w=h,x=f,m="y",y="x",A=U,b=N):(w=f,x=h,m="x",y="y",b=U,A=N);var F=g[m+"period"],B=I||F;function H(Q){return ot(Q,-1)}function X(Q){return ot(Q,1)}function ot(Q,ut){return Q[m]+ut*Q.w/2}function q(Q){return Q[m+"End"]-Q[m+"Start"]}var P=I?H:F?function(Q){return Q.p-q(Q)/2}:function(Q){return Math.min(H(Q),Q.p-S.bardelta/2)},J=I?X:F?function(Q){return Q.p+q(Q)/2}:function(Q){return Math.max(X(Q),Q.p+S.bardelta/2)};function E(Q,ut,ct){return T.finiteRange&&(ct=0),t.inbox(Q-w,ut-w,ct+Math.min(1,Math.abs(ut-Q)/k)-1)}function N(Q){return E(P(Q),J(Q),R)}function Z(Q){var ut=Q[y];if(v){var ct=Math.abs(Q.rawS)||0;x>0?ut+=ct:x<0&&(ut-=ct)}return ut}function U(Q){var ut=x,ct=Q.b,gt=Z(Q);return t.inbox(ct-ut,gt-ut,R+(gt-ut)/(gt-ct)-1)}var D=d[m+"a"],M=d[y+"a"];k=Math.abs(D.r2c(D.range[1])-D.r2c(D.range[0]));var Q,ut,ct,gt,j=t.getDistanceFunction(p,A,b,function(Q){return(A(Q)+b(Q))/2});if(t.getClosest(L,j,d),!1!==d.index&&L[d.index].p!==a){B||(P=function(Q){return Math.min(H(Q),Q.p-S.bargroupwidth/2)},J=function(Q){return Math.max(X(Q),Q.p+S.bargroupwidth/2)});var C=L[d.index],G=g.base?C.b+C.s:C.s;d[y+"0"]=d[y+"1"]=M.c2p(C[y],!0),d[y+"LabelVal"]=G;var K=S.extents[S.extents.round(C.p)];return d[m+"0"]=D.c2p(I?P(C):K[0],!0),d[m+"1"]=D.c2p(I?J(C):K[1],!0),d[m+"LabelVal"]=void 0!==C.orig_p?C.orig_p:C.p,d.labelLabel=s(D,d[m+"LabelVal"],g[m+"hoverformat"]),d.valueLabel=s(M,d[y+"LabelVal"],g[y+"hoverformat"]),d.baseLabel=s(M,C.b,g[y+"hoverformat"]),d.spikeDistance=(ut=x,ct=(Q=C).b,gt=Z(Q),(t.inbox(ct-ut,gt-ut,z+(gt-ut)/(gt-ct)-1)+function(Q){return E(H(Q),X(Q),z)}(C))/2),d[m+"Spike"]=D.c2p(C.p,!0),e(C,g,d),d.hovertemplate=g.hovertemplate,d}}function r(d,f){var h=f.mcc||d.marker.color,p=f.mlcc||d.marker.line.color,T=n(d,f);return o.opacity(h)?h:o.opacity(p)&&T?p:void 0}tt.exports={hoverPoints:function(d,f,h,p,T){var w=i(d,f,h,p,T);if(w){var x=w.cd,m=x[0].trace,y=x[w.index];return w.color=r(m,y),l.getComponentMethod("errorbars","hoverInfo")(y,m,w),[w]}},hoverOnBars:i,getTraceColor:r}},{"../../components/color":102,"../../components/fx":142,"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./helpers":334}],336:[function(c,tt,V){"use strict";tt.exports={attributes:c("./attributes"),layoutAttributes:c("./layout_attributes"),supplyDefaults:c("./defaults").supplyDefaults,crossTraceDefaults:c("./defaults").crossTraceDefaults,supplyLayoutDefaults:c("./layout_defaults"),calc:c("./calc"),crossTraceCalc:c("./cross_trace_calc").crossTraceCalc,colorbar:c("../scatter/marker_colorbar"),arraysToCalcdata:c("./arrays_to_calcdata"),plot:c("./plot").plot,style:c("./style").style,styleOnSelect:c("./style").styleOnSelect,hoverPoints:c("./hover").hoverPoints,eventData:c("./event_data"),selectPoints:c("./select"),moduleType:"trace",name:"bar",basePlotModule:c("../../plots/cartesian"),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},{"../../plots/cartesian":293,"../scatter/marker_colorbar":376,"./arrays_to_calcdata":327,"./attributes":328,"./calc":329,"./cross_trace_calc":331,"./defaults":332,"./event_data":333,"./hover":335,"./layout_attributes":337,"./layout_defaults":338,"./plot":339,"./select":340,"./style":342}],337:[function(c,tt,V){"use strict";tt.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],338:[function(c,tt,V){"use strict";var t=c("../../registry"),l=c("../../plots/cartesian/axes"),o=c("../../lib"),e=c("./layout_attributes");tt.exports=function(n,s,a){function i(m,y){return o.coerce(n,s,e,m,y)}for(var r=!1,d=!1,f=!1,h={},p=i("barmode"),T=0;T<a.length;T++){var w=a[T];if(t.traceIs(w,"bar")&&w.visible){if(r=!0,"group"===p){var x=w.xaxis+w.yaxis;h[x]&&(f=!0),h[x]=!0}w.visible&&"histogram"===w.type&&"category"!==l.getFromId({_fullLayout:s},w["v"===w.orientation?"xaxis":"yaxis"]).type&&(d=!0)}}r?("overlay"!==p&&i("barnorm"),i("bargap",d&&!f?0:.2),i("bargroupgap")):delete s.barmode}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./layout_attributes":337}],339:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("fast-isnumeric"),o=c("../../lib"),e=c("../../lib/svg_text_utils"),n=c("../../components/color"),s=c("../../components/drawing"),a=c("../../registry"),i=c("../../plots/cartesian/axes").tickText,r=c("./uniform_text"),d=r.recordMinTextSize,f=r.clearMinTextSize,h=c("./style"),p=c("./helpers"),T=c("./constants"),w=c("./attributes"),x=w.text,m=w.textposition,y=c("../../components/fx/helpers").appendArrayPointValue,A=T.TEXTPAD;function b(z){return z.id}function L(z,F){return z<F?1:-1}function g(z,F,B,H){var X;return!F.uniformtext.mode&&S(B)?(H&&(X=H()),z.transition().duration(B.duration).ease(B.easing).each("end",function(){X&&X()}).each("interrupt",function(){X&&X()})):z}function S(z){return z&&z.duration>0}function I(z){return"auto"===z?0:z}function v(z,F){var B=Math.PI/180*F,H=Math.abs(Math.sin(B)),X=Math.abs(Math.cos(B));return{x:z.width*X+z.height*H,y:z.width*H+z.height*X}}function R(z,F,B,H,X,ot){var q=!!ot.isHorizontal,P=!!ot.constrained,J=ot.angle||0,E=ot.anchor||"end",N="end"===E,Z="start"===E,U=((ot.leftToRight||0)+1)/2,D=1-U,M=X.width,j=X.height,C=Math.abs(F-z),G=Math.abs(H-B),K=C>2*A&&G>2*A?A:0;C-=2*K,G-=2*K;var $=I(J);"auto"!==J||M<=C&&j<=G||!(M>C||j>G)||(M>G||j>C)&&M<j==C<G||($+=90);var Q=v(X,$),ut=1;P&&(ut=Math.min(1,C/Q.x,G/Q.y));var ct=X.left*D+X.right*U,gt=(X.top+X.bottom)/2,vt=(z+A)*D+(F-A)*U,_t=(B+H)/2,kt=0,Et=0;if(Z||N){var It=(q?Q.x:Q.y)/2,Lt=q?L(z,F):L(B,H);q?Z?(vt=z+Lt*K,kt=-Lt*It):(vt=F-Lt*K,kt=Lt*It):Z?(_t=B+Lt*K,Et=-Lt*It):(_t=H-Lt*K,Et=Lt*It)}return{textX:ct,textY:gt,targetX:vt,targetY:_t,anchorX:kt,anchorY:Et,scale:ut,rotate:$}}tt.exports={plot:function(z,F,B,H,X,ot){var q=F.xaxis,P=F.yaxis,J=z._fullLayout;X||(X={mode:J.barmode,norm:J.barmode,gap:J.bargap,groupgap:J.bargroupgap},f("bar",J));var E=o.makeTraceGroups(H,B,"trace bars").each(function(N){var Z=t.select(this),U=N[0].trace,j="bar"===U.type||"funnel"===U.type,C=0;"waterfall"===U.type&&U.connector.visible&&"between"===U.connector.mode&&(C=U.connector.line.width/2);var G="h"===U.orientation,K=S(X),$=o.ensureSingle(Z,"g","points"),Q=function k(z){if(z.ids)return b}(U),ut=$.selectAll("g.point").data(o.identity,Q);ut.enter().append("g").classed("point",!0),ut.exit().remove(),ut.each(function(gt,vt){var _t,kt,Dt,zt,Vt,Ct,Zt,Kt,Jt,de,Et=t.select(this),It=(zt=q,Vt=P,Kt=[],de=(Ct=G)?Vt:zt,(Zt=[])[0]=(Jt=Ct?zt:Vt).c2p((Dt=gt).s0,!0),Kt[0]=de.c2p(Dt.p0,!0),Zt[1]=Jt.c2p(Dt.s1,!0),Kt[1]=de.c2p(Dt.p1,!0),Ct?[Zt,Kt]:[Kt,Zt]),Lt=It[0][0],lt=It[0][1],at=It[1][0],dt=It[1][1],mt=0==(G?lt-Lt:dt-at);if(mt&&j&&p.getLineWidth(U,gt)&&(mt=!1),mt||(mt=!(l(Lt)&&l(lt)&&l(at)&&l(dt))),gt.isBlank=mt,mt&&(G?lt=Lt:dt=at),C&&!mt&&(G?(Lt-=L(Lt,lt)*C,lt+=L(Lt,lt)*C):(at-=L(at,dt)*C,dt+=L(at,dt)*C)),"waterfall"===U.type){if(!mt){var St=U[gt.dir].marker;_t=St.line.width,kt=St.color}}else _t=p.getLineWidth(U,gt),kt=gt.mc||U.marker.color;function bt(Dt){var zt=t.round(_t/2%1,2);return 0===X.gap&&0===X.groupgap?t.round(Math.round(Dt)-zt,2):Dt}if(!z._context.staticPlot){var wt=n.opacity(kt)<1||_t>.01?bt:function(Dt,zt,Vt){return Vt&&Dt===zt?Dt:Math.abs(Dt-zt)>=2?bt(Dt):Dt>zt?Math.ceil(Dt):Math.floor(Dt)};Lt=wt(Lt,lt,G),lt=wt(lt,Lt,G),at=wt(at,dt,!G),dt=wt(dt,at,!G)}var Ot=g(o.ensureSingle(Et,"path"),J,X,ot);if(Ot.style("vector-effect","non-scaling-stroke").attr("d",isNaN((lt-Lt)*(dt-at))||mt&&z._context.staticPlot?"M0,0Z":"M"+Lt+","+at+"V"+dt+"H"+lt+"V"+at+"Z").call(s.setClipUrl,F.layerClipId,z),!J.uniformtext.mode&&K){var Nt=s.makePointStyleFns(U);s.singlePointStyle(gt,Ot,U,Nt,z)}(function(Dt,zt,Vt,Ct,Zt,Kt,Jt,de,$t,Tt,At){var qt,ue=zt.xaxis,Te=zt.yaxis,Ce=Dt._fullLayout;function xe(Pe,ze,Ue){return o.ensureSingle(Pe,"text").text(ze).attr({class:"bartext bartext-"+qt,"text-anchor":"middle","data-notex":1}).call(s.font,Ue).call(e.convertToTspans,Dt)}var ze,Ue,Je,He,be,ve,ye=Ct[0].trace,ce="h"===ye.orientation,nt=(Ue=Zt,Je=ue,He=Te,be=(ve=(ze=Ct)[0].trace).texttemplate?function(ke,Fe,De,Ve,Ze){var tn=Fe[0].trace,rn=o.castOption(tn,De,"texttemplate");if(!rn)return"";var ln,cn,sn,fn,Xe="histogram"===tn.type,gn="waterfall"===tn.type,Mn="funnel"===tn.type,Ye="h"===tn.orientation;function dn(Ee){return i(fn,fn.c2l(Ee),!0).text}Ye?(ln="y",cn=Ze,sn="x",fn=Ve):(ln="x",cn=Ve,sn="y",fn=Ze);var an=Fe[De],qe={};qe.label=an.p,qe.labelLabel=qe[ln+"Label"]=i(cn,cn.c2l(an.p),!0).text;var un=o.castOption(tn,an.i,"text");(0===un||un)&&(qe.text=un),qe.value=an.s,qe.valueLabel=qe[sn+"Label"]=dn(an.s);var $e={};y($e,tn,an.i),(Xe||void 0===$e.x)&&($e.x=Ye?qe.value:qe.label),(Xe||void 0===$e.y)&&($e.y=Ye?qe.label:qe.value),(Xe||void 0===$e.xLabel)&&($e.xLabel=Ye?qe.valueLabel:qe.labelLabel),(Xe||void 0===$e.yLabel)&&($e.yLabel=Ye?qe.labelLabel:qe.valueLabel),gn&&(qe.delta=+an.rawS||an.s,qe.deltaLabel=dn(qe.delta),qe.final=an.v,qe.finalLabel=dn(qe.final),qe.initial=qe.final-qe.delta,qe.initialLabel=dn(qe.initial)),Mn&&(qe.value=an.s,qe.valueLabel=dn(qe.value),qe.percentInitial=an.begR,qe.percentInitialLabel=o.formatPercent(an.begR),qe.percentPrevious=an.difR,qe.percentPreviousLabel=o.formatPercent(an.difR),qe.percentTotal=an.sumR,qe.percenTotalLabel=o.formatPercent(an.sumR));var Ge=o.castOption(tn,an.i,"customdata");return Ge&&(qe.customdata=Ge),o.texttemplateString(rn,qe,ke._d3locale,$e,qe,tn._meta||{})}(Ce,ze,Ue,Je,He):ve.textinfo?function(ke,Fe,De,Ve){var Ze=ke[0].trace,tn="h"===Ze.orientation,rn="waterfall"===Ze.type,ln="funnel"===Ze.type;function cn(Ge){return i(tn?De:Ve,+Ge,!0).text}var sn,Xe=ke[Fe],gn=Ze.textinfo.split("+"),Mn=[],Ye=function(Ge){return-1!==gn.indexOf(Ge)};if(Ye("label")&&Mn.push(i(tn?Ve:De,ke[Fe].p,!0).text),Ye("text")&&(0===(sn=o.castOption(Ze,Xe.i,"text"))||sn)&&Mn.push(sn),rn){var an=+Xe.rawS||Xe.s,qe=Xe.v,vn=qe-an;Ye("initial")&&Mn.push(cn(vn)),Ye("delta")&&Mn.push(cn(an)),Ye("final")&&Mn.push(cn(qe))}if(ln){Ye("value")&&Mn.push(cn(Xe.s));var un=0;Ye("percent initial")&&un++,Ye("percent previous")&&un++,Ye("percent total")&&un++;var $e=un>1;Ye("percent initial")&&(sn=o.formatPercent(Xe.begR),$e&&(sn+=" of initial"),Mn.push(sn)),Ye("percent previous")&&(sn=o.formatPercent(Xe.difR),$e&&(sn+=" of previous"),Mn.push(sn)),Ye("percent total")&&(sn=o.formatPercent(Xe.sumR),$e&&(sn+=" of total"),Mn.push(sn))}return Mn.join("<br>")}(ze,Ue,Je,He):p.getValue(ve.text,Ue),p.coerceString(x,be));qt=function(Pe,ze){var Ue=p.getValue(Pe.textposition,ze);return p.coerceEnumerated(m,Ue)}(ye,Zt);var Mt=Ct[Zt],Pt=!("stack"===Tt.mode||"relative"===Tt.mode)||Mt._outmost;if(nt&&"none"!==qt&&(!Mt.isBlank&&Kt!==Jt&&de!==$t||"auto"!==qt&&"inside"!==qt)){var Ut=Ce.font,Rt=h.getBarColor(Ct[Zt],ye),jt=h.getInsideTextFont(ye,Zt,Ut,Rt),Yt=h.getOutsideTextFont(ye,Zt,Ut),ee=Vt.datum();ce?"log"===ue.type&&ee.s0<=0&&(Kt=ue.range[0]<ue.range[1]?0:ue._length):"log"===Te.type&&ee.s0<=0&&(de=Te.range[0]<Te.range[1]?Te._length:0);var ae,he,Me,re,me,Oe=Math.abs(Jt-Kt)-2*A,oe=Math.abs($t-de)-2*A;if("outside"===qt&&(Pt||Mt.hasB||(qt="inside")),"auto"===qt&&(Pt?(qt="inside",ae=xe(Vt,nt,me=o.ensureUniformFontSize(Dt,jt)),re=(he=s.bBox(ae.node())).height,(Me=he.width)>0&&re>0&&(Me<=Oe&&re<=oe||Me<=oe&&re<=Oe||(ce?Oe>=Me*(oe/re):oe>=re*(Oe/Me)))?qt="inside":(qt="outside",ae.remove(),ae=null)):qt="inside"),!ae){var ge=(ae=xe(Vt,nt,me=o.ensureUniformFontSize(Dt,"outside"===qt?Yt:jt))).attr("transform");if(ae.attr("transform",""),Me=(he=s.bBox(ae.node())).width,re=he.height,ae.attr("transform",ge),Me<=0||re<=0)return void ae.remove()}var we,Ne=ye.textangle;we="outside"===qt?function(Pe,ze,Ue,Je,He,be){var ve,ke=!!be.isHorizontal,Fe=!!be.constrained,De=be.angle||0,Ve=He.width,Ze=He.height,tn=Math.abs(ze-Pe),rn=Math.abs(Je-Ue);ve=ke?rn>2*A?A:0:tn>2*A?A:0;var ln=1;Fe&&(ln=ke?Math.min(1,rn/Ze):Math.min(1,tn/Ve));var cn=I(De),sn=v(He,cn),fn=(ke?sn.x:sn.y)/2,Xe=(He.left+He.right)/2,gn=(He.top+He.bottom)/2,Mn=(Pe+ze)/2,Ye=(Ue+Je)/2,dn=0,an=0,qe=ke?L(ze,Pe):L(Ue,Je);return ke?(Mn=ze-qe*ve,dn=qe*fn):(Ye=Je+qe*ve,an=-qe*fn),{textX:Xe,textY:gn,targetX:Mn,targetY:Ye,anchorX:dn,anchorY:an,scale:ln,rotate:cn}}(Kt,Jt,de,$t,he,{isHorizontal:ce,constrained:"both"===ye.constraintext||"outside"===ye.constraintext,angle:Ne}):R(Kt,Jt,de,$t,he,{isHorizontal:ce,constrained:"both"===ye.constraintext||"inside"===ye.constraintext,angle:Ne,anchor:ye.insidetextanchor}),we.fontSize=me.size,d("histogram"===ye.type?"bar":ye.type,we,Ce),Mt.transform=we,g(ae,Ce,Tt,At).attr("transform",o.getTextTransform(we))}else Vt.select("text").remove()})(z,F,Et,N,vt,Lt,lt,at,dt,X,ot),F.layerClipId&&s.hideOutsideRangePoint(gt,Et.select("text"),q,P,U.xcalendar,U.ycalendar)}),s.setClipUrl(Z,!1===U.cliponaxis?null:F.layerClipId,z)});a.getComponentMethod("errorbars","plot")(z,E,F,X)},toMoveInsideBar:R}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx/helpers":138,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":318,"./attributes":328,"./constants":330,"./helpers":334,"./style":342,"./uniform_text":344,"@plotly/d3":11,"fast-isnumeric":17}],340:[function(c,tt,V){"use strict";function t(l,o,e,n,s){var a=o.c2p(n?l.s0:l.p0,!0),i=o.c2p(n?l.s1:l.p1,!0),r=e.c2p(n?l.p0:l.s0,!0),d=e.c2p(n?l.p1:l.s1,!0);return s?[(a+i)/2,(r+d)/2]:n?[i,(r+d)/2]:[(a+i)/2,d]}tt.exports=function(l,o){var e,n=l.cd,s=l.xaxis,a=l.yaxis,i=n[0].trace,r="funnel"===i.type,d="h"===i.orientation,f=[];if(!1===o)for(e=0;e<n.length;e++)n[e].selected=0;else for(e=0;e<n.length;e++){var h=n[e],p="ct"in h?h.ct:t(h,s,a,d,r);o.contains(p,!1,e,l)?(f.push({pointNumber:e,x:s.c2d(h.x),y:a.c2d(h.y)}),h.selected=1):h.selected=0}return f}},{}],341:[function(c,tt,V){"use strict";tt.exports=o;var t=c("../../lib").distinctVals,l=c("../../constants/numerical").BADNUM;function o(e,n){this.traces=e,this.sepNegVal=n.sepNegVal,this.overlapNoMerge=n.overlapNoMerge;for(var s=1/0,a=[],i=0;i<e.length;i++){for(var r=e[i],d=0;d<r.length;d++){var f=r[d];f.p!==l&&a.push(f.p)}r[0]&&r[0].width1&&(s=Math.min(r[0].width1,s))}this.positions=a;var h=t(a);this.distinctPositions=h.vals,this.minDiff=1===h.vals.length&&s!==1/0?s:Math.min(h.minDiff,s);var p=(n.posAxis||{}).type;"category"!==p&&"multicategory"!==p||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}o.prototype.put=function(e,n){var s=this.getLabel(e,n),a=this.bins[s]||0;return this.bins[s]=a+n,a},o.prototype.get=function(e,n){var s=this.getLabel(e,n);return this.bins[s]||0},o.prototype.getLabel=function(e,n){return(n<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?e:Math.round(e/this.binWidth))}},{"../../constants/numerical":212,"../../lib":232}],342:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../../components/color"),o=c("../../components/drawing"),e=c("../../lib"),n=c("../../registry"),s=c("./uniform_text").resizeText,a=c("./attributes"),i=a.textfont,r=a.insidetextfont,d=a.outsidetextfont,f=c("./helpers");function h(b,k,L){o.pointStyle(b.selectAll("path"),k,L),p(b,k,L)}function p(b,k,L){b.selectAll("text").each(function(g){var S=t.select(this),I=e.ensureUniformFontSize(L,T(S,g,k,L));o.font(S,I)})}function T(b,k,L,g){var S=g._fullLayout.font,I=L.textfont;if(b.classed("bartext-inside")){var v=A(k,L);I=x(L,k.i,S,v)}else b.classed("bartext-outside")&&(I=m(L,k.i,S));return I}function w(b,k,L){return y(i,b.textfont,k,L)}function x(b,k,L,g){var S=w(b,k,L);return(void 0===b._input.textfont||void 0===b._input.textfont.color||Array.isArray(b.textfont.color)&&void 0===b.textfont.color[k])&&(S={color:l.contrast(g),family:S.family,size:S.size}),y(r,b.insidetextfont,k,S)}function m(b,k,L){var g=w(b,k,L);return y(d,b.outsidetextfont,k,g)}function y(b,k,L,g){var S=f.getValue((k=k||{}).family,L),I=f.getValue(k.size,L),v=f.getValue(k.color,L);return{family:f.coerceString(b.family,S,g.family),size:f.coerceNumber(b.size,I,g.size),color:f.coerceColor(b.color,v,g.color)}}function A(b,k){return"waterfall"===k.type?k[b.dir].marker.color:b.mcc||b.mc||k.marker.color}tt.exports={style:function(b){var k=t.select(b).selectAll("g.barlayer").selectAll("g.trace");s(b,k,"bar");var L=k.size(),g=b._fullLayout;k.style("opacity",function(S){return S[0].trace.opacity}).each(function(S){("stack"===g.barmode&&L>1||0===g.bargap&&0===g.bargroupgap&&!S[0].trace.marker.line.width)&&t.select(this).attr("shape-rendering","crispEdges")}),k.selectAll("g.points").each(function(S){h(t.select(this),S[0].trace,b)}),n.getComponentMethod("errorbars","style")(k)},styleTextPoints:p,styleOnSelect:function(b,k,L){var S,I,v,R,z,F,g=k[0].trace;g.selectedpoints?(I=g,v=b,o.selectedPointStyle((S=L).selectAll("path"),I),R=S.selectAll("text"),z=I,F=v,R.each(function(B){var H,X=t.select(this);if(B.selected){H=e.ensureUniformFontSize(F,T(X,B,z,F));var ot=z.selected.textfont&&z.selected.textfont.color;ot&&(H.color=ot),o.font(X,H)}else o.selectedTextStyle(X,z)})):(h(L,g,b),n.getComponentMethod("errorbars","style")(L))},getInsideTextFont:x,getOutsideTextFont:m,getBarColor:A,resizeText:s}},{"../../components/color":102,"../../components/drawing":124,"../../lib":232,"../../registry":318,"./attributes":328,"./helpers":334,"./uniform_text":344,"@plotly/d3":11}],343:[function(c,tt,V){"use strict";var t=c("../../components/color"),l=c("../../components/colorscale/helpers").hasColorscale,o=c("../../components/colorscale/defaults"),e=c("../../lib").coercePattern;tt.exports=function(n,s,a,i,r){var d=a("marker.color",i),f=l(n,"marker");f&&o(n,s,r,a,{prefix:"marker.",cLetter:"c"}),a("marker.line.color",t.defaultLine),l(n,"marker.line")&&o(n,s,r,a,{prefix:"marker.line.",cLetter:"c"}),a("marker.line.width"),a("marker.opacity"),e(a,"marker.pattern",d,f),a("selected.marker.color"),a("unselected.marker.color")}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],344:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../../lib");function o(e){return"_"+e+"Text_minsize"}tt.exports={recordMinTextSize:function(e,n,s){if(s.uniformtext.mode){var a=o(e),i=s.uniformtext.minsize,r=n.scale*n.fontSize;n.hide=r<i,s[a]=s[a]||1/0,n.hide||(s[a]=Math.min(s[a],Math.max(r,i)))}},clearMinTextSize:function(e,n){n[o(e)]=void 0},resizeText:function(e,n,s){var a=e._fullLayout,i=a["_"+s+"Text_minsize"];if(i){var r,d="hide"===a.uniformtext.mode;switch(s){case"funnelarea":case"pie":case"sunburst":r="g.slice";break;case"treemap":case"icicle":r="g.slice, g.pathbar";break;default:r="g.points > g.point"}n.selectAll(r).each(function(f){var h=f.transform;h&&(h.scale=d&&h.hide?0:i/h.fontSize,t.select(this).select("text").attr("transform",l.getTextTransform(h)))})}}}},{"../../lib":232,"@plotly/d3":11}],345:[function(c,tt,V){"use strict";var t=c("../../plots/attributes"),l=c("../../plots/domain").attributes,o=c("../../plots/font_attributes"),e=c("../../components/color/attributes"),n=c("../../plots/template_attributes").hovertemplateAttrs,s=c("../../plots/template_attributes").texttemplateAttrs,a=c("../../lib/extend").extendFlat,i=o({editType:"plot",arrayOk:!0,colorEditType:"plot"});tt.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:e.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:a({},t.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:n({},{keys:["label","color","value","percent","text"]}),texttemplate:s({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:a({},i,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:a({},i,{}),outsidetextfont:a({},i,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:a({},i,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:l({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:a({},i,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},{"../../components/color/attributes":101,"../../lib/extend":226,"../../plots/attributes":275,"../../plots/domain":309,"../../plots/font_attributes":310,"../../plots/template_attributes":317}],346:[function(c,tt,V){"use strict";var t=c("../../plots/plots");V.name="pie",V.plot=function(l,o,e,n){t.plotBasePlot(V.name,l,o,e,n)},V.clean=function(l,o,e,n){t.cleanBasePlot(V.name,l,o,e,n)}},{"../../plots/plots":316}],347:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("tinycolor2"),o=c("../../components/color"),e={};function n(a){return function(i,r){return!!i&&!!(i=l(i)).isValid()&&(i=o.addOpacity(i,i.getAlpha()),a[r]||(a[r]=i),i)}}function s(a,i){var r,d=JSON.stringify(a),f=i[d];if(!f){for(f=a.slice(),r=0;r<a.length;r++)f.push(l(a[r]).lighten(20).toHexString());for(r=0;r<a.length;r++)f.push(l(a[r]).darken(20).toHexString());i[d]=f}return f}tt.exports={calc:function(a,i){var r,d,f=[],h=a._fullLayout,p=h.hiddenlabels||[],T=i.labels,w=i.marker.colors||[],x=i.values,m=i._length,y=i._hasValues&&m;if(i.dlabel)for(T=new Array(m),r=0;r<m;r++)T[r]=String(i.label0+r*i.dlabel);var A={},b=n(h["_"+i.type+"colormap"]),k=0,L=!1;for(r=0;r<m;r++){var g,S,I;if(y){if(!t(g=x[r]))continue;g=+g}else g=1;void 0!==(S=T[r])&&""!==S||(S=r);var v=A[S=String(S)];void 0===v?(A[S]=f.length,(I=-1!==p.indexOf(S))||(k+=g),f.push({v:g,label:S,color:b(w[r],S),i:r,pts:[r],hidden:I})):(L=!0,(d=f[v]).v+=g,d.pts.push(r),d.hidden||(k+=g),!1===d.color&&w[r]&&(d.color=b(w[r],S)))}return f=f.filter(function(R){return R.v>=0}),("funnelarea"===i.type?L:i.sort)&&f.sort(function(R,z){return z.v-R.v}),f[0]&&(f[0].vTotal=k),f},crossTraceCalc:function(a,i){var r=(i||{}).type;r||(r="pie");var d=a._fullLayout,f=a.calcdata,h=d[r+"colorway"],p=d["_"+r+"colormap"];d["extend"+r+"colors"]&&(h=s(h,e));for(var T=0,w=0;w<f.length;w++){var x=f[w];if(x[0].trace.type===r)for(var m=0;m<x.length;m++){var y=x[m];!1===y.color&&(p[y.label]?y.color=p[y.label]:(p[y.label]=y.color=h[T%h.length],T++))}}},makePullColorFn:n,generateExtendedColors:s}},{"../../components/color":102,"fast-isnumeric":17,tinycolor2:67}],348:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("../../lib"),o=c("./attributes"),e=c("../../plots/domain").defaults,n=c("../bar/defaults").handleText;function s(a,i){var r=Array.isArray(a),d=l.isArrayOrTypedArray(i),f=Math.min(r?a.length:1/0,d?i.length:1/0);if(isFinite(f)||(f=0),f&&d){for(var h,p=0;p<f;p++){var T=i[p];if(t(T)&&T>0){h=!0;break}}h||(f=0)}return{hasLabels:r,hasValues:d,len:f}}tt.exports={handleLabelsAndValues:s,supplyDefaults:function(a,i,r,d){function f(b,k){return l.coerce(a,i,o,b,k)}var h=s(f("labels"),f("values")),p=h.len;if(i._hasLabels=h.hasLabels,i._hasValues=h.hasValues,!i._hasLabels&&i._hasValues&&(f("label0"),f("dlabel")),p){i._length=p,f("marker.line.width")&&f("marker.line.color"),f("marker.colors"),f("scalegroup");var T,w=f("text"),x=f("texttemplate");if(x||(T=f("textinfo",Array.isArray(w)?"text+percent":"percent")),f("hovertext"),f("hovertemplate"),x||T&&"none"!==T){var m=f("textposition");n(a,i,d,f,m,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(m)||"auto"===m||"outside"===m)&&f("automargin"),("inside"===m||"auto"===m||Array.isArray(m))&&f("insidetextorientation")}e(i,d,f);var y=f("hole");if(f("title.text")){var A=f("title.position",y?"middle center":"top center");y||"middle center"!==A||(i.title.position="top center"),l.coerceFont(f,"title.font",d.font)}f("sort"),f("direction"),f("rotation"),f("pull")}else i.visible=!1}}},{"../../lib":232,"../../plots/domain":309,"../bar/defaults":332,"./attributes":345,"fast-isnumeric":17}],349:[function(c,tt,V){"use strict";var t=c("../../components/fx/helpers").appendArrayMultiPointValues;tt.exports=function(l,o){var e={curveNumber:o.index,pointNumbers:l.pts,data:o._input,fullData:o,label:l.label,color:l.color,value:l.v,percent:l.percent,text:l.text,bbox:l.bbox,v:l.v};return 1===l.pts.length&&(e.pointNumber=e.i=l.pts[0]),t(e,o,l.pts),"funnelarea"===o.type&&(delete e.v,delete e.i),e}},{"../../components/fx/helpers":138}],350:[function(c,tt,V){"use strict";var t=c("../../lib");function l(o){return-1!==o.indexOf("e")?o.replace(/[.]?0+e/,"e"):-1!==o.indexOf(".")?o.replace(/[.]?0+$/,""):o}V.formatPiePercent=function(o,e){var n=l((100*o).toPrecision(3));return t.numSeparate(n,e)+"%"},V.formatPieValue=function(o,e){var n=l(o.toPrecision(10));return t.numSeparate(n,e)},V.getFirstFilled=function(o,e){if(Array.isArray(o))for(var n=0;n<e.length;n++){var s=o[e[n]];if(s||0===s||""===s)return s}},V.castOption=function(o,e){return Array.isArray(o)?V.getFirstFilled(o,e):o||void 0},V.getRotationAngle=function(o){return("auto"===o?0:o)*Math.PI/180}},{"../../lib":232}],351:[function(c,tt,V){"use strict";tt.exports={attributes:c("./attributes"),supplyDefaults:c("./defaults").supplyDefaults,supplyLayoutDefaults:c("./layout_defaults"),layoutAttributes:c("./layout_attributes"),calc:c("./calc").calc,crossTraceCalc:c("./calc").crossTraceCalc,plot:c("./plot").plot,style:c("./style"),styleOne:c("./style_one"),moduleType:"trace",name:"pie",basePlotModule:c("./base_plot"),categories:["pie-like","pie","showLegend"],meta:{}}},{"./attributes":345,"./base_plot":346,"./calc":347,"./defaults":348,"./layout_attributes":352,"./layout_defaults":353,"./plot":354,"./style":355,"./style_one":356}],352:[function(c,tt,V){"use strict";tt.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},{}],353:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("./layout_attributes");tt.exports=function(o,e){function n(s,a){return t.coerce(o,e,l,s,a)}n("hiddenlabels"),n("piecolorway",e.colorway),n("extendpiecolors")}},{"../../lib":232,"./layout_attributes":352}],354:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../../plots/plots"),o=c("../../components/fx"),e=c("../../components/color"),n=c("../../components/drawing"),s=c("../../lib"),a=s.strScale,i=s.strTranslate,r=c("../../lib/svg_text_utils"),d=c("../bar/uniform_text"),f=d.recordMinTextSize,h=d.clearMinTextSize,p=c("../bar/constants").TEXTPAD,T=c("./helpers"),w=c("./event_data"),x=c("../../lib").isValidTextValue;function m(P,J,E){var N=E[0],Z=N.cx,U=N.cy,D=N.trace,M="funnelarea"===D.type;"_hasHoverLabel"in D||(D._hasHoverLabel=!1),"_hasHoverEvent"in D||(D._hasHoverEvent=!1),P.on("mouseover",function(j){var C=J._fullLayout,G=J._fullData[D.index];if(!J._dragging&&!1!==C.hovermode){var K=G.hoverinfo;if(Array.isArray(K)&&(K=o.castHoverinfo({hoverinfo:[T.castOption(K,j.pts)],_module:D._module},C,0)),"all"===K&&(K="label+text+value+percent+name"),G.hovertemplate||"none"!==K&&"skip"!==K&&K){var $=j.rInscribed||0,Q=Z+j.pxmid[0]*(1-$),ut=U+j.pxmid[1]*(1-$),ct=C.separators,gt=[];if(K&&-1!==K.indexOf("label")&&gt.push(j.label),j.text=T.castOption(G.hovertext||G.text,j.pts),K&&-1!==K.indexOf("text")){var vt=j.text;s.isValidTextValue(vt)&&gt.push(vt)}j.value=j.v,j.valueLabel=T.formatPieValue(j.v,ct),K&&-1!==K.indexOf("value")&&gt.push(j.valueLabel),j.percent=j.v/N.vTotal,j.percentLabel=T.formatPiePercent(j.percent,ct),K&&-1!==K.indexOf("percent")&&gt.push(j.percentLabel);var _t=G.hoverlabel,kt=_t.font,Et=[];o.loneHover({trace:D,x0:Q-$*N.r,x1:Q+$*N.r,y:ut,_x0:M?Z+j.TL[0]:Q-$*N.r,_x1:M?Z+j.TR[0]:Q+$*N.r,_y0:M?U+j.TL[1]:ut-$*N.r,_y1:M?U+j.BL[1]:ut+$*N.r,text:gt.join("<br>"),name:G.hovertemplate||-1!==K.indexOf("name")?G.name:void 0,idealAlign:j.pxmid[0]<0?"left":"right",color:T.castOption(_t.bgcolor,j.pts)||j.color,borderColor:T.castOption(_t.bordercolor,j.pts),fontFamily:T.castOption(kt.family,j.pts),fontSize:T.castOption(kt.size,j.pts),fontColor:T.castOption(kt.color,j.pts),nameLength:T.castOption(_t.namelength,j.pts),textAlign:T.castOption(_t.align,j.pts),hovertemplate:T.castOption(G.hovertemplate,j.pts),hovertemplateLabels:j,eventData:[w(j,G)]},{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:J,inOut_bbox:Et}),j.bbox=Et[0],D._hasHoverLabel=!0}D._hasHoverEvent=!0,J.emit("plotly_hover",{points:[w(j,G)],event:t.event})}}),P.on("mouseout",function(j){var C=J._fullLayout,G=J._fullData[D.index],K=t.select(this).datum();D._hasHoverEvent&&(j.originalEvent=t.event,J.emit("plotly_unhover",{points:[w(K,G)],event:t.event}),D._hasHoverEvent=!1),D._hasHoverLabel&&(o.loneUnhover(C._hoverlayer.node()),D._hasHoverLabel=!1)}),P.on("click",function(j){J._dragging||!1===J._fullLayout.hovermode||(J._hoverdata=[w(j,J._fullData[D.index])],o.click(J,t.event))})}function y(P,J,E){var N=T.castOption(P.insidetextfont.color,J.pts);!N&&P._input.textfont&&(N=T.castOption(P._input.textfont.color,J.pts));var Z=T.castOption(P.insidetextfont.family,J.pts)||T.castOption(P.textfont.family,J.pts)||E.family,U=T.castOption(P.insidetextfont.size,J.pts)||T.castOption(P.textfont.size,J.pts)||E.size;return{color:N||e.contrast(J.color),family:Z,size:U}}function A(P,J){for(var E,N,Z=0;Z<P.length;Z++)if((N=(E=P[Z][0]).trace).title.text){var U=N.title.text;N._meta&&(U=s.templateString(U,N._meta));var D=n.tester.append("text").attr("data-notex",1).text(U).call(n.font,N.title.font).call(r.convertToTspans,J),M=n.bBox(D.node(),!0);E.titleBox={width:M.width,height:M.height},D.remove()}}function b(P,J,E){var N=E.r||J.rpx1,Z=J.rInscribed;if(J.startangle===J.stopangle)return{rCenter:1-Z,scale:0,rotate:0,textPosAngle:0};var U,D=J.ring,M=1===D&&Math.abs(J.startangle-J.stopangle)===2*Math.PI,j=J.halfangle,C=J.midangle,G=E.trace.insidetextorientation,K="horizontal"===G,$="tangential"===G,Q="radial"===G,ut="auto"===G,ct=[];if(!ut){var gt,vt=function(lt,at){if(Nt=(bt=J).stopangle,(Ot=bt.startangle)>(wt=lt)&&wt>Nt||Ot<wt&&wt<Nt){var dt=Math.abs(lt-J.startangle),mt=Math.abs(lt-J.stopangle),St=dt<mt?dt:mt;(U="tan"===at?L(P,N,D,St,0):k(P,N,D,St,Math.PI/2)).textPosAngle=lt,ct.push(U)}var bt,wt,Ot,Nt};if(K||$){for(gt=4;gt>=-4;gt-=2)vt(Math.PI*gt,"tan");for(gt=4;gt>=-4;gt-=2)vt(Math.PI*(gt+1),"tan")}if(K||Q){for(gt=4;gt>=-4;gt-=2)vt(Math.PI*(gt+1.5),"rad");for(gt=4;gt>=-4;gt-=2)vt(Math.PI*(gt+.5),"rad")}}if(M||ut||K){var _t=Math.sqrt(P.width*P.width+P.height*P.height);if((U={scale:Z*N*2/_t,rCenter:1-Z,rotate:0}).textPosAngle=(J.startangle+J.stopangle)/2,U.scale>=1)return U;ct.push(U)}(ut||Q)&&((U=k(P,N,D,j,C)).textPosAngle=(J.startangle+J.stopangle)/2,ct.push(U)),(ut||$)&&((U=L(P,N,D,j,C)).textPosAngle=(J.startangle+J.stopangle)/2,ct.push(U));for(var kt=0,Et=0,It=0;It<ct.length;It++){var Lt=ct[It].scale;if(Et<Lt&&(Et=Lt,kt=It),!ut&&Et>=1)break}return ct[kt]}function k(P,J,E,N,Z){J=Math.max(0,J-2*p);var U=P.width/P.height,D=I(U,N,J,E);return{scale:2*D/P.height,rCenter:g(U,D/J),rotate:S(Z)}}function L(P,J,E,N,Z){J=Math.max(0,J-2*p);var U=P.height/P.width,D=I(U,N,J,E);return{scale:2*D/P.width,rCenter:g(U,D/J),rotate:S(Z+Math.PI/2)}}function g(P,J){return Math.cos(J)-P*J}function S(P){return(180/Math.PI*P+720)%180-90}function I(P,J,E,N){var Z=P+1/(2*Math.tan(J));return E*Math.min(1/(Math.sqrt(Z*Z+.5)+Z),N/(Math.sqrt(P*P+N/2)+P))}function v(P,J){return P.v!==J.vTotal||J.trace.hole?Math.min(1/(1+1/Math.sin(P.halfangle)),P.ring/2):1}function R(P,J){var E=J.pxmid[0],N=J.pxmid[1],Z=P.width/2,U=P.height/2;return E<0&&(Z*=-1),N<0&&(U*=-1),{scale:1,rCenter:1,rotate:0,x:Z+Math.abs(U)*(Z>0?1:-1)/2,y:U/(1+E*E/(N*N)),outside:!0}}function z(P,J){var E,N,Z,U=P.trace,D={x:P.cx,y:P.cy},M={tx:0,ty:0};M.ty+=U.title.font.size,Z=B(U),-1!==U.title.position.indexOf("top")?(D.y-=(1+Z)*P.r,M.ty-=P.titleBox.height):-1!==U.title.position.indexOf("bottom")&&(D.y+=(1+Z)*P.r);var C,G=P.r/(void 0===(C=P.trace.aspectratio)?1:C),K=J.w*(U.domain.x[1]-U.domain.x[0])/2;return-1!==U.title.position.indexOf("left")?(K+=G,D.x-=(1+Z)*G,M.tx+=P.titleBox.width/2):-1!==U.title.position.indexOf("center")?K*=2:-1!==U.title.position.indexOf("right")&&(K+=G,D.x+=(1+Z)*G,M.tx-=P.titleBox.width/2),E=K/P.titleBox.width,N=F(P,J)/P.titleBox.height,{x:D.x,y:D.y,scale:Math.min(E,N),tx:M.tx,ty:M.ty}}function F(P,J){var E=P.trace;return Math.min(P.titleBox.height,J.h*(E.domain.y[1]-E.domain.y[0])/2)}function B(P){var J,E=P.pull;if(!E)return 0;if(Array.isArray(E))for(E=0,J=0;J<P.pull.length;J++)P.pull[J]>E&&(E=P.pull[J]);return E}function H(P,J){for(var E=[],N=0;N<P.length;N++){var Z=P[N][0],U=Z.trace,D=U.domain,M=J.w*(D.x[1]-D.x[0]),j=J.h*(D.y[1]-D.y[0]);U.title.text&&"middle center"!==U.title.position&&(j-=F(Z,J));var G=j/2;"funnelarea"!==U.type||U.scalegroup||(G/=U.aspectratio),Z.r=Math.min(M/2,G)/(1+B(U)),Z.cx=J.l+J.w*(U.domain.x[1]+U.domain.x[0])/2,Z.cy=J.t+J.h*(1-U.domain.y[0])-j/2,U.title.text&&-1!==U.title.position.indexOf("bottom")&&(Z.cy-=F(Z,J)),U.scalegroup&&-1===E.indexOf(U.scalegroup)&&E.push(U.scalegroup)}!function(K,$){for(var Q,ut,ct,gt=0;gt<$.length;gt++){var vt=1/0,_t=$[gt];for(ut=0;ut<K.length;ut++)if((ct=(Q=K[ut][0]).trace).scalegroup===_t){var kt;if("pie"===ct.type)kt=Q.r*Q.r;else if("funnelarea"===ct.type){var Et,It;ct.aspectratio>1?It=(Et=Q.r)/ct.aspectratio:Et=(It=Q.r)*ct.aspectratio,kt=(Et*=(1+ct.baseratio)/2)*It}vt=Math.min(vt,kt/Q.vTotal)}for(ut=0;ut<K.length;ut++)if((ct=(Q=K[ut][0]).trace).scalegroup===_t){var Lt=vt*Q.vTotal;"funnelarea"===ct.type&&(Lt/=(1+ct.baseratio)/2,Lt/=ct.aspectratio),Q.r=Math.sqrt(Lt)}}}(P,E)}function X(P,J){return[P*Math.sin(J),-P*Math.cos(J)]}function ot(P,J,E){var kt,N=P._fullLayout,Z=E.trace,U=Z.texttemplate,D=Z.textinfo;if(!U&&D&&"none"!==D){var M,j=D.split("+"),C=function(kt){return-1!==j.indexOf(kt)},G=C("label"),K=C("text"),$=C("value"),Q=C("percent"),ut=N.separators;if(M=G?[J.label]:[],K){var ct=T.getFirstFilled(Z.text,J.pts);x(ct)&&M.push(ct)}$&&M.push(T.formatPieValue(J.v,ut)),Q&&M.push(T.formatPiePercent(J.v/E.vTotal,ut)),J.text=M.join("<br>")}if(U){var gt=s.castOption(Z,J.i,"texttemplate");if(gt){var vt={label:(kt=J).label,value:kt.v,valueLabel:T.formatPieValue(kt.v,N.separators),percent:kt.v/E.vTotal,percentLabel:T.formatPiePercent(kt.v/E.vTotal,N.separators),color:kt.color,text:kt.text,customdata:s.castOption(Z,kt.i,"customdata")},_t=T.getFirstFilled(Z.text,J.pts);(x(_t)||""===_t)&&(vt.text=_t),J.text=s.texttemplateString(gt,vt,P._fullLayout._d3locale,vt,Z._meta||{})}else J.text=""}}function q(P,J){var E=P.rotate*Math.PI/180,N=Math.cos(E),Z=Math.sin(E),U=(J.left+J.right)/2,D=(J.top+J.bottom)/2;P.textX=U*N-D*Z,P.textY=U*Z+D*N,P.noCenter=!0}tt.exports={plot:function(P,J){var E=P._fullLayout,N=E._size;h("pie",E),A(J,P),H(J,N);var Z=s.makeTraceGroups(E._pielayer,J,"trace").each(function(U){var D=t.select(this),M=U[0],j=M.trace;(function(C){var G,K,$,Q=C[0],ut=Q.r,ct=Q.trace,gt=T.getRotationAngle(ct.rotation),vt=2*Math.PI/Q.vTotal,_t="px0",kt="px1";if("counterclockwise"===ct.direction){for(G=0;G<C.length&&C[G].hidden;G++);if(G===C.length)return;gt+=vt*C[G].v,vt*=-1,_t="px1",kt="px0"}for($=X(ut,gt),G=0;G<C.length;G++)(K=C[G]).hidden||(K[_t]=$,K.startangle=gt,K.pxmid=X(ut,gt+=vt*K.v/2),K.midangle=gt,$=X(ut,gt+=vt*K.v/2),K.stopangle=gt,K[kt]=$,K.largeArc=K.v>Q.vTotal/2?1:0,K.halfangle=Math.PI*Math.min(K.v/Q.vTotal,.5),K.ring=1-ct.hole,K.rInscribed=v(K,Q))})(U),D.attr("stroke-linejoin","round"),D.each(function(){var C=t.select(this).selectAll("g.slice").data(U);C.enter().append("g").classed("slice",!0),C.exit().remove();var G=[[[],[]],[[],[]]],K=!1;C.each(function(kt,Et){if(kt.hidden)t.select(this).selectAll("path,g").remove();else{kt.pointNumber=kt.i,kt.curveNumber=j.index,G[kt.pxmid[1]<0?0:1][kt.pxmid[0]<0?0:1].push(kt);var It=M.cx,Lt=M.cy,lt=t.select(this),at=lt.selectAll("path.surface").data([kt]);if(at.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),lt.call(m,P,U),j.pull){var dt=+T.castOption(j.pull,kt.pts)||0;dt>0&&(It+=dt*kt.pxmid[0],Lt+=dt*kt.pxmid[1])}kt.cxFinal=It,kt.cyFinal=Lt;var mt=j.hole;if(kt.v===M.vTotal){var St="M"+(It+kt.px0[0])+","+(Lt+kt.px0[1])+Dt(kt.px0,kt.pxmid,!0,1)+Dt(kt.pxmid,kt.px0,!0,1)+"Z";at.attr("d",mt?"M"+(It+mt*kt.px0[0])+","+(Lt+mt*kt.px0[1])+Dt(kt.px0,kt.pxmid,!1,mt)+Dt(kt.pxmid,kt.px0,!1,mt)+"Z"+St:St)}else{var bt=Dt(kt.px0,kt.px1,!0,1);if(mt){var wt=1-mt;at.attr("d","M"+(It+mt*kt.px1[0])+","+(Lt+mt*kt.px1[1])+Dt(kt.px1,kt.px0,!1,mt)+"l"+wt*kt.px0[0]+","+wt*kt.px0[1]+bt+"Z")}else at.attr("d","M"+It+","+Lt+"l"+kt.px0[0]+","+kt.px0[1]+bt+"Z")}ot(P,kt,M);var Ot=T.castOption(j.textposition,kt.pts),Nt=lt.selectAll("g.slicetext").data(kt.text&&"none"!==Ot?[0]:[]);Nt.enter().append("g").classed("slicetext",!0),Nt.exit().remove(),Nt.each(function(){var Tt,At,qt,zt=s.ensureSingle(t.select(this),"text","",function(Tt){Tt.attr("data-notex",1)}),Vt=s.ensureUniformFontSize(P,"outside"===Ot?(qt=E.font,{color:T.castOption((Tt=j).outsidetextfont.color,(At=kt).pts)||T.castOption(Tt.textfont.color,At.pts)||qt.color,family:T.castOption(Tt.outsidetextfont.family,At.pts)||T.castOption(Tt.textfont.family,At.pts)||qt.family,size:T.castOption(Tt.outsidetextfont.size,At.pts)||T.castOption(Tt.textfont.size,At.pts)||qt.size}):y(j,kt,E.font));zt.text(kt.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(n.font,Vt).call(r.convertToTspans,P);var Ct,Zt=n.bBox(zt.node());if("outside"===Ot)Ct=R(Zt,kt);else if(Ct=b(Zt,kt,M),"auto"===Ot&&Ct.scale<1){var Kt=s.ensureUniformFontSize(P,j.outsidetextfont);zt.call(n.font,Kt),Ct=R(Zt=n.bBox(zt.node()),kt)}var Jt=Ct.textPosAngle,de=void 0===Jt?kt.pxmid:X(M.r,Jt);if(Ct.targetX=It+de[0]*Ct.rCenter+(Ct.x||0),Ct.targetY=Lt+de[1]*Ct.rCenter+(Ct.y||0),q(Ct,Zt),Ct.outside){var $t=Ct.targetY;kt.yLabelMin=$t-Zt.height/2,kt.yLabelMid=$t,kt.yLabelMax=$t+Zt.height/2,kt.labelExtraX=0,kt.labelExtraY=0,K=!0}Ct.fontSize=Vt.size,f(j.type,Ct,E),U[Et].transform=Ct,zt.attr("transform",s.getTextTransform(Ct))})}function Dt(zt,Vt,Ct,Zt){return"a"+Zt*M.r+","+Zt*M.r+" 0 "+kt.largeArc+(Ct?" 1 ":" 0 ")+Zt*(Vt[0]-zt[0])+","+Zt*(Vt[1]-zt[1])}});var Et,$=t.select(this).selectAll("g.titletext").data(j.title.text?[0]:[]);if($.enter().append("g").classed("titletext",!0),$.exit().remove(),$.each(function(){var kt,Lt,lt,Et=s.ensureSingle(t.select(this),"text","",function(Lt){Lt.attr("data-notex",1)}),It=j.title.text;j._meta&&(It=s.templateString(It,j._meta)),Et.text(It).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(n.font,j.title.font).call(r.convertToTspans,P),kt="middle center"===j.title.position?(Lt=M,lt=Math.sqrt(Lt.titleBox.width*Lt.titleBox.width+Lt.titleBox.height*Lt.titleBox.height),{x:Lt.cx,y:Lt.cy,scale:Lt.trace.hole*Lt.r*2/lt,tx:0,ty:-Lt.titleBox.height/2+Lt.trace.title.font.size}):z(M,N),Et.attr("transform",i(kt.x,kt.y)+a(Math.min(1,kt.scale))+i(kt.tx,kt.ty))}),K&&function(kt,Et){var It,Lt,lt,at,dt,mt,St,bt,wt,Ot,Nt,Dt,zt;function Vt(Jt,de){return Jt.pxmid[1]-de.pxmid[1]}function Ct(Jt,de){return de.pxmid[1]-Jt.pxmid[1]}function Zt(Jt,de){de||(de={});var $t,Tt,At,qt,ue=de.labelExtraY+(Lt?de.yLabelMax:de.yLabelMin),Te=Lt?Jt.yLabelMin:Jt.yLabelMax,Ce=Lt?Jt.yLabelMax:Jt.yLabelMin,xe=Jt.cyFinal+dt(Jt.px0[1],Jt.px1[1]),ye=ue-Te;if(ye*St>0&&(Jt.labelExtraY=ye),Array.isArray(Et.pull))for(Tt=0;Tt<Ot.length;Tt++)(At=Ot[Tt])===Jt||(T.castOption(Et.pull,Jt.pts)||0)>=(T.castOption(Et.pull,At.pts)||0)||((Jt.pxmid[1]-At.pxmid[1])*St>0?(ye=At.cyFinal+dt(At.px0[1],At.px1[1])-Te-Jt.labelExtraY)*St>0&&(Jt.labelExtraY+=ye):(Ce+Jt.labelExtraY-xe)*St>0&&($t=3*mt*Math.abs(Tt-Ot.indexOf(Jt)),(qt=At.cxFinal+at(At.px0[0],At.px1[0])+$t-(Jt.cxFinal+Jt.pxmid[0])-Jt.labelExtraX)*mt>0&&(Jt.labelExtraX+=qt)))}for(Lt=0;Lt<2;Lt++)for(lt=Lt?Vt:Ct,dt=Lt?Math.max:Math.min,St=Lt?1:-1,It=0;It<2;It++){for(at=It?Math.max:Math.min,mt=It?1:-1,(bt=kt[Lt][It]).sort(lt),Ot=(wt=kt[1-Lt][It]).concat(bt),Dt=[],Nt=0;Nt<bt.length;Nt++)void 0!==bt[Nt].yLabelMid&&Dt.push(bt[Nt]);for(zt=!1,Nt=0;Lt&&Nt<wt.length;Nt++)if(void 0!==wt[Nt].yLabelMid){zt=wt[Nt];break}for(Nt=0;Nt<Dt.length;Nt++){var Kt=Nt&&Dt[Nt-1];zt&&!Nt&&(Kt=zt),Zt(Dt[Nt],Kt)}}}(G,j),Et=j,C.each(function(It){var Lt=t.select(this);if(It.labelExtraX||It.labelExtraY){var lt=Lt.select("g.slicetext text");It.transform.targetX+=It.labelExtraX,It.transform.targetY+=It.labelExtraY,lt.attr("transform",s.getTextTransform(It.transform));var at=It.cxFinal+It.pxmid[0],dt="M"+at+","+(It.cyFinal+It.pxmid[1]),mt=(It.yLabelMax-It.yLabelMin)*(It.pxmid[0]<0?-1:1)/4;if(It.labelExtraX){var St=It.labelExtraX*It.pxmid[1]/It.pxmid[0],bt=It.yLabelMid+It.labelExtraY-(It.cyFinal+It.pxmid[1]);Math.abs(St)>Math.abs(bt)?dt+="l"+bt*It.pxmid[0]/It.pxmid[1]+","+bt+"H"+(at+It.labelExtraX+mt):dt+="l"+It.labelExtraX+","+St+"v"+(bt-St)+"h"+mt}else dt+="V"+(It.yLabelMid+It.labelExtraY)+"h"+mt;s.ensureSingle(Lt,"path","textline").call(e.stroke,Et.outsidetextfont.color).attr({"stroke-width":Math.min(2,Et.outsidetextfont.size/8),d:dt,fill:"none"})}else Lt.select("path.textline").remove()}),K&&j.automargin){var Q=n.bBox(D.node()),ut=j.domain,vt=(N.w*(ut.x[1]-ut.x[0])*.5-M.r)/N.w,_t=(N.h*(ut.y[1]-ut.y[0])*.5-M.r)/N.h;l.autoMargin(P,"pie."+j.uid+".automargin",{xl:ut.x[0]-vt,xr:ut.x[1]+vt,yb:ut.y[0]-_t,yt:ut.y[1]+_t,l:Math.max(M.cx-M.r-Q.left,0),r:Math.max(Q.right-(M.cx+M.r),0),b:Math.max(Q.bottom-(M.cy+M.r),0),t:Math.max(M.cy-M.r-Q.top,0),pad:5})}})});setTimeout(function(){Z.selectAll("tspan").each(function(){var U=t.select(this);U.attr("dy")&&U.attr("dy",U.attr("dy"))})},0)},formatSliceLabel:ot,transformInsideText:b,determineInsideTextFont:y,positionTitleOutside:z,prerenderTitles:A,layoutAreas:H,attachFxHandlers:m,computeTransform:q}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx":142,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../bar/constants":330,"../bar/uniform_text":344,"./event_data":349,"./helpers":350,"@plotly/d3":11}],355:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("./style_one"),o=c("../bar/uniform_text").resizeText;tt.exports=function(e){var n=e._fullLayout._pielayer.selectAll(".trace");o(e,n,"pie"),n.each(function(s){var a=s[0].trace,i=t.select(this);i.style({opacity:a.opacity}),i.selectAll("path.surface").each(function(r){t.select(this).call(l,r,a)})})}},{"../bar/uniform_text":344,"./style_one":356,"@plotly/d3":11}],356:[function(c,tt,V){"use strict";var t=c("../../components/color"),l=c("./helpers").castOption;tt.exports=function(o,e,n){var s=n.marker.line,a=l(s.color,e.pts)||t.defaultLine,i=l(s.width,e.pts)||0;o.style("stroke-width",i).call(t.fill,e.color).call(t.stroke,a)}},{"../../components/color":102,"./helpers":350}],357:[function(c,tt,V){"use strict";var t=c("../../lib");tt.exports=function(l,o){for(var e=0;e<l.length;e++)l[e].i=e;t.mergeArray(o.text,l,"tx"),t.mergeArray(o.texttemplate,l,"txt"),t.mergeArray(o.hovertext,l,"htx"),t.mergeArray(o.customdata,l,"data"),t.mergeArray(o.textposition,l,"tp"),o.textfont&&(t.mergeArrayCastPositive(o.textfont.size,l,"ts"),t.mergeArray(o.textfont.color,l,"tc"),t.mergeArray(o.textfont.family,l,"tf"));var n=o.marker;if(n){t.mergeArrayCastPositive(n.size,l,"ms"),t.mergeArrayCastPositive(n.opacity,l,"mo"),t.mergeArray(n.symbol,l,"mx"),t.mergeArray(n.color,l,"mc");var s=n.line;n.line&&(t.mergeArray(s.color,l,"mlc"),t.mergeArrayCastPositive(s.width,l,"mlw"));var a=n.gradient;a&&"none"!==a.type&&(t.mergeArray(a.type,l,"mgt"),t.mergeArray(a.color,l,"mgc"))}}},{"../../lib":232}],358:[function(c,tt,V){"use strict";var t=c("../../plots/cartesian/axis_format_attributes").axisHoverFormat,l=c("../../plots/template_attributes").texttemplateAttrs,o=c("../../plots/template_attributes").hovertemplateAttrs,e=c("../../components/colorscale/attributes"),n=c("../../plots/font_attributes"),s=c("../../components/drawing/attributes").dash,a=c("../../components/drawing/attributes").pattern,i=c("../../components/drawing"),r=c("./constants"),d=c("../../lib/extend").extendFlat;tt.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:t("x"),yhoverformat:t("y"),stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:l({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:o({},{keys:r.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:d({},s,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:a,marker:d({symbol:{valType:"enumerated",values:i.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:d({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},e("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},e("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:n({editType:"calc",colorEditType:"style",arrayOk:!0})}},{"../../components/colorscale/attributes":109,"../../components/drawing":124,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":310,"../../plots/template_attributes":317,"./constants":362}],359:[function(c,tt,V){"use strict";var t=c("fast-isnumeric"),l=c("../../lib"),o=c("../../plots/cartesian/axes"),e=c("../../plots/cartesian/align_period"),n=c("../../constants/numerical").BADNUM,s=c("./subtypes"),a=c("./colorscale_calc"),i=c("./arrays_to_calcdata"),r=c("./calc_selection");function d(w,x,m,y,A,b,k){var L=x._length,g=w._fullLayout,S=m._id,I=y._id,v=g._firstScatter[p(x)]===x.uid,R=(T(x,g,m,y)||{}).orientation,z=x.fill;m._minDtick=0,y._minDtick=0;var F={padded:!0},B={padded:!0};k&&(F.ppad=B.ppad=k);var H=L<2||A[0]!==A[L-1]||b[0]!==b[L-1];H&&("tozerox"===z||"tonextx"===z&&(v||"h"===R))?F.tozero=!0:(x.error_y||{}).visible||"tonexty"!==z&&"tozeroy"!==z&&(s.hasMarkers(x)||s.hasText(x))||(F.padded=!1,F.ppad=0),H&&("tozeroy"===z||"tonexty"===z&&(v||"v"===R))?B.tozero=!0:"tonextx"!==z&&"tozerox"!==z||(B.padded=!1),S&&(x._extremes[S]=o.findExtremes(m,A,F)),I&&(x._extremes[I]=o.findExtremes(y,b,B))}function f(w,x){if(s.hasMarkers(w)){var m,y=w.marker,A=1.6*(w.marker.sizeref||1);if(m="area"===w.marker.sizemode?function(S){return Math.max(Math.sqrt((S||0)/A),3)}:function(S){return Math.max((S||0)/A,3)},l.isArrayOrTypedArray(y.size)){var b={type:"linear"};o.setConvert(b);for(var k=b.makeCalcdata(w.marker,"size"),L=new Array(x),g=0;g<x;g++)L[g]=m(k[g]);return L}return m(y.size)}}function h(w,x){var m=p(x),y=w._firstScatter;y[m]||(y[m]=x.uid)}function p(w){var x=w.stackgroup;return w.xaxis+w.yaxis+w.type+(x?"-"+x:"")}function T(w,x,m,y){var A=w.stackgroup;if(A){var b=x._scatterStackOpts[m._id+y._id][A],k="v"===b.orientation?y:m;return"linear"===k.type||"log"===k.type?b:void 0}}tt.exports={calc:function(w,x){var m,y,A,b,k,L,g=w._fullLayout,S=o.getFromId(w,x.xaxis||"x"),I=o.getFromId(w,x.yaxis||"y"),v=S.makeCalcdata(x,"x"),R=I.makeCalcdata(x,"y"),z=e(x,S,"x",v),F=e(x,I,"y",R),B=z.vals,H=F.vals,X=x._length,ot=new Array(X),q=x.ids,P=T(x,g,S,I),J=!1;h(g,x);var E,N="x",Z="y";P?(l.pushUnique(P.traceIndices,x._expandedIndex),(m="v"===P.orientation)?(Z="s",E="x"):(N="s",E="y"),k="interpolate"===P.stackgaps):d(w,x,S,I,B,H,f(x,X));var U=!!x.xperiodalignment,D=!!x.yperiodalignment;for(y=0;y<X;y++){var M=ot[y]={},j=t(B[y]),C=t(H[y]);j&&C?(M[N]=B[y],M[Z]=H[y],U&&(M.orig_x=v[y],M.xEnd=z.ends[y],M.xStart=z.starts[y]),D&&(M.orig_y=R[y],M.yEnd=F.ends[y],M.yStart=F.starts[y])):P&&(m?j:C)?(M[E]=m?B[y]:H[y],M.gap=!0,k?(M.s=n,J=!0):M.s=0):M[N]=M[Z]=n,q&&(M.id=String(q[y]))}if(i(ot,x),a(w,x),r(ot,x),P){for(y=0;y<ot.length;)ot[y][E]===n?ot.splice(y,1):y++;if(l.sort(ot,function(Q,ut){return Q[E]-ut[E]||Q.i-ut.i}),J){for(y=0;y<ot.length-1&&ot[y].gap;)y++;for((L=ot[y].s)||(L=ot[y].s=0),A=0;A<y;A++)ot[A].s=L;for(b=ot.length-1;b>y&&ot[b].gap;)b--;for(L=ot[b].s,A=ot.length-1;A>b;A--)ot[A].s=L;for(;y<b;)if(ot[++y].gap){for(A=y+1;ot[A].gap;)A++;for(var G=ot[y-1][E],K=ot[y-1].s,$=(ot[A].s-K)/(ot[A][E]-G);y<A;)ot[y].s=K+(ot[y][E]-G)*$,y++}}}return ot},calcMarkerSize:f,calcAxisExpansion:d,setFirstScatter:h,getStackOpts:T}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"./arrays_to_calcdata":357,"./calc_selection":360,"./colorscale_calc":361,"./subtypes":383,"fast-isnumeric":17}],360:[function(c,tt,V){"use strict";var t=c("../../lib");tt.exports=function(l,o){t.isArrayOrTypedArray(o.selectedpoints)&&t.tagSelected(l,o)}},{"../../lib":232}],361:[function(c,tt,V){"use strict";var t=c("../../components/colorscale/helpers").hasColorscale,l=c("../../components/colorscale/calc"),o=c("./subtypes");tt.exports=function(e,n){o.hasLines(n)&&t(n,"line")&&l(e,n,{vals:n.line.color,containerStr:"line",cLetter:"c"}),o.hasMarkers(n)&&(t(n,"marker")&&l(e,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),t(n,"marker.line")&&l(e,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"./subtypes":383}],362:[function(c,tt,V){"use strict";tt.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],363:[function(c,tt,V){"use strict";var t=c("./calc");function l(o,e,n,s,a,i,r){a[s]=!0;var h,p,w,x,m,d={i:null,gap:!0,s:0};if(d[r]=n,o.splice(e,0,d),e&&n===o[e-1][r]){var f=o[e-1];d.s=f.s,d.i=f.i,d.gap=f.gap}else i&&(d.s=(w=r,x=(h=o)[(p=e)-1],(m=h[p+1])?x?x.s+(m.s-x.s)*(n-x[w])/(m[w]-x[w]):m.s:x.s));e||(o[0].t=o[1].t,o[0].trace=o[1].trace,delete o[1].t,delete o[1].trace)}tt.exports=function(o,e){var n=e.xaxis,s=e.yaxis,i=o._fullLayout._scatterStackOpts[n._id+s._id];if(i){var r,d,f,h,p,T,w,x,m,y,A,b,k,L,g,S=o.calcdata;for(var I in i){var v=(y=i[I]).traceIndices;if(v.length){for(A="interpolate"===y.stackgaps,b=y.groupnorm,"v"===y.orientation?(k="x",L="y"):(k="y",L="x"),g=new Array(v.length),r=0;r<g.length;r++)g[r]=!1;T=S[v[0]];var R=new Array(T.length);for(r=0;r<T.length;r++)R[r]=T[r][k];for(r=1;r<v.length;r++){for(p=S[v[r]],d=f=0;d<p.length;d++){for(w=p[d][k];w>R[f]&&f<R.length;f++)l(p,d,R[f],r,g,A,k),d++;if(w!==R[f]){for(h=0;h<r;h++)l(S[v[h]],f,w,h,g,A,k);R.splice(f,0,w)}f++}for(;f<R.length;f++)l(p,d,R[f],r,g,A,k),d++}var z=R.length;for(d=0;d<T.length;d++){for(x=T[d][L]=T[d].s,r=1;r<v.length;r++)(p=S[v[r]])[0].trace._rawLength=p[0].trace._length,p[0].trace._length=z,p[d][L]=x+=p[d].s;if(b)for(m=("fraction"===b?x:x/100)||1,r=0;r<v.length;r++){var F=S[v[r]][d];F[L]/=m,F.sNorm=F.s/m}}for(r=0;r<v.length;r++){var B=(p=S[v[r]])[0].trace,H=t.calcMarkerSize(B,B._rawLength),X=Array.isArray(H);if(H&&g[r]||X){var ot=H;for(H=new Array(z),d=0;d<z;d++)H[d]=p[d].gap?0:X?ot[p[d].i]:ot}var q=new Array(z),P=new Array(z);for(d=0;d<z;d++)q[d]=p[d].x,P[d]=p[d].y;t.calcAxisExpansion(o,B,n,s,q,P,H),p[0].t.orientation=y.orientation}}}}}},{"./calc":359}],364:[function(c,tt,V){"use strict";tt.exports=function(t){for(var l=0;l<t.length;l++){var o=t[l];if("scatter"===o.type){var e=o.fill;if("none"!==e&&"toself"!==e&&(o.opacity=void 0,"tonexty"===e||"tonextx"===e))for(var n=l-1;n>=0;n--){var s=t[n];if("scatter"===s.type&&s.xaxis===o.xaxis&&s.yaxis===o.yaxis){s.opacity=void 0;break}}}}}},{}],365:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../registry"),o=c("./attributes"),e=c("./constants"),n=c("./subtypes"),s=c("./xy_defaults"),a=c("./period_defaults"),i=c("./stack_defaults"),r=c("./marker_defaults"),d=c("./line_defaults"),f=c("./line_shape_defaults"),h=c("./text_defaults"),p=c("./fillcolor_defaults"),T=c("../../lib").coercePattern;tt.exports=function(w,x,m,y){function A(R,z){return t.coerce(w,x,o,R,z)}var b=s(w,x,y,A);if(b||(x.visible=!1),x.visible){a(w,x,y,A),A("xhoverformat"),A("yhoverformat");var k=i(w,x,y,A),L=!k&&b<e.PTS_LINESONLY?"lines+markers":"lines";A("text"),A("hovertext"),A("mode",L),n.hasLines(x)&&(d(w,x,m,y,A),f(w,x,A),A("connectgaps"),A("line.simplify")),n.hasMarkers(x)&&r(w,x,m,y,A,{gradient:!0}),n.hasText(x)&&(A("texttemplate"),h(w,x,y,A));var g=[];(n.hasMarkers(x)||n.hasText(x))&&(A("cliponaxis"),A("marker.maxdisplayed"),g.push("points")),A("fill",k?k.fillDflt:"none"),"none"!==x.fill&&(p(w,x,m,A),n.hasLines(x)||f(w,x,A),T(A,"fillpattern",x.fillcolor,!1));var S=(x.line||{}).color,I=(x.marker||{}).color;"tonext"!==x.fill&&"toself"!==x.fill||g.push("fills"),A("hoveron",g.join("+")||"points"),"fills"!==x.hoveron&&A("hovertemplate");var v=l.getComponentMethod("errorbars","supplyDefaults");v(w,x,S||I||m,{axis:"y"}),v(w,x,S||I||m,{axis:"x",inherit:"y"}),t.coerceSelectionMarkerOpacity(x,A)}}},{"../../lib":232,"../../registry":318,"./attributes":358,"./constants":362,"./fillcolor_defaults":366,"./line_defaults":371,"./line_shape_defaults":373,"./marker_defaults":377,"./period_defaults":378,"./stack_defaults":381,"./subtypes":383,"./text_defaults":384,"./xy_defaults":385}],366:[function(c,tt,V){"use strict";var t=c("../../components/color"),l=c("../../lib").isArrayOrTypedArray;tt.exports=function(o,e,n,s){var a=!1;if(e.marker){var i=e.marker.color,r=(e.marker.line||{}).color;i&&!l(i)?a=i:r&&!l(r)&&(a=r)}s("fillcolor",t.addOpacity((e.line||{}).color||a||n,.5))}},{"../../components/color":102,"../../lib":232}],367:[function(c,tt,V){"use strict";var t=c("../../plots/cartesian/axes");tt.exports=function(l,o,e){var n={},s={_fullLayout:e},a=t.getFromTrace(s,o,"x"),i=t.getFromTrace(s,o,"y");return n.xLabel=t.tickText(a,a.c2l(l.x),!0).text,n.yLabel=t.tickText(i,i.c2l(l.y),!0).text,n}},{"../../plots/cartesian/axes":279}],368:[function(c,tt,V){"use strict";var t=c("../../components/color"),l=c("./subtypes");tt.exports=function(o,e){var n,s;if("lines"===o.mode)return(n=o.line.color)&&t.opacity(n)?n:o.fillcolor;if("none"===o.mode)return o.fill?o.fillcolor:"";var a=e.mcc||(o.marker||{}).color,i=e.mlcc||((o.marker||{}).line||{}).color;return(s=a&&t.opacity(a)?a:i&&t.opacity(i)&&(e.mlw||((o.marker||{}).line||{}).width)?i:"")?t.opacity(s)<.3?t.addOpacity(s,.3):s:(n=(o.line||{}).color)&&t.opacity(n)&&l.hasLines(o)&&o.line.width?n:o.fillcolor}},{"../../components/color":102,"./subtypes":383}],369:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../components/fx"),o=c("../../registry"),e=c("./get_trace_color"),n=c("../../components/color"),s=t.fillText;tt.exports=function(a,i,r,d){var f=a.cd,h=f[0].trace,p=a.xa,T=a.ya,w=p.c2p(i),x=T.c2p(r),m=[w,x],y=h.hoveron||"",A=-1!==h.mode.indexOf("markers")?3:.5,b=!!h.xperiodalignment,k=!!h.yperiodalignment;if(-1!==y.indexOf("points")){var L=function(ct){var gt=Math.max(A,ct.mrc||0),vt=p.c2p(ct.x)-w,_t=T.c2p(ct.y)-x;return Math.max(Math.sqrt(vt*vt+_t*_t)-gt,1-A/gt)},g=l.getDistanceFunction(d,function(ct){if(b){var gt=p.c2p(ct.xStart),vt=p.c2p(ct.xEnd);return w>=Math.min(gt,vt)&&w<=Math.max(gt,vt)?0:1/0}var _t=Math.max(3,ct.mrc||0),kt=1-1/_t,Et=Math.abs(p.c2p(ct.x)-w);return Et<_t?kt*Et/_t:Et-_t+kt},function(ct){if(k){var gt=T.c2p(ct.yStart),vt=T.c2p(ct.yEnd);return x>=Math.min(gt,vt)&&x<=Math.max(gt,vt)?0:1/0}var _t=Math.max(3,ct.mrc||0),kt=1-1/_t,Et=Math.abs(T.c2p(ct.y)-x);return Et<_t?kt*Et/_t:Et-_t+kt},L);if(l.getClosest(f,g,a),!1!==a.index){var S=f[a.index],I=p.c2p(S.x,!0),v=T.c2p(S.y,!0),R=S.mrc||1;a.index=S.i;var z=f[0].t.orientation,F=z&&(S.sNorm||S.s),B="h"===z?F:void 0!==S.orig_x?S.orig_x:S.x,H="v"===z?F:void 0!==S.orig_y?S.orig_y:S.y;return t.extendFlat(a,{color:e(h,S),x0:I-R,x1:I+R,xLabelVal:B,y0:v-R,y1:v+R,yLabelVal:H,spikeDistance:L(S),hovertemplate:h.hovertemplate}),s(S,h,a),o.getComponentMethod("errorbars","hoverInfo")(S,h,a),[a]}}if(-1!==y.indexOf("fills")&&h._polygons){var X,ot,q,P,J,E,Z,U,D=h._polygons,M=[],j=!1,C=1/0,G=-1/0,K=1/0,$=-1/0;for(X=0;X<D.length;X++)(q=D[X]).contains(m)&&(j=!j,M.push(q),K=Math.min(K,q.ymin),$=Math.max($,q.ymax));if(j){var Q=((K=Math.max(K,0))+($=Math.min($,T._length)))/2;for(X=0;X<M.length;X++)for(P=M[X].pts,ot=1;ot<P.length;ot++)(Z=P[ot-1][1])>Q!=(U=P[ot][1])>=Q&&(E=P[ot-1][0],U-Z&&(J=E+(P[ot][0]-E)*(Q-Z)/(U-Z),C=Math.min(C,J),G=Math.max(G,J)));C=Math.max(C,0),G=Math.min(G,p._length);var ut=n.defaultLine;return n.opacity(h.fillcolor)?ut=h.fillcolor:n.opacity((h.line||{}).color)&&(ut=h.line.color),t.extendFlat(a,{distance:a.maxHoverDistance,x0:C,x1:G,y0:Q,y1:Q,color:ut,hovertemplate:!1}),delete a.index,a.text=h.text&&!Array.isArray(h.text)?String(h.text):h.name,[a]}}}},{"../../components/color":102,"../../components/fx":142,"../../lib":232,"../../registry":318,"./get_trace_color":368}],370:[function(c,tt,V){"use strict";var t=c("./subtypes");tt.exports={hasLines:t.hasLines,hasMarkers:t.hasMarkers,hasText:t.hasText,isBubble:t.isBubble,attributes:c("./attributes"),supplyDefaults:c("./defaults"),crossTraceDefaults:c("./cross_trace_defaults"),calc:c("./calc").calc,crossTraceCalc:c("./cross_trace_calc"),arraysToCalcdata:c("./arrays_to_calcdata"),plot:c("./plot"),colorbar:c("./marker_colorbar"),formatLabels:c("./format_labels"),style:c("./style").style,styleOnSelect:c("./style").styleOnSelect,hoverPoints:c("./hover"),selectPoints:c("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:c("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":293,"./arrays_to_calcdata":357,"./attributes":358,"./calc":359,"./cross_trace_calc":363,"./cross_trace_defaults":364,"./defaults":365,"./format_labels":367,"./hover":369,"./marker_colorbar":376,"./plot":379,"./select":380,"./style":382,"./subtypes":383}],371:[function(c,tt,V){"use strict";var t=c("../../lib").isArrayOrTypedArray,l=c("../../components/colorscale/helpers").hasColorscale,o=c("../../components/colorscale/defaults");tt.exports=function(e,n,s,a,i,r){var d=(e.marker||{}).color;i("line.color",s),l(e,"line")?o(e,n,a,i,{prefix:"line.",cLetter:"c"}):i("line.color",!t(d)&&d||s),i("line.width"),(r||{}).noDash||i("line.dash")}},{"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],372:[function(c,tt,V){"use strict";var t=c("../../constants/numerical"),l=t.BADNUM,o=t.LOG_CLIP,e=o+.5,n=o-.5,s=c("../../lib"),a=s.segmentsIntersect,i=s.constrain,r=c("./constants");tt.exports=function(d,f){var h,p,T,w,x,m,y,A,b,k,L,g,S,I,v,R,z,F,B=f.xaxis,H=f.yaxis,X="log"===B.type,ot="log"===H.type,q=B._length,P=H._length,J=f.connectGaps,E=f.baseTolerance,N=f.shape,Z="linear"===N,U=f.fill&&"none"!==f.fill,D=[],M=r.minTolerance,j=d.length,C=new Array(j),G=0;function K(Ct){var Zt=d[Ct];if(!Zt)return!1;var Kt=f.linearized?B.l2p(Zt.x):B.c2p(Zt.x),Jt=f.linearized?H.l2p(Zt.y):H.c2p(Zt.y);if(Kt===l){if(X&&(Kt=B.c2p(Zt.x,!0)),Kt===l)return!1;ot&&Jt===l&&(Kt*=Math.abs(B._m*P*(B._m>0?e:n)/(H._m*q*(H._m>0?e:n)))),Kt*=1e3}if(Jt===l){if(ot&&(Jt=H.c2p(Zt.y,!0)),Jt===l)return!1;Jt*=1e3}return[Kt,Jt]}function $(Ct,Zt,Kt,Jt){var de=Kt-Ct,$t=Jt-Zt,Tt=.5-Ct,At=.5-Zt,qt=de*de+$t*$t,ue=de*Tt+$t*At;if(ue>0&&ue<qt){var Te=Tt*$t-At*de;if(Te*Te<qt)return!0}}function Q(Ct,Zt){var Kt=Ct[0]/q,Jt=Ct[1]/P,de=Math.max(0,-Kt,Kt-1,-Jt,Jt-1);return de&&void 0!==z&&$(Kt,Jt,z,F)&&(de=0),de&&Zt&&$(Kt,Jt,Zt[0]/q,Zt[1]/P)&&(de=0),(1+r.toleranceGrowth*de)*E}function ut(Ct,Zt){var Kt=Ct[0]-Zt[0],Jt=Ct[1]-Zt[1];return Math.sqrt(Kt*Kt+Jt*Jt)}var ct,gt,vt,_t,kt,Et,It,Lt=r.maxScreensAway,lt=-q*Lt,at=q*(1+Lt),dt=-P*Lt,mt=P*(1+Lt),St=[[lt,dt,at,dt],[at,dt,at,mt],[at,mt,lt,mt],[lt,mt,lt,dt]];function bt(Ct){if(Ct[0]<lt||Ct[0]>at||Ct[1]<dt||Ct[1]>mt)return[i(Ct[0],lt,at),i(Ct[1],dt,mt)]}function wt(Ct,Zt){return Ct[0]===Zt[0]&&(Ct[0]===lt||Ct[0]===at)||Ct[1]===Zt[1]&&(Ct[1]===dt||Ct[1]===mt)||void 0}function Ot(Ct,Zt,Kt){return function(Jt,de){var $t=bt(Jt),Tt=bt(de),At=[];if($t&&Tt&&wt($t,Tt))return At;$t&&At.push($t),Tt&&At.push(Tt);var qt=2*s.constrain((Jt[Ct]+de[Ct])/2,Zt,Kt)-(($t||Jt)[Ct]+(Tt||de)[Ct]);return qt&&(($t&&Tt?qt>0==$t[Ct]>Tt[Ct]?$t:Tt:$t||Tt)[Ct]+=qt),At}}function Nt(Ct){var Zt=Ct[0],Kt=Ct[1],Jt=Zt===C[G-1][0],de=Kt===C[G-1][1];if(!Jt||!de)if(G>1){var $t=Zt===C[G-2][0],Tt=Kt===C[G-2][1];Jt&&(Zt===lt||Zt===at)&&$t?Tt?G--:C[G-1]=Ct:de&&(Kt===dt||Kt===mt)&&Tt?$t?G--:C[G-1]=Ct:C[G++]=Ct}else C[G++]=Ct}function Dt(Ct){C[G-1][0]!==Ct[0]&&C[G-1][1]!==Ct[1]&&Nt([vt,_t]),Nt(Ct),kt=null,vt=_t=0}function zt(Ct){if(z=Ct[0]/q,F=Ct[1]/P,gt=Ct[1]<dt?dt:Ct[1]>mt?mt:0,(ct=Ct[0]<lt?lt:Ct[0]>at?at:0)||gt){if(G)if(kt){var Zt=It(kt,Ct);Zt.length>1&&(Dt(Zt[0]),C[G++]=Zt[1])}else Et=It(C[G-1],Ct)[0],C[G++]=Et;else C[G++]=[ct||Ct[0],gt||Ct[1]];var Kt=C[G-1];ct&&gt&&(Kt[0]!==ct||Kt[1]!==gt)?(kt&&(vt!==ct&&_t!==gt?Nt(vt&&_t?($t=(de=Ct)[0]-(Jt=kt)[0],Tt=(de[1]-Jt[1])/$t,(Jt[1]*de[0]-de[1]*Jt[0])/$t>0?[Tt>0?lt:at,mt]:[Tt>0?at:lt,dt]):[vt||ct,_t||gt]):vt&&_t&&Nt([vt,_t])),Nt([ct,gt])):vt-ct&&_t-gt&&Nt([ct||vt,gt||_t]),kt=Ct,vt=ct,_t=gt}else kt&&Dt(It(kt,Ct)[0]),C[G++]=Ct;var Jt,de,$t,Tt}for("linear"===N||"spline"===N?It=function(Ct,Zt){for(var Kt=[],Jt=0,de=0;de<4;de++){var $t=St[de],Tt=a(Ct[0],Ct[1],Zt[0],Zt[1],$t[0],$t[1],$t[2],$t[3]);Tt&&(!Jt||Math.abs(Tt.x-Kt[0][0])>1||Math.abs(Tt.y-Kt[0][1])>1)&&(Tt=[Tt.x,Tt.y],Jt&&ut(Tt,Ct)<ut(Kt[0],Ct)?Kt.unshift(Tt):Kt.push(Tt),Jt++)}return Kt}:"hv"===N||"vh"===N?It=function(Ct,Zt){var Kt=[],Jt=bt(Ct),de=bt(Zt);return Jt&&de&&wt(Jt,de)||(Jt&&Kt.push(Jt),de&&Kt.push(de)),Kt}:"hvh"===N?It=Ot(0,lt,at):"vhv"===N&&(It=Ot(1,dt,mt)),h=0;h<j;h++)if(p=K(h)){for(G=0,kt=null,zt(p),h++;h<j;h++){if(!(w=K(h))){if(J)continue;break}if(Z&&f.simplify){var Vt=K(h+1);if(k=ut(w,p),U&&(0===G||G===j-1)||!(k<Q(w,Vt)*M)){for(A=[(w[0]-p[0])/k,(w[1]-p[1])/k],x=p,L=k,g=I=v=0,y=!1,T=w,h++;h<d.length;h++){if(m=Vt,Vt=K(h+1),!m){if(J)continue;break}if(R=(b=[m[0]-p[0],m[1]-p[1]])[0]*A[1]-b[1]*A[0],I=Math.min(I,R),(v=Math.max(v,R))-I>Q(m,Vt))break;T=m,(S=b[0]*A[0]+b[1]*A[1])>L?(L=S,w=m,y=!1):S<g&&(g=S,x=m,y=!0)}if(y?(zt(w),T!==x&&zt(x)):(x!==p&&zt(x),T!==w&&zt(w)),zt(T),h>=d.length||!m)break;zt(m),p=m}}else zt(w)}kt&&Nt([vt||kt[0],_t||kt[1]]),D.push(C.slice(0,G))}return D}},{"../../constants/numerical":212,"../../lib":232,"./constants":362}],373:[function(c,tt,V){"use strict";tt.exports=function(t,l,o){"spline"===o("line.shape")&&o("line.smoothing")}},{}],374:[function(c,tt,V){"use strict";var t={tonextx:1,tonexty:1,tonext:1};tt.exports=function(l,o,e){var n,s,a,i,r,d={},f=!1,h=-1,p=0,T=-1;for(s=0;s<e.length;s++)(a=(n=e[s][0].trace).stackgroup||"")?a in d?r=d[a]:(r=d[a]=p,p++):n.fill in t&&T>=0?r=T:(r=T=p,p++),r<h&&(f=!0),n._groupIndex=h=r;var w=e.slice();f&&w.sort(function(m,y){var A=m[0].trace,b=y[0].trace;return A._groupIndex-b._groupIndex||A.index-b.index});var x={};for(s=0;s<w.length;s++)a=(n=w[s][0].trace).stackgroup||"",!0===n.visible?(n._nexttrace=null,n.fill in t&&(n._prevtrace=(i=x[a])||null,i&&(i._nexttrace=n)),n._ownfill=n.fill&&("tozero"===n.fill.substr(0,6)||"toself"===n.fill||"to"===n.fill.substr(0,2)&&!n._prevtrace),x[a]=n):n._prevtrace=n._nexttrace=n._ownfill=null;return w}},{}],375:[function(c,tt,V){"use strict";var t=c("fast-isnumeric");tt.exports=function(l,o){o||(o=2);var e=l.marker,n=e.sizeref||1,s=e.sizemin||0,a="area"===e.sizemode?function(i){return Math.sqrt(i/n)}:function(i){return i/n};return function(i){var r=a(i/o);return t(r)&&r>0?Math.max(r,s):0}}},{"fast-isnumeric":17}],376:[function(c,tt,V){"use strict";tt.exports={container:"marker",min:"cmin",max:"cmax"}},{}],377:[function(c,tt,V){"use strict";var t=c("../../components/color"),l=c("../../components/colorscale/helpers").hasColorscale,o=c("../../components/colorscale/defaults"),e=c("./subtypes");tt.exports=function(n,s,a,i,r,d){var f=e.isBubble(n),h=(n.line||{}).color;d=d||{},h&&(a=h),r("marker.symbol"),r("marker.opacity",f?.7:1),r("marker.size"),r("marker.color",a),l(n,"marker")&&o(n,s,i,r,{prefix:"marker.",cLetter:"c"}),d.noSelect||(r("selected.marker.color"),r("unselected.marker.color"),r("selected.marker.size"),r("unselected.marker.size")),d.noLine||(r("marker.line.color",h&&!Array.isArray(h)&&s.marker.color!==h?h:f?t.background:t.defaultLine),l(n,"marker.line")&&o(n,s,i,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width",f?1:0)),f&&(r("marker.sizeref"),r("marker.sizemin"),r("marker.sizemode")),d.gradient&&"none"!==r("marker.gradient.type")&&r("marker.gradient.color")}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"./subtypes":383}],378:[function(c,tt,V){"use strict";var t=c("../../lib").dateTick0,l=c("../../constants/numerical").ONEWEEK;function o(e,n){return t(n,e%l==0?1:0)}tt.exports=function(e,n,s,a,i){if(i||(i={x:!0,y:!0}),i.x){var r=a("xperiod");r&&(a("xperiod0",o(r,n.xcalendar)),a("xperiodalignment"))}if(i.y){var d=a("yperiod");d&&(a("yperiod0",o(d,n.ycalendar)),a("yperiodalignment"))}}},{"../../constants/numerical":212,"../../lib":232}],379:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../../registry"),o=c("../../lib"),e=o.ensureSingle,n=o.identity,s=c("../../components/drawing"),a=c("./subtypes"),i=c("./line_points"),r=c("./link_traces"),d=c("../../lib/polygon").tester;function f(h,p,T,w,x,m,y){var A;!function(at,dt,mt,St,bt){var wt=mt.xaxis,Ot=mt.yaxis,Nt=t.extent(o.simpleMap(wt.range,wt.r2c)),Dt=t.extent(o.simpleMap(Ot.range,Ot.r2c)),zt=St[0].trace;if(a.hasMarkers(zt)){var Vt=zt.marker.maxdisplayed;if(0!==Vt){var Ct=St.filter(function(de){return de.x>=Nt[0]&&de.x<=Nt[1]&&de.y>=Dt[0]&&de.y<=Dt[1]}),Zt=Math.ceil(Ct.length/Vt),Kt=0;bt.forEach(function(de,$t){var Tt=de[0].trace;a.hasMarkers(Tt)&&Tt.marker.maxdisplayed>0&&$t<dt&&Kt++});var Jt=Math.round(Kt*Zt/3+Math.floor(Kt/3)*Zt/7.1);St.forEach(function(de){delete de.vis}),Ct.forEach(function(de,$t){0===Math.round(($t+Jt)%Zt)&&(de.vis=!0)})}}}(0,p,T,w,x);var b=!!y&&y.duration>0;function k(at){return b?at.transition():at}var L=T.xaxis,g=T.yaxis,S=w[0].trace,I=S.line,v=t.select(m),R=e(v,"g","errorbars"),z=e(v,"g","lines"),F=e(v,"g","points"),B=e(v,"g","text");if(l.getComponentMethod("errorbars","plot")(h,R,T,y),!0===S.visible){var H,X;k(v).style("opacity",S.opacity);var ot=S.fill.charAt(S.fill.length-1);"x"!==ot&&"y"!==ot&&(ot=""),w[0][T.isRangePlot?"nodeRangePlot3":"node3"]=v;var q,P,J="",E=[],N=S._prevtrace;N&&(J=N._prevRevpath||"",X=N._nextFill,E=N._polygons);var Z,U,D,M,j,C,G,K="",$="",Q=[],ut=o.noop;if(H=S._ownFill,a.hasLines(S)||"none"!==S.fill){for(X&&X.datum(w),-1!==["hv","vh","hvh","vhv"].indexOf(I.shape)?(Z=s.steps(I.shape),U=s.steps(I.shape.split("").reverse().join(""))):Z=U="spline"===I.shape?function(at){var dt=at[at.length-1];return at.length>1&&at[0][0]===dt[0]&&at[0][1]===dt[1]?s.smoothclosed(at.slice(1),I.smoothing):s.smoothopen(at,I.smoothing)}:function(at){return"M"+at.join("L")},D=function(at){return U(at.reverse())},Q=i(w,{xaxis:L,yaxis:g,connectGaps:S.connectgaps,baseTolerance:Math.max(I.width||1,3)/4,shape:I.shape,simplify:I.simplify,fill:S.fill}),G=S._polygons=new Array(Q.length),A=0;A<Q.length;A++)S._polygons[A]=d(Q[A]);Q.length&&(M=Q[0][0],C=(j=Q[Q.length-1])[j.length-1]),ut=function(at){return function(dt){if(q=Z(dt),P=D(dt),K?ot?(K+="L"+q.substr(1),$=P+"L"+$.substr(1)):(K+="Z"+q,$=P+"Z"+$):(K=q,$=P),a.hasLines(S)&&dt.length>1){var mt=t.select(this);if(mt.datum(w),at)k(mt.style("opacity",0).attr("d",q).call(s.lineGroupStyle)).style("opacity",1);else{var St=k(mt);St.attr("d",q),s.singleLineStyle(w,St)}}}}}var ct=z.selectAll(".js-line").data(Q);k(ct.exit()).style("opacity",0).remove(),ct.each(ut(!1)),ct.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(s.lineGroupStyle).each(ut(!0)),s.setClipUrl(ct,T.layerClipId,h),Q.length?(H?(H.datum(w),M&&C&&(ot?("y"===ot?M[1]=C[1]=g.c2p(0,!0):"x"===ot&&(M[0]=C[0]=L.c2p(0,!0)),k(H).attr("d","M"+C+"L"+M+"L"+K.substr(1)).call(s.singleFillStyle,h)):k(H).attr("d",K+"Z").call(s.singleFillStyle,h))):X&&("tonext"===S.fill.substr(0,6)&&K&&J?("tonext"===S.fill?k(X).attr("d",K+"Z"+J+"Z").call(s.singleFillStyle,h):k(X).attr("d",K+"L"+J.substr(1)+"Z").call(s.singleFillStyle,h),S._polygons=S._polygons.concat(E)):(vt(X),S._polygons=null)),S._prevRevpath=$,S._prevPolygons=G):(H?vt(H):X&&vt(X),S._polygons=S._prevRevpath=S._prevPolygons=null),F.datum(w),B.datum(w),function(at,dt,mt){var St,bt=mt[0].trace,wt=a.hasMarkers(bt),Ot=a.hasText(bt),Nt=function Lt(at){if(at.ids)return It}(bt),Dt=lt,zt=lt;if(wt||Ot){var Vt=n,Ct=bt.stackgroup,Zt=Ct&&"infer zero"===h._fullLayout._scatterStackOpts[L._id+g._id][Ct].stackgaps;bt.marker.maxdisplayed||bt._needsCull?Vt=Zt?kt:_t:Ct&&!Zt&&(Vt=Et),wt&&(Dt=Vt),Ot&&(zt=Vt)}var Kt,Jt=(St=at.selectAll("path.point").data(Dt,Nt)).enter().append("path").classed("point",!0);b&&Jt.call(s.pointStyle,bt,h).call(s.translatePoints,L,g).style("opacity",0).transition().style("opacity",1),St.order(),wt&&(Kt=s.makePointStyleFns(bt)),St.each(function(de){var $t=t.select(this),Tt=k($t);s.translatePoint(de,Tt,L,g)?(s.singlePointStyle(de,Tt,bt,Kt,h),T.layerClipId&&s.hideOutsideRangePoint(de,Tt,L,g,bt.xcalendar,bt.ycalendar),bt.customdata&&$t.classed("plotly-customdata",null!=de.data)):Tt.remove()}),b?St.exit().transition().style("opacity",0).remove():St.exit().remove(),(St=dt.selectAll("g").data(zt,Nt)).enter().append("g").classed("textpoint",!0).append("text"),St.order(),St.each(function(de){var $t=t.select(this),Tt=k($t.select("text"));s.translatePoint(de,Tt,L,g)?T.layerClipId&&s.hideOutsideRangePoint(de,$t,L,g,bt.xcalendar,bt.ycalendar):$t.remove()}),St.selectAll("text").call(s.textPointStyle,bt,h).each(function(de){var $t=L.c2p(de.x),Tt=g.c2p(de.y);t.select(this).selectAll("tspan.line").each(function(){k(t.select(this)).attr({x:$t,y:Tt})})}),St.exit().remove()}(F,B,w);var gt=!1===S.cliponaxis?null:T.layerClipId;s.setClipUrl(F,gt,h),s.setClipUrl(B,gt,h)}function vt(at){k(at).attr("d","M0,0Z")}function _t(at){return at.filter(function(dt){return!dt.gap&&dt.vis})}function kt(at){return at.filter(function(dt){return dt.vis})}function Et(at){return at.filter(function(dt){return!dt.gap})}function It(at){return at.id}function lt(){return!1}}tt.exports=function(h,p,T,w,x,m){var y,A,g,I,b=!x,k=!!x&&x.duration>0,L=r(h,p,T);(y=w.selectAll("g.trace").data(L,function(g){return g[0].trace.uid})).enter().append("g").attr("class",function(g){return"trace scatter trace"+g[0].trace.uid}).style("stroke-miterlimit",2),y.order(),g=h,I=p,y.each(function(v){var R=e(t.select(this),"g","fills");s.setClipUrl(R,I.layerClipId,g);var z=v[0].trace,F=[];z._ownfill&&F.push("_ownFill"),z._nexttrace&&F.push("_nextFill");var B=R.selectAll("g").data(F,n);B.enter().append("g"),B.exit().each(function(H){z[H]=null}).remove(),B.order().each(function(H){z[H]=e(t.select(this),"path","js-fill")})}),k?(m&&(A=m()),t.transition().duration(x.duration).ease(x.easing).each("end",function(){A&&A()}).each("interrupt",function(){A&&A()}).each(function(){w.selectAll("g.trace").each(function(g,S){f(h,S,p,g,L,this,x)})})):y.each(function(g,S){f(h,S,p,g,L,this,x)}),b&&y.exit().remove(),w.selectAll("path:not([d])").remove()}},{"../../components/drawing":124,"../../lib":232,"../../lib/polygon":244,"../../registry":318,"./line_points":372,"./link_traces":374,"./subtypes":383,"@plotly/d3":11}],380:[function(c,tt,V){"use strict";var t=c("./subtypes");tt.exports=function(l,o){var e,n,s,a,i=l.cd,r=l.xaxis,d=l.yaxis,f=[],h=i[0].trace;if(!t.hasMarkers(h)&&!t.hasText(h))return[];if(!1===o)for(e=0;e<i.length;e++)i[e].selected=0;else for(e=0;e<i.length;e++)s=r.c2p((n=i[e]).x),a=d.c2p(n.y),null!==n.i&&o.contains([s,a],!1,e,l)?(f.push({pointNumber:n.i,x:r.c2d(n.x),y:d.c2d(n.y)}),n.selected=1):n.selected=0;return f}},{"./subtypes":383}],381:[function(c,tt,V){"use strict";var t=["orientation","groupnorm","stackgaps"];tt.exports=function(l,o,e,n){var s=e._scatterStackOpts,a=n("stackgroup");if(a){var i=o.xaxis+o.yaxis,r=s[i];r||(r=s[i]={});var d=r[a],f=!1;d?d.traces.push(o):(d=r[a]={traceIndices:[],traces:[o]},f=!0);for(var h={orientation:o.x&&!o.y?"h":"v"},p=0;p<t.length;p++){var T=t[p],w=T+"Found";if(!d[w]){var x=void 0!==l[T],m="orientation"===T;if((x||f)&&(d[T]=n(T,h[T]),m&&(d.fillDflt="h"===d[T]?"tonextx":"tonexty"),x&&(d[w]=!0,!f&&(delete d.traces[0][T],m))))for(var y=0;y<d.traces.length-1;y++){var A=d.traces[y];A._input.fill!==A.fill&&(A.fill=d.fillDflt)}}}return d}}},{}],382:[function(c,tt,V){"use strict";var t=c("@plotly/d3"),l=c("../../components/drawing"),o=c("../../registry");function e(s,a,i){l.pointStyle(s.selectAll("path.point"),a,i)}function n(s,a,i){l.textPointStyle(s.selectAll("text"),a,i)}tt.exports={style:function(s){var a=t.select(s).selectAll("g.trace.scatter");a.style("opacity",function(i){return i[0].trace.opacity}),a.selectAll("g.points").each(function(i){e(t.select(this),i.trace||i[0].trace,s)}),a.selectAll("g.text").each(function(i){n(t.select(this),i.trace||i[0].trace,s)}),a.selectAll("g.trace path.js-line").call(l.lineGroupStyle),a.selectAll("g.trace path.js-fill").call(l.fillGroupStyle,s),o.getComponentMethod("errorbars","style")(a)},stylePoints:e,styleText:n,styleOnSelect:function(s,a,i){var r=a[0].trace;r.selectedpoints?(l.selectedPointStyle(i.selectAll("path.point"),r),l.selectedTextStyle(i.selectAll("text"),r)):(e(i,r,s),n(i,r,s))}}},{"../../components/drawing":124,"../../registry":318,"@plotly/d3":11}],383:[function(c,tt,V){"use strict";var t=c("../../lib");tt.exports={hasLines:function(l){return l.visible&&l.mode&&-1!==l.mode.indexOf("lines")},hasMarkers:function(l){return l.visible&&(l.mode&&-1!==l.mode.indexOf("markers")||"splom"===l.type)},hasText:function(l){return l.visible&&l.mode&&-1!==l.mode.indexOf("text")},isBubble:function(l){return t.isPlainObject(l.marker)&&t.isArrayOrTypedArray(l.marker.size)}}},{"../../lib":232}],384:[function(c,tt,V){"use strict";var t=c("../../lib");tt.exports=function(l,o,e,n,s){s=s||{},n("textposition"),t.coerceFont(n,"textfont",e.font),s.noSelect||(n("selected.textfont.color"),n("unselected.textfont.color"))}},{"../../lib":232}],385:[function(c,tt,V){"use strict";var t=c("../../lib"),l=c("../../registry");tt.exports=function(o,e,n,s){var a,i=s("x"),r=s("y");if(l.getComponentMethod("calendars","handleTraceDefaults")(o,e,["x","y"],n),i){var d=t.minRowLength(i);r?a=Math.min(d,t.minRowLength(r)):(a=d,s("y0"),s("dy"))}else{if(!r)return 0;a=t.minRowLength(r),s("x0"),s("dx")}return e._length=a,a}},{"../../lib":232,"../../registry":318}],386:[function(c,tt,V){"use strict";var t=c("../plots/cartesian/axes"),l=c("../lib"),o=c("../plot_api/plot_schema"),e=c("./helpers").pointsAccessorFunction,n=c("../constants/numerical").BADNUM;V.moduleType="transform",V.name="aggregate";var s=V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},a=s.aggregations;function i(h,p,T,w){if(w.enabled){for(var x=w.target,m=l.nestedProperty(p,x),y=m.get(),A=function(L,g){var I=g.d2c,v=g.c2d;switch(L.func){case"count":return r;case"first":return d;case"last":return f;case"sum":return function(R,z){for(var F=0,B=0;B<z.length;B++){var H=I(R[z[B]]);H!==n&&(F+=H)}return v(F)};case"avg":return function(R,z){for(var F=0,B=0,H=0;H<z.length;H++){var X=I(R[z[H]]);X!==n&&(F+=X,B++)}return B?v(F/B):n};case"min":return function(R,z){for(var F=1/0,B=0;B<z.length;B++){var H=I(R[z[B]]);H!==n&&(F=Math.min(F,H))}return F===1/0?n:v(F)};case"max":return function(R,z){for(var F=-1/0,B=0;B<z.length;B++){var H=I(R[z[B]]);H!==n&&(F=Math.max(F,H))}return F===-1/0?n:v(F)};case"range":return function(R,z){for(var F=1/0,B=-1/0,H=0;H<z.length;H++){var X=I(R[z[H]]);X!==n&&(F=Math.min(F,X),B=Math.max(B,X))}return B===-1/0||F===1/0?n:v(B-F)};case"change":return function(R,z){var F=I(R[z[0]]),B=I(R[z[z.length-1]]);return F===n||B===n?n:v(B-F)};case"median":return function(R,z){for(var F=[],B=0;B<z.length;B++){var H=I(R[z[B]]);H!==n&&F.push(H)}if(!F.length)return n;F.sort(l.sorterAsc);var X=(F.length-1)/2;return v((F[Math.floor(X)]+F[Math.ceil(X)])/2)};case"mode":return function(R,z){for(var F={},B=0,H=n,X=0;X<z.length;X++){var ot=I(R[z[X]]);if(ot!==n){var q=F[ot]=(F[ot]||0)+1;q>B&&(B=q,H=ot)}}return B?v(H):n};case"rms":return function(R,z){for(var F=0,B=0,H=0;H<z.length;H++){var X=I(R[z[H]]);X!==n&&(F+=X*X,B++)}return B?v(Math.sqrt(F/B)):n};case"stddev":return function(R,z){var F,B=0,H=0,X=1,ot=n;for(F=0;F<z.length&&ot===n;F++)ot=I(R[z[F]]);if(ot===n)return n;for(;F<z.length;F++){var q=I(R[z[F]]);if(q!==n){var P=q-ot;B+=P,H+=P*P,X++}}var J="sample"===L.funcmode?X-1:X;return J?Math.sqrt((H-B*B/X)/J):0}}}(w,t.getDataConversions(h,p,x,y)),b=new Array(T.length),k=0;k<T.length;k++)b[k]=A(y,T[k]);m.set(b),"count"===w.func&&l.pushUnique(p._arrayAttrs,x)}}function r(h,p){return p.length}function d(h,p){return h[p[0]]}function f(h,p){return h[p[p.length-1]]}V.supplyDefaults=function(h,p){var T,w={};function x(v,R){return l.coerce(h,w,s,v,R)}if(!x("enabled"))return w;var m=o.findArrayAttributes(p),y={};for(T=0;T<m.length;T++)y[m[T]]=1;var A=x("groups");if(!Array.isArray(A)){if(!y[A])return w.enabled=!1,w;y[A]=0}var b,k=h.aggregations||[],L=w.aggregations=new Array(k.length);function g(v,R){return l.coerce(k[T],b,a,v,R)}for(T=0;T<k.length;T++){b={_index:T};var S=g("target"),I=g("func");g("enabled")&&S&&(y[S]||"count"===I&&void 0===y[S])?("stddev"===I&&g("funcmode"),y[S]=0,L[T]=b):L[T]={enabled:!1,_index:T}}for(T=0;T<m.length;T++)y[m[T]]&&L.push({target:m[T],func:a.func.dflt,enabled:!0,_index:-1});return w},V.calcTransform=function(h,p,T){if(T.enabled){var w=T.groups,x=l.getTargetArray(p,{target:w});if(x){var m,y,A,k={},L={},g=[],S=e(p.transforms,T),I=x.length;for(p._length&&(I=Math.min(I,p._length)),m=0;m<I;m++)void 0===(A=k[y=x[m]])?(k[y]=g.length,g.push([m]),L[k[y]]=S(m)):(g[A].push(m),L[k[y]]=(L[k[y]]||[]).concat(S(m)));T._indexToPoints=L;var v=T.aggregations;for(m=0;m<v.length;m++)i(h,p,g,v[m]);"string"==typeof w&&i(h,p,g,{target:w,func:"first",enabled:!0}),p._length=g.length}}}},{"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plots/cartesian/axes":279,"./helpers":389}],387:[function(c,tt,V){"use strict";var t=c("../lib"),l=c("../registry"),o=c("../plots/cartesian/axes"),e=c("./helpers").pointsAccessorFunction,n=c("../constants/filter_ops"),s=n.COMPARISON_OPS,a=n.INTERVAL_OPS,i=n.SET_OPS;V.moduleType="transform",V.name="filter",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(s).concat(a).concat(i),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},V.supplyDefaults=function(r){var d={};function f(T,w){return t.coerce(r,d,V.attributes,T,w)}if(f("enabled")){var h=f("target");if(t.isArrayOrTypedArray(h)&&0===h.length)return d.enabled=!1,d;f("preservegaps"),f("operation"),f("value");var p=l.getComponentMethod("calendars","handleDefaults");p(r,d,"valuecalendar",null),p(r,d,"targetcalendar",null)}return d},V.calcTransform=function(r,d,f){if(f.enabled){var h=t.getTargetArray(d,f);if(h){var p=f.target,T=h.length;d._length&&(T=Math.min(T,d._length));var w=f.targetcalendar,x=d._arrayAttrs,m=f.preservegaps;if("string"==typeof p){var y=t.nestedProperty(d,p+"calendar").get();y&&(w=y)}var A,b,k=function(z,F,B){var H=z.operation,X=z.value,ot=Array.isArray(X);function q(N){return-1!==N.indexOf(H)}var P,J=function(N){return F(N,0,z.valuecalendar)},E=function(N){return F(N,0,B)};switch(q(s)?P=J(ot?X[0]:X):q(a)?P=ot?[J(X[0]),J(X[1])]:[J(X),J(X)]:q(i)&&(P=ot?X.map(J):[J(X)]),H){case"=":return function(N){return E(N)===P};case"!=":return function(N){return E(N)!==P};case"<":return function(N){return E(N)<P};case"<=":return function(N){return E(N)<=P};case">":return function(N){return E(N)>P};case">=":return function(N){return E(N)>=P};case"[]":return function(N){var Z=E(N);return Z>=P[0]&&Z<=P[1]};case"()":return function(N){var Z=E(N);return Z>P[0]&&Z<P[1]};case"[)":return function(N){var Z=E(N);return Z>=P[0]&&Z<P[1]};case"(]":return function(N){var Z=E(N);return Z>P[0]&&Z<=P[1]};case"][":return function(N){var Z=E(N);return Z<=P[0]||Z>=P[1]};case")(":return function(N){var Z=E(N);return Z<P[0]||Z>P[1]};case"](":return function(N){var Z=E(N);return Z<=P[0]||Z>P[1]};case")[":return function(N){var Z=E(N);return Z<P[0]||Z>=P[1]};case"{}":return function(N){return-1!==P.indexOf(E(N))};case"}{":return function(N){return-1===P.indexOf(E(N))}}}(f,o.getDataToCoordFunc(r,d,p,h),w),L={},g={},S=0;m?(A=function(z){L[z.astr]=t.extendDeep([],z.get()),z.set(new Array(T))},b=function(z,F){var B=L[z.astr][F];z.get()[F]=B}):(A=function(z){L[z.astr]=t.extendDeep([],z.get()),z.set([])},b=function(z,F){var B=L[z.astr][F];z.get().push(B)}),R(A);for(var I=e(d.transforms,f),v=0;v<T;v++)k(h[v])?(R(b,v),g[S++]=I(v)):m&&S++;f._indexToPoints=g,d._length=S}}function R(z,F){for(var B=0;B<x.length;B++)z(t.nestedProperty(d,x[B]),F)}}},{"../constants/filter_ops":210,"../lib":232,"../plots/cartesian/axes":279,"../registry":318,"./helpers":389}],388:[function(c,tt,V){"use strict";var t=c("../lib"),l=c("../plot_api/plot_schema"),o=c("../plots/plots"),e=c("./helpers").pointsAccessorFunction;function n(s,a){var i,r,d,f,h,p,T,w,x,m,y=a.transform,A=a.transformIndex,b=s.transforms[A].groups,k=e(s.transforms,y);if(!t.isArrayOrTypedArray(b)||0===b.length)return[s];var L=t.filterUnique(b),g=new Array(L.length),S=b.length,I=l.findArrayAttributes(s),v=y.styles||[],R={};for(i=0;i<v.length;i++)R[v[i].target]=v[i].value;y.styles&&(m=t.keyedContainer(y,"styles","target","value.name"));var z={},F={};for(i=0;i<L.length;i++){z[p=L[i]]=i,F[p]=0,(T=g[i]=t.extendDeepNoArrays({},s))._group=p,T.transforms[A]._indexToPoints={};var B=null;for(m&&(B=m.get(p)),T.name=B||""===B?B:t.templateString(y.nameformat,{trace:s.name,group:p}),w=T.transforms,T.transforms=[],r=0;r<w.length;r++)T.transforms[r]=t.extendDeepNoArrays({},w[r]);for(r=0;r<I.length;r++)t.nestedProperty(T,I[r]).set([])}for(d=0;d<I.length;d++){for(f=I[d],r=0,x=[];r<L.length;r++)x[r]=t.nestedProperty(g[r],f).get();for(h=t.nestedProperty(s,f).get(),r=0;r<S;r++)x[z[b[r]]].push(h[r])}for(r=0;r<S;r++)(T=g[z[b[r]]]).transforms[A]._indexToPoints[F[b[r]]]=k(r),F[b[r]]++;for(i=0;i<L.length;i++)p=L[i],o.clearExpandedTraceDefaultColors(T=g[i]),T=t.extendDeepNoArrays(T,R[p]||{});return g}V.moduleType="transform",V.name="groupby",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},V.supplyDefaults=function(s,a,i){var r,d={};function f(x,m){return t.coerce(s,d,V.attributes,x,m)}if(!f("enabled"))return d;f("groups"),f("nameformat",i._dataLength>1?"%{group} (%{trace})":"%{group}");var h=s.styles,p=d.styles=[];if(h)for(r=0;r<h.length;r++){var T=p[r]={};t.coerce(h[r],p[r],V.attributes.styles,"target");var w=t.coerce(h[r],p[r],V.attributes.styles,"value");t.isPlainObject(w)?T.value=t.extendDeep({},w):w&&delete T.value}return d},V.transform=function(s,a){var i,r,d,f=[];for(r=0;r<s.length;r++)for(i=n(s[r],a),d=0;d<i.length;d++)f.push(i[d]);return f}},{"../lib":232,"../plot_api/plot_schema":267,"../plots/plots":316,"./helpers":389}],389:[function(c,tt,V){"use strict";V.pointsAccessorFunction=function(t,l){for(var o,e,n=0;n<t.length&&(o=t[n])!==l;n++)o._indexToPoints&&!1!==o.enabled&&(e=o._indexToPoints);return e?function(s){return e[s]}:function(s){return[s]}}},{}],390:[function(c,tt,V){"use strict";var t=c("../lib"),l=c("../plots/cartesian/axes"),o=c("./helpers").pointsAccessorFunction,e=c("../constants/numerical").BADNUM;V.moduleType="transform",V.name="sort",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},V.supplyDefaults=function(n){var s={};function a(i,r){return t.coerce(n,s,V.attributes,i,r)}return a("enabled")&&(a("target"),a("order")),s},V.calcTransform=function(n,s,a){if(a.enabled){var i=t.getTargetArray(s,a);if(i){var r=a.target,d=i.length;s._length&&(d=Math.min(d,s._length));var f,h,p=s._arrayAttrs,T=function(b,k,L,g){var S,I=new Array(g),v=new Array(g);for(S=0;S<g;S++)I[S]={v:k[S],i:S};for(I.sort(function(R,z){switch(R.order){case"ascending":return function(F,B){var H=z(F.v),X=z(B.v);return H===e?1:X===e?-1:H-X};case"descending":return function(F,B){var H=z(F.v),X=z(B.v);return H===e?1:X===e?-1:X-H}}}(b,L)),S=0;S<g;S++)v[S]=I[S].i;return v}(a,i,l.getDataToCoordFunc(n,s,r,i),d),w=o(s.transforms,a),x={};for(f=0;f<p.length;f++){var m=t.nestedProperty(s,p[f]),y=m.get(),A=new Array(d);for(h=0;h<d;h++)A[h]=y[T[h]];m.set(A)}for(h=0;h<d;h++)x[h]=w(T[h]);a._indexToPoints=x,s._length=d}}}},{"../constants/numerical":212,"../lib":232,"../plots/cartesian/axes":279,"./helpers":389}],391:[function(c,tt,V){"use strict";V.version="2.12.0"},{}]},{},[8])(8)});