var co=Object.defineProperty,uo=Object.defineProperties,fo=Object.getOwnPropertyDescriptors,ri=Object.getOwnPropertySymbols,ho=Object.prototype.hasOwnProperty,po=Object.prototype.propertyIsEnumerable,ai=(c,tt,B)=>tt in c?co(c,tt,{enumerable:!0,configurable:!0,writable:!0,value:B}):c[tt]=B,An=(c,tt)=>{for(var B in tt||(tt={}))ho.call(tt,B)&&ai(c,B,tt[B]);if(ri)for(var B of ri(tt))po.call(tt,B)&&ai(c,B,tt[B]);return c},ea=(c,tt)=>uo(c,fo(tt));(function(c,tt){"object"==typeof exports&&"undefined"!=typeof module?module.exports=tt(require("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],tt):(c="undefined"!=typeof globalThis?globalThis:c||self).bootstrap=tt(c.Popper)})(this,function(c){"use strict";const B=function tt(ue){if(ue&&ue.__esModule)return ue;const at=Object.create(null);if(ue)for(const yt in ue)if("default"!==yt){const ae=Object.getOwnPropertyDescriptor(ue,yt);Object.defineProperty(at,yt,ae.get?ae:{enumerable:!0,get:()=>ue[yt]})}return at.default=ue,Object.freeze(at)}(c),t="transitionend",l=ue=>{let at=ue.getAttribute("data-bs-target");if(!at||"#"===at){let yt=ue.getAttribute("href");if(!yt||!yt.includes("#")&&!yt.startsWith("."))return null;yt.includes("#")&&!yt.startsWith("#")&&(yt=`#${yt.split("#")[1]}`),at=yt&&"#"!==yt?yt.trim():null}return at},o=ue=>{const at=l(ue);return at&&document.querySelector(at)?at:null},e=ue=>{const at=l(ue);return at?document.querySelector(at):null},n=ue=>{ue.dispatchEvent(new Event(t))},s=ue=>!(!ue||"object"!=typeof ue)&&(void 0!==ue.jquery&&(ue=ue[0]),void 0!==ue.nodeType),a=ue=>s(ue)?ue.jquery?ue[0]:ue:"string"==typeof ue&&ue.length>0?document.querySelector(ue):null,i=(ue,at,yt)=>{Object.keys(yt).forEach(ae=>{const we=yt[ae],Ee=at[ae],Je=Ee&&s(Ee)?"element":null==(pn=Ee)?`${pn}`:{}.toString.call(pn).match(/\s([a-z]+)/i)[1].toLowerCase();var pn;if(!new RegExp(we).test(Je))throw new TypeError(`${ue.toUpperCase()}: Option "${ae}" provided type "${Je}" but expected type "${we}".`)})},r=ue=>!(!s(ue)||0===ue.getClientRects().length)&&"visible"===getComputedStyle(ue).getPropertyValue("visibility"),d=ue=>!ue||ue.nodeType!==Node.ELEMENT_NODE||!!ue.classList.contains("disabled")||(void 0!==ue.disabled?ue.disabled:ue.hasAttribute("disabled")&&"false"!==ue.getAttribute("disabled")),f=ue=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof ue.getRootNode){const at=ue.getRootNode();return at instanceof ShadowRoot?at:null}return ue instanceof ShadowRoot?ue:ue.parentNode?f(ue.parentNode):null},h=()=>{},T=()=>{const{jQuery:ue}=window;return ue&&!document.body.hasAttribute("data-bs-no-jquery")?ue:null},w=[],x=()=>"rtl"===document.documentElement.dir,m=ue=>{var at;at=()=>{const yt=T();if(yt){const ae=ue.NAME,we=yt.fn[ae];yt.fn[ae]=ue.jQueryInterface,yt.fn[ae].Constructor=ue,yt.fn[ae].noConflict=()=>(yt.fn[ae]=we,ue.jQueryInterface)}},"loading"===document.readyState?(w.length||document.addEventListener("DOMContentLoaded",()=>{w.forEach(yt=>yt())}),w.push(at)):at()},y=ue=>{"function"==typeof ue&&ue()},A=(ue,at,yt=!0)=>{if(!yt)return void y(ue);const ae=(Je=>{if(!Je)return 0;let{transitionDuration:pn,transitionDelay:In}=window.getComputedStyle(Je);const Bn=Number.parseFloat(pn),Hn=Number.parseFloat(In);return Bn||Hn?(pn=pn.split(",")[0],In=In.split(",")[0],1e3*(Number.parseFloat(pn)+Number.parseFloat(In))):0})(at)+5;let we=!1;const Ee=({target:Je})=>{Je===at&&(we=!0,at.removeEventListener(t,Ee),y(ue))};at.addEventListener(t,Ee),setTimeout(()=>{we||n(at)},ae)},b=(ue,at,yt,ae)=>{let we=ue.indexOf(at);if(-1===we)return ue[!yt&&ae?ue.length-1:0];const Ee=ue.length;return we+=yt?1:-1,ae&&(we=(we+Ee)%Ee),ue[Math.max(0,Math.min(we,Ee-1))]},k=/[^.]*(?=\..*)\.|.*/,L=/\..*/,g=/::\d+$/,S={};let E=1;const v={mouseenter:"mouseover",mouseleave:"mouseout"},F=/^(mouseenter|mouseleave)/i,N=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function z(ue,at){return at&&`${at}::${E++}`||ue.uidEvent||E++}function U(ue){const at=z(ue);return ue.uidEvent=at,S[at]=S[at]||{},S[at]}function Y(ue,at,yt=null){const ae=Object.keys(ue);for(let we=0,Ee=ae.length;we<Ee;we++){const Je=ue[ae[we]];if(Je.originalHandler===at&&Je.delegationSelector===yt)return Je}return null}function $(ue,at,yt){const ae="string"==typeof at,we=ae?yt:at;let Ee=R(ue);return N.has(Ee)||(Ee=ue),[ae,we,Ee]}function ot(ue,at,yt,ae,we){if("string"!=typeof at||!ue)return;if(yt||(yt=ae,ae=null),F.test(at)){const qn=ir=>function(rr){if(!rr.relatedTarget||rr.relatedTarget!==rr.delegateTarget&&!rr.delegateTarget.contains(rr.relatedTarget))return ir.call(this,rr)};ae?ae=qn(ae):yt=qn(yt)}const[Ee,Je,pn]=$(at,yt,ae),In=U(ue),Bn=In[pn]||(In[pn]={}),Hn=Y(Bn,Je,Ee?yt:null);if(Hn)return void(Hn.oneOff=Hn.oneOff&&we);const Ln=z(Je,at.replace(k,"")),Vn=Ee?(qn=ue,ir=yt,rr=ae,function pr(gr){const _r=qn.querySelectorAll(ir);for(let{target:yr}=gr;yr&&yr!==this;yr=yr.parentNode)for(let Yr=_r.length;Yr--;)if(_r[Yr]===yr)return gr.delegateTarget=yr,pr.oneOff&&j.off(qn,gr.type,ir,rr),rr.apply(yr,[gr]);return null}):function(qn,ir){return function rr(pr){return pr.delegateTarget=qn,rr.oneOff&&j.off(qn,pr.type,ir),ir.apply(qn,[pr])}}(ue,yt);var qn,ir,rr;Vn.delegationSelector=Ee?yt:null,Vn.originalHandler=Je,Vn.oneOff=we,Vn.uidEvent=Ln,Bn[Ln]=Vn,ue.addEventListener(pn,Vn,Ee)}function G(ue,at,yt,ae,we){const Ee=Y(at[yt],ae,we);Ee&&(ue.removeEventListener(yt,Ee,Boolean(we)),delete at[yt][Ee.uidEvent])}function R(ue){return ue=ue.replace(L,""),v[ue]||ue}const j={on(ue,at,yt,ae){ot(ue,at,yt,ae,!1)},one(ue,at,yt,ae){ot(ue,at,yt,ae,!0)},off(ue,at,yt,ae){if("string"!=typeof at||!ue)return;const[we,Ee,Je]=$(at,yt,ae),pn=Je!==at,In=U(ue),Bn=at.startsWith(".");if(void 0!==Ee)return In&&In[Je]?void G(ue,In,Je,Ee,we?yt:null):void 0;Bn&&Object.keys(In).forEach(Ln=>{!function(Vn,qn,ir,rr){const pr=qn[ir]||{};Object.keys(pr).forEach(gr=>{if(gr.includes(rr)){const _r=pr[gr];G(Vn,qn,ir,_r.originalHandler,_r.delegationSelector)}})}(ue,In,Ln,at.slice(1))});const Hn=In[Je]||{};Object.keys(Hn).forEach(Ln=>{const Vn=Ln.replace(g,"");if(!pn||at.includes(Vn)){const qn=Hn[Ln];G(ue,In,Je,qn.originalHandler,qn.delegationSelector)}})},trigger(ue,at,yt){if("string"!=typeof at||!ue)return null;const ae=T(),we=R(at),Ee=at!==we,Je=N.has(we);let pn,In=!0,Bn=!0,Hn=!1,Ln=null;return Ee&&ae&&(pn=ae.Event(at,yt),ae(ue).trigger(pn),In=!pn.isPropagationStopped(),Bn=!pn.isImmediatePropagationStopped(),Hn=pn.isDefaultPrevented()),Je?(Ln=document.createEvent("HTMLEvents"),Ln.initEvent(we,In,!0)):Ln=new CustomEvent(at,{bubbles:In,cancelable:!0}),void 0!==yt&&Object.keys(yt).forEach(Vn=>{Object.defineProperty(Ln,Vn,{get:()=>yt[Vn]})}),Hn&&Ln.preventDefault(),Bn&&ue.dispatchEvent(Ln),Ln.defaultPrevented&&void 0!==pn&&pn.preventDefault(),Ln}},P=new Map,I={set(ue,at,yt){P.has(ue)||P.set(ue,new Map);const ae=P.get(ue);ae.has(at)||0===ae.size?ae.set(at,yt):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(ae.keys())[0]}.`)},get:(ue,at)=>P.has(ue)&&P.get(ue).get(at)||null,remove(ue,at){if(!P.has(ue))return;const yt=P.get(ue);yt.delete(at),0===yt.size&&P.delete(ue)}};class Z{constructor(at){(at=a(at))&&(this._element=at,I.set(this._element,this.constructor.DATA_KEY,this))}dispose(){I.remove(this._element,this.constructor.DATA_KEY),j.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(at=>{this[at]=null})}_queueCallback(at,yt,ae=!0){A(at,yt,ae)}static getInstance(at){return I.get(a(at),this.DATA_KEY)}static getOrCreateInstance(at,yt={}){return this.getInstance(at)||new this(at,"object"==typeof yt?yt:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const q=(ue,at="hide")=>{const ae=ue.NAME;j.on(document,`click.dismiss${ue.EVENT_KEY}`,`[data-bs-dismiss="${ae}"]`,function(we){if(["A","AREA"].includes(this.tagName)&&we.preventDefault(),d(this))return;const Ee=e(this)||this.closest(`.${ae}`);ue.getOrCreateInstance(Ee)[at]()})};class D extends Z{static get NAME(){return"alert"}close(){if(j.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const at=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,at)}_destroyElement(){this._element.remove(),j.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(at){return this.each(function(){const yt=D.getOrCreateInstance(this);if("string"==typeof at){if(void 0===yt[at]||at.startsWith("_")||"constructor"===at)throw new TypeError(`No method named "${at}"`);yt[at](this)}})}}q(D,"close"),m(D);const M='[data-bs-toggle="button"]';class H extends Z{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(at){return this.each(function(){const yt=H.getOrCreateInstance(this);"toggle"===at&&yt[at]()})}}function C(ue){return"true"===ue||"false"!==ue&&(ue===Number(ue).toString()?Number(ue):""===ue||"null"===ue?null:ue)}function W(ue){return ue.replace(/[A-Z]/g,at=>`-${at.toLowerCase()}`)}j.on(document,"click.bs.button.data-api",M,ue=>{ue.preventDefault();const at=ue.target.closest(M);H.getOrCreateInstance(at).toggle()}),m(H);const K={setDataAttribute(ue,at,yt){ue.setAttribute(`data-bs-${W(at)}`,yt)},removeDataAttribute(ue,at){ue.removeAttribute(`data-bs-${W(at)}`)},getDataAttributes(ue){if(!ue)return{};const at={};return Object.keys(ue.dataset).filter(yt=>yt.startsWith("bs")).forEach(yt=>{let ae=yt.replace(/^bs/,"");ae=ae.charAt(0).toLowerCase()+ae.slice(1,ae.length),at[ae]=C(ue.dataset[yt])}),at},getDataAttribute:(ue,at)=>C(ue.getAttribute(`data-bs-${W(at)}`)),offset(ue){const at=ue.getBoundingClientRect();return{top:at.top+window.pageYOffset,left:at.left+window.pageXOffset}},position:ue=>({top:ue.offsetTop,left:ue.offsetLeft})},J={find:(ue,at=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(at,ue)),findOne:(ue,at=document.documentElement)=>Element.prototype.querySelector.call(at,ue),children:(ue,at)=>[].concat(...ue.children).filter(yt=>yt.matches(at)),parents(ue,at){const yt=[];let ae=ue.parentNode;for(;ae&&ae.nodeType===Node.ELEMENT_NODE&&3!==ae.nodeType;)ae.matches(at)&&yt.push(ae),ae=ae.parentNode;return yt},prev(ue,at){let yt=ue.previousElementSibling;for(;yt;){if(yt.matches(at))return[yt];yt=yt.previousElementSibling}return[]},next(ue,at){let yt=ue.nextElementSibling;for(;yt;){if(yt.matches(at))return[yt];yt=yt.nextElementSibling}return[]},focusableChildren(ue){const at=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(yt=>`${yt}:not([tabindex^="-"])`).join(", ");return this.find(at,ue).filter(yt=>!d(yt)&&r(yt))}},Q="carousel",ut={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},ct={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},gt="next",vt="prev",xt="left",Tt="right",zt={ArrowLeft:Tt,ArrowRight:xt},Et="slid.bs.carousel",At="active",lt=".active.carousel-item";class rt extends Z{constructor(at,yt){super(at),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(yt),this._indicatorsElement=J.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return ut}static get NAME(){return Q}next(){this._slide(gt)}nextWhenVisible(){!document.hidden&&r(this._element)&&this.next()}prev(){this._slide(vt)}pause(at){at||(this._isPaused=!0),J.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(n(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(at){at||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(at){this._activeElement=J.findOne(lt,this._element);const yt=this._getItemIndex(this._activeElement);if(!(at>this._items.length-1||at<0)){if(!this._isSliding)return yt===at?(this.pause(),void this.cycle()):void this._slide(at>yt?gt:vt,this._items[at]);j.one(this._element,Et,()=>this.to(at))}}_getConfig(at){return at=An(An(An({},ut),K.getDataAttributes(this._element)),"object"==typeof at?at:{}),i(Q,at,ct),at}_handleSwipe(){const at=Math.abs(this.touchDeltaX);if(at<=40)return;const yt=at/this.touchDeltaX;this.touchDeltaX=0,yt&&this._slide(yt>0?Tt:xt)}_addEventListeners(){this._config.keyboard&&j.on(this._element,"keydown.bs.carousel",at=>this._keydown(at)),"hover"===this._config.pause&&(j.on(this._element,"mouseenter.bs.carousel",at=>this.pause(at)),j.on(this._element,"mouseleave.bs.carousel",at=>this.cycle(at))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const at=Ee=>this._pointerEvent&&("pen"===Ee.pointerType||"touch"===Ee.pointerType),yt=Ee=>{at(Ee)?this.touchStartX=Ee.clientX:this._pointerEvent||(this.touchStartX=Ee.touches[0].clientX)},ae=Ee=>{this.touchDeltaX=Ee.touches&&Ee.touches.length>1?0:Ee.touches[0].clientX-this.touchStartX},we=Ee=>{at(Ee)&&(this.touchDeltaX=Ee.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(Je=>this.cycle(Je),500+this._config.interval))};J.find(".carousel-item img",this._element).forEach(Ee=>{j.on(Ee,"dragstart.bs.carousel",Je=>Je.preventDefault())}),this._pointerEvent?(j.on(this._element,"pointerdown.bs.carousel",Ee=>yt(Ee)),j.on(this._element,"pointerup.bs.carousel",Ee=>we(Ee)),this._element.classList.add("pointer-event")):(j.on(this._element,"touchstart.bs.carousel",Ee=>yt(Ee)),j.on(this._element,"touchmove.bs.carousel",Ee=>ae(Ee)),j.on(this._element,"touchend.bs.carousel",Ee=>we(Ee)))}_keydown(at){if(/input|textarea/i.test(at.target.tagName))return;const yt=zt[at.key];yt&&(at.preventDefault(),this._slide(yt))}_getItemIndex(at){return this._items=at&&at.parentNode?J.find(".carousel-item",at.parentNode):[],this._items.indexOf(at)}_getItemByOrder(at,yt){return b(this._items,yt,at===gt,this._config.wrap)}_triggerSlideEvent(at,yt){const ae=this._getItemIndex(at),we=this._getItemIndex(J.findOne(lt,this._element));return j.trigger(this._element,"slide.bs.carousel",{relatedTarget:at,direction:yt,from:we,to:ae})}_setActiveIndicatorElement(at){if(this._indicatorsElement){const yt=J.findOne(".active",this._indicatorsElement);yt.classList.remove(At),yt.removeAttribute("aria-current");const ae=J.find("[data-bs-target]",this._indicatorsElement);for(let we=0;we<ae.length;we++)if(Number.parseInt(ae[we].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(at)){ae[we].classList.add(At),ae[we].setAttribute("aria-current","true");break}}}_updateInterval(){const at=this._activeElement||J.findOne(lt,this._element);if(!at)return;const yt=Number.parseInt(at.getAttribute("data-bs-interval"),10);yt?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=yt):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(at,yt){const ae=this._directionToOrder(at),we=J.findOne(lt,this._element),Ee=this._getItemIndex(we),Je=yt||this._getItemByOrder(ae,we),pn=this._getItemIndex(Je),In=Boolean(this._interval),Bn=ae===gt,Hn=Bn?"carousel-item-start":"carousel-item-end",Ln=Bn?"carousel-item-next":"carousel-item-prev",Vn=this._orderToDirection(ae);if(Je&&Je.classList.contains(At))return void(this._isSliding=!1);if(this._isSliding||this._triggerSlideEvent(Je,Vn).defaultPrevented||!we||!Je)return;this._isSliding=!0,In&&this.pause(),this._setActiveIndicatorElement(Je),this._activeElement=Je;const qn=()=>{j.trigger(this._element,Et,{relatedTarget:Je,direction:Vn,from:Ee,to:pn})};this._element.classList.contains("slide")?(Je.classList.add(Ln),we.classList.add(Hn),Je.classList.add(Hn),this._queueCallback(()=>{Je.classList.remove(Hn,Ln),Je.classList.add(At),we.classList.remove(At,Ln,Hn),this._isSliding=!1,setTimeout(qn,0)},we,!0)):(we.classList.remove(At),Je.classList.add(At),this._isSliding=!1,qn()),In&&this.cycle()}_directionToOrder(at){return[Tt,xt].includes(at)?x()?at===xt?vt:gt:at===xt?gt:vt:at}_orderToDirection(at){return[gt,vt].includes(at)?x()?at===vt?xt:Tt:at===vt?Tt:xt:at}static carouselInterface(at,yt){const ae=rt.getOrCreateInstance(at,yt);let{_config:we}=ae;"object"==typeof yt&&(we=An(An({},we),yt));const Ee="string"==typeof yt?yt:we.slide;if("number"==typeof yt)ae.to(yt);else if("string"==typeof Ee){if(void 0===ae[Ee])throw new TypeError(`No method named "${Ee}"`);ae[Ee]()}else we.interval&&we.ride&&(ae.pause(),ae.cycle())}static jQueryInterface(at){return this.each(function(){rt.carouselInterface(this,at)})}static dataApiClickHandler(at){const yt=e(this);if(!yt||!yt.classList.contains("carousel"))return;const ae=An(An({},K.getDataAttributes(yt)),K.getDataAttributes(this)),we=this.getAttribute("data-bs-slide-to");we&&(ae.interval=!1),rt.carouselInterface(yt,ae),we&&rt.getInstance(yt).to(we),at.preventDefault()}}j.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",rt.dataApiClickHandler),j.on(window,"load.bs.carousel.data-api",()=>{const ue=J.find('[data-bs-ride="carousel"]');for(let at=0,yt=ue.length;at<yt;at++)rt.carouselInterface(ue[at],rt.getInstance(ue[at]))}),m(rt);const dt="collapse",mt={toggle:!0,parent:null},Dt={toggle:"boolean",parent:"(null|element)"},bt="show",wt="collapse",Ot="collapsing",It="collapsed",St=":scope .collapse .collapse",Nt='[data-bs-toggle="collapse"]';class Vt extends Z{constructor(at,yt){super(at),this._isTransitioning=!1,this._config=this._getConfig(yt),this._triggerArray=[];const ae=J.find(Nt);for(let we=0,Ee=ae.length;we<Ee;we++){const Je=ae[we],pn=o(Je),In=J.find(pn).filter(Bn=>Bn===this._element);null!==pn&&In.length&&(this._selector=pn,this._triggerArray.push(Je))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return mt}static get NAME(){return dt}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let at,yt=[];if(this._config.parent){const Je=J.find(St,this._config.parent);yt=J.find(".collapse.show, .collapse.collapsing",this._config.parent).filter(pn=>!Je.includes(pn))}const ae=J.findOne(this._selector);if(yt.length){const Je=yt.find(pn=>ae!==pn);if(at=Je?Vt.getInstance(Je):null,at&&at._isTransitioning)return}if(j.trigger(this._element,"show.bs.collapse").defaultPrevented)return;yt.forEach(Je=>{ae!==Je&&Vt.getOrCreateInstance(Je,{toggle:!1}).hide(),at||I.set(Je,"bs.collapse",null)});const we=this._getDimension();this._element.classList.remove(wt),this._element.classList.add(Ot),this._element.style[we]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Ee=`scroll${we[0].toUpperCase()+we.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ot),this._element.classList.add(wt,bt),this._element.style[we]="",j.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[we]=`${this._element[Ee]}px`}hide(){if(this._isTransitioning||!this._isShown()||j.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const at=this._getDimension();this._element.style[at]=`${this._element.getBoundingClientRect()[at]}px`,this._element.classList.add(Ot),this._element.classList.remove(wt,bt);const yt=this._triggerArray.length;for(let ae=0;ae<yt;ae++){const we=this._triggerArray[ae],Ee=e(we);Ee&&!this._isShown(Ee)&&this._addAriaAndCollapsedClass([we],!1)}this._isTransitioning=!0,this._element.style[at]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ot),this._element.classList.add(wt),j.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(at=this._element){return at.classList.contains(bt)}_getConfig(at){return(at=An(An(An({},mt),K.getDataAttributes(this._element)),at)).toggle=Boolean(at.toggle),at.parent=a(at.parent),i(dt,at,Dt),at}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const at=J.find(St,this._config.parent);J.find(Nt,this._config.parent).filter(yt=>!at.includes(yt)).forEach(yt=>{const ae=e(yt);ae&&this._addAriaAndCollapsedClass([yt],this._isShown(ae))})}_addAriaAndCollapsedClass(at,yt){at.length&&at.forEach(ae=>{yt?ae.classList.remove(It):ae.classList.add(It),ae.setAttribute("aria-expanded",yt)})}static jQueryInterface(at){return this.each(function(){const yt={};"string"==typeof at&&/show|hide/.test(at)&&(yt.toggle=!1);const ae=Vt.getOrCreateInstance(this,yt);if("string"==typeof at){if(void 0===ae[at])throw new TypeError(`No method named "${at}"`);ae[at]()}})}}j.on(document,"click.bs.collapse.data-api",Nt,function(ue){("A"===ue.target.tagName||ue.delegateTarget&&"A"===ue.delegateTarget.tagName)&&ue.preventDefault();const at=o(this);J.find(at).forEach(yt=>{Vt.getOrCreateInstance(yt,{toggle:!1}).toggle()})}),m(Vt);const Ct="dropdown",Gt="Escape",Xt="ArrowUp",de="ArrowDown",Kt=new RegExp("ArrowUp|ArrowDown|Escape"),kt="click.bs.dropdown.data-api",Mt="keydown.bs.dropdown.data-api",qt="show",ce='[data-bs-toggle="dropdown"]',Te=".dropdown-menu",Oe=x()?"top-end":"top-start",xe=x()?"top-start":"top-end",ye=x()?"bottom-end":"bottom-start",le=x()?"bottom-start":"bottom-end",nt=x()?"left-start":"right-start",it=x()?"right-start":"left-start",Lt={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},Pt={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class Bt extends Z{constructor(at,yt){super(at),this._popper=null,this._config=this._getConfig(yt),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return Lt}static get DefaultType(){return Pt}static get NAME(){return Ct}toggle(){return this._isShown()?this.hide():this.show()}show(){if(d(this._element)||this._isShown(this._menu))return;const at={relatedTarget:this._element};if(j.trigger(this._element,"show.bs.dropdown",at).defaultPrevented)return;const yt=Bt.getParentFromElement(this._element);this._inNavbar?K.setDataAttribute(this._menu,"popper","none"):this._createPopper(yt),"ontouchstart"in document.documentElement&&!yt.closest(".navbar-nav")&&[].concat(...document.body.children).forEach(ae=>j.on(ae,"mouseover",h)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(qt),this._element.classList.add(qt),j.trigger(this._element,"shown.bs.dropdown",at)}hide(){!d(this._element)&&this._isShown(this._menu)&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(at){j.trigger(this._element,"hide.bs.dropdown",at).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(yt=>j.off(yt,"mouseover",h)),this._popper&&this._popper.destroy(),this._menu.classList.remove(qt),this._element.classList.remove(qt),this._element.setAttribute("aria-expanded","false"),K.removeDataAttribute(this._menu,"popper"),j.trigger(this._element,"hidden.bs.dropdown",at))}_getConfig(at){if(at=An(An(An({},this.constructor.Default),K.getDataAttributes(this._element)),at),i(Ct,at,this.constructor.DefaultType),"object"==typeof at.reference&&!s(at.reference)&&"function"!=typeof at.reference.getBoundingClientRect)throw new TypeError(`${Ct.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return at}_createPopper(at){if(void 0===B)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let yt=this._element;"parent"===this._config.reference?yt=at:s(this._config.reference)?yt=a(this._config.reference):"object"==typeof this._config.reference&&(yt=this._config.reference);const ae=this._getPopperConfig(),we=ae.modifiers.find(Ee=>"applyStyles"===Ee.name&&!1===Ee.enabled);this._popper=B.createPopper(yt,this._menu,ae),we&&K.setDataAttribute(this._menu,"popper","static")}_isShown(at=this._element){return at.classList.contains(qt)}_getMenuElement(){return J.next(this._element,Te)[0]}_getPlacement(){const at=this._element.parentNode;if(at.classList.contains("dropend"))return nt;if(at.classList.contains("dropstart"))return it;const yt="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return at.classList.contains("dropup")?yt?xe:Oe:yt?le:ye}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:at}=this._config;return"string"==typeof at?at.split(",").map(yt=>Number.parseInt(yt,10)):"function"==typeof at?yt=>at(yt,this._element):at}_getPopperConfig(){const at={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(at.modifiers=[{name:"applyStyles",enabled:!1}]),An(An({},at),"function"==typeof this._config.popperConfig?this._config.popperConfig(at):this._config.popperConfig)}_selectMenuItem({key:at,target:yt}){const ae=J.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(r);ae.length&&b(ae,yt,at===de,!ae.includes(yt)).focus()}static jQueryInterface(at){return this.each(function(){const yt=Bt.getOrCreateInstance(this,at);if("string"==typeof at){if(void 0===yt[at])throw new TypeError(`No method named "${at}"`);yt[at]()}})}static clearMenus(at){if(at&&(2===at.button||"keyup"===at.type&&"Tab"!==at.key))return;const yt=J.find(ce);for(let ae=0,we=yt.length;ae<we;ae++){const Ee=Bt.getInstance(yt[ae]);if(!Ee||!1===Ee._config.autoClose||!Ee._isShown())continue;const Je={relatedTarget:Ee._element};if(at){const pn=at.composedPath(),In=pn.includes(Ee._menu);if(pn.includes(Ee._element)||"inside"===Ee._config.autoClose&&!In||"outside"===Ee._config.autoClose&&In||Ee._menu.contains(at.target)&&("keyup"===at.type&&"Tab"===at.key||/input|select|option|textarea|form/i.test(at.target.tagName)))continue;"click"===at.type&&(Je.clickEvent=at)}Ee._completeHide(Je)}}static getParentFromElement(at){return e(at)||at.parentNode}static dataApiKeydownHandler(at){if(/input|textarea/i.test(at.target.tagName)?"Space"===at.key||at.key!==Gt&&(at.key!==de&&at.key!==Xt||at.target.closest(Te)):!Kt.test(at.key))return;const yt=this.classList.contains(qt);if(!yt&&at.key===Gt||(at.preventDefault(),at.stopPropagation(),d(this)))return;const ae=this.matches(ce)?this:J.prev(this,ce)[0],we=Bt.getOrCreateInstance(ae);if(at.key!==Gt)return at.key===Xt||at.key===de?(yt||we.show(),void we._selectMenuItem(at)):void(yt&&"Space"!==at.key||Bt.clearMenus());we.hide()}}j.on(document,Mt,ce,Bt.dataApiKeydownHandler),j.on(document,Mt,Te,Bt.dataApiKeydownHandler),j.on(document,kt,Bt.clearMenus),j.on(document,"keyup.bs.dropdown.data-api",Bt.clearMenus),j.on(document,kt,ce,function(ue){ue.preventDefault(),Bt.getOrCreateInstance(this).toggle()}),m(Bt);const Rt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",jt=".sticky-top";class Ut{constructor(){this._element=document.body}getWidth(){const at=document.documentElement.clientWidth;return Math.abs(window.innerWidth-at)}hide(){const at=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",yt=>yt+at),this._setElementAttributes(Rt,"paddingRight",yt=>yt+at),this._setElementAttributes(jt,"marginRight",yt=>yt-at)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(at,yt,ae){const we=this.getWidth();this._applyManipulationCallback(at,Ee=>{if(Ee!==this._element&&window.innerWidth>Ee.clientWidth+we)return;this._saveInitialAttribute(Ee,yt);const Je=window.getComputedStyle(Ee)[yt];Ee.style[yt]=`${ae(Number.parseFloat(Je))}px`})}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(Rt,"paddingRight"),this._resetElementAttributes(jt,"marginRight")}_saveInitialAttribute(at,yt){const ae=at.style[yt];ae&&K.setDataAttribute(at,yt,ae)}_resetElementAttributes(at,yt){this._applyManipulationCallback(at,ae=>{const we=K.getDataAttribute(ae,yt);void 0===we?ae.style.removeProperty(yt):(K.removeDataAttribute(ae,yt),ae.style[yt]=we)})}_applyManipulationCallback(at,yt){s(at)?yt(at):J.find(at,this._element).forEach(yt)}isOverflowing(){return this.getWidth()>0}}const ee={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},ie={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Ae="mousedown.bs.backdrop";class re{constructor(at){this._config=this._getConfig(at),this._isAppended=!1,this._element=null}show(at){this._config.isVisible?(this._append(),this._config.isAnimated&&this._getElement(),this._getElement().classList.add("show"),this._emulateAnimation(()=>{y(at)})):y(at)}hide(at){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),y(at)})):y(at)}_getElement(){if(!this._element){const at=document.createElement("div");at.className=this._config.className,this._config.isAnimated&&at.classList.add("fade"),this._element=at}return this._element}_getConfig(at){return(at=An(An({},ee),"object"==typeof at?at:{})).rootElement=a(at.rootElement),i("backdrop",at,ie),at}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),j.on(this._getElement(),Ae,()=>{y(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(j.off(this._element,Ae),this._element.remove(),this._isAppended=!1)}_emulateAnimation(at){A(at,this._getElement(),this._config.isAnimated)}}const ve={trapElement:null,autofocus:!0},Pe={trapElement:"element",autofocus:"boolean"},se=".bs.focustrap",te="backward";class Le{constructor(at){this._config=this._getConfig(at),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:at,autofocus:yt}=this._config;this._isActive||(yt&&at.focus(),j.off(document,se),j.on(document,"focusin.bs.focustrap",ae=>this._handleFocusin(ae)),j.on(document,"keydown.tab.bs.focustrap",ae=>this._handleKeydown(ae)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,j.off(document,se))}_handleFocusin(at){const{target:yt}=at,{trapElement:ae}=this._config;if(yt===document||yt===ae||ae.contains(yt))return;const we=J.focusableChildren(ae);0===we.length?ae.focus():this._lastTabNavDirection===te?we[we.length-1].focus():we[0].focus()}_handleKeydown(at){"Tab"===at.key&&(this._lastTabNavDirection=at.shiftKey?te:"forward")}_getConfig(at){return at=An(An({},ve),"object"==typeof at?at:{}),i("focustrap",at,Pe),at}}const ke={backdrop:!0,keyboard:!0,focus:!0},he={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Fe="hidden.bs.modal",Ie="show.bs.modal",Re="resize.bs.modal",Ze="click.dismiss.bs.modal",We="keydown.dismiss.bs.modal",Be="mousedown.dismiss.bs.modal",be="modal-open",Me="modal-static";class ze extends Z{constructor(at,yt){super(at),this._config=this._getConfig(yt),this._dialog=J.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new Ut}static get Default(){return ke}static get NAME(){return"modal"}toggle(at){return this._isShown?this.hide():this.show(at)}show(at){this._isShown||this._isTransitioning||j.trigger(this._element,Ie,{relatedTarget:at}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(be),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),j.on(this._dialog,Be,()=>{j.one(this._element,"mouseup.dismiss.bs.modal",yt=>{yt.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(at)))}hide(){if(!this._isShown||this._isTransitioning||j.trigger(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const at=this._isAnimated();at&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),j.off(this._element,Ze),j.off(this._dialog,Be),this._queueCallback(()=>this._hideModal(),this._element,at)}dispose(){[window,this._dialog].forEach(at=>j.off(at,".bs.modal")),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new re({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Le({trapElement:this._element})}_getConfig(at){return at=An(An(An({},ke),K.getDataAttributes(this._element)),"object"==typeof at?at:{}),i("modal",at,he),at}_showElement(at){const yt=this._isAnimated(),ae=J.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,ae&&(ae.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,j.trigger(this._element,"shown.bs.modal",{relatedTarget:at})},this._dialog,yt)}_setEscapeEvent(){this._isShown?j.on(this._element,We,at=>{this._config.keyboard&&"Escape"===at.key?(at.preventDefault(),this.hide()):this._config.keyboard||"Escape"!==at.key||this._triggerBackdropTransition()}):j.off(this._element,We)}_setResizeEvent(){this._isShown?j.on(window,Re,()=>this._adjustDialog()):j.off(window,Re)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(be),this._resetAdjustments(),this._scrollBar.reset(),j.trigger(this._element,Fe)})}_showBackdrop(at){j.on(this._element,Ze,yt=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:yt.target===yt.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())}),this._backdrop.show(at)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(j.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const{classList:at,scrollHeight:yt,style:ae}=this._element,we=yt>document.documentElement.clientHeight;!we&&"hidden"===ae.overflowY||at.contains(Me)||(we||(ae.overflowY="hidden"),at.add(Me),this._queueCallback(()=>{at.remove(Me),we||this._queueCallback(()=>{ae.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const at=this._element.scrollHeight>document.documentElement.clientHeight,yt=this._scrollBar.getWidth(),ae=yt>0;(!ae&&at&&!x()||ae&&!at&&x())&&(this._element.style.paddingLeft=`${yt}px`),(ae&&!at&&!x()||!ae&&at&&x())&&(this._element.style.paddingRight=`${yt}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(at,yt){return this.each(function(){const ae=ze.getOrCreateInstance(this,at);if("string"==typeof at){if(void 0===ae[at])throw new TypeError(`No method named "${at}"`);ae[at](yt)}})}}j.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(ue){const at=e(this);["A","AREA"].includes(this.tagName)&&ue.preventDefault(),j.one(at,Ie,ae=>{ae.defaultPrevented||j.one(at,Fe,()=>{r(this)&&this.focus()})});const yt=J.findOne(".modal.show");yt&&ze.getInstance(yt).hide(),ze.getOrCreateInstance(at).toggle(this)}),q(ze),m(ze);const Ce="offcanvas",Ve={backdrop:!0,keyboard:!0,scroll:!1},Xe={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},rn=".offcanvas.show",ln="hidden.bs.offcanvas";class on extends Z{constructor(at,yt){super(at),this._config=this._getConfig(yt),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return Ce}static get Default(){return Ve}toggle(at){return this._isShown?this.hide():this.show(at)}show(at){this._isShown||j.trigger(this._element,"show.bs.offcanvas",{relatedTarget:at}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new Ut).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),this._queueCallback(()=>{this._config.scroll||this._focustrap.activate(),j.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:at})},this._element,!0))}hide(){this._isShown&&(j.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide(),this._queueCallback(()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new Ut).reset(),j.trigger(this._element,ln)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(at){return at=An(An(An({},Ve),K.getDataAttributes(this._element)),"object"==typeof at?at:{}),i(Ce,at,Xe),at}_initializeBackDrop(){return new re({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new Le({trapElement:this._element})}_addEventListeners(){j.on(this._element,"keydown.dismiss.bs.offcanvas",at=>{this._config.keyboard&&"Escape"===at.key&&this.hide()})}static jQueryInterface(at){return this.each(function(){const yt=on.getOrCreateInstance(this,at);if("string"==typeof at){if(void 0===yt[at]||at.startsWith("_")||"constructor"===at)throw new TypeError(`No method named "${at}"`);yt[at](this)}})}}j.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(ue){const at=e(this);if(["A","AREA"].includes(this.tagName)&&ue.preventDefault(),d(this))return;j.one(at,ln,()=>{r(this)&&this.focus()});const yt=J.findOne(rn);yt&&yt!==at&&on.getInstance(yt).hide(),on.getOrCreateInstance(at).toggle(this)}),j.on(window,"load.bs.offcanvas.data-api",()=>J.find(rn).forEach(ue=>on.getOrCreateInstance(ue).show())),q(on),m(on);const cn=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),dn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,$e=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,mn=(ue,at)=>{const yt=ue.nodeName.toLowerCase();if(at.includes(yt))return!cn.has(yt)||Boolean(dn.test(ue.nodeValue)||$e.test(ue.nodeValue));const ae=at.filter(we=>we instanceof RegExp);for(let we=0,Ee=ae.length;we<Ee;we++)if(ae[we].test(yt))return!0;return!1};function kn(ue,at,yt){if(!ue.length)return ue;if(yt&&"function"==typeof yt)return yt(ue);const ae=(new window.DOMParser).parseFromString(ue,"text/html"),we=[].concat(...ae.body.querySelectorAll("*"));for(let Ee=0,Je=we.length;Ee<Je;Ee++){const pn=we[Ee],In=pn.nodeName.toLowerCase();if(!Object.keys(at).includes(In)){pn.remove();continue}const Bn=[].concat(...pn.attributes),Hn=[].concat(at["*"]||[],at[In]||[]);Bn.forEach(Ln=>{mn(Ln,Hn)||pn.removeAttribute(Ln.nodeName)})}return ae.body.innerHTML}const Ue="tooltip",fn=new Set(["sanitize","allowList","sanitizeFn"]),sn={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Ge={AUTO:"auto",TOP:"top",RIGHT:x()?"left":"right",BOTTOM:"bottom",LEFT:x()?"right":"left"},bn={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},hn={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Ke="fade",qe="show",Ne="show",Sn=".tooltip-inner",xn="hide.bs.modal",Tn="hover";class Mn extends Z{constructor(at,yt){if(void 0===B)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(at),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(yt),this.tip=null,this._setListeners()}static get Default(){return bn}static get NAME(){return Ue}static get Event(){return hn}static get DefaultType(){return sn}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(at){if(this._isEnabled)if(at){const yt=this._initializeOnDelegatedTarget(at);yt._activeTrigger.click=!yt._activeTrigger.click,yt._isWithActiveTrigger()?yt._enter(null,yt):yt._leave(null,yt)}else{if(this.getTipElement().classList.contains(qe))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),j.off(this._element.closest(".modal"),xn,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const at=j.trigger(this._element,this.constructor.Event.SHOW),yt=f(this._element),ae=null===yt?this._element.ownerDocument.documentElement.contains(this._element):yt.contains(this._element);if(at.defaultPrevented||!ae)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(Sn).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const we=this.getTipElement(),Ee=(Ln=>{do{Ln+=Math.floor(1e6*Math.random())}while(document.getElementById(Ln));return Ln})(this.constructor.NAME);we.setAttribute("id",Ee),this._element.setAttribute("aria-describedby",Ee),this._config.animation&&we.classList.add(Ke);const Je="function"==typeof this._config.placement?this._config.placement.call(this,we,this._element):this._config.placement,pn=this._getAttachment(Je);this._addAttachmentClass(pn);const{container:In}=this._config;I.set(we,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(In.append(we),j.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=B.createPopper(this._element,we,this._getPopperConfig(pn)),we.classList.add(qe);const Bn=this._resolvePossibleFunction(this._config.customClass);Bn&&we.classList.add(...Bn.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(Ln=>{j.on(Ln,"mouseover",h)});const Hn=this.tip.classList.contains(Ke);this._queueCallback(()=>{const Ln=this._hoverState;this._hoverState=null,j.trigger(this._element,this.constructor.Event.SHOWN),"out"===Ln&&this._leave(null,this)},this.tip,Hn)}hide(){if(!this._popper)return;const at=this.getTipElement();if(j.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;at.classList.remove(qe),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(ae=>j.off(ae,"mouseover",h)),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const yt=this.tip.classList.contains(Ke);this._queueCallback(()=>{this._isWithActiveTrigger()||(this._hoverState!==Ne&&at.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),j.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},this.tip,yt),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const at=document.createElement("div");at.innerHTML=this._config.template;const yt=at.children[0];return this.setContent(yt),yt.classList.remove(Ke,qe),this.tip=yt,this.tip}setContent(at){this._sanitizeAndSetContent(at,this.getTitle(),Sn)}_sanitizeAndSetContent(at,yt,ae){const we=J.findOne(ae,at);yt||!we?this.setElementContent(we,yt):we.remove()}setElementContent(at,yt){if(null!==at)return s(yt)?(yt=a(yt),void(this._config.html?yt.parentNode!==at&&(at.innerHTML="",at.append(yt)):at.textContent=yt.textContent)):void(this._config.html?(this._config.sanitize&&(yt=kn(yt,this._config.allowList,this._config.sanitizeFn)),at.innerHTML=yt):at.textContent=yt)}getTitle(){const at=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(at)}updateAttachment(at){return"right"===at?"end":"left"===at?"start":at}_initializeOnDelegatedTarget(at,yt){return yt||this.constructor.getOrCreateInstance(at.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:at}=this._config;return"string"==typeof at?at.split(",").map(yt=>Number.parseInt(yt,10)):"function"==typeof at?yt=>at(yt,this._element):at}_resolvePossibleFunction(at){return"function"==typeof at?at.call(this._element):at}_getPopperConfig(at){const yt={placement:at,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:ae=>this._handlePopperPlacementChange(ae)}],onFirstUpdate:ae=>{ae.options.placement!==ae.placement&&this._handlePopperPlacementChange(ae)}};return An(An({},yt),"function"==typeof this._config.popperConfig?this._config.popperConfig(yt):this._config.popperConfig)}_addAttachmentClass(at){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(at)}`)}_getAttachment(at){return Ge[at.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(at=>{if("click"===at)j.on(this._element,this.constructor.Event.CLICK,this._config.selector,yt=>this.toggle(yt));else if("manual"!==at){const ae=at===Tn?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;j.on(this._element,at===Tn?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,this._config.selector,we=>this._enter(we)),j.on(this._element,ae,this._config.selector,we=>this._leave(we))}}),this._hideModalHandler=()=>{this._element&&this.hide()},j.on(this._element.closest(".modal"),xn,this._hideModalHandler),this._config.selector?this._config=ea(An({},this._config),{trigger:"manual",selector:""}):this._fixTitle()}_fixTitle(){const at=this._element.getAttribute("title"),yt=typeof this._element.getAttribute("data-bs-original-title");(at||"string"!==yt)&&(this._element.setAttribute("data-bs-original-title",at||""),!at||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",at),this._element.setAttribute("title",""))}_enter(at,yt){yt=this._initializeOnDelegatedTarget(at,yt),at&&(yt._activeTrigger["focusin"===at.type?"focus":Tn]=!0),yt.getTipElement().classList.contains(qe)||yt._hoverState===Ne?yt._hoverState=Ne:(clearTimeout(yt._timeout),yt._hoverState=Ne,yt._config.delay&&yt._config.delay.show?yt._timeout=setTimeout(()=>{yt._hoverState===Ne&&yt.show()},yt._config.delay.show):yt.show())}_leave(at,yt){yt=this._initializeOnDelegatedTarget(at,yt),at&&(yt._activeTrigger["focusout"===at.type?"focus":Tn]=yt._element.contains(at.relatedTarget)),yt._isWithActiveTrigger()||(clearTimeout(yt._timeout),yt._hoverState="out",yt._config.delay&&yt._config.delay.hide?yt._timeout=setTimeout(()=>{"out"===yt._hoverState&&yt.hide()},yt._config.delay.hide):yt.hide())}_isWithActiveTrigger(){for(const at in this._activeTrigger)if(this._activeTrigger[at])return!0;return!1}_getConfig(at){const yt=K.getDataAttributes(this._element);return Object.keys(yt).forEach(ae=>{fn.has(ae)&&delete yt[ae]}),(at=An(An(An({},this.constructor.Default),yt),"object"==typeof at&&at?at:{})).container=!1===at.container?document.body:a(at.container),"number"==typeof at.delay&&(at.delay={show:at.delay,hide:at.delay}),"number"==typeof at.title&&(at.title=at.title.toString()),"number"==typeof at.content&&(at.content=at.content.toString()),i(Ue,at,this.constructor.DefaultType),at.sanitize&&(at.template=kn(at.template,at.allowList,at.sanitizeFn)),at}_getDelegateConfig(){const at={};for(const yt in this._config)this.constructor.Default[yt]!==this._config[yt]&&(at[yt]=this._config[yt]);return at}_cleanTipClass(){const at=this.getTipElement(),yt=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),ae=at.getAttribute("class").match(yt);null!==ae&&ae.length>0&&ae.map(we=>we.trim()).forEach(we=>at.classList.remove(we))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(at){const{state:yt}=at;yt&&(this.tip=yt.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(yt.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(at){return this.each(function(){const yt=Mn.getOrCreateInstance(this,at);if("string"==typeof at){if(void 0===yt[at])throw new TypeError(`No method named "${at}"`);yt[at]()}})}}m(Mn);const En=ea(An({},Mn.Default),{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Cn=ea(An({},Mn.DefaultType),{content:"(string|element|function)"}),Wn={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};class Rn extends Mn{static get Default(){return En}static get NAME(){return"popover"}static get Event(){return Wn}static get DefaultType(){return Cn}isWithContent(){return this.getTitle()||this._getContent()}setContent(at){this._sanitizeAndSetContent(at,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(at,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(at){return this.each(function(){const yt=Rn.getOrCreateInstance(this,at);if("string"==typeof at){if(void 0===yt[at])throw new TypeError(`No method named "${at}"`);yt[at]()}})}}m(Rn);const Xn="scrollspy",Jn={offset:10,method:"auto",target:""},dr={offset:"number",method:"string",target:"(string|element)"},Dn="active",Un=".nav-link, .list-group-item, .dropdown-item",$n="position";class jn extends Z{constructor(at,yt){super(at),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(yt),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,j.on(this._scrollElement,"scroll.bs.scrollspy",()=>this._process()),this.refresh(),this._process()}static get Default(){return Jn}static get NAME(){return Xn}refresh(){const yt="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":$n:this._config.method,ae=yt===$n?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),J.find(Un,this._config.target).map(we=>{const Ee=o(we),Je=Ee?J.findOne(Ee):null;if(Je){const pn=Je.getBoundingClientRect();if(pn.width||pn.height)return[K[yt](Je).top+ae,Ee]}return null}).filter(we=>we).sort((we,Ee)=>we[0]-Ee[0]).forEach(we=>{this._offsets.push(we[0]),this._targets.push(we[1])})}dispose(){j.off(this._scrollElement,".bs.scrollspy"),super.dispose()}_getConfig(at){return(at=An(An(An({},Jn),K.getDataAttributes(this._element)),"object"==typeof at&&at?at:{})).target=a(at.target)||document.documentElement,i(Xn,at,dr),at}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const at=this._getScrollTop()+this._config.offset,yt=this._getScrollHeight(),ae=this._config.offset+yt-this._getOffsetHeight();if(this._scrollHeight!==yt&&this.refresh(),at>=ae){const we=this._targets[this._targets.length-1];this._activeTarget!==we&&this._activate(we)}else{if(this._activeTarget&&at<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let we=this._offsets.length;we--;)this._activeTarget!==this._targets[we]&&at>=this._offsets[we]&&(void 0===this._offsets[we+1]||at<this._offsets[we+1])&&this._activate(this._targets[we])}}_activate(at){this._activeTarget=at,this._clear();const yt=Un.split(",").map(we=>`${we}[data-bs-target="${at}"],${we}[href="${at}"]`),ae=J.findOne(yt.join(","),this._config.target);ae.classList.add(Dn),ae.classList.contains("dropdown-item")?J.findOne(".dropdown-toggle",ae.closest(".dropdown")).classList.add(Dn):J.parents(ae,".nav, .list-group").forEach(we=>{J.prev(we,".nav-link, .list-group-item").forEach(Ee=>Ee.classList.add(Dn)),J.prev(we,".nav-item").forEach(Ee=>{J.children(Ee,".nav-link").forEach(Je=>Je.classList.add(Dn))})}),j.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:at})}_clear(){J.find(Un,this._config.target).filter(at=>at.classList.contains(Dn)).forEach(at=>at.classList.remove(Dn))}static jQueryInterface(at){return this.each(function(){const yt=jn.getOrCreateInstance(this,at);if("string"==typeof at){if(void 0===yt[at])throw new TypeError(`No method named "${at}"`);yt[at]()}})}}j.on(window,"load.bs.scrollspy.data-api",()=>{J.find('[data-bs-spy="scroll"]').forEach(ue=>new jn(ue))}),m(jn);const Mr="active",Hr=".active",Ar=":scope > li > .active";class fr extends Z{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(Mr))return;let at;const yt=e(this._element),ae=this._element.closest(".nav, .list-group");ae&&(at=J.find("UL"===ae.nodeName||"OL"===ae.nodeName?Ar:Hr,ae),at=at[at.length-1]);const we=at?j.trigger(at,"hide.bs.tab",{relatedTarget:this._element}):null;if(j.trigger(this._element,"show.bs.tab",{relatedTarget:at}).defaultPrevented||null!==we&&we.defaultPrevented)return;this._activate(this._element,ae);const Ee=()=>{j.trigger(at,"hidden.bs.tab",{relatedTarget:this._element}),j.trigger(this._element,"shown.bs.tab",{relatedTarget:at})};yt?this._activate(yt,yt.parentNode,Ee):Ee()}_activate(at,yt,ae){const we=(!yt||"UL"!==yt.nodeName&&"OL"!==yt.nodeName?J.children(yt,Hr):J.find(Ar,yt))[0],Ee=ae&&we&&we.classList.contains("fade"),Je=()=>this._transitionComplete(at,we,ae);we&&Ee?(we.classList.remove("show"),this._queueCallback(Je,at,!0)):Je()}_transitionComplete(at,yt,ae){if(yt){yt.classList.remove(Mr);const Ee=J.findOne(":scope > .dropdown-menu .active",yt.parentNode);Ee&&Ee.classList.remove(Mr),"tab"===yt.getAttribute("role")&&yt.setAttribute("aria-selected",!1)}at.classList.add(Mr),"tab"===at.getAttribute("role")&&at.setAttribute("aria-selected",!0),at.classList.contains("fade")&&at.classList.add("show");let we=at.parentNode;if(we&&"LI"===we.nodeName&&(we=we.parentNode),we&&we.classList.contains("dropdown-menu")){const Ee=at.closest(".dropdown");Ee&&J.find(".dropdown-toggle",Ee).forEach(Je=>Je.classList.add(Mr)),at.setAttribute("aria-expanded",!0)}ae&&ae()}static jQueryInterface(at){return this.each(function(){const yt=fr.getOrCreateInstance(this);if("string"==typeof at){if(void 0===yt[at])throw new TypeError(`No method named "${at}"`);yt[at]()}})}}j.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(ue){["A","AREA"].includes(this.tagName)&&ue.preventDefault(),d(this)||fr.getOrCreateInstance(this).show()}),m(fr);const cr="show",hr="showing",Br={animation:"boolean",autohide:"boolean",delay:"number"},Er={animation:!0,autohide:!0,delay:5e3};class Sr extends Z{constructor(at,yt){super(at),this._config=this._getConfig(yt),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return Br}static get Default(){return Er}static get NAME(){return"toast"}show(){j.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(cr),this._element.classList.add(hr),this._queueCallback(()=>{this._element.classList.remove(hr),j.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this._element.classList.contains(cr)&&(j.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(hr),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(hr),this._element.classList.remove(cr),j.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this._element.classList.contains(cr)&&this._element.classList.remove(cr),super.dispose()}_getConfig(at){return at=An(An(An({},Er),K.getDataAttributes(this._element)),"object"==typeof at&&at?at:{}),i("toast",at,this.constructor.DefaultType),at}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(at,yt){switch(at.type){case"mouseover":case"mouseout":this._hasMouseInteraction=yt;break;case"focusin":case"focusout":this._hasKeyboardInteraction=yt}if(yt)return void this._clearTimeout();const ae=at.relatedTarget;this._element===ae||this._element.contains(ae)||this._maybeScheduleHide()}_setListeners(){j.on(this._element,"mouseover.bs.toast",at=>this._onInteraction(at,!0)),j.on(this._element,"mouseout.bs.toast",at=>this._onInteraction(at,!1)),j.on(this._element,"focusin.bs.toast",at=>this._onInteraction(at,!0)),j.on(this._element,"focusout.bs.toast",at=>this._onInteraction(at,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(at){return this.each(function(){const yt=Sr.getOrCreateInstance(this,at);if("string"==typeof at){if(void 0===yt[at])throw new TypeError(`No method named "${at}"`);yt[at](this)}})}}return q(Sr),m(Sr),{Alert:D,Button:H,Carousel:rt,Collapse:Vt,Dropdown:Bt,Modal:ze,Offcanvas:on,Popover:Rn,ScrollSpy:jn,Tab:fr,Toast:Sr,Tooltip:Mn}}),function(c){"object"==typeof exports&&"undefined"!=typeof module?module.exports=c():"function"==typeof define&&define.amd?define([],c):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Plotly=c()}(function(){return function c(tt,B,t){function l(n,s){if(!B[n]){if(!tt[n]){var a="function"==typeof require&&require;if(!s&&a)return a(n,!0);if(o)return o(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=B[n]={exports:{}};tt[n][0].call(r.exports,function(d){return l(tt[n][1][d]||d)},r,r.exports,c,tt,B,t)}return B[n].exports}for(var o="function"==typeof require&&require,e=0;e<t.length;e++)l(t[e]);return l}({1:[function(c,tt,B){"use strict";var t=c("../src/lib"),l={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:#fff;","X .select-outline-2":"stroke:#000;stroke-dasharray:2px 2px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in l){var e=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");t.addStyleRule(e,l[o])}},{"../src/lib":232}],2:[function(c,tt,B){"use strict";tt.exports=c("../src/transforms/aggregate")},{"../src/transforms/aggregate":386}],3:[function(c,tt,B){"use strict";tt.exports=c("../src/traces/bar")},{"../src/traces/bar":336}],4:[function(c,tt,B){"use strict";tt.exports=c("../src/components/calendars")},{"../src/components/calendars":100}],5:[function(c,tt,B){"use strict";tt.exports=c("../src/core")},{"../src/core":214}],6:[function(c,tt,B){"use strict";tt.exports=c("../src/transforms/filter")},{"../src/transforms/filter":387}],7:[function(c,tt,B){"use strict";tt.exports=c("../src/transforms/groupby")},{"../src/transforms/groupby":388}],8:[function(c,tt,B){"use strict";var t=c("./core");t.register([c("./bar"),c("./pie"),c("./aggregate"),c("./filter"),c("./groupby"),c("./sort"),c("./calendars")]),tt.exports=t},{"./aggregate":2,"./bar":3,"./calendars":4,"./core":5,"./filter":6,"./groupby":7,"./pie":9,"./sort":10}],9:[function(c,tt,B){"use strict";tt.exports=c("../src/traces/pie")},{"../src/traces/pie":351}],10:[function(c,tt,B){"use strict";tt.exports=c("../src/transforms/sort")},{"../src/transforms/sort":390}],11:[function(c,tt,B){(function(){var t={version:"3.8.0"},l=[].slice,o=function(u){return l.call(u)},e=self.document;function n(u){return u&&(u.ownerDocument||u.document||u).documentElement}function s(u){return u&&(u.ownerDocument&&u.ownerDocument.defaultView||u.document&&u||u.defaultView)}if(e)try{o(e.documentElement.childNodes)}catch(u){o=function(_){for(var O=_.length,V=new Array(O);O--;)V[O]=_[O];return V}}if(Date.now||(Date.now=function(){return+new Date}),e)try{e.createElement("DIV").style.setProperty("opacity",0,"")}catch(u){var a=this.Element.prototype,i=a.setAttribute,r=a.setAttributeNS,d=this.CSSStyleDeclaration.prototype,f=d.setProperty;a.setAttribute=function(_,O){i.call(this,_,O+"")},a.setAttributeNS=function(_,O,V){r.call(this,_,O,V+"")},d.setProperty=function(_,O,V){f.call(this,_,O+"",V)}}function h(u,_){return u<_?-1:u>_?1:u>=_?0:NaN}function p(u){return null===u?NaN:+u}function T(u){return!isNaN(u)}function w(u){return{left:function(_,O,V,X){for(arguments.length<3&&(V=0),arguments.length<4&&(X=_.length);V<X;){var et=V+X>>>1;u(_[et],O)<0?V=et+1:X=et}return V},right:function(_,O,V,X){for(arguments.length<3&&(V=0),arguments.length<4&&(X=_.length);V<X;){var et=V+X>>>1;u(_[et],O)>0?X=et:V=et+1}return V}}}t.ascending=h,t.descending=function(u,_){return _<u?-1:_>u?1:_>=u?0:NaN},t.min=function(u,_){var O,V,X=-1,et=u.length;if(1===arguments.length){for(;++X<et;)if(null!=(V=u[X])&&V>=V){O=V;break}for(;++X<et;)null!=(V=u[X])&&O>V&&(O=V)}else{for(;++X<et;)if(null!=(V=_.call(u,u[X],X))&&V>=V){O=V;break}for(;++X<et;)null!=(V=_.call(u,u[X],X))&&O>V&&(O=V)}return O},t.max=function(u,_){var O,V,X=-1,et=u.length;if(1===arguments.length){for(;++X<et;)if(null!=(V=u[X])&&V>=V){O=V;break}for(;++X<et;)null!=(V=u[X])&&V>O&&(O=V)}else{for(;++X<et;)if(null!=(V=_.call(u,u[X],X))&&V>=V){O=V;break}for(;++X<et;)null!=(V=_.call(u,u[X],X))&&V>O&&(O=V)}return O},t.extent=function(u,_){var O,V,X,et=-1,st=u.length;if(1===arguments.length){for(;++et<st;)if(null!=(V=u[et])&&V>=V){O=X=V;break}for(;++et<st;)null!=(V=u[et])&&(O>V&&(O=V),X<V&&(X=V))}else{for(;++et<st;)if(null!=(V=_.call(u,u[et],et))&&V>=V){O=X=V;break}for(;++et<st;)null!=(V=_.call(u,u[et],et))&&(O>V&&(O=V),X<V&&(X=V))}return[O,X]},t.sum=function(u,_){var O,V=0,X=u.length,et=-1;if(1===arguments.length)for(;++et<X;)T(O=+u[et])&&(V+=O);else for(;++et<X;)T(O=+_.call(u,u[et],et))&&(V+=O);return V},t.mean=function(u,_){var O,V=0,X=u.length,et=-1,st=X;if(1===arguments.length)for(;++et<X;)T(O=p(u[et]))?V+=O:--st;else for(;++et<X;)T(O=p(_.call(u,u[et],et)))?V+=O:--st;if(st)return V/st},t.quantile=function(u,_){var O=(u.length-1)*_+1,V=Math.floor(O),X=+u[V-1],et=O-V;return et?X+et*(u[V]-X):X},t.median=function(u,_){var O,V=[],X=u.length,et=-1;if(1===arguments.length)for(;++et<X;)T(O=p(u[et]))&&V.push(O);else for(;++et<X;)T(O=p(_.call(u,u[et],et)))&&V.push(O);if(V.length)return t.quantile(V.sort(h),.5)},t.variance=function(u,_){var O,V,X=u.length,et=0,st=0,ht=-1,ft=0;if(1===arguments.length)for(;++ht<X;)T(O=p(u[ht]))&&(st+=(V=O-et)*(O-(et+=V/++ft)));else for(;++ht<X;)T(O=p(_.call(u,u[ht],ht)))&&(st+=(V=O-et)*(O-(et+=V/++ft)));if(ft>1)return st/(ft-1)},t.deviation=function(){var u=t.variance.apply(this,arguments);return u&&Math.sqrt(u)};var x=w(h);function m(u){return u.length}t.bisectLeft=x.left,t.bisect=t.bisectRight=x.right,t.bisector=function(u){return w(1===u.length?function(_,O){return h(u(_),O)}:u)},t.shuffle=function(u,_,O){(et=arguments.length)<3&&(O=u.length,et<2&&(_=0));for(var V,X,et=O-_;et;)X=Math.random()*et--|0,V=u[et+_],u[et+_]=u[X+_],u[X+_]=V;return u},t.permute=function(u,_){for(var O=_.length,V=new Array(O);O--;)V[O]=u[_[O]];return V},t.pairs=function(u){for(var _=0,O=u.length-1,V=u[0],X=new Array(O<0?0:O);_<O;)X[_]=[V,V=u[++_]];return X},t.transpose=function(u){if(!(X=u.length))return[];for(var _=-1,O=t.min(u,m),V=new Array(O);++_<O;)for(var X,et=-1,st=V[_]=new Array(X);++et<X;)st[et]=u[et][_];return V},t.zip=function(){return t.transpose(arguments)},t.keys=function(u){var _=[];for(var O in u)_.push(O);return _},t.values=function(u){var _=[];for(var O in u)_.push(u[O]);return _},t.entries=function(u){var _=[];for(var O in u)_.push({key:O,value:u[O]});return _},t.merge=function(u){for(var _,O,V,X=u.length,et=-1,st=0;++et<X;)st+=u[et].length;for(O=new Array(st);--X>=0;)for(_=(V=u[X]).length;--_>=0;)O[--st]=V[_];return O};var y=Math.abs;function A(u){for(var _=1;u*_%1;)_*=10;return _}function b(u,_){for(var O in _)Object.defineProperty(u.prototype,O,{value:_[O],enumerable:!1})}function k(){this._=Object.create(null)}function L(u){return"__proto__"==(u+="")||"\0"===u[0]?"\0"+u:u}function g(u){return"\0"===(u+="")[0]?u.slice(1):u}function S(u){return L(u)in this._}function E(u){return(u=L(u))in this._&&delete this._[u]}function v(){var u=[];for(var _ in this._)u.push(g(_));return u}function F(){var u=0;for(var _ in this._)++u;return u}function N(){for(var u in this._)return!1;return!0}function z(){this._=Object.create(null)}function U(u){return u}function Y(u,_,O){return function(){var V=O.apply(_,arguments);return V===_?u:V}}function $(u,_){if(_ in u)return _;_=_.charAt(0).toUpperCase()+_.slice(1);for(var O=0,V=ot.length;O<V;++O){var X=ot[O]+_;if(X in u)return X}}t.range=function(u,_,O){if(arguments.length<3&&(O=1,arguments.length<2&&(_=u,u=0)),(_-u)/O==1/0)throw new Error("infinite range");var V,X=[],et=A(y(O)),st=-1;if(u*=et,_*=et,(O*=et)<0)for(;(V=u+O*++st)>_;)X.push(V/et);else for(;(V=u+O*++st)<_;)X.push(V/et);return X},t.map=function(u,_){var O=new k;if(u instanceof k)u.forEach(function(ht,ft){O.set(ht,ft)});else if(Array.isArray(u)){var V,X=-1,et=u.length;if(1===arguments.length)for(;++X<et;)O.set(X,u[X]);else for(;++X<et;)O.set(_.call(u,V=u[X],X),V)}else for(var st in u)O.set(st,u[st]);return O},b(k,{has:S,get:function(u){return this._[L(u)]},set:function(u,_){return this._[L(u)]=_},remove:E,keys:v,values:function(){var u=[];for(var _ in this._)u.push(this._[_]);return u},entries:function(){var u=[];for(var _ in this._)u.push({key:g(_),value:this._[_]});return u},size:F,empty:N,forEach:function(u){for(var _ in this._)u.call(this,g(_),this._[_])}}),t.nest=function(){var u,_,O={},V=[],X=[];function et(st,ht,ft){if(ft>=V.length)return _?_.call(O,ht):u?ht.sort(u):ht;for(var pt,_t,Ft,Ht,Jt=-1,oe=ht.length,Zt=V[ft++],Qt=new k;++Jt<oe;)(Ht=Qt.get(pt=Zt(_t=ht[Jt])))?Ht.push(_t):Qt.set(pt,[_t]);return st?(_t=st(),Ft=function(Yt,pe){_t.set(Yt,et(st,pe,ft))}):(_t={},Ft=function(Yt,pe){_t[Yt]=et(st,pe,ft)}),Qt.forEach(Ft),_t}return O.map=function(st,ht){return et(ht,st,0)},O.entries=function(st){return function ht(ft,pt){if(pt>=V.length)return ft;var _t=[],Ft=X[pt++];return ft.forEach(function(Ht,Jt){_t.push({key:Ht,values:ht(Jt,pt)})}),Ft?_t.sort(function(Ht,Jt){return Ft(Ht.key,Jt.key)}):_t}(et(t.map,st,0),0)},O.key=function(st){return V.push(st),O},O.sortKeys=function(st){return X[V.length-1]=st,O},O.sortValues=function(st){return u=st,O},O.rollup=function(st){return _=st,O},O},t.set=function(u){var _=new z;if(u)for(var O=0,V=u.length;O<V;++O)_.add(u[O]);return _},b(z,{has:S,add:function(u){return this._[L(u+="")]=!0,u},remove:E,values:v,size:F,empty:N,forEach:function(u){for(var _ in this._)u.call(this,g(_))}}),t.behavior={},t.rebind=function(u,_){for(var O,V=1,X=arguments.length;++V<X;)u[O=arguments[V]]=Y(u,_,_[O]);return u};var ot=["webkit","ms","moz","Moz","o","O"];function G(){}function R(){}function j(u){var _=[],O=new k;function V(){for(var X,et=_,st=-1,ht=et.length;++st<ht;)(X=et[st].on)&&X.apply(this,arguments);return u}return V.on=function(X,et){var st,ht=O.get(X);return arguments.length<2?ht&&ht.on:(ht&&(ht.on=null,_=_.slice(0,st=_.indexOf(ht)).concat(_.slice(st+1)),O.remove(X)),et&&_.push(O.set(X,{on:et})),u)},V}function P(){t.event.preventDefault()}function I(){for(var u,_=t.event;u=_.sourceEvent;)_=u;return _}function Z(u){for(var _=new R,O=0,V=arguments.length;++O<V;)_[arguments[O]]=j(_);return _.of=function(X,et){return function(st){try{var ht=st.sourceEvent=t.event;st.target=u,t.event=st,_[st.type].apply(X,et)}finally{t.event=ht}}},_}t.dispatch=function(){for(var u=new R,_=-1,O=arguments.length;++_<O;)u[arguments[_]]=j(u);return u},R.prototype.on=function(u,_){var O=u.indexOf("."),V="";if(O>=0&&(V=u.slice(O+1),u=u.slice(0,O)),u)return arguments.length<2?this[u].on(V):this[u].on(V,_);if(2===arguments.length){if(null==_)for(u in this)this.hasOwnProperty(u)&&this[u].on(V,null);return this}},t.event=null,t.requote=function(u){return u.replace(q,"\\$&")};var q=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,D={}.__proto__?function(u,_){u.__proto__=_}:function(u,_){for(var O in _)u[O]=_[O]};function M(u){return D(u,K),u}var H=function(u,_){return _.querySelector(u)},C=function(u,_){return _.querySelectorAll(u)},W=function(u,_){var O=u.matches||u[$(u,"matchesSelector")];return(W=function(V,X){return O.call(V,X)})(u,_)};"function"==typeof Sizzle&&(H=function(u,_){return Sizzle(u,_)[0]||null},C=Sizzle,W=Sizzle.matchesSelector),t.selection=function(){return t.select(e.documentElement)};var K=t.selection.prototype=[];function J(u){return"function"==typeof u?u:function(){return H(u,this)}}function Q(u){return"function"==typeof u?u:function(){return C(u,this)}}K.select=function(u){var _,O,V,X,et=[];u=J(u);for(var st=-1,ht=this.length;++st<ht;){et.push(_=[]),_.parentNode=(V=this[st]).parentNode;for(var ft=-1,pt=V.length;++ft<pt;)(X=V[ft])?(_.push(O=u.call(X,X.__data__,ft,st)),O&&"__data__"in X&&(O.__data__=X.__data__)):_.push(null)}return M(et)},K.selectAll=function(u){var _,O,V=[];u=Q(u);for(var X=-1,et=this.length;++X<et;)for(var st=this[X],ht=-1,ft=st.length;++ht<ft;)(O=st[ht])&&(V.push(_=o(u.call(O,O.__data__,ht,X))),_.parentNode=O);return M(V)};var ut="http://www.w3.org/1999/xhtml",ct={svg:"http://www.w3.org/2000/svg",xhtml:ut,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gt(u,_){return u=t.ns.qualify(u),null==_?u.local?function(){this.removeAttributeNS(u.space,u.local)}:function(){this.removeAttribute(u)}:"function"==typeof _?u.local?function(){var O=_.apply(this,arguments);null==O?this.removeAttributeNS(u.space,u.local):this.setAttributeNS(u.space,u.local,O)}:function(){var O=_.apply(this,arguments);null==O?this.removeAttribute(u):this.setAttribute(u,O)}:u.local?function(){this.setAttributeNS(u.space,u.local,_)}:function(){this.setAttribute(u,_)}}function vt(u){return u.trim().replace(/\s+/g," ")}function xt(u){return new RegExp("(?:^|\\s+)"+t.requote(u)+"(?:\\s+|$)","g")}function Tt(u){return(u+"").trim().split(/^|\s+/)}function zt(u,_){var O=(u=Tt(u).map(Et)).length;return"function"==typeof _?function(){for(var V=-1,X=_.apply(this,arguments);++V<O;)u[V](this,X)}:function(){for(var V=-1;++V<O;)u[V](this,_)}}function Et(u){var _=xt(u);return function(O,V){if(X=O.classList)return V?X.add(u):X.remove(u);var X=O.getAttribute("class")||"";V?(_.lastIndex=0,_.test(X)||O.setAttribute("class",vt(X+" "+u))):O.setAttribute("class",vt(X.replace(_," ")))}}function At(u,_,O){return null==_?function(){this.style.removeProperty(u)}:"function"==typeof _?function(){var V=_.apply(this,arguments);null==V?this.style.removeProperty(u):this.style.setProperty(u,V,O)}:function(){this.style.setProperty(u,_,O)}}function lt(u,_){return null==_?function(){delete this[u]}:"function"==typeof _?function(){var O=_.apply(this,arguments);null==O?delete this[u]:this[u]=O}:function(){this[u]=_}}function rt(u){return"function"==typeof u?u:(u=t.ns.qualify(u)).local?function(){return this.ownerDocument.createElementNS(u.space,u.local)}:function(){var _=this.ownerDocument,O=this.namespaceURI;return O===ut&&_.documentElement.namespaceURI===ut?_.createElement(u):_.createElementNS(O,u)}}function dt(){var u=this.parentNode;u&&u.removeChild(this)}function mt(u){return{__data__:u}}function Dt(u){return function(){return W(this,u)}}function bt(u){return arguments.length||(u=h),function(_,O){return _&&O?u(_.__data__,O.__data__):!_-!O}}function wt(u,_){for(var O=0,V=u.length;O<V;O++)for(var X,et=u[O],st=0,ht=et.length;st<ht;st++)(X=et[st])&&_(X,st,O);return u}function Ot(u){return D(u,It),u}t.ns={prefix:ct,qualify:function(u){var _=u.indexOf(":"),O=u;return _>=0&&"xmlns"!==(O=u.slice(0,_))&&(u=u.slice(_+1)),ct.hasOwnProperty(O)?{space:ct[O],local:u}:u}},K.attr=function(u,_){if(arguments.length<2){if("string"==typeof u){var O=this.node();return(u=t.ns.qualify(u)).local?O.getAttributeNS(u.space,u.local):O.getAttribute(u)}for(_ in u)this.each(gt(_,u[_]));return this}return this.each(gt(u,_))},K.classed=function(u,_){if(arguments.length<2){if("string"==typeof u){var O=this.node(),V=(u=Tt(u)).length,X=-1;if(_=O.classList){for(;++X<V;)if(!_.contains(u[X]))return!1}else for(_=O.getAttribute("class");++X<V;)if(!xt(u[X]).test(_))return!1;return!0}for(_ in u)this.each(zt(_,u[_]));return this}return this.each(zt(u,_))},K.style=function(u,_,O){var V=arguments.length;if(V<3){if("string"!=typeof u){for(O in V<2&&(_=""),u)this.each(At(O,u[O],_));return this}if(V<2){var X=this.node();return s(X).getComputedStyle(X,null).getPropertyValue(u)}O=""}return this.each(At(u,_,O))},K.property=function(u,_){if(arguments.length<2){if("string"==typeof u)return this.node()[u];for(_ in u)this.each(lt(_,u[_]));return this}return this.each(lt(u,_))},K.text=function(u){return arguments.length?this.each("function"==typeof u?function(){var _=u.apply(this,arguments);this.textContent=null==_?"":_}:null==u?function(){this.textContent=""}:function(){this.textContent=u}):this.node().textContent},K.html=function(u){return arguments.length?this.each("function"==typeof u?function(){var _=u.apply(this,arguments);this.innerHTML=null==_?"":_}:null==u?function(){this.innerHTML=""}:function(){this.innerHTML=u}):this.node().innerHTML},K.append=function(u){return u=rt(u),this.select(function(){return this.appendChild(u.apply(this,arguments))})},K.insert=function(u,_){return u=rt(u),_=J(_),this.select(function(){return this.insertBefore(u.apply(this,arguments),_.apply(this,arguments)||null)})},K.remove=function(){return this.each(dt)},K.data=function(u,_){var O,V,X=-1,et=this.length;if(!arguments.length){for(u=new Array(et=(O=this[0]).length);++X<et;)(V=O[X])&&(u[X]=V.__data__);return u}function st(_t,Ft){var Ht,Jt,oe,Zt=_t.length,Qt=Ft.length,Yt=Math.min(Zt,Qt),pe=new Array(Qt),ne=new Array(Qt),Wt=new Array(Zt);if(_){var Se,De=new k,He=new Array(Zt);for(Ht=-1;++Ht<Zt;)(Jt=_t[Ht])&&(De.has(Se=_.call(Jt,Jt.__data__,Ht))?Wt[Ht]=Jt:De.set(Se,Jt),He[Ht]=Se);for(Ht=-1;++Ht<Qt;)(Jt=De.get(Se=_.call(Ft,oe=Ft[Ht],Ht)))?!0!==Jt&&(pe[Ht]=Jt,Jt.__data__=oe):ne[Ht]=mt(oe),De.set(Se,!0);for(Ht=-1;++Ht<Zt;)Ht in He&&!0!==De.get(He[Ht])&&(Wt[Ht]=_t[Ht])}else{for(Ht=-1;++Ht<Yt;)oe=Ft[Ht],(Jt=_t[Ht])?(Jt.__data__=oe,pe[Ht]=Jt):ne[Ht]=mt(oe);for(;Ht<Qt;++Ht)ne[Ht]=mt(Ft[Ht]);for(;Ht<Zt;++Ht)Wt[Ht]=_t[Ht]}ne.update=pe,ne.parentNode=pe.parentNode=Wt.parentNode=_t.parentNode,ht.push(ne),ft.push(pe),pt.push(Wt)}var ht=Ot([]),ft=M([]),pt=M([]);if("function"==typeof u)for(;++X<et;)st(O=this[X],u.call(O,O.parentNode.__data__,X));else for(;++X<et;)st(O=this[X],u);return ft.enter=function(){return ht},ft.exit=function(){return pt},ft},K.datum=function(u){return arguments.length?this.property("__data__",u):this.property("__data__")},K.filter=function(u){var _,O,V,X=[];"function"!=typeof u&&(u=Dt(u));for(var et=0,st=this.length;et<st;et++){X.push(_=[]),_.parentNode=(O=this[et]).parentNode;for(var ht=0,ft=O.length;ht<ft;ht++)(V=O[ht])&&u.call(V,V.__data__,ht,et)&&_.push(V)}return M(X)},K.order=function(){for(var u=-1,_=this.length;++u<_;)for(var O,V=this[u],X=V.length-1,et=V[X];--X>=0;)(O=V[X])&&(et&&et!==O.nextSibling&&et.parentNode.insertBefore(O,et),et=O);return this},K.sort=function(u){u=bt.apply(this,arguments);for(var _=-1,O=this.length;++_<O;)this[_].sort(u);return this.order()},K.each=function(u){return wt(this,function(_,O,V){u.call(_,_.__data__,O,V)})},K.call=function(u){var _=o(arguments);return u.apply(_[0]=this,_),this},K.empty=function(){return!this.node()},K.node=function(){for(var u=0,_=this.length;u<_;u++)for(var O=this[u],V=0,X=O.length;V<X;V++){var et=O[V];if(et)return et}return null},K.size=function(){var u=0;return wt(this,function(){++u}),u};var It=[];function St(u){var _,O;return function(V,X,et){var st,ht=u[et].update,ft=ht.length;for(et!=O&&(O=et,_=0),X>=_&&(_=X+1);!(st=ht[_])&&++_<ft;);return st}}function Nt(u,_,O){var V="__on"+u,X=u.indexOf("."),et=Ct;X>0&&(u=u.slice(0,X));var st=Vt.get(u);function ht(){var ft=this[V];ft&&(this.removeEventListener(u,ft,ft.$),delete this[V])}return st&&(u=st,et=Gt),X?_?function(){var ft=et(_,o(arguments));ht.call(this),this.addEventListener(u,this[V]=ft,ft.$=O),ft._=_}:ht:_?G:function(){var ft,pt=new RegExp("^__on([^.]+)"+t.requote(u)+"$");for(var _t in this)if(ft=_t.match(pt)){var Ft=this[_t];this.removeEventListener(ft[1],Ft,Ft.$),delete this[_t]}}}t.selection.enter=Ot,t.selection.enter.prototype=It,It.append=K.append,It.empty=K.empty,It.node=K.node,It.call=K.call,It.size=K.size,It.select=function(u){for(var _,O,V,X,et,st=[],ht=-1,ft=this.length;++ht<ft;){V=(X=this[ht]).update,st.push(_=[]),_.parentNode=X.parentNode;for(var pt=-1,_t=X.length;++pt<_t;)(et=X[pt])?(_.push(V[pt]=O=u.call(X.parentNode,et.__data__,pt,ht)),O.__data__=et.__data__):_.push(null)}return M(st)},It.insert=function(u,_){return arguments.length<2&&(_=St(this)),K.insert.call(this,u,_)},t.select=function(u){var _;return"string"==typeof u?(_=[H(u,e)]).parentNode=e.documentElement:(_=[u]).parentNode=n(u),M([_])},t.selectAll=function(u){var _;return"string"==typeof u?(_=o(C(u,e))).parentNode=e.documentElement:(_=o(u)).parentNode=null,M([_])},K.on=function(u,_,O){var V=arguments.length;if(V<3){if("string"!=typeof u){for(O in V<2&&(_=!1),u)this.each(Nt(O,u[O],_));return this}if(V<2)return(V=this.node()["__on"+u])&&V._;O=!1}return this.each(Nt(u,_,O))};var Vt=t.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Ct(u,_){return function(O){var V=t.event;t.event=O,_[0]=this.__data__;try{u.apply(this,_)}finally{t.event=V}}}function Gt(u,_){var O=Ct(u,_);return function(V){var X=V.relatedTarget;X&&(X===this||8&X.compareDocumentPosition(this))||O.call(this,V)}}e&&Vt.forEach(function(u){"on"+u in e&&Vt.remove(u)});var $t,Xt=0;function de(u){var _=".dragsuppress-"+ ++Xt,O="click"+_,V=t.select(s(u)).on("touchmove"+_,P).on("dragstart"+_,P).on("selectstart"+_,P);if(null==$t&&($t=!("onselectstart"in u)&&$(u.style,"userSelect")),$t){var X=n(u).style,et=X[$t];X[$t]="none"}return function(st){if(V.on(_,null),$t&&(X[$t]=et),st){var ht=function(){V.on(O,null)};V.on(O,function(){P(),ht()},!0),setTimeout(ht,0)}}}t.mouse=function(u){return kt(u,I())};var Kt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function kt(u,_){_.changedTouches&&(_=_.changedTouches[0]);var O=u.ownerSVGElement||u;if(O.createSVGPoint){var V=O.createSVGPoint();if(Kt<0){var X=s(u);if(X.scrollX||X.scrollY){var et=(O=t.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Kt=!(et.f||et.e),O.remove()}}return Kt?(V.x=_.pageX,V.y=_.pageY):(V.x=_.clientX,V.y=_.clientY),[(V=V.matrixTransform(u.getScreenCTM().inverse())).x,V.y]}var st=u.getBoundingClientRect();return[_.clientX-st.left-u.clientLeft,_.clientY-st.top-u.clientTop]}function Mt(){return t.event.changedTouches[0].identifier}t.touch=function(u,_,O){if(arguments.length<3&&(O=_,_=I().changedTouches),_)for(var V,X=0,et=_.length;X<et;++X)if((V=_[X]).identifier===O)return kt(u,V)},t.behavior.drag=function(){var u=Z(X,"drag","dragstart","dragend"),_=null,O=et(G,t.mouse,s,"mousemove","mouseup"),V=et(Mt,t.touch,U,"touchmove","touchend");function X(){this.on("mousedown.drag",O).on("touchstart.drag",V)}function et(st,ht,ft,pt,_t){return function(){var Ft,Ht=this,Jt=t.event.target.correspondingElement||t.event.target,oe=Ht.parentNode,Zt=u.of(Ht,arguments),Qt=0,Yt=st(),pe=".drag"+(null==Yt?"":"-"+Yt),ne=t.select(ft(Jt)).on(pt+pe,De).on(_t+pe,He),Wt=de(Jt),Se=ht(oe,Yt);function De(){var Ye,tn,en=ht(oe,Yt);en&&(Qt|=(Ye=en[0]-Se[0])|(tn=en[1]-Se[1]),Se=en,Zt({type:"drag",x:en[0]+Ft[0],y:en[1]+Ft[1],dx:Ye,dy:tn}))}function He(){ht(oe,Yt)&&(ne.on(pt+pe,null).on(_t+pe,null),Wt(Qt),Zt({type:"dragend"}))}Ft=_?[(Ft=_.apply(Ht,arguments)).x-Se[0],Ft.y-Se[1]]:[0,0],Zt({type:"dragstart"})}}return X.origin=function(st){return arguments.length?(_=st,X):_},t.rebind(X,u,"on")},t.touches=function(u,_){return arguments.length<2&&(_=I().touches),_?o(_).map(function(O){var V=kt(u,O);return V.identifier=O.identifier,V}):[]};var qt=1e-6,ce=Math.PI,Te=2*ce,Oe=Te-qt,xe=ce/2,ye=ce/180,le=180/ce;function nt(u){return u>1?xe:u<-1?-xe:Math.asin(u)}function it(u){return((u=Math.exp(u))+1/u)/2}var Lt=Math.SQRT2;t.interpolateZoom=function(u,_){var O,V,X=u[0],et=u[1],st=u[2],pt=_[2],_t=_[0]-X,Ft=_[1]-et,Ht=_t*_t+Ft*Ft;if(Ht<1e-12)V=Math.log(pt/st)/Lt,O=function(pe){return[X+pe*_t,et+pe*Ft,st*Math.exp(Lt*pe*V)]};else{var Jt=Math.sqrt(Ht),oe=(pt*pt-st*st+4*Ht)/(2*st*2*Jt),Zt=(pt*pt-st*st-4*Ht)/(2*pt*2*Jt),Qt=Math.log(Math.sqrt(oe*oe+1)-oe),Yt=Math.log(Math.sqrt(Zt*Zt+1)-Zt);V=(Yt-Qt)/Lt,O=function(pe){var ne,He,Wt=pe*V,Se=it(Qt),De=st/(2*Jt)*(Se*(ne=Lt*Wt+Qt,((ne=Math.exp(2*ne))-1)/(ne+1))-(He=Qt,((He=Math.exp(He))-1/He)/2));return[X+De*_t,et+De*Ft,st*Se/it(Lt*Wt+Qt)]}}return O.duration=1e3*V,O},t.behavior.zoom=function(){var u,_,O,V,X,et,st,ht,ft,pt={x:0,y:0,k:1},_t=[960,500],Ft=Rt,Ht=250,Jt=0,oe="mousedown.zoom",Zt="mousemove.zoom",Qt="mouseup.zoom",Yt="touchstart.zoom",pe=Z(ne,"zoomstart","zoom","zoomend");function ne(je){je.on(oe,nn).on(Bt+".zoom",zn).on("dblclick.zoom",Yn).on(Yt,wn)}function Wt(je){return[(je[0]-pt.x)/pt.k,(je[1]-pt.y)/pt.k]}function Se(je){pt.k=Math.max(Ft[0],Math.min(Ft[1],je))}function De(je,an){var yn;pt.x+=je[0]-(an=[(yn=an)[0]*pt.k+pt.x,yn[1]*pt.k+pt.y])[0],pt.y+=je[1]-an[1]}function He(je,an,yn,gn){je.__chart__={x:pt.x,y:pt.y,k:pt.k},Se(Math.pow(2,gn)),De(_=an,yn),je=t.select(je),Ht>0&&(je=je.transition().duration(Ht)),je.call(ne.event)}function Ye(){st&&st.domain(et.range().map(function(je){return(je-pt.x)/pt.k}).map(et.invert)),ft&&ft.domain(ht.range().map(function(je){return(je-pt.y)/pt.k}).map(ht.invert))}function tn(je){Jt++||je({type:"zoomstart"})}function en(je){Ye(),je({type:"zoom",scale:pt.k,translate:[pt.x,pt.y]})}function vn(je){--Jt||(je({type:"zoomend"}),_=null)}function nn(){var je=this,an=pe.of(je,arguments),yn=0,gn=t.select(s(je)).on(Zt,Fn).on(Qt,Zn),On=Wt(t.mouse(je)),Pn=de(je);function Fn(){yn=1,De(t.mouse(je),On),en(an)}function Zn(){gn.on(Zt,null).on(Qt,null),Pn(yn),vn(an)}$r.call(je),tn(an)}function wn(){var je,an=this,yn=pe.of(an,arguments),gn={},On=0,Pn=".zoom-"+t.event.changedTouches[0].identifier,Fn="touchmove"+Pn,Zn="touchend"+Pn,Kn=[],Qn=t.select(an),lr=de(an);function er(){var nr=t.touches(an);return je=pt.k,nr.forEach(function(tr){tr.identifier in gn&&(gn[tr.identifier]=Wt(tr))}),nr}function ar(){var nr=t.event.target;t.select(nr).on(Fn,vr).on(Zn,Cr),Kn.push(nr);for(var tr=t.event.changedTouches,or=0,br=tr.length;or<br;++or)gn[tr[or].identifier]=null;var Tr=er(),Nr=Date.now();if(1===Tr.length){if(Nr-X<500){var Or=Tr[0];He(an,Or,gn[Or.identifier],Math.floor(Math.log(pt.k)/Math.LN2)+1),P()}X=Nr}else if(Tr.length>1){var kr=Tr[1],ta=(Or=Tr[0])[0]-kr[0],ni=Or[1]-kr[1];On=ta*ta+ni*ni}}function vr(){var nr,tr,or,br,Tr=t.touches(an);$r.call(an);for(var Nr=0,Or=Tr.length;Nr<Or;++Nr,br=null)if(br=gn[(or=Tr[Nr]).identifier]){if(tr)break;nr=or,tr=br}if(br){var kr=(kr=or[0]-nr[0])*kr+(kr=or[1]-nr[1])*kr,ta=On&&Math.sqrt(kr/On);nr=[(nr[0]+or[0])/2,(nr[1]+or[1])/2],tr=[(tr[0]+br[0])/2,(tr[1]+br[1])/2],Se(ta*je)}X=null,De(nr,tr),en(yn)}function Cr(){if(t.event.touches.length){for(var nr=t.event.changedTouches,tr=0,or=nr.length;tr<or;++tr)delete gn[nr[tr].identifier];for(var br in gn)return void er()}t.selectAll(Kn).on(Pn,null),Qn.on(oe,nn).on(Yt,wn),lr(),vn(yn)}ar(),tn(yn),Qn.on(oe,null).on(Yt,ar)}function zn(){var je=pe.of(this,arguments);V?clearTimeout(V):($r.call(this),u=Wt(_=O||t.mouse(this)),tn(je)),V=setTimeout(function(){V=null,vn(je)},50),P(),Se(Math.pow(2,.002*Pt())*pt.k),De(_,u),en(je)}function Yn(){var je=t.mouse(this),an=Math.log(pt.k)/Math.LN2;He(this,je,Wt(je),t.event.shiftKey?Math.ceil(an)-1:Math.floor(an)+1)}return Bt||(Bt="onwheel"in e?(Pt=function(){return-t.event.deltaY*(t.event.deltaMode?120:1)},"wheel"):"onmousewheel"in e?(Pt=function(){return t.event.wheelDelta},"mousewheel"):(Pt=function(){return-t.event.detail},"MozMousePixelScroll")),ne.event=function(je){je.each(function(){var an=pe.of(this,arguments),yn=pt;Dr?t.select(this).transition().each("start.zoom",function(){pt=this.__chart__||{x:0,y:0,k:1},tn(an)}).tween("zoom:zoom",function(){var gn=_t[0],Pn=_?_[0]:gn/2,Fn=_?_[1]:_t[1]/2,Zn=t.interpolateZoom([(Pn-pt.x)/pt.k,(Fn-pt.y)/pt.k,gn/pt.k],[(Pn-yn.x)/yn.k,(Fn-yn.y)/yn.k,gn/yn.k]);return function(Kn){var Qn=Zn(Kn),lr=gn/Qn[2];this.__chart__=pt={x:Pn-Qn[0]*lr,y:Fn-Qn[1]*lr,k:lr},en(an)}}).each("interrupt.zoom",function(){vn(an)}).each("end.zoom",function(){vn(an)}):(this.__chart__=pt,tn(an),en(an),vn(an))})},ne.translate=function(je){return arguments.length?(pt={x:+je[0],y:+je[1],k:pt.k},Ye(),ne):[pt.x,pt.y]},ne.scale=function(je){return arguments.length?(pt={x:pt.x,y:pt.y,k:null},Se(+je),Ye(),ne):pt.k},ne.scaleExtent=function(je){return arguments.length?(Ft=null==je?Rt:[+je[0],+je[1]],ne):Ft},ne.center=function(je){return arguments.length?(O=je&&[+je[0],+je[1]],ne):O},ne.size=function(je){return arguments.length?(_t=je&&[+je[0],+je[1]],ne):_t},ne.duration=function(je){return arguments.length?(Ht=+je,ne):Ht},ne.x=function(je){return arguments.length?(st=je,et=je.copy(),pt={x:0,y:0,k:1},ne):st},ne.y=function(je){return arguments.length?(ft=je,ht=je.copy(),pt={x:0,y:0,k:1},ne):ft},t.rebind(ne,pe,"on")};var Pt,Bt,Rt=[0,1/0];function jt(){}function Ut(u,_,O){return this instanceof Ut?(this.h=+u,this.s=+_,void(this.l=+O)):arguments.length<2?u instanceof Ut?new Ut(u.h,u.s,u.l):We(""+u,Be,Ut):new Ut(u,_,O)}t.color=jt,jt.prototype.toString=function(){return this.rgb()+""},t.hsl=Ut;var ee=Ut.prototype=new jt;function ie(u,_,O){var V,X;function et(st){return Math.round(255*((ht=st)>360?ht-=360:ht<0&&(ht+=360),ht<60?V+(X-V)*ht/60:ht<180?X:ht<240?V+(X-V)*(240-ht)/60:V));var ht}return u=isNaN(u)?0:(u%=360)<0?u+360:u,_=isNaN(_)||_<0?0:_>1?1:_,V=2*(O=O<0?0:O>1?1:O)-(X=O<=.5?O*(1+_):O+_-O*_),new he(et(u+120),et(u),et(u-120))}function fe(u,_,O){return this instanceof fe?(this.h=+u,this.c=+_,void(this.l=+O)):arguments.length<2?u instanceof fe?new fe(u.h,u.c,u.l):Le(u instanceof ve?u.l:(u=be((u=t.rgb(u)).r,u.g,u.b)).l,u.a,u.b):new fe(u,_,O)}ee.brighter=function(u){return u=Math.pow(.7,arguments.length?u:1),new Ut(this.h,this.s,this.l/u)},ee.darker=function(u){return u=Math.pow(.7,arguments.length?u:1),new Ut(this.h,this.s,u*this.l)},ee.rgb=function(){return ie(this.h,this.s,this.l)},t.hcl=fe;var Ae=fe.prototype=new jt;function re(u,_,O){return isNaN(u)&&(u=0),isNaN(_)&&(_=0),new ve(O,Math.cos(u*=ye)*_,Math.sin(u)*_)}function ve(u,_,O){return this instanceof ve?(this.l=+u,this.a=+_,void(this.b=+O)):arguments.length<2?u instanceof ve?new ve(u.l,u.a,u.b):u instanceof fe?re(u.h,u.c,u.l):be((u=he(u)).r,u.g,u.b):new ve(u,_,O)}Ae.brighter=function(u){return new fe(this.h,this.c,Math.min(100,this.l+Pe*(arguments.length?u:1)))},Ae.darker=function(u){return new fe(this.h,this.c,Math.max(0,this.l-Pe*(arguments.length?u:1)))},Ae.rgb=function(){return re(this.h,this.c,this.l).rgb()},t.lab=ve;var Pe=18,se=ve.prototype=new jt;function te(u,_,O){var V=(u+16)/116,X=V+_/500,et=V-O/200;return new he(ke(3.2404542*(X=.95047*_e(X))-1.5371385*(V=1*_e(V))-.4985314*(et=1.08883*_e(et))),ke(-.969266*X+1.8760108*V+.041556*et),ke(.0556434*X-.2040259*V+1.0572252*et))}function Le(u,_,O){return u>0?new fe(Math.atan2(O,_)*le,Math.sqrt(_*_+O*O),u):new fe(NaN,NaN,u)}function _e(u){return u>.206893034?u*u*u:(u-4/29)/7.787037}function ge(u){return u>.008856?Math.pow(u,1/3):7.787037*u+4/29}function ke(u){return Math.round(255*(u<=.00304?12.92*u:1.055*Math.pow(u,1/2.4)-.055))}function he(u,_,O){return this instanceof he?(this.r=~~u,this.g=~~_,void(this.b=~~O)):arguments.length<2?u instanceof he?new he(u.r,u.g,u.b):We(""+u,he,ie):new he(u,_,O)}function Fe(u){return new he(u>>16,u>>8&255,255&u)}function Ie(u){return Fe(u)+""}se.brighter=function(u){return new ve(Math.min(100,this.l+Pe*(arguments.length?u:1)),this.a,this.b)},se.darker=function(u){return new ve(Math.max(0,this.l-Pe*(arguments.length?u:1)),this.a,this.b)},se.rgb=function(){return te(this.l,this.a,this.b)},t.rgb=he;var Re=he.prototype=new jt;function Ze(u){return u<16?"0"+Math.max(0,u).toString(16):Math.min(255,u).toString(16)}function We(u,_,O){var V,X,et,st=0,ht=0,ft=0;if(V=/([a-z]+)\((.*)\)/.exec(u=u.toLowerCase()))switch(X=V[2].split(","),V[1]){case"hsl":return O(parseFloat(X[0]),parseFloat(X[1])/100,parseFloat(X[2])/100);case"rgb":return _(Me(X[0]),Me(X[1]),Me(X[2]))}return(et=ze.get(u))?_(et.r,et.g,et.b):(null==u||"#"!==u.charAt(0)||isNaN(et=parseInt(u.slice(1),16))||(4===u.length?(st=(3840&et)>>4,st|=st>>4,ht=240&et,ht|=ht>>4,ft=15&et,ft|=ft<<4):7===u.length&&(st=(16711680&et)>>16,ht=(65280&et)>>8,ft=255&et)),_(st,ht,ft))}function Be(u,_,O){var V,X,et=Math.min(u/=255,_/=255,O/=255),st=Math.max(u,_,O),ht=st-et,ft=(st+et)/2;return ht?(X=ft<.5?ht/(st+et):ht/(2-st-et),V=u==st?(_-O)/ht+(_<O?6:0):_==st?(O-u)/ht+2:(u-_)/ht+4,V*=60):(V=NaN,X=ft>0&&ft<1?0:V),new Ut(V,X,ft)}function be(u,_,O){var V=ge((.4124564*(u=me(u))+.3575761*(_=me(_))+.1804375*(O=me(O)))/.95047),X=ge((.2126729*u+.7151522*_+.072175*O)/1);return ve(116*X-16,500*(V-X),200*(X-ge((.0193339*u+.119192*_+.9503041*O)/1.08883)))}function me(u){return(u/=255)<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function Me(u){var _=parseFloat(u);return"%"===u.charAt(u.length-1)?Math.round(2.55*_):_}Re.brighter=function(u){u=Math.pow(.7,arguments.length?u:1);var _=this.r,O=this.g,V=this.b,X=30;return _||O||V?(_&&_<X&&(_=X),O&&O<X&&(O=X),V&&V<X&&(V=X),new he(Math.min(255,_/u),Math.min(255,O/u),Math.min(255,V/u))):new he(X,X,X)},Re.darker=function(u){return new he((u=Math.pow(.7,arguments.length?u:1))*this.r,u*this.g,u*this.b)},Re.hsl=function(){return Be(this.r,this.g,this.b)},Re.toString=function(){return"#"+Ze(this.r)+Ze(this.g)+Ze(this.b)};var ze=t.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Ce(u){return"function"==typeof u?u:function(){return u}}function Ve(u){return function(_,O,V){return 2===arguments.length&&"function"==typeof O&&(V=O,O=null),Xe(_,O,u,V)}}function Xe(u,_,O,V){var _t,X={},et=t.dispatch("beforesend","progress","load","error"),st={},ht=new XMLHttpRequest,ft=null;function pt(){var _t,Ht,Jt,Ft=ht.status;if(!Ft&&((Jt=(Ht=ht).responseType)&&"text"!==Jt?Ht.response:Ht.responseText)||Ft>=200&&Ft<300||304===Ft){try{_t=O.call(X,ht)}catch(Ht){return void et.error.call(X,Ht)}et.load.call(X,_t)}else et.error.call(X,ht)}return self.XDomainRequest&&!("withCredentials"in ht)&&/^(http(s)?:)?\/\//.test(u)&&(ht=new XDomainRequest),"onload"in ht?ht.onload=ht.onerror=pt:ht.onreadystatechange=function(){ht.readyState>3&&pt()},ht.onprogress=function(_t){var Ft=t.event;t.event=_t;try{et.progress.call(X,ht)}finally{t.event=Ft}},X.header=function(_t,Ft){return _t=(_t+"").toLowerCase(),arguments.length<2?st[_t]:(null==Ft?delete st[_t]:st[_t]=Ft+"",X)},X.mimeType=function(_t){return arguments.length?(_=null==_t?null:_t+"",X):_},X.responseType=function(_t){return arguments.length?(ft=_t,X):ft},X.response=function(_t){return O=_t,X},["get","post"].forEach(function(_t){X[_t]=function(){return X.send.apply(X,[_t].concat(o(arguments)))}}),X.send=function(_t,Ft,Ht){if(2===arguments.length&&"function"==typeof Ft&&(Ht=Ft,Ft=null),ht.open(_t,u,!0),null==_||"accept"in st||(st.accept=_+",*/*"),ht.setRequestHeader)for(var Jt in st)ht.setRequestHeader(Jt,st[Jt]);return null!=_&&ht.overrideMimeType&&ht.overrideMimeType(_),null!=ft&&(ht.responseType=ft),null!=Ht&&X.on("error",Ht).on("load",function(oe){Ht(null,oe)}),et.beforesend.call(X,ht),ht.send(null==Ft?null:Ft),X},X.abort=function(){return ht.abort(),X},t.rebind(X,et,"on"),null==V?X:X.get(1===(_t=V).length?function(Ft,Ht){_t(null==Ft?Ht:null)}:_t)}ze.forEach(function(u,_){ze.set(u,Fe(_))}),t.functor=Ce,t.xhr=Ve(U),t.dsv=function(u,_){var O=new RegExp('["'+u+"\n]"),V=u.charCodeAt(0);function X(pt,_t,Ft){arguments.length<3&&(Ft=_t,_t=null);var Ht=Xe(pt,_,null==_t?et:st(_t),Ft);return Ht.row=function(Jt){return arguments.length?Ht.response(null==(_t=Jt)?et:st(Jt)):_t},Ht}function et(pt){return X.parse(pt.responseText)}function st(pt){return function(_t){return X.parse(_t.responseText,pt)}}function ht(pt){return pt.map(ft).join(u)}function ft(pt){return O.test(pt)?'"'+pt.replace(/\"/g,'""')+'"':pt}return X.parse=function(pt,_t){var Ft;return X.parseRows(pt,function(Ht,Jt){if(Ft)return Ft(Ht,Jt-1);var oe=function(Zt){for(var Qt={},Yt=Ht.length,pe=0;pe<Yt;++pe)Qt[Ht[pe]]=Zt[pe];return Qt};Ft=_t?function(Zt,Qt){return _t(oe(Zt),Qt)}:oe})},X.parseRows=function(pt,_t){var Ft,Ht,Jt={},oe={},Zt=[],Qt=pt.length,Yt=0,pe=0;function ne(){if(Yt>=Qt)return oe;if(Ht)return Ht=!1,Jt;var Se=Yt;if(34===pt.charCodeAt(Se)){for(var De=Se;De++<Qt;)if(34===pt.charCodeAt(De)){if(34!==pt.charCodeAt(De+1))break;++De}return Yt=De+2,13===(He=pt.charCodeAt(De+1))?(Ht=!0,10===pt.charCodeAt(De+2)&&++Yt):10===He&&(Ht=!0),pt.slice(Se+1,De).replace(/""/g,'"')}for(;Yt<Qt;){var He,Ye=1;if(10===(He=pt.charCodeAt(Yt++)))Ht=!0;else if(13===He)Ht=!0,10===pt.charCodeAt(Yt)&&(++Yt,++Ye);else if(He!==V)continue;return pt.slice(Se,Yt-Ye)}return pt.slice(Se)}for(;(Ft=ne())!==oe;){for(var Wt=[];Ft!==Jt&&Ft!==oe;)Wt.push(Ft),Ft=ne();_t&&null==(Wt=_t(Wt,pe++))||Zt.push(Wt)}return Zt},X.format=function(pt){if(Array.isArray(pt[0]))return X.formatRows(pt);var _t=new z,Ft=[];return pt.forEach(function(Ht){for(var Jt in Ht)_t.has(Jt)||Ft.push(_t.add(Jt))}),[Ft.map(ft).join(u)].concat(pt.map(function(Ht){return Ft.map(function(Jt){return ft(Ht[Jt])}).join(u)})).join("\n")},X.formatRows=function(pt){return pt.map(ht).join("\n")},X},t.csv=t.dsv(",","text/csv"),t.tsv=t.dsv("\t","text/tab-separated-values");var Qe,rn,ln,on,cn=this[$(this,"requestAnimationFrame")]||function(u){setTimeout(u,17)};function dn(u,_,O){var V=arguments.length;V<2&&(_=0),V<3&&(O=Date.now());var X=O+_,et={c:u,t:X,n:null};return rn?rn.n=et:Qe=et,rn=et,ln||(on=clearTimeout(on),ln=1,cn($e)),et}function $e(){var u=mn(),_=kn()-u;_>24?(isFinite(_)&&(clearTimeout(on),on=setTimeout($e,_)),ln=0):(ln=1,cn($e))}function mn(){for(var u=Date.now(),_=Qe;_;)u>=_.t&&_.c(u-_.t)&&(_.c=null),_=_.n;return u}function kn(){for(var u,_=Qe,O=1/0;_;)_.c?(_.t<O&&(O=_.t),_=(u=_).n):_=u?u.n=_.n:Qe=_.n;return rn=u,O}function Ue(u){return u[0]}function fn(u){return u[1]}function sn(u){for(var _,O,V,X=u.length,et=[0,1],st=2,ht=2;ht<X;ht++){for(;st>1&&((O=u[et[st-1]])[0]-(_=u[et[st-2]])[0])*((V=u[ht])[1]-_[1])-(O[1]-_[1])*(V[0]-_[0])<=0;)--st;et[st++]=ht}return et.slice(0,st)}function Ge(u,_){return u[0]-_[0]||u[1]-_[1]}t.timer=function(){dn.apply(this,arguments)},t.timer.flush=function(){mn(),kn()},t.round=function(u,_){return _?Math.round(u*(_=Math.pow(10,_)))/_:Math.round(u)},t.geom={},t.geom.hull=function(u){var _=Ue,O=fn;if(arguments.length)return V(u);function V(X){if(X.length<3)return[];var et,st=Ce(_),ht=Ce(O),ft=X.length,pt=[],_t=[];for(et=0;et<ft;et++)pt.push([+st.call(this,X[et],et),+ht.call(this,X[et],et),et]);for(pt.sort(Ge),et=0;et<ft;et++)_t.push([pt[et][0],-pt[et][1]]);var Ft=sn(pt),Ht=sn(_t),Jt=Ht[0]===Ft[0],oe=Ht[Ht.length-1]===Ft[Ft.length-1],Zt=[];for(et=Ft.length-1;et>=0;--et)Zt.push(X[pt[Ft[et]][2]]);for(et=+Jt;et<Ht.length-oe;++et)Zt.push(X[pt[Ht[et]][2]]);return Zt}return V.x=function(X){return arguments.length?(_=X,V):_},V.y=function(X){return arguments.length?(O=X,V):O},V},t.geom.polygon=function(u){return D(u,bn),u};var bn=t.geom.polygon.prototype=[];function hn(u,_,O){return(O[0]-_[0])*(u[1]-_[1])<(O[1]-_[1])*(u[0]-_[0])}function Ke(u,_,O,V){var X=u[0],et=O[0],st=_[0]-X,ht=V[0]-et,ft=u[1],pt=O[1],_t=_[1]-ft,Ft=V[1]-pt,Ht=(ht*(ft-pt)-Ft*(X-et))/(Ft*st-ht*_t);return[X+Ht*st,ft+Ht*_t]}function qe(u){var _=u[0],O=u[u.length-1];return!(_[0]-O[0]||_[1]-O[1])}bn.area=function(){for(var u,_=-1,O=this.length,V=this[O-1],X=0;++_<O;)X+=(u=V)[1]*(V=this[_])[0]-u[0]*V[1];return.5*X},bn.centroid=function(u){var _,O,V=-1,X=this.length,et=0,st=0,ht=this[X-1];for(arguments.length||(u=-1/(6*this.area()));++V<X;)et+=((_=ht)[0]+(ht=this[V])[0])*(O=_[0]*ht[1]-ht[0]*_[1]),st+=(_[1]+ht[1])*O;return[et*u,st*u]},bn.clip=function(u){for(var _,O,V,X,et,st,ht=qe(u),ft=-1,pt=this.length-qe(this),_t=this[pt-1];++ft<pt;){for(_=u.slice(),u.length=0,X=this[ft],et=_[(V=_.length-ht)-1],O=-1;++O<V;)hn(st=_[O],_t,X)?(hn(et,_t,X)||u.push(Ke(et,st,_t,X)),u.push(st)):hn(et,_t,X)&&u.push(Ke(et,st,_t,X)),et=st;ht&&u.push(u[0]),_t=X}return u};var Ne,un,Sn,_n,xn,Tn=[],Nn=[];function Mn(){Lr(this),this.edge=this.site=this.circle=null}function En(u){var _=Tn.pop()||new Mn;return _.site=u,_}function Cn(u){jn(u),Sn.remove(u),Tn.push(u),Lr(u)}function Wn(u){var _=u.circle,O=_.x,V=_.cy,X={x:O,y:V},et=u.P,st=u.N,ht=[u];Cn(u);for(var ft=et;ft.circle&&y(O-ft.circle.x)<qt&&y(V-ft.circle.cy)<qt;)et=ft.P,ht.unshift(ft),Cn(ft),ft=et;ht.unshift(ft),jn(ft);for(var pt=st;pt.circle&&y(O-pt.circle.x)<qt&&y(V-pt.circle.cy)<qt;)st=pt.N,ht.push(pt),Cn(pt),pt=st;ht.push(pt),jn(pt);var _t,Ft=ht.length;for(_t=1;_t<Ft;++_t)Ar((pt=ht[_t]).edge,(ft=ht[_t-1]).site,pt.site,X);(pt=ht[Ft-1]).edge=xr((ft=ht[0]).site,pt.site,null,X),$n(ft),$n(pt)}function Rn(u){for(var _,O,V,X,et=u.x,st=u.y,ht=Sn._;ht;)if((V=Xn(ht,st)-et)>qt)ht=ht.L;else{if(!((X=et-Jn(ht,st))>qt)){V>-qt?(_=ht.P,O=ht):X>-qt?(_=ht,O=ht.N):_=O=ht;break}if(!ht.R){_=ht;break}ht=ht.R}var ft=En(u);if(Sn.insert(_,ft),_||O){if(_===O)return jn(_),O=En(_.site),Sn.insert(ft,O),ft.edge=O.edge=xr(_.site,ft.site),$n(_),void $n(O);if(O){jn(_),jn(O);var pt=_.site,_t=pt.x,Ft=pt.y,Ht=u.x-_t,Jt=u.y-Ft,oe=O.site,Zt=oe.x-_t,Qt=oe.y-Ft,Yt=2*(Ht*Qt-Jt*Zt),pe=Ht*Ht+Jt*Jt,ne=Zt*Zt+Qt*Qt,Wt={x:(Qt*pe-Jt*ne)/Yt+_t,y:(Ht*ne-Zt*pe)/Yt+Ft};Ar(O.edge,pt,oe,Wt),ft.edge=xr(pt,u,null,Wt),O.edge=xr(u,oe,null,Wt),$n(_),$n(O)}else ft.edge=xr(_.site,ft.site)}}function Xn(u,_){var O=u.site,V=O.x,X=O.y,et=X-_;if(!et)return V;var st=u.P;if(!st)return-1/0;var ht=(O=st.site).x,ft=O.y,pt=ft-_;if(!pt)return ht;var _t=ht-V,Ft=1/et-1/pt,Ht=_t/pt;return Ft?(-Ht+Math.sqrt(Ht*Ht-2*Ft*(_t*_t/(-2*pt)-ft+pt/2+X-et/2)))/Ft+V:(V+ht)/2}function Jn(u,_){var O=u.N;if(O)return Xn(O,_);var V=u.site;return V.y===_?V.x:1/0}function dr(u){this.site=u,this.edges=[]}function Dn(u,_){return _.angle-u.angle}function Un(){Lr(this),this.x=this.y=this.arc=this.site=this.cy=null}function $n(u){var _=u.P,O=u.N;if(_&&O){var V=_.site,X=u.site,et=O.site;if(V!==et){var st=X.x,ht=X.y,ft=V.x-st,pt=V.y-ht,_t=et.x-st,Ft=2*(ft*(Qt=et.y-ht)-pt*_t);if(!(Ft>=-1e-12)){var Ht=ft*ft+pt*pt,Jt=_t*_t+Qt*Qt,oe=(Qt*Ht-pt*Jt)/Ft,Zt=(ft*Jt-_t*Ht)/Ft,Qt=Zt+ht,Yt=Nn.pop()||new Un;Yt.arc=u,Yt.site=X,Yt.x=oe+st,Yt.y=Qt+Math.sqrt(oe*oe+Zt*Zt),Yt.cy=Qt,u.circle=Yt;for(var pe=null,ne=xn._;ne;)if(Yt.y<ne.y||Yt.y===ne.y&&Yt.x<=ne.x){if(!ne.L){pe=ne.P;break}ne=ne.L}else{if(!ne.R){pe=ne;break}ne=ne.R}xn.insert(pe,Yt),pe||(_n=Yt)}}}}function jn(u){var _=u.circle;_&&(_.P||(_n=_.N),xn.remove(_),Nn.push(_),Lr(_),u.circle=null)}function Mr(u,_){var O=u.b;if(O)return!0;var V,X,et=u.a,st=_[0][0],ht=_[1][0],ft=_[0][1],pt=_[1][1],_t=u.l,Ft=u.r,Ht=_t.x,Jt=_t.y,oe=Ft.x,Zt=Ft.y,Qt=(Ht+oe)/2;if(Zt===Jt){if(Qt<st||Qt>=ht)return;if(Ht>oe){if(et){if(et.y>=pt)return}else et={x:Qt,y:ft};O={x:Qt,y:pt}}else{if(et){if(et.y<ft)return}else et={x:Qt,y:pt};O={x:Qt,y:ft}}}else if(X=(Jt+Zt)/2-(V=(Ht-oe)/(Zt-Jt))*Qt,V<-1||V>1)if(Ht>oe){if(et){if(et.y>=pt)return}else et={x:(ft-X)/V,y:ft};O={x:(pt-X)/V,y:pt}}else{if(et){if(et.y<ft)return}else et={x:(pt-X)/V,y:pt};O={x:(ft-X)/V,y:ft}}else if(Jt<Zt){if(et){if(et.x>=ht)return}else et={x:st,y:V*st+X};O={x:ht,y:V*ht+X}}else{if(et){if(et.x<st)return}else et={x:ht,y:V*ht+X};O={x:st,y:V*st+X}}return u.a=et,u.b=O,!0}function zr(u,_){this.l=u,this.r=_,this.a=this.b=null}function xr(u,_,O,V){var X=new zr(u,_);return Ne.push(X),O&&Ar(X,u,_,O),V&&Ar(X,_,u,V),un[u.i].edges.push(new fr(X,u,_)),un[_.i].edges.push(new fr(X,_,u)),X}function Hr(u,_,O){var V=new zr(u,null);return V.a=_,V.b=O,Ne.push(V),V}function Ar(u,_,O,V){u.a||u.b?u.l===O?u.b=V:u.a=V:(u.a=V,u.l=_,u.r=O)}function fr(u,_,O){var V=u.a,X=u.b;this.edge=u,this.site=_,this.angle=O?Math.atan2(O.y-_.y,O.x-_.x):u.l===_?Math.atan2(X.x-V.x,V.y-X.y):Math.atan2(V.x-X.x,X.y-V.y)}function Pr(){this._=null}function Lr(u){u.U=u.C=u.L=u.R=u.P=u.N=null}function cr(u,_){var O=_,V=_.R,X=O.U;X?X.L===O?X.L=V:X.R=V:u._=V,V.U=X,O.U=V,O.R=V.L,O.R&&(O.R.U=O),V.L=O}function hr(u,_){var O=_,V=_.L,X=O.U;X?X.L===O?X.L=V:X.R=V:u._=V,V.U=X,O.U=V,O.L=V.R,O.L&&(O.L.U=O),V.R=O}function Br(u){for(;u.L;)u=u.L;return u}function Er(u,_){var O,V,X,et=u.sort(Sr).pop();for(Ne=[],un=new Array(u.length),Sn=new Pr,xn=new Pr;;)if(X=_n,et&&(!X||et.y<X.y||et.y===X.y&&et.x<X.x))et.x===O&&et.y===V||(un[et.i]=new dr(et),Rn(et),O=et.x,V=et.y),et=u.pop();else{if(!X)break;Wn(X.arc)}_&&(function(ht){for(var ft,pt,_t,Ft,Ht,Jt=Ne,oe=(pt=ht[0][0],_t=ht[0][1],Ft=ht[1][0],Ht=ht[1][1],function(Qt){var Yt,pe=Qt.a,ne=Qt.b,Wt=pe.x,Se=pe.y,De=0,He=1,Ye=ne.x-Wt,tn=ne.y-Se;if(Yt=pt-Wt,Ye||!(Yt>0)){if(Yt/=Ye,Ye<0){if(Yt<De)return;Yt<He&&(He=Yt)}else if(Ye>0){if(Yt>He)return;Yt>De&&(De=Yt)}if(Yt=Ft-Wt,Ye||!(Yt<0)){if(Yt/=Ye,Ye<0){if(Yt>He)return;Yt>De&&(De=Yt)}else if(Ye>0){if(Yt<De)return;Yt<He&&(He=Yt)}if(Yt=_t-Se,tn||!(Yt>0)){if(Yt/=tn,tn<0){if(Yt<De)return;Yt<He&&(He=Yt)}else if(tn>0){if(Yt>He)return;Yt>De&&(De=Yt)}if(Yt=Ht-Se,tn||!(Yt<0)){if(Yt/=tn,tn<0){if(Yt>He)return;Yt>De&&(De=Yt)}else if(tn>0){if(Yt<De)return;Yt<He&&(He=Yt)}return De>0&&(Qt.a={x:Wt+De*Ye,y:Se+De*tn}),He<1&&(Qt.b={x:Wt+He*Ye,y:Se+He*tn}),Qt}}}}}),Zt=Jt.length;Zt--;)(!Mr(ft=Jt[Zt],ht)||!oe(ft)||y(ft.a.x-ft.b.x)<qt&&y(ft.a.y-ft.b.y)<qt)&&(ft.a=ft.b=null,Jt.splice(Zt,1))}(_),function(ht){for(var ft,pt,_t,Ft,Ht,Jt,oe,Zt,Qt,Yt,pe=ht[0][0],ne=ht[1][0],Wt=ht[0][1],Se=ht[1][1],De=un,He=De.length;He--;)if((Ht=De[He])&&Ht.prepare())for(Zt=(oe=Ht.edges).length,Jt=0;Jt<Zt;)_t=(Yt=oe[Jt].end()).x,Ft=Yt.y,ft=(Qt=oe[++Jt%Zt].start()).x,pt=Qt.y,(y(_t-ft)>qt||y(Ft-pt)>qt)&&(oe.splice(Jt,0,new fr(Hr(Ht.site,Yt,y(_t-pe)<qt&&Se-Ft>qt?{x:pe,y:y(ft-pe)<qt?pt:Se}:y(Ft-Se)<qt&&ne-_t>qt?{x:y(pt-Se)<qt?ft:ne,y:Se}:y(_t-ne)<qt&&Ft-Wt>qt?{x:ne,y:y(ft-ne)<qt?pt:Wt}:y(Ft-Wt)<qt&&_t-pe>qt?{x:y(pt-Wt)<qt?ft:pe,y:Wt}:null),Ht.site,null)),++Zt)}(_));var st={cells:un,edges:Ne};return Sn=xn=Ne=un=null,st}function Sr(u,_){return _.y-u.y||_.x-u.x}dr.prototype.prepare=function(){for(var u,_=this.edges,O=_.length;O--;)(u=_[O].edge).b&&u.a||_.splice(O,1);return _.sort(Dn),_.length},fr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Pr.prototype={insert:function(u,_){var O,V,X;if(u){if(_.P=u,_.N=u.N,u.N&&(u.N.P=_),u.N=_,u.R){for(u=u.R;u.L;)u=u.L;u.L=_}else u.R=_;O=u}else this._?(u=Br(this._),_.P=null,_.N=u,u.P=u.L=_,O=u):(_.P=_.N=null,this._=_,O=null);for(_.L=_.R=null,_.U=O,_.C=!0,u=_;O&&O.C;)O===(V=O.U).L?(X=V.R)&&X.C?(O.C=X.C=!1,V.C=!0,u=V):(u===O.R&&(cr(this,O),O=(u=O).U),O.C=!1,V.C=!0,hr(this,V)):(X=V.L)&&X.C?(O.C=X.C=!1,V.C=!0,u=V):(u===O.L&&(hr(this,O),O=(u=O).U),O.C=!1,V.C=!0,cr(this,V)),O=u.U;this._.C=!1},remove:function(u){u.N&&(u.N.P=u.P),u.P&&(u.P.N=u.N),u.N=u.P=null;var _,O,V,X=u.U,et=u.L,st=u.R;if(O=et?st?Br(st):et:st,X?X.L===u?X.L=O:X.R=O:this._=O,et&&st?(V=O.C,O.C=u.C,O.L=et,et.U=O,O!==st?(X=O.U,O.U=u.U,X.L=u=O.R,O.R=st,st.U=O):(O.U=X,X=O,u=O.R)):(V=u.C,u=O),u&&(u.U=X),!V)if(u&&u.C)u.C=!1;else{do{if(u===this._)break;if(u===X.L){if((_=X.R).C&&(_.C=!1,X.C=!0,cr(this,X),_=X.R),_.L&&_.L.C||_.R&&_.R.C){_.R&&_.R.C||(_.L.C=!1,_.C=!0,hr(this,_),_=X.R),_.C=X.C,X.C=_.R.C=!1,cr(this,X),u=this._;break}}else if((_=X.L).C&&(_.C=!1,X.C=!0,hr(this,X),_=X.L),_.L&&_.L.C||_.R&&_.R.C){_.L&&_.L.C||(_.R.C=!1,_.C=!0,cr(this,_),_=X.L),_.C=X.C,X.C=_.L.C=!1,hr(this,X),u=this._;break}_.C=!0,u=X,X=X.U}while(!u.C);u&&(u.C=!1)}}},t.geom.voronoi=function(u){var _=Ue,O=fn,V=_,X=O,et=ue;if(u)return st(u);function st(ft){var pt=new Array(ft.length),_t=et[0][0],Ft=et[0][1],Ht=et[1][0],Jt=et[1][1];return Er(ht(ft),et).cells.forEach(function(oe,Zt){var Qt=oe.edges,Yt=oe.site;(pt[Zt]=Qt.length?Qt.map(function(pe){var ne=pe.start();return[ne.x,ne.y]}):Yt.x>=_t&&Yt.x<=Ht&&Yt.y>=Ft&&Yt.y<=Jt?[[_t,Jt],[Ht,Jt],[Ht,Ft],[_t,Ft]]:[]).point=ft[Zt]}),pt}function ht(ft){return ft.map(function(pt,_t){return{x:Math.round(V(pt,_t)/qt)*qt,y:Math.round(X(pt,_t)/qt)*qt,i:_t}})}return st.links=function(ft){return Er(ht(ft)).edges.filter(function(pt){return pt.l&&pt.r}).map(function(pt){return{source:ft[pt.l.i],target:ft[pt.r.i]}})},st.triangles=function(ft){var pt=[];return Er(ht(ft)).cells.forEach(function(_t,Ft){for(var Ht,Jt,oe,Zt,Qt=_t.site,Yt=_t.edges.sort(Dn),pe=-1,ne=Yt.length,Wt=Yt[ne-1].edge,Se=Wt.l===Qt?Wt.r:Wt.l;++pe<ne;)Ht=Se,Se=(Wt=Yt[pe].edge).l===Qt?Wt.r:Wt.l,Ft<Ht.i&&Ft<Se.i&&((Jt=Qt).x-(Zt=Se).x)*((oe=Ht).y-Jt.y)-(Jt.x-oe.x)*(Zt.y-Jt.y)<0&&pt.push([ft[Ft],ft[Ht.i],ft[Se.i]])}),pt},st.x=function(ft){return arguments.length?(V=Ce(_=ft),st):_},st.y=function(ft){return arguments.length?(X=Ce(O=ft),st):O},st.clipExtent=function(ft){return arguments.length?(et=null==ft?ue:ft,st):et===ue?null:et},st.size=function(ft){return arguments.length?st.clipExtent(ft&&[[0,0],ft]):et===ue?null:et&&et[1]},st};var ue=[[-1e6,-1e6],[1e6,1e6]];function at(u){return u.x}function yt(u){return u.y}function ae(u,_,O,V,X,et){if(!u(_,O,V,X,et)){var st=.5*(O+X),ht=.5*(V+et),ft=_.nodes;ft[0]&&ae(u,ft[0],O,V,st,ht),ft[1]&&ae(u,ft[1],st,V,X,ht),ft[2]&&ae(u,ft[2],O,ht,st,et),ft[3]&&ae(u,ft[3],st,ht,X,et)}}function we(u,_,O,V,X,et,st){var ht,ft=1/0;return function pt(_t,Ft,Ht,Jt,oe){if(!(Ft>et||Ht>st||Jt<V||oe<X)){if(Zt=_t.point){var Zt,Qt=_-_t.x,Yt=O-_t.y,pe=Qt*Qt+Yt*Yt;if(pe<ft){var ne=Math.sqrt(ft=pe);V=_-ne,X=O-ne,et=_+ne,st=O+ne,ht=Zt}}for(var Wt=_t.nodes,Se=.5*(Ft+Jt),De=.5*(Ht+oe),He=(O>=De)<<1|_>=Se,Ye=He+4;He<Ye;++He)if(_t=Wt[3&He])switch(3&He){case 0:pt(_t,Ft,Ht,Se,De);break;case 1:pt(_t,Se,Ht,Jt,De);break;case 2:pt(_t,Ft,De,Se,oe);break;case 3:pt(_t,Se,De,Jt,oe)}}}(u,V,X,et,st),ht}function Ee(u,_){u=t.rgb(u),_=t.rgb(_);var O=u.r,V=u.g,X=u.b,et=_.r-O,st=_.g-V,ht=_.b-X;return function(ft){return"#"+Ze(Math.round(O+et*ft))+Ze(Math.round(V+st*ft))+Ze(Math.round(X+ht*ft))}}function Je(u,_){var O,V={},X={};for(O in u)O in _?V[O]=Ln(u[O],_[O]):X[O]=u[O];for(O in _)O in u||(X[O]=_[O]);return function(et){for(O in V)X[O]=V[O](et);return X}}function pn(u,_){return u=+u,_=+_,function(O){return u*(1-O)+_*O}}function In(u,_){var O,V,X,et=Bn.lastIndex=Hn.lastIndex=0,st=-1,ht=[],ft=[];for(u+="",_+="";(O=Bn.exec(u))&&(V=Hn.exec(_));)(X=V.index)>et&&(X=_.slice(et,X),ht[st]?ht[st]+=X:ht[++st]=X),(O=O[0])===(V=V[0])?ht[st]?ht[st]+=V:ht[++st]=V:(ht[++st]=null,ft.push({i:st,x:pn(O,V)})),et=Hn.lastIndex;return et<_.length&&(X=_.slice(et),ht[st]?ht[st]+=X:ht[++st]=X),ht.length<2?ft[0]?(_=ft[0].x,function(pt){return _(pt)+""}):function(){return _}:(_=ft.length,function(pt){for(var _t,Ft=0;Ft<_;++Ft)ht[(_t=ft[Ft]).i]=_t.x(pt);return ht.join("")})}t.geom.delaunay=function(u){return t.geom.voronoi().triangles(u)},t.geom.quadtree=function(u,_,O,V,X){var et,st=Ue,ht=fn;if(et=arguments.length)return st=at,ht=yt,3===et&&(X=O,V=_,O=_=0),ft(u);function ft(pt){var _t,Ft,Ht,Jt,oe,Zt,Qt,Yt,pe,ne=Ce(st),Wt=Ce(ht);if(null!=_)Zt=_,Qt=O,Yt=V,pe=X;else if(Yt=pe=-(Zt=Qt=1/0),Ft=[],Ht=[],oe=pt.length,et)for(Jt=0;Jt<oe;++Jt)(_t=pt[Jt]).x<Zt&&(Zt=_t.x),_t.y<Qt&&(Qt=_t.y),_t.x>Yt&&(Yt=_t.x),_t.y>pe&&(pe=_t.y),Ft.push(_t.x),Ht.push(_t.y);else for(Jt=0;Jt<oe;++Jt){var Se=+ne(_t=pt[Jt],Jt),De=+Wt(_t,Jt);Se<Zt&&(Zt=Se),De<Qt&&(Qt=De),Se>Yt&&(Yt=Se),De>pe&&(pe=De),Ft.push(Se),Ht.push(De)}var He=Yt-Zt,Ye=pe-Qt;function tn(nn,wn,zn,Yn,je,an,yn,gn){if(!isNaN(zn)&&!isNaN(Yn))if(nn.leaf){var On=nn.x,Pn=nn.y;if(null!=On)if(y(On-zn)+y(Pn-Yn)<.01)en(nn,wn,zn,Yn,je,an,yn,gn);else{var Fn=nn.point;nn.x=nn.y=nn.point=null,en(nn,Fn,On,Pn,je,an,yn,gn),en(nn,wn,zn,Yn,je,an,yn,gn)}else nn.x=zn,nn.y=Yn,nn.point=wn}else en(nn,wn,zn,Yn,je,an,yn,gn)}function en(nn,wn,zn,Yn,je,an,yn,gn){var On=.5*(je+yn),Pn=.5*(an+gn),Fn=zn>=On,Zn=Yn>=Pn,Kn=Zn<<1|Fn;nn.leaf=!1,Fn?je=On:yn=On,Zn?an=Pn:gn=Pn,tn(nn=nn.nodes[Kn]||(nn.nodes[Kn]={leaf:!0,nodes:[],point:null,x:null,y:null}),wn,zn,Yn,je,an,yn,gn)}He>Ye?pe=Qt+He:Yt=Zt+Ye;var vn={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(nn){tn(vn,nn,+ne(nn,++Jt),+Wt(nn,Jt),Zt,Qt,Yt,pe)},visit:function(nn){ae(nn,vn,Zt,Qt,Yt,pe)},find:function(nn){return we(vn,nn[0],nn[1],Zt,Qt,Yt,pe)}};if(Jt=-1,null==_){for(;++Jt<oe;)tn(vn,pt[Jt],Ft[Jt],Ht[Jt],Zt,Qt,Yt,pe);--Jt}else pt.forEach(vn.add);return Ft=Ht=pt=_t=null,vn}return ft.x=function(pt){return arguments.length?(st=pt,ft):st},ft.y=function(pt){return arguments.length?(ht=pt,ft):ht},ft.extent=function(pt){return arguments.length?(null==pt?_=O=V=X=null:(_=+pt[0][0],O=+pt[0][1],V=+pt[1][0],X=+pt[1][1]),ft):null==_?null:[[_,O],[V,X]]},ft.size=function(pt){return arguments.length?(null==pt?_=O=V=X=null:(_=O=0,V=+pt[0],X=+pt[1]),ft):null==_?null:[V-_,X-O]},ft},t.interpolateRgb=Ee,t.interpolateObject=Je,t.interpolateNumber=pn,t.interpolateString=In;var Bn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hn=new RegExp(Bn.source,"g");function Ln(u,_){for(var O,V=t.interpolators.length;--V>=0&&!(O=t.interpolators[V](u,_)););return O}function Vn(u,_){var O,V=[],X=[],et=u.length,st=_.length,ht=Math.min(u.length,_.length);for(O=0;O<ht;++O)V.push(Ln(u[O],_[O]));for(;O<et;++O)X[O]=u[O];for(;O<st;++O)X[O]=_[O];return function(ft){for(O=0;O<ht;++O)X[O]=V[O](ft);return X}}t.interpolate=Ln,t.interpolators=[function(u,_){var O=typeof _;return("string"===O?ze.has(_.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(_)?Ee:In:_ instanceof jt?Ee:Array.isArray(_)?Vn:"object"===O&&isNaN(_)?Je:pn)(u,_)}],t.interpolateArray=Vn;var qn=function(){return U},ir=t.map({linear:qn,poly:function(u){return function(_){return Math.pow(_,u)}},quad:function(){return yr},cubic:function(){return Yr},sin:function(){return oi},exp:function(){return si},circle:function(){return li},elastic:function(u,_){var O;return arguments.length<2&&(_=.45),arguments.length?O=_/Te*Math.asin(1/u):(u=1,O=_/4),function(V){return 1+u*Math.pow(2,-10*V)*Math.sin((V-O)*Te/_)}},back:function(u){return u||(u=1.70158),function(_){return _*_*((u+1)*_-u)}},bounce:function(){return ci}}),rr=t.map({in:U,out:gr,"in-out":_r,"out-in":function(u){return _r(gr(u))}});function pr(u){return function(_){return _<=0?0:_>=1?1:u(_)}}function gr(u){return function(_){return 1-u(1-_)}}function _r(u){return function(_){return.5*(_<.5?u(2*_):2-u(2-2*_))}}function yr(u){return u*u}function Yr(u){return u*u*u}function ii(u){if(u<=0)return 0;if(u>=1)return 1;var _=u*u,O=_*u;return 4*(u<.5?O:3*(u-_)+O-.75)}function oi(u){return 1-Math.cos(u*xe)}function si(u){return Math.pow(2,10*(u-1))}function li(u){return 1-Math.sqrt(1-u*u)}function ci(u){return u<1/2.75?7.5625*u*u:u<2/2.75?7.5625*(u-=1.5/2.75)*u+.75:u<2.5/2.75?7.5625*(u-=2.25/2.75)*u+.9375:7.5625*(u-=2.625/2.75)*u+.984375}function xa(u,_){return _-=u,function(O){return Math.round(u+_*O)}}function _a(u){var _,O,V,X=[u.a,u.b],et=[u.c,u.d],st=Ta(X),ht=wa(X,et),ft=Ta(((_=et)[0]+=(V=-ht)*(O=X)[0],_[1]+=V*O[1],_))||0;X[0]*et[1]<et[0]*X[1]&&(X[0]*=-1,X[1]*=-1,st*=-1,ht*=-1),this.rotate=(st?Math.atan2(X[1],X[0]):Math.atan2(-et[0],et[1]))*le,this.translate=[u.e,u.f],this.scale=[st,ft],this.skew=ft?Math.atan2(ht,ft)*le:0}function wa(u,_){return u[0]*_[0]+u[1]*_[1]}function Ta(u){var _=Math.sqrt(wa(u,u));return _&&(u[0]/=_,u[1]/=_),_}t.ease=function(u){var _=u.indexOf("-"),O=_>=0?u.slice(0,_):u,V=_>=0?u.slice(_+1):"in";return O=ir.get(O)||qn,pr((V=rr.get(V)||U)(O.apply(null,l.call(arguments,1))))},t.interpolateHcl=function(u,_){u=t.hcl(u),_=t.hcl(_);var O=u.h,V=u.c,X=u.l,et=_.h-O,st=_.c-V,ht=_.l-X;return isNaN(st)&&(st=0,V=isNaN(V)?_.c:V),isNaN(et)?(et=0,O=isNaN(O)?_.h:O):et>180?et-=360:et<-180&&(et+=360),function(ft){return re(O+et*ft,V+st*ft,X+ht*ft)+""}},t.interpolateHsl=function(u,_){u=t.hsl(u),_=t.hsl(_);var O=u.h,V=u.s,X=u.l,et=_.h-O,st=_.s-V,ht=_.l-X;return isNaN(st)&&(st=0,V=isNaN(V)?_.s:V),isNaN(et)?(et=0,O=isNaN(O)?_.h:O):et>180?et-=360:et<-180&&(et+=360),function(ft){return ie(O+et*ft,V+st*ft,X+ht*ft)+""}},t.interpolateLab=function(u,_){u=t.lab(u),_=t.lab(_);var O=u.l,V=u.a,X=u.b,et=_.l-O,st=_.a-V,ht=_.b-X;return function(ft){return te(O+et*ft,V+st*ft,X+ht*ft)+""}},t.interpolateRound=xa,t.transform=function(u){var _=e.createElementNS(t.ns.prefix.svg,"g");return(t.transform=function(O){if(null!=O){_.setAttribute("transform",O);var V=_.transform.baseVal.consolidate()}return new _a(V?V.matrix:ui)})(u)},_a.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ui={a:1,b:0,c:0,d:1,e:0,f:0};function Ir(u){return u.length?u.pop()+",":""}function ka(u,_){var X,et,st,O=[],V=[];return u=t.transform(u),_=t.transform(_),function(X,et,st,ht){if(X[0]!==et[0]||X[1]!==et[1]){var ft=st.push("translate(",null,",",null,")");ht.push({i:ft-4,x:pn(X[0],et[0])},{i:ft-2,x:pn(X[1],et[1])})}else(et[0]||et[1])&&st.push("translate("+et+")")}(u.translate,_.translate,O,V),st=O,(X=u.rotate)!==(et=_.rotate)?(X-et>180?et+=360:et-X>180&&(X+=360),V.push({i:st.push(Ir(st)+"rotate(",null,")")-2,x:pn(X,et)})):et&&st.push(Ir(st)+"rotate("+et+")"),function(X,et,st,ht){X!==et?ht.push({i:st.push(Ir(st)+"skewX(",null,")")-2,x:pn(X,et)}):et&&st.push(Ir(st)+"skewX("+et+")")}(u.skew,_.skew,O,V),function(X,et,st,ht){if(X[0]!==et[0]||X[1]!==et[1]){var ft=st.push(Ir(st)+"scale(",null,",",null,")");ht.push({i:ft-4,x:pn(X[0],et[0])},{i:ft-2,x:pn(X[1],et[1])})}else 1===et[0]&&1===et[1]||st.push(Ir(st)+"scale("+et+")")}(u.scale,_.scale,O,V),u=_=null,function(X){for(var et,st=-1,ht=V.length;++st<ht;)O[(et=V[st]).i]=et.x(X);return O.join("")}}function di(u,_){return _=(_-=u=+u)||1/_,function(O){return(O-u)/_}}function fi(u,_){return _=(_-=u=+u)||1/_,function(O){return Math.max(0,Math.min(1,(O-u)/_))}}function hi(u){for(var _=u.source,O=u.target,V=function(st,ht){if(st===ht)return st;for(var ft=Ma(st),pt=Ma(ht),_t=ft.pop(),Ft=pt.pop(),Ht=null;_t===Ft;)Ht=_t,_t=ft.pop(),Ft=pt.pop();return Ht}(_,O),X=[_];_!==V;)X.push(_=_.parent);for(var et=X.length;O!==V;)X.splice(et,0,O),O=O.parent;return X}function Ma(u){for(var _=[],O=u.parent;null!=O;)_.push(u),u=O,O=O.parent;return _.push(u),_}function pi(u){u.fixed|=2}function gi(u){u.fixed&=-7}function mi(u){u.fixed|=4,u.px=u.x,u.py=u.y}function vi(u){u.fixed&=-5}t.interpolateTransform=ka,t.layout={},t.layout.bundle=function(){return function(u){for(var _=[],O=-1,V=u.length;++O<V;)_.push(hi(u[O]));return _}},t.layout.chord=function(){var u,_,O,V,X,et,st,ht={},ft=0;function pt(){var Ft,Ht,Jt,oe,Zt,Qt={},Yt=[],pe=t.range(V),ne=[];for(u=[],_=[],Ft=0,oe=-1;++oe<V;){for(Ht=0,Zt=-1;++Zt<V;)Ht+=O[oe][Zt];Yt.push(Ht),ne.push(t.range(V)),Ft+=Ht}for(X&&pe.sort(function(vn,nn){return X(Yt[vn],Yt[nn])}),et&&ne.forEach(function(vn,nn){vn.sort(function(wn,zn){return et(O[nn][wn],O[nn][zn])})}),Ft=(Te-ft*V)/Ft,Ht=0,oe=-1;++oe<V;){for(Jt=Ht,Zt=-1;++Zt<V;){var Wt=pe[oe],Se=ne[Wt][Zt],De=O[Wt][Se],He=Ht,Ye=Ht+=De*Ft;Qt[Wt+"-"+Se]={index:Wt,subindex:Se,startAngle:He,endAngle:Ye,value:De}}_[Wt]={index:Wt,startAngle:Jt,endAngle:Ht,value:Yt[Wt]},Ht+=ft}for(oe=-1;++oe<V;)for(Zt=oe-1;++Zt<V;){var tn=Qt[oe+"-"+Zt],en=Qt[Zt+"-"+oe];(tn.value||en.value)&&u.push(tn.value<en.value?{source:en,target:tn}:{source:tn,target:en})}st&&_t()}function _t(){u.sort(function(Ft,Ht){return st((Ft.source.value+Ft.target.value)/2,(Ht.source.value+Ht.target.value)/2)})}return ht.matrix=function(Ft){return arguments.length?(V=(O=Ft)&&O.length,u=_=null,ht):O},ht.padding=function(Ft){return arguments.length?(ft=Ft,u=_=null,ht):ft},ht.sortGroups=function(Ft){return arguments.length?(X=Ft,u=_=null,ht):X},ht.sortSubgroups=function(Ft){return arguments.length?(et=Ft,u=null,ht):et},ht.sortChords=function(Ft){return arguments.length?(st=Ft,u&&_t(),ht):st},ht.chords=function(){return u||pt(),u},ht.groups=function(){return _||pt(),_},ht},t.layout.force=function(){var u,_,O,V,X,et,st={},ht=t.dispatch("start","tick","end"),ft=[1,1],pt=.9,_t=yi,Ft=bi,Ht=-30,Jt=xi,oe=.1,Zt=.64,Qt=[],Yt=[];function pe(Wt){return function(Se,De,He,Ye){if(Se.point!==Wt){var tn=Se.cx-Wt.x,en=Se.cy-Wt.y,vn=Ye-De,nn=tn*tn+en*en;if(vn*vn/Zt<nn){if(nn<Jt){var wn=Se.charge/nn;Wt.px-=tn*wn,Wt.py-=en*wn}return!0}Se.point&&nn&&nn<Jt&&(Wt.px-=tn*(wn=Se.pointCharge/nn),Wt.py-=en*wn)}return!Se.charge}}function ne(Wt){Wt.px=t.event.x,Wt.py=t.event.y,st.resume()}return st.tick=function(){if((O*=.99)<.005)return u=null,ht.end({type:"end",alpha:O=0}),!0;var Wt,Se,De,He,Ye,tn,en,vn,nn,wn=Qt.length,zn=Yt.length;for(Se=0;Se<zn;++Se)He=(De=Yt[Se]).source,(tn=(vn=(Ye=De.target).x-He.x)*vn+(nn=Ye.y-He.y)*nn)&&(vn*=tn=O*X[Se]*((tn=Math.sqrt(tn))-V[Se])/tn,nn*=tn,Ye.x-=vn*(en=He.weight+Ye.weight?He.weight/(He.weight+Ye.weight):.5),Ye.y-=nn*en,He.x+=vn*(en=1-en),He.y+=nn*en);if((en=O*oe)&&(vn=ft[0]/2,nn=ft[1]/2,Se=-1,en))for(;++Se<wn;)(De=Qt[Se]).x+=(vn-De.x)*en,De.y+=(nn-De.y)*en;if(Ht)for(function Yn(je,an,yn){var gn=0,On=0;if(je.charge=0,!je.leaf)for(var Pn,Fn=je.nodes,Zn=Fn.length,Kn=-1;++Kn<Zn;)null!=(Pn=Fn[Kn])&&(Yn(Pn,an,yn),je.charge+=Pn.charge,gn+=Pn.charge*Pn.cx,On+=Pn.charge*Pn.cy);if(je.point){je.leaf||(je.point.x+=Math.random()-.5,je.point.y+=Math.random()-.5);var Qn=an*yn[je.point.index];je.charge+=je.pointCharge=Qn,gn+=Qn*je.point.x,On+=Qn*je.point.y}je.cx=gn/je.charge,je.cy=On/je.charge}(Wt=t.geom.quadtree(Qt),O,et),Se=-1;++Se<wn;)(De=Qt[Se]).fixed||Wt.visit(pe(De));for(Se=-1;++Se<wn;)(De=Qt[Se]).fixed?(De.x=De.px,De.y=De.py):(De.x-=(De.px-(De.px=De.x))*pt,De.y-=(De.py-(De.py=De.y))*pt);ht.tick({type:"tick",alpha:O})},st.nodes=function(Wt){return arguments.length?(Qt=Wt,st):Qt},st.links=function(Wt){return arguments.length?(Yt=Wt,st):Yt},st.size=function(Wt){return arguments.length?(ft=Wt,st):ft},st.linkDistance=function(Wt){return arguments.length?(_t="function"==typeof Wt?Wt:+Wt,st):_t},st.distance=st.linkDistance,st.linkStrength=function(Wt){return arguments.length?(Ft="function"==typeof Wt?Wt:+Wt,st):Ft},st.friction=function(Wt){return arguments.length?(pt=+Wt,st):pt},st.charge=function(Wt){return arguments.length?(Ht="function"==typeof Wt?Wt:+Wt,st):Ht},st.chargeDistance=function(Wt){return arguments.length?(Jt=Wt*Wt,st):Math.sqrt(Jt)},st.gravity=function(Wt){return arguments.length?(oe=+Wt,st):oe},st.theta=function(Wt){return arguments.length?(Zt=Wt*Wt,st):Math.sqrt(Zt)},st.alpha=function(Wt){return arguments.length?(Wt=+Wt,O?Wt>0?O=Wt:(u.c=null,u.t=NaN,u=null,ht.end({type:"end",alpha:O=0})):Wt>0&&(ht.start({type:"start",alpha:O=Wt}),u=dn(st.tick)),st):O},st.start=function(){var Wt,Se,De,He=Qt.length,Ye=Yt.length,tn=ft[0],en=ft[1];for(Wt=0;Wt<He;++Wt)(De=Qt[Wt]).index=Wt,De.weight=0;for(Wt=0;Wt<Ye;++Wt)"number"==typeof(De=Yt[Wt]).source&&(De.source=Qt[De.source]),"number"==typeof De.target&&(De.target=Qt[De.target]),++De.source.weight,++De.target.weight;for(Wt=0;Wt<He;++Wt)De=Qt[Wt],isNaN(De.x)&&(De.x=vn("x",tn)),isNaN(De.y)&&(De.y=vn("y",en)),isNaN(De.px)&&(De.px=De.x),isNaN(De.py)&&(De.py=De.y);if(V=[],"function"==typeof _t)for(Wt=0;Wt<Ye;++Wt)V[Wt]=+_t.call(this,Yt[Wt],Wt);else for(Wt=0;Wt<Ye;++Wt)V[Wt]=_t;if(X=[],"function"==typeof Ft)for(Wt=0;Wt<Ye;++Wt)X[Wt]=+Ft.call(this,Yt[Wt],Wt);else for(Wt=0;Wt<Ye;++Wt)X[Wt]=Ft;if(et=[],"function"==typeof Ht)for(Wt=0;Wt<He;++Wt)et[Wt]=+Ht.call(this,Qt[Wt],Wt);else for(Wt=0;Wt<He;++Wt)et[Wt]=Ht;function vn(nn,wn){if(!Se){for(Se=new Array(He),an=0;an<He;++an)Se[an]=[];for(an=0;an<Ye;++an){var zn=Yt[an];Se[zn.source.index].push(zn.target),Se[zn.target.index].push(zn.source)}}for(var Yn,je=Se[Wt],an=-1,yn=je.length;++an<yn;)if(!isNaN(Yn=je[an][nn]))return Yn;return Math.random()*wn}return st.resume()},st.resume=function(){return st.alpha(.1)},st.stop=function(){return st.alpha(0)},st.drag=function(){if(_||(_=t.behavior.drag().origin(U).on("dragstart.force",pi).on("drag.force",ne).on("dragend.force",gi)),!arguments.length)return _;this.on("mouseover.force",mi).on("mouseout.force",vi).call(_)},t.rebind(st,ht,"on")};var yi=20,bi=1,xi=1/0;function Fr(u,_){return t.rebind(u,_,"sort","children","value"),u.nodes=u,u.links=ki,u}function Rr(u,_){for(var O=[u];null!=(u=O.pop());)if(_(u),(X=u.children)&&(V=X.length))for(var V,X;--V>=0;)O.push(X[V])}function mr(u,_){for(var O=[u],V=[];null!=(u=O.pop());)if(V.push(u),(et=u.children)&&(X=et.length))for(var X,et,st=-1;++st<X;)O.push(et[st]);for(;null!=(u=V.pop());)_(u)}function _i(u){return u.children}function wi(u){return u.value}function Ti(u,_){return _.value-u.value}function ki(u){return t.merge(u.map(function(_){return(_.children||[]).map(function(O){return{source:_,target:O}})}))}t.layout.hierarchy=function(){var u=Ti,_=_i,O=wi;function V(X){var et,st=[X],ht=[];for(X.depth=0;null!=(et=st.pop());)if(ht.push(et),(pt=_.call(V,et,et.depth))&&(ft=pt.length)){for(var ft,pt,_t;--ft>=0;)st.push(_t=pt[ft]),_t.parent=et,_t.depth=et.depth+1;O&&(et.value=0),et.children=pt}else O&&(et.value=+O.call(V,et,et.depth)||0),delete et.children;return mr(X,function(Ft){var Ht,Jt;u&&(Ht=Ft.children)&&Ht.sort(u),O&&(Jt=Ft.parent)&&(Jt.value+=Ft.value)}),ht}return V.sort=function(X){return arguments.length?(u=X,V):u},V.children=function(X){return arguments.length?(_=X,V):_},V.value=function(X){return arguments.length?(O=X,V):O},V.revalue=function(X){return O&&(Rr(X,function(et){et.children&&(et.value=0)}),mr(X,function(et){var st;et.children||(et.value=+O.call(V,et,et.depth)||0),(st=et.parent)&&(st.value+=et.value)})),X},V},t.layout.partition=function(){var u=t.layout.hierarchy(),_=[1,1];function O(V,X){var et=u.call(this,V,X);return function st(ht,ft,pt,_t){var Ft=ht.children;if(ht.x=ft,ht.y=ht.depth*_t,ht.dx=pt,ht.dy=_t,Ft&&(Ht=Ft.length)){var Ht,Jt,oe,Zt=-1;for(pt=ht.value?pt/ht.value:0;++Zt<Ht;)st(Jt=Ft[Zt],ft,oe=Jt.value*pt,_t),ft+=oe}}(et[0],0,_[0],_[1]/function st(ht){var ft=ht.children,pt=0;if(ft&&(_t=ft.length))for(var _t,Ft=-1;++Ft<_t;)pt=Math.max(pt,st(ft[Ft]));return 1+pt}(et[0])),et}return O.size=function(V){return arguments.length?(_=V,O):_},Fr(O,u)},t.layout.pie=function(){var u=Number,_=Aa,O=0,V=Te,X=0;function et(st){var ht,ft=st.length,pt=st.map(function(pe,ne){return+u.call(et,pe,ne)}),_t=+("function"==typeof O?O.apply(this,arguments):O),Ft=("function"==typeof V?V.apply(this,arguments):V)-_t,Ht=Math.min(Math.abs(Ft)/ft,+("function"==typeof X?X.apply(this,arguments):X)),Jt=Ht*(Ft<0?-1:1),oe=t.sum(pt),Zt=oe?(Ft-ft*Jt)/oe:0,Qt=t.range(ft),Yt=[];return null!=_&&Qt.sort(_===Aa?function(pe,ne){return pt[ne]-pt[pe]}:function(pe,ne){return _(st[pe],st[ne])}),Qt.forEach(function(pe){Yt[pe]={data:st[pe],value:ht=pt[pe],startAngle:_t,endAngle:_t+=ht*Zt+Jt,padAngle:Ht}}),Yt}return et.value=function(st){return arguments.length?(u=st,et):u},et.sort=function(st){return arguments.length?(_=st,et):_},et.startAngle=function(st){return arguments.length?(O=st,et):O},et.endAngle=function(st){return arguments.length?(V=st,et):V},et.padAngle=function(st){return arguments.length?(X=st,et):X},et};var Aa={};function Mi(u){return u.x}function Ai(u){return u.y}function Li(u,_,O){u.y0=_,u.y=O}t.layout.stack=function(){var u=U,_=na,O=ra,V=Li,X=Mi,et=Ai;function st(ht,ft){if(!(Ht=ht.length))return ht;var pt=ht.map(function(pe,ne){return u.call(st,pe,ne)}),_t=pt.map(function(pe){return pe.map(function(ne,Wt){return[X.call(st,ne,Wt),et.call(st,ne,Wt)]})}),Ft=_.call(st,_t,ft);pt=t.permute(pt,Ft),_t=t.permute(_t,Ft);var Ht,Jt,oe,Zt,Qt=O.call(st,_t,ft),Yt=pt[0].length;for(oe=0;oe<Yt;++oe)for(V.call(st,pt[0][oe],Zt=Qt[oe],_t[0][oe][1]),Jt=1;Jt<Ht;++Jt)V.call(st,pt[Jt][oe],Zt+=_t[Jt-1][oe][1],_t[Jt][oe][1]);return ht}return st.values=function(ht){return arguments.length?(u=ht,st):u},st.order=function(ht){return arguments.length?(_="function"==typeof ht?ht:Si.get(ht)||na,st):_},st.offset=function(ht){return arguments.length?(O="function"==typeof ht?ht:Di.get(ht)||ra,st):O},st.x=function(ht){return arguments.length?(X=ht,st):X},st.y=function(ht){return arguments.length?(et=ht,st):et},st.out=function(ht){return arguments.length?(V=ht,st):V},st};var Si=t.map({"inside-out":function(u){var _,O,V=u.length,X=u.map(Ci),et=u.map(Oi),st=t.range(V).sort(function(Ft,Ht){return X[Ft]-X[Ht]}),ht=0,ft=0,pt=[],_t=[];for(_=0;_<V;++_)O=st[_],ht<ft?(ht+=et[O],pt.push(O)):(ft+=et[O],_t.push(O));return _t.reverse().concat(pt)},reverse:function(u){return t.range(u.length).reverse()},default:na}),Di=t.map({silhouette:function(u){var _,O,V,X=u.length,et=u[0].length,st=[],ht=0,ft=[];for(O=0;O<et;++O){for(_=0,V=0;_<X;_++)V+=u[_][O][1];V>ht&&(ht=V),st.push(V)}for(O=0;O<et;++O)ft[O]=(ht-st[O])/2;return ft},wiggle:function(u){var _,O,V,X,et,st,ht,ft,pt,_t=u.length,Ft=u[0],Ht=Ft.length,Jt=[];for(Jt[0]=ft=pt=0,O=1;O<Ht;++O){for(_=0,X=0;_<_t;++_)X+=u[_][O][1];for(_=0,et=0,ht=Ft[O][0]-Ft[O-1][0];_<_t;++_){for(V=0,st=(u[_][O][1]-u[_][O-1][1])/(2*ht);V<_;++V)st+=(u[V][O][1]-u[V][O-1][1])/ht;et+=st*u[_][O][1]}Jt[O]=ft-=X?et/X*ht:0,ft<pt&&(pt=ft)}for(O=0;O<Ht;++O)Jt[O]-=pt;return Jt},expand:function(u){var _,O,V,X=u.length,et=u[0].length,st=1/X,ht=[];for(O=0;O<et;++O){for(_=0,V=0;_<X;_++)V+=u[_][O][1];if(V)for(_=0;_<X;_++)u[_][O][1]/=V;else for(_=0;_<X;_++)u[_][O][1]=st}for(O=0;O<et;++O)ht[O]=0;return ht},zero:ra});function na(u){return t.range(u.length)}function ra(u){for(var _=-1,O=u[0].length,V=[];++_<O;)V[_]=0;return V}function Ci(u){for(var _,O=1,V=0,X=u[0][1],et=u.length;O<et;++O)(_=u[O][1])>X&&(V=O,X=_);return V}function Oi(u){return u.reduce(Pi,0)}function Pi(u,_){return u+_[1]}function Ei(u,_){return La(u,Math.ceil(Math.log(_.length)/Math.LN2+1))}function La(u,_){for(var O=-1,V=+u[0],X=(u[1]-V)/_,et=[];++O<=_;)et[O]=X*O+V;return et}function Ii(u){return[t.min(u),t.max(u)]}function Ni(u,_){return u.value-_.value}function aa(u,_){var O=u._pack_next;u._pack_next=_,_._pack_prev=u,_._pack_next=O,O._pack_prev=_}function Sa(u,_){u._pack_next=_,_._pack_prev=u}function Da(u,_){var O=_.x-u.x,V=_.y-u.y,X=u.r+_.r;return.999*X*X>O*O+V*V}function Ca(u){if((_=u.children)&&(ft=_.length)){var _,O,V,X,et,st,ht,ft,pt=1/0,_t=-1/0,Ft=1/0,Ht=-1/0;if(_.forEach(zi),(O=_[0]).x=-O.r,O.y=0,ne(O),ft>1&&((V=_[1]).x=V.r,V.y=0,ne(V),ft>2))for(Oa(O,V,X=_[2]),ne(X),aa(O,X),O._pack_prev=X,aa(X,V),V=O._pack_next,et=3;et<ft;et++){Oa(O,V,X=_[et]);var Jt=0,oe=1,Zt=1;for(st=V._pack_next;st!==V;st=st._pack_next,oe++)if(Da(st,X)){Jt=1;break}if(1==Jt)for(ht=O._pack_prev;ht!==st._pack_prev&&!Da(ht,X);ht=ht._pack_prev,Zt++);Jt?(oe<Zt||oe==Zt&&V.r<O.r?Sa(O,V=st):Sa(O=ht,V),et--):(aa(O,X),V=X,ne(X))}var Qt=(pt+_t)/2,Yt=(Ft+Ht)/2,pe=0;for(et=0;et<ft;et++)(X=_[et]).x-=Qt,X.y-=Yt,pe=Math.max(pe,X.r+Math.sqrt(X.x*X.x+X.y*X.y));u.r=pe,_.forEach(Fi)}function ne(Wt){pt=Math.min(Wt.x-Wt.r,pt),_t=Math.max(Wt.x+Wt.r,_t),Ft=Math.min(Wt.y-Wt.r,Ft),Ht=Math.max(Wt.y+Wt.r,Ht)}}function zi(u){u._pack_next=u._pack_prev=u}function Fi(u){delete u._pack_next,delete u._pack_prev}function Oa(u,_,O){var V=u.r+O.r,X=_.x-u.x,et=_.y-u.y;if(V&&(X||et)){var st=_.r+O.r,ht=X*X+et*et,ft=.5+((V*=V)-(st*=st))/(2*ht),pt=Math.sqrt(Math.max(0,2*st*(V+ht)-(V-=ht)*V-st*st))/(2*ht);O.x=u.x+ft*X+pt*et,O.y=u.y+ft*et-pt*X}else O.x=u.x+V,O.y=u.y}function Pa(u,_){return u.parent==_.parent?1:2}function ia(u){var _=u.children;return _.length?_[0]:u.t}function oa(u){var _,O=u.children;return(_=O.length)?O[_-1]:u.t}function Ri(u,_,O){var V=O/(_.i-u.i);_.c-=V,_.s+=O,u.c+=V,_.z+=O,_.m+=O}function ji(u,_,O){return u.a.parent===_.parent?u.a:O}function sa(u){return{x:u.x,y:u.y,dx:u.dx,dy:u.dy}}function Ea(u,_){var O=u.x+_[3],V=u.y+_[0],X=u.dx-_[1]-_[3],et=u.dy-_[0]-_[2];return X<0&&(O+=X/2,X=0),et<0&&(V+=et/2,et=0),{x:O,y:V,dx:X,dy:et}}function Ur(u){var _=u[0],O=u[u.length-1];return _<O?[_,O]:[O,_]}function Vr(u){return u.rangeExtent?u.rangeExtent():Ur(u.range())}function Hi(u,_,O,V){var X=O(u[0],u[1]),et=V(_[0],_[1]);return function(st){return et(X(st))}}function la(u,_){var O,V=0,X=u.length-1,et=u[V],st=u[X];return st<et&&(O=V,V=X,X=O,O=et,et=st,st=O),u[V]=_.floor(et),u[X]=_.ceil(st),u}function Ia(u){return u?{floor:function(_){return Math.floor(_/u)*u},ceil:function(_){return Math.ceil(_/u)*u}}:Bi}t.layout.histogram=function(){var u=!0,_=Number,O=Ii,V=Ei;function X(et,st){for(var ht,ft,pt=[],_t=et.map(_,this),Ft=O.call(this,_t,st),Ht=V.call(this,Ft,_t,st),Jt=(st=-1,_t.length),oe=Ht.length-1,Zt=u?1:1/Jt;++st<oe;)(ht=pt[st]=[]).dx=Ht[st+1]-(ht.x=Ht[st]),ht.y=0;if(oe>0)for(st=-1;++st<Jt;)(ft=_t[st])>=Ft[0]&&ft<=Ft[1]&&((ht=pt[t.bisect(Ht,ft,1,oe)-1]).y+=Zt,ht.push(et[st]));return pt}return X.value=function(et){return arguments.length?(_=et,X):_},X.range=function(et){return arguments.length?(O=Ce(et),X):O},X.bins=function(et){return arguments.length?(V="number"==typeof et?function(st){return La(st,et)}:Ce(et),X):V},X.frequency=function(et){return arguments.length?(u=!!et,X):u},X},t.layout.pack=function(){var u,_=t.layout.hierarchy().sort(Ni),O=0,V=[1,1];function X(et,st){var ht=_.call(this,et,st),ft=ht[0],pt=V[0],_t=V[1],Ft=null==u?Math.sqrt:"function"==typeof u?u:function(){return u};if(ft.x=ft.y=0,mr(ft,function(Jt){Jt.r=+Ft(Jt.value)}),mr(ft,Ca),O){var Ht=O*(u?1:Math.max(2*ft.r/pt,2*ft.r/_t))/2;mr(ft,function(Jt){Jt.r+=Ht}),mr(ft,Ca),mr(ft,function(Jt){Jt.r-=Ht})}return function Jt(oe,Zt,Qt,Yt){var pe=oe.children;if(oe.x=Zt+=Yt*oe.x,oe.y=Qt+=Yt*oe.y,oe.r*=Yt,pe)for(var ne=-1,Wt=pe.length;++ne<Wt;)Jt(pe[ne],Zt,Qt,Yt)}(ft,pt/2,_t/2,u?1:1/Math.max(2*ft.r/pt,2*ft.r/_t)),ht}return X.size=function(et){return arguments.length?(V=et,X):V},X.radius=function(et){return arguments.length?(u=null==et||"function"==typeof et?et:+et,X):u},X.padding=function(et){return arguments.length?(O=+et,X):O},Fr(X,_)},t.layout.tree=function(){var u=t.layout.hierarchy().sort(null).value(null),_=Pa,O=[1,1],V=null;function X(ft,pt){var _t=u.call(this,ft,pt),Ft=_t[0],Ht=function(ne){for(var Wt,Se={A:null,children:[ne]},De=[Se];null!=(Wt=De.pop());)for(var He,Ye=Wt.children,tn=0,en=Ye.length;tn<en;++tn)De.push((Ye[tn]=He={_:Ye[tn],parent:Wt,children:(He=Ye[tn].children)&&He.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:tn}).a=He);return Se.children[0]}(Ft);if(mr(Ht,et),Ht.parent.m=-Ht.z,Rr(Ht,st),V)Rr(Ft,ht);else{var Jt=Ft,oe=Ft,Zt=Ft;Rr(Ft,function(ne){ne.x<Jt.x&&(Jt=ne),ne.x>oe.x&&(oe=ne),ne.depth>Zt.depth&&(Zt=ne)});var Qt=_(Jt,oe)/2-Jt.x,Yt=O[0]/(oe.x+_(oe,Jt)/2+Qt),pe=O[1]/(Zt.depth||1);Rr(Ft,function(ne){ne.x=(ne.x+Qt)*Yt,ne.y=ne.depth*pe})}return _t}function et(ft){var pt=ft.children,_t=ft.parent.children,Ft=ft.i?_t[ft.i-1]:null;if(pt.length){!function(Jt){for(var oe,Zt=0,Qt=0,Yt=Jt.children,pe=Yt.length;--pe>=0;)(oe=Yt[pe]).z+=Zt,oe.m+=Zt,Zt+=oe.s+(Qt+=oe.c)}(ft);var Ht=(pt[0].z+pt[pt.length-1].z)/2;Ft?(ft.z=Ft.z+_(ft._,Ft._),ft.m=ft.z-Ht):ft.z=Ht}else Ft&&(ft.z=Ft.z+_(ft._,Ft._));ft.parent.A=function(Jt,oe,Zt){if(oe){for(var Qt,Yt=Jt,pe=Jt,ne=oe,Wt=Yt.parent.children[0],Se=Yt.m,De=pe.m,He=ne.m,Ye=Wt.m;ne=oa(ne),Yt=ia(Yt),ne&&Yt;)Wt=ia(Wt),(pe=oa(pe)).a=Jt,(Qt=ne.z+He-Yt.z-Se+_(ne._,Yt._))>0&&(Ri(ji(ne,Jt,Zt),Jt,Qt),Se+=Qt,De+=Qt),He+=ne.m,Se+=Yt.m,Ye+=Wt.m,De+=pe.m;ne&&!oa(pe)&&(pe.t=ne,pe.m+=He-De),Yt&&!ia(Wt)&&(Wt.t=Yt,Wt.m+=Se-Ye,Zt=Jt)}return Zt}(ft,Ft,ft.parent.A||_t[0])}function st(ft){ft._.x=ft.z+ft.parent.m,ft.m+=ft.parent.m}function ht(ft){ft.x*=O[0],ft.y=ft.depth*O[1]}return X.separation=function(ft){return arguments.length?(_=ft,X):_},X.size=function(ft){return arguments.length?(V=null==(O=ft)?ht:null,X):V?null:O},X.nodeSize=function(ft){return arguments.length?(V=null==(O=ft)?null:ht,X):V?O:null},Fr(X,u)},t.layout.cluster=function(){var u=t.layout.hierarchy().sort(null).value(null),_=Pa,O=[1,1],V=!1;function X(et,st){var ht,ft=u.call(this,et,st),pt=ft[0],_t=0;mr(pt,function(Zt){var Yt,Qt=Zt.children;Qt&&Qt.length?(Zt.x=(Yt=Qt).reduce(function(pe,ne){return pe+ne.x},0)/Yt.length,Zt.y=function(Yt){return 1+t.max(Yt,function(pe){return pe.y})}(Qt)):(Zt.x=ht?_t+=_(Zt,ht):0,Zt.y=0,ht=Zt)});var Ft=function Zt(Qt){var Yt=Qt.children;return Yt&&Yt.length?Zt(Yt[0]):Qt}(pt),Ht=function Zt(Qt){var Yt,pe=Qt.children;return pe&&(Yt=pe.length)?Zt(pe[Yt-1]):Qt}(pt),Jt=Ft.x-_(Ft,Ht)/2,oe=Ht.x+_(Ht,Ft)/2;return mr(pt,V?function(Zt){Zt.x=(Zt.x-pt.x)*O[0],Zt.y=(pt.y-Zt.y)*O[1]}:function(Zt){Zt.x=(Zt.x-Jt)/(oe-Jt)*O[0],Zt.y=(1-(pt.y?Zt.y/pt.y:1))*O[1]}),ft}return X.separation=function(et){return arguments.length?(_=et,X):_},X.size=function(et){return arguments.length?(V=null==(O=et),X):V?null:O},X.nodeSize=function(et){return arguments.length?(V=null!=(O=et),X):V?O:null},Fr(X,u)},t.layout.treemap=function(){var u,_=t.layout.hierarchy(),O=Math.round,V=[1,1],X=null,et=sa,st=!1,ht="squarify",ft=.5*(1+Math.sqrt(5));function pt(Zt,Qt){for(var Yt,pe,ne=-1,Wt=Zt.length;++ne<Wt;)pe=(Yt=Zt[ne]).value*(Qt<0?0:Qt),Yt.area=isNaN(pe)||pe<=0?0:pe}function _t(Zt){var Qt=Zt.children;if(Qt&&Qt.length){var Yt,pe,ne,Wt=et(Zt),Se=[],De=Qt.slice(),He=1/0,Ye="slice"===ht?Wt.dx:"dice"===ht?Wt.dy:"slice-dice"===ht?1&Zt.depth?Wt.dy:Wt.dx:Math.min(Wt.dx,Wt.dy);for(pt(De,Wt.dx*Wt.dy/Zt.value),Se.area=0;(ne=De.length)>0;)Se.push(Yt=De[ne-1]),Se.area+=Yt.area,"squarify"!==ht||(pe=Ht(Se,Ye))<=He?(De.pop(),He=pe):(Se.area-=Se.pop().area,Jt(Se,Ye,Wt,!1),Ye=Math.min(Wt.dx,Wt.dy),Se.length=Se.area=0,He=1/0);Se.length&&(Jt(Se,Ye,Wt,!0),Se.length=Se.area=0),Qt.forEach(_t)}}function Ft(Zt){var Qt=Zt.children;if(Qt&&Qt.length){var Yt,pe=et(Zt),ne=Qt.slice(),Wt=[];for(pt(ne,pe.dx*pe.dy/Zt.value),Wt.area=0;Yt=ne.pop();)Wt.push(Yt),Wt.area+=Yt.area,null!=Yt.z&&(Jt(Wt,Yt.z?pe.dx:pe.dy,pe,!ne.length),Wt.length=Wt.area=0);Qt.forEach(Ft)}}function Ht(Zt,Qt){for(var Yt,pe=Zt.area,ne=0,Wt=1/0,Se=-1,De=Zt.length;++Se<De;)(Yt=Zt[Se].area)&&(Yt<Wt&&(Wt=Yt),Yt>ne&&(ne=Yt));return Qt*=Qt,(pe*=pe)?Math.max(Qt*ne*ft/pe,pe/(Qt*Wt*ft)):1/0}function Jt(Zt,Qt,Yt,pe){var ne,Wt=-1,Se=Zt.length,De=Yt.x,He=Yt.y,Ye=Qt?O(Zt.area/Qt):0;if(Qt==Yt.dx){for((pe||Ye>Yt.dy)&&(Ye=Yt.dy);++Wt<Se;)(ne=Zt[Wt]).x=De,ne.y=He,ne.dy=Ye,De+=ne.dx=Math.min(Yt.x+Yt.dx-De,Ye?O(ne.area/Ye):0);ne.z=!0,ne.dx+=Yt.x+Yt.dx-De,Yt.y+=Ye,Yt.dy-=Ye}else{for((pe||Ye>Yt.dx)&&(Ye=Yt.dx);++Wt<Se;)(ne=Zt[Wt]).x=De,ne.y=He,ne.dx=Ye,He+=ne.dy=Math.min(Yt.y+Yt.dy-He,Ye?O(ne.area/Ye):0);ne.z=!1,ne.dy+=Yt.y+Yt.dy-He,Yt.x+=Ye,Yt.dx-=Ye}}function oe(Zt){var Qt=u||_(Zt),Yt=Qt[0];return Yt.x=Yt.y=0,Yt.value?(Yt.dx=V[0],Yt.dy=V[1]):Yt.dx=Yt.dy=0,u&&_.revalue(Yt),pt([Yt],Yt.dx*Yt.dy/Yt.value),(u?Ft:_t)(Yt),st&&(u=Qt),Qt}return oe.size=function(Zt){return arguments.length?(V=Zt,oe):V},oe.padding=function(Zt){if(!arguments.length)return X;function Qt(ne){var Wt=Zt.call(oe,ne,ne.depth);return null==Wt?sa(ne):Ea(ne,"number"==typeof Wt?[Wt,Wt,Wt,Wt]:Wt)}function Yt(ne){return Ea(ne,Zt)}var pe;return et=null==(X=Zt)?sa:"function"==(pe=typeof Zt)?Qt:("number"===pe&&(Zt=[Zt,Zt,Zt,Zt]),Yt),oe},oe.round=function(Zt){return arguments.length?(O=Zt?Math.round:Number,oe):O!=Number},oe.sticky=function(Zt){return arguments.length?(st=Zt,u=null,oe):st},oe.ratio=function(Zt){return arguments.length?(ft=Zt,oe):ft},oe.mode=function(Zt){return arguments.length?(ht=Zt+"",oe):ht},Fr(oe,_)},t.random={normal:function(u,_){var O=arguments.length;return O<2&&(_=1),O<1&&(u=0),function(){var V,X,et;do{et=(V=2*Math.random()-1)*V+(X=2*Math.random()-1)*X}while(!et||et>1);return u+_*V*Math.sqrt(-2*Math.log(et)/et)}},logNormal:function(){var u=t.random.normal.apply(t,arguments);return function(){return Math.exp(u())}},bates:function(u){var _=t.random.irwinHall(u);return function(){return _()/u}},irwinHall:function(u){return function(){for(var _=0,O=0;O<u;O++)_+=Math.random();return _}}},t.scale={};var Bi={floor:U,ceil:U};function Yi(u,_,O,V){var X=[],et=[],st=0,ht=Math.min(u.length,_.length)-1;for(u[ht]<u[0]&&(u=u.slice().reverse(),_=_.slice().reverse());++st<=ht;)X.push(O(u[st-1],u[st])),et.push(V(_[st-1],_[st]));return function(ft){var pt=t.bisect(u,ft,1,ht)-1;return et[pt](X[pt](ft))}}function Na(u,_){return t.rebind(u,_,"range","rangeRound","interpolate","clamp")}function za(u,_){return la(u,Ia(ca(u,_)[2])),la(u,Ia(ca(u,_)[2])),u}function ca(u,_){null==_&&(_=10);var O=Ur(u),V=O[1]-O[0],X=Math.pow(10,Math.floor(Math.log(V/_)/Math.LN10)),et=_/V*X;return et<=.15?X*=10:et<=.35?X*=5:et<=.75&&(X*=2),O[0]=Math.ceil(O[0]/X)*X,O[1]=Math.floor(O[1]/X)*X+.5*X,O[2]=X,O}function ua(u,_){return t.range.apply(t,ca(u,_))}t.scale.linear=function(){return function u(_,O,V,X){var et,st;function ht(){var pt=Math.min(_.length,O.length)>2?Yi:Hi,_t=X?fi:di;return et=pt(_,O,_t,V),st=pt(O,_,_t,Ln),ft}function ft(pt){return et(pt)}return ft.invert=function(pt){return st(pt)},ft.domain=function(pt){return arguments.length?(_=pt.map(Number),ht()):_},ft.range=function(pt){return arguments.length?(O=pt,ht()):O},ft.rangeRound=function(pt){return ft.range(pt).interpolate(xa)},ft.clamp=function(pt){return arguments.length?(X=pt,ht()):X},ft.interpolate=function(pt){return arguments.length?(V=pt,ht()):V},ft.ticks=function(pt){return ua(_,pt)},ft.tickFormat=function(pt,_t){return d3_scale_linearTickFormat(_,pt,_t)},ft.nice=function(pt){return za(_,pt),ht()},ft.copy=function(){return u(_,O,V,X)},ht()}([0,1],[0,1],Ln,!1)},t.scale.log=function(){return function u(_,O,V,X){function et(ft){return(V?Math.log(ft<0?0:ft):-Math.log(ft>0?0:-ft))/Math.log(O)}function st(ft){return V?Math.pow(O,ft):-Math.pow(O,-ft)}function ht(ft){return _(et(ft))}return ht.invert=function(ft){return st(_.invert(ft))},ht.domain=function(ft){return arguments.length?(V=ft[0]>=0,_.domain((X=ft.map(Number)).map(et)),ht):X},ht.base=function(ft){return arguments.length?(O=+ft,_.domain(X.map(et)),ht):O},ht.nice=function(){var ft=la(X.map(et),V?Math:Ui);return _.domain(ft),X=ft.map(st),ht},ht.ticks=function(){var ft=Ur(X),pt=[],_t=ft[0],Ft=ft[1],Ht=Math.floor(et(_t)),Jt=Math.ceil(et(Ft)),oe=O%1?2:O;if(isFinite(Jt-Ht)){if(V){for(;Ht<Jt;Ht++)for(var Zt=1;Zt<oe;Zt++)pt.push(st(Ht)*Zt);pt.push(st(Ht))}else for(pt.push(st(Ht));Ht++<Jt;)for(Zt=oe-1;Zt>0;Zt--)pt.push(st(Ht)*Zt);for(Ht=0;pt[Ht]<_t;Ht++);for(Jt=pt.length;pt[Jt-1]>Ft;Jt--);pt=pt.slice(Ht,Jt)}return pt},ht.copy=function(){return u(_.copy(),O,V,X)},Na(ht,_)}(t.scale.linear().domain([0,1]),10,!0,[1,10])};var Ui={floor:function(u){return-Math.ceil(-u)},ceil:function(u){return-Math.floor(-u)}};function qr(u){return function(_){return _<0?-Math.pow(-_,u):Math.pow(_,u)}}t.scale.pow=function(){return function u(_,O,V){var X=qr(O),et=qr(1/O);function st(ht){return _(X(ht))}return st.invert=function(ht){return et(_.invert(ht))},st.domain=function(ht){return arguments.length?(_.domain((V=ht.map(Number)).map(X)),st):V},st.ticks=function(ht){return ua(V,ht)},st.tickFormat=function(ht,ft){return d3_scale_linearTickFormat(V,ht,ft)},st.nice=function(ht){return st.domain(za(V,ht))},st.exponent=function(ht){return arguments.length?(X=qr(O=ht),et=qr(1/O),_.domain(V.map(X)),st):O},st.copy=function(){return u(_.copy(),O,V)},Na(st,_)}(t.scale.linear(),1,[0,1])},t.scale.sqrt=function(){return t.scale.pow().exponent(.5)},t.scale.ordinal=function(){return function u(_,O){var V,X,et;function st(ft){return X[((V.get(ft)||("range"===O.t?V.set(ft,_.push(ft)):NaN))-1)%X.length]}function ht(ft,pt){return t.range(_.length).map(function(_t){return ft+pt*_t})}return st.domain=function(ft){if(!arguments.length)return _;_=[],V=new k;for(var pt,_t=-1,Ft=ft.length;++_t<Ft;)V.has(pt=ft[_t])||V.set(pt,_.push(pt));return st[O.t].apply(st,O.a)},st.range=function(ft){return arguments.length?(X=ft,et=0,O={t:"range",a:arguments},st):X},st.rangePoints=function(ft,pt){arguments.length<2&&(pt=0);var _t=ft[0],Ft=ft[1],Ht=_.length<2?(_t=(_t+Ft)/2,0):(Ft-_t)/(_.length-1+pt);return X=ht(_t+Ht*pt/2,Ht),et=0,O={t:"rangePoints",a:arguments},st},st.rangeRoundPoints=function(ft,pt){arguments.length<2&&(pt=0);var _t=ft[0],Ft=ft[1],Ht=_.length<2?(_t=Ft=Math.round((_t+Ft)/2),0):(Ft-_t)/(_.length-1+pt)|0;return X=ht(_t+Math.round(Ht*pt/2+(Ft-_t-(_.length-1+pt)*Ht)/2),Ht),et=0,O={t:"rangeRoundPoints",a:arguments},st},st.rangeBands=function(ft,pt,_t){arguments.length<2&&(pt=0),arguments.length<3&&(_t=pt);var Ft=ft[1]<ft[0],Ht=ft[Ft-0],Jt=ft[1-Ft],oe=(Jt-Ht)/(_.length-pt+2*_t);return X=ht(Ht+oe*_t,oe),Ft&&X.reverse(),et=oe*(1-pt),O={t:"rangeBands",a:arguments},st},st.rangeRoundBands=function(ft,pt,_t){arguments.length<2&&(pt=0),arguments.length<3&&(_t=pt);var Ft=ft[1]<ft[0],Ht=ft[Ft-0],Jt=ft[1-Ft],oe=Math.floor((Jt-Ht)/(_.length-pt+2*_t));return X=ht(Ht+Math.round((Jt-Ht-(_.length-pt)*oe)/2),oe),Ft&&X.reverse(),et=Math.round(oe*(1-pt)),O={t:"rangeRoundBands",a:arguments},st},st.rangeBand=function(){return et},st.rangeExtent=function(){return Ur(O.a[0])},st.copy=function(){return u(_,O)},st.domain(_)}([],{t:"range",a:[[]]})},t.scale.category10=function(){return t.scale.ordinal().range(Vi)},t.scale.category20=function(){return t.scale.ordinal().range(qi)},t.scale.category20b=function(){return t.scale.ordinal().range(Gi)},t.scale.category20c=function(){return t.scale.ordinal().range(Zi)};var Vi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ie),qi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ie),Gi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ie),Zi=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ie);function Wi(){return 0}t.scale.quantile=function(){return function u(_,O){var V;function X(){var st=0,ht=O.length;for(V=[];++st<ht;)V[st-1]=t.quantile(_,st/ht);return et}function et(st){if(!isNaN(st=+st))return O[t.bisect(V,st)]}return et.domain=function(st){return arguments.length?(_=st.map(p).filter(T).sort(h),X()):_},et.range=function(st){return arguments.length?(O=st,X()):O},et.quantiles=function(){return V},et.invertExtent=function(st){return(st=O.indexOf(st))<0?[NaN,NaN]:[st>0?V[st-1]:_[0],st<V.length?V[st]:_[_.length-1]]},et.copy=function(){return u(_,O)},X()}([],[])},t.scale.quantize=function(){return function u(_,O,V){var X,et;function st(ft){return V[Math.max(0,Math.min(et,Math.floor(X*(ft-_))))]}function ht(){return X=V.length/(O-_),et=V.length-1,st}return st.domain=function(ft){return arguments.length?(_=+ft[0],O=+ft[ft.length-1],ht()):[_,O]},st.range=function(ft){return arguments.length?(V=ft,ht()):V},st.invertExtent=function(ft){return[ft=(ft=V.indexOf(ft))<0?NaN:ft/X+_,ft+1/X]},st.copy=function(){return u(_,O,V)},ht()}(0,1,[0,1])},t.scale.threshold=function(){return function u(_,O){function V(X){if(X<=X)return O[t.bisect(_,X)]}return V.domain=function(X){return arguments.length?(_=X,V):_},V.range=function(X){return arguments.length?(O=X,V):O},V.invertExtent=function(X){return X=O.indexOf(X),[_[X-1],_[X]]},V.copy=function(){return u(_,O)},V}([.5],[0,1])},t.scale.identity=function(){return function u(_){function O(V){return+V}return O.invert=O,O.domain=O.range=function(V){return arguments.length?(_=V.map(O),O):_},O.ticks=function(V){return ua(_,V)},O.tickFormat=function(V,X){return d3_scale_linearTickFormat(_,V,X)},O.copy=function(){return u(_)},O}([0,1])},t.svg={},t.svg.arc=function(){var u=Xi,_=Ji,O=Wi,V=Gr,X=Fa,et=Ra,st=$i;function ht(){var pt=Math.max(0,+u.apply(this,arguments)),_t=Math.max(0,+_.apply(this,arguments)),Ft=X.apply(this,arguments)-xe,Ht=et.apply(this,arguments)-xe,Jt=Math.abs(Ht-Ft),oe=Ft>Ht?0:1;if(_t<pt&&(Zt=_t,_t=pt,pt=Zt),Jt>=Oe)return ft(_t,oe)+(pt?ft(pt,1-oe):"")+"Z";var Zt,Qt,Yt,pe,ne,Wt,Se,De,He,Ye,tn,en,vn=0,nn=0,wn=[];if((pe=(+st.apply(this,arguments)||0)/2)&&(Yt=V===Gr?Math.sqrt(pt*pt+_t*_t):+V.apply(this,arguments),oe||(nn*=-1),_t&&(nn=nt(Yt/_t*Math.sin(pe))),pt&&(vn=nt(Yt/pt*Math.sin(pe)))),_t){ne=_t*Math.cos(Ft+nn),Wt=_t*Math.sin(Ft+nn),Se=_t*Math.cos(Ht-nn),De=_t*Math.sin(Ht-nn);var zn=Math.abs(Ht-Ft-2*nn)<=ce?0:1;if(nn&&Zr(ne,Wt,Se,De)===oe^zn){var Yn=(Ft+Ht)/2;ne=_t*Math.cos(Yn),Wt=_t*Math.sin(Yn),Se=De=null}}else ne=Wt=0;if(pt){He=pt*Math.cos(Ht-vn),Ye=pt*Math.sin(Ht-vn),tn=pt*Math.cos(Ft+vn),en=pt*Math.sin(Ft+vn);var je=Math.abs(Ft-Ht+2*vn)<=ce?0:1;if(vn&&Zr(He,Ye,tn,en)===1-oe^je){var an=(Ft+Ht)/2;He=pt*Math.cos(an),Ye=pt*Math.sin(an),tn=en=null}}else He=Ye=0;if(Jt>qt&&(Zt=Math.min(Math.abs(_t-pt)/2,+O.apply(this,arguments)))>.001){Qt=pt<_t^oe?0:1;var yn=Zt,gn=Zt;if(Jt<ce){var On=null==tn?[He,Ye]:null==Se?[ne,Wt]:Ke([ne,Wt],[tn,en],[Se,De],[He,Ye]),Pn=ne-On[0],Fn=Wt-On[1],Zn=Se-On[0],Kn=De-On[1],Qn=1/Math.sin(Math.acos((Pn*Zn+Fn*Kn)/(Math.sqrt(Pn*Pn+Fn*Fn)*Math.sqrt(Zn*Zn+Kn*Kn)))/2),lr=Math.sqrt(On[0]*On[0]+On[1]*On[1]);gn=Math.min(Zt,(pt-lr)/(Qn-1)),yn=Math.min(Zt,(_t-lr)/(Qn+1))}if(null!=Se){var er=Wr(null==tn?[He,Ye]:[tn,en],[ne,Wt],_t,yn,oe),ar=Wr([Se,De],[He,Ye],_t,yn,oe);Zt===yn?wn.push("M",er[0],"A",yn,",",yn," 0 0,",Qt," ",er[1],"A",_t,",",_t," 0 ",1-oe^Zr(er[1][0],er[1][1],ar[1][0],ar[1][1]),",",oe," ",ar[1],"A",yn,",",yn," 0 0,",Qt," ",ar[0]):wn.push("M",er[0],"A",yn,",",yn," 0 1,",Qt," ",ar[0])}else wn.push("M",ne,",",Wt);if(null!=tn){var vr=Wr([ne,Wt],[tn,en],pt,-gn,oe),Cr=Wr([He,Ye],null==Se?[ne,Wt]:[Se,De],pt,-gn,oe);Zt===gn?wn.push("L",Cr[0],"A",gn,",",gn," 0 0,",Qt," ",Cr[1],"A",pt,",",pt," 0 ",oe^Zr(Cr[1][0],Cr[1][1],vr[1][0],vr[1][1]),",",1-oe," ",vr[1],"A",gn,",",gn," 0 0,",Qt," ",vr[0]):wn.push("L",Cr[0],"A",gn,",",gn," 0 0,",Qt," ",vr[0])}else wn.push("L",He,",",Ye)}else wn.push("M",ne,",",Wt),null!=Se&&wn.push("A",_t,",",_t," 0 ",zn,",",oe," ",Se,",",De),wn.push("L",He,",",Ye),null!=tn&&wn.push("A",pt,",",pt," 0 ",je,",",1-oe," ",tn,",",en);return wn.push("Z"),wn.join("")}function ft(pt,_t){return"M0,"+pt+"A"+pt+","+pt+" 0 1,"+_t+" 0,"+-pt+"A"+pt+","+pt+" 0 1,"+_t+" 0,"+pt}return ht.innerRadius=function(pt){return arguments.length?(u=Ce(pt),ht):u},ht.outerRadius=function(pt){return arguments.length?(_=Ce(pt),ht):_},ht.cornerRadius=function(pt){return arguments.length?(O=Ce(pt),ht):O},ht.padRadius=function(pt){return arguments.length?(V=pt==Gr?Gr:Ce(pt),ht):V},ht.startAngle=function(pt){return arguments.length?(X=Ce(pt),ht):X},ht.endAngle=function(pt){return arguments.length?(et=Ce(pt),ht):et},ht.padAngle=function(pt){return arguments.length?(st=Ce(pt),ht):st},ht.centroid=function(){var pt=(+u.apply(this,arguments)+ +_.apply(this,arguments))/2,_t=(+X.apply(this,arguments)+ +et.apply(this,arguments))/2-xe;return[Math.cos(_t)*pt,Math.sin(_t)*pt]},ht};var Gr="auto";function Xi(u){return u.innerRadius}function Ji(u){return u.outerRadius}function Fa(u){return u.startAngle}function Ra(u){return u.endAngle}function $i(u){return u&&u.padAngle}function Zr(u,_,O,V){return(u-O)*_-(_-V)*u>0?0:1}function Wr(u,_,O,V,X){var et=u[0]-_[0],st=u[1]-_[1],ht=(X?V:-V)/Math.sqrt(et*et+st*st),ft=ht*st,pt=-ht*et,_t=u[0]+ft,Ft=u[1]+pt,Ht=_[0]+ft,Jt=_[1]+pt,oe=(_t+Ht)/2,Zt=(Ft+Jt)/2,Qt=Ht-_t,Yt=Jt-Ft,pe=Qt*Qt+Yt*Yt,ne=O-V,Wt=_t*Jt-Ht*Ft,Se=(Yt<0?-1:1)*Math.sqrt(Math.max(0,ne*ne*pe-Wt*Wt)),De=(Wt*Yt-Qt*Se)/pe,He=(-Wt*Qt-Yt*Se)/pe,Ye=(Wt*Yt+Qt*Se)/pe,tn=(-Wt*Qt+Yt*Se)/pe,en=De-oe,vn=He-Zt,nn=Ye-oe,wn=tn-Zt;return en*en+vn*vn>nn*nn+wn*wn&&(De=Ye,He=tn),[[De-ft,He-pt],[De*O/ne,He*O/ne]]}function ja(){return!0}function Ha(u){var _=Ue,O=fn,V=ja,X=ur,et=X.key,st=.7;function ht(ft){var pt,_t=[],Ft=[],Ht=-1,Jt=ft.length,oe=Ce(_),Zt=Ce(O);function Qt(){_t.push("M",X(u(Ft),st))}for(;++Ht<Jt;)V.call(this,pt=ft[Ht],Ht)?Ft.push([+oe.call(this,pt,Ht),+Zt.call(this,pt,Ht)]):Ft.length&&(Qt(),Ft=[]);return Ft.length&&Qt(),_t.length?_t.join(""):null}return ht.x=function(ft){return arguments.length?(_=ft,ht):_},ht.y=function(ft){return arguments.length?(O=ft,ht):O},ht.defined=function(ft){return arguments.length?(V=ft,ht):V},ht.interpolate=function(ft){return arguments.length?(et="function"==typeof ft?X=ft:(X=da.get(ft)||ur).key,ht):et},ht.tension=function(ft){return arguments.length?(st=ft,ht):st},ht}t.svg.line=function(){return Ha(U)};var da=t.map({linear:ur,"linear-closed":Ba,step:function(u){for(var _=0,O=u.length,V=u[0],X=[V[0],",",V[1]];++_<O;)X.push("H",(V[0]+(V=u[_])[0])/2,"V",V[1]);return O>1&&X.push("H",V[0]),X.join("")},"step-before":fa,"step-after":ha,basis:Ya,"basis-open":function(u){if(u.length<4)return ur(u);for(var _,O=[],V=-1,X=u.length,et=[0],st=[0];++V<3;)et.push((_=u[V])[0]),st.push(_[1]);for(O.push(sr(wr,et)+","+sr(wr,st)),--V;++V<X;)_=u[V],et.shift(),et.push(_[0]),st.shift(),st.push(_[1]),ga(O,et,st);return O.join("")},"basis-closed":function(u){for(var _,O,V=-1,X=u.length,et=X+4,st=[],ht=[];++V<4;)st.push((O=u[V%X])[0]),ht.push(O[1]);for(_=[sr(wr,st),",",sr(wr,ht)],--V;++V<et;)O=u[V%X],st.shift(),st.push(O[0]),ht.shift(),ht.push(O[1]),ga(_,st,ht);return _.join("")},bundle:function(u,_){var O=u.length-1;if(O)for(var V,X,et=u[0][0],st=u[0][1],ht=u[O][0]-et,ft=u[O][1]-st,pt=-1;++pt<=O;)(V=u[pt])[0]=_*V[0]+(1-_)*(et+(X=pt/O)*ht),V[1]=_*V[1]+(1-_)*(st+X*ft);return Ya(u)},cardinal:function(u,_){return u.length<3?ur(u):u[0]+Xr(u,pa(u,_))},"cardinal-open":function(u,_){return u.length<4?ur(u):u[1]+Xr(u.slice(1,-1),pa(u,_))},"cardinal-closed":function(u,_){return u.length<3?Ba(u):u[0]+Xr((u.push(u[0]),u),pa([u[u.length-2]].concat(u,[u[1]]),_))},monotone:function(u){return u.length<3?ur(u):u[0]+Xr(u,function(_){for(var O,V,X,et,st=[],ht=function(_t){for(var Ft=0,Ht=_t.length-1,Jt=[],oe=_t[0],Zt=_t[1],Qt=Jt[0]=ma(oe,Zt);++Ft<Ht;)Jt[Ft]=(Qt+(Qt=ma(oe=Zt,Zt=_t[Ft+1])))/2;return Jt[Ft]=Qt,Jt}(_),ft=-1,pt=_.length-1;++ft<pt;)O=ma(_[ft],_[ft+1]),y(O)<qt?ht[ft]=ht[ft+1]=0:(et=(V=ht[ft]/O)*V+(X=ht[ft+1]/O)*X)>9&&(et=3*O/Math.sqrt(et),ht[ft]=et*V,ht[ft+1]=et*X);for(ft=-1;++ft<=pt;)et=(_[Math.min(pt,ft+1)][0]-_[Math.max(0,ft-1)][0])/(6*(1+ht[ft]*ht[ft])),st.push([et||0,ht[ft]*et||0]);return st}(u))}});function ur(u){return u.length>1?u.join("L"):u+"Z"}function Ba(u){return u.join("L")+"Z"}function fa(u){for(var _=0,O=u.length,V=u[0],X=[V[0],",",V[1]];++_<O;)X.push("V",(V=u[_])[1],"H",V[0]);return X.join("")}function ha(u){for(var _=0,O=u.length,V=u[0],X=[V[0],",",V[1]];++_<O;)X.push("H",(V=u[_])[0],"V",V[1]);return X.join("")}function Xr(u,_){if(_.length<1||u.length!=_.length&&u.length!=_.length+2)return ur(u);var O=u.length!=_.length,V="",X=u[0],et=u[1],st=_[0],ht=st,ft=1;if(O&&(V+="Q"+(et[0]-2*st[0]/3)+","+(et[1]-2*st[1]/3)+","+et[0]+","+et[1],X=u[1],ft=2),_.length>1){et=u[ft],ft++,V+="C"+(X[0]+st[0])+","+(X[1]+st[1])+","+(et[0]-(ht=_[1])[0])+","+(et[1]-ht[1])+","+et[0]+","+et[1];for(var pt=2;pt<_.length;pt++,ft++)V+="S"+((et=u[ft])[0]-(ht=_[pt])[0])+","+(et[1]-ht[1])+","+et[0]+","+et[1]}if(O){var _t=u[ft];V+="Q"+(et[0]+2*ht[0]/3)+","+(et[1]+2*ht[1]/3)+","+_t[0]+","+_t[1]}return V}function pa(u,_){for(var O,V=[],X=(1-_)/2,et=u[0],st=u[1],ht=1,ft=u.length;++ht<ft;)O=et,et=st,V.push([X*((st=u[ht])[0]-O[0]),X*(st[1]-O[1])]);return V}function Ya(u){if(u.length<3)return ur(u);var _=1,O=u.length,V=u[0],X=V[0],et=V[1],st=[X,X,X,(V=u[1])[0]],ht=[et,et,et,V[1]],ft=[X,",",et,"L",sr(wr,st),",",sr(wr,ht)];for(u.push(u[O-1]);++_<=O;)V=u[_],st.shift(),st.push(V[0]),ht.shift(),ht.push(V[1]),ga(ft,st,ht);return u.pop(),ft.push("L",V),ft.join("")}function sr(u,_){return u[0]*_[0]+u[1]*_[1]+u[2]*_[2]+u[3]*_[3]}da.forEach(function(u,_){_.key=u,_.closed=/-closed$/.test(u)});var Ua=[0,2/3,1/3,0],Va=[0,1/3,2/3,0],wr=[0,1/6,2/3,1/6];function ga(u,_,O){u.push("C",sr(Ua,_),",",sr(Ua,O),",",sr(Va,_),",",sr(Va,O),",",sr(wr,_),",",sr(wr,O))}function ma(u,_){return(_[1]-u[1])/(_[0]-u[0])}function qa(u){for(var _,O,V,X=-1,et=u.length;++X<et;)O=(_=u[X])[0],V=_[1]-xe,_[0]=O*Math.cos(V),_[1]=O*Math.sin(V);return u}function Ga(u){var _=Ue,O=Ue,V=0,X=fn,et=ja,st=ur,ht=st.key,ft=st,pt="L",_t=.7;function Ft(Ht){var Jt,oe,Zt,Qt=[],Yt=[],pe=[],ne=-1,Wt=Ht.length,Se=Ce(_),De=Ce(V),He=_===O?function(){return oe}:Ce(O),Ye=V===X?function(){return Zt}:Ce(X);function tn(){Qt.push("M",st(u(pe),_t),pt,ft(u(Yt.reverse()),_t),"Z")}for(;++ne<Wt;)et.call(this,Jt=Ht[ne],ne)?(Yt.push([oe=+Se.call(this,Jt,ne),Zt=+De.call(this,Jt,ne)]),pe.push([+He.call(this,Jt,ne),+Ye.call(this,Jt,ne)])):Yt.length&&(tn(),Yt=[],pe=[]);return Yt.length&&tn(),Qt.length?Qt.join(""):null}return Ft.x=function(Ht){return arguments.length?(_=O=Ht,Ft):O},Ft.x0=function(Ht){return arguments.length?(_=Ht,Ft):_},Ft.x1=function(Ht){return arguments.length?(O=Ht,Ft):O},Ft.y=function(Ht){return arguments.length?(V=X=Ht,Ft):X},Ft.y0=function(Ht){return arguments.length?(V=Ht,Ft):V},Ft.y1=function(Ht){return arguments.length?(X=Ht,Ft):X},Ft.defined=function(Ht){return arguments.length?(et=Ht,Ft):et},Ft.interpolate=function(Ht){return arguments.length?(ht="function"==typeof Ht?st=Ht:(st=da.get(Ht)||ur).key,ft=st.reverse||st,pt=st.closed?"M":"L",Ft):ht},Ft.tension=function(Ht){return arguments.length?(_t=Ht,Ft):_t},Ft}function Za(u){return u.source}function Wa(u){return u.target}function Ki(u){return u.radius}function Xa(u){return[u.x,u.y]}function Qi(u){return function(){var _=u.apply(this,arguments),O=_[0],V=_[1]-xe;return[O*Math.cos(V),O*Math.sin(V)]}}function to(){return 64}function eo(){return"circle"}function Ja(u){var _=Math.sqrt(u/ce);return"M0,"+_+"A"+_+","+_+" 0 1,1 0,"+-_+"A"+_+","+_+" 0 1,1 0,"+_+"Z"}t.svg.line.radial=function(){var u=Ha(qa);return u.radius=u.x,delete u.x,u.angle=u.y,delete u.y,u},fa.reverse=ha,ha.reverse=fa,t.svg.area=function(){return Ga(U)},t.svg.area.radial=function(){var u=Ga(qa);return u.radius=u.x,delete u.x,u.innerRadius=u.x0,delete u.x0,u.outerRadius=u.x1,delete u.x1,u.angle=u.y,delete u.y,u.startAngle=u.y0,delete u.y0,u.endAngle=u.y1,delete u.y1,u},t.svg.chord=function(){var u=Za,_=Wa,O=Ki,V=Fa,X=Ra;function et(pt,_t){var Ft,Ht,Jt=st(this,u,pt,_t),oe=st(this,_,pt,_t);return"M"+Jt.p0+ht(Jt.r,Jt.p1,Jt.a1-Jt.a0)+((Ft=Jt).a0==(Ht=oe).a0&&Ft.a1==Ht.a1?ft(0,0,0,Jt.p0):ft(0,0,0,oe.p0)+ht(oe.r,oe.p1,oe.a1-oe.a0)+ft(0,0,0,Jt.p0))+"Z"}function st(pt,_t,Ft,Ht){var Jt=_t.call(pt,Ft,Ht),oe=O.call(pt,Jt,Ht),Zt=V.call(pt,Jt,Ht)-xe,Qt=X.call(pt,Jt,Ht)-xe;return{r:oe,a0:Zt,a1:Qt,p0:[oe*Math.cos(Zt),oe*Math.sin(Zt)],p1:[oe*Math.cos(Qt),oe*Math.sin(Qt)]}}function ht(pt,_t,Ft){return"A"+pt+","+pt+" 0 "+ +(Ft>ce)+",1 "+_t}function ft(pt,_t,Ft,Ht){return"Q 0,0 "+Ht}return et.radius=function(pt){return arguments.length?(O=Ce(pt),et):O},et.source=function(pt){return arguments.length?(u=Ce(pt),et):u},et.target=function(pt){return arguments.length?(_=Ce(pt),et):_},et.startAngle=function(pt){return arguments.length?(V=Ce(pt),et):V},et.endAngle=function(pt){return arguments.length?(X=Ce(pt),et):X},et},t.svg.diagonal=function(){var u=Za,_=Wa,O=Xa;function V(X,et){var st=u.call(this,X,et),ht=_.call(this,X,et),ft=(st.y+ht.y)/2,pt=[st,{x:st.x,y:ft},{x:ht.x,y:ft},ht];return"M"+(pt=pt.map(O))[0]+"C"+pt[1]+" "+pt[2]+" "+pt[3]}return V.source=function(X){return arguments.length?(u=Ce(X),V):u},V.target=function(X){return arguments.length?(_=Ce(X),V):_},V.projection=function(X){return arguments.length?(O=X,V):O},V},t.svg.diagonal.radial=function(){var u=t.svg.diagonal(),_=Xa,O=u.projection;return u.projection=function(V){return arguments.length?O(Qi(_=V)):_},u},t.svg.symbol=function(){var u=eo,_=to;function O(V,X){return($a.get(u.call(this,V,X))||Ja)(_.call(this,V,X))}return O.type=function(V){return arguments.length?(u=Ce(V),O):u},O.size=function(V){return arguments.length?(_=Ce(V),O):_},O};var $a=t.map({circle:Ja,cross:function(u){var _=Math.sqrt(u/5)/2;return"M"+-3*_+","+-_+"H"+-_+"V"+-3*_+"H"+_+"V"+-_+"H"+3*_+"V"+_+"H"+_+"V"+3*_+"H"+-_+"V"+_+"H"+-3*_+"Z"},diamond:function(u){var _=Math.sqrt(u/(2*Ka)),O=_*Ka;return"M0,"+-_+"L"+O+",0 0,"+_+" "+-O+",0Z"},square:function(u){var _=Math.sqrt(u)/2;return"M"+-_+","+-_+"L"+_+","+-_+" "+_+","+_+" "+-_+","+_+"Z"},"triangle-down":function(u){var _=Math.sqrt(u/Jr),O=_*Jr/2;return"M0,"+O+"L"+_+","+-O+" "+-_+","+-O+"Z"},"triangle-up":function(u){var _=Math.sqrt(u/Jr),O=_*Jr/2;return"M0,"+-O+"L"+_+","+O+" "+-_+","+O+"Z"}});t.svg.symbolTypes=$a.keys();var Jr=Math.sqrt(3),Ka=Math.tan(30*ye);K.transition=function(u){for(var _,O,V=Dr||++ti,X=ya(u),et=[],st=Kr||{time:Date.now(),ease:ii,delay:0,duration:250},ht=-1,ft=this.length;++ht<ft;){et.push(_=[]);for(var pt=this[ht],_t=-1,Ft=pt.length;++_t<Ft;)(O=pt[_t])&&Qr(O,_t,X,V,st),_.push(O)}return jr(et,X,V)},K.interrupt=function(u){return this.each(null==u?$r:Qa(ya(u)))};var $r=Qa(ya());function Qa(u){return function(){var _,O,V;(_=this[u])&&(V=_[O=_.active])&&(V.timer.c=null,V.timer.t=NaN,--_.count?delete _[O]:delete this[u],_.active+=.5,V.event&&V.event.interrupt.call(this,this.__data__,V.index))}}function jr(u,_,O){return D(u,Gn),u.namespace=_,u.id=O,u}var Dr,Kr,Gn=[],ti=0;function va(u,_,O,V){var X=u.id,et=u.namespace;return wt(u,"function"==typeof O?function(st,ht,ft){st[et][X].tween.set(_,V(O.call(st,st.__data__,ht,ft)))}:(O=V(O),function(st){st[et][X].tween.set(_,O)}))}function no(u){return null==u&&(u=""),function(){this.textContent=u}}function ya(u){return null==u?"__transition__":"__transition_"+u+"__"}function Qr(u,_,O,V,X){var et,st,ht,ft,pt,_t=u[O]||(u[O]={active:0,count:0}),Ft=_t[V];function Ht(oe){var Zt=_t.active,Qt=_t[Zt];for(var Yt in Qt&&(Qt.timer.c=null,Qt.timer.t=NaN,--_t.count,delete _t[Zt],Qt.event&&Qt.event.interrupt.call(u,u.__data__,Qt.index)),_t)if(+Yt<V){var pe=_t[Yt];pe.timer.c=null,pe.timer.t=NaN,--_t.count,delete _t[Yt]}st.c=Jt,dn(function(){return st.c&&Jt(oe||1)&&(st.c=null,st.t=NaN),1},0,et),_t.active=V,Ft.event&&Ft.event.start.call(u,u.__data__,_),pt=[],Ft.tween.forEach(function(ne,Wt){(Wt=Wt.call(u,u.__data__,_))&&pt.push(Wt)}),ft=Ft.ease,ht=Ft.duration}function Jt(oe){for(var Zt=oe/ht,Qt=ft(Zt),Yt=pt.length;Yt>0;)pt[--Yt].call(u,Qt);if(Zt>=1)return Ft.event&&Ft.event.end.call(u,u.__data__,_),--_t.count?delete _t[V]:delete u[O],1}Ft||(st=dn(function(oe){var Zt=Ft.delay;if(st.t=Zt+et,Zt<=oe)return Ht(oe-Zt);st.c=Ht},0,et=X.time),Ft=_t[V]={tween:new k,time:et,timer:st,delay:X.delay,duration:X.duration,ease:X.ease,index:_},X=null,++_t.count)}Gn.call=K.call,Gn.empty=K.empty,Gn.node=K.node,Gn.size=K.size,t.transition=function(u,_){return u&&u.transition?Dr?u.transition(_):u:t.selection().transition(u)},t.transition.prototype=Gn,Gn.select=function(u){var _,O,V,X=this.id,et=this.namespace,st=[];u=J(u);for(var ht=-1,ft=this.length;++ht<ft;){st.push(_=[]);for(var pt=this[ht],_t=-1,Ft=pt.length;++_t<Ft;)(V=pt[_t])&&(O=u.call(V,V.__data__,_t,ht))?("__data__"in V&&(O.__data__=V.__data__),Qr(O,_t,et,X,V[et][X]),_.push(O)):_.push(null)}return jr(st,et,X)},Gn.selectAll=function(u){var _,O,V,X,et,st=this.id,ht=this.namespace,ft=[];u=Q(u);for(var pt=-1,_t=this.length;++pt<_t;)for(var Ft=this[pt],Ht=-1,Jt=Ft.length;++Ht<Jt;)if(V=Ft[Ht]){et=V[ht][st],O=u.call(V,V.__data__,Ht,pt),ft.push(_=[]);for(var oe=-1,Zt=O.length;++oe<Zt;)(X=O[oe])&&Qr(X,oe,ht,st,et),_.push(X)}return jr(ft,ht,st)},Gn.filter=function(u){var _,O,V=[];"function"!=typeof u&&(u=Dt(u));for(var X=0,et=this.length;X<et;X++){V.push(_=[]);for(var st,ht=0,ft=(st=this[X]).length;ht<ft;ht++)(O=st[ht])&&u.call(O,O.__data__,ht,X)&&_.push(O)}return jr(V,this.namespace,this.id)},Gn.tween=function(u,_){var O=this.id,V=this.namespace;return arguments.length<2?this.node()[V][O].tween.get(u):wt(this,null==_?function(X){X[V][O].tween.remove(u)}:function(X){X[V][O].tween.set(u,_)})},Gn.attr=function(u,_){if(arguments.length<2){for(_ in u)this.attr(_,u[_]);return this}var O="transform"==u?ka:Ln,V=t.ns.qualify(u);function X(){this.removeAttribute(V)}function et(){this.removeAttributeNS(V.space,V.local)}function st(ft){return null==ft?X:(ft+="",function(){var pt,_t=this.getAttribute(V);return _t!==ft&&(pt=O(_t,ft),function(Ft){this.setAttribute(V,pt(Ft))})})}function ht(ft){return null==ft?et:(ft+="",function(){var pt,_t=this.getAttributeNS(V.space,V.local);return _t!==ft&&(pt=O(_t,ft),function(Ft){this.setAttributeNS(V.space,V.local,pt(Ft))})})}return va(this,"attr."+u,_,V.local?ht:st)},Gn.attrTween=function(u,_){var O=t.ns.qualify(u);return this.tween("attr."+u,O.local?function(V,X){var et=_.call(this,V,X,this.getAttributeNS(O.space,O.local));return et&&function(st){this.setAttributeNS(O.space,O.local,et(st))}}:function(V,X){var et=_.call(this,V,X,this.getAttribute(O));return et&&function(st){this.setAttribute(O,et(st))}})},Gn.style=function(u,_,O){var V=arguments.length;if(V<3){if("string"!=typeof u){for(O in V<2&&(_=""),u)this.style(O,u[O],_);return this}O=""}function X(){this.style.removeProperty(u)}function et(st){return null==st?X:(st+="",function(){var ht,ft=s(this).getComputedStyle(this,null).getPropertyValue(u);return ft!==st&&(ht=Ln(ft,st),function(pt){this.style.setProperty(u,ht(pt),O)})})}return va(this,"style."+u,_,et)},Gn.styleTween=function(u,_,O){function V(X,et){var st=_.call(this,X,et,s(this).getComputedStyle(this,null).getPropertyValue(u));return st&&function(ht){this.style.setProperty(u,st(ht),O)}}return arguments.length<3&&(O=""),this.tween("style."+u,V)},Gn.text=function(u){return va(this,"text",u,no)},Gn.remove=function(){var u=this.namespace;return this.each("end.transition",function(){var _;this[u].count<2&&(_=this.parentNode)&&_.removeChild(this)})},Gn.ease=function(u){var _=this.id,O=this.namespace;return arguments.length<1?this.node()[O][_].ease:("function"!=typeof u&&(u=t.ease.apply(t,arguments)),wt(this,function(V){V[O][_].ease=u}))},Gn.delay=function(u){var _=this.id,O=this.namespace;return arguments.length<1?this.node()[O][_].delay:wt(this,"function"==typeof u?function(V,X,et){V[O][_].delay=+u.call(V,V.__data__,X,et)}:(u=+u,function(V){V[O][_].delay=u}))},Gn.duration=function(u){var _=this.id,O=this.namespace;return arguments.length<1?this.node()[O][_].duration:wt(this,"function"==typeof u?function(V,X,et){V[O][_].duration=Math.max(1,u.call(V,V.__data__,X,et))}:(u=Math.max(1,u),function(V){V[O][_].duration=u}))},Gn.each=function(u,_){var O=this.id,V=this.namespace;if(arguments.length<2){var X=Kr,et=Dr;try{Dr=O,wt(this,function(st,ht,ft){Kr=st[V][O],u.call(st,st.__data__,ht,ft)})}finally{Kr=X,Dr=et}}else wt(this,function(st){var ht=st[V][O];(ht.event||(ht.event=t.dispatch("start","end","interrupt"))).on(u,_)});return this},Gn.transition=function(){for(var u,_,O,V=this.id,X=++ti,et=this.namespace,st=[],ht=0,ft=this.length;ht<ft;ht++){st.push(u=[]);for(var pt,_t=0,Ft=(pt=this[ht]).length;_t<Ft;_t++)(_=pt[_t])&&Qr(_,_t,et,X,{time:(O=_[et][V]).time,ease:O.ease,delay:O.delay+O.duration,duration:O.duration}),u.push(_)}return jr(st,et,X)},t.svg.axis=function(){var u,_=t.scale.linear(),O=ei,V=6,X=6,et=3,st=[10],ht=null;function ft(pt){pt.each(function(){var _t,Ft=t.select(this),Ht=this.__chart__||_,Jt=this.__chart__=_.copy(),oe=null==ht?Jt.ticks?Jt.ticks.apply(Jt,st):Jt.domain():ht,Zt=null==u?Jt.tickFormat?Jt.tickFormat.apply(Jt,st):U:u,Qt=Ft.selectAll(".tick").data(oe,Jt),Yt=Qt.enter().insert("g",".domain").attr("class","tick").style("opacity",qt),pe=t.transition(Qt.exit()).style("opacity",qt).remove(),ne=t.transition(Qt.order()).style("opacity",1),Wt=Math.max(V,0)+et,Se=Vr(Jt),De=Ft.selectAll(".domain").data([0]),He=(De.enter().append("path").attr("class","domain"),t.transition(De));Yt.append("line"),Yt.append("text");var Ye,tn,en,vn,nn=Yt.select("line"),wn=ne.select("line"),zn=Qt.select("text").text(Zt),Yn=Yt.select("text"),je=ne.select("text"),an="top"===O||"left"===O?-1:1;if("bottom"===O||"top"===O?(_t=ao,Ye="x",en="y",tn="x2",vn="y2",zn.attr("dy",an<0?"0em":".71em").style("text-anchor","middle"),He.attr("d","M"+Se[0]+","+an*X+"V0H"+Se[1]+"V"+an*X)):(_t=io,Ye="y",en="x",tn="y2",vn="x2",zn.attr("dy",".32em").style("text-anchor",an<0?"end":"start"),He.attr("d","M"+an*X+","+Se[0]+"H0V"+Se[1]+"H"+an*X)),nn.attr(vn,an*V),Yn.attr(en,an*Wt),wn.attr(tn,0).attr(vn,an*V),je.attr(Ye,0).attr(en,an*Wt),Jt.rangeBand){var yn=Jt,gn=yn.rangeBand()/2;Ht=Jt=function(On){return yn(On)+gn}}else Ht.rangeBand?Ht=Jt:pe.call(_t,Jt,Ht);Yt.call(_t,Ht,Jt),ne.call(_t,Jt,Jt)})}return ft.scale=function(pt){return arguments.length?(_=pt,ft):_},ft.orient=function(pt){return arguments.length?(O=pt in ro?pt+"":ei,ft):O},ft.ticks=function(){return arguments.length?(st=o(arguments),ft):st},ft.tickValues=function(pt){return arguments.length?(ht=pt,ft):ht},ft.tickFormat=function(pt){return arguments.length?(u=pt,ft):u},ft.tickSize=function(pt){var _t=arguments.length;return _t?(V=+pt,X=+arguments[_t-1],ft):V},ft.innerTickSize=function(pt){return arguments.length?(V=+pt,ft):V},ft.outerTickSize=function(pt){return arguments.length?(X=+pt,ft):X},ft.tickPadding=function(pt){return arguments.length?(et=+pt,ft):et},ft.tickSubdivide=function(){return arguments.length&&ft},ft};var ei="bottom",ro={top:1,right:1,bottom:1,left:1};function ao(u,_,O){u.attr("transform",function(V){var X=_(V);return"translate("+(isFinite(X)?X:O(V))+",0)"})}function io(u,_,O){u.attr("transform",function(V){var X=_(V);return"translate(0,"+(isFinite(X)?X:O(V))+")"})}t.svg.brush=function(){var u,_,O=Z(_t,"brushstart","brush","brushend"),V=null,X=null,et=[0,0],st=[0,0],ht=!0,ft=!0,pt=ba[0];function _t(Zt){Zt.each(function(){var Qt=t.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",oe).on("touchstart.brush",oe),Yt=Qt.selectAll(".background").data([0]);Yt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Qt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var pe=Qt.selectAll(".resize").data(pt,U);pe.exit().remove(),pe.enter().append("g").attr("class",function(De){return"resize "+De}).style("cursor",function(De){return oo[De]}).append("rect").attr("x",function(De){return/[ew]$/.test(De)?-3:null}).attr("y",function(De){return/^[ns]/.test(De)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),pe.style("display",_t.empty()?"none":null);var ne,Wt=t.transition(Qt),Se=t.transition(Yt);V&&(ne=Vr(V),Se.attr("x",ne[0]).attr("width",ne[1]-ne[0]),Ht(Wt)),X&&(ne=Vr(X),Se.attr("y",ne[0]).attr("height",ne[1]-ne[0]),Jt(Wt)),Ft(Wt)})}function Ft(Zt){Zt.selectAll(".resize").attr("transform",function(Qt){return"translate("+et[+/e$/.test(Qt)]+","+st[+/^s/.test(Qt)]+")"})}function Ht(Zt){Zt.select(".extent").attr("x",et[0]),Zt.selectAll(".extent,.n>rect,.s>rect").attr("width",et[1]-et[0])}function Jt(Zt){Zt.select(".extent").attr("y",st[0]),Zt.selectAll(".extent,.e>rect,.w>rect").attr("height",st[1]-st[0])}function oe(){var Zt,Qt,Yt=this,pe=t.select(t.event.target),ne=O.of(Yt,arguments),Wt=t.select(Yt),Se=pe.datum(),De=!/^(n|s)$/.test(Se)&&V,He=!/^(e|w)$/.test(Se)&&X,Ye=pe.classed("extent"),tn=de(Yt),en=t.mouse(Yt),vn=t.select(s(Yt)).on("keydown.brush",zn).on("keyup.brush",Yn);if(t.event.changedTouches?vn.on("touchmove.brush",je).on("touchend.brush",yn):vn.on("mousemove.brush",je).on("mouseup.brush",yn),Wt.interrupt().selectAll("*").interrupt(),Ye)en[0]=et[0]-en[0],en[1]=st[0]-en[1];else if(Se){var nn=+/w$/.test(Se),wn=+/^n/.test(Se);Qt=[et[1-nn]-en[0],st[1-wn]-en[1]],en[0]=et[nn],en[1]=st[wn]}else t.event.altKey&&(Zt=en.slice());function zn(){32==t.event.keyCode&&(Ye||(Zt=null,en[0]-=et[1],en[1]-=st[1],Ye=2),P())}function Yn(){32==t.event.keyCode&&2==Ye&&(en[0]+=et[1],en[1]+=st[1],Ye=0,P())}function je(){var gn=t.mouse(Yt),On=!1;Qt&&(gn[0]+=Qt[0],gn[1]+=Qt[1]),Ye||(t.event.altKey?(Zt||(Zt=[(et[0]+et[1])/2,(st[0]+st[1])/2]),en[0]=et[+(gn[0]<Zt[0])],en[1]=st[+(gn[1]<Zt[1])]):Zt=null),De&&an(gn,V,0)&&(Ht(Wt),On=!0),He&&an(gn,X,1)&&(Jt(Wt),On=!0),On&&(Ft(Wt),ne({type:"brush",mode:Ye?"move":"resize"}))}function an(gn,On,Pn){var Fn,Zn,Kn=Vr(On),Qn=Kn[0],lr=Kn[1],er=en[Pn],ar=Pn?st:et,vr=ar[1]-ar[0];if(Ye&&(Qn-=er,lr-=vr+er),Fn=(Pn?ft:ht)?Math.max(Qn,Math.min(lr,gn[Pn])):gn[Pn],Ye?Zn=(Fn+=er)+vr:(Zt&&(er=Math.max(Qn,Math.min(lr,2*Zt[Pn]-Fn))),er<Fn?(Zn=Fn,Fn=er):Zn=er),ar[0]!=Fn||ar[1]!=Zn)return Pn?_=null:u=null,ar[0]=Fn,ar[1]=Zn,!0}function yn(){je(),Wt.style("pointer-events","all").selectAll(".resize").style("display",_t.empty()?"none":null),t.select("body").style("cursor",null),vn.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),tn(),ne({type:"brushend"})}Wt.style("pointer-events","none").selectAll(".resize").style("display",null),t.select("body").style("cursor",pe.style("cursor")),ne({type:"brushstart"}),je()}return _t.event=function(Zt){Zt.each(function(){var Qt=O.of(this,arguments),Yt={x:et,y:st,i:u,j:_},pe=this.__chart__||Yt;this.__chart__=Yt,Dr?t.select(this).transition().each("start.brush",function(){u=pe.i,_=pe.j,et=pe.x,st=pe.y,Qt({type:"brushstart"})}).tween("brush:brush",function(){var ne=Vn(et,Yt.x),Wt=Vn(st,Yt.y);return u=_=null,function(Se){et=Yt.x=ne(Se),st=Yt.y=Wt(Se),Qt({type:"brush",mode:"resize"})}}).each("end.brush",function(){u=Yt.i,_=Yt.j,Qt({type:"brush",mode:"resize"}),Qt({type:"brushend"})}):(Qt({type:"brushstart"}),Qt({type:"brush",mode:"resize"}),Qt({type:"brushend"}))})},_t.x=function(Zt){return arguments.length?(pt=ba[!(V=Zt)<<1|!X],_t):V},_t.y=function(Zt){return arguments.length?(pt=ba[!V<<1|!(X=Zt)],_t):X},_t.clamp=function(Zt){return arguments.length?(V&&X?(ht=!!Zt[0],ft=!!Zt[1]):V?ht=!!Zt:X&&(ft=!!Zt),_t):V&&X?[ht,ft]:V?ht:X?ft:null},_t.extent=function(Zt){var Qt,Yt,pe,ne,Wt;return arguments.length?(V&&(Qt=Zt[0],Yt=Zt[1],X&&(Qt=Qt[0],Yt=Yt[0]),u=[Qt,Yt],V.invert&&(Qt=V(Qt),Yt=V(Yt)),Yt<Qt&&(Wt=Qt,Qt=Yt,Yt=Wt),Qt==et[0]&&Yt==et[1]||(et=[Qt,Yt])),X&&(pe=Zt[0],ne=Zt[1],V&&(pe=pe[1],ne=ne[1]),_=[pe,ne],X.invert&&(pe=X(pe),ne=X(ne)),ne<pe&&(Wt=pe,pe=ne,ne=Wt),pe==st[0]&&ne==st[1]||(st=[pe,ne])),_t):(V&&(u?(Qt=u[0],Yt=u[1]):(Qt=et[0],Yt=et[1],V.invert&&(Qt=V.invert(Qt),Yt=V.invert(Yt)),Yt<Qt&&(Wt=Qt,Qt=Yt,Yt=Wt))),X&&(_?(pe=_[0],ne=_[1]):(pe=st[0],ne=st[1],X.invert&&(pe=X.invert(pe),ne=X.invert(ne)),ne<pe&&(Wt=pe,pe=ne,ne=Wt))),V&&X?[[Qt,pe],[Yt,ne]]:V?[Qt,Yt]:X&&[pe,ne])},_t.clear=function(){return _t.empty()||(et=[0,0],st=[0,0],u=_=null),_t},_t.empty=function(){return!!V&&et[0]==et[1]||!!X&&st[0]==st[1]},t.rebind(_t,O,"on")};var oo={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ba=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function so(u){return JSON.parse(u.responseText)}function lo(u){var _=e.createRange();return _.selectNode(e.body),_.createContextualFragment(u.responseText)}t.text=Ve(function(u){return u.responseText}),t.json=function(u,_){return Xe(u,"application/json",so,_)},t.html=function(u,_){return Xe(u,"text/html",lo,_)},t.xml=Ve(function(u){return u.responseXML}),"object"==typeof tt&&tt.exports?tt.exports=t:this.d3=t}).apply(self)},{}],12:[function(c,tt,B){"use strict";var t,l="object"==typeof Reflect?Reflect:null,o=l&&"function"==typeof l.apply?l.apply:function(w,x,m){return Function.prototype.apply.call(w,x,m)};t=l&&"function"==typeof l.ownKeys?l.ownKeys:Object.getOwnPropertySymbols?function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:function(w){return Object.getOwnPropertyNames(w)};var e=Number.isNaN||function(w){return w!=w};function n(){n.init.call(this)}tt.exports=n,tt.exports.once=function(w,x){return new Promise(function(m,y){function A(){void 0!==b&&w.removeListener("error",b),m([].slice.call(arguments))}var b;"error"!==x&&(b=function(k){w.removeListener(x,A),y(k)},w.once("error",b)),w.once(x,A)})},n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var s=10;function a(w){if("function"!=typeof w)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}function i(w){return void 0===w._maxListeners?n.defaultMaxListeners:w._maxListeners}function r(w,x,m,y){var A,b,k;if(a(m),void 0===(b=w._events)?(b=w._events=Object.create(null),w._eventsCount=0):(void 0!==b.newListener&&(w.emit("newListener",x,m.listener?m.listener:m),b=w._events),k=b[x]),void 0===k)k=b[x]=m,++w._eventsCount;else if("function"==typeof k?k=b[x]=y?[m,k]:[k,m]:y?k.unshift(m):k.push(m),(A=i(w))>0&&k.length>A&&!k.warned){k.warned=!0;var g=new Error("Possible EventEmitter memory leak detected. "+k.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");g.name="MaxListenersExceededWarning",g.emitter=w,g.type=x,g.count=k.length,console&&console.warn&&console.warn(g)}return w}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(w,x,m){var y={fired:!1,wrapFn:void 0,target:w,type:x,listener:m},A=d.bind(y);return A.listener=m,y.wrapFn=A,A}function h(w,x,m){var y=w._events;if(void 0===y)return[];var A=y[x];return void 0===A?[]:"function"==typeof A?m?[A.listener||A]:[A]:m?function(b){for(var k=new Array(b.length),L=0;L<k.length;++L)k[L]=b[L].listener||b[L];return k}(A):T(A,A.length)}function p(w){var x=this._events;if(void 0!==x){var m=x[w];if("function"==typeof m)return 1;if(void 0!==m)return m.length}return 0}function T(w,x){for(var m=new Array(x),y=0;y<x;++y)m[y]=w[y];return m}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(w){if("number"!=typeof w||w<0||e(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");s=w}}),n.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(w){if("number"!=typeof w||w<0||e(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this},n.prototype.getMaxListeners=function(){return i(this)},n.prototype.emit=function(w){for(var x=[],m=1;m<arguments.length;m++)x.push(arguments[m]);var y="error"===w,A=this._events;if(void 0!==A)y=y&&void 0===A.error;else if(!y)return!1;if(y){var b;if(x.length>0&&(b=x[0]),b instanceof Error)throw b;var k=new Error("Unhandled error."+(b?" ("+b.message+")":""));throw k.context=b,k}var L=A[w];if(void 0===L)return!1;if("function"==typeof L)o(L,this,x);else{var g=L.length,S=T(L,g);for(m=0;m<g;++m)o(S[m],this,x)}return!0},n.prototype.on=n.prototype.addListener=function(w,x){return r(this,w,x,!1)},n.prototype.prependListener=function(w,x){return r(this,w,x,!0)},n.prototype.once=function(w,x){return a(x),this.on(w,f(this,w,x)),this},n.prototype.prependOnceListener=function(w,x){return a(x),this.prependListener(w,f(this,w,x)),this},n.prototype.off=n.prototype.removeListener=function(w,x){var m,y,A,b,k;if(a(x),void 0===(y=this._events))return this;if(void 0===(m=y[w]))return this;if(m===x||m.listener===x)0==--this._eventsCount?this._events=Object.create(null):(delete y[w],y.removeListener&&this.emit("removeListener",w,m.listener||x));else if("function"!=typeof m){for(A=-1,b=m.length-1;b>=0;b--)if(m[b]===x||m[b].listener===x){k=m[b].listener,A=b;break}if(A<0)return this;0===A?m.shift():function(L,g){for(;g+1<L.length;g++)L[g]=L[g+1];L.pop()}(m,A),1===m.length&&(y[w]=m[0]),void 0!==y.removeListener&&this.emit("removeListener",w,k||x)}return this},n.prototype.removeAllListeners=function(w){var x,m,y;if(void 0===(m=this._events))return this;if(void 0===m.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==m[w]&&(0==--this._eventsCount?this._events=Object.create(null):delete m[w]),this;if(0===arguments.length){var A,b=Object.keys(m);for(y=0;y<b.length;++y)"removeListener"!==(A=b[y])&&this.removeAllListeners(A);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(x=m[w]))this.removeListener(w,x);else if(void 0!==x)for(y=x.length-1;y>=0;y--)this.removeListener(w,x[y]);return this},n.prototype.listeners=function(w){return h(this,w,!0)},n.prototype.rawListeners=function(w){return h(this,w,!1)},n.listenerCount=function(w,x){return"function"==typeof w.listenerCount?w.listenerCount(x):p.call(w,x)},n.prototype.listenerCount=p,n.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},{}],13:[function(c,tt,B){var t;t=this,function(t){"use strict";function l(x,m){if((y=(x=m?x.toExponential(m-1):x.toExponential()).indexOf("e"))<0)return null;var y,A=x.slice(0,y);return[A.length>1?A[0]+A.slice(2):A,+x.slice(y+1)]}function o(x){return(x=l(Math.abs(x)))?x[1]:NaN}var e,n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s(x){if(!(m=n.exec(x)))throw new Error("invalid format: "+x);var m;return new a({fill:m[1],align:m[2],sign:m[3],symbol:m[4],zero:m[5],width:m[6],comma:m[7],precision:m[8]&&m[8].slice(1),trim:m[9],type:m[10]})}function a(x){this.fill=void 0===x.fill?" ":x.fill+"",this.align=void 0===x.align?">":x.align+"",this.sign=void 0===x.sign?"-":x.sign+"",this.symbol=void 0===x.symbol?"":x.symbol+"",this.zero=!!x.zero,this.width=void 0===x.width?void 0:+x.width,this.comma=!!x.comma,this.precision=void 0===x.precision?void 0:+x.precision,this.trim=!!x.trim,this.type=void 0===x.type?"":x.type+""}function i(x,m){var y=l(x,m);if(!y)return x+"";var A=y[0],b=y[1];return b<0?"0."+new Array(-b).join("0")+A:A.length>b+1?A.slice(0,b+1)+"."+A.slice(b+1):A+new Array(b-A.length+2).join("0")}s.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var r={"%":function(x,m){return(100*x).toFixed(m)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:function(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)},e:function(x,m){return x.toExponential(m)},f:function(x,m){return x.toFixed(m)},g:function(x,m){return x.toPrecision(m)},o:function(x){return Math.round(x).toString(8)},p:function(x,m){return i(100*x,m)},r:i,s:function(x,m){var y=l(x,m);if(!y)return x+"";var A=y[0],b=y[1],k=b-(e=3*Math.max(-8,Math.min(8,Math.floor(b/3))))+1,L=A.length;return k===L?A:k>L?A+new Array(k-L+1).join("0"):k>0?A.slice(0,k)+"."+A.slice(k):"0."+new Array(1-k).join("0")+l(x,Math.max(0,m+k-1))[0]},X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function d(x){return x}var f,h=Array.prototype.map,p=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function T(x){var m,y,N,A=void 0===x.grouping||void 0===x.thousands?d:(m=h.call(x.grouping,Number),y=x.thousands+"",function(N,z){for(var U=N.length,Y=[],$=0,ot=m[0],G=0;U>0&&ot>0&&(G+ot+1>z&&(ot=Math.max(1,z-G)),Y.push(N.substring(U-=ot,U+ot)),!((G+=ot+1)>z));)ot=m[$=($+1)%m.length];return Y.reverse().join(y)}),b=void 0===x.currency?"":x.currency[0]+"",k=void 0===x.currency?"":x.currency[1]+"",L=void 0===x.decimal?".":x.decimal+"",g=void 0===x.numerals?d:(N=h.call(x.numerals,String),function(z){return z.replace(/[0-9]/g,function(U){return N[+U]})}),S=void 0===x.percent?"%":x.percent+"",E=void 0===x.minus?"-":x.minus+"",v=void 0===x.nan?"NaN":x.nan+"";function F(N){var z=(N=s(N)).fill,U=N.align,Y=N.sign,$=N.symbol,ot=N.zero,G=N.width,R=N.comma,j=N.precision,P=N.trim,I=N.type;"n"===I?(R=!0,I="g"):r[I]||(void 0===j&&(j=12),P=!0,I="g"),(ot||"0"===z&&"="===U)&&(ot=!0,z="0",U="=");var Z="$"===$?b:"#"===$&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",q="$"===$?k:/[%p]/.test(I)?S:"",D=r[I],M=/[defgprs%]/.test(I);function H(C){var W,K,J,Q=Z,ut=q;if("c"===I)ut=D(C)+ut,C="";else{var ct=(C=+C)<0||1/C<0;if(C=isNaN(C)?v:D(Math.abs(C),j),P&&(C=function(xt){t:for(var Tt,zt=xt.length,Et=1,At=-1;Et<zt;++Et)switch(xt[Et]){case".":At=Tt=Et;break;case"0":0===At&&(At=Et),Tt=Et;break;default:if(!+xt[Et])break t;At>0&&(At=0)}return At>0?xt.slice(0,At)+xt.slice(Tt+1):xt}(C)),ct&&0==+C&&"+"!==Y&&(ct=!1),Q=(ct?"("===Y?Y:E:"-"===Y||"("===Y?"":Y)+Q,ut=("s"===I?p[8+e/3]:"")+ut+(ct&&"("===Y?")":""),M)for(W=-1,K=C.length;++W<K;)if(48>(J=C.charCodeAt(W))||J>57){ut=(46===J?L+C.slice(W+1):C.slice(W))+ut,C=C.slice(0,W);break}}R&&!ot&&(C=A(C,1/0));var gt=Q.length+C.length+ut.length,vt=gt<G?new Array(G-gt+1).join(z):"";switch(R&&ot&&(C=A(vt+C,vt.length?G-ut.length:1/0),vt=""),U){case"<":C=Q+C+ut+vt;break;case"=":C=Q+vt+C+ut;break;case"^":C=vt.slice(0,gt=vt.length>>1)+Q+C+ut+vt.slice(gt);break;default:C=vt+Q+C+ut}return g(C)}return j=void 0===j?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j)),H.toString=function(){return N+""},H}return{format:F,formatPrefix:function(N,z){var U=F(((N=s(N)).type="f",N)),Y=3*Math.max(-8,Math.min(8,Math.floor(o(z)/3))),$=Math.pow(10,-Y),ot=p[8+Y/3];return function(G){return U($*G)+ot}}}}function w(x){return f=T(x),t.format=f.format,t.formatPrefix=f.formatPrefix,f}w({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),t.FormatSpecifier=a,t.formatDefaultLocale=w,t.formatLocale=T,t.formatSpecifier=s,t.precisionFixed=function(x){return Math.max(0,-o(Math.abs(x)))},t.precisionPrefix=function(x,m){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(o(m)/3)))-o(Math.abs(x)))},t.precisionRound=function(x,m){return x=Math.abs(x),m=Math.abs(m)-x,Math.max(0,o(m)-o(x))+1},Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof B&&void 0!==tt?B:(t="undefined"!=typeof globalThis?globalThis:t||self).d3=t.d3||{})},{}],14:[function(c,tt,B){var t,l;t=this,l=function(t,l){"use strict";function o(kt){if(0<=kt.y&&kt.y<100){var Mt=new Date(-1,kt.m,kt.d,kt.H,kt.M,kt.S,kt.L);return Mt.setFullYear(kt.y),Mt}return new Date(kt.y,kt.m,kt.d,kt.H,kt.M,kt.S,kt.L)}function e(kt){if(0<=kt.y&&kt.y<100){var Mt=new Date(Date.UTC(-1,kt.m,kt.d,kt.H,kt.M,kt.S,kt.L));return Mt.setUTCFullYear(kt.y),Mt}return new Date(Date.UTC(kt.y,kt.m,kt.d,kt.H,kt.M,kt.S,kt.L))}function n(kt,Mt,qt){return{y:kt,m:Mt,d:qt,H:0,M:0,S:0,L:0}}function s(kt){var Mt=kt.dateTime,qt=kt.date,ce=kt.time,Te=kt.periods,Oe=kt.days,xe=kt.shortDays,ye=kt.months,le=kt.shortMonths,nt=T(Te),it=w(Te),Lt=T(Oe),Pt=w(Oe),Bt=T(xe),Rt=w(xe),jt=T(ye),Ut=w(ye),ee=T(le),ie=w(le),fe={a:function(te){return xe[te.getDay()]},A:function(te){return Oe[te.getDay()]},b:function(te){return le[te.getMonth()]},B:function(te){return ye[te.getMonth()]},c:null,d:j,e:j,f:D,H:P,I,j:Z,L:q,m:M,M:H,p:function(te){return Te[+(te.getHours()>=12)]},q:function(te){return 1+~~(te.getMonth()/3)},Q:Gt,s:$t,S:C,u:W,U:K,V:J,w:Q,W:ut,x:null,X:null,y:ct,Y:gt,Z:vt,"%":Ct},Ae={a:function(te){return xe[te.getUTCDay()]},A:function(te){return Oe[te.getUTCDay()]},b:function(te){return le[te.getUTCMonth()]},B:function(te){return ye[te.getUTCMonth()]},c:null,d:xt,e:xt,f:lt,H:Tt,I:zt,j:Et,L:At,m:rt,M:dt,p:function(te){return Te[+(te.getUTCHours()>=12)]},q:function(te){return 1+~~(te.getUTCMonth()/3)},Q:Gt,s:$t,S:mt,u:Dt,U:bt,V:wt,w:Ot,W:It,x:null,X:null,y:St,Y:Nt,Z:Vt,"%":Ct},re={a:function(te,Le,_e){var ge=Bt.exec(Le.slice(_e));return ge?(te.w=Rt[ge[0].toLowerCase()],_e+ge[0].length):-1},A:function(te,Le,_e){var ge=Lt.exec(Le.slice(_e));return ge?(te.w=Pt[ge[0].toLowerCase()],_e+ge[0].length):-1},b:function(te,Le,_e){var ge=ee.exec(Le.slice(_e));return ge?(te.m=ie[ge[0].toLowerCase()],_e+ge[0].length):-1},B:function(te,Le,_e){var ge=jt.exec(Le.slice(_e));return ge?(te.m=Ut[ge[0].toLowerCase()],_e+ge[0].length):-1},c:function(te,Le,_e){return se(te,Mt,Le,_e)},d:v,e:v,f:$,H:N,I:N,j:F,L:Y,m:E,M:z,p:function(te,Le,_e){var ge=nt.exec(Le.slice(_e));return ge?(te.p=it[ge[0].toLowerCase()],_e+ge[0].length):-1},q:S,Q:G,s:R,S:U,u:m,U:y,V:A,w:x,W:b,x:function(te,Le,_e){return se(te,qt,Le,_e)},X:function(te,Le,_e){return se(te,ce,Le,_e)},y:L,Y:k,Z:g,"%":ot};function ve(te,Le){return function(_e){var ge,ke,he,Fe=[],Ie=-1,Re=0,Ze=te.length;for(_e instanceof Date||(_e=new Date(+_e));++Ie<Ze;)37===te.charCodeAt(Ie)&&(Fe.push(te.slice(Re,Ie)),null!=(ke=i[ge=te.charAt(++Ie)])?ge=te.charAt(++Ie):ke="e"===ge?" ":"0",(he=Le[ge])&&(ge=he(_e,ke)),Fe.push(ge),Re=Ie+1);return Fe.push(te.slice(Re,Ie)),Fe.join("")}}function Pe(te,Le){return function(_e){var ge,ke,he=n(1900,void 0,1);if(se(he,te,_e+="",0)!=_e.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(1e3*he.s+("L"in he?he.L:0));if(Le&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+12*he.p),void 0===he.m&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(ke=(ge=e(n(he.y,0,1))).getUTCDay(),ge=ke>4||0===ke?l.utcMonday.ceil(ge):l.utcMonday(ge),ge=l.utcDay.offset(ge,7*(he.V-1)),he.y=ge.getUTCFullYear(),he.m=ge.getUTCMonth(),he.d=ge.getUTCDate()+(he.w+6)%7):(ke=(ge=o(n(he.y,0,1))).getDay(),ge=ke>4||0===ke?l.timeMonday.ceil(ge):l.timeMonday(ge),ge=l.timeDay.offset(ge,7*(he.V-1)),he.y=ge.getFullYear(),he.m=ge.getMonth(),he.d=ge.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),ke="Z"in he?e(n(he.y,0,1)).getUTCDay():o(n(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+7*he.W-(ke+5)%7:he.w+7*he.U-(ke+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,e(he)):o(he)}}function se(te,Le,_e,ge){for(var ke,he,Fe=0,Ie=Le.length,Re=_e.length;Fe<Ie;){if(ge>=Re)return-1;if(37===(ke=Le.charCodeAt(Fe++))){if(ke=Le.charAt(Fe++),!(he=re[ke in i?Le.charAt(Fe++):ke])||(ge=he(te,_e,ge))<0)return-1}else if(ke!=_e.charCodeAt(ge++))return-1}return ge}return fe.x=ve(qt,fe),fe.X=ve(ce,fe),fe.c=ve(Mt,fe),Ae.x=ve(qt,Ae),Ae.X=ve(ce,Ae),Ae.c=ve(Mt,Ae),{format:function(te){var Le=ve(te+="",fe);return Le.toString=function(){return te},Le},parse:function(te){var Le=Pe(te+="",!1);return Le.toString=function(){return te},Le},utcFormat:function(te){var Le=ve(te+="",Ae);return Le.toString=function(){return te},Le},utcParse:function(te){var Le=Pe(te+="",!0);return Le.toString=function(){return te},Le}}}var a,i={"-":"",_:" ",0:"0"},r=/^\s*\d+/,d=/^%/,f=/[\\^$*+?|[\]().{}]/g;function h(kt,Mt,qt){var ce=kt<0?"-":"",Te=(ce?-kt:kt)+"",Oe=Te.length;return ce+(Oe<qt?new Array(qt-Oe+1).join(Mt)+Te:Te)}function p(kt){return kt.replace(f,"\\$&")}function T(kt){return new RegExp("^(?:"+kt.map(p).join("|")+")","i")}function w(kt){for(var Mt={},qt=-1,ce=kt.length;++qt<ce;)Mt[kt[qt].toLowerCase()]=qt;return Mt}function x(kt,Mt,qt){var ce=r.exec(Mt.slice(qt,qt+1));return ce?(kt.w=+ce[0],qt+ce[0].length):-1}function m(kt,Mt,qt){var ce=r.exec(Mt.slice(qt,qt+1));return ce?(kt.u=+ce[0],qt+ce[0].length):-1}function y(kt,Mt,qt){var ce=r.exec(Mt.slice(qt,qt+2));return ce?(kt.U=+ce[0],qt+ce[0].length):-1}function A(kt,Mt,qt){var ce=r.exec(Mt.slice(qt,qt+2));return ce?(kt.V=+ce[0],qt+ce[0].length):-1}function b(kt,Mt,qt){var ce=r.exec(Mt.slice(qt,qt+2));return ce?(kt.W=+ce[0],qt+ce[0].length):-1}function k(kt,Mt,qt){var ce=r.exec(Mt.slice(qt,qt+4));return ce?(kt.y=+ce[0],qt+ce[0].length):-1}function L(kt,Mt,qt){var ce=r.exec(Mt.slice(qt,qt+2));return ce?(kt.y=+ce[0]+(+ce[0]>68?1900:2e3),qt+ce[0].length):-1}function g(kt,Mt,qt){var ce=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Mt.slice(qt,qt+6));return ce?(kt.Z=ce[1]?0:-(ce[2]+(ce[3]||"00")),qt+ce[0].length):-1}function S(kt,Mt,qt){var ce=r.exec(Mt.slice(qt,qt+1));return ce?(kt.q=3*ce[0]-3,qt+ce[0].length):-1}function E(kt,Mt,qt){var ce=r.exec(Mt.slice(qt,qt+2));return ce?(kt.m=ce[0]-1,qt+ce[0].length):-1}function v(kt,Mt,qt){var ce=r.exec(Mt.slice(qt,qt+2));return ce?(kt.d=+ce[0],qt+ce[0].length):-1}function F(kt,Mt,qt){var ce=r.exec(Mt.slice(qt,qt+3));return ce?(kt.m=0,kt.d=+ce[0],qt+ce[0].length):-1}function N(kt,Mt,qt){var ce=r.exec(Mt.slice(qt,qt+2));return ce?(kt.H=+ce[0],qt+ce[0].length):-1}function z(kt,Mt,qt){var ce=r.exec(Mt.slice(qt,qt+2));return ce?(kt.M=+ce[0],qt+ce[0].length):-1}function U(kt,Mt,qt){var ce=r.exec(Mt.slice(qt,qt+2));return ce?(kt.S=+ce[0],qt+ce[0].length):-1}function Y(kt,Mt,qt){var ce=r.exec(Mt.slice(qt,qt+3));return ce?(kt.L=+ce[0],qt+ce[0].length):-1}function $(kt,Mt,qt){var ce=r.exec(Mt.slice(qt,qt+6));return ce?(kt.L=Math.floor(ce[0]/1e3),qt+ce[0].length):-1}function ot(kt,Mt,qt){var ce=d.exec(Mt.slice(qt,qt+1));return ce?qt+ce[0].length:-1}function G(kt,Mt,qt){var ce=r.exec(Mt.slice(qt));return ce?(kt.Q=+ce[0],qt+ce[0].length):-1}function R(kt,Mt,qt){var ce=r.exec(Mt.slice(qt));return ce?(kt.s=+ce[0],qt+ce[0].length):-1}function j(kt,Mt){return h(kt.getDate(),Mt,2)}function P(kt,Mt){return h(kt.getHours(),Mt,2)}function I(kt,Mt){return h(kt.getHours()%12||12,Mt,2)}function Z(kt,Mt){return h(1+l.timeDay.count(l.timeYear(kt),kt),Mt,3)}function q(kt,Mt){return h(kt.getMilliseconds(),Mt,3)}function D(kt,Mt){return q(kt,Mt)+"000"}function M(kt,Mt){return h(kt.getMonth()+1,Mt,2)}function H(kt,Mt){return h(kt.getMinutes(),Mt,2)}function C(kt,Mt){return h(kt.getSeconds(),Mt,2)}function W(kt){var Mt=kt.getDay();return 0===Mt?7:Mt}function K(kt,Mt){return h(l.timeSunday.count(l.timeYear(kt)-1,kt),Mt,2)}function J(kt,Mt){var qt=kt.getDay();return kt=qt>=4||0===qt?l.timeThursday(kt):l.timeThursday.ceil(kt),h(l.timeThursday.count(l.timeYear(kt),kt)+(4===l.timeYear(kt).getDay()),Mt,2)}function Q(kt){return kt.getDay()}function ut(kt,Mt){return h(l.timeMonday.count(l.timeYear(kt)-1,kt),Mt,2)}function ct(kt,Mt){return h(kt.getFullYear()%100,Mt,2)}function gt(kt,Mt){return h(kt.getFullYear()%1e4,Mt,4)}function vt(kt){var Mt=kt.getTimezoneOffset();return(Mt>0?"-":(Mt*=-1,"+"))+h(Mt/60|0,"0",2)+h(Mt%60,"0",2)}function xt(kt,Mt){return h(kt.getUTCDate(),Mt,2)}function Tt(kt,Mt){return h(kt.getUTCHours(),Mt,2)}function zt(kt,Mt){return h(kt.getUTCHours()%12||12,Mt,2)}function Et(kt,Mt){return h(1+l.utcDay.count(l.utcYear(kt),kt),Mt,3)}function At(kt,Mt){return h(kt.getUTCMilliseconds(),Mt,3)}function lt(kt,Mt){return At(kt,Mt)+"000"}function rt(kt,Mt){return h(kt.getUTCMonth()+1,Mt,2)}function dt(kt,Mt){return h(kt.getUTCMinutes(),Mt,2)}function mt(kt,Mt){return h(kt.getUTCSeconds(),Mt,2)}function Dt(kt){var Mt=kt.getUTCDay();return 0===Mt?7:Mt}function bt(kt,Mt){return h(l.utcSunday.count(l.utcYear(kt)-1,kt),Mt,2)}function wt(kt,Mt){var qt=kt.getUTCDay();return kt=qt>=4||0===qt?l.utcThursday(kt):l.utcThursday.ceil(kt),h(l.utcThursday.count(l.utcYear(kt),kt)+(4===l.utcYear(kt).getUTCDay()),Mt,2)}function Ot(kt){return kt.getUTCDay()}function It(kt,Mt){return h(l.utcMonday.count(l.utcYear(kt)-1,kt),Mt,2)}function St(kt,Mt){return h(kt.getUTCFullYear()%100,Mt,2)}function Nt(kt,Mt){return h(kt.getUTCFullYear()%1e4,Mt,4)}function Vt(){return"+0000"}function Ct(){return"%"}function Gt(kt){return+kt}function $t(kt){return Math.floor(+kt/1e3)}function Xt(kt){return a=s(kt),t.timeFormat=a.format,t.timeParse=a.parse,t.utcFormat=a.utcFormat,t.utcParse=a.utcParse,a}Xt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var de=Date.prototype.toISOString?function(kt){return kt.toISOString()}:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Kt=+new Date("2000-01-01T00:00:00.000Z")?function(kt){var Mt=new Date(kt);return isNaN(Mt)?null:Mt}:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");t.isoFormat=de,t.isoParse=Kt,t.timeFormatDefaultLocale=Xt,t.timeFormatLocale=s,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof B&&void 0!==tt?l(B,c("d3-time")):l((t=t||self).d3=t.d3||{},t.d3)},{"d3-time":15}],15:[function(c,tt,B){var t;t=this,function(t){"use strict";var l=new Date,o=new Date;function e(rt,dt,mt,Dt){function bt(wt){return rt(wt=0===arguments.length?new Date:new Date(+wt)),wt}return bt.floor=function(wt){return rt(wt=new Date(+wt)),wt},bt.ceil=function(wt){return rt(wt=new Date(wt-1)),dt(wt,1),rt(wt),wt},bt.round=function(wt){var Ot=bt(wt),It=bt.ceil(wt);return wt-Ot<It-wt?Ot:It},bt.offset=function(wt,Ot){return dt(wt=new Date(+wt),null==Ot?1:Math.floor(Ot)),wt},bt.range=function(wt,Ot,It){var St,Nt=[];if(wt=bt.ceil(wt),It=null==It?1:Math.floor(It),!(wt<Ot&&It>0))return Nt;do{Nt.push(St=new Date(+wt)),dt(wt,It),rt(wt)}while(St<wt&&wt<Ot);return Nt},bt.filter=function(wt){return e(function(Ot){if(Ot>=Ot)for(;rt(Ot),!wt(Ot);)Ot.setTime(Ot-1)},function(Ot,It){if(Ot>=Ot)if(It<0)for(;++It<=0;)for(;dt(Ot,-1),!wt(Ot););else for(;--It>=0;)for(;dt(Ot,1),!wt(Ot););})},mt&&(bt.count=function(wt,Ot){return l.setTime(+wt),o.setTime(+Ot),rt(l),rt(o),Math.floor(mt(l,o))},bt.every=function(wt){return wt=Math.floor(wt),isFinite(wt)&&wt>0?wt>1?bt.filter(Dt?function(Ot){return Dt(Ot)%wt==0}:function(Ot){return bt.count(0,Ot)%wt==0}):bt:null}),bt}var n=e(function(){},function(rt,dt){rt.setTime(+rt+dt)},function(rt,dt){return dt-rt});n.every=function(rt){return rt=Math.floor(rt),isFinite(rt)&&rt>0?rt>1?e(function(dt){dt.setTime(Math.floor(dt/rt)*rt)},function(dt,mt){dt.setTime(+dt+mt*rt)},function(dt,mt){return(mt-dt)/rt}):n:null};var s=n.range,a=e(function(rt){rt.setTime(rt-rt.getMilliseconds())},function(rt,dt){rt.setTime(+rt+1e3*dt)},function(rt,dt){return(dt-rt)/1e3},function(rt){return rt.getUTCSeconds()}),i=a.range,r=e(function(rt){rt.setTime(rt-rt.getMilliseconds()-1e3*rt.getSeconds())},function(rt,dt){rt.setTime(+rt+6e4*dt)},function(rt,dt){return(dt-rt)/6e4},function(rt){return rt.getMinutes()}),d=r.range,f=e(function(rt){rt.setTime(rt-rt.getMilliseconds()-1e3*rt.getSeconds()-6e4*rt.getMinutes())},function(rt,dt){rt.setTime(+rt+36e5*dt)},function(rt,dt){return(dt-rt)/36e5},function(rt){return rt.getHours()}),h=f.range,p=e(function(rt){rt.setHours(0,0,0,0)},function(rt,dt){rt.setDate(rt.getDate()+dt)},function(rt,dt){return(dt-rt-6e4*(dt.getTimezoneOffset()-rt.getTimezoneOffset()))/864e5},function(rt){return rt.getDate()-1}),T=p.range;function w(rt){return e(function(dt){dt.setDate(dt.getDate()-(dt.getDay()+7-rt)%7),dt.setHours(0,0,0,0)},function(dt,mt){dt.setDate(dt.getDate()+7*mt)},function(dt,mt){return(mt-dt-6e4*(mt.getTimezoneOffset()-dt.getTimezoneOffset()))/6048e5})}var x=w(0),m=w(1),y=w(2),A=w(3),b=w(4),k=w(5),L=w(6),g=x.range,S=m.range,E=y.range,v=A.range,F=b.range,N=k.range,z=L.range,U=e(function(rt){rt.setDate(1),rt.setHours(0,0,0,0)},function(rt,dt){rt.setMonth(rt.getMonth()+dt)},function(rt,dt){return dt.getMonth()-rt.getMonth()+12*(dt.getFullYear()-rt.getFullYear())},function(rt){return rt.getMonth()}),Y=U.range,$=e(function(rt){rt.setMonth(0,1),rt.setHours(0,0,0,0)},function(rt,dt){rt.setFullYear(rt.getFullYear()+dt)},function(rt,dt){return dt.getFullYear()-rt.getFullYear()},function(rt){return rt.getFullYear()});$.every=function(rt){return isFinite(rt=Math.floor(rt))&&rt>0?e(function(dt){dt.setFullYear(Math.floor(dt.getFullYear()/rt)*rt),dt.setMonth(0,1),dt.setHours(0,0,0,0)},function(dt,mt){dt.setFullYear(dt.getFullYear()+mt*rt)}):null};var ot=$.range,G=e(function(rt){rt.setUTCSeconds(0,0)},function(rt,dt){rt.setTime(+rt+6e4*dt)},function(rt,dt){return(dt-rt)/6e4},function(rt){return rt.getUTCMinutes()}),R=G.range,j=e(function(rt){rt.setUTCMinutes(0,0,0)},function(rt,dt){rt.setTime(+rt+36e5*dt)},function(rt,dt){return(dt-rt)/36e5},function(rt){return rt.getUTCHours()}),P=j.range,I=e(function(rt){rt.setUTCHours(0,0,0,0)},function(rt,dt){rt.setUTCDate(rt.getUTCDate()+dt)},function(rt,dt){return(dt-rt)/864e5},function(rt){return rt.getUTCDate()-1}),Z=I.range;function q(rt){return e(function(dt){dt.setUTCDate(dt.getUTCDate()-(dt.getUTCDay()+7-rt)%7),dt.setUTCHours(0,0,0,0)},function(dt,mt){dt.setUTCDate(dt.getUTCDate()+7*mt)},function(dt,mt){return(mt-dt)/6048e5})}var D=q(0),M=q(1),H=q(2),C=q(3),W=q(4),K=q(5),J=q(6),Q=D.range,ut=M.range,ct=H.range,gt=C.range,vt=W.range,xt=K.range,Tt=J.range,zt=e(function(rt){rt.setUTCDate(1),rt.setUTCHours(0,0,0,0)},function(rt,dt){rt.setUTCMonth(rt.getUTCMonth()+dt)},function(rt,dt){return dt.getUTCMonth()-rt.getUTCMonth()+12*(dt.getUTCFullYear()-rt.getUTCFullYear())},function(rt){return rt.getUTCMonth()}),Et=zt.range,At=e(function(rt){rt.setUTCMonth(0,1),rt.setUTCHours(0,0,0,0)},function(rt,dt){rt.setUTCFullYear(rt.getUTCFullYear()+dt)},function(rt,dt){return dt.getUTCFullYear()-rt.getUTCFullYear()},function(rt){return rt.getUTCFullYear()});At.every=function(rt){return isFinite(rt=Math.floor(rt))&&rt>0?e(function(dt){dt.setUTCFullYear(Math.floor(dt.getUTCFullYear()/rt)*rt),dt.setUTCMonth(0,1),dt.setUTCHours(0,0,0,0)},function(dt,mt){dt.setUTCFullYear(dt.getUTCFullYear()+mt*rt)}):null};var lt=At.range;t.timeDay=p,t.timeDays=T,t.timeFriday=k,t.timeFridays=N,t.timeHour=f,t.timeHours=h,t.timeInterval=e,t.timeMillisecond=n,t.timeMilliseconds=s,t.timeMinute=r,t.timeMinutes=d,t.timeMonday=m,t.timeMondays=S,t.timeMonth=U,t.timeMonths=Y,t.timeSaturday=L,t.timeSaturdays=z,t.timeSecond=a,t.timeSeconds=i,t.timeSunday=x,t.timeSundays=g,t.timeThursday=b,t.timeThursdays=F,t.timeTuesday=y,t.timeTuesdays=E,t.timeWednesday=A,t.timeWednesdays=v,t.timeWeek=x,t.timeWeeks=g,t.timeYear=$,t.timeYears=ot,t.utcDay=I,t.utcDays=Z,t.utcFriday=K,t.utcFridays=xt,t.utcHour=j,t.utcHours=P,t.utcMillisecond=n,t.utcMilliseconds=s,t.utcMinute=G,t.utcMinutes=R,t.utcMonday=M,t.utcMondays=ut,t.utcMonth=zt,t.utcMonths=Et,t.utcSaturday=J,t.utcSaturdays=Tt,t.utcSecond=a,t.utcSeconds=i,t.utcSunday=D,t.utcSundays=Q,t.utcThursday=W,t.utcThursdays=vt,t.utcTuesday=H,t.utcTuesdays=ct,t.utcWednesday=C,t.utcWednesdays=gt,t.utcWeek=D,t.utcWeeks=Q,t.utcYear=At,t.utcYears=lt,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof B&&void 0!==tt?B:(t=t||self).d3=t.d3||{})},{}],16:[function(c,tt,B){arguments[4][15][0].apply(B,arguments)},{dup:15}],17:[function(c,tt,B){"use strict";var t=c("is-string-blank");tt.exports=function(l){var o=typeof l;if("string"===o){var e=l;if(0==(l=+l)&&t(e))return!1}else if("number"!==o)return!1;return l-l<1}},{"is-string-blank":52}],18:[function(c,tt,B){tt.exports=function(t,l){var o=l[0],e=l[1],n=l[2],s=l[3],a=l[4],i=l[5],r=l[6],d=l[7],f=l[8],h=l[9],p=l[10],T=l[11],w=l[12],x=l[13],m=l[14],y=l[15];return t[0]=i*(p*y-T*m)-h*(r*y-d*m)+x*(r*T-d*p),t[1]=-(e*(p*y-T*m)-h*(n*y-s*m)+x*(n*T-s*p)),t[2]=e*(r*y-d*m)-i*(n*y-s*m)+x*(n*d-s*r),t[3]=-(e*(r*T-d*p)-i*(n*T-s*p)+h*(n*d-s*r)),t[4]=-(a*(p*y-T*m)-f*(r*y-d*m)+w*(r*T-d*p)),t[5]=o*(p*y-T*m)-f*(n*y-s*m)+w*(n*T-s*p),t[6]=-(o*(r*y-d*m)-a*(n*y-s*m)+w*(n*d-s*r)),t[7]=o*(r*T-d*p)-a*(n*T-s*p)+f*(n*d-s*r),t[8]=a*(h*y-T*x)-f*(i*y-d*x)+w*(i*T-d*h),t[9]=-(o*(h*y-T*x)-f*(e*y-s*x)+w*(e*T-s*h)),t[10]=o*(i*y-d*x)-a*(e*y-s*x)+w*(e*d-s*i),t[11]=-(o*(i*T-d*h)-a*(e*T-s*h)+f*(e*d-s*i)),t[12]=-(a*(h*m-p*x)-f*(i*m-r*x)+w*(i*p-r*h)),t[13]=o*(h*m-p*x)-f*(e*m-n*x)+w*(e*p-n*h),t[14]=-(o*(i*m-r*x)-a*(e*m-n*x)+w*(e*r-n*i)),t[15]=o*(i*p-r*h)-a*(e*p-n*h)+f*(e*r-n*i),t}},{}],19:[function(c,tt,B){tt.exports=function(t){var l=new Float32Array(16);return l[0]=t[0],l[1]=t[1],l[2]=t[2],l[3]=t[3],l[4]=t[4],l[5]=t[5],l[6]=t[6],l[7]=t[7],l[8]=t[8],l[9]=t[9],l[10]=t[10],l[11]=t[11],l[12]=t[12],l[13]=t[13],l[14]=t[14],l[15]=t[15],l}},{}],20:[function(c,tt,B){tt.exports=function(t,l){return t[0]=l[0],t[1]=l[1],t[2]=l[2],t[3]=l[3],t[4]=l[4],t[5]=l[5],t[6]=l[6],t[7]=l[7],t[8]=l[8],t[9]=l[9],t[10]=l[10],t[11]=l[11],t[12]=l[12],t[13]=l[13],t[14]=l[14],t[15]=l[15],t}},{}],21:[function(c,tt,B){tt.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],22:[function(c,tt,B){tt.exports=function(t){var l=t[0],o=t[1],e=t[2],n=t[3],s=t[4],a=t[5],i=t[6],r=t[7],d=t[8],f=t[9],h=t[10],p=t[11],T=t[12],w=t[13],x=t[14],m=t[15];return(l*a-o*s)*(h*m-p*x)-(l*i-e*s)*(f*m-p*w)+(l*r-n*s)*(f*x-h*w)+(o*i-e*a)*(d*m-p*T)-(o*r-n*a)*(d*x-h*T)+(e*r-n*i)*(d*w-f*T)}},{}],23:[function(c,tt,B){tt.exports=function(t,l){var o=l[0],e=l[1],n=l[2],s=l[3],a=o+o,i=e+e,r=n+n,d=o*a,f=e*a,h=e*i,p=n*a,T=n*i,w=n*r,x=s*a,m=s*i,y=s*r;return t[0]=1-h-w,t[1]=f+y,t[2]=p-m,t[3]=0,t[4]=f-y,t[5]=1-d-w,t[6]=T+x,t[7]=0,t[8]=p+m,t[9]=T-x,t[10]=1-d-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],24:[function(c,tt,B){tt.exports=function(t,l,o){var e,n,s,a=o[0],i=o[1],r=o[2],d=Math.sqrt(a*a+i*i+r*r);return Math.abs(d)<1e-6?null:(a*=d=1/d,i*=d,r*=d,e=Math.sin(l),n=Math.cos(l),t[0]=a*a*(s=1-n)+n,t[1]=i*a*s+r*e,t[2]=r*a*s-i*e,t[3]=0,t[4]=a*i*s-r*e,t[5]=i*i*s+n,t[6]=r*i*s+a*e,t[7]=0,t[8]=a*r*s+i*e,t[9]=i*r*s-a*e,t[10]=r*r*s+n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}},{}],25:[function(c,tt,B){tt.exports=function(t,l,o){var e=l[0],n=l[1],s=l[2],a=l[3],i=e+e,r=n+n,d=s+s,f=e*i,h=e*r,p=e*d,T=n*r,w=n*d,x=s*d,m=a*i,y=a*r,A=a*d;return t[0]=1-(T+x),t[1]=h+A,t[2]=p-y,t[3]=0,t[4]=h-A,t[5]=1-(f+x),t[6]=w+m,t[7]=0,t[8]=p+y,t[9]=w-m,t[10]=1-(f+T),t[11]=0,t[12]=o[0],t[13]=o[1],t[14]=o[2],t[15]=1,t}},{}],26:[function(c,tt,B){tt.exports=function(t,l){return t[0]=l[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=l[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],27:[function(c,tt,B){tt.exports=function(t,l){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=l[0],t[13]=l[1],t[14]=l[2],t[15]=1,t}},{}],28:[function(c,tt,B){tt.exports=function(t,l){var o=Math.sin(l),e=Math.cos(l);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=o,t[7]=0,t[8]=0,t[9]=-o,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],29:[function(c,tt,B){tt.exports=function(t,l){var o=Math.sin(l),e=Math.cos(l);return t[0]=e,t[1]=0,t[2]=-o,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=o,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],30:[function(c,tt,B){tt.exports=function(t,l){var o=Math.sin(l),e=Math.cos(l);return t[0]=e,t[1]=o,t[2]=0,t[3]=0,t[4]=-o,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],31:[function(c,tt,B){tt.exports=function(t,l,o,e,n,s,a){var i=1/(o-l),r=1/(n-e),d=1/(s-a);return t[0]=2*s*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*r,t[6]=0,t[7]=0,t[8]=(o+l)*i,t[9]=(n+e)*r,t[10]=(a+s)*d,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*s*2*d,t[15]=0,t}},{}],32:[function(c,tt,B){tt.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],33:[function(c,tt,B){tt.exports={create:c("./create"),clone:c("./clone"),copy:c("./copy"),identity:c("./identity"),transpose:c("./transpose"),invert:c("./invert"),adjoint:c("./adjoint"),determinant:c("./determinant"),multiply:c("./multiply"),translate:c("./translate"),scale:c("./scale"),rotate:c("./rotate"),rotateX:c("./rotateX"),rotateY:c("./rotateY"),rotateZ:c("./rotateZ"),fromRotation:c("./fromRotation"),fromRotationTranslation:c("./fromRotationTranslation"),fromScaling:c("./fromScaling"),fromTranslation:c("./fromTranslation"),fromXRotation:c("./fromXRotation"),fromYRotation:c("./fromYRotation"),fromZRotation:c("./fromZRotation"),fromQuat:c("./fromQuat"),frustum:c("./frustum"),perspective:c("./perspective"),perspectiveFromFieldOfView:c("./perspectiveFromFieldOfView"),ortho:c("./ortho"),lookAt:c("./lookAt"),str:c("./str")}},{"./adjoint":18,"./clone":19,"./copy":20,"./create":21,"./determinant":22,"./fromQuat":23,"./fromRotation":24,"./fromRotationTranslation":25,"./fromScaling":26,"./fromTranslation":27,"./fromXRotation":28,"./fromYRotation":29,"./fromZRotation":30,"./frustum":31,"./identity":32,"./invert":34,"./lookAt":35,"./multiply":36,"./ortho":37,"./perspective":38,"./perspectiveFromFieldOfView":39,"./rotate":40,"./rotateX":41,"./rotateY":42,"./rotateZ":43,"./scale":44,"./str":45,"./translate":46,"./transpose":47}],34:[function(c,tt,B){tt.exports=function(t,l){var o=l[0],e=l[1],n=l[2],s=l[3],a=l[4],i=l[5],r=l[6],d=l[7],f=l[8],h=l[9],p=l[10],T=l[11],w=l[12],x=l[13],m=l[14],y=l[15],A=o*i-e*a,b=o*r-n*a,k=o*d-s*a,L=e*r-n*i,g=e*d-s*i,S=n*d-s*r,E=f*x-h*w,v=f*m-p*w,F=f*y-T*w,N=h*m-p*x,z=h*y-T*x,U=p*y-T*m,Y=A*U-b*z+k*N+L*F-g*v+S*E;return Y?(t[0]=(i*U-r*z+d*N)*(Y=1/Y),t[1]=(n*z-e*U-s*N)*Y,t[2]=(x*S-m*g+y*L)*Y,t[3]=(p*g-h*S-T*L)*Y,t[4]=(r*F-a*U-d*v)*Y,t[5]=(o*U-n*F+s*v)*Y,t[6]=(m*k-w*S-y*b)*Y,t[7]=(f*S-p*k+T*b)*Y,t[8]=(a*z-i*F+d*E)*Y,t[9]=(e*F-o*z-s*E)*Y,t[10]=(w*g-x*k+y*A)*Y,t[11]=(h*k-f*g-T*A)*Y,t[12]=(i*v-a*N-r*E)*Y,t[13]=(o*N-e*v+n*E)*Y,t[14]=(x*b-w*L-m*A)*Y,t[15]=(f*L-h*b+p*A)*Y,t):null}},{}],35:[function(c,tt,B){var t=c("./identity");tt.exports=function(l,o,e,n){var s,a,i,r,d,f,h,p,T,w,x=o[0],m=o[1],y=o[2],A=n[0],b=n[1],k=n[2],L=e[0],g=e[1],S=e[2];return Math.abs(x-L)<1e-6&&Math.abs(m-g)<1e-6&&Math.abs(y-S)<1e-6?t(l):(h=x-L,p=m-g,T=y-S,s=b*(T*=w=1/Math.sqrt(h*h+p*p+T*T))-k*(p*=w),a=k*(h*=w)-A*T,i=A*p-b*h,(w=Math.sqrt(s*s+a*a+i*i))?(s*=w=1/w,a*=w,i*=w):(s=0,a=0,i=0),r=p*i-T*a,d=T*s-h*i,f=h*a-p*s,(w=Math.sqrt(r*r+d*d+f*f))?(r*=w=1/w,d*=w,f*=w):(r=0,d=0,f=0),l[0]=s,l[1]=r,l[2]=h,l[3]=0,l[4]=a,l[5]=d,l[6]=p,l[7]=0,l[8]=i,l[9]=f,l[10]=T,l[11]=0,l[12]=-(s*x+a*m+i*y),l[13]=-(r*x+d*m+f*y),l[14]=-(h*x+p*m+T*y),l[15]=1,l)}},{"./identity":32}],36:[function(c,tt,B){tt.exports=function(t,l,o){var e=l[0],n=l[1],s=l[2],a=l[3],i=l[4],r=l[5],d=l[6],f=l[7],h=l[8],p=l[9],T=l[10],w=l[11],x=l[12],m=l[13],y=l[14],A=l[15],b=o[0],k=o[1],L=o[2],g=o[3];return t[0]=b*e+k*i+L*h+g*x,t[1]=b*n+k*r+L*p+g*m,t[2]=b*s+k*d+L*T+g*y,t[3]=b*a+k*f+L*w+g*A,t[4]=(b=o[4])*e+(k=o[5])*i+(L=o[6])*h+(g=o[7])*x,t[5]=b*n+k*r+L*p+g*m,t[6]=b*s+k*d+L*T+g*y,t[7]=b*a+k*f+L*w+g*A,t[8]=(b=o[8])*e+(k=o[9])*i+(L=o[10])*h+(g=o[11])*x,t[9]=b*n+k*r+L*p+g*m,t[10]=b*s+k*d+L*T+g*y,t[11]=b*a+k*f+L*w+g*A,t[12]=(b=o[12])*e+(k=o[13])*i+(L=o[14])*h+(g=o[15])*x,t[13]=b*n+k*r+L*p+g*m,t[14]=b*s+k*d+L*T+g*y,t[15]=b*a+k*f+L*w+g*A,t}},{}],37:[function(c,tt,B){tt.exports=function(t,l,o,e,n,s,a){var i=1/(l-o),r=1/(e-n),d=1/(s-a);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*d,t[11]=0,t[12]=(l+o)*i,t[13]=(n+e)*r,t[14]=(a+s)*d,t[15]=1,t}},{}],38:[function(c,tt,B){tt.exports=function(t,l,o,e,n){var s=1/Math.tan(l/2),a=1/(e-n);return t[0]=s/o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(n+e)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*n*e*a,t[15]=0,t}},{}],39:[function(c,tt,B){tt.exports=function(t,l,o,e){var n=Math.tan(l.upDegrees*Math.PI/180),s=Math.tan(l.downDegrees*Math.PI/180),a=Math.tan(l.leftDegrees*Math.PI/180),i=Math.tan(l.rightDegrees*Math.PI/180),r=2/(a+i),d=2/(n+s);return t[0]=r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=d,t[6]=0,t[7]=0,t[8]=-(a-i)*r*.5,t[9]=(n-s)*d*.5,t[10]=e/(o-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*o/(o-e),t[15]=0,t}},{}],40:[function(c,tt,B){tt.exports=function(t,l,o,e){var n,s,a,i,r,d,f,h,p,T,w,x,m,y,A,b,k,L,g,S,E,v,F,N,z=e[0],U=e[1],Y=e[2],$=Math.sqrt(z*z+U*U+Y*Y);return Math.abs($)<1e-6?null:(z*=$=1/$,U*=$,Y*=$,n=Math.sin(o),s=Math.cos(o),r=l[1],d=l[2],f=l[3],p=l[5],T=l[6],w=l[7],m=l[9],y=l[10],A=l[11],g=z*U*(a=1-s)-Y*n,S=U*U*a+s,E=Y*U*a+z*n,v=z*Y*a+U*n,F=U*Y*a-z*n,N=Y*Y*a+s,t[0]=(i=l[0])*(b=z*z*a+s)+(h=l[4])*(k=U*z*a+Y*n)+(x=l[8])*(L=Y*z*a-U*n),t[1]=r*b+p*k+m*L,t[2]=d*b+T*k+y*L,t[3]=f*b+w*k+A*L,t[4]=i*g+h*S+x*E,t[5]=r*g+p*S+m*E,t[6]=d*g+T*S+y*E,t[7]=f*g+w*S+A*E,t[8]=i*v+h*F+x*N,t[9]=r*v+p*F+m*N,t[10]=d*v+T*F+y*N,t[11]=f*v+w*F+A*N,l!==t&&(t[12]=l[12],t[13]=l[13],t[14]=l[14],t[15]=l[15]),t)}},{}],41:[function(c,tt,B){tt.exports=function(t,l,o){var e=Math.sin(o),n=Math.cos(o),s=l[4],a=l[5],i=l[6],r=l[7],d=l[8],f=l[9],h=l[10],p=l[11];return l!==t&&(t[0]=l[0],t[1]=l[1],t[2]=l[2],t[3]=l[3],t[12]=l[12],t[13]=l[13],t[14]=l[14],t[15]=l[15]),t[4]=s*n+d*e,t[5]=a*n+f*e,t[6]=i*n+h*e,t[7]=r*n+p*e,t[8]=d*n-s*e,t[9]=f*n-a*e,t[10]=h*n-i*e,t[11]=p*n-r*e,t}},{}],42:[function(c,tt,B){tt.exports=function(t,l,o){var e=Math.sin(o),n=Math.cos(o),s=l[0],a=l[1],i=l[2],r=l[3],d=l[8],f=l[9],h=l[10],p=l[11];return l!==t&&(t[4]=l[4],t[5]=l[5],t[6]=l[6],t[7]=l[7],t[12]=l[12],t[13]=l[13],t[14]=l[14],t[15]=l[15]),t[0]=s*n-d*e,t[1]=a*n-f*e,t[2]=i*n-h*e,t[3]=r*n-p*e,t[8]=s*e+d*n,t[9]=a*e+f*n,t[10]=i*e+h*n,t[11]=r*e+p*n,t}},{}],43:[function(c,tt,B){tt.exports=function(t,l,o){var e=Math.sin(o),n=Math.cos(o),s=l[0],a=l[1],i=l[2],r=l[3],d=l[4],f=l[5],h=l[6],p=l[7];return l!==t&&(t[8]=l[8],t[9]=l[9],t[10]=l[10],t[11]=l[11],t[12]=l[12],t[13]=l[13],t[14]=l[14],t[15]=l[15]),t[0]=s*n+d*e,t[1]=a*n+f*e,t[2]=i*n+h*e,t[3]=r*n+p*e,t[4]=d*n-s*e,t[5]=f*n-a*e,t[6]=h*n-i*e,t[7]=p*n-r*e,t}},{}],44:[function(c,tt,B){tt.exports=function(t,l,o){var e=o[0],n=o[1],s=o[2];return t[0]=l[0]*e,t[1]=l[1]*e,t[2]=l[2]*e,t[3]=l[3]*e,t[4]=l[4]*n,t[5]=l[5]*n,t[6]=l[6]*n,t[7]=l[7]*n,t[8]=l[8]*s,t[9]=l[9]*s,t[10]=l[10]*s,t[11]=l[11]*s,t[12]=l[12],t[13]=l[13],t[14]=l[14],t[15]=l[15],t}},{}],45:[function(c,tt,B){tt.exports=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},{}],46:[function(c,tt,B){tt.exports=function(t,l,o){var e,n,s,a,i,r,d,f,h,p,T,w,x=o[0],m=o[1],y=o[2];return l===t?(t[12]=l[0]*x+l[4]*m+l[8]*y+l[12],t[13]=l[1]*x+l[5]*m+l[9]*y+l[13],t[14]=l[2]*x+l[6]*m+l[10]*y+l[14],t[15]=l[3]*x+l[7]*m+l[11]*y+l[15]):(n=l[1],s=l[2],a=l[3],i=l[4],r=l[5],d=l[6],f=l[7],h=l[8],p=l[9],T=l[10],w=l[11],t[0]=e=l[0],t[1]=n,t[2]=s,t[3]=a,t[4]=i,t[5]=r,t[6]=d,t[7]=f,t[8]=h,t[9]=p,t[10]=T,t[11]=w,t[12]=e*x+i*m+h*y+l[12],t[13]=n*x+r*m+p*y+l[13],t[14]=s*x+d*m+T*y+l[14],t[15]=a*x+f*m+w*y+l[15]),t}},{}],47:[function(c,tt,B){tt.exports=function(t,l){if(t===l){var o=l[1],e=l[2],n=l[3],s=l[6],a=l[7],i=l[11];t[1]=l[4],t[2]=l[8],t[3]=l[12],t[4]=o,t[6]=l[9],t[7]=l[13],t[8]=e,t[9]=s,t[11]=l[14],t[12]=n,t[13]=a,t[14]=i}else t[0]=l[0],t[1]=l[4],t[2]=l[8],t[3]=l[12],t[4]=l[1],t[5]=l[5],t[6]=l[9],t[7]=l[13],t[8]=l[2],t[9]=l[6],t[10]=l[10],t[11]=l[14],t[12]=l[3],t[13]=l[7],t[14]=l[11],t[15]=l[15];return t}},{}],48:[function(c,tt,B){(function(t){(function(){"use strict";var l,o=c("is-browser");l="function"==typeof t.matchMedia?!t.matchMedia("(hover: none)").matches:o,tt.exports=l}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"is-browser":50}],49:[function(c,tt,B){"use strict";var t=c("is-browser");tt.exports=t&&function(){var l=!1;try{var o=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("test",null,o),window.removeEventListener("test",null,o)}catch(e){l=!1}return l}()},{"is-browser":50}],50:[function(c,tt,B){tt.exports=!0},{}],51:[function(c,tt,B){"use strict";tt.exports=o,tt.exports.isMobile=o,tt.exports.default=o;var t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function o(e){e||(e={});var n=e.ua;if(n||"undefined"==typeof navigator||(n=navigator.userAgent),n&&n.headers&&"string"==typeof n.headers["user-agent"]&&(n=n.headers["user-agent"]),"string"!=typeof n)return!1;var s=e.tablet?l.test(n):t.test(n);return!s&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==n.indexOf("Macintosh")&&-1!==n.indexOf("Safari")&&(s=!0),s}},{}],52:[function(c,tt,B){"use strict";tt.exports=function(t){for(var l,o=t.length,e=0;e<o;e++)if(((l=t.charCodeAt(e))<9||l>13)&&32!==l&&133!==l&&160!==l&&5760!==l&&6158!==l&&(l<8192||l>8205)&&8232!==l&&8233!==l&&8239!==l&&8287!==l&&8288!==l&&12288!==l&&65279!==l)return!1;return!0}},{}],53:[function(c,tt,B){var t={left:0,top:0};tt.exports=function(l,o,e){o=o||l.currentTarget||l.srcElement,Array.isArray(e)||(e=[0,0]);var i,n=l.clientX||0,s=l.clientY||0,a=(i=o)===window||i===document||i===document.body?t:i.getBoundingClientRect();return e[0]=n-a.left,e[1]=s-a.top,e}},{}],54:[function(c,tt,B){(function(t,l){(function(){var o,e,n;n=function(){"use strict";var s,a,i,r=Object.prototype.toString,d=void 0!==l?function(L){return l(L)}:setTimeout;try{Object.defineProperty({},"x",{}),s=function(L,g,S,E){return Object.defineProperty(L,g,{value:S,writable:!0,configurable:!1!==E})}}catch(L){s=function(g,S,E){return g[S]=E,g}}function f(L,g){i.add(L,g),a||(a=d(i.drain))}function h(L){var g,S=typeof L;return null==L||"object"!=S&&"function"!=S||(g=L.then),"function"==typeof g&&g}function p(){for(var L=0;L<this.chain.length;L++)T(this,1===this.state?this.chain[L].success:this.chain[L].failure,this.chain[L]);this.chain.length=0}function T(L,g,S){var E,v;try{!1===g?S.reject(L.msg):(E=!0===g?L.msg:g.call(void 0,L.msg))===S.promise?S.reject(TypeError("Promise-chain cycle")):(v=h(E))?v.call(E,S.resolve,S.reject):S.resolve(E)}catch(F){S.reject(F)}}function w(L){var g,S=this;if(!S.triggered){S.triggered=!0,S.def&&(S=S.def);try{(g=h(L))?f(function(){var E=new y(S);try{g.call(L,function(){w.apply(E,arguments)},function(){x.apply(E,arguments)})}catch(v){x.call(E,v)}}):(S.msg=L,S.state=1,S.chain.length>0&&f(p,S))}catch(E){x.call(new y(S),E)}}}function x(L){var g=this;g.triggered||(g.triggered=!0,g.def&&(g=g.def),g.msg=L,g.state=2,g.chain.length>0&&f(p,g))}function m(L,g,S,E){for(var v=0;v<g.length;v++)!function(F){L.resolve(g[F]).then(function(N){S(F,N)},E)}(v)}function y(L){this.def=L,this.triggered=!1}function A(L){this.promise=L,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function b(L){if("function"!=typeof L)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var g=new A(this);this.then=function(S,E){var v={success:"function"!=typeof S||S,failure:"function"==typeof E&&E};return v.promise=new this.constructor(function(F,N){if("function"!=typeof F||"function"!=typeof N)throw TypeError("Not a function");v.resolve=F,v.reject=N}),g.chain.push(v),0!==g.state&&f(p,g),v.promise},this.catch=function(S){return this.then(void 0,S)};try{L.call(void 0,function(S){w.call(g,S)},function(S){x.call(g,S)})}catch(S){x.call(g,S)}}i=function(){var L,g,S;function E(v,F){this.fn=v,this.self=F,this.next=void 0}return{add:function(v,F){S=new E(v,F),g?g.next=S:L=S,g=S,S=void 0},drain:function(){var v=L;for(L=g=a=void 0;v;)v.fn.call(v.self),v=v.next}}}();var k=s({},"constructor",b,!1);return b.prototype=k,s(k,"__NPO__",0,!1),s(b,"resolve",function(L){return L&&"object"==typeof L&&1===L.__NPO__?L:new this(function(g,S){if("function"!=typeof g||"function"!=typeof S)throw TypeError("Not a function");g(L)})}),s(b,"reject",function(L){return new this(function(g,S){if("function"!=typeof g||"function"!=typeof S)throw TypeError("Not a function");S(L)})}),s(b,"all",function(L){var g=this;return"[object Array]"!=r.call(L)?g.reject(TypeError("Not an array")):0===L.length?g.resolve([]):new g(function(S,E){if("function"!=typeof S||"function"!=typeof E)throw TypeError("Not a function");var v=L.length,F=Array(v),N=0;m(g,L,function(z,U){F[z]=U,++N===v&&S(F)},E)})}),s(b,"race",function(L){var g=this;return"[object Array]"!=r.call(L)?g.reject(TypeError("Not an array")):new g(function(S,E){if("function"!=typeof S||"function"!=typeof E)throw TypeError("Not a function");m(g,L,function(v,F){S(F)},E)})}),b},(e=void 0!==t?t:this)[o="Promise"]=e[o]||n(),void 0!==tt&&tt.exports&&(tt.exports=e[o])}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},c("timers").setImmediate)},{timers:66}],55:[function(c,tt,B){"use strict";var t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function e(n){if(null==n)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}tt.exports=function(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de","5"===Object.getOwnPropertyNames(n)[0])return!1;for(var s={},a=0;a<10;a++)s["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(s).map(function(r){return s[r]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(r){i[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(n,s){for(var a,i,r=e(n),d=1;d<arguments.length;d++){for(var f in a=Object(arguments[d]))l.call(a,f)&&(r[f]=a[f]);if(t){i=t(a);for(var h=0;h<i.length;h++)o.call(a,i[h])&&(r[i[h]]=a[i[h]])}}return r}},{}],56:[function(c,tt,B){tt.exports=function(e){var n=[];return e.replace(l,function(s,a,i){var f,r=a.toLowerCase();for(f=void 0,i=(f=i.match(o))?f.map(Number):[],"m"==r&&i.length>2&&(n.push([a].concat(i.splice(0,2))),r="l",a="m"==a?"l":"L");;){if(i.length==t[r])return i.unshift(a),n.push(i);if(i.length<t[r])throw new Error("malformed path data");n.push([a].concat(i.splice(0,t[r])))}}),n};var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},l=/([astvzqmhlc])([^astvzqmhlc]*)/gi,o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},{}],57:[function(c,tt,B){var t,l=c("./lib/build-log"),o=c("./lib/epsilon"),e=c("./lib/intersecter"),n=c("./lib/segment-chainer"),s=c("./lib/segment-selector"),a=c("./lib/geojson"),i=!1,r=o();function d(f,h,p){var T=t.segments(f),w=t.segments(h),x=p(t.combine(T,w));return t.polygon(x)}t={buildLog:function(f){return!0===f?i=l():!1===f&&(i=!1),!1!==i&&i.list},epsilon:function(f){return r.epsilon(f)},segments:function(f){var h=e(!0,r,i);return f.regions.forEach(h.addRegion),{segments:h.calculate(f.inverted),inverted:f.inverted}},combine:function(f,h){return{combined:e(!1,r,i).calculate(f.segments,f.inverted,h.segments,h.inverted),inverted1:f.inverted,inverted2:h.inverted}},selectUnion:function(f){return{segments:s.union(f.combined,i),inverted:f.inverted1||f.inverted2}},selectIntersect:function(f){return{segments:s.intersect(f.combined,i),inverted:f.inverted1&&f.inverted2}},selectDifference:function(f){return{segments:s.difference(f.combined,i),inverted:f.inverted1&&!f.inverted2}},selectDifferenceRev:function(f){return{segments:s.differenceRev(f.combined,i),inverted:!f.inverted1&&f.inverted2}},selectXor:function(f){return{segments:s.xor(f.combined,i),inverted:f.inverted1!==f.inverted2}},polygon:function(f){return{regions:n(f.segments,r,i),inverted:f.inverted}},polygonFromGeoJSON:function(f){return a.toPolygon(t,f)},polygonToGeoJSON:function(f){return a.fromPolygon(t,r,f)},union:function(f,h){return d(f,h,t.selectUnion)},intersect:function(f,h){return d(f,h,t.selectIntersect)},difference:function(f,h){return d(f,h,t.selectDifference)},differenceRev:function(f,h){return d(f,h,t.selectDifferenceRev)},xor:function(f,h){return d(f,h,t.selectXor)}},"object"==typeof window&&(window.PolyBool=t),tt.exports=t},{"./lib/build-log":58,"./lib/epsilon":59,"./lib/geojson":60,"./lib/intersecter":61,"./lib/segment-chainer":63,"./lib/segment-selector":64}],58:[function(c,tt,B){tt.exports=function(){var t,l=0,o=!1;function e(n,s){return t.list.push({type:n,data:s?JSON.parse(JSON.stringify(s)):void 0}),t}return t={list:[],segmentId:function(){return l++},checkIntersection:function(n,s){return e("check",{seg1:n,seg2:s})},segmentChop:function(n,s){return e("div_seg",{seg:n,pt:s}),e("chop",{seg:n,pt:s})},statusRemove:function(n){return e("pop_seg",{seg:n})},segmentUpdate:function(n){return e("seg_update",{seg:n})},segmentNew:function(n,s){return e("new_seg",{seg:n,primary:s})},segmentRemove:function(n){return e("rem_seg",{seg:n})},tempStatus:function(n,s,a){return e("temp_status",{seg:n,above:s,below:a})},rewind:function(n){return e("rewind",{seg:n})},status:function(n,s,a){return e("status",{seg:n,above:s,below:a})},vert:function(n){return n===o?t:(o=n,e("vert",{x:n}))},log:function(n){return"string"!=typeof n&&(n=JSON.stringify(n,!1,"  ")),e("log",{txt:n})},reset:function(){return e("reset")},selected:function(n){return e("selected",{segs:n})},chainStart:function(n){return e("chain_start",{seg:n})},chainRemoveHead:function(n,s){return e("chain_rem_head",{index:n,pt:s})},chainRemoveTail:function(n,s){return e("chain_rem_tail",{index:n,pt:s})},chainNew:function(n,s){return e("chain_new",{pt1:n,pt2:s})},chainMatch:function(n){return e("chain_match",{index:n})},chainClose:function(n){return e("chain_close",{index:n})},chainAddHead:function(n,s){return e("chain_add_head",{index:n,pt:s})},chainAddTail:function(n,s){return e("chain_add_tail",{index:n,pt:s})},chainConnect:function(n,s){return e("chain_con",{index1:n,index2:s})},chainReverse:function(n){return e("chain_rev",{index:n})},chainJoin:function(n,s){return e("chain_join",{index1:n,index2:s})},done:function(){return e("done")}}}},{}],59:[function(c,tt,B){tt.exports=function(t){"number"!=typeof t&&(t=1e-10);var l={epsilon:function(o){return"number"==typeof o&&(t=o),t},pointAboveOrOnLine:function(o,e,n){var s=e[0],a=e[1];return(n[0]-s)*(o[1]-a)-(n[1]-a)*(o[0]-s)>=-t},pointBetween:function(o,e,n){var a=n[0]-e[0],r=n[1]-e[1],d=(o[0]-e[0])*a+(o[1]-e[1])*r;return!(d<t||d-(a*a+r*r)>-t)},pointsSameX:function(o,e){return Math.abs(o[0]-e[0])<t},pointsSameY:function(o,e){return Math.abs(o[1]-e[1])<t},pointsSame:function(o,e){return l.pointsSameX(o,e)&&l.pointsSameY(o,e)},pointsCompare:function(o,e){return l.pointsSameX(o,e)?l.pointsSameY(o,e)?0:o[1]<e[1]?-1:1:o[0]<e[0]?-1:1},pointsCollinear:function(o,e,n){return Math.abs((o[0]-e[0])*(e[1]-n[1])-(e[0]-n[0])*(o[1]-e[1]))<t},linesIntersect:function(o,e,n,s){var a=e[0]-o[0],i=e[1]-o[1],r=s[0]-n[0],d=s[1]-n[1],f=a*d-i*r;if(Math.abs(f)<t)return!1;var h=o[0]-n[0],p=o[1]-n[1],T=(r*p-d*h)/f,w=(a*p-i*h)/f,x={alongA:0,alongB:0,pt:[o[0]+T*a,o[1]+T*i]};return x.alongA=T<=-t?-2:T<t?-1:T-1<=-t?0:T-1<t?1:2,x.alongB=w<=-t?-2:w<t?-1:w-1<=-t?0:w-1<t?1:2,x},pointInsideRegion:function(o,e){for(var n=o[0],s=o[1],a=e[e.length-1][0],i=e[e.length-1][1],r=!1,d=0;d<e.length;d++){var f=e[d][0],h=e[d][1];h-s>t!=i-s>t&&(a-f)*(s-h)/(i-h)+f-n>t&&(r=!r),a=f,i=h}return r}};return l}},{}],60:[function(c,tt,B){tt.exports={toPolygon:function(l,o){function e(a){if(a.length<=0)return l.segments({inverted:!1,regions:[]});function i(f){var h=f.slice(0,f.length-1);return l.segments({inverted:!1,regions:[h]})}for(var r=i(a[0]),d=1;d<a.length;d++)r=l.selectDifference(l.combine(r,i(a[d])));return r}if("Polygon"===o.type)return l.polygon(e(o.coordinates));if("MultiPolygon"===o.type){for(var n=l.segments({inverted:!1,regions:[]}),s=0;s<o.coordinates.length;s++)n=l.selectUnion(l.combine(n,e(o.coordinates[s])));return l.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(l,o,e){function n(w,x){return o.pointInsideRegion([.5*(w[0][0]+w[1][0]),.5*(w[0][1]+w[1][1])],x)}function s(w){return{region:w,children:[]}}e=l.polygon(l.segments(e));var a=s(null);function i(w,x){for(var m=0;m<w.children.length;m++)if(n(x,(A=w.children[m]).region))return void i(A,x);var y=s(x);for(m=0;m<w.children.length;m++){var A;n((A=w.children[m]).region,x)&&(y.children.push(A),w.children.splice(m,1),m--)}w.children.push(y)}for(var r=0;r<e.regions.length;r++){var d=e.regions[r];d.length<3||i(a,d)}function f(w,x){for(var m=0,y=w[w.length-1][0],A=w[w.length-1][1],b=[],k=0;k<w.length;k++){var L=w[k][0],g=w[k][1];b.push([L,g]),m+=g*y-L*A,y=L,A=g}return m<0!==x&&b.reverse(),b.push([b[0][0],b[0][1]]),b}var h=[];function p(w){var x=[f(w.region,!1)];h.push(x);for(var m=0;m<w.children.length;m++)x.push(T(w.children[m]))}function T(w){for(var x=0;x<w.children.length;x++)p(w.children[x]);return f(w.region,!0)}for(r=0;r<a.children.length;r++)p(a.children[r]);return h.length<=0?{type:"Polygon",coordinates:[]}:1==h.length?{type:"Polygon",coordinates:h[0]}:{type:"MultiPolygon",coordinates:h}}}},{}],61:[function(c,tt,B){var t=c("./linked-list");tt.exports=function(l,o,e){function n(f,h,p){return{id:e?e.segmentId():-1,start:f,end:h,myFill:{above:p.myFill.above,below:p.myFill.below},otherFill:null}}var s=t.create();function a(f,h){s.insertBefore(f,function(p){return T=f.isStart,x=h,m=p.isStart,A=p.other.pt,(0!==(b=o.pointsCompare(f.pt,y=p.pt))?b:o.pointsSame(x,A)?0:T!==m?T?1:-1:o.pointAboveOrOnLine(x,m?y:A,m?A:y)?1:-1)<0;var T,x,m,y,A,b})}function i(f,h){var T,x,p=(a(x=t.node({isStart:!0,pt:(T=f).start,seg:T,primary:h,other:null,status:null}),T.end),x);return function(T,w,x){var m=t.node({isStart:!1,pt:w.end,seg:w,primary:x,other:T,status:null});T.other=m,a(m,T.pt)}(p,f,h),p}function r(f,h){var T,w,p=n(h,f.seg.end,f.seg);return T=f,w=h,e&&e.segmentChop(T.seg,w),T.other.remove(),T.seg.end=w,T.other.pt=w,a(T.other,T.pt),i(p,f.primary)}function d(f,h){var p=t.create();function T(F){return p.findTransition(function(N){var z,U,Y,$,ot,G;return $=(z=F).seg.end,(o.pointsCollinear(Y=z.seg.start,ot=(U=N.ev).seg.start,G=U.seg.end)?o.pointsCollinear($,ot,G)||o.pointAboveOrOnLine($,ot,G)?1:-1:o.pointAboveOrOnLine(Y,ot,G)?1:-1)>0})}function w(F,N){var z=F.seg,U=N.seg,Y=z.start,$=z.end,ot=U.start,G=U.end;e&&e.checkIntersection(z,U);var R=o.linesIntersect(Y,$,ot,G);if(!1===R){if(!o.pointsCollinear(Y,$,ot)||o.pointsSame(Y,G)||o.pointsSame($,ot))return!1;var j=o.pointsSame(Y,ot),P=o.pointsSame($,G);if(j&&P)return N;var I=!j&&o.pointBetween(Y,ot,G),Z=!P&&o.pointBetween($,ot,G);if(j)return Z?r(N,$):r(F,G),N;I&&(P||(Z?r(N,$):r(F,G)),r(N,Y))}else 0===R.alongA&&(-1===R.alongB?r(F,ot):0===R.alongB?r(F,R.pt):1===R.alongB&&r(F,G)),0===R.alongB&&(-1===R.alongA?r(N,Y):0===R.alongA?r(N,R.pt):1===R.alongA&&r(N,$));return!1}for(var x=[];!s.isEmpty();){var m=s.getHead();if(e&&e.vert(m.pt[0]),m.isStart){let F=function(){if(A){var N=w(m,A);if(N)return N}return!!b&&w(m,b)};e&&e.segmentNew(m.seg,m.primary);var y=T(m),A=y.before?y.before.ev:null,b=y.after?y.after.ev:null;e&&e.tempStatus(m.seg,!!A&&A.seg,!!b&&b.seg);var k,g,L=F();if(L&&(l?(g=null===m.seg.myFill.below||m.seg.myFill.above!==m.seg.myFill.below)&&(L.seg.myFill.above=!L.seg.myFill.above):L.seg.otherFill=m.seg.myFill,e&&e.segmentUpdate(L.seg),m.other.remove(),m.remove()),s.getHead()!==m){e&&e.rewind(m.seg);continue}l?(g=null===m.seg.myFill.below||m.seg.myFill.above!==m.seg.myFill.below,m.seg.myFill.below=b?b.seg.myFill.above:f,m.seg.myFill.above=g?!m.seg.myFill.below:m.seg.myFill.below):null===m.seg.otherFill&&(m.seg.otherFill={above:k=b?m.primary===b.primary?b.seg.otherFill.above:b.seg.myFill.above:m.primary?h:f,below:k}),e&&e.status(m.seg,!!A&&A.seg,!!b&&b.seg),m.other.status=y.insert(t.node({ev:m}))}else{var S=m.status;if(null===S)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(p.exists(S.prev)&&p.exists(S.next)&&w(S.prev.ev,S.next.ev),e&&e.statusRemove(S.ev.seg),S.remove(),!m.primary){var E=m.seg.myFill;m.seg.myFill=m.seg.otherFill,m.seg.otherFill=E}x.push(m.seg)}s.getHead().remove()}return e&&e.done(),x}return l?{addRegion:function(f){for(var h,p,T,w=f[f.length-1],x=0;x<f.length;x++){var m=o.pointsCompare(h=w,w=f[x]);0!==m&&i((p=m<0?h:w,T=m<0?w:h,{id:e?e.segmentId():-1,start:p,end:T,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(f){return d(f,!1)}}:{calculate:function(f,h,p,T){return f.forEach(function(w){i(n(w.start,w.end,w),!0)}),p.forEach(function(w){i(n(w.start,w.end,w),!1)}),d(h,T)}}}},{"./linked-list":62}],62:[function(c,tt,B){tt.exports={create:function(){var t={root:{root:!0,next:null},exists:function(l){return null!==l&&l!==t.root},isEmpty:function(){return null===t.root.next},getHead:function(){return t.root.next},insertBefore:function(l,o){for(var e=t.root,n=t.root.next;null!==n;){if(o(n))return l.prev=n.prev,l.next=n,n.prev.next=l,void(n.prev=l);e=n,n=n.next}e.next=l,l.prev=e,l.next=null},findTransition:function(l){for(var o=t.root,e=t.root.next;null!==e&&!l(e);)o=e,e=e.next;return{before:o===t.root?null:o,after:e,insert:function(n){return n.prev=o,n.next=e,o.next=n,null!==e&&(e.prev=n),n}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}}},{}],63:[function(c,tt,B){tt.exports=function(t,l,o){var e=[],n=[];return t.forEach(function(s){var a=s.start,i=s.end;if(l.pointsSame(a,i))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{o&&o.chainStart(s);for(var r={index:0,matches_head:!1,matches_pt1:!1},d={index:0,matches_head:!1,matches_pt1:!1},f=r,h=0;h<e.length;h++){var p=(y=e[h])[0],T=y[y.length-1];if(l.pointsSame(p,a)){if(v(h,!0,!0))break}else if(l.pointsSame(p,i)){if(v(h,!0,!1))break}else if(l.pointsSame(T,a)){if(v(h,!1,!0))break}else if(l.pointsSame(T,i)&&v(h,!1,!1))break}if(f===r)return e.push([a,i]),void(o&&o.chainNew(a,i));if(f===d){o&&o.chainMatch(r.index);var w=r.index,x=r.matches_pt1?i:a,m=r.matches_head,y=e[w],A=m?y[0]:y[y.length-1],b=m?y[1]:y[y.length-2],k=m?y[y.length-1]:y[0],L=m?y[y.length-2]:y[1];return l.pointsCollinear(b,A,x)&&(m?(o&&o.chainRemoveHead(r.index,x),y.shift()):(o&&o.chainRemoveTail(r.index,x),y.pop()),A=b),l.pointsSame(k,x)?(e.splice(w,1),l.pointsCollinear(L,k,A)&&(m?(o&&o.chainRemoveTail(r.index,A),y.pop()):(o&&o.chainRemoveHead(r.index,A),y.shift())),o&&o.chainClose(r.index),void n.push(y)):void(m?(o&&o.chainAddHead(r.index,x),y.unshift(x)):(o&&o.chainAddTail(r.index,x),y.push(x)))}var g=r.index,S=d.index;o&&o.chainConnect(g,S);var E=e[g].length<e[S].length;r.matches_head?d.matches_head?E?(F(g),N(g,S)):(F(S),N(S,g)):N(S,g):d.matches_head?N(g,S):E?(F(g),N(S,g)):(F(S),N(g,S))}function v(z,U,Y){return f.index=z,f.matches_head=U,f.matches_pt1=Y,f===r?(f=d,!1):(f=null,!0)}function F(z){o&&o.chainReverse(z),e[z].reverse()}function N(z,U){var Y=e[z],$=e[U],ot=Y[Y.length-1],G=Y[Y.length-2],R=$[0],j=$[1];l.pointsCollinear(G,ot,R)&&(o&&o.chainRemoveTail(z,ot),Y.pop(),ot=G),l.pointsCollinear(ot,R,j)&&(o&&o.chainRemoveHead(U,R),$.shift()),o&&o.chainJoin(z,U),e[z]=Y.concat($),e.splice(U,1)}}),n}},{}],64:[function(c,tt,B){function t(o,e,n){var s=[];return o.forEach(function(a){var i=(a.myFill.above?8:0)+(a.myFill.below?4:0)+(a.otherFill&&a.otherFill.above?2:0)+(a.otherFill&&a.otherFill.below?1:0);0!==e[i]&&s.push({id:n?n.segmentId():-1,start:a.start,end:a.end,myFill:{above:1===e[i],below:2===e[i]},otherFill:null})}),n&&n.selected(s),s}tt.exports={union:function(o,e){return t(o,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],e)},intersect:function(o,e){return t(o,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],e)},difference:function(o,e){return t(o,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],e)},differenceRev:function(o,e){return t(o,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],e)},xor:function(o,e){return t(o,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],e)}}},{}],65:[function(c,tt,B){var t,l,o=tt.exports={};function e(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function s(w){if(t===setTimeout)return setTimeout(w,0);if((t===e||!t)&&setTimeout)return t=setTimeout,setTimeout(w,0);try{return t(w,0)}catch(x){try{return t.call(null,w,0)}catch(m){return t.call(this,w,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:e}catch(w){t=e}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(w){l=n}}();var a,i=[],r=!1,d=-1;function f(){r&&a&&(r=!1,a.length?i=a.concat(i):d=-1,i.length&&h())}function h(){if(!r){var w=s(f);r=!0;for(var x=i.length;x;){for(a=i,i=[];++d<x;)a&&a[d].run();d=-1,x=i.length}a=null,r=!1,function(m){if(l===clearTimeout)return clearTimeout(m);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(m);try{l(m)}catch(y){try{return l.call(null,m)}catch(A){return l.call(this,m)}}}(w)}}function p(w,x){this.fun=w,this.array=x}function T(){}o.nextTick=function(w){var x=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)x[m-1]=arguments[m];i.push(new p(w,x)),1!==i.length||r||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=T,o.addListener=T,o.once=T,o.off=T,o.removeListener=T,o.removeAllListeners=T,o.emit=T,o.prependListener=T,o.prependOnceListener=T,o.listeners=function(w){return[]},o.binding=function(w){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(w){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],66:[function(c,tt,B){(function(t,l){(function(){var o=c("process/browser.js").nextTick,e=Function.prototype.apply,n=Array.prototype.slice,s={},a=0;function i(r,d){this._id=r,this._clearFn=d}B.setTimeout=function(){return new i(e.call(setTimeout,window,arguments),clearTimeout)},B.setInterval=function(){return new i(e.call(setInterval,window,arguments),clearInterval)},B.clearTimeout=B.clearInterval=function(r){r.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},B.enroll=function(r,d){clearTimeout(r._idleTimeoutId),r._idleTimeout=d},B.unenroll=function(r){clearTimeout(r._idleTimeoutId),r._idleTimeout=-1},B._unrefActive=B.active=function(r){clearTimeout(r._idleTimeoutId);var d=r._idleTimeout;d>=0&&(r._idleTimeoutId=setTimeout(function(){r._onTimeout&&r._onTimeout()},d))},B.setImmediate="function"==typeof t?t:function(r){var d=a++,f=!(arguments.length<2)&&n.call(arguments,1);return s[d]=!0,o(function(){s[d]&&(f?r.apply(null,f):r.call(null),B.clearImmediate(d))}),d},B.clearImmediate="function"==typeof l?l:function(r){delete s[r]}}).call(this)}).call(this,c("timers").setImmediate,c("timers").clearImmediate)},{"process/browser.js":65,timers:66}],67:[function(c,tt,B){!function(t){var l=/^\s+/,o=/\s+$/,e=0,n=t.round,s=t.min,a=t.max,i=t.random;function r(M,H){if(H=H||{},(M=M||"")instanceof r)return M;if(!(this instanceof r))return new r(M,H);var W,Tt,zt,K,J,Q,ut,ct,gt,vt,C=(K={r:0,g:0,b:0},J=1,Q=null,ut=null,ct=null,gt=!1,vt=!1,"string"==typeof(W=M)&&(W=function(Et){Et=Et.replace(l,"").replace(o,"").toLowerCase();var At,lt=!1;if(F[Et])Et=F[Et],lt=!0;else if("transparent"==Et)return{r:0,g:0,b:0,a:0,format:"name"};return(At=q.rgb.exec(Et))?{r:At[1],g:At[2],b:At[3]}:(At=q.rgba.exec(Et))?{r:At[1],g:At[2],b:At[3],a:At[4]}:(At=q.hsl.exec(Et))?{h:At[1],s:At[2],l:At[3]}:(At=q.hsla.exec(Et))?{h:At[1],s:At[2],l:At[3],a:At[4]}:(At=q.hsv.exec(Et))?{h:At[1],s:At[2],v:At[3]}:(At=q.hsva.exec(Et))?{h:At[1],s:At[2],v:At[3],a:At[4]}:(At=q.hex8.exec(Et))?{r:$(At[1]),g:$(At[2]),b:$(At[3]),a:j(At[4]),format:lt?"name":"hex8"}:(At=q.hex6.exec(Et))?{r:$(At[1]),g:$(At[2]),b:$(At[3]),format:lt?"name":"hex"}:(At=q.hex4.exec(Et))?{r:$(At[1]+""+At[1]),g:$(At[2]+""+At[2]),b:$(At[3]+""+At[3]),a:j(At[4]+""+At[4]),format:lt?"name":"hex8"}:!!(At=q.hex3.exec(Et))&&{r:$(At[1]+""+At[1]),g:$(At[2]+""+At[2]),b:$(At[3]+""+At[3]),format:lt?"name":"hex"}}(W)),"object"==typeof W&&(D(W.r)&&D(W.g)&&D(W.b)?(Tt=W.g,zt=W.b,K={r:255*U(W.r,255),g:255*U(Tt,255),b:255*U(zt,255)},gt=!0,vt="%"===String(W.r).substr(-1)?"prgb":"rgb"):D(W.h)&&D(W.s)&&D(W.v)?(Q=G(W.s),ut=G(W.v),K=function(Et,At,lt){Et=6*U(Et,360),At=U(At,100),lt=U(lt,100);var rt=t.floor(Et),dt=Et-rt,mt=lt*(1-At),Dt=lt*(1-dt*At),bt=lt*(1-(1-dt)*At),wt=rt%6;return{r:255*[lt,Dt,mt,mt,bt,lt][wt],g:255*[bt,lt,lt,Dt,mt,mt][wt],b:255*[mt,mt,bt,lt,lt,Dt][wt]}}(W.h,Q,ut),gt=!0,vt="hsv"):D(W.h)&&D(W.s)&&D(W.l)&&(Q=G(W.s),ct=G(W.l),K=function(Et,At,lt){var rt,dt,mt;function Dt(Ot,It,St){return St<0&&(St+=1),St>1&&(St-=1),St<1/6?Ot+6*(It-Ot)*St:St<.5?It:St<2/3?Ot+(It-Ot)*(2/3-St)*6:Ot}if(Et=U(Et,360),At=U(At,100),lt=U(lt,100),0===At)rt=dt=mt=lt;else{var bt=lt<.5?lt*(1+At):lt+At-lt*At,wt=2*lt-bt;rt=Dt(wt,bt,Et+1/3),dt=Dt(wt,bt,Et),mt=Dt(wt,bt,Et-1/3)}return{r:255*rt,g:255*dt,b:255*mt}}(W.h,Q,ct),gt=!0,vt="hsl"),W.hasOwnProperty("a")&&(J=W.a)),J=z(J),{ok:gt,format:W.format||vt,r:s(255,a(K.r,0)),g:s(255,a(K.g,0)),b:s(255,a(K.b,0)),a:J});this._originalInput=M,this._r=C.r,this._g=C.g,this._b=C.b,this._a=C.a,this._roundA=n(100*this._a)/100,this._format=H.format||C.format,this._gradientType=H.gradientType,this._r<1&&(this._r=n(this._r)),this._g<1&&(this._g=n(this._g)),this._b<1&&(this._b=n(this._b)),this._ok=C.ok,this._tc_id=e++}function d(M,H,C){M=U(M,255),H=U(H,255),C=U(C,255);var W,K,J=a(M,H,C),Q=s(M,H,C),ut=(J+Q)/2;if(J==Q)W=K=0;else{var ct=J-Q;switch(K=ut>.5?ct/(2-J-Q):ct/(J+Q),J){case M:W=(H-C)/ct+(H<C?6:0);break;case H:W=(C-M)/ct+2;break;case C:W=(M-H)/ct+4}W/=6}return{h:W,s:K,l:ut}}function f(M,H,C){M=U(M,255),H=U(H,255),C=U(C,255);var W,K,J=a(M,H,C),Q=s(M,H,C),ut=J,ct=J-Q;if(K=0===J?0:ct/J,J==Q)W=0;else{switch(J){case M:W=(H-C)/ct+(H<C?6:0);break;case H:W=(C-M)/ct+2;break;case C:W=(M-H)/ct+4}W/=6}return{h:W,s:K,v:ut}}function h(M,H,C,W){var K=[ot(n(M).toString(16)),ot(n(H).toString(16)),ot(n(C).toString(16))];return W&&K[0].charAt(0)==K[0].charAt(1)&&K[1].charAt(0)==K[1].charAt(1)&&K[2].charAt(0)==K[2].charAt(1)?K[0].charAt(0)+K[1].charAt(0)+K[2].charAt(0):K.join("")}function p(M,H,C,W){return[ot(R(W)),ot(n(M).toString(16)),ot(n(H).toString(16)),ot(n(C).toString(16))].join("")}function T(M,H){H=0===H?0:H||10;var C=r(M).toHsl();return C.s-=H/100,C.s=Y(C.s),r(C)}function w(M,H){H=0===H?0:H||10;var C=r(M).toHsl();return C.s+=H/100,C.s=Y(C.s),r(C)}function x(M){return r(M).desaturate(100)}function m(M,H){H=0===H?0:H||10;var C=r(M).toHsl();return C.l+=H/100,C.l=Y(C.l),r(C)}function y(M,H){H=0===H?0:H||10;var C=r(M).toRgb();return C.r=a(0,s(255,C.r-n(-H/100*255))),C.g=a(0,s(255,C.g-n(-H/100*255))),C.b=a(0,s(255,C.b-n(-H/100*255))),r(C)}function A(M,H){H=0===H?0:H||10;var C=r(M).toHsl();return C.l-=H/100,C.l=Y(C.l),r(C)}function b(M,H){var C=r(M).toHsl(),W=(C.h+H)%360;return C.h=W<0?360+W:W,r(C)}function k(M){var H=r(M).toHsl();return H.h=(H.h+180)%360,r(H)}function L(M){var H=r(M).toHsl(),C=H.h;return[r(M),r({h:(C+120)%360,s:H.s,l:H.l}),r({h:(C+240)%360,s:H.s,l:H.l})]}function g(M){var H=r(M).toHsl(),C=H.h;return[r(M),r({h:(C+90)%360,s:H.s,l:H.l}),r({h:(C+180)%360,s:H.s,l:H.l}),r({h:(C+270)%360,s:H.s,l:H.l})]}function S(M){var H=r(M).toHsl(),C=H.h;return[r(M),r({h:(C+72)%360,s:H.s,l:H.l}),r({h:(C+216)%360,s:H.s,l:H.l})]}function E(M,H,C){H=H||6,C=C||30;var W=r(M).toHsl(),K=360/C,J=[r(M)];for(W.h=(W.h-(K*H>>1)+720)%360;--H;)W.h=(W.h+K)%360,J.push(r(W));return J}function v(M,H){H=H||6;for(var C=r(M).toHsv(),W=C.h,K=C.s,J=C.v,Q=[],ut=1/H;H--;)Q.push(r({h:W,s:K,v:J})),J=(J+ut)%1;return Q}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var M=this.toRgb();return(299*M.r+587*M.g+114*M.b)/1e3},getLuminance:function(){var M,H,C,W=this.toRgb();return H=W.g/255,C=W.b/255,.2126*((M=W.r/255)<=.03928?M/12.92:t.pow((M+.055)/1.055,2.4))+.7152*(H<=.03928?H/12.92:t.pow((H+.055)/1.055,2.4))+.0722*(C<=.03928?C/12.92:t.pow((C+.055)/1.055,2.4))},setAlpha:function(M){return this._a=z(M),this._roundA=n(100*this._a)/100,this},toHsv:function(){var M=f(this._r,this._g,this._b);return{h:360*M.h,s:M.s,v:M.v,a:this._a}},toHsvString:function(){var M=f(this._r,this._g,this._b),H=n(360*M.h),C=n(100*M.s),W=n(100*M.v);return 1==this._a?"hsv("+H+", "+C+"%, "+W+"%)":"hsva("+H+", "+C+"%, "+W+"%, "+this._roundA+")"},toHsl:function(){var M=d(this._r,this._g,this._b);return{h:360*M.h,s:M.s,l:M.l,a:this._a}},toHslString:function(){var M=d(this._r,this._g,this._b),H=n(360*M.h),C=n(100*M.s),W=n(100*M.l);return 1==this._a?"hsl("+H+", "+C+"%, "+W+"%)":"hsla("+H+", "+C+"%, "+W+"%, "+this._roundA+")"},toHex:function(M){return h(this._r,this._g,this._b,M)},toHexString:function(M){return"#"+this.toHex(M)},toHex8:function(M){return C=this._g,W=this._b,K=this._a,J=M,Q=[ot(n(this._r).toString(16)),ot(n(C).toString(16)),ot(n(W).toString(16)),ot(R(K))],J&&Q[0].charAt(0)==Q[0].charAt(1)&&Q[1].charAt(0)==Q[1].charAt(1)&&Q[2].charAt(0)==Q[2].charAt(1)&&Q[3].charAt(0)==Q[3].charAt(1)?Q[0].charAt(0)+Q[1].charAt(0)+Q[2].charAt(0)+Q[3].charAt(0):Q.join("");var C,W,K,J,Q},toHex8String:function(M){return"#"+this.toHex8(M)},toRgb:function(){return{r:n(this._r),g:n(this._g),b:n(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+n(this._r)+", "+n(this._g)+", "+n(this._b)+")":"rgba("+n(this._r)+", "+n(this._g)+", "+n(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:n(100*U(this._r,255))+"%",g:n(100*U(this._g,255))+"%",b:n(100*U(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+n(100*U(this._r,255))+"%, "+n(100*U(this._g,255))+"%, "+n(100*U(this._b,255))+"%)":"rgba("+n(100*U(this._r,255))+"%, "+n(100*U(this._g,255))+"%, "+n(100*U(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(N[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(M){var H="#"+p(this._r,this._g,this._b,this._a),C=H,W=this._gradientType?"GradientType = 1, ":"";if(M){var K=r(M);C="#"+p(K._r,K._g,K._b,K._a)}return"progid:DXImageTransform.Microsoft.gradient("+W+"startColorstr="+H+",endColorstr="+C+")"},toString:function(M){var H=!!M;M=M||this._format;var C=!1;return H||!(this._a<1&&this._a>=0)||"hex"!==M&&"hex6"!==M&&"hex3"!==M&&"hex4"!==M&&"hex8"!==M&&"name"!==M?("rgb"===M&&(C=this.toRgbString()),"prgb"===M&&(C=this.toPercentageRgbString()),"hex"!==M&&"hex6"!==M||(C=this.toHexString()),"hex3"===M&&(C=this.toHexString(!0)),"hex4"===M&&(C=this.toHex8String(!0)),"hex8"===M&&(C=this.toHex8String()),"name"===M&&(C=this.toName()),"hsl"===M&&(C=this.toHslString()),"hsv"===M&&(C=this.toHsvString()),C||this.toHexString()):"name"===M&&0===this._a?this.toName():this.toRgbString()},clone:function(){return r(this.toString())},_applyModification:function(M,H){var C=M.apply(null,[this].concat([].slice.call(H)));return this._r=C._r,this._g=C._g,this._b=C._b,this.setAlpha(C._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(A,arguments)},desaturate:function(){return this._applyModification(T,arguments)},saturate:function(){return this._applyModification(w,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(M,H){return M.apply(null,[this].concat([].slice.call(H)))},analogous:function(){return this._applyCombination(E,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(v,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(L,arguments)},tetrad:function(){return this._applyCombination(g,arguments)}},r.fromRatio=function(M,H){if("object"==typeof M){var C={};for(var W in M)M.hasOwnProperty(W)&&(C[W]="a"===W?M[W]:G(M[W]));M=C}return r(M,H)},r.equals=function(M,H){return!(!M||!H)&&r(M).toRgbString()==r(H).toRgbString()},r.random=function(){return r.fromRatio({r:i(),g:i(),b:i()})},r.mix=function(M,H,C){C=0===C?0:C||50;var W=r(M).toRgb(),K=r(H).toRgb(),J=C/100;return r({r:(K.r-W.r)*J+W.r,g:(K.g-W.g)*J+W.g,b:(K.b-W.b)*J+W.b,a:(K.a-W.a)*J+W.a})},r.readability=function(M,H){var C=r(M),W=r(H);return(t.max(C.getLuminance(),W.getLuminance())+.05)/(t.min(C.getLuminance(),W.getLuminance())+.05)},r.isReadable=function(M,H,C){var W,K,Q,ut,ct,J=r.readability(M,H);switch(K=!1,(Q=C,"AA"!==(ut=((Q=Q||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==ut&&(ut="AA"),"small"!==(ct=(Q.size||"small").toLowerCase())&&"large"!==ct&&(ct="small"),W={level:ut,size:ct}).level+W.size){case"AAsmall":case"AAAlarge":K=J>=4.5;break;case"AAlarge":K=J>=3;break;case"AAAsmall":K=J>=7}return K},r.mostReadable=function(M,H,C){var W,K,J,Q,ut=null,ct=0;K=(C=C||{}).includeFallbackColors,J=C.level,Q=C.size;for(var gt=0;gt<H.length;gt++)(W=r.readability(M,H[gt]))>ct&&(ct=W,ut=r(H[gt]));return r.isReadable(M,ut,{level:J,size:Q})||!K?ut:(C.includeFallbackColors=!1,r.mostReadable(M,["#fff","#000"],C))};var F=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=r.hexNames=function(M){var H={};for(var C in M)M.hasOwnProperty(C)&&(H[M[C]]=C);return H}(F);function z(M){return M=parseFloat(M),(isNaN(M)||M<0||M>1)&&(M=1),M}function U(M,H){var W;"string"==typeof(W=M)&&-1!=W.indexOf(".")&&1===parseFloat(W)&&(M="100%");var C=function(W){return"string"==typeof W&&-1!=W.indexOf("%")}(M);return M=s(H,a(0,parseFloat(M))),C&&(M=parseInt(M*H,10)/100),t.abs(M-H)<1e-6?1:M%H/parseFloat(H)}function Y(M){return s(1,a(0,M))}function $(M){return parseInt(M,16)}function ot(M){return 1==M.length?"0"+M:""+M}function G(M){return M<=1&&(M=100*M+"%"),M}function R(M){return t.round(255*parseFloat(M)).toString(16)}function j(M){return $(M)/255}var P,I,Z,q=(I="[\\s|\\(]+("+(P="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",Z="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",{CSS_UNIT:new RegExp(P),rgb:new RegExp("rgb"+I),rgba:new RegExp("rgba"+Z),hsl:new RegExp("hsl"+I),hsla:new RegExp("hsla"+Z),hsv:new RegExp("hsv"+I),hsva:new RegExp("hsva"+Z),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function D(M){return!!q.CSS_UNIT.exec(M)}void 0!==tt&&tt.exports?tt.exports=r:window.tinycolor=r}(Math)},{}],68:[function(c,tt,B){var t=c("../main"),l=c("object-assign"),o=t.instance();function e(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}l(e.prototype=new t.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(f,h){if("string"==typeof f){var p=f.match(s);return p?p[0]:""}var T=this._validateYear(f),w=f.month(),x=""+this.toChineseMonth(T,w);return h&&x.length<2&&(x="0"+x),this.isIntercalaryMonth(T,w)&&(x+="i"),x},monthNames:function(f){if("string"==typeof f){var h=f.match(a);return h?h[0]:""}var p=this._validateYear(f),T=f.month(),w=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(p,T)-1];return this.isIntercalaryMonth(p,T)&&(w="\u95f0"+w),w},monthNamesShort:function(f){if("string"==typeof f){var h=f.match(i);return h?h[0]:""}var p=this._validateYear(f),T=f.month(),w=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(p,T)-1];return this.isIntercalaryMonth(p,T)&&(w="\u95f0"+w),w},parseMonth:function(f,h){f=this._validateYear(f);var p,T=parseInt(h);if(isNaN(T))"\u95f0"===h[0]&&(p=!0,h=h.substring(1)),"\u6708"===h[h.length-1]&&(h=h.substring(0,h.length-1)),T=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(h);else{var w=h[h.length-1];p="i"===w||"I"===w}return this.toMonthIndex(f,T,p)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(f,h){if(f.year&&(f=f.year()),"number"!=typeof f||f<1888||f>2111)throw h.replace(/\{0\}/,this.local.name);return f},toMonthIndex:function(f,h,p){var T=this.intercalaryMonth(f);if(p&&h!==T||h<1||h>12)throw t.local.invalidMonth.replace(/\{0\}/,this.local.name);return T?!p&&h<=T?h-1:h:h-1},toChineseMonth:function(f,h){f.year&&(h=(f=f.year()).month());var p=this.intercalaryMonth(f);if(h<0||h>(p?12:11))throw t.local.invalidMonth.replace(/\{0\}/,this.local.name);return p?h<p?h+1:h:h+1},intercalaryMonth:function(f){return f=this._validateYear(f),r[f-r[0]]>>13},isIntercalaryMonth:function(f,h){f.year&&(h=(f=f.year()).month());var p=this.intercalaryMonth(f);return!!p&&p===h},leapYear:function(f){return 0!==this.intercalaryMonth(f)},weekOfYear:function(f,h,p){var T,w=this._validateYear(f,t.local.invalidyear),x=d[w-d[0]];(T=o.newDate(x>>9&4095,x>>5&15,31&x)).add(4-(T.dayOfWeek()||7),"d");var b=this.toJD(f,h,p)-T.toJD();return 1+Math.floor(b/7)},monthsInYear:function(f){return this.leapYear(f)?13:12},daysInMonth:function(f,h){f.year&&(h=f.month(),f=f.year()),f=this._validateYear(f);var p=r[f-r[0]];if(h>(p>>13?12:11))throw t.local.invalidMonth.replace(/\{0\}/,this.local.name);return p&1<<12-h?30:29},weekDay:function(f,h,p){return(this.dayOfWeek(f,h,p)||7)<6},toJD:function(f,h,p){var T=this._validate(f,x,p,t.local.invalidDate);f=this._validateYear(T.year()),h=T.month(),p=T.day();var w=this.isIntercalaryMonth(f,h),x=this.toChineseMonth(f,h),m=function(y,A,b,k,L){var g,S,E;if("object"==typeof y)S=y,g=A||{};else{var v;if(!("number"==typeof y&&y>=1888&&y<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof A&&A>=1&&A<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof b&&b>=1&&b<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof k?(v=!1,g=k):(v=!!k,g={}),S={year:y,month:A,day:b,isIntercalary:v}}E=S.day-1;var F,N=r[S.year-r[0]],z=N>>13;F=z&&(S.month>z||S.isIntercalary)?S.month:S.month-1;for(var U=0;U<F;U++)E+=N&1<<12-U?30:29;var Y=d[S.year-d[0]],$=new Date(Y>>9&4095,(Y>>5&15)-1,(31&Y)+E);return g.year=$.getFullYear(),g.month=1+$.getMonth(),g.day=$.getDate(),g}(f,x,p,w);return o.toJD(m.year,m.month,m.day)},fromJD:function(f){var h=o.fromJD(f),p=function(w,x,m,y){var A,b;if("object"==typeof w)A=w,b=x||{};else{if(!("number"==typeof w&&w>=1888&&w<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof x&&x>=1&&x<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof m&&m>=1&&m<=31))throw new Error("Solar day outside range 1 - 31");A={year:w,month:x,day:m},b={}}var k=d[A.year-d[0]];b.year=(A.year<<9|A.month<<5|A.day)>=k?A.year:A.year-1,k=d[b.year-d[0]];var g,S=new Date(k>>9&4095,(k>>5&15)-1,31&k),E=new Date(A.year,A.month-1,A.day);g=Math.round((E-S)/864e5);var v,F=r[b.year-r[0]];for(v=0;v<13;v++){var N=F&1<<12-v?30:29;if(g<N)break;g-=N}var z=F>>13;return!z||v<z?(b.isIntercalary=!1,b.month=1+v):v===z?(b.isIntercalary=!0,b.month=v):(b.isIntercalary=!1,b.month=v),b.day=1+g,b}(h.year(),h.month(),h.day()),T=this.toMonthIndex(p.year,p.month,p.isIntercalary);return this.newDate(p.year,T,p.day)},fromString:function(f){var h=f.match(n),p=this._validateYear(+h[1]),x=this.toMonthIndex(p,+h[2],!!h[3]);return this.newDate(p,x,+h[4])},add:function(f,h,p){var T=f.year(),w=f.month(),x=this.isIntercalaryMonth(T,w),m=this.toChineseMonth(T,w),y=Object.getPrototypeOf(e.prototype).add.call(this,f,h,p);if("y"===p){var A=y.year(),b=y.month(),k=this.isIntercalaryMonth(A,m),L=this.toMonthIndex(A,m,!(!x||!k));L!==b&&y.month(L)}return y}});var n=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,s=/^\d?\d[iI]?/m,a=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,i=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;t.calendars.chinese=e;var r=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],d=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},{"../main":82,"object-assign":55}],69:[function(c,tt,B){var t=c("../main");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}c("object-assign")(o.prototype=new t.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return(e=n.year()+(n.year()<0?1:0))%4==3||e%4==-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear||t.regionalOptions[""].invalidYear),13},weekOfYear:function(e,n,s){var a=this.newDate(e,n,s);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var s=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(13===s.month()&&this.leapYear(s.year())?1:0)},weekDay:function(e,n,s){return(this.dayOfWeek(e,n,s)||7)<6},toJD:function(e,n,s){var a=this._validate(e,n,s,t.local.invalidDate);return(e=a.year())<0&&e++,a.day()+30*(a.month()-1)+365*(e-1)+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var n=Math.floor(e)+.5-this.jdEpoch,s=Math.floor((n-Math.floor((n+366)/1461))/365)+1;s<=0&&s--,n=Math.floor(e)+.5-this.newDate(s,1,1).toJD();var a=Math.floor(n/30)+1;return this.newDate(s,a,n-30*(a-1)+1)}}),t.calendars.coptic=o},{"../main":82,"object-assign":55}],70:[function(c,tt,B){var t=c("../main");function o(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}c("object-assign")(o.prototype=new t.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(n){return this._validate(n,this.minMonth,this.minDay,t.local.invalidYear),!1},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,t.local.invalidYear),13},daysInYear:function(n){return this._validate(n,this.minMonth,this.minDay,t.local.invalidYear),400},weekOfYear:function(n,s,a){var i=this.newDate(n,s,a);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/8)+1},daysInMonth:function(n,s){var a=this._validate(n,s,this.minDay,t.local.invalidMonth);return this.daysPerMonth[a.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(n,s,a){return(this._validate(n,s,a,t.local.invalidDate).day()+1)%8},weekDay:function(n,s,a){var i=this.dayOfWeek(n,s,a);return i>=2&&i<=6},extraInfo:function(n,s,a){var i=this._validate(n,s,a,t.local.invalidDate);return{century:e[Math.floor((i.year()-1)/100)+1]||""}},toJD:function(n,s,a){var i=this._validate(n,s,a,t.local.invalidDate);return n=i.year()+(i.year()<0?1:0),s=i.month(),(a=i.day())+(s>1?16:0)+(s>2?32*(s-2):0)+400*(n-1)+this.jdEpoch-1},fromJD:function(n){n=Math.floor(n+.5)-Math.floor(this.jdEpoch)-1;var s=Math.floor(n/400)+1;n-=400*(s-1),n+=n>15?16:0;var a=Math.floor(n/32)+1;return this.newDate(s<=0?s-1:s,a,n-32*(a-1)+1)}});var e={20:"Fruitbat",21:"Anchovy"};t.calendars.discworld=o},{"../main":82,"object-assign":55}],71:[function(c,tt,B){var t=c("../main");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}c("object-assign")(o.prototype=new t.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return(e=n.year()+(n.year()<0?1:0))%4==3||e%4==-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear||t.regionalOptions[""].invalidYear),13},weekOfYear:function(e,n,s){var a=this.newDate(e,n,s);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var s=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(13===s.month()&&this.leapYear(s.year())?1:0)},weekDay:function(e,n,s){return(this.dayOfWeek(e,n,s)||7)<6},toJD:function(e,n,s){var a=this._validate(e,n,s,t.local.invalidDate);return(e=a.year())<0&&e++,a.day()+30*(a.month()-1)+365*(e-1)+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var n=Math.floor(e)+.5-this.jdEpoch,s=Math.floor((n-Math.floor((n+366)/1461))/365)+1;s<=0&&s--,n=Math.floor(e)+.5-this.newDate(s,1,1).toJD();var a=Math.floor(n/30)+1;return this.newDate(s,a,n-30*(a-1)+1)}}),t.calendars.ethiopian=o},{"../main":82,"object-assign":55}],72:[function(c,tt,B){var t=c("../main");function o(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}function e(n,s){return n-s*Math.floor(n/s)}c("object-assign")(o.prototype=new t.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var s=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return this._leapYear(s.year())},_leapYear:function(n){return e(7*(n=n<0?n+1:n)+1,19)<7},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,t.local.invalidYear),this._leapYear(n.year?n.year():n)?13:12},weekOfYear:function(n,s,a){var i=this.newDate(n,s,a);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(n){return n=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear).year(),this.toJD(-1===n?1:n+1,7,1)-this.toJD(n,7,1)},daysInMonth:function(n,s){return n.year&&(s=n.month(),n=n.year()),this._validate(n,s,this.minDay,t.local.invalidMonth),12===s&&this.leapYear(n)||8===s&&5===e(this.daysInYear(n),10)?30:9===s&&3===e(this.daysInYear(n),10)?29:this.daysPerMonth[s-1]},weekDay:function(n,s,a){return 6!==this.dayOfWeek(n,s,a)},extraInfo:function(n,s,a){var i=this._validate(n,s,a,t.local.invalidDate);return{yearType:(this.leapYear(i)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(i)%10-3]}},toJD:function(n,s,a){var i=this._validate(n,s,a,t.local.invalidDate);n=i.year(),s=i.month(),a=i.day();var r=n<=0?n+1:n,d=this.jdEpoch+this._delay1(r)+this._delay2(r)+a+1;if(s<7){for(var f=7;f<=this.monthsInYear(n);f++)d+=this.daysInMonth(n,f);for(f=1;f<s;f++)d+=this.daysInMonth(n,f)}else for(f=7;f<s;f++)d+=this.daysInMonth(n,f);return d},_delay1:function(n){var s=Math.floor((235*n-234)/19),i=29*s+Math.floor((12084+13753*s)/25920);return e(3*(i+1),7)<3&&i++,i},_delay2:function(n){var s=this._delay1(n-1),a=this._delay1(n);return this._delay1(n+1)-a==356?2:a-s==382?1:0},fromJD:function(n){n=Math.floor(n)+.5;for(var s=Math.floor(98496*(n-this.jdEpoch)/35975351)-1;n>=this.toJD(-1===s?1:s+1,7,1);)s++;for(var a=n<this.toJD(s,1,1)?7:1;n>this.toJD(s,a,this.daysInMonth(s,a));)a++;var i=n-this.toJD(s,a,1)+1;return this.newDate(s,a,i)}}),t.calendars.hebrew=o},{"../main":82,"object-assign":55}],73:[function(c,tt,B){var t=c("../main");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}c("object-assign")(o.prototype=new t.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){return(11*this._validate(e,this.minMonth,this.minDay,t.local.invalidYear).year()+14)%30<11},weekOfYear:function(e,n,s){var a=this.newDate(e,n,s);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(e){return this.leapYear(e)?355:354},daysInMonth:function(e,n){var s=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(12===s.month()&&this.leapYear(s.year())?1:0)},weekDay:function(e,n,s){return 5!==this.dayOfWeek(e,n,s)},toJD:function(e,n,s){var a=this._validate(e,n,s,t.local.invalidDate);return e=a.year(),n=a.month(),e=e<=0?e+1:e,(s=a.day())+Math.ceil(29.5*(n-1))+354*(e-1)+Math.floor((3+11*e)/30)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var n=Math.floor((30*(e-this.jdEpoch)+10646)/10631);n=n<=0?n-1:n;var s=Math.min(12,Math.ceil((e-29-this.toJD(n,1,1))/29.5)+1),a=e-this.toJD(n,s,1)+1;return this.newDate(n,s,a)}}),t.calendars.islamic=o},{"../main":82,"object-assign":55}],74:[function(c,tt,B){var t=c("../main");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}c("object-assign")(o.prototype=new t.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return(e=n.year()<0?n.year()+1:n.year())%4==0},weekOfYear:function(e,n,s){var a=this.newDate(e,n,s);return a.add(4-(a.dayOfWeek()||7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var s=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(2===s.month()&&this.leapYear(s.year())?1:0)},weekDay:function(e,n,s){return(this.dayOfWeek(e,n,s)||7)<6},toJD:function(e,n,s){var a=this._validate(e,n,s,t.local.invalidDate);return e=a.year(),n=a.month(),s=a.day(),e<0&&e++,n<=2&&(e--,n+=12),Math.floor(365.25*(e+4716))+Math.floor(30.6001*(n+1))+s-1524.5},fromJD:function(e){var n=Math.floor(e+.5)+1524,s=Math.floor((n-122.1)/365.25),a=Math.floor(365.25*s),i=Math.floor((n-a)/30.6001),r=i-Math.floor(i<14?1:13),d=s-Math.floor(r>2?4716:4715),f=n-a-Math.floor(30.6001*i);return d<=0&&d--,this.newDate(d,r,f)}}),t.calendars.julian=o},{"../main":82,"object-assign":55}],75:[function(c,tt,B){var t=c("../main");function o(s){this.local=this.regionalOptions[s||""]||this.regionalOptions[""]}function e(s,a){return s-a*Math.floor(s/a)}function n(s,a){return e(s-1,a)+1}c("object-assign")(o.prototype=new t.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(s){return this._validate(s,this.minMonth,this.minDay,t.local.invalidYear),!1},formatYear:function(s){s=this._validate(s,this.minMonth,this.minDay,t.local.invalidYear).year();var a=Math.floor(s/400);return s%=400,s+=s<0?400:0,a+"."+Math.floor(s/20)+"."+s%20},forYear:function(s){if((s=s.split(".")).length<3)throw"Invalid Mayan year";for(var a=0,i=0;i<s.length;i++){var r=parseInt(s[i],10);if(Math.abs(r)>19||i>0&&r<0)throw"Invalid Mayan year";a=20*a+r}return a},monthsInYear:function(s){return this._validate(s,this.minMonth,this.minDay,t.local.invalidYear),18},weekOfYear:function(s,a,i){return this._validate(s,a,i,t.local.invalidDate),0},daysInYear:function(s){return this._validate(s,this.minMonth,this.minDay,t.local.invalidYear),360},daysInMonth:function(s,a){return this._validate(s,a,this.minDay,t.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(s,a,i){return this._validate(s,a,i,t.local.invalidDate).day()},weekDay:function(s,a,i){return this._validate(s,a,i,t.local.invalidDate),!0},extraInfo:function(s,a,i){var r=this._validate(s,a,i,t.local.invalidDate).toJD(),d=this._toHaab(r),f=this._toTzolkin(r);return{haabMonthName:this.local.haabMonths[d[0]-1],haabMonth:d[0],haabDay:d[1],tzolkinDayName:this.local.tzolkinMonths[f[0]-1],tzolkinDay:f[0],tzolkinTrecena:f[1]}},_toHaab:function(s){var a=e(8+(s-=this.jdEpoch)+340,365);return[Math.floor(a/20)+1,e(a,20)]},_toTzolkin:function(s){return[n(20+(s-=this.jdEpoch),20),n(s+4,13)]},toJD:function(s,a,i){var r=this._validate(s,a,i,t.local.invalidDate);return r.day()+20*r.month()+360*r.year()+this.jdEpoch},fromJD:function(s){s=Math.floor(s)+.5-this.jdEpoch;var a=Math.floor(s/360);s%=360,s+=s<0?360:0;var i=Math.floor(s/20);return this.newDate(a,i,s%20)}}),t.calendars.mayan=o},{"../main":82,"object-assign":55}],76:[function(c,tt,B){var t=c("../main"),l=c("object-assign");function o(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar;var e=t.instance("gregorian");l(o.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var s=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear||t.regionalOptions[""].invalidYear);return e.leapYear(s.year()+(s.year()<1?1:0)+1469)},weekOfYear:function(n,s,a){var i=this.newDate(n,s,a);return i.add(1-(i.dayOfWeek()||7),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(n,s){var a=this._validate(n,s,this.minDay,t.local.invalidMonth);return this.daysPerMonth[a.month()-1]+(12===a.month()&&this.leapYear(a.year())?1:0)},weekDay:function(n,s,a){return(this.dayOfWeek(n,s,a)||7)<6},toJD:function(n,s,a){var i=this._validate(n,s,a,t.local.invalidMonth);(n=i.year())<0&&n++;for(var r=i.day(),d=1;d<i.month();d++)r+=this.daysPerMonth[d-1];return r+e.toJD(n+1468,3,13)},fromJD:function(n){n=Math.floor(n+.5);for(var s=Math.floor((n-(this.jdEpoch-1))/366);n>=this.toJD(s+1,1,1);)s++;for(var a=n-Math.floor(this.toJD(s,1,1)+.5)+1,i=1;a>this.daysInMonth(s,i);)a-=this.daysInMonth(s,i),i++;return this.newDate(s,i,a)}}),t.calendars.nanakshahi=o},{"../main":82,"object-assign":55}],77:[function(c,tt,B){var t=c("../main");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}c("object-assign")(o.prototype=new t.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(e){return this.daysInYear(e)!==this.daysPerYear},weekOfYear:function(e,n,s){var a=this.newDate(e,n,s);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(e){if(e=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[e])return this.daysPerYear;for(var n=0,s=this.minMonth;s<=12;s++)n+=this.NEPALI_CALENDAR_DATA[e][s];return n},daysInMonth:function(e,n){return e.year&&(n=e.month(),e=e.year()),this._validate(e,n,this.minDay,t.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[e]?this.daysPerMonth[n-1]:this.NEPALI_CALENDAR_DATA[e][n]},weekDay:function(e,n,s){return 6!==this.dayOfWeek(e,n,s)},toJD:function(e,n,s){var a=this._validate(e,n,s,t.local.invalidDate);e=a.year(),n=a.month(),s=a.day();var i=t.instance(),r=0,d=n,f=e;this._createMissingCalendarData(e);var h=e-(d>9||9===d&&s>=this.NEPALI_CALENDAR_DATA[f][0]?56:57);for(9!==n&&(r=s,d--);9!==d;)d<=0&&(d=12,f--),r+=this.NEPALI_CALENDAR_DATA[f][d],d--;return 9===n?(r+=s-this.NEPALI_CALENDAR_DATA[f][0])<0&&(r+=i.daysInYear(h)):r+=this.NEPALI_CALENDAR_DATA[f][9]-this.NEPALI_CALENDAR_DATA[f][0],i.newDate(h,1,1).add(r,"d").toJD()},fromJD:function(e){var n=t.instance().fromJD(e),s=n.year(),a=n.dayOfYear(),i=s+56;this._createMissingCalendarData(i);for(var r=9,f=this.NEPALI_CALENDAR_DATA[i][r]-this.NEPALI_CALENDAR_DATA[i][0]+1;a>f;)++r>12&&(r=1,i++),f+=this.NEPALI_CALENDAR_DATA[i][r];return this.newDate(i,r,this.NEPALI_CALENDAR_DATA[i][r]-(f-a))},_createMissingCalendarData:function(e){var n=this.daysPerMonth.slice(0);n.unshift(17);for(var s=e-1;s<e+2;s++)void 0===this.NEPALI_CALENDAR_DATA[s]&&(this.NEPALI_CALENDAR_DATA[s]=n)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),t.calendars.nepali=o},{"../main":82,"object-assign":55}],78:[function(c,tt,B){var t=c("../main");function o(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}function e(n,s){return n-s*Math.floor(n/s)}c("object-assign")(o.prototype=new t.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(n){var s=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return 682*((s.year()-(s.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(n,s,a){var i=this.newDate(n,s,a);return i.add(-(i.dayOfWeek()+1)%7,"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(n,s){var a=this._validate(n,s,this.minDay,t.local.invalidMonth);return this.daysPerMonth[a.month()-1]+(12===a.month()&&this.leapYear(a.year())?1:0)},weekDay:function(n,s,a){return 5!==this.dayOfWeek(n,s,a)},toJD:function(n,s,a){var i=this._validate(n,s,a,t.local.invalidDate);n=i.year(),s=i.month(),a=i.day();var r=n-(n>=0?474:473),d=474+e(r,2820);return a+(s<=7?31*(s-1):30*(s-1)+6)+Math.floor((682*d-110)/2816)+365*(d-1)+1029983*Math.floor(r/2820)+this.jdEpoch-1},fromJD:function(n){var s=(n=Math.floor(n)+.5)-this.toJD(475,1,1),a=Math.floor(s/1029983),i=e(s,1029983),r=2820;if(1029982!==i){var d=Math.floor(i/366),f=e(i,366);r=Math.floor((2134*d+2816*f+2815)/1028522)+d+1}var h=r+2820*a+474,p=n-this.toJD(h=h<=0?h-1:h,1,1)+1,T=p<=186?Math.ceil(p/31):Math.ceil((p-6)/30),w=n-this.toJD(h,T,1)+1;return this.newDate(h,T,w)}}),t.calendars.persian=o,t.calendars.jalali=o},{"../main":82,"object-assign":55}],79:[function(c,tt,B){var t=c("../main"),l=c("object-assign"),o=t.instance();function e(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}l(e.prototype=new t.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(n){var s=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return n=this._t2gYear(s.year()),o.leapYear(n)},weekOfYear:function(n,s,a){var i=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return n=this._t2gYear(i.year()),o.weekOfYear(n,i.month(),i.day())},daysInMonth:function(n,s){var a=this._validate(n,s,this.minDay,t.local.invalidMonth);return this.daysPerMonth[a.month()-1]+(2===a.month()&&this.leapYear(a.year())?1:0)},weekDay:function(n,s,a){return(this.dayOfWeek(n,s,a)||7)<6},toJD:function(n,s,a){var i=this._validate(n,s,a,t.local.invalidDate);return n=this._t2gYear(i.year()),o.toJD(n,i.month(),i.day())},fromJD:function(n){var s=o.fromJD(n),a=this._g2tYear(s.year());return this.newDate(a,s.month(),s.day())},_t2gYear:function(n){return n+this.yearsOffset+(n>=-this.yearsOffset&&n<=-1?1:0)},_g2tYear:function(n){return n-this.yearsOffset-(n>=1&&n<=this.yearsOffset?1:0)}}),t.calendars.taiwan=e},{"../main":82,"object-assign":55}],80:[function(c,tt,B){var t=c("../main"),l=c("object-assign"),o=t.instance();function e(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}l(e.prototype=new t.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var s=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return n=this._t2gYear(s.year()),o.leapYear(n)},weekOfYear:function(n,s,a){var i=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return n=this._t2gYear(i.year()),o.weekOfYear(n,i.month(),i.day())},daysInMonth:function(n,s){var a=this._validate(n,s,this.minDay,t.local.invalidMonth);return this.daysPerMonth[a.month()-1]+(2===a.month()&&this.leapYear(a.year())?1:0)},weekDay:function(n,s,a){return(this.dayOfWeek(n,s,a)||7)<6},toJD:function(n,s,a){var i=this._validate(n,s,a,t.local.invalidDate);return n=this._t2gYear(i.year()),o.toJD(n,i.month(),i.day())},fromJD:function(n){var s=o.fromJD(n),a=this._g2tYear(s.year());return this.newDate(a,s.month(),s.day())},_t2gYear:function(n){return n-this.yearsOffset-(n>=1&&n<=this.yearsOffset?1:0)},_g2tYear:function(n){return n+this.yearsOffset+(n>=-this.yearsOffset&&n<=-1?1:0)}}),t.calendars.thai=e},{"../main":82,"object-assign":55}],81:[function(c,tt,B){var t=c("../main");function o(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}c("object-assign")(o.prototype=new t.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(n){var s=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return 355===this.daysInYear(s.year())},weekOfYear:function(n,s,a){var i=this.newDate(n,s,a);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(n){for(var s=0,a=1;a<=12;a++)s+=this.daysInMonth(n,a);return s},daysInMonth:function(n,s){for(var a=this._validate(n,s,this.minDay,t.local.invalidMonth).toJD()-24e5+.5,i=0,r=0;r<e.length;r++){if(e[r]>a)return e[i]-e[i-1];i++}return 30},weekDay:function(n,s,a){return 5!==this.dayOfWeek(n,s,a)},toJD:function(n,s,a){var i=this._validate(n,s,a,t.local.invalidDate),r=12*(i.year()-1)+i.month()-15292;return i.day()+e[r-1]-1+24e5-.5},fromJD:function(n){for(var s=n-24e5+.5,a=0,i=0;i<e.length&&!(e[i]>s);i++)a++;var r=a+15292,d=Math.floor((r-1)/12);return this.newDate(d+1,r-12*d,s-e[a-1]+1)},isValid:function(n,s,a){var i=t.baseCalendar.prototype.isValid.apply(this,arguments);return i&&(i=(n=null!=n.year?n.year:n)>=1276&&n<=1500),i},_validate:function(n,s,a,i){var r=t.baseCalendar.prototype._validate.apply(this,arguments);if(r.year<1276||r.year>1500)throw i.replace(/\{0\}/,this.local.name);return r}}),t.calendars.ummalqura=o;var e=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},{"../main":82,"object-assign":55}],82:[function(c,tt,B){var t=c("object-assign");function l(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function o(i,r,d,f){if(this._calendar=i,this._year=r,this._month=d,this._day=f,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(a.local.invalidDate||a.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function e(i,r){return"000000".substring(0,r-(i=""+i).length)+i}function n(){this.shortYearCutoff="+10"}function s(i){this.local=this.regionalOptions[i]||this.regionalOptions[""]}t(l.prototype,{instance:function(i,r){i=(i||"gregorian").toLowerCase();var d=this._localCals[i+"-"+(r=r||"")];if(!d&&this.calendars[i]&&(d=new this.calendars[i](r),this._localCals[i+"-"+r]=d),!d)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,i);return d},newDate:function(i,r,d,f,h){return(f=(null!=i&&i.year?i.calendar():"string"==typeof f?this.instance(f,h):f)||this.instance()).newDate(i,r,d)},substituteDigits:function(i){return function(r){return(r+"").replace(/[0-9]/g,function(d){return i[d]})}},substituteChineseDigits:function(i,r){return function(d){for(var f="",h=0;d>0;){var p=d%10;f=(0===p?"":i[p]+r[h])+f,h++,d=Math.floor(d/10)}return 0===f.indexOf(i[1]+r[1])&&(f=f.substr(1)),f||i[0]}}}),t(o.prototype,{newDate:function(i,r,d){return this._calendar.newDate(null==i?this:i,r,d)},year:function(i){return 0===arguments.length?this._year:this.set(i,"y")},month:function(i){return 0===arguments.length?this._month:this.set(i,"m")},day:function(i){return 0===arguments.length?this._day:this.set(i,"d")},date:function(i,r,d){if(!this._calendar.isValid(i,r,d))throw(a.local.invalidDate||a.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=i,this._month=r,this._day=d,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(i,r){return this._calendar.add(this,i,r)},set:function(i,r){return this._calendar.set(this,i,r)},compareTo:function(i){if(this._calendar.name!==i._calendar.name)throw(a.local.differentCalendars||a.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,i._calendar.local.name);var r=this._year!==i._year?this._year-i._year:this._month!==i._month?this.monthOfYear()-i.monthOfYear():this._day-i._day;return 0===r?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(i){return this._calendar.fromJD(i)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(i){return this._calendar.fromJSDate(i)},toString:function(){return(this.year()<0?"-":"")+e(Math.abs(this.year()),4)+"-"+e(this.month(),2)+"-"+e(this.day(),2)}}),t(n.prototype,{_validateLevel:0,newDate:function(i,r,d){return null==i?this.today():(i.year&&(this._validate(i,r,d,a.local.invalidDate||a.regionalOptions[""].invalidDate),d=i.day(),r=i.month(),i=i.year()),new o(this,i,r,d))},today:function(){return this.fromJSDate(new Date)},epoch:function(i){return this._validate(i,this.minMonth,this.minDay,a.local.invalidYear||a.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(i){var r=this._validate(i,this.minMonth,this.minDay,a.local.invalidYear||a.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+e(Math.abs(r.year()),4)},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,a.local.invalidYear||a.regionalOptions[""].invalidYear),12},monthOfYear:function(i,r){var d=this._validate(i,r,this.minDay,a.local.invalidMonth||a.regionalOptions[""].invalidMonth);return(d.month()+this.monthsInYear(d)-this.firstMonth)%this.monthsInYear(d)+this.minMonth},fromMonthOfYear:function(i,r){var d=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(i)+this.minMonth;return this._validate(i,d,this.minDay,a.local.invalidMonth||a.regionalOptions[""].invalidMonth),d},daysInYear:function(i){var r=this._validate(i,this.minMonth,this.minDay,a.local.invalidYear||a.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(i,r,d){var f=this._validate(i,r,d,a.local.invalidDate||a.regionalOptions[""].invalidDate);return f.toJD()-this.newDate(f.year(),this.fromMonthOfYear(f.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(i,r,d){var f=this._validate(i,r,d,a.local.invalidDate||a.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(f))+2)%this.daysInWeek()},extraInfo:function(i,r,d){return this._validate(i,r,d,a.local.invalidDate||a.regionalOptions[""].invalidDate),{}},add:function(i,r,d){return this._validate(i,this.minMonth,this.minDay,a.local.invalidDate||a.regionalOptions[""].invalidDate),this._correctAdd(i,this._add(i,r,d),r,d)},_add:function(i,r,d){if(this._validateLevel++,"d"===d||"w"===d){var f=i.toJD()+r*("w"===d?this.daysInWeek():1),h=i.calendar().fromJD(f);return this._validateLevel--,[h.year(),h.month(),h.day()]}try{var p=i.year()+("y"===d?r:0),T=i.monthOfYear()+("m"===d?r:0);h=i.day(),"y"===d?(i.month()!==this.fromMonthOfYear(p,T)&&(T=this.newDate(p,i.month(),this.minDay).monthOfYear()),T=Math.min(T,this.monthsInYear(p)),h=Math.min(h,this.daysInMonth(p,this.fromMonthOfYear(p,T)))):"m"===d&&(function(x){for(;T<x.minMonth;)p--,T+=x.monthsInYear(p);for(var m=x.monthsInYear(p);T>m-1+x.minMonth;)p++,T-=m,m=x.monthsInYear(p)}(this),h=Math.min(h,this.daysInMonth(p,this.fromMonthOfYear(p,T))));var w=[p,this.fromMonthOfYear(p,T),h];return this._validateLevel--,w}catch(x){throw this._validateLevel--,x}},_correctAdd:function(i,r,d,f){if(!(this.hasYearZero||"y"!==f&&"m"!==f||0!==r[0]&&i.year()>0==r[0]>0)){var h={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[f];r=this._add(i,d*h[0]+(d<0?-1:1)*h[1],h[2])}return i.date(r[0],r[1],r[2])},set:function(i,r,d){this._validate(i,this.minMonth,this.minDay,a.local.invalidDate||a.regionalOptions[""].invalidDate);var f="y"===d?r:i.year(),h="m"===d?r:i.month(),p="d"===d?r:i.day();return"y"!==d&&"m"!==d||(p=Math.min(p,this.daysInMonth(f,h))),i.date(f,h,p)},isValid:function(i,r,d){this._validateLevel++;var f=this.hasYearZero||0!==i;if(f){var h=this.newDate(i,r,this.minDay);f=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(h)&&d>=this.minDay&&d-this.minDay<this.daysInMonth(h)}return this._validateLevel--,f},toJSDate:function(i,r,d){var f=this._validate(i,r,d,a.local.invalidDate||a.regionalOptions[""].invalidDate);return a.instance().fromJD(this.toJD(f)).toJSDate()},fromJSDate:function(i){return this.fromJD(a.instance().fromJSDate(i).toJD())},_validate:function(i,r,d,f){if(i.year){if(0===this._validateLevel&&this.name!==i.calendar().name)throw(a.local.differentCalendars||a.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,i.calendar().local.name);return i}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(i,r,d))throw f.replace(/\{0\}/,this.local.name);var h=this.newDate(i,r,d);return this._validateLevel--,h}catch(p){throw this._validateLevel--,p}}}),t(s.prototype=new n,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var r=this._validate(i,this.minMonth,this.minDay,a.local.invalidYear||a.regionalOptions[""].invalidYear);return(i=r.year()+(r.year()<0?1:0))%4==0&&(i%100!=0||i%400==0)},weekOfYear:function(i,r,d){var f=this.newDate(i,r,d);return f.add(4-(f.dayOfWeek()||7),"d"),Math.floor((f.dayOfYear()-1)/7)+1},daysInMonth:function(i,r){var d=this._validate(i,r,this.minDay,a.local.invalidMonth||a.regionalOptions[""].invalidMonth);return this.daysPerMonth[d.month()-1]+(2===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(i,r,d){return(this.dayOfWeek(i,r,d)||7)<6},toJD:function(i,r,d){var f=this._validate(i,r,d,a.local.invalidDate||a.regionalOptions[""].invalidDate);i=f.year(),r=f.month(),d=f.day(),i<0&&i++,r<3&&(r+=12,i--);var h=Math.floor(i/100),p=2-h+Math.floor(h/4);return Math.floor(365.25*(i+4716))+Math.floor(30.6001*(r+1))+d+p-1524.5},fromJD:function(i){var r=Math.floor(i+.5),d=Math.floor((r-1867216.25)/36524.25),f=1524+(d=r+1+d-Math.floor(d/4)),h=Math.floor((f-122.1)/365.25),p=Math.floor(365.25*h),T=Math.floor((f-p)/30.6001),w=f-p-Math.floor(30.6001*T),x=T-(T>13.5?13:1),m=h-(x>2.5?4716:4715);return m<=0&&m--,this.newDate(m,x,w)},toJSDate:function(i,r,d){var f=this._validate(i,r,d,a.local.invalidDate||a.regionalOptions[""].invalidDate),h=new Date(f.year(),f.month()-1,f.day());return h.setHours(0),h.setMinutes(0),h.setSeconds(0),h.setMilliseconds(0),h.setHours(h.getHours()>12?h.getHours()+2:0),h},fromJSDate:function(i){return this.newDate(i.getFullYear(),i.getMonth()+1,i.getDate())}});var a=tt.exports=new l;a.cdate=o,a.baseCalendar=n,a.calendars.gregorian=s},{"object-assign":55}],83:[function(c,tt,B){var t=c("object-assign"),l=c("./main");t(l.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),l.local=l.regionalOptions[""],t(l.cdate.prototype,{formatDate:function(o,e){return"string"!=typeof o&&(e=o,o=""),this._calendar.formatDate(o||"",this,e)}}),t(l.baseCalendar.prototype,{UNIX_EPOCH:l.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:l.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(o,e,n){if("string"!=typeof o&&(n=e,e=o,o=""),!e)return"";if(e.calendar()!==this)throw l.local.invalidFormat||l.regionalOptions[""].invalidFormat;o=o||this.local.dateFormat;for(var a,i,r,d=(n=n||{}).dayNamesShort||this.local.dayNamesShort,f=n.dayNames||this.local.dayNames,h=n.monthNumbers||this.local.monthNumbers,p=n.monthNamesShort||this.local.monthNamesShort,T=n.monthNames||this.local.monthNames,w=function(E,v){for(var F=1;S+F<o.length&&o.charAt(S+F)===E;)F++;return S+=F-1,Math.floor(F/(v||1))>1},x=function(E,v,F,N){var z=""+v;if(w(E,N))for(;z.length<F;)z="0"+z;return z},m=this,A=function(E,v){return v?"function"==typeof T?T.call(m,E):T[E.month()-m.minMonth]:"function"==typeof p?p.call(m,E):p[E.month()-m.minMonth]},b=this.local.digits,k=function(E){return n.localNumbers&&b?b(E):E},L="",g=!1,S=0;S<o.length;S++)if(g)"'"!==o.charAt(S)||w("'")?L+=o.charAt(S):g=!1;else switch(o.charAt(S)){case"d":L+=k(x("d",e.day(),2));break;case"D":L+=(a=e.dayOfWeek(),i=d,r=f,w("D")?r[a]:i[a]);break;case"o":L+=x("o",e.dayOfYear(),3);break;case"w":L+=x("w",e.weekOfYear(),2);break;case"m":L+=(E=e,"function"==typeof h?h.call(m,E,w("m")):k(x("m",E.month(),2)));break;case"M":L+=A(e,w("M"));break;case"y":L+=w("y",2)?e.year():(e.year()%100<10?"0":"")+e.year()%100;break;case"Y":w("Y",2),L+=e.formatYear();break;case"J":L+=e.toJD();break;case"@":L+=(e.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":L+=(e.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":w("'")?L+="'":g=!0;break;default:L+=o.charAt(S)}var E;return L},parseDate:function(o,e,n){if(null==e)throw l.local.invalidArguments||l.regionalOptions[""].invalidArguments;if(""===(e="object"==typeof e?e.toString():e+""))return null;o=o||this.local.dateFormat;var s=(n=n||{}).shortYearCutoff||this.shortYearCutoff;s="string"!=typeof s?s:this.today().year()%100+parseInt(s,10);for(var a=n.dayNamesShort||this.local.dayNamesShort,i=n.dayNames||this.local.dayNames,r=n.parseMonth||this.local.parseMonth,d=n.monthNumbers||this.local.monthNumbers,f=n.monthNamesShort||this.local.monthNamesShort,h=n.monthNames||this.local.monthNames,p=-1,T=-1,w=-1,x=-1,m=-1,y=!1,A=!1,b=function(Y,$){for(var ot=1;N+ot<o.length&&o.charAt(N+ot)===Y;)ot++;return N+=ot-1,Math.floor(ot/($||1))>1},k=function(Y,$){var ot=b(Y,$),G=[2,3,ot?4:2,ot?4:2,10,11,20]["oyYJ@!".indexOf(Y)+1],R=new RegExp("^-?\\d{1,"+G+"}"),j=e.substring(F).match(R);if(!j)throw(l.local.missingNumberAt||l.regionalOptions[""].missingNumberAt).replace(/\{0\}/,F);return F+=j[0].length,parseInt(j[0],10)},L=this,g=function(){if("function"==typeof d){b("m");var Y=d.call(L,e.substring(F));return F+=Y.length,Y}return k("m")},S=function(Y,$,ot,G){for(var R=b(Y,G)?ot:$,j=0;j<R.length;j++)if(e.substr(F,R[j].length).toLowerCase()===R[j].toLowerCase())return F+=R[j].length,j+L.minMonth;throw(l.local.unknownNameAt||l.regionalOptions[""].unknownNameAt).replace(/\{0\}/,F)},E=function(){if("function"==typeof h){var Y=b("M")?h.call(L,e.substring(F)):f.call(L,e.substring(F));return F+=Y.length,Y}return S("M",f,h)},v=function(){if(e.charAt(F)!==o.charAt(N))throw(l.local.unexpectedLiteralAt||l.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,F);F++},F=0,N=0;N<o.length;N++)if(A)"'"!==o.charAt(N)||b("'")?v():A=!1;else switch(o.charAt(N)){case"d":x=k("d");break;case"D":S("D",a,i);break;case"o":m=k("o");break;case"w":k("w");break;case"m":w=g();break;case"M":w=E();break;case"y":var z=N;y=!b("y",2),N=z,T=k("y",2);break;case"Y":T=k("Y",2);break;case"J":p=k("J")+.5,"."===e.charAt(F)&&(F++,k("J"));break;case"@":p=k("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":p=k("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":F=e.length;break;case"'":b("'")?v():A=!0;break;default:v()}if(F<e.length)throw l.local.unexpectedText||l.regionalOptions[""].unexpectedText;if(-1===T?T=this.today().year():T<100&&y&&(T+=-1===s?1900:this.today().year()-this.today().year()%100-(T<=s?0:100)),"string"==typeof w&&(w=r.call(this,T,w)),m>-1){x=m;for(var U=this.daysInMonth(T,w=1);x>U;U=this.daysInMonth(T,w))w++,x-=U}return p>-1?this.fromJD(p):this.newDate(T,w,x)},determineDate:function(o,e,n,s,a){n&&"object"!=typeof n&&(a=s,s=n,n=null),"string"!=typeof s&&(a=s,s="");var i=this;return e=e?e.newDate():null,null==o?e:"string"==typeof o?function(r){try{return i.parseDate(s,r,a)}catch(p){}for(var d=((r=r.toLowerCase()).match(/^c/)&&n?n.newDate():null)||i.today(),f=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,h=f.exec(r);h;)d.add(parseInt(h[1],10),h[2]||"d"),h=f.exec(r);return d}(o):"number"==typeof o?isNaN(o)||o===1/0||o===-1/0?e:i.today().add(o,"d"):i.newDate(o)}})},{"./main":82,"object-assign":55}],84:[function(c,tt,B){"use strict";tt.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],85:[function(c,tt,B){"use strict";var t=c("./arrow_paths"),l=c("../../plots/font_attributes"),o=c("../../plots/cartesian/constants"),e=c("../../plot_api/plot_template").templatedArray;c("../../constants/axis_placeable_objects"),tt.exports=e("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:l({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:t.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:t.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:l({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/font_attributes":310,"./arrow_paths":84}],86:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../plots/cartesian/axes"),o=c("./draw").draw;function e(s){t.filterVisible(s._fullLayout.annotations).forEach(function(i){var r=l.getFromId(s,i.xref),d=l.getFromId(s,i.yref),f=l.getRefType(i.xref),h=l.getRefType(i.yref);i._extremes={},"range"===f&&n(i,r),"range"===h&&n(i,d)})}function n(s,a){var i,r=a._id,d=r.charAt(0),f=s[d],h=s["a"+d],w=s["_"+d+"padplus"],x=s["_"+d+"padminus"],m={x:1,y:-1}[d]*s[d+"shift"],y=3*s.arrowsize*s.arrowwidth||0,A=y+m,b=y-m,k=3*s.startarrowsize*s.arrowwidth||0,L=k+m,g=k-m;if(s["a"+d+"ref"]===s[d+"ref"]){var S=l.findExtremes(a,[a.r2c(f)],{ppadplus:A,ppadminus:b}),E=l.findExtremes(a,[a.r2c(h)],{ppadplus:Math.max(w,L),ppadminus:Math.max(x,g)});i={min:[S.min[0],E.min[0]],max:[S.max[0],E.max[0]]}}else L=h?L+h:L,g=h?g-h:g,i=l.findExtremes(a,[a.r2c(f)],{ppadplus:Math.max(w,A,L),ppadminus:Math.max(x,b,g)});s._extremes[r]=i}tt.exports=function(s){if(t.filterVisible(s._fullLayout.annotations).length&&s._fullData.length)return t.syncOrAsync([o,e],s)}},{"../../lib":232,"../../plots/cartesian/axes":279,"./draw":91}],87:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../registry"),o=c("../../plot_api/plot_template").arrayEditor;function e(s,a){var i,r,d,f,h,p,T,w=s._fullLayout.annotations,x=[],m=[],y=[],A=(a||[]).length;for(i=0;i<w.length;i++)if(f=(d=w[i]).clicktoshow){for(r=0;r<A;r++)if(p=(h=a[r]).xaxis,T=h.yaxis,p._id===d.xref&&T._id===d.yref&&p.d2r(h.x)===n(d._xclick,p)&&T.d2r(h.y)===n(d._yclick,T)){(d.visible?"onout"===f?m:y:x).push(i);break}r===A&&d.visible&&"onout"===f&&m.push(i)}return{on:x,off:m,explicitOff:y}}function n(s,a){return"log"===a.type?a.l2r(s):a.d2r(s)}tt.exports={hasClickToShow:function(s,a){var i=e(s,a);return i.on.length>0||i.explicitOff.length>0},onClick:function(s,a){var i,r,d=e(s,a),f=d.on,h=d.off.concat(d.explicitOff),p={},T=s._fullLayout.annotations;if(f.length||h.length){for(i=0;i<f.length;i++)(r=o(s.layout,"annotations",T[f[i]])).modifyItem("visible",!0),t.extendFlat(p,r.getUpdateObj());for(i=0;i<h.length;i++)(r=o(s.layout,"annotations",T[h[i]])).modifyItem("visible",!1),t.extendFlat(p,r.getUpdateObj());return l.call("update",s,{},p)}}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318}],88:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../color");tt.exports=function(o,e,n,s){s("opacity");var a=s("bgcolor"),i=s("bordercolor"),r=l.opacity(i);s("borderpad");var d=s("borderwidth"),f=s("showarrow");if(s("text",f?" ":n._dfltTitle.annotation),s("textangle"),t.coerceFont(s,"font",n.font),s("width"),s("align"),s("height")&&s("valign"),f){var h,p,T=s("arrowside");-1!==T.indexOf("end")&&(h=s("arrowhead"),p=s("arrowsize")),-1!==T.indexOf("start")&&(s("startarrowhead",h),s("startarrowsize",p)),s("arrowcolor",r?e.bordercolor:l.defaultLine),s("arrowwidth",2*(r&&d||1)),s("standoff"),s("startstandoff")}var w=s("hovertext"),x=n.hoverlabel||{};if(w){var m=s("hoverlabel.bgcolor",x.bgcolor||(l.opacity(a)?l.rgb(a):l.defaultLine)),y=s("hoverlabel.bordercolor",x.bordercolor||l.contrast(m));t.coerceFont(s,"hoverlabel.font",{family:x.font.family,size:x.font.size,color:x.font.color||y})}s("captureevents",!!w)}},{"../../lib":232,"../color":102}],89:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("../../lib/to_log_range");tt.exports=function(o,e,n,s){e=e||{};var a="log"===n&&"linear"===e.type;if(a||"linear"===n&&"log"===e.type)for(var r,d,f=o._fullLayout.annotations,h=e._id.charAt(0),p=0;p<f.length;p++)d="annotations["+p+"].",(r=f[p])[h+"ref"]===e._id&&T(h),r["a"+h+"ref"]===e._id&&T("a"+h);function T(w){var x=r[w],m=null;m=a?l(x,e.range):Math.pow(10,x),t(m)||(m=null),s(d+w,m)}}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],90:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../plots/cartesian/axes"),o=c("../../plots/array_container_defaults"),e=c("./common_defaults"),n=c("./attributes");function s(a,i,r){function d(E,v){return t.coerce(a,i,n,E,v)}var f=d("visible"),h=d("clicktoshow");if(f||h){e(a,i,r,d);for(var p=i.showarrow,T=["x","y"],w=[-10,-30],x={_fullLayout:r},m=0;m<2;m++){var y=T[m],A=l.coerceRef(a,i,x,y,"","paper");if("paper"!==A&&l.getFromId(x,A)._annIndices.push(i._index),l.coercePosition(i,x,d,A,y,.5),p){var b="a"+y,k=l.coerceRef(a,i,x,b,"pixel",["pixel","paper"]);"pixel"!==k&&k!==A&&(k=i[b]="pixel"),l.coercePosition(i,x,d,k,b,"pixel"===k?w[m]:.4)}d(y+"anchor"),d(y+"shift")}if(t.noneOrAll(a,i,["x","y"]),p&&t.noneOrAll(a,i,["ax","ay"]),h){var g=d("xclick"),S=d("yclick");i._xclick=void 0===g?i.x:l.cleanPosition(g,x,i.xref),i._yclick=void 0===S?i.y:l.cleanPosition(S,x,i.yref)}}}tt.exports=function(a,i){o(a,i,{name:"annotations",handleItemDefaults:s})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":85,"./common_defaults":88}],91:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../../registry"),o=c("../../plots/plots"),e=c("../../lib"),n=e.strTranslate,s=c("../../plots/cartesian/axes"),a=c("../color"),i=c("../drawing"),r=c("../fx"),d=c("../../lib/svg_text_utils"),f=c("../../lib/setcursor"),h=c("../dragelement"),p=c("../../plot_api/plot_template").arrayEditor,T=c("./draw_arrow_head");function w(y,A){var b=y._fullLayout.annotations[A]||{},k=s.getFromId(y,b.xref),L=s.getFromId(y,b.yref);k&&k.setScale(),L&&L.setScale(),m(y,b,A,!1,k,L)}function x(y,A,b,k,L){var g=L[b],S=L[b+"ref"],E=-1!==b.indexOf("y"),v="domain"===s.getRefType(S),F=E?k.h:k.w;return y?v?g+(E?-A:A)/y._length:y.p2r(y.r2p(g)+A):g+(E?-A:A)/F}function m(y,A,b,k,L,g){var S,E,v=y._fullLayout,F=y._fullLayout._size,N=y._context.edits;k?(S="annotation-"+k,E=k+".annotations"):(S="annotation",E="annotations");var z=p(y.layout,E,A),U=z.modifyBase,Y=z.modifyItem,$=z.getUpdateObj;v._infolayer.selectAll("."+S+'[data-index="'+b+'"]').remove();var ot="clip"+v._uid+"_ann"+b;if(A._input&&!1!==A.visible){var G={x:{},y:{}},R=+A.textangle||0,j=v._infolayer.append("g").classed(S,!0).attr("data-index",String(b)).style("opacity",A.opacity),P=j.append("g").classed("annotation-text-g",!0),I=N[A.showarrow?"annotationTail":"annotationPosition"],Z=A.captureevents||N.annotationText||I,q=P.append("g").style("pointer-events",Z?"all":null).call(f,"pointer").on("click",function(){y._dragging=!1,y.emit("plotly_clickannotation",ct(t.event))});A.hovertext&&q.on("mouseover",function(){var xt=A.hoverlabel,Tt=xt.font,zt=this.getBoundingClientRect(),Et=y.getBoundingClientRect();r.loneHover({x0:zt.left-Et.left,x1:zt.right-Et.left,y:(zt.top+zt.bottom)/2-Et.top,text:A.hovertext,color:xt.bgcolor,borderColor:xt.bordercolor,fontFamily:Tt.family,fontSize:Tt.size,fontColor:Tt.color},{container:v._hoverlayer.node(),outerContainer:v._paper.node(),gd:y})}).on("mouseout",function(){r.loneUnhover(v._hoverlayer.node())});var D=A.borderwidth,H=D+A.borderpad,C=q.append("rect").attr("class","bg").style("stroke-width",D+"px").call(a.stroke,A.bordercolor).call(a.fill,A.bgcolor),W=A.width||A.height,K=v._topclips.selectAll("#"+ot).data(W?[0]:[]);K.enter().append("clipPath").classed("annclip",!0).attr("id",ot).append("rect"),K.exit().remove();var J=A.font,Q=v._meta?e.templateString(A.text,v._meta):A.text,ut=q.append("text").classed("annotation-text",!0).text(Q);N.annotationText?ut.call(d.makeEditable,{delegate:q,gd:y}).call(gt).on("edit",function(xt){A.text=xt,this.call(gt),Y("text",xt),L&&L.autorange&&U(L._name+".autorange",!0),g&&g.autorange&&U(g._name+".autorange",!0),l.call("_guiRelayout",y,$())}):ut.call(gt)}else t.selectAll("#"+ot).remove();function ct(xt){var Tt={index:b,annotation:A._input,fullAnnotation:A,event:xt};return k&&(Tt.subplotId=k),Tt}function gt(xt){return xt.call(i.font,J).attr({"text-anchor":{left:"start",right:"end"}[A.align]||"middle"}),d.convertToTspans(xt,y,vt),xt}function vt(){var xt=ut.selectAll("a");1===xt.size()&&xt.text()===ut.text()&&q.insert("a",":first-child").attr({"xlink:xlink:href":xt.attr("xlink:href"),"xlink:xlink:show":xt.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(C.node());var Tt=q.select(".annotation-text-math-group"),zt=!Tt.empty(),Et=i.bBox((zt?Tt:ut).node()),At=Et.width,lt=Et.height,rt=A.width||At,dt=A.height||lt,mt=Math.round(rt+2*H),Dt=Math.round(dt+2*H);function bt(re,ve){return"auto"===ve&&(ve=re<1/3?"left":re>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[ve]}for(var wt=!1,Ot=["x","y"],It=0;It<Ot.length;It++){var St,Nt,Vt,Ct,Gt,$t=Ot[It],Xt=A[$t+"ref"]||$t,de=A["a"+$t+"ref"],Kt={x:L,y:g}[$t],kt=(R+("x"===$t?0:-90))*Math.PI/180,Mt=mt*Math.cos(kt),qt=Dt*Math.sin(kt),ce=Math.abs(Mt)+Math.abs(qt),Te=A[$t+"anchor"],Oe=A[$t+"shift"]*("x"===$t?1:-1),xe=G[$t],ye=s.getRefType(Xt);if(Kt&&"domain"!==ye){var le=Kt.r2fraction(A[$t]);(le<0||le>1)&&(de===Xt?((le=Kt.r2fraction(A["a"+$t]))<0||le>1)&&(wt=!0):wt=!0),St=Kt._offset+Kt.r2p(A[$t]),Ct=.5}else{var nt="domain"===ye;"x"===$t?(Vt=A[$t],St=nt?Kt._offset+Kt._length*Vt:St=F.l+F.w*Vt):(Vt=1-A[$t],St=nt?Kt._offset+Kt._length*Vt:St=F.t+F.h*Vt),Ct=A.showarrow?.5:Vt}if(A.showarrow){xe.head=St;var it=A["a"+$t];if(Gt=Mt*bt(.5,A.xanchor)-qt*bt(.5,A.yanchor),de===Xt){var Lt=s.getRefType(de);"domain"===Lt?("y"===$t&&(it=1-it),xe.tail=Kt._offset+Kt._length*it):xe.tail="paper"===Lt?"y"===$t?F.t+F.h*(it=1-it):F.l+F.w*it:Kt._offset+Kt.r2p(it),Nt=Gt}else xe.tail=St+it,Nt=Gt+it;xe.text=xe.tail+Gt;var Pt=v["x"===$t?"width":"height"];if("paper"===Xt&&(xe.head=e.constrain(xe.head,1,Pt-1)),"pixel"===de){var Bt=-Math.max(xe.tail-3,xe.text),Rt=Math.min(xe.tail+3,xe.text)-Pt;Bt>0?(xe.tail+=Bt,xe.text+=Bt):Rt>0&&(xe.tail-=Rt,xe.text-=Rt)}xe.tail+=Oe,xe.head+=Oe}else Nt=Gt=ce*bt(Ct,Te),xe.text=St+Gt;xe.text+=Oe,Gt+=Oe,A["_"+$t+"padplus"]=ce/2+(Nt+=Oe),A["_"+$t+"padminus"]=ce/2-Nt,A["_"+$t+"size"]=ce,A["_"+$t+"shift"]=Gt}if(wt)q.remove();else{var jt=0,Ut=0;"left"!==A.align&&(jt=(rt-At)*("center"===A.align?.5:1)),"top"!==A.valign&&(Ut=(dt-lt)*("middle"===A.valign?.5:1)),zt?Tt.select("svg").attr({x:H+jt-1,y:H+Ut}).call(i.setClipUrl,W?ot:null,y):ut.call(d.positionText,H+jt-Et.left,H+Ut-Et.top).call(i.setClipUrl,W?ot:null,y),K.select("rect").call(i.setRect,H,H,rt,dt),C.call(i.setRect,D/2,D/2,mt-D,Dt-D),q.call(i.setTranslate,Math.round(G.x.text-mt/2),Math.round(G.y.text-Dt/2)),P.attr({transform:"rotate("+R+","+G.x.text+","+G.y.text+")"});var fe,Ae=function(re,ve){j.selectAll(".annotation-arrow-g").remove();var Pe=G.x.head,se=G.y.head,te=G.x.tail+re,Le=G.y.tail+ve,_e=G.x.text+re,ge=G.y.text+ve,ke=e.rotationXYMatrix(R,_e,ge),he=e.apply2DTransform(ke),Fe=e.apply2DTransform2(ke),Ie=+C.attr("width"),Re=+C.attr("height"),Ze=_e-.5*Ie,We=Ze+Ie,Be=ge-.5*Re,be=Be+Re,me=[[Ze,Be,Ze,be],[Ze,be,We,be],[We,be,We,Be],[We,Be,Ze,Be]].map(Fe);if(!me.reduce(function($e,mn){return $e^!!e.segmentsIntersect(Pe,se,Pe+1e6,se+1e6,mn[0],mn[1],mn[2],mn[3])},!1)){me.forEach(function($e){var mn=e.segmentsIntersect(te,Le,Pe,se,$e[0],$e[1],$e[2],$e[3]);mn&&(te=mn.x,Le=mn.y)});var Me=A.arrowwidth,ze=A.arrowcolor,Ce=A.arrowside,Ve=j.append("g").style({opacity:a.opacity(ze)}).classed("annotation-arrow-g",!0),Xe=Ve.append("path").attr("d","M"+te+","+Le+"L"+Pe+","+se).style("stroke-width",Me+"px").call(a.stroke,a.rgb(ze));if(T(Xe,Ce,A),N.annotationPosition&&Xe.node().parentNode&&!k){var Qe=Pe,rn=se;if(A.standoff){var ln=Math.sqrt(Math.pow(Pe-te,2)+Math.pow(se-Le,2));Qe+=A.standoff*(te-Pe)/ln,rn+=A.standoff*(Le-se)/ln}var on,cn,dn=Ve.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(te-Qe)+","+(Le-rn),transform:n(Qe,rn)}).style("stroke-width",Me+6+"px").call(a.stroke,"rgba(0,0,0,0)").call(a.fill,"rgba(0,0,0,0)");h.init({element:dn.node(),gd:y,prepFn:function(){var $e=i.getTranslate(q);on=$e.x,cn=$e.y,L&&L.autorange&&U(L._name+".autorange",!0),g&&g.autorange&&U(g._name+".autorange",!0)},moveFn:function($e,mn){var kn=he(on,cn),Ue=kn[0]+$e,fn=kn[1]+mn;q.call(i.setTranslate,Ue,fn),Y("x",x(L,$e,"x",F,A)),Y("y",x(g,mn,"y",F,A)),A.axref===A.xref&&Y("ax",x(L,$e,"ax",F,A)),A.ayref===A.yref&&Y("ay",x(g,mn,"ay",F,A)),Ve.attr("transform",n($e,mn)),P.attr({transform:"rotate("+R+","+Ue+","+fn+")"})},doneFn:function(){l.call("_guiRelayout",y,$());var $e=document.querySelector(".js-notes-box-panel");$e&&$e.redraw($e.selectedObj)}})}}};A.showarrow&&Ae(0,0),I&&h.init({element:q.node(),gd:y,prepFn:function(){fe=P.attr("transform")},moveFn:function(re,ve){var Pe="pointer";if(A.showarrow)Y("ax",A.axref===A.xref?x(L,re,"ax",F,A):A.ax+re),Y("ay",A.ayref===A.yref?x(g,ve,"ay",F.w,A):A.ay+ve),Ae(re,ve);else{if(k)return;var se,te;if(L)se=x(L,re,"x",F,A);else{var Le=A._xsize/F.w;se=h.align(A.x+(A._xshift-A.xshift)/F.w-Le/2+re/F.w,Le,0,1,A.xanchor)}if(g)te=x(g,ve,"y",F,A);else{var ge=A._ysize/F.h;te=h.align(A.y-(A._yshift+A.yshift)/F.h-ge/2-ve/F.h,ge,0,1,A.yanchor)}Y("x",se),Y("y",te),L&&g||(Pe=h.getCursor(L?.5:se,g?.5:te,A.xanchor,A.yanchor))}P.attr({transform:n(re,ve)+fe}),f(q,Pe)},clickFn:function(re,ve){A.captureevents&&y.emit("plotly_clickannotation",ct(ve))},doneFn:function(){f(q),l.call("_guiRelayout",y,$());var re=document.querySelector(".js-notes-box-panel");re&&re.redraw(re.selectedObj)}})}}}tt.exports={draw:function(y){var A=y._fullLayout;A._infolayer.selectAll(".annotation").remove();for(var b=0;b<A.annotations.length;b++)A.annotations[b].visible&&w(y,b);return o.previousPromises(y)},drawOne:w,drawRaw:m}},{"../../lib":232,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../fx":142,"./draw_arrow_head":92,"@plotly/d3":11}],92:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../color"),o=c("./arrow_paths"),e=c("../../lib"),n=e.strScale,s=e.strRotate,a=e.strTranslate;tt.exports=function(i,r,d){var f,h,p,T,w=i.node(),x=o[d.arrowhead||0],m=o[d.startarrowhead||0],y=(d.arrowwidth||1)*(d.arrowsize||1),A=(d.arrowwidth||1)*(d.startarrowsize||1),b=r.indexOf("start")>=0,k=r.indexOf("end")>=0,L=x.backoff*y+d.standoff,g=m.backoff*A+d.startstandoff;if("line"===w.nodeName){f={x:+i.attr("x1"),y:+i.attr("y1")},h={x:+i.attr("x2"),y:+i.attr("y2")};var S=f.x-h.x,E=f.y-h.y;if(T=(p=Math.atan2(E,S))+Math.PI,L&&g&&L+g>Math.sqrt(S*S+E*E))return void j();if(L){if(L*L>S*S+E*E)return void j();var v=L*Math.cos(p),F=L*Math.sin(p);h.x+=v,h.y+=F,i.attr({x2:h.x,y2:h.y})}if(g){if(g*g>S*S+E*E)return void j();var N=g*Math.cos(p),z=g*Math.sin(p);f.x-=N,f.y-=z,i.attr({x1:f.x,y1:f.y})}}else if("path"===w.nodeName){var U=w.getTotalLength(),Y="";if(U<L+g)return void j();var $=w.getPointAtLength(0),ot=w.getPointAtLength(.1);p=Math.atan2($.y-ot.y,$.x-ot.x),f=w.getPointAtLength(Math.min(g,U)),Y="0px,"+g+"px,";var G=w.getPointAtLength(U),R=w.getPointAtLength(U-.1);T=Math.atan2(G.y-R.y,G.x-R.x),h=w.getPointAtLength(Math.max(0,U-L)),i.style("stroke-dasharray",Y+=U-(Y?g+L:L)+"px,"+U+"px")}function j(){i.style("stroke-dasharray","0px,100px")}function P(I,Z,q,D){I.path&&(I.noRotate&&(q=0),t.select(w.parentNode).append("path").attr({class:i.attr("class"),d:I.path,transform:a(Z.x,Z.y)+s(180*q/Math.PI)+n(D)}).style({fill:l.rgb(d.arrowcolor),"stroke-width":0}))}b&&P(m,f,p,A),k&&P(x,h,T,y)}},{"../../lib":232,"../color":102,"./arrow_paths":84,"@plotly/d3":11}],93:[function(c,tt,B){"use strict";var t=c("./draw"),l=c("./click");tt.exports={moduleType:"component",name:"annotations",layoutAttributes:c("./attributes"),supplyLayoutDefaults:c("./defaults"),includeBasePlot:c("../../plots/cartesian/include_components")("annotations"),calcAutorange:c("./calc_autorange"),draw:t.draw,drawOne:t.drawOne,drawRaw:t.drawRaw,hasClickToShow:l.hasClickToShow,onClick:l.onClick,convertCoords:c("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":85,"./calc_autorange":86,"./click":87,"./convert_coords":89,"./defaults":90,"./draw":91}],94:[function(c,tt,B){"use strict";var t=c("../annotations/attributes"),l=c("../../plot_api/edit_types").overrideAll,o=c("../../plot_api/plot_template").templatedArray;tt.exports=l(o("annotation",{visible:t.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:t.xanchor,xshift:t.xshift,yanchor:t.yanchor,yshift:t.yshift,text:t.text,textangle:t.textangle,font:t.font,width:t.width,height:t.height,opacity:t.opacity,align:t.align,valign:t.valign,bgcolor:t.bgcolor,bordercolor:t.bordercolor,borderpad:t.borderpad,borderwidth:t.borderwidth,showarrow:t.showarrow,arrowcolor:t.arrowcolor,arrowhead:t.arrowhead,startarrowhead:t.startarrowhead,arrowside:t.arrowside,arrowsize:t.arrowsize,startarrowsize:t.startarrowsize,arrowwidth:t.arrowwidth,standoff:t.standoff,startstandoff:t.startstandoff,hovertext:t.hovertext,hoverlabel:t.hoverlabel,captureevents:t.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../annotations/attributes":85}],95:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../plots/cartesian/axes");function o(e,n){var s=n.fullSceneLayout.domain,a=n.fullLayout._size,i={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},t.extendFlat(e._xa,i),l.setConvert(e._xa),e._xa._offset=a.l+s.x[0]*a.w,e._xa.l2p=function(){return.5*(1+e._pdata[0]/e._pdata[3])*a.w*(s.x[1]-s.x[0])},e._ya={},t.extendFlat(e._ya,i),l.setConvert(e._ya),e._ya._offset=a.t+(1-s.y[1])*a.h,e._ya.l2p=function(){return.5*(1-e._pdata[1]/e._pdata[3])*a.h*(s.y[1]-s.y[0])}}tt.exports=function(e){for(var n=e.fullSceneLayout.annotations,s=0;s<n.length;s++)o(n[s],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()}},{"../../lib":232,"../../plots/cartesian/axes":279}],96:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../plots/cartesian/axes"),o=c("../../plots/array_container_defaults"),e=c("../annotations/common_defaults"),n=c("./attributes");function s(a,i,r,d){function f(p,T){return t.coerce(a,i,n,p,T)}function h(p){var T=p+"axis",w={_fullLayout:{}};return w._fullLayout[T]=r[T],l.coercePosition(i,w,f,p,p,.5)}f("visible")&&(e(a,i,d.fullLayout,f),h("x"),h("y"),h("z"),t.noneOrAll(a,i,["x","y","z"]),i.xref="x",i.yref="y",i.zref="z",f("xanchor"),f("yanchor"),f("xshift"),f("yshift"),i.showarrow&&(i.axref="pixel",i.ayref="pixel",f("ax",-10),f("ay",-30),t.noneOrAll(a,i,["ax","ay"])))}tt.exports=function(a,i,r){o(a,i,{name:"annotations",handleItemDefaults:s,fullLayout:r.fullLayout})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"../annotations/common_defaults":88,"./attributes":94}],97:[function(c,tt,B){"use strict";var t=c("../annotations/draw").drawRaw,l=c("../../plots/gl3d/project"),o=["x","y","z"];tt.exports=function(e){for(var n=e.fullSceneLayout,s=e.dataScale,a=n.annotations,i=0;i<a.length;i++){for(var r=a[i],d=!1,f=0;f<3;f++){var h=o[f],T=n[h+"axis"].r2fraction(r[h]);if(T<0||T>1){d=!0;break}}d?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+i+'"]').remove():(r._pdata=l(e.glplot.cameraParams,[n.xaxis.r2l(r.x)*s[0],n.yaxis.r2l(r.y)*s[1],n.zaxis.r2l(r.z)*s[2]]),t(e.graphDiv,r,i,e.id,r._xa,r._ya))}}},{"../../plots/gl3d/project":313,"../annotations/draw":91}],98:[function(c,tt,B){"use strict";var t=c("../../registry"),l=c("../../lib");tt.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:c("./attributes")}}},layoutAttributes:c("./attributes"),handleDefaults:c("./defaults"),includeBasePlot:function(o,e){var n=t.subplotsRegistry.gl3d;if(n)for(var s=n.attrRegex,a=Object.keys(o),i=0;i<a.length;i++){var r=a[i];s.test(r)&&(o[r].annotations||[]).length&&(l.pushUnique(e._basePlotModules,n),l.pushUnique(e._subplots.gl3d,r))}},convert:c("./convert"),draw:c("./draw")}},{"../../lib":232,"../../registry":318,"./attributes":94,"./convert":95,"./defaults":96,"./draw":97}],99:[function(c,tt,B){"use strict";tt.exports=c("world-calendars/dist/main"),c("world-calendars/dist/plus"),c("world-calendars/dist/calendars/chinese"),c("world-calendars/dist/calendars/coptic"),c("world-calendars/dist/calendars/discworld"),c("world-calendars/dist/calendars/ethiopian"),c("world-calendars/dist/calendars/hebrew"),c("world-calendars/dist/calendars/islamic"),c("world-calendars/dist/calendars/julian"),c("world-calendars/dist/calendars/mayan"),c("world-calendars/dist/calendars/nanakshahi"),c("world-calendars/dist/calendars/nepali"),c("world-calendars/dist/calendars/persian"),c("world-calendars/dist/calendars/taiwan"),c("world-calendars/dist/calendars/thai"),c("world-calendars/dist/calendars/ummalqura")},{"world-calendars/dist/calendars/chinese":68,"world-calendars/dist/calendars/coptic":69,"world-calendars/dist/calendars/discworld":70,"world-calendars/dist/calendars/ethiopian":71,"world-calendars/dist/calendars/hebrew":72,"world-calendars/dist/calendars/islamic":73,"world-calendars/dist/calendars/julian":74,"world-calendars/dist/calendars/mayan":75,"world-calendars/dist/calendars/nanakshahi":76,"world-calendars/dist/calendars/nepali":77,"world-calendars/dist/calendars/persian":78,"world-calendars/dist/calendars/taiwan":79,"world-calendars/dist/calendars/thai":80,"world-calendars/dist/calendars/ummalqura":81,"world-calendars/dist/main":82,"world-calendars/dist/plus":83}],100:[function(c,tt,B){"use strict";var t=c("./calendars"),l=c("../../lib"),o=c("../../constants/numerical"),e=o.EPOCHJD,n=o.ONEDAY,s={valType:"enumerated",values:l.sortObjectKeys(t.calendars),editType:"calc",dflt:"gregorian"},a=function(m,y,A,b){var k={};return k[A]=s,l.coerce(m,y,k,A,b)},i={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:"##",w:"##",c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},r={};function d(m){return r[m]||(r[m]=t.instance(m))}function f(m){return l.extendFlat({},s,{description:m})}function h(m){return"Sets the calendar system to use with `"+m+"` date data."}var p={xcalendar:f(h("x"))},T=l.extendFlat({},p,{ycalendar:f(h("y"))}),w=l.extendFlat({},T,{zcalendar:f(h("z"))}),x=f(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));tt.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:T,bar:T,box:T,heatmap:T,contour:T,histogram:T,histogram2d:T,histogram2dcontour:T,scatter3d:w,surface:w,mesh3d:w,scattergl:T,ohlc:p,candlestick:p},layout:{calendar:f(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:x},yaxis:{calendar:x},scene:{xaxis:{calendar:x},yaxis:{calendar:x},zaxis:{calendar:x}},polar:{radialaxis:{calendar:x}}},transforms:{filter:{valuecalendar:f(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:f(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:s,handleDefaults:a,handleTraceDefaults:function(m,y,A,b){for(var k=0;k<A.length;k++)a(m,y,A[k]+"calendar",b.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:d,worldCalFmt:function(m,y,A){for(var b,k,L,g,S,E=Math.floor((y+.05)/n)+e,v=d(A).fromJD(E),F=0;-1!==(F=m.indexOf("%",F));)"0"===(b=m.charAt(F+1))||"-"===b||"_"===b?(L=3,k=m.charAt(F+2),"_"===b&&(b="-")):(k=b,b="0",L=2),(g=i[k])?(S="##"===g?"##":v.formatDate(g[b]),m=m.substr(0,F)+S+m.substr(F+L),F+=S.length):F+=L;return m}}},{"../../constants/numerical":212,"../../lib":232,"./calendars":99}],101:[function(c,tt,B){"use strict";B.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],B.defaultLine="#444",B.lightLine="#eee",B.background="#fff",B.borderLine="#BEC8D9",B.lightFraction=1e3/11},{}],102:[function(c,tt,B){"use strict";var t=c("tinycolor2"),l=c("fast-isnumeric"),o=c("../../lib/array").isTypedArray,e=tt.exports={},n=c("./attributes");e.defaults=n.defaults;var s=e.defaultLine=n.defaultLine;e.lightLine=n.lightLine;var a=e.background=n.background;function i(r){if(l(r)||"string"!=typeof r)return r;var d=r.trim();if("rgb"!==d.substr(0,3))return r;var f=d.match(/^rgba?\s*\(([^()]*)\)$/);if(!f)return r;var h=f[1].trim().split(/\s*[\s,]\s*/),p="a"===d.charAt(3)&&4===h.length;if(!p&&3!==h.length)return r;for(var T=0;T<h.length;T++){if(!(h[T].length&&(h[T]=Number(h[T]),h[T]>=0)))return r;if(3===T)h[T]>1&&(h[T]=1);else if(h[T]>=1)return r}var w=Math.round(255*h[0])+", "+Math.round(255*h[1])+", "+Math.round(255*h[2]);return p?"rgba("+w+", "+h[3]+")":"rgb("+w+")"}e.tinyRGB=function(r){var d=r.toRgb();return"rgb("+Math.round(d.r)+", "+Math.round(d.g)+", "+Math.round(d.b)+")"},e.rgb=function(r){return e.tinyRGB(t(r))},e.opacity=function(r){return r?t(r).getAlpha():0},e.addOpacity=function(r,d){var f=t(r).toRgb();return"rgba("+Math.round(f.r)+", "+Math.round(f.g)+", "+Math.round(f.b)+", "+d+")"},e.combine=function(r,d){var f=t(r).toRgb();if(1===f.a)return t(r).toRgbString();var h=t(d||a).toRgb(),p=1===h.a?h:{r:255*(1-h.a)+h.r*h.a,g:255*(1-h.a)+h.g*h.a,b:255*(1-h.a)+h.b*h.a};return t({r:p.r*(1-f.a)+f.r*f.a,g:p.g*(1-f.a)+f.g*f.a,b:p.b*(1-f.a)+f.b*f.a}).toRgbString()},e.contrast=function(r,d,f){var h=t(r);return 1!==h.getAlpha()&&(h=t(e.combine(r,a))),(h.isDark()?d?h.lighten(d):a:f?h.darken(f):s).toString()},e.stroke=function(r,d){var f=t(d);r.style({stroke:e.tinyRGB(f),"stroke-opacity":f.getAlpha()})},e.fill=function(r,d){var f=t(d);r.style({fill:e.tinyRGB(f),"fill-opacity":f.getAlpha()})},e.clean=function(r){if(r&&"object"==typeof r){var d,f,h,p,T=Object.keys(r);for(d=0;d<T.length;d++)if(p=r[h=T[d]],"color"===h.substr(h.length-5))if(Array.isArray(p))for(f=0;f<p.length;f++)p[f]=i(p[f]);else r[h]=i(p);else if("colorscale"===h.substr(h.length-10)&&Array.isArray(p))for(f=0;f<p.length;f++)Array.isArray(p[f])&&(p[f][1]=i(p[f][1]));else if(Array.isArray(p)){var w=p[0];if(!Array.isArray(w)&&w&&"object"==typeof w)for(f=0;f<p.length;f++)e.clean(p[f])}else p&&"object"==typeof p&&!o(p)&&e.clean(p)}}},{"../../lib/array":218,"./attributes":101,"fast-isnumeric":17,tinycolor2:67}],103:[function(c,tt,B){"use strict";var t=c("../../plots/cartesian/layout_attributes"),l=c("../../plots/font_attributes"),o=c("../../lib/extend").extendFlat,e=c("../../plot_api/edit_types").overrideAll;tt.exports=e({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:t.linecolor,outlinewidth:t.linewidth,bordercolor:t.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:t.tickmode,nticks:t.nticks,tick0:t.tick0,dtick:t.dtick,tickvals:t.tickvals,ticktext:t.ticktext,ticks:o({},t.ticks,{dflt:""}),ticklabeloverflow:o({},t.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:t.ticklen,tickwidth:t.tickwidth,tickcolor:t.tickcolor,ticklabelstep:t.ticklabelstep,showticklabels:t.showticklabels,tickfont:l({}),tickangle:t.tickangle,tickformat:t.tickformat,tickformatstops:t.tickformatstops,tickprefix:t.tickprefix,showtickprefix:t.showtickprefix,ticksuffix:t.ticksuffix,showticksuffix:t.showticksuffix,separatethousands:t.separatethousands,exponentformat:t.exponentformat,minexponent:t.minexponent,showexponent:t.showexponent,title:{text:{valType:"string"},font:l({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:l({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plots/cartesian/layout_attributes":294,"../../plots/font_attributes":310}],104:[function(c,tt,B){"use strict";tt.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],105:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../plot_api/plot_template"),o=c("../../plots/cartesian/tick_value_defaults"),e=c("../../plots/cartesian/tick_mark_defaults"),n=c("../../plots/cartesian/tick_label_defaults"),s=c("../../plots/cartesian/prefix_suffix_defaults"),a=c("./attributes");tt.exports=function(i,r,d){var f=l.newContainer(r,"colorbar"),h=i.colorbar||{};function p(E,v){return t.coerce(h,f,a,E,v)}var T=d.margin||{t:0,b:0,l:0,r:0},w=d.width-T.l-T.r,x=d.height-T.t-T.b,m="v"===p("orientation"),y=p("thicknessmode");p("thickness","fraction"===y?30/(m?w:x):30);var A=p("lenmode");p("len","fraction"===A?1:m?x:w),p("x",m?1.02:.5),p("xanchor",m?"left":"center"),p("xpad"),p("y",m?.5:1.02),p("yanchor",m?"middle":"bottom"),p("ypad"),t.noneOrAll(h,f,["x","y"]),p("outlinecolor"),p("outlinewidth"),p("bordercolor"),p("borderwidth"),p("bgcolor");var b=t.coerce(h,f,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:m?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");p("ticklabeloverflow",-1!==b.indexOf("inside")?"hide past domain":"hide past div"),o(h,f,p,"linear");var k=d.font,L={outerTicks:!1,font:k};-1!==b.indexOf("inside")&&(L.bgColor="black"),s(h,f,p,"linear",L),n(h,f,p,"linear",L),e(h,f,p,"linear",L),p("title.text",d._dfltTitle.colorbar);var g=f.tickfont,S=t.extendFlat({},g,{color:k.color,size:t.bigFont(g.size)});t.coerceFont(p,"title.font",S),p("title.side",m?"top":"right")}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/prefix_suffix_defaults":298,"../../plots/cartesian/tick_label_defaults":303,"../../plots/cartesian/tick_mark_defaults":304,"../../plots/cartesian/tick_value_defaults":305,"./attributes":103}],106:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("tinycolor2"),o=c("../../plots/plots"),e=c("../../registry"),n=c("../../plots/cartesian/axes"),s=c("../dragelement"),a=c("../../lib"),i=a.strTranslate,r=c("../../lib/extend").extendFlat,d=c("../../lib/setcursor"),f=c("../drawing"),h=c("../color"),p=c("../titles"),T=c("../../lib/svg_text_utils"),w=c("../colorscale/helpers").flipScale,x=c("../../plots/cartesian/axis_defaults"),m=c("../../plots/cartesian/position_defaults"),y=c("../../plots/cartesian/layout_attributes"),A=c("../../constants/alignment"),b=A.LINE_SPACING,k=A.FROM_TL,L=A.FROM_BR,g=c("./constants").cn;tt.exports={draw:function(S){var E=S._fullLayout._infolayer.selectAll("g."+g.colorbar).data(function(v){var F,N,z,U,Y=v._fullLayout,$=v.calcdata,ot=[];function G(W){return r(W,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function R(){"function"==typeof U.calc?U.calc(v,z,F):(F._fillgradient=N.reversescale?w(N.colorscale):N.colorscale,F._zrange=[N[U.min],N[U.max]])}for(var j=0;j<$.length;j++){var I=(z=$[j][0].trace)._module.colorbar;if(!0===z.visible&&I)for(var Z=Array.isArray(I),q=Z?I:[I],D=0;D<q.length;D++){var M=(U=q[D]).container;(N=M?z[M]:z)&&N.showscale&&((F=G(N.colorbar))._id="cb"+z.uid+(Z&&M?"-"+M:""),F._traceIndex=z.index,F._propPrefix=(M?M+".":"")+"colorbar.",F._meta=z._meta,R(),ot.push(F))}}for(var H in Y._colorAxes)if((N=Y[H]).showscale){var C=Y._colorAxes[H];(F=G(N.colorbar))._id="cb"+H,F._propPrefix=H+".colorbar.",F._meta=Y._meta,U={min:"cmin",max:"cmax"},"heatmap"!==C[0]&&(U.calc=(z=C[1])._module.colorbar.calc),R(),ot.push(F)}return ot}(S),function(v){return v._id});E.enter().append("g").attr("class",function(v){return v._id}).classed(g.colorbar,!0),E.each(function(v){var F=t.select(this);a.ensureSingle(F,"rect",g.cbbg),a.ensureSingle(F,"g",g.cbfills),a.ensureSingle(F,"g",g.cblines),a.ensureSingle(F,"g",g.cbaxis,function(z){z.classed(g.crisp,!0)}),a.ensureSingle(F,"g",g.cbtitleunshift,function(z){z.append("g").classed(g.cbtitle,!0)}),a.ensureSingle(F,"rect",g.cboutline);var z,U,Y,$,ot,G,R,j,N=function(z,U,Y){var $="v"===U.orientation,ot=U.len,G=U.lenmode,R=U.thickness,j=U.thicknessmode,P=U.outlinewidth,I=U.borderwidth,Z=U.bgcolor,q=U.xanchor,D=U.yanchor,M=U.xpad,H=U.ypad,C=U.x,W=$?U.y:1-U.y,K=Y._fullLayout,J=K._size,Q=U._fillcolor,ut=U._line,ct=U.title,gt=ct.side,vt=U._zrange||t.extent(("function"==typeof Q?Q:ut.color).domain()),xt="function"==typeof ut.color?ut.color:function(){return ut.color},Tt="function"==typeof Q?Q:function(){return Q},zt=U._levels,Et=function(ye,le,nt){var it,Lt,Pt=le._levels,Bt=[],Rt=[],jt=Pt.end+Pt.size/100,Ut=Pt.size,ee=1.001*nt[0]-.001*nt[1],ie=1.001*nt[1]-.001*nt[0];for(Lt=0;Lt<1e5&&(it=Pt.start+Lt*Ut,!(Ut>0?it>=jt:it<=jt));Lt++)it>ee&&it<ie&&Bt.push(it);if(le._fillgradient)Rt=[0];else if("function"==typeof le._fillcolor){var fe=le._filllevels;if(fe)for(jt=fe.end+fe.size/100,Ut=fe.size,Lt=0;Lt<1e5&&(it=fe.start+Lt*Ut,!(Ut>0?it>=jt:it<=jt));Lt++)it>nt[0]&&it<nt[1]&&Rt.push(it);else(Rt=Bt.map(function(Ae){return Ae-Pt.size/2})).push(Rt[Rt.length-1]+Pt.size)}else le._fillcolor&&"string"==typeof le._fillcolor&&(Rt=[0]);return Pt.size<0&&(Bt.reverse(),Rt.reverse()),{line:Bt,fill:Rt}}(0,U,vt),At=Et.fill,lt=Et.line,rt=Math.round(R*("fraction"===j?$?J.w:J.h:1)),dt=rt/($?J.w:J.h),mt=Math.round(ot*("fraction"===G?$?J.h:J.w:1)),Dt=mt/($?J.h:J.w),bt=Math.round($?C*J.w+M:W*J.h+H),wt={center:.5,right:1}[q]||0,Ot={top:1,middle:.5}[D]||0,It=$?C-wt*dt:W-Ot*dt,St=$?W-Ot*Dt:C-wt*Dt,Nt=Math.round($?J.h*(1-St):J.w*St);U._lenFrac=Dt,U._thickFrac=dt,U._uFrac=It,U._vFrac=St;var Vt=U._axis=function(ye,le,nt){var it=ye._fullLayout,Lt="v"===le.orientation,Pt={type:"linear",range:nt,tickmode:le.tickmode,nticks:le.nticks,tick0:le.tick0,dtick:le.dtick,tickvals:le.tickvals,ticktext:le.ticktext,ticks:le.ticks,ticklen:le.ticklen,tickwidth:le.tickwidth,tickcolor:le.tickcolor,showticklabels:le.showticklabels,ticklabelposition:le.ticklabelposition,ticklabeloverflow:le.ticklabeloverflow,ticklabelstep:le.ticklabelstep,tickfont:le.tickfont,tickangle:le.tickangle,tickformat:le.tickformat,exponentformat:le.exponentformat,minexponent:le.minexponent,separatethousands:le.separatethousands,showexponent:le.showexponent,showtickprefix:le.showtickprefix,tickprefix:le.tickprefix,showticksuffix:le.showticksuffix,ticksuffix:le.ticksuffix,title:le.title,showline:!0,anchor:"free",side:Lt?"right":"bottom",position:1},Bt=Lt?"y":"x",Rt={type:"linear",_id:Bt+le._id},jt={letter:Bt,font:it.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:it.calendar};function Ut(ee,ie){return a.coerce(Pt,Rt,y,ee,ie)}return x(Pt,Rt,Ut,jt,it),m(Pt,Rt,Ut,jt),Rt}(Y,U,vt);Vt.position=dt+($?C+M/J.w:W+H/J.h);var Ct=-1!==["top","bottom"].indexOf(gt);if($&&Ct&&(Vt.title.side=gt,Vt.titlex=C+M/J.w,Vt.titley=St+("top"===ct.side?Dt-H/J.h:H/J.h)),$||Ct||(Vt.title.side=gt,Vt.titley=W+H/J.h,Vt.titlex=St+M/J.w),ut.color&&"auto"===U.tickmode){Vt.tickmode="linear",Vt.tick0=zt.start;var Gt=zt.size,$t=a.constrain(mt/50,4,15)+1,Xt=(vt[1]-vt[0])/((U.nticks||$t)*Gt);if(Xt>1){var de=Math.pow(10,Math.floor(Math.log(Xt)/Math.LN10));Gt*=de*a.roundUp(Xt/de,[2,5,10]),(Math.abs(zt.start)/zt.size+1e-6)%1<2e-6&&(Vt.tick0=0)}Vt.dtick=Gt}Vt.domain=$?[St+H/J.h,St+Dt-H/J.h]:[St+M/J.w,St+Dt-M/J.w],Vt.setScale(),z.attr("transform",i(Math.round(J.l),Math.round(J.t)));var Kt,kt=z.select("."+g.cbtitleunshift).attr("transform",i(-Math.round(J.l),-Math.round(J.t))),Mt=Vt.ticklabelposition,qt=Vt.title.font.size,ce=z.select("."+g.cbaxis),Te=0,Oe=0;function xe(ye,le){var nt={propContainer:Vt,propName:U._propPrefix+"title",traceIndex:U._traceIndex,_meta:U._meta,placeholder:K._dfltTitle.colorbar,containerGroup:z.select("."+g.cbtitle)},it="h"===ye.charAt(0)?ye.substr(1):"h"+ye;z.selectAll("."+it+",."+it+"-math-group").remove(),p.draw(Y,ye,r(nt,le||{}))}return a.syncOrAsync([o.previousPromises,function(){var ye,le;($&&Ct||!$&&!Ct)&&("top"===gt&&(ye=M+J.l+J.w*C,le=H+J.t+J.h*(1-St-Dt)+3+.75*qt),"bottom"===gt&&(ye=M+J.l+J.w*C,le=H+J.t+J.h*(1-St)-3-.25*qt),"right"===gt&&(le=H+J.t+J.h*W+3+.75*qt,ye=M+J.l+J.w*St),xe(Vt._id+"title",{attributes:{x:ye,y:le,"text-anchor":$?"start":"middle"}}))},function(){if(!$&&!Ct||$&&Ct){var ye,le=z.select("."+g.cbtitle),nt=le.select("text"),it=[-P/2,P/2],Lt=le.select(".h"+Vt._id+"title-math-group").node(),Pt=15.6;if(nt.node()&&(Pt=parseInt(nt.node().style.fontSize,10)*b),Lt?(ye=f.bBox(Lt),Oe=ye.width,(Te=ye.height)>Pt&&(it[1]-=(Te-Pt)/2)):nt.node()&&!nt.classed(g.jsPlaceholder)&&(ye=f.bBox(nt.node()),Oe=ye.width,Te=ye.height),$){if(Te){if(Te+=5,"top"===gt)Vt.domain[1]-=Te/J.h,it[1]*=-1;else{Vt.domain[0]+=Te/J.h;var Bt=T.lineCount(nt);it[1]+=(1-Bt)*Pt}le.attr("transform",i(it[0],it[1])),Vt.setScale()}}else Oe&&("right"===gt&&(Vt.domain[0]+=(Oe+qt/2)/J.w),le.attr("transform",i(it[0],it[1])),Vt.setScale())}z.selectAll("."+g.cbfills+",."+g.cblines).attr("transform",$?i(0,Math.round(J.h*(1-Vt.domain[1]))):i(Math.round(J.w*Vt.domain[0]),0)),ce.attr("transform",$?i(0,Math.round(-J.t)):i(Math.round(-J.l),0));var Rt=z.select("."+g.cbfills).selectAll("rect."+g.cbfill).attr("style","").data(At);Rt.enter().append("rect").classed(g.cbfill,!0).style("stroke","none"),Rt.exit().remove();var jt=vt.map(Vt.c2p).map(Math.round).sort(function(Ae,re){return Ae-re});Rt.each(function(Ae,re){var ve=[0===re?vt[0]:(At[re]+At[re-1])/2,re===At.length-1?vt[1]:(At[re]+At[re+1])/2].map(Vt.c2p).map(Math.round);$&&(ve[1]=a.constrain(ve[1]+(ve[1]>ve[0])?1:-1,jt[0],jt[1]));var Pe=t.select(this).attr($?"x":"y",bt).attr($?"y":"x",t.min(ve)).attr($?"width":"height",Math.max(rt,2)).attr($?"height":"width",Math.max(t.max(ve)-t.min(ve),2));if(U._fillgradient)f.gradient(Pe,Y,U._id,$?"vertical":"horizontalreversed",U._fillgradient,"fill");else{var se=Tt(Ae).replace("e-","");Pe.attr("fill",l(se).toHexString())}});var Ut=z.select("."+g.cblines).selectAll("path."+g.cbline).data(ut.color&&ut.width?lt:[]);Ut.enter().append("path").classed(g.cbline,!0),Ut.exit().remove(),Ut.each(function(Ae){var re=bt,ve=Math.round(Vt.c2p(Ae))+ut.width/2%1;t.select(this).attr("d","M"+($?re+","+ve:ve+","+re)+($?"h":"v")+rt).call(f.lineGroupStyle,ut.width,xt(Ae),ut.dash)}),ce.selectAll("g."+Vt._id+"tick,path").remove();var ee=bt+rt+(P||0)/2-("outside"===U.ticks?1:0),ie=n.calcTicks(Vt),fe=n.getTickSigns(Vt)[2];return n.drawTicks(Y,Vt,{vals:"inside"===Vt.ticks?n.clipEnds(Vt,ie):ie,layer:ce,path:n.makeTickPath(Vt,ee,fe),transFn:n.makeTransTickFn(Vt)}),n.drawLabels(Y,Vt,{vals:ie,layer:ce,transFn:n.makeTransTickLabelFn(Vt),labelFns:n.makeLabelFns(Vt,ee)})},function(){if($&&!Ct||!$&&Ct){var ye,le,nt=Vt.position||0,it=Vt._offset+Vt._length/2;if("right"===gt)le=it,ye=J.l+J.w*nt+10+qt*(Vt.showticklabels?1:.5);else if(ye=it,"bottom"===gt&&(le=J.t+J.h*nt+10+(-1===Mt.indexOf("inside")?Vt.tickfont.size:0)+("intside"!==Vt.ticks&&U.ticklen||0)),"top"===gt){var Lt=ct.text.split("<br>").length;le=J.t+J.h*nt+10-rt-b*qt*Lt}xe(($?"h":"v")+Vt._id+"title",{avoid:{selection:t.select(Y).selectAll("g."+Vt._id+"tick"),side:gt,offsetTop:$?0:J.t,offsetLeft:$?J.l:0,maxShift:$?K.width:K.height},attributes:{x:ye,y:le,"text-anchor":"middle"},transform:{rotate:$?-90:0,offset:0}})}},o.previousPromises,function(){var ye,le=rt+P/2;-1===Mt.indexOf("inside")&&(ye=f.bBox(ce.node()),le+=$?ye.width:ye.height),Kt=kt.select("text");var nt=0,it=$&&"top"===gt,Lt=!$&&"right"===gt,Pt=0;if(Kt.node()&&!Kt.classed(g.jsPlaceholder)){var Bt,Rt=kt.select(".h"+Vt._id+"title-math-group").node();Rt&&($&&Ct||!$&&!Ct)?(nt=(ye=f.bBox(Rt)).width,Bt=ye.height):(nt=(ye=f.bBox(kt.node())).right-J.l-($?bt:Nt),Bt=ye.bottom-J.t-($?Nt:bt),$||"top"!==gt||(le+=ye.height,Pt=ye.height)),Lt&&(Kt.attr("transform",i(nt/2+qt/2,0)),nt*=2),le=Math.max(le,$?nt:Bt)}var jt=2*($?M:H)+le+I+P/2,Ut=0;!$&&ct.text&&"bottom"===D&&W<=0&&(jt+=Ut=jt/2,Pt+=Ut),K._hColorbarMoveTitle=Ut,K._hColorbarMoveCBTitle=Pt;var ee=I+P;z.select("."+g.cbbg).attr("x",($?bt:Nt)-ee/2-($?M:0)).attr("y",($?Nt:bt)-($?mt:H+Pt-Ut)).attr($?"width":"height",Math.max(jt-Ut,2)).attr($?"height":"width",Math.max(mt+ee,2)).call(h.fill,Z).call(h.stroke,U.bordercolor).style("stroke-width",I);var ie=Lt?Math.max(nt-10,0):0;if(z.selectAll("."+g.cboutline).attr("x",($?bt:Nt+M)+ie).attr("y",($?Nt+H-mt:bt)+(it?Te:0)).attr($?"width":"height",Math.max(rt,2)).attr($?"height":"width",Math.max(mt-($?2*H+Te:2*M+ie),2)).call(h.stroke,U.outlinecolor).style({fill:"none","stroke-width":P}),z.attr("transform",i(J.l-($?wt*jt:0),J.t-($?0:(1-Ot)*jt-Pt))),!$&&(I||l(Z).getAlpha()&&!l.equals(K.paper_bgcolor,Z))){var fe=ce.selectAll("text"),Ae=fe[0].length,re=z.select("."+g.cbbg).node(),ve=f.bBox(re),Pe=f.getTranslate(z);fe.each(function(he,Fe){var Ie=Ae-1;if(0===Fe||Fe===Ie){var Re,Ze=f.bBox(this),We=f.getTranslate(this);Fe===Ie?(Re=ve.right+Pe.x+Nt-I-2+C-(Ze.right+We.x))>0&&(Re=0):0===Fe&&(Re=ve.left+Pe.x+Nt+I+2-(Ze.left+We.x))<0&&(Re=0),Re&&(Ae<3?this.setAttribute("transform","translate("+Re+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var se={},te=k[q],Le=L[q],_e=k[D],ge=L[D],ke=jt-rt;$?("pixels"===G?(se.y=W,se.t=mt*_e,se.b=mt*ge):(se.t=se.b=0,se.yt=W+ot*_e,se.yb=W-ot*ge),"pixels"===j?(se.x=C,se.l=jt*te,se.r=jt*Le):(se.l=ke*te,se.r=ke*Le,se.xl=C-R*te,se.xr=C+R*Le)):("pixels"===G?(se.x=C,se.l=mt*te,se.r=mt*Le):(se.l=se.r=0,se.xl=C+ot*te,se.xr=C-ot*Le),"pixels"===j?(se.y=1-W,se.t=jt*_e,se.b=jt*ge):(se.t=ke*_e,se.b=ke*ge,se.yt=W-R*_e,se.yb=W+R*ge)),o.autoMargin(Y,U._id,se)}],Y)}(F,v,S);N&&N.then&&(S._promises||[]).push(N),S._context.edits.colorbarPosition&&(R="v"===(U=v).orientation,j=(Y=S)._fullLayout._size,s.init({element:(z=F).node(),gd:Y,prepFn:function(){$=z.attr("transform"),d(z)},moveFn:function(P,I){z.attr("transform",$+i(P,I)),ot=s.align((R?U._uFrac:U._vFrac)+P/j.w,R?U._thickFrac:U._lenFrac,0,1,U.xanchor),G=s.align((R?U._vFrac:1-U._uFrac)-I/j.h,R?U._lenFrac:U._thickFrac,0,1,U.yanchor);var Z=s.getCursor(ot,G,U.xanchor,U.yanchor);d(z,Z)},doneFn:function(){if(d(z),void 0!==ot&&void 0!==G){var P={};P[U._propPrefix+"x"]=ot,P[U._propPrefix+"y"]=G,void 0!==U._traceIndex?e.call("_guiRestyle",Y,P,U._traceIndex):e.call("_guiRelayout",Y,P)}}}))}),E.exit().each(function(v){o.autoMargin(S,v._id)}).remove(),E.order()}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/extend":226,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_defaults":281,"../../plots/cartesian/layout_attributes":294,"../../plots/cartesian/position_defaults":297,"../../plots/plots":316,"../../registry":318,"../color":102,"../colorscale/helpers":113,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":104,"@plotly/d3":11,tinycolor2:67}],107:[function(c,tt,B){"use strict";var t=c("../../lib");tt.exports=function(l){return t.isPlainObject(l.colorbar)}},{"../../lib":232}],108:[function(c,tt,B){"use strict";tt.exports={moduleType:"component",name:"colorbar",attributes:c("./attributes"),supplyDefaults:c("./defaults"),draw:c("./draw").draw,hasColorbar:c("./has_colorbar")}},{"./attributes":103,"./defaults":105,"./draw":106,"./has_colorbar":107}],109:[function(c,tt,B){"use strict";var t=c("../colorbar/attributes"),l=c("../../lib/regex").counter,o=c("../../lib/sort_object_keys"),e=c("./scales.js").scales;function n(s){return"`"+s+"`"}o(e),tt.exports=function(s,a){s=s||"";var i,r=(a=a||{}).cLetter||"c",d=("onlyIfNumerical"in a||Boolean(s),"noScale"in a?a.noScale:"marker.line"===s),f="showScaleDflt"in a?a.showScaleDflt:"z"===r,h="string"==typeof a.colorscaleDflt?e[a.colorscaleDflt]:null,p=a.editTypeOverride||"",T=s?s+".":"";"colorAttr"in a?i=a.colorAttr:n(T+(i={z:"z",c:"color"}[r]));var w=r+"auto",x=r+"min",m=r+"max",y=r+"mid",A=(n(T+w),n(T+x),n(T+m),{});A[x]=A[m]=void 0;var b={};b[w]=!1;var k={};return"color"===i&&(k.color={valType:"color",arrayOk:!0,editType:p||"style"},a.anim&&(k.color.anim=!0)),k[w]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:A},k[x]={valType:"number",dflt:null,editType:p||"plot",impliedEdits:b},k[m]={valType:"number",dflt:null,editType:p||"plot",impliedEdits:b},k[y]={valType:"number",dflt:null,editType:"calc",impliedEdits:A},k.colorscale={valType:"colorscale",editType:"calc",dflt:h,impliedEdits:{autocolorscale:!1}},k.autocolorscale={valType:"boolean",dflt:!1!==a.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},k.reversescale={valType:"boolean",dflt:!1,editType:"plot"},d||(k.showscale={valType:"boolean",dflt:f,editType:"calc"},k.colorbar=t),a.noColorAxis||(k.coloraxis={valType:"subplotid",regex:l("coloraxis"),dflt:null,editType:"calc"}),k}},{"../../lib/regex":248,"../../lib/sort_object_keys":253,"../colorbar/attributes":103,"./scales.js":117}],110:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("../../lib"),o=c("./helpers").extractOpts;tt.exports=function(e,n,s){var i=e._fullLayout,r=s.vals,d=s.containerStr,f=d?l.nestedProperty(n,d).get():n,h=o(f),p=!1!==h.auto,T=h.min,w=h.max,x=h.mid,m=function(){return l.aggNums(Math.min,null,r)},y=function(){return l.aggNums(Math.max,null,r)};void 0===T?T=m():p&&(T=f._colorAx&&t(T)?Math.min(T,m()):m()),void 0===w?w=y():p&&(w=f._colorAx&&t(w)?Math.max(w,y()):y()),p&&void 0!==x&&(w-x>x-T?T=x-(w-x):w-x<x-T&&(w=x+(x-T))),T===w&&(T-=.5,w+=.5),h._sync("min",T),h._sync("max",w),h.autocolorscale&&h._sync("colorscale",T*w<0?i.colorscale.diverging:T>=0?i.colorscale.sequential:i.colorscale.sequentialminus)}},{"../../lib":232,"./helpers":113,"fast-isnumeric":17}],111:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("./helpers").hasColorscale,o=c("./helpers").extractOpts;tt.exports=function(e,n){function s(p,T){var w=p["_"+T];void 0!==w&&(p[T]=w)}function a(p,T){var w=T.container?t.nestedProperty(p,T.container).get():p;if(w)if(w.coloraxis)w._colorAx=n[w.coloraxis];else{var x=o(w),m=x.auto;(m||void 0===x.min)&&s(w,T.min),(m||void 0===x.max)&&s(w,T.max),x.autocolorscale&&s(w,"colorscale")}}for(var i=0;i<e.length;i++){var r=e[i],d=r._module.colorbar;if(d)if(Array.isArray(d))for(var f=0;f<d.length;f++)a(r,d[f]);else a(r,d);l(r,"marker.line")&&a(r,{container:"marker.line",min:"cmin",max:"cmax"})}for(var h in n._colorAxes)a(n[h],{min:"cmin",max:"cmax"})}},{"../../lib":232,"./helpers":113}],112:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("../../lib"),o=c("../colorbar/has_colorbar"),e=c("../colorbar/defaults"),n=c("./scales").isValid,s=c("../../registry").traceIs;function a(i,r){var d=r.slice(0,r.length-1);return r?l.nestedProperty(i,d).get()||{}:i}tt.exports=function i(r,d,f,h,p){var T=p.prefix,w=p.cLetter,x="_module"in d,m=a(r,T),y=a(d,T),A=a(d._template||{},T)||{},b=function(){return delete r.coloraxis,delete d.coloraxis,i(r,d,f,h,p)};if(x){var k=f._colorAxes||{},L=h(T+"coloraxis");if(L){var g=s(d,"contour")&&l.nestedProperty(d,"contours.coloring").get()||"heatmap",S=k[L];return void(S?(S[2].push(b),S[0]!==g&&(S[0]=!1,l.warn(["Ignoring coloraxis:",L,"setting","as it is linked to incompatible colorscales."].join(" ")))):k[L]=[g,d,[b]])}}var E=m[w+"min"],v=m[w+"max"],F=t(E)&&t(v)&&E<v;h(T+w+"auto",!F)?h(T+w+"mid"):(h(T+w+"min"),h(T+w+"max"));var N,z,U=m.colorscale,Y=A.colorscale;void 0!==U&&(N=!n(U)),void 0!==Y&&(N=!n(Y)),h(T+"autocolorscale",N),h(T+"colorscale"),h(T+"reversescale"),"marker.line."!==T&&(T&&x&&(z=o(m)),h(T+"showscale",z)&&(T&&A&&(y._template=A),e(m,y,f)))}},{"../../lib":232,"../../registry":318,"../colorbar/defaults":105,"../colorbar/has_colorbar":107,"./scales":117,"fast-isnumeric":17}],113:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("tinycolor2"),o=c("fast-isnumeric"),e=c("../../lib"),n=c("../color"),s=c("./scales").isValid,a=["showscale","autocolorscale","colorscale","reversescale","colorbar"],i=["min","max","mid","auto"];function r(T){var w,x,m,y=T._colorAx,A=y||T,b={};for(x=0;x<a.length;x++)b[m=a[x]]=A[m];if(y)for(w="c",x=0;x<i.length;x++)b[m=i[x]]=A["c"+m];else{var k;for(x=0;x<i.length;x++)((k="c"+(m=i[x]))in A||(k="z"+m)in A)&&(b[m]=A[k]);w=k.charAt(0)}return b._sync=function(L,g){var S=-1!==i.indexOf(L)?w+L:L;A[S]=A["_"+S]=g},b}function d(T){for(var w=r(T),x=w.min,m=w.max,y=w.reversescale?f(w.colorscale):w.colorscale,A=y.length,b=new Array(A),k=new Array(A),L=0;L<A;L++){var g=y[L];b[L]=x+g[0]*(m-x),k[L]=g[1]}return{domain:b,range:k}}function f(T){for(var w=T.length,x=new Array(w),m=w-1,y=0;m>=0;m--,y++){var A=T[m];x[y]=[1-A[0],A[1]]}return x}function h(T,w){w=w||{};for(var x=T.domain,m=T.range,y=m.length,A=new Array(y),b=0;b<y;b++){var k=l(m[b]).toRgb();A[b]=[k.r,k.g,k.b,k.a]}var L,g=t.scale.linear().domain(x).range(A).clamp(!0),S=w.noNumericCheck,E=w.returnArray;return(L=S&&E?g:S?function(v){return p(g(v))}:E?function(v){return o(v)?g(v):l(v).isValid()?v:n.defaultLine}:function(v){return o(v)?p(g(v)):l(v).isValid()?v:n.defaultLine}).domain=g.domain,L.range=function(){return m},L}function p(T){return l({r:T[0],g:T[1],b:T[2],a:T[3]}).toRgbString()}tt.exports={hasColorscale:function(T,w,x){var m=w?e.nestedProperty(T,w).get()||{}:T,y=m[x||"color"],A=!1;if(e.isArrayOrTypedArray(y))for(var b=0;b<y.length;b++)if(o(y[b])){A=!0;break}return e.isPlainObject(m)&&(A||!0===m.showscale||o(m.cmin)&&o(m.cmax)||s(m.colorscale)||e.isPlainObject(m.colorbar))},extractOpts:r,extractScale:d,flipScale:f,makeColorScaleFunc:h,makeColorScaleFuncFromTrace:function(T,w){return h(d(T),w)}}},{"../../lib":232,"../color":102,"./scales":117,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],114:[function(c,tt,B){"use strict";var t=c("./scales"),l=c("./helpers");tt.exports={moduleType:"component",name:"colorscale",attributes:c("./attributes"),layoutAttributes:c("./layout_attributes"),supplyLayoutDefaults:c("./layout_defaults"),handleDefaults:c("./defaults"),crossTraceDefaults:c("./cross_trace_defaults"),calc:c("./calc"),scales:t.scales,defaultScale:t.defaultScale,getScale:t.get,isValidScale:t.isValid,hasColorscale:l.hasColorscale,extractOpts:l.extractOpts,extractScale:l.extractScale,flipScale:l.flipScale,makeColorScaleFunc:l.makeColorScaleFunc,makeColorScaleFuncFromTrace:l.makeColorScaleFuncFromTrace}},{"./attributes":109,"./calc":110,"./cross_trace_defaults":111,"./defaults":112,"./helpers":113,"./layout_attributes":115,"./layout_defaults":116,"./scales":117}],115:[function(c,tt,B){"use strict";var t=c("../../lib/extend").extendFlat,l=c("./attributes"),o=c("./scales").scales;tt.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:o.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:o.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:o.RdBu,editType:"calc"}},coloraxis:t({_isSubplotObj:!0,editType:"calc"},l("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":226,"./attributes":109,"./scales":117}],116:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../plot_api/plot_template"),o=c("./layout_attributes"),e=c("./defaults");tt.exports=function(n,s){function a(w,x){return t.coerce(n,s,o,w,x)}a("colorscale.sequential"),a("colorscale.sequentialminus"),a("colorscale.diverging");var i,r,d=s._colorAxes;function f(w,x){return t.coerce(i,r,o.coloraxis,w,x)}for(var h in d){var p=d[h];if(p[0])i=n[h]||{},(r=l.newContainer(s,h,"coloraxis"))._name=h,e(i,r,s,f,{prefix:"",cLetter:"c"});else{for(var T=0;T<p[2].length;T++)p[2][T]();delete s._colorAxes[h]}}}},{"../../lib":232,"../../plot_api/plot_template":268,"./defaults":112,"./layout_attributes":115}],117:[function(c,tt,B){"use strict";var t=c("tinycolor2"),l={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},o=l.RdBu;function e(n){var s=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||0!=+n[0][0]||1!=+n[n.length-1][0])return!1;for(var a=0;a<n.length;a++){var i=n[a];if(2!==i.length||+i[0]<s||!t(i[1]).isValid())return!1;s=+i[0]}return!0}tt.exports={scales:l,defaultScale:o,get:function(n,s){if(s||(s=o),!n)return s;function a(){try{n=l[n]||JSON.parse(n)}catch(i){n=s}}return"string"==typeof n&&(a(),"string"==typeof n&&a()),e(n)?n:s},isValid:function(n){return void 0!==l[n]||e(n)}}},{tinycolor2:67}],118:[function(c,tt,B){"use strict";tt.exports=function(t,l,o,e,n){var s=(t-o)/(e-o),a=s+l/(e-o),i=(s+a)/2;return"left"===n||"bottom"===n?s:"center"===n||"middle"===n?i:"right"===n||"top"===n?a:s<2/3-i?s:a>4/3-i?a:i}},{}],119:[function(c,tt,B){"use strict";var t=c("../../lib"),l=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];tt.exports=function(o,e,n,s){return o="left"===n?0:"center"===n?1:"right"===n?2:t.constrain(Math.floor(3*o),0,2),e="bottom"===s?0:"middle"===s?1:"top"===s?2:t.constrain(Math.floor(3*e),0,2),l[e][o]}},{"../../lib":232}],120:[function(c,tt,B){"use strict";B.selectMode=function(t){return"lasso"===t||"select"===t},B.drawMode=function(t){return"drawclosedpath"===t||"drawopenpath"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},B.openMode=function(t){return"drawline"===t||"drawopenpath"===t},B.rectMode=function(t){return"select"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},B.freeMode=function(t){return"lasso"===t||"drawclosedpath"===t||"drawopenpath"===t},B.selectingOrDrawing=function(t){return B.freeMode(t)||B.rectMode(t)}},{}],121:[function(c,tt,B){"use strict";var t=c("mouse-event-offset"),l=c("has-hover"),o=c("has-passive-events"),e=c("../../lib").removeElement,n=c("../../plots/cartesian/constants"),s=tt.exports={};s.align=c("./align"),s.getCursor=c("./cursor");var a=c("./unhover");function i(){var d=document.createElement("div");d.className="dragcover";var f=d.style;return f.position="fixed",f.left=0,f.right=0,f.top=0,f.bottom=0,f.zIndex=999999999,f.background="none",document.body.appendChild(d),d}function r(d){return t(d.changedTouches?d.changedTouches[0]:d,document.body)}s.unhover=a.wrapped,s.unhoverRaw=a.raw,s.init=function(d){var f,h,p,T,w,x,m,y,A=d.gd,b=1,k=A._context.doubleClickDelay,L=d.element;A._mouseDownTime||(A._mouseDownTime=0),L.style.pointerEvents="all",L.onmousedown=S,o?(L._ontouchstart&&L.removeEventListener("touchstart",L._ontouchstart),L._ontouchstart=S,L.addEventListener("touchstart",S,{passive:!1})):L.ontouchstart=S;var g=d.clampFn||function(F,N,z){return Math.abs(F)<z&&(F=0),Math.abs(N)<z&&(N=0),[F,N]};function S(F){A._dragged=!1,A._dragging=!0;var N=r(F);f=N[0],h=N[1],m=F.target,x=F,y=2===F.buttons||F.ctrlKey,void 0===F.clientX&&void 0===F.clientY&&(F.clientX=f,F.clientY=h),(p=(new Date).getTime())-A._mouseDownTime<k?b+=1:(b=1,A._mouseDownTime=p),d.prepFn&&d.prepFn(F,f,h),l&&!y?(w=i()).style.cursor=window.getComputedStyle(L).cursor:l||(w=document,T=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(L).cursor),document.addEventListener("mouseup",v),document.addEventListener("touchend",v),!1!==d.dragmode&&(F.preventDefault(),document.addEventListener("mousemove",E),document.addEventListener("touchmove",E,{passive:!1}))}function E(F){F.preventDefault();var N=r(F),U=g(N[0]-f,N[1]-h,d.minDrag||n.MINDRAG),Y=U[0],$=U[1];(Y||$)&&(A._dragged=!0,s.unhover(A,F)),A._dragged&&d.moveFn&&!y&&(A._dragdata={element:L,dx:Y,dy:$},d.moveFn(Y,$))}function v(F){if(delete A._dragdata,!1!==d.dragmode&&(F.preventDefault(),document.removeEventListener("mousemove",E),document.removeEventListener("touchmove",E)),document.removeEventListener("mouseup",v),document.removeEventListener("touchend",v),l?e(w):T&&(w.documentElement.style.cursor=T,T=null),A._dragging){if(A._dragging=!1,(new Date).getTime()-A._mouseDownTime>k&&(b=Math.max(b-1,1)),A._dragged)d.doneFn&&d.doneFn();else if(d.clickFn&&d.clickFn(b,x),!y){var N;try{N=new MouseEvent("click",F)}catch(U){var z=r(F);(N=document.createEvent("MouseEvents")).initMouseEvent("click",F.bubbles,F.cancelable,F.view,F.detail,F.screenX,F.screenY,z[0],z[1],F.ctrlKey,F.altKey,F.shiftKey,F.metaKey,F.button,F.relatedTarget)}m.dispatchEvent(N)}A._dragging=!1,A._dragged=!1}else A._dragged=!1}},s.coverSlip=i},{"../../lib":232,"../../plots/cartesian/constants":286,"./align":118,"./cursor":119,"./unhover":122,"has-hover":48,"has-passive-events":49,"mouse-event-offset":53}],122:[function(c,tt,B){"use strict";var t=c("../../lib/events"),l=c("../../lib/throttle"),o=c("../../lib/dom").getGraphDiv,e=c("../fx/constants"),n=tt.exports={};n.wrapped=function(s,a,i){(s=o(s))._fullLayout&&l.clear(s._fullLayout._uid+e.HOVERID),n.raw(s,a,i)},n.raw=function(s,a){var i=s._fullLayout,r=s._hoverdata;a||(a={}),a.target&&!s._dragged&&!1===t.triggerHandler(s,"plotly_beforehover",a)||(i._hoverlayer.selectAll("g").remove(),i._hoverlayer.selectAll("line").remove(),i._hoverlayer.selectAll("circle").remove(),s._hoverdata=void 0,a.target&&r&&s.emit("plotly_unhover",{event:a,points:r}))}},{"../../lib/dom":224,"../../lib/events":225,"../../lib/throttle":256,"../fx/constants":136}],123:[function(c,tt,B){"use strict";B.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},B.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},{}],124:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../../lib"),o=l.numberFormat,e=c("fast-isnumeric"),n=c("tinycolor2"),s=c("../../registry"),a=c("../color"),i=c("../colorscale"),r=l.strTranslate,d=c("../../lib/svg_text_utils"),f=c("../../constants/xmlns_namespaces"),h=c("../../constants/alignment").LINE_SPACING,p=c("../../constants/interactions").DESELECTDIM,T=c("../../traces/scatter/subtypes"),w=c("../../traces/scatter/make_bubble_size_func"),x=c("../../components/fx/helpers").appendArrayPointValue,m=tt.exports={};function y(P,I,Z){var q=I.fillpattern,D=q&&m.getPatternAttr(q.shape,0,"");if(D){var M=m.getPatternAttr(q.bgcolor,0,null),H=m.getPatternAttr(q.fgcolor,0,null),C=q.fgopacity,W=m.getPatternAttr(q.size,0,8),K=m.getPatternAttr(q.solidity,0,.3);m.pattern(P,"point",Z,I.uid,D,W,K,void 0,q.fillmode,M,H,C)}else I.fillcolor&&P.call(a.fill,I.fillcolor)}m.font=function(P,I,Z,q){l.isPlainObject(I)&&(q=I.color,Z=I.size,I=I.family),I&&P.style("font-family",I),Z+1&&P.style("font-size",Z+"px"),q&&P.call(a.fill,q)},m.setPosition=function(P,I,Z){P.attr("x",I).attr("y",Z)},m.setSize=function(P,I,Z){P.attr("width",I).attr("height",Z)},m.setRect=function(P,I,Z,q,D){P.call(m.setPosition,I,Z).call(m.setSize,q,D)},m.translatePoint=function(P,I,Z,q){var D=Z.c2p(P.x),M=q.c2p(P.y);return!!(e(D)&&e(M)&&I.node())&&("text"===I.node().nodeName?I.attr("x",D).attr("y",M):I.attr("transform",r(D,M)),!0)},m.translatePoints=function(P,I,Z){P.each(function(q){var D=t.select(this);m.translatePoint(q,D,I,Z)})},m.hideOutsideRangePoint=function(P,I,Z,q,D,M){I.attr("display",Z.isPtWithinRange(P,D)&&q.isPtWithinRange(P,M)?null:"none")},m.hideOutsideRangePoints=function(P,I){if(I._hasClipOnAxisFalse){var Z=I.xaxis,q=I.yaxis;P.each(function(D){var M=D[0].trace,H=M.xcalendar,C=M.ycalendar,W=s.traceIs(M,"bar-like")?".bartext":".point,.textpoint";P.selectAll(W).each(function(K){m.hideOutsideRangePoint(K,t.select(this),Z,q,H,C)})})}},m.crispRound=function(P,I,Z){return I&&e(I)?P._context.staticPlot?I:I<1?1:Math.round(I):Z||0},m.singleLineStyle=function(P,I,Z,q,D){I.style("fill","none");var M=(((P||[])[0]||{}).trace||{}).line||{},H=Z||M.width||0,C=D||M.dash||"";a.stroke(I,q||M.color),m.dashLine(I,C,H)},m.lineGroupStyle=function(P,I,Z,q){P.style("fill","none").each(function(D){var M=(((D||[])[0]||{}).trace||{}).line||{},H=I||M.width||0,C=q||M.dash||"";t.select(this).call(a.stroke,Z||M.color).call(m.dashLine,C,H)})},m.dashLine=function(P,I,Z){I=m.dashStyle(I,Z=+Z||0),P.style({"stroke-dasharray":I,"stroke-width":Z+"px"})},m.dashStyle=function(P,I){I=+I||1;var Z=Math.max(I,3);return"solid"===P?P="":"dot"===P?P=Z+"px,"+Z+"px":"dash"===P?P=3*Z+"px,"+3*Z+"px":"longdash"===P?P=5*Z+"px,"+5*Z+"px":"dashdot"===P?P=3*Z+"px,"+Z+"px,"+Z+"px,"+Z+"px":"longdashdot"===P&&(P=5*Z+"px,"+2*Z+"px,"+Z+"px,"+2*Z+"px"),P},m.singleFillStyle=function(P,I){var Z=t.select(P.node());y(P,((Z.data()[0]||[])[0]||{}).trace||{},I)},m.fillGroupStyle=function(P,I){P.style("stroke-width",0).each(function(Z){var q=t.select(this);Z[0].trace&&y(q,Z[0].trace,I)})};var A=c("./symbol_defs");m.symbolNames=[],m.symbolFuncs=[],m.symbolNeedLines={},m.symbolNoDot={},m.symbolNoFill={},m.symbolList=[],Object.keys(A).forEach(function(P){var I=A[P],Z=I.n;m.symbolList.push(Z,String(Z),P,Z+100,String(Z+100),P+"-open"),m.symbolNames[Z]=P,m.symbolFuncs[Z]=I.f,I.needLine&&(m.symbolNeedLines[Z]=!0),I.noDot?m.symbolNoDot[Z]=!0:m.symbolList.push(Z+200,String(Z+200),P+"-dot",Z+300,String(Z+300),P+"-open-dot"),I.noFill&&(m.symbolNoFill[Z]=!0)});var b=m.symbolNames.length;function k(P,I){return m.symbolFuncs[P%100](I)+(P>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}m.symbolNumber=function(P){if(e(P))P=+P;else if("string"==typeof P){var I=0;P.indexOf("-open")>0&&(I=100,P=P.replace("-open","")),P.indexOf("-dot")>0&&(I+=200,P=P.replace("-dot","")),(P=m.symbolNames.indexOf(P))>=0&&(P+=I)}return P%100>=b||P>=400?0:Math.floor(Math.max(P,0))};var L={x1:1,x2:0,y1:0,y2:0},g={x1:0,x2:0,y1:1,y2:0},S=o("~f"),E={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:L},horizontalreversed:{node:"linearGradient",attrs:L,reversed:!0},vertical:{node:"linearGradient",attrs:g},verticalreversed:{node:"linearGradient",attrs:g,reversed:!0}};m.gradient=function(P,I,Z,q,D,M){for(var H=D.length,C=E[q],W=new Array(H),K=0;K<H;K++)C.reversed?W[H-1-K]=[S(100*(1-D[K][0])),D[K][1]]:W[K]=[S(100*D[K][0]),D[K][1]];var J=I._fullLayout,Q="g"+J._uid+"-"+Z,ut=J._defs.select(".gradients").selectAll("#"+Q).data([q+W.join(";")],l.identity);ut.exit().remove(),ut.enter().append(C.node).each(function(){var ct=t.select(this);C.attrs&&ct.attr(C.attrs),ct.attr("id",Q);var gt=ct.selectAll("stop").data(W);gt.exit().remove(),gt.enter().append("stop"),gt.each(function(vt){var xt=n(vt[1]);t.select(this).attr({offset:vt[0]+"%","stop-color":a.tinyRGB(xt),"stop-opacity":xt.getAlpha()})})}),P.style(M,G(Q,I)).style(M+"-opacity",null),P.classed("gradient_filled",!0)},m.pattern=function(P,I,Z,q,D,M,H,C,W,K,J,Q){var ut="legend"===I;C&&("overlay"===W?J=a.contrast(K=C):(K=void 0,J=C));var ct,gt,vt,xt,Tt,zt,Et,At,rt,mt=Z._fullLayout,Dt="p"+mt._uid+"-"+q,bt={};switch(D){case"/":ct=M*Math.sqrt(2),gt=M*Math.sqrt(2),zt="path",bt={d:vt="M-"+ct/4+","+gt/4+"l"+ct/2+",-"+gt/2+"M0,"+gt+"L"+ct+",0M"+ct/4*3+","+gt/4*5+"l"+ct/2+",-"+gt/2,opacity:Q,stroke:J,"stroke-width":(xt=H*M)+"px"};break;case"\\":ct=M*Math.sqrt(2),gt=M*Math.sqrt(2),zt="path",bt={d:vt="M"+ct/4*3+",-"+gt/4+"l"+ct/2+","+gt/2+"M0,0L"+ct+","+gt+"M-"+ct/4+","+gt/4*3+"l"+ct/2+","+gt/2,opacity:Q,stroke:J,"stroke-width":(xt=H*M)+"px"};break;case"x":ct=M*Math.sqrt(2),gt=M*Math.sqrt(2),vt="M-"+ct/4+","+gt/4+"l"+ct/2+",-"+gt/2+"M0,"+gt+"L"+ct+",0M"+ct/4*3+","+gt/4*5+"l"+ct/2+",-"+gt/2+"M"+ct/4*3+",-"+gt/4+"l"+ct/2+","+gt/2+"M0,0L"+ct+","+gt+"M-"+ct/4+","+gt/4*3+"l"+ct/2+","+gt/2,xt=M-M*Math.sqrt(1-H),zt="path",bt={d:vt,opacity:Q,stroke:J,"stroke-width":xt+"px"};break;case"|":zt="path",zt="path",bt={d:vt="M"+(ct=M)/2+",0L"+ct/2+","+(gt=M),opacity:Q,stroke:J,"stroke-width":(xt=H*M)+"px"};break;case"-":zt="path",zt="path",bt={d:vt="M0,"+(gt=M)/2+"L"+(ct=M)+","+gt/2,opacity:Q,stroke:J,"stroke-width":(xt=H*M)+"px"};break;case"+":zt="path",vt="M"+(ct=M)/2+",0L"+ct/2+","+(gt=M)+"M0,"+gt/2+"L"+ct+","+gt/2,xt=M-M*Math.sqrt(1-H),zt="path",bt={d:vt,opacity:Q,stroke:J,"stroke-width":xt+"px"};break;case".":ct=M,gt=M,H<Math.PI/4?Tt=Math.sqrt(H*M*M/Math.PI):(Et=H,At=Math.PI/4,Tt=(rt=M/2)+(M/Math.sqrt(2)-rt)*(Et-At)/(1-At)),zt="circle",bt={cx:ct/2,cy:gt/2,r:Tt,opacity:Q,fill:J}}var wt=[D||"noSh",K||"noBg",J||"noFg",M,H].join(";"),Ot=mt._defs.select(".patterns").selectAll("#"+Dt).data([wt],l.identity);Ot.exit().remove(),Ot.enter().append("pattern").each(function(){var It=t.select(this);if(It.attr({id:Dt,width:ct+"px",height:gt+"px",patternUnits:"userSpaceOnUse",patternTransform:ut?"scale(0.8)":""}),K){var St=It.selectAll("rect").data([0]);St.exit().remove(),St.enter().append("rect").attr({width:ct+"px",height:gt+"px",fill:K})}var Nt=It.selectAll(zt).data([0]);Nt.exit().remove(),Nt.enter().append(zt).attr(bt)}),P.style("fill",G(Dt,Z)).style("fill-opacity",null),P.classed("pattern_filled",!0)},m.initGradients=function(P){l.ensureSingle(P._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),t.select(P).selectAll(".gradient_filled").classed("gradient_filled",!1)},m.initPatterns=function(P){l.ensureSingle(P._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),t.select(P).selectAll(".pattern_filled").classed("pattern_filled",!1)},m.getPatternAttr=function(P,I,Z){return P&&l.isArrayOrTypedArray(P)?I<P.length?P[I]:Z:P},m.pointStyle=function(P,I,Z){if(P.size()){var q=m.makePointStyleFns(I);P.each(function(D){m.singlePointStyle(D,t.select(this),I,q,Z)})}},m.singlePointStyle=function(P,I,Z,q,D){var M=Z.marker,H=M.line;if(I.style("opacity",q.selectedOpacityFn?q.selectedOpacityFn(P):void 0===P.mo?M.opacity:P.mo),q.ms2mrc){var C;C="various"===P.ms||"various"===M.size?3:q.ms2mrc(P.ms),P.mrc=C,q.selectedSizeFn&&(C=P.mrc=q.selectedSizeFn(P));var W=m.symbolNumber(P.mx||M.symbol)||0;P.om=W%200>=100,I.attr("d",k(W,C))}var K,J,Q,ut=!1;if(P.so?(Q=H.outlierwidth,J=H.outliercolor,K=M.outliercolor):(Q=(P.mlw+1||(H||{}).width+1||(P.trace?(P.trace.marker.line||{}).width:0)+1)-1||0,J="mlc"in P?P.mlcc=q.lineScale(P.mlc):l.isArrayOrTypedArray(H.color)?a.defaultLine:H.color,l.isArrayOrTypedArray(M.color)&&(K=a.defaultLine,ut=!0),K="mc"in P?P.mcc=q.markerScale(P.mc):M.color||"rgba(0,0,0,0)",q.selectedColorFn&&(K=q.selectedColorFn(P))),P.om)I.call(a.stroke,K).style({"stroke-width":(Q||1)+"px",fill:"none"});else{I.style("stroke-width",(P.isBlank?0:Q)+"px");var gt=M.gradient,vt=P.mgt;vt?ut=!0:vt=gt&&gt.type,l.isArrayOrTypedArray(vt)&&(E[vt=vt[0]]||(vt=0));var xt=M.pattern,Tt=xt&&m.getPatternAttr(xt.shape,P.i,"");if(vt&&"none"!==vt){var zt=P.mgc;zt?ut=!0:zt=gt.color;var Et=Z.uid;ut&&(Et+="-"+P.i),m.gradient(I,D,Et,vt,[[0,zt],[1,K]],"fill")}else if(Tt){var At=m.getPatternAttr(xt.bgcolor,P.i,null),lt=m.getPatternAttr(xt.fgcolor,P.i,null),rt=xt.fgopacity,dt=m.getPatternAttr(xt.size,P.i,8),mt=m.getPatternAttr(xt.solidity,P.i,.3),Dt=P.mcc||l.isArrayOrTypedArray(xt.shape)||l.isArrayOrTypedArray(xt.bgcolor)||l.isArrayOrTypedArray(xt.size)||l.isArrayOrTypedArray(xt.solidity),bt=Z.uid;Dt&&(bt+="-"+P.i),m.pattern(I,"point",D,bt,Tt,dt,mt,P.mcc,xt.fillmode,At,lt,rt)}else a.fill(I,K);Q&&a.stroke(I,J)}},m.makePointStyleFns=function(P){var I={},Z=P.marker;return I.markerScale=m.tryColorscale(Z,""),I.lineScale=m.tryColorscale(Z,"line"),s.traceIs(P,"symbols")&&(I.ms2mrc=T.isBubble(P)?w(P):function(){return(Z.size||6)/2}),P.selectedpoints&&l.extendFlat(I,m.makeSelectedPointStyleFns(P)),I},m.makeSelectedPointStyleFns=function(P){var I={},D=P.marker||{},M=(P.selected||{}).marker||{},H=(P.unselected||{}).marker||{},W=M.opacity,K=H.opacity,J=void 0!==W,Q=void 0!==K;(l.isArrayOrTypedArray(D.opacity)||J||Q)&&(I.selectedOpacityFn=function(At){var lt=void 0===At.mo?D.opacity:At.mo;return At.selected?J?W:lt:Q?K:p*lt});var ut=D.color,ct=M.color,gt=H.color;(ct||gt)&&(I.selectedColorFn=function(At){var lt=At.mcc||ut;return At.selected?ct||lt:gt||lt});var vt=D.size,xt=M.size,Tt=H.size,zt=void 0!==xt,Et=void 0!==Tt;return s.traceIs(P,"symbols")&&(zt||Et)&&(I.selectedSizeFn=function(At){var lt=At.mrc||vt/2;return At.selected?zt?xt/2:lt:Et?Tt/2:lt}),I},m.makeSelectedTextStyleFns=function(P){var I={},C=(P.textfont||{}).color,W=((P.selected||{}).textfont||{}).color,K=((P.unselected||{}).textfont||{}).color;return I.selectedTextColorFn=function(J){var Q=J.tc||C;return J.selected?W||Q:K||(W?Q:a.addOpacity(Q,p))},I},m.selectedPointStyle=function(P,I){if(P.size()&&I.selectedpoints){var Z=m.makeSelectedPointStyleFns(I),q=I.marker||{},D=[];Z.selectedOpacityFn&&D.push(function(M,H){M.style("opacity",Z.selectedOpacityFn(H))}),Z.selectedColorFn&&D.push(function(M,H){a.fill(M,Z.selectedColorFn(H))}),Z.selectedSizeFn&&D.push(function(M,H){var C=H.mx||q.symbol||0,W=Z.selectedSizeFn(H);M.attr("d",k(m.symbolNumber(C),W)),H.mrc2=W}),D.length&&P.each(function(M){for(var H=t.select(this),C=0;C<D.length;C++)D[C](H,M)})}},m.tryColorscale=function(P,I){var Z=I?l.nestedProperty(P,I).get():P;return Z&&(Z.colorscale||Z._colorAx)&&l.isArrayOrTypedArray(Z.color)?i.makeColorScaleFuncFromTrace(Z):l.identity};var v={start:1,end:-1,middle:0,bottom:1,top:-1};function F(P,I,Z,q,D){var M=t.select(P.node().parentNode),H=-1!==I.indexOf("top")?"top":-1!==I.indexOf("bottom")?"bottom":"middle",C=-1!==I.indexOf("left")?"end":-1!==I.indexOf("right")?"start":"middle",W=q?q/.8+1:0,K=(d.lineCount(P)-1)*h+1,J=v[C]*W,Q=.75*Z+v[H]*W+(v[H]-1)*K*Z/2;P.attr("text-anchor",C),D||M.attr("transform",r(J,Q))}function N(P,I){var Z=P.ts||I.textfont.size;return e(Z)&&Z>0?Z:0}function z(P,I,Z,q){var D=P[0]-I[0],M=P[1]-I[1],H=Z[0]-I[0],C=Z[1]-I[1],W=Math.pow(D*D+M*M,.25),K=Math.pow(H*H+C*C,.25),J=(K*K*D-W*W*H)*q,Q=(K*K*M-W*W*C)*q,ut=3*K*(W+K),ct=3*W*(W+K);return[[t.round(I[0]+(ut&&J/ut),2),t.round(I[1]+(ut&&Q/ut),2)],[t.round(I[0]-(ct&&J/ct),2),t.round(I[1]-(ct&&Q/ct),2)]]}m.textPointStyle=function(P,I,Z){if(P.size()){var q;if(I.selectedpoints){var D=m.makeSelectedTextStyleFns(I);q=D.selectedTextColorFn}var M=I.texttemplate,H=Z._fullLayout;P.each(function(C){var W=t.select(this),K=M?l.extractOption(C,I,"txt","texttemplate"):l.extractOption(C,I,"tx","text");if(K||0===K){if(M){var J=I._module.formatLabels,Q=J?J(C,I,H):{},ut={};x(ut,I,C.i),K=l.texttemplateString(K,Q,H._d3locale,ut,C,I._meta||{})}var gt=C.tp||I.textposition,vt=N(C,I),xt=q?q(C):C.tc||I.textfont.color;W.call(m.font,C.tf||I.textfont.family,vt,xt).text(K).call(d.convertToTspans,Z).call(F,gt,vt,C.mrc)}else W.remove()})}},m.selectedTextStyle=function(P,I){if(P.size()&&I.selectedpoints){var Z=m.makeSelectedTextStyleFns(I);P.each(function(q){var D=t.select(this),M=Z.selectedTextColorFn(q),H=q.tp||I.textposition,C=N(q,I);a.fill(D,M);var W=s.traceIs(I,"bar-like");F(D,H,C,q.mrc2||q.mrc,W)})}},m.smoothopen=function(P,I){if(P.length<3)return"M"+P.join("L");var Z,q="M"+P[0],D=[];for(Z=1;Z<P.length-1;Z++)D.push(z(P[Z-1],P[Z],P[Z+1],I));for(q+="Q"+D[0][0]+" "+P[1],Z=2;Z<P.length-1;Z++)q+="C"+D[Z-2][1]+" "+D[Z-1][0]+" "+P[Z];return q+"Q"+D[P.length-3][1]+" "+P[P.length-1]},m.smoothclosed=function(P,I){if(P.length<3)return"M"+P.join("L")+"Z";var Z,q="M"+P[0],D=P.length-1,M=[z(P[D],P[0],P[1],I)];for(Z=1;Z<D;Z++)M.push(z(P[Z-1],P[Z],P[Z+1],I));for(M.push(z(P[D-1],P[D],P[0],I)),Z=1;Z<=D;Z++)q+="C"+M[Z-1][1]+" "+M[Z][0]+" "+P[Z];return q+"C"+M[D][1]+" "+M[0][0]+" "+P[0]+"Z"};var U={hv:function(P,I){return"H"+t.round(I[0],2)+"V"+t.round(I[1],2)},vh:function(P,I){return"V"+t.round(I[1],2)+"H"+t.round(I[0],2)},hvh:function(P,I){return"H"+t.round((P[0]+I[0])/2,2)+"V"+t.round(I[1],2)+"H"+t.round(I[0],2)},vhv:function(P,I){return"V"+t.round((P[1]+I[1])/2,2)+"H"+t.round(I[0],2)+"V"+t.round(I[1],2)}},Y=function(P,I){return"L"+t.round(I[0],2)+","+t.round(I[1],2)};m.steps=function(P){var I=U[P]||Y;return function(Z){for(var q="M"+t.round(Z[0][0],2)+","+t.round(Z[0][1],2),D=1;D<Z.length;D++)q+=I(Z[D-1],Z[D]);return q}},m.makeTester=function(){var P=l.ensureSingleById(t.select("body"),"svg","js-plotly-tester",function(Z){Z.attr(f.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),I=l.ensureSingle(P,"path","js-reference-point",function(Z){Z.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});m.tester=P,m.testref=I},m.savedBBoxes={};var $=0;function ot(P){var I=P.getAttribute("data-unformatted");if(null!==I)return I+P.getAttribute("data-math")+P.getAttribute("text-anchor")+P.getAttribute("style")}function G(P,I){if(!P)return null;var Z=I._context,q=Z._exportedPlot?"":Z._baseUrl||"";return q?"url('"+q+"#"+P+"')":"url(#"+P+")"}m.bBox=function(P,I,Z){var q,D,M;if(Z||(Z=ot(P)),Z){if(q=m.savedBBoxes[Z])return l.extendFlat({},q)}else if(1===P.childNodes.length){var H=P.childNodes[0];if(Z=ot(H)){var C=+H.getAttribute("x")||0,W=+H.getAttribute("y")||0,K=H.getAttribute("transform");if(!K){var J=m.bBox(H,!1,Z);return C&&(J.left+=C,J.right+=C),W&&(J.top+=W,J.bottom+=W),J}if(q=m.savedBBoxes[Z+="~"+C+"~"+W+"~"+K])return l.extendFlat({},q)}}I?D=P:(M=m.tester.node(),D=P.cloneNode(!0),M.appendChild(D)),t.select(D).attr("transform",null).call(d.positionText,0,0);var Q=D.getBoundingClientRect(),ut=m.testref.node().getBoundingClientRect();I||M.removeChild(D);var ct={height:Q.height,width:Q.width,left:Q.left-ut.left,top:Q.top-ut.top,right:Q.right-ut.left,bottom:Q.bottom-ut.top};return $>=1e4&&(m.savedBBoxes={},$=0),Z&&(m.savedBBoxes[Z]=ct),$++,l.extendFlat({},ct)},m.setClipUrl=function(P,I,Z){P.attr("clip-path",G(I,Z))},m.getTranslate=function(P){var I=(P[P.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(Z,q,D){return[q,D].join(" ")}).split(" ");return{x:+I[0]||0,y:+I[1]||0}},m.setTranslate=function(P,I,Z){var D=P.attr?"attr":"setAttribute",M=P[P.attr?"attr":"getAttribute"]("transform")||"";return I=I||0,Z=Z||0,M=M.replace(/(\btranslate\(.*?\);?)/,"").trim(),M=(M+=r(I,Z)).trim(),P[D]("transform",M),M},m.getScale=function(P){var I=(P[P.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(Z,q,D){return[q,D].join(" ")}).split(" ");return{x:+I[0]||1,y:+I[1]||1}},m.setScale=function(P,I,Z){var D=P.attr?"attr":"setAttribute",M=P[P.attr?"attr":"getAttribute"]("transform")||"";return I=I||1,Z=Z||1,M=M.replace(/(\bscale\(.*?\);?)/,"").trim(),M=(M+="scale("+I+","+Z+")").trim(),P[D]("transform",M),M};var R=/\s*sc.*/;m.setPointGroupScale=function(P,I,Z){if(I=I||1,Z=Z||1,P){var q=1===I&&1===Z?"":"scale("+I+","+Z+")";P.each(function(){var D=(this.getAttribute("transform")||"").replace(R,"");D=(D+=q).trim(),this.setAttribute("transform",D)})}};var j=/translate\([^)]*\)\s*$/;m.setTextPointsScale=function(P,I,Z){P&&P.each(function(){var q,D=t.select(this),M=D.select("text");if(M.node()){var H=parseFloat(M.attr("x")||0),C=parseFloat(M.attr("y")||0),W=(D.attr("transform")||"").match(j);q=1===I&&1===Z?[]:[r(H,C),"scale("+I+","+Z+")",r(-H,-C)],W&&q.push(W),D.attr("transform",q.join(""))}})}},{"../../components/fx/helpers":138,"../../constants/alignment":207,"../../constants/interactions":211,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../lib/svg_text_utils":255,"../../registry":318,"../../traces/scatter/make_bubble_size_func":375,"../../traces/scatter/subtypes":383,"../color":102,"../colorscale":114,"./symbol_defs":125,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],125:[function(c,tt,B){"use strict";var t=c("@plotly/d3");tt.exports={circle:{n:0,f:function(l){var o=t.round(l,2);return"M"+o+",0A"+o+","+o+" 0 1,1 0,-"+o+"A"+o+","+o+" 0 0,1 "+o+",0Z"}},square:{n:1,f:function(l){var o=t.round(l,2);return"M"+o+","+o+"H-"+o+"V-"+o+"H"+o+"Z"}},diamond:{n:2,f:function(l){var o=t.round(1.3*l,2);return"M"+o+",0L0,"+o+"L-"+o+",0L0,-"+o+"Z"}},cross:{n:3,f:function(l){var o=t.round(.4*l,2),e=t.round(1.2*l,2);return"M"+e+","+o+"H"+o+"V"+e+"H-"+o+"V"+o+"H-"+e+"V-"+o+"H-"+o+"V-"+e+"H"+o+"V-"+o+"H"+e+"Z"}},x:{n:4,f:function(l){var o=t.round(.8*l/Math.sqrt(2),2),e="l"+o+","+o,n="l"+o+",-"+o,s="l-"+o+",-"+o,a="l-"+o+","+o;return"M0,"+o+e+n+s+n+s+a+s+a+e+a+e+"Z"}},"triangle-up":{n:5,f:function(l){var o=t.round(2*l/Math.sqrt(3),2);return"M-"+o+","+t.round(l/2,2)+"H"+o+"L0,-"+t.round(l,2)+"Z"}},"triangle-down":{n:6,f:function(l){var o=t.round(2*l/Math.sqrt(3),2);return"M-"+o+",-"+t.round(l/2,2)+"H"+o+"L0,"+t.round(l,2)+"Z"}},"triangle-left":{n:7,f:function(l){var o=t.round(2*l/Math.sqrt(3),2);return"M"+t.round(l/2,2)+",-"+o+"V"+o+"L-"+t.round(l,2)+",0Z"}},"triangle-right":{n:8,f:function(l){var o=t.round(2*l/Math.sqrt(3),2);return"M-"+t.round(l/2,2)+",-"+o+"V"+o+"L"+t.round(l,2)+",0Z"}},"triangle-ne":{n:9,f:function(l){var o=t.round(.6*l,2),e=t.round(1.2*l,2);return"M-"+e+",-"+o+"H"+o+"V"+e+"Z"}},"triangle-se":{n:10,f:function(l){var o=t.round(.6*l,2),e=t.round(1.2*l,2);return"M"+o+",-"+e+"V"+o+"H-"+e+"Z"}},"triangle-sw":{n:11,f:function(l){var o=t.round(.6*l,2),e=t.round(1.2*l,2);return"M"+e+","+o+"H-"+o+"V-"+e+"Z"}},"triangle-nw":{n:12,f:function(l){var o=t.round(.6*l,2),e=t.round(1.2*l,2);return"M-"+o+","+e+"V-"+o+"H"+e+"Z"}},pentagon:{n:13,f:function(l){var o=t.round(.951*l,2),e=t.round(.588*l,2),n=t.round(-l,2),s=t.round(-.309*l,2);return"M"+o+","+s+"L"+e+","+t.round(.809*l,2)+"H-"+e+"L-"+o+","+s+"L0,"+n+"Z"}},hexagon:{n:14,f:function(l){var o=t.round(l,2),e=t.round(l/2,2),n=t.round(l*Math.sqrt(3)/2,2);return"M"+n+",-"+e+"V"+e+"L0,"+o+"L-"+n+","+e+"V-"+e+"L0,-"+o+"Z"}},hexagon2:{n:15,f:function(l){var o=t.round(l,2),e=t.round(l/2,2),n=t.round(l*Math.sqrt(3)/2,2);return"M-"+e+","+n+"H"+e+"L"+o+",0L"+e+",-"+n+"H-"+e+"L-"+o+",0Z"}},octagon:{n:16,f:function(l){var o=t.round(.924*l,2),e=t.round(.383*l,2);return"M-"+e+",-"+o+"H"+e+"L"+o+",-"+e+"V"+e+"L"+e+","+o+"H-"+e+"L-"+o+","+e+"V-"+e+"Z"}},star:{n:17,f:function(l){var o=1.4*l,e=t.round(.225*o,2),n=t.round(.951*o,2),s=t.round(.363*o,2),a=t.round(.588*o,2),i=t.round(-o,2),r=t.round(-.309*o,2),d=t.round(.118*o,2),f=t.round(.809*o,2);return"M"+e+","+r+"H"+n+"L"+s+","+d+"L"+a+","+f+"L0,"+t.round(.382*o,2)+"L-"+a+","+f+"L-"+s+","+d+"L-"+n+","+r+"H-"+e+"L0,"+i+"Z"}},hexagram:{n:18,f:function(l){var o=t.round(.66*l,2),e=t.round(.38*l,2),n=t.round(.76*l,2);return"M-"+n+",0l-"+e+",-"+o+"h"+n+"l"+e+",-"+o+"l"+e+","+o+"h"+n+"l-"+e+","+o+"l"+e+","+o+"h-"+n+"l-"+e+","+o+"l-"+e+",-"+o+"h-"+n+"Z"}},"star-triangle-up":{n:19,f:function(l){var o=t.round(l*Math.sqrt(3)*.8,2),e=t.round(.8*l,2),n=t.round(1.6*l,2),s=t.round(4*l,2),a="A "+s+","+s+" 0 0 1 ";return"M-"+o+","+e+a+o+","+e+a+"0,-"+n+a+"-"+o+","+e+"Z"}},"star-triangle-down":{n:20,f:function(l){var o=t.round(l*Math.sqrt(3)*.8,2),e=t.round(.8*l,2),n=t.round(1.6*l,2),s=t.round(4*l,2),a="A "+s+","+s+" 0 0 1 ";return"M"+o+",-"+e+a+"-"+o+",-"+e+a+"0,"+n+a+o+",-"+e+"Z"}},"star-square":{n:21,f:function(l){var o=t.round(1.1*l,2),e=t.round(2*l,2),n="A "+e+","+e+" 0 0 1 ";return"M-"+o+",-"+o+n+"-"+o+","+o+n+o+","+o+n+o+",-"+o+n+"-"+o+",-"+o+"Z"}},"star-diamond":{n:22,f:function(l){var o=t.round(1.4*l,2),e=t.round(1.9*l,2),n="A "+e+","+e+" 0 0 1 ";return"M-"+o+",0"+n+"0,"+o+n+o+",0"+n+"0,-"+o+n+"-"+o+",0Z"}},"diamond-tall":{n:23,f:function(l){var o=t.round(.7*l,2),e=t.round(1.4*l,2);return"M0,"+e+"L"+o+",0L0,-"+e+"L-"+o+",0Z"}},"diamond-wide":{n:24,f:function(l){var o=t.round(1.4*l,2),e=t.round(.7*l,2);return"M0,"+e+"L"+o+",0L0,-"+e+"L-"+o+",0Z"}},hourglass:{n:25,f:function(l){var o=t.round(l,2);return"M"+o+","+o+"H-"+o+"L"+o+",-"+o+"H-"+o+"Z"},noDot:!0},bowtie:{n:26,f:function(l){var o=t.round(l,2);return"M"+o+","+o+"V-"+o+"L-"+o+","+o+"V-"+o+"Z"},noDot:!0},"circle-cross":{n:27,f:function(l){var o=t.round(l,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o+"M"+o+",0A"+o+","+o+" 0 1,1 0,-"+o+"A"+o+","+o+" 0 0,1 "+o+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(l){var o=t.round(l,2),e=t.round(l/Math.sqrt(2),2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e+"M"+o+",0A"+o+","+o+" 0 1,1 0,-"+o+"A"+o+","+o+" 0 0,1 "+o+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(l){var o=t.round(l,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o+"M"+o+","+o+"H-"+o+"V-"+o+"H"+o+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(l){var o=t.round(l,2);return"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+o+","+o+"H-"+o+"V-"+o+"H"+o+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(l){var o=t.round(1.3*l,2);return"M"+o+",0L0,"+o+"L-"+o+",0L0,-"+o+"ZM0,-"+o+"V"+o+"M-"+o+",0H"+o},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(l){var o=t.round(1.3*l,2),e=t.round(.65*l,2);return"M"+o+",0L0,"+o+"L-"+o+",0L0,-"+o+"ZM-"+e+",-"+e+"L"+e+","+e+"M-"+e+","+e+"L"+e+",-"+e},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(l){var o=t.round(1.4*l,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(l){var o=t.round(l,2);return"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(l){var o=t.round(1.2*l,2),e=t.round(.85*l,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o+"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(l){var o=t.round(l/2,2),e=t.round(l,2);return"M"+o+","+e+"V-"+e+"m-"+e+",0V"+e+"M"+e+","+o+"H-"+e+"m0,-"+e+"H"+e},needLine:!0,noFill:!0},"y-up":{n:37,f:function(l){var o=t.round(1.2*l,2),e=t.round(1.6*l,2),n=t.round(.8*l,2);return"M-"+o+","+n+"L0,0M"+o+","+n+"L0,0M0,-"+e+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(l){var o=t.round(1.2*l,2),e=t.round(1.6*l,2),n=t.round(.8*l,2);return"M-"+o+",-"+n+"L0,0M"+o+",-"+n+"L0,0M0,"+e+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(l){var o=t.round(1.2*l,2),e=t.round(1.6*l,2),n=t.round(.8*l,2);return"M"+n+","+o+"L0,0M"+n+",-"+o+"L0,0M-"+e+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(l){var o=t.round(1.2*l,2),e=t.round(1.6*l,2),n=t.round(.8*l,2);return"M-"+n+","+o+"L0,0M-"+n+",-"+o+"L0,0M"+e+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(l){var o=t.round(1.4*l,2);return"M"+o+",0H-"+o},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(l){var o=t.round(1.4*l,2);return"M0,"+o+"V-"+o},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(l){var o=t.round(l,2);return"M"+o+",-"+o+"L-"+o+","+o},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(l){var o=t.round(l,2);return"M"+o+","+o+"L-"+o+",-"+o},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(l){var o=t.round(l,2);return"M0,0L-"+o+","+t.round(2*l,2)+"H"+o+"Z"},noDot:!0},"arrow-down":{n:46,f:function(l){var o=t.round(l,2);return"M0,0L-"+o+",-"+t.round(2*l,2)+"H"+o+"Z"},noDot:!0},"arrow-left":{n:47,f:function(l){var o=t.round(2*l,2),e=t.round(l,2);return"M0,0L"+o+",-"+e+"V"+e+"Z"},noDot:!0},"arrow-right":{n:48,f:function(l){var o=t.round(2*l,2),e=t.round(l,2);return"M0,0L-"+o+",-"+e+"V"+e+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(l){var o=t.round(l,2);return"M-"+o+",0H"+o+"M0,0L-"+o+","+t.round(2*l,2)+"H"+o+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(l){var o=t.round(l,2);return"M-"+o+",0H"+o+"M0,0L-"+o+",-"+t.round(2*l,2)+"H"+o+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(l){var o=t.round(2*l,2),e=t.round(l,2);return"M0,-"+e+"V"+e+"M0,0L"+o+",-"+e+"V"+e+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(l){var o=t.round(2*l,2),e=t.round(l,2);return"M0,-"+e+"V"+e+"M0,0L-"+o+",-"+e+"V"+e+"Z"},needLine:!0,noDot:!0}}},{"@plotly/d3":11}],126:[function(c,tt,B){"use strict";tt.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],127:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("../../registry"),o=c("../../plots/cartesian/axes"),e=c("../../lib"),n=c("./compute_error");function s(a,i,r,d){var f=i["error_"+d]||{},h=[];if(f.visible&&-1!==["linear","log"].indexOf(r.type)){for(var p=n(f),T=0;T<a.length;T++){var w=a[T],x=w.i;if(void 0===x)x=T;else if(null===x)continue;var m=w[d];if(t(r.c2l(m))){var y=p(m,x);if(t(y[0])&&t(y[1])){var A=w[d+"s"]=m-y[0],b=w[d+"h"]=m+y[1];h.push(A,b)}}}var L=i._extremes[r._id],g=o.findExtremes(r,h,e.extendFlat({tozero:L.opts.tozero},{padded:!0}));L.min=L.min.concat(g.min),L.max=L.max.concat(g.max)}}tt.exports=function(a){for(var i=a.calcdata,r=0;r<i.length;r++){var d=i[r],f=d[0].trace;if(!0===f.visible&&l.traceIs(f,"errorBarsOK")){var h=o.getFromId(a,f.xaxis),p=o.getFromId(a,f.yaxis);s(d,f,h,"x"),s(d,f,p,"y")}}}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./compute_error":128,"fast-isnumeric":17}],128:[function(c,tt,B){"use strict";function t(l,o){return"percent"===l?function(e){return Math.abs(e*o/100)}:"constant"===l?function(){return Math.abs(o)}:"sqrt"===l?function(e){return Math.sqrt(Math.abs(e))}:void 0}tt.exports=function(l){var o=l.type,e=l.symmetric;if("data"===o){var n=l.array||[];if(e)return function(r,d){var f=+n[d];return[f,f]};var s=l.arrayminus||[];return function(r,d){var f=+n[d],h=+s[d];return isNaN(f)&&isNaN(h)?[NaN,NaN]:[h||0,f||0]}}var a=t(o,l.value),i=t(o,l.valueminus);return e||void 0===l.valueminus?function(r){var d=a(r);return[d,d]}:function(r){return[i(r),a(r)]}}},{}],129:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("../../registry"),o=c("../../lib"),e=c("../../plot_api/plot_template"),n=c("./attributes");tt.exports=function(s,a,i,r){var d="error_"+r.axis,f=e.newContainer(a,d),h=s[d]||{};function p(m,y){return o.coerce(h,f,n,m,y)}if(!1!==p("visible",void 0!==h.array||void 0!==h.value||"sqrt"===h.type)){var T=p("type","array"in h?"data":"percent"),w=!0;"sqrt"!==T&&(w=p("symmetric",!(("data"===T?"arrayminus":"valueminus")in h))),"data"===T?(p("array"),p("traceref"),w||(p("arrayminus"),p("tracerefminus"))):"percent"!==T&&"constant"!==T||(p("value"),w||p("valueminus"));var x="copy_"+r.inherit+"style";r.inherit&&(a["error_"+r.inherit]||{}).visible&&p(x,!(h.color||t(h.thickness)||t(h.width))),r.inherit&&f[x]||(p("color",i),p("thickness"),p("width",l.traceIs(a,"gl3d")?0:4))}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"./attributes":126,"fast-isnumeric":17}],130:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../plot_api/edit_types").overrideAll,o=c("./attributes"),e={error_x:t.extendFlat({},o),error_y:t.extendFlat({},o)};delete e.error_x.copy_zstyle,delete e.error_y.copy_zstyle,delete e.error_y.copy_ystyle;var n={error_x:t.extendFlat({},o),error_y:t.extendFlat({},o),error_z:t.extendFlat({},o)};delete n.error_x.copy_ystyle,delete n.error_y.copy_ystyle,delete n.error_z.copy_ystyle,delete n.error_z.copy_zstyle,tt.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:e,bar:e,histogram:e,scatter3d:l(n,"calc","nested"),scattergl:l(e,"calc","nested")}},supplyDefaults:c("./defaults"),calc:c("./calc"),makeComputeError:c("./compute_error"),plot:c("./plot"),style:c("./style"),hoverInfo:function(s,a,i){(a.error_y||{}).visible&&(i.yerr=s.yh-s.y,a.error_y.symmetric||(i.yerrneg=s.y-s.ys)),(a.error_x||{}).visible&&(i.xerr=s.xh-s.x,a.error_x.symmetric||(i.xerrneg=s.x-s.xs))}}},{"../../lib":232,"../../plot_api/edit_types":261,"./attributes":126,"./calc":127,"./compute_error":128,"./defaults":129,"./plot":131,"./style":132}],131:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("fast-isnumeric"),o=c("../drawing"),e=c("../../traces/scatter/subtypes");tt.exports=function(n,s,a,i){var r=a.xaxis,d=a.yaxis,f=i&&i.duration>0;s.each(function(h){var p,T=h[0].trace,w=T.error_x||{},x=T.error_y||{};T.ids&&(p=function(b){return b.id});var m=e.hasMarkers(T)&&T.marker.maxdisplayed>0;x.visible||w.visible||(h=[]);var y=t.select(this).selectAll("g.errorbar").data(h,p);if(y.exit().remove(),h.length){w.visible||y.selectAll("path.xerror").remove(),x.visible||y.selectAll("path.yerror").remove(),y.style("opacity",1);var A=y.enter().append("g").classed("errorbar",!0);f&&A.style("opacity",0).transition().duration(i.duration).style("opacity",1),o.setClipUrl(y,a.layerClipId,n),y.each(function(b){var N,z,U,Y,k=t.select(this),L=(U=d,Y={x:(z=r).c2p((N=b).x),y:U.c2p(N.y)},void 0!==N.yh&&(Y.yh=U.c2p(N.yh),Y.ys=U.c2p(N.ys),l(Y.ys)||(Y.noYS=!0,Y.ys=U.c2p(N.ys,!0))),void 0!==N.xh&&(Y.xh=z.c2p(N.xh),Y.xs=z.c2p(N.xs),l(Y.xs)||(Y.noXS=!0,Y.xs=z.c2p(N.xs,!0))),Y);if(!m||b.vis){var g,S=k.select("path.yerror");if(x.visible&&l(L.x)&&l(L.yh)&&l(L.ys)){var E=x.width;g="M"+(L.x-E)+","+L.yh+"h"+2*E+"m-"+E+",0V"+L.ys,L.noYS||(g+="m-"+E+",0h"+2*E),S.size()?f&&(S=S.transition().duration(i.duration).ease(i.easing)):S=k.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0),S.attr("d",g)}else S.remove();var v=k.select("path.xerror");if(w.visible&&l(L.y)&&l(L.xh)&&l(L.xs)){var F=(w.copy_ystyle?x:w).width;g="M"+L.xh+","+(L.y-F)+"v"+2*F+"m0,-"+F+"H"+L.xs,L.noXS||(g+="m0,-"+F+"v"+2*F),v.size()?f&&(v=v.transition().duration(i.duration).ease(i.easing)):v=k.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0),v.attr("d",g)}else v.remove()}})}})}},{"../../traces/scatter/subtypes":383,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],132:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../color");tt.exports=function(o){o.each(function(e){var n=e[0].trace,s=n.error_y||{},a=n.error_x||{},i=t.select(this);i.selectAll("path.yerror").style("stroke-width",s.thickness+"px").call(l.stroke,s.color),a.copy_ystyle&&(a=s),i.selectAll("path.xerror").style("stroke-width",a.thickness+"px").call(l.stroke,a.color)})}},{"../color":102,"@plotly/d3":11}],133:[function(c,tt,B){"use strict";var t=c("../../plots/font_attributes"),l=c("./layout_attributes").hoverlabel,o=c("../../lib/extend").extendFlat;tt.exports={hoverlabel:{bgcolor:o({},l.bgcolor,{arrayOk:!0}),bordercolor:o({},l.bordercolor,{arrayOk:!0}),font:t({arrayOk:!0,editType:"none"}),align:o({},l.align,{arrayOk:!0}),namelength:o({},l.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":226,"../../plots/font_attributes":310,"./layout_attributes":143}],134:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../registry");function o(e,n,s,a){a=a||t.identity,Array.isArray(e)&&(n[0][s]=a(e))}tt.exports=function(e){var n=e.calcdata,s=e._fullLayout;function a(h){return function(p){return t.coerceHoverinfo({hoverinfo:p},{_module:h._module},s)}}for(var i=0;i<n.length;i++){var r=n[i],d=r[0].trace;if(!l.traceIs(d,"pie-like")){var f=l.traceIs(d,"2dMap")?o:t.fillArray;f(d.hoverinfo,r,"hi",a(d)),d.hovertemplate&&f(d.hovertemplate,r,"ht"),d.hoverlabel&&(f(d.hoverlabel.bgcolor,r,"hbg"),f(d.hoverlabel.bordercolor,r,"hbc"),f(d.hoverlabel.font.size,r,"hts"),f(d.hoverlabel.font.color,r,"htc"),f(d.hoverlabel.font.family,r,"htf"),f(d.hoverlabel.namelength,r,"hnl"),f(d.hoverlabel.align,r,"hta"))}}}},{"../../lib":232,"../../registry":318}],135:[function(c,tt,B){"use strict";var t=c("../../registry"),l=c("./hover").hover;tt.exports=function(o,e,n){var s=t.getComponentMethod("annotations","onClick")(o,o._hoverdata);function a(){o.emit("plotly_click",{points:o._hoverdata,event:e})}void 0!==n&&l(o,e,n,!0),o._hoverdata&&e&&e.target&&(s&&s.then?s.then(a):a(),e.stopImmediatePropagation&&e.stopImmediatePropagation())}},{"../../registry":318,"./hover":139}],136:[function(c,tt,B){"use strict";tt.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],137:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("./attributes"),o=c("./hoverlabel_defaults");tt.exports=function(e,n,s,a){var i=t.extendFlat({},a.hoverlabel);n.hovertemplate&&(i.namelength=-1),o(e,n,function(r,d){return t.coerce(e,n,l,r,d)},i)}},{"../../lib":232,"./attributes":133,"./hoverlabel_defaults":140}],138:[function(c,tt,B){"use strict";var t=c("../../lib");B.getSubplot=function(a){return a.subplot||a.xaxis+a.yaxis||a.geo},B.isTraceInSubplots=function(a,i){if("splom"===a.type){for(var r=a.xaxes||[],d=a.yaxes||[],f=0;f<r.length;f++)for(var h=0;h<d.length;h++)if(-1!==i.indexOf(r[f]+d[h]))return!0;return!1}return-1!==i.indexOf(B.getSubplot(a))},B.flat=function(a,i){for(var r=new Array(a.length),d=0;d<a.length;d++)r[d]=i;return r},B.p2c=function(a,i){for(var r=new Array(a.length),d=0;d<a.length;d++)r[d]=a[d].p2c(i);return r},B.getDistanceFunction=function(a,i,r,d){return"closest"===a?d||B.quadrature(i,r):"x"===a.charAt(0)?i:r},B.getClosest=function(a,i,r){if(!1!==r.index)r.index>=0&&r.index<a.length?r.distance=0:r.index=!1;else for(var d=0;d<a.length;d++){var f=i(a[d]);f<=r.distance&&(r.index=d,r.distance=f)}return r},B.inbox=function(a,i,r){return a*i<0||0===a?r:1/0},B.quadrature=function(a,i){return function(r){var d=a(r),f=i(r);return Math.sqrt(d*d+f*f)}},B.makeEventData=function(a,i,r){var d="index"in a?a.index:a.pointNumber,f={data:i._input,fullData:i,curveNumber:i.index,pointNumber:d};if(i._indexToPoints){var h=i._indexToPoints[d];1===h.length?f.pointIndex=h[0]:f.pointIndices=h}else f.pointIndex=d;return i._module.eventData?f=i._module.eventData(f,a,i,r,d):("xVal"in a?f.x=a.xVal:"x"in a&&(f.x=a.x),"yVal"in a?f.y=a.yVal:"y"in a&&(f.y=a.y),a.xa&&(f.xaxis=a.xa),a.ya&&(f.yaxis=a.ya),void 0!==a.zLabelVal&&(f.z=a.zLabelVal)),B.appendArrayPointValue(f,i,d),f},B.appendArrayPointValue=function(a,i,r){var d=i._arrayAttrs;if(d)for(var f=0;f<d.length;f++){var h=d[f],p=o(h);if(void 0===a[p]){var T=e(t.nestedProperty(i,h).get(),r);void 0!==T&&(a[p]=T)}}},B.appendArrayMultiPointValues=function(a,i,r){var d=i._arrayAttrs;if(d)for(var f=0;f<d.length;f++){var h=d[f],p=o(h);if(void 0===a[p]){for(var T=t.nestedProperty(i,h).get(),w=new Array(r.length),x=0;x<r.length;x++)w[x]=e(T,r[x]);a[p]=w}}};var l={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function o(a){return l[a]||a}function e(a,i){return Array.isArray(i)?Array.isArray(a)&&Array.isArray(a[i[0]])?a[i[0]][i[1]]:void 0:a[i]}var n={x:!0,y:!0},s={"x unified":!0,"y unified":!0};B.isUnifiedHover=function(a){return"string"==typeof a&&!!s[a]},B.isXYhover=function(a){return"string"==typeof a&&!!n[a]}},{"../../lib":232}],139:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("fast-isnumeric"),o=c("tinycolor2"),e=c("../../lib"),n=e.strTranslate,s=e.strRotate,a=c("../../lib/events"),i=c("../../lib/svg_text_utils"),r=c("../../lib/override_cursor"),d=c("../drawing"),f=c("../color"),h=c("../dragelement"),p=c("../../plots/cartesian/axes"),T=c("../../registry"),w=c("./helpers"),x=c("./constants"),m=c("../legend/defaults"),y=c("../legend/draw"),A=x.YANGLE,b=Math.PI*A/180,k=1/Math.sin(b),L=Math.cos(b),g=Math.sin(b),S=x.HOVERARROWSIZE,E=x.HOVERTEXTPAD,v={box:!0,ohlc:!0,violin:!0,candlestick:!0},F={scatter:!0,scattergl:!0,splom:!0};function N(D){return[D.trace.index,D.index,D.x0,D.y0,D.name,D.attr,D.xa?D.xa._id:"",D.ya?D.ya._id:""].join(",")}B.hover=function(D,M,H,C){D=e.getGraphDiv(D);var W=M.target;e.throttle(D._fullLayout._uid+x.HOVERID,x.HOVERMINTIME,function(){!function(K,J,Q,ut,ct){Q||(Q="xy");var gt=Array.isArray(Q)?Q:[Q],vt=K._fullLayout,xt=vt._plots||[],Tt=xt[Q],zt=vt._has("cartesian");if(Tt){var Et=Tt.overlays.map(function(Ue){return Ue.id});gt=gt.concat(Et)}for(var At=gt.length,lt=new Array(At),rt=new Array(At),dt=!1,mt=0;mt<At;mt++){var Dt=gt[mt];if(xt[Dt])dt=!0,lt[mt]=xt[Dt].xaxis,rt[mt]=xt[Dt].yaxis;else{if(!vt[Dt]||!vt[Dt]._subplot)return void e.warn("Unrecognized subplot: "+Dt);var bt=vt[Dt]._subplot;lt[mt]=bt.xaxis,rt[mt]=bt.yaxis}}var wt=J.hovermode||vt.hovermode;if(wt&&!dt&&(wt="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(wt)||!K.calcdata||K.querySelector(".zoombox")||K._dragging)return h.unhoverRaw(K,J);var Ot=vt.hoverdistance;-1===Ot&&(Ot=1/0);var It=vt.spikedistance;-1===It&&(It=1/0);var St,Nt,Vt,Ct,Gt,$t,Xt,de,Kt,kt,Mt,qt,ce,Te=[],Oe=[],xe={hLinePoint:null,vLinePoint:null},ye=!1;if(Array.isArray(J))for(wt="array",Vt=0;Vt<J.length;Vt++)(Gt=K.calcdata[J[Vt].curveNumber||0])&&($t=Gt[0].trace,"skip"!==Gt[0].trace.hoverinfo&&(Oe.push(Gt),"h"===$t.orientation&&(ye=!0)));else{for(Ct=0;Ct<K.calcdata.length;Ct++)"skip"!==($t=(Gt=K.calcdata[Ct])[0].trace).hoverinfo&&w.isTraceInSubplots($t,gt)&&(Oe.push(Gt),"h"===$t.orientation&&(ye=!0));var le,nt;if(ct){if(!1===a.triggerHandler(K,"plotly_beforehover",J))return;var it=ct.getBoundingClientRect();le=J.clientX-it.left,nt=J.clientY-it.top,vt._calcInverseTransform(K);var Lt=e.apply3DTransform(vt._invTransform)(le,nt);if(nt=Lt[1],(le=Lt[0])<0||le>lt[0]._length||nt<0||nt>rt[0]._length)return h.unhoverRaw(K,J)}else le="xpx"in J?J.xpx:lt[0]._length/2,nt="ypx"in J?J.ypx:rt[0]._length/2;if(J.pointerX=le+lt[0]._offset,J.pointerY=nt+rt[0]._offset,St="xval"in J?w.flat(gt,J.xval):w.p2c(lt,le),Nt="yval"in J?w.flat(gt,J.yval):w.p2c(rt,nt),!l(St[0])||!l(Nt[0]))return e.warn("Fx.hover failed",J,K),h.unhoverRaw(K,J)}var Pt=1/0;function Bt(Ue,fn){for(Ct=0;Ct<Oe.length;Ct++)if((Gt=Oe[Ct])&&Gt[0]&&Gt[0].trace&&!0===($t=Gt[0].trace).visible&&0!==$t._length&&-1===["carpet","contourcarpet"].indexOf($t._module.name)){if("splom"===$t.type?Xt=gt[de=0]:(Xt=w.getSubplot($t),de=gt.indexOf(Xt)),w.isUnifiedHover(Kt=wt)&&(Kt=Kt.charAt(0)),qt={cd:Gt,trace:$t,xa:lt[de],ya:rt[de],maxHoverDistance:Ot,maxSpikeDistance:It,index:!1,distance:Math.min(Pt,Ot),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:f.defaultLine,name:$t.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},vt[Xt]&&(qt.subplot=vt[Xt]._subplot),vt._splomScenes&&vt._splomScenes[$t.uid]&&(qt.scene=vt._splomScenes[$t.uid]),ce=Te.length,"array"===Kt){var sn=J[Ct];"pointNumber"in sn?(qt.index=sn.pointNumber,Kt="closest"):(Kt="","xval"in sn&&(kt=sn.xval,Kt="x"),"yval"in sn&&(Mt=sn.yval,Kt=Kt?"closest":"y"))}else void 0!==Ue&&void 0!==fn?(kt=Ue,Mt=fn):(kt=St[de],Mt=Nt[de]);if(0!==Ot)if($t._module&&$t._module.hoverPoints){var Ge=$t._module.hoverPoints(qt,kt,Mt,Kt,{finiteRange:!0,hoverLayer:vt._hoverlayer});if(Ge)for(var bn,hn=0;hn<Ge.length;hn++)l((bn=Ge[hn]).x0)&&l(bn.y0)&&Te.push(ot(bn,wt))}else e.log("Unrecognized trace type in hover:",$t);if("closest"===wt&&Te.length>ce&&(Te.splice(0,ce),Pt=Te[0].distance),zt&&0!==It&&0===Te.length){qt.distance=It,qt.index=!1;var Ke=$t._module.hoverPoints(qt,kt,Mt,"closest",{hoverLayer:vt._hoverlayer});if(Ke&&(Ke=Ke.filter(function(xn){return xn.spikeDistance<=It})),Ke&&Ke.length){var qe,Ne=Ke.filter(function(xn){return xn.xa.showspikes&&"hovered data"!==xn.xa.spikesnap});if(Ne.length){var un=Ne[0];l(un.x0)&&l(un.y0)&&(qe=jt(un),(!xe.vLinePoint||xe.vLinePoint.spikeDistance>qe.spikeDistance)&&(xe.vLinePoint=qe))}var Sn=Ke.filter(function(xn){return xn.ya.showspikes&&"hovered data"!==xn.ya.spikesnap});if(Sn.length){var _n=Sn[0];l(_n.x0)&&l(_n.y0)&&(qe=jt(_n),(!xe.hLinePoint||xe.hLinePoint.spikeDistance>qe.spikeDistance)&&(xe.hLinePoint=qe))}}}}}function Rt(Ue,fn,sn){for(var Ge,bn=null,hn=1/0,Ke=0;Ke<Ue.length;Ke++)Ge=Ue[Ke].spikeDistance,sn&&0===Ke&&(Ge=-1/0),Ge<=hn&&Ge<=fn&&(bn=Ue[Ke],hn=Ge);return bn}function jt(Ue){return Ue?{xa:Ue.xa,ya:Ue.ya,x:void 0!==Ue.xSpike?Ue.xSpike:(Ue.x0+Ue.x1)/2,y:void 0!==Ue.ySpike?Ue.ySpike:(Ue.y0+Ue.y1)/2,distance:Ue.distance,spikeDistance:Ue.spikeDistance,curveNumber:Ue.trace.index,color:Ue.color,pointNumber:Ue.index}:null}Bt();var Ut={fullLayout:vt,container:vt._hoverlayer,event:J},ee=K._spikepoints;K._spikepoints={vLinePoint:xe.vLinePoint,hLinePoint:xe.hLinePoint};var fe=function(){Te.sort(function(Ue,fn){return Ue.distance-fn.distance}),Te=function(Ue,fn){for(var sn=fn.charAt(0),Ge=[],bn=[],hn=[],Ke=0;Ke<Ue.length;Ke++){var qe=Ue[Ke];T.traceIs(qe.trace,"bar-like")||T.traceIs(qe.trace,"box-violin")?hn.push(qe):qe.trace[sn+"period"]?bn.push(qe):Ge.push(qe)}return Ge.concat(bn).concat(hn)}(Te,wt)};fe();var Ae=wt.charAt(0),re=("x"===Ae||"y"===Ae)&&Te[0]&&F[Te[0].trace.type];if(zt&&0!==It&&0!==Te.length){var ve=Rt(Te.filter(function(Ue){return Ue.ya.showspikes}),It,re);xe.hLinePoint=jt(ve);var Pe=Rt(Te.filter(function(Ue){return Ue.xa.showspikes}),It,re);xe.vLinePoint=jt(Pe)}if(0===Te.length){var se=h.unhoverRaw(K,J);return!zt||null===xe.hLinePoint&&null===xe.vLinePoint||R(ee)&&G(K,xe,Ut),se}if(zt&&R(ee)&&G(K,xe,Ut),w.isXYhover(Kt)&&0!==Te[0].length&&"splom"!==Te[0].trace.type){var te=Te[0],Le=(Te=v[te.trace.type]?Te.filter(function(Ue){return Ue.trace.index===te.trace.index}):[te]).length;Bt(P("x",te,vt),P("y",te,vt));var ke,he=[],Fe={},Ie=0,Re=function(Ue){var fn=v[Ue.trace.type]?N(Ue):Ue.trace.index;if(Fe[fn]){var sn=Fe[fn]-1,Ge=he[sn];sn>0&&Math.abs(Ue.distance)<Math.abs(Ge.distance)&&(he[sn]=Ue)}else Ie++,Fe[fn]=Ie,he.push(Ue)};for(ke=0;ke<Le;ke++)Re(Te[ke]);for(ke=Te.length-1;ke>Le-1;ke--)Re(Te[ke]);Te=he,fe()}var Ze=K._hoverdata,We=[],Be=I(K),be=Z(K);for(Vt=0;Vt<Te.length;Vt++){var me=Te[Vt],Me=w.makeEventData(me,me.trace,me.cd);if(!1!==me.hovertemplate){var ze=!1;me.cd[me.index]&&me.cd[me.index].ht&&(ze=me.cd[me.index].ht),me.hovertemplate=ze||me.trace.hovertemplate||!1}if(me.xa&&me.ya){var Ce=me.x0+me.xa._offset,Ve=me.x1+me.xa._offset,Xe=me.y0+me.ya._offset,Qe=me.y1+me.ya._offset,rn=Math.min(Ce,Ve),ln=Math.max(Ce,Ve),on=Math.min(Xe,Qe),cn=Math.max(Xe,Qe);Me.bbox={x0:rn+be,x1:ln+be,y0:on+Be,y1:cn+Be}}me.eventData=[Me],We.push(Me)}K._hoverdata=We;var dn="y"===wt&&(Oe.length>1||Te.length>1)||"closest"===wt&&ye&&Te.length>1,$e=f.combine(vt.plot_bgcolor||f.background,vt.paper_bgcolor),mn=U(Te,{gd:K,hovermode:wt,rotateLabels:dn,bgColor:$e,container:vt._hoverlayer,outerContainer:vt._paper.node(),commonLabelOpts:vt.hoverlabel,hoverdistance:vt.hoverdistance});if(w.isUnifiedHover(wt)||(function(Ue,fn,sn){var Ge,bn,hn,Ke,qe,Ne,un,Sn=0,_n=1,xn=Ue.size(),Tn=new Array(xn),Nn=0;function Mn(Dn){var Un=Dn[0],$n=Dn[Dn.length-1];if(hn=$n.pos+$n.dp+$n.size-Un.pmax,(bn=Un.pmin-Un.pos-Un.dp+Un.size)>.01){for(qe=Dn.length-1;qe>=0;qe--)Dn[qe].dp+=bn;Ge=!1}if(!(hn<.01)){if(bn<-.01){for(qe=Dn.length-1;qe>=0;qe--)Dn[qe].dp-=hn;Ge=!1}if(Ge){var jn=0;for(Ke=0;Ke<Dn.length;Ke++)(Ne=Dn[Ke]).pos+Ne.dp+Ne.size>Un.pmax&&jn++;for(Ke=Dn.length-1;Ke>=0&&!(jn<=0);Ke--)(Ne=Dn[Ke]).pos>Un.pmax-1&&(Ne.del=!0,jn--);for(Ke=0;Ke<Dn.length&&!(jn<=0);Ke++)if((Ne=Dn[Ke]).pos<Un.pmin+1)for(Ne.del=!0,jn--,hn=2*Ne.size,qe=Dn.length-1;qe>=0;qe--)Dn[qe].dp-=hn;for(Ke=Dn.length-1;Ke>=0&&!(jn<=0);Ke--)(Ne=Dn[Ke]).pos+Ne.dp+Ne.size>Un.pmax&&(Ne.del=!0,jn--)}}}for(Ue.each(function(Dn){var Un=Dn[fn],$n="x"===Un._id.charAt(0),jn=Un.range;0===Nn&&jn&&jn[0]>jn[1]!==$n&&(_n=-1),Tn[Nn++]=[{datum:Dn,traceIndex:Dn.trace.index,dp:0,pos:Dn.pos,posref:Dn.posref,size:Dn.by*($n?k:1)/2,pmin:0,pmax:$n?sn.width:sn.height}]}),Tn.sort(function(Dn,Un){return Dn[0].posref-Un[0].posref||_n*(Un[0].traceIndex-Dn[0].traceIndex)});!Ge&&Sn<=xn;){for(Sn++,Ge=!0,Ke=0;Ke<Tn.length-1;){var En=Tn[Ke],Cn=Tn[Ke+1],Wn=En[En.length-1],Rn=Cn[0];if((bn=Wn.pos+Wn.dp+Wn.size-Rn.pos-Rn.dp+Rn.size)>.01&&Wn.pmin===Rn.pmin&&Wn.pmax===Rn.pmax){for(qe=Cn.length-1;qe>=0;qe--)Cn[qe].dp+=bn;for(En.push.apply(En,Cn),Tn.splice(Ke+1,1),un=0,qe=En.length-1;qe>=0;qe--)un+=En[qe].dp;for(hn=un/En.length,qe=En.length-1;qe>=0;qe--)En[qe].dp-=hn;Ge=!1}else Ke++}Tn.forEach(Mn)}for(Ke=Tn.length-1;Ke>=0;Ke--){var Xn=Tn[Ke];for(qe=Xn.length-1;qe>=0;qe--){var Jn=Xn[qe],dr=Jn.datum;dr.offset=Jn.dp,dr.del=Jn.del}}}(mn,dn?"xa":"ya",vt),$(mn,dn,vt._invScaleX,vt._invScaleY)),ct&&ct.tagName){var kn=T.getComponentMethod("annotations","hasClickToShow")(K,We);r(t.select(ct),kn?"pointer":"")}!ct||ut||!function(Ue,fn,sn){if(!sn||sn.length!==Ue._hoverdata.length)return!0;for(var Ge=sn.length-1;Ge>=0;Ge--){var bn=sn[Ge],hn=Ue._hoverdata[Ge];if(bn.curveNumber!==hn.curveNumber||String(bn.pointNumber)!==String(hn.pointNumber)||String(bn.pointNumbers)!==String(hn.pointNumbers))return!0}return!1}(K,0,Ze)||(Ze&&K.emit("plotly_unhover",{event:J,points:Ze}),K.emit("plotly_hover",{event:J,points:K._hoverdata,xaxes:lt,yaxes:rt,xvals:St,yvals:Nt}))}(D,M,H,C,W)})},B.loneHover=function(D,M){var H=!0;Array.isArray(D)||(H=!1,D=[D]);var C=M.gd,W=I(C),K=Z(C),J=U(D.map(function(ct){var gt=ct._x0||ct.x0||ct.x||0,vt=ct._x1||ct.x1||ct.x||0,xt=ct._y0||ct.y0||ct.y||0,Tt=ct._y1||ct.y1||ct.y||0,zt=ct.eventData;if(zt){var Et=Math.min(gt,vt),At=Math.max(gt,vt),lt=Math.min(xt,Tt),rt=Math.max(xt,Tt),dt=ct.trace;if(T.traceIs(dt,"gl3d")){var mt=C._fullLayout[dt.scene]._scene.container,Dt=mt.offsetLeft,bt=mt.offsetTop;Et+=Dt,At+=Dt,lt+=bt,rt+=bt}zt.bbox={x0:Et+K,x1:At+K,y0:lt+W,y1:rt+W},M.inOut_bbox&&M.inOut_bbox.push(zt.bbox)}else zt=!1;return{color:ct.color||f.defaultLine,x0:ct.x0||ct.x||0,x1:ct.x1||ct.x||0,y0:ct.y0||ct.y||0,y1:ct.y1||ct.y||0,xLabel:ct.xLabel,yLabel:ct.yLabel,zLabel:ct.zLabel,text:ct.text,name:ct.name,idealAlign:ct.idealAlign,borderColor:ct.borderColor,fontFamily:ct.fontFamily,fontSize:ct.fontSize,fontColor:ct.fontColor,nameLength:ct.nameLength,textAlign:ct.textAlign,trace:ct.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:ct.hovertemplate||!1,hovertemplateLabels:ct.hovertemplateLabels||!1,eventData:zt}}),{gd:C,hovermode:"closest",rotateLabels:!1,bgColor:M.bgColor||f.background,container:t.select(M.container),outerContainer:M.outerContainer||M.container}),Q=0,ut=0;return J.sort(function(ct,gt){return ct.y0-gt.y0}).each(function(ct,gt){var vt=ct.y0-ct.by/2;ct.offset=vt-5<Q?Q-vt+5:0,Q=vt+ct.by+ct.offset,gt===M.anchorIndex&&(ut=ct.offset)}).each(function(ct){ct.offset-=ut}),$(J,!1,C._fullLayout._invScaleX,C._fullLayout._invScaleY),H?J:J.node()};var z=/<extra>([\s\S]*)<\/extra>/;function U(D,M){var H=M.gd,C=H._fullLayout,W=M.hovermode,K=M.rotateLabels,J=M.bgColor,Q=M.container,ut=M.outerContainer,ct=M.commonLabelOpts||{};if(0===D.length)return[[]];var gt=M.fontFamily||x.HOVERFONT,vt=M.fontSize||x.HOVERFONTSIZE,xt=D[0],Tt=xt.xa,zt=xt.ya,Et=W.charAt(0),At=xt[Et+"Label"],lt=q(H,ut),rt=lt.top,dt=lt.width,mt=lt.height,Dt=void 0!==At&&xt.distance<=M.hoverdistance&&("x"===W||"y"===W);if(Dt){var bt,wt,Ot=!0;for(bt=0;bt<D.length;bt++)if(Ot&&void 0===D[bt].zLabel&&(Ot=!1),wt=D[bt].hoverinfo||D[bt].trace.hoverinfo){var It=Array.isArray(wt)?wt:wt.split("+");if(-1===It.indexOf("all")&&-1===It.indexOf(W)){Dt=!1;break}}Ot&&(Dt=!1)}var St=Q.selectAll("g.axistext").data(Dt?[0]:[]);if(St.enter().append("g").classed("axistext",!0),St.exit().remove(),St.each(function(){var re=t.select(this),ve=e.ensureSingle(re,"path","",function(Ve){Ve.style({"stroke-width":"1px"})}),Pe=e.ensureSingle(re,"text","",function(Ve){Ve.attr("data-notex",1)}),se=ct.bgcolor||f.defaultLine,te=ct.bordercolor||f.contrast(se),Le=f.contrast(se),_e={family:ct.font.family||gt,size:ct.font.size||vt,color:ct.font.color||Le};ve.style({fill:se,stroke:te}),Pe.text(At).call(d.font,_e).call(i.positionText,0,0).call(i.convertToTspans,H),re.attr("transform","");var ge,ke,he=q(H,Pe.node());if("x"===W){var Fe="top"===Tt.side?"-":"";Pe.attr("text-anchor","middle").call(i.positionText,0,"top"===Tt.side?rt-he.bottom-S-E:rt-he.top+S+E),ke=zt._offset+("top"===Tt.side?0:zt._length);var Ie=he.width/2+E;(ge=Tt._offset+(xt.x0+xt.x1)/2)<Ie?(ge=Ie,ve.attr("d","M-"+(Ie-S)+",0L-"+(Ie-2*S)+","+Fe+S+"H"+(E+he.width/2)+"v"+Fe+(2*E+he.height)+"H-"+Ie+"V"+Fe+S+"Z")):ge>C.width-Ie?(ge=C.width-Ie,ve.attr("d","M"+(Ie-S)+",0L"+Ie+","+Fe+S+"v"+Fe+(2*E+he.height)+"H-"+Ie+"V"+Fe+S+"H"+(Ie-2*S)+"Z")):ve.attr("d","M0,0L"+S+","+Fe+S+"H"+(E+he.width/2)+"v"+Fe+(2*E+he.height)+"H-"+(E+he.width/2)+"V"+Fe+S+"H-"+S+"Z")}else{var Re,Ze,We;"right"===zt.side?(Re="start",Ze=1,We="",ge=Tt._offset+Tt._length):(Re="end",Ze=-1,We="-",ge=Tt._offset),ke=zt._offset+(xt.y0+xt.y1)/2,Pe.attr("text-anchor",Re),ve.attr("d","M0,0L"+We+S+","+S+"V"+(E+he.height/2)+"h"+We+(2*E+he.width)+"V-"+(E+he.height/2)+"H"+We+S+"V-"+S+"Z");var Be,be=he.height/2,me=rt-he.top-be,Me="clip"+C._uid+"commonlabel"+zt._id;if(ge<he.width+2*E+S){Be="M-"+(S+E)+"-"+be+"h-"+(he.width-E)+"V"+be+"h"+(he.width-E)+"Z";var ze=he.width-ge+E;i.positionText(Pe,ze,me),"end"===Re&&Pe.selectAll("tspan").each(function(){var Ve=t.select(this),Xe=d.tester.append("text").text(Ve.text()).call(d.font,_e),Qe=q(H,Xe.node());Math.round(Qe.width)<Math.round(he.width)&&Ve.attr("x",ze-Qe.width),Xe.remove()})}else i.positionText(Pe,Ze*(E+S),me),Be=null;var Ce=C._topclips.selectAll("#"+Me).data(Be?[0]:[]);Ce.enter().append("clipPath").attr("id",Me).append("path"),Ce.exit().remove(),Ce.select("path").attr("d",Be),d.setClipUrl(Pe,Be?Me:null,H)}re.attr("transform",n(ge,ke))}),w.isUnifiedHover(W)){Q.selectAll("g.hovertext").remove();var Nt=D.filter(function(re){return"none"!==re.hoverinfo});if(0===Nt.length)return;var Vt=C.hoverlabel,Ct=Vt.font,$t={font:Ct};m({showlegend:!0,legend:{title:{text:At,font:Ct},font:Ct,bgcolor:Vt.bgcolor,bordercolor:Vt.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:C.legend?C.legend.traceorder:void 0,orientation:"v"}},$t,H._fullData);var Xt=$t.legend;Xt.entries=[];for(var de=0;de<Nt.length;de++){var Kt=Nt[de];if("none"!==Kt.hoverinfo){var kt=Y(Kt,!0,W,C,At),Mt=kt[0],qt=kt[1];Kt.name=qt,Kt.text=""!==qt?qt+" : "+Mt:Mt;var ce=Kt.cd[Kt.index];ce&&(ce.mc&&(Kt.mc=ce.mc),ce.mcc&&(Kt.mc=ce.mcc),ce.mlc&&(Kt.mlc=ce.mlc),ce.mlcc&&(Kt.mlc=ce.mlcc),ce.mlw&&(Kt.mlw=ce.mlw),ce.mrc&&(Kt.mrc=ce.mrc),ce.dir&&(Kt.dir=ce.dir)),Kt._distinct=!0,Xt.entries.push([Kt])}}Xt.entries.sort(function(re,ve){return re[0].trace.index-ve[0].trace.index}),Xt.layer=Q,Xt._inHover=!0,Xt._groupTitleFont=Vt.grouptitlefont,y(H,Xt);var Te,Oe,xe,ye,le=Q.select("g.legend"),nt=q(H,le.node()),it=nt.width+2*E,Lt=nt.height+2*E,Pt=Nt[0],Bt=(Pt.x0+Pt.x1)/2,Rt=(Pt.y0+Pt.y1)/2,jt=!(T.traceIs(Pt.trace,"bar-like")||T.traceIs(Pt.trace,"box-violin"));"y"===Et?jt?(Oe=Rt-E,Te=Rt+E):(Oe=Math.min.apply(null,Nt.map(function(re){return Math.min(re.y0,re.y1)})),Te=Math.max.apply(null,Nt.map(function(re){return Math.max(re.y0,re.y1)}))):Oe=Te=e.mean(Nt.map(function(re){return(re.y0+re.y1)/2}))-Lt/2,"x"===Et?jt?(xe=Bt+E,ye=Bt-E):(xe=Math.max.apply(null,Nt.map(function(re){return Math.max(re.x0,re.x1)})),ye=Math.min.apply(null,Nt.map(function(re){return Math.min(re.x0,re.x1)}))):xe=ye=e.mean(Nt.map(function(re){return(re.x0+re.x1)/2}))-it/2;var Ut,ee,ie=Tt._offset,fe=zt._offset;return ye+=ie-it,Oe+=fe-Lt,Ut=(xe+=ie)+it<dt&&xe>=0?xe:ye+it<dt&&ye>=0?ye:ie+it<dt?ie:xe-Bt<Bt-ye+it?dt-it:0,ee=(Te+=fe)+Lt<mt&&Te>=0?Te:Oe+Lt<mt&&Oe>=0?Oe:fe+Lt<mt?fe:Te-Rt<Rt-Oe+Lt?mt-Lt:0,le.attr("transform",n((Ut+=E)-1,(ee+=E)-1)),le}var Ae=Q.selectAll("g.hovertext").data(D,function(re){return N(re)});return Ae.enter().append("g").classed("hovertext",!0).each(function(){var re=t.select(this);re.append("rect").call(f.fill,f.addOpacity(J,.8)),re.append("text").classed("name",!0),re.append("path").style("stroke-width","1px"),re.append("text").classed("nums",!0).call(d.font,gt,vt)}),Ae.exit().remove(),Ae.each(function(re){var ve=t.select(this).attr("transform",""),Pe=re.color;Array.isArray(Pe)&&(Pe=Pe[re.eventData[0].pointNumber]);var se=re.bgcolor||Pe,te=f.combine(f.opacity(se)?se:f.defaultLine,J),Le=f.combine(f.opacity(Pe)?Pe:f.defaultLine,J),_e=re.borderColor||f.contrast(te),ge=Y(re,Dt,W,C,At,ve),ke=ge[0],he=ge[1],Fe=ve.select("text.nums").call(d.font,re.fontFamily||gt,re.fontSize||vt,re.fontColor||_e).text(ke).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,H),Ie=ve.select("text.name"),Re=0,Ze=0;if(he&&he!==ke){Ie.call(d.font,re.fontFamily||gt,re.fontSize||vt,Le).text(he).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,H);var We=q(H,Ie.node());Re=We.width+2*E,Ze=We.height+2*E}else Ie.remove(),ve.select("rect").remove();ve.select("path").style({fill:te,stroke:_e});var Be=re.xa._offset+(re.x0+re.x1)/2,be=re.ya._offset+(re.y0+re.y1)/2,me=Math.abs(re.x1-re.x0),Me=Math.abs(re.y1-re.y0),ze=q(H,Fe.node()),Ce=ze.width/C._invScaleX,Ve=ze.height/C._invScaleY;re.ty0=(rt-ze.top)/C._invScaleY,re.bx=Ce+2*E,re.by=Math.max(Ve+2*E,Ze),re.anchor="start",re.txwidth=Ce,re.tx2width=Re,re.offset=0;var Xe,Qe,rn=(Ce+S+E+Re)*C._invScaleX;if(K)re.pos=Be,Xe=be+Me/2+rn<=mt,Qe=be-Me/2-rn>=0,"top"!==re.idealAlign&&Xe||!Qe?Xe?(be+=Me/2,re.anchor="start"):re.anchor="middle":(be-=Me/2,re.anchor="end");else if(re.pos=be,Xe=Be+me/2+rn<=dt,Qe=Be-me/2-rn>=0,"left"!==re.idealAlign&&Xe||!Qe)if(Xe)Be+=me/2,re.anchor="start";else{re.anchor="middle";var ln=rn/2,on=Be+ln-dt,cn=Be-ln;on>0&&(Be-=on),cn<0&&(Be+=-cn)}else Be-=me/2,re.anchor="end";Fe.attr("text-anchor",re.anchor),Re&&Ie.attr("text-anchor",re.anchor),ve.attr("transform",n(Be,be)+(K?s(A):""))}),Ae}function Y(D,M,H,C,W,K){var J="",Q="";void 0!==D.nameOverride&&(D.name=D.nameOverride),D.name&&(D.trace._meta&&(D.name=e.templateString(D.name,D.trace._meta)),J=j(D.name,D.nameLength));var ut=H.charAt(0);void 0!==D.zLabel?(void 0!==D.xLabel&&(Q+="x: "+D.xLabel+"<br>"),void 0!==D.yLabel&&(Q+="y: "+D.yLabel+"<br>"),"choropleth"!==D.trace.type&&"choroplethmapbox"!==D.trace.type&&(Q+=(Q?"z: ":"")+D.zLabel)):M&&D[ut+"Label"]===W?Q=D[("x"===ut?"y":"x")+"Label"]||"":void 0===D.xLabel?void 0!==D.yLabel&&"scattercarpet"!==D.trace.type&&(Q=D.yLabel):Q=void 0===D.yLabel?D.xLabel:"("+D.xLabel+", "+D.yLabel+")",!D.text&&0!==D.text||Array.isArray(D.text)||(Q+=(Q?"<br>":"")+D.text),void 0!==D.extraText&&(Q+=(Q?"<br>":"")+D.extraText),K&&""===Q&&!D.hovertemplate&&(""===J&&K.remove(),Q=J);var gt=D.hovertemplate||!1;if(gt){var vt=D.hovertemplateLabels||D;D[ut+"Label"]!==W&&(vt[ut+"other"]=vt[ut+"Val"],vt[ut+"otherLabel"]=vt[ut+"Label"]),Q=(Q=e.hovertemplateString(gt,vt,C._d3locale,D.eventData[0]||{},D.trace._meta)).replace(z,function(xt,Tt){return J=j(Tt,D.nameLength),""})}return[Q,J]}function $(D,M,H,C){var W=function(J){return J*H},K=function(J){return J*C};D.each(function(J){var Q=t.select(this);if(J.del)return Q.remove();var ut=Q.select("text.nums"),ct=J.anchor,gt="end"===ct?-1:1,vt={start:1,end:-1,middle:0}[ct],xt=vt*(S+E),Tt=xt+vt*(J.txwidth+E),zt=0,Et=J.offset,At="middle"===ct;At&&(xt-=J.tx2width/2,Tt+=J.txwidth/2+E),M&&(Et*=-g,zt=J.offset*L),Q.select("path").attr("d",At?"M-"+W(J.bx/2+J.tx2width/2)+","+K(Et-J.by/2)+"h"+W(J.bx)+"v"+K(J.by)+"h-"+W(J.bx)+"Z":"M0,0L"+W(gt*S+zt)+","+K(S+Et)+"v"+K(J.by/2-S)+"h"+W(gt*J.bx)+"v-"+K(J.by)+"H"+W(gt*S+zt)+"V"+K(Et-S)+"Z");var lt=zt+xt,rt=Et+J.ty0-J.by/2+E,dt=J.textAlign||"auto";"auto"!==dt&&("left"===dt&&"start"!==ct?(ut.attr("text-anchor","start"),lt=At?-J.bx/2-J.tx2width/2+E:-J.bx-E):"right"===dt&&"end"!==ct&&(ut.attr("text-anchor","end"),lt=At?J.bx/2-J.tx2width/2-E:J.bx+E)),ut.call(i.positionText,W(lt),K(rt)),J.tx2width&&(Q.select("text.name").call(i.positionText,W(Tt+vt*E+zt),K(Et+J.ty0-J.by/2+E)),Q.select("rect").call(d.setRect,W(Tt+(vt-1)*J.tx2width/2+zt),K(Et-J.by/2-1),W(J.tx2width),K(J.by+2)))})}function ot(D,M){var H=D.index,C=D.trace||{},W=D.cd[0],K=D.cd[H]||{};function J(xt){return xt||l(xt)&&0===xt}var Q=Array.isArray(H)?function(xt,Tt){var zt=e.castOption(W,H,xt);return J(zt)?zt:e.extractOption({},C,"",Tt)}:function(xt,Tt){return e.extractOption(K,C,xt,Tt)};function ut(xt,Tt,zt){var Et=Q(Tt,zt);J(Et)&&(D[xt]=Et)}if(ut("hoverinfo","hi","hoverinfo"),ut("bgcolor","hbg","hoverlabel.bgcolor"),ut("borderColor","hbc","hoverlabel.bordercolor"),ut("fontFamily","htf","hoverlabel.font.family"),ut("fontSize","hts","hoverlabel.font.size"),ut("fontColor","htc","hoverlabel.font.color"),ut("nameLength","hnl","hoverlabel.namelength"),ut("textAlign","hta","hoverlabel.align"),D.posref="y"===M||"closest"===M&&"h"===C.orientation?D.xa._offset+(D.x0+D.x1)/2:D.ya._offset+(D.y0+D.y1)/2,D.x0=e.constrain(D.x0,0,D.xa._length),D.x1=e.constrain(D.x1,0,D.xa._length),D.y0=e.constrain(D.y0,0,D.ya._length),D.y1=e.constrain(D.y1,0,D.ya._length),void 0!==D.xLabelVal&&(D.xLabel="xLabel"in D?D.xLabel:p.hoverLabelText(D.xa,D.xLabelVal,C.xhoverformat),D.xVal=D.xa.c2d(D.xLabelVal)),void 0!==D.yLabelVal&&(D.yLabel="yLabel"in D?D.yLabel:p.hoverLabelText(D.ya,D.yLabelVal,C.yhoverformat),D.yVal=D.ya.c2d(D.yLabelVal)),void 0!==D.zLabelVal&&void 0===D.zLabel&&(D.zLabel=String(D.zLabelVal)),!(isNaN(D.xerr)||"log"===D.xa.type&&D.xerr<=0)){var ct=p.tickText(D.xa,D.xa.c2l(D.xerr),"hover").text;D.xLabel+=void 0!==D.xerrneg?" +"+ct+" / -"+p.tickText(D.xa,D.xa.c2l(D.xerrneg),"hover").text:" \xb1 "+ct,"x"===M&&(D.distance+=1)}if(!(isNaN(D.yerr)||"log"===D.ya.type&&D.yerr<=0)){var gt=p.tickText(D.ya,D.ya.c2l(D.yerr),"hover").text;D.yLabel+=void 0!==D.yerrneg?" +"+gt+" / -"+p.tickText(D.ya,D.ya.c2l(D.yerrneg),"hover").text:" \xb1 "+gt,"y"===M&&(D.distance+=1)}var vt=D.hoverinfo||D.trace.hoverinfo;return vt&&"all"!==vt&&(-1===(vt=Array.isArray(vt)?vt:vt.split("+")).indexOf("x")&&(D.xLabel=void 0),-1===vt.indexOf("y")&&(D.yLabel=void 0),-1===vt.indexOf("z")&&(D.zLabel=void 0),-1===vt.indexOf("text")&&(D.text=void 0),-1===vt.indexOf("name")&&(D.name=void 0)),D}function G(D,M,H){var C,W,K=H.container,J=H.fullLayout,Q=J._size,ut=H.event,ct=!!M.hLinePoint,gt=!!M.vLinePoint;if(K.selectAll(".spikeline").remove(),gt||ct){var vt=f.combine(J.plot_bgcolor,J.paper_bgcolor);if(ct){var xt,Tt,zt=M.hLinePoint;C=zt&&zt.xa,"cursor"===(W=zt&&zt.ya).spikesnap?(xt=ut.pointerX,Tt=ut.pointerY):(xt=C._offset+zt.x,Tt=W._offset+zt.y);var Et,At,lt=o.readability(zt.color,vt)<1.5?f.contrast(vt):zt.color,rt=W.spikemode,dt=W.spikethickness,mt=W.spikecolor||lt,Dt=p.getPxPosition(D,W);if(-1!==rt.indexOf("toaxis")||-1!==rt.indexOf("across")){if(-1!==rt.indexOf("toaxis")&&(Et=Dt,At=xt),-1!==rt.indexOf("across")){var bt=W._counterDomainMin,wt=W._counterDomainMax;"free"===W.anchor&&(bt=Math.min(bt,W.position),wt=Math.max(wt,W.position)),Et=Q.l+bt*Q.w,At=Q.l+wt*Q.w}K.insert("line",":first-child").attr({x1:Et,x2:At,y1:Tt,y2:Tt,"stroke-width":dt,stroke:mt,"stroke-dasharray":d.dashStyle(W.spikedash,dt)}).classed("spikeline",!0).classed("crisp",!0),K.insert("line",":first-child").attr({x1:Et,x2:At,y1:Tt,y2:Tt,"stroke-width":dt+2,stroke:vt}).classed("spikeline",!0).classed("crisp",!0)}-1!==rt.indexOf("marker")&&K.insert("circle",":first-child").attr({cx:Dt+("right"!==W.side?dt:-dt),cy:Tt,r:dt,fill:mt}).classed("spikeline",!0)}if(gt){var Ot,It,St=M.vLinePoint;W=St&&St.ya,"cursor"===(C=St&&St.xa).spikesnap?(Ot=ut.pointerX,It=ut.pointerY):(Ot=C._offset+St.x,It=W._offset+St.y);var Nt,Vt,Ct=o.readability(St.color,vt)<1.5?f.contrast(vt):St.color,Gt=C.spikemode,$t=C.spikethickness,Xt=C.spikecolor||Ct,de=p.getPxPosition(D,C);if(-1!==Gt.indexOf("toaxis")||-1!==Gt.indexOf("across")){if(-1!==Gt.indexOf("toaxis")&&(Nt=de,Vt=It),-1!==Gt.indexOf("across")){var Kt=C._counterDomainMin,kt=C._counterDomainMax;"free"===C.anchor&&(Kt=Math.min(Kt,C.position),kt=Math.max(kt,C.position)),Nt=Q.t+(1-kt)*Q.h,Vt=Q.t+(1-Kt)*Q.h}K.insert("line",":first-child").attr({x1:Ot,x2:Ot,y1:Nt,y2:Vt,"stroke-width":$t,stroke:Xt,"stroke-dasharray":d.dashStyle(C.spikedash,$t)}).classed("spikeline",!0).classed("crisp",!0),K.insert("line",":first-child").attr({x1:Ot,x2:Ot,y1:Nt,y2:Vt,"stroke-width":$t+2,stroke:vt}).classed("spikeline",!0).classed("crisp",!0)}-1!==Gt.indexOf("marker")&&K.insert("circle",":first-child").attr({cx:Ot,cy:de-("top"!==C.side?$t:-$t),r:$t,fill:Xt}).classed("spikeline",!0)}}}function R(D,M){return!M||M.vLinePoint!==D._spikepoints.vLinePoint||M.hLinePoint!==D._spikepoints.hLinePoint}function j(D,M){return i.plainText(D||"",{len:M,allowedTags:["br","sub","sup","b","i","em"]})}function P(D,M,H){var C=M[D+"a"],W=M[D+"Val"],K=M.cd[0];if("category"===C.type)W=C._categoriesMap[W];else if("date"===C.type){var J=M.trace[D+"periodalignment"];if(J){var Q=M.cd[M.index],ut=Q[D+"Start"];void 0===ut&&(ut=Q[D]);var ct=Q[D+"End"];void 0===ct&&(ct=Q[D]);var gt=ct-ut;"end"===J?W+=gt:"middle"===J&&(W+=gt/2)}W=C.d2c(W)}return K&&K.t&&K.t.posLetter===C._id&&("group"!==H.boxmode&&"group"!==H.violinmode||(W+=K.t.dPos)),W}function I(D){return D.offsetTop+D.clientTop}function Z(D){return D.offsetLeft+D.clientLeft}function q(D,M){var H=D._fullLayout,C=M.getBoundingClientRect(),W=C.x,K=C.y,J=W+C.width,Q=K+C.height,ut=e.apply3DTransform(H._invTransform)(W,K),ct=e.apply3DTransform(H._invTransform)(J,Q),gt=ut[0],vt=ut[1],xt=ct[0],Tt=ct[1];return{x:gt,y:vt,width:xt-gt,height:Tt-vt,top:Math.min(vt,Tt),left:Math.min(gt,xt),right:Math.max(gt,xt),bottom:Math.max(vt,Tt)}}},{"../../lib":232,"../../lib/events":225,"../../lib/override_cursor":243,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../legend/defaults":154,"../legend/draw":155,"./constants":136,"./helpers":138,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],140:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../color"),o=c("./helpers").isUnifiedHover;tt.exports=function(e,n,s,a){a=a||{};var i=n.legend;function r(d){a.font[d]||(a.font[d]=i?n.legend.font[d]:n.font[d])}n&&o(n.hovermode)&&(a.font||(a.font={}),r("size"),r("family"),r("color"),i?(a.bgcolor||(a.bgcolor=l.combine(n.legend.bgcolor,n.paper_bgcolor)),a.bordercolor||(a.bordercolor=n.legend.bordercolor)):a.bgcolor||(a.bgcolor=n.paper_bgcolor)),s("hoverlabel.bgcolor",a.bgcolor),s("hoverlabel.bordercolor",a.bordercolor),s("hoverlabel.namelength",a.namelength),t.coerceFont(s,"hoverlabel.font",a.font),s("hoverlabel.align",a.align)}},{"../../lib":232,"../color":102,"./helpers":138}],141:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("./layout_attributes");tt.exports=function(o,e){function n(s,a){return void 0!==e[s]?e[s]:t.coerce(o,e,l,s,a)}return n("clickmode"),n("hovermode")}},{"../../lib":232,"./layout_attributes":143}],142:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../../lib"),o=c("../dragelement"),e=c("./helpers"),n=c("./layout_attributes"),s=c("./hover");tt.exports={moduleType:"component",name:"fx",constants:c("./constants"),schema:{layout:n},attributes:c("./attributes"),layoutAttributes:n,supplyLayoutGlobalDefaults:c("./layout_global_defaults"),supplyDefaults:c("./defaults"),supplyLayoutDefaults:c("./layout_defaults"),calc:c("./calc"),getDistanceFunction:e.getDistanceFunction,getClosest:e.getClosest,inbox:e.inbox,quadrature:e.quadrature,appendArrayPointValue:e.appendArrayPointValue,castHoverOption:function(a,i,r){return l.castOption(a,i,"hoverlabel."+r)},castHoverinfo:function(a,i,r){return l.castOption(a,r,"hoverinfo",function(d){return l.coerceHoverinfo({hoverinfo:d},{_module:a._module},i)})},hover:s.hover,unhover:o.unhover,loneHover:s.loneHover,loneUnhover:function(a){var i=l.isD3Selection(a)?a:t.select(a);i.selectAll("g.hovertext").remove(),i.selectAll(".spikeline").remove()},click:c("./click")}},{"../../lib":232,"../dragelement":121,"./attributes":133,"./calc":134,"./click":135,"./constants":136,"./defaults":137,"./helpers":138,"./hover":139,"./layout_attributes":143,"./layout_defaults":144,"./layout_global_defaults":145,"@plotly/d3":11}],143:[function(c,tt,B){"use strict";var t=c("./constants"),l=c("../../plots/font_attributes"),o=l({editType:"none"});o.family.dflt=t.HOVERFONT,o.size.dflt=t.HOVERFONTSIZE,tt.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:o,grouptitlefont:l({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":310,"./constants":136}],144:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("./layout_attributes"),o=c("./hovermode_defaults"),e=c("./hoverlabel_defaults");tt.exports=function(n,s){function a(f,h){return t.coerce(n,s,l,f,h)}o(n,s)&&(a("hoverdistance"),a("spikedistance")),"select"===a("dragmode")&&a("selectdirection");var i=s._has("mapbox"),r=s._has("geo"),d=s._basePlotModules.length;"zoom"===s.dragmode&&((i||r)&&1===d||i&&r&&2===d)&&(s.dragmode="pan"),e(n,s,a),t.coerceFont(a,"hoverlabel.grouptitlefont",s.hoverlabel.font)}},{"../../lib":232,"./hoverlabel_defaults":140,"./hovermode_defaults":141,"./layout_attributes":143}],145:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("./hoverlabel_defaults"),o=c("./layout_attributes");tt.exports=function(e,n){l(e,n,function(s,a){return t.coerce(e,n,o,s,a)})}},{"../../lib":232,"./hoverlabel_defaults":140,"./layout_attributes":143}],146:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../lib/regex").counter,o=c("../../plots/domain").attributes,e=c("../../plots/cartesian/constants").idRegex,n=c("../../plot_api/plot_template"),s={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[l("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[e.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[e.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:o({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function a(d,f,h){var p=f[h+"axes"],T=Object.keys((d._splomAxes||{})[h]||{});return Array.isArray(p)?p:T.length?T:void 0}function i(d,f,h,p,T,w){var x=f(d+"gap",h),m=f("domain."+d);f(d+"side",p);for(var y=new Array(T),A=m[0],b=(m[1]-A)/(T-x),k=b*(1-x),L=0;L<T;L++){var g=A+b*L;y[w?T-1-L:L]=[g,g+k]}return y}function r(d,f,h,p,T){var w,x=new Array(h);function m(y,A){-1!==f.indexOf(A)&&void 0===p[A]?(x[y]=A,p[A]=y):x[y]=""}if(Array.isArray(d))for(w=0;w<h;w++)m(w,d[w]);else for(m(0,T),w=1;w<h;w++)m(w,T+(w+1));return x}tt.exports={moduleType:"component",name:"grid",schema:{layout:{grid:s}},layoutAttributes:s,sizeDefaults:function(d,f){var h=d.grid||{},p=a(f,h,"x"),T=a(f,h,"y");if(d.grid||p||T){var w,x,m=Array.isArray(h.subplots)&&Array.isArray(h.subplots[0]),y=Array.isArray(p),A=Array.isArray(T),b=y&&p!==h.xaxes&&A&&T!==h.yaxes;m?(w=h.subplots.length,x=h.subplots[0].length):(A&&(w=T.length),y&&(x=p.length));var k=n.newContainer(f,"grid"),L=z("rows",w),g=z("columns",x);if(L*g>1){!m&&!y&&!A&&"independent"===z("pattern")&&(m=!0),k._hasSubplotGrid=m;var S,E,v="top to bottom"===z("roworder"),N=m?.3:.1;b&&f._splomGridDflt&&(S=f._splomGridDflt.xside,E=f._splomGridDflt.yside),k._domains={x:i("x",z,m?.2:.1,S,g),y:i("y",z,N,E,L,v)}}else delete f.grid}function z(U,Y){return t.coerce(h,k,s,U,Y)}},contentDefaults:function(d,f){var h=f.grid;if(h&&h._domains){var p,T,w,x,m,y,A,b=d.grid||{},k=f._subplots,L=h._hasSubplotGrid,g=h.rows,S=h.columns,E="independent"===h.pattern,v=h._axisMap={};if(L){var F=b.subplots||[];y=h.subplots=new Array(g);var N=1;for(p=0;p<g;p++){var z=y[p]=new Array(S),U=F[p]||[];for(T=0;T<S;T++)if(E?(m=1===N?"xy":"x"+N+"y"+N,N++):m=U[T],z[T]="",-1!==k.cartesian.indexOf(m)){if(A=m.indexOf("y"),w=m.slice(0,A),x=m.slice(A),void 0!==v[w]&&v[w]!==T||void 0!==v[x]&&v[x]!==p)continue;z[T]=m,v[w]=T,v[x]=p}}}else{var Y=a(f,b,"x"),$=a(f,b,"y");h.xaxes=r(Y,k.xaxis,S,v,"x"),h.yaxes=r($,k.yaxis,g,v,"y")}var ot=h._anchors={},G="top to bottom"===h.roworder;for(var R in v){var j,P,I,Z=R.charAt(0),q=h[Z+"side"];if(q.length<8)ot[R]="free";else if("x"===Z){if("t"===q.charAt(0)===G?(j=0,P=1,I=g):(j=g-1,P=-1,I=-1),L){var D=v[R];for(p=j;p!==I;p+=P)if((m=y[p][D])&&(A=m.indexOf("y"),m.slice(0,A)===R)){ot[R]=m.slice(A);break}}else for(p=j;p!==I;p+=P)if(-1!==k.cartesian.indexOf(R+(x=h.yaxes[p]))){ot[R]=x;break}}else if("l"===q.charAt(0)?(j=0,P=1,I=S):(j=S-1,P=-1,I=-1),L){var M=v[R];for(p=j;p!==I;p+=P)if((m=y[M][p])&&(A=m.indexOf("y"),m.slice(A)===R)){ot[R]=m.slice(0,A);break}}else for(p=j;p!==I;p+=P)if(-1!==k.cartesian.indexOf((w=h.xaxes[p])+R)){ot[R]=w;break}}}}}},{"../../lib":232,"../../lib/regex":248,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/domain":309}],147:[function(c,tt,B){"use strict";var t=c("../../plots/cartesian/constants"),l=c("../../plot_api/plot_template").templatedArray;c("../../constants/axis_placeable_objects"),tt.exports=l("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",t.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",t.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286}],148:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("../../lib/to_log_range");tt.exports=function(o,e,n,s){e=e||{};var a="log"===n&&"linear"===e.type;if(a||"linear"===n&&"log"===e.type)for(var r,d,f=o._fullLayout.images,h=e._id.charAt(0),p=0;p<f.length;p++)if(d="images["+p+"].",(r=f[p])[h+"ref"]===e._id){var T=r[h],w=r["size"+h],x=null,m=null;if(a){x=l(T,e.range);var y=w/Math.pow(10,x)/2;m=2*Math.log(y+Math.sqrt(1+y*y))/Math.LN10}else m=(x=Math.pow(10,T))*(Math.pow(10,w/2)-Math.pow(10,-w/2));t(x)?t(m)||(m=null):(x=null,m=null),s(d+h,x),s(d+"size"+h,m)}}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],149:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../plots/cartesian/axes"),o=c("../../plots/array_container_defaults"),e=c("./attributes");function n(s,a,i){function r(x,m){return t.coerce(s,a,e,x,m)}var d=r("source");if(!r("visible",!!d))return a;r("layer"),r("xanchor"),r("yanchor"),r("sizex"),r("sizey"),r("sizing"),r("opacity");for(var f={_fullLayout:i},h=["x","y"],p=0;p<2;p++){var T=h[p],w=l.coerceRef(s,a,f,T,"paper",void 0);"paper"!==w&&l.getFromId(f,w)._imgIndices.push(a._index),l.coercePosition(a,f,r,w,T,0)}return a}tt.exports=function(s,a){o(s,a,{name:"images",handleItemDefaults:n})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":147}],150:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../drawing"),o=c("../../plots/cartesian/axes"),e=c("../../plots/cartesian/axis_ids"),n=c("../../constants/xmlns_namespaces");tt.exports=function(s){var a,i,r=s._fullLayout,d=[],f={},h=[];for(i=0;i<r.images.length;i++){var p=r.images[i];if(p.visible)if("below"===p.layer&&"paper"!==p.xref&&"paper"!==p.yref){a=e.ref2id(p.xref)+e.ref2id(p.yref);var T=r._plots[a];if(!T){h.push(p);continue}T.mainplot&&(a=T.mainplot.id),f[a]||(f[a]=[]),f[a].push(p)}else"above"===p.layer?d.push(p):h.push(p)}var w={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},x={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function m(S){var E=t.select(this);if(this._imgSrc!==S.source)if(E.attr("xmlns",n.svg),S.source&&"data:"===S.source.slice(0,5))E.attr("xlink:href",S.source),this._imgSrc=S.source;else{var v=new Promise(function(F){var N=new Image;function z(){E.remove(),F()}this.img=N,N.setAttribute("crossOrigin","anonymous"),N.onerror=z,N.onload=function(){var U=document.createElement("canvas");U.width=this.width,U.height=this.height,U.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var Y=U.toDataURL("image/png");E.attr("xlink:href",Y),F()},E.on("error",z),N.src=S.source,this._imgSrc=S.source}.bind(this));s._promises.push(v)}}function y(S){var E,v,F=t.select(this),N=o.getFromId(s,S.xref),z=o.getFromId(s,S.yref),U="domain"===o.getRefType(S.xref),Y="domain"===o.getRefType(S.yref),$=r._size;E=void 0!==N?"string"==typeof S.xref&&U?N._length*S.sizex:Math.abs(N.l2p(S.sizex)-N.l2p(0)):S.sizex*$.w,v=void 0!==z?"string"==typeof S.yref&&Y?z._length*S.sizey:Math.abs(z.l2p(S.sizey)-z.l2p(0)):S.sizey*$.h;var ot,G,R=E*w[S.xanchor].offset,j=v*x[S.yanchor].offset,P=w[S.xanchor].sizing+x[S.yanchor].sizing;switch(ot=void 0!==N?"string"==typeof S.xref&&U?N._length*S.x+N._offset:N.r2p(S.x)+N._offset:S.x*$.w+$.l,ot+=R,G=void 0!==z?"string"==typeof S.yref&&Y?z._length*(1-S.y)+z._offset:z.r2p(S.y)+z._offset:$.h-S.y*$.h+$.t,G+=j,S.sizing){case"fill":P+=" slice";break;case"stretch":P="none"}F.attr({x:ot,y:G,width:E,height:v,preserveAspectRatio:P,opacity:S.opacity});var I=(N&&"domain"!==o.getRefType(S.xref)?N._id:"")+(z&&"domain"!==o.getRefType(S.yref)?z._id:"");l.setClipUrl(F,I?"clip"+r._uid+I:null,s)}var A=r._imageLowerLayer.selectAll("image").data(h),b=r._imageUpperLayer.selectAll("image").data(d);A.enter().append("image"),b.enter().append("image"),A.exit().remove(),b.exit().remove(),A.each(function(S){m.bind(this)(S),y.bind(this)(S)}),b.each(function(S){m.bind(this)(S),y.bind(this)(S)});var k=Object.keys(r._plots);for(i=0;i<k.length;i++){var L=r._plots[a=k[i]];if(L.imagelayer){var g=L.imagelayer.selectAll("image").data(f[a]||[]);g.enter().append("image"),g.exit().remove(),g.each(function(S){m.bind(this)(S),y.bind(this)(S)})}}}},{"../../constants/xmlns_namespaces":213,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_ids":283,"../drawing":124,"@plotly/d3":11}],151:[function(c,tt,B){"use strict";tt.exports={moduleType:"component",name:"images",layoutAttributes:c("./attributes"),supplyLayoutDefaults:c("./defaults"),includeBasePlot:c("../../plots/cartesian/include_components")("images"),draw:c("./draw"),convertCoords:c("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":147,"./convert_coords":148,"./defaults":149,"./draw":150}],152:[function(c,tt,B){"use strict";var t=c("../../plots/font_attributes"),l=c("../color/attributes");tt.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:l.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:t({editType:"legend"}),grouptitlefont:t({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:t({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":310,"../color/attributes":101}],153:[function(c,tt,B){"use strict";tt.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},{}],154:[function(c,tt,B){"use strict";var t=c("../../registry"),l=c("../../lib"),o=c("../../plot_api/plot_template"),e=c("../../plots/attributes"),n=c("./attributes"),s=c("../../plots/layout_attributes"),a=c("./helpers");tt.exports=function(i,r,d){var f,h=i.legend||{},p=o.newContainer(r,"legend");function T(z,U){return l.coerce(h,p,n,z,U)}for(var w=function(z,U){return l.coerce(f._input,f,e,z,U)},x=r.font||{},m=l.coerceFont(T,"grouptitlefont",l.extendFlat({},x,{size:Math.round(1.1*x.size)})),y=0,A=!1,b="normal",k=0;k<d.length;k++)(f=d[k]).visible&&((f.showlegend||f._dfltShowLegend&&!(f._module&&f._module.attributes&&f._module.attributes.showlegend&&!1===f._module.attributes.showlegend.dflt))&&(y++,f.showlegend&&(A=!0,(t.traceIs(f,"pie-like")||!0===f._input.showlegend)&&y++),l.coerceFont(w,"legendgrouptitle.font",m)),(t.traceIs(f,"bar")&&"stack"===r.barmode||-1!==["tonextx","tonexty"].indexOf(f.fill))&&(b=a.isGrouped({traceorder:b})?"grouped+reversed":"reversed"),void 0!==f.legendgroup&&""!==f.legendgroup&&(b=a.isReversed({traceorder:b})?"reversed+grouped":"grouped"));var L=l.coerce(i,r,s,"showlegend",A&&y>1);if(!1===L&&(r.legend=void 0),(!1!==L||h.uirevision)&&(T("uirevision",r.uirevision),!1!==L)){T("bgcolor",r.paper_bgcolor),T("bordercolor"),T("borderwidth");var g,S,E,v=l.coerceFont(T,"font",r.font),F="h"===T("orientation");if(F?(g=0,t.getComponentMethod("rangeslider","isVisible")(i.xaxis)?(S=1.1,E="bottom"):(S=-.1,E="top")):(g=1.02,S=1,E="auto"),T("traceorder",b),a.isGrouped(r.legend)&&T("tracegroupgap"),T("itemsizing"),T("itemwidth"),T("itemclick"),T("itemdoubleclick"),T("groupclick"),T("x",g),T("xanchor"),T("y",S),T("yanchor",E),T("valign"),l.noneOrAll(h,p,["x","y"]),T("title.text")){T("title.side",F?"left":"top");var N=l.extendFlat({},v,{size:l.bigFont(v.size)});l.coerceFont(T,"title.font",N)}}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/attributes":275,"../../plots/layout_attributes":314,"../../registry":318,"./attributes":152,"./helpers":158}],155:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../../lib"),o=c("../../plots/plots"),e=c("../../registry"),n=c("../../lib/events"),s=c("../dragelement"),a=c("../drawing"),i=c("../color"),r=c("../../lib/svg_text_utils"),d=c("./handle_click"),f=c("./constants"),h=c("../../constants/alignment"),p=h.LINE_SPACING,T=h.FROM_TL,w=h.FROM_BR,x=c("./get_legend_data"),m=c("./style"),y=c("./helpers");function A(v,F,N,z,U){var Y=N.data()[0][0].trace,$={event:U,node:N.node(),curveNumber:Y.index,expandedIndex:Y._expandedIndex,data:v.data,layout:v.layout,frames:v._transitionData._frames,config:v._context,fullData:v._fullData,fullLayout:v._fullLayout};Y._group&&($.group=Y._group),e.traceIs(Y,"pie-like")&&($.label=N.datum()[0].label),!1!==n.triggerHandler(v,"plotly_legendclick",$)&&(1===z?F._clickTimeout=setTimeout(function(){v._fullLayout&&d(N,v,z)},v._context.doubleClickDelay):2===z&&(F._clickTimeout&&clearTimeout(F._clickTimeout),v._legendMouseDownTime=0,!1!==n.triggerHandler(v,"plotly_legenddoubleclick",$)&&d(N,v,z)))}function b(v,F,N){var z,U,Y=v.data()[0][0],$=Y.trace,ot=e.traceIs($,"pie-like"),G=!N._inHover&&F._context.edits.legendText&&!ot,R=N._maxNameLength;Y.groupTitle?(z=Y.groupTitle.text,U=Y.groupTitle.font):(U=N.font,N.entries?z=Y.text:(z=ot?Y.label:$.name,$._meta&&(z=l.templateString(z,$._meta))));var j=l.ensureSingle(v,"text","legendtext");j.attr("text-anchor","start").call(a.font,U).text(G?k(z,R):z),r.positionText(j,N.itemwidth+2*f.itemGap,0),G?j.call(r.makeEditable,{gd:F,text:z}).call(g,v,F,N).on("edit",function(I){this.text(k(I,R)).call(g,v,F,N);var Z=Y.trace._fullInput||{},q={};if(e.hasTransform(Z,"groupby")){var D=e.getTransformIndices(Z,"groupby"),H=l.keyedContainer(Z,"transforms["+D[D.length-1]+"].styles","target","value.name");H.set(Y.trace._group,I),q=H.constructUpdate()}else q.name=I;return e.call("_guiRestyle",F,q,$.index)}):g(j,v,F,N)}function k(v,F){var N=Math.max(4,F);if(v&&v.trim().length>=N/2)return v;for(var z=N-(v=v||"").length;z>0;z--)v+=" ";return v}function L(v,F){var N,z=F._context.doubleClickDelay,U=1,Y=l.ensureSingle(v,"rect","legendtoggle",function($){F._context.staticPlot||$.style("cursor","pointer").attr("pointer-events","all"),$.call(i.fill,"rgba(0,0,0,0)")});F._context.staticPlot||(Y.on("mousedown",function(){(N=(new Date).getTime())-F._legendMouseDownTime<z?U+=1:(U=1,F._legendMouseDownTime=N)}),Y.on("mouseup",function(){if(!F._dragged&&!F._editing){var $=F._fullLayout.legend;(new Date).getTime()-F._legendMouseDownTime>z&&(U=Math.max(U-1,1)),A(F,$,v,U,t.event)}}))}function g(v,F,N,z,U){z._inHover&&v.attr("data-notex",!0),r.convertToTspans(v,N,function(){!function(Y,$,ot,G){var R=Y.data()[0][0];if(ot._inHover||!R||R.trace.showlegend){var j=Y.select("g[class*=math-group]"),P=j.node();ot||(ot=$._fullLayout.legend);var q,D,Z=ot.borderwidth,M=(1===G?ot.title.font:R.groupTitle?R.groupTitle.font:ot.font).size*p;if(P){var H=a.bBox(P);q=H.height,D=H.width,1===G?a.setTranslate(j,Z,Z+.75*q):a.setTranslate(j,0,.25*q)}else{var C=Y.select(1===G?".legendtitletext":".legendtext"),W=r.lineCount(C),K=C.node();if(q=M*W,D=K?a.bBox(K).width:0,1===G)"left"===ot.title.side&&(D+=2*f.itemGap),r.positionText(C,Z+f.titlePad,Z+M);else{var J=2*f.itemGap+ot.itemwidth;R.groupTitle&&(J=f.itemGap,D-=ot.itemwidth),r.positionText(C,J,-M*((W-1)/2-.3))}}1===G?(ot._titleWidth=D,ot._titleHeight=q):(R.lineHeight=M,R.height=Math.max(q,16)+3,R.width=D)}else Y.remove()}(F,N,z,U)})}function S(v){return l.isRightAnchor(v)?"right":l.isCenterAnchor(v)?"center":"left"}function E(v){return l.isBottomAnchor(v)?"bottom":l.isMiddleAnchor(v)?"middle":"top"}tt.exports=function(v,F){return F||(F=v._fullLayout.legend||{}),function(N,z){var U,Y,$=N._fullLayout,ot="legend"+$._uid,G=z._inHover;if(G?(U=z.layer,ot+="-hover"):U=$._infolayer,U){if(N._legendMouseDownTime||(N._legendMouseDownTime=0),G){if(!z.entries)return;Y=x(z.entries,z)}else{if(!N.calcdata)return;Y=$.showlegend&&x(N.calcdata,z)}var R=$.hiddenlabels||[];if(!(G||$.showlegend&&Y.length))return U.selectAll(".legend").remove(),$._topdefs.select("#"+ot).remove(),o.autoMargin(N,"legend");var j=l.ensureSingle(U,"g","legend",function(W){G||W.attr("pointer-events","all")}),P=l.ensureSingleById($._topdefs,"clipPath",ot,function(W){W.append("rect")}),I=l.ensureSingle(j,"rect","bg",function(W){W.attr("shape-rendering","crispEdges")});I.call(i.stroke,z.bordercolor).call(i.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px");var Z=l.ensureSingle(j,"g","scrollbox"),q=z.title;if(z._titleWidth=0,z._titleHeight=0,q.text){var D=l.ensureSingle(Z,"text","legendtitletext");D.attr("text-anchor","start").call(a.font,q.font).text(q.text),g(D,Z,N,z,1)}else Z.selectAll(".legendtitletext").remove();var M=l.ensureSingle(j,"rect","scrollbar",function(W){W.attr(f.scrollBarEnterAttrs).call(i.fill,f.scrollBarColor)}),H=Z.selectAll("g.groups").data(Y);H.enter().append("g").attr("class","groups"),H.exit().remove();var C=H.selectAll("g.traces").data(l.identity);C.enter().append("g").attr("class","traces"),C.exit().remove(),C.style("opacity",function(W){var K=W[0].trace;return e.traceIs(K,"pie-like")?-1!==R.indexOf(W[0].label)?.5:1:"legendonly"===K.visible?.5:1}).each(function(){t.select(this).call(b,N,z)}).call(m,N,z).each(function(){G||t.select(this).call(L,N)}),l.syncOrAsync([o.previousPromises,function(){return function(W,K,J,Q){var ut=W._fullLayout;Q||(Q=ut.legend);var ct=ut._size,gt=y.isVertical(Q),vt=y.isGrouped(Q),xt=Q.borderwidth,Tt=2*xt,zt=f.itemGap,Et=Q.itemwidth+2*zt,At=2*(xt+zt),lt=E(Q),rt=Q.y<0||0===Q.y&&"top"===lt,dt=Q.y>1||1===Q.y&&"bottom"===lt,mt=Q.tracegroupgap;Q._maxHeight=Math.max(rt||dt?ut.height/2:ct.h,30);var Dt=0;Q._width=0,Q._height=0;var ye,le,nt,it,bt=(le=0,nt=0,(it=(ye=Q).title.side)&&(-1!==it.indexOf("left")&&(le=ye._titleWidth),-1!==it.indexOf("top")&&(nt=ye._titleHeight)),[le,nt]);if(gt)J.each(function(ye){var le=ye[0].height;a.setTranslate(this,xt+bt[0],xt+bt[1]+Q._height+le/2+zt),Q._height+=le,Q._width=Math.max(Q._width,ye[0].width)}),Dt=Et+Q._width,Q._width+=zt+Et+Tt,Q._height+=At,vt&&(K.each(function(ye,le){a.setTranslate(this,0,le*Q.tracegroupgap)}),Q._height+=(Q._lgroupsLength-1)*Q.tracegroupgap);else{var wt=S(Q),St=dt||rt,Nt=ut.width/2;Q._maxWidth=Math.max(Q.x<0||0===Q.x&&"right"===wt?St&&"left"===wt?ct.l+ct.w:Nt:Q.x>1||1===Q.x&&"left"===wt?St&&"right"===wt?ct.r+ct.w:Nt:ct.w,2*Et);var Vt=0,Ct=0;J.each(function(ye){var le=ye[0].width+Et;Vt=Math.max(Vt,le),Ct+=le}),Dt=null;var Gt=0;if(vt){var $t=0,Xt=0,de=0;K.each(function(){var ye=0,le=0;t.select(this).selectAll("g.traces").each(function(it){var Lt=it[0].width,Pt=it[0].height;a.setTranslate(this,bt[0],bt[1]+xt+zt+Pt/2+le),le+=Pt,ye=Math.max(ye,Et+Lt)});var nt=ye+zt;Xt>0&&nt+xt+Xt>Q._maxWidth?(Gt=Math.max(Gt,Xt),Xt=0,de+=$t+mt,$t=le):$t=Math.max($t,le),a.setTranslate(this,Xt,de),Xt+=nt}),Q._width=Math.max(Gt,Xt)+xt,Q._height=de+$t+At}else{var Kt=J.size(),kt=Ct+Tt+(Kt-1)*zt<Q._maxWidth,Mt=0,qt=0,ce=0,Te=0;J.each(function(ye){var le=ye[0].height,nt=Et+ye[0].width,it=(kt?nt:Vt)+zt;it+xt+qt-zt>=Q._maxWidth&&(Gt=Math.max(Gt,Te),qt=0,ce+=Mt,Q._height+=Mt,Mt=0),a.setTranslate(this,bt[0]+xt+qt,bt[1]+xt+ce+le/2+zt),Te=qt+nt+zt,qt+=it,Mt=Math.max(Mt,le)}),kt?(Q._width=qt+Tt,Q._height=Mt+At):(Q._width=Math.max(Gt,Te)+Tt,Q._height+=Mt+At)}}Q._width=Math.ceil(Math.max(Q._width+bt[0],Q._titleWidth+2*(xt+f.titlePad))),Q._height=Math.ceil(Math.max(Q._height+bt[1],Q._titleHeight+2*(xt+f.itemGap))),Q._effHeight=Math.min(Q._height,Q._maxHeight);var Oe=W._context.edits,xe=Oe.legendText||Oe.legendPosition;J.each(function(ye){var le=t.select(this).select(".legendtoggle"),nt=ye[0].height,it=xe?Et:Dt||Et+ye[0].width;gt||(it+=zt/2),a.setRect(le,0,-nt/2,it,nt)})}(N,H,C,z)},function(){var W,K,J,Q,St,Nt,Vt,Ct,ut=$._size,ct=z.borderwidth;if(!G){if(Vt=S(Nt=(St=N)._fullLayout.legend),Ct=E(Nt),o.autoMargin(St,"legend",{x:Nt.x,y:Nt.y,l:Nt._width*T[Vt],r:Nt._width*w[Vt],b:Nt._effHeight*w[Ct],t:Nt._effHeight*T[Ct]}))return;var gt=ut.l+ut.w*z.x-T[S(z)]*z._width,vt=ut.t+ut.h*(1-z.y)-T[E(z)]*z._effHeight;if($.margin.autoexpand){var xt=gt,Tt=vt;gt=l.constrain(gt,0,$.width-z._width),vt=l.constrain(vt,0,$.height-z._effHeight),gt!==xt&&l.log("Constrain legend.x to make legend fit inside graph"),vt!==Tt&&l.log("Constrain legend.y to make legend fit inside graph")}a.setTranslate(j,gt,vt)}if(M.on(".drag",null),j.on("wheel",null),G||z._height<=z._maxHeight||N._context.staticPlot){var zt=z._effHeight;G&&(zt=z._height),I.attr({width:z._width-ct,height:zt-ct,x:ct/2,y:ct/2}),a.setTranslate(Z,0,0),P.select("rect").attr({width:z._width-2*ct,height:zt-2*ct,x:ct,y:ct}),a.setClipUrl(Z,ot,N),a.setRect(M,0,0,0,0),delete z._scrollY}else{var Et,lt,rt=Math.max(f.scrollBarMinHeight,z._effHeight*z._effHeight/z._height),dt=z._effHeight-rt-2*f.scrollBarMargin,mt=z._height-z._effHeight,Dt=dt/mt,bt=Math.min(z._scrollY||0,mt);I.attr({width:z._width-2*ct+f.scrollBarWidth+f.scrollBarMargin,height:z._effHeight-ct,x:ct/2,y:ct/2}),P.select("rect").attr({width:z._width-2*ct+f.scrollBarWidth+f.scrollBarMargin,height:z._effHeight-2*ct,x:ct,y:ct+bt}),a.setClipUrl(Z,ot,N),It(bt,rt,Dt),j.on("wheel",function(){It(bt=l.constrain(z._scrollY+t.event.deltaY/dt*mt,0,mt),rt,Dt),0!==bt&&bt!==mt&&t.event.preventDefault()});var wt=t.behavior.drag().on("dragstart",function(){var St=t.event.sourceEvent;Et="touchstart"===St.type?St.changedTouches[0].clientY:St.clientY,lt=bt}).on("drag",function(){var St=t.event.sourceEvent;2===St.buttons||St.ctrlKey||It(bt=function(Nt,Vt,Ct){return l.constrain((Ct-Vt)/Dt+Nt,0,mt)}(lt,Et,"touchmove"===St.type?St.changedTouches[0].clientY:St.clientY),rt,Dt)});M.call(wt);var Ot=t.behavior.drag().on("dragstart",function(){var St=t.event.sourceEvent;"touchstart"===St.type&&(Et=St.changedTouches[0].clientY,lt=bt)}).on("drag",function(){var St=t.event.sourceEvent;"touchmove"===St.type&&It(bt=function(Nt,Vt,Ct){return l.constrain((Vt-Ct)/Dt+Nt,0,mt)}(lt,Et,St.changedTouches[0].clientY),rt,Dt)});Z.call(Ot)}function It(St,Nt,Vt){z._scrollY=N._fullLayout.legend._scrollY=St,a.setTranslate(Z,0,-St),a.setRect(M,z._width,f.scrollBarMargin+St*Vt,f.scrollBarWidth,Nt),P.select("rect").attr("y",ct+St)}N._context.edits.legendPosition&&(j.classed("cursor-move",!0),s.init({element:j.node(),gd:N,prepFn:function(){var St=a.getTranslate(j);J=St.x,Q=St.y},moveFn:function(St,Nt){var Vt=J+St,Ct=Q+Nt;a.setTranslate(j,Vt,Ct),W=s.align(Vt,0,ut.l,ut.l+ut.w,z.xanchor),K=s.align(Ct,0,ut.t+ut.h,ut.t,z.yanchor)},doneFn:function(){void 0!==W&&void 0!==K&&e.call("_guiRelayout",N,{"legend.x":W,"legend.y":K})},clickFn:function(St,Nt){var Vt=U.selectAll("g.traces").filter(function(){var Ct=this.getBoundingClientRect();return Nt.clientX>=Ct.left&&Nt.clientX<=Ct.right&&Nt.clientY>=Ct.top&&Nt.clientY<=Ct.bottom});Vt.size()>0&&A(N,j,Vt,St,Nt)}}))}],N)}}(v,F)}},{"../../constants/alignment":207,"../../lib":232,"../../lib/events":225,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"./constants":153,"./get_legend_data":156,"./handle_click":157,"./helpers":158,"./style":160,"@plotly/d3":11}],156:[function(c,tt,B){"use strict";var t=c("../../registry"),l=c("./helpers");tt.exports=function(o,e){var n,s,a=e._inHover,i=l.isGrouped(e),r=l.isReversed(e),d={},f=[],h=!1,p={},T=0,w=0;function x($,ot){if(""!==$&&l.isGrouped(e))-1===f.indexOf($)?(f.push($),h=!0,d[$]=[ot]):d[$].push(ot);else{var G="~~i"+T;f.push(G),d[G]=[ot],T++}}for(n=0;n<o.length;n++){var m=o[n],y=m[0],A=y.trace,b=A.legendgroup;if(a||A.visible&&A.showlegend)if(t.traceIs(A,"pie-like"))for(p[b]||(p[b]={}),s=0;s<m.length;s++){var k=m[s].label;p[b][k]||(x(b,{label:k,color:m[s].color,i:m[s].i,trace:A,pts:m[s].pts}),p[b][k]=!0,w=Math.max(w,(k||"").length))}else x(b,y),w=Math.max(w,(A.name||"").length)}if(!f.length)return[];var L=!h||!i,g=[];for(n=0;n<f.length;n++){var S=d[f[n]];g.push(L?S[0]:S)}for(L&&(g=[g]),n=0;n<g.length;n++){var E=1/0;for(s=0;s<g[n].length;s++){var v=g[n][s].trace.legendrank;E>v&&(E=v)}g[n][0]._groupMinRank=E,g[n][0]._preGroupSort=n}var F=function($,ot){return $.trace.legendrank-ot.trace.legendrank||$._preSort-ot._preSort};for(g.forEach(function($,ot){$[0]._preGroupSort=ot}),g.sort(function($,ot){return $[0]._groupMinRank-ot[0]._groupMinRank||$[0]._preGroupSort-ot[0]._preGroupSort}),n=0;n<g.length;n++){g[n].forEach(function($,ot){$._preSort=ot}),g[n].sort(F);var N=g[n][0].trace,z=null;for(s=0;s<g[n].length;s++){var U=g[n][s].trace.legendgrouptitle;if(U&&U.text){z=U,a&&(U.font=e._groupTitleFont);break}}if(r&&g[n].reverse(),z){var Y=!1;for(s=0;s<g[n].length;s++)if(t.traceIs(g[n][s].trace,"pie-like")){Y=!0;break}g[n].unshift({i:-1,groupTitle:z,noClick:Y,trace:{showlegend:N.showlegend,legendgroup:N.legendgroup,visible:"toggleitem"===e.groupclick||N.visible}})}for(s=0;s<g[n].length;s++)g[n][s]=[g[n][s]]}return e._lgroupsLength=g.length,e._maxNameLength=w,g}},{"../../registry":318,"./helpers":158}],157:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../registry"),o=!0;tt.exports=function(e,n,s){var a=n._fullLayout;if(!n._dragged&&!n._editing){var i,r=a.legend.itemclick,d=a.legend.itemdoubleclick,f=a.legend.groupclick;if(1===s&&"toggle"===r&&"toggleothers"===d&&o&&n.data&&n._context.showTips&&t.notifier(t._(n,"Double-click on legend to isolate one trace"),"long"),o=!1,1===s?i=r:2===s&&(i=d),i){var h="togglegroup"===f,p=a.hiddenlabels?a.hiddenlabels.slice():[],T=e.data()[0][0];if(!T.groupTitle||!T.noClick){var w,x,m,y,A,b=n._fullData,k=T.trace,L=k.legendgroup,g={},S=[],E=[],v=[];if(l.traceIs(k,"pie-like")){var F=T.label,N=p.indexOf(F);"toggle"===i?-1===N?p.push(F):p.splice(N,1):"toggleothers"===i&&(p=[],n.calcdata[0].forEach(function(M){F!==M.label&&p.push(M.label)}),n._fullLayout.hiddenlabels&&n._fullLayout.hiddenlabels.length===p.length&&-1===N&&(p=[])),l.call("_guiRelayout",n,"hiddenlabels",p)}else{var z,U=L&&L.length,Y=[];if(U)for(w=0;w<b.length;w++)(z=b[w]).visible&&z.legendgroup===L&&Y.push(w);if("toggle"===i){var $;switch(k.visible){case!0:$="legendonly";break;case!1:$=!1;break;case"legendonly":$=!0}if(U)if(h)for(w=0;w<b.length;w++)!1!==b[w].visible&&b[w].legendgroup===L&&D(b[w],$);else D(k,$);else D(k,$)}else if("toggleothers"===i){var R,P=!0;for(w=0;w<b.length;w++)if(R=!0!==b[w].showlegend,!(b[w]===k||R||U&&b[w].legendgroup===L||!0!==b[w].visible||l.traceIs(b[w],"notLegendIsolatable"))){P=!1;break}for(w=0;w<b.length;w++)if(!1!==b[w].visible&&!l.traceIs(b[w],"notLegendIsolatable"))switch(k.visible){case"legendonly":D(b[w],!0);break;case!0:R=!0!==b[w].showlegend&&!b[w].legendgroup,D(b[w],!!(b[w]===k||U&&b[w].legendgroup===L||R)||!!P||"legendonly")}}for(w=0;w<E.length;w++)if(m=E[w]){var I=m.constructUpdate(),Z=Object.keys(I);for(x=0;x<Z.length;x++)(g[y=Z[x]]=g[y]||[])[v[w]]=I[y]}for(A=Object.keys(g),w=0;w<A.length;w++)for(y=A[w],x=0;x<S.length;x++)g[y].hasOwnProperty(x)||(g[y][x]=void 0);l.call("_guiRestyle",n,g,S)}}}}function q(M,H,C){var W=S.indexOf(M),K=g[H];return K||(K=g[H]=[]),-1===S.indexOf(M)&&(S.push(M),W=S.length-1),K[W]=C,W}function D(M,H){if(!T.groupTitle||h){var C=M._fullInput;if(l.hasTransform(C,"groupby")){var W=E[C.index];if(!W){var K=l.getTransformIndices(C,"groupby");W=t.keyedContainer(C,"transforms["+K[K.length-1]+"].styles","target","value.visible"),E[C.index]=W}var Q=W.get(M._group);void 0===Q&&(Q=!0),!1!==Q&&W.set(M._group,H),v[C.index]=q(C.index,"visible",!1!==C.visible)}else q(C.index,"visible",!1!==C.visible&&H)}}}},{"../../lib":232,"../../registry":318}],158:[function(c,tt,B){"use strict";B.isGrouped=function(t){return-1!==(t.traceorder||"").indexOf("grouped")},B.isVertical=function(t){return"h"!==t.orientation},B.isReversed=function(t){return-1!==(t.traceorder||"").indexOf("reversed")}},{}],159:[function(c,tt,B){"use strict";tt.exports={moduleType:"component",name:"legend",layoutAttributes:c("./attributes"),supplyLayoutDefaults:c("./defaults"),draw:c("./draw"),style:c("./style")}},{"./attributes":152,"./defaults":154,"./draw":155,"./style":160}],160:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../../registry"),o=c("../../lib"),e=o.strTranslate,n=c("../drawing"),s=c("../color"),a=c("../colorscale/helpers").extractOpts,i=c("../../traces/scatter/subtypes"),r=c("../../traces/pie/style_one"),d=c("../../traces/pie/helpers").castOption,f=c("./constants");function h(w,x){return(x?"radial":"horizontal")+(w?"":"reversed")}function p(w){var x=w[0].trace,m=x.contours,y=i.hasLines(x),A=i.hasMarkers(x),b=x.visible&&x.fill&&"none"!==x.fill,k=!1,L=!1;if(m){var g=m.coloring;"lines"===g?k=!0:y="none"===g||"heatmap"===g||m.showlines,"constraint"===m.type?b="="!==m._operation:"fill"!==g&&"heatmap"!==g||(L=!0)}return{showMarker:A,showLine:y,showFill:b,showGradientLine:k,showGradientFill:L,anyLine:y||k,anyFill:b||L}}function T(w,x,m){return w&&o.isArrayOrTypedArray(w)?x:w>m?m:w}tt.exports=function(w,x,m){m||(m=x._fullLayout.legend);var A="constant"===m.itemsizing,b=m.itemwidth,L=e((b+2*f.itemGap)/2,0),g=function(v,F,N,z){var U;if(v+1)U=v;else{if(!(F&&F.width>0))return 0;U=F.width}return A?z:Math.min(U,N)};function S(v,F,N){var z=v[0].trace,U=z.marker||{},Y=U.line||{},$=N?z.visible&&z.type===N:l.traceIs(z,"bar"),ot=t.select(F).select("g.legendpoints").selectAll("path.legend"+N).data($?[v]:[]);ot.enter().append("path").classed("legend"+N,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),ot.exit().remove(),ot.each(function(G){var R=t.select(this),j=G[0],P=g(j.mlw,U.line,5,2);R.style("stroke-width",P+"px");var I=j.mcc;if(!m._inHover&&"mc"in j){var Z=a(U),q=Z.mid;void 0===q&&(q=(Z.max+Z.min)/2),I=n.tryColorscale(U,"")(q)}var D=I||j.mc||U.color,M=U.pattern,H=M&&n.getPatternAttr(M.shape,0,"");if(H){var C=n.getPatternAttr(M.bgcolor,0,null),W=n.getPatternAttr(M.fgcolor,0,null),K=M.fgopacity,J=T(M.size,8,10),Q=T(M.solidity,.5,1);R.call(n.pattern,"legend",x,"legend-"+z.uid,H,J,Q,I,M.fillmode,C,W,K)}else R.call(s.fill,D);P&&s.stroke(R,j.mlc||Y.color)})}function E(v,F,N){var z=v[0],U=z.trace,Y=N?U.visible&&U.type===N:l.traceIs(U,N),$=t.select(F).select("g.legendpoints").selectAll("path.legend"+N).data(Y?[v]:[]);if($.enter().append("path").classed("legend"+N,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),$.exit().remove(),$.size()){var ot=(U.marker||{}).line,G=g(d(ot.width,z.pts),ot,5,2),R=o.minExtend(U,{marker:{line:{width:G}}});R.marker.line.color=ot.color;var j=o.minExtend(z,{trace:R});r($,j,R)}}w.each(function(v){var F=t.select(this),N=o.ensureSingle(F,"g","layers");N.style("opacity",v[0].trace.opacity);var z=m.valign,U=v[0].lineHeight,Y=v[0].height;N.attr("transform","middle"!==z&&U&&Y?e(0,{top:1,bottom:-1}[z]*(.5*(U-Y+3))):null),N.selectAll("g.legendfill").data([v]).enter().append("g").classed("legendfill",!0),N.selectAll("g.legendlines").data([v]).enter().append("g").classed("legendlines",!0);var ot=N.selectAll("g.legendsymbols").data([v]);ot.enter().append("g").classed("legendsymbols",!0),ot.selectAll("g.legendpoints").data([v]).enter().append("g").classed("legendpoints",!0)}).each(function(v){var F,N=v[0].trace,z=[];if(N.visible)switch(N.type){case"histogram2d":case"heatmap":z=[["M-15,-2V4H15V-2Z"]],F=!0;break;case"choropleth":case"choroplethmapbox":z=[["M-6,-6V6H6V-6Z"]],F=!0;break;case"densitymapbox":z=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],F="radial";break;case"cone":z=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],F=!1;break;case"streamtube":z=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],F=!1;break;case"surface":z=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],F=!0;break;case"mesh3d":z=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],F=!1;break;case"volume":z=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],F=!0;break;case"isosurface":z=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],F=!1}var U=t.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(z);U.enter().append("path").classed("legend3dandfriends",!0).attr("transform",L).style("stroke-miterlimit",1),U.exit().remove(),U.each(function(Y,$){var ot,G=t.select(this),R=a(N),j=R.colorscale,P=R.reversescale;if(j){if(!F){var I=j.length;ot=0===$?j[P?I-1:0][1]:1===$?j[P?0:I-1][1]:j[Math.floor((I-1)/2)][1]}}else{var Z=N.vertexcolor||N.facecolor||N.color;ot=o.isArrayOrTypedArray(Z)?Z[$]||Z[0]:Z}G.attr("d",Y[0]),ot?G.call(s.fill,ot):G.call(function(q){q.size()&&n.gradient(q,x,"legendfill-"+N.uid,h(P,"radial"===F),j,"fill")})})}).each(function(v){var F=v[0].trace,N="waterfall"===F.type;if(v[0]._distinct&&N){var z=v[0].trace[v[0].dir].marker;return v[0].mc=z.color,v[0].mlw=z.line.width,v[0].mlc=z.line.color,S(v,this,"waterfall")}var U=[];F.visible&&N&&(U=v[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var Y=t.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(U);Y.enter().append("path").classed("legendwaterfall",!0).attr("transform",L).style("stroke-miterlimit",1),Y.exit().remove(),Y.each(function($){var ot=t.select(this),G=F[$[0]].marker,R=g(void 0,G.line,5,2);ot.attr("d",$[1]).style("stroke-width",R+"px").call(s.fill,G.color),R&&ot.call(s.stroke,G.line.color)})}).each(function(v){S(v,this,"funnel")}).each(function(v){S(v,this)}).each(function(v){var F=v[0].trace,N=t.select(this).select("g.legendpoints").selectAll("path.legendbox").data(F.visible&&l.traceIs(F,"box-violin")?[v]:[]);N.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),N.exit().remove(),N.each(function(){var z=t.select(this);if("all"!==F.boxpoints&&"all"!==F.points||0!==s.opacity(F.fillcolor)||0!==s.opacity((F.line||{}).color)){var U=g(void 0,F.line,5,2);z.style("stroke-width",U+"px").call(s.fill,F.fillcolor),U&&s.stroke(z,F.line.color)}else{var Y=o.minExtend(F,{marker:{size:A?12:o.constrain(F.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});N.call(n.pointStyle,Y,x)}})}).each(function(v){E(v,this,"funnelarea")}).each(function(v){E(v,this,"pie")}).each(function(v){var F,N,z=p(v),U=z.showFill,Y=z.showLine,$=z.showGradientLine,ot=z.showGradientFill,G=z.anyFill,R=z.anyLine,j=v[0],P=j.trace,I=a(P),Z=I.colorscale,q=I.reversescale,D=i.hasMarkers(P)||!G?"M5,0":R?"M5,-2":"M5,-3",M=t.select(this),H=M.select(".legendfill").selectAll("path").data(U||ot?[v]:[]);if(H.enter().append("path").classed("js-fill",!0),H.exit().remove(),H.attr("d",D+"h"+b+"v6h-"+b+"z").call(function(K){K.size()&&(U?n.fillGroupStyle(K,x):n.gradient(K,x,"legendfill-"+P.uid,h(q),Z,"fill"))}),Y||$){var C=g(void 0,P.line,10,5);N=o.minExtend(P,{line:{width:C}}),F=[o.minExtend(j,{trace:N})]}var W=M.select(".legendlines").selectAll("path").data(Y||$?[F]:[]);W.enter().append("path").classed("js-line",!0),W.exit().remove(),W.attr("d",D+($?"l"+b+",0.0001":"h"+b)).call(Y?n.lineGroupStyle:function(K){if(K.size()){var J="legendline-"+P.uid;n.lineGroupStyle(K),n.gradient(K,x,J,h(q),Z,"stroke")}})}).each(function(v){var F,N,z=p(v),$=z.showLine,ot=z.showMarker,G=v[0],R=G.trace,j=!ot&&!z.anyLine&&!z.anyFill&&i.hasText(R);function P(W,K,J,Q){var ut=o.nestedProperty(R,W).get(),ct=o.isArrayOrTypedArray(ut)&&K?K(ut):ut;if(A&&ct&&void 0!==Q&&(ct=Q),J){if(ct<J[0])return J[0];if(ct>J[1])return J[1]}return ct}function I(W){return G._distinct&&G.index&&W[G.index]?W[G.index]:W[0]}if(ot||j||$){var Z={},q={};if(ot){Z.mc=P("marker.color",I),Z.mx=P("marker.symbol",I),Z.mo=P("marker.opacity",o.mean,[.2,1]),Z.mlc=P("marker.line.color",I),Z.mlw=P("marker.line.width",o.mean,[0,5],2),q.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var D=P("marker.size",o.mean,[2,16],12);Z.ms=D,q.marker.size=D}$&&(q.line={width:P("line.width",I,[0,10],5)}),j&&(Z.tx="Aa",Z.tp=P("textposition",I),Z.ts=10,Z.tc=P("textfont.color",I),Z.tf=P("textfont.family",I)),F=[o.minExtend(G,Z)],(N=o.minExtend(R,q)).selectedpoints=null,N.texttemplate=null}var M=t.select(this).select("g.legendpoints"),H=M.selectAll("path.scatterpts").data(ot?F:[]);H.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",L),H.exit().remove(),H.call(n.pointStyle,N,x),ot&&(F[0].mrc=3);var C=M.selectAll("g.pointtext").data(j?F:[]);C.enter().append("g").classed("pointtext",!0).append("text").attr("transform",L),C.exit().remove(),C.selectAll("text").call(n.textPointStyle,N,x)}).each(function(v){var F=v[0].trace,N=t.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(F.visible&&"candlestick"===F.type?[v,v]:[]);N.enter().append("path").classed("legendcandle",!0).attr("d",function(z,U){return U?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",L).style("stroke-miterlimit",1),N.exit().remove(),N.each(function(z,U){var Y=t.select(this),$=F[U?"increasing":"decreasing"],ot=g(void 0,$.line,5,2);Y.style("stroke-width",ot+"px").call(s.fill,$.fillcolor),ot&&s.stroke(Y,$.line.color)})}).each(function(v){var F=v[0].trace,N=t.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(F.visible&&"ohlc"===F.type?[v,v]:[]);N.enter().append("path").classed("legendohlc",!0).attr("d",function(z,U){return U?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",L).style("stroke-miterlimit",1),N.exit().remove(),N.each(function(z,U){var Y=t.select(this),$=F[U?"increasing":"decreasing"],ot=g(void 0,$.line,5,2);Y.style("fill","none").call(n.dashLine,$.line.dash,ot),ot&&s.stroke(Y,$.line.color)})})}},{"../../lib":232,"../../registry":318,"../../traces/pie/helpers":350,"../../traces/pie/style_one":356,"../../traces/scatter/subtypes":383,"../color":102,"../colorscale/helpers":113,"../drawing":124,"./constants":153,"@plotly/d3":11}],161:[function(c,tt,B){"use strict";c("./constants"),tt.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},{"./constants":163}],162:[function(c,tt,B){"use strict";var t=c("../../registry"),l=c("../../plots/plots"),o=c("../../plots/cartesian/axis_ids"),e=c("../../fonts/ploticon"),n=c("../shapes/draw").eraseActiveShape,s=c("../../lib"),a=s._,i=tt.exports={};function r(y,A){var b,k,L=A.currentTarget,g=L.getAttribute("data-attr"),S=L.getAttribute("data-val")||!0,E=y._fullLayout,v={},F=o.list(y,null,!0),N=E._cartesianSpikesEnabled;if("zoom"===g){var z,U="in"===S?.5:2,Y=(1+U)/2,$=(1-U)/2;for(k=0;k<F.length;k++)if(!(b=F[k]).fixedrange)if(z=b._name,"auto"===S)v[z+".autorange"]=!0;else if("reset"===S){if(void 0===b._rangeInitial)v[z+".autorange"]=!0;else{var ot=b._rangeInitial.slice();v[z+".range[0]"]=ot[0],v[z+".range[1]"]=ot[1]}void 0!==b._showSpikeInitial&&(v[z+".showspikes"]=b._showSpikeInitial,"on"!==N||b._showSpikeInitial||(N="off"))}else{var G=[b.r2l(b.range[0]),b.r2l(b.range[1])],R=[Y*G[0]+$*G[1],Y*G[1]+$*G[0]];v[z+".range[0]"]=b.l2r(R[0]),v[z+".range[1]"]=b.l2r(R[1])}}else"hovermode"!==g||"x"!==S&&"y"!==S||L.setAttribute("data-val",S=E._isHoriz?"y":"x"),v[g]=S;E._cartesianSpikesEnabled=N,t.call("_guiRelayout",y,v)}function d(y,A){for(var b=A.currentTarget,k=b.getAttribute("data-attr"),L=b.getAttribute("data-val")||!0,g=y._fullLayout._subplots.gl3d||[],S={},E=k.split("."),v=0;v<g.length;v++)S[g[v]+"."+E[1]]=L;S.dragmode="pan"===L?L:"zoom",t.call("_guiRelayout",y,S)}function f(y,A){for(var b=A.currentTarget.getAttribute("data-attr"),k="resetLastSave"===b,L="resetDefault"===b,g=y._fullLayout,S=g._subplots.gl3d||[],E={},v=0;v<S.length;v++){var F,N=S[v],z=N+".camera",U=N+".aspectratio",Y=N+".aspectmode",$=g[N]._scene;k?(E[z+".up"]=$.viewInitial.up,E[z+".eye"]=$.viewInitial.eye,E[z+".center"]=$.viewInitial.center,F=!0):L&&(E[z+".up"]=null,E[z+".eye"]=null,E[z+".center"]=null,F=!0),F&&(E[U+".x"]=$.viewInitial.aspectratio.x,E[U+".y"]=$.viewInitial.aspectratio.y,E[U+".z"]=$.viewInitial.aspectratio.z,E[Y]=$.viewInitial.aspectmode)}t.call("_guiRelayout",y,E)}function h(y,A){var b=A.currentTarget,k=b._previousVal,L=y._fullLayout,g=L._subplots.gl3d||[],S=["xaxis","yaxis","zaxis"],E={},v={};if(k)v=k,b._previousVal=null;else{for(var F=0;F<g.length;F++){var N=g[F],z=L[N],U=N+".hovermode";E[U]=z.hovermode,v[U]=!1;for(var Y=0;Y<3;Y++){var $=S[Y],ot=N+"."+$+".showspikes";v[ot]=!1,E[ot]=z[$].showspikes}}b._previousVal=E}return v}function p(y,A){for(var b=A.currentTarget,k=b.getAttribute("data-attr"),L=b.getAttribute("data-val")||!0,g=y._fullLayout,S=g._subplots.geo||[],E=0;E<S.length;E++){var v=S[E];if("zoom"===k){var N=g[v].projection.scale;t.call("_guiRelayout",y,v+".projection.scale","in"===L?2*N:.5*N)}}"reset"===k&&m(y,"geo")}function T(y){var A=y._fullLayout;return!A.hovermode&&(A._has("cartesian")?A._isHoriz?"y":"x":"closest")}function w(y){var A=T(y);t.call("_guiRelayout",y,"hovermode",A)}function x(y,A){for(var b=A.currentTarget.getAttribute("data-val"),k=y._fullLayout,L=k._subplots.mapbox||[],g={},S=0;S<L.length;S++){var E=L[S],v=k[E].zoom;g[E+".zoom"]="in"===b?1.05*v:v/1.05}t.call("_guiRelayout",y,g)}function m(y,A){for(var b=y._fullLayout,k=b._subplots[A]||[],L={},g=0;g<k.length;g++)for(var S=k[g],E=b[S]._subplot.viewInitial,v=Object.keys(E),F=0;F<v.length;F++){var N=v[F];L[S+"."+N]=E[N]}t.call("_guiRelayout",y,L)}i.toImage={name:"toImage",title:function(y){return a(y,"png"===((y._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:e.camera,click:function(y){var A=y._context.toImageButtonOptions,b={format:A.format||"png"};s.notifier(a(y,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==b.format&&s.isIE()&&(s.notifier(a(y,"IE only supports svg.  Changing format to svg."),"long"),b.format="svg"),["filename","width","height","scale"].forEach(function(k){k in A&&(b[k]=A[k])}),t.call("downloadImage",y,b).then(function(k){s.notifier(a(y,"Snapshot succeeded")+" - "+k,"long")}).catch(function(){s.notifier(a(y,"Sorry, there was a problem downloading your snapshot!"),"long")})}},i.sendDataToCloud={name:"sendDataToCloud",title:function(y){return a(y,"Edit in Chart Studio")},icon:e.disk,click:function(y){l.sendDataToCloud(y)}},i.editInChartStudio={name:"editInChartStudio",title:function(y){return a(y,"Edit in Chart Studio")},icon:e.pencil,click:function(y){l.sendDataToCloud(y)}},i.zoom2d={name:"zoom2d",_cat:"zoom",title:function(y){return a(y,"Zoom")},attr:"dragmode",val:"zoom",icon:e.zoombox,click:r},i.pan2d={name:"pan2d",_cat:"pan",title:function(y){return a(y,"Pan")},attr:"dragmode",val:"pan",icon:e.pan,click:r},i.select2d={name:"select2d",_cat:"select",title:function(y){return a(y,"Box Select")},attr:"dragmode",val:"select",icon:e.selectbox,click:r},i.lasso2d={name:"lasso2d",_cat:"lasso",title:function(y){return a(y,"Lasso Select")},attr:"dragmode",val:"lasso",icon:e.lasso,click:r},i.drawclosedpath={name:"drawclosedpath",title:function(y){return a(y,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:e.drawclosedpath,click:r},i.drawopenpath={name:"drawopenpath",title:function(y){return a(y,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:e.drawopenpath,click:r},i.drawline={name:"drawline",title:function(y){return a(y,"Draw line")},attr:"dragmode",val:"drawline",icon:e.drawline,click:r},i.drawrect={name:"drawrect",title:function(y){return a(y,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:e.drawrect,click:r},i.drawcircle={name:"drawcircle",title:function(y){return a(y,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:e.drawcircle,click:r},i.eraseshape={name:"eraseshape",title:function(y){return a(y,"Erase active shape")},icon:e.eraseshape,click:n},i.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(y){return a(y,"Zoom in")},attr:"zoom",val:"in",icon:e.zoom_plus,click:r},i.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(y){return a(y,"Zoom out")},attr:"zoom",val:"out",icon:e.zoom_minus,click:r},i.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(y){return a(y,"Autoscale")},attr:"zoom",val:"auto",icon:e.autoscale,click:r},i.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(y){return a(y,"Reset axes")},attr:"zoom",val:"reset",icon:e.home,click:r},i.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(y){return a(y,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:e.tooltip_basic,gravity:"ne",click:r},i.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(y){return a(y,"Compare data on hover")},attr:"hovermode",val:function(y){return y._fullLayout._isHoriz?"y":"x"},icon:e.tooltip_compare,gravity:"ne",click:r},i.zoom3d={name:"zoom3d",_cat:"zoom",title:function(y){return a(y,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:e.zoombox,click:d},i.pan3d={name:"pan3d",_cat:"pan",title:function(y){return a(y,"Pan")},attr:"scene.dragmode",val:"pan",icon:e.pan,click:d},i.orbitRotation={name:"orbitRotation",title:function(y){return a(y,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:e["3d_rotate"],click:d},i.tableRotation={name:"tableRotation",title:function(y){return a(y,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:e["z-axis"],click:d},i.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(y){return a(y,"Reset camera to default")},attr:"resetDefault",icon:e.home,click:f},i.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(y){return a(y,"Reset camera to last save")},attr:"resetLastSave",icon:e.movie,click:f},i.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(y){return a(y,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:e.tooltip_basic,gravity:"ne",click:function(y,A){var b=h(y,A);t.call("_guiRelayout",y,b)}},i.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(y){return a(y,"Zoom in")},attr:"zoom",val:"in",icon:e.zoom_plus,click:p},i.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(y){return a(y,"Zoom out")},attr:"zoom",val:"out",icon:e.zoom_minus,click:p},i.resetGeo={name:"resetGeo",_cat:"reset",title:function(y){return a(y,"Reset")},attr:"reset",val:null,icon:e.autoscale,click:p},i.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(y){return a(y,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:e.tooltip_basic,gravity:"ne",click:w},i.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(y){return a(y,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:e.tooltip_basic,gravity:"ne",click:w},i.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(y){return a(y,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:e.tooltip_basic,gravity:"ne",click:w},i.resetViewSankey={name:"resetSankeyGroup",title:function(y){return a(y,"Reset view")},icon:e.home,click:function(y){for(var A={"node.groups":[],"node.x":[],"node.y":[]},b=0;b<y._fullData.length;b++){var k=y._fullData[b]._viewInitial;A["node.groups"].push(k.node.groups.slice()),A["node.x"].push(k.node.x.slice()),A["node.y"].push(k.node.y.slice())}t.call("restyle",y,A)}},i.toggleHover={name:"toggleHover",title:function(y){return a(y,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:e.tooltip_basic,gravity:"ne",click:function(y,A){var b=h(y,A);b.hovermode=T(y),t.call("_guiRelayout",y,b)}},i.resetViews={name:"resetViews",title:function(y){return a(y,"Reset views")},icon:e.home,click:function(y,A){var b=A.currentTarget;b.setAttribute("data-attr","zoom"),b.setAttribute("data-val","reset"),r(y,A),b.setAttribute("data-attr","resetLastSave"),f(y,A),m(y,"geo"),m(y,"mapbox")}},i.toggleSpikelines={name:"toggleSpikelines",title:function(y){return a(y,"Toggle Spike Lines")},icon:e.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(y){var A=y._fullLayout;A._cartesianSpikesEnabled="on"===A._cartesianSpikesEnabled?"off":"on",t.call("_guiRelayout",y,function(k){for(var L="on"===k._fullLayout._cartesianSpikesEnabled,g=o.list(k,null,!0),S={},E=0;E<g.length;E++){var v=g[E];S[v._name+".showspikes"]=!!L||v._showSpikeInitial}return S}(y))}},i.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(y){return a(y,"Reset view")},attr:"reset",icon:e.home,click:function(y){m(y,"mapbox")}},i.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(y){return a(y,"Zoom in")},attr:"zoom",val:"in",icon:e.zoom_plus,click:x},i.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(y){return a(y,"Zoom out")},attr:"zoom",val:"out",icon:e.zoom_minus,click:x}},{"../../fonts/ploticon":215,"../../lib":232,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../shapes/draw":186}],163:[function(c,tt,B){"use strict";var t=c("./buttons"),l=Object.keys(t),o=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],e=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(o),n=[];l.forEach(function(s){!function(a){if(-1===e.indexOf(a._cat||a.name)){var i=a.name,r=(a._cat||a.name).toLowerCase();-1===n.indexOf(i)&&n.push(i),-1===n.indexOf(r)&&n.push(r)}}(t[s])}),n.sort(),tt.exports={DRAW_MODES:o,backButtons:e,foreButtons:n}},{"./buttons":162}],164:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../color"),o=c("../../plot_api/plot_template"),e=c("./attributes");tt.exports=function(n,s){var a=n.modebar||{},i=o.newContainer(s,"modebar");function r(f,h){return t.coerce(a,i,e,f,h)}r("orientation"),r("bgcolor",l.addOpacity(s.paper_bgcolor,.5));var d=l.contrast(l.rgb(s.modebar.bgcolor));r("color",l.addOpacity(d,.3)),r("activecolor",l.addOpacity(d,.7)),r("uirevision",s.uirevision),r("add"),r("remove")}},{"../../lib":232,"../../plot_api/plot_template":268,"../color":102,"./attributes":161}],165:[function(c,tt,B){"use strict";tt.exports={moduleType:"component",name:"modebar",layoutAttributes:c("./attributes"),supplyLayoutDefaults:c("./defaults"),manage:c("./manage")}},{"./attributes":161,"./defaults":164,"./manage":166}],166:[function(c,tt,B){"use strict";var t=c("../../plots/cartesian/axis_ids"),l=c("../../traces/scatter/subtypes"),o=c("../../registry"),e=c("../fx/helpers").isUnifiedHover,n=c("./modebar"),s=c("./buttons"),a=c("./constants").DRAW_MODES;tt.exports=function(i){var r=i._fullLayout,d=i._context,f=r._modeBar;if(d.displayModeBar||d.watermark){if(!Array.isArray(d.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(d.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var h,p=d.modeBarButtons;h=Array.isArray(p)&&p.length?function(T){for(var w=0;w<T.length;w++)for(var x=T[w],m=0;m<x.length;m++){var y=x[m];if("string"==typeof y){if(void 0===s[y])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));T[w][m]=s[y]}}return T}(p):!d.displayModeBar&&d.watermark?[]:function(T){var w=T._fullLayout,x=T._fullData,m=T._context;function y(Q,ut){if("string"==typeof ut){if(ut.toLowerCase()===Q.toLowerCase())return!0}else if(ut.name===Q||(ut._cat||ut.name)===Q.toLowerCase())return!0;return!1}var A=w.modebar.add;"string"==typeof A&&(A=[A]);var b=w.modebar.remove;"string"==typeof b&&(b=[b]);var k=m.modeBarButtonsToAdd.concat(A.filter(function(Q){for(var ut=0;ut<m.modeBarButtonsToRemove.length;ut++)if(y(Q,m.modeBarButtonsToRemove[ut]))return!1;return!0})),L=m.modeBarButtonsToRemove.concat(b.filter(function(Q){for(var ut=0;ut<m.modeBarButtonsToAdd.length;ut++)if(y(Q,m.modeBarButtonsToAdd[ut]))return!1;return!0})),g=w._has("cartesian"),S=w._has("gl3d"),E=w._has("geo"),v=w._has("pie"),F=w._has("funnelarea"),N=w._has("gl2d"),z=w._has("ternary"),U=w._has("mapbox"),Y=w._has("polar"),$=w._has("smith"),ot=w._has("sankey"),G=function(Q){for(var ut=t.list({_fullLayout:Q},null,!0),ct=0;ct<ut.length;ct++)if(!ut[ct].fixedrange)return!1;return!0}(w),R=e(w.hovermode),j=[];function P(Q){if(Q.length){for(var ut=[],ct=0;ct<Q.length;ct++){for(var gt=Q[ct],vt=s[gt],xt=vt.name.toLowerCase(),Tt=(vt._cat||vt.name).toLowerCase(),zt=!1,Et=0;Et<L.length;Et++){var At=L[Et].toLowerCase();if(At===xt||At===Tt){zt=!0;break}}zt||ut.push(s[gt])}j.push(ut)}}var I=["toImage"];m.showEditInChartStudio?I.push("editInChartStudio"):m.showSendToCloud&&I.push("sendDataToCloud"),P(I);var Z=[],q=[],D=[],M=[];(g||N||v||F||z)+E+S+U+Y+$>1?(q=["toggleHover"],D=["resetViews"]):E?(Z=["zoomInGeo","zoomOutGeo"],q=["hoverClosestGeo"],D=["resetGeo"]):S?(q=["hoverClosest3d"],D=["resetCameraDefault3d","resetCameraLastSave3d"]):U?(Z=["zoomInMapbox","zoomOutMapbox"],q=["toggleHover"],D=["resetViewMapbox"]):N?q=["hoverClosestGl2d"]:v?q=["hoverClosestPie"]:ot?(q=["hoverClosestCartesian","hoverCompareCartesian"],D=["resetViewSankey"]):q=["toggleHover"],g&&(q=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(Q){for(var ut=0;ut<Q.length;ut++)if(!o.traceIs(Q[ut],"noHover"))return!1;return!0}(x)||R)&&(q=[]),!g&&!N||G||(Z=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==D[0]&&(D=["resetScale2d"])),S?M=["zoom3d","pan3d","orbitRotation","tableRotation"]:(g||N)&&!G||z?M=["zoom2d","pan2d"]:U||E?M=["pan2d"]:Y&&(M=["zoom2d"]),function(Q){for(var ut=!1,ct=0;ct<Q.length&&!ut;ct++){var gt=Q[ct];gt._module&&gt._module.selectPoints&&(o.traceIs(gt,"scatter-like")?(l.hasMarkers(gt)||l.hasText(gt))&&(ut=!0):o.traceIs(gt,"box-violin")&&"all"!==gt.boxpoints&&"all"!==gt.points||(ut=!0))}return ut}(x)&&M.push("select2d","lasso2d");var H=[],C=function(Q){-1===H.indexOf(Q)&&-1!==q.indexOf(Q)&&H.push(Q)};if(Array.isArray(k)){for(var W=[],K=0;K<k.length;K++){var J=k[K];"string"==typeof J?(J=J.toLowerCase(),-1!==a.indexOf(J)?(w._has("mapbox")||w._has("cartesian"))&&M.push(J):"togglespikelines"===J?C("toggleSpikelines"):"togglehover"===J?C("toggleHover"):"hovercompare"===J?C("hoverCompareCartesian"):"hoverclosest"===J?(C("hoverClosestCartesian"),C("hoverClosestGeo"),C("hoverClosest3d"),C("hoverClosestGl2d"),C("hoverClosestPie")):"v1hovermode"===J&&(C("toggleHover"),C("hoverClosestCartesian"),C("hoverCompareCartesian"),C("hoverClosestGeo"),C("hoverClosest3d"),C("hoverClosestGl2d"),C("hoverClosestPie"))):W.push(J)}k=W}return P(M),P(Z.concat(D)),P(H),function(Q,ut){if(ut.length)if(Array.isArray(ut[0]))for(var ct=0;ct<ut.length;ct++)Q.push(ut[ct]);else Q.push(ut);return Q}(j,k)}(i),f?f.update(i,h):r._modeBar=n(i,h)}else f&&(f.destroy(),delete r._modeBar)}},{"../../plots/cartesian/axis_ids":283,"../../registry":318,"../../traces/scatter/subtypes":383,"../fx/helpers":138,"./buttons":162,"./constants":163,"./modebar":167}],167:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("fast-isnumeric"),o=c("../../lib"),e=c("../../fonts/ploticon"),n=c("../../version").version,s=new DOMParser;function a(r){this.container=r.container,this.element=document.createElement("div"),this.update(r.graphInfo,r.buttons),this.container.appendChild(this.element)}var i=a.prototype;i.update=function(r,d){this.graphInfo=r;var f=this.graphInfo._context,h=this.graphInfo._fullLayout,p="modebar-"+h._uid;this.element.setAttribute("id",p),this._uid=p,this.element.className="modebar","hover"===f.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===h.modebar.orientation&&(this.element.className+=" vertical",d=d.reverse());var T=h.modebar,w="hover"===f.displayModeBar?".js-plotly-plot .plotly:hover ":"";o.deleteRelatedStyleRule(p),o.addRelatedStyleRule(p,w+"#"+p+" .modebar-group","background-color: "+T.bgcolor),o.addRelatedStyleRule(p,"#"+p+" .modebar-btn .icon path","fill: "+T.color),o.addRelatedStyleRule(p,"#"+p+" .modebar-btn:hover .icon path","fill: "+T.activecolor),o.addRelatedStyleRule(p,"#"+p+" .modebar-btn.active .icon path","fill: "+T.activecolor);var x=!this.hasButtons(d),m=this.hasLogo!==f.displaylogo,y=this.locale!==f.locale;if(this.locale=f.locale,(x||m||y)&&(this.removeAllButtons(),this.updateButtons(d),f.watermark||f.displaylogo)){var A=this.getLogo();f.watermark&&(A.className=A.className+" watermark"),"v"===h.modebar.orientation?this.element.insertBefore(A,this.element.childNodes[0]):this.element.appendChild(A),this.hasLogo=!0}this.updateActiveButton()},i.updateButtons=function(r){var d=this;this.buttons=r,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(f){var h=d.createGroup();f.forEach(function(p){var T=p.name;if(!T)throw new Error("must provide button 'name' in button config");if(-1!==d.buttonsNames.indexOf(T))throw new Error("button name '"+T+"' is taken");d.buttonsNames.push(T);var w=d.createButton(p);d.buttonElements.push(w),h.appendChild(w)}),d.element.appendChild(h)})},i.createGroup=function(){var r=document.createElement("div");return r.className="modebar-group",r},i.createButton=function(r){var d=this,f=document.createElement("a");f.setAttribute("rel","tooltip"),f.className="modebar-btn";var h=r.title;void 0===h?h=r.name:"function"==typeof h&&(h=h(this.graphInfo)),(h||0===h)&&f.setAttribute("data-title",h),void 0!==r.attr&&f.setAttribute("data-attr",r.attr);var p=r.val;if(void 0!==p&&("function"==typeof p&&(p=p(this.graphInfo)),f.setAttribute("data-val",p)),"function"!=typeof r.click)throw new Error("must provide button 'click' function in button config");f.addEventListener("click",function(w){r.click(d.graphInfo,w),d.updateActiveButton(w.currentTarget)}),f.setAttribute("data-toggle",r.toggle||!1),r.toggle&&t.select(f).classed("active",!0);var T=r.icon;return f.appendChild("function"==typeof T?T():this.createIcon(T||e.question)),f.setAttribute("data-gravity",r.gravity||"n"),f},i.createIcon=function(r){var d,f=l(r.height)?Number(r.height):r.ascent-r.descent,h="http://www.w3.org/2000/svg";if(r.path){(d=document.createElementNS(h,"svg")).setAttribute("viewBox",[0,0,r.width,f].join(" ")),d.setAttribute("class","icon");var p=document.createElementNS(h,"path");p.setAttribute("d",r.path),r.transform?p.setAttribute("transform",r.transform):void 0!==r.ascent&&p.setAttribute("transform","matrix(1 0 0 -1 0 "+r.ascent+")"),d.appendChild(p)}return r.svg&&(d=s.parseFromString(r.svg,"application/xml").childNodes[0]),d.setAttribute("height","1em"),d.setAttribute("width","1em"),d},i.updateActiveButton=function(r){var d=this.graphInfo._fullLayout,f=void 0!==r?r.getAttribute("data-attr"):null;this.buttonElements.forEach(function(h){var p=h.getAttribute("data-val")||!0,T=h.getAttribute("data-attr"),w="true"===h.getAttribute("data-toggle"),x=t.select(h);if(w)T===f&&x.classed("active",!x.classed("active"));else{var m=null===T?T:o.nestedProperty(d,T).get();x.classed("active",m===p)}})},i.hasButtons=function(r){var d=this.buttons;if(!d||r.length!==d.length)return!1;for(var f=0;f<r.length;++f){if(r[f].length!==d[f].length)return!1;for(var h=0;h<r[f].length;h++)if(r[f][h].name!==d[f][h].name)return!1}return!0},i.getLogo=function(){var r=this.createGroup(),d=document.createElement("a");return d.href="https://plotly.com/",d.target="_blank",d.setAttribute("data-title",o._(this.graphInfo,"Produced with Plotly.js")+" (v"+n+")"),d.className="modebar-btn plotlyjsicon modebar-btn--logo",d.appendChild(this.createIcon(e.newplotlylogo)),r.appendChild(d),r},i.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},i.destroy=function(){o.removeElement(this.container.querySelector(".modebar")),o.deleteRelatedStyleRule(this._uid)},tt.exports=function(r,d){var f=r._fullLayout,h=new a({graphInfo:r,container:f._modebardiv.node(),buttons:d});return f._privateplot&&t.select(h.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),h}},{"../../fonts/ploticon":215,"../../lib":232,"../../version":391,"@plotly/d3":11,"fast-isnumeric":17}],168:[function(c,tt,B){"use strict";var t=c("../../plots/font_attributes"),l=c("../color/attributes"),o=(0,c("../../plot_api/plot_template").templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});tt.exports={visible:{valType:"boolean",editType:"plot"},buttons:o,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:t({editType:"plot"}),bgcolor:{valType:"color",dflt:l.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:l.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":268,"../../plots/font_attributes":310,"../color/attributes":101}],169:[function(c,tt,B){"use strict";tt.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],170:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../color"),o=c("../../plot_api/plot_template"),e=c("../../plots/array_container_defaults"),n=c("./attributes"),s=c("./constants");function a(i,r,d,f){var h=f.calendar;function p(w,x){return t.coerce(i,r,n.buttons,w,x)}if(p("visible")){var T=p("step");"all"!==T&&(!h||"gregorian"===h||"month"!==T&&"year"!==T?p("stepmode"):r.stepmode="backward",p("count")),p("label")}}tt.exports=function(i,r,d,f,h){var p=i.rangeselector||{},T=o.newContainer(r,"rangeselector");function w(y,A){return t.coerce(p,T,n,y,A)}if(w("visible",e(p,T,{name:"buttons",handleItemDefaults:a,calendar:h}).length>0)){var x=function(y,A,b){for(var k=b.filter(function(E){return A[E].anchor===y._id}),L=0,g=0;g<k.length;g++){var S=A[k[g]].domain;S&&(L=Math.max(S[1],L))}return[y.domain[0],L+s.yPad]}(r,d,f);w("x",x[0]),w("y",x[1]),t.noneOrAll(i,r,["x","y"]),w("xanchor"),w("yanchor"),t.coerceFont(w,"font",d.font);var m=w("bgcolor");w("activecolor",l.contrast(m,s.lightAmount,s.darkAmount)),w("bordercolor"),w("borderwidth")}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/array_container_defaults":274,"../color":102,"./attributes":168,"./constants":169}],171:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../../registry"),o=c("../../plots/plots"),e=c("../color"),n=c("../drawing"),s=c("../../lib"),a=s.strTranslate,i=c("../../lib/svg_text_utils"),r=c("../../plots/cartesian/axis_ids"),d=c("../../constants/alignment"),f=d.LINE_SPACING,h=d.FROM_TL,p=d.FROM_BR,T=c("./constants"),w=c("./get_update_object");function x(A){return A._id}function m(A,b,k){var g,S,L=s.ensureSingle(A,"rect","selector-rect",function(g){g.attr("shape-rendering","crispEdges")});L.attr({rx:T.rx,ry:T.ry}),L.call(e.stroke,b.bordercolor).call(e.fill,(g=b,S=k,S._isActive||S._isHovered?g.activecolor:g.bgcolor)).style("stroke-width",b.borderwidth+"px")}function y(A,b,k,L){var g,S;s.ensureSingle(A,"text","selector-text",function(g){g.attr("text-anchor","middle")}).call(n.font,b.font).text((g=k,S=L._fullLayout._meta,g.label?S?s.templateString(g.label,S):g.label:"all"===g.step?"all":g.count+g.step.charAt(0))).call(function(g){i.convertToTspans(g,L)})}tt.exports=function(A){var b=A._fullLayout._infolayer.selectAll(".rangeselector").data(function(k){for(var L=r.list(k,"x",!0),g=[],S=0;S<L.length;S++){var E=L[S];E.rangeselector&&E.rangeselector.visible&&g.push(E)}return g}(A),x);b.enter().append("g").classed("rangeselector",!0),b.exit().remove(),b.style({cursor:"pointer","pointer-events":"all"}),b.each(function(k){var L=t.select(this),g=k,S=g.rangeselector,E=L.selectAll("g.button").data(s.filterVisible(S.buttons));E.enter().append("g").classed("button",!0),E.exit().remove(),E.each(function(v){var F=t.select(this),N=w(g,v);v._isActive=function(z,U,Y){if("all"===U.step)return!0===z.autorange;var $=Object.keys(Y);return z.range[0]===Y[$[0]]&&z.range[1]===Y[$[1]]}(g,v,N),F.call(m,S,v),F.call(y,S,v,A),F.on("click",function(){A._dragged||l.call("_guiRelayout",A,N)}),F.on("mouseover",function(){v._isHovered=!0,F.call(m,S,v)}),F.on("mouseout",function(){v._isHovered=!1,F.call(m,S,v)})}),function(v,F,N,z,U){var Y=0,$=0,ot=N.borderwidth;F.each(function(){var Z=t.select(this).select(".selector-text"),D=Math.max(N.font.size*f*i.lineCount(Z),16)+3;$=Math.max($,D)}),F.each(function(){var Z=t.select(this),q=Z.select(".selector-rect"),D=Z.select(".selector-text"),M=D.node()&&n.bBox(D.node()).width,H=N.font.size*f,C=i.lineCount(D),W=Math.max(M+10,T.minButtonWidth);Z.attr("transform",a(ot+Y,ot)),q.attr({x:0,y:0,width:W,height:$}),i.positionText(D,W/2,$/2-(C-1)*H/2+3),Y+=W+5});var G=v._fullLayout._size,R=G.l+G.w*N.x,j=G.t+G.h*(1-N.y),P="left";s.isRightAnchor(N)&&(R-=Y,P="right"),s.isCenterAnchor(N)&&(R-=Y/2,P="center");var I="top";s.isBottomAnchor(N)&&(j-=$,I="bottom"),s.isMiddleAnchor(N)&&(j-=$/2,I="middle"),Y=Math.ceil(Y),$=Math.ceil($),R=Math.round(R),j=Math.round(j),o.autoMargin(v,z+"-range-selector",{x:N.x,y:N.y,l:Y*h[P],r:Y*p[P],b:$*p[I],t:$*h[I]}),U.attr("transform",a(R,j))}(A,E,S,g._name,L)})}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../color":102,"../drawing":124,"./constants":169,"./get_update_object":172,"@plotly/d3":11}],172:[function(c,tt,B){"use strict";var t=c("d3-time"),l=c("../../lib").titleCase;tt.exports=function(o,e){var n=o._name,s={};if("all"===e.step)s[n+".autorange"]=!0;else{var a=function(i,r){var d,f=i.range,h=new Date(i.r2l(f[1])),T=t["utc"+l(r.step)],w=r.count;switch(r.stepmode){case"backward":d=i.l2r(+T.offset(h,-w));break;case"todate":var x=T.offset(h,-w);d=i.l2r(+T.ceil(x))}return[d,f[1]]}(o,e);s[n+".range[0]"]=a[0],s[n+".range[1]"]=a[1]}return s}},{"../../lib":232,"d3-time":16}],173:[function(c,tt,B){"use strict";tt.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:c("./attributes")}}},layoutAttributes:c("./attributes"),handleDefaults:c("./defaults"),draw:c("./draw")}},{"./attributes":168,"./defaults":170,"./draw":171}],174:[function(c,tt,B){"use strict";var t=c("../color/attributes");tt.exports={bgcolor:{valType:"color",dflt:t.background,editType:"plot"},bordercolor:{valType:"color",dflt:t.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":101}],175:[function(c,tt,B){"use strict";var t=c("../../plots/cartesian/axis_ids").list,l=c("../../plots/cartesian/autorange").getAutoRange,o=c("./constants");tt.exports=function(e){for(var n=t(e,"x",!0),s=0;s<n.length;s++){var a=n[s],i=a[o.name];i&&i.visible&&i.autorange&&(i._input.autorange=!0,i._input.range=i.range=l(e,a))}}},{"../../plots/cartesian/autorange":278,"../../plots/cartesian/axis_ids":283,"./constants":176}],176:[function(c,tt,B){"use strict";tt.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],177:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../plot_api/plot_template"),o=c("../../plots/cartesian/axis_ids"),e=c("./attributes"),n=c("./oppaxis_attributes");tt.exports=function(s,a,i){var r=s[i],d=a[i];if(r.rangeslider||a._requestRangeslider[d._id]){t.isPlainObject(r.rangeslider)||(r.rangeslider={});var f,h,p=r.rangeslider,T=l.newContainer(d,"rangeslider");if(L("visible")){L("bgcolor",a.plot_bgcolor),L("bordercolor"),L("borderwidth"),L("thickness"),L("autorange",!d.isValidRange(p.range)),L("range");var w=a._subplots;if(w)for(var x=w.cartesian.filter(function(S){return S.substr(0,S.indexOf("y"))===o.name2id(i)}).map(function(S){return S.substr(S.indexOf("y"),S.length)}),m=t.simpleMap(x,o.id2name),y=0;y<m.length;y++){var A=m[y];f=p[A]||{},h=l.newContainer(T,A,"yaxis");var b,k=a[A];f.range&&k.isValidRange(f.range)&&(b="fixed"),"match"!==g("rangemode",b)&&g("range",k.range.slice())}T._input=p}}function L(S,E){return t.coerce(p,T,e,S,E)}function g(S,E){return t.coerce(f,h,n,S,E)}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_ids":283,"./attributes":174,"./oppaxis_attributes":181}],178:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../../registry"),o=c("../../plots/plots"),e=c("../../lib"),n=e.strTranslate,s=c("../drawing"),a=c("../color"),i=c("../titles"),r=c("../../plots/cartesian"),d=c("../../plots/cartesian/axis_ids"),f=c("../dragelement"),h=c("../../lib/setcursor"),p=c("./constants");function T(b,k,L,g){var S=e.ensureSingle(b,"rect",p.bgClassName,function(N){N.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),E=g.borderwidth%2==0?g.borderwidth:g.borderwidth-1,v=-g._offsetShift,F=s.crispRound(k,g.borderwidth);S.attr({width:g._width+E,height:g._height+E,transform:n(v,v),fill:g.bgcolor,stroke:g.bordercolor,"stroke-width":F})}function w(b,k,L,g){e.ensureSingleById(k._fullLayout._topdefs,"clipPath",g._clipId,function(E){E.append("rect").attr({x:0,y:0})}).select("rect").attr({width:g._width,height:g._height})}function x(b,k,L,g){var S,E=k.calcdata,v=b.selectAll("g."+p.rangePlotClassName).data(L._subplotsWith,e.identity);v.enter().append("g").attr("class",function(F){return p.rangePlotClassName+" "+F}).call(s.setClipUrl,g._clipId,k),v.order(),v.exit().remove(),v.each(function(F,N){var z=t.select(this),U=0===N,Y=d.getFromId(k,F,"y"),$=Y._name,ot=g[$],G={data:[],layout:{xaxis:{type:L.type,domain:[0,1],range:g.range.slice(),calendar:L.calendar},width:g._width,height:g._height,margin:{t:0,b:0,l:0,r:0}},_context:k._context};L.rangebreaks&&(G.layout.xaxis.rangebreaks=L.rangebreaks),G.layout[$]={type:Y.type,domain:[0,1],range:"match"!==ot.rangemode?ot.range.slice():Y.range.slice(),calendar:Y.calendar},Y.rangebreaks&&(G.layout[$].rangebreaks=Y.rangebreaks),o.supplyDefaults(G);var R=G._fullLayout.xaxis,j=G._fullLayout[$];R.clearCalc(),R.setScale(),j.clearCalc(),j.setScale();var P={id:F,plotgroup:z,xaxis:R,yaxis:j,isRangePlot:!0};U?S=P:(P.mainplot="xy",P.mainplotinfo=S),r.rangePlot(k,P,function(I,Z){for(var q=[],D=0;D<I.length;D++){var M=I[D],H=M[0].trace;H.xaxis+H.yaxis===Z&&q.push(M)}return q}(E,F))})}function m(b,k,L,g,S){e.ensureSingle(b,"rect",p.maskMinClassName,function(E){E.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",g._height).call(a.fill,p.maskColor),e.ensureSingle(b,"rect",p.maskMaxClassName,function(E){E.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",g._height).call(a.fill,p.maskColor),"match"!==S.rangemode&&(e.ensureSingle(b,"rect",p.maskMinOppAxisClassName,function(E){E.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",g._width).call(a.fill,p.maskOppAxisColor),e.ensureSingle(b,"rect",p.maskMaxOppAxisClassName,function(E){E.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",g._width).style("border-top",p.maskOppBorder).call(a.fill,p.maskOppAxisColor))}function y(b,k,L,g){k._context.staticPlot||e.ensureSingle(b,"rect",p.slideBoxClassName,function(S){S.attr({y:0,cursor:p.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:g._height,fill:p.slideBoxFill})}function A(b,k,L,g){var S=e.ensureSingle(b,"g",p.grabberMinClassName),E=e.ensureSingle(b,"g",p.grabberMaxClassName),v={x:0,width:p.handleWidth,rx:p.handleRadius,fill:a.background,stroke:a.defaultLine,"stroke-width":p.handleStrokeWidth,"shape-rendering":"crispEdges"},F={y:Math.round(g._height/4),height:Math.round(g._height/2)};e.ensureSingle(S,"rect",p.handleMinClassName,function(z){z.attr(v)}).attr(F),e.ensureSingle(E,"rect",p.handleMaxClassName,function(z){z.attr(v)}).attr(F);var N={width:p.grabAreaWidth,x:0,y:0,fill:p.grabAreaFill,cursor:k._context.staticPlot?void 0:p.grabAreaCursor};e.ensureSingle(S,"rect",p.grabAreaMinClassName,function(z){z.attr(N)}).attr("height",g._height),e.ensureSingle(E,"rect",p.grabAreaMaxClassName,function(z){z.attr(N)}).attr("height",g._height)}tt.exports=function(b){for(var k=b._fullLayout,L=k._rangeSliderData,g=0;g<L.length;g++){var S=L[g][p.name];S._clipId=S._id+"-"+k._uid}var E=k._infolayer.selectAll("g."+p.containerClassName).data(L,function(v){return v._name});E.exit().each(function(v){k._topdefs.select("#"+v[p.name]._clipId).remove()}).remove(),0!==L.length&&(E.enter().append("g").classed(p.containerClassName,!0).attr("pointer-events","all"),E.each(function(v){var F=t.select(this),N=v[p.name],z=k[d.id2name(v.anchor)],U=N[d.id2name(v.anchor)];if(N.range){var Y,$=e.simpleMap(N.range,v.r2l),ot=e.simpleMap(v.range,v.r2l);Y=ot[0]<ot[1]?[Math.min($[0],ot[0]),Math.max($[1],ot[1])]:[Math.max($[0],ot[0]),Math.min($[1],ot[1])],N.range=N._input.range=e.simpleMap(Y,v.l2r)}v.cleanRange("rangeslider.range");var G=k._size,R=v.domain;N._width=G.w*(R[1]-R[0]);var j=Math.round(G.l+G.w*R[0]),P=Math.round(G.t+G.h*(1-v._counterDomainMin)+("bottom"===v.side?v._depth:0)+N._offsetShift+p.extraPad);F.attr("transform",n(j,P)),N._rl=e.simpleMap(N.range,v.r2l);var I=N._rl[0],Z=N._rl[1],q=Z-I;if(N.p2d=function(ut){return ut/N._width*q+I},N.d2p=function(ut){return(ut-I)/q*N._width},v.rangebreaks){var D=v.locateBreaks(I,Z);if(D.length){var M,H,C=0;for(M=0;M<D.length;M++)C+=(H=D[M]).max-H.min;var W=N._width/(Z-I-C),K=[-W*I];for(M=0;M<D.length;M++)K.push(K[K.length-1]-W*((H=D[M]).max-H.min));for(N.d2p=function(ut){for(var ct=K[0],gt=0;gt<D.length;gt++){var vt=D[gt];if(ut>=vt.max)ct=K[gt+1];else if(ut<vt.min)break}return ct+W*ut},M=0;M<D.length;M++)(H=D[M]).pmin=N.d2p(H.min),H.pmax=N.d2p(H.max);N.p2d=function(ut){for(var ct=K[0],gt=0;gt<D.length;gt++){var vt=D[gt];if(ut>=vt.pmax)ct=K[gt+1];else if(ut<vt.pmin)break}return(ut-ct)/W}}}if("match"!==U.rangemode){var J=z.r2l(U.range[0]),Q=z.r2l(U.range[1])-J;N.d2pOppAxis=function(ut){return(ut-J)/Q*N._height}}F.call(T,b,v,N).call(w,b,v,N).call(x,b,v,N).call(m,b,v,N,U).call(y,b,v,N).call(A,b,v,N),function(ut,ct,gt,vt){if(!ct._context.staticPlot){var xt=ut.select("rect."+p.slideBoxClassName).node(),Tt=ut.select("rect."+p.grabAreaMinClassName).node(),zt=ut.select("rect."+p.grabAreaMaxClassName).node();ut.on("mousedown",Et),ut.on("touchstart",Et)}function Et(){var At=t.event,lt=At.target,rt=At.clientX||At.touches[0].clientX,dt=rt-ut.node().getBoundingClientRect().left,mt=vt.d2p(gt._rl[0]),Dt=vt.d2p(gt._rl[1]),bt=f.coverSlip();function wt(It){var St,Nt,Vt,Ct=+(It.clientX||It.touches[0].clientX)-rt;switch(lt){case xt:Vt="ew-resize",St=mt+Ct,Nt=Dt+Ct;break;case Tt:Vt="col-resize",St=mt+Ct,Nt=Dt;break;case zt:Vt="col-resize",St=mt,Nt=Dt+Ct;break;default:Vt="ew-resize",St=dt,Nt=dt+Ct}if(Nt<St){var Gt=Nt;Nt=St,St=Gt}vt._pixelMin=St,vt._pixelMax=Nt,h(t.select(bt),Vt),function($t,Xt,de,Kt){function kt(ce){return de.l2r(e.constrain(ce,Kt._rl[0],Kt._rl[1]))}var Mt=kt(Kt.p2d(Kt._pixelMin)),qt=kt(Kt.p2d(Kt._pixelMax));window.requestAnimationFrame(function(){l.call("_guiRelayout",Xt,de._name+".range",[Mt,qt])})}(0,ct,gt,vt)}function Ot(){bt.removeEventListener("mousemove",wt),bt.removeEventListener("mouseup",Ot),this.removeEventListener("touchmove",wt),this.removeEventListener("touchend",Ot),e.removeElement(bt)}this.addEventListener("touchmove",wt),this.addEventListener("touchend",Ot),bt.addEventListener("mousemove",wt),bt.addEventListener("mouseup",Ot)}}(F,b,v,N),function(ut,ct,gt,vt,xt,Tt){var zt=p.handleWidth/2;function Et(Ot){return e.constrain(Ot,0,vt._width)}function At(Ot){return e.constrain(Ot,0,vt._height)}function lt(Ot){return e.constrain(Ot,-zt,vt._width+zt)}var rt=Et(vt.d2p(gt._rl[0])),dt=Et(vt.d2p(gt._rl[1]));if(ut.select("rect."+p.slideBoxClassName).attr("x",rt).attr("width",dt-rt),ut.select("rect."+p.maskMinClassName).attr("width",rt),ut.select("rect."+p.maskMaxClassName).attr("x",dt).attr("width",vt._width-dt),"match"!==Tt.rangemode){var mt=vt._height-At(vt.d2pOppAxis(xt._rl[1])),Dt=vt._height-At(vt.d2pOppAxis(xt._rl[0]));ut.select("rect."+p.maskMinOppAxisClassName).attr("x",rt).attr("height",mt).attr("width",dt-rt),ut.select("rect."+p.maskMaxOppAxisClassName).attr("x",rt).attr("y",Dt).attr("height",vt._height-Dt).attr("width",dt-rt),ut.select("rect."+p.slideBoxClassName).attr("y",mt).attr("height",Dt-mt)}var bt=Math.round(lt(rt-zt))-.5,wt=Math.round(lt(dt-zt))+.5;ut.select("g."+p.grabberMinClassName).attr("transform",n(bt,.5)),ut.select("g."+p.grabberMaxClassName).attr("transform",n(wt,.5))}(F,0,v,N,z,U),"bottom"===v.side&&i.draw(b,v._id+"title",{propContainer:v,propName:v._name+".title",placeholder:k._dfltTitle.x,attributes:{x:v._offset+v._length/2,y:P+N._height+N._offsetShift+10+1.5*v.title.font.size,"text-anchor":"middle"}})}))}},{"../../lib":232,"../../lib/setcursor":252,"../../plots/cartesian":293,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":176,"@plotly/d3":11}],179:[function(c,tt,B){"use strict";var t=c("../../plots/cartesian/axis_ids"),l=c("../../lib/svg_text_utils"),o=c("./constants"),e=c("../../constants/alignment").LINE_SPACING,n=o.name;function s(a){var i=a&&a[n];return i&&i.visible}B.isVisible=s,B.makeData=function(a){var i=t.list({_fullLayout:a},"x",!0),r=a.margin,d=[];if(!a._has("gl2d"))for(var f=0;f<i.length;f++){var h=i[f];if(s(h)){d.push(h);var p=h[n];p._id=n+h._id,p._height=(a.height-r.b-r.t)*p.thickness,p._offsetShift=Math.floor(p.borderwidth/2)}}a._rangeSliderData=d},B.autoMarginOpts=function(a,i){var r=a._fullLayout,d=i[n],f=i._id.charAt(0),h=0,p=0;return"bottom"===i.side&&(h=i._depth,i.title.text!==r._dfltTitle[f]&&(p=1.5*i.title.font.size+10+d._offsetShift,p+=(i.title.text.match(l.BR_TAG_ALL)||[]).length*i.title.font.size*e)),{x:0,y:i._counterDomainMin,l:0,r:0,t:0,b:d._height+h+Math.max(r.margin.b,p),pad:o.extraPad+2*d._offsetShift}}},{"../../constants/alignment":207,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"./constants":176}],180:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("./attributes"),o=c("./oppaxis_attributes"),e=c("./helpers");tt.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:t.extendFlat({},l,{yaxis:o})}}},layoutAttributes:c("./attributes"),handleDefaults:c("./defaults"),calcAutorange:c("./calc_autorange"),draw:c("./draw"),isVisible:e.isVisible,makeData:e.makeData,autoMarginOpts:e.autoMarginOpts}},{"../../lib":232,"./attributes":174,"./calc_autorange":175,"./defaults":177,"./draw":178,"./helpers":179,"./oppaxis_attributes":181}],181:[function(c,tt,B){"use strict";tt.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],182:[function(c,tt,B){"use strict";var t=c("../annotations/attributes"),l=c("../../traces/scatter/attributes").line,o=c("../drawing/attributes").dash,e=c("../../lib/extend").extendFlat,n=c("../../plot_api/plot_template").templatedArray;c("../../constants/axis_placeable_objects"),tt.exports=n("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:e({},t.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:e({},t.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:e({},l.color,{editType:"arraydraw"}),width:e({},l.width,{editType:"calc+arraydraw"}),dash:e({},o,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../traces/scatter/attributes":358,"../annotations/attributes":85,"../drawing/attributes":123}],183:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../plots/cartesian/axes"),o=c("./constants"),e=c("./helpers");function n(r){return a(r.line.width,r.xsizemode,r.x0,r.x1,r.path,!1)}function s(r){return a(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function a(r,d,f,h,p,T){var w=r/2,x=T;if("pixel"===d){var m=p?e.extractPathCoords(p,T?o.paramIsY:o.paramIsX):[f,h],y=t.aggNums(Math.max,null,m),A=t.aggNums(Math.min,null,m),b=A<0?Math.abs(A)+w:w,k=y>0?y+w:w;return{ppad:w,ppadplus:x?b:k,ppadminus:x?k:b}}return{ppad:w}}function i(r,d,f,h,p){var T="category"===r.type||"multicategory"===r.type?r.r2c:r.d2c;if(void 0!==d)return[T(d),T(f)];if(h){var w,x,m,y,A=1/0,b=-1/0,k=h.match(o.segmentRE);for("date"===r.type&&(T=e.decodeDate(T)),w=0;w<k.length;w++)void 0!==(x=p[k[w].charAt(0)].drawn)&&(!(m=k[w].substr(1).match(o.paramRE))||m.length<x||((y=T(m[x]))<A&&(A=y),y>b&&(b=y)));return b>=A?[A,b]:void 0}}tt.exports=function(r){var f=t.filterVisible(r._fullLayout.shapes);if(f.length&&r._fullData.length)for(var h=0;h<f.length;h++){var p,T,w=f[h];w._extremes={};var x=l.getRefType(w.xref),m=l.getRefType(w.yref);if("paper"!==w.xref&&"domain"!==x){var y="pixel"===w.xsizemode?w.xanchor:w.x0,A="pixel"===w.xsizemode?w.xanchor:w.x1;(T=i(p=l.getFromId(r,w.xref),y,A,w.path,o.paramIsX))&&(w._extremes[p._id]=l.findExtremes(p,T,n(w)))}if("paper"!==w.yref&&"domain"!==m){var b="pixel"===w.ysizemode?w.yanchor:w.y0,k="pixel"===w.ysizemode?w.yanchor:w.y1;(T=i(p=l.getFromId(r,w.yref),b,k,w.path,o.paramIsY))&&(w._extremes[p._id]=l.findExtremes(p,T,s(w)))}}}},{"../../lib":232,"../../plots/cartesian/axes":279,"./constants":184,"./helpers":193}],184:[function(c,tt,B){"use strict";tt.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],185:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../plots/cartesian/axes"),o=c("../../plots/array_container_defaults"),e=c("./attributes"),n=c("./helpers");function s(a,i,r){function d(U,Y){return t.coerce(a,i,e,U,Y)}if(d("visible")){var f=d("path"),h=d("type",f?"path":"rect");"path"!==i.type&&delete i.path,d("editable"),d("layer"),d("opacity"),d("fillcolor"),d("fillrule"),d("line.width")&&(d("line.color"),d("line.dash"));for(var p=d("xsizemode"),T=d("ysizemode"),w=["x","y"],x=0;x<2;x++){var m,y,A,b=w[x],k=b+"anchor",L="x"===b?p:T,g={_fullLayout:r},S=l.coerceRef(a,i,g,b,void 0,"paper");if("range"===l.getRefType(S)?((m=l.getFromId(g,S))._shapeIndices.push(i._index),A=n.rangeToShapePosition(m),y=n.shapePositionToRange(m)):y=A=t.identity,"path"!==h){var E=b+"0",v=b+"1",F=a[E],N=a[v];a[E]=y(a[E],!0),a[v]=y(a[v],!0),"pixel"===L?(d(E,0),d(v,10)):(l.coercePosition(i,g,d,S,E,.25),l.coercePosition(i,g,d,S,v,.75)),i[E]=A(i[E]),i[v]=A(i[v]),a[E]=F,a[v]=N}if("pixel"===L){var z=a[k];a[k]=y(a[k],!0),l.coercePosition(i,g,d,S,k,.25),i[k]=A(i[k]),a[k]=z}}"path"===h?d("path"):t.noneOrAll(a,i,["x0","x1","y0","y1"])}}tt.exports=function(a,i){o(a,i,{name:"shapes",handleItemDefaults:s})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":182,"./helpers":193}],186:[function(c,tt,B){"use strict";var t=c("../../registry"),l=c("../../lib"),o=c("../../plots/cartesian/axes"),e=c("./draw_newshape/helpers").readPaths,n=c("./draw_newshape/display_outlines"),s=c("../../plots/cartesian/handle_outline").clearOutlineControllers,a=c("../color"),i=c("../drawing"),r=c("../../plot_api/plot_template").arrayEditor,d=c("../dragelement"),f=c("../../lib/setcursor"),h=c("./constants"),p=c("./helpers");function T(L){var g=L._fullLayout;for(var S in g._shapeUpperLayer.selectAll("path").remove(),g._shapeLowerLayer.selectAll("path").remove(),g._plots){var E=g._plots[S].shapelayer;E&&E.selectAll("path").remove()}for(var v=0;v<g.shapes.length;v++)g.shapes[v].visible&&m(L,v)}function w(L){return!!L._fullLayout._drawing}function x(L){return!L._context.edits.shapePosition}function m(L,g){L._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+g+'"]').remove();var S=p.makeOptionsAndPlotinfo(L,g),E=S.options,v=S.plotinfo;E._input&&!1!==E.visible&&function F(N){var z=A(L,E),U={"data-index":g,"fill-rule":E.fillrule,d:z},Y=E.opacity,$=E.fillcolor,ot=E.line.width?E.line.color:"rgba(0,0,0,0)",G=E.line.width,R=E.line.dash;G||!0!==E.editable||(G=5,R="solid");var j="Z"!==z[z.length-1],P=x(L)&&E.editable&&L._fullLayout._activeShapeIndex===g;P&&($=j?"rgba(0,0,0,0)":L._fullLayout.activeshape.fillcolor,Y=L._fullLayout.activeshape.opacity);var I,Z=N.append("path").attr(U).style("opacity",Y).call(a.stroke,ot).call(a.fill,$).call(i.dashLine,R,G);if(y(Z,L,E),(P||L._context.edits.shapePosition)&&(I=r(L.layout,"shapes",E)),P){Z.style({cursor:"move"});var q={element:Z.node(),plotinfo:v,gd:L,editHelpers:I,isActiveShape:!0},D=e(z,L);n(D,Z,q)}else L._context.edits.shapePosition?function(M,H,C,W,K,J){var Q,ut,ct,gt,vt,xt,Tt,zt,Et,At,lt,rt,dt,mt,Dt,bt,wt="pixel"===C.xsizemode,Ot="pixel"===C.ysizemode,It="line"===C.type,St="path"===C.type,Nt=J.modifyItem,Vt=o.getFromId(M,C.xref),Ct=o.getRefType(C.xref),Gt=o.getFromId(M,C.yref),$t=o.getRefType(C.yref),Xt=p.getDataToPixel(M,Vt,!1,Ct),de=p.getDataToPixel(M,Gt,!0,$t),Kt=p.getPixelToData(M,Vt,!1,Ct),kt=p.getPixelToData(M,Gt,!0,$t),Mt=It?function(){var le=Math.max(C.line.width,10),nt=K.append("g").attr("data-index",W);nt.append("path").attr("d",H.attr("d")).style({cursor:"move","stroke-width":le,"stroke-opacity":"0"});var it={"fill-opacity":"0"},Lt=Math.max(le/2,10);return nt.append("circle").attr({"data-line-point":"start-point",cx:wt?Xt(C.xanchor)+C.x0:Xt(C.x0),cy:Ot?de(C.yanchor)-C.y0:de(C.y0),r:Lt}).style(it).classed("cursor-grab",!0),nt.append("circle").attr({"data-line-point":"end-point",cx:wt?Xt(C.xanchor)+C.x1:Xt(C.x1),cy:Ot?de(C.yanchor)-C.y1:de(C.y1),r:Lt}).style(it).classed("cursor-grab",!0),nt}():H,qt={element:Mt.node(),gd:M,prepFn:function(le){var nt,it,Lt,Pt,Bt,Rt,jt,Ut;w(M)||(wt&&(vt=Xt(C.xanchor)),Ot&&(xt=de(C.yanchor)),"path"===C.type?Dt=C.path:(Q=wt?C.x0:Xt(C.x0),ut=Ot?C.y0:de(C.y0),ct=wt?C.x1:Xt(C.x1),gt=Ot?C.y1:de(C.y1)),Q<ct?(Et=Q,dt="x0",At=ct,mt="x1"):(Et=ct,dt="x1",At=Q,mt="x0"),!Ot&&ut<gt||Ot&&ut>gt?(Tt=ut,lt="y0",zt=gt,rt="y1"):(Tt=gt,lt="y1",zt=ut,rt="y0"),ce(le),xe(K,C),nt=H,Bt=(it=C).yref,Rt=o.getFromId(Lt=M,Pt=it.xref),jt=o.getFromId(Lt,Bt),Ut="","paper"===Pt||Rt.autorange||(Ut+=Pt),"paper"===Bt||jt.autorange||(Ut+=Bt),i.setClipUrl(nt,Ut?"clip"+Lt._fullLayout._uid+Ut:null,Lt),qt.moveFn="move"===bt?Te:Oe,qt.altKey=le.altKey)},doneFn:function(){w(M)||(f(H),ye(K),y(H,M,C),t.call("_guiRelayout",M,J.getUpdateObj()))},clickFn:function(){w(M)||ye(K)}};function ce(le){if(w(M))bt=null;else if(It)bt="path"===le.target.tagName?"move":"start-point"===le.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var nt=qt.element.getBoundingClientRect(),it=nt.right-nt.left,Lt=nt.bottom-nt.top,Rt=!St&&it>10&&Lt>10&&!le.shiftKey?d.getCursor((le.clientX-nt.left)/it,1-(le.clientY-nt.top)/Lt):"move";f(H,Rt),bt=Rt.split("-")[0]}}function Te(le,nt){if("path"===C.type){var it=function(Bt){return Bt},Lt=it,Pt=it;wt?Nt("xanchor",C.xanchor=Kt(vt+le)):(Lt=function(Bt){return Kt(Xt(Bt)+le)},Vt&&"date"===Vt.type&&(Lt=p.encodeDate(Lt))),Ot?Nt("yanchor",C.yanchor=kt(xt+nt)):(Pt=function(Bt){return kt(de(Bt)+nt)},Gt&&"date"===Gt.type&&(Pt=p.encodeDate(Pt))),Nt("path",C.path=b(Dt,Lt,Pt))}else wt?Nt("xanchor",C.xanchor=Kt(vt+le)):(Nt("x0",C.x0=Kt(Q+le)),Nt("x1",C.x1=Kt(ct+le))),Ot?Nt("yanchor",C.yanchor=kt(xt+nt)):(Nt("y0",C.y0=kt(ut+nt)),Nt("y1",C.y1=kt(gt+nt)));H.attr("d",A(M,C)),xe(K,C)}function Oe(le,nt){if(St){var it=function(Le){return Le},Lt=it,Pt=it;wt?Nt("xanchor",C.xanchor=Kt(vt+le)):(Lt=function(Le){return Kt(Xt(Le)+le)},Vt&&"date"===Vt.type&&(Lt=p.encodeDate(Lt))),Ot?Nt("yanchor",C.yanchor=kt(xt+nt)):(Pt=function(Le){return kt(de(Le)+nt)},Gt&&"date"===Gt.type&&(Pt=p.encodeDate(Pt))),Nt("path",C.path=b(Dt,Lt,Pt))}else if(It){if("resize-over-start-point"===bt){var Bt=Q+le,Rt=Ot?ut-nt:ut+nt;Nt("x0",C.x0=wt?Bt:Kt(Bt)),Nt("y0",C.y0=Ot?Rt:kt(Rt))}else if("resize-over-end-point"===bt){var jt=ct+le,Ut=Ot?gt-nt:gt+nt;Nt("x1",C.x1=wt?jt:Kt(jt)),Nt("y1",C.y1=Ot?Ut:kt(Ut))}}else{var ee=function(Le){return-1!==bt.indexOf(Le)},ie=ee("n"),fe=ee("s"),Ae=ee("w"),re=ee("e"),ve=ie?Tt+nt:Tt,Pe=fe?zt+nt:zt,se=Ae?Et+le:Et,te=re?At+le:At;Ot&&(ie&&(ve=Tt-nt),fe&&(Pe=zt-nt)),(!Ot&&Pe-ve>10||Ot&&ve-Pe>10)&&(Nt(lt,C[lt]=Ot?ve:kt(ve)),Nt(rt,C[rt]=Ot?Pe:kt(Pe))),te-se>10&&(Nt(dt,C[dt]=wt?se:Kt(se)),Nt(mt,C[mt]=wt?te:Kt(te)))}H.attr("d",A(M,C)),xe(K,C)}function xe(le,nt){(wt||Ot)&&function(){var it="path"!==nt.type,Lt=le.selectAll(".visual-cue").data([0]);Lt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var Pt=Xt(wt?nt.xanchor:l.midRange(it?[nt.x0,nt.x1]:p.extractPathCoords(nt.path,h.paramIsX))),Bt=de(Ot?nt.yanchor:l.midRange(it?[nt.y0,nt.y1]:p.extractPathCoords(nt.path,h.paramIsY)));Pt=p.roundPositionForSharpStrokeRendering(Pt,1),Bt=p.roundPositionForSharpStrokeRendering(Bt,1),Lt.attr("d",wt&&Ot?"M"+(Pt-1-1)+","+(Bt-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":wt?"M"+(Pt-1-1)+","+(Bt-9-1)+"v18 h2 v-18 Z":"M"+(Pt-9-1)+","+(Bt-1-1)+"h18 v2 h-18 Z")}()}function ye(le){le.selectAll(".visual-cue").remove()}d.init(qt),Mt.node().onmousemove=ce}(L,Z,E,g,N,I):!0===E.editable&&Z.style("pointer-events",j||a.opacity($)*Y<=.5?"stroke":"all");Z.node().addEventListener("click",function(){return function(M,H){if(x(M)){var C=+H.node().getAttribute("data-index");if(C>=0){if(C===M._fullLayout._activeShapeIndex)return void k(M);M._fullLayout._activeShapeIndex=C,M._fullLayout._deactivateShape=k,T(M)}}}(L,Z)})}("below"!==E.layer?L._fullLayout._shapeUpperLayer:"paper"===E.xref||"paper"===E.yref?L._fullLayout._shapeLowerLayer:v._hadPlotinfo?(v.mainplotinfo||v).shapelayer:L._fullLayout._shapeLowerLayer)}function y(L,g,S){var E=(S.xref+S.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");i.setClipUrl(L,E?"clip"+g._fullLayout._uid+E:null,g)}function A(L,g){var S,E,v,F,N,z,U,Y,K,J,Q,ct,gt,vt,xt,$=g.type,ot=o.getRefType(g.xref),G=o.getRefType(g.yref),R=o.getFromId(L,g.xref),j=o.getFromId(L,g.yref),P=L._fullLayout._size;if(R?"domain"===ot?E=function(K){return R._offset+R._length*K}:(S=p.shapePositionToRange(R),E=function(K){return R._offset+R.r2p(S(K,!0))}):E=function(K){return P.l+P.w*K},j?"domain"===G?F=function(K){return j._offset+j._length*(1-K)}:(v=p.shapePositionToRange(j),F=function(K){return j._offset+j.r2p(v(K,!0))}):F=function(K){return P.t+P.h*(1-K)},"path"===$)return R&&"date"===R.type&&(E=p.decodeDate(E)),j&&"date"===j.type&&(F=p.decodeDate(F)),J=E,Q=F,ct=(K=g).xsizemode,gt=K.ysizemode,vt=K.xanchor,xt=K.yanchor,K.path.replace(h.segmentRE,function(Tt){var zt=0,Et=Tt.charAt(0),At=h.paramIsX[Et],lt=h.paramIsY[Et],rt=h.numParams[Et],dt=Tt.substr(1).replace(h.paramRE,function(mt){return At[zt]?mt="pixel"===ct?J(vt)+Number(mt):J(mt):lt[zt]&&(mt="pixel"===gt?Q(xt)-Number(mt):Q(mt)),++zt>rt&&(mt="X"),mt});return zt>rt&&(dt=dt.replace(/[\s,]*X.*/,""),l.log("Ignoring extra params in segment "+Tt)),Et+dt});if("pixel"===g.xsizemode){var I=E(g.xanchor);N=I+g.x0,z=I+g.x1}else N=E(g.x0),z=E(g.x1);if("pixel"===g.ysizemode){var Z=F(g.yanchor);U=Z-g.y0,Y=Z-g.y1}else U=F(g.y0),Y=F(g.y1);if("line"===$)return"M"+N+","+U+"L"+z+","+Y;if("rect"===$)return"M"+N+","+U+"H"+z+"V"+Y+"H"+N+"Z";var q=(N+z)/2,D=(U+Y)/2,M=Math.abs(q-N),H=Math.abs(D-U),C="A"+M+","+H,W=q+M+","+D;return"M"+W+C+" 0 1,1 "+q+","+(D-H)+C+" 0 0,1 "+W+"Z"}function b(L,g,S){return L.replace(h.segmentRE,function(E){var v=0,F=E.charAt(0),N=h.paramIsX[F],z=h.paramIsY[F],U=h.numParams[F];return F+E.substr(1).replace(h.paramRE,function(Y){return v>=U||(N[v]?Y=g(Y):z[v]&&(Y=S(Y)),v++),Y})})}function k(L){x(L)&&L._fullLayout._activeShapeIndex>=0&&(s(L),delete L._fullLayout._activeShapeIndex,T(L))}tt.exports={draw:T,drawOne:m,eraseActiveShape:function(L){if(x(L)){s(L);var g=L._fullLayout._activeShapeIndex,S=(L.layout||{}).shapes||[];if(g<S.length){for(var E=[],v=0;v<S.length;v++)v!==g&&E.push(S[v]);delete L._fullLayout._activeShapeIndex,t.call("_guiRelayout",L,{shapes:E})}}}}},{"../../lib":232,"../../lib/setcursor":252,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/cartesian/handle_outline":290,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"./constants":184,"./draw_newshape/display_outlines":190,"./draw_newshape/helpers":191,"./helpers":193}],187:[function(c,tt,B){"use strict";var t=c("../../drawing/attributes").dash,l=c("../../../lib/extend").extendFlat;tt.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:l({},t,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":226,"../../drawing/attributes":123}],188:[function(c,tt,B){"use strict";tt.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],189:[function(c,tt,B){"use strict";var t=c("../../color");tt.exports=function(l,o,e){e("newshape.drawdirection"),e("newshape.layer"),e("newshape.fillcolor"),e("newshape.fillrule"),e("newshape.opacity"),e("newshape.line.width")&&(e("newshape.line.color",t.contrast((l||{}).plot_bgcolor||"#FFF")),e("newshape.line.dash")),e("activeshape.fillcolor"),e("activeshape.opacity")}},{"../../color":102}],190:[function(c,tt,B){"use strict";var t=c("../../dragelement"),l=c("../../dragelement/helpers").drawMode,o=c("../../../registry"),e=c("./constants"),n=e.i000,s=e.i090,a=e.i180,i=e.i270,r=c("../../../plots/cartesian/handle_outline").clearOutlineControllers,d=c("./helpers"),f=d.pointsShapeRectangle,h=d.pointsShapeEllipse,p=d.writePaths,T=c("./newshapes");tt.exports=function w(x,m,y,A){A||(A=0);var b=y.gd;function k(){w(x,m,y,A++),h(x[0])&&L({redrawing:!0})}function L(I){y.isActiveShape=!1;var Z=T(m,y);Object.keys(Z).length&&o.call((I||{}).redrawing?"relayout":"_guiRelayout",b,Z)}var g,S,E,v,F,N=y.isActiveShape,z=b._fullLayout._zoomlayer;function Y(I){E=+I.srcElement.getAttribute("data-i"),v=+I.srcElement.getAttribute("data-j"),g[E][v].moveFn=$}function $(I,Z){if(x.length){var q=F[E][v][1],D=F[E][v][2],M=x[E],H=M.length;if(f(M)){for(var C=0;C<H;C++)if(C!==v){var W=M[C];W[1]===M[v][1]&&(W[1]=q+I),W[2]===M[v][2]&&(W[2]=D+Z)}if(M[v][1]=q+I,M[v][2]=D+Z,!f(M))for(var K=0;K<H;K++)for(var J=0;J<M[K].length;J++)M[K][J]=F[E][K][J]}else M[v][1]=q+I,M[v][2]=D+Z;k()}}function ot(){L()}function G(I,Z){if(2===I){E=+Z.srcElement.getAttribute("data-i"),v=+Z.srcElement.getAttribute("data-j");var q=x[E];f(q)||h(q)||function(){if(x.length&&x[E]&&x[E].length){for(var D=[],M=0;M<x[E].length;M++)M!==v&&D.push(x[E][M]);D.length>1&&(2!==D.length||"Z"!==D[1][0])&&(0===v&&(D[0][0]="M"),x[E]=D,k(),L())}}()}}function R(I,Z){(function(q,D){if(x.length)for(var M=0;M<x.length;M++)for(var H=0;H<x[M].length;H++)for(var C=0;C+2<x[M][H].length;C+=2)x[M][H][C+1]=F[M][H][C+1]+q,x[M][H][C+2]=F[M][H][C+2]+D})(I,Z),k()}l(y.dragmode)?b._fullLayout._drawing=!0:b._fullLayout._activeShapeIndex>=0&&r(b),m.attr("d",p(x)),N&&!A&&(F=function(I,Z){for(var q=0;q<Z.length;q++){var D=Z[q];I[q]=[];for(var M=0;M<D.length;M++){I[q][M]=[];for(var H=0;H<D[M].length;H++)I[q][M][H]=D[M][H]}}return I}([],x),function(I){g=[];for(var Z=0;Z<x.length;Z++){var q=x[Z],D=!f(q)&&h(q);g[Z]=[];for(var M=0;M<q.length;M++)if("Z"!==q[M][0]&&(!D||M===n||M===s||M===a||M===i)){var H=q[M][1],C=q[M][2],W=I.append("circle").classed("cursor-grab",!0).attr("data-i",Z).attr("data-j",M).attr("cx",H).attr("cy",C).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});g[Z][M]={element:W.node(),gd:b,prepFn:Y,doneFn:ot,clickFn:G},t.init(g[Z][M])}}}(z.append("g").attr("class","outline-controllers")),S=[],x.length&&(S[0]={element:m[0][0],gd:b,prepFn:function j(I){(E=+I.srcElement.getAttribute("data-i"))||(E=0),S[E].moveFn=R},doneFn:function P(){L()}},t.init(S[0])))}},{"../../../plots/cartesian/handle_outline":290,"../../../registry":318,"../../dragelement":121,"../../dragelement/helpers":120,"./constants":188,"./helpers":191,"./newshapes":192}],191:[function(c,tt,B){"use strict";var t=c("parse-svg-path"),l=c("./constants"),o=l.CIRCLE_SIDES,e=l.SQRT2,n=c("../../../plots/cartesian/helpers"),s=n.p2r,a=n.r2p,i=[0,3,4,5,6,1,2],r=[0,3,4,1,2];function d(h,p){return Math.abs(h-p)<=1e-6}function f(h,p){var T=p[1]-h[1],w=p[2]-h[2];return Math.sqrt(T*T+w*w)}B.writePaths=function(h){var p=h.length;if(!p)return"M0,0Z";for(var T="",w=0;w<p;w++)for(var x=h[w].length,m=0;m<x;m++){var y=h[w][m][0];if("Z"===y)T+="Z";else for(var A=h[w][m].length,b=0;b<A;b++){var k=b;"Q"===y||"S"===y?k=r[b]:"C"===y&&(k=i[b]),T+=h[w][m][k],b>0&&b<A-1&&(T+=",")}}return T},B.readPaths=function(h,p,T,w){var x,m,y,A=t(h),b=[],k=-1,L=0,g=0,S=function(){m=L,y=g};S();for(var E=0;E<A.length;E++){var U=[],Y=A[E][0],$=Y;switch(Y){case"M":b[++k]=[],U.push([$,L=+A[E][1],g=+A[E][2]]),S();break;case"Q":case"S":U.push([$,L=+A[E][3],g=+A[E][4],+A[E][1],+A[E][2]]);break;case"C":U.push([$,L=+A[E][5],g=+A[E][6],+A[E][1],+A[E][2],+A[E][3],+A[E][4]]);break;case"T":case"L":U.push([$,L=+A[E][1],g=+A[E][2]]);break;case"H":U.push([$="L",L=+A[E][1],g]);break;case"V":U.push([$="L",L,g=+A[E][1]]);break;case"A":$="L";var ot=+A[E][1],G=+A[E][2];+A[E][4]||(ot=-ot,G=-G);var R=L-ot,j=g;for(x=1;x<=o/2;x++){var P=2*Math.PI*x/o;U.push([$,R+ot*Math.cos(P),j+G*Math.sin(P)])}break;case"Z":L===m&&g===y||U.push([$,L=m,g=y])}for(var I=(T||{}).domain,Z=p._fullLayout._size,q=T&&"pixel"===T.xsizemode,D=T&&"pixel"===T.ysizemode,M=!1===w,H=0;H<U.length;H++){for(x=0;x+2<7;x+=2){var C=U[H][x+1],W=U[H][x+2];void 0!==C&&void 0!==W&&(L=C,g=W,T&&(T.xaxis&&T.xaxis.p2r?(M&&(C-=T.xaxis._offset),C=q?a(T.xaxis,T.xanchor)+C:s(T.xaxis,C)):(M&&(C-=Z.l),I?C=I.x[0]+C/Z.w:C/=Z.w),T.yaxis&&T.yaxis.p2r?(M&&(W-=T.yaxis._offset),W=D?a(T.yaxis,T.yanchor)-W:s(T.yaxis,W)):(M&&(W-=Z.t),W=I?I.y[1]-W/Z.h:1-W/Z.h)),U[H][x+1]=C,U[H][x+2]=W)}b[k].push(U[H].slice())}}return b},B.pointsShapeRectangle=function(h){if(5!==h.length)return!1;for(var p=1;p<3;p++)if(!d(h[0][p]-h[1][p],h[3][p]-h[2][p])||!d(h[0][p]-h[3][p],h[1][p]-h[2][p]))return!1;return!(!d(h[0][1],h[1][1])&&!d(h[0][1],h[3][1])||!(f(h[0],h[1])*f(h[0],h[3])))},B.pointsShapeEllipse=function(h){var p=h.length;if(p!==o+1)return!1;p=o;for(var T=0;T<p;T++){var w=(2*p-T)%p,x=(p/2+w)%p;if(!d(f(h[T],h[(p/2+T)%p]),f(h[w],h[x])))return!1}return!0},B.handleEllipse=function(h,p,T){if(!h)return[p,T];var w=B.ellipseOver({x0:p[0],y0:p[1],x1:T[0],y1:T[1]}),x=(w.x1+w.x0)/2,m=(w.y1+w.y0)/2,y=(w.x1-w.x0)/2,A=(w.y1-w.y0)/2;y||(y=A/=e),A||(A=y/=e);for(var b=[],k=0;k<o;k++){var L=2*k*Math.PI/o;b.push([x+y*Math.cos(L),m+A*Math.sin(L)])}return b},B.ellipseOver=function(h){var p=h.x0,T=h.y0,w=h.x1,x=h.y1,m=w-p,y=x-T,A=((p-=m)+w)/2,b=((T-=y)+x)/2;return{x0:A-(m*=e),y0:b-(y*=e),x1:A+m,y1:b+y}}},{"../../../plots/cartesian/helpers":291,"./constants":188,"parse-svg-path":56}],192:[function(c,tt,B){"use strict";var t=c("../../dragelement/helpers"),l=t.drawMode,o=t.openMode,e=c("./constants"),n=e.i000,s=e.i090,a=e.i180,i=e.i270,r=e.cos45,d=e.sin45,f=c("../../../plots/cartesian/helpers"),h=f.p2r,p=f.r2p,T=c("../../../plots/cartesian/handle_outline").clearSelect,w=c("./helpers"),x=w.readPaths,m=w.writePaths,y=w.ellipseOver;tt.exports=function(A,b){if(A.length){var k=A[0][0];if(k){var L=k.getAttribute("d"),g=b.gd,S=g._fullLayout.newshape,E=b.plotinfo,v=E.xaxis,F=E.yaxis,N=!!E.domain||!E.xaxis,z=!!E.domain||!E.yaxis,U=b.isActiveShape,Y=b.dragmode,$=(g.layout||{}).shapes||[];if(!l(Y)&&void 0!==U){var ot=g._fullLayout._activeShapeIndex;if(ot<$.length)switch(g._fullLayout.shapes[ot].type){case"rect":Y="drawrect";break;case"circle":Y="drawcircle";break;case"line":Y="drawline";break;case"path":var G=$[ot].path||"";Y="Z"===G[G.length-1]?"drawclosedpath":"drawopenpath"}}var R,j=o(Y),P=x(L,g,E,U),I={editable:!0,xref:N?"paper":v._id,yref:z?"paper":F._id,layer:S.layer,opacity:S.opacity,line:{color:S.line.color,width:S.line.width,dash:S.line.dash}};if(j||(I.fillcolor=S.fillcolor,I.fillrule=S.fillrule),1===P.length&&(R=P[0]),R&&"drawrect"===Y)I.type="rect",I.x0=R[0][1],I.y0=R[0][2],I.x1=R[2][1],I.y1=R[2][2];else if(R&&"drawline"===Y)I.type="line",I.x0=R[0][1],I.y0=R[0][2],I.x1=R[1][1],I.y1=R[1][2];else if(R&&"drawcircle"===Y){I.type="circle";var Z=R[n][1],q=R[s][1],D=R[a][1],M=R[i][1],H=R[n][2],C=R[s][2],W=R[a][2],K=R[i][2],J=E.xaxis&&("date"===E.xaxis.type||"log"===E.xaxis.type),Q=E.yaxis&&("date"===E.yaxis.type||"log"===E.yaxis.type);J&&(Z=p(E.xaxis,Z),q=p(E.xaxis,q),D=p(E.xaxis,D),M=p(E.xaxis,M)),Q&&(H=p(E.yaxis,H),C=p(E.yaxis,C),W=p(E.yaxis,W),K=p(E.yaxis,K));var ut=(q+M)/2,ct=(H+W)/2,gt=y({x0:ut,y0:ct,x1:ut+(M-q+D-Z)/2*r,y1:ct+(K-C+W-H)/2*d});J&&(gt.x0=h(E.xaxis,gt.x0),gt.x1=h(E.xaxis,gt.x1)),Q&&(gt.y0=h(E.yaxis,gt.y0),gt.y1=h(E.yaxis,gt.y1)),I.x0=gt.x0,I.y0=gt.y0,I.x1=gt.x1,I.y1=gt.y1}else I.type="path",v&&F&&function(lt,rt,dt){var mt="date"===rt.type,Dt="date"===dt.type;if(!mt&&!Dt)return lt;for(var bt=0;bt<lt.length;bt++)for(var wt=0;wt<lt[bt].length;wt++)for(var Ot=0;Ot+2<lt[bt][wt].length;Ot+=2)mt&&(lt[bt][wt][Ot+1]=lt[bt][wt][Ot+1].replace(" ","_")),Dt&&(lt[bt][wt][Ot+2]=lt[bt][wt][Ot+2].replace(" ","_"))}(P,v,F),I.path=m(P),R=null;T(g);for(var vt=b.editHelpers,xt=(vt||{}).modifyItem,Tt=[],zt=0;zt<$.length;zt++){var Et=g._fullLayout.shapes[zt];if(Tt[zt]=Et._input,void 0!==U&&zt===g._fullLayout._activeShapeIndex){var At=I;switch(Et.type){case"line":case"rect":case"circle":xt("x0",At.x0),xt("x1",At.x1),xt("y0",At.y0),xt("y1",At.y1);break;case"path":xt("path",At.path)}}}return void 0===U?(Tt.push(I),Tt):vt?vt.getUpdateObj():{}}}}},{"../../../plots/cartesian/handle_outline":290,"../../../plots/cartesian/helpers":291,"../../dragelement/helpers":120,"./constants":188,"./helpers":191}],193:[function(c,tt,B){"use strict";var t=c("./constants"),l=c("../../lib");B.rangeToShapePosition=function(o){return"log"===o.type?o.r2d:function(e){return e}},B.shapePositionToRange=function(o){return"log"===o.type?o.d2r:function(e){return e}},B.decodeDate=function(o){return function(e){return e.replace&&(e=e.replace("_"," ")),o(e)}},B.encodeDate=function(o){return function(e){return o(e).replace(" ","_")}},B.extractPathCoords=function(o,e){var n=[];return o.match(t.segmentRE).forEach(function(s){var a=e[s.charAt(0)].drawn;if(void 0!==a){var i=s.substr(1).match(t.paramRE);!i||i.length<a||n.push(l.cleanNumber(i[a]))}}),n},B.getDataToPixel=function(o,e,n,s){var a,i=o._fullLayout._size;if(e)if("domain"===s)a=function(d){return e._length*(n?1-d:d)+e._offset};else{var r=B.shapePositionToRange(e);a=function(d){return e._offset+e.r2p(r(d,!0))},"date"===e.type&&(a=B.decodeDate(a))}else a=n?function(d){return i.t+i.h*(1-d)}:function(d){return i.l+i.w*d};return a},B.getPixelToData=function(o,e,n,s){var a,i=o._fullLayout._size;if(e)if("domain"===s)a=function(d){var f=(d-e._offset)/e._length;return n?1-f:f};else{var r=B.rangeToShapePosition(e);a=function(d){return r(e.p2r(d-e._offset))}}else a=n?function(d){return 1-(d-i.t)/i.h}:function(d){return(d-i.l)/i.w};return a},B.roundPositionForSharpStrokeRendering=function(o,e){var n=1===Math.round(e%2),s=Math.round(o);return n?s+.5:s},B.makeOptionsAndPlotinfo=function(o,e){var n=o._fullLayout.shapes[e]||{},s=o._fullLayout._plots[n.xref+n.yref];return s?s._hadPlotinfo=!0:(s={},n.xref&&"paper"!==n.xref&&(s.xaxis=o._fullLayout[n.xref+"axis"]),n.yref&&"paper"!==n.yref&&(s.yaxis=o._fullLayout[n.yref+"axis"])),s.xsizemode=n.xsizemode,s.ysizemode=n.ysizemode,s.xanchor=n.xanchor,s.yanchor=n.yanchor,{options:n,plotinfo:s}}},{"../../lib":232,"./constants":184}],194:[function(c,tt,B){"use strict";var t=c("./draw");tt.exports={moduleType:"component",name:"shapes",layoutAttributes:c("./attributes"),supplyLayoutDefaults:c("./defaults"),supplyDrawNewShapeDefaults:c("./draw_newshape/defaults"),includeBasePlot:c("../../plots/cartesian/include_components")("shapes"),calcAutorange:c("./calc_autorange"),draw:t.draw,drawOne:t.drawOne}},{"../../plots/cartesian/include_components":292,"./attributes":182,"./calc_autorange":183,"./defaults":185,"./draw":186,"./draw_newshape/defaults":189}],195:[function(c,tt,B){"use strict";var t=c("../../plots/font_attributes"),l=c("../../plots/pad_attributes"),o=c("../../lib/extend").extendDeepAll,e=c("../../plot_api/edit_types").overrideAll,n=c("../../plots/animation_attributes"),s=c("../../plot_api/plot_template").templatedArray,a=c("./constants"),i=s("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});tt.exports=e(s("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:i,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:o(l({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:n.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:t({})},font:t({}),activebgcolor:{valType:"color",dflt:a.gripBgActiveColor},bgcolor:{valType:"color",dflt:a.railBgColor},bordercolor:{valType:"color",dflt:a.railBorderColor},borderwidth:{valType:"number",min:0,dflt:a.railBorderWidth},ticklen:{valType:"number",min:0,dflt:a.tickLength},tickcolor:{valType:"color",dflt:a.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:a.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/animation_attributes":273,"../../plots/font_attributes":310,"../../plots/pad_attributes":315,"./constants":196}],196:[function(c,tt,B){"use strict";tt.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],197:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../plots/array_container_defaults"),o=c("./attributes"),e=c("./constants").name,n=o.steps;function s(i,r,d){function f(x,m){return t.coerce(i,r,o,x,m)}for(var h=l(i,r,{name:"steps",handleItemDefaults:a}),p=0,T=0;T<h.length;T++)h[T].visible&&p++;if(p<2?r.visible=!1:f("visible")){r._stepCount=p;var w=r._visibleSteps=t.filterVisible(h);(h[f("active")]||{}).visible||(r.active=w[0]._index),f("x"),f("y"),t.noneOrAll(i,r,["x","y"]),f("xanchor"),f("yanchor"),f("len"),f("lenmode"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),t.coerceFont(f,"font",d.font),f("currentvalue.visible")&&(f("currentvalue.xanchor"),f("currentvalue.prefix"),f("currentvalue.suffix"),f("currentvalue.offset"),t.coerceFont(f,"currentvalue.font",r.font)),f("transition.duration"),f("transition.easing"),f("bgcolor"),f("activebgcolor"),f("bordercolor"),f("borderwidth"),f("ticklen"),f("tickwidth"),f("tickcolor"),f("minorticklen")}}function a(i,r){function d(h,p){return t.coerce(i,r,n,h,p)}if("skip"===i.method||Array.isArray(i.args)?d("visible"):r.visible=!1){d("method"),d("args");var f=d("label","step-"+r._index);d("value",f),d("execute")}}tt.exports=function(i,r){l(i,r,{name:e,handleItemDefaults:s})}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":195,"./constants":196}],198:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../../plots/plots"),o=c("../color"),e=c("../drawing"),n=c("../../lib"),s=n.strTranslate,a=c("../../lib/svg_text_utils"),i=c("../../plot_api/plot_template").arrayEditor,r=c("./constants"),d=c("../../constants/alignment"),f=d.LINE_SPACING,h=d.FROM_TL,p=d.FROM_BR;function T(U){return r.autoMarginIdRoot+U._index}function w(U){return U._index}function x(U,Y){var $=e.tester.selectAll("g."+r.labelGroupClass).data(Y._visibleSteps);$.enter().append("g").classed(r.labelGroupClass,!0);var ot=0,G=0;$.each(function(H){var C=A(t.select(this),{step:H},Y).node();if(C){var W=e.bBox(C);G=Math.max(G,W.height),ot=Math.max(ot,W.width)}}),$.remove();var R=Y._dims={};R.inputAreaWidth=Math.max(r.railWidth,r.gripHeight);var j=U._fullLayout._size;if(R.lx=j.l+j.w*Y.x,R.ly=j.t+j.h*(1-Y.y),R.outerLength="fraction"===Y.lenmode?Math.round(j.w*Y.len):Y.len,R.inputAreaStart=0,R.inputAreaLength=Math.round(R.outerLength-Y.pad.l-Y.pad.r),R.labelStride=Math.max(1,Math.ceil((ot+r.labelPadding)/((R.inputAreaLength-2*r.stepInset)/(Y._stepCount-1)))),R.labelHeight=G,R.currentValueMaxWidth=0,R.currentValueHeight=0,R.currentValueTotalHeight=0,R.currentValueMaxLines=1,Y.currentvalue.visible){var Z=e.tester.append("g");$.each(function(H){var C=m(Z,Y,H.label),W=C.node()&&e.bBox(C.node())||{width:0,height:0},K=a.lineCount(C);R.currentValueMaxWidth=Math.max(R.currentValueMaxWidth,Math.ceil(W.width)),R.currentValueHeight=Math.max(R.currentValueHeight,Math.ceil(W.height)),R.currentValueMaxLines=Math.max(R.currentValueMaxLines,K)}),R.currentValueTotalHeight=R.currentValueHeight+Y.currentvalue.offset,Z.remove()}R.height=R.currentValueTotalHeight+r.tickOffset+Y.ticklen+r.labelOffset+R.labelHeight+Y.pad.t+Y.pad.b;var q="left";n.isRightAnchor(Y)&&(R.lx-=R.outerLength,q="right"),n.isCenterAnchor(Y)&&(R.lx-=R.outerLength/2,q="center");var D="top";n.isBottomAnchor(Y)&&(R.ly-=R.height,D="bottom"),n.isMiddleAnchor(Y)&&(R.ly-=R.height/2,D="middle"),R.outerLength=Math.ceil(R.outerLength),R.height=Math.ceil(R.height),R.lx=Math.round(R.lx),R.ly=Math.round(R.ly);var M={y:Y.y,b:R.height*p[D],t:R.height*h[D]};"fraction"===Y.lenmode?(M.l=0,M.xl=Y.x-Y.len*h[q],M.r=0,M.xr=Y.x+Y.len*p[q]):(M.x=Y.x,M.l=R.outerLength*h[q],M.r=R.outerLength*p[q]),l.autoMargin(U,T(Y),M)}function m(U,Y,$){if(Y.currentvalue.visible){var ot,G,R=Y._dims;switch(Y.currentvalue.xanchor){case"right":ot=R.inputAreaLength-r.currentValueInset-R.currentValueMaxWidth,G="left";break;case"center":ot=.5*R.inputAreaLength,G="middle";break;default:ot=r.currentValueInset,G="left"}var j=n.ensureSingle(U,"text",r.labelClass,function(M){M.attr({"text-anchor":G,"data-notex":1})}),P=Y.currentvalue.prefix?Y.currentvalue.prefix:"";if("string"==typeof $)P+=$;else{var I=Y.steps[Y.active].label,Z=Y._gd._fullLayout._meta;Z&&(I=n.templateString(I,Z)),P+=I}Y.currentvalue.suffix&&(P+=Y.currentvalue.suffix),j.call(e.font,Y.currentvalue.font).text(P).call(a.convertToTspans,Y._gd);var q=a.lineCount(j);return a.positionText(j,ot,(R.currentValueMaxLines+1-q)*Y.currentvalue.font.size*f),j}}function y(U,Y,$){n.ensureSingle(U,"rect",r.gripRectClass,function(ot){ot.call(g,Y,U,$).style("pointer-events","all")}).attr({width:r.gripWidth,height:r.gripHeight,rx:r.gripRadius,ry:r.gripRadius}).call(o.stroke,$.bordercolor).call(o.fill,$.bgcolor).style("stroke-width",$.borderwidth+"px")}function A(U,Y,$){var ot=n.ensureSingle(U,"text",r.labelClass,function(j){j.attr({"text-anchor":"middle","data-notex":1})}),G=Y.step.label,R=$._gd._fullLayout._meta;return R&&(G=n.templateString(G,R)),ot.call(e.font,$.font).text(G).call(a.convertToTspans,$._gd),ot}function b(U,Y){var $=n.ensureSingle(U,"g",r.labelsClass),ot=Y._dims,G=$.selectAll("g."+r.labelGroupClass).data(ot.labelSteps);G.enter().append("g").classed(r.labelGroupClass,!0),G.exit().remove(),G.each(function(R){var j=t.select(this);j.call(A,R,Y),e.setTranslate(j,v(Y,R.fraction),r.tickOffset+Y.ticklen+Y.font.size*f+r.labelOffset+ot.currentValueTotalHeight)})}function k(U,Y,$,ot,G){var R=Math.round(ot*($._stepCount-1)),j=$._visibleSteps[R]._index;j!==$.active&&L(U,Y,$,j,!0,G)}function L(U,Y,$,ot,G,R){var j=$.active;$.active=ot,i(U.layout,r.name,$).applyUpdate("active",ot);var P=$.steps[$.active];Y.call(E,$,R),Y.call(m,$),U.emit("plotly_sliderchange",{slider:$,step:$.steps[$.active],interaction:G,previousActive:j}),P&&P.method&&G&&(Y._nextMethod?(Y._nextMethod.step=P,Y._nextMethod.doCallback=G,Y._nextMethod.doTransition=R):(Y._nextMethod={step:P,doCallback:G,doTransition:R},Y._nextMethodRaf=window.requestAnimationFrame(function(){var I=Y._nextMethod.step;I.method&&(I.execute&&l.executeAPICommand(U,I.method,I.args),Y._nextMethod=null,Y._nextMethodRaf=null)})))}function g(U,Y,$){var ot=$.node(),G=t.select(Y);function R(){return $.data()[0]}function j(){var P=R();Y.emit("plotly_sliderstart",{slider:P});var I=$.select("."+r.gripRectClass);t.event.stopPropagation(),t.event.preventDefault(),I.call(o.fill,P.activebgcolor);var Z=F(P,t.mouse(ot)[0]);function q(){var M=R(),H=F(M,t.mouse(ot)[0]);k(Y,$,M,H,!1)}function D(){var M=R();M._dragging=!1,I.call(o.fill,M.bgcolor),G.on("mouseup",null),G.on("mousemove",null),G.on("touchend",null),G.on("touchmove",null),Y.emit("plotly_sliderend",{slider:M,step:M.steps[M.active]})}k(Y,$,P,Z,!0),P._dragging=!0,G.on("mousemove",q),G.on("touchmove",q),G.on("mouseup",D),G.on("touchend",D)}U.on("mousedown",j),U.on("touchstart",j)}function S(U,Y){var $=U.selectAll("rect."+r.tickRectClass).data(Y._visibleSteps),ot=Y._dims;$.enter().append("rect").classed(r.tickRectClass,!0),$.exit().remove(),$.attr({width:Y.tickwidth+"px","shape-rendering":"crispEdges"}),$.each(function(G,R){var j=R%ot.labelStride==0,P=t.select(this);P.attr({height:j?Y.ticklen:Y.minorticklen}).call(o.fill,Y.tickcolor),e.setTranslate(P,v(Y,R/(Y._stepCount-1))-.5*Y.tickwidth,(j?r.tickOffset:r.minorTickOffset)+ot.currentValueTotalHeight)})}function E(U,Y,$){for(var ot=U.select("rect."+r.gripRectClass),G=0,R=0;R<Y._stepCount;R++)if(Y._visibleSteps[R]._index===Y.active){G=R;break}var j=v(Y,G/(Y._stepCount-1));if(!Y._invokingCommand){var P=ot;$&&Y.transition.duration>0&&(P=P.transition().duration(Y.transition.duration).ease(Y.transition.easing)),P.attr("transform",s(j-.5*r.gripWidth,Y._dims.currentValueTotalHeight))}}function v(U,Y){var $=U._dims;return $.inputAreaStart+r.stepInset+($.inputAreaLength-2*r.stepInset)*Math.min(1,Math.max(0,Y))}function F(U,Y){var $=U._dims;return Math.min(1,Math.max(0,(Y-r.stepInset-$.inputAreaStart)/($.inputAreaLength-2*r.stepInset-2*$.inputAreaStart)))}function N(U,Y,$){var ot=$._dims,G=n.ensureSingle(U,"rect",r.railTouchRectClass,function(R){R.call(g,Y,U,$).style("pointer-events","all")});G.attr({width:ot.inputAreaLength,height:Math.max(ot.inputAreaWidth,r.tickOffset+$.ticklen+ot.labelHeight)}).call(o.fill,$.bgcolor).attr("opacity",0),e.setTranslate(G,0,ot.currentValueTotalHeight)}function z(U,Y){var $=Y._dims,ot=$.inputAreaLength-2*r.railInset,G=n.ensureSingle(U,"rect",r.railRectClass);G.attr({width:ot,height:r.railWidth,rx:r.railRadius,ry:r.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,Y.bordercolor).call(o.fill,Y.bgcolor).style("stroke-width",Y.borderwidth+"px"),e.setTranslate(G,r.railInset,.5*($.inputAreaWidth-r.railWidth)+$.currentValueTotalHeight)}tt.exports=function(U){var Y=U._fullLayout,$=function(I,Z){for(var q=I[r.name],D=[],M=0;M<q.length;M++){var H=q[M];H.visible&&(H._gd=Z,D.push(H))}return D}(Y,U),ot=Y._infolayer.selectAll("g."+r.containerClassName).data($.length>0?[0]:[]);function G(I){I._commandObserver&&(I._commandObserver.remove(),delete I._commandObserver),l.autoMargin(U,T(I))}if(ot.enter().append("g").classed(r.containerClassName,!0).style("cursor","ew-resize"),ot.exit().each(function(){t.select(this).selectAll("g."+r.groupClassName).each(G)}).remove(),0!==$.length){var R=ot.selectAll("g."+r.groupClassName).data($,w);R.enter().append("g").classed(r.groupClassName,!0),R.exit().each(G).remove();for(var j=0;j<$.length;j++)x(U,$[j]);R.each(function(I){var Z=t.select(this);(function(q){var D=q._dims;D.labelSteps=[];for(var M=q._stepCount,H=0;H<M;H+=D.labelStride)D.labelSteps.push({fraction:H/(M-1),step:q._visibleSteps[H]})})(I),l.manageCommandObserver(U,I,I._visibleSteps,function(q){var D=Z.data()[0];D.active!==q.index&&(D._dragging||L(U,Z,D,q.index,!1,!0))}),function(q,D,M){(M.steps[M.active]||{}).visible||(M.active=M._visibleSteps[0]._index),D.call(m,M).call(z,M).call(b,M).call(S,M).call(N,q,M).call(y,q,M);var H=M._dims;e.setTranslate(D,H.lx+M.pad.l,H.ly+M.pad.t),D.call(E,M,!1),D.call(m,M)}(U,t.select(this),I)})}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":316,"../color":102,"../drawing":124,"./constants":196,"@plotly/d3":11}],199:[function(c,tt,B){"use strict";var t=c("./constants");tt.exports={moduleType:"component",name:t.name,layoutAttributes:c("./attributes"),supplyLayoutDefaults:c("./defaults"),draw:c("./draw")}},{"./attributes":195,"./constants":196,"./defaults":197,"./draw":198}],200:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("fast-isnumeric"),o=c("../../plots/plots"),e=c("../../registry"),n=c("../../lib"),s=n.strTranslate,a=c("../drawing"),i=c("../color"),r=c("../../lib/svg_text_utils"),d=c("../../constants/interactions"),f=c("../../constants/alignment").OPPOSITE_SIDE,h=/ [XY][0-9]* /;tt.exports={draw:function(p,T,w){var x,y=w.propName,A=w.placeholder,b=w.traceIndex,k=w.avoid||{},L=w.attributes,g=w.transform,S=w.containerGroup,E=p._fullLayout,v=1,F=!1,N=w.propContainer.title,z=(N&&N.text?N.text:"").trim(),U=N&&N.font?N.font:{},Y=U.family,$=U.size,ot=U.color;"title.text"===y?x="titleText":-1!==y.indexOf("axis")?x="axisTitleText":y.indexOf(!0)&&(x="colorbarTitleText");var G=p._context.edits[x];""===z?v=0:z.replace(h," % ")===A.replace(h," % ")&&(v=.2,F=!0,G||(z="")),w._meta?z=n.templateString(z,w._meta):E._meta&&(z=n.templateString(z,E._meta));var R,j=z||G;S||(S=n.ensureSingle(E._infolayer,"g","g-"+T),R=E._hColorbarMoveTitle);var P=S.selectAll("text").data(j?[0]:[]);if(P.enter().append("text"),P.text(z).attr("class",T),P.exit().remove(),!j)return S;function I(D){n.syncOrAsync([Z,q],D)}function Z(D){var M;return!g&&R&&(g={}),g?(M="",g.rotate&&(M+="rotate("+[g.rotate,L.x,L.y]+")"),(g.offset||R)&&(M+=s(0,(g.offset||0)-(R||0)))):M=null,D.attr("transform",M),D.style({"font-family":Y,"font-size":t.round($,2)+"px",fill:i.rgb(ot),opacity:v*i.opacity(ot),"font-weight":o.fontWeight}).attr(L).call(r.convertToTspans,p),o.previousPromises(p)}function q(D){var M=t.select(D.node().parentNode);if(k&&k.selection&&k.side&&z){M.attr("transform",null);var H=f[k.side],C="left"===k.side||"top"===k.side?-1:1,W=l(k.pad)?k.pad:2,K=a.bBox(M.node()),Q=k.maxShift||C*({left:0,top:0,right:E.width,bottom:E.height}[k.side]-K[k.side]),ut=0;if(Q<0)ut=Q;else{var ct=k.offsetLeft||0,gt=k.offsetTop||0;K.left-=ct,K.right-=ct,K.top-=gt,K.bottom-=gt,k.selection.each(function(){var xt=a.bBox(this);n.bBoxIntersect(K,xt,W)&&(ut=Math.max(ut,C*(xt[k.side]-K[H])+W))}),ut=Math.min(Q,ut)}if(ut>0||Q<0){var vt={left:[-ut,0],right:[ut,0],top:[0,-ut],bottom:[0,ut]}[k.side];M.attr("transform",s(vt[0],vt[1]))}}}return P.call(I),G&&(z?P.on(".opacity",null):(v=0,F=!0,P.text(A).on("mouseover.opacity",function(){t.select(this).transition().duration(d.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){t.select(this).transition().duration(d.HIDE_PLACEHOLDER).style("opacity",0)})),P.call(r.makeEditable,{gd:p}).on("edit",function(D){void 0!==b?e.call("_guiRestyle",p,y,D,b):e.call("_guiRelayout",p,y,D)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(I)}).on("input",function(D){this.text(D||" ").call(r.positionText,L.x,L.y)})),P.classed("js-placeholder",F),S}}},{"../../constants/alignment":207,"../../constants/interactions":211,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"../color":102,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],201:[function(c,tt,B){"use strict";var t=c("../../plots/font_attributes"),l=c("../color/attributes"),o=c("../../lib/extend").extendFlat,e=c("../../plot_api/edit_types").overrideAll,n=c("../../plots/pad_attributes"),s=c("../../plot_api/plot_template").templatedArray,a=s("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});tt.exports=e(s("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:a,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:o(n({editType:"arraydraw"}),{}),font:t({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:l.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/font_attributes":310,"../../plots/pad_attributes":315,"../color/attributes":101}],202:[function(c,tt,B){"use strict";tt.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},{}],203:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../plots/array_container_defaults"),o=c("./attributes"),e=c("./constants").name,n=o.buttons;function s(i,r,d){function f(h,p){return t.coerce(i,r,o,h,p)}f("visible",l(i,r,{name:"buttons",handleItemDefaults:a}).length>0)&&(f("active"),f("direction"),f("type"),f("showactive"),f("x"),f("y"),t.noneOrAll(i,r,["x","y"]),f("xanchor"),f("yanchor"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),t.coerceFont(f,"font",d.font),f("bgcolor",d.paper_bgcolor),f("bordercolor"),f("borderwidth"))}function a(i,r){function d(f,h){return t.coerce(i,r,n,f,h)}d("visible","skip"===i.method||Array.isArray(i.args))&&(d("method"),d("args"),d("args2"),d("label"),d("execute"))}tt.exports=function(i,r){l(i,r,{name:e,handleItemDefaults:s})}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":201,"./constants":202}],204:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../../plots/plots"),o=c("../color"),e=c("../drawing"),n=c("../../lib"),s=c("../../lib/svg_text_utils"),a=c("../../plot_api/plot_template").arrayEditor,i=c("../../constants/alignment").LINE_SPACING,r=c("./constants"),d=c("./scrollbox");function f(v){return v._index}function h(v,F){return+v.attr(r.menuIndexAttrName)===F._index}function p(v,F,N,z,U,Y,$,ot){F.active=$,a(v.layout,r.name,F).applyUpdate("active",$),"buttons"===F.type?w(v,z,null,null,F):"dropdown"===F.type&&(U.attr(r.menuIndexAttrName,"-1"),T(v,z,U,Y,F),ot||w(v,z,U,Y,F))}function T(v,F,N,z,U){var Y=n.ensureSingle(F,"g",r.headerClassName,function(P){P.style("pointer-events","all")}),$=U._dims,R={y:U.pad.t,yPad:0,x:U.pad.l,xPad:0,index:0},j={width:$.headerWidth,height:$.headerHeight};Y.call(x,U,U.buttons[U.active]||r.blankHeaderOpts,v).call(S,U,R,j),n.ensureSingle(F,"text",r.headerArrowClassName,function(P){P.attr("text-anchor","end").call(e.font,U.font).text(r.arrowSymbol[U.direction])}).attr({x:$.headerWidth-r.arrowOffsetX+U.pad.l,y:$.headerHeight/2+r.textOffsetY+U.pad.t}),Y.on("click",function(){N.call(E,String(h(N,U)?-1:U._index)),w(v,F,N,z,U)}),Y.on("mouseover",function(){Y.call(b)}),Y.on("mouseout",function(){Y.call(k,U)}),e.setTranslate(F,$.lx,$.ly)}function w(v,F,N,z,U){N||(N=F).attr("pointer-events","all");var Y=-1==+N.attr(r.menuIndexAttrName)&&"buttons"!==U.type?[]:U.buttons,$="dropdown"===U.type?r.dropdownButtonClassName:r.buttonClassName,ot=N.selectAll("g."+$).data(n.filterVisible(Y)),G=ot.enter().append("g").classed($,!0),R=ot.exit();"dropdown"===U.type?(G.attr("opacity","0").transition().attr("opacity","1"),R.transition().attr("opacity","0").remove()):R.remove();var j=0,P=0,I=U._dims,Z=-1!==["up","down"].indexOf(U.direction);"dropdown"===U.type&&(Z?P=I.headerHeight+r.gapButtonHeader:j=I.headerWidth+r.gapButtonHeader),"dropdown"===U.type&&"up"===U.direction&&(P=-r.gapButtonHeader+r.gapButton-I.openHeight),"dropdown"===U.type&&"left"===U.direction&&(j=-r.gapButtonHeader+r.gapButton-I.openWidth);var M,H,C,q={x:I.lx+j+U.pad.l,y:I.ly+P+U.pad.t,yPad:r.gapButton,xPad:r.gapButton,index:0},D={l:q.x+U.borderwidth,t:q.y+U.borderwidth};ot.each(function(M,H){var C=t.select(this);C.call(x,U,M,v).call(S,U,q),C.on("click",function(){t.event.defaultPrevented||(M.execute&&(M.args2&&U.active===H?(p(v,U,0,F,N,z,-1),l.executeAPICommand(v,M.method,M.args2)):(p(v,U,0,F,N,z,H),l.executeAPICommand(v,M.method,M.args))),v.emit("plotly_buttonclicked",{menu:U,button:M,active:U.active}))}),C.on("mouseover",function(){C.call(b)}),C.on("mouseout",function(){C.call(k,U),ot.call(A,U)})}),ot.call(A,U),Z?(D.w=Math.max(I.openWidth,I.headerWidth),D.h=q.y-D.t):(D.w=q.x-D.l,D.h=Math.max(I.openHeight,I.headerHeight)),D.direction=U.direction,z&&(ot.size()?function(M,H,C,W,K,J){var Q,ut,ct,gt=K.direction,xt=K._dims,Tt=K.active;if("up"===gt||"down"===gt)for(ut=0,ct=0;ct<Tt;ct++)ut+=xt.heights[ct]+r.gapButton;else for(Q=0,ct=0;ct<Tt;ct++)Q+=xt.widths[ct]+r.gapButton;W.enable(J,Q,ut),W.hbar&&W.hbar.attr("opacity","0").transition().attr("opacity","1"),W.vbar&&W.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,z,U,D):(C=!!(M=z).vbar,(H=!!M.hbar)&&M.hbar.transition().attr("opacity","0").each("end",function(){H=!1,C||M.disable()}),C&&M.vbar.transition().attr("opacity","0").each("end",function(){C=!1,H||M.disable()})))}function x(v,F,N,z){v.call(m,F).call(y,F,N,z)}function m(v,F){n.ensureSingle(v,"rect",r.itemRectClassName,function(N){N.attr({rx:r.rx,ry:r.ry,"shape-rendering":"crispEdges"})}).call(o.stroke,F.bordercolor).call(o.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px")}function y(v,F,N,z){var U=n.ensureSingle(v,"text",r.itemTextClassName,function(ot){ot.attr({"text-anchor":"start","data-notex":1})}),Y=N.label,$=z._fullLayout._meta;$&&(Y=n.templateString(Y,$)),U.call(e.font,F.font).text(Y).call(s.convertToTspans,z)}function A(v,F){var N=F.active;v.each(function(z,U){var Y=t.select(this);U===N&&F.showactive&&Y.select("rect."+r.itemRectClassName).call(o.fill,r.activeColor)})}function b(v){v.select("rect."+r.itemRectClassName).call(o.fill,r.hoverColor)}function k(v,F){v.select("rect."+r.itemRectClassName).call(o.fill,F.bgcolor)}function L(v,F){var N=F._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},z=e.tester.selectAll("g."+r.dropdownButtonClassName).data(n.filterVisible(F.buttons));z.enter().append("g").classed(r.dropdownButtonClassName,!0);var U=-1!==["up","down"].indexOf(F.direction);z.each(function(j,P){var I=t.select(this);I.call(x,F,j,v);var Z=I.select("."+r.itemTextClassName),q=Z.node()&&e.bBox(Z.node()).width,D=Math.max(q+r.textPadX,r.minWidth),M=F.font.size*i,H=s.lineCount(Z),C=Math.max(M*H,r.minHeight)+r.textOffsetY;C=Math.ceil(C),D=Math.ceil(D),N.widths[P]=D,N.heights[P]=C,N.height1=Math.max(N.height1,C),N.width1=Math.max(N.width1,D),U?(N.totalWidth=Math.max(N.totalWidth,D),N.openWidth=N.totalWidth,N.totalHeight+=C+r.gapButton,N.openHeight+=C+r.gapButton):(N.totalWidth+=D+r.gapButton,N.openWidth+=D+r.gapButton,N.totalHeight=Math.max(N.totalHeight,C),N.openHeight=N.totalHeight)}),U?N.totalHeight-=r.gapButton:N.totalWidth-=r.gapButton,N.headerWidth=N.width1+r.arrowPadX,N.headerHeight=N.height1,"dropdown"===F.type&&(U?(N.width1+=r.arrowPadX,N.totalHeight=N.height1):N.totalWidth=N.width1,N.totalWidth+=r.arrowPadX),z.remove();var Y=N.totalWidth+F.pad.l+F.pad.r,$=N.totalHeight+F.pad.t+F.pad.b,ot=v._fullLayout._size;N.lx=ot.l+ot.w*F.x,N.ly=ot.t+ot.h*(1-F.y);var G="left";n.isRightAnchor(F)&&(N.lx-=Y,G="right"),n.isCenterAnchor(F)&&(N.lx-=Y/2,G="center");var R="top";n.isBottomAnchor(F)&&(N.ly-=$,R="bottom"),n.isMiddleAnchor(F)&&(N.ly-=$/2,R="middle"),N.totalWidth=Math.ceil(N.totalWidth),N.totalHeight=Math.ceil(N.totalHeight),N.lx=Math.round(N.lx),N.ly=Math.round(N.ly),l.autoMargin(v,g(F),{x:F.x,y:F.y,l:Y*({right:1,center:.5}[G]||0),r:Y*({left:1,center:.5}[G]||0),b:$*({top:1,middle:.5}[R]||0),t:$*({bottom:1,middle:.5}[R]||0)})}function g(v){return r.autoMarginIdRoot+v._index}function S(v,F,N,z){z=z||{};var U=v.select("."+r.itemRectClassName),Y=v.select("."+r.itemTextClassName),$=F.borderwidth,ot=N.index,G=F._dims;e.setTranslate(v,$+N.x,$+N.y);var R=-1!==["up","down"].indexOf(F.direction),j=z.height||(R?G.heights[ot]:G.height1);U.attr({x:0,y:0,width:z.width||(R?G.width1:G.widths[ot]),height:j});var P=F.font.size*i,I=(s.lineCount(Y)-1)*P/2;s.positionText(Y,r.textOffsetX,j/2-I+r.textOffsetY),R?N.y+=G.heights[ot]+N.yPad:N.x+=G.widths[ot]+N.xPad,N.index++}function E(v,F){v.attr(r.menuIndexAttrName,F||"-1").selectAll("g."+r.dropdownButtonClassName).remove()}tt.exports=function(v){var F=v._fullLayout,N=n.filterVisible(F[r.name]);function z(P){l.autoMargin(v,g(P))}var U=F._menulayer.selectAll("g."+r.containerClassName).data(N.length>0?[0]:[]);if(U.enter().append("g").classed(r.containerClassName,!0).style("cursor","pointer"),U.exit().each(function(){t.select(this).selectAll("g."+r.headerGroupClassName).each(z)}).remove(),0!==N.length){var Y=U.selectAll("g."+r.headerGroupClassName).data(N,f);Y.enter().append("g").classed(r.headerGroupClassName,!0);for(var $=n.ensureSingle(U,"g",r.dropdownButtonGroupClassName,function(P){P.style("pointer-events","all")}),ot=0;ot<N.length;ot++)L(v,N[ot]);var j=new d(v,$,"updatemenus"+F._uid);Y.enter().size()&&($.node().parentNode.appendChild($.node()),$.call(E)),Y.exit().each(function(P){$.call(E),z(P)}).remove(),Y.each(function(P){var I=t.select(this),Z="dropdown"===P.type?$:null;l.manageCommandObserver(v,P,P.buttons,function(q){p(v,P,0,I,Z,j,q.index,!0)}),"dropdown"===P.type?(T(v,I,$,j,P),h($,P)&&w(v,I,$,j,P)):w(v,I,null,null,P)})}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":316,"../color":102,"../drawing":124,"./constants":202,"./scrollbox":206,"@plotly/d3":11}],205:[function(c,tt,B){arguments[4][199][0].apply(B,arguments)},{"./attributes":201,"./constants":202,"./defaults":203,"./draw":204,dup:199}],206:[function(c,tt,B){"use strict";tt.exports=n;var t=c("@plotly/d3"),l=c("../color"),o=c("../drawing"),e=c("../../lib");function n(s,a,i){this.gd=s,this.container=a,this.id=i,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}n.barWidth=2,n.barLength=20,n.barRadius=2,n.barPad=1,n.barColor="#808BA4",n.prototype.enable=function(s,a,i){var r=this.gd._fullLayout,d=r.width,f=r.height;this.position=s;var h,p,T,w,x=this.position.l,m=this.position.w,y=this.position.t,A=this.position.h,b=this.position.direction,k="down"===b,L="left"===b,g="up"===b,S=m,E=A;k||L||"right"===b||g||(this.position.direction="down",k=!0),k||g?(p=(h=x)+S,k?(T=y,E=(w=Math.min(T+E,f))-T):E=(w=y+E)-(T=Math.max(w-E,0))):(w=(T=y)+E,L?S=(p=x+S)-(h=Math.max(p-S,0)):(h=x,S=(p=Math.min(h+S,d))-h)),this._box={l:h,t:T,w:S,h:E};var v=m>S,F=n.barLength+2*n.barPad,N=n.barWidth+2*n.barPad,z=x,U=y+A;U+N>f&&(U=f-N);var Y=this.container.selectAll("rect.scrollbar-horizontal").data(v?[0]:[]);Y.exit().on(".drag",null).remove(),Y.enter().append("rect").classed("scrollbar-horizontal",!0).call(l.fill,n.barColor),v?(this.hbar=Y.attr({rx:n.barRadius,ry:n.barRadius,x:z,y:U,width:F,height:N}),this._hbarXMin=z+F/2,this._hbarTranslateMax=S-F):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var $=A>E,ot=n.barWidth+2*n.barPad,G=n.barLength+2*n.barPad,R=x+m,j=y;R+ot>d&&(R=d-ot);var P=this.container.selectAll("rect.scrollbar-vertical").data($?[0]:[]);P.exit().on(".drag",null).remove(),P.enter().append("rect").classed("scrollbar-vertical",!0).call(l.fill,n.barColor),$?(this.vbar=P.attr({rx:n.barRadius,ry:n.barRadius,x:R,y:j,width:ot,height:G}),this._vbarYMin=j+G/2,this._vbarTranslateMax=E-G):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var I=this.id,Z=h-.5,q=$?p+ot+.5:p+.5,D=T-.5,M=v?w+N+.5:w+.5,H=r._topdefs.selectAll("#"+I).data(v||$?[0]:[]);if(H.exit().remove(),H.enter().append("clipPath").attr("id",I).append("rect"),v||$?(this._clipRect=H.select("rect").attr({x:Math.floor(Z),y:Math.floor(D),width:Math.ceil(q)-Math.floor(Z),height:Math.ceil(M)-Math.floor(D)}),this.container.call(o.setClipUrl,I,this.gd),this.bg.attr({x,y,width:m,height:A})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),v||$){var C=t.behavior.drag().on("dragstart",function(){t.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(C);var W=t.behavior.drag().on("dragstart",function(){t.event.sourceEvent.preventDefault(),t.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));v&&this.hbar.on(".drag",null).call(W),$&&this.vbar.on(".drag",null).call(W)}this.setTranslate(a,i)},n.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},n.prototype._onBoxDrag=function(){var s=this.translateX,a=this.translateY;this.hbar&&(s-=t.event.dx),this.vbar&&(a-=t.event.dy),this.setTranslate(s,a)},n.prototype._onBoxWheel=function(){var s=this.translateX,a=this.translateY;this.hbar&&(s+=t.event.deltaY),this.vbar&&(a+=t.event.deltaY),this.setTranslate(s,a)},n.prototype._onBarDrag=function(){var s=this.translateX,a=this.translateY;if(this.hbar){var i=s+this._hbarXMin,r=i+this._hbarTranslateMax;s=(e.constrain(t.event.x,i,r)-i)/(r-i)*(this.position.w-this._box.w)}if(this.vbar){var d=a+this._vbarYMin,f=d+this._vbarTranslateMax;a=(e.constrain(t.event.y,d,f)-d)/(f-d)*(this.position.h-this._box.h)}this.setTranslate(s,a)},n.prototype.setTranslate=function(s,a){var i=this.position.w-this._box.w,r=this.position.h-this._box.h;s=e.constrain(s||0,0,i),a=e.constrain(a||0,0,r),this.translateX=s,this.translateY=a,this.container.call(o.setTranslate,this._box.l-this.position.l-s,this._box.t-this.position.t-a),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+s-.5),y:Math.floor(this.position.t+a-.5)}),this.hbar&&this.hbar.call(o.setTranslate,s+s/i*this._hbarTranslateMax,a),this.vbar&&this.vbar.call(o.setTranslate,s,a+a/r*this._vbarTranslateMax)}},{"../../lib":232,"../color":102,"../drawing":124,"@plotly/d3":11}],207:[function(c,tt,B){"use strict";tt.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],208:[function(c,tt,B){"use strict";tt.exports={axisRefDescription:function(t,l,o){return["If set to a",t,"axis id (e.g. *"+t+"* or","*"+t+"2*), the `"+t+"` position refers to a",t,"coordinate. If set to *paper*, the `"+t+"`","position refers to the distance from the",l,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",l,"("+o+"). If set to a",t,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",l,"of the domain of that axis: e.g.,","*"+t+"2 domain* refers to the domain of the second",t," axis and a",t,"position of 0.5 refers to the","point between the",l,"and the",o,"of the domain of the","second",t,"axis."].join(" ")}}},{}],209:[function(c,tt,B){"use strict";tt.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},{}],210:[function(c,tt,B){"use strict";tt.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},{}],211:[function(c,tt,B){"use strict";tt.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],212:[function(c,tt,B){"use strict";tt.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},{}],213:[function(c,tt,B){"use strict";B.xmlns="http://www.w3.org/2000/xmlns/",B.svg="http://www.w3.org/2000/svg",B.xlink="http://www.w3.org/1999/xlink",B.svgAttrs={xmlns:B.svg,"xmlns:xlink":B.xlink}},{}],214:[function(c,tt,B){"use strict";B.version=c("./version").version,c("native-promise-only"),c("../build/plotcss");for(var t=c("./registry"),l=B.register=t.register,o=c("./plot_api"),e=Object.keys(o),n=0;n<e.length;n++){var s=e[n];"_"!==s.charAt(0)&&(B[s]=o[s]),l({moduleType:"apiMethod",name:s,fn:o[s]})}l(c("./traces/scatter")),l([c("./components/legend"),c("./components/fx"),c("./components/annotations"),c("./components/annotations3d"),c("./components/shapes"),c("./components/images"),c("./components/updatemenus"),c("./components/sliders"),c("./components/rangeslider"),c("./components/rangeselector"),c("./components/grid"),c("./components/errorbars"),c("./components/colorscale"),c("./components/colorbar"),c("./components/modebar")]),l([c("./locale-en"),c("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(l(window.PlotlyLocales),delete window.PlotlyLocales),B.Icons=c("./fonts/ploticon");var a=c("./components/fx"),i=c("./plots/plots");B.Plots={resize:i.resize,graphJson:i.graphJson,sendDataToCloud:i.sendDataToCloud},B.Fx={hover:a.hover,unhover:a.unhover,loneHover:a.loneHover,loneUnhover:a.loneUnhover},B.Snapshot=c("./snapshot"),B.PlotSchema=c("./plot_api/plot_schema")},{"../build/plotcss":1,"./components/annotations":93,"./components/annotations3d":98,"./components/colorbar":108,"./components/colorscale":114,"./components/errorbars":130,"./components/fx":142,"./components/grid":146,"./components/images":151,"./components/legend":159,"./components/modebar":165,"./components/rangeselector":173,"./components/rangeslider":180,"./components/shapes":194,"./components/sliders":199,"./components/updatemenus":205,"./fonts/ploticon":215,"./locale-en":259,"./locale-en-us":258,"./plot_api":263,"./plot_api/plot_schema":267,"./plots/plots":316,"./registry":318,"./snapshot":323,"./traces/scatter":370,"./version":391,"native-promise-only":54}],215:[function(c,tt,B){"use strict";tt.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},{}],216:[function(c,tt,B){"use strict";B.isLeftAnchor=function(t){return"left"===t.xanchor||"auto"===t.xanchor&&t.x<=1/3},B.isCenterAnchor=function(t){return"center"===t.xanchor||"auto"===t.xanchor&&t.x>1/3&&t.x<2/3},B.isRightAnchor=function(t){return"right"===t.xanchor||"auto"===t.xanchor&&t.x>=2/3},B.isTopAnchor=function(t){return"top"===t.yanchor||"auto"===t.yanchor&&t.y>=2/3},B.isMiddleAnchor=function(t){return"middle"===t.yanchor||"auto"===t.yanchor&&t.y>1/3&&t.y<2/3},B.isBottomAnchor=function(t){return"bottom"===t.yanchor||"auto"===t.yanchor&&t.y<=1/3}},{}],217:[function(c,tt,B){"use strict";var t=c("./mod"),l=t.mod,o=t.modHalf,e=Math.PI,n=2*e;function s(d){return Math.abs(d[1]-d[0])>n-1e-14}function a(d,f){return o(f-d,n)}function i(d,f){if(s(f))return!0;var h,p;f[0]<f[1]?(h=f[0],p=f[1]):(h=f[1],p=f[0]),(h=l(h,n))>(p=l(p,n))&&(p+=n);var T=l(d,n),w=T+n;return T>=h&&T<=p||w>=h&&w<=p}function r(d,f,h,p,T,w,x){T=T||0,w=w||0;var m,y,A,b,k,L=s([h,p]);function g(F,N){return[F*Math.cos(N)+T,w-F*Math.sin(N)]}L?(m=0,y=e,A=n):h<p?(m=h,A=p):(m=p,A=h),d<f?(b=d,k=f):(b=f,k=d);var S,E=Math.abs(A-m)<=e?0:1;function v(F,N,z){return"A"+[F,F]+" "+[0,E,z]+" "+g(F,N)}return L?S=null===b?"M"+g(k,m)+v(k,y,0)+v(k,A,0)+"Z":"M"+g(b,m)+v(b,y,0)+v(b,A,0)+"ZM"+g(k,m)+v(k,y,1)+v(k,A,1)+"Z":null===b?(S="M"+g(k,m)+v(k,A,0),x&&(S+="L0,0Z")):S="M"+g(b,m)+"L"+g(k,m)+v(k,A,0)+"L"+g(b,A)+v(b,m,1)+"Z",S}tt.exports={deg2rad:function(d){return d/180*e},rad2deg:function(d){return d/e*180},angleDelta:a,angleDist:function(d,f){return Math.abs(a(d,f))},isFullCircle:s,isAngleInsideSector:i,isPtInsideSector:function(d,f,h,p){return!!i(f,p)&&(h[0]<h[1]?(T=h[0],w=h[1]):(T=h[1],w=h[0]),d>=T&&d<=w);var T,w},pathArc:function(d,f,h,p,T){return r(null,d,f,h,p,T,0)},pathSector:function(d,f,h,p,T){return r(null,d,f,h,p,T,1)},pathAnnulus:function(d,f,h,p,T,w){return r(d,f,h,p,T,w,1)}}},{"./mod":239}],218:[function(c,tt,B){"use strict";var t=Array.isArray,l=ArrayBuffer,o=DataView;function e(a){return l.isView(a)&&!(a instanceof o)}function n(a){return t(a)||e(a)}function s(a,i,r){if(n(a)){if(n(a[0])){for(var d=r,f=0;f<a.length;f++)d=i(d,a[f].length);return d}return a.length}return 0}B.isTypedArray=e,B.isArrayOrTypedArray=n,B.isArray1D=function(a){return!n(a[0])},B.ensureArray=function(a,i){return t(a)||(a=[]),a.length=i,a},B.concat=function(){var a,i,r,d,f,h,p,T,w=[],x=!0,m=0;for(r=0;r<arguments.length;r++)(h=(d=arguments[r]).length)&&(i?w.push(d):(i=d,f=h),t(d)?a=!1:(x=!1,m?a!==d.constructor&&(a=!1):a=d.constructor),m+=h);if(!m)return[];if(!w.length)return i;if(x)return i.concat.apply(i,w);if(a){for((p=new a(m)).set(i),r=0;r<w.length;r++)p.set(d=w[r],f),f+=d.length;return p}for(p=new Array(m),T=0;T<i.length;T++)p[T]=i[T];for(r=0;r<w.length;r++){for(d=w[r],T=0;T<d.length;T++)p[f+T]=d[T];f+=T}return p},B.maxRowLength=function(a){return s(a,Math.max,0)},B.minRowLength=function(a){return s(a,Math.min,1/0)}},{}],219:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("../constants/numerical").BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;tt.exports=function(e){return"string"==typeof e&&(e=e.replace(o,"")),t(e)?Number(e):l}},{"../constants/numerical":212,"fast-isnumeric":17}],220:[function(c,tt,B){"use strict";tt.exports=function(t){var l=t._fullLayout;l._glcanvas&&l._glcanvas.size()&&l._glcanvas.each(function(o){o.regl&&o.regl.clear({color:!0,depth:!0})})}},{}],221:[function(c,tt,B){"use strict";tt.exports=function(t){t._responsiveChartHandler&&(window.removeEventListener("resize",t._responsiveChartHandler),delete t._responsiveChartHandler)}},{}],222:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("tinycolor2"),o=c("../plots/attributes"),e=c("../components/colorscale/scales"),n=c("../components/color"),s=c("../constants/interactions").DESELECTDIM,a=c("./nested_property"),i=c("./regex").counter,r=c("./mod").modHalf,d=c("./array").isArrayOrTypedArray;function f(h,p){var T=B.valObjectMeta[p.valType];if(p.arrayOk&&d(h))return!0;if(T.validateFunction)return T.validateFunction(h,p);var w={},x=w;return T.coerceFunction(h,{set:function(y){x=y}},w,p),x!==w}B.valObjectMeta={data_array:{coerceFunction:function(h,p,T){d(h)?p.set(h):void 0!==T&&p.set(T)}},enumerated:{coerceFunction:function(h,p,T,w){w.coerceNumber&&(h=+h),-1===w.values.indexOf(h)?p.set(T):p.set(h)},validateFunction:function(h,p){p.coerceNumber&&(h=+h);for(var T=p.values,w=0;w<T.length;w++){var x=String(T[w]);if("/"===x.charAt(0)&&"/"===x.charAt(x.length-1)){if(new RegExp(x.substr(1,x.length-2)).test(h))return!0}else if(h===T[w])return!0}return!1}},boolean:{coerceFunction:function(h,p,T){p.set(!0===h||!1===h?h:T)}},number:{coerceFunction:function(h,p,T,w){!t(h)||void 0!==w.min&&h<w.min||void 0!==w.max&&h>w.max?p.set(T):p.set(+h)}},integer:{coerceFunction:function(h,p,T,w){h%1||!t(h)||void 0!==w.min&&h<w.min||void 0!==w.max&&h>w.max?p.set(T):p.set(+h)}},string:{coerceFunction:function(h,p,T,w){p.set("string"!=typeof h?!0!==w.strict&&"number"==typeof h?String(h):T:w.noBlank&&!h?T:h)}},color:{coerceFunction:function(h,p,T){l(h).isValid()?p.set(h):p.set(T)}},colorlist:{coerceFunction:function(h,p,T){Array.isArray(h)&&h.length&&h.every(function(w){return l(w).isValid()})?p.set(h):p.set(T)}},colorscale:{coerceFunction:function(h,p,T){p.set(e.get(h,T))}},angle:{coerceFunction:function(h,p,T){"auto"===h?p.set("auto"):t(h)?p.set(r(+h,360)):p.set(T)}},subplotid:{coerceFunction:function(h,p,T,w){var x=w.regex||i(T);"string"==typeof h&&x.test(h)?p.set(h):p.set(T)},validateFunction:function(h,p){var T=p.dflt;return h===T||"string"==typeof h&&!!i(T).test(h)}},flaglist:{coerceFunction:function(h,p,T,w){if("string"==typeof h)if(-1===(w.extras||[]).indexOf(h)){for(var x=h.split("+"),m=0;m<x.length;){var y=x[m];-1===w.flags.indexOf(y)||x.indexOf(y)<m?x.splice(m,1):m++}p.set(x.length?x.join("+"):T)}else p.set(h);else p.set(T)}},any:{coerceFunction:function(h,p,T){p.set(void 0===h?T:h)}},info_array:{coerceFunction:function(h,p,T,w){function x(U,Y,$){var ot;return void 0===$&&($=Y.dflt),B.valObjectMeta[Y.valType].coerceFunction(U,{set:function(R){ot=R}},$,Y),ot}var m=2===w.dimensions||"1-2"===w.dimensions&&Array.isArray(h)&&Array.isArray(h[0]);if(Array.isArray(h)){var y,A,b,L,g,S=w.items,E=[],v=Array.isArray(S),F=v&&m&&Array.isArray(S[0]),N=m&&v&&!F,z=v&&!N?S.length:h.length;if(T=Array.isArray(T)?T:[],m)for(y=0;y<z;y++)for(E[y]=[],b=Array.isArray(h[y])?h[y]:[],L=N?S.length:v?S[y].length:b.length,A=0;A<L;A++)void 0!==(g=x(b[A],N?S[A]:v?S[y][A]:S,(T[y]||[])[A]))&&(E[y][A]=g);else for(y=0;y<z;y++)void 0!==(g=x(h[y],v?S[y]:S,T[y]))&&(E[y]=g);p.set(E)}else p.set(T)},validateFunction:function(h,p){if(!Array.isArray(h))return!1;var T=p.items,w=Array.isArray(T),x=2===p.dimensions;if(!p.freeLength&&h.length!==T.length)return!1;for(var m=0;m<h.length;m++)if(x){if(!Array.isArray(h[m])||!p.freeLength&&h[m].length!==T[m].length)return!1;for(var y=0;y<h[m].length;y++)if(!f(h[m][y],w?T[m][y]:T))return!1}else if(!f(h[m],w?T[m]:T))return!1;return!0}}},B.coerce=function(h,p,T,w,x){var m=a(T,w).get(),y=a(h,w),A=a(p,w),b=y.get(),k=p._template;if(void 0===b&&k&&(b=a(k,w).get(),k=0),void 0===x&&(x=m.dflt),m.arrayOk&&d(b))return A.set(b),b;var L=B.valObjectMeta[m.valType].coerceFunction;L(b,A,x,m);var g=A.get();return k&&g===x&&!f(b,m)&&(L(b=a(k,w).get(),A,x,m),g=A.get()),g},B.coerce2=function(h,p,T,w,x){var m=a(h,w),y=B.coerce(h,p,T,w,x);return null!=m.get()&&y},B.coerceFont=function(h,p,T){var w={};return w.family=h(p+".family",(T=T||{}).family),w.size=h(p+".size",T.size),w.color=h(p+".color",T.color),w},B.coercePattern=function(h,p,T,w){if(h(p+".shape")){h(p+".solidity"),h(p+".size");var x="overlay"===h(p+".fillmode");if(!w){var m=h(p+".bgcolor",x?T:void 0);h(p+".fgcolor",x?n.contrast(m):T)}h(p+".fgopacity",x?.5:1)}},B.coerceHoverinfo=function(h,p,T){var w,x=p._module.attributes,m=x.hoverinfo?x:o,y=m.hoverinfo;if(1===T._dataLength){var A="all"===y.dflt?y.flags.slice():y.dflt.split("+");A.splice(A.indexOf("name"),1),w=A.join("+")}return B.coerce(h,p,m,"hoverinfo",w)},B.coerceSelectionMarkerOpacity=function(h,p){if(h.marker){var T,w,x=h.marker.opacity;void 0!==x&&(d(x)||h.selected||h.unselected||(T=x,w=s*x),p("selected.marker.opacity",T),p("unselected.marker.opacity",w))}},B.validate=f},{"../components/color":102,"../components/colorscale/scales":117,"../constants/interactions":211,"../plots/attributes":275,"./array":218,"./mod":239,"./nested_property":240,"./regex":248,"fast-isnumeric":17,tinycolor2:67}],223:[function(c,tt,B){"use strict";var t,l,o=c("d3-time-format").timeFormat,e=c("fast-isnumeric"),n=c("./loggers"),s=c("./mod").mod,a=c("../constants/numerical"),i=a.BADNUM,r=a.ONEDAY,d=a.ONEHOUR,f=a.ONEMIN,h=a.ONESEC,p=a.EPOCHJD,T=c("../registry"),w=c("d3-time-format").utcFormat,x=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=(new Date).getFullYear()-70;function A(Y){return Y&&T.componentsRegistry.calendars&&"string"==typeof Y&&"gregorian"!==Y}function b(Y,$){return String(Y+Math.pow(10,$)).substr(1)}B.dateTick0=function(Y,$){var R,j,ot=(j=!!$,A(R=Y)?j?T.getComponentMethod("calendars","CANONICAL_SUNDAY")[R]:T.getComponentMethod("calendars","CANONICAL_TICK")[R]:j?"2000-01-02":"2000-01-01");if($<2)return ot;var G=B.dateTime2ms(ot,Y);return B.ms2DateTime(G+=r*($-1),0,Y)},B.dfltRange=function(Y){return A(Y)?T.getComponentMethod("calendars","DFLTRANGE")[Y]:["2000-01-01","2001-01-01"]},B.isJSDate=function(Y){return"object"==typeof Y&&null!==Y&&"function"==typeof Y.getTime},B.dateTime2ms=function(Y,$){if(B.isJSDate(Y)){var ot=Y.getTimezoneOffset()*f,G=(Y.getUTCMinutes()-Y.getMinutes())*f+(Y.getUTCSeconds()-Y.getSeconds())*h+(Y.getUTCMilliseconds()-Y.getMilliseconds());if(G){var R=3*f;ot=ot-R/2+s(G-ot+R/2,R)}return(Y=Number(Y)-ot)>=t&&Y<=l?Y:i}if("string"!=typeof Y&&"number"!=typeof Y)return i;Y=String(Y);var j=A($),P=Y.charAt(0);!j||"G"!==P&&"g"!==P||(Y=Y.substr(1),$="");var I=j&&"chinese"===$.substr(0,7),Z=Y.match(I?m:x);if(!Z)return i;var q=Z[1],D=Z[3]||"1",M=Number(Z[5]||1),H=Number(Z[7]||0),C=Number(Z[9]||0),W=Number(Z[11]||0);if(j){if(2===q.length)return i;var K;q=Number(q);try{var J=T.getComponentMethod("calendars","getCal")($);if(I){var Q="i"===D.charAt(D.length-1);D=parseInt(D,10),K=J.newDate(q,J.toMonthIndex(q,D,Q),M)}else K=J.newDate(q,Number(D),M)}catch(ct){return i}return K?(K.toJD()-p)*r+H*d+C*f+W*h:i}q=2===q.length?(Number(q)+2e3-y)%100+y:Number(q),D-=1;var ut=new Date(Date.UTC(2e3,D,M,H,C));return ut.setUTCFullYear(q),ut.getUTCMonth()!==D||ut.getUTCDate()!==M?i:ut.getTime()+W*h},t=B.MIN_MS=B.dateTime2ms("-9999"),l=B.MAX_MS=B.dateTime2ms("9999-12-31 23:59:59.9999"),B.isDateTime=function(Y,$){return B.dateTime2ms(Y,$)!==i};var k=90*r,L=3*d,g=5*f;function S(Y,$,ot,G,R){if(($||ot||G||R)&&(Y+=" "+b($,2)+":"+b(ot,2),(G||R)&&(Y+=":"+b(G,2),R))){for(var j=4;R%10==0;)j-=1,R/=10;Y+="."+b(R,j)}return Y}B.ms2DateTime=function(Y,$,ot){if("number"!=typeof Y||!(Y>=t&&Y<=l))return i;$||($=0);var G,R,j,P,I,Z,q=Math.floor(10*s(Y+.05,1)),D=Math.round(Y-q/10);if(A(ot)){var M=Math.floor(D/r)+p,H=Math.floor(s(Y,r));try{G=T.getComponentMethod("calendars","getCal")(ot).fromJD(M).formatDate("yyyy-mm-dd")}catch(C){G=w("G%Y-%m-%d")(new Date(D))}if("-"===G.charAt(0))for(;G.length<11;)G="-0"+G.substr(1);else for(;G.length<10;)G="0"+G;R=$<k?Math.floor(H/d):0,j=$<k?Math.floor(H%d/f):0,P=$<L?Math.floor(H%f/h):0,I=$<g?H%h*10+q:0}else Z=new Date(D),G=w("%Y-%m-%d")(Z),R=$<k?Z.getUTCHours():0,j=$<k?Z.getUTCMinutes():0,P=$<L?Z.getUTCSeconds():0,I=$<g?10*Z.getUTCMilliseconds()+q:0;return S(G,R,j,P,I)},B.ms2DateTimeLocal=function(Y){if(!(Y>=t+r&&Y<=l-r))return i;var $=Math.floor(10*s(Y+.05,1)),ot=new Date(Math.round(Y-$/10));return S(o("%Y-%m-%d")(ot),ot.getHours(),ot.getMinutes(),ot.getSeconds(),10*ot.getUTCMilliseconds()+$)},B.cleanDate=function(Y,$,ot){if(Y===i)return $;if(B.isJSDate(Y)||"number"==typeof Y&&isFinite(Y)){if(A(ot))return n.error("JS Dates and milliseconds are incompatible with world calendars",Y),$;if(!(Y=B.ms2DateTimeLocal(+Y))&&void 0!==$)return $}else if(!B.isDateTime(Y,ot))return n.error("unrecognized date",Y),$;return Y};var E=/%\d?f/g,v=/%h/g,F={1:"1",2:"1",3:"2",4:"2"};function N(Y,$,ot,G){Y=Y.replace(E,function(j){var P=Math.min(+j.charAt(1)||6,6);return($/1e3%1+2).toFixed(P).substr(2).replace(/0+$/,"")||"0"});var R=new Date(Math.floor($+.05));if(Y=Y.replace(v,function(){return F[ot("%q")(R)]}),A(G))try{Y=T.getComponentMethod("calendars","worldCalFmt")(Y,$,G)}catch(j){return"Invalid"}return ot(Y)(R)}var z=[59,59.9,59.99,59.999,59.9999];B.formatDate=function(Y,$,ot,G,R,j){if(R=A(R)&&R,!$)if("y"===ot)$=j.year;else if("m"===ot)$=j.month;else{if("d"!==ot)return function(P,I){var Z=s(P+.05,r),q=b(Math.floor(Z/d),2)+":"+b(s(Math.floor(Z/f),60),2);if("M"!==I){e(I)||(I=0);var D=(100+Math.min(s(P/h,60),z[I])).toFixed(I).substr(1);I>0&&(D=D.replace(/0+$/,"").replace(/[\.]$/,"")),q+=":"+D}return q}(Y,ot)+"\n"+N(j.dayMonthYear,Y,G,R);$=j.dayMonth+"\n"+j.year}return N($,Y,G,R)};var U=3*r;B.incrementMonth=function(Y,$,ot){ot=A(ot)&&ot;var G=s(Y,r);if(Y=Math.round(Y-G),ot)try{var R=Math.round(Y/r)+p,j=T.getComponentMethod("calendars","getCal")(ot),P=j.fromJD(R);return $%12?j.add(P,$,"m"):j.add(P,$/12,"y"),(P.toJD()-p)*r+G}catch(Z){n.error("invalid ms "+Y+" in calendar "+ot)}var I=new Date(Y+U);return I.setUTCMonth(I.getUTCMonth()+$)+G-U},B.findExactDates=function(Y,$){for(var ot,G,R=0,j=0,P=0,I=0,Z=A($)&&T.getComponentMethod("calendars","getCal")($),q=0;q<Y.length;q++)if(e(G=Y[q])){if(!(G%r))if(Z)try{1===(ot=Z.fromJD(G/r+p)).day()?1===ot.month()?R++:j++:P++}catch(M){}else 1===(ot=new Date(G)).getUTCDate()?0===ot.getUTCMonth()?R++:j++:P++}else I++;P+=j+=R;var D=Y.length-I;return{exactYears:R/D,exactMonths:j/D,exactDays:P/D}}},{"../constants/numerical":212,"../registry":318,"./loggers":236,"./mod":239,"d3-time-format":14,"fast-isnumeric":17}],224:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("./loggers"),o=c("./matrix"),e=c("gl-mat4");function n(d){var f=d&&d.parentNode;f&&f.removeChild(d)}function s(d,f,h){var p="plotly.js-style-"+d,T=document.getElementById(p);T||((T=document.createElement("style")).setAttribute("id",p),T.appendChild(document.createTextNode("")),document.head.appendChild(T));var w=T.sheet;w.insertRule?w.insertRule(f+"{"+h+"}",0):w.addRule?w.addRule(f,h,0):l.warn("addStyleRule failed")}function a(d){var f=window.getComputedStyle(d,null),h=f.getPropertyValue("-webkit-transform")||f.getPropertyValue("-moz-transform")||f.getPropertyValue("-ms-transform")||f.getPropertyValue("-o-transform")||f.getPropertyValue("transform");return"none"===h?null:h.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(p){return+p})}function i(d){for(var f=[];r(d);)f.push(d),d=d.parentNode;return f}function r(d){return d&&(d instanceof Element||d instanceof HTMLElement)}tt.exports={getGraphDiv:function(d){var f;if("string"==typeof d){if(null===(f=document.getElementById(d)))throw new Error("No DOM element with id '"+d+"' exists on the page.");return f}if(null==d)throw new Error("DOM element provided is null or undefined");return d},isPlotDiv:function(d){var f=t.select(d);return f.node()instanceof HTMLElement&&f.size()&&f.classed("js-plotly-plot")},removeElement:n,addStyleRule:function(d,f){s("global",d,f)},addRelatedStyleRule:s,deleteRelatedStyleRule:function(d){var h=document.getElementById("plotly.js-style-"+d);h&&n(h)},getFullTransformMatrix:function(d){var f=i(d),h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return f.forEach(function(p){var T=a(p);if(T){var w=o.convertCssMatrix(T);h=e.multiply(h,h,w)}}),h},getElementTransformMatrix:a,getElementAndAncestors:i,equalDomRects:function(d,f){return d&&f&&d.x===f.x&&d.y===f.y&&d.top===f.top&&d.left===f.left&&d.right===f.right&&d.bottom===f.bottom}}},{"./loggers":236,"./matrix":238,"@plotly/d3":11,"gl-mat4":33}],225:[function(c,tt,B){"use strict";var t=c("events").EventEmitter;tt.exports={init:function(o){if(o._ev instanceof t)return o;var e=new t,n=new t;return o._ev=e,o._internalEv=n,o.on=e.on.bind(e),o.once=e.once.bind(e),o.removeListener=e.removeListener.bind(e),o.removeAllListeners=e.removeAllListeners.bind(e),o._internalOn=n.on.bind(n),o._internalOnce=n.once.bind(n),o._removeInternalListener=n.removeListener.bind(n),o._removeAllInternalListeners=n.removeAllListeners.bind(n),o.emit=function(s,a){"undefined"!=typeof jQuery&&jQuery(o).trigger(s,a),e.emit(s,a),n.emit(s,a)},o},triggerHandler:function(o,e,n){var s,a;"undefined"!=typeof jQuery&&(s=jQuery(o).triggerHandler(e,n));var i=o._ev;if(!i)return s;var r,d=i._events[e];if(!d)return s;function f(h){return h.listener?(i.removeListener(e,h.listener),h.fired?void 0:(h.fired=!0,h.listener.apply(i,[n]))):h.apply(i,[n])}for(d=Array.isArray(d)?d:[d],r=0;r<d.length-1;r++)f(d[r]);return a=f(d[r]),void 0!==s?s:a},purge:function(o){return delete o._ev,delete o.on,delete o.once,delete o.removeListener,delete o.removeAllListeners,delete o.emit,delete o._ev,delete o._internalEv,delete o._internalOn,delete o._internalOnce,delete o._removeInternalListener,delete o._removeAllInternalListeners,o}}},{events:12}],226:[function(c,tt,B){"use strict";var t=c("./is_plain_object.js"),l=Array.isArray;function o(e,n,s,a){var i,r,d,f,h,p,T=e[0],w=e.length;if(2===w&&l(T)&&l(e[1])&&0===T.length){if(function(m,y){var A,b;for(A=0;A<m.length;A++){if(null!==(b=m[A])&&"object"==typeof b)return!1;void 0!==b&&(y[A]=b)}return!0}(e[1],T))return T;T.splice(0,T.length)}for(var x=1;x<w;x++)for(r in i=e[x])d=T[r],f=i[r],a&&l(f)?T[r]=f:n&&f&&(t(f)||(h=l(f)))?(h?(h=!1,p=d&&l(d)?d:[]):p=d&&t(d)?d:{},T[r]=o([p,f],n,s,a)):(void 0!==f||s)&&(T[r]=f);return T}B.extendFlat=function(){return o(arguments,!1,!1,!1)},B.extendDeep=function(){return o(arguments,!0,!1,!1)},B.extendDeepAll=function(){return o(arguments,!0,!0,!1)},B.extendDeepNoArrays=function(){return o(arguments,!0,!1,!0)}},{"./is_plain_object.js":233}],227:[function(c,tt,B){"use strict";tt.exports=function(t){for(var l={},o=[],e=0,n=0;n<t.length;n++){var s=t[n];1!==l[s]&&(l[s]=1,o[e++]=s)}return o}},{}],228:[function(c,tt,B){"use strict";function t(o){return!0===o.visible}function l(o){var e=o[0].trace;return!0===e.visible&&0!==e._length}tt.exports=function(o){for(var e,n=(e=o,Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace?l:t),s=[],a=0;a<o.length;a++){var i=o[a];n(i)&&s.push(i)}return s}},{}],229:[function(c,tt,B){"use strict";var t,l,o,e=c("./mod").mod;function n(a,i,r,d,f,h,p,T){var w=r-a,x=f-a,m=p-f,y=d-i,A=h-i,b=T-h,k=w*b-m*y;if(0===k)return null;var L=(x*b-m*A)/k,g=(x*y-w*A)/k;return g<0||g>1||L<0||L>1?null:{x:a+w*L,y:i+y*L}}function s(a,i,r,d,f){var h=d*a+f*i;if(h<0)return d*d+f*f;if(h>r){var p=d-a,T=f-i;return p*p+T*T}var w=d*i-f*a;return w*w/r}B.segmentsIntersect=n,B.segmentDistance=function(a,i,r,d,f,h,p,T){if(n(a,i,r,d,f,h,p,T))return 0;var w=r-a,x=d-i,m=p-f,y=T-h,A=w*w+x*x,b=m*m+y*y,k=Math.min(s(w,x,A,f-a,h-i),s(w,x,A,p-a,T-i),s(m,y,b,a-f,i-h),s(m,y,b,r-f,d-h));return Math.sqrt(k)},B.getTextLocation=function(a,i,r,d){if(a===l&&d===o||(t={},l=a,o=d),t[r])return t[r];var f=a.getPointAtLength(e(r-d/2,i)),h=a.getPointAtLength(e(r+d/2,i)),p=Math.atan((h.y-f.y)/(h.x-f.x)),T=a.getPointAtLength(e(r,i)),w={x:(4*T.x+f.x+h.x)/6,y:(4*T.y+f.y+h.y)/6,theta:p};return t[r]=w,w},B.clearLocationCache=function(){l=null},B.getVisibleSegment=function(a,i,r){var d,f,h=i.left,p=i.right,T=i.top,w=i.bottom,x=0,m=a.getTotalLength(),y=m;function A(k){var L=a.getPointAtLength(k);0===k?d=L:k===m&&(f=L);var g=L.x<h?h-L.x:L.x>p?L.x-p:0,S=L.y<T?T-L.y:L.y>w?L.y-w:0;return Math.sqrt(g*g+S*S)}for(var b=A(x);b;){if((x+=b+r)>y)return;b=A(x)}for(b=A(y);b;){if(x>(y-=b+r))return;b=A(y)}return{min:x,max:y,len:y-x,total:m,isClosed:0===x&&y===m&&Math.abs(d.x-f.x)<.1&&Math.abs(d.y-f.y)<.1}},B.findPointOnPath=function(a,i,r,d){for(var f,h,p,T=(d=d||{}).pathLength||a.getTotalLength(),w=d.tolerance||.001,x=d.iterationLimit||30,m=a.getPointAtLength(0)[r]>a.getPointAtLength(T)[r]?-1:1,y=0,A=0,b=T;y<x;){if(p=(h=a.getPointAtLength(f=(A+b)/2))[r]-i,Math.abs(p)<w)return h;m*p>0?b=f:A=f,y++}return h}},{"./mod":239}],230:[function(c,tt,B){"use strict";tt.exports=function(t){return t}},{}],231:[function(c,tt,B){"use strict";tt.exports=function(t,l){if(!l)return t;var o=1/Math.abs(l),e=o>1?(o*t+o*l)/o:t+l,n=String(e).length;if(n>16){var s=String(l).length;if(n>=String(t).length+s){var a=parseFloat(e).toPrecision(12);-1===a.indexOf("e+")&&(e=+a)}}return e}},{}],232:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("d3-time-format").utcFormat,o=c("d3-format").format,e=c("fast-isnumeric"),n=c("../constants/numerical"),s=n.FP_SAFE,a=-s,i=n.BADNUM,r=tt.exports={};r.adjustFormat=function(q){return!q||/^\d[.]\df/.test(q)||/[.]\d%/.test(q)?q:"0.f"===q?"~f":/^\d%/.test(q)?"~%":/^\ds/.test(q)?"~s":!/^[~,.0$]/.test(q)&&/[&fps]/.test(q)?"~"+q:q};var d={};r.warnBadFormat=function(q){var D=String(q);d[D]||(d[D]=1,r.warn('encountered bad format: "'+D+'"'))},r.noFormat=function(q){return String(q)},r.numberFormat=function(q){var D;try{D=o(r.adjustFormat(q))}catch(M){return r.warnBadFormat(q),r.noFormat}return D},r.nestedProperty=c("./nested_property"),r.keyedContainer=c("./keyed_container"),r.relativeAttr=c("./relative_attr"),r.isPlainObject=c("./is_plain_object"),r.toLogRange=c("./to_log_range"),r.relinkPrivateKeys=c("./relink_private");var f=c("./array");r.isTypedArray=f.isTypedArray,r.isArrayOrTypedArray=f.isArrayOrTypedArray,r.isArray1D=f.isArray1D,r.ensureArray=f.ensureArray,r.concat=f.concat,r.maxRowLength=f.maxRowLength,r.minRowLength=f.minRowLength;var h=c("./mod");r.mod=h.mod,r.modHalf=h.modHalf;var p=c("./coerce");r.valObjectMeta=p.valObjectMeta,r.coerce=p.coerce,r.coerce2=p.coerce2,r.coerceFont=p.coerceFont,r.coercePattern=p.coercePattern,r.coerceHoverinfo=p.coerceHoverinfo,r.coerceSelectionMarkerOpacity=p.coerceSelectionMarkerOpacity,r.validate=p.validate;var T=c("./dates");r.dateTime2ms=T.dateTime2ms,r.isDateTime=T.isDateTime,r.ms2DateTime=T.ms2DateTime,r.ms2DateTimeLocal=T.ms2DateTimeLocal,r.cleanDate=T.cleanDate,r.isJSDate=T.isJSDate,r.formatDate=T.formatDate,r.incrementMonth=T.incrementMonth,r.dateTick0=T.dateTick0,r.dfltRange=T.dfltRange,r.findExactDates=T.findExactDates,r.MIN_MS=T.MIN_MS,r.MAX_MS=T.MAX_MS;var w=c("./search");r.findBin=w.findBin,r.sorterAsc=w.sorterAsc,r.sorterDes=w.sorterDes,r.distinctVals=w.distinctVals,r.roundUp=w.roundUp,r.sort=w.sort,r.findIndexOfMin=w.findIndexOfMin,r.sortObjectKeys=c("./sort_object_keys");var x=c("./stats");r.aggNums=x.aggNums,r.len=x.len,r.mean=x.mean,r.median=x.median,r.midRange=x.midRange,r.variance=x.variance,r.stdev=x.stdev,r.interp=x.interp;var m=c("./matrix");r.init2dArray=m.init2dArray,r.transposeRagged=m.transposeRagged,r.dot=m.dot,r.translationMatrix=m.translationMatrix,r.rotationMatrix=m.rotationMatrix,r.rotationXYMatrix=m.rotationXYMatrix,r.apply3DTransform=m.apply3DTransform,r.apply2DTransform=m.apply2DTransform,r.apply2DTransform2=m.apply2DTransform2,r.convertCssMatrix=m.convertCssMatrix,r.inverseTransformMatrix=m.inverseTransformMatrix;var y=c("./angles");r.deg2rad=y.deg2rad,r.rad2deg=y.rad2deg,r.angleDelta=y.angleDelta,r.angleDist=y.angleDist,r.isFullCircle=y.isFullCircle,r.isAngleInsideSector=y.isAngleInsideSector,r.isPtInsideSector=y.isPtInsideSector,r.pathArc=y.pathArc,r.pathSector=y.pathSector,r.pathAnnulus=y.pathAnnulus;var A=c("./anchor_utils");r.isLeftAnchor=A.isLeftAnchor,r.isCenterAnchor=A.isCenterAnchor,r.isRightAnchor=A.isRightAnchor,r.isTopAnchor=A.isTopAnchor,r.isMiddleAnchor=A.isMiddleAnchor,r.isBottomAnchor=A.isBottomAnchor;var b=c("./geometry2d");r.segmentsIntersect=b.segmentsIntersect,r.segmentDistance=b.segmentDistance,r.getTextLocation=b.getTextLocation,r.clearLocationCache=b.clearLocationCache,r.getVisibleSegment=b.getVisibleSegment,r.findPointOnPath=b.findPointOnPath;var k=c("./extend");r.extendFlat=k.extendFlat,r.extendDeep=k.extendDeep,r.extendDeepAll=k.extendDeepAll,r.extendDeepNoArrays=k.extendDeepNoArrays;var L=c("./loggers");r.log=L.log,r.warn=L.warn,r.error=L.error;var g=c("./regex");r.counterRegex=g.counter;var S=c("./throttle");r.throttle=S.throttle,r.throttleDone=S.done,r.clearThrottle=S.clear;var E=c("./dom");function v(q){var D={};for(var M in q)for(var H=q[M],C=0;C<H.length;C++)D[H[C]]=+M;return D}r.getGraphDiv=E.getGraphDiv,r.isPlotDiv=E.isPlotDiv,r.removeElement=E.removeElement,r.addStyleRule=E.addStyleRule,r.addRelatedStyleRule=E.addRelatedStyleRule,r.deleteRelatedStyleRule=E.deleteRelatedStyleRule,r.getFullTransformMatrix=E.getFullTransformMatrix,r.getElementTransformMatrix=E.getElementTransformMatrix,r.getElementAndAncestors=E.getElementAndAncestors,r.equalDomRects=E.equalDomRects,r.clearResponsive=c("./clear_responsive"),r.preserveDrawingBuffer=c("./preserve_drawing_buffer"),r.makeTraceGroups=c("./make_trace_groups"),r._=c("./localize"),r.notifier=c("./notifier"),r.filterUnique=c("./filter_unique"),r.filterVisible=c("./filter_visible"),r.pushUnique=c("./push_unique"),r.increment=c("./increment"),r.cleanNumber=c("./clean_number"),r.ensureNumber=function(q){return e(q)?(q=Number(q))>s||q<a?i:q:i},r.isIndex=function(q,D){return!(void 0!==D&&q>=D)&&e(q)&&q>=0&&q%1==0},r.noop=c("./noop"),r.identity=c("./identity"),r.repeat=function(q,D){for(var M=new Array(D),H=0;H<D;H++)M[H]=q;return M},r.swapAttrs=function(q,D,M,H){M||(M="x"),H||(H="y");for(var C=0;C<D.length;C++){var W=D[C],K=r.nestedProperty(q,W.replace("?",M)),J=r.nestedProperty(q,W.replace("?",H)),Q=K.get();K.set(J.get()),J.set(Q)}},r.raiseToTop=function(q){q.parentNode.appendChild(q)},r.cancelTransition=function(q){return q.transition().duration(0)},r.constrain=function(q,D,M){return D>M?Math.max(M,Math.min(D,q)):Math.max(D,Math.min(M,q))},r.bBoxIntersect=function(q,D,M){return q.left<=D.right+(M=M||0)&&D.left<=q.right+M&&q.top<=D.bottom+M&&D.top<=q.bottom+M},r.simpleMap=function(q,D,M,H,C){for(var W=q.length,K=new Array(W),J=0;J<W;J++)K[J]=D(q[J],M,H,C);return K},r.randstr=function q(D,M,H,C){if(H||(H=16),void 0===M&&(M=24),M<=0)return"0";var W,K,J=Math.log(Math.pow(2,M))/Math.log(H),Q="";for(W=2;J===1/0;W*=2)J=Math.log(Math.pow(2,M/W))/Math.log(H)*W;var ut=J-Math.floor(J);for(W=0;W<Math.floor(J);W++)Q=Math.floor(Math.random()*H).toString(H)+Q;ut&&(K=Math.pow(H,ut),Q=Math.floor(Math.random()*K).toString(H)+Q);var ct=parseInt(Q,H);return D&&D[Q]||ct!==1/0&&ct>=Math.pow(2,M)?C>10?(r.warn("randstr failed uniqueness"),Q):q(D,M,H,(C||0)+1):Q},r.OptionControl=function(q,D){q||(q={}),D||(D="opt");var M={optionList:[],_newoption:function(H){H[D]=q,M[H.name]=H,M.optionList.push(H)}};return M["_"+D]=q,M},r.smooth=function(q,D){if((D=Math.round(D)||0)<2)return q;var M,H,C,W,K=q.length,J=2*K,Q=2*D-1,ut=new Array(Q),ct=new Array(K);for(M=0;M<Q;M++)ut[M]=(1-Math.cos(Math.PI*(M+1)/D))/(2*D);for(M=0;M<K;M++){for(W=0,H=0;H<Q;H++)(C=M+H+1-D)<-K?C-=J*Math.round(C/J):C>=J&&(C-=J*Math.floor(C/J)),C<0?C=-1-C:C>=K&&(C=J-1-C),W+=q[C]*ut[H];ct[M]=W}return ct},r.syncOrAsync=function(q,D,M){var H;function C(){return r.syncOrAsync(q,D,M)}for(;q.length;)if((H=(0,q.splice(0,1)[0])(D))&&H.then)return H.then(C);return M&&M(D)},r.stripTrailingSlash=function(q){return"/"===q.substr(-1)?q.substr(0,q.length-1):q},r.noneOrAll=function(q,D,M){if(q){var H,C=!1,W=!0;for(H=0;H<M.length;H++)null!=q[M[H]]?C=!0:W=!1;if(C&&!W)for(H=0;H<M.length;H++)q[M[H]]=D[M[H]]}},r.mergeArray=function(q,D,M,H){var C="function"==typeof H;if(r.isArrayOrTypedArray(q))for(var W=Math.min(q.length,D.length),K=0;K<W;K++){var J=q[K];D[K][M]=C?H(J):J}},r.mergeArrayCastPositive=function(q,D,M){return r.mergeArray(q,D,M,function(H){var C=+H;return isFinite(C)&&C>0?C:0})},r.fillArray=function(q,D,M,H){if(H=H||r.identity,r.isArrayOrTypedArray(q))for(var C=0;C<D.length;C++)D[C][M]=H(q[C])},r.castOption=function(q,D,M,H){H=H||r.identity;var C=r.nestedProperty(q,M).get();return r.isArrayOrTypedArray(C)?Array.isArray(D)&&r.isArrayOrTypedArray(C[D[0]])?H(C[D[0]][D[1]]):H(C[D]):C},r.extractOption=function(q,D,M,H){if(M in q)return q[M];var C=r.nestedProperty(D,H).get();return Array.isArray(C)?void 0:C},r.tagSelected=function(q,D,M){var H,C,W=D.selectedpoints,K=D._indexToPoints;K&&(H=v(K));for(var J=0;J<W.length;J++){var Q=W[J];if(r.isIndex(Q)||r.isArrayOrTypedArray(Q)&&r.isIndex(Q[0])&&r.isIndex(Q[1])){var ut=H?H[Q]:Q,ct=M?M[ut]:ut;void 0!==(C=ct)&&C<q.length&&(q[ct].selected=1)}}},r.selIndices2selPoints=function(q){var D=q.selectedpoints,M=q._indexToPoints;if(M){for(var H=v(M),C=[],W=0;W<D.length;W++){var K=D[W];if(r.isIndex(K)){var J=H[K];r.isIndex(J)&&C.push(J)}}return C}return D},r.getTargetArray=function(q,D){var M=D.target;if("string"==typeof M&&M){var H=r.nestedProperty(q,M).get();return!!Array.isArray(H)&&H}return!!Array.isArray(M)&&M},r.minExtend=function(q,D){var M={};"object"!=typeof D&&(D={});var H,C,W,K=Object.keys(q);for(H=0;H<K.length;H++)W=q[C=K[H]],"_"!==C.charAt(0)&&"function"!=typeof W&&(M[C]="module"===C?W:Array.isArray(W)?"colorscale"===C?W.slice():W.slice(0,3):r.isTypedArray(W)?W.subarray(0,3):W&&"object"==typeof W?r.minExtend(q[C],D[C]):W);for(K=Object.keys(D),H=0;H<K.length;H++)"object"==typeof(W=D[C=K[H]])&&C in M&&"object"==typeof M[C]||(M[C]=W);return M},r.titleCase=function(q){return q.charAt(0).toUpperCase()+q.substr(1)},r.containsAny=function(q,D){for(var M=0;M<D.length;M++)if(-1!==q.indexOf(D[M]))return!0;return!1},r.isIE=function(){return void 0!==window.navigator.msSaveBlob};var F=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return F.test(window.navigator.userAgent)};var N=/iPad|iPhone|iPod/;r.isIOS=function(){return N.test(window.navigator.userAgent)};var z=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var q=z.exec(window.navigator.userAgent);if(q&&2===q.length){var D=parseInt(q[1]);if(!isNaN(D))return D}return null},r.isD3Selection=function(q){return q instanceof t.selection},r.ensureSingle=function(q,D,M,H){var C=q.select(D+(M?"."+M:""));if(C.size())return C;var W=q.append(D);return M&&W.classed(M,!0),H&&W.call(H),W},r.ensureSingleById=function(q,D,M,H){var C=q.select(D+"#"+M);if(C.size())return C;var W=q.append(D).attr("id",M);return H&&W.call(H),W},r.objectFromPath=function(q,D){for(var M,H=q.split("."),C=M={},W=0;W<H.length;W++){var K=H[W],J=null,Q=H[W].match(/(.*)\[([0-9]+)\]/);Q?(J=Q[2],(M=M[K=Q[1]]=[])[J]=W===H.length-1?D:{},M=M[J]):(M[K]=W===H.length-1?D:{},M=M[K])}return C};var U=/^([^\[\.]+)\.(.+)?/,Y=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;r.expandObjectPaths=function(q){var D,M,H,C,W,K,J;if("object"==typeof q&&!Array.isArray(q))for(M in q)q.hasOwnProperty(M)&&((D=M.match(U))?(C=q[M],H=D[1],delete q[M],q[H]=r.extendDeepNoArrays(q[H]||{},r.objectFromPath(M,r.expandObjectPaths(C))[H])):(D=M.match(Y))?(C=q[M],H=D[1],W=parseInt(D[2]),delete q[M],q[H]=q[H]||[],"."===D[3]?(J=D[4],K=q[H][W]=q[H][W]||{},r.extendDeepNoArrays(K,r.objectFromPath(J,r.expandObjectPaths(C)))):q[H][W]=r.expandObjectPaths(C)):q[M]=r.expandObjectPaths(q[M]));return q},r.numSeparate=function(q,D,M){if(M||(M=!1),"string"!=typeof D||0===D.length)throw new Error("Separator string required for formatting!");"number"==typeof q&&(q=String(q));var H=/(\d+)(\d{3})/,C=D.charAt(0),W=D.charAt(1),K=q.split("."),J=K[0],Q=K.length>1?C+K[1]:"";if(W&&(K.length>1||J.length>4||M))for(;H.test(J);)J=J.replace(H,"$1"+W+"$2");return J+Q},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var $=/^\w*$/;r.templateString=function(q,D){var M={};return q.replace(r.TEMPLATE_STRING_REGEX,function(H,C){var W;return $.test(C)?W=D[C]:(M[C]=M[C]||r.nestedProperty(D,C).get,W=M[C]()),r.isValidTextValue(W)?W:""})};var ot={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return j.apply(ot,arguments)};var G={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return j.apply(G,arguments)};var R=/^[:|\|]/;function j(q,D,M){var H=this,C=arguments;D||(D={});var W={};return q.replace(r.TEMPLATE_STRING_REGEX,function(K,J,Q){var ut,ct,gt,vt="_xother"===J||"_yother"===J,xt="_xother_"===J||"_yother_"===J,Tt="xother_"===J||"yother_"===J,zt="xother"===J||"yother"===J||vt||Tt||xt,Et=J;if((vt||xt)&&(Et=Et.substring(1)),(Tt||xt)&&(Et=Et.substring(0,Et.length-1)),zt){if(void 0===(ut=D[Et]))return""}else for(gt=3;gt<C.length;gt++)if(ct=C[gt]){if(ct.hasOwnProperty(Et)){ut=ct[Et];break}if($.test(Et)||(ut=r.nestedProperty(ct,Et).get(),(ut=W[Et]||r.nestedProperty(ct,Et).get())&&(W[Et]=ut)),void 0!==ut)break}if(void 0===ut&&H)return H.count<H.max&&(r.warn("Variable '"+Et+"' in "+H.name+" could not be found!"),ut=K),H.count===H.max&&r.warn("Too many "+H.name+" warnings - additional warnings will be suppressed"),H.count++,K;if(Q){var At;if(":"===Q[0]&&(ut=(At=M?M.numberFormat:r.numberFormat)(Q.replace(R,""))(ut)),"|"===Q[0]){At=M?M.timeFormat:l;var lt=r.dateTime2ms(ut);ut=r.formatDate(lt,Q.replace(R,""),!1,At)}}else{var rt=Et+"Label";D.hasOwnProperty(rt)&&(ut=D[rt])}return zt&&(ut="("+ut+")",(vt||xt)&&(ut=" "+ut),(Tt||xt)&&(ut+=" ")),ut})}r.subplotSort=function(q,D){for(var M=Math.min(q.length,D.length)+1,H=0,C=0,W=0;W<M;W++){var K=q.charCodeAt(W)||0,J=D.charCodeAt(W)||0,Q=K>=48&&K<=57,ut=J>=48&&J<=57;if(Q&&(H=10*H+K-48),ut&&(C=10*C+J-48),!Q||!ut){if(H!==C)return H-C;if(K!==J)return K-J}}return C-H};var P=2e9;r.seedPseudoRandom=function(){P=2e9},r.pseudoRandom=function(){var q=P;return P=(69069*P+1)%4294967296,Math.abs(P-q)<429496729?r.pseudoRandom():P/4294967296},r.fillText=function(q,D,M){var H=Array.isArray(M)?function(K){M.push(K)}:function(K){M.text=K},C=r.extractOption(q,D,"htx","hovertext");if(r.isValidTextValue(C))return H(C);var W=r.extractOption(q,D,"tx","text");return r.isValidTextValue(W)?H(W):void 0},r.isValidTextValue=function(q){return q||0===q},r.formatPercent=function(q,D){D=D||0;for(var M=(Math.round(100*q*Math.pow(10,D))*Math.pow(.1,D)).toFixed(D)+"%",H=0;H<D;H++)-1!==M.indexOf(".")&&(M=(M=M.replace("0%","%")).replace(".%","%"));return M},r.isHidden=function(q){var D=window.getComputedStyle(q).display;return!D||"none"===D},r.strTranslate=function(q,D){return q||D?"translate("+q+","+D+")":""},r.strRotate=function(q){return q?"rotate("+q+")":""},r.strScale=function(q){return 1!==q?"scale("+q+")":""},r.getTextTransform=function(q){var D=q.noCenter,M=q.textX,H=q.textY,Q=q.rotate,ut=q.scale;return ut?ut>1&&(ut=1):ut=0,r.strTranslate(q.targetX-ut*(M+(q.anchorX||0)),q.targetY-ut*(H+(q.anchorY||0)))+r.strScale(ut)+(Q?"rotate("+Q+(D?"":" "+M+" "+H)+")":"")},r.ensureUniformFontSize=function(q,D){var M=r.extendFlat({},D);return M.size=Math.max(D.size,q._fullLayout.uniformtext.minsize||0),M},r.join2=function(q,D,M){var H=q.length;return H>1?q.slice(0,-1).join(D)+M+q[H-1]:q.join(D)},r.bigFont=function(q){return Math.round(1.2*q)};var I=r.getFirefoxVersion(),Z=null!==I&&I<86;r.getPositionFromD3Event=function(){return Z?[t.event.layerX,t.event.layerY]:[t.event.offsetX,t.event.offsetY]}},{"../constants/numerical":212,"./anchor_utils":216,"./angles":217,"./array":218,"./clean_number":219,"./clear_responsive":221,"./coerce":222,"./dates":223,"./dom":224,"./extend":226,"./filter_unique":227,"./filter_visible":228,"./geometry2d":229,"./identity":230,"./increment":231,"./is_plain_object":233,"./keyed_container":234,"./localize":235,"./loggers":236,"./make_trace_groups":237,"./matrix":238,"./mod":239,"./nested_property":240,"./noop":241,"./notifier":242,"./preserve_drawing_buffer":245,"./push_unique":246,"./regex":248,"./relative_attr":249,"./relink_private":250,"./search":251,"./sort_object_keys":253,"./stats":254,"./throttle":256,"./to_log_range":257,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],233:[function(c,tt,B){"use strict";tt.exports=function(t){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(t):"[object Object]"===Object.prototype.toString.call(t)&&Object.getPrototypeOf(t).hasOwnProperty("hasOwnProperty")}},{}],234:[function(c,tt,B){"use strict";var t=c("./nested_property"),l=/^\w*$/;tt.exports=function(o,e,n,s){var a,i,r;n=n||"name",s=s||"value";var d={};e&&e.length?(r=t(o,e),i=r.get()):i=o,e=e||"";var f={};if(i)for(a=0;a<i.length;a++)f[i[a][n]]=a;var h=l.test(s),p={set:function(T,w){var x=null===w?4:0;if(!i){if(!r||4===x)return;r.set(i=[])}var m=f[T];if(void 0===m){if(4===x)return;x|=3,f[T]=m=i.length}else w!==(h?i[m][s]:t(i[m],s).get())&&(x|=2);var y=i[m]=i[m]||{};return y[n]=T,h?y[s]=w:t(y,s).set(w),null!==w&&(x&=-5),d[m]=d[m]|x,p},get:function(T){if(i){var w=f[T];return void 0===w?void 0:h?i[w][s]:t(i[w],s).get()}},rename:function(T,w){var x=f[T];return void 0===x||(d[x]=1|d[x],f[w]=x,delete f[T],i[x][n]=w),p},remove:function(T){var w=f[T];if(void 0===w)return p;var x=i[w];if(Object.keys(x).length>2)return d[w]=2|d[w],p.set(T,null);if(h){for(a=w;a<i.length;a++)d[a]=3|d[a];for(a=w;a<i.length;a++)f[i[a][n]]--;i.splice(w,1),delete f[T]}else t(x,s).set(null),d[w]=6|d[w];return p},constructUpdate:function(){for(var T,w,x={},m=Object.keys(d),y=0;y<m.length;y++)T=e+"["+(w=m[y])+"]",i[w]?(1&d[w]&&(x[T+"."+n]=i[w][n]),2&d[w]&&(x[T+"."+s]=h?4&d[w]?null:i[w][s]:4&d[w]?null:t(i[w],s).get())):x[T]=null;return x}};return p}},{"./nested_property":240}],235:[function(c,tt,B){"use strict";var t=c("../registry");tt.exports=function(l,o){for(var e=l._context.locale,n=0;n<2;n++){for(var s=l._context.locales,a=0;a<2;a++){var i=(s[e]||{}).dictionary;if(i){var r=i[o];if(r)return r}s=t.localeRegistry}var d=e.split("-")[0];if(d===e)break;e=d}return o}},{"../registry":318}],236:[function(c,tt,B){"use strict";var t=c("../plot_api/plot_config").dfltConfig,l=c("./notifier"),o=tt.exports={};o.log=function(){var e;if(t.logging>1){var n=["LOG:"];for(e=0;e<arguments.length;e++)n.push(arguments[e]);console.trace.apply(console,n)}if(t.notifyOnLogging>1){var s=[];for(e=0;e<arguments.length;e++)s.push(arguments[e]);l(s.join("<br>"),"long")}},o.warn=function(){var e;if(t.logging>0){var n=["WARN:"];for(e=0;e<arguments.length;e++)n.push(arguments[e]);console.trace.apply(console,n)}if(t.notifyOnLogging>0){var s=[];for(e=0;e<arguments.length;e++)s.push(arguments[e]);l(s.join("<br>"),"stick")}},o.error=function(){var e;if(t.logging>0){var n=["ERROR:"];for(e=0;e<arguments.length;e++)n.push(arguments[e]);console.error.apply(console,n)}if(t.notifyOnLogging>0){var s=[];for(e=0;e<arguments.length;e++)s.push(arguments[e]);l(s.join("<br>"),"stick")}}},{"../plot_api/plot_config":266,"./notifier":242}],237:[function(c,tt,B){"use strict";var t=c("@plotly/d3");tt.exports=function(l,o,e){var n=l.selectAll("g."+e.replace(/\s/g,".")).data(o,function(a){return a[0].trace.uid});n.exit().remove(),n.enter().append("g").attr("class",e),n.order();var s=l.classed("rangeplot")?"nodeRangePlot3":"node3";return n.each(function(a){a[0][s]=t.select(this)}),n}},{"@plotly/d3":11}],238:[function(c,tt,B){"use strict";var t=c("gl-mat4");B.init2dArray=function(l,o){for(var e=new Array(l),n=0;n<l;n++)e[n]=new Array(o);return e},B.transposeRagged=function(l){var o,e,n=0,s=l.length;for(o=0;o<s;o++)n=Math.max(n,l[o].length);var a=new Array(n);for(o=0;o<n;o++)for(a[o]=new Array(s),e=0;e<s;e++)a[o][e]=l[e][o];return a},B.dot=function(l,o){if(!l.length||!o.length||l.length!==o.length)return null;var e,n,s=l.length;if(l[0].length)for(e=new Array(s),n=0;n<s;n++)e[n]=B.dot(l[n],o);else if(o[0].length){var a=B.transposeRagged(o);for(e=new Array(a.length),n=0;n<a.length;n++)e[n]=B.dot(l,a[n])}else for(e=0,n=0;n<s;n++)e+=l[n]*o[n];return e},B.translationMatrix=function(l,o){return[[1,0,l],[0,1,o],[0,0,1]]},B.rotationMatrix=function(l){var o=l*Math.PI/180;return[[Math.cos(o),-Math.sin(o),0],[Math.sin(o),Math.cos(o),0],[0,0,1]]},B.rotationXYMatrix=function(l,o,e){return B.dot(B.dot(B.translationMatrix(o,e),B.rotationMatrix(l)),B.translationMatrix(-o,-e))},B.apply3DTransform=function(l){return function(){var o=arguments,e=1===arguments.length?o[0]:[o[0],o[1],o[2]||0];return B.dot(l,[e[0],e[1],e[2],1]).slice(0,3)}},B.apply2DTransform=function(l){return function(){var o=arguments;3===o.length&&(o=o[0]);var e=1===arguments.length?o[0]:[o[0],o[1]];return B.dot(l,[e[0],e[1],1]).slice(0,2)}},B.apply2DTransform2=function(l){var o=B.apply2DTransform(l);return function(e){return o(e.slice(0,2)).concat(o(e.slice(2,4)))}},B.convertCssMatrix=function(l){if(l){var o=l.length;if(16===o)return l;if(6===o)return[l[0],l[1],0,0,l[2],l[3],0,0,0,0,1,0,l[4],l[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},B.inverseTransformMatrix=function(l){var o=[];return t.invert(o,l),[[o[0],o[1],o[2],o[3]],[o[4],o[5],o[6],o[7]],[o[8],o[9],o[10],o[11]],[o[12],o[13],o[14],o[15]]]}},{"gl-mat4":33}],239:[function(c,tt,B){"use strict";tt.exports={mod:function(t,l){var o=t%l;return o<0?o+l:o},modHalf:function(t,l){return Math.abs(t)>l/2?t-Math.round(t/l)*l:t}}},{}],240:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("./array").isArrayOrTypedArray;function o(d,f){return function(){var h,p,T,w,x,m=d;for(w=0;w<f.length-1;w++){if(-1===(h=f[w])){for(p=!0,T=[],x=0;x<m.length;x++)T[x]=o(m[x],f.slice(w+1))(),T[x]!==T[0]&&(p=!1);return p?T[0]:T}if("number"==typeof h&&!l(m)||"object"!=typeof(m=m[h])||null===m)return}if("object"==typeof m&&null!==m&&null!==(T=m[f[w]]))return T}}tt.exports=function(d,f){if(t(f))f=String(f);else if("string"!=typeof f||"[-1]"===f.substr(f.length-4))throw"bad property string";for(var h,p,T,w=0,x=f.split(".");w<x.length;){if(h=String(x[w]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(h[1])x[w]=h[1];else{if(0!==w)throw"bad property string";x.splice(0,1)}for(p=h[2].substr(1,h[2].length-2).split("]["),T=0;T<p.length;T++)w++,x.splice(w,0,Number(p[T]))}w++}return"object"!=typeof d?{set:function(){throw"bad container"},get:function(){},astr:f,parts:x,obj:d}:{set:s(d,x,f),get:o(d,x),astr:f,parts:x,obj:d}};var e=/(^|\.)args\[/;function n(d,f){return void 0===d||null===d&&!f.match(e)}function s(d,f,h){return function(p){var T,w,x=d,m="",y=[[d,m]],A=n(p,h);for(w=0;w<f.length-1;w++){if("number"==typeof(T=f[w])&&!l(x))throw"array index but container is not an array";if(-1===T){if(A=!i(x,f.slice(w+1),p,h))break;return}if(!r(x,T,f[w+1],A))break;if("object"!=typeof(x=x[T])||null===x)throw"container is not an object";m=a(m,T),y.push([x,m])}if(A){if(w===f.length-1&&(delete x[f[w]],Array.isArray(x)&&+f[w]==x.length-1))for(;x.length&&void 0===x[x.length-1];)x.pop()}else x[f[w]]=p}}function a(d,f){var h=f;return t(f)?h="["+f+"]":d&&(h="."+f),d+h}function i(d,f,h,p){var T,w=l(h),x=!0,m=h,y=p.replace("-1",0),A=!w&&n(h,y),b=f[0];for(T=0;T<d.length;T++)y=p.replace("-1",T),w&&(A=n(m=h[T%h.length],y)),A&&(x=!1),r(d,T,b,A)&&s(d[T],f,p.replace("-1",T))(m);return x}function r(d,f,h,p){if(void 0===d[f]){if(p)return!1;d[f]="number"==typeof h?[]:{}}return!0}},{"./array":218,"fast-isnumeric":17}],241:[function(c,tt,B){"use strict";tt.exports=function(){}},{}],242:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("fast-isnumeric"),o=[];tt.exports=function(e,n){if(-1===o.indexOf(e)){o.push(e);var s=1e3;l(n)?s=n:"long"===n&&(s=3e3);var a=t.select("body").selectAll(".plotly-notifier").data([0]);a.enter().append("div").classed("plotly-notifier",!0),a.selectAll(".notifier-note").data(o).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(r){var d=t.select(this);d.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){d.transition().call(i)});for(var f=d.append("p"),h=r.split(/<br\s*\/?>/g),p=0;p<h.length;p++)p&&f.append("br"),f.append("span").text(h[p]);"stick"===n?d.transition().duration(350).style("opacity",1):d.transition().duration(700).style("opacity",1).transition().delay(s).call(i)})}function i(r){r.duration(700).style("opacity",0).each("end",function(d){var f=o.indexOf(d);-1!==f&&o.splice(f,1),t.select(this).remove()})}}},{"@plotly/d3":11,"fast-isnumeric":17}],243:[function(c,tt,B){"use strict";var t=c("./setcursor"),l="data-savedcursor";tt.exports=function(o,e){var n=o.attr(l);if(e){if(!n){for(var s=(o.attr("class")||"").split(" "),a=0;a<s.length;a++){var i=s[a];0===i.indexOf("cursor-")&&o.attr(l,i.substr(7)).classed(i,!1)}o.attr(l)||o.attr(l,"!!")}t(o,e)}else n&&(o.attr(l,null),"!!"===n?t(o):t(o,n))}},{"./setcursor":252}],244:[function(c,tt,B){"use strict";var t=c("./matrix").dot,l=c("../constants/numerical").BADNUM,o=tt.exports={};o.tester=function(e){var n,s=e.slice(),a=s[0][0],i=a,r=s[0][1],d=r;for(s.push(s[0]),n=1;n<s.length;n++)a=Math.min(a,s[n][0]),i=Math.max(i,s[n][0]),r=Math.min(r,s[n][1]),d=Math.max(d,s[n][1]);var f,h=!1;5===s.length&&(s[0][0]===s[1][0]?s[2][0]===s[3][0]&&s[0][1]===s[3][1]&&s[1][1]===s[2][1]&&(h=!0,f=function(w){return w[0]===s[0][0]}):s[0][1]===s[1][1]&&s[2][1]===s[3][1]&&s[0][0]===s[3][0]&&s[1][0]===s[2][0]&&(h=!0,f=function(w){return w[1]===s[0][1]}));var p=!0,T=s[0];for(n=1;n<s.length;n++)if(T[0]!==s[n][0]||T[1]!==s[n][1]){p=!1;break}return{xmin:a,xmax:i,ymin:r,ymax:d,pts:s,contains:h?function(w,x){var m=w[0],y=w[1];return!(m===l||m<a||m>i||y===l||y<r||y>d||x&&f(w))}:function(w,x){var m=w[0],y=w[1];if(m===l||m<a||m>i||y===l||y<r||y>d)return!1;var A,b,k,L,g,S=s.length,E=s[0][0],v=s[0][1],F=0;for(A=1;A<S;A++)if(b=E,k=v,E=s[A][0],v=s[A][1],!(m<(L=Math.min(b,E))||m>Math.max(b,E)||y>Math.max(k,v)))if(y<Math.min(k,v))m!==L&&F++;else{if(y===(g=E===b?y:k+(m-b)*(v-k)/(E-b)))return 1!==A||!x;y<=g&&m!==L&&F++}return F%2==1},isRect:h,degenerate:p}},o.isSegmentBent=function(e,n,s,a){var i,r,d,f=e[n],h=[e[s][0]-f[0],e[s][1]-f[1]],p=t(h,h),T=Math.sqrt(p),w=[-h[1]/T,h[0]/T];for(i=n+1;i<s;i++)if((d=t(r=[e[i][0]-f[0],e[i][1]-f[1]],h))<0||d>p||Math.abs(t(r,w))>a)return!0;return!1},o.filter=function(e,n){var s=[e[0]],a=0,i=0;function r(d){e.push(d);var f=s.length,h=a;s.splice(i+1);for(var p=h+1;p<e.length;p++)(p===e.length-1||o.isSegmentBent(e,h,p+1,n))&&(s.push(e[p]),s.length<f-2&&(a=p,i=s.length-1),h=p)}return e.length>1&&r(e.pop()),{addPt:r,raw:e,filtered:s}}},{"../constants/numerical":212,"./matrix":238}],245:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("is-mobile");tt.exports=function(o){var e,f;if("string"!=typeof(e=o&&o.hasOwnProperty("userAgent")?o.userAgent:("undefined"!=typeof navigator&&(f=navigator.userAgent),f&&f.headers&&"string"==typeof f.headers["user-agent"]&&(f=f.headers["user-agent"]),f)))return!0;var n=l({ua:{headers:{"user-agent":e}},tablet:!0,featureDetect:!1});if(!n)for(var s=e.split(" "),a=1;a<s.length;a++)if(-1!==s[a].indexOf("Safari"))for(var i=a-1;i>-1;i--){var r=s[i];if("Version/"===r.substr(0,8)){var d=r.substr(8).split(".")[0];if(t(d)&&(d=+d),d>=13)return!0}}return n}},{"fast-isnumeric":17,"is-mobile":51}],246:[function(c,tt,B){"use strict";tt.exports=function(t,l){if(l instanceof RegExp){for(var o=l.toString(),e=0;e<t.length;e++)if(t[e]instanceof RegExp&&t[e].toString()===o)return t;t.push(l)}else!l&&0!==l||-1!==t.indexOf(l)||t.push(l);return t}},{}],247:[function(c,tt,B){"use strict";var t=c("../lib"),l=c("../plot_api/plot_config").dfltConfig,o={add:function(e,n,s,a,i){var r,d;e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},d=e.undoQueue.index,e.autoplay?e.undoQueue.inSequence||(e.autoplay=!1):(!e.undoQueue.sequence||e.undoQueue.beginSequence?(e.undoQueue.queue.splice(d,e.undoQueue.queue.length-d,r={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),e.undoQueue.index+=1):r=e.undoQueue.queue[d-1],e.undoQueue.beginSequence=!1,r&&(r.undo.calls.unshift(n),r.undo.args.unshift(s),r.redo.calls.push(a),r.redo.args.push(i)),e.undoQueue.queue.length>l.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--))},startSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},stopSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},undo:function(e){var n,s;if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,n=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,s=0;s<n.undo.calls.length;s++)o.plotDo(e,n.undo.calls[s],n.undo.args[s]);e.undoQueue.inSequence=!1,e.autoplay=!1}},redo:function(e){var n,s;if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(n=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,s=0;s<n.redo.calls.length;s++)o.plotDo(e,n.redo.calls[s],n.redo.args[s]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}},plotDo:function(e,n,s){e.autoplay=!0,s=function(a,i){for(var r,d=[],f=0;f<i.length;f++)d[f]=(r=i[f])===a?r:"object"==typeof r?Array.isArray(r)?t.extendDeep([],r):t.extendDeepAll({},r):r;return d}(e,s),n.apply(null,s)}};tt.exports=o},{"../lib":232,"../plot_api/plot_config":266}],248:[function(c,tt,B){"use strict";B.counter=function(t,l,o,e){var n=(l||"")+(o?"":"$"),s=!1===e?"":"^";return"xy"===t?new RegExp(s+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+n):new RegExp(s+t+"([2-9]|[1-9][0-9]+)?"+n)}},{}],249:[function(c,tt,B){"use strict";var t=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,l=/^[^\.\[\]]+$/;tt.exports=function(o,e){for(;e;){var n=o.match(t);if(n)o=n[1];else{if(!o.match(l))throw new Error("bad relativeAttr call:"+[o,e]);o=""}if("^"!==e.charAt(0))break;e=e.slice(1)}return o&&"["!==e.charAt(0)?o+"."+e:o+e}},{}],250:[function(c,tt,B){"use strict";var t=c("./array").isArrayOrTypedArray,l=c("./is_plain_object");tt.exports=function o(e,n){for(var s in n){var a=n[s],i=e[s];if(i!==a)if("_"===s.charAt(0)||"function"==typeof a){if(s in e)continue;e[s]=a}else if(t(a)&&t(i)&&l(a[0])){if("customdata"===s||"ids"===s)continue;for(var r=Math.min(a.length,i.length),d=0;d<r;d++)i[d]!==a[d]&&l(a[d])&&l(i[d])&&o(i[d],a[d])}else l(a)&&l(i)&&(o(i,a),Object.keys(i).length||delete e[s])}}},{"./array":218,"./is_plain_object":233}],251:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("./loggers"),o=c("./identity"),e=c("../constants/numerical").BADNUM;function n(r,d){return r<d}function s(r,d){return r<=d}function a(r,d){return r>d}function i(r,d){return r>=d}B.findBin=function(r,d,f){if(t(d.start))return f?Math.ceil((r-d.start)/d.size-1e-9)-1:Math.floor((r-d.start)/d.size+1e-9);var h,p,T=0,w=d.length,x=0,m=w>1?(d[w-1]-d[0])/(w-1):1;for(p=m>=0?f?n:s:f?i:a,r+=1e-9*m*(f?-1:1)*(m>=0?1:-1);T<w&&x++<100;)p(d[h=Math.floor((T+w)/2)],r)?T=h+1:w=h;return x>90&&l.log("Long binary search..."),T-1},B.sorterAsc=function(r,d){return r-d},B.sorterDes=function(r,d){return d-r},B.distinctVals=function(r){var d,f=r.slice();for(f.sort(B.sorterAsc),d=f.length-1;d>-1&&f[d]===e;d--);for(var h,p=f[d]-f[0]||1,T=p/(d||1)/1e4,w=[],x=0;x<=d;x++){var m=f[x],y=m-h;void 0===h?(w.push(m),h=m):y>T&&(p=Math.min(p,y),w.push(m),h=m)}return{vals:w,minDiff:p}},B.roundUp=function(r,d,f){for(var h,p=0,T=d.length-1,w=0,x=f?0:1,m=f?1:0,y=f?Math.ceil:Math.floor;p<T&&w++<100;)d[h=y((p+T)/2)]<=r?p=h+x:T=h-m;return d[p]},B.sort=function(r,d){for(var f=0,h=0,p=1;p<r.length;p++){var T=d(r[p],r[p-1]);if(T<0?f=1:T>0&&(h=1),f&&h)return r.sort(d)}return h?r:r.reverse()},B.findIndexOfMin=function(r,d){d=d||o;for(var f,h=1/0,p=0;p<r.length;p++){var T=d(r[p]);T<h&&(h=T,f=p)}return f}},{"../constants/numerical":212,"./identity":230,"./loggers":236,"fast-isnumeric":17}],252:[function(c,tt,B){"use strict";tt.exports=function(t,l){(t.attr("class")||"").split(" ").forEach(function(o){0===o.indexOf("cursor-")&&t.classed(o,!1)}),l&&t.classed("cursor-"+l,!0)}},{}],253:[function(c,tt,B){"use strict";tt.exports=function(t){return Object.keys(t).sort()}},{}],254:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("./array").isArrayOrTypedArray;B.aggNums=function(o,e,n,s){var a,i;if((!s||s>n.length)&&(s=n.length),t(e)||(e=!1),l(n[0])){for(i=new Array(s),a=0;a<s;a++)i[a]=B.aggNums(o,e,n[a]);n=i}for(a=0;a<s;a++)t(e)?t(n[a])&&(e=o(+e,+n[a])):e=n[a];return e},B.len=function(o){return B.aggNums(function(e){return e+1},0,o)},B.mean=function(o,e){return e||(e=B.len(o)),B.aggNums(function(n,s){return n+s},0,o)/e},B.midRange=function(o){if(void 0!==o&&0!==o.length)return(B.aggNums(Math.max,null,o)+B.aggNums(Math.min,null,o))/2},B.variance=function(o,e,n){return e||(e=B.len(o)),t(n)||(n=B.mean(o,e)),B.aggNums(function(s,a){return s+Math.pow(a-n,2)},0,o)/e},B.stdev=function(o,e,n){return Math.sqrt(B.variance(o,e,n))},B.median=function(o){var e=o.slice().sort();return B.interp(e,.5)},B.interp=function(o,e){if(!t(e))throw"n should be a finite number";if((e=e*o.length-.5)<0)return o[0];if(e>o.length-1)return o[o.length-1];var n=e%1;return n*o[Math.ceil(e)]+(1-n)*o[Math.floor(e)]}},{"./array":218,"fast-isnumeric":17}],255:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../lib"),o=l.strTranslate,e=c("../constants/xmlns_namespaces"),n=c("../constants/alignment").LINE_SPACING,s=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;B.convertToTspans=function(z,U,Y){var $=z.text(),ot=!z.attr("data-notex")&&U&&U._context.typesetMath&&"undefined"!=typeof MathJax&&$.match(s),G=t.select(z.node().parentNode);if(!G.empty()){var R=z.attr("class")?z.attr("class").split(" ")[0]:"text";return G.selectAll("svg."+(R+="-math")).remove(),G.selectAll("g."+R+"-group").remove(),z.style("display",null).attr({"data-unformatted":$,"data-math":"N"}),ot?(U&&U._promises||[]).push(new Promise(function(P){z.style("display","none");var I=parseInt(z.node().style.fontSize,10);!function(q,D,M){var H,C,W,K,J=parseInt((MathJax.version||"").split(".")[0]);if(2===J||3===J){var Q=function(){var ct="math-output-"+l.randstr({},64),gt=(K=t.select("body").append("div").attr({id:ct}).style({visibility:"hidden",position:"absolute","font-size":D.fontSize+"px"}).text(q.replace(a,"\\lt ").replace(i,"\\gt "))).node();return 2===J?MathJax.Hub.Typeset(gt):MathJax.typeset([gt])},ut=function(){var ct=K.select(2===J?".MathJax_SVG":".MathJax"),gt=!ct.empty()&&K.select("svg").node();if(gt){var vt,xt=gt.getBoundingClientRect();vt=2===J?t.select("body").select("#MathJax_SVG_glyphs"):ct.select("defs"),M(ct,vt,xt)}else l.log("There was an error in the tex syntax.",q),M();K.remove()};2===J?MathJax.Hub.Queue(function(){return C=l.extendDeepAll({},MathJax.Hub.config),W=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:r},displayAlign:"left"})},function(){if("SVG"!==(H=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},Q,ut,function(){if("SVG"!==H)return MathJax.Hub.setRenderer(H)},function(){return void 0!==W&&(MathJax.Hub.processSectionDelay=W),MathJax.Hub.Config(C)}):3===J&&(C=l.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=r,"svg"!==(H=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){Q(),ut(),"svg"!==H&&(MathJax.config.startup.output=H),MathJax.config=C}))}else l.warn("No MathJax version:",MathJax.version)}(ot[2],{fontSize:I},function(q,D,M){G.selectAll("svg."+R).remove(),G.selectAll("g."+R+"-group").remove();var H=q&&q.select("svg");if(!H||!H.node())return j(),void P();var C=G.append("g").classed(R+"-group",!0).attr({"pointer-events":"none","data-unformatted":$,"data-math":"Y"});C.node().appendChild(H.node()),D&&D.node()&&H.node().insertBefore(D.node().cloneNode(!0),H.node().firstChild);var W=M.width,K=M.height;H.attr({class:R,height:K,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var J=z.node().style.fill||"black",Q=H.select("g");Q.attr({fill:J,stroke:J});var ut=Q.node().getBoundingClientRect(),ct=ut.width,gt=ut.height;(ct>W||gt>K)&&(H.style("overflow","hidden"),ct=(ut=H.node().getBoundingClientRect()).width,gt=ut.height);var vt=+z.attr("x"),xt=+z.attr("y"),Tt=-(I||z.node().getBoundingClientRect().height)/4;if("y"===R[0])C.attr({transform:"rotate("+[-90,vt,xt]+")"+o(-ct/2,Tt-gt/2)});else if("l"===R[0])xt=Tt-gt/2;else if("a"===R[0]&&0!==R.indexOf("atitle"))vt=0,xt=Tt;else{var zt=z.attr("text-anchor");vt-=ct*("middle"===zt?.5:"end"===zt?1:0),xt=xt+Tt-gt/2}H.attr({x:vt,y:xt}),Y&&Y.call(z,C),P(C)})})):j(),z}function j(){G.empty()||(R=z.attr("class")+"-math",G.select("svg."+R).remove()),z.text("").style("white-space","pre"),function(P,I){I=I.replace(T," ");var Z,q=!1,D=[],M=-1;function H(){M++;var lt=document.createElementNS(e.svg,"tspan");t.select(lt).attr({class:"line",dy:M*n+"em"}),P.appendChild(lt),Z=lt;var rt=D;if(D=[{node:lt}],rt.length>1)for(var dt=1;dt<rt.length;dt++)C(rt[dt])}function C(lt){var rt,dt=lt.type,mt={};if("a"===dt){rt="a";var Dt=lt.target,bt=lt.href,wt=lt.popup;bt&&(mt={"xlink:xlink:show":"_blank"===Dt||"_"!==Dt.charAt(0)?"new":"replace",target:Dt,"xlink:xlink:href":bt},wt&&(mt.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+wt+'");return false;'))}else rt="tspan";lt.style&&(mt.style=lt.style);var Ot=document.createElementNS(e.svg,rt);if("sup"===dt||"sub"===dt){W(Z,"\u200b"),Z.appendChild(Ot);var It=document.createElementNS(e.svg,"tspan");W(It,"\u200b"),t.select(It).attr("dy",h[dt]),mt.dy=f[dt],Z.appendChild(Ot),Z.appendChild(It)}else Z.appendChild(Ot);t.select(Ot).attr(mt),Z=lt.node=Ot,D.push(lt)}function W(lt,rt){lt.appendChild(document.createTextNode(rt))}function K(lt){if(1!==D.length){var rt=D.pop();lt!==rt.type&&l.log("Start tag <"+rt.type+"> doesnt match end tag <"+lt+">. Pretending it did match.",I),Z=D[D.length-1].node}else l.log("Ignoring unexpected end tag </"+lt+">.",I)}m.test(I)?H():(Z=P,D=[{node:P}]);for(var J=I.split(w),Q=0;Q<J.length;Q++){var ut=J[Q],ct=ut.match(x),gt=ct&&ct[2].toLowerCase(),vt=d[gt];if("br"===gt)H();else if(void 0===vt)W(Z,v(ut));else if(ct[1])K(gt);else{var xt=ct[4],Tt={type:gt},zt=L(xt,y);if(zt?(zt=zt.replace(g,"$1 fill:"),vt&&(zt+=";"+vt)):vt&&(zt=vt),zt&&(Tt.style=zt),"a"===gt){q=!0;var Et=L(xt,A);if(Et){var At=F(Et);At&&(Tt.href=At,Tt.target=L(xt,b)||"_blank",Tt.popup=L(xt,k))}}C(Tt)}}return q}(z.node(),$)&&z.style("pointer-events","all"),B.positionText(z),Y&&Y.call(z)}};var a=/(<|&lt;|&#60;)/g,i=/(>|&gt;|&#62;)/g,r=[["$","$"],["\\(","\\)"]],d={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},f={sub:"0.3em",sup:"-0.6em"},h={sub:"-0.21em",sup:"0.42em"},p=["http:","https:","mailto:","",void 0,":"],T=B.NEWLINES=/(\r\n?|\n)/g,w=/(<[^<>]*>)/,x=/<(\/?)([^ >]*)(\s+(.*))?>/i,m=/<br(\s+.*)?>/i;B.BR_TAG_ALL=/<br(\s+.*)?>/gi;var y=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,A=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,b=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,k=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function L(z,U){if(!z)return null;var Y=z.match(U),$=Y&&(Y[3]||Y[4]);return $&&v($)}var g=/(^|;)\s*color:/;B.plainText=function(z,U){for(var Y=void 0!==(U=U||{}).len&&-1!==U.len?U.len:1/0,$=void 0!==U.allowedTags?U.allowedTags:["br"],G=z.split(w),R=[],j="",P=0,I=0;I<G.length;I++){var Z=G[I],q=Z.match(x),D=q&&q[2].toLowerCase();if(D)-1!==$.indexOf(D)&&(R.push(Z),j=D);else{var M=Z.length;if(P+M<Y)R.push(Z),P+=M;else if(P<Y){var H=Y-P;j&&("br"!==j||H<=3||M<=3)&&R.pop(),R.push(Y>3?Z.substr(0,H-3)+"...":Z.substr(0,H));break}j=""}}return R.join("")};var S={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},E=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function v(z){return z.replace(E,function(U,Y){return("#"===Y.charAt(0)?function($){if(!($>1114111)){var ot=String.fromCodePoint;if(ot)return ot($);var G=String.fromCharCode;return $<=65535?G($):G(55232+($>>10),$%1024+56320)}}("x"===Y.charAt(1)?parseInt(Y.substr(2),16):parseInt(Y.substr(1),10)):S[Y])||U})}function F(z){var U=encodeURI(decodeURI(z)),Y=document.createElement("a"),$=document.createElement("a");Y.href=z,$.href=U;var G=$.protocol;return-1!==p.indexOf(Y.protocol)&&-1!==p.indexOf(G)?U:""}function N(z,U,Y){var $,ot,G,R=Y.horizontalAlign,j=Y.verticalAlign||"top",P=z.node().getBoundingClientRect(),I=U.node().getBoundingClientRect();return ot="bottom"===j?function(){return P.bottom-$.height}:"middle"===j?function(){return P.top+(P.height-$.height)/2}:function(){return P.top},G="right"===R?function(){return P.right-$.width}:"center"===R?function(){return P.left+(P.width-$.width)/2}:function(){return P.left},function(){$=this.node().getBoundingClientRect();var Z=G()-I.left,q=ot()-I.top,D=Y.gd||{};if(Y.gd){D._fullLayout._calcInverseTransform(D);var M=l.apply3DTransform(D._fullLayout._invTransform)(Z,q);Z=M[0],q=M[1]}return this.style({top:q+"px",left:Z+"px","z-index":1e3}),this}}B.convertEntities=v,B.sanitizeHTML=function(z){z=z.replace(T," ");for(var U=document.createElement("p"),Y=U,$=[],ot=z.split(w),G=0;G<ot.length;G++){var R=ot[G],j=R.match(x),P=j&&j[2].toLowerCase();if(P in d)if(j[1])$.length&&(Y=$.pop());else{var I=j[4],Z=L(I,y),q=Z?{style:Z}:{};if("a"===P){var D=L(I,A);if(D){var M=F(D);if(M){q.href=M;var H=L(I,b);H&&(q.target=H)}}}var C=document.createElement(P);Y.appendChild(C),t.select(C).attr(q),Y=C,$.push(C)}else Y.appendChild(document.createTextNode(v(R)))}return U.innerHTML},B.lineCount=function(z){return z.selectAll("tspan.line").size()||1},B.positionText=function(z,U,Y){return z.each(function(){var $=t.select(this);function ot(j,P){return void 0===P?null===(P=$.attr(j))&&($.attr(j,0),P=0):$.attr(j,P),P}var G=ot("x",U),R=ot("y",Y);"text"===this.nodeName&&$.selectAll("tspan.line").attr({x:G,y:R})})},B.makeTextShadow=function(z){var U="1px ",Y="1px ",$="1px ";return U+Y+$+z+", -"+U+"-"+Y+$+z+", "+U+"-"+Y+$+z+", -"+U+Y+$+z},B.makeEditable=function(z,U){var Y=U.gd,$=U.delegate,ot=t.dispatch("edit","input","cancel"),G=$||z;if(z.style({"pointer-events":$?"none":"all"}),1!==z.size())throw new Error("boo");function R(){var Z,q,D,M,H;Z=t.select(Y).select(".svg-container"),q=Z.append("div"),D=z.node().style,M=parseFloat(D.fontSize||12),void 0===(H=U.text)&&(H=z.attr("data-unformatted")),q.classed("plugin-editable editable",!0).style({position:"absolute","font-family":D.fontFamily||"Arial","font-size":M,color:U.fill||D.fill||"black",opacity:1,"background-color":U.background||"transparent",outline:"#ffffff33 1px solid",margin:[-M/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(H).call(N(z,Z,U)).on("blur",function(){Y._editing=!1,z.text(this.textContent).style({opacity:1});var C,W=t.select(this).attr("class");(C=W?"."+W.split(" ")[0]+"-math-group":"[class*=-math-group]")&&t.select(z.node().parentNode).select(C).style({opacity:0});var K=this.textContent;t.select(this).transition().duration(0).remove(),t.select(document).on("mouseup",null),ot.edit.call(z,K)}).on("focus",function(){var C=this;Y._editing=!0,t.select(document).on("mouseup",function(){if(t.event.target===C)return!1;document.activeElement===q.node()&&q.node().blur()})}).on("keyup",function(){27===t.event.which?(Y._editing=!1,z.style({opacity:1}),t.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),ot.cancel.call(z,this.textContent)):(ot.input.call(z,this.textContent),t.select(this).call(N(z,Z,U)))}).on("keydown",function(){13===t.event.which&&this.blur()}).call(j),z.style({opacity:0});var P,I=G.attr("class");(P=I?"."+I.split(" ")[0]+"-math-group":"[class*=-math-group]")&&t.select(z.node().parentNode).select(P).style({opacity:0})}function j(P){var I=P.node(),Z=document.createRange();Z.selectNodeContents(I);var q=window.getSelection();q.removeAllRanges(),q.addRange(Z),I.focus()}return U.immediate?R():G.on("click",R),t.rebind(z,ot,"on")}},{"../constants/alignment":207,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],256:[function(c,tt,B){"use strict";var t={};function l(o){o&&null!==o.timer&&(clearTimeout(o.timer),o.timer=null)}B.throttle=function(o,e,n){var s=t[o],a=Date.now();if(!s){for(var i in t)t[i].ts<a-6e4&&delete t[i];s=t[o]={ts:0,timer:null}}function r(){n(),s.ts=Date.now(),s.onDone&&(s.onDone(),s.onDone=null)}l(s),a>s.ts+e?r():s.timer=setTimeout(function(){r(),s.timer=null},e)},B.done=function(o){var e=t[o];return e&&e.timer?new Promise(function(n){var s=e.onDone;e.onDone=function(){s&&s(),n(),e.onDone=null}}):Promise.resolve()},B.clear=function(o){if(o)l(t[o]),delete t[o];else for(var e in t)B.clear(e)}},{}],257:[function(c,tt,B){"use strict";var t=c("fast-isnumeric");tt.exports=function(l,o){if(l>0)return Math.log(l)/Math.LN10;var e=Math.log(Math.min(o[0],o[1]))/Math.LN10;return t(e)||(e=Math.log(Math.max(o[0],o[1]))/Math.LN10-6),e}},{"fast-isnumeric":17}],258:[function(c,tt,B){"use strict";tt.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],259:[function(c,tt,B){"use strict";tt.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],260:[function(c,tt,B){"use strict";var t=c("../registry");tt.exports=function(l){for(var o,e,n=t.layoutArrayContainers,s=t.layoutArrayRegexes,a=l.split("[")[0],i=0;i<s.length;i++)if((e=l.match(s[i]))&&0===e.index){o=e[0];break}if(o||(o=n[n.indexOf(a)]),!o)return!1;var r=l.substr(o.length);return r?!!(e=r.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:o,index:Number(e[1]),property:e[3]||""}:{array:o,index:"",property:""}}},{"../registry":318}],261:[function(c,tt,B){"use strict";var t=c("../lib"),l=t.extendFlat,o=t.isPlainObject,e={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},n={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},s=e.flags.slice().concat(["fullReplot"]),a=n.flags.slice().concat("layoutReplot");function i(f){for(var h={},p=0;p<f.length;p++)h[f[p]]=!1;return h}function r(f,h,p){var T=l({},f);for(var w in T){var x=T[w];o(x)&&(T[w]=d(x,h,0,w))}return"from-root"===p&&(T.editType=h),T}function d(f,h,p,T){if(f.valType){var w=l({},f);if(w.editType=h,Array.isArray(f.items)){w.items=new Array(f.items.length);for(var x=0;x<f.items.length;x++)w.items[x]=d(f.items[x],h)}return w}return r(f,h,"_"===T.charAt(0)?"nested":"from-root")}tt.exports={traces:e,layout:n,traceFlags:function(){return i(s)},layoutFlags:function(){return i(a)},update:function(f,h){var p=h.editType;if(p&&"none"!==p)for(var T=p.split("+"),w=0;w<T.length;w++)f[T[w]]=!0},overrideAll:r}},{"../lib":232}],262:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("gl-mat4/fromQuat"),o=c("../registry"),e=c("../lib"),n=c("../plots/plots"),s=c("../plots/cartesian/axis_ids"),a=c("../components/color"),i=s.cleanId,r=s.getFromTrace,d=o.traceIs;function f(b,k){var L=b[k],g=k.charAt(0);L&&"paper"!==L&&(b[k]=i(L,g,!0))}function h(b){function k(L,g){b[L]&&(!b.title||!b.title[g])&&(b.title||(b.title={}),b.title[g]=b[L],delete b[L])}b&&("string"!=typeof b.title&&"number"!=typeof b.title||(b.title={text:b.title}),k("titlefont","font"),k("titleposition","position"),k("titleside","side"),k("titleoffset","offset"))}function p(b){if(!e.isPlainObject(b))return!1;var k=b.name;return delete b.name,delete b.showlegend,("string"==typeof k||"number"==typeof k)&&String(k)}function T(b,k,L,g){if(L&&!g)return b;if(g&&!L||!b.trim())return k;if(!k.trim())return b;var S,E=Math.min(b.length,k.length);for(S=0;S<E&&b.charAt(S)===k.charAt(S);S++);return b.substr(0,S).trim()}function w(b){var k="middle",L="center";return"string"==typeof b&&(-1!==b.indexOf("top")?k="top":-1!==b.indexOf("bottom")&&(k="bottom"),-1!==b.indexOf("left")?L="left":-1!==b.indexOf("right")&&(L="right")),k+" "+L}function x(b,k){return k in b&&"object"==typeof b[k]&&0===Object.keys(b[k]).length}B.clearPromiseQueue=function(b){Array.isArray(b._promises)&&b._promises.length>0&&e.log("Clearing previous rejected promises from queue."),b._promises=[]},B.cleanLayout=function(b){var k,L;b||(b={}),b.xaxis1&&(b.xaxis||(b.xaxis=b.xaxis1),delete b.xaxis1),b.yaxis1&&(b.yaxis||(b.yaxis=b.yaxis1),delete b.yaxis1),b.scene1&&(b.scene||(b.scene=b.scene1),delete b.scene1);var g=(n.subplotsRegistry.cartesian||{}).attrRegex,S=(n.subplotsRegistry.polar||{}).attrRegex,E=(n.subplotsRegistry.ternary||{}).attrRegex,v=(n.subplotsRegistry.gl3d||{}).attrRegex,F=Object.keys(b);for(k=0;k<F.length;k++){var N=F[k];if(g&&g.test(N)){var z=b[N];z.anchor&&"free"!==z.anchor&&(z.anchor=i(z.anchor)),z.overlaying&&(z.overlaying=i(z.overlaying)),z.type||(z.isdate?z.type="date":z.islog?z.type="log":!1===z.isdate&&!1===z.islog&&(z.type="linear")),"withzero"!==z.autorange&&"tozero"!==z.autorange||(z.autorange=!0,z.rangemode="tozero"),delete z.islog,delete z.isdate,delete z.categories,x(z,"domain")&&delete z.domain,void 0!==z.autotick&&(void 0===z.tickmode&&(z.tickmode=z.autotick?"auto":"linear"),delete z.autotick),h(z)}else if(S&&S.test(N))h(b[N].radialaxis);else if(E&&E.test(N)){var U=b[N];h(U.aaxis),h(U.baxis),h(U.caxis)}else if(v&&v.test(N)){var Y=b[N],$=Y.cameraposition;if(Array.isArray($)&&4===$[0].length){var G=$[1],R=$[2],j=l([],$[0]),P=[];for(L=0;L<3;++L)P[L]=G[L]+R*j[2+4*L];Y.camera={eye:{x:P[0],y:P[1],z:P[2]},center:{x:G[0],y:G[1],z:G[2]},up:{x:0,y:0,z:1}},delete Y.cameraposition}h(Y.xaxis),h(Y.yaxis),h(Y.zaxis)}}var I=Array.isArray(b.annotations)?b.annotations.length:0;for(k=0;k<I;k++){var Z=b.annotations[k];e.isPlainObject(Z)&&(Z.ref&&("paper"===Z.ref?(Z.xref="paper",Z.yref="paper"):"data"===Z.ref&&(Z.xref="x",Z.yref="y"),delete Z.ref),f(Z,"xref"),f(Z,"yref"))}var q=Array.isArray(b.shapes)?b.shapes.length:0;for(k=0;k<q;k++){var D=b.shapes[k];e.isPlainObject(D)&&(f(D,"xref"),f(D,"yref"))}var M=Array.isArray(b.images)?b.images.length:0;for(k=0;k<M;k++){var H=b.images[k];e.isPlainObject(H)&&(f(H,"xref"),f(H,"yref"))}var C=b.legend;return C&&(C.x>3?(C.x=1.02,C.xanchor="left"):C.x<-2&&(C.x=-.02,C.xanchor="right"),C.y>3?(C.y=1.02,C.yanchor="bottom"):C.y<-2&&(C.y=-.02,C.yanchor="top")),h(b),"rotate"===b.dragmode&&(b.dragmode="orbit"),a.clean(b),b.template&&b.template.layout&&B.cleanLayout(b.template.layout),b},B.cleanData=function(b){for(var k=0;k<b.length;k++){var L,g=b[k];if("histogramy"===g.type&&"xbins"in g&&!("ybins"in g)&&(g.ybins=g.xbins,delete g.xbins),g.error_y&&"opacity"in g.error_y){var S=a.defaults,E=g.error_y.color||(d(g,"bar")?a.defaultLine:S[k%S.length]);g.error_y.color=a.addOpacity(a.rgb(E),a.opacity(E)*g.error_y.opacity),delete g.error_y.opacity}if("bardir"in g&&("h"!==g.bardir||!d(g,"bar")&&"histogram"!==g.type.substr(0,9)||(g.orientation="h",B.swapXYData(g)),delete g.bardir),"histogramy"===g.type&&B.swapXYData(g),"histogramx"!==g.type&&"histogramy"!==g.type||(g.type="histogram"),"scl"in g&&!("colorscale"in g)&&(g.colorscale=g.scl,delete g.scl),"reversescl"in g&&!("reversescale"in g)&&(g.reversescale=g.reversescl,delete g.reversescl),g.xaxis&&(g.xaxis=i(g.xaxis,"x")),g.yaxis&&(g.yaxis=i(g.yaxis,"y")),d(g,"gl3d")&&g.scene&&(g.scene=n.subplotsRegistry.gl3d.cleanId(g.scene)),!d(g,"pie-like")&&!d(g,"bar-like"))if(Array.isArray(g.textposition))for(L=0;L<g.textposition.length;L++)g.textposition[L]=w(g.textposition[L]);else g.textposition&&(g.textposition=w(g.textposition));var v=o.getModule(g);if(v&&v.colorbar){var F=v.colorbar.container,N=F?g[F]:g;N&&N.colorscale&&("YIGnBu"===N.colorscale&&(N.colorscale="YlGnBu"),"YIOrRd"===N.colorscale&&(N.colorscale="YlOrRd"))}if("surface"===g.type&&e.isPlainObject(g.contours)){var z=["x","y","z"];for(L=0;L<z.length;L++){var U=g.contours[z[L]];e.isPlainObject(U)&&(U.highlightColor&&(U.highlightcolor=U.highlightColor,delete U.highlightColor),U.highlightWidth&&(U.highlightwidth=U.highlightWidth,delete U.highlightWidth))}}if("candlestick"===g.type||"ohlc"===g.type){var Y=!1!==(g.increasing||{}).showlegend,$=!1!==(g.decreasing||{}).showlegend,ot=p(g.increasing),G=p(g.decreasing);if(!1!==ot&&!1!==G){var R=T(ot,G,Y,$);R&&(g.name=R)}else!ot&&!G||g.name||(g.name=ot||G)}if(Array.isArray(g.transforms)){var j=g.transforms;for(L=0;L<j.length;L++){var P=j[L];if(e.isPlainObject(P))switch(P.type){case"filter":P.filtersrc&&(P.target=P.filtersrc,delete P.filtersrc),P.calendar&&(P.valuecalendar||(P.valuecalendar=P.calendar),delete P.calendar);break;case"groupby":if(P.styles=P.styles||P.style,P.styles&&!Array.isArray(P.styles)){var I=P.styles,Z=Object.keys(I);P.styles=[];for(var q=0;q<Z.length;q++)P.styles.push({target:Z[q],value:I[Z[q]]})}}}}x(g,"line")&&delete g.line,"marker"in g&&(x(g.marker,"line")&&delete g.marker.line,x(g,"marker")&&delete g.marker),a.clean(g),g.autobinx&&(delete g.autobinx,delete g.xbins),g.autobiny&&(delete g.autobiny,delete g.ybins),h(g),g.colorbar&&h(g.colorbar),g.marker&&g.marker.colorbar&&h(g.marker.colorbar),g.line&&g.line.colorbar&&h(g.line.colorbar),g.aaxis&&h(g.aaxis),g.baxis&&h(g.baxis)}},B.swapXYData=function(b){var k;if(e.swapAttrs(b,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(b.z)&&Array.isArray(b.z[0])&&(b.transpose?delete b.transpose:b.transpose=!0),b.error_x&&b.error_y){var L=b.error_y,g="copy_ystyle"in L?L.copy_ystyle:!(L.color||L.thickness||L.width);e.swapAttrs(b,["error_?.copy_ystyle"]),g&&e.swapAttrs(b,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof b.hoverinfo){var S=b.hoverinfo.split("+");for(k=0;k<S.length;k++)"x"===S[k]?S[k]="y":"y"===S[k]&&(S[k]="x");b.hoverinfo=S.join("+")}},B.coerceTraceIndices=function(b,k){if(t(k))return[k];if(!Array.isArray(k)||!k.length)return b.data.map(function(S,E){return E});if(Array.isArray(k)){for(var L=[],g=0;g<k.length;g++)e.isIndex(k[g],b.data.length)?L.push(k[g]):e.warn("trace index (",k[g],") is not a number or is out of bounds");return L}return k},B.manageArrayContainers=function(b,k,L){var g=b.obj,S=b.parts,E=S.length,v=S[E-1],F=t(v);if(F&&null===k){var N=S.slice(0,E-1).join(".");e.nestedProperty(g,N).get().splice(v,1)}else F&&void 0===b.get()&&void 0===b.get()&&(L[b.astr]=null),b.set(k)};var m=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function y(b){var k=b.search(m);if(k>0)return b.substr(0,k)}B.hasParent=function(b,k){for(var L=y(k);L;){if(L in b)return!0;L=y(L)}return!1};var A=["x","y","z"];B.clearAxisTypes=function(b,k,L){for(var g=0;g<k.length;g++)for(var S=b._fullData[g],E=0;E<3;E++){var v=r(b,S,A[E]);if(v&&"log"!==v.type){var F=v._name,N=v._id.substr(1);if("scene"===N.substr(0,5)){if(void 0!==L[N])continue;F=N+"."+F}var z=F+".type";void 0===L[F]&&void 0===L[z]&&e.nestedProperty(b.layout,z).set(null)}}}},{"../components/color":102,"../lib":232,"../plots/cartesian/axis_ids":283,"../plots/plots":316,"../registry":318,"fast-isnumeric":17,"gl-mat4/fromQuat":23}],263:[function(c,tt,B){"use strict";var t=c("./plot_api");B._doPlot=t._doPlot,B.newPlot=t.newPlot,B.restyle=t.restyle,B.relayout=t.relayout,B.redraw=t.redraw,B.update=t.update,B._guiRestyle=t._guiRestyle,B._guiRelayout=t._guiRelayout,B._guiUpdate=t._guiUpdate,B._storeDirectGUIEdit=t._storeDirectGUIEdit,B.react=t.react,B.extendTraces=t.extendTraces,B.prependTraces=t.prependTraces,B.addTraces=t.addTraces,B.deleteTraces=t.deleteTraces,B.moveTraces=t.moveTraces,B.purge=t.purge,B.addFrames=t.addFrames,B.deleteFrames=t.deleteFrames,B.animate=t.animate,B.setPlotConfig=t.setPlotConfig,B.toImage=c("./to_image"),B.validate=c("./validate"),B.downloadImage=c("../snapshot/download");var l=c("./template_api");B.makeTemplate=l.makeTemplate,B.validateTemplate=l.validateTemplate},{"../snapshot/download":320,"./plot_api":265,"./template_api":270,"./to_image":271,"./validate":272}],264:[function(c,tt,B){"use strict";var t=c("../lib/is_plain_object"),l=c("../lib/noop"),o=c("../lib/loggers"),e=c("../lib/search").sorterAsc,n=c("../registry");B.containerArrayMatch=c("./container_array_match");var s=B.isAddVal=function(i){return"add"===i||t(i)},a=B.isRemoveVal=function(i){return null===i||"remove"===i};B.applyContainerArrayChanges=function(i,r,d,f,h){var p=r.astr,T=n.getComponentMethod(p,"supplyLayoutDefaults"),w=n.getComponentMethod(p,"draw"),x=n.getComponentMethod(p,"drawOne"),m=f.replot||f.recalc||T===l||w===l,y=i.layout,A=i._fullLayout;if(d[""]){Object.keys(d).length>1&&o.warn("Full array edits are incompatible with other edits",p);var b=d[""][""];if(a(b))r.set(null);else{if(!Array.isArray(b))return o.warn("Unrecognized full array edit value",p,b),!0;r.set(b)}return!m&&(T(y,A),w(i),!0)}var k,L,g,S,E,v,F,z=Object.keys(d).map(Number).sort(e),U=r.get(),Y=U||[],$=h(A,p).get(),ot=[],G=-1,R=Y.length;for(k=0;k<z.length;k++)if(S=d[g=z[k]],E=Object.keys(S),F=s(v=S[""]),g<0||g>Y.length-(F?0:1))o.warn("index out of range",p,g);else if(void 0!==v)E.length>1&&o.warn("Insertion & removal are incompatible with edits to the same index.",p,g),a(v)?ot.push(g):F?("add"===v&&(v={}),Y.splice(g,0,v),$&&$.splice(g,0,{})):o.warn("Unrecognized full object edit value",p,g,v),-1===G&&(G=g);else for(L=0;L<E.length;L++)h(Y[g],E[L],p+"["+g+"].").set(S[E[L]]);for(k=ot.length-1;k>=0;k--)Y.splice(ot[k],1),$&&$.splice(ot[k],1);if(Y.length?U||r.set(Y):r.set(null),m)return!1;if(T(y,A),x!==l){var j;if(-1===G)j=z;else{for(R=Math.max(Y.length,R),j=[],k=0;k<z.length&&!((g=z[k])>=G);k++)j.push(g);for(k=G;k<R;k++)j.push(k)}for(k=0;k<j.length;k++)x(i,j[k])}else w(i);return!0}},{"../lib/is_plain_object":233,"../lib/loggers":236,"../lib/noop":241,"../lib/search":251,"../registry":318,"./container_array_match":260}],265:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("fast-isnumeric"),o=c("has-hover"),e=c("../lib"),n=e.nestedProperty,s=c("../lib/events"),a=c("../lib/queue"),i=c("../registry"),r=c("./plot_schema"),d=c("../plots/plots"),f=c("../plots/cartesian/axes"),h=c("../components/drawing"),p=c("../components/color"),T=c("../plots/cartesian/graph_interact").initInteractions,w=c("../constants/xmlns_namespaces"),x=c("../plots/cartesian/select").clearSelect,m=c("./plot_config").dfltConfig,y=c("./manage_arrays"),A=c("./helpers"),b=c("./subroutines"),k=c("./edit_types"),L=c("../plots/cartesian/constants").AX_NAME_PATTERN,g=0;function S(lt){var rt=lt._fullLayout;rt._redrawFromAutoMarginCount?rt._redrawFromAutoMarginCount--:lt.emit("plotly_afterplot")}function E(lt,rt){try{lt._fullLayout._paper.style("background",rt)}catch(dt){e.error(dt)}}function v(lt,rt){E(lt,p.combine(rt,"white"))}function F(lt,rt){if(!lt._context){lt._context=e.extendDeep({},m);var dt=t.select("base");lt._context._baseUrl=dt.size()&&dt.attr("href")?window.location.href.split("#")[0]:""}var mt,Dt,bt,wt=lt._context;if(rt){for(Dt=Object.keys(rt),mt=0;mt<Dt.length;mt++)"editable"!==(bt=Dt[mt])&&"edits"!==bt&&bt in wt&&(wt[bt]="setBackground"===bt&&"opaque"===rt[bt]?v:rt[bt]);rt.plot3dPixelRatio&&!wt.plotGlPixelRatio&&(wt.plotGlPixelRatio=wt.plot3dPixelRatio);var Ot=rt.editable;if(void 0!==Ot)for(wt.editable=Ot,Dt=Object.keys(wt.edits),mt=0;mt<Dt.length;mt++)wt.edits[Dt[mt]]=Ot;if(rt.edits)for(Dt=Object.keys(rt.edits),mt=0;mt<Dt.length;mt++)(bt=Dt[mt])in wt.edits&&(wt.edits[bt]=rt.edits[bt]);wt._exportedPlot=rt._exportedPlot}wt.staticPlot&&(wt.editable=!1,wt.edits={},wt.autosizable=!1,wt.scrollZoom=!1,wt.doubleClick=!1,wt.showTips=!1,wt.showLink=!1,wt.displayModeBar=!1),"hover"!==wt.displayModeBar||o||(wt.displayModeBar=!0),"transparent"!==wt.setBackground&&"function"==typeof wt.setBackground||(wt.setBackground=E),wt._hasZeroHeight=wt._hasZeroHeight||0===lt.clientHeight,wt._hasZeroWidth=wt._hasZeroWidth||0===lt.clientWidth;var It=wt.scrollZoom,St=wt._scrollZoom={};if(!0===It)St.cartesian=1,St.gl3d=1,St.geo=1,St.mapbox=1;else if("string"==typeof It){var Nt=It.split("+");for(mt=0;mt<Nt.length;mt++)St[Nt[mt]]=1}else!1!==It&&(St.gl3d=1,St.geo=1,St.mapbox=1)}function N(lt,rt){var dt,mt,Dt=rt+1,bt=[];for(dt=0;dt<lt.length;dt++)(mt=lt[dt])<0?bt.push(Dt+mt):bt.push(mt);return bt}function z(lt,rt,dt){var mt,Dt;for(mt=0;mt<rt.length;mt++){if((Dt=rt[mt])!==parseInt(Dt,10))throw new Error("all values in "+dt+" must be integers");if(Dt>=lt.data.length||Dt<-lt.data.length)throw new Error(dt+" must be valid indices for gd.data.");if(rt.indexOf(Dt,mt+1)>-1||Dt>=0&&rt.indexOf(-lt.data.length+Dt)>-1||Dt<0&&rt.indexOf(lt.data.length+Dt)>-1)throw new Error("each index in "+dt+" must be unique.")}}function U(lt,rt,dt){if(!Array.isArray(lt.data))throw new Error("gd.data must be an array.");if(void 0===rt)throw new Error("currentIndices is a required argument.");if(Array.isArray(rt)||(rt=[rt]),z(lt,rt,"currentIndices"),void 0===dt||Array.isArray(dt)||(dt=[dt]),void 0!==dt&&z(lt,dt,"newIndices"),void 0!==dt&&rt.length!==dt.length)throw new Error("current and new indices must be of equal length.")}function Y(lt,rt,dt,mt,Dt){!function(Ct,Gt,$t,Xt){var de=e.isPlainObject(Xt);if(!Array.isArray(Ct.data))throw new Error("gd.data must be an array");if(!e.isPlainObject(Gt))throw new Error("update must be a key:value object");if(void 0===$t)throw new Error("indices must be an integer or array of integers");for(var Kt in z(Ct,$t,"indices"),Gt){if(!Array.isArray(Gt[Kt])||Gt[Kt].length!==$t.length)throw new Error("attribute "+Kt+" must be an array of length equal to indices array length");if(de&&(!(Kt in Xt)||!Array.isArray(Xt[Kt])||Xt[Kt].length!==Gt[Kt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(lt,rt,dt,mt);for(var bt=function(Ct,Gt,$t,Xt){var Kt,kt,Mt,qt,ce=e.isPlainObject(Xt),Te=[];for(var Oe in Array.isArray($t)||($t=[$t]),$t=N($t,Ct.data.length-1),Gt)for(var xe=0;xe<$t.length;xe++){if(Kt=(kt=n(Ct.data[$t[xe]],Oe)).get(),!e.isArrayOrTypedArray(Mt=Gt[Oe][xe]))throw new Error("attribute: "+Oe+" index: "+xe+" must be an array");if(!e.isArrayOrTypedArray(Kt))throw new Error("cannot extend missing or non-array attribute: "+Oe);if(Kt.constructor!==Mt.constructor)throw new Error("cannot extend array with an array of a different type: "+Oe);l(qt=ce?Xt[Oe][xe]:Xt)||(qt=-1),Te.push({prop:kt,target:Kt,insert:Mt,maxp:Math.floor(qt)})}return Te}(lt,rt,dt,mt),wt={},Ot={},It=0;It<bt.length;It++){var St=bt[It].prop,Vt=Dt(bt[It].target,bt[It].insert,bt[It].maxp);St.set(Vt[0]),Array.isArray(wt[St.astr])||(wt[St.astr]=[]),wt[St.astr].push(Vt[1]),Array.isArray(Ot[St.astr])||(Ot[St.astr]=[]),Ot[St.astr].push(bt[It].target.length)}return{update:wt,maxPoints:Ot}}function $(lt,rt){var dt=new lt.constructor(lt.length+rt.length);return dt.set(lt),dt.set(rt,lt.length),dt}function ot(lt,rt,dt,mt){lt=e.getGraphDiv(lt),A.clearPromiseQueue(lt);var Dt={};if("string"==typeof rt)Dt[rt]=dt;else{if(!e.isPlainObject(rt))return e.warn("Restyle fail.",rt,dt,mt),Promise.reject();Dt=e.extendFlat({},rt),void 0===mt&&(mt=dt)}Object.keys(Dt).length&&(lt.changed=!0);var bt=A.coerceTraceIndices(lt,mt),wt=P(lt,Dt,bt),Ot=wt.flags;Ot.calc&&(lt.calcdata=void 0),Ot.clearAxisTypes&&A.clearAxisTypes(lt,bt,{});var It=[];Ot.fullReplot?It.push(B._doPlot):(It.push(d.previousPromises),d.supplyDefaults(lt),Ot.markerSize&&(d.doCalcdata(lt),D(It)),Ot.style&&It.push(b.doTraceStyle),Ot.colorbars&&It.push(b.doColorBars),It.push(S)),It.push(d.rehover,d.redrag),a.add(lt,ot,[lt,wt.undoit,wt.traces],ot,[lt,wt.redoit,wt.traces]);var St=e.syncOrAsync(It,lt);return St&&St.then||(St=Promise.resolve()),St.then(function(){return lt.emit("plotly_restyle",wt.eventData),lt})}function G(lt){return void 0===lt?null:lt}function R(lt,rt){return rt?function(dt,mt,Dt){var bt=n(dt,mt),wt=bt.set;return bt.set=function(Ot){j((Dt||"")+mt,bt.get(),Ot,lt),wt(Ot)},bt}:n}function j(lt,rt,dt,mt){if(Array.isArray(rt)||Array.isArray(dt))for(var Dt=Array.isArray(rt)?rt:[],bt=Array.isArray(dt)?dt:[],wt=Math.max(Dt.length,bt.length),Ot=0;Ot<wt;Ot++)j(lt+"["+Ot+"]",Dt[Ot],bt[Ot],mt);else if(e.isPlainObject(rt)||e.isPlainObject(dt)){var It=e.isPlainObject(rt)?rt:{},St=e.isPlainObject(dt)?dt:{},Nt=e.extendFlat({},It,St);for(var Vt in Nt)j(lt+"."+Vt,It[Vt],St[Vt],mt)}else void 0===mt[lt]&&(mt[lt]=G(rt))}function P(lt,rt,dt){var mt,Dt=lt._fullLayout,bt=lt._fullData,wt=lt.data,Ot=Dt._guiEditing,It=R(Dt._preGUI,Ot),St=e.extendDeepAll({},rt);I(rt);var Nt,Vt=k.traceFlags(),Ct={},Gt={};function $t(){return dt.map(function(){})}function Xt(ge){var ke=f.id2name(ge);-1===Nt.indexOf(ke)&&Nt.push(ke)}function de(ge){return"LAYOUT"+ge+".autorange"}function Kt(ge){return"LAYOUT"+ge+".range"}function kt(ge){for(var ke=ge;ke<bt.length;ke++)if(bt[ke]._input===wt[ge])return bt[ke]}function Mt(ge,ke,he){if(Array.isArray(ge))ge.forEach(function(Re){Mt(Re,ke,he)});else if(!(ge in rt)&&!A.hasParent(rt,ge)){var Fe;if("LAYOUT"===ge.substr(0,6))Fe=It(lt.layout,ge.replace("LAYOUT",""));else{var Ie=dt[he];Fe=R(Dt._tracePreGUI[kt(Ie)._fullInput.uid],Ot)(wt[Ie],ge)}ge in Gt||(Gt[ge]=$t()),void 0===Gt[ge][he]&&(Gt[ge][he]=G(Fe.get())),void 0!==ke&&Fe.set(ke)}}function qt(ge){return function(ke){return bt[ke][ge]}}function ce(ge){return function(ke,he){return!1===ke?bt[dt[he]][ge]:null}}for(var Te in rt){if(A.hasParent(rt,Te))throw new Error("cannot set "+Te+" and a parent attribute simultaneously");var Oe,xe,ye,le,nt,it,Lt=rt[Te];if("autobinx"!==Te&&"autobiny"!==Te||(Te=Te.charAt(Te.length-1)+"bins",Lt=Array.isArray(Lt)?Lt.map(ce(Te)):!1===Lt?dt.map(qt(Te)):null),Ct[Te]=Lt,"LAYOUT"!==Te.substr(0,6)){for(Gt[Te]=$t(),mt=0;mt<dt.length;mt++)if(Oe=wt[dt[mt]],xe=kt(dt[mt]),le=(ye=R(Dt._tracePreGUI[xe._fullInput.uid],Ot)(Oe,Te)).get(),void 0!==(nt=Array.isArray(Lt)?Lt[mt%Lt.length]:Lt)){var Pt=ye.parts[ye.parts.length-1],Bt=Te.substr(0,Te.length-Pt.length-1),Rt=Bt?Bt+".":"",jt=Bt?n(xe,Bt).get():xe;if((it=r.getTraceValObject(xe,ye.parts))&&it.impliedEdits&&null!==nt)for(var Ut in it.impliedEdits)Mt(e.relativeAttr(Te,Ut),it.impliedEdits[Ut],mt);else if("thicknessmode"!==Pt&&"lenmode"!==Pt||le===nt||"fraction"!==nt&&"pixels"!==nt||!jt){if("type"===Te&&("pie"===nt!=("pie"===le)||"funnelarea"===nt!=("funnelarea"===le))){var ee="x",ie="y";"bar"!==nt&&"bar"!==le||"h"!==Oe.orientation||(ee="y",ie="x"),e.swapAttrs(Oe,["?","?src"],"labels",ee),e.swapAttrs(Oe,["d?","?0"],"label",ee),e.swapAttrs(Oe,["?","?src"],"values",ie),"pie"===le||"funnelarea"===le?(n(Oe,"marker.color").set(n(Oe,"marker.colors").get()),Dt._pielayer.selectAll("g.trace").remove()):i.traceIs(Oe,"cartesian")&&n(Oe,"marker.colors").set(n(Oe,"marker.color").get())}}else{var fe=Dt._size,Ae=jt.orient,re="top"===Ae||"bottom"===Ae;if("thicknessmode"===Pt){var ve=re?fe.h:fe.w;Mt(Rt+"thickness",jt.thickness*("fraction"===nt?1/ve:ve),mt)}else{var Pe=re?fe.w:fe.h;Mt(Rt+"len",jt.len*("fraction"===nt?1/Pe:Pe),mt)}}if(Gt[Te][mt]=G(le),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Te)){if("orientation"===Te){ye.set(nt);var se=Oe.x&&!Oe.y?"h":"v";if((ye.get()||se)===xe.orientation)continue}else"orientationaxes"===Te&&(Oe.orientation={v:"h",h:"v"}[xe.orientation]);A.swapXYData(Oe),Vt.calc=Vt.clearAxisTypes=!0}else-1!==d.dataArrayContainers.indexOf(ye.parts[0])?(A.manageArrayContainers(ye,nt,Gt),Vt.calc=!0):(it?it.arrayOk&&!i.traceIs(xe,"regl")&&(e.isArrayOrTypedArray(nt)||e.isArrayOrTypedArray(le))?Vt.calc=!0:k.update(Vt,it):Vt.calc=!0,ye.set(nt))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Te)&&f.swap(lt,dt),"orientationaxes"===Te){var te=n(lt.layout,"hovermode"),Le=te.get();"x"===Le?te.set("y"):"y"===Le?te.set("x"):"x unified"===Le?te.set("y unified"):"y unified"===Le&&te.set("x unified")}if(-1!==["orientation","type"].indexOf(Te)){for(Nt=[],mt=0;mt<dt.length;mt++){var _e=wt[dt[mt]];i.traceIs(_e,"cartesian")&&(Xt(_e.xaxis||"x"),Xt(_e.yaxis||"y"))}Mt(Nt.map(de),!0,0),Mt(Nt.map(Kt),[0,1],0)}}else ye=It(lt.layout,Te.replace("LAYOUT","")),Gt[Te]=[G(ye.get())],ye.set(Array.isArray(Lt)?Lt[0]:Lt),Vt.calc=!0}return(Vt.calc||Vt.plot)&&(Vt.fullReplot=!0),{flags:Vt,undoit:Gt,redoit:Ct,traces:dt,eventData:e.extendDeepNoArrays([],[St,dt])}}function I(lt){var rt,dt,mt,Dt=e.counterRegex("axis",".title",!1,!1),bt=/colorbar\.title$/,wt=Object.keys(lt);for(rt=0;rt<wt.length;rt++)mt=lt[dt=wt[rt]],"title"!==dt&&!Dt.test(dt)&&!bt.test(dt)||"string"!=typeof mt&&"number"!=typeof mt?dt.indexOf("titlefont")>-1&&-1===dt.indexOf("grouptitlefont")?Ot(dt,dt.replace("titlefont","title.font")):dt.indexOf("titleposition")>-1?Ot(dt,dt.replace("titleposition","title.position")):dt.indexOf("titleside")>-1?Ot(dt,dt.replace("titleside","title.side")):dt.indexOf("titleoffset")>-1&&Ot(dt,dt.replace("titleoffset","title.offset")):Ot(dt,dt.replace("title","title.text"));function Ot(It,St){lt[St]=lt[It],delete lt[It]}}function Z(lt,rt,dt){lt=e.getGraphDiv(lt),A.clearPromiseQueue(lt);var mt={};if("string"==typeof rt)mt[rt]=dt;else{if(!e.isPlainObject(rt))return e.warn("Relayout fail.",rt,dt),Promise.reject();mt=e.extendFlat({},rt)}Object.keys(mt).length&&(lt.changed=!0);var Dt=W(lt,mt),bt=Dt.flags;bt.calc&&(lt.calcdata=void 0);var wt=[d.previousPromises];bt.layoutReplot?wt.push(b.layoutReplot):Object.keys(mt).length&&(q(lt,bt,Dt)||d.supplyDefaults(lt),bt.legend&&wt.push(b.doLegend),bt.layoutstyle&&wt.push(b.layoutStyles),bt.axrange&&D(wt,Dt.rangesAltered),bt.ticks&&wt.push(b.doTicksRelayout),bt.modebar&&wt.push(b.doModeBar),bt.camera&&wt.push(b.doCamera),bt.colorbars&&wt.push(b.doColorBars),wt.push(S)),wt.push(d.rehover,d.redrag),a.add(lt,Z,[lt,Dt.undoit],Z,[lt,Dt.redoit]);var Ot=e.syncOrAsync(wt,lt);return Ot&&Ot.then||(Ot=Promise.resolve(lt)),Ot.then(function(){return lt.emit("plotly_relayout",Dt.eventData),lt})}function q(lt,rt,dt){var mt=lt._fullLayout;if(!rt.axrange)return!1;for(var Dt in rt)if("axrange"!==Dt&&rt[Dt])return!1;for(var bt in dt.rangesAltered){var wt=f.id2name(bt),Ot=lt.layout[wt],It=mt[wt];if(It.autorange=Ot.autorange,Ot.range&&(It.range=Ot.range.slice()),It.cleanRange(),It._matchGroup)for(var St in It._matchGroup)if(St!==bt){var Nt=mt[f.id2name(St)];Nt.autorange=It.autorange,Nt.range=It.range.slice(),Nt._input.range=It.range.slice()}}return!0}function D(lt,rt){lt.push(x,b.doAutoRangeAndConstraints,rt?function(mt){var Dt=[],bt=!0;for(var wt in rt){var Ot=f.getFromId(mt,wt);if(Dt.push(wt),-1!==(Ot.ticklabelposition||"").indexOf("inside")&&Ot._anchorAxis&&Dt.push(Ot._anchorAxis._id),Ot._matchGroup)for(var It in Ot._matchGroup)rt[It]||Dt.push(It);Ot.automargin&&(bt=!1)}return f.draw(mt,Dt,{skipTitle:bt})}:function(mt){return f.draw(mt,"redraw")},b.drawData,b.finalDraw)}var M=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,H=/^[xyz]axis[0-9]*\.autorange$/,C=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function W(lt,rt){var dt,mt,Dt,bt=lt.layout,wt=lt._fullLayout,It=R(wt._preGUI,wt._guiEditing),St=Object.keys(rt),Nt=f.list(lt),Vt=e.extendDeepAll({},rt),Ct={};for(I(rt),St=Object.keys(rt),mt=0;mt<St.length;mt++)if(0===St[mt].indexOf("allaxes")){for(Dt=0;Dt<Nt.length;Dt++){var Gt=Nt[Dt]._id.substr(1),$t=-1!==Gt.indexOf("scene")?Gt+".":"",Xt=St[mt].replace("allaxes",$t+Nt[Dt]._name);rt[Xt]||(rt[Xt]=rt[St[mt]])}delete rt[St[mt]]}var de=k.layoutFlags(),Kt={},kt={};function Mt(Ie,Re){if(Array.isArray(Ie))Ie.forEach(function(We){Mt(We,Re)});else if(!(Ie in rt)&&!A.hasParent(rt,Ie)){var Ze=It(bt,Ie);Ie in kt||(kt[Ie]=G(Ze.get())),void 0!==Re&&Ze.set(Re)}}var qt,ce={};function Te(Ie){var Re=f.name2id(Ie.split(".")[0]);return ce[Re]=1,Re}for(var Oe in rt){if(A.hasParent(rt,Oe))throw new Error("cannot set "+Oe+" and a parent attribute simultaneously");for(var xe=It(bt,Oe),ye=rt[Oe],le=xe.parts.length-1;le>0&&"string"!=typeof xe.parts[le];)le--;var nt=xe.parts[le],it=xe.parts[le-1]+"."+nt,Lt=xe.parts.slice(0,le).join("."),Pt=n(lt.layout,Lt).get(),Bt=n(wt,Lt).get(),Rt=xe.get();if(void 0!==ye){Kt[Oe]=ye,kt[Oe]="reverse"===nt?ye:G(Rt);var jt=r.getLayoutValObject(wt,xe.parts);if(jt&&jt.impliedEdits&&null!==ye)for(var Ut in jt.impliedEdits)Mt(e.relativeAttr(Oe,Ut),jt.impliedEdits[Ut]);if(-1!==["width","height"].indexOf(Oe))if(ye){Mt("autosize",null);var ee="height"===Oe?"width":"height";Mt(ee,wt[ee])}else wt[Oe]=lt._initialAutoSize[Oe];else if("autosize"===Oe)Mt("width",ye?null:wt.width),Mt("height",ye?null:wt.height);else if(it.match(M))Te(it),n(wt,Lt+"._inputRange").set(null);else if(it.match(H)){Te(it),n(wt,Lt+"._inputRange").set(null);var ie=n(wt,Lt).get();ie._inputDomain&&(ie._input.domain=ie._inputDomain.slice())}else it.match(C)&&n(wt,Lt+"._inputDomain").set(null);if("type"===nt){qt=Pt;var fe="linear"===Bt.type&&"log"===ye;if(fe||"log"===Bt.type&&"linear"===ye){if(qt&&qt.range)if(Bt.autorange)fe&&(qt.range=qt.range[1]>qt.range[0]?[1,2]:[2,1]);else{var re=qt.range[0],ve=qt.range[1];fe?(re<=0&&ve<=0&&Mt(Lt+".autorange",!0),re<=0?re=ve/1e6:ve<=0&&(ve=re/1e6),Mt(Lt+".range[0]",Math.log(re)/Math.LN10),Mt(Lt+".range[1]",Math.log(ve)/Math.LN10)):(Mt(Lt+".range[0]",Math.pow(10,re)),Mt(Lt+".range[1]",Math.pow(10,ve)))}else Mt(Lt+".autorange",!0);Array.isArray(wt._subplots.polar)&&wt._subplots.polar.length&&wt[xe.parts[0]]&&"radialaxis"===xe.parts[1]&&delete wt[xe.parts[0]]._subplot.viewInitial["radialaxis.range"],i.getComponentMethod("annotations","convertCoords")(lt,Bt,ye,Mt),i.getComponentMethod("images","convertCoords")(lt,Bt,ye,Mt)}else Mt(Lt+".autorange",!0),Mt(Lt+".range",null);n(wt,Lt+"._inputRange").set(null)}else if(nt.match(L)){var Pe=n(wt,Oe).get(),se=(ye||{}).type;se&&"-"!==se||(se="linear"),i.getComponentMethod("annotations","convertCoords")(lt,Pe,se,Mt),i.getComponentMethod("images","convertCoords")(lt,Pe,se,Mt)}var te=y.containerArrayMatch(Oe);if(te){dt=te.array;var Le=te.property,_e=jt||{editType:"calc"};""!==(mt=te.index)&&""===Le&&(y.isAddVal(ye)?kt[Oe]=null:y.isRemoveVal(ye)?kt[Oe]=(n(bt,dt).get()||[])[mt]:e.warn("unrecognized full object value",rt)),k.update(de,_e),Ct[dt]||(Ct[dt]={});var ge=Ct[dt][mt];ge||(ge=Ct[dt][mt]={}),ge[Le]=ye,delete rt[Oe]}else"reverse"===nt?(Pt.range?Pt.range.reverse():(Mt(Lt+".autorange",!0),Pt.range=[1,0]),Bt.autorange?de.calc=!0:de.plot=!0):(wt._has("scatter-like")&&wt._has("regl")&&"dragmode"===Oe&&("lasso"===ye||"select"===ye)&&"lasso"!==Rt&&"select"!==Rt||wt._has("gl2d")?de.plot=!0:jt?k.update(de,jt):de.calc=!0,xe.set(ye))}}for(dt in Ct)y.applyContainerArrayChanges(lt,It(bt,dt),Ct[dt],de,It)||(de.plot=!0);for(var ke in ce){var he=(qt=f.getFromId(lt,ke))&&qt._constraintGroup;if(he)for(var Fe in de.calc=!0,he)ce[Fe]||(f.getFromId(lt,Fe)._constraintShrinkable=!0)}return(K(lt)||rt.height||rt.width)&&(de.plot=!0),(de.plot||de.calc)&&(de.layoutReplot=!0),{flags:de,rangesAltered:ce,undoit:kt,redoit:Kt,eventData:Vt}}function K(lt){var rt=lt._fullLayout,dt=rt.width,mt=rt.height;return lt.layout.autosize&&d.plotAutoSize(lt,lt.layout,rt),rt.width!==dt||rt.height!==mt}function J(lt,rt,dt,mt){lt=e.getGraphDiv(lt),A.clearPromiseQueue(lt),e.isPlainObject(rt)||(rt={}),e.isPlainObject(dt)||(dt={}),Object.keys(rt).length&&(lt.changed=!0),Object.keys(dt).length&&(lt.changed=!0);var Dt=A.coerceTraceIndices(lt,mt),bt=P(lt,e.extendFlat({},rt),Dt),wt=bt.flags,Ot=W(lt,e.extendFlat({},dt)),It=Ot.flags;(wt.calc||It.calc)&&(lt.calcdata=void 0),wt.clearAxisTypes&&A.clearAxisTypes(lt,Dt,dt);var St=[];It.layoutReplot?St.push(b.layoutReplot):wt.fullReplot?St.push(B._doPlot):(St.push(d.previousPromises),q(lt,It,Ot)||d.supplyDefaults(lt),wt.style&&St.push(b.doTraceStyle),(wt.colorbars||It.colorbars)&&St.push(b.doColorBars),It.legend&&St.push(b.doLegend),It.layoutstyle&&St.push(b.layoutStyles),It.axrange&&D(St,Ot.rangesAltered),It.ticks&&St.push(b.doTicksRelayout),It.modebar&&St.push(b.doModeBar),It.camera&&St.push(b.doCamera),St.push(S)),St.push(d.rehover,d.redrag),a.add(lt,J,[lt,bt.undoit,Ot.undoit,bt.traces],J,[lt,bt.redoit,Ot.redoit,bt.traces]);var Nt=e.syncOrAsync(St,lt);return Nt&&Nt.then||(Nt=Promise.resolve(lt)),Nt.then(function(){return lt.emit("plotly_update",{data:bt.eventData,layout:Ot.eventData}),lt})}function Q(lt){return function(rt){rt._fullLayout._guiEditing=!0;var dt=lt.apply(null,arguments);return rt._fullLayout._guiEditing=!1,dt}}var ut=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ct=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function gt(lt,rt){for(var dt=0;dt<rt.length;dt++){var mt=rt[dt],Dt=lt.match(mt.pattern);if(Dt){var bt=Dt[1]||"";return{head:bt,tail:lt.substr(bt.length+1),attr:mt.attr}}}}function vt(lt,rt){var dt=n(rt,lt).get();if(void 0!==dt)return dt;var mt=lt.split(".");for(mt.pop();mt.length>1;)if(mt.pop(),void 0!==(dt=n(rt,mt.join(".")+".uirevision").get()))return dt;return rt.uirevision}function xt(lt,rt){for(var dt=0;dt<rt.length;dt++)if(rt[dt]._fullInput.uid===lt)return dt;return-1}function Tt(lt,rt,dt){for(var mt=0;mt<rt.length;mt++)if(rt[mt].uid===lt)return mt;return!rt[dt]||rt[dt].uid?-1:dt}function zt(lt,rt){var dt=e.isPlainObject(lt),mt=Array.isArray(lt);return dt||mt?(dt&&e.isPlainObject(rt)||mt&&Array.isArray(rt))&&JSON.stringify(lt)===JSON.stringify(rt):lt===rt}function Et(lt,rt,dt,mt){var Dt,bt,wt,Ot=mt.getValObject,It=mt.flags,St=mt.immutable,Nt=mt.inArray,Vt=mt.arrayIndex;function Ct(){var Pt=Dt.editType;Nt&&-1!==Pt.indexOf("arraydraw")?e.pushUnique(It.arrays[Nt],Vt):(k.update(It,Dt),"none"!==Pt&&It.nChanges++,mt.transition&&Dt.anim&&It.nChangesAnim++,(M.test(wt)||H.test(wt))&&(It.rangesAltered[dt[0]]=1),C.test(wt)&&n(rt,"_inputDomain").set(null),"datarevision"===bt&&(It.newDataRevision=1))}function Gt(Pt){return"data_array"===Pt.valType||Pt.arrayOk}for(bt in lt){if(It.calc&&!mt.transition)return;var $t=lt[bt],Xt=rt[bt],de=dt.concat(bt);if(wt=de.join("."),"_"!==bt.charAt(0)&&"function"!=typeof $t&&$t!==Xt){if(("tick0"===bt||"dtick"===bt)&&"geo"!==dt[0]){var Kt=rt.tickmode;if("auto"===Kt||"array"===Kt||!Kt)continue}if(("range"!==bt||!rt.autorange)&&("zmin"!==bt&&"zmax"!==bt||"contourcarpet"!==rt.type)&&(Dt=Ot(de))&&(!Dt._compareAsJSON||JSON.stringify($t)!==JSON.stringify(Xt))){var kt,Mt=Dt.valType,qt=Gt(Dt),ce=Array.isArray($t),Te=Array.isArray(Xt);if(ce&&Te){var Oe="_input_"+bt,xe=lt[Oe],ye=rt[Oe];if(Array.isArray(xe)&&xe===ye)continue}if(void 0===Xt)qt&&ce?It.calc=!0:Ct();else if(Dt._isLinkedToArray){var le=[],nt=!1;Nt||(It.arrays[bt]=le);var it=Math.min($t.length,Xt.length),Lt=Math.max($t.length,Xt.length);if(it!==Lt){if("arraydraw"!==Dt.editType){Ct();continue}nt=!0}for(kt=0;kt<it;kt++)Et($t[kt],Xt[kt],de.concat(kt),e.extendFlat({inArray:bt,arrayIndex:kt},mt));if(nt)for(kt=it;kt<Lt;kt++)le.push(kt)}else!Mt&&e.isPlainObject($t)?Et($t,Xt,de,mt):qt?ce&&Te?(St&&(It.calc=!0),(St||mt.newDataRevision)&&Ct()):ce!==Te?It.calc=!0:Ct():ce&&Te&&$t.length===Xt.length&&String($t)===String(Xt)||Ct()}}}for(bt in rt)if(!(bt in lt)&&"_"!==bt.charAt(0)&&"function"!=typeof rt[bt]){if(Gt(Dt=Ot(dt.concat(bt)))&&Array.isArray(rt[bt]))return void(It.calc=!0);Ct()}}function At(lt){var rt=lt._fullLayout,dt=lt.getBoundingClientRect();if(!e.equalDomRects(dt,rt._lastBBox)){var mt=rt._invTransform=e.inverseTransformMatrix(e.getFullTransformMatrix(lt));rt._invScaleX=Math.sqrt(mt[0][0]*mt[0][0]+mt[0][1]*mt[0][1]+mt[0][2]*mt[0][2]),rt._invScaleY=Math.sqrt(mt[1][0]*mt[1][0]+mt[1][1]*mt[1][1]+mt[1][2]*mt[1][2]),rt._lastBBox=dt}}B.animate=function(lt,rt,dt){if(lt=e.getGraphDiv(lt),!e.isPlotDiv(lt))throw new Error("This element is not a Plotly plot: "+lt+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var mt=lt._transitionData;mt._frameQueue||(mt._frameQueue=[]);var Dt=(dt=d.supplyAnimationDefaults(dt)).transition,bt=dt.frame;function wt(St){return Array.isArray(Dt)?St>=Dt.length?Dt[0]:Dt[St]:Dt}function Ot(St){return Array.isArray(bt)?St>=bt.length?bt[0]:bt[St]:bt}function It(St,Nt){var Vt=0;return function(){if(St&&++Vt===Nt)return St()}}return void 0===mt._frameWaitingCnt&&(mt._frameWaitingCnt=0),new Promise(function(St,Nt){var Gt,$t,Xt=0;function de(xe){return xe.transitionOpts=Array.isArray(Dt)?Xt>=Dt.length?Dt[Xt]:Dt[0]:Dt,Xt++,xe}var Kt=[],kt=null==rt,Mt=Array.isArray(rt);if(kt||Mt||!e.isPlainObject(rt)){if(kt||-1!==["string","number"].indexOf(typeof rt))for(Gt=0;Gt<mt._frames.length;Gt++)($t=mt._frames[Gt])&&(kt||String($t.group)===String(rt))&&Kt.push({type:"byname",name:String($t.name),data:de({name:$t.name})});else if(Mt)for(Gt=0;Gt<rt.length;Gt++){var qt=rt[Gt];-1!==["number","string"].indexOf(typeof qt)?(qt=String(qt),Kt.push({type:"byname",name:qt,data:de({name:qt})})):e.isPlainObject(qt)&&Kt.push({type:"object",data:de(e.extendFlat({},qt))})}}else Kt.push({type:"object",data:de(e.extendFlat({},rt))});for(Gt=0;Gt<Kt.length;Gt++)if("byname"===($t=Kt[Gt]).type&&!mt._frameHash[$t.data.name])return e.warn('animate failure: frame not found: "'+$t.data.name+'"'),void Nt();-1!==["next","immediate"].indexOf(dt.mode)&&function(){if(0!==mt._frameQueue.length){for(;mt._frameQueue.length;){var xe=mt._frameQueue.pop();xe.onInterrupt&&xe.onInterrupt()}lt.emit("plotly_animationinterrupted",[])}}(),"reverse"===dt.direction&&Kt.reverse();var ce=lt._fullLayout._currentFrame;if(ce&&dt.fromcurrent){var Te=-1;for(Gt=0;Gt<Kt.length;Gt++)if("byname"===($t=Kt[Gt]).type&&$t.name===ce){Te=Gt;break}if(Te>0&&Te<Kt.length-1){var Oe=[];for(Gt=0;Gt<Kt.length;Gt++)$t=Kt[Gt],("byname"!==Kt[Gt].type||Gt>Te)&&Oe.push($t);Kt=Oe}}Kt.length>0?function(xe){if(0!==xe.length){for(var ye=0;ye<xe.length;ye++){var le;le="byname"===xe[ye].type?d.computeFrame(lt,xe[ye].name):xe[ye].data;var nt=Ot(ye),it=wt(ye);it.duration=Math.min(it.duration,nt.duration);var Lt={frame:le,name:xe[ye].name,frameOpts:nt,transitionOpts:it};ye===xe.length-1&&(Lt.onComplete=It(St,2),Lt.onInterrupt=Nt),mt._frameQueue.push(Lt)}"immediate"===dt.mode&&(mt._lastFrameAt=-1/0),mt._animationRaf||function Ct(){lt.emit("plotly_animating"),mt._lastFrameAt=-1/0,mt._timeToNext=0,mt._runningTransitions=0,mt._currentFrame=null;var xe=function(){mt._animationRaf=window.requestAnimationFrame(xe),Date.now()-mt._lastFrameAt>mt._timeToNext&&function Vt(){mt._currentFrame&&mt._currentFrame.onComplete&&mt._currentFrame.onComplete();var xe=mt._currentFrame=mt._frameQueue.shift();if(xe){var ye=xe.name?xe.name.toString():null;lt._fullLayout._currentFrame=ye,mt._lastFrameAt=Date.now(),mt._timeToNext=xe.frameOpts.duration,d.transition(lt,xe.frame.data,xe.frame.layout,A.coerceTraceIndices(lt,xe.frame.traces),xe.frameOpts,xe.transitionOpts).then(function(){xe.onComplete&&xe.onComplete()}),lt.emit("plotly_animatingframe",{name:ye,frame:xe.frame,animation:{frame:xe.frameOpts,transition:xe.transitionOpts}})}else lt.emit("plotly_animated"),window.cancelAnimationFrame(mt._animationRaf),mt._animationRaf=null}()};xe()}()}}(Kt):(lt.emit("plotly_animated"),St())})},B.addFrames=function(lt,rt,dt){if(lt=e.getGraphDiv(lt),null==rt)return Promise.resolve();if(!e.isPlotDiv(lt))throw new Error("This element is not a Plotly plot: "+lt+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var mt,Dt,bt,wt,Ot=lt._transitionData._frames,It=lt._transitionData._frameHash;if(!Array.isArray(rt))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+rt);var St=Ot.length+2*rt.length,Nt=[],Vt={};for(mt=rt.length-1;mt>=0;mt--)if(e.isPlainObject(rt[mt])){var Ct=rt[mt].name,Gt=(It[Ct]||Vt[Ct]||{}).name,$t=rt[mt].name;Gt&&$t&&"number"==typeof $t&&(It[Gt]||Vt[Gt])&&g<5&&(g++,e.warn('addFrames: overwriting frame "'+(It[Gt]||Vt[Gt]).name+'" with a frame whose name of type "number" also equates to "'+Gt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===g&&e.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Vt[Ct]={name:Ct},Nt.push({frame:d.supplyFrameDefaults(rt[mt]),index:dt&&null!=dt[mt]?dt[mt]:St+mt})}Nt.sort(function(Oe,xe){return Oe.index>xe.index?-1:Oe.index<xe.index?1:0});var de=[],Kt=[],kt=Ot.length;for(mt=Nt.length-1;mt>=0;mt--){if("number"==typeof(Dt=Nt[mt].frame).name&&e.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Dt.name)for(;It[Dt.name="frame "+lt._transitionData._counter++];);if(It[Dt.name]){for(bt=0;bt<Ot.length&&(Ot[bt]||{}).name!==Dt.name;bt++);de.push({type:"replace",index:bt,value:Dt}),Kt.unshift({type:"replace",index:bt,value:Ot[bt]})}else wt=Math.max(0,Math.min(Nt[mt].index,kt)),de.push({type:"insert",index:wt,value:Dt}),Kt.unshift({type:"delete",index:wt}),kt++}return a&&a.add(lt,d.modifyFrames,[lt,Kt],d.modifyFrames,[lt,de]),d.modifyFrames(lt,de)},B.deleteFrames=function(lt,rt){if(lt=e.getGraphDiv(lt),!e.isPlotDiv(lt))throw new Error("This element is not a Plotly plot: "+lt);var dt,mt,Dt=lt._transitionData._frames,bt=[],wt=[];if(!rt)for(rt=[],dt=0;dt<Dt.length;dt++)rt.push(dt);for((rt=rt.slice()).sort(),dt=rt.length-1;dt>=0;dt--)bt.push({type:"delete",index:mt=rt[dt]}),wt.unshift({type:"insert",index:mt,value:Dt[mt]});return a&&a.add(lt,d.modifyFrames,[lt,wt],d.modifyFrames,[lt,bt]),d.modifyFrames(lt,bt)},B.addTraces=function lt(rt,dt,mt){rt=e.getGraphDiv(rt);var Dt,bt,wt=[],Ot=B.deleteTraces,It=lt,St=[rt,wt],Nt=[rt,dt];for(function(Vt,Ct,Gt){var $t,Xt;if(!Array.isArray(Vt.data))throw new Error("gd.data must be an array.");if(void 0===Ct)throw new Error("traces must be defined.");for(Array.isArray(Ct)||(Ct=[Ct]),$t=0;$t<Ct.length;$t++)if("object"!=typeof(Xt=Ct[$t])||Array.isArray(Xt)||null===Xt)throw new Error("all values in traces array must be non-array objects");if(void 0===Gt||Array.isArray(Gt)||(Gt=[Gt]),void 0!==Gt&&Gt.length!==Ct.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(rt,dt,mt),Array.isArray(dt)||(dt=[dt]),dt=dt.map(function(Vt){return e.extendFlat({},Vt)}),A.cleanData(dt),Dt=0;Dt<dt.length;Dt++)rt.data.push(dt[Dt]);for(Dt=0;Dt<dt.length;Dt++)wt.push(-dt.length+Dt);if(void 0===mt)return bt=B.redraw(rt),a.add(rt,Ot,St,It,Nt),bt;Array.isArray(mt)||(mt=[mt]);try{U(rt,wt,mt)}catch(Vt){throw rt.data.splice(rt.data.length-dt.length,dt.length),Vt}return a.startSequence(rt),a.add(rt,Ot,St,It,Nt),bt=B.moveTraces(rt,wt,mt),a.stopSequence(rt),bt},B.deleteTraces=function lt(rt,dt){rt=e.getGraphDiv(rt);var mt,Dt,bt=[],wt=B.addTraces,Ot=lt,It=[rt,bt,dt],St=[rt,dt];if(void 0===dt)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(dt)||(dt=[dt]),z(rt,dt,"indices"),(dt=N(dt,rt.data.length-1)).sort(e.sorterDes),mt=0;mt<dt.length;mt+=1)Dt=rt.data.splice(dt[mt],1)[0],bt.push(Dt);var Nt=B.redraw(rt);return a.add(rt,wt,It,Ot,St),Nt},B.extendTraces=function lt(rt,dt,mt,Dt){function bt(St,Nt,Vt){var Ct,Gt;if(e.isTypedArray(St))if(Vt<0){var $t=new St.constructor(0),Xt=$(St,Nt);Vt<0?(Ct=Xt,Gt=$t):(Ct=$t,Gt=Xt)}else if(Ct=new St.constructor(Vt),Gt=new St.constructor(St.length+Nt.length-Vt),Vt===Nt.length)Ct.set(Nt),Gt.set(St);else if(Vt<Nt.length){var de=Nt.length-Vt;Ct.set(Nt.subarray(de)),Gt.set(St),Gt.set(Nt.subarray(0,de),St.length)}else{var Kt=Vt-Nt.length,kt=St.length-Kt;Ct.set(St.subarray(kt)),Ct.set(Nt,Kt),Gt.set(St.subarray(0,kt))}else Ct=St.concat(Nt),Gt=Vt>=0&&Vt<Ct.length?Ct.splice(0,Ct.length-Vt):[];return[Ct,Gt]}var wt=Y(rt=e.getGraphDiv(rt),dt,mt,Dt,bt),Ot=B.redraw(rt),It=[rt,wt.update,mt,wt.maxPoints];return a.add(rt,B.prependTraces,It,lt,arguments),Ot},B.moveTraces=function lt(rt,dt,mt){var Dt,bt=[],wt=[],Ot=lt,It=lt,St=[rt=e.getGraphDiv(rt),mt,dt],Nt=[rt,dt,mt];if(U(rt,dt,mt),dt=Array.isArray(dt)?dt:[dt],void 0===mt)for(mt=[],Dt=0;Dt<dt.length;Dt++)mt.push(-dt.length+Dt);for(mt=Array.isArray(mt)?mt:[mt],dt=N(dt,rt.data.length-1),mt=N(mt,rt.data.length-1),Dt=0;Dt<rt.data.length;Dt++)-1===dt.indexOf(Dt)&&bt.push(rt.data[Dt]);for(Dt=0;Dt<dt.length;Dt++)wt.push({newIndex:mt[Dt],trace:rt.data[dt[Dt]]});for(wt.sort(function(Ct,Gt){return Ct.newIndex-Gt.newIndex}),Dt=0;Dt<wt.length;Dt+=1)bt.splice(wt[Dt].newIndex,0,wt[Dt].trace);rt.data=bt;var Vt=B.redraw(rt);return a.add(rt,Ot,St,It,Nt),Vt},B.prependTraces=function lt(rt,dt,mt,Dt){function bt(St,Nt,Vt){var Ct,Gt;if(e.isTypedArray(St))if(Vt<=0){var $t=new St.constructor(0),Xt=$(Nt,St);Vt<0?(Ct=Xt,Gt=$t):(Ct=$t,Gt=Xt)}else if(Ct=new St.constructor(Vt),Gt=new St.constructor(St.length+Nt.length-Vt),Vt===Nt.length)Ct.set(Nt),Gt.set(St);else if(Vt<Nt.length){var de=Nt.length-Vt;Ct.set(Nt.subarray(0,de)),Gt.set(Nt.subarray(de)),Gt.set(St,de)}else{var Kt=Vt-Nt.length;Ct.set(Nt),Ct.set(St.subarray(0,Kt),Nt.length),Gt.set(St.subarray(Kt))}else Ct=Nt.concat(St),Gt=Vt>=0&&Vt<Ct.length?Ct.splice(Vt,Ct.length):[];return[Ct,Gt]}var wt=Y(rt=e.getGraphDiv(rt),dt,mt,Dt,bt),Ot=B.redraw(rt),It=[rt,wt.update,mt,wt.maxPoints];return a.add(rt,B.extendTraces,It,lt,arguments),Ot},B.newPlot=function(lt,rt,dt,mt){return lt=e.getGraphDiv(lt),d.cleanPlot([],{},lt._fullData||[],lt._fullLayout||{}),d.purge(lt),B._doPlot(lt,rt,dt,mt)},B._doPlot=function(lt,rt,dt,mt){var Dt;if(lt=e.getGraphDiv(lt),s.init(lt),e.isPlainObject(rt)){var bt=rt;rt=bt.data,dt=bt.layout,mt=bt.config,Dt=bt.frames}if(!1===s.triggerHandler(lt,"plotly_beforeplot",[rt,dt,mt]))return Promise.reject();rt||dt||e.isPlotDiv(lt)||e.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",lt),F(lt,mt),dt||(dt={}),t.select(lt).classed("js-plotly-plot",!0),h.makeTester(),Array.isArray(lt._promises)||(lt._promises=[]);var wt=0===(lt.data||[]).length&&Array.isArray(rt);Array.isArray(rt)&&(A.cleanData(rt),wt?lt.data=rt:lt.data.push.apply(lt.data,rt),lt.empty=!1),lt.layout&&!wt||(lt.layout=A.cleanLayout(dt)),d.supplyDefaults(lt);var Ot=lt._fullLayout,It=Ot._has("cartesian");Ot._replotting=!0,(wt||Ot._shouldCreateBgLayer)&&(function(Kt){var kt=t.select(Kt),Mt=Kt._fullLayout;if(Mt._calcInverseTransform=At,Mt._calcInverseTransform(Kt),Mt._container=kt.selectAll(".plot-container").data([0]),Mt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Mt._paperdiv=Mt._container.selectAll(".svg-container").data([0]),Mt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Mt._glcontainer=Mt._paperdiv.selectAll(".gl-container").data([{}]),Mt._glcontainer.enter().append("div").classed("gl-container",!0),Mt._paperdiv.selectAll(".main-svg").remove(),Mt._paperdiv.select(".modebar-container").remove(),Mt._paper=Mt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Mt._toppaper=Mt._paperdiv.append("svg").classed("main-svg",!0),Mt._modebardiv=Mt._paperdiv.append("div"),delete Mt._modeBar,Mt._hoverpaper=Mt._paperdiv.append("svg").classed("main-svg",!0),!Mt._uid){var qt={};t.selectAll("defs").each(function(){this.id&&(qt[this.id.split("-")[1]]=1)}),Mt._uid=e.randstr(qt)}Mt._paperdiv.selectAll(".main-svg").attr(w.svgAttrs),Mt._defs=Mt._paper.append("defs").attr("id","defs-"+Mt._uid),Mt._clips=Mt._defs.append("g").classed("clips",!0),Mt._topdefs=Mt._toppaper.append("defs").attr("id","topdefs-"+Mt._uid),Mt._topclips=Mt._topdefs.append("g").classed("clips",!0),Mt._bgLayer=Mt._paper.append("g").classed("bglayer",!0),Mt._draggers=Mt._paper.append("g").classed("draglayer",!0);var ce=Mt._paper.append("g").classed("layer-below",!0);Mt._imageLowerLayer=ce.append("g").classed("imagelayer",!0),Mt._shapeLowerLayer=ce.append("g").classed("shapelayer",!0),Mt._cartesianlayer=Mt._paper.append("g").classed("cartesianlayer",!0),Mt._polarlayer=Mt._paper.append("g").classed("polarlayer",!0),Mt._smithlayer=Mt._paper.append("g").classed("smithlayer",!0),Mt._ternarylayer=Mt._paper.append("g").classed("ternarylayer",!0),Mt._geolayer=Mt._paper.append("g").classed("geolayer",!0),Mt._funnelarealayer=Mt._paper.append("g").classed("funnelarealayer",!0),Mt._pielayer=Mt._paper.append("g").classed("pielayer",!0),Mt._iciclelayer=Mt._paper.append("g").classed("iciclelayer",!0),Mt._treemaplayer=Mt._paper.append("g").classed("treemaplayer",!0),Mt._sunburstlayer=Mt._paper.append("g").classed("sunburstlayer",!0),Mt._indicatorlayer=Mt._toppaper.append("g").classed("indicatorlayer",!0),Mt._glimages=Mt._paper.append("g").classed("glimages",!0);var Te=Mt._toppaper.append("g").classed("layer-above",!0);Mt._imageUpperLayer=Te.append("g").classed("imagelayer",!0),Mt._shapeUpperLayer=Te.append("g").classed("shapelayer",!0),Mt._infolayer=Mt._toppaper.append("g").classed("infolayer",!0),Mt._menulayer=Mt._toppaper.append("g").classed("menulayer",!0),Mt._zoomlayer=Mt._toppaper.append("g").classed("zoomlayer",!0),Mt._hoverlayer=Mt._hoverpaper.append("g").classed("hoverlayer",!0),Mt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Kt.emit("plotly_framework")}(lt),Ot._shouldCreateBgLayer&&delete Ot._shouldCreateBgLayer),h.initGradients(lt),h.initPatterns(lt),wt&&f.saveShowSpikeInitial(lt);var St=!lt.calcdata||lt.calcdata.length!==(lt._fullData||[]).length;St&&d.doCalcdata(lt);for(var Nt=0;Nt<lt.calcdata.length;Nt++)lt.calcdata[Nt][0].trace=lt._fullData[Nt];lt._context.responsive?lt._responsiveChartHandler||(lt._responsiveChartHandler=function(){e.isHidden(lt)||d.resize(lt)},window.addEventListener("resize",lt._responsiveChartHandler)):e.clearResponsive(lt);var Vt=e.extendFlat({},Ot._size),Ct=0;function Gt(){if(d.clearAutoMarginIds(lt),b.drawMarginPushers(lt),f.allowAutoMargin(lt),Ot._has("pie"))for(var Kt=lt._fullData,kt=0;kt<Kt.length;kt++){var Mt=Kt[kt];"pie"===Mt.type&&Mt.automargin&&d.allowAutoMargin(lt,"pie."+Mt.uid+".automargin")}return d.doAutoMargin(lt),d.previousPromises(lt)}function $t(){lt._transitioning||(b.doAutoRangeAndConstraints(lt),wt&&f.saveRangeInitial(lt),i.getComponentMethod("rangeslider","calcAutorange")(lt))}var Xt=[d.previousPromises,function(){if(Dt)return B.addFrames(lt,Dt)},function Kt(){for(var kt=Ot._basePlotModules,Mt=0;Mt<kt.length;Mt++)kt[Mt].drawFramework&&kt[Mt].drawFramework(lt);!Ot._glcanvas&&Ot._has("gl")&&(Ot._glcanvas=Ot._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Oe){return Oe.key}),Ot._glcanvas.enter().append("canvas").attr("class",function(Oe){return"gl-canvas gl-canvas-"+Oe.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var qt=lt._context.plotGlPixelRatio;if(Ot._glcanvas){Ot._glcanvas.attr("width",Ot.width*qt).attr("height",Ot.height*qt).style("width",Ot.width+"px").style("height",Ot.height+"px");var ce=Ot._glcanvas.data()[0].regl;if(ce&&(Math.floor(Ot.width*qt)!==ce._gl.drawingBufferWidth||Math.floor(Ot.height*qt)!==ce._gl.drawingBufferHeight)){var Te="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Ct)return e.log(Te+" Clearing graph and plotting again."),d.cleanPlot([],{},lt._fullData,Ot),d.supplyDefaults(lt),Ot=lt._fullLayout,d.doCalcdata(lt),Ct++,Kt();e.error(Te)}}return"h"===Ot.modebar.orientation?Ot._modebardiv.style("height",null).style("width","100%"):Ot._modebardiv.style("width",null).style("height",Ot.height+"px"),d.previousPromises(lt)},Gt,function(){if(d.didMarginChange(Vt,Ot._size))return e.syncOrAsync([Gt,b.layoutStyles],lt)}];It&&Xt.push(function(){if(St)return e.syncOrAsync([i.getComponentMethod("shapes","calcAutorange"),i.getComponentMethod("annotations","calcAutorange"),$t],lt);$t()}),Xt.push(b.layoutStyles),It&&Xt.push(function(){return f.draw(lt,wt?"":"redraw")},function(Kt){Kt._fullLayout._insideTickLabelsAutorange&&Z(Kt,Kt._fullLayout._insideTickLabelsAutorange).then(function(){Kt._fullLayout._insideTickLabelsAutorange=void 0})}),Xt.push(b.drawData,b.finalDraw,T,d.addLinks,d.rehover,d.redrag,d.doAutoMargin,function(Kt){Kt._fullLayout._insideTickLabelsAutorange&&wt&&f.saveRangeInitial(Kt,!0)},d.previousPromises);var de=e.syncOrAsync(Xt,lt);return de&&de.then||(de=Promise.resolve()),de.then(function(){return S(lt),lt})},B.purge=function(lt){var rt=(lt=e.getGraphDiv(lt))._fullLayout||{};return d.cleanPlot([],{},lt._fullData||[],rt),d.purge(lt),s.purge(lt),rt._container&&rt._container.remove(),delete lt._context,lt},B.react=function(lt,rt,dt,mt){var Dt,bt;lt=e.getGraphDiv(lt),A.clearPromiseQueue(lt);var Lt,Pt,Bt,Rt,jt,Ut,wt=lt._fullData,Ot=lt._fullLayout;if(e.isPlotDiv(lt)&&wt&&Ot){if(e.isPlainObject(rt)){var It=rt;rt=It.data,dt=It.layout,mt=It.config,Dt=It.frames}var St=!1;if(mt){var Nt=e.extendDeep({},lt._context);lt._context=void 0,F(lt,mt),St=function Lt(Pt,Bt){var Rt;for(Rt in Pt)if("_"!==Rt.charAt(0)){var jt=Pt[Rt],Ut=Bt[Rt];if(jt!==Ut)if(e.isPlainObject(jt)&&e.isPlainObject(Ut)){if(Lt(jt,Ut))return!0}else{if(!Array.isArray(jt)||!Array.isArray(Ut)||jt.length!==Ut.length)return!0;for(var ee=0;ee<jt.length;ee++)if(jt[ee]!==Ut[ee]&&(!e.isPlainObject(jt[ee])||!e.isPlainObject(Ut[ee])||Lt(jt[ee],Ut[ee])))return!0}}}(Nt,lt._context)}lt.data=rt||[],A.cleanData(lt.data),lt.layout=dt||{},A.cleanLayout(lt.layout),function(Lt,Pt,Bt,Rt){var jt,Ut,ee,ie,fe,Ae,re,ve,Pe,se,te=Rt._preGUI,Le=[],_e={},ge={};for(jt in te){if(fe=gt(jt,ut)){if(Pe=fe.head,se=fe.tail,(ie=(ee=n(Rt,Ut=fe.attr||Pe+".uirevision").get())&&vt(Ut,Pt))&&ie===ee){if(null===(Ae=te[jt])&&(Ae=void 0),zt(ve=(re=n(Pt,jt)).get(),Ae)){void 0===ve&&"autorange"===se&&Le.push(Pe),re.set(G(n(Rt,jt).get()));continue}if("autorange"===se||"range["===se.substr(0,6)){var Fe=te[Pe+".autorange"];if(Fe||null===Fe&&null===te[Pe+".range[0]"]&&null===te[Pe+".range[1]"]){if(!(Pe in _e)){var Ie=n(Pt,Pe).get();_e[Pe]=Ie&&(Ie.autorange||!1!==Ie.autorange&&(!Ie.range||2!==Ie.range.length))}if(_e[Pe]){re.set(G(n(Rt,jt).get()));continue}}}}}else e.warn("unrecognized GUI edit: "+jt);delete te[jt],fe&&"range["===fe.tail.substr(0,6)&&(ge[fe.head]=1)}for(var Re=0;Re<Le.length;Re++){var Ze=Le[Re];if(ge[Ze]){var We=n(Pt,Ze).get();We&&delete We.autorange}}var Be=Rt._tracePreGUI;for(var be in Be){var me,Me=Be[be],ze=null;for(jt in Me){if(!ze){var Ce=xt(be,Bt);if(Ce<0){delete Be[be];break}var Ve=Tt(be,Lt,(me=Bt[Ce]._fullInput).index);if(Ve<0){delete Be[be];break}ze=Lt[Ve]}if(fe=gt(jt,ct)){if(fe.attr?ie=(ee=n(Rt,fe.attr).get())&&vt(fe.attr,Pt):(ee=me.uirevision,void 0===(ie=ze.uirevision)&&(ie=Pt.uirevision)),ie&&ie===ee&&(null===(Ae=Me[jt])&&(Ae=void 0),zt(ve=(re=n(ze,jt)).get(),Ae))){re.set(G(n(me,jt).get()));continue}}else e.warn("unrecognized GUI edit: "+jt+" in trace uid "+be);delete Me[jt]}}}(lt.data,lt.layout,wt,Ot),d.supplyDefaults(lt,{skipUpdateCalc:!0});var Vt=lt._fullData,Ct=lt._fullLayout,Gt=void 0===Ct.datarevision,$t=Ct.transition,Xt=(Lt=lt,Pt=Ot,Bt=Ct,Rt=Gt,jt=$t,(Ut=k.layoutFlags()).arrays={},Ut.rangesAltered={},Ut.nChanges=0,Ut.nChangesAnim=0,Et(Pt,Bt,[],{getValObject:function ee(ie){return r.getLayoutValObject(Bt,ie)},flags:Ut,immutable:Rt,transition:jt,gd:Lt}),(Ut.plot||Ut.calc)&&(Ut.layoutReplot=!0),jt&&Ut.nChanges&&Ut.nChangesAnim&&(Ut.anim=Ut.nChanges===Ut.nChangesAnim?"all":"some"),Ut),Kt=function(Lt,Pt,Bt,Rt,jt,Ut){var ee=Pt.length===Bt.length;if(!jt&&!ee)return{fullReplot:!0,calc:!0};var ie,fe,Ae=k.traceFlags();Ae.arrays={},Ae.nChanges=0,Ae.nChangesAnim=0;var re={getValObject:function(Pe){var se=r.getTraceValObject(fe,Pe);return!fe._module.animatable&&se.anim&&(se.anim=!1),se},flags:Ae,immutable:Rt,transition:jt,newDataRevision:Ut,gd:Lt},ve={};for(ie=0;ie<Pt.length;ie++)if(Bt[ie]){if(d.hasMakesDataTransform(fe=Bt[ie]._fullInput)&&(fe=Bt[ie]),ve[fe.uid])continue;ve[fe.uid]=1,Et(Pt[ie]._fullInput,fe,[],re)}return(Ae.calc||Ae.plot)&&(Ae.fullReplot=!0),jt&&Ae.nChanges&&Ae.nChangesAnim&&(Ae.anim=Ae.nChanges===Ae.nChangesAnim&&ee?"all":"some"),Ae}(lt,wt,Vt,Gt,$t,Xt.newDataRevision);if(K(lt)&&(Xt.layoutReplot=!0),Kt.calc||Xt.calc){lt.calcdata=void 0;for(var kt=Object.getOwnPropertyNames(Ct),Mt=0;Mt<kt.length;Mt++){var qt=kt[Mt],ce=qt.substring(0,5);if("xaxis"===ce||"yaxis"===ce){var Te=Ct[qt]._emptyCategories;Te&&Te()}}}else d.supplyDefaultsUpdateCalc(lt.calcdata,Vt);var Oe=[];if(Dt&&(lt._transitionData={},d.createTransitionData(lt),Oe.push(function(){return B.addFrames(lt,Dt)})),Ct.transition&&!St&&(Kt.anim||Xt.anim))Xt.ticks&&Oe.push(b.doTicksRelayout),d.doCalcdata(lt),b.doAutoRangeAndConstraints(lt),Oe.push(function(){return d.transitionFromReact(lt,Kt,Xt,Ot)});else if(Kt.fullReplot||Xt.layoutReplot||St)lt._fullLayout._skipDefaults=!0,Oe.push(B._doPlot);else{for(var xe in Xt.arrays){var ye=Xt.arrays[xe];if(ye.length){var le=i.getComponentMethod(xe,"drawOne");if(le!==e.noop)for(var nt=0;nt<ye.length;nt++)le(lt,ye[nt]);else{var it=i.getComponentMethod(xe,"draw");if(it===e.noop)throw new Error("cannot draw components: "+xe);it(lt)}}}Oe.push(d.previousPromises),Kt.style&&Oe.push(b.doTraceStyle),(Kt.colorbars||Xt.colorbars)&&Oe.push(b.doColorBars),Xt.legend&&Oe.push(b.doLegend),Xt.layoutstyle&&Oe.push(b.layoutStyles),Xt.axrange&&D(Oe),Xt.ticks&&Oe.push(b.doTicksRelayout),Xt.modebar&&Oe.push(b.doModeBar),Xt.camera&&Oe.push(b.doCamera),Oe.push(S)}Oe.push(d.rehover,d.redrag),(bt=e.syncOrAsync(Oe,lt))&&bt.then||(bt=Promise.resolve(lt))}else bt=B.newPlot(lt,rt,dt,mt);return bt.then(function(){return lt.emit("plotly_react",{data:rt,layout:dt}),lt})},B.redraw=function(lt){if(lt=e.getGraphDiv(lt),!e.isPlotDiv(lt))throw new Error("This element is not a Plotly plot: "+lt);return A.cleanData(lt.data),A.cleanLayout(lt.layout),lt.calcdata=void 0,B._doPlot(lt).then(function(){return lt.emit("plotly_redraw"),lt})},B.relayout=Z,B.restyle=ot,B.setPlotConfig=function(lt){return e.extendFlat(m,lt)},B.update=J,B._guiRelayout=Q(Z),B._guiRestyle=Q(ot),B._guiUpdate=Q(J),B._storeDirectGUIEdit=function(lt,rt,dt){for(var mt in dt)j(mt,n(lt,mt).get(),dt[mt],rt)}},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"../lib/events":225,"../lib/queue":247,"../plots/cartesian/axes":279,"../plots/cartesian/constants":286,"../plots/cartesian/graph_interact":289,"../plots/cartesian/select":300,"../plots/plots":316,"../registry":318,"./edit_types":261,"./helpers":262,"./manage_arrays":264,"./plot_config":266,"./plot_schema":267,"./subroutines":269,"@plotly/d3":11,"fast-isnumeric":17,"has-hover":48}],266:[function(c,tt,B){"use strict";var t={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},l={};(function o(e,n){for(var s in e){var a=e[s];a.valType?n[s]=a.dflt:(n[s]||(n[s]={}),o(a,n[s]))}})(t,l),tt.exports={configAttributes:t,dfltConfig:l}},{}],267:[function(c,tt,B){"use strict";var t=c("../registry"),l=c("../lib"),o=c("../plots/attributes"),e=c("../plots/layout_attributes"),n=c("../plots/frame_attributes"),s=c("../plots/animation_attributes"),a=c("./plot_config").configAttributes,i=c("./edit_types"),r=l.extendDeepAll,d=l.isPlainObject,f=l.isArrayOrTypedArray,h=l.nestedProperty,p=l.valObjectMeta,T=["_isSubplotObj","_isLinkedToArray","_arrayAttrRegexps","_deprecated"];function w(L,g,S){if(!L)return!1;if(L._isLinkedToArray)if(x(g[S]))S++;else if(S<g.length)return!1;for(;S<g.length;S++){var E=L[g[S]];if(!d(E)||(L=E,S===g.length-1))break;if(L._isLinkedToArray){if(!x(g[++S]))return!1}else if("info_array"===L.valType){var v=g[++S];if(!x(v))return!1;var F=L.items;if(Array.isArray(F)){if(v>=F.length)return!1;if(2===L.dimensions){if(S++,g.length===S)return L;var N=g[S];if(!x(N))return!1;L=F[v][N]}else L=F[v]}else L=F}}return L}function x(L){return L===Math.round(L)&&L>=0}function m(){var L,g,S={};for(L in r(S,e),t.subplotsRegistry)if((g=t.subplotsRegistry[L]).layoutAttributes)if(Array.isArray(g.attr))for(var E=0;E<g.attr.length;E++)b(S,g,g.attr[E]);else b(S,g,"subplot"===g.attr?g.name:g.attr);for(L in t.componentsRegistry){var v=(g=t.componentsRegistry[L]).schema;if(v&&(v.subplots||v.layout)){var F=v.subplots;if(F&&F.xaxis&&!F.yaxis)for(var N in F.xaxis)delete S.yaxis[N]}else"colorscale"===g.name?r(S,g.layoutAttributes):g.layoutAttributes&&k(S,g.layoutAttributes,g.name)}return{layoutAttributes:A(S)}}function y(){var L={frames:r({},n)};return A(L),L.frames}function A(L){return B.crawl(L,function(S,E,v){B.isValObject(S)?!0!==S.arrayOk&&"data_array"!==S.valType||(v[E+"src"]={valType:"string",editType:"none"}):d(S)&&(S.role="object")}),B.crawl(L,function(S,E,v){if(S){var F=S._isLinkedToArray;F&&(delete S._isLinkedToArray,v[E]={items:{}},v[E].items[F]=S,v[E].role="object")}}),function(g){!function S(E){for(var v in E)if(d(E[v]))S(E[v]);else if(Array.isArray(E[v]))for(var F=0;F<E[v].length;F++)S(E[v][F]);else E[v]instanceof RegExp&&(E[v]=E[v].toString())}(g)}(L),L}function b(L,g,S){var E=h(L,S),v=r({},g.layoutAttributes);v._isSubplotObj=!0,E.set(v)}function k(L,g,S){var E=h(L,S);E.set(r(E.get()||{},g))}B.IS_SUBPLOT_OBJ="_isSubplotObj",B.IS_LINKED_TO_ARRAY="_isLinkedToArray",B.DEPRECATED="_deprecated",B.UNDERSCORE_ATTRS=T,B.get=function(){var L={};t.allTypes.forEach(function(S){L[S]=function(E){var v,F;F=(v=t.modules[E]._module).basePlotModule;var N={type:null},z=r({},o),U=r({},v.attributes);B.crawl(U,function(ot,G,R,j,P){h(z,P).set(void 0),void 0===ot&&h(U,P).set(void 0)}),r(N,z),t.traceIs(E,"noOpacity")&&delete N.opacity,t.traceIs(E,"showLegend")||(delete N.showlegend,delete N.legendgroup),t.traceIs(E,"noHover")&&(delete N.hoverinfo,delete N.hoverlabel),v.selectPoints||delete N.selectedpoints,r(N,U),F.attributes&&r(N,F.attributes),N.type=E;var Y={meta:v.meta||{},categories:v.categories||{},animatable:Boolean(v.animatable),type:E,attributes:A(N)};if(v.layoutAttributes){var $={};r($,v.layoutAttributes),Y.layoutAttributes=A($)}return v.animatable||B.crawl(Y,function(ot){B.isValObject(ot)&&"anim"in ot&&delete ot.anim}),Y}(S)});var g={};return Object.keys(t.transformsRegistry).forEach(function(S){var E,F;g[S]=(F=r({},t.transformsRegistry[E=S].attributes),Object.keys(t.componentsRegistry).forEach(function(N){var z=t.componentsRegistry[N];z.schema&&z.schema.transforms&&z.schema.transforms[E]&&Object.keys(z.schema.transforms[E]).forEach(function(U){k(F,z.schema.transforms[E][U],U)})}),{attributes:A(F)})}),{defs:{valObjects:p,metaKeys:T.concat(["description","role","editType","impliedEdits"]),editType:{traces:i.traces,layout:i.layout},impliedEdits:{}},traces:L,layout:m(),transforms:g,frames:y(),animation:A(s),config:A(a)}},B.crawl=function(L,g,S,E){var v=S||0;E=E||"",Object.keys(L).forEach(function(F){var N=L[F];if(-1===T.indexOf(F)){var z=(E?E+".":"")+F;g(N,F,L,v,z),B.isValObject(N)||d(N)&&"impliedEdits"!==F&&B.crawl(N,g,v+1,z)}})},B.isValObject=function(L){return L&&void 0!==L.valType},B.findArrayAttributes=function(L){var g,S,E=[],v=[],F=[];function N(ot,G,R,j){v=v.slice(0,j).concat([G]),F=F.slice(0,j).concat([ot&&ot._isLinkedToArray]),ot&&("data_array"===ot.valType||!0===ot.arrayOk)&&("colorbar"!==v[j-1]||"ticktext"!==G&&"tickvals"!==G)&&function P(I,Z,q){var D=I[v[Z]],M=q+v[Z];if(Z===v.length-1)f(D)&&E.push(S+M);else if(F[Z]){if(Array.isArray(D))for(var H=0;H<D.length;H++)d(D[H])&&P(D[H],Z+1,M+"["+H+"].")}else d(D)&&P(D,Z+1,M+".")}(g,0,"")}g=L,S="",B.crawl(o,N),L._module&&L._module.attributes&&B.crawl(L._module.attributes,N);var z=L.transforms;if(z)for(var U=0;U<z.length;U++){var Y=z[U],$=Y._module;$&&(S="transforms["+U+"].",g=Y,B.crawl($.attributes,N))}return E},B.getTraceValObject=function(L,g){var S,E,v=g[0],F=1;if("transforms"===v){if(1===g.length)return o.transforms;var N=L.transforms;if(!Array.isArray(N)||!N.length)return!1;var z=g[1];if(!x(z)||z>=N.length)return!1;E=(S=(t.transformsRegistry[N[z].type]||{}).attributes)&&S[g[2]],F=3}else{var U=L._module;if(U||(U=(t.modules[L.type||o.type.dflt]||{})._module),!U)return!1;if(!(E=(S=U.attributes)&&S[v])){var Y=U.basePlotModule;Y&&Y.attributes&&(E=Y.attributes[v])}E||(E=o[v])}return w(E,g,F)},B.getLayoutValObject=function(L,g){return w(function(S,E){var v,F,N,z,U=S._basePlotModules;if(U){var Y;for(v=0;v<U.length;v++){if((N=U[v]).attrRegex&&N.attrRegex.test(E)){if(N.layoutAttrOverrides)return N.layoutAttrOverrides;!Y&&N.layoutAttributes&&(Y=N.layoutAttributes)}var $=N.baseLayoutAttrOverrides;if($&&E in $)return $[E]}if(Y)return Y}var ot=S._modules;if(ot)for(v=0;v<ot.length;v++)if((z=ot[v].layoutAttributes)&&E in z)return z[E];for(F in t.componentsRegistry){if("colorscale"===(N=t.componentsRegistry[F]).name&&0===E.indexOf("coloraxis"))return N.layoutAttributes[E];if(!N.schema&&E===N.name)return N.layoutAttributes}return E in e&&e[E]}(L,g[0]),g,1)}},{"../lib":232,"../plots/animation_attributes":273,"../plots/attributes":275,"../plots/frame_attributes":311,"../plots/layout_attributes":314,"../registry":318,"./edit_types":261,"./plot_config":266}],268:[function(c,tt,B){"use strict";var t=c("../lib"),l=c("../plots/attributes"),o={name:{valType:"string",editType:"none"}};function e(s){return s&&"string"==typeof s}function n(s){return"s"!==s.charAt(s.length-1)&&t.warn("bad argument to arrayDefaultKey: "+s),s.substr(0,s.length-1)+"defaults"}o.templateitemname={valType:"string",editType:"calc"},B.templatedArray=function(s,a){return a._isLinkedToArray=s,a.name=o.name,a.templateitemname=o.templateitemname,a},B.traceTemplater=function(s){var a,i,r={};for(a in s)i=s[a],Array.isArray(i)&&i.length&&(r[a]=0);return{newTrace:function(d){var f={type:a=t.coerce(d,{},l,"type"),_template:null};if(a in r){var h=r[a]%(i=s[a]).length;r[a]++,f._template=i[h]}return f}}},B.newContainer=function(s,a,i){var r=s._template,d=r&&(r[a]||i&&r[i]);return t.isPlainObject(d)||(d=null),s[a]={_template:d}},B.arrayTemplater=function(s,a,i){var r=s._template,d=r&&r[n(a)],f=r&&r[a];Array.isArray(f)&&f.length||(f=[]);var h={};return{newItem:function(p){var T={name:p.name,_input:p},w=T.templateitemname=p.templateitemname;if(!e(w))return T._template=d,T;for(var x=0;x<f.length;x++){var m=f[x];if(m.name===w)return h[w]=1,T._template=m,T}return T[i]=p[i]||!1,T._template=!1,T},defaultItems:function(){for(var p=[],T=0;T<f.length;T++){var w=f[T],x=w.name;if(e(x)&&!h[x]){var m={_template:w,name:x,_input:{_templateitemname:x}};m.templateitemname=w.templateitemname,p.push(m),h[x]=1}}return p}}},B.arrayDefaultKey=n,B.arrayEditor=function(s,a,i){var r=(t.nestedProperty(s,a).get()||[]).length,d=i._index,f=d>=r&&(i._input||{})._templateitemname;f&&(d=r);var h,p=a+"["+d+"]";function T(){h={},f&&(h[p]={},h[p].templateitemname=f)}function w(m,y){f?t.nestedProperty(h[p],m).set(y):h[p+"."+m]=y}function x(){var m=h;return T(),m}return T(),{modifyBase:function(m,y){h[m]=y},modifyItem:w,getUpdateObj:x,applyUpdate:function(m,y){m&&w(m,y);var A=x();for(var b in A)t.nestedProperty(s,b).set(A[b])}}}},{"../lib":232,"../plots/attributes":275}],269:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../registry"),o=c("../plots/plots"),e=c("../lib"),n=c("../lib/clear_gl_canvases"),s=c("../components/color"),a=c("../components/drawing"),i=c("../components/titles"),r=c("../components/modebar"),d=c("../plots/cartesian/axes"),f=c("../constants/alignment"),h=c("../plots/cartesian/constraints"),p=h.enforce,T=h.clean,w=c("../plots/cartesian/autorange").doAutoRange;function x(g,S,E){for(var v=0;v<E.length;v++){var F=E[v][0],N=E[v][1];if(!(F[0]>=g[1]||F[1]<=g[0])&&N[0]<S[1]&&N[1]>S[0])return!0}return!1}function m(g){var S,E,v,F,N,z,U=g._fullLayout,Y=U._size,$=Y.p,ot=d.list(g,"",!0);if(U._paperdiv.style({width:g._context.responsive&&U.autosize&&!g._context._hasZeroWidth&&!g.layout.width?"100%":U.width+"px",height:g._context.responsive&&U.autosize&&!g._context._hasZeroHeight&&!g.layout.height?"100%":U.height+"px"}).selectAll(".main-svg").call(a.setSize,U.width,U.height),g._context.setBackground(g,U.paper_bgcolor),B.drawMainTitle(g),r.manage(g),!U._has("cartesian"))return o.previousPromises(g);function G(Ct,Gt,$t){var Xt=Ct._lw/2;return"x"===Ct._id.charAt(0)?Gt?"top"===$t?Gt._offset-$-Xt:Gt._offset+Gt._length+$+Xt:Y.t+Y.h*(1-(Ct.position||0))+Xt%1:Gt?"right"===$t?Gt._offset+Gt._length+$+Xt:Gt._offset-$-Xt:Y.l+Y.w*(Ct.position||0)+Xt%1}for(S=0;S<ot.length;S++){var R=(F=ot[S])._anchorAxis;F._linepositions={},F._lw=a.crispRound(g,F.linewidth,1),F._mainLinePosition=G(F,R,F.side),F._mainMirrorPosition=F.mirror&&R?G(F,R,f.OPPOSITE_SIDE[F.side]):null}var j=[],P=[],I=[],Z=1===s.opacity(U.paper_bgcolor)&&1===s.opacity(U.plot_bgcolor)&&U.paper_bgcolor===U.plot_bgcolor;for(E in U._plots)if((v=U._plots[E]).mainplot)v.bg&&v.bg.remove(),v.bg=void 0;else{var q=v.xaxis.domain,D=v.yaxis.domain,M=v.plotgroup;if(x(q,D,I)){var H=M.node(),C=v.bg=e.ensureSingle(M,"rect","bg");H.insertBefore(C.node(),H.childNodes[0]),P.push(E)}else M.select("rect.bg").remove(),I.push([q,D]),Z||(j.push(E),P.push(E))}var W,K,J,Q,ut,ct,gt,vt,xt,Tt,zt,Et,At,lt=U._bgLayer.selectAll(".bg").data(j);for(lt.enter().append("rect").classed("bg",!0),lt.exit().remove(),lt.each(function(Ct){U._plots[Ct].bg=t.select(this)}),S=0;S<P.length;S++)N=(v=U._plots[P[S]]).xaxis,z=v.yaxis,v.bg&&void 0!==N._offset&&void 0!==z._offset&&v.bg.call(a.setRect,N._offset-$,z._offset-$,N._length+2*$,z._length+2*$).call(s.fill,U.plot_bgcolor).style("stroke-width",0);if(!U._hasOnlyLargeSploms)for(E in U._plots){N=(v=U._plots[E]).xaxis,z=v.yaxis;var rt,dt,mt=v.clipId="clip"+U._uid+E+"plot",Dt=e.ensureSingleById(U._clips,"clipPath",mt,function(Ct){Ct.classed("plotclip",!0).append("rect")});v.clipRect=Dt.select("rect").attr({width:N._length,height:z._length}),a.setTranslate(v.plot,N._offset,z._offset),v._hasClipOnAxisFalse?(rt=null,dt=mt):(rt=mt,dt=null),a.setClipUrl(v.plot,rt,g),v.layerClipId=dt}function bt(Ct){return"M"+W+","+Ct+"H"+K}function wt(Ct){return"M"+N._offset+","+Ct+"h"+N._length}function Ot(Ct){return"M"+Ct+","+vt+"V"+gt}function It(Ct){return"M"+Ct+","+z._offset+"v"+z._length}function St(Ct,Gt,$t){if(!Ct.showline||E!==Ct._mainSubplot)return"";if(!Ct._anchorAxis)return $t(Ct._mainLinePosition);var Xt=Gt(Ct._mainLinePosition);return Ct.mirror&&(Xt+=Gt(Ct._mainMirrorPosition)),Xt}for(E in U._plots){z=(v=U._plots[E]).yaxis;var Nt="M0,0";y(N=v.xaxis,E)&&(ut=b(N,"left",z,ot),W=N._offset-(ut?$+ut:0),ct=b(N,"right",z,ot),K=N._offset+N._length+(ct?$+ct:0),J=G(N,z,"bottom"),Q=G(N,z,"top"),!(At=!N._anchorAxis||E!==N._mainSubplot)||"allticks"!==N.mirror&&"all"!==N.mirror||(N._linepositions[E]=[J,Q]),Nt=St(N,bt,wt),At&&N.showline&&("all"===N.mirror||"allticks"===N.mirror)&&(Nt+=bt(J)+bt(Q)),v.xlines.style("stroke-width",N._lw+"px").call(s.stroke,N.showline?N.linecolor:"rgba(0,0,0,0)")),v.xlines.attr("d",Nt);var Vt="M0,0";y(z,E)&&(zt=b(z,"bottom",N,ot),gt=z._offset+z._length+(zt?$:0),Et=b(z,"top",N,ot),vt=z._offset-(Et?$:0),xt=G(z,N,"left"),Tt=G(z,N,"right"),!(At=!z._anchorAxis||E!==z._mainSubplot)||"allticks"!==z.mirror&&"all"!==z.mirror||(z._linepositions[E]=[xt,Tt]),Vt=St(z,Ot,It),At&&z.showline&&("all"===z.mirror||"allticks"===z.mirror)&&(Vt+=Ot(xt)+Ot(Tt)),v.ylines.style("stroke-width",z._lw+"px").call(s.stroke,z.showline?z.linecolor:"rgba(0,0,0,0)")),v.ylines.attr("d",Vt)}return d.makeClipPaths(g),o.previousPromises(g)}function y(g,S){return(g.ticks||g.showline)&&(S===g._mainSubplot||"all"===g.mirror||"allticks"===g.mirror)}function A(g,S,E){if(!E.showline||!E._lw)return!1;if("all"===E.mirror||"allticks"===E.mirror)return!0;var v=E._anchorAxis;if(!v)return!1;var F=f.FROM_BL[S];return E.side===S?v.domain[F]===g.domain[F]:E.mirror&&v.domain[1-F]===g.domain[1-F]}function b(g,S,E,v){if(A(g,S,E))return E._lw;for(var F=0;F<v.length;F++){var N=v[F];if(N._mainAxis===E._mainAxis&&A(g,S,N))return N._lw}return 0}function k(g,S){var E=g.title,v=g._size,F=0;return"paper"===("start"===S?F=E.pad.l:"end"===S&&(F=-E.pad.r),E.xref)?v.l+v.w*E.x+F:g.width*E.x+F}function L(g,S){var E=g.title,v=g._size,F=0;return"0em"!==S&&S?S===f.CAP_SHIFT+"em"&&(F=E.pad.t):F=-E.pad.b,"auto"===E.y?v.t/2:"paper"===E.yref?v.t+v.h-v.h*E.y+F:g.height-g.height*E.y+F}B.layoutStyles=function(g){return e.syncOrAsync([o.doAutoMargin,m],g)},B.drawMainTitle=function(g){var N,z,S=g._fullLayout,E=(z="middle",e.isRightAnchor(N=S.title)?z="end":e.isLeftAnchor(N)&&(z="start"),z),v=function(F){var N=F.title,z="0em";return e.isTopAnchor(N)?z=f.CAP_SHIFT+"em":e.isMiddleAnchor(N)&&(z=f.MID_SHIFT+"em"),z}(S);i.draw(g,"gtitle",{propContainer:S,propName:"title.text",placeholder:S._dfltTitle.plot,attributes:{x:k(S,E),y:L(S,v),"text-anchor":E,dy:v}})},B.doTraceStyle=function(g){var S,E=g.calcdata,v=[];for(S=0;S<E.length;S++){var F=E[S],N=F[0]||{},z=N.trace||{},U=z._module||{},Y=U.arraysToCalcdata;Y&&Y(F,z);var $=U.editStyle;$&&v.push({fn:$,cd0:N})}if(v.length){for(S=0;S<v.length;S++){var ot=v[S];ot.fn(g,ot.cd0)}n(g),B.redrawReglTraces(g)}return o.style(g),l.getComponentMethod("legend","draw")(g),o.previousPromises(g)},B.doColorBars=function(g){return l.getComponentMethod("colorbar","draw")(g),o.previousPromises(g)},B.layoutReplot=function(g){var S=g.layout;return g.layout=void 0,l.call("_doPlot",g,"",S)},B.doLegend=function(g){return l.getComponentMethod("legend","draw")(g),o.previousPromises(g)},B.doTicksRelayout=function(g){return d.draw(g,"redraw"),g._fullLayout._hasOnlyLargeSploms&&(l.subplotsRegistry.splom.updateGrid(g),n(g),B.redrawReglTraces(g)),B.drawMainTitle(g),o.previousPromises(g)},B.doModeBar=function(g){var S=g._fullLayout;r.manage(g);for(var E=0;E<S._basePlotModules.length;E++){var v=S._basePlotModules[E].updateFx;v&&v(g)}return o.previousPromises(g)},B.doCamera=function(g){for(var S=g._fullLayout,E=S._subplots.gl3d,v=0;v<E.length;v++){var F=S[E[v]];F._scene.setViewport(F)}},B.drawData=function(g){var S=g._fullLayout;n(g);for(var E=S._basePlotModules,v=0;v<E.length;v++)E[v].plot(g);return B.redrawReglTraces(g),o.style(g),l.getComponentMethod("shapes","draw")(g),l.getComponentMethod("annotations","draw")(g),l.getComponentMethod("images","draw")(g),S._replotting=!1,o.previousPromises(g)},B.redrawReglTraces=function(g){var S=g._fullLayout;if(S._has("regl")){var E,v,F=g._fullData,N=[],z=[];for(S._hasOnlyLargeSploms&&S._splomGrid.draw(),E=0;E<F.length;E++){var U=F[E];!0===U.visible&&0!==U._length&&("splom"===U.type?S._splomScenes[U.uid].draw():"scattergl"===U.type?e.pushUnique(N,U.xaxis+U.yaxis):"scatterpolargl"===U.type&&e.pushUnique(z,U.subplot))}for(E=0;E<N.length;E++)(v=S._plots[N[E]])._scene&&v._scene.draw();for(E=0;E<z.length;E++)(v=S[z[E]]._subplot)._scene&&v._scene.draw()}},B.doAutoRangeAndConstraints=function(g){for(var S,E=d.list(g,"",!0),v={},F=0;F<E.length;F++)if(!v[(S=E[F])._id]){v[S._id]=1,T(g,S),w(g,S);var N=S._matchGroup;if(N)for(var z in N){var U=d.getFromId(g,z);w(g,U,S.range),v[z]=1}}p(g)},B.finalDraw=function(g){l.getComponentMethod("rangeslider","draw")(g),l.getComponentMethod("rangeselector","draw")(g)},B.drawMarginPushers=function(g){l.getComponentMethod("legend","draw")(g),l.getComponentMethod("rangeselector","draw")(g),l.getComponentMethod("sliders","draw")(g),l.getComponentMethod("updatemenus","draw")(g),l.getComponentMethod("colorbar","draw")(g)}},{"../components/color":102,"../components/drawing":124,"../components/modebar":165,"../components/titles":200,"../constants/alignment":207,"../lib":232,"../lib/clear_gl_canvases":220,"../plots/cartesian/autorange":278,"../plots/cartesian/axes":279,"../plots/cartesian/constraints":287,"../plots/plots":316,"../registry":318,"@plotly/d3":11}],270:[function(c,tt,B){"use strict";var t=c("../lib"),l=t.isPlainObject,o=c("./plot_schema"),e=c("../plots/plots"),n=c("../plots/attributes"),s=c("./plot_template"),a=c("./plot_config").dfltConfig;function i(x,m){x=t.extendDeep({},x);var y,A,b=Object.keys(x).sort();function k(v,F,N){if(l(F)&&l(v))i(v,F);else if(Array.isArray(F)&&Array.isArray(v)){var z=s.arrayTemplater({_template:x},N);for(A=0;A<F.length;A++){var U=F[A],Y=z.newItem(U)._template;Y&&i(Y,U)}var $=z.defaultItems();for(A=0;A<$.length;A++)F.push($[A]._template);for(A=0;A<F.length;A++)delete F[A].templateitemname}}for(y=0;y<b.length;y++){var L=b[y],g=x[L];if(L in m?k(g,m[L],L):m[L]=g,r(L)===L)for(var S in m){var E=r(S);S===E||E!==L||S in x||k(g,m[S],L)}}}function r(x){return x.replace(/[0-9]+$/,"")}function d(x,m,y,A,b){var k=b&&y(b);for(var L in x){var g=x[L],S=p(x,L,A),E=p(x,L,b),v=y(E);if(!v){var F=r(L);F!==L&&(v=y(E=p(x,F,b)))}if(!(k&&k===v||!v||v._noTemplating||"data_array"===v.valType||v.arrayOk&&Array.isArray(g)))if(!v.valType&&l(g))d(g,m,y,S,E);else if(v._isLinkedToArray&&Array.isArray(g))for(var N=!1,z=0,U={},Y=0;Y<g.length;Y++){var $=g[Y];if(l($)){var ot=$.name;if(ot)U[ot]||(d($,m,y,p(g,z,S),p(g,z,E)),z++,U[ot]=1);else if(!N){var G=p(x,s.arrayDefaultKey(L),A),R=p(g,z,S);d($,m,y,R,p(g,z,E));var j=t.nestedProperty(m,R);t.nestedProperty(m,G).set(j.get()),j.set(null),N=!0}}}else t.nestedProperty(m,S).set(g)}}function f(x,m){return o.getLayoutValObject(x,t.nestedProperty({},m).parts)}function h(x,m){return o.getTraceValObject(x,t.nestedProperty({},m).parts)}function p(x,m,y){return y?Array.isArray(x)?y+"["+m+"]":y+"."+m:m}function T(x){for(var m=0;m<x.length;m++)if(l(x[m]))return!0}function w(x){var m;switch(x.code){case"data":m="The template has no key data.";break;case"layout":m="The template has no key layout.";break;case"missing":m=x.path?"There are no templates for item "+x.path+" with name "+x.templateitemname:"There are no templates for trace "+x.index+", of type "+x.traceType+".";break;case"unused":m=x.path?"The template item at "+x.path+" was not used in constructing the plot.":x.dataCount?"Some of the templates of type "+x.traceType+" were not used. The template has "+x.templateCount+" traces, the data only has "+x.dataCount+" of this type.":"The template has "+x.templateCount+" traces of type "+x.traceType+" but there are none in the data.";break;case"reused":m="Some of the templates of type "+x.traceType+" were used more than once. The template has "+x.templateCount+" traces, the data has "+x.dataCount+" of this type."}return x.msg=m,x}B.makeTemplate=function(x){x=t.isPlainObject(x)?x:t.getGraphDiv(x),x=t.extendDeep({_context:a},{data:x.data,layout:x.layout}),e.supplyDefaults(x);var m=x.data||[],y=x.layout||{};y._basePlotModules=x._fullLayout._basePlotModules,y._modules=x._fullLayout._modules;var A={data:{},layout:{}};m.forEach(function(z){var U={};d(z,U,h.bind(null,z));var Y=t.coerce(z,{},n,"type"),$=A.data[Y];$||($=A.data[Y]=[]),$.push(U)}),d(y,A.layout,f.bind(null,y)),delete A.layout.template;var b=y.template;if(l(b)){var k,L,g,S,E,v,F=b.layout;l(F)&&i(F,A.layout);var N=b.data;if(l(N)){for(L in A.data)if(g=N[L],Array.isArray(g)){for(v=(E=A.data[L]).length,S=g.length,k=0;k<v;k++)i(g[k%S],E[k]);for(k=v;k<S;k++)E.push(t.extendDeep({},g[k]))}for(L in N)L in A.data||(A.data[L]=t.extendDeep([],N[L]))}}return A},B.validateTemplate=function(x,m){var y=t.extendDeep({},{_context:a,data:x.data,layout:x.layout}),A=y.layout||{};l(m)||(m=A.template||{});var b=m.layout,k=m.data,L=[];y.layout=A,y.layout.template=m,e.supplyDefaults(y);var g=y._fullLayout,S=y._fullData,E={};if(l(b)?(function $(ot,G){for(var R in ot)if("_"!==R.charAt(0)&&l(ot[R])){var j,P=r(R),I=[];for(j=0;j<G.length;j++)I.push(p(ot,R,G[j])),P!==R&&I.push(p(ot,P,G[j]));for(j=0;j<I.length;j++)E[I[j]]=1;$(ot[R],I)}}(g,["layout"]),function $(ot,G){for(var R in ot)if(-1===R.indexOf("defaults")&&l(ot[R])){var j=p(ot,R,G);E[j]?$(ot[R],j):L.push({code:"unused",path:j})}}(b,"layout")):L.push({code:"layout"}),l(k)){for(var v,F={},N=0;N<S.length;N++){var z=S[N];F[v=z.type]=(F[v]||0)+1,z._fullInput._template||L.push({code:"missing",index:z._fullInput.index,traceType:v})}for(v in k){var U=k[v].length,Y=F[v]||0;U>Y?L.push({code:"unused",traceType:v,templateCount:U,dataCount:Y}):Y>U&&L.push({code:"reused",traceType:v,templateCount:U,dataCount:Y})}}else L.push({code:"data"});if(function $(ot,G){for(var R in ot)if("_"!==R.charAt(0)){var j=ot[R],P=p(ot,R,G);l(j)?(Array.isArray(ot)&&!1===j._template&&j.templateitemname&&L.push({code:"missing",path:P,templateitemname:j.templateitemname}),$(j,P)):Array.isArray(j)&&T(j)&&$(j,P)}}({data:S,layout:g},""),L.length)return L.map(w)}},{"../lib":232,"../plots/attributes":275,"../plots/plots":316,"./plot_config":266,"./plot_schema":267,"./plot_template":268}],271:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("./plot_api"),o=c("../plots/plots"),e=c("../lib"),n=c("../snapshot/helpers"),s=c("../snapshot/tosvg"),a=c("../snapshot/svgtoimg"),i=c("../version").version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};tt.exports=function(d,f){var h,p,T,w;function x(Y){return!(Y in f)||e.validate(f[Y],r[Y])}if(f=f||{},e.isPlainObject(d)?(h=d.data||[],p=d.layout||{},T=d.config||{},w={}):(d=e.getGraphDiv(d),h=e.extendDeep([],d.data),p=e.extendDeep({},d.layout),T=d._context,w=d._fullLayout||{}),!x("width")&&null!==f.width||!x("height")&&null!==f.height)throw new Error("Height and width should be pixel values.");if(!x("format"))throw new Error("Export format is not "+e.join2(r.format.values,", "," or ")+".");var m={};function y(Y,$){return e.coerce(f,m,r,Y,$)}var A=y("format"),b=y("width"),k=y("height"),L=y("scale"),g=y("setBackground"),S=y("imageDataOnly"),E=document.createElement("div");E.style.position="absolute",E.style.left="-5000px",document.body.appendChild(E);var v=e.extendFlat({},p);b?v.width=b:null===f.width&&t(w.width)&&(v.width=w.width),k?v.height=k:null===f.height&&t(w.height)&&(v.height=w.height);var F=e.extendFlat({},T,{_exportedPlot:!0,staticPlot:!0,setBackground:g}),N=n.getRedrawFunc(E);function z(){return new Promise(function(Y){setTimeout(Y,n.getDelay(E._fullLayout))})}function U(){return new Promise(function(Y,$){var ot=s(E,A,L),G=E._fullLayout.width,R=E._fullLayout.height;function j(){l.purge(E),document.body.removeChild(E)}if("full-json"===A){var P=o.graphJson(E,!1,"keepdata","object",!0,!0);return P.version=i,P=JSON.stringify(P),j(),Y(S?P:n.encodeJSON(P))}if(j(),"svg"===A)return Y(S?ot:n.encodeSVG(ot));var I=document.createElement("canvas");I.id=e.randstr(),a({format:A,width:G,height:R,scale:L,canvas:I,svg:ot,promise:!0}).then(Y).catch($)})}return new Promise(function(Y,$){l.newPlot(E,h,v,F).then(N).then(z).then(U).then(function(ot){var G;Y((G=ot,S?G.replace(n.IMAGE_URL_PREFIX,""):G))}).catch(function(ot){$(ot)})})}},{"../lib":232,"../plots/plots":316,"../snapshot/helpers":322,"../snapshot/svgtoimg":324,"../snapshot/tosvg":326,"../version":391,"./plot_api":265,"fast-isnumeric":17}],272:[function(c,tt,B){"use strict";var t=c("../lib"),l=c("../plots/plots"),o=c("./plot_schema"),e=c("./plot_config").dfltConfig,n=t.isPlainObject,s=Array.isArray,a=t.isArrayOrTypedArray;function i(m,y,A,b,k,L){L=L||[];for(var g=Object.keys(m),S=0;S<g.length;S++){var E=g[S];if("transforms"!==E){var v=L.slice();v.push(E);var F=m[E],N=y[E],z=T(A,E),U=(z||{}).valType,Y="info_array"===U,$="colorscale"===U,ot=(z||{}).items;if(p(A,E))if(n(F)&&n(N)&&"any"!==U)i(F,N,z,b,k,v);else if(Y&&s(F)){F.length>N.length&&b.push(h("unused",k,v.concat(N.length)));var G,R,P,I,Z=N.length,q=Array.isArray(ot);if(q&&(Z=Math.min(Z,ot.length)),2===z.dimensions)for(R=0;R<Z;R++)if(s(F[R])){F[R].length>N[R].length&&b.push(h("unused",k,v.concat(R,N[R].length)));var D=N[R].length;for(G=0;G<(q?Math.min(D,ot[R].length):D);G++)I=N[R][G],t.validate(P=F[R][G],q?ot[R][G]:ot)?I!==P&&I!==+P&&b.push(h("dynamic",k,v.concat(R,G),P,I)):b.push(h("value",k,v.concat(R,G),P))}else b.push(h("array",k,v.concat(R),F[R]));else for(R=0;R<Z;R++)I=N[R],t.validate(P=F[R],q?ot[R]:ot)?I!==P&&I!==+P&&b.push(h("dynamic",k,v.concat(R),P,I)):b.push(h("value",k,v.concat(R),P))}else if(z.items&&!Y&&s(F)){var M,H,C=ot[Object.keys(ot)[0]],W=[];for(M=0;M<N.length;M++){var K=N[M]._index||M;if((H=v.slice()).push(K),n(F[K])&&n(N[M])){W.push(K);var J=F[K],Q=N[M];n(J)&&!1!==J.visible&&!1===Q.visible?b.push(h("invisible",k,H)):i(J,Q,C,b,k,H)}}for(M=0;M<F.length;M++)(H=v.slice()).push(M),n(F[M])?-1===W.indexOf(M)&&b.push(h("unused",k,H)):b.push(h("object",k,H,F[M]))}else!n(F)&&n(N)?b.push(h("object",k,v,F)):a(F)||!a(N)||Y||$?E in y?t.validate(F,z)?"enumerated"===z.valType&&(z.coerceNumber&&F!==+N||F!==N)&&b.push(h("dynamic",k,v,F,N)):b.push(h("value",k,v,F)):b.push(h("unused",k,v,F)):b.push(h("array",k,v,F));else b.push(h("schema",k,v))}}return b}function r(m,y){for(var A=m.layout.layoutAttributes,b=0;b<y.length;b++){var k=y[b],L=m.traces[k.type],g=L.layoutAttributes;g&&t.extendFlat(k.subplot?A[L.attributes.subplot.dflt]:A,g)}return A}tt.exports=function(m,y){void 0===m&&(m=[]),void 0===y&&(y={});var A,b,k=o.get(),L=[],g={_context:t.extendFlat({},e)};s(m)?(g.data=t.extendDeep([],m),A=m):(g.data=[],A=[],L.push(h("array","data"))),n(y)?(g.layout=t.extendDeep({},y),b=y):(g.layout={},b={},arguments.length>1&&L.push(h("object","layout"))),l.supplyDefaults(g);for(var S=g._fullData,E=A.length,v=0;v<E;v++){var F=A[v],N=["data",v];if(n(F)){var z=S[v],U=z.type,Y=k.traces[U].attributes;Y.type={valType:"enumerated",values:[U]},!1===z.visible&&!1!==F.visible&&L.push(h("invisible",N)),i(F,z,Y,L,N);var $=F.transforms,ot=z.transforms;if($){s($)||L.push(h("array",N,["transforms"])),N.push("transforms");for(var G=0;G<$.length;G++){var R=["transforms",G],j=$[G].type;if(n($[G])){var P=k.transforms[j]?k.transforms[j].attributes:{};P.type={valType:"enumerated",values:Object.keys(k.transforms)},i($[G],ot[G],P,L,N,R)}else L.push(h("object",N,R))}}}else L.push(h("object",N))}var I=g._fullLayout,Z=r(k,S);return i(b,I,Z,L,"layout"),0===L.length?void 0:L};var d={object:function(m,y){return("layout"===m&&""===y?"The layout argument":"data"===m[0]&&""===y?"Trace "+m[1]+" in the data argument":f(m)+"key "+y)+" must be linked to an object container"},array:function(m,y){return("data"===m?"The data argument":f(m)+"key "+y)+" must be linked to an array container"},schema:function(m,y){return f(m)+"key "+y+" is not part of the schema"},unused:function(m,y,A){var b=n(A)?"container":"key";return f(m)+b+" "+y+" did not get coerced"},dynamic:function(m,y,A,b){return[f(m)+"key",y,"(set to '"+A+"')","got reset to","'"+b+"'","during defaults."].join(" ")},invisible:function(m,y){return(y?f(m)+"item "+y:"Trace "+m[1])+" got defaulted to be not visible"},value:function(m,y,A){return[f(m)+"key "+y,"is set to an invalid value ("+A+")"].join(" ")}};function f(m){return s(m)?"In data trace "+m[1]+", ":"In "+m+", "}function h(m,y,A,b,k){var L,g;A=A||"",s(y)?(L=y[0],g=y[1]):(L=y,g=null);var S=function(v){if(!s(v))return String(v);for(var F="",N=0;N<v.length;N++){var z=v[N];"number"==typeof z?F=F.substr(0,F.length-1)+"["+z+"]":F+=z,N<v.length-1&&(F+=".")}return F}(A),E=d[m](y,S,b,k);return t.log(E),{code:m,container:L,trace:g,path:A,astr:S,msg:E}}function p(m,y){var A=x(y),b=A.keyMinusId;return!!(b in m&&m[b]._isSubplotObj&&A.id)||y in m}function T(m,y){return y in m?m[y]:m[x(y).keyMinusId]}var w=t.counterRegex("([a-z]+)");function x(m){var y=m.match(w);return{keyMinusId:y&&y[1],id:y&&y[2]}}},{"../lib":232,"../plots/plots":316,"./plot_config":266,"./plot_schema":267}],273:[function(c,tt,B){"use strict";tt.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],274:[function(c,tt,B){"use strict";var t=c("../lib"),l=c("../plot_api/plot_template");tt.exports=function(o,e,n){var s,a,i=n.name,r=n.inclusionAttr||"visible",d=e[i],f=t.isArrayOrTypedArray(o[i])?o[i]:[],h=e[i]=[],p=l.arrayTemplater(e,i,r);for(s=0;s<f.length;s++){var T=f[s];t.isPlainObject(T)?a=p.newItem(T):(a=p.newItem({}))[r]=!1,a._index=s,!1!==a[r]&&n.handleItemDefaults(T,a,e,n),h.push(a)}var w=p.defaultItems();for(s=0;s<w.length;s++)(a=w[s])._index=h.length,n.handleItemDefaults({},a,e,n,{}),h.push(a);if(t.isArrayOrTypedArray(d)){var x=Math.min(d.length,h.length);for(s=0;s<x;s++)t.relinkPrivateKeys(h[s],d[s])}return h}},{"../lib":232,"../plot_api/plot_template":268}],275:[function(c,tt,B){"use strict";var t=c("./font_attributes"),l=c("../components/fx/attributes");tt.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:t({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:l.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":133,"./font_attributes":310}],276:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("../../lib"),o=l.dateTime2ms,e=l.incrementMonth,n=c("../../constants/numerical").ONEAVGMONTH;tt.exports=function(s,a,i,r){if("date"!==a.type)return{vals:r};var d=s[i+"periodalignment"];if(!d)return{vals:r};var f,h=s[i+"period"];if(t(h)){if((h=+h)<=0)return{vals:r}}else if("string"==typeof h&&"M"===h.charAt(0)){var p=+h.substring(1);if(!(p>0&&Math.round(p)===p))return{vals:r};f=p}for(var T=a.calendar,w="start"===d,x="end"===d,y=o(s[i+"period0"],T)||0,A=[],b=[],k=[],L=r.length,g=0;g<L;g++){var S,E,v,F=r[g];if(f){for(S=Math.round((F-y)/(f*n)),v=e(y,f*S,T);v>F;)v=e(v,-f,T);for(;v<=F;)v=e(v,f,T);E=e(v,-f,T)}else{for(v=y+(S=Math.round((F-y)/h))*h;v>F;)v-=h;for(;v<=F;)v+=h;E=v-h}A[g]=w?E:x?v:(E+v)/2,b[g]=E,k[g]=v}return{vals:A,starts:b,ends:k}}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],277:[function(c,tt,B){"use strict";tt.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],278:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("fast-isnumeric"),o=c("../../lib"),e=c("../../constants/numerical").FP_SAFE,n=c("../../registry"),s=c("../../components/drawing"),a=c("./axis_ids"),i=a.getFromId,r=a.isLinked;function d(b,k){var L,g,S=[],E=b._fullLayout,v=h(E,k,0),F=h(E,k,1),N=p(b,k),z=N.min,U=N.max;if(0===z.length||0===U.length)return o.simpleMap(k.range,k.r2l);var Y=z[0].val,$=U[0].val;for(L=1;L<z.length&&Y===$;L++)Y=Math.min(Y,z[L].val);for(L=1;L<U.length&&Y===$;L++)$=Math.max($,U[L].val);var ot=!1;if(k.range){var G=o.simpleMap(k.range,k.r2l);ot=G[1]<G[0]}"reversed"===k.autorange&&(ot=!0,k.autorange=!0);var R,j,P,I,Z,q,D=k.rangemode,M="tozero"===D,H="nonnegative"===D,C=k._length,W=C/10,K=0;for(L=0;L<z.length;L++)for(R=z[L],g=0;g<U.length;g++)(q=(j=U[g]).val-R.val-f(k,R.val,j.val))>0&&((Z=C-v(R)-F(j))>W?q/Z>K&&(P=R,I=j,K=q/Z):q/C>K&&(P={val:R.val,nopad:1},I={val:j.val,nopad:1},K=q/C));if(Y===$){var J=Y-1,Q=Y+1;if(M)if(0===Y)S=[0,1];else{var ut=(Y>0?U:z).reduce(function(gt,vt){return Math.max(gt,F(vt))},0),ct=Y/(1-Math.min(.5,ut/C));S=Y>0?[0,ct]:[ct,0]}else S=H?[Math.max(0,J),Math.max(1,Q)]:[J,Q]}else M?(P.val>=0&&(P={val:0,nopad:1}),I.val<=0&&(I={val:0,nopad:1})):H&&(P.val-K*v(P)<0&&(P={val:0,nopad:1}),I.val<=0&&(I={val:1,nopad:1})),K=(I.val-P.val-f(k,R.val,j.val))/(C-v(P)-F(I)),S=[P.val-K*v(P),I.val+K*F(I)];return ot&&S.reverse(),o.simpleMap(S,k.l2r||Number)}function f(b,k,L){var g=0;if(b.rangebreaks)for(var S=b.locateBreaks(k,L),E=0;E<S.length;E++){var v=S[E];g+=v.max-v.min}return g}function h(b,k,L){var g=.05*k._length,S=k._anchorAxis||{};if(-1!==(k.ticklabelposition||"").indexOf("inside")||-1!==(S.ticklabelposition||"").indexOf("inside")){var E="reversed"===k.autorange;if(!E){var v=o.simpleMap(k.range,k.r2l);E=v[1]<v[0]}E&&(L=!L)}var F=0;return r(b,k._id)||(F=function(N,z,U){var Y=0,$="x"===z._id.charAt(0);for(var ot in N._plots){var G=N._plots[ot];if(z._id===G.xaxis._id||z._id===G.yaxis._id){var R=($?G.yaxis:G.xaxis)||{};if(-1!==(R.ticklabelposition||"").indexOf("inside")&&(!U&&("left"===R.side||"bottom"===R.side)||U&&("top"===R.side||"right"===R.side))){if(R._vals){var j=o.deg2rad(R._tickAngles[R._id+"tick"]||0),P=Math.abs(Math.cos(j)),I=Math.abs(Math.sin(j));R._vals[0].bb||R._selections[R._id+"tick"].each(function(C){var W=t.select(this);W.select(".text-math-group").empty()&&(C.bb=s.bBox(W.node()))});for(var q=0;q<R._vals.length;q++){var D=R._vals[q].bb;if(D){var M=6+D.width,H=6+D.height;Y=Math.max(Y,$?Math.max(M*P,H*I):Math.max(H*P,M*I))}}}"inside"===R.ticks&&"inside"===R.ticklabelposition&&(Y+=R.ticklen||0)}}}return Y}(b,k,L)),g=Math.max(F,g),"domain"===k.constrain&&k._inputDomain&&(g*=(k._inputDomain[1]-k._inputDomain[0])/(k.domain[1]-k.domain[0])),function(N){return N.nopad?0:N.pad+(N.extrapad?g:F)}}function p(b,k,L){var g,S,E,v=k._id,N=b._fullLayout,z=[],U=[];function Y(j,P){for(g=0;g<P.length;g++){var I=j[P[g]],Z=(I._extremes||{})[v];if(!0===I.visible&&Z){for(S=0;S<Z.min.length;S++)T(z,(E=Z.min[S]).val,E.pad,{extrapad:E.extrapad});for(S=0;S<Z.max.length;S++)w(U,(E=Z.max[S]).val,E.pad,{extrapad:E.extrapad})}}}if(Y(b._fullData,k._traceIndices),Y(N.annotations||[],k._annIndices||[]),Y(N.shapes||[],k._shapeIndices||[]),k._matchGroup&&!L)for(var $ in k._matchGroup)if($!==k._id){var ot=i(b,$),G=p(b,ot,!0),R=k._length/ot._length;for(S=0;S<G.min.length;S++)T(z,(E=G.min[S]).val,E.pad*R,{extrapad:E.extrapad});for(S=0;S<G.max.length;S++)w(U,(E=G.max[S]).val,E.pad*R,{extrapad:E.extrapad})}return{min:z,max:U}}function T(b,k,L,g){x(b,k,L,g,y)}function w(b,k,L,g){x(b,k,L,g,A)}function x(b,k,L,g,S){for(var E=g.tozero,v=g.extrapad,F=!0,N=0;N<b.length&&F;N++){var z=b[N];if(S(z.val,k)&&z.pad>=L&&(z.extrapad||!v)){F=!1;break}S(k,z.val)&&z.pad<=L&&(v||!z.extrapad)&&(b.splice(N,1),N--)}if(F){var U=E&&0===k;b.push({val:k,pad:U?0:L,extrapad:!U&&v})}}function m(b){return l(b)&&Math.abs(b)<e}function y(b,k){return b<=k}function A(b,k){return b>=k}tt.exports={getAutoRange:d,makePadFn:h,doAutoRange:function(b,k,L){if(k.setScale(),k.autorange){k.range=L?L.slice():d(b,k),k._r=k.range.slice(),k._rl=o.simpleMap(k._r,k.r2l);var g=k._input,S={};S[k._attr+".range"]=k.range,S[k._attr+".autorange"]=k.autorange,n.call("_storeDirectGUIEdit",b.layout,b._fullLayout._preGUI,S),g.range=k.range.slice(),g.autorange=k.autorange}var E=k._anchorAxis;if(E&&E.rangeslider){var v=E.rangeslider[k._name];v&&"auto"===v.rangemode&&(v.range=d(b,k)),E._input.rangeslider[k._name]=o.extendFlat({},v)}},findExtremes:function(b,k,L){L||(L={}),b._m||b.setScale();var g,S,E,v,F,N,z,U,Y,$=[],ot=[],G=k.length,R=L.padded||!1,j=L.tozero&&("linear"===b.type||"-"===b.type),P="log"===b.type,I=!1,Z=L.vpadLinearized||!1;function q(Q){if(Array.isArray(Q))return I=!0,function(ct){return Math.max(Number(Q[ct]||0),0)};var ut=Math.max(Number(Q||0),0);return function(){return ut}}var D=q((b._m>0?L.ppadplus:L.ppadminus)||L.ppad||0),M=q((b._m>0?L.ppadminus:L.ppadplus)||L.ppad||0),H=q(L.vpadplus||L.vpad),C=q(L.vpadminus||L.vpad);if(!I){if(U=1/0,Y=-1/0,P)for(g=0;g<G;g++)(S=k[g])<U&&S>0&&(U=S),S>Y&&S<e&&(Y=S);else for(g=0;g<G;g++)(S=k[g])<U&&S>-e&&(U=S),S>Y&&S<e&&(Y=S);k=[U,Y],G=2}var W={tozero:j,extrapad:R};function K(Q){l(E=k[Q])&&(N=D(Q),z=M(Q),Z?(v=b.c2l(E)-C(Q),F=b.c2l(E)+H(Q)):(U=E-C(Q),Y=E+H(Q),P&&U<Y/10&&(U=Y/10),v=b.c2l(U),F=b.c2l(Y)),j&&(v=Math.min(0,v),F=Math.max(0,F)),m(v)&&T($,v,z,W),m(F)&&w(ot,F,N,W))}var J=Math.min(6,G);for(g=0;g<J;g++)K(g);for(g=G-1;g>=J;g--)K(g);return{min:$,max:ot,opts:L}},concatExtremes:p}},{"../../components/drawing":124,"../../constants/numerical":212,"../../lib":232,"../../registry":318,"./axis_ids":283,"@plotly/d3":11,"fast-isnumeric":17}],279:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("fast-isnumeric"),o=c("../../plots/plots"),e=c("../../registry"),n=c("../../lib"),s=n.strTranslate,a=c("../../lib/svg_text_utils"),i=c("../../components/titles"),r=c("../../components/color"),d=c("../../components/drawing"),f=c("./layout_attributes"),h=c("./clean_ticks"),p=c("../../constants/numerical"),T=p.ONEMAXYEAR,w=p.ONEAVGYEAR,x=p.ONEMINYEAR,m=p.ONEMAXQUARTER,y=p.ONEAVGQUARTER,A=p.ONEMINQUARTER,b=p.ONEMAXMONTH,k=p.ONEAVGMONTH,L=p.ONEMINMONTH,g=p.ONEWEEK,S=p.ONEDAY,E=S/2,v=p.ONEHOUR,F=p.ONEMIN,N=p.ONESEC,z=p.MINUS_SIGN,U=p.BADNUM,Y={K:"zeroline"},$={K:"gridline",L:"path"},ot={K:"minor-gridline",L:"path"},G={K:"tick",L:"path"},R={K:"tick",L:"text"},j=c("../../constants/alignment"),P=j.MID_SHIFT,I=j.CAP_SHIFT,Z=j.LINE_SPACING,q=j.OPPOSITE_SIDE,D=tt.exports={};D.setConvert=c("./set_convert");var M=c("./axis_autotype"),H=c("./axis_ids"),C=H.idSort,W=H.isLinked;D.id2name=H.id2name,D.name2id=H.name2id,D.cleanId=H.cleanId,D.list=H.list,D.listIds=H.listIds,D.getFromId=H.getFromId,D.getFromTrace=H.getFromTrace;var K=c("./autorange");function J(nt){var it=1e-4*(nt[1]-nt[0]);return[nt[0]-it,nt[1]+it]}D.getAutoRange=K.getAutoRange,D.findExtremes=K.findExtremes,D.coerceRef=function(nt,it,Lt,Pt,Bt,Rt){var jt=Pt.charAt(Pt.length-1),Ut=Lt._fullLayout._subplots[jt+"axis"],ee=Pt+"ref",ie={};return Bt||(Bt=Ut[0]||("string"==typeof Rt?Rt:Rt[0])),Rt||(Rt=Bt),Ut=Ut.concat(Ut.map(function(fe){return fe+" domain"})),ie[ee]={valType:"enumerated",values:Ut.concat(Rt?"string"==typeof Rt?[Rt]:Rt:[]),dflt:Bt},n.coerce(nt,it,ie,ee)},D.getRefType=function(nt){return void 0===nt?nt:"paper"===nt?"paper":"pixel"===nt?"pixel":/( domain)$/.test(nt)?"domain":"range"},D.coercePosition=function(nt,it,Lt,Pt,Bt,Rt){var jt,Ut;if("range"!==D.getRefType(Pt))jt=n.ensureNumber,Ut=Lt(Bt,Rt);else{var ee=D.getFromId(it,Pt);Ut=Lt(Bt,Rt=ee.fraction2r(Rt)),jt=ee.cleanPos}nt[Bt]=jt(Ut)},D.cleanPosition=function(nt,it,Lt){return("paper"===Lt||"pixel"===Lt?n.ensureNumber:D.getFromId(it,Lt).cleanPos)(nt)},D.redrawComponents=function(nt,it){it=it||D.listIds(nt);var Lt=nt._fullLayout;function Pt(Bt,Rt,jt,Ut){for(var ee=e.getComponentMethod(Bt,Rt),ie={},fe=0;fe<it.length;fe++)for(var Ae=Lt[D.id2name(it[fe])][jt],re=0;re<Ae.length;re++){var ve=Ae[re];if(!ie[ve]&&(ee(nt,ve),ie[ve]=1,Ut))return}}Pt("annotations","drawOne","_annIndices"),Pt("shapes","drawOne","_shapeIndices"),Pt("images","draw","_imgIndices",!0)};var Q=D.getDataConversions=function(nt,it,Lt,Pt){var Bt,Rt="x"===Lt||"y"===Lt||"z"===Lt?Lt:Pt;if(Array.isArray(Rt)){if(Bt={type:M(Pt,void 0,{autotypenumbers:nt._fullLayout.autotypenumbers}),_categories:[]},D.setConvert(Bt),"category"===Bt.type)for(var jt=0;jt<Pt.length;jt++)Bt.d2c(Pt[jt])}else Bt=D.getFromTrace(nt,it,Rt);return Bt?{d2c:Bt.d2c,c2d:Bt.c2d}:"ids"===Rt?{d2c:ct,c2d:ct}:{d2c:ut,c2d:ut}};function ut(nt){return+nt}function ct(nt){return String(nt)}function gt(nt,it){return Math.abs((nt/it+.5)%1-.5)<.001}function vt(nt,it){return Math.abs(nt/it-1)<.001}function xt(nt){return+nt.substring(1)}function Tt(nt){var it=J(n.simpleMap(nt.range,nt.r2l)),Lt=Math.min(it[0],it[1]),Pt=Math.max(it[0],it[1]),Bt="category"===nt.type?nt.d2l_noadd:nt.d2l;"log"===nt.type&&"L"!==String(nt.dtick).charAt(0)&&(nt.dtick="L"+Math.pow(10,Math.floor(Math.min(nt.range[0],nt.range[1]))-1));for(var Rt=[],jt=0;jt<=1;jt++)if(!jt||nt.minor){var Ut=jt?nt.minor.tickvals:nt.tickvals,ee=jt?[]:nt.ticktext;if(Ut){Array.isArray(ee)||(ee=[]);for(var ie=0;ie<Ut.length;ie++){var fe=Bt(Ut[ie]);if(fe>Lt&&fe<Pt){var Ae=void 0===ee[ie]?D.tickText(nt,fe):wt(nt,fe,String(ee[ie]));jt&&(Ae.minor=!0,Ae.text=""),Rt.push(Ae)}}}}return nt.rangebreaks&&(Rt=Rt.filter(function(re){return nt.maskBreaks(re.x)!==U})),Rt}D.getDataToCoordFunc=function(nt,it,Lt,Pt){return Q(nt,it,Lt,Pt).d2c},D.counterLetter=function(nt){var it=nt.charAt(0);return"x"===it?"y":"y"===it?"x":void 0},D.minDtick=function(nt,it,Lt,Pt){-1===["log","category","multicategory"].indexOf(nt.type)&&Pt?void 0===nt._minDtick?(nt._minDtick=it,nt._forceTick0=Lt):nt._minDtick&&((nt._minDtick/it+1e-6)%1<2e-6&&((Lt-nt._forceTick0)/it%1+1.000001)%1<2e-6?(nt._minDtick=it,nt._forceTick0=Lt):((it/nt._minDtick+1e-6)%1>2e-6||((Lt-nt._forceTick0)/nt._minDtick%1+1.000001)%1>2e-6)&&(nt._minDtick=0)):nt._minDtick=0},D.saveRangeInitial=function(nt,it){for(var Lt=D.list(nt,"",!0),Pt=!1,Bt=0;Bt<Lt.length;Bt++){var Rt=Lt[Bt],jt=void 0===Rt._rangeInitial;(jt&&!1===Rt.autorange||it&&(jt||Rt.range[0]!==Rt._rangeInitial[0]||Rt.range[1]!==Rt._rangeInitial[1]))&&(Rt._rangeInitial=Rt.range.slice(),Pt=!0)}return Pt},D.saveShowSpikeInitial=function(nt,it){for(var Lt=D.list(nt,"",!0),Pt=!1,Bt="on",Rt=0;Rt<Lt.length;Rt++){var jt=Lt[Rt],Ut=void 0===jt._showSpikeInitial;(Ut||it&&(Ut||jt.showspikes!==jt._showspikes))&&(jt._showSpikeInitial=jt.showspikes,Pt=!0),"on"!==Bt||jt.showspikes||(Bt="off")}return nt._fullLayout._cartesianSpikesEnabled=Bt,Pt},D.autoBin=function(nt,it,Lt,Pt,Bt,Rt){var jt,Ut=n.aggNums(Math.min,null,nt),ee=n.aggNums(Math.max,null,nt);if("category"===it.type||"multicategory"===it.type)return{start:Ut-.5,end:ee+.5,size:Math.max(1,Math.round(Rt)||1),_dataSpan:ee-Ut};if(Bt||(Bt=it.calendar),jt="log"===it.type?{type:"linear",range:[Ut,ee]}:{type:it.type,range:n.simpleMap([Ut,ee],it.c2r,0,Bt),calendar:Bt},D.setConvert(jt),Rt=Rt&&h.dtick(Rt,jt.type))jt.dtick=Rt,jt.tick0=h.tick0(void 0,jt.type,Bt);else{var ie;if(Lt)ie=(ee-Ut)/Lt;else{var fe=n.distinctVals(nt),Ae=Math.pow(10,Math.floor(Math.log(fe.minDiff)/Math.LN10)),re=Ae*n.roundUp(fe.minDiff/Ae,[.9,1.9,4.9,9.9],!0);ie=Math.max(re,2*n.stdev(nt)/Math.pow(nt.length,Pt?.25:.4)),l(ie)||(ie=1)}D.autoTicks(jt,ie)}var ve,Pe=jt.dtick,se=D.tickIncrement(D.tickFirst(jt),Pe,"reverse",Bt);if("number"==typeof Pe)ve=(se=function(te,Le,_e,ge,ke){var he=0,Fe=0,Ie=0,Re=0;function Ze(me){return(1+100*(me-te)/_e.dtick)%100<2}for(var We=0;We<Le.length;We++)Le[We]%1==0?Ie++:l(Le[We])||Re++,Ze(Le[We])&&he++,Ze(Le[We]+_e.dtick/2)&&Fe++;var Be=Le.length-Re;if(Ie===Be&&"date"!==_e.type)_e.dtick<1?te=ge-.5*_e.dtick:(te-=.5)+_e.dtick<ge&&(te+=_e.dtick);else if(Fe<.1*Be&&(he>.3*Be||Ze(ge)||Ze(ke))){var be=_e.dtick/2;te+=te+be<ge?be:-be}return te}(se,nt,jt,Ut,ee))+(1+Math.floor((ee-se)/Pe))*Pe;else for("M"===jt.dtick.charAt(0)&&(se=function(te,Le,_e,ge,ke){var he=n.findExactDates(Le,ke);if(he.exactDays>.8){var Fe=Number(_e.substr(1));he.exactYears>.8&&Fe%12==0?te=D.tickIncrement(te,"M6","reverse")+1.5*S:he.exactMonths>.8?te=D.tickIncrement(te,"M1","reverse")+15.5*S:te-=E;var Ie=D.tickIncrement(te,_e);if(Ie<=ge)return Ie}return te}(se,nt,Pe,Ut,Bt)),ve=se;ve<=ee;)ve=D.tickIncrement(ve,Pe,!1,Bt);return{start:it.c2r(se,0,Bt),end:it.c2r(ve,0,Bt),size:Pe,_dataSpan:ee-Ut}},D.prepMinorTicks=function(nt,it,Lt){if(!it.minor.dtick){delete nt.dtick;var Pt,Bt=it.dtick&&l(it._tmin);if(Bt){var Rt=D.tickIncrement(it._tmin,it.dtick,!0);Pt=[it._tmin,.99*Rt+.01*it._tmin]}else{var jt=n.simpleMap(it.range,it.r2l);Pt=[jt[0],.8*jt[0]+.2*jt[1]]}if(nt.range=n.simpleMap(Pt,it.l2r),nt._isMinor=!0,D.prepTicks(nt,Lt),Bt){var Ut=l(it.dtick),ee=l(nt.dtick),ie=Ut?it.dtick:+it.dtick.substring(1),fe=ee?nt.dtick:+nt.dtick.substring(1);Ut&&ee?gt(ie,fe)?ie===2*g&&fe===2*S&&(nt.dtick=g):nt.dtick=ie===2*g&&fe===3*S?g:ie!==g||(it._input.minor||{}).nticks?vt(ie/fe,2.5)?ie/2:ie:S:"M"===String(it.dtick).charAt(0)?ee?nt.dtick="M1":gt(ie,fe)?ie>=12&&2===fe&&(nt.dtick="M3"):nt.dtick=it.dtick:"L"===String(nt.dtick).charAt(0)?"L"===String(it.dtick).charAt(0)?gt(ie,fe)||(nt.dtick=vt(ie/fe,2.5)?it.dtick/2:it.dtick):nt.dtick="D1":"D2"===nt.dtick&&+it.dtick>1&&(nt.dtick=1)}nt.range=it.range}void 0===it.minor._tick0Init&&(nt.tick0=it.tick0)},D.prepTicks=function(nt,it){var Lt=n.simpleMap(nt.range,nt.r2l,void 0,void 0,it);if("auto"===nt.tickmode||!nt.dtick){var Pt,Bt=nt.nticks;Bt||("category"===nt.type||"multicategory"===nt.type?(Pt=nt.tickfont?n.bigFont(nt.tickfont.size||12):15,Bt=nt._length/Pt):(Pt="y"===nt._id.charAt(0)?40:80,Bt=n.constrain(nt._length/Pt,4,9)+1),"radialaxis"===nt._name&&(Bt*=2)),nt.minor&&"array"!==nt.minor.tickmode||"array"===nt.tickmode&&(Bt*=100),nt._roughDTick=Math.abs(Lt[1]-Lt[0])/Bt,D.autoTicks(nt,nt._roughDTick),nt._minDtick>0&&nt.dtick<2*nt._minDtick&&(nt.dtick=nt._minDtick,nt.tick0=nt.l2r(nt._forceTick0))}"period"===nt.ticklabelmode&&function(Rt){var jt;function Ut(){return!(l(Rt.dtick)||"M"!==Rt.dtick.charAt(0))}var ee=Ut(),ie=D.getTickFormat(Rt);if(ie){var fe=Rt._dtickInit!==Rt.dtick;/%[fLQsSMX]/.test(ie)||(/%[HI]/.test(ie)?(jt=v,fe&&!ee&&Rt.dtick<v&&(Rt.dtick=v)):/%p/.test(ie)?(jt=E,fe&&!ee&&Rt.dtick<E&&(Rt.dtick=E)):/%[Aadejuwx]/.test(ie)?(jt=S,fe&&!ee&&Rt.dtick<S&&(Rt.dtick=S)):/%[UVW]/.test(ie)?(jt=g,fe&&!ee&&Rt.dtick<g&&(Rt.dtick=g)):/%[Bbm]/.test(ie)?(jt=k,fe&&(ee?xt(Rt.dtick)<1:Rt.dtick<L)&&(Rt.dtick="M1")):/%[q]/.test(ie)?(jt=y,fe&&(ee?xt(Rt.dtick)<3:Rt.dtick<A)&&(Rt.dtick="M3")):/%[Yy]/.test(ie)&&(jt=w,fe&&(ee?xt(Rt.dtick)<12:Rt.dtick<x)&&(Rt.dtick="M12")))}(ee=Ut())&&Rt.tick0===Rt._dowTick0&&(Rt.tick0=Rt._rawTick0),Rt._definedDelta=jt}(nt),nt.tick0||(nt.tick0="date"===nt.type?"2000-01-01":0),"date"===nt.type&&nt.dtick<.1&&(nt.dtick=.1),bt(nt)},D.calcTicks=function(nt,it){for(var Lt,Pt,Bt=nt.type,Rt=nt.calendar,jt=nt.ticklabelstep,Ut="period"===nt.ticklabelmode,ee=n.simpleMap(nt.range,nt.r2l,void 0,void 0,it),ie=ee[1]<ee[0],fe=Math.min(ee[0],ee[1]),Ae=Math.max(ee[0],ee[1]),re=Math.max(1e3,nt._length||0),ve=[],Pe=[],se=[],te=[],Le=nt.minor&&(nt.minor.ticks||nt.minor.showgrid),_e=1;_e>=(Le?0:1);_e--){var ge=!_e;_e?(nt._dtickInit=nt.dtick,nt._tick0Init=nt.tick0):(nt.minor._dtickInit=nt.minor.dtick,nt.minor._tick0Init=nt.minor.tick0);var ke=_e?nt:n.extendFlat({},nt,nt.minor);if(ge?D.prepMinorTicks(ke,nt,it):D.prepTicks(ke,it),"array"!==ke.tickmode){var he=J(ee),Fe=he[0],Ie=he[1],Re=l(ke.dtick),Ze="log"===Bt&&!(Re||"L"===ke.dtick.charAt(0)),We=D.tickFirst(ke,it);if(_e){if(nt._tmin=We,We<Fe!==ie)break;"category"!==Bt&&"multicategory"!==Bt||(Ie=ie?Math.max(-.5,Ie):Math.min(nt._categories.length-.5,Ie))}var Be,be,me=null,Me=We;_e&&(Re?be=nt.dtick:"date"===Bt?"string"==typeof nt.dtick&&"M"===nt.dtick.charAt(0)&&(be=k*nt.dtick.substring(1)):be=nt._roughDTick,Be=Math.round((nt.r2l(Me)-nt.r2l(nt.tick0))/be)-1);var ze=ke.dtick;for(ke.rangebreaks&&ke._tick0Init!==ke.tick0&&(Me=xe(Me,nt),ie||(Me=D.tickIncrement(Me,ze,!ie,Rt))),_e&&Ut&&(Me=D.tickIncrement(Me,ze,!ie,Rt),Be--);ie?Me>=Ie:Me<=Ie;Me=D.tickIncrement(Me,ze,ie,Rt)){if(_e&&Be++,ke.rangebreaks&&!ie){if(Me<Fe)continue;if(ke.maskBreaks(Me)===U&&xe(Me,ke)>=Ae)break}if(se.length>re||Me===me)break;me=Me;var Ce={value:Me};_e?(Ze&&Me!==(0|Me)&&(Ce.simpleLabel=!0),jt>1&&Be%jt&&(Ce.skipLabel=!0),se.push(Ce)):(Ce.minor=!0,te.push(Ce))}}else _e?(se=[],ve=Tt(nt)):(te=[],Pe=Tt(nt))}if(Le&&!("inside"===nt.minor.ticks&&"outside"===nt.ticks||"outside"===nt.minor.ticks&&"inside"===nt.ticks)){for(var Ve=se.map(function(hn){return hn.value}),Xe=[],Qe=0;Qe<te.length;Qe++){var rn=te[Qe],ln=rn.value;if(-1===Ve.indexOf(ln)){for(var on=!1,cn=0;!on&&cn<se.length;cn++)1e7+se[cn].value===1e7+ln&&(on=!0);on||Xe.push(rn)}}te=Xe}if(Ut&&function(hn,Ke,qe){for(var Ne=0;Ne<hn.length;Ne++){var un=hn[Ne].value,Sn=Ne,_n=Ne+1;Ne<hn.length-1?(Sn=Ne,_n=Ne+1):Ne>0?(Sn=Ne-1,_n=Ne):(Sn=Ne,_n=Ne);var xn,Mn=Math.abs(hn[_n].value-hn[Sn].value),En=qe||Mn,Cn=0;En>=x?Cn=Mn>=x&&Mn<=T?Mn:w:qe===y&&En>=A?Cn=Mn>=A&&Mn<=m?Mn:y:En>=L?Cn=Mn>=L&&Mn<=b?Mn:k:qe===g&&En>=g?Cn=g:En>=S?Cn=S:qe===E&&En>=E?Cn=E:qe===v&&En>=v&&(Cn=v),Cn>=Mn&&(Cn=Mn,xn=!0);var Wn=un+Cn;if(Ke.rangebreaks&&Cn>0){for(var Rn=0,Xn=0;Xn<84;Xn++){var Jn=(Xn+.5)/84;Ke.maskBreaks(un*(1-Jn)+Jn*Wn)!==U&&Rn++}(Cn*=Rn/84)||(hn[Ne].drop=!0),xn&&Mn>g&&(Cn=Mn)}(Cn>0||0===Ne)&&(hn[Ne].periodX=un+Cn/2)}}(se,nt,nt._definedDelta),nt.rangebreaks){var dn="y"===nt._id.charAt(0),$e=1;"auto"===nt.tickmode&&($e=nt.tickfont?nt.tickfont.size:12);var mn=NaN;for(Lt=se.length-1;Lt>-1;Lt--)if(se[Lt].drop)se.splice(Lt,1);else{se[Lt].value=xe(se[Lt].value,nt);var kn=nt.c2p(se[Lt].value);(dn?mn>kn-$e:mn<kn+$e)?se.splice(ie?Lt+1:Lt,1):mn=kn}}Oe(nt)&&360===Math.abs(ee[1]-ee[0])&&se.pop(),nt._tmax=(se[se.length-1]||{}).value,nt._prevDateHead="",nt._inCalcTicks=!0;var Ue,fn,sn=function(hn){hn.text="",nt._prevDateHead=Pt};for(se=se.concat(te),Lt=0;Lt<se.length;Lt++){var bn=se[Lt].value;se[Lt].minor?Pe.push({x:bn,minor:!0}):(Pt=nt._prevDateHead,Ue=D.tickText(nt,bn,!1,se[Lt].simpleLabel),void 0!==(fn=se[Lt].periodX)&&(Ue.periodX=fn,(fn>Ae||fn<fe)&&(fn>Ae&&(Ue.periodX=Ae),fn<fe&&(Ue.periodX=fe),sn(Ue))),se[Lt].skipLabel&&sn(Ue),ve.push(Ue))}return ve=ve.concat(Pe),nt._inCalcTicks=!1,Ut&&ve.length&&(ve[0].noTick=!0),ve};var zt=[2,5,10],Et=[1,2,3,6,12],At=[1,2,5,10,15,30],lt=[1,2,3,7,14],rt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],dt=[-.301,0,.301,.699,1],mt=[15,30,45,90,180];function Dt(nt,it,Lt){return it*n.roundUp(nt/it,Lt)}function bt(nt){var it=nt.dtick;if(nt._tickexponent=0,l(it)||"string"==typeof it||(it=1),"category"!==nt.type&&"multicategory"!==nt.type||(nt._tickround=null),"date"===nt.type){var Lt=nt.r2l(nt.tick0),Pt=nt.l2r(Lt).replace(/(^-|i)/g,""),Bt=Pt.length;if("M"===String(it).charAt(0))nt._tickround=Bt>10||"01-01"!==Pt.substr(5)?"d":+it.substr(1)%12==0?"y":"m";else if(it>=S&&Bt<=10||it>=15*S)nt._tickround="d";else if(it>=F&&Bt<=16||it>=v)nt._tickround="M";else if(it>=N&&Bt<=19||it>=F)nt._tickround="S";else{var Rt=nt.l2r(Lt+it).replace(/^-/,"").length;nt._tickround=Math.max(Bt,Rt)-20,nt._tickround<0&&(nt._tickround=4)}}else if(l(it)||"L"===it.charAt(0)){var jt=nt.range.map(nt.r2d||Number);l(it)||(it=Number(it.substr(1))),nt._tickround=2-Math.floor(Math.log(it)/Math.LN10+.01);var Ut=Math.max(Math.abs(jt[0]),Math.abs(jt[1])),ee=Math.floor(Math.log(Ut)/Math.LN10+.01),ie=void 0===nt.minexponent?3:nt.minexponent;Math.abs(ee)>ie&&(nt._tickexponent=It(nt.exponentformat)&&!St(ee)?3*Math.round((ee-1)/3):ee)}else nt._tickround=null}function wt(nt,it,Lt){var Pt=nt.tickfont||{};return{x:it,dx:0,dy:0,text:Lt||"",fontSize:Pt.size,font:Pt.family,fontColor:Pt.color}}D.autoTicks=function(nt,it,Lt){var Pt;function Bt(Ae){return Math.pow(Ae,Math.floor(Math.log(it)/Math.LN10))}if("date"===nt.type){nt.tick0=n.dateTick0(nt.calendar,0);var Rt=2*it;if(Rt>w)it/=w,Pt=Bt(10),nt.dtick="M"+12*Dt(it,Pt,zt);else if(Rt>k)nt.dtick="M"+Dt(it/=k,1,Et);else if(Rt>S){if(nt.dtick=Dt(it,S,nt._hasDayOfWeekBreaks?[1,2,7,14]:lt),!Lt){var jt=D.getTickFormat(nt),Ut="period"===nt.ticklabelmode;Ut&&(nt._rawTick0=nt.tick0),nt.tick0=/%[uVW]/.test(jt)?n.dateTick0(nt.calendar,2):n.dateTick0(nt.calendar,1),Ut&&(nt._dowTick0=nt.tick0)}}else Rt>v?nt.dtick=Dt(it,v,Et):Rt>F?nt.dtick=Dt(it,F,At):Rt>N?nt.dtick=Dt(it,N,At):(Pt=Bt(10),nt.dtick=Dt(it,Pt,zt))}else if("log"===nt.type){nt.tick0=0;var ee=n.simpleMap(nt.range,nt.r2l);if(nt._isMinor&&(it*=1.5),it>.7)nt.dtick=Math.ceil(it);else if(Math.abs(ee[1]-ee[0])<1){var ie=1.5*Math.abs((ee[1]-ee[0])/it);it=Math.abs(Math.pow(10,ee[1])-Math.pow(10,ee[0]))/ie,Pt=Bt(10),nt.dtick="L"+Dt(it,Pt,zt)}else nt.dtick=it>.3?"D2":"D1"}else"category"===nt.type||"multicategory"===nt.type?(nt.tick0=0,nt.dtick=Math.ceil(Math.max(it,1))):Oe(nt)?(nt.tick0=0,nt.dtick=Dt(it,Pt=1,mt)):(nt.tick0=0,Pt=Bt(10),nt.dtick=Dt(it,Pt,zt));if(0===nt.dtick&&(nt.dtick=1),!l(nt.dtick)&&"string"!=typeof nt.dtick){var fe=nt.dtick;throw nt.dtick=1,"ax.dtick error: "+String(fe)}},D.tickIncrement=function(nt,it,Lt,Pt){var Bt=Lt?-1:1;if(l(it))return n.increment(nt,Bt*it);var Rt=it.charAt(0),jt=Bt*Number(it.substr(1));if("M"===Rt)return n.incrementMonth(nt,jt,Pt);if("L"===Rt)return Math.log(Math.pow(10,nt)+jt)/Math.LN10;if("D"===Rt){var Ut="D2"===it?dt:rt,ee=nt+.01*Bt,ie=n.roundUp(n.mod(ee,1),Ut,Lt);return Math.floor(ee)+Math.log(t.round(Math.pow(10,ie),1))/Math.LN10}throw"unrecognized dtick "+String(it)},D.tickFirst=function(nt,it){var Lt=nt.r2l||Number,Pt=n.simpleMap(nt.range,Lt,void 0,void 0,it),Bt=Pt[1]<Pt[0],Rt=Bt?Math.floor:Math.ceil,jt=J(Pt)[0],Ut=nt.dtick,ee=Lt(nt.tick0);if(l(Ut)){var ie=Rt((jt-ee)/Ut)*Ut+ee;return"category"!==nt.type&&"multicategory"!==nt.type||(ie=n.constrain(ie,0,nt._categories.length-1)),ie}var fe=Ut.charAt(0),Ae=Number(Ut.substr(1));if("M"===fe){for(var re,ve,Pe,se=0,te=ee;se<10;){if(((re=D.tickIncrement(te,Ut,Bt,nt.calendar))-jt)*(te-jt)<=0)return Bt?Math.min(te,re):Math.max(te,re);ve=(jt-(te+re)/2)/(re-te),Pe=fe+(Math.abs(Math.round(ve))||1)*Ae,te=D.tickIncrement(te,Pe,ve<0?!Bt:Bt,nt.calendar),se++}return n.error("tickFirst did not converge",nt),te}if("L"===fe)return Math.log(Rt((Math.pow(10,jt)-ee)/Ae)*Ae+ee)/Math.LN10;if("D"===fe){var Le="D2"===Ut?dt:rt,_e=n.roundUp(n.mod(jt,1),Le,Bt);return Math.floor(jt)+Math.log(t.round(Math.pow(10,_e),1))/Math.LN10}throw"unrecognized dtick "+String(Ut)},D.tickText=function(nt,it,Lt,Pt){var Bt,Rt=wt(nt,it),jt="array"===nt.tickmode,Ut=Lt||jt,ee=nt.type,ie="category"===ee?nt.d2l_noadd:nt.d2l;if(jt&&Array.isArray(nt.ticktext)){var fe=n.simpleMap(nt.range,nt.r2l),Ae=(Math.abs(fe[1]-fe[0])-(nt._lBreaks||0))/1e4;for(Bt=0;Bt<nt.ticktext.length&&!(Math.abs(it-ie(nt.tickvals[Bt]))<Ae);Bt++);if(Bt<nt.ticktext.length)return Rt.text=String(nt.ticktext[Bt]),Rt}function re(se){return void 0===se||(Lt?"none"===se:"all"!==se&&it!=={first:nt._tmin,last:nt._tmax}[se])}var te,Le,ve=Lt?"never":"none"!==nt.exponentformat&&re(nt.showexponent)?"hide":"";if("date"===ee?function(se,te,Le,_e){var ge=se._tickround,ke=Le&&se.hoverformat||D.getTickFormat(se);_e&&(ge=l(ge)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[ge]);var he,Fe=n.formatDate(te.x,ke,ge,se._dateFormat,se.calendar,se._extraFormat),Ie=Fe.indexOf("\n");if(-1!==Ie&&(he=Fe.substr(Ie+1),Fe=Fe.substr(0,Ie)),_e&&("00:00:00"===Fe||"00:00"===Fe?(Fe=he,he=""):8===Fe.length&&(Fe=Fe.replace(/:00$/,""))),he)if(Le)"d"===ge?Fe+=", "+he:Fe=he+(Fe?", "+Fe:"");else if(se._inCalcTicks&&se._prevDateHead===he){var Re=ye(se),Ze=se._trueSide||se.side;(!Re&&"top"===Ze||Re&&"bottom"===Ze)&&(Fe+="<br> ")}else se._prevDateHead=he,Fe+="<br>"+he;te.text=Fe}(nt,Rt,Lt,Ut):"log"===ee?function(se,te,Le,_e,ge){var ke=se.dtick,he=te.x,Fe=se.tickformat,Ie="string"==typeof ke&&ke.charAt(0);if("never"===ge&&(ge=""),_e&&"L"!==Ie&&(ke="L3",Ie="L"),Fe||"L"===Ie)te.text=Nt(Math.pow(10,he),se,ge,_e);else if(l(ke)||"D"===Ie&&n.mod(he+.01,1)<.1){var Re=Math.round(he),Ze=Math.abs(Re),We=se.exponentformat;"power"===We||It(We)&&St(Re)?(te.text=0===Re?1:1===Re?"10":"10<sup>"+(Re>1?"":z)+Ze+"</sup>",te.fontSize*=1.25):("e"===We||"E"===We)&&Ze>2?te.text="1"+We+(Re>0?"+":z)+Ze:(te.text=Nt(Math.pow(10,he),se,"","fakehover"),"D1"===ke&&"y"===se._id.charAt(0)&&(te.dy-=te.fontSize/6))}else{if("D"!==Ie)throw"unrecognized dtick "+String(ke);te.text=String(Math.round(Math.pow(10,n.mod(he,1)))),te.fontSize*=.75}if("D1"===se.dtick){var Be=String(te.text).charAt(0);"0"!==Be&&"1"!==Be||("y"===se._id.charAt(0)?te.dx-=te.fontSize/4:(te.dy+=te.fontSize/2,te.dx+=(se.range[1]>se.range[0]?1:-1)*te.fontSize*(he<0?.5:.25)))}}(nt,Rt,0,Ut,ve):"category"===ee?(te=Rt,void 0===(Le=nt._categories[Math.round(te.x)])&&(Le=""),te.text=String(Le)):"multicategory"===ee?function(se,te,Le){var _e=Math.round(te.x),ge=se._categories[_e]||[],ke=void 0===ge[1]?"":String(ge[1]),he=void 0===ge[0]?"":String(ge[0]);Le?te.text=he+" - "+ke:(te.text=ke,te.text2=he)}(nt,Rt,Lt):Oe(nt)?function(se,te,Le,_e,ge){if("radians"!==se.thetaunit||Le)te.text=Nt(te.x,se,ge,_e);else{var ke=te.x/180;if(0===ke)te.text="0";else{var he=function(Ie){function Re(be,me){return Math.abs(be-me)<=1e-6}var Ze=function(be){for(var me=1;!Re(Math.round(be*me)/me,be);)me*=10;return me}(Ie),We=Ie*Ze,Be=Math.abs(function be(me,Me){return Re(Me,0)?me:be(Me,me%Me)}(We,Ze));return[Math.round(We/Be),Math.round(Ze/Be)]}(ke);if(he[1]>=100)te.text=Nt(n.deg2rad(te.x),se,ge,_e);else{var Fe=te.x<0;te.text=1===he[1]?1===he[0]?"\u03c0":he[0]+"\u03c0":["<sup>",he[0],"</sup>","\u2044","<sub>",he[1],"</sub>","\u03c0"].join(""),Fe&&(te.text=z+te.text)}}}}(nt,Rt,Lt,Ut,ve):function(se,te,Le,_e,ge){"never"===ge?ge="":"all"===se.showexponent&&Math.abs(te.x/se.dtick)<1e-6&&(ge="hide"),te.text=Nt(te.x,se,ge,_e)}(nt,Rt,0,Ut,ve),Pt||(nt.tickprefix&&!re(nt.showtickprefix)&&(Rt.text=nt.tickprefix+Rt.text),nt.ticksuffix&&!re(nt.showticksuffix)&&(Rt.text+=nt.ticksuffix)),"boundaries"===nt.tickson||nt.showdividers){var Pe=function(se){var te=nt.l2p(se);return te>=0&&te<=nt._length?se:null};Rt.xbnd=[Pe(Rt.x-.5),Pe(Rt.x+nt.dtick-.5)]}return Rt},D.hoverLabelText=function(nt,it,Lt){Lt&&(nt=n.extendFlat({},nt,{hoverformat:Lt}));var Pt=Array.isArray(it)?it[0]:it,Bt=Array.isArray(it)?it[1]:void 0;if(void 0!==Bt&&Bt!==Pt)return D.hoverLabelText(nt,Pt,Lt)+" - "+D.hoverLabelText(nt,Bt,Lt);var Rt="log"===nt.type&&Pt<=0,jt=D.tickText(nt,nt.c2l(Rt?-Pt:Pt),"hover").text;return Rt?0===Pt?"0":z+jt:jt};var Ot=["f","p","n","\u03bc","m","","k","M","G","T"];function It(nt){return"SI"===nt||"B"===nt}function St(nt){return nt>14||nt<-15}function Nt(nt,it,Lt,Pt){var Bt=nt<0,Rt=it._tickround,jt=Lt||it.exponentformat||"B",Ut=it._tickexponent,ee=D.getTickFormat(it),ie=it.separatethousands;if(Pt){var fe={exponentformat:jt,minexponent:it.minexponent,dtick:"none"===it.showexponent?it.dtick:l(nt)&&Math.abs(nt)||1,range:"none"===it.showexponent?it.range.map(it.r2d):[0,nt||1]};bt(fe),Rt=(Number(fe._tickround)||0)+4,Ut=fe._tickexponent,it.hoverformat&&(ee=it.hoverformat)}if(ee)return it._numFormat(ee)(nt).replace(/-/g,z);var Ae,re=Math.pow(10,-Rt)/2;if("none"===jt&&(Ut=0),(nt=Math.abs(nt))<re)nt="0",Bt=!1;else{if(nt+=re,Ut&&(nt*=Math.pow(10,-Ut),Rt+=Ut),0===Rt)nt=String(Math.floor(nt));else if(Rt<0){nt=(nt=String(Math.round(nt))).substr(0,nt.length+Rt);for(var ve=Rt;ve<0;ve++)nt+="0"}else{var Pe=(nt=String(nt)).indexOf(".")+1;Pe&&(nt=nt.substr(0,Pe+Rt).replace(/\.?0+$/,""))}nt=n.numSeparate(nt,it._separators,ie)}return Ut&&"hide"!==jt&&(It(jt)&&St(Ut)&&(jt="power"),Ae=Ut<0?z+-Ut:"power"!==jt?"+"+Ut:String(Ut),"e"===jt||"E"===jt?nt+=jt+Ae:"power"===jt?nt+="\xd710<sup>"+Ae+"</sup>":"B"===jt&&9===Ut?nt+="B":It(jt)&&(nt+=Ot[Ut/3+5])),Bt?z+nt:nt}function Vt(nt,it){for(var Lt=[],Pt={},Bt=0;Bt<it.length;Bt++){var Rt=it[Bt];Pt[Rt.text2]?Pt[Rt.text2].push(Rt.x):Pt[Rt.text2]=[Rt.x]}for(var jt in Pt)Lt.push(wt(nt,n.interp(Pt[jt],.5),jt));return Lt}function Ct(nt){return void 0!==nt.periodX?nt.periodX:nt.x}function Gt(nt){return[nt.text,nt.x,nt.axInfo,nt.font,nt.fontSize,nt.fontColor].join("_")}function $t(nt){var it=nt.title.font.size,Lt=(nt.title.text.match(a.BR_TAG_ALL)||[]).length;return nt.title.hasOwnProperty("standoff")?Lt?it*(I+Lt*Z):it*I:Lt?it*(Lt+1)*Z:it}function Xt(nt,it){var Lt=nt.l2p(it);return Lt>1&&Lt<nt._length-1}function de(nt){var it=t.select(nt),Lt=it.select(".text-math-group");return Lt.empty()?it.select("text"):Lt}function Kt(nt){return nt._id+".automargin"}function kt(nt){return Kt(nt)+".mirror"}function Mt(nt){return nt._id+".rangeslider"}function qt(nt,it){for(var Lt=0;Lt<it.length;Lt++)-1===nt.indexOf(it[Lt])&&nt.push(it[Lt])}function ce(nt,it,Lt){var Pt,Bt,Rt=[],jt=[],Ut=nt.layout;for(Pt=0;Pt<it.length;Pt++)Rt.push(D.getFromId(nt,it[Pt]));for(Pt=0;Pt<Lt.length;Pt++)jt.push(D.getFromId(nt,Lt[Pt]));var ee=Object.keys(f),ie=["anchor","domain","overlaying","position","side","tickangle","editType"],fe=["linear","log"];for(Pt=0;Pt<ee.length;Pt++){var Ae=ee[Pt],re=Rt[0][Ae],ve=jt[0][Ae],Pe=!0,se=!1,te=!1;if("_"!==Ae.charAt(0)&&"function"!=typeof re&&-1===ie.indexOf(Ae)){for(Bt=1;Bt<Rt.length&&Pe;Bt++){var Le=Rt[Bt][Ae];"type"===Ae&&-1!==fe.indexOf(re)&&-1!==fe.indexOf(Le)&&re!==Le?se=!0:Le!==re&&(Pe=!1)}for(Bt=1;Bt<jt.length&&Pe;Bt++){var _e=jt[Bt][Ae];"type"===Ae&&-1!==fe.indexOf(ve)&&-1!==fe.indexOf(_e)&&ve!==_e?te=!0:jt[Bt][Ae]!==ve&&(Pe=!1)}Pe&&(se&&(Ut[Rt[0]._name].type="linear"),te&&(Ut[jt[0]._name].type="linear"),Te(Ut,Ae,Rt,jt,nt._fullLayout._dfltTitle))}}for(Pt=0;Pt<nt._fullLayout.annotations.length;Pt++){var ge=nt._fullLayout.annotations[Pt];-1!==it.indexOf(ge.xref)&&-1!==Lt.indexOf(ge.yref)&&n.swapAttrs(Ut.annotations[Pt],["?"])}}function Te(nt,it,Lt,Pt,Bt){var Rt,jt=n.nestedProperty,Ut=jt(nt[Lt[0]._name],it).get(),ee=jt(nt[Pt[0]._name],it).get();for("title"===it&&(Ut&&Ut.text===Bt.x&&(Ut.text=Bt.y),ee&&ee.text===Bt.y&&(ee.text=Bt.x)),Rt=0;Rt<Lt.length;Rt++)jt(nt,Lt[Rt]._name+"."+it).set(ee);for(Rt=0;Rt<Pt.length;Rt++)jt(nt,Pt[Rt]._name+"."+it).set(Ut)}function Oe(nt){return"angularaxis"===nt._id}function xe(nt,it){for(var Lt=it._rangebreaks.length,Pt=0;Pt<Lt;Pt++){var Bt=it._rangebreaks[Pt];if(nt>=Bt.min&&nt<Bt.max)return Bt.max}return nt}function ye(nt){return-1!==(nt.ticklabelposition||"").indexOf("inside")}function le(nt,it){ye(nt._anchorAxis||{})&&nt._hideCounterAxisInsideTickLabels&&nt._hideCounterAxisInsideTickLabels(it)}D.getTickFormat=function(nt){var it,Lt,Pt,Bt,Rt,jt,Ut,ee,re,ve,Pe,se,te,Le;function ie(re){return"string"!=typeof re?re:Number(re.replace("M",""))*k}function fe(re,ve){var Pe=["L","D"];if(typeof re==typeof ve){if("number"==typeof re)return re-ve;var se=Pe.indexOf(re.charAt(0)),te=Pe.indexOf(ve.charAt(0));return se===te?Number(re.replace(/(L|D)/g,""))-Number(ve.replace(/(L|D)/g,"")):se-te}return"number"==typeof re?1:-1}if(nt.tickformatstops&&nt.tickformatstops.length>0)switch(nt.type){case"date":case"linear":for(it=0;it<nt.tickformatstops.length;it++)if((Pt=nt.tickformatstops[it]).enabled&&(Bt=nt.dtick,jt=void 0,jt=ie||function(re){return re},ee=(Rt=Pt.dtickrange)[1],(!(Ut=Rt[0])&&"number"!=typeof Ut||jt(Ut)<=jt(Bt))&&(!ee&&"number"!=typeof ee||jt(ee)>=jt(Bt)))){Lt=Pt;break}break;case"log":for(it=0;it<nt.tickformatstops.length;it++)if((Pt=nt.tickformatstops[it]).enabled&&(void 0,void 0,void 0,void 0,Pe=null===(ve=Pt.dtickrange)[0],se=null===ve[1],te=fe(re=nt.dtick,ve[0])>=0,Le=fe(re,ve[1])<=0,(Pe||te)&&(se||Le))){Lt=Pt;break}}return Lt?Lt.value:nt.tickformat},D.getSubplots=function(nt,it){var Lt=nt._fullLayout._subplots,Pt=Lt.cartesian.concat(Lt.gl2d||[]),Bt=it?D.findSubplotsWithAxis(Pt,it):Pt;return Bt.sort(function(Rt,jt){var Ut=Rt.substr(1).split("y"),ee=jt.substr(1).split("y");return Ut[0]===ee[0]?+Ut[1]-+ee[1]:+Ut[0]-+ee[0]}),Bt},D.findSubplotsWithAxis=function(nt,it){for(var Lt=new RegExp("x"===it._id.charAt(0)?"^"+it._id+"y":it._id+"$"),Pt=[],Bt=0;Bt<nt.length;Bt++){var Rt=nt[Bt];Lt.test(Rt)&&Pt.push(Rt)}return Pt},D.makeClipPaths=function(nt){var it=nt._fullLayout;if(!it._hasOnlyLargeSploms){var Lt,Pt,Bt={_offset:0,_length:it.width,_id:""},Rt={_offset:0,_length:it.height,_id:""},jt=D.list(nt,"x",!0),Ut=D.list(nt,"y",!0),ee=[];for(Lt=0;Lt<jt.length;Lt++)for(ee.push({x:jt[Lt],y:Rt}),Pt=0;Pt<Ut.length;Pt++)0===Lt&&ee.push({x:Bt,y:Ut[Pt]}),ee.push({x:jt[Lt],y:Ut[Pt]});var ie=it._clips.selectAll(".axesclip").data(ee,function(fe){return fe.x._id+fe.y._id});ie.enter().append("clipPath").classed("axesclip",!0).attr("id",function(fe){return"clip"+it._uid+fe.x._id+fe.y._id}).append("rect"),ie.exit().remove(),ie.each(function(fe){t.select(this).select("rect").attr({x:fe.x._offset||0,y:fe.y._offset||0,width:fe.x._length||1,height:fe.y._length||1})})}},D.draw=function(nt,it,Lt){var Pt=nt._fullLayout;"redraw"===it&&Pt._paper.selectAll("g.subplot").each(function(Rt){var Ut=Pt._plots[Rt[0]];if(Ut){var ee=Ut.xaxis,ie=Ut.yaxis;Ut.xaxislayer.selectAll("."+ee._id+"tick").remove(),Ut.yaxislayer.selectAll("."+ie._id+"tick").remove(),Ut.xaxislayer.selectAll("."+ee._id+"tick2").remove(),Ut.yaxislayer.selectAll("."+ie._id+"tick2").remove(),Ut.xaxislayer.selectAll("."+ee._id+"divider").remove(),Ut.yaxislayer.selectAll("."+ie._id+"divider").remove(),Ut.minorGridlayer&&Ut.minorGridlayer.selectAll("path").remove(),Ut.gridlayer&&Ut.gridlayer.selectAll("path").remove(),Ut.zerolinelayer&&Ut.zerolinelayer.selectAll("path").remove(),Pt._infolayer.select(".g-"+ee._id+"title").remove(),Pt._infolayer.select(".g-"+ie._id+"title").remove()}});var Bt=it&&"redraw"!==it?it:D.listIds(nt);return n.syncOrAsync(Bt.map(function(Rt){return function(){if(Rt){var jt=D.getFromId(nt,Rt),Ut=D.drawOne(nt,jt,Lt);return jt._r=jt.range.slice(),jt._rl=n.simpleMap(jt._r,jt.r2l),Ut}}}))},D.drawOne=function(nt,it,Lt){var Pt,Bt,Rt;Lt=Lt||{},it.setScale();var jt=nt._fullLayout,Ut=it._id,ee=Ut.charAt(0),ie=D.counterLetter(Ut),fe=jt._plots[it._mainSubplot];if(fe){var Ae=fe[ee+"axislayer"],re=it._mainLinePosition,ve=it._mainMirrorPosition,Pe=it._vals=D.calcTicks(it),se=[it.mirror,re,ve].join("_");for(Pt=0;Pt<Pe.length;Pt++)Pe[Pt].axInfo=se;it._selections={},it._tickAngles&&(it._prevTickAngles=it._tickAngles),it._tickAngles={},it._depth=null;var te={};if(it.visible){var Le,_e,ge=D.makeTransTickFn(it),ke=D.makeTransTickLabelFn(it),he="inside"===it.ticks,Fe="outside"===it.ticks;if("boundaries"===it.tickson){var Ie=function(qe,Ne){var un,Sn=[],_n=function(xn,Tn){var Nn=xn.xbnd[Tn];null!==Nn&&Sn.push(n.extendFlat({},xn,{x:Nn}))};if(Ne.length){for(un=0;un<Ne.length;un++)_n(Ne[un],0);_n(Ne[un-1],1)}return Sn}(0,Pe);_e=D.clipEnds(it,Ie),Le=he?_e:Ie}else _e=D.clipEnds(it,Pe),Le=he&&"period"!==it.ticklabelmode?_e:Pe;var Re,Ze=it._gridVals=_e,We=function(qe,Ne){var un,Sn,_n=[],xn=Ne.length&&Ne[Ne.length-1].x<Ne[0].x,Tn=function(Mn,En){var Cn=Mn.xbnd[En];null!==Cn&&_n.push(n.extendFlat({},Mn,{x:Cn}))};if(qe.showdividers&&Ne.length){for(un=0;un<Ne.length;un++){var Nn=Ne[un];Nn.text2!==Sn&&Tn(Nn,xn?1:0),Sn=Nn.text2}Tn(Ne[un-1],xn?0:1)}return _n}(it,Pe);if(!jt._hasOnlyLargeSploms){var Be=it._subplotsWith,be={};for(Pt=0;Pt<Be.length;Pt++){var me=(Rt=jt._plots[Bt=Be[Pt]])[ie+"axis"],Me=me._mainAxis._id;if(!be[Me]){be[Me]=1;var ze="x"===ee?"M0,"+me._offset+"v"+me._length:"M"+me._offset+",0h"+me._length;D.drawGrid(nt,it,{vals:Ze,counterAxis:me,layer:Rt.gridlayer.select("."+Ut),minorLayer:Rt.minorGridlayer.select("."+Ut),path:ze,transFn:ge}),D.drawZeroLine(nt,it,{counterAxis:me,layer:Rt.zerolinelayer,path:ze,transFn:ge})}}}var Ce=D.getTickSigns(it),Ve=D.getTickSigns(it,"minor");if(it.ticks||it.minor&&it.minor.ticks){var Xe,Qe,rn,ln,on=D.makeTickPath(it,re,Ce[2]),cn=D.makeTickPath(it,re,Ve[2],{minor:!0});if(it._anchorAxis&&it.mirror&&!0!==it.mirror?(Xe=D.makeTickPath(it,ve,Ce[3]),Qe=D.makeTickPath(it,ve,Ve[3],{minor:!0}),rn=on+Xe,ln=cn+Qe):(Xe="",Qe="",rn=on,ln=cn),it.showdividers&&Fe&&"boundaries"===it.tickson){var dn={};for(Pt=0;Pt<We.length;Pt++)dn[We[Pt].x]=1;Re=function(qe){return dn[qe.x]?Xe:rn}}else Re=function(qe){return qe.minor?ln:rn}}if(D.drawTicks(nt,it,{vals:Le,layer:Ae,path:Re,transFn:ge}),"allticks"===it.mirror){var $e=Object.keys(it._linepositions||{});for(Pt=0;Pt<$e.length;Pt++){Rt=jt._plots[Bt=$e[Pt]];var mn=it._linepositions[Bt]||[],Ue=mn[1],fn=mn[2],sn=D.makeTickPath(it,mn[0],fn?Ce[0]:Ve[0],{minor:fn})+D.makeTickPath(it,Ue,fn?Ce[1]:Ve[1],{minor:fn});D.drawTicks(nt,it,{vals:Le,layer:Rt[ee+"axislayer"],path:sn,transFn:ge})}}var Ge=[];if(Ge.push(function(){return D.drawLabels(nt,it,{vals:Pe,layer:Ae,plotinfo:Rt,transFn:ke,labelFns:D.makeLabelFns(it,re)})}),"multicategory"===it.type){var bn={x:2,y:10}[ee];Ge.push(function(){var qe={x:"height",y:"width"}[ee],Ne=Ke()[qe]+bn+(it._tickAngles[Ut+"tick"]?it.tickfont.size*Z:0);return D.drawLabels(nt,it,{vals:Vt(it,Pe),layer:Ae,cls:Ut+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:ge,labelFns:D.makeLabelFns(it,re+Ne*Ce[4])})}),Ge.push(function(){return it._depth=Ce[4]*(Ke("tick2")[it.side]-re),qe=nt,Ne=it,_n=(un={vals:We,layer:Ae,path:D.makeTickPath(it,re,Ce[4],{len:it._depth}),transFn:ge}).vals,(xn=un.layer.selectAll("path."+(Sn=Ne._id+"divider")).data(_n,Gt)).exit().remove(),xn.enter().insert("path",":first-child").classed(Sn,1).classed("crisp",1).call(r.stroke,Ne.dividercolor).style("stroke-width",d.crispRound(qe,Ne.dividerwidth,1)+"px"),void xn.attr("transform",un.transFn).attr("d",un.path);var qe,Ne,un,Sn,_n,xn})}else it.title.hasOwnProperty("standoff")&&Ge.push(function(){it._depth=Ce[4]*(Ke()[it.side]-re)});var hn=e.getComponentMethod("rangeslider","isVisible")(it);return Ge.push(function(){var qe,Ne,un,Sn,_n=it.side.charAt(0),xn=q[it.side].charAt(0),Tn=D.getPxPosition(nt,it),Nn=Fe?it.ticklen:0;if((it.automargin||hn)&&("multicategory"===it.type?qe=Ke("tick2"):(qe=Ke(),"x"===ee&&"b"===_n&&(it._depth=Math.max(qe.width>0?qe.bottom-Tn:0,Nn)))),it.automargin){Ne={x:0,y:0,r:0,l:0,t:0,b:0};var Mn=[0,1];if("x"===ee){if("b"===_n?Ne[_n]=it._depth:(Ne[_n]=it._depth=Math.max(qe.width>0?Tn-qe.top:0,Nn),Mn.reverse()),qe.width>0){var En=qe.right-(it._offset+it._length);En>0&&(Ne.xr=1,Ne.r=En);var Cn=it._offset-qe.left;Cn>0&&(Ne.xl=0,Ne.l=Cn)}}else if("l"===_n?Ne[_n]=it._depth=Math.max(qe.height>0?Tn-qe.left:0,Nn):(Ne[_n]=it._depth=Math.max(qe.height>0?qe.right-Tn:0,Nn),Mn.reverse()),qe.height>0){var Wn=qe.bottom-(it._offset+it._length);Wn>0&&(Ne.yb=0,Ne.b=Wn);var Rn=it._offset-qe.top;Rn>0&&(Ne.yt=1,Ne.t=Rn)}Ne[ie]="free"===it.anchor?it.position:it._anchorAxis.domain[Mn[0]],it.title.text!==jt._dfltTitle[ee]&&(Ne[_n]+=$t(it)+(it.title.standoff||0)),it.mirror&&"free"!==it.anchor&&((un={x:0,y:0,r:0,l:0,t:0,b:0})[xn]=it.linewidth,it.mirror&&!0!==it.mirror&&(un[xn]+=Nn),!0===it.mirror||"ticks"===it.mirror?un[ie]=it._anchorAxis.domain[Mn[1]]:"all"!==it.mirror&&"allticks"!==it.mirror||(un[ie]=[it._counterDomainMin,it._counterDomainMax][Mn[1]]))}hn&&(Sn=e.getComponentMethod("rangeslider","autoMarginOpts")(nt,it)),o.autoMargin(nt,Kt(it),Ne),o.autoMargin(nt,kt(it),un),o.autoMargin(nt,Mt(it),Sn)}),Lt.skipTitle||hn&&"bottom"===it.side||Ge.push(function(){return function(qe,Ne){var un,Sn=qe._fullLayout,_n=Ne._id,xn=_n.charAt(0),Tn=Ne.title.font.size;if(Ne.title.hasOwnProperty("standoff"))un=Ne._depth+Ne.title.standoff+$t(Ne);else{var Nn=ye(Ne);if("multicategory"===Ne.type)un=Ne._depth;else{var Mn=1.5*Tn;Nn&&(Mn=.5*Tn,"outside"===Ne.ticks&&(Mn+=Ne.ticklen)),un=10+Mn+(Ne.linewidth?Ne.linewidth-1:0)}Nn||(un+="x"===xn?"top"===Ne.side?Tn*(Ne.showticklabels?1:0):Tn*(Ne.showticklabels?1.5:.5):"right"===Ne.side?Tn*(Ne.showticklabels?1:.5):Tn*(Ne.showticklabels?.5:0))}var En,Cn,Wn,Rn,Xn=D.getPxPosition(qe,Ne);if("x"===xn?(Cn=Ne._offset+Ne._length/2,Wn="top"===Ne.side?Xn-un:Xn+un):(Wn=Ne._offset+Ne._length/2,Cn="right"===Ne.side?Xn+un:Xn-un,En={rotate:"-90",offset:0}),"multicategory"!==Ne.type){var Jn=Ne._selections[Ne._id+"tick"];if(Rn={selection:Jn,side:Ne.side},Jn&&Jn.node()&&Jn.node().parentNode){var dr=d.getTranslate(Jn.node().parentNode);Rn.offsetLeft=dr.x,Rn.offsetTop=dr.y}Ne.title.hasOwnProperty("standoff")&&(Rn.pad=0)}return i.draw(qe,_n+"title",{propContainer:Ne,propName:Ne._name+".title.text",placeholder:Sn._dfltTitle[xn],avoid:Rn,transform:En,attributes:{x:Cn,y:Wn,"text-anchor":"middle"}})}(nt,it)}),n.syncOrAsync(Ge)}}function Ke(qe){var un,Sn,_n,xn,Tn,Nn,Ne=Ut+(qe||"tick");return te[Ne]||(te[Ne]=((un=it)._selections[Sn=Ne].size()?(_n=1/0,xn=-1/0,Tn=1/0,Nn=-1/0,un._selections[Sn].each(function(){var Mn=de(this),En=d.bBox(Mn.node().parentNode);_n=Math.min(_n,En.top),xn=Math.max(xn,En.bottom),Tn=Math.min(Tn,En.left),Nn=Math.max(Nn,En.right)})):(_n=0,xn=0,Tn=0,Nn=0),{top:_n,bottom:xn,left:Tn,right:Nn,height:xn-_n,width:Nn-Tn})),te[Ne]}},D.getTickSigns=function(nt,it){var Lt=nt._id.charAt(0),Bt=nt.side==={x:"top",y:"right"}[Lt]?1:-1,Rt=[-1,1,Bt,-Bt];return"inside"!==(it?(nt.minor||{}).ticks:nt.ticks)==("x"===Lt)&&(Rt=Rt.map(function(jt){return-jt})),nt.side&&Rt.push({l:-1,t:-1,r:1,b:1}[nt.side.charAt(0)]),Rt},D.makeTransTickFn=function(nt){return"x"===nt._id.charAt(0)?function(it){return s(nt._offset+nt.l2p(it.x),0)}:function(it){return s(0,nt._offset+nt.l2p(it.x))}},D.makeTransTickLabelFn=function(nt){var it=function(Bt){var Rt=Bt.ticklabelposition||"",jt=function(Le){return-1!==Rt.indexOf(Le)},Ut=jt("top"),ee=jt("left"),ie=jt("right"),fe=jt("bottom"),Ae=jt("inside"),re=fe||ee||Ut||ie;if(!re&&!Ae)return[0,0];var ve=Bt.side,Pe=re?(Bt.tickwidth||0)/2:0,se=3,te=Bt.tickfont?Bt.tickfont.size:12;return(fe||Ut)&&(Pe+=te*I,se+=(Bt.linewidth||0)/2),(ee||ie)&&(Pe+=(Bt.linewidth||0)/2,se+=3),Ae&&"top"===ve&&(se-=te*(1-I)),(ee||Ut)&&(Pe=-Pe),"bottom"!==ve&&"right"!==ve||(se=-se),[re?Pe:0,Ae?se:0]}(nt),Lt=it[0],Pt=it[1];return"x"===nt._id.charAt(0)?function(Bt){return s(Lt+nt._offset+nt.l2p(Ct(Bt)),Pt)}:function(Bt){return s(Pt,Lt+nt._offset+nt.l2p(Ct(Bt)))}},D.makeTickPath=function(nt,it,Lt,Pt){Pt||(Pt={});var Bt=Pt.minor;if(Bt&&!nt.minor)return"";var Rt=void 0!==Pt.len?Pt.len:Bt?nt.minor.ticklen:nt.ticklen,jt=nt._id.charAt(0),Ut=(nt.linewidth||1)/2;return"x"===jt?"M0,"+(it+Ut*Lt)+"v"+Rt*Lt:"M"+(it+Ut*Lt)+",0h"+Rt*Lt},D.makeLabelFns=function(nt,it,Lt){var Pt=nt.ticklabelposition||"",Bt=function(Be){return-1!==Pt.indexOf(Be)},Rt=Bt("top"),jt=Bt("left"),Ut=Bt("right"),ee=Bt("bottom")||jt||Rt||Ut,ie=Bt("inside"),fe="inside"===Pt&&"inside"===nt.ticks||!ie&&"outside"===nt.ticks&&"boundaries"!==nt.tickson,Ae=0,re=0,ve=fe?nt.ticklen:0;if(ie?ve*=-1:ee&&(ve=0),fe&&(Ae+=ve,Lt)){var Pe=n.deg2rad(Lt);Ae=ve*Math.cos(Pe)+1,re=ve*Math.sin(Pe)}nt.showticklabels&&(fe||nt.showline)&&(Ae+=.2*nt.tickfont.size);var se,te,Le,_e,ge,ke={labelStandoff:Ae+=(nt.linewidth||1)/2*(ie?-1:1),labelShift:re},he=0,Fe=nt.side,Ie=nt._id.charAt(0),Re=nt.tickangle;if("x"===Ie)_e=(ge=!ie&&"bottom"===Fe||ie&&"top"===Fe)?1:-1,ie&&(_e*=-1),se=re*_e,te=it+Ae*_e,Le=ge?1:-.2,90===Math.abs(Re)&&(ie?Le+=P:Le=-90===Re&&"bottom"===Fe?I:90===Re&&"top"===Fe?P:.5,he=P/2*(Re/90)),ke.xFn=function(Be){return Be.dx+se+he*Be.fontSize},ke.yFn=function(Be){return Be.dy+te+Be.fontSize*Le},ke.anchorFn=function(Be,be){if(ee){if(jt)return"end";if(Ut)return"start"}return l(be)&&0!==be&&180!==be?be*_e<0!==ie?"end":"start":"middle"},ke.heightFn=function(Be,be,me){return be<-60||be>60?-.5*me:"top"===nt.side!==ie?-me:0};else if("y"===Ie){if(_e=(ge=!ie&&"left"===Fe||ie&&"right"===Fe)?1:-1,ie&&(_e*=-1),se=Ae,te=re*_e,Le=0,ie||90!==Math.abs(Re)||(Le=-90===Re&&"left"===Fe||90===Re&&"right"===Fe?I:.5),ie){var Ze=l(Re)?+Re:0;if(0!==Ze){var We=n.deg2rad(Ze);he=Math.abs(Math.sin(We))*I*_e,Le=0}}ke.xFn=function(Be){return Be.dx+it-(se+Be.fontSize*Le)*_e+he*Be.fontSize},ke.yFn=function(Be){return Be.dy+te+Be.fontSize*P},ke.anchorFn=function(Be,be){return l(be)&&90===Math.abs(be)?"middle":ge?"end":"start"},ke.heightFn=function(Be,be,me){return"right"===nt.side&&(be*=-1),be<-30?-me:be<30?-.5*me:0}}return ke},D.drawTicks=function(nt,it,Lt){Lt=Lt||{};var Pt=it._id+"tick",Bt=[].concat(it.minor&&it.minor.ticks?Lt.vals.filter(function(jt){return jt.minor&&!jt.noTick}):[]).concat(it.ticks?Lt.vals.filter(function(jt){return!jt.minor&&!jt.noTick}):[]),Rt=Lt.layer.selectAll("path."+Pt).data(Bt,Gt);Rt.exit().remove(),Rt.enter().append("path").classed(Pt,1).classed("ticks",1).classed("crisp",!1!==Lt.crisp).each(function(jt){return r.stroke(t.select(this),jt.minor?it.minor.tickcolor:it.tickcolor)}).style("stroke-width",function(jt){return d.crispRound(nt,jt.minor?it.minor.tickwidth:it.tickwidth,1)+"px"}).attr("d",Lt.path).style("display",null),le(it,[G]),Rt.attr("transform",Lt.transFn)},D.drawGrid=function(nt,it,Lt){Lt=Lt||{};var Pt=it._id+"grid",Bt=it.minor&&it.minor.showgrid,Rt=Bt?Lt.vals.filter(function(Le){return Le.minor}):[],jt=it.showgrid?Lt.vals.filter(function(Le){return!Le.minor}):[],Ut=Lt.counterAxis;if(Ut&&D.shouldShowZeroLine(nt,it,Ut))for(var ee="array"===it.tickmode,ie=0;ie<jt.length;ie++){var fe=jt[ie].x;if(ee?!fe:Math.abs(fe)<it.dtick/100){if(jt=jt.slice(0,ie).concat(jt.slice(ie+1)),!ee)break;ie--}}it._gw=d.crispRound(nt,it.gridwidth,1);for(var Ae=Bt?d.crispRound(nt,it.minor.gridwidth,1):0,re=Lt.layer,ve=Lt.minorLayer,Pe=1;Pe>=0;Pe--){var se=Pe?re:ve;if(se){var te=se.selectAll("path."+Pt).data(Pe?jt:Rt,Gt);te.exit().remove(),te.enter().append("path").classed(Pt,1).classed("crisp",!1!==Lt.crisp),te.attr("transform",Lt.transFn).attr("d",Lt.path).each(function(Le){return r.stroke(t.select(this),Le.minor?it.minor.gridcolor:it.gridcolor||"#ddd")}).style("stroke-dasharray",function(Le){return d.dashStyle(Le.minor?it.minor.griddash:it.griddash,Le.minor?it.minor.gridwidth:it.gridwidth)}).style("stroke-width",function(Le){return(Le.minor?Ae:it._gw)+"px"}).style("display",null),"function"==typeof Lt.path&&te.attr("d",Lt.path)}}le(it,[$,ot])},D.drawZeroLine=function(nt,it,Lt){var Pt=it._id+"zl",Bt=D.shouldShowZeroLine(nt,it,(Lt=Lt||Lt).counterAxis),Rt=Lt.layer.selectAll("path."+Pt).data(Bt?[{x:0,id:it._id}]:[]);Rt.exit().remove(),Rt.enter().append("path").classed(Pt,1).classed("zl",1).classed("crisp",!1!==Lt.crisp).each(function(){Lt.layer.selectAll("path").sort(function(jt,Ut){return C(jt.id,Ut.id)})}),Rt.attr("transform",Lt.transFn).attr("d",Lt.path).call(r.stroke,it.zerolinecolor||r.defaultLine).style("stroke-width",d.crispRound(nt,it.zerolinewidth,it._gw||1)+"px").style("display",null),le(it,[Y])},D.drawLabels=function(nt,it,Lt){Lt=Lt||{};var Pt=nt._fullLayout,Bt=it._id,Rt=Bt.charAt(0),jt=Lt.cls||Bt+"tick",Ut=Lt.vals.filter(function(_e){return _e.text}),ee=Lt.labelFns,ie=Lt.secondary?0:it.tickangle,fe=(it._prevTickAngles||{})[jt],Ae=Lt.layer.selectAll("g."+jt).data(it.showticklabels?Ut:[],Gt),re=[];function ve(_e,ge){_e.each(function(ke){var he=t.select(this),Fe=he.select(".text-math-group"),Ie=ee.anchorFn(ke,ge),Re=Lt.transFn.call(he.node(),ke)+(l(ge)&&0!=+ge?" rotate("+ge+","+ee.xFn(ke)+","+(ee.yFn(ke)-ke.fontSize/2)+")":""),Ze=a.lineCount(he),We=Z*ke.fontSize,Be=ee.heightFn(ke,l(ge)?+ge:0,(Ze-1)*We);if(Be&&(Re+=s(0,Be)),Fe.empty()){var be=he.select("text");be.attr({transform:Re,"text-anchor":Ie}),be.style("opacity",1),it._adjustTickLabelsOverflow&&it._adjustTickLabelsOverflow()}else{var me=d.bBox(Fe.node()).width*{end:-.5,start:.5}[Ie];Fe.attr("transform",Re+s(me,0))}})}Ae.enter().append("g").classed(jt,1).append("text").attr("text-anchor","middle").each(function(_e){var ge=t.select(this),ke=nt._promises.length;ge.call(a.positionText,ee.xFn(_e),ee.yFn(_e)).call(d.font,_e.font,_e.fontSize,_e.fontColor).text(_e.text).call(a.convertToTspans,nt),nt._promises[ke]?re.push(nt._promises.pop().then(function(){ve(ge,ie)})):ve(ge,ie)}),le(it,[R]),Ae.exit().remove(),Lt.repositionOnUpdate&&Ae.each(function(_e){t.select(this).select("text").call(a.positionText,ee.xFn(_e),ee.yFn(_e))}),it._adjustTickLabelsOverflow=function(){var _e=it.ticklabeloverflow;if(_e&&"allow"!==_e){var ge=-1!==_e.indexOf("hide"),ke="x"===it._id.charAt(0),he=0,Fe=ke?nt._fullLayout.width:nt._fullLayout.height;if(-1!==_e.indexOf("domain")){var Ie=n.simpleMap(it.range,it.r2l);he=it.l2p(Ie[0])+it._offset,Fe=it.l2p(Ie[1])+it._offset}var Re=Math.min(he,Fe),Ze=Math.max(he,Fe),We=it.side,Be=1/0,be=-1/0;for(var me in Ae.each(function(Ce){var Ve=t.select(this);if(Ve.select(".text-math-group").empty()){var Xe=d.bBox(Ve.node()),Qe=0;ke?(Xe.right>Ze||Xe.left<Re)&&(Qe=1):(Xe.bottom>Ze||Xe.top+(it.tickangle?0:Ce.fontSize/4)<Re)&&(Qe=1);var rn=Ve.select("text");Qe?ge&&rn.style("opacity",0):(rn.style("opacity",1),Be="bottom"===We||"right"===We?Math.min(Be,ke?Xe.top:Xe.left):-1/0,be="top"===We||"left"===We?Math.max(be,ke?Xe.bottom:Xe.right):1/0)}}),Pt._plots){var Me=Pt._plots[me];if(it._id===Me.xaxis._id||it._id===Me.yaxis._id){var ze=ke?Me.yaxis:Me.xaxis;ze&&(ze["_visibleLabelMin_"+it._id]=Be,ze["_visibleLabelMax_"+it._id]=be)}}}},it._hideCounterAxisInsideTickLabels=function(_e){var ge="x"===it._id.charAt(0),ke=[];for(var he in Pt._plots){var Fe=Pt._plots[he];it._id!==Fe.xaxis._id&&it._id!==Fe.yaxis._id||ke.push(ge?Fe.yaxis:Fe.xaxis)}ke.forEach(function(Ie,Re){Ie&&ye(Ie)&&(_e||[Y,ot,$,G,R]).forEach(function(Ze){var We="tick"===Ze.K&&"text"===Ze.L&&"period"===it.ticklabelmode,Be=Pt._plots[it._mainSubplot];(Ze.K===Y.K?Be.zerolinelayer.selectAll("."+it._id+"zl"):Ze.K===ot.K?Be.minorGridlayer.selectAll("."+it._id):Ze.K===$.K?Be.gridlayer.selectAll("."+it._id):Be[it._id.charAt(0)+"axislayer"]).each(function(){var be=t.select(this);Ze.L&&(be=be.selectAll(Ze.L)),be.each(function(me){var Me=it.l2p(We?Ct(me):me.x)+it._offset,ze=t.select(this);Me<it["_visibleLabelMax_"+Ie._id]&&Me>it["_visibleLabelMin_"+Ie._id]?ze.style("display","none"):"tick"!==Ze.K||Re||ze.style("display",null)})})})})},ve(Ae,fe+1?fe:ie);var Pe=null;it._selections&&(it._selections[jt]=Ae);var se=[function(){return re.length&&Promise.all(re)}];it.automargin&&Pt._redrawFromAutoMarginCount&&90===fe?(Pe=90,se.push(function(){ve(Ae,fe)})):se.push(function(){if(ve(Ae,ie),Ut.length&&"x"===Rt&&!l(ie)&&("log"!==it.type||"D"!==String(it.dtick).charAt(0))){Pe=0;var _e,ge=0,ke=[];if(Ae.each(function(Ve){ge=Math.max(ge,Ve.fontSize);var Xe=it.l2p(Ve.x),Qe=de(this),rn=d.bBox(Qe.node());ke.push({top:0,bottom:10,height:10,left:Xe-rn.width/2,right:Xe+rn.width/2+2,width:rn.width+2})}),"boundaries"!==it.tickson&&!it.showdividers||Lt.secondary){var he=Ut.length,Fe=Math.abs((Ut[he-1].x-Ut[0].x)*it._m)/(he-1),Ie=it.ticklabelposition||"",Re=function(Ve){return-1!==Ie.indexOf(Ve)},Ze=Re("top"),We=Re("left"),Be=Re("right"),be=Re("bottom")||We||Ze||Be?(it.tickwidth||0)+6:0,me=Fe<2.5*ge||"multicategory"===it.type||"realaxis"===it._name;for(_e=0;_e<ke.length-1;_e++)if(n.bBoxIntersect(ke[_e],ke[_e+1],be)){Pe=me?90:30;break}}else{var Me=2;for(it.ticks&&(Me+=it.tickwidth/2),_e=0;_e<ke.length;_e++){var ze=Ut[_e].xbnd,Ce=ke[_e];if(null!==ze[0]&&Ce.left-it.l2p(ze[0])<Me||null!==ze[1]&&it.l2p(ze[1])-Ce.right<Me){Pe=90;break}}}Pe&&ve(Ae,Pe)}}),it._tickAngles&&se.push(function(){it._tickAngles[jt]=null===Pe?l(ie)?ie:0:Pe});var te=it._anchorAxis;te&&te.autorange&&ye(it)&&!W(Pt,it._id)&&(Pt._insideTickLabelsAutorange||(Pt._insideTickLabelsAutorange={}),Pt._insideTickLabelsAutorange[te._name+".autorange"]=te.autorange,se.push(function(){Ae.each(function(_e,ge){var ke=de(this);ke.select(".text-math-group").empty()&&(it._vals[ge].bb=d.bBox(ke.node()))})}));var Le=n.syncOrAsync(se);return Le&&Le.then&&nt._promises.push(Le),Le},D.getPxPosition=function(nt,it){var Lt,Pt=nt._fullLayout._size,Bt=it._id.charAt(0),Rt=it.side;return"free"!==it.anchor?Lt=it._anchorAxis:"x"===Bt?Lt={_offset:Pt.t+(1-(it.position||0))*Pt.h,_length:0}:"y"===Bt&&(Lt={_offset:Pt.l+(it.position||0)*Pt.w,_length:0}),"top"===Rt||"left"===Rt?Lt._offset:"bottom"===Rt||"right"===Rt?Lt._offset+Lt._length:void 0},D.shouldShowZeroLine=function(nt,it,Lt){var Pt=n.simpleMap(it.range,it.r2l);return Pt[0]*Pt[1]<=0&&it.zeroline&&("linear"===it.type||"-"===it.type)&&!(it.rangebreaks&&it.maskBreaks(0)===U)&&(Xt(it,0)||!function(Bt,Rt,jt,Ut){var ee=jt._mainAxis;if(ee){var ie=Bt._fullLayout,fe=Rt._id.charAt(0),Ae=D.counterLetter(Rt._id),re=Rt._offset+(Math.abs(Ut[0])<Math.abs(Ut[1])==("x"===fe)?0:Rt._length),Pe=ie._plots[jt._mainSubplot];if(!(Pe.mainplotinfo||Pe).overlays.length)return ve(jt);for(var se=D.list(Bt,Ae),te=0;te<se.length;te++){var Le=se[te];if(Le._mainAxis===ee&&ve(Le))return!0}}function ve(_e){if(!_e.showline||!_e.linewidth)return!1;var ge=Math.max((_e.linewidth+Rt.zerolinewidth)/2,1);function ke(Ie){return"number"==typeof Ie&&Math.abs(Ie-re)<ge}if(ke(_e._mainLinePosition)||ke(_e._mainMirrorPosition))return!0;var he=_e._linepositions||{};for(var Fe in he)if(ke(he[Fe][0])||ke(he[Fe][1]))return!0}}(nt,it,Lt,Pt)||function(Bt,Rt){for(var jt=Bt._fullData,Ut=Rt._mainSubplot,ee=Rt._id.charAt(0),ie=0;ie<jt.length;ie++){var fe=jt[ie];if(!0===fe.visible&&fe.xaxis+fe.yaxis===Ut&&(e.traceIs(fe,"bar-like")&&fe.orientation==={x:"h",y:"v"}[ee]||fe.fill&&fe.fill.charAt(fe.fill.length-1)===ee))return!0}return!1}(nt,it))},D.clipEnds=function(nt,it){return it.filter(function(Lt){return Xt(nt,Lt.x)})},D.allowAutoMargin=function(nt){for(var it=D.list(nt,"",!0),Lt=0;Lt<it.length;Lt++){var Pt=it[Lt];Pt.automargin&&(o.allowAutoMargin(nt,Kt(Pt)),Pt.mirror&&o.allowAutoMargin(nt,kt(Pt))),e.getComponentMethod("rangeslider","isVisible")(Pt)&&o.allowAutoMargin(nt,Mt(Pt))}},D.swap=function(nt,it){for(var Lt=function(Bt,Rt){var jt,Ut,ee=[];for(jt=0;jt<Rt.length;jt++){var ie=[],fe=Bt._fullData[Rt[jt]].xaxis,Ae=Bt._fullData[Rt[jt]].yaxis;if(fe&&Ae){for(Ut=0;Ut<ee.length;Ut++)-1===ee[Ut].x.indexOf(fe)&&-1===ee[Ut].y.indexOf(Ae)||ie.push(Ut);if(ie.length){var re,ve=ee[ie[0]];if(ie.length>1)for(Ut=1;Ut<ie.length;Ut++)qt(ve.x,(re=ee[ie[Ut]]).x),qt(ve.y,re.y);qt(ve.x,[fe]),qt(ve.y,[Ae])}else ee.push({x:[fe],y:[Ae]})}}return ee}(nt,it),Pt=0;Pt<Lt.length;Pt++)ce(nt,Lt[Pt].x,Lt[Pt].y)}},{"../../components/color":102,"../../components/drawing":124,"../../components/titles":200,"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"./autorange":278,"./axis_autotype":280,"./axis_ids":283,"./clean_ticks":285,"./layout_attributes":294,"./set_convert":301,"@plotly/d3":11,"fast-isnumeric":17}],280:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("../../lib"),o=c("../../constants/numerical").BADNUM,e=l.isArrayOrTypedArray,n=l.isDateTime,s=l.cleanNumber,a=Math.round;function i(d,f){return f?t(d):"number"==typeof d}function r(d){return Math.max(1,(d-1)/1e3)}tt.exports=function(d,f,h){var A,p=d,T=h.noMultiCategory;if(e(p)&&!p.length)return"-";if(!T&&e((A=p)[0])&&e(A[1]))return"multicategory";if(T&&Array.isArray(p[0])){for(var w=[],x=0;x<p.length;x++)if(e(p[x]))for(var m=0;m<p[x].length;m++)w.push(p[x][m]);p=w}if(function(A,b){for(var k=A.length,L=r(k),g=0,S=0,E={},v=0;v<k;v+=L){var N=A[a(v)],z=String(N);E[z]||(E[z]=1,n(N,b)&&g++,t(N)&&S++)}return g>2*S}(p,f))return"date";var y="strict"!==h.autotypenumbers;return function(A,b){for(var k=A.length,L=r(k),g=0,S=0,E={},v=0;v<k;v+=L){var N=A[a(v)],z=String(N);if(!E[z]){E[z]=1;var U=typeof N;"boolean"===U?S++:(b?s(N)!==o:"number"===U)?g++:"string"===U&&S++}}return S>2*g}(p,y)?"category":function(A,b){for(var k=A.length,L=0;L<k;L++)if(i(A[L],b))return!0;return!1}(p,y)?"linear":"-"}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],281:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("../../registry"),o=c("../../lib"),e=c("../../plot_api/plot_template"),n=c("../array_container_defaults"),s=c("./layout_attributes"),a=c("./tick_value_defaults"),i=c("./tick_mark_defaults"),r=c("./tick_label_defaults"),d=c("./prefix_suffix_defaults"),f=c("./category_order_defaults"),h=c("./line_grid_defaults"),p=c("./set_convert"),T=c("./constants").WEEKDAY_PATTERN,w=c("./constants").HOUR_PATTERN;function x(A,b,k){function L(U,Y){return o.coerce(A,b,s.rangebreaks,U,Y)}if(L("enabled")){var g=L("bounds");if(g&&g.length>=2){var S,E,v="";if(2===g.length)for(S=0;S<2;S++)if(E=y(g[S])){v=T;break}var F=L("pattern",v);if(F===T)for(S=0;S<2;S++)(E=y(g[S]))&&(b.bounds[S]=g[S]=E-1);if(F)for(S=0;S<2;S++)switch(E=g[S],F){case T:if(!t(E)||(E=+E)!==Math.floor(E)||E<0||E>=7)return void(b.enabled=!1);b.bounds[S]=g[S]=E;break;case w:if(!t(E)||(E=+E)<0||E>24)return void(b.enabled=!1);b.bounds[S]=g[S]=E}if(!1===k.autorange){var N=k.range;if(N[0]<N[1]){if(g[0]<N[0]&&g[1]>N[1])return void(b.enabled=!1)}else if(g[0]>N[0]&&g[1]<N[1])return void(b.enabled=!1)}}else{var z=L("values");if(!z||!z.length)return void(b.enabled=!1);L("dvalue")}}}tt.exports=function(A,b,k,L,g){var S,E=L.letter,v=L.font||{},F=L.splomStash||{},N=k("visible",!L.visibleDflt),U=b.type||(b._template||{}).type||"-";"date"===U&&(l.getComponentMethod("calendars","handleDefaults")(A,b,"calendar",L.calendar),L.noTicklabelmode||(S=k("ticklabelmode")));var Y="";L.noTicklabelposition&&"multicategory"!==U||(Y=o.coerce(A,b,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===S?["outside","inside"]:"x"===E?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),L.noTicklabeloverflow||k("ticklabeloverflow",-1!==Y.indexOf("inside")?"hide past domain":"category"===U||"multicategory"===U?"allow":"hide past div"),p(b,g);var $=!b.isValidRange(A.range);$&&L.reverseDflt&&($="reversed"),!k("autorange",$)||"linear"!==U&&"-"!==U||k("rangemode"),k("range"),b.cleanRange(),f(A,b,k,L),"category"===U||L.noHover||k("hoverformat");var ot=k("color"),G=ot!==s.color.dflt?ot:v.color,R=F.label||g._dfltTitle[E];if(d(A,b,k,U,L),!N)return b;k("title.text",R),o.coerceFont(k,"title.font",{family:v.family,size:o.bigFont(v.size),color:G}),a(A,b,k,U);var j=L.hasMinor;if(j&&(e.newContainer(b,"minor"),a(A,b,k,U,{isMinor:!0})),r(A,b,k,U,L),i(A,b,k,L),j){var P=L.isMinor;L.isMinor=!0,i(A,b,k,L),L.isMinor=P}h(A,b,k,{dfltColor:ot,bgColor:L.bgColor,showGrid:L.showGrid,hasMinor:j,attributes:s}),!j||b.minor.ticks||b.minor.showgrid||delete b.minor,(b.showline||b.ticks)&&k("mirror"),L.automargin&&k("automargin");var I,Z="multicategory"===U;if(L.noTickson||"category"!==U&&!Z||!b.ticks&&!b.showgrid||(Z&&(I="boundaries"),"boundaries"===k("tickson",I)&&delete b.ticklabelposition),Z&&k("showdividers")&&(k("dividercolor"),k("dividerwidth")),"date"===U)if(n(A,b,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:x}),b.rangebreaks.length){for(var q=0;q<b.rangebreaks.length;q++)if(b.rangebreaks[q].pattern===T){b._hasDayOfWeekBreaks=!0;break}if(p(b,g),g._has("scattergl")||g._has("splom"))for(var D=0;D<L.data.length;D++){var M=L.data[D];"scattergl"!==M.type&&"splom"!==M.type||(M.visible=!1,o.warn(M.type+" traces do not work on axes with rangebreaks. Setting trace "+M.index+" to `visible: false`."))}}else delete b.rangebreaks;return b};var m={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function y(A){if("string"==typeof A)return m[A.substr(0,3).toLowerCase()]}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"../array_container_defaults":274,"./category_order_defaults":284,"./constants":286,"./layout_attributes":294,"./line_grid_defaults":296,"./prefix_suffix_defaults":298,"./set_convert":301,"./tick_label_defaults":303,"./tick_mark_defaults":304,"./tick_value_defaults":305,"fast-isnumeric":17}],282:[function(c,tt,B){"use strict";var t=c("../../constants/docs"),l=t.FORMAT_LINK,o=t.DATE_FORMAT_LINK;function e(s,a){return["Sets the "+s+" formatting rule"+(a?"for `"+a+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+l+"."].join(" ")}function n(s,a){return e(s,a)+[" And for dates see: "+o+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}tt.exports={axisHoverFormat:function(s,a){return{valType:"string",dflt:"",editType:"none",description:(a?e:n)("hover text",s)+["By default the values are formatted using "+(a?"generic number format":"`"+s+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:e,descriptionWithDates:n}},{"../../constants/docs":209}],283:[function(c,tt,B){"use strict";var t=c("../../registry"),l=c("./constants");function o(e,n){if(n&&n.length)for(var s=0;s<n.length;s++)if(n[s][e])return!0;return!1}B.id2name=function(e){if("string"==typeof e&&e.match(l.AX_ID_PATTERN)){var n=e.split(" ")[0].substr(1);return"1"===n&&(n=""),e.charAt(0)+"axis"+n}},B.name2id=function(e){if(e.match(l.AX_NAME_PATTERN)){var n=e.substr(5);return"1"===n&&(n=""),e.charAt(0)+n}},B.cleanId=function(e,n,s){var a=/( domain)$/.test(e);if("string"==typeof e&&e.match(l.AX_ID_PATTERN)&&(!n||e.charAt(0)===n)&&(!a||s)){var i=e.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===i&&(i=""),e.charAt(0)+i+(a&&s?" domain":"")}},B.list=function(e,n,s){var a=e._fullLayout;if(!a)return[];var i,r=B.listIds(e,n),d=new Array(r.length);for(i=0;i<r.length;i++){var f=r[i];d[i]=a[f.charAt(0)+"axis"+f.substr(1)]}if(!s){var h=a._subplots.gl3d||[];for(i=0;i<h.length;i++){var p=a[h[i]];n?d.push(p[n+"axis"]):d.push(p.xaxis,p.yaxis,p.zaxis)}}return d},B.listIds=function(e,n){var s=e._fullLayout;if(!s)return[];var a=s._subplots;return n?a[n+"axis"]:a.xaxis.concat(a.yaxis)},B.getFromId=function(e,n,s){var a=e._fullLayout;return n=void 0===n||"string"!=typeof n?n:n.replace(" domain",""),"x"===s?n=n.replace(/y[0-9]*/,""):"y"===s&&(n=n.replace(/x[0-9]*/,"")),a[B.id2name(n)]},B.getFromTrace=function(e,n,s){var a=e._fullLayout,i=null;if(t.traceIs(n,"gl3d")){var r=n.scene;"scene"===r.substr(0,5)&&(i=a[r][s+"axis"])}else i=B.getFromId(e,n[s+"axis"]||s);return i},B.idSort=function(e,n){var s=e.charAt(0),a=n.charAt(0);return s!==a?s>a?1:-1:+(e.substr(1)||1)-+(n.substr(1)||1)},B.ref2id=function(e){return!!/^[xyz]/.test(e)&&e.split(" ")[0]},B.isLinked=function(e,n){return o(n,e._axisMatchGroups)||o(n,e._axisConstraintGroups)}},{"../../registry":318,"./constants":286}],284:[function(c,tt,B){"use strict";tt.exports=function(t,l,o,e){if("category"===l.type){var n,s=t.categoryarray,a=Array.isArray(s)&&s.length>0;a&&(n="array");var i,r=o("categoryorder",n);"array"===r&&(i=o("categoryarray")),a||"array"!==r||(r=l.categoryorder="trace"),"trace"===r?l._initialCategories=[]:"array"===r?l._initialCategories=i.slice():(i=function(d,f){var h,p,T,w=f.dataAttr||d._id.charAt(0),x={};if(f.axData)h=f.axData;else for(h=[],p=0;p<f.data.length;p++){var m=f.data[p];m[w+"axis"]===d._id&&h.push(m)}for(p=0;p<h.length;p++){var y=h[p][w];for(T=0;T<y.length;T++){var A=y[T];null!=A&&(x[A]=1)}}return Object.keys(x)}(l,e).sort(),"category ascending"===r?l._initialCategories=i:"category descending"===r&&(l._initialCategories=i.reverse()))}}},{}],285:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("../../lib"),o=c("../../constants/numerical"),e=o.ONEDAY,n=o.ONEWEEK;B.dtick=function(s,a){var i="log"===a,r="date"===a,d="category"===a,f=r?e:1;if(!s)return f;if(t(s))return(s=Number(s))<=0?f:d?Math.max(1,Math.round(s)):r?Math.max(.1,s):s;if("string"!=typeof s||!r&&!i)return f;var h=s.charAt(0),p=s.substr(1);return(p=t(p)?Number(p):0)<=0||!(r&&"M"===h&&p===Math.round(p)||i&&"L"===h||i&&"D"===h&&(1===p||2===p))?f:s},B.tick0=function(s,a,i,r){return"date"===a?l.cleanDate(s,l.dateTick0(i,r%n==0?1:0)):"D1"!==r&&"D2"!==r?t(s)?Number(s):0:void 0}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],286:[function(c,tt,B){"use strict";var t=c("../../lib/regex").counter;tt.exports={idRegex:{x:t("x","( domain)?"),y:t("y","( domain)?")},attrRegex:t("[xy]axis"),xAxisMatch:t("xaxis"),yAxisMatch:t("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":248}],287:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("./autorange"),o=c("./axis_ids").id2name,e=c("./layout_attributes"),n=c("./scale_zoom"),s=c("./set_convert"),a=c("../../constants/numerical").ALMOST_EQUAL,i=c("../../constants/alignment").FROM_BL;function r(x,m,y){var A=y.axIds,b=y.layoutOut,k=y.hasImage,L=b._axisConstraintGroups,g=b._axisMatchGroups,S=m._id,E=S.charAt(0),v=((b._splomAxes||{})[E]||{})[S]||{},F=m._id,N="x"===F.charAt(0);function z(H,C){return t.coerce(x,m,e,H,C)}m._matchGroup=null,m._constraintGroup=null,z("constrain",k?"domain":"range"),t.coerce(x,m,{constraintoward:{valType:"enumerated",values:N?["left","center","right"]:["bottom","middle","top"],dflt:N?"center":"middle"}},"constraintoward");var U,Y,$=m.type,ot=[];for(U=0;U<A.length;U++)(Y=A[U])!==F&&b[o(Y)].type===$&&ot.push(Y);var G=f(L,F);if(G){var R=[];for(U=0;U<ot.length;U++)G[Y=ot[U]]||R.push(Y);ot=R}var j,P,I=ot.length;I&&(x.matches||v.matches)&&(j=t.coerce(x,m,{matches:{valType:"enumerated",values:ot,dflt:-1!==ot.indexOf(v.matches)?v.matches:void 0}},"matches"));var Z=k&&!N?m.anchor:void 0;if(I&&!j&&(x.scaleanchor||Z)&&(P=t.coerce(x,m,{scaleanchor:{valType:"enumerated",values:ot}},"scaleanchor",Z)),j){m._matchGroup=h(g,F,j,1);var q=b[o(j)],D=d(b,m)/d(b,q);N!==("x"===j.charAt(0))&&(D=(N?"x":"y")+D),h(L,F,j,D)}else x.matches&&-1!==A.indexOf(x.matches)&&t.warn("ignored "+m._name+'.matches: "'+x.matches+'" to avoid an infinite loop');if(P){var M=z("scaleratio");M||(M=m.scaleratio=1),h(L,F,P,M)}else x.scaleanchor&&-1!==A.indexOf(x.scaleanchor)&&t.warn("ignored "+m._name+'.scaleanchor: "'+x.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function d(x,m){var y=m.domain;return y||(y=x[o(m.overlaying)].domain),y[1]-y[0]}function f(x,m){for(var y=0;y<x.length;y++)if(x[y][m])return x[y];return null}function h(x,m,y,A){var b,k,L,g,S,E=f(x,m);null===E?((E={})[m]=1,S=x.length,x.push(E)):S=x.indexOf(E);var v=Object.keys(E);for(b=0;b<x.length;b++)if(L=x[b],b!==S&&L[y]){var F=L[y];for(k=0;k<v.length;k++)L[g=v[k]]=p(F,p(A,E[g]));return void x.splice(S,1)}if(1!==A)for(k=0;k<v.length;k++){var N=v[k];E[N]=p(A,E[N])}E[y]=1}function p(x,m){var y,A,b="",k="";"string"==typeof x&&(y=(b=x.match(/^[xy]*/)[0]).length,x=+x.substr(y)),"string"==typeof m&&(A=(k=m.match(/^[xy]*/)[0]).length,m=+m.substr(A));var L=x*m;return y||A?y&&A&&b.charAt(0)!==k.charAt(0)?y===A?L:(y>A?b.substr(A):k.substr(y))+L:b+k+x*m:L}function T(x,m){for(var y=m._size,A=y.h/y.w,b={},k=Object.keys(x),L=0;L<k.length;L++){var g=k[L],S=x[g];if("string"==typeof S){var E=S.match(/^[xy]*/)[0],v=E.length;S=+S.substr(v);for(var F="y"===E.charAt(0)?A:1/A,N=0;N<v;N++)S*=F}b[g]=S}return b}function w(x,m){var y=x._inputDomain,b=y[0]+(y[1]-y[0])*i[x.constraintoward];x.domain=x._input.domain=[b+(y[0]-b)/m,b+(y[1]-b)/m],x.setScale()}B.handleDefaults=function(x,m,y){var A,b,k,L,g,S,E,v,F=y.axIds,N=y.axHasImage,z=m._axisConstraintGroups=[],U=m._axisMatchGroups=[];for(A=0;A<F.length;A++)r(g=x[L=o(F[A])],S=m[L],{axIds:F,layoutOut:m,hasImage:N[L]});function Y(q,D){for(A=0;A<q.length;A++)for(k in b=q[A])m[o(k)][D]=b}for(Y(U,"_matchGroup"),A=0;A<z.length;A++)for(k in b=z[A])if((S=m[o(k)]).fixedrange){for(var $ in b){var ot=o($);!1===(x[ot]||{}).fixedrange&&t.warn("fixedrange was specified as false for axis "+ot+" but was overridden because another axis in its constraint group has fixedrange true"),m[ot].fixedrange=!0}break}for(A=0;A<z.length;){for(k in b=z[A]){(S=m[o(k)])._matchGroup&&Object.keys(S._matchGroup).length===Object.keys(b).length&&(z.splice(A,1),A--);break}A++}Y(z,"_constraintGroup");var G=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],R=!1,j=!1;function P(){v=S[E],"rangebreaks"===E&&(j=S._hasDayOfWeekBreaks)}for(A=0;A<U.length;A++){b=U[A];for(var I=0;I<G.length;I++){var Z;for(k in E=G[I],v=null,b)if(g=x[L=o(k)],E in(S=m[L])){if(!S.matches&&(Z=S,E in g)){P();break}null===v&&E in g&&P()}if("range"===E&&v&&(R=!0),"autorange"===E&&null===v&&R&&(v=!1),null===v&&E in Z&&(v=Z[E]),null!==v)for(k in b)(S=m[o(k)])[E]="range"===E?v.slice():v,"rangebreaks"===E&&(S._hasDayOfWeekBreaks=j,s(S,m))}}},B.enforce=function(x){var m,y,A,b,k,L,g,S,E=x._fullLayout,v=E._axisConstraintGroups||[];for(m=0;m<v.length;m++){A=T(v[m],E);var F=Object.keys(A),N=1/0,z=0,U=1/0,Y={},$={},ot=!1;for(y=0;y<F.length;y++)$[b=F[y]]=k=E[o(b)],k._inputDomain?k.domain=k._inputDomain.slice():k._inputDomain=k.domain.slice(),k._inputRange||(k._inputRange=k.range.slice()),k.setScale(),Y[b]=L=Math.abs(k._m)/A[b],N=Math.min(N,L),"domain"!==k.constrain&&k._constraintShrinkable||(U=Math.min(U,L)),delete k._constraintShrinkable,z=Math.max(z,L),"domain"===k.constrain&&(ot=!0);if(!(N>a*z)||ot)for(y=0;y<F.length;y++)if(L=Y[b=F[y]],g=(k=$[b]).constrain,L!==U||"domain"===g)if(S=L/U,"range"===g)n(k,S);else{var G=k._inputDomain,R=(k.domain[1]-k.domain[0])/(G[1]-G[0]),j=(k.r2l(k.range[1])-k.r2l(k.range[0]))/(k.r2l(k._inputRange[1])-k.r2l(k._inputRange[0]));if((S/=R)*j<1){k.domain=k._input.domain=G.slice(),n(k,S);continue}if(j<1&&(k.range=k._input.range=k._inputRange.slice(),S*=j),k.autorange){var P=k.r2l(k.range[0]),I=k.r2l(k.range[1]),Z=(P+I)/2,q=Z,D=Z,M=Math.abs(I-Z),H=Z-M*S*1.0001,C=Z+M*S*1.0001,W=l.makePadFn(E,k,0),K=l.makePadFn(E,k,1);w(k,S);var J,Q,ut=Math.abs(k._m),ct=l.concatExtremes(x,k),gt=ct.min,vt=ct.max;for(Q=0;Q<gt.length;Q++)(J=gt[Q].val-W(gt[Q])/ut)>H&&J<q&&(q=J);for(Q=0;Q<vt.length;Q++)(J=vt[Q].val+K(vt[Q])/ut)<C&&J>D&&(D=J);S/=(D-q)/(2*M),q=k.l2r(q),D=k.l2r(D),k.range=k._input.range=P<I?[q,D]:[D,q]}w(k,S)}}},B.getAxisGroup=function(x,m){for(var y=x._axisMatchGroups,A=0;A<y.length;A++)if(y[A][m])return"g"+A;return m},B.clean=function(x,m){if(m._inputDomain){for(var y=!1,A=m._id,b=x._fullLayout._axisConstraintGroups,k=0;k<b.length;k++)if(b[k][A]){y=!0;break}y&&"domain"===m.constrain||(m._input.domain=m.domain=m._inputDomain,delete m._inputDomain)}}},{"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"./autorange":278,"./axis_ids":283,"./layout_attributes":294,"./scale_zoom":299,"./set_convert":301}],288:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../../lib"),o=l.numberFormat,e=c("tinycolor2"),n=c("has-passive-events"),s=c("../../registry"),a=l.strTranslate,i=c("../../lib/svg_text_utils"),r=c("../../components/color"),d=c("../../components/drawing"),f=c("../../components/fx"),h=c("./axes"),p=c("../../lib/setcursor"),T=c("../../components/dragelement"),w=c("../../components/dragelement/helpers"),x=w.selectingOrDrawing,m=w.freeMode,y=c("../../constants/alignment").FROM_TL,A=c("../../lib/clear_gl_canvases"),b=c("../../plot_api/subroutines").redrawReglTraces,k=c("../plots"),L=c("./axis_ids").getFromId,g=c("./select").prepSelect,S=c("./select").clearSelect,E=c("./select").selectOnClick,v=c("./scale_zoom"),F=c("./constants"),N=F.MINDRAG,z=F.MINZOOM,U=!0;function Y(J,Q,ut,ct){var gt=l.ensureSingle(J.draglayer,Q,ut,function(vt){vt.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",J.id)});return gt.call(p,ct),gt.node()}function $(J,Q,ut,ct,gt,vt,xt){var Tt=Y(J,"rect",Q,ut);return t.select(Tt).call(d.setRect,ct,gt,vt,xt),Tt}function ot(J,Q){for(var ut=0;ut<J.length;ut++)if(!J[ut].fixedrange)return Q;return""}function G(J,Q,ut,ct,gt){for(var vt=0;vt<J.length;vt++){var xt=J[vt];if(!xt.fixedrange)if(xt.rangebreaks){var Tt="y"===xt._id.charAt(0),Et=Tt?1-ut:ut;ct[xt._name+".range[0]"]=xt.l2r(xt.p2l((Tt?1-Q:Q)*xt._length)),ct[xt._name+".range[1]"]=xt.l2r(xt.p2l(Et*xt._length))}else{var At=xt._rl[0],lt=xt._rl[1]-At;ct[xt._name+".range[0]"]=xt.l2r(At+lt*Q),ct[xt._name+".range[1]"]=xt.l2r(At+lt*ut)}}if(gt&&gt.length){var rt=(Q+(1-ut))/2;G(gt,rt,1-rt,ct,[])}}function R(J,Q){for(var ut=0;ut<J.length;ut++){var ct=J[ut];if(!ct.fixedrange)if(ct.rangebreaks){var gt=ct._length,vt=(ct.p2l(0+Q)-ct.p2l(0)+(ct.p2l(gt+Q)-ct.p2l(gt)))/2;ct.range=[ct.l2r(ct._rl[0]-vt),ct.l2r(ct._rl[1]-vt)]}else ct.range=[ct.l2r(ct._rl[0]-Q/ct._m),ct.l2r(ct._rl[1]-Q/ct._m)]}}function j(J){return 1-(J>=0?Math.min(J,.9):1/(1/Math.max(J,-.3)+3.222))}function P(J,Q,ut,ct,gt){return J.append("path").attr("class","zoombox").style({fill:Q>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",a(ut,ct)).attr("d",gt+"Z")}function I(J,Q,ut){return J.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,opacity:0}).attr("transform",a(Q,ut)).attr("d","M0,0Z")}function Z(J,Q,ut,ct,gt,vt){J.attr("d",ct+"M"+ut.l+","+ut.t+"v"+ut.h+"h"+ut.w+"v-"+ut.h+"h-"+ut.w+"Z"),q(J,Q,gt,vt)}function q(J,Q,ut,ct){ut||(J.transition().style("fill",ct>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),Q.transition().style("opacity",1).duration(200))}function D(J){t.select(J).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function M(J){U&&J.data&&J._context.showTips&&(l.notifier(l._(J,"Double-click to zoom back out"),"long"),U=!1)}function H(J){var Q=Math.floor(Math.min(J.b-J.t,J.r-J.l,z)/2);return"M"+(J.l-3.5)+","+(J.t-.5+Q)+"h3v"+-Q+"h"+Q+"v-3h-"+(Q+3)+"ZM"+(J.r+3.5)+","+(J.t-.5+Q)+"h-3v"+-Q+"h"+-Q+"v-3h"+(Q+3)+"ZM"+(J.r+3.5)+","+(J.b+.5-Q)+"h-3v"+Q+"h"+-Q+"v3h"+(Q+3)+"ZM"+(J.l-3.5)+","+(J.b+.5-Q)+"h3v"+Q+"h"+Q+"v3h-"+(Q+3)+"Z"}function C(J,Q,ut,ct,gt){for(var vt,xt,Tt,zt,Et=!1,At={},lt={},rt=(gt||{}).xaHash,dt=(gt||{}).yaHash,mt=0;mt<Q.length;mt++){var Dt=Q[mt];for(vt in ut)if(Dt[vt]){for(Tt in Dt)gt&&(rt[Tt]||dt[Tt])||("x"===Tt.charAt(0)?ut:ct)[Tt]||(At[Tt]=vt);for(xt in ct)gt&&(rt[xt]||dt[xt])||!Dt[xt]||(Et=!0)}for(xt in ct)if(Dt[xt])for(zt in Dt)gt&&(rt[zt]||dt[zt])||("x"===zt.charAt(0)?ut:ct)[zt]||(lt[zt]=xt)}Et&&(l.extendFlat(At,lt),lt={});var bt={},wt=[];for(Tt in At){var Ot=L(J,Tt);wt.push(Ot),bt[Ot._id]=Ot}var It={},St=[];for(zt in lt){var Nt=L(J,zt);St.push(Nt),It[Nt._id]=Nt}return{xaHash:bt,yaHash:It,xaxes:wt,yaxes:St,xLinks:At,yLinks:lt,isSubplotConstrained:Et}}function W(J,Q){if(n){var ut=void 0!==J.onwheel?"wheel":"mousewheel";J._onwheel&&J.removeEventListener(ut,J._onwheel),J._onwheel=Q,J.addEventListener(ut,Q,{passive:!1})}else void 0!==J.onwheel?J.onwheel=Q:void 0!==J.onmousewheel?J.onmousewheel=Q:J.isAddedWheelEvent||(J.isAddedWheelEvent=!0,J.addEventListener("wheel",Q,{passive:!1}))}function K(J){var Q=[];for(var ut in J)Q.push(J[ut]);return Q}tt.exports={makeDragBox:function(J,Q,ut,ct,gt,vt,xt,Tt){var zt,Et,At,lt,rt,dt,mt,Dt,bt,wt,Ot,It,St,Nt,Vt,Ct,Gt,$t,Xt,de,Kt,kt,Mt,qt=J._fullLayout._zoomlayer,ce=xt+Tt==="nsew",Te=1===(xt+Tt).length;function Oe(){if(bt=(zt=Q.xaxis)._length,wt=(Et=Q.yaxis)._length,mt=zt._offset,Dt=Et._offset,(At={})[zt._id]=zt,(lt={})[Et._id]=Et,xt&&Tt)for(var be=Q.overlays,me=0;me<be.length;me++){var Me=be[me].xaxis;At[Me._id]=Me;var ze=be[me].yaxis;lt[ze._id]=ze}rt=K(At),dt=K(lt),St=ot(rt,Tt),Nt=ot(dt,xt),Vt=!Nt&&!St,It=C(J,J._fullLayout._axisMatchGroups,At,lt);var Ce=(Ot=C(J,J._fullLayout._axisConstraintGroups,At,lt,It)).isSubplotConstrained||It.isSubplotConstrained;Ct=Tt||Ce,Gt=xt||Ce;var Ve=J._fullLayout;$t=Ve._has("scattergl"),Xt=Ve._has("splom"),de=Ve._has("svg")}Oe();var be,xe=(be=Nt+St)?"nsew"===be?ce?"":"pan"===J._fullLayout.dragmode?"move":"crosshair":be.toLowerCase()+"-resize":"pointer",ye=$(Q,xt+Tt+"drag",xe,ut,ct,gt,vt);if(Vt&&!ce)return ye.onmousedown=null,ye.style.pointerEvents="none",ye;var le,nt,it,Lt,Pt,Bt,Rt,jt,Ut,ee,ie={element:ye,gd:J,plotinfo:Q};function fe(){ie.plotinfo.selection=!1,S(J)}function Ae(be,me){var on,cn,dn,$e,mn,Me=ie.gd;if(Me._fullLayout._activeShapeIndex>=0)Me._fullLayout._deactivateShape(Me);else{var ze=Me._fullLayout.clickmode;if(D(Me),2!==be||Te||function Fe(){if(!J._transitioningWithDuration){var be=J._context.doubleClick,me=[];St&&(me=me.concat(rt)),Nt&&(me=me.concat(dt)),It.xaxes&&(me=me.concat(It.xaxes)),It.yaxes&&(me=me.concat(It.yaxes));var Me,ze,Ce,Ve={};if("reset+autosize"===be)for(be="autosize",ze=0;ze<me.length;ze++)if((Me=me[ze])._rangeInitial&&(Me.range[0]!==Me._rangeInitial[0]||Me.range[1]!==Me._rangeInitial[1])||!Me._rangeInitial&&!Me.autorange){be="reset";break}if("autosize"===be)for(ze=0;ze<me.length;ze++)(Me=me[ze]).fixedrange||(Ve[Me._name+".autorange"]=!0);else if("reset"===be)for((St||Ot.isSubplotConstrained)&&(me=me.concat(Ot.xaxes)),Nt&&!Ot.isSubplotConstrained&&(me=me.concat(Ot.yaxes)),Ot.isSubplotConstrained&&(St?Nt||(me=me.concat(dt)):me=me.concat(rt)),ze=0;ze<me.length;ze++)(Me=me[ze]).fixedrange||(Me._rangeInitial?(Ve[Me._name+".range[0]"]=(Ce=Me._rangeInitial)[0],Ve[Me._name+".range[1]"]=Ce[1]):Ve[Me._name+".autorange"]=!0);J.emit("plotly_doubleclick",null),s.call("_guiRelayout",J,Ve)}}(),ce)ze.indexOf("select")>-1&&E(me,Me,rt,dt,Q.id,ie),ze.indexOf("event")>-1&&f.click(Me,me,Q.id);else if(1===be&&Te){var Ce=xt?Et:zt,Ve="s"===xt||"w"===Tt?0:1,Xe=Ce._name+".range["+Ve+"]",Qe=($e=(on=Ce).range[cn=Ve],mn=Math.abs($e-on.range[1-cn]),"date"===on.type?$e:"log"===on.type?(dn=Math.ceil(Math.max(0,-Math.log(mn)/Math.LN10))+3,o("."+dn+"g")(Math.pow(10,$e))):(dn=Math.floor(Math.log(Math.abs($e))/Math.LN10)-Math.floor(Math.log(mn)/Math.LN10)+4,o("."+String(dn)+"g")($e))),rn="left",ln="middle";if(Ce.fixedrange)return;xt?(ln="n"===xt?"top":"bottom","right"===Ce.side&&(rn="right")):"e"===Tt&&(rn="right"),Me._context.showAxisRangeEntryBoxes&&t.select(ye).call(i.makeEditable,{gd:Me,immediate:!0,background:Me._fullLayout.paper_bgcolor,text:String(Qe),fill:Ce.tickfont?Ce.tickfont.color:"#444",horizontalAlign:rn,verticalAlign:ln}).on("edit",function(on){var cn=Ce.d2r(on);void 0!==cn&&s.call("_guiRelayout",Me,Xe,cn)})}}}function re(be,me){if(J._transitioningWithDuration)return!1;var ln,on,Me=Math.max(0,Math.min(bt,kt*be+le)),ze=Math.max(0,Math.min(wt,Mt*me+nt)),Ce=Math.abs(Me-le),Ve=Math.abs(ze-nt);function Xe(){Rt="",it.r=it.l,it.t=it.b,Ut.attr("d","M0,0Z")}if(it.l=Math.min(le,Me),it.r=Math.max(le,Me),it.t=Math.min(nt,ze),it.b=Math.max(nt,ze),Ot.isSubplotConstrained)Ce>z||Ve>z?(Rt="xy",Ce/bt>Ve/wt?(Ve=Ce*wt/bt,nt>ze?it.t=nt-Ve:it.b=nt+Ve):(Ce=Ve*bt/wt,le>Me?it.l=le-Ce:it.r=le+Ce),Ut.attr("d",H(it))):Xe();else if(It.isSubplotConstrained)if(Ce>z||Ve>z){Rt="xy";var Qe=Math.min(it.l/bt,(wt-it.b)/wt),rn=Math.max(it.r/bt,(wt-it.t)/wt);it.l=Qe*bt,it.r=rn*bt,it.b=(1-Qe)*wt,it.t=(1-rn)*wt,Ut.attr("d",H(it))}else Xe();else!Nt||Ve<Math.min(Math.max(.6*Ce,N),z)?Ce<N||!St?Xe():(it.t=0,it.b=wt,Rt="x",Ut.attr("d","M"+((ln=it).l-.5)+","+((on=nt)-z-.5)+"h-3v"+(2*z+1)+"h3ZM"+(ln.r+.5)+","+(on-z-.5)+"h3v"+(2*z+1)+"h-3Z")):!St||Ce<Math.min(.6*Ve,z)?(it.l=0,it.r=bt,Rt="y",Ut.attr("d",function(ln,on){return"M"+(on-z-.5)+","+(ln.t-.5)+"v-3h"+(2*z+1)+"v3ZM"+(on-z-.5)+","+(ln.b+.5)+"v3h"+(2*z+1)+"v-3Z"}(it,le))):(Rt="xy",Ut.attr("d",H(it)));it.w=it.r-it.l,it.h=it.b-it.t,Rt&&(ee=!0),J._dragged=ee,Z(jt,Ut,it,Pt,Bt,Lt),ve(),J.emit("plotly_relayouting",Kt),Bt=!0}function ve(){Kt={},"xy"!==Rt&&"x"!==Rt||(G(rt,it.l/bt,it.r/bt,Kt,Ot.xaxes),ke("x",Kt)),"xy"!==Rt&&"y"!==Rt||(G(dt,(wt-it.b)/wt,(wt-it.t)/wt,Kt,Ot.yaxes),ke("y",Kt))}function Pe(){ve(),D(J),Ie(),M(J)}ie.prepFn=function(be,me,Me){var ze=ie.dragmode,Ce=J._fullLayout.dragmode;Ce!==ze&&(ie.dragmode=Ce),Oe(),kt=J._fullLayout._invScaleX,Mt=J._fullLayout._invScaleY,Vt||(ce?be.shiftKey?"pan"===Ce?Ce="zoom":x(Ce)||(Ce="pan"):be.ctrlKey&&(Ce="pan"):Ce="pan"),ie.minDrag=m(Ce)?1:void 0,x(Ce)?(ie.xaxes=rt,ie.yaxes=dt,g(be,me,Me,ie,Ce)):(ie.clickFn=Ae,x(ze)&&fe(),Vt||("zoom"===Ce?(ie.moveFn=re,ie.doneFn=Pe,ie.minDrag=1,function(Ve,Xe,Qe){var rn=ye.getBoundingClientRect();le=Xe-rn.left,nt=Qe-rn.top,J._fullLayout._calcInverseTransform(J);var ln=l.apply3DTransform(J._fullLayout._invTransform)(le,nt);it={l:le=ln[0],r:le,w:0,t:nt=ln[1],b:nt,h:0},Lt=J._hmpixcount?J._hmlumcount/J._hmpixcount:e(J._fullLayout.plot_bgcolor).getLuminance(),Bt=!1,Rt="xy",ee=!1,jt=P(qt,Lt,mt,Dt,Pt="M0,0H"+bt+"V"+wt+"H0V0"),Ut=I(qt,mt,Dt)}(0,me,Me)):"pan"===Ce&&(ie.moveFn=ge,ie.doneFn=Ie))),J._fullLayout._redrag=function(){var Ve=J._dragdata;Ve&&Ve.element===ye&&(x(J._fullLayout.dragmode)||(Oe(),Re([0,0,bt,wt]),ie.moveFn(Ve.dx,Ve.dy)))}},T.init(ie);var se=[0,0,bt,wt],te=null,Le=F.REDRAWDELAY,_e=Q.mainplot?J._fullLayout._plots[Q.mainplot]:Q;function ge(be,me){if(be*=kt,me*=Mt,!J._transitioningWithDuration){if(J._fullLayout._replotting=!0,"ew"===St||"ns"===Nt){var Me=St?-be:0,ze=Nt?-me:0;if(It.isSubplotConstrained){if(St&&Nt){var Ce=(be/bt-me/wt)/2;Me=-(be=Ce*bt),ze=-(me=-Ce*wt)}Nt?Me=-ze*bt/wt:ze=-Me*wt/bt}return St&&(R(rt,be),ke("x")),Nt&&(R(dt,me),ke("y")),Re([Me,ze,bt,wt]),he(),void J.emit("plotly_relayouting",Kt)}var Ve,Xe,Qe="w"===St==("n"===Nt)?1:-1;if(St&&Nt&&(Ot.isSubplotConstrained||It.isSubplotConstrained)){var rn=(be/bt+Qe*me/wt)/2;be=rn*bt,me=Qe*rn*wt}if("w"===St?be=dn(rt,0,be):"e"===St?be=dn(rt,1,-be):St||(be=0),"n"===Nt?me=dn(dt,1,me):"s"===Nt?me=dn(dt,0,-me):Nt||(me=0),Ve="w"===St?be:0,Xe="n"===Nt?me:0,Ot.isSubplotConstrained&&!It.isSubplotConstrained||It.isSubplotConstrained&&St&&Nt&&Qe>0){var ln;if(It.isSubplotConstrained||!St&&1===Nt.length){for(ln=0;ln<rt.length;ln++)rt[ln].range=rt[ln]._r.slice(),v(rt[ln],1-me/wt);Ve=(be=me*bt/wt)/2}if(It.isSubplotConstrained||!Nt&&1===St.length){for(ln=0;ln<dt.length;ln++)dt[ln].range=dt[ln]._r.slice(),v(dt[ln],1-be/bt);Xe=(me=be*wt/bt)/2}}It.isSubplotConstrained&&Nt||ke("x"),It.isSubplotConstrained&&St||ke("y");var on=bt-be,cn=wt-me;!It.isSubplotConstrained||St&&Nt||(St?(Xe=Ve?0:be*wt/bt,cn=on*wt/bt):(Ve=Xe?0:me*bt/wt,on=cn*bt/wt)),Re([Ve,Xe,on,cn]),he(),J.emit("plotly_relayouting",Kt)}function dn($e,mn,kn){for(var Ue,fn,sn=1-mn,Ge=0;Ge<$e.length;Ge++){var bn=$e[Ge];if(!bn.fixedrange){Ue=bn,fn=bn._rl[sn]+(bn._rl[mn]-bn._rl[sn])/j(kn/bn._length);var hn=bn.l2r(fn);!1!==hn&&void 0!==hn&&(bn.range[mn]=hn)}}return Ue._length*(Ue._rl[mn]-fn)/(Ue._rl[mn]-Ue._rl[sn])}}function ke(be,me){for(var Me=It.isSubplotConstrained?{x:dt,y:rt}[be]:It[be+"axes"],ze=It.isSubplotConstrained?{x:rt,y:dt}[be]:[],Ce=0;Ce<Me.length;Ce++){var Ve=Me[Ce],Xe=Ve._id,Qe=It.xLinks[Xe]||It.yLinks[Xe],rn=ze[0]||At[Qe]||lt[Qe];rn&&(me?(me[Ve._name+".range[0]"]=me[rn._name+".range[0]"],me[Ve._name+".range[1]"]=me[rn._name+".range[1]"]):Ve.range=rn.range.slice())}}function he(){var be,me=[];function Me(Ve){for(be=0;be<Ve.length;be++)Ve[be].fixedrange||me.push(Ve[be]._id)}for(Ct&&(Me(rt),Me(Ot.xaxes),Me(It.xaxes)),Gt&&(Me(dt),Me(Ot.yaxes),Me(It.yaxes)),Kt={},be=0;be<me.length;be++){var Ce=L(J,me[be]);h.drawOne(J,Ce,{skipTitle:!0}),Kt[Ce._name+".range[0]"]=Ce.range[0],Kt[Ce._name+".range[1]"]=Ce.range[1]}h.redrawComponents(J,me)}function Ie(){Re([0,0,bt,wt]),l.syncOrAsync([k.previousPromises,function(){J._fullLayout._replotting=!1,s.call("_guiRelayout",J,Kt)}],J)}function Re(be){var me,Me,ze,Ce,Ve=J._fullLayout,Xe=Ve._plots,Qe=Ve._subplots.cartesian;if(Xt&&s.subplotsRegistry.splom.drag(J),$t)for(me=0;me<Qe.length;me++)if(ze=(Me=Xe[Qe[me]]).xaxis,Ce=Me.yaxis,Me._scene){var rn=l.simpleMap(ze.range,ze.r2l),ln=l.simpleMap(Ce.range,Ce.r2l);Me._scene.update({range:[rn[0],ln[0],rn[1],ln[1]]})}if((Xt||$t)&&(A(J),b(J)),de){var on=be[2]/zt._length,cn=be[3]/Et._length;for(me=0;me<Qe.length;me++){ze=(Me=Xe[Qe[me]]).xaxis,Ce=Me.yaxis;var dn,$e,mn,kn,fn=(Gt||It.isSubplotConstrained)&&!Ce.fixedrange&&lt[Ce._id];if((Ct||It.isSubplotConstrained)&&!ze.fixedrange&&At[ze._id]?(dn=on,mn=Tt||It.isSubplotConstrained?be[0]:Be(ze,dn)):It.xaHash[ze._id]?(dn=on,mn=be[0]*ze._length/zt._length):It.yaHash[ze._id]?(dn=cn,mn="ns"===Nt?-be[1]*ze._length/Et._length:Be(ze,dn,{n:"top",s:"bottom"}[Nt])):mn=We(ze,dn=Ze(ze,on,cn)),fn?($e=cn,kn=xt||It.isSubplotConstrained?be[1]:Be(Ce,$e)):It.yaHash[Ce._id]?($e=cn,kn=be[1]*Ce._length/Et._length):It.xaHash[Ce._id]?($e=on,kn="ew"===St?-be[0]*Ce._length/zt._length:Be(Ce,$e,{e:"right",w:"left"}[St])):kn=We(Ce,$e=Ze(Ce,on,cn)),dn||$e){dn||(dn=1),$e||($e=1);var sn=ze._offset-mn/dn,Ge=Ce._offset-kn/$e;Me.clipRect.call(d.setTranslate,mn,kn).call(d.setScale,dn,$e),Me.plot.call(d.setTranslate,sn,Ge).call(d.setScale,1/dn,1/$e),dn===Me.xScaleFactor&&$e===Me.yScaleFactor||(d.setPointGroupScale(Me.zoomScalePts,dn,$e),d.setTextPointsScale(Me.zoomScaleTxt,dn,$e)),d.hideOutsideRangePoints(Me.clipOnAxisFalseTraces,Me),Me.xScaleFactor=dn,Me.yScaleFactor=$e}}}}function Ze(be,me,Me){return be.fixedrange?0:Ct&&Ot.xaHash[be._id]?me:Gt&&(Ot.isSubplotConstrained?Ot.xaHash:Ot.yaHash)[be._id]?Me:0}function We(be,me){return me?(be.range=be._r.slice(),v(be,me),Be(be,me)):0}function Be(be,me,Me){return be._length*(1-me)*y[Me||be.constraintoward||"middle"]}return xt.length*Tt.length!=1&&W(ye,function(be){if(J._context._scrollZoom.cartesian||J._fullLayout._enablescrollzoom){if(fe(),J._transitioningWithDuration)return be.preventDefault(),void be.stopPropagation();Oe(),clearTimeout(te);var me=-be.deltaY;if(isFinite(me)||(me=be.wheelDelta/10),isFinite(me)){var Me,ze=Math.exp(-Math.min(Math.max(me,-20),20)/200),Ce=_e.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Ve=(be.clientX-Ce.left)/Ce.width,Xe=(Ce.bottom-be.clientY)/Ce.height;if(Ct){for(Tt||(Ve=.5),Me=0;Me<rt.length;Me++)Qe(rt[Me],Ve,ze);ke("x"),se[2]*=ze,se[0]+=se[2]*Ve*(1/ze-1)}if(Gt){for(xt||(Xe=.5),Me=0;Me<dt.length;Me++)Qe(dt[Me],Xe,ze);ke("y"),se[3]*=ze,se[1]+=se[3]*(1-Xe)*(1/ze-1)}Re(se),he(),J.emit("plotly_relayouting",Kt),te=setTimeout(function(){J._fullLayout&&(se=[0,0,bt,wt],Ie())},Le),be.preventDefault()}else l.log("Did not find wheel motion attributes: ",be)}function Qe(rn,ln,on){if(!rn.fixedrange){var cn=l.simpleMap(rn.range,rn.r2l),dn=cn[0]+(cn[1]-cn[0])*ln;rn.range=cn.map(function($e){return rn.l2r(dn+($e-dn)*on)})}}}),ye},makeDragger:Y,makeRectDragger:$,makeZoombox:P,makeCorners:I,updateZoombox:Z,xyCorners:H,transitionZoombox:q,removeZoombox:D,showDoubleClickNotifier:M,attachWheelEventHandler:W}},{"../../components/color":102,"../../components/dragelement":121,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../constants/alignment":207,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/subroutines":269,"../../registry":318,"../plots":316,"./axes":279,"./axis_ids":283,"./constants":286,"./scale_zoom":299,"./select":300,"@plotly/d3":11,"has-passive-events":49,tinycolor2:67}],289:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../../components/fx"),o=c("../../components/dragelement"),e=c("../../lib/setcursor"),n=c("./dragbox").makeDragBox,s=c("./constants").DRAGGERSIZE;B.initInteractions=function(a){var i=a._fullLayout;if(a._context.staticPlot)t.select(a).selectAll(".drag").remove();else if(i._has("cartesian")||i._has("splom")){Object.keys(i._plots||{}).sort(function(d,f){if((i._plots[d].mainplot&&!0)===(i._plots[f].mainplot&&!0)){var h=d.split("y"),p=f.split("y");return h[0]===p[0]?Number(h[1]||1)-Number(p[1]||1):Number(h[0]||1)-Number(p[0]||1)}return i._plots[d].mainplot?1:-1}).forEach(function(d){var f=i._plots[d],h=f.xaxis,p=f.yaxis;if(!f.mainplot){var T=n(a,f,h._offset,p._offset,h._length,p._length,"ns","ew");T.onmousemove=function(m){a._fullLayout._rehover=function(){a._fullLayout._hoversubplot===d&&a._fullLayout._plots[d]&&l.hover(a,m,d)},l.hover(a,m,d),a._fullLayout._lasthover=T,a._fullLayout._hoversubplot=d},T.onmouseout=function(m){a._dragging||(a._fullLayout._hoversubplot=null,o.unhover(a,m))},a._context.showAxisDragHandles&&(n(a,f,h._offset-s,p._offset-s,s,s,"n","w"),n(a,f,h._offset+h._length,p._offset-s,s,s,"n","e"),n(a,f,h._offset-s,p._offset+p._length,s,s,"s","w"),n(a,f,h._offset+h._length,p._offset+p._length,s,s,"s","e"))}if(a._context.showAxisDragHandles){if(d===h._mainSubplot){var w=h._mainLinePosition;"top"===h.side&&(w-=s),n(a,f,h._offset+.1*h._length,w,.8*h._length,s,"","ew"),n(a,f,h._offset,w,.1*h._length,s,"","w"),n(a,f,h._offset+.9*h._length,w,.1*h._length,s,"","e")}if(d===p._mainSubplot){var x=p._mainLinePosition;"right"!==p.side&&(x-=s),n(a,f,x,p._offset+.1*p._length,s,.8*p._length,"ns",""),n(a,f,x,p._offset+.9*p._length,s,.1*p._length,"s",""),n(a,f,x,p._offset,s,.1*p._length,"n","")}}});var r=i._hoverlayer.node();r.onmousemove=function(d){d.target=a._fullLayout._lasthover,l.hover(a,d,i._hoversubplot)},r.onclick=function(d){d.target=a._fullLayout._lasthover,l.click(a,d)},r.onmousedown=function(d){a._fullLayout._lasthover.onmousedown(d)},B.updateFx(a)}},B.updateFx=function(a){var i=a._fullLayout;e(i._draggers,"pan"===i.dragmode?"move":"crosshair")}},{"../../components/dragelement":121,"../../components/fx":142,"../../lib/setcursor":252,"./constants":286,"./dragbox":288,"@plotly/d3":11}],290:[function(c,tt,B){"use strict";tt.exports={clearOutlineControllers:function(t){var l=t._fullLayout._zoomlayer;l&&l.selectAll(".outline-controllers").remove()},clearSelect:function(t){var l=t._fullLayout._zoomlayer;l&&l.selectAll(".select-outline").remove(),t._fullLayout._drawing=!1}}},{}],291:[function(c,tt,B){"use strict";var t=c("../../lib").strTranslate;function l(o,e){switch(o.type){case"log":return o.p2d(e);case"date":return o.p2r(e,0,o.calendar);default:return o.p2r(e)}}tt.exports={p2r:l,r2p:function(o,e){switch(o.type){case"log":return o.d2p(e);case"date":return o.r2p(e,0,o.calendar);default:return o.r2p(e)}},axValue:function(o){var e="y"===o._id.charAt(0)?1:0;return function(n){return l(o,n[e])}},getTransform:function(o){return t(o.xaxis._offset,o.yaxis._offset)}}},{"../../lib":232}],292:[function(c,tt,B){"use strict";var t=c("../../registry"),l=c("../../lib"),o=c("./axis_ids");tt.exports=function(e){return function(n,s){var a=n[e];if(Array.isArray(a))for(var i=t.subplotsRegistry.cartesian,r=i.idRegex,d=s._subplots,f=d.xaxis,h=d.yaxis,p=d.cartesian,T=s._has("cartesian")||s._has("gl2d"),w=0;w<a.length;w++){var x=a[w];if(l.isPlainObject(x)){var m=o.cleanId(x.xref,"x",!1),y=o.cleanId(x.yref,"y",!1),A=r.x.test(m),b=r.y.test(y);if(A||b){T||l.pushUnique(s._basePlotModules,i);var k=!1;A&&-1===f.indexOf(m)&&(f.push(m),k=!0),b&&-1===h.indexOf(y)&&(h.push(y),k=!0),k&&A&&b&&p.push(m+y)}}}}}},{"../../lib":232,"../../registry":318,"./axis_ids":283}],293:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../../registry"),o=c("../../lib"),e=c("../plots"),n=c("../../components/drawing"),s=c("../get_data").getModuleCalcData,a=c("./axis_ids"),i=c("./constants"),r=c("../../constants/xmlns_namespaces"),d=o.ensureSingle;function f(x,m,y){return o.ensureSingle(x,m,y,function(A){A.datum(y)})}function h(x,m,y,A,b){for(var k,L,g,S=i.traceLayerClasses,E=x._fullLayout,v=E._modules,F=[],N=[],z=0;z<v.length;z++){var U=(k=v[z]).name,Y=l.modules[U].categories;if(Y.svg){var $=k.layerName||U+"layer",ot=k.plot;g=(L=s(y,ot))[0],y=L[1],g.length&&F.push({i:S.indexOf($),className:$,plotMethod:ot,cdModule:g}),Y.zoomScale&&N.push("."+$)}}F.sort(function(j,P){return j.i-P.i});var G=m.plot.selectAll("g.mlayer").data(F,function(j){return j.className});if(G.enter().append("g").attr("class",function(j){return j.className}).classed("mlayer",!0).classed("rangeplot",m.isRangePlot),G.exit().remove(),G.order(),G.each(function(j){var P=t.select(this),I=j.className;j.plotMethod(x,m,j.cdModule,P,A,b),-1===i.clipOnAxisFalseQuery.indexOf("."+I)&&n.setClipUrl(P,m.layerClipId,x)}),E._has("scattergl")&&(k=l.getModule("scattergl"),g=s(y,k)[0],k.plot(x,m,g)),!x._context.staticPlot&&(m._hasClipOnAxisFalse&&(m.clipOnAxisFalseTraces=m.plot.selectAll(i.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),N.length)){var R=m.plot.selectAll(N.join(",")).selectAll(".trace");m.zoomScalePts=R.selectAll("path.point"),m.zoomScaleTxt=R.selectAll(".textpoint")}}function p(x,m){var y=m.plotgroup,A=m.id,b=i.layerValue2layerClass[m.xaxis.layer],k=i.layerValue2layerClass[m.yaxis.layer],L=x._fullLayout._hasOnlyLargeSploms;if(m.mainplot){var g=m.mainplotinfo,S=g.plotgroup,E=A+"-x",v=A+"-y";m.minorGridlayer=g.minorGridlayer,m.gridlayer=g.gridlayer,m.zerolinelayer=g.zerolinelayer,d(g.overlinesBelow,"path",E),d(g.overlinesBelow,"path",v),d(g.overaxesBelow,"g",E),d(g.overaxesBelow,"g",v),m.plot=d(g.overplot,"g",A),d(g.overlinesAbove,"path",E),d(g.overlinesAbove,"path",v),d(g.overaxesAbove,"g",E),d(g.overaxesAbove,"g",v),m.xlines=S.select(".overlines-"+b).select("."+E),m.ylines=S.select(".overlines-"+k).select("."+v),m.xaxislayer=S.select(".overaxes-"+b).select("."+E),m.yaxislayer=S.select(".overaxes-"+k).select("."+v)}else if(L)m.xlines=d(y,"path","xlines-above"),m.ylines=d(y,"path","ylines-above"),m.xaxislayer=d(y,"g","xaxislayer-above"),m.yaxislayer=d(y,"g","yaxislayer-above");else{var F=d(y,"g","layer-subplot");m.shapelayer=d(F,"g","shapelayer"),m.imagelayer=d(F,"g","imagelayer"),m.minorGridlayer=d(y,"g","minor-gridlayer"),m.gridlayer=d(y,"g","gridlayer"),m.zerolinelayer=d(y,"g","zerolinelayer"),d(y,"path","xlines-below"),d(y,"path","ylines-below"),m.overlinesBelow=d(y,"g","overlines-below"),d(y,"g","xaxislayer-below"),d(y,"g","yaxislayer-below"),m.overaxesBelow=d(y,"g","overaxes-below"),m.plot=d(y,"g","plot"),m.overplot=d(y,"g","overplot"),m.xlines=d(y,"path","xlines-above"),m.ylines=d(y,"path","ylines-above"),m.overlinesAbove=d(y,"g","overlines-above"),d(y,"g","xaxislayer-above"),d(y,"g","yaxislayer-above"),m.overaxesAbove=d(y,"g","overaxes-above"),m.xlines=y.select(".xlines-"+b),m.ylines=y.select(".ylines-"+k),m.xaxislayer=y.select(".xaxislayer-"+b),m.yaxislayer=y.select(".yaxislayer-"+k)}L||(f(m.minorGridlayer,"g",m.xaxis._id),f(m.minorGridlayer,"g",m.yaxis._id),m.minorGridlayer.selectAll("g").map(function(N){return N[0]}).sort(a.idSort),f(m.gridlayer,"g",m.xaxis._id),f(m.gridlayer,"g",m.yaxis._id),m.gridlayer.selectAll("g").map(function(N){return N[0]}).sort(a.idSort)),m.xlines.style("fill","none").classed("crisp",!0),m.ylines.style("fill","none").classed("crisp",!0)}function T(x,m){if(x){var y={};for(var A in x.each(function(g){var S=g[0];t.select(this).remove(),w(S,m),y[S]=!0}),m._plots)for(var b=m._plots[A].overlays||[],k=0;k<b.length;k++){var L=b[k];y[L.id]&&L.plot.selectAll(".trace").remove()}}}function w(x,m){m._draggers.selectAll("g."+x).remove(),m._defs.select("#clip"+m._uid+x+"plot").remove()}B.name="cartesian",B.attr=["xaxis","yaxis"],B.idRoot=["x","y"],B.idRegex=i.idRegex,B.attrRegex=i.attrRegex,B.attributes=c("./attributes"),B.layoutAttributes=c("./layout_attributes"),B.supplyLayoutDefaults=c("./layout_defaults"),B.transitionAxes=c("./transition_axes"),B.finalizeSubplots=function(x,m){var y,A,b,k=m._subplots,L=k.xaxis,g=k.yaxis,S=k.cartesian,E=S.concat(k.gl2d||[]),v={},F={};for(y=0;y<E.length;y++){var N=E[y].split("y");v[N[0]]=1,F["y"+N[1]]=1}for(y=0;y<L.length;y++)v[A=L[y]]||(b=(x[a.id2name(A)]||{}).anchor,i.idRegex.y.test(b)||(b="y"),S.push(A+b),E.push(A+b),F[b]||(F[b]=1,o.pushUnique(g,b)));for(y=0;y<g.length;y++)F[b=g[y]]||(A=(x[a.id2name(b)]||{}).anchor,i.idRegex.x.test(A)||(A="x"),S.push(A+b),E.push(A+b),v[A]||(v[A]=1,o.pushUnique(L,A)));if(!E.length){for(var z in A="",b="",x)i.attrRegex.test(z)&&("x"===z.charAt(0)?(!A||+z.substr(5)<+A.substr(5))&&(A=z):(!b||+z.substr(5)<+b.substr(5))&&(b=z));A=A?a.name2id(A):"x",b=b?a.name2id(b):"y",L.push(A),g.push(b),S.push(A+b)}},B.plot=function(x,m,y,A){var b,k=x._fullLayout,L=k._subplots.cartesian,g=x.calcdata;if(!Array.isArray(m))for(m=[],b=0;b<g.length;b++)m.push(b);for(b=0;b<L.length;b++){for(var S,E=L[b],v=k._plots[E],F=[],N=0;N<g.length;N++){var z=g[N],U=z[0].trace;U.xaxis+U.yaxis===E&&((-1!==m.indexOf(U.index)||U.carpet)&&(S&&S[0].trace.xaxis+S[0].trace.yaxis===E&&-1!==["tonextx","tonexty","tonext"].indexOf(U.fill)&&-1===F.indexOf(S)&&F.push(S),F.push(z)),S=z)}h(x,v,F,y,A)}},B.clean=function(x,m,y,A){var b,k,L,g=A._plots||{},S=m._plots||{},E=A._subplots||{};if(A._hasOnlyLargeSploms&&!m._hasOnlyLargeSploms)for(L in g)(b=g[L]).plotgroup&&b.plotgroup.remove();var v=A._has&&A._has("gl"),F=m._has&&m._has("gl");if(v&&!F)for(L in g)(b=g[L])._scene&&b._scene.destroy();if(E.xaxis&&E.yaxis){var N=a.listIds({_fullLayout:A});for(k=0;k<N.length;k++){var z=N[k];m[a.id2name(z)]||A._infolayer.selectAll(".g-"+z+"title").remove()}}var U=A._has&&A._has("cartesian"),Y=m._has&&m._has("cartesian");if(U&&!Y)T(A._cartesianlayer.selectAll(".subplot"),A),A._defs.selectAll(".axesclip").remove(),delete A._axisConstraintGroups,delete A._axisMatchGroups;else if(E.cartesian)for(k=0;k<E.cartesian.length;k++){var $=E.cartesian[k];S[$]||(A._cartesianlayer.selectAll("."+$+",."+$+"-x,."+$+"-y").remove(),w($,A))}},B.drawFramework=function(x){var m=x._fullLayout,y=function(b){var k,L,g,S,E,v,F=b._fullLayout,N=F._subplots.cartesian,z=N.length,U=[],Y=[];for(k=0;k<z;k++){var G=(E=(S=F._plots[g=N[k]]).xaxis)._mainAxis._id+(v=S.yaxis)._mainAxis._id,R=F._plots[G];S.overlays=[],G!==g&&R?(S.mainplot=G,S.mainplotinfo=R,Y.push(g)):(S.mainplot=void 0,S.mainplotinfo=void 0,U.push(g))}for(k=0;k<Y.length;k++)(S=F._plots[g=Y[k]]).mainplotinfo.overlays.push(S);var j=U.concat(Y),P=new Array(z);for(k=0;k<z;k++){var I=[g=j[k],(E=(S=F._plots[g]).xaxis).layer,(v=S.yaxis).layer,E.overlaying||"",v.overlaying||""];for(L=0;L<S.overlays.length;L++)I.push(S.overlays[L].id);P[k]=I}return P}(x),A=m._cartesianlayer.selectAll(".subplot").data(y,String);A.enter().append("g").attr("class",function(b){return"subplot "+b[0]}),A.order(),A.exit().call(T,m),A.each(function(b){var k=b[0],L=m._plots[k];L.plotgroup=t.select(this),p(x,L),L.draglayer=d(m._draggers,"g",k)})},B.rangePlot=function(x,m,y){p(x,m),h(x,m,y),e.style(x)},B.toSVG=function(x){var m=x._fullLayout._glimages,y=t.select(x).selectAll(".svg-container");y.filter(function(A,b){return b===y.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var A=this.toDataURL("image/png");m.append("svg:image").attr({xmlns:r.svg,"xlink:href":A,preserveAspectRatio:"none",x:0,y:0,width:this.style.width,height:this.style.height})})},B.updateFx=c("./graph_interact").updateFx},{"../../components/drawing":124,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../registry":318,"../get_data":312,"../plots":316,"./attributes":277,"./axis_ids":283,"./constants":286,"./graph_interact":289,"./layout_attributes":294,"./layout_defaults":295,"./transition_axes":306,"@plotly/d3":11}],294:[function(c,tt,B){"use strict";var t=c("../font_attributes"),l=c("../../components/color/attributes"),o=c("../../components/drawing/attributes").dash,e=c("../../lib/extend").extendFlat,n=c("../../plot_api/plot_template").templatedArray,s=c("../../plots/cartesian/axis_format_attributes").descriptionWithDates,a=c("../../constants/numerical").ONEDAY,i=c("./constants"),r=i.HOUR_PATTERN,d=i.WEEKDAY_PATTERN,f={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}};function h(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var p={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},T={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},w={valType:"data_array",editType:"ticks"},x={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function m(S){var E={valType:"number",min:0,editType:"ticks"};return S||(E.dflt=5),E}function y(S){var E={valType:"number",min:0,editType:"ticks"};return S||(E.dflt=1),E}var A={valType:"color",dflt:l.defaultLine,editType:"ticks"},b={valType:"color",dflt:l.lightLine,editType:"ticks"};function k(S){var E={valType:"number",min:0,editType:"ticks"};return S||(E.dflt=1),E}var L=e({},o,{editType:"ticks"}),g={valType:"boolean",editType:"ticks"};tt.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:l.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:t({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"calc"},rangebreaks:n("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[d,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:a},editType:"calc"}),tickmode:f,nticks:h(),tick0:p,dtick:T,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:w,ticktext:{valType:"data_array",editType:"ticks"},ticks:x,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:m(),tickwidth:y(),tickcolor:A,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:e({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:t({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:s("tick label")},tickformatstops:n("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:s("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:l.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:g,gridcolor:b,gridwidth:k(),griddash:L,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:l.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:l.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"plot"},minor:{tickmode:f,nticks:h("minor"),tick0:p,dtick:T,tickvals:w,ticks:x,ticklen:m("minor"),tickwidth:y("minor"),tickcolor:A,gridcolor:b,gridwidth:k("minor"),griddash:L,showgrid:g,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:t({editType:"ticks"})}}},{"../../components/color/attributes":101,"../../components/drawing/attributes":123,"../../constants/numerical":212,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_format_attributes":282,"../font_attributes":310,"./constants":286}],295:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../components/color"),o=c("../../components/fx/helpers").isUnifiedHover,e=c("../../components/fx/hovermode_defaults"),n=c("../../plot_api/plot_template"),s=c("../layout_attributes"),a=c("./layout_attributes"),i=c("./type_defaults"),r=c("./axis_defaults"),d=c("./constraints"),f=c("./position_defaults"),h=c("./axis_ids"),p=h.id2name,T=h.name2id,w=c("./constants").AX_ID_PATTERN,x=c("../../registry"),m=x.traceIs,y=x.getComponentMethod;function A(b,k,L){Array.isArray(b[k])?b[k].push(L):b[k]=[L]}tt.exports=function(b,k,L){var g,S,E=k.autotypenumbers,v={},F={},N={},z={},U={},Y={},$={},ot={},G={},R={};for(g=0;g<L.length;g++){var j=L[g];if(m(j,"cartesian")||m(j,"gl2d")){var P,I;if(j.xaxis)P=p(j.xaxis),A(v,P,j);else if(j.xaxes)for(S=0;S<j.xaxes.length;S++)A(v,p(j.xaxes[S]),j);if(j.yaxis)I=p(j.yaxis),A(v,I,j);else if(j.yaxes)for(S=0;S<j.yaxes.length;S++)A(v,p(j.yaxes[S]),j);"funnel"===j.type?"h"===j.orientation?(P&&(F[P]=!0),I&&($[I]=!0)):I&&(N[I]=!0):"image"===j.type?(I&&(ot[I]=!0),P&&(ot[P]=!0)):(I&&(U[I]=!0,Y[I]=!0),m(j,"carpet")&&("carpet"!==j.type||j._cheater)||P&&(z[P]=!0)),"carpet"===j.type&&j._cheater&&P&&(F[P]=!0),m(j,"2dMap")&&(G[P]=!0,G[I]=!0),m(j,"oriented")&&(R["h"===j.orientation?I:P]=!0)}}var Z=k._subplots,q=Z.xaxis,D=Z.yaxis,M=t.simpleMap(q,p),H=t.simpleMap(D,p),C=M.concat(H),W=l.background;q.length&&D.length&&(W=t.coerce(b,k,s,"plot_bgcolor"));var K,J,Q,ut,ct,gt=l.combine(W,k.paper_bgcolor);function vt(){ct._traceIndices=(v[K]||[]).map(function(qt){return qt._expandedIndex}),ct._annIndices=[],ct._shapeIndices=[],ct._imgIndices=[],ct._subplotsWith=[],ct._counterAxes=[],ct._name=ct._attr=K,ct._id=J}function xt(Mt,qt){return t.coerce(ut,ct,a,Mt,qt)}function Tt(Mt,qt){return t.coerce2(ut,ct,a,Mt,qt)}function zt(Mt){return"x"===Mt?D:q}function Et(Mt,qt){for(var ce="x"===Mt?M:H,Te=[],Oe=0;Oe<ce.length;Oe++){var xe=ce[Oe];xe===qt||(b[xe]||{}).overlaying||Te.push(T(xe))}return Te}var At={x:zt("x"),y:zt("y")},lt=At.x.concat(At.y),rt={},dt=[];function mt(){var Mt=ut.matches;w.test(Mt)&&-1===lt.indexOf(Mt)&&(rt[Mt]=ut.type,dt=Object.keys(rt))}var Dt=e(b,k),bt=o(Dt);for(g=0;g<C.length;g++){J=T(K=C[g]),Q=K.charAt(0),t.isPlainObject(b[K])||(b[K]={}),ut=b[K],ct=n.newContainer(k,K,Q+"axis"),vt();var It={hasMinor:!0,letter:Q,font:k.font,outerTicks:G[K],showGrid:!R[K],data:v[K]||[],bgColor:gt,calendar:k.calendar,automargin:!0,visibleDflt:"x"===Q&&!z[K]&&F[K]||"y"===Q&&!U[K]&&N[K],reverseDflt:"y"===Q&&(!Y[K]&&$[K]||ot[K]),autotypenumbersDflt:E,splomStash:((k._splomAxes||{})[Q]||{})[J]};xt("uirevision",k.uirevision),i(ut,ct,xt,It),r(ut,ct,xt,It,k);var St=bt&&Q===Dt.charAt(0),Nt=Tt("spikecolor",bt?ct.color:void 0),Vt=Tt("spikethickness",bt?1.5:void 0),Ct=Tt("spikedash",bt?"dot":void 0),Gt=Tt("spikemode",bt?"across":void 0),$t=Tt("spikesnap");xt("showspikes",!!(St||Nt||Vt||Ct||Gt||$t))||(delete ct.spikecolor,delete ct.spikethickness,delete ct.spikedash,delete ct.spikemode,delete ct.spikesnap),f(ut,ct,xt,{letter:Q,counterAxes:At[Q],overlayableAxes:Et(Q,K),grid:k.grid}),xt("title.standoff"),mt(),ct._input=ut}for(g=0;g<dt.length;){J=dt[g++],Q=(K=p(J)).charAt(0),t.isPlainObject(b[K])||(b[K]={}),ut=b[K],ct=n.newContainer(k,K,Q+"axis"),vt();var Xt={letter:Q,font:k.font,outerTicks:G[K],showGrid:!R[K],data:[],bgColor:gt,calendar:k.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:E,splomStash:((k._splomAxes||{})[Q]||{})[J]};xt("uirevision",k.uirevision),ct.type=rt[J]||"linear",r(ut,ct,xt,Xt,k),f(ut,ct,xt,{letter:Q,counterAxes:At[Q],overlayableAxes:Et(Q,K),grid:k.grid}),xt("fixedrange"),mt(),ct._input=ut}var de=y("rangeslider","handleDefaults"),Kt=y("rangeselector","handleDefaults");for(g=0;g<M.length;g++)ut=b[K=M[g]],ct=k[K],de(b,k,K),"date"===ct.type&&Kt(ut,ct,k,H,ct.calendar),xt("fixedrange");for(g=0;g<H.length;g++){ut=b[K=H[g]];var kt=k[p((ct=k[K]).anchor)];xt("fixedrange",y("rangeslider","isVisible")(kt))}d.handleDefaults(b,k,{axIds:lt.concat(dt).sort(h.idSort),axHasImage:ot})}},{"../../components/color":102,"../../components/fx/helpers":138,"../../components/fx/hovermode_defaults":141,"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"../layout_attributes":314,"./axis_defaults":281,"./axis_ids":283,"./constants":286,"./constraints":287,"./layout_attributes":294,"./position_defaults":297,"./type_defaults":307}],296:[function(c,tt,B){"use strict";var t=c("tinycolor2").mix,l=c("../../components/color/attributes"),o=c("../../lib");tt.exports=function(e,n,s,a){var i=(a=a||{}).dfltColor;function r(b,k){return o.coerce2(e,n,a.attributes,b,k)}var d=r("linecolor",i),f=r("linewidth");s("showline",a.showLine||!!d||!!f)||(delete n.linecolor,delete n.linewidth);var h=r("gridcolor",t(i,a.bgColor,a.blend||l.lightFraction).toRgbString()),p=r("gridwidth"),T=r("griddash");if(s("showgrid",a.showGrid||!!h||!!p||!!T)||(delete n.gridcolor,delete n.gridwidth,delete n.griddash),a.hasMinor){var w=r("minor.gridcolor",t(n.gridcolor,a.bgColor,67).toRgbString()),x=r("minor.gridwidth",n.gridwidth||1),m=r("minor.griddash",n.griddash||"solid");s("minor.showgrid",!!w||!!x||!!m)||(delete n.minor.gridcolor,delete n.minor.gridwidth,delete n.minor.griddash)}if(!a.noZeroLine){var y=r("zerolinecolor",i),A=r("zerolinewidth");s("zeroline",a.showGrid||!!y||!!A)||(delete n.zerolinecolor,delete n.zerolinewidth)}}},{"../../components/color/attributes":101,"../../lib":232,tinycolor2:67}],297:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("../../lib");tt.exports=function(o,e,n,s){var a,i,r,d,f=s.counterAxes||[],h=s.overlayableAxes||[],p=s.letter,T=s.grid;T&&(a=T._anchors[e._id],(i=T._domains[p][T._axisMap[e._id]])&&(r=T[p+"side"].split(" ")[0],d=T.domain[p]["right"===r||"top"===r?1:0])),i=i||[0,1],a=a||(t(o.position)?"free":f[0]||"free"),r=r||("x"===p?"bottom":"left"),d=d||0,"free"===l.coerce(o,e,{anchor:{valType:"enumerated",values:["free"].concat(f),dflt:a}},"anchor")&&n("position",d),l.coerce(o,e,{side:{valType:"enumerated",values:"x"===p?["bottom","top"]:["left","right"],dflt:r}},"side");var w=!1;if(h.length&&(w=l.coerce(o,e,{overlaying:{valType:"enumerated",values:[!1].concat(h),dflt:!1}},"overlaying")),!w){var x=n("domain",i);x[0]>x[1]-1/4096&&(e.domain=i),l.noneOrAll(o.domain,e.domain,i)}return n("layer"),e}},{"../../lib":232,"fast-isnumeric":17}],298:[function(c,tt,B){"use strict";var t=c("./show_dflt");tt.exports=function(l,o,e,n,s){s||(s={});var a=s.tickSuffixDflt,i=t(l);e("tickprefix")&&e("showtickprefix",i),e("ticksuffix",a)&&e("showticksuffix",i)}},{"./show_dflt":302}],299:[function(c,tt,B){"use strict";var t=c("../../constants/alignment").FROM_BL;tt.exports=function(l,o,e){void 0===e&&(e=t[l.constraintoward||"center"]);var n=[l.r2l(l.range[0]),l.r2l(l.range[1])],s=n[0]+(n[1]-n[0])*e;l.range=l._input.range=[l.l2r(s+(n[0]-s)*o),l.l2r(s+(n[1]-s)*o)],l.setScale()}},{"../../constants/alignment":207}],300:[function(c,tt,B){"use strict";var t=c("polybooljs"),l=c("../../registry"),o=c("../../components/drawing").dashStyle,e=c("../../components/color"),n=c("../../components/fx"),s=c("../../components/fx/helpers").makeEventData,a=c("../../components/dragelement/helpers"),i=a.freeMode,r=a.rectMode,d=a.drawMode,f=a.openMode,h=a.selectMode,p=c("../../components/shapes/draw_newshape/display_outlines"),T=c("../../components/shapes/draw_newshape/helpers").handleEllipse,w=c("../../components/shapes/draw_newshape/newshapes"),x=c("../../lib"),m=c("../../lib/polygon"),y=c("../../lib/throttle"),A=c("./axis_ids").getFromId,b=c("../../lib/clear_gl_canvases"),k=c("../../plot_api/subroutines").redrawReglTraces,L=c("./constants"),g=L.MINSELECT,S=m.filter,E=m.tester,v=c("./handle_outline").clearSelect,F=c("./helpers"),N=F.p2r,z=F.axValue,U=F.getTransform;function Y(M,H,C,W,K,J,Q){var ut,ct,gt,vt,xt,Tt,zt,Et,At,Ot,lt=H._hoverdata,rt=H._fullLayout.clickmode.indexOf("event")>-1,dt=[];if((Ot=lt)&&Array.isArray(Ot)&&!0!==Ot[0].hoverOnBox){R(M,H,J);var mt=function(Ot,It){var St,Nt,Vt=Ot[0],Ct=-1,Gt=[];for(Nt=0;Nt<It.length;Nt++)if(Vt.fullData._expandedIndex===(St=It[Nt]).cd[0].trace._expandedIndex){if(!0===Vt.hoverOnBox)break;void 0!==Vt.pointNumber?Ct=Vt.pointNumber:void 0!==Vt.binNumber&&(Ct=Vt.binNumber,Gt=Vt.pointNumbers);break}return{pointNumber:Ct,pointNumbers:Gt,searchInfo:St}}(lt,ut=P(H,C,W,K));if(mt.pointNumbers.length>0?function(Ot,It){var St,Nt,Vt,Ct=[];for(Vt=0;Vt<Ot.length;Vt++)(St=Ot[Vt]).cd[0].trace.selectedpoints&&St.cd[0].trace.selectedpoints.length>0&&Ct.push(St);if(1===Ct.length&&Ct[0]===It.searchInfo&&(Nt=It.searchInfo.cd[0].trace).selectedpoints.length===It.pointNumbers.length){for(Vt=0;Vt<It.pointNumbers.length;Vt++)if(Nt.selectedpoints.indexOf(It.pointNumbers[Vt])<0)return!1;return!0}return!1}(ut,mt):function(Ot){var St,Nt,Vt=0;for(Nt=0;Nt<Ot.length;Nt++)if((St=Ot[Nt].cd[0].trace).selectedpoints&&(St.selectedpoints.length>1||(Vt+=St.selectedpoints.length)>1))return!1;return 1===Vt}(ut)&&(Tt=I(mt))){for(Q&&Q.remove(),At=0;At<ut.length;At++)(ct=ut[At])._module.selectPoints(ct,!1);Z(H,ut),j(J),rt&&H.emit("plotly_deselect",null)}else{for(zt=M.shiftKey&&(void 0!==Tt?Tt:I(mt)),gt=function(Ot,It,St){return{pointNumber:Ot,searchInfo:It,subtract:St}}(mt.pointNumber,mt.searchInfo,zt),vt=G(J.selectionDefs.concat([gt])),At=0;At<ut.length;At++)if(xt=q(ut[At]._module.selectPoints(ut[At],vt),ut[At]),dt.length)for(var Dt=0;Dt<xt.length;Dt++)dt.push(xt[Dt]);else dt=xt;if(Z(H,ut,Et={points:dt}),gt&&J&&J.selectionDefs.push(gt),Q){var bt=J.mergedPolygons,wt=f(J.dragmode);p(D(bt,wt),Q,J)}rt&&H.emit("plotly_selected",Et)}}}function $(M){return"pointNumber"in M&&"searchInfo"in M}function ot(M){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(H,C,W,K){return K.cd[0].trace._expandedIndex===M.searchInfo.cd[0].trace._expandedIndex&&W===M.pointNumber},isRect:!1,degenerate:!1,subtract:M.subtract}}function G(M){for(var H=[],C=$(M[0])?0:M[0][0][0],W=C,K=$(M[0])?0:M[0][0][1],J=K,Q=0;Q<M.length;Q++)if($(M[Q]))H.push(ot(M[Q]));else{var ut=m.tester(M[Q]);ut.subtract=M[Q].subtract,H.push(ut),C=Math.min(C,ut.xmin),W=Math.max(W,ut.xmax),K=Math.min(K,ut.ymin),J=Math.max(J,ut.ymax)}return{xmin:C,xmax:W,ymin:K,ymax:J,pts:[],contains:function(ct,gt,vt,xt){for(var Tt=!1,zt=0;zt<H.length;zt++)H[zt].contains(ct,gt,vt,xt)&&(Tt=!1===H[zt].subtract);return Tt},isRect:!1,degenerate:!1}}function R(M,H,C){H._fullLayout._drawing=!1;var W=H._fullLayout,K=C.plotinfo,J=C.dragmode,Q=W._lastSelectedSubplot&&W._lastSelectedSubplot===K.id,ut=(M.shiftKey||M.altKey)&&!(d(J)&&f(J));Q&&ut&&K.selection&&K.selection.selectionDefs&&!C.selectionDefs?(C.selectionDefs=K.selection.selectionDefs,C.mergedPolygons=K.selection.mergedPolygons):ut&&K.selection||j(C),Q||(v(H),W._lastSelectedSubplot=K.id)}function j(M){var H=M.dragmode,C=M.plotinfo,W=M.gd;if(W._fullLayout._activeShapeIndex>=0&&W._fullLayout._deactivateShape(W),d(H)){var K=W._fullLayout._zoomlayer.selectAll(".select-outline-"+C.id);if(K&&W._fullLayout._drawing){var J=w(K,M);J&&l.call("_guiRelayout",W,{shapes:J}),W._fullLayout._drawing=!1}}C.selection={},C.selection.selectionDefs=M.selectionDefs=[],C.selection.mergedPolygons=M.mergedPolygons=[]}function P(M,H,C,W){var K,J,Q,ut=[],ct=H.map(function(zt){return zt._id}),gt=C.map(function(zt){return zt._id});for(Q=0;Q<M.calcdata.length;Q++)if(!0===(J=(K=M.calcdata[Q])[0].trace).visible&&J._module&&J._module.selectPoints)if(!W||J.subplot!==W&&J.geo!==W)if("splom"===J.type&&J._xaxes[ct[0]]&&J._yaxes[gt[0]]){var vt=Tt(J._module,K,H[0],C[0]);vt.scene=M._fullLayout._splomScenes[J.uid],ut.push(vt)}else if("sankey"===J.type){var xt=Tt(J._module,K,H[0],C[0]);ut.push(xt)}else{if(-1===ct.indexOf(J.xaxis)||-1===gt.indexOf(J.yaxis))continue;ut.push(Tt(J._module,K,A(M,J.xaxis),A(M,J.yaxis)))}else ut.push(Tt(J._module,K,H[0],C[0]));return ut;function Tt(zt,Et,At,lt){return{_module:zt,cd:Et,xaxis:At,yaxis:lt}}}function I(M){var H=M.searchInfo.cd[0].trace,W=M.pointNumbers;return!!H.selectedpoints&&H.selectedpoints.indexOf(W.length>0?W[0]:M.pointNumber)>-1}function Z(M,H,C){var W,K,J,Q;for(W=0;W<H.length;W++){var ut=H[W].cd[0].trace._fullInput,ct=M._fullLayout._tracePreGUI[ut.uid]||{};void 0===ct.selectedpoints&&(ct.selectedpoints=ut._input.selectedpoints||null)}if(C){var gt=C.points||[];for(W=0;W<H.length;W++)(Q=H[W].cd[0].trace)._input.selectedpoints=Q._fullInput.selectedpoints=[],Q._fullInput!==Q&&(Q.selectedpoints=[]);for(W=0;W<gt.length;W++){var vt=gt[W],xt=vt.data,Tt=vt.fullData;vt.pointIndices?([].push.apply(xt.selectedpoints,vt.pointIndices),Q._fullInput!==Q&&[].push.apply(Tt.selectedpoints,vt.pointIndices)):(xt.selectedpoints.push(vt.pointIndex),Q._fullInput!==Q&&Tt.selectedpoints.push(vt.pointIndex))}}else for(W=0;W<H.length;W++)delete(Q=H[W].cd[0].trace).selectedpoints,delete Q._input.selectedpoints,Q._fullInput!==Q&&delete Q._fullInput.selectedpoints;var zt=!1;for(W=0;W<H.length;W++){Q=(J=(K=H[W]).cd)[0].trace,l.traceIs(Q,"regl")&&(zt=!0);var Et=K._module,At=Et.styleOnSelect||Et.style;At&&(At(M,J,J[0].node3),J[0].nodeRangePlot3&&At(M,J,J[0].nodeRangePlot3))}zt&&(b(M),k(M))}function q(M,H){if(Array.isArray(M))for(var C=H.cd,W=H.cd[0].trace,K=0;K<M.length;K++)M[K]=s(M[K],W,C);return M}function D(M,H){for(var C=[],W=0;W<M.length;W++){C[W]=[];for(var K=0;K<M[W].length;K++){C[W][K]=[],C[W][K][0]=K?"L":"M";for(var J=0;J<M[W][K].length;J++)C[W][K].push(M[W][K][J])}H||C[W].push(["Z",C[W][0][1],C[W][0][2]])}return C}tt.exports={prepSelect:function(M,H,C,W,K){var J=i(K),Q=r(K),ut=f(K),ct=d(K),gt=h(K),vt="drawcircle"===K,xt="drawline"===K||vt,Tt=W.gd,zt=Tt._fullLayout,Et=zt._zoomlayer,At=W.element.getBoundingClientRect(),lt=W.plotinfo,rt=U(lt),dt=H-At.left,mt=C-At.top;zt._calcInverseTransform(Tt);var bt,wt,Ot,It,St,Nt,Vt,Dt=x.apply3DTransform(zt._invTransform)(dt,mt),Ct=zt._invScaleX,Gt=zt._invScaleY,$t=dt=Dt[0],Xt=mt=Dt[1],de="M"+dt+","+mt,Kt=W.xaxes[0]._length,kt=W.yaxes[0]._length,Mt=W.xaxes.concat(W.yaxes),qt=M.altKey&&!(d(K)&&ut);R(M,Tt,W),J&&(bt=S([[dt,mt]],L.BENDPX));var ce=Et.selectAll("path.select-outline-"+lt.id).data(ct?[0]:[1,2]),Te=zt.newshape;ce.enter().append("path").attr("class",function(Lt){return"select-outline select-outline-"+Lt+" select-outline-"+lt.id}).style(ct?{opacity:Te.opacity/2,fill:ut?void 0:Te.fillcolor,stroke:Te.line.color,"stroke-dasharray":o(Te.line.dash,Te.line.width),"stroke-width":Te.line.width+"px"}:{}).attr("fill-rule",Te.fillrule).classed("cursor-move",!!ct).attr("transform",rt).attr("d",de+"Z");var Oe,xe=Et.append("path").attr("class","zoombox-corners").style({fill:e.background,stroke:e.defaultLine,"stroke-width":1}).attr("transform",rt).attr("d","M0,0Z"),ye=zt._uid+L.SELECTID,le=[],nt=P(Tt,W.xaxes,W.yaxes,W.subplot);function it(Lt,Pt){return Lt-Pt}Oe=lt.fillRangeItems?lt.fillRangeItems:Q?function(Lt,Pt){var Bt=Lt.range={};for(St=0;St<Mt.length;St++){var Rt=Mt[St],jt=Rt._id.charAt(0);Bt[Rt._id]=[N(Rt,Pt[jt+"min"]),N(Rt,Pt[jt+"max"])].sort(it)}}:function(Lt,Pt,Bt){var Rt=Lt.lassoPoints={};for(St=0;St<Mt.length;St++){var jt=Mt[St];Rt[jt._id]=Bt.filtered.map(z(jt))}},W.moveFn=function(Lt,Pt){$t=Math.max(0,Math.min(Kt,Ct*Lt+dt)),Xt=Math.max(0,Math.min(kt,Gt*Pt+mt));var fe,Ae,Bt=Math.abs($t-dt),Rt=Math.abs(Xt-mt);if(Q){var jt,Ut,ee;if(gt){var ie=zt.selectdirection;switch(jt="any"===ie?Rt<Math.min(.6*Bt,g)?"h":Bt<Math.min(.6*Rt,g)?"v":"d":ie){case"h":Ut=vt?kt/2:0,ee=kt;break;case"v":Ut=vt?Kt/2:0,ee=Kt}}if(ct)switch(zt.newshape.drawdirection){case"vertical":jt="h",Ut=vt?kt/2:0,ee=kt;break;case"horizontal":jt="v",Ut=vt?Kt/2:0,ee=Kt;break;case"ortho":Bt<Rt?(jt="h",Ut=mt,ee=Xt):(jt="v",Ut=dt,ee=$t);break;default:jt="d"}"h"===jt?((It=xt?T(vt,[$t,Ut],[$t,ee]):[[dt,Ut],[dt,ee],[$t,ee],[$t,Ut]]).xmin=xt?$t:Math.min(dt,$t),It.xmax=xt?$t:Math.max(dt,$t),It.ymin=Math.min(Ut,ee),It.ymax=Math.max(Ut,ee),xe.attr("d","M"+It.xmin+","+(mt-g)+"h-4v"+2*g+"h4ZM"+(It.xmax-1)+","+(mt-g)+"h4v"+2*g+"h-4Z")):"v"===jt?((It=xt?T(vt,[Ut,Xt],[ee,Xt]):[[Ut,mt],[Ut,Xt],[ee,Xt],[ee,mt]]).xmin=Math.min(Ut,ee),It.xmax=Math.max(Ut,ee),It.ymin=xt?Xt:Math.min(mt,Xt),It.ymax=xt?Xt:Math.max(mt,Xt),xe.attr("d","M"+(dt-g)+","+It.ymin+"v-4h"+2*g+"v4ZM"+(dt-g)+","+(It.ymax-1)+"v4h"+2*g+"v-4Z")):"d"===jt&&((It=xt?T(vt,[dt,mt],[$t,Xt]):[[dt,mt],[dt,Xt],[$t,Xt],[$t,mt]]).xmin=Math.min(dt,$t),It.xmax=Math.max(dt,$t),It.ymin=Math.min(mt,Xt),It.ymax=Math.max(mt,Xt),xe.attr("d","M0,0Z"))}else J&&(bt.addPt([$t,Xt]),It=bt.filtered);W.selectionDefs&&W.selectionDefs.length?(fe=W.mergedPolygons,Ae=It,Ot=qt?t.difference({regions:fe,inverted:!1},{regions:[Ae],inverted:!1}).regions:t.union({regions:fe,inverted:!1},{regions:[Ae],inverted:!1}).regions,It.subtract=qt,wt=G(W.selectionDefs.concat([It]))):(Ot=[It],wt=E(It)),p(D(Ot,ut),ce,W),gt&&y.throttle(ye,L.SELECTDELAY,function(){var fe;le=[];var Ae,re=[];for(St=0;St<nt.length;St++)if(Ae=(Nt=nt[St])._module.selectPoints(Nt,wt),re.push(Ae),fe=q(Ae,Nt),le.length)for(var ve=0;ve<fe.length;ve++)le.push(fe[ve]);else le=fe;Z(Tt,nt,Vt={points:le}),Oe(Vt,It,bt),W.gd.emit("plotly_selecting",Vt)})},W.clickFn=function(Lt,Pt){if(xe.remove(),Tt._fullLayout._activeShapeIndex>=0)Tt._fullLayout._deactivateShape(Tt);else if(!ct){var Bt=zt.clickmode;y.done(ye).then(function(){if(y.clear(ye),2===Lt){for(ce.remove(),St=0;St<nt.length;St++)(Nt=nt[St])._module.selectPoints(Nt,!1);Z(Tt,nt),j(W),Tt.emit("plotly_deselect",null)}else Bt.indexOf("select")>-1&&Y(Pt,Tt,W.xaxes,W.yaxes,W.subplot,W,ce),"event"===Bt&&Tt.emit("plotly_selected",void 0);n.click(Tt,Pt)}).catch(x.error)}},W.doneFn=function(){xe.remove(),y.done(ye).then(function(){y.clear(ye),W.gd.emit("plotly_selected",Vt),It&&W.selectionDefs&&(It.subtract=qt,W.selectionDefs.push(It),W.mergedPolygons.length=0,[].push.apply(W.mergedPolygons,Ot)),W.doneFnCompleted&&W.doneFnCompleted(le)}).catch(x.error),ct&&j(W)}},clearSelect:v,clearSelectionsCache:j,selectOnClick:Y}},{"../../components/color":102,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../components/fx/helpers":138,"../../components/shapes/draw_newshape/display_outlines":190,"../../components/shapes/draw_newshape/helpers":191,"../../components/shapes/draw_newshape/newshapes":192,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/polygon":244,"../../lib/throttle":256,"../../plot_api/subroutines":269,"../../registry":318,"./axis_ids":283,"./constants":286,"./handle_outline":290,"./helpers":291,polybooljs:57}],301:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("d3-time-format").utcFormat,o=c("../../lib"),e=o.numberFormat,n=c("fast-isnumeric"),s=o.cleanNumber,a=o.ms2DateTime,i=o.dateTime2ms,r=o.ensureNumber,d=o.isArrayOrTypedArray,f=c("../../constants/numerical"),h=f.FP_SAFE,p=f.BADNUM,T=f.LOG_CLIP,w=f.ONEWEEK,x=f.ONEDAY,m=f.ONEHOUR,y=f.ONEMIN,A=f.ONESEC,b=c("./axis_ids"),k=c("./constants"),L=k.HOUR_PATTERN,g=k.WEEKDAY_PATTERN;function S(v){return Math.pow(10,v)}function E(v){return null!=v}tt.exports=function(v,F){F=F||{};var N=v._id||"x",z=N.charAt(0);function U(C,W){if(C>0)return Math.log(C)/Math.LN10;if(C<=0&&W&&v.range&&2===v.range.length){var K=v.range[0],J=v.range[1];return.5*(K+J-2*T*Math.abs(K-J))}return p}function Y(C,W,K,J){if((J||{}).msUTC&&n(C))return+C;var Q=i(C,K||v.calendar);if(Q===p){if(!n(C))return p;C=+C;var ut=Math.floor(10*o.mod(C+.05,1)),ct=Math.round(C-ut/10);Q=i(new Date(ct))+ut/10}return Q}function $(C,W,K){return a(C,W,K||v.calendar)}function ot(C){return v._categories[Math.round(C)]}function G(C){if(E(C)){if(void 0===v._categoriesMap&&(v._categoriesMap={}),void 0!==v._categoriesMap[C])return v._categoriesMap[C];v._categories.push("number"==typeof C?String(C):C);var W=v._categories.length-1;return v._categoriesMap[C]=W,W}return p}function R(C){if(v._categoriesMap)return v._categoriesMap[C]}function j(C){var W=R(C);return void 0!==W?W:n(C)?+C:void 0}function P(C){return n(C)?+C:R(C)}function I(C,W,K){return t.round(K+W*C,2)}function Z(C,W,K){return(C-K)/W}var q=function(C){return n(C)?I(C,v._m,v._b):p},D=function(C){return Z(C,v._m,v._b)};if(v.rangebreaks){var M="y"===z;q=function(C){if(!n(C))return p;var W=v._rangebreaks.length;if(!W)return I(C,v._m,v._b);var K=M;v.range[0]>v.range[1]&&(K=!K);for(var J=K?-1:1,Q=J*C,ut=0,ct=0;ct<W;ct++){var gt=J*v._rangebreaks[ct].min,vt=J*v._rangebreaks[ct].max;if(Q<gt)break;if(!(Q>vt)){ut=Q<(gt+vt)/2?ct:ct+1;break}ut=ct+1}var xt=v._B[ut]||0;return isFinite(xt)?I(C,v._m2,xt):0},D=function(C){var W=v._rangebreaks.length;if(!W)return Z(C,v._m,v._b);for(var K=0,J=0;J<W&&!(C<v._rangebreaks[J].pmin);J++)C>v._rangebreaks[J].pmax&&(K=J+1);return Z(C,v._m2,v._B[K])}}v.c2l="log"===v.type?U:r,v.l2c="log"===v.type?S:r,v.l2p=q,v.p2l=D,v.c2p="log"===v.type?function(C,W){return q(U(C,W))}:q,v.p2c="log"===v.type?function(C){return S(D(C))}:D,-1!==["linear","-"].indexOf(v.type)?(v.d2r=v.r2d=v.d2c=v.r2c=v.d2l=v.r2l=s,v.c2d=v.c2r=v.l2d=v.l2r=r,v.d2p=v.r2p=function(C){return v.l2p(s(C))},v.p2d=v.p2r=D,v.cleanPos=r):"log"===v.type?(v.d2r=v.d2l=function(C,W){return U(s(C),W)},v.r2d=v.r2c=function(C){return S(s(C))},v.d2c=v.r2l=s,v.c2d=v.l2r=r,v.c2r=U,v.l2d=S,v.d2p=function(C,W){return v.l2p(v.d2r(C,W))},v.p2d=function(C){return S(D(C))},v.r2p=function(C){return v.l2p(s(C))},v.p2r=D,v.cleanPos=r):"date"===v.type?(v.d2r=v.r2d=o.identity,v.d2c=v.r2c=v.d2l=v.r2l=Y,v.c2d=v.c2r=v.l2d=v.l2r=$,v.d2p=v.r2p=function(C,W,K){return v.l2p(Y(C,0,K))},v.p2d=v.p2r=function(C,W,K){return $(D(C),W,K)},v.cleanPos=function(C){return o.cleanDate(C,p,v.calendar)}):"category"===v.type?(v.d2c=v.d2l=G,v.r2d=v.c2d=v.l2d=ot,v.d2r=v.d2l_noadd=j,v.r2c=function(C){var W=P(C);return void 0!==W?W:v.fraction2r(.5)},v.l2r=v.c2r=r,v.r2l=P,v.d2p=function(C){return v.l2p(v.r2c(C))},v.p2d=function(C){return ot(D(C))},v.r2p=v.d2p,v.p2r=D,v.cleanPos=function(C){return"string"==typeof C&&""!==C?C:r(C)}):"multicategory"===v.type&&(v.r2d=v.c2d=v.l2d=ot,v.d2r=v.d2l_noadd=j,v.r2c=function(C){var W=j(C);return void 0!==W?W:v.fraction2r(.5)},v.r2c_just_indices=R,v.l2r=v.c2r=r,v.r2l=j,v.d2p=function(C){return v.l2p(v.r2c(C))},v.p2d=function(C){return ot(D(C))},v.r2p=v.d2p,v.p2r=D,v.cleanPos=function(C){return Array.isArray(C)||"string"==typeof C&&""!==C?C:r(C)},v.setupMultiCategory=function(C){var W,K,J=v._traceIndices,Q=v._matchGroup;if(Q&&0===v._categories.length)for(var ut in Q)if(ut!==N){var ct=F[b.id2name(ut)];J=J.concat(ct._traceIndices)}var gt=[[0,{}],[0,{}]],vt=[];for(W=0;W<J.length;W++){var xt=C[J[W]];if(z in xt){var Tt=xt[z],zt=xt._length||o.minRowLength(Tt);if(d(Tt[0])&&d(Tt[1]))for(K=0;K<zt;K++){var Et=Tt[0][K],At=Tt[1][K];E(Et)&&E(At)&&(vt.push([Et,At]),Et in gt[0][1]||(gt[0][1][Et]=gt[0][0]++),At in gt[1][1]||(gt[1][1][At]=gt[1][0]++))}}}for(vt.sort(function(lt,rt){var dt=gt[0][1],mt=dt[lt[0]]-dt[rt[0]];if(mt)return mt;var Dt=gt[1][1];return Dt[lt[1]]-Dt[rt[1]]}),W=0;W<vt.length;W++)G(vt[W])}),v.fraction2r=function(C){var W=v.r2l(v.range[0]),K=v.r2l(v.range[1]);return v.l2r(W+C*(K-W))},v.r2fraction=function(C){var W=v.r2l(v.range[0]),K=v.r2l(v.range[1]);return(v.r2l(C)-W)/(K-W)},v.cleanRange=function(C,W){W||(W={}),C||(C="range");var K,J,Q=o.nestedProperty(v,C).get();if(J=(J="date"===v.type?o.dfltRange(v.calendar):"y"===z?k.DFLTRANGEY:"realaxis"===v._name?[0,1]:W.dfltRange||k.DFLTRANGEX).slice(),"tozero"!==v.rangemode&&"nonnegative"!==v.rangemode||(J[0]=0),Q&&2===Q.length)for("date"!==v.type||v.autorange||(Q[0]=o.cleanDate(Q[0],p,v.calendar),Q[1]=o.cleanDate(Q[1],p,v.calendar)),K=0;K<2;K++)if("date"===v.type){if(!o.isDateTime(Q[K],v.calendar)){v[C]=J;break}if(v.r2l(Q[0])===v.r2l(Q[1])){var ut=o.constrain(v.r2l(Q[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);Q[0]=v.l2r(ut-1e3),Q[1]=v.l2r(ut+1e3);break}}else{if(!n(Q[K])){if(!n(Q[1-K])){v[C]=J;break}Q[K]=Q[1-K]*(K?10:.1)}if(Q[K]<-h?Q[K]=-h:Q[K]>h&&(Q[K]=h),Q[0]===Q[1]){var ct=Math.max(1,Math.abs(1e-6*Q[0]));Q[0]-=ct,Q[1]+=ct}}else o.nestedProperty(v,C).set(J)},v.setScale=function(C){var W=F._size;if(v.overlaying){var K=b.getFromId({_fullLayout:F},v.overlaying);v.domain=K.domain}var J=C&&v._r?"_r":"range",Q=v.calendar;v.cleanRange(J);var ut,ct,gt=v.r2l(v[J][0],Q),vt=v.r2l(v[J][1],Q),xt="y"===z;if(xt?(v._offset=W.t+(1-v.domain[1])*W.h,v._length=W.h*(v.domain[1]-v.domain[0]),v._m=v._length/(gt-vt),v._b=-v._m*vt):(v._offset=W.l+v.domain[0]*W.w,v._length=W.w*(v.domain[1]-v.domain[0]),v._m=v._length/(vt-gt),v._b=-v._m*gt),v._rangebreaks=[],v._lBreaks=0,v._m2=0,v._B=[],v.rangebreaks&&(v._rangebreaks=v.locateBreaks(Math.min(gt,vt),Math.max(gt,vt)),v._rangebreaks.length)){for(ut=0;ut<v._rangebreaks.length;ut++)ct=v._rangebreaks[ut],v._lBreaks+=Math.abs(ct.max-ct.min);var Tt=xt;gt>vt&&(Tt=!Tt),Tt&&v._rangebreaks.reverse();var zt=Tt?-1:1;for(v._m2=zt*v._length/(Math.abs(vt-gt)-v._lBreaks),v._B.push(-v._m2*(xt?vt:gt)),ut=0;ut<v._rangebreaks.length;ut++)v._B.push(v._B[v._B.length-1]-zt*v._m2*((ct=v._rangebreaks[ut]).max-ct.min));for(ut=0;ut<v._rangebreaks.length;ut++)(ct=v._rangebreaks[ut]).pmin=q(ct.min),ct.pmax=q(ct.max)}if(!isFinite(v._m)||!isFinite(v._b)||v._length<0)throw F._replotting=!1,new Error("Something went wrong with axis scaling")},v.maskBreaks=function(C){var W,K,J,Q,ut,ct=v.rangebreaks||[];ct._cachedPatterns||(ct._cachedPatterns=ct.map(function(Et){return Et.enabled&&Et.bounds?o.simpleMap(Et.bounds,Et.pattern?s:v.d2c):null})),ct._cachedValues||(ct._cachedValues=ct.map(function(Et){return Et.enabled&&Et.values?o.simpleMap(Et.values,v.d2c).sort(o.sorterAsc):null}));for(var gt=0;gt<ct.length;gt++){var vt=ct[gt];if(vt.enabled)if(vt.bounds){switch(K=(W=ct._cachedPatterns[gt])[0],J=W[1],vt.pattern){case g:Q=(ut=new Date(C)).getUTCDay(),K>J&&(J+=7,Q<K&&(Q+=7));break;case L:Q=(ut=new Date(C)).getUTCHours()+(ut.getUTCMinutes()/60+ut.getUTCSeconds()/3600+ut.getUTCMilliseconds()/36e5),K>J&&(J+=24,Q<K&&(Q+=24));break;case"":Q=C}if(Q>=K&&Q<J)return p}else for(var Tt=ct._cachedValues[gt],zt=0;zt<Tt.length;zt++)if(J=(K=Tt[zt])+vt.dvalue,C>=K&&C<J)return p}return C},v.locateBreaks=function(C,W){var K,J,Q,ut,ct=[];if(!v.rangebreaks)return ct;var gt=v.rangebreaks.slice().sort(function(Dt,bt){return Dt.pattern===g&&bt.pattern===L?-1:bt.pattern===g&&Dt.pattern===L?1:0}),vt=function(Dt,bt){if((Dt=o.constrain(Dt,C,W))!==(bt=o.constrain(bt,C,W))){for(var wt=!0,Ot=0;Ot<ct.length;Ot++){var It=ct[Ot];Dt<It.max&&bt>=It.min&&(Dt<It.min&&(It.min=Dt),bt>It.max&&(It.max=bt),wt=!1)}wt&&ct.push({min:Dt,max:bt})}};for(K=0;K<gt.length;K++){var xt=gt[K];if(xt.enabled)if(xt.bounds){var Tt=C,zt=W;xt.pattern&&(Tt=Math.floor(Tt)),Q=(J=o.simpleMap(xt.bounds,xt.pattern?s:v.r2l))[0],ut=J[1];var Et,At,lt=new Date(Tt);switch(xt.pattern){case g:At=w,Et=(ut-Q+(ut<Q?7:0))*x,Tt+=Q*x-(lt.getUTCDay()*x+lt.getUTCHours()*m+lt.getUTCMinutes()*y+lt.getUTCSeconds()*A+lt.getUTCMilliseconds());break;case L:At=x,Et=(ut-Q+(ut<Q?24:0))*m,Tt+=Q*m-(lt.getUTCHours()*m+lt.getUTCMinutes()*y+lt.getUTCSeconds()*A+lt.getUTCMilliseconds());break;default:Tt=Math.min(J[0],J[1]),Et=At=(zt=Math.max(J[0],J[1]))-Tt}for(var rt=Tt;rt<zt;rt+=At)vt(rt,rt+Et)}else for(var dt=o.simpleMap(xt.values,v.d2c),mt=0;mt<dt.length;mt++)vt(Q=dt[mt],ut=Q+xt.dvalue)}return ct.sort(function(Dt,bt){return Dt.min-bt.min}),ct},v.makeCalcdata=function(C,W,K){var J,Q,ut,ct,gt=v.type,vt="date"===gt&&C[W+"calendar"];if(W in C){if(J=C[W],ct=C._length||o.minRowLength(J),o.isTypedArray(J)&&("linear"===gt||"log"===gt)){if(ct===J.length)return J;if(J.subarray)return J.subarray(0,ct)}if("multicategory"===gt)return function(zt,Et){for(var At=new Array(Et),lt=0;lt<Et;lt++)At[lt]=R([(zt[0]||[])[lt],(zt[1]||[])[lt]]);return At}(J,ct);for(Q=new Array(ct),ut=0;ut<ct;ut++)Q[ut]=v.d2c(J[ut],0,vt,K)}else{var xt=W+"0"in C?v.d2c(C[W+"0"],0,vt):0,Tt=C["d"+W]?Number(C["d"+W]):1;for(J=C[{x:"y",y:"x"}[W]],ct=C._length||J.length,Q=new Array(ct),ut=0;ut<ct;ut++)Q[ut]=xt+ut*Tt}if(v.rangebreaks)for(ut=0;ut<ct;ut++)Q[ut]=v.maskBreaks(Q[ut]);return Q},v.isValidRange=function(C){return Array.isArray(C)&&2===C.length&&n(v.r2l(C[0]))&&n(v.r2l(C[1]))},v.isPtWithinRange=function(C,W){var K=v.c2l(C[z],null,W),J=v.r2l(v.range[0]),Q=v.r2l(v.range[1]);return J<Q?J<=K&&K<=Q:Q<=K&&K<=J},v._emptyCategories=function(){v._categories=[],v._categoriesMap={}},v.clearCalc=function(){var C=v._matchGroup;if(C){var W=null,K=null;for(var J in C){var Q=F[b.id2name(J)];if(Q._categories){W=Q._categories,K=Q._categoriesMap;break}}W&&K?(v._categories=W,v._categoriesMap=K):v._emptyCategories()}else v._emptyCategories();if(v._initialCategories)for(var ut=0;ut<v._initialCategories.length;ut++)G(v._initialCategories[ut])},v.sortByInitialCategories=function(){var C=[];if(v._emptyCategories(),v._initialCategories)for(var W=0;W<v._initialCategories.length;W++)G(v._initialCategories[W]);C=C.concat(v._traceIndices);var K=v._matchGroup;for(var J in K)if(N!==J){var Q=F[b.id2name(J)];Q._categories=v._categories,Q._categoriesMap=v._categoriesMap,C=C.concat(Q._traceIndices)}return C};var H=F._d3locale;"date"===v.type&&(v._dateFormat=H?H.timeFormat:l,v._extraFormat=F._extraFormat),v._separators=F.separators,v._numFormat=H?H.numberFormat:e,delete v._minDtick,delete v._forceTick0}},{"../../constants/numerical":212,"../../lib":232,"./axis_ids":283,"./constants":286,"@plotly/d3":11,"d3-time-format":14,"fast-isnumeric":17}],302:[function(c,tt,B){"use strict";tt.exports=function(t){var l=["showexponent","showtickprefix","showticksuffix"].filter(function(o){return void 0!==t[o]});if(l.every(function(o){return t[o]===t[l[0]]})||1===l.length)return t[l[0]]}},{}],303:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../components/color").contrast,o=c("./layout_attributes"),e=c("./show_dflt"),n=c("../array_container_defaults");function s(a,i){function r(d,f){return t.coerce(a,i,o.tickformatstops,d,f)}r("enabled")&&(r("dtickrange"),r("value"))}tt.exports=function(a,i,r,d,f){f||(f={});var h=e(a);if(r("showticklabels")){var p=f.font||{},T=i.color,w=-1!==(i.ticklabelposition||"").indexOf("inside")?l(f.bgColor):T&&T!==o.color.dflt?T:p.color;if(t.coerceFont(r,"tickfont",{family:p.family,size:p.size,color:w}),f.noTicklabelstep||"multicategory"===d||"log"===d||r("ticklabelstep"),f.noAng||r("tickangle"),"category"!==d){var x=r("tickformat");n(a,i,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:s}),i.tickformatstops.length||delete i.tickformatstops,f.noExp||x||"date"===d||(r("showexponent",h),r("exponentformat"),r("minexponent"),r("separatethousands"))}}}},{"../../components/color":102,"../../lib":232,"../array_container_defaults":274,"./layout_attributes":294,"./show_dflt":302}],304:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("./layout_attributes");tt.exports=function(o,e,n,s){var a=s.isMinor,i=a?o.minor||{}:o,r=a?e.minor:e,d=a?l.minor:l,f=a?"minor.":"",h=t.coerce2(i,r,d,"ticklen",a?.6*(e.ticklen||5):void 0),p=t.coerce2(i,r,d,"tickwidth",a?e.tickwidth||1:void 0),T=t.coerce2(i,r,d,"tickcolor",(a?e.tickcolor:void 0)||r.color);n(f+"ticks",!a&&s.outerTicks||h||p||T?"outside":"")||(delete r.ticklen,delete r.tickwidth,delete r.tickcolor)}},{"../../lib":232,"./layout_attributes":294}],305:[function(c,tt,B){"use strict";var t=c("./clean_ticks"),l=c("../../lib").isArrayOrTypedArray;tt.exports=function(o,e,n,s,a){a||(a={});var i=a.isMinor,r=i?o.minor||{}:o,d=i?e.minor:e,f=i?"minor.":"";function h(y){var A=r[y];return void 0!==A?A:(d._template||{})[y]}var p=h("tick0"),T=h("dtick"),w=h("tickvals"),x=n(f+"tickmode",l(w)?"array":T?"linear":"auto");if("auto"===x)n(f+"nticks");else if("linear"===x){var m=d.dtick=t.dtick(T,s);d.tick0=t.tick0(p,s,e.calendar,m)}else"multicategory"!==s&&(void 0===n(f+"tickvals")?d.tickmode="auto":i||n("ticktext"))}},{"../../lib":232,"./clean_ticks":285}],306:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../../registry"),o=c("../../lib"),e=c("../../components/drawing"),n=c("./axes");tt.exports=function(s,a,i,r){var d=s._fullLayout;if(0!==a.length){var f,h,p,T;r&&(f=r());var w=t.ease(i.easing);return s._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(T),T=null,function(){for(var y={},A=0;A<a.length;A++){var b=a[A],L=b.plotinfo.yaxis;b.xr0&&(y[b.plotinfo.xaxis._name+".range"]=b.xr0.slice()),b.yr0&&(y[L._name+".range"]=b.yr0.slice())}return l.call("relayout",s,y).then(function(){for(var g=0;g<a.length;g++)x(a[g].plotinfo)})}()}),h=Date.now(),T=window.requestAnimationFrame(function y(){p=Date.now();for(var A=Math.min(1,(p-h)/i.duration),b=w(A),k=0;k<a.length;k++)m(a[k],b);p-h>i.duration?(function(){for(var L={},g=0;g<a.length;g++){var S=a[g],v=S.plotinfo.yaxis;S.xr1&&(L[S.plotinfo.xaxis._name+".range"]=S.xr1.slice()),S.yr1&&(L[v._name+".range"]=S.yr1.slice())}f&&f(),l.call("relayout",s,L).then(function(){for(var F=0;F<a.length;F++)x(a[F].plotinfo)})}(),T=window.cancelAnimationFrame(y)):T=window.requestAnimationFrame(y)}),Promise.resolve()}function x(y){var A=y.xaxis,b=y.yaxis;d._defs.select("#"+y.clipId+"> rect").call(e.setTranslate,0,0).call(e.setScale,1,1),y.plot.call(e.setTranslate,A._offset,b._offset).call(e.setScale,1,1);var k=y.plot.selectAll(".scatterlayer .trace");k.selectAll(".point").call(e.setPointGroupScale,1,1),k.selectAll(".textpoint").call(e.setTextPointsScale,1,1),k.call(e.hideOutsideRangePoints,y)}function m(y,A){var b=y.plotinfo,k=b.xaxis,L=b.yaxis,g=k._length,S=L._length,E=!!y.xr1,v=!!y.yr1,F=[];if(E){var N=o.simpleMap(y.xr0,k.r2l),z=o.simpleMap(y.xr1,k.r2l),U=N[1]-N[0],Y=z[1]-z[0];F[0]=(N[0]*(1-A)+A*z[0]-N[0])/(N[1]-N[0])*g,F[2]=g*(1-A+A*Y/U),k.range[0]=k.l2r(N[0]*(1-A)+A*z[0]),k.range[1]=k.l2r(N[1]*(1-A)+A*z[1])}else F[0]=0,F[2]=g;if(v){var $=o.simpleMap(y.yr0,L.r2l),ot=o.simpleMap(y.yr1,L.r2l),G=$[1]-$[0],R=ot[1]-ot[0];F[1]=($[1]*(1-A)+A*ot[1]-$[1])/($[0]-$[1])*S,F[3]=S*(1-A+A*R/G),L.range[0]=k.l2r($[0]*(1-A)+A*ot[0]),L.range[1]=L.l2r($[1]*(1-A)+A*ot[1])}else F[1]=0,F[3]=S;n.drawOne(s,k,{skipTitle:!0}),n.drawOne(s,L,{skipTitle:!0}),n.redrawComponents(s,[k._id,L._id]);var j=E?g/F[2]:1,P=v?S/F[3]:1,M=k._offset-(E?F[0]/F[2]*g:0),H=L._offset-(v?F[1]/F[3]*S:0);b.clipRect.call(e.setTranslate,E?F[0]:0,v?F[1]:0).call(e.setScale,1/j,1/P),b.plot.call(e.setTranslate,M,H).call(e.setScale,j,P),e.setPointGroupScale(b.zoomScalePts,1/j,1/P),e.setTextPointsScale(b.zoomScaleTxt,1/j,1/P)}n.redrawComponents(s)}},{"../../components/drawing":124,"../../lib":232,"../../registry":318,"./axes":279,"@plotly/d3":11}],307:[function(c,tt,B){"use strict";var t=c("../../registry").traceIs,l=c("./axis_autotype");function o(n){return{v:"x",h:"y"}[n.orientation||"v"]}function e(n,s){var a=o(n),i=t(n,"box-violin"),r=t(n._fullInput||{},"candlestick");return i&&!r&&s===a&&void 0===n[a]&&void 0===n[a+"0"]}tt.exports=function(n,s,a,i){a("autotypenumbers",i.autotypenumbersDflt),"-"===a("type",(i.splomStash||{}).type)&&(function(r,d){if("-"===r.type){var f,h=r._id,p=h.charAt(0);-1!==h.indexOf("scene")&&(h=p);var T=function(L,g,S){for(var E=0;E<L.length;E++){var v=L[E];if("splom"===v.type&&v._length>0&&(v["_"+S+"axes"]||{})[g]||(v[S+"axis"]||S)===g&&(e(v,S)||(v[S]||[]).length||v[S+"0"]))return v}}(d,h,p);if(T){if("histogram"===T.type&&p==={v:"y",h:"x"}[T.orientation||"v"])return void(r.type="linear");var w=p+"calendar",x=T[w],m={noMultiCategory:!t(T,"cartesian")||t(T,"noMultiCategory")};if("box"===T.type&&T._hasPreCompStats&&p==={h:"x",v:"y"}[T.orientation||"v"]&&(m.noMultiCategory=!0),m.autotypenumbers=r.autotypenumbers,e(T,p)){var y=o(T),A=[];for(f=0;f<d.length;f++){var b=d[f];t(b,"box-violin")&&(b[p+"axis"]||p)===h&&(A.push(void 0!==b[y]?b[y][0]:void 0!==b.name?b.name:"text"),b[w]!==x&&(x=void 0))}r.type=l(A,x,m)}else if("splom"===T.type){var k=T.dimensions[T._axesDim[h]];k.visible&&(r.type=l(k.values,x,m))}else r.type=l(T[p]||[T[p+"0"]],x,m)}}}(s,i.data),"-"===s.type?s.type="linear":n.type=s.type)}},{"../../registry":318,"./axis_autotype":280}],308:[function(c,tt,B){"use strict";var t=c("../registry"),l=c("../lib");function o(a,i,r){var d,f,h,p=!1;if("data"===i.type)d=a._fullData[null!==i.traces?i.traces[0]:0];else{if("layout"!==i.type)return!1;d=a._fullLayout}return f=l.nestedProperty(d,i.prop).get(),(h=r[i.type]=r[i.type]||{}).hasOwnProperty(i.prop)&&h[i.prop]!==f&&(p=!0),h[i.prop]=f,{changed:p,value:f}}function e(a,i){var r=[],d=i[0],f={};if("string"==typeof d)f[d]=i[1];else{if(!l.isPlainObject(d))return r;f=d}return s(f,function(h,p,T){r.push({type:"layout",prop:h,value:T})},"",0),r}function n(a,i){var r,d,f,h,p=[];if(f=i[1],r=i[2],h={},"string"==typeof(d=i[0]))h[d]=f;else{if(!l.isPlainObject(d))return p;h=d,void 0===r&&(r=f)}return void 0===r&&(r=null),s(h,function(T,w,x){var m,y;if(Array.isArray(x)){y=x.slice();var A=Math.min(y.length,a.data.length);r&&(A=Math.min(A,r.length)),m=[];for(var b=0;b<A;b++)m[b]=r?r[b]:b}else y=x,m=r?r.slice():null;if(null===m)Array.isArray(y)&&(y=y[0]);else if(Array.isArray(m)){if(!Array.isArray(y)){var k=y;y=[];for(var L=0;L<m.length;L++)y[L]=k}y.length=Math.min(m.length,y.length)}p.push({type:"data",prop:T,traces:m,value:y})},"",0),p}function s(a,i,r,d){Object.keys(a).forEach(function(f){var h=a[f];if("_"!==f[0]){var p=r+(d>0?".":"")+f;l.isPlainObject(h)?s(h,i,p,d+1):i(p,f,h)}})}B.manageCommandObserver=function(a,i,r,d){var f={},h=!0;i&&i._commandObserver&&(f=i._commandObserver),f.cache||(f.cache={}),f.lookupTable={};var p=B.hasSimpleAPICommandBindings(a,r,f.lookupTable);if(i&&i._commandObserver){if(p)return f;if(i._commandObserver.remove)return i._commandObserver.remove(),i._commandObserver=null,f}if(p){o(a,p,f.cache),f.check=function(){if(h){var x=o(a,p,f.cache);return x.changed&&d&&void 0!==f.lookupTable[x.value]&&(f.disable(),Promise.resolve(d({value:x.value,type:p.type,prop:p.prop,traces:p.traces,index:f.lookupTable[x.value]})).then(f.enable,f.enable)),x.changed}};for(var T=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],w=0;w<T.length;w++)a._internalOn(T[w],f.check);f.remove=function(){for(var x=0;x<T.length;x++)a._removeInternalListener(T[x],f.check)}}else l.log("Unable to automatically bind plot updates to API command"),f.lookupTable={},f.remove=function(){};return f.disable=function(){h=!1},f.enable=function(){h=!0},i&&(i._commandObserver=f),f},B.hasSimpleAPICommandBindings=function(a,i,r){var d,f,h=i.length;for(d=0;d<h;d++){var p,T=i[d],w=T.method,x=T.args;if(Array.isArray(x)||(x=[]),!w)return!1;var m=B.computeAPICommandBindings(a,w,x);if(1!==m.length)return!1;if(f){if((p=m[0]).type!==f.type||p.prop!==f.prop)return!1;if(Array.isArray(f.traces)){if(!Array.isArray(p.traces))return!1;p.traces.sort();for(var y=0;y<f.traces.length;y++)if(f.traces[y]!==p.traces[y])return!1}else if(p.prop!==f.prop)return!1}else f=m[0],Array.isArray(f.traces)&&f.traces.sort();var A=(p=m[0]).value;if(Array.isArray(A)){if(1!==A.length)return!1;A=A[0]}r&&(r[A]=d)}return f},B.executeAPICommand=function(a,i,r){if("skip"===i)return Promise.resolve();var d=t.apiMethodRegistry[i],f=[a];Array.isArray(r)||(r=[]);for(var h=0;h<r.length;h++)f.push(r[h]);return d.apply(null,f).catch(function(p){return l.warn("API call to Plotly."+i+" rejected.",p),Promise.reject(p)})},B.computeAPICommandBindings=function(a,i,r){var d,h;switch(Array.isArray(r)||(r=[]),i){case"restyle":d=n(a,r);break;case"relayout":d=e(0,r);break;case"update":d=n(a,[r[0],r[2]]).concat(e(0,[r[1]]));break;case"animate":h=r,d=Array.isArray(h[0])&&1===h[0].length&&-1!==["string","number"].indexOf(typeof h[0][0])?[{type:"layout",prop:"_currentFrame",value:h[0][0].toString()}]:[];break;default:d=[]}return d}},{"../lib":232,"../registry":318}],309:[function(c,tt,B){"use strict";var t=c("../lib/extend").extendFlat;B.attributes=function(l,o){o=o||{};var e={valType:"info_array",editType:(l=l||{}).editType,items:[{valType:"number",min:0,max:1,editType:l.editType},{valType:"number",min:0,max:1,editType:l.editType}],dflt:[0,1]},n={x:t({},e,{}),y:t({},e,{}),editType:l.editType};return l.noGridCell||(n.row={valType:"integer",min:0,dflt:0,editType:l.editType},n.column={valType:"integer",min:0,dflt:0,editType:l.editType}),n},B.defaults=function(l,o,e,n){var s=n&&n.x||[0,1],a=n&&n.y||[0,1],i=o.grid;if(i){var r=e("domain.column");void 0!==r&&(r<i.columns?s=i._domains.x[r]:delete l.domain.column);var d=e("domain.row");void 0!==d&&(d<i.rows?a=i._domains.y[d]:delete l.domain.row)}var f=e("domain.x",s),h=e("domain.y",a);f[0]<f[1]||(l.domain.x=s.slice()),h[0]<h[1]||(l.domain.y=a.slice())}},{"../lib/extend":226}],310:[function(c,tt,B){"use strict";tt.exports=function(t){var l=t.editType,o=t.colorEditType;void 0===o&&(o=l);var e={family:{valType:"string",noBlank:!0,strict:!0,editType:l},size:{valType:"number",min:1,editType:l},color:{valType:"color",editType:o},editType:l};return t.autoSize&&(e.size.dflt="auto"),t.autoColor&&(e.color.dflt="auto"),t.arrayOk&&(e.family.arrayOk=!0,e.size.arrayOk=!0,e.color.arrayOk=!0),e}},{}],311:[function(c,tt,B){"use strict";tt.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],312:[function(c,tt,B){"use strict";var t=c("../registry"),l=c("./cartesian/constants").SUBPLOT_PATTERN;B.getSubplotCalcData=function(o,e,n){var s=t.subplotsRegistry[e];if(!s)return[];for(var a=s.attr,i=[],r=0;r<o.length;r++){var d=o[r];d[0].trace[a]===n&&i.push(d)}return i},B.getModuleCalcData=function(o,e){var n,s=[],a=[];if(!(n="string"==typeof e?t.getModule(e).plot:"function"==typeof e?e:e.plot))return[s,o];for(var i=0;i<o.length;i++){var r=o[i],d=r[0].trace;!0===d.visible&&0!==d._length&&(d._module.plot===n?s.push(r):a.push(r))}return[s,a]},B.getSubplotData=function(o,e,n){if(!t.subplotsRegistry[e])return[];var s,a,i,r=t.subplotsRegistry[e].attr,d=[];if("gl2d"===e){var f=n.match(l);a="x"+f[1],i="y"+f[2]}for(var h=0;h<o.length;h++)s=o[h],"gl2d"===e&&t.traceIs(s,"gl2d")?s[r[0]]===a&&s[r[1]]===i&&d.push(s):s[r]===n&&d.push(s);return d}},{"../registry":318,"./cartesian/constants":286}],313:[function(c,tt,B){"use strict";function t(l,o){var e,n,s=[0,0,0,0];for(e=0;e<4;++e)for(n=0;n<4;++n)s[n]+=l[4*e+n]*o[e];return s}tt.exports=function(l,o){return t(l.projection,t(l.view,t(l.model,[o[0],o[1],o[2],1])))}},{}],314:[function(c,tt,B){"use strict";var t=c("./font_attributes"),l=c("./animation_attributes"),o=c("../components/color/attributes"),e=c("../components/shapes/draw_newshape/attributes"),n=c("./pad_attributes"),s=c("../lib/extend").extendFlat,a=t({editType:"calc"});a.family.dflt='"Open Sans", verdana, arial, sans-serif',a.size.dflt=12,a.color.dflt=o.defaultLine,tt.exports={font:a,title:{text:{valType:"string",editType:"layoutstyle"},font:t({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:s(n({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:o.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:o.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:o.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:e.newshape,activeshape:e.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:s({},l.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:t({editType:"layoutstyle"})}}},{"../components/color/attributes":101,"../components/shapes/draw_newshape/attributes":187,"../lib/extend":226,"./animation_attributes":273,"./font_attributes":310,"./pad_attributes":315}],315:[function(c,tt,B){"use strict";tt.exports=function(t){var l=t.editType;return{t:{valType:"number",dflt:0,editType:l},r:{valType:"number",dflt:0,editType:l},b:{valType:"number",dflt:0,editType:l},l:{valType:"number",dflt:0,editType:l},editType:l}}},{}],316:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("d3-time-format").timeFormatLocale,o=c("d3-format").formatLocale,e=c("fast-isnumeric"),n=c("../registry"),s=c("../plot_api/plot_schema"),a=c("../plot_api/plot_template"),i=c("../lib"),r=c("../components/color"),d=c("../constants/numerical").BADNUM,f=c("./cartesian/axis_ids"),h=c("./cartesian/handle_outline").clearSelect,p=c("./animation_attributes"),T=c("./frame_attributes"),w=c("../plots/get_data").getModuleCalcData,x=i.relinkPrivateKeys,m=i._,y=tt.exports={};i.extendFlat(y,n),y.attributes=c("./attributes"),y.attributes.type.values=y.allTypes,y.fontAttrs=c("./font_attributes"),y.layoutAttributes=c("./layout_attributes"),y.fontWeight="normal";var A=y.transformsRegistry,b=c("./command");y.executeAPICommand=b.executeAPICommand,y.computeAPICommandBindings=b.computeAPICommandBindings,y.manageCommandObserver=b.manageCommandObserver,y.hasSimpleAPICommandBindings=b.hasSimpleAPICommandBindings,y.redrawText=function(G){return G=i.getGraphDiv(G),new Promise(function(R){setTimeout(function(){G._fullLayout&&(n.getComponentMethod("annotations","draw")(G),n.getComponentMethod("legend","draw")(G),n.getComponentMethod("colorbar","draw")(G),R(y.previousPromises(G)))},300)})},y.resize=function(G){var R;G=i.getGraphDiv(G);var j=new Promise(function(P,I){G&&!i.isHidden(G)||I(new Error("Resize must be passed a displayed plot div element.")),G._redrawTimer&&clearTimeout(G._redrawTimer),G._resolveResize&&(R=G._resolveResize),G._resolveResize=P,G._redrawTimer=setTimeout(function(){if(!G.layout||G.layout.width&&G.layout.height||i.isHidden(G))P(G);else{delete G.layout.width,delete G.layout.height;var Z=G.changed;G.autoplay=!0,n.call("relayout",G,{autosize:!0}).then(function(){G.changed=Z,G._resolveResize===P&&(delete G._resolveResize,P(G))})}},100)});return R&&R(j),j},y.previousPromises=function(G){if((G._promises||[]).length)return Promise.all(G._promises).then(function(){G._promises=[]})},y.addLinks=function(G){if(G._context.showLink||G._context.showSources){var R=G._fullLayout,j=i.ensureSingle(R._paper,"text","js-plot-link-container",function(M){M.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var H=t.select(this);H.append("tspan").classed("js-link-to-tool",!0),H.append("tspan").classed("js-link-spacer",!0),H.append("tspan").classed("js-sourcelinks",!0)})}),P=j.node(),I={y:R._paper.attr("height")-9};document.body.contains(P)&&P.getComputedTextLength()>=R.width-20?(I["text-anchor"]="start",I.x=5):(I["text-anchor"]="end",I.x=R._paper.attr("width")-7),j.attr(I);var Z=j.select(".js-link-to-tool"),q=j.select(".js-link-spacer"),D=j.select(".js-sourcelinks");G._context.showSources&&G._context.showSources(G),G._context.showLink&&function(M,H){H.text("");var C=H.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(M._context.linkText+" "+String.fromCharCode(187));if(M._context.sendData)C.on("click",function(){y.sendDataToCloud(M)});else{var W=window.location.pathname.split("/"),K=window.location.search;C.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+W[2].split(".")[0]+"/"+W[1]+K})}}(G,Z),q.text(Z.text()&&D.text()?" - ":"")}},y.sendDataToCloud=function(G){var R=(window.PLOTLYENV||{}).BASE_URL||G._context.plotlyServerURL;if(R){G.emit("plotly_beforeexport");var j=t.select(G).append("div").attr("id","hiddenform").style("display","none"),P=j.append("form").attr({action:R+"/external",method:"post",target:"_blank"});return P.append("input").attr({type:"text",name:"data"}).node().value=y.graphJson(G,!1,"keepdata"),P.node().submit(),j.remove(),G.emit("plotly_afterexport"),!1}};var k=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],L=["year","month","dayMonth","dayMonthYear"];function g(G,R){var j=G._context.locale;j||(j="en-US");var P=!1,I={};function Z(W){for(var K=!0,J=0;J<R.length;J++){var Q=R[J];I[Q]||(W[Q]?I[Q]=W[Q]:K=!1)}K&&(P=!0)}for(var q=0;q<2;q++){for(var D=G._context.locales,M=0;M<2;M++){var H=(D[j]||{}).format;if(H&&(Z(H),P))break;D=n.localeRegistry}var C=j.split("-")[0];if(P||C===j)break;j=C}return P||Z(n.localeRegistry.en.format),I}function S(G,R){var j={_fullLayout:R},P="x"===G._id.charAt(0),I=G._mainAxis._anchorAxis,Z="",q="",D="";if(I&&(D=I._mainAxis._id,Z=P?G._id+D:D+G._id),!Z||!R._plots[Z]){Z="";for(var M=G._counterAxes,H=0;H<M.length;H++){var C=M[H],W=P?G._id+C:C+G._id;q||(q=W);var K=f.getFromId(j,C);if(D&&K.overlaying===D){Z=W;break}}}return Z||q}function E(G){var R=G.transforms;if(Array.isArray(R)&&R.length)for(var j=0;j<R.length;j++){var P=R[j],I=P._module||A[P.type];if(I&&I.makesData)return!0}return!1}function v(G,R,j,P){for(var I=G.transforms,Z=[G],q=0;q<I.length;q++){var D=I[q],M=A[D.type];M&&M.transform&&(Z=M.transform(Z,{transform:D,fullTrace:G,fullData:R,layout:j,fullLayout:P,transformIndex:q}))}return Z}function F(G){return"string"==typeof G&&"px"===G.substr(G.length-2)&&parseFloat(G)}function N(G){var R=G.margin;if(!G._size){var j=G._size={l:Math.round(R.l),r:Math.round(R.r),t:Math.round(R.t),b:Math.round(R.b),p:Math.round(R.pad)};j.w=Math.round(G.width)-j.l-j.r,j.h=Math.round(G.height)-j.t-j.b}G._pushmargin||(G._pushmargin={}),G._pushmarginIds||(G._pushmarginIds={})}y.supplyDefaults=function(G,R){var Nt,Vt,j=R&&R.skipUpdateCalc,P=G._fullLayout||{};if(P._skipDefaults)delete P._skipDefaults;else{var I,Z=G._fullLayout={},q=G.layout||{},D=G._fullData||[],M=G._fullData=[],H=G.data||[],C=G.calcdata||[],W=G._context||{};G._transitionData||y.createTransitionData(G),Z._dfltTitle={plot:m(G,"Click to enter Plot title"),x:m(G,"Click to enter X axis title"),y:m(G,"Click to enter Y axis title"),colorbar:m(G,"Click to enter Colorscale title"),annotation:m(G,"new text")},Z._traceWord=m(G,"trace");var K=g(G,k);if(Z._mapboxAccessToken=W.mapboxAccessToken,P._initialAutoSizeIsDone){var J=P.width,Q=P.height;y.supplyLayoutGlobalDefaults(q,Z,K),q.width||(Z.width=J),q.height||(Z.height=Q),y.sanitizeMargins(Z)}else{y.supplyLayoutGlobalDefaults(q,Z,K);var ut=!q.width||!q.height,ct=Z.autosize;ut&&(ct||W.autosizable)?y.plotAutoSize(G,q,Z):ut&&y.sanitizeMargins(Z),!ct&&ut&&(q.width=Z.width,q.height=Z.height)}Z._d3locale=((Nt=K).decimal=(Vt=Z.separators).charAt(0),Nt.thousands=Vt.charAt(1),{numberFormat:function(Ct){try{Ct=o(Nt).format(i.adjustFormat(Ct))}catch(Gt){return i.warnBadFormat(Ct),i.noFormat}return Ct},timeFormat:l(Nt).utcFormat}),Z._extraFormat=g(G,L),Z._initialAutoSizeIsDone=!0,Z._dataLength=H.length,Z._modules=[],Z._visibleModules=[],Z._basePlotModules=[];var vt=Z._subplots=function(){var Nt,Vt,Ct=n.collectableSubplotTypes,Gt={};if(!Ct){Ct=[];var $t=n.subplotsRegistry;for(var Xt in $t){var de=$t[Xt].attr;if(de&&(Ct.push(Xt),Array.isArray(de)))for(Vt=0;Vt<de.length;Vt++)i.pushUnique(Ct,de[Vt])}}for(Nt=0;Nt<Ct.length;Nt++)Gt[Ct[Nt]]=[];return Gt}(),xt=Z._splomAxes={x:{},y:{}},Tt=Z._splomSubplots={};Z._splomGridDflt={},Z._scatterStackOpts={},Z._firstScatter={},Z._alignmentOpts={},Z._colorAxes={},Z._requestRangeslider={},Z._traceUids=function(Nt,Vt){var Ct,Gt,$t=Vt.length,Xt=[];for(Ct=0;Ct<Nt.length;Ct++){var de=Nt[Ct]._fullInput;de!==Gt&&Xt.push(de),Gt=de}var Kt=Xt.length,kt=new Array($t),Mt={};function qt(Oe,xe){kt[xe]=Oe,Mt[Oe]=1}function ce(Oe,xe){if(Oe&&"string"==typeof Oe&&!Mt[Oe])return qt(Oe,xe),!0}for(Ct=0;Ct<$t;Ct++){var Te=Vt[Ct].uid;"number"==typeof Te&&(Te=String(Te)),ce(Te,Ct)||Ct<Kt&&ce(Xt[Ct].uid,Ct)||qt(i.randstr(Mt),Ct)}return kt}(D,H),Z._globalTransforms=(G._context||{}).globalTransforms,y.supplyDataDefaults(H,M,q,Z);var zt=Object.keys(xt.x),Et=Object.keys(xt.y);if(zt.length>1&&Et.length>1){for(n.getComponentMethod("grid","sizeDefaults")(q,Z),I=0;I<zt.length;I++)i.pushUnique(vt.xaxis,zt[I]);for(I=0;I<Et.length;I++)i.pushUnique(vt.yaxis,Et[I]);for(var At in Tt)i.pushUnique(vt.cartesian,At)}if(Z._has=y._hasPlotType.bind(Z),D.length===M.length)for(I=0;I<M.length;I++)x(M[I],D[I]);y.supplyLayoutModuleDefaults(q,Z,M,G._transitionData);var lt=Z._visibleModules,rt=[];for(I=0;I<lt.length;I++){var dt=lt[I].crossTraceDefaults;dt&&i.pushUnique(rt,dt)}for(I=0;I<rt.length;I++)rt[I](M,Z);Z._hasOnlyLargeSploms=1===Z._basePlotModules.length&&"splom"===Z._basePlotModules[0].name&&zt.length>15&&Et.length>15&&0===Z.shapes.length&&0===Z.images.length,y.linkSubplots(M,Z,D,P),y.cleanPlot(M,Z,D,P);var mt=!(!P._has||!P._has("gl2d")),Dt=!(!Z._has||!Z._has("gl2d")),bt=!(!P._has||!P._has("cartesian"))||mt,wt=!(!Z._has||!Z._has("cartesian"))||Dt;bt&&!wt?P._bgLayer.remove():wt&&!bt&&(Z._shouldCreateBgLayer=!0),P._zoomlayer&&!G._dragging&&h({_fullLayout:P}),function(Nt,Vt){var Ct,Gt=[];Vt.meta&&(Ct=Vt._meta={meta:Vt.meta,layout:{meta:Vt.meta}});for(var $t=0;$t<Nt.length;$t++){var Xt=Nt[$t];Xt.meta?Gt[Xt.index]=Xt._meta={meta:Xt.meta}:Vt.meta&&(Xt._meta={meta:Vt.meta}),Vt.meta&&(Xt._meta.layout={meta:Vt.meta})}Gt.length&&(Ct||(Ct=Vt._meta={}),Ct.data=Gt)}(M,Z),x(Z,P),n.getComponentMethod("colorscale","crossTraceDefaults")(M,Z),Z._preGUI||(Z._preGUI={}),Z._tracePreGUI||(Z._tracePreGUI={});var Ot,It=Z._tracePreGUI,St={};for(Ot in It)St[Ot]="old";for(I=0;I<M.length;I++)St[Ot=M[I]._fullInput.uid]||(It[Ot]={}),St[Ot]="new";for(Ot in St)"old"===St[Ot]&&delete It[Ot];N(Z),n.getComponentMethod("rangeslider","makeData")(Z),j||C.length!==M.length||y.supplyDefaultsUpdateCalc(C,M)}},y.supplyDefaultsUpdateCalc=function(G,R){for(var j=0;j<R.length;j++){var P=R[j],I=(G[j]||[])[0];if(I&&I.trace){var Z=I.trace;if(Z._hasCalcTransform){var q,D,M,H=Z._arrayAttrs;for(q=0;q<H.length;q++)M=i.nestedProperty(Z,D=H[q]).get().slice(),i.nestedProperty(P,D).set(M)}I.trace=P}}},y.createTransitionData=function(G){G._transitionData||(G._transitionData={}),G._transitionData._frames||(G._transitionData._frames=[]),G._transitionData._frameHash||(G._transitionData._frameHash={}),G._transitionData._counter||(G._transitionData._counter=0),G._transitionData._interruptCallbacks||(G._transitionData._interruptCallbacks=[])},y._hasPlotType=function(G){var R,j=this._basePlotModules||[];for(R=0;R<j.length;R++)if(j[R].name===G)return!0;var P=this._modules||[];for(R=0;R<P.length;R++){var I=P[R].name;if(I===G)return!0;var Z=n.modules[I];if(Z&&Z.categories[G])return!0}return!1},y.cleanPlot=function(G,R,j,P){var I,Z,q=P._basePlotModules||[];for(I=0;I<q.length;I++){var D=q[I];D.clean&&D.clean(G,R,j,P)}var M=P._has&&P._has("gl"),H=R._has&&R._has("gl");M&&!H&&void 0!==P._glcontainer&&(P._glcontainer.selectAll(".gl-canvas").remove(),P._glcontainer.selectAll(".no-webgl").remove(),P._glcanvas=null);var C=!!P._infolayer;t:for(I=0;I<j.length;I++){var W=j[I].uid;for(Z=0;Z<G.length;Z++)if(W===G[Z].uid)continue t;C&&P._infolayer.select(".cb"+W).remove()}},y.linkSubplots=function(G,R,j,P){var I,Z,q=P._plots||{},D=R._plots={},M=R._subplots,H={_fullData:G,_fullLayout:R},C=M.cartesian.concat(M.gl2d||[]);for(I=0;I<C.length;I++){var W,K=C[I],J=q[K],Q=f.getFromId(H,K,"x"),ut=f.getFromId(H,K,"y");for(J?W=D[K]=J:(W=D[K]={}).id=K,Q._counterAxes.push(ut._id),ut._counterAxes.push(Q._id),Q._subplotsWith.push(K),ut._subplotsWith.push(K),W.xaxis=Q,W.yaxis=ut,W._hasClipOnAxisFalse=!1,Z=0;Z<G.length;Z++){var ct=G[Z];if(ct.xaxis===W.xaxis._id&&ct.yaxis===W.yaxis._id&&!1===ct.cliponaxis){W._hasClipOnAxisFalse=!0;break}}}var gt,vt=f.list(H,null,!0);for(I=0;I<vt.length;I++){var xt=null;(gt=vt[I]).overlaying&&(xt=f.getFromId(H,gt.overlaying))&&xt.overlaying&&(gt.overlaying=!1,xt=null),gt._mainAxis=xt||gt,xt&&(gt.domain=xt.domain.slice()),gt._anchorAxis="free"===gt.anchor?null:f.getFromId(H,gt.anchor)}for(I=0;I<vt.length;I++)if((gt=vt[I])._counterAxes.sort(f.idSort),gt._subplotsWith.sort(i.subplotSort),gt._mainSubplot=S(gt,R),gt._counterAxes.length&&(gt.spikemode&&-1!==gt.spikemode.indexOf("across")||gt.automargin&&gt.mirror&&"free"!==gt.anchor||n.getComponentMethod("rangeslider","isVisible")(gt))){var Tt=1,zt=0;for(Z=0;Z<gt._counterAxes.length;Z++){var Et=f.getFromId(H,gt._counterAxes[Z]);Tt=Math.min(Tt,Et.domain[0]),zt=Math.max(zt,Et.domain[1])}Tt<zt&&(gt._counterDomainMin=Tt,gt._counterDomainMax=zt)}},y.clearExpandedTraceDefaultColors=function(G){var R,j,P;for(j=[],(R=G._module._colorAttrs)||(G._module._colorAttrs=R=[],s.crawl(G._module.attributes,function(I,Z,q,D){j[D]=Z,j.length=D+1,"color"===I.valType&&void 0===I.dflt&&R.push(j.join("."))})),P=0;P<R.length;P++)i.nestedProperty(G,"_input."+R[P]).get()||i.nestedProperty(G,R[P]).set(null)},y.supplyDataDefaults=function(G,R,j,P){var I,Z,q,D=P._modules,M=P._visibleModules,H=P._basePlotModules,C=0,W=0;function K(At){R.push(At);var lt=At._module;lt&&(i.pushUnique(D,lt),!0===At.visible&&i.pushUnique(M,lt),i.pushUnique(H,At._module.basePlotModule),C++,!1!==At._input.visible&&W++)}P._transformModules=[];var J={},Q=[],ct=a.traceTemplater((j.template||{}).data||{});for(I=0;I<G.length;I++){if((Z=ct.newTrace(q=G[I])).uid=P._traceUids[I],y.supplyTraceDefaults(q,Z,W,P,I),Z.index=I,Z._input=q,Z._expandedIndex=C,Z.transforms&&Z.transforms.length)for(var gt=!1!==q.visible&&!1===Z.visible,vt=v(Z,R,j,P),xt=0;xt<vt.length;xt++){var Tt=vt[xt],zt={_template:Z._template,type:Z.type,uid:Z.uid+xt};gt&&!1===Tt.visible&&delete Tt.visible,y.supplyTraceDefaults(Tt,zt,C,P,I),x(zt,Tt),zt.index=I,zt._input=q,zt._fullInput=Z,zt._expandedIndex=C,zt._expandedInput=Tt,K(zt)}else Z._fullInput=Z,Z._expandedInput=Z,K(Z);n.traceIs(Z,"carpetAxis")&&(J[Z.carpet]=Z),n.traceIs(Z,"carpetDependent")&&Q.push(I)}for(I=0;I<Q.length;I++)if((Z=R[Q[I]]).visible){var Et=J[Z.carpet];Z._carpet=Et,Et&&Et.visible?(Z.xaxis=Et.xaxis,Z.yaxis=Et.yaxis):Z.visible=!1}},y.supplyAnimationDefaults=function(G){var R;G=G||{};var j={};function P(I,Z){return i.coerce(G||{},j,p,I,Z)}if(P("mode"),P("direction"),P("fromcurrent"),Array.isArray(G.frame))for(j.frame=[],R=0;R<G.frame.length;R++)j.frame[R]=y.supplyAnimationFrameDefaults(G.frame[R]||{});else j.frame=y.supplyAnimationFrameDefaults(G.frame||{});if(Array.isArray(G.transition))for(j.transition=[],R=0;R<G.transition.length;R++)j.transition[R]=y.supplyAnimationTransitionDefaults(G.transition[R]||{});else j.transition=y.supplyAnimationTransitionDefaults(G.transition||{});return j},y.supplyAnimationFrameDefaults=function(G){var R={};function j(P,I){return i.coerce(G||{},R,p.frame,P,I)}return j("duration"),j("redraw"),R},y.supplyAnimationTransitionDefaults=function(G){var R={};function j(P,I){return i.coerce(G||{},R,p.transition,P,I)}return j("duration"),j("easing"),R},y.supplyFrameDefaults=function(G){var R={};function j(P,I){return i.coerce(G,R,T,P,I)}return j("group"),j("name"),j("traces"),j("baseframe"),j("data"),j("layout"),R},y.supplyTraceDefaults=function(G,R,j,P,I){var Z,q=P.colorway||r.defaults,D=q[j%q.length];function M(vt,xt){return i.coerce(G,R,y.attributes,vt,xt)}var H=M("visible");M("type"),M("name",P._traceWord+" "+I),M("uirevision",P.uirevision);var C=y.getModule(R);if(R._module=C,C){var W=C.basePlotModule,K=W.attr,J=W.attributes;if(K&&J){var Q=P._subplots,ut="";if(H||"gl2d"!==W.name){if(Array.isArray(K))for(Z=0;Z<K.length;Z++){var ct=K[Z],gt=i.coerce(G,R,J,ct);Q[ct]&&i.pushUnique(Q[ct],gt),ut+=gt}else ut=i.coerce(G,R,J,K);Q[W.name]&&i.pushUnique(Q[W.name],ut)}}}return H&&(M("customdata"),M("ids"),M("meta"),n.traceIs(R,"showLegend")?(i.coerce(G,R,C.attributes.showlegend?C.attributes:y.attributes,"showlegend"),M("legendgroup"),M("legendgrouptitle.text"),M("legendrank"),R._dfltShowLegend=!0):R._dfltShowLegend=!1,C&&C.supplyDefaults(G,R,D,P),n.traceIs(R,"noOpacity")||M("opacity"),n.traceIs(R,"notLegendIsolatable")&&(R.visible=!!R.visible),n.traceIs(R,"noHover")||(R.hovertemplate||i.coerceHoverinfo(G,R,P),"parcats"!==R.type&&n.getComponentMethod("fx","supplyDefaults")(G,R,D,P)),C&&C.selectPoints&&M("selectedpoints"),y.supplyTransformDefaults(G,R,P)),R},y.hasMakesDataTransform=E,y.supplyTransformDefaults=function(G,R,j){if(R._length||E(G)){var P=j._globalTransforms||[],I=j._transformModules||[];if(Array.isArray(G.transforms)||0!==P.length)for(var q=P.concat(G.transforms||[]),D=R.transforms=[],M=0;M<q.length;M++){var H,C=q[M],W=C.type,K=A[W],J=!(C._module&&C._module===K),Q=K&&"function"==typeof K.transform;K||i.warn("Unrecognized transform type "+W+"."),K&&K.supplyDefaults&&(J||Q)?((H=K.supplyDefaults(C,R,j,G)).type=W,H._module=K,i.pushUnique(I,K)):H=i.extendFlat({},C),D.push(H)}}},y.supplyLayoutGlobalDefaults=function(G,R,j){function P(M,H){return i.coerce(G,R,y.layoutAttributes,M,H)}var I=G.template;i.isPlainObject(I)&&(R.template=I,R._template=I.layout,R._dataTemplate=I.data),P("autotypenumbers");var Z=i.coerceFont(P,"font");i.coerceFont(P,"title.font",i.extendFlat({},Z,{size:Math.round(1.4*Z.size)})),P("title.text",R._dfltTitle.plot),P("title.xref"),P("title.yref"),P("title.x"),P("title.y"),P("title.xanchor"),P("title.yanchor"),P("title.pad.t"),P("title.pad.r"),P("title.pad.b"),P("title.pad.l"),P("uniformtext.mode")&&P("uniformtext.minsize"),P("autosize",!(G.width&&G.height)),P("width"),P("height"),P("margin.l"),P("margin.r"),P("margin.t"),P("margin.b"),P("margin.pad"),P("margin.autoexpand"),G.width&&G.height&&y.sanitizeMargins(R),n.getComponentMethod("grid","sizeDefaults")(G,R),P("paper_bgcolor"),P("separators",j.decimal+j.thousands),P("hidesources"),P("colorway"),P("datarevision");var D=P("uirevision");P("editrevision",D),P("selectionrevision",D),n.getComponentMethod("modebar","supplyLayoutDefaults")(G,R),n.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(G,R,P),P("meta"),i.isPlainObject(G.transition)&&(P("transition.duration"),P("transition.easing"),P("transition.ordering")),n.getComponentMethod("calendars","handleDefaults")(G,R,"calendar"),n.getComponentMethod("fx","supplyLayoutGlobalDefaults")(G,R,P)},y.plotAutoSize=function(G,R,j){var P,I,Z=G._context||{},q=Z.frameMargins,D=i.isPlotDiv(G);if(D&&G.emit("plotly_autosize"),Z.fillFrame)P=window.innerWidth,I=window.innerHeight,document.body.style.overflow="hidden";else{var M=D?window.getComputedStyle(G):{};if(P=F(M.width)||F(M.maxWidth)||j.width,I=F(M.height)||F(M.maxHeight)||j.height,e(q)&&q>0){var H=1-2*q;P=Math.round(H*P),I=Math.round(H*I)}}var C=y.layoutAttributes.width.min,W=y.layoutAttributes.height.min;P<C&&(P=C),I<W&&(I=W);var K=!R.width&&Math.abs(j.width-P)>1,J=!R.height&&Math.abs(j.height-I)>1;(J||K)&&(K&&(j.width=P),J&&(j.height=I)),G._initialAutoSize||(G._initialAutoSize={width:P,height:I}),y.sanitizeMargins(j)},y.supplyLayoutModuleDefaults=function(G,R,j,P){var I,Z,q,D=n.componentsRegistry,M=R._basePlotModules,H=n.subplotsRegistry.cartesian;for(I in D)(q=D[I]).includeBasePlot&&q.includeBasePlot(G,R);for(var C in M.length||M.push(H),R._has("cartesian")&&(n.getComponentMethod("grid","contentDefaults")(G,R),H.finalizeSubplots(G,R)),R._subplots)R._subplots[C].sort(i.subplotSort);for(Z=0;Z<M.length;Z++)(q=M[Z]).supplyLayoutDefaults&&q.supplyLayoutDefaults(G,R,j);var W=R._modules;for(Z=0;Z<W.length;Z++)(q=W[Z]).supplyLayoutDefaults&&q.supplyLayoutDefaults(G,R,j);var K=R._transformModules;for(Z=0;Z<K.length;Z++)(q=K[Z]).supplyLayoutDefaults&&q.supplyLayoutDefaults(G,R,j,P);for(I in D)(q=D[I]).supplyLayoutDefaults&&q.supplyLayoutDefaults(G,R,j)},y.purge=function(G){var R=G._fullLayout||{};void 0!==R._glcontainer&&(R._glcontainer.selectAll(".gl-canvas").remove(),R._glcontainer.remove(),R._glcanvas=null),R._modeBar&&R._modeBar.destroy(),G._transitionData&&(G._transitionData._interruptCallbacks&&(G._transitionData._interruptCallbacks.length=0),G._transitionData._animationRaf&&window.cancelAnimationFrame(G._transitionData._animationRaf)),i.clearThrottle(),i.clearResponsive(G),delete G.data,delete G.layout,delete G._fullData,delete G._fullLayout,delete G.calcdata,delete G.empty,delete G.fid,delete G.undoqueue,delete G.undonum,delete G.autoplay,delete G.changed,delete G._promises,delete G._redrawTimer,delete G._hmlumcount,delete G._hmpixcount,delete G._transitionData,delete G._transitioning,delete G._initialAutoSize,delete G._transitioningWithDuration,delete G._dragging,delete G._dragged,delete G._dragdata,delete G._hoverdata,delete G._snapshotInProgress,delete G._editing,delete G._mouseDownTime,delete G._legendMouseDownTime,G.removeAllListeners&&G.removeAllListeners()},y.style=function(G){var R,j=G._fullLayout._visibleModules,P=[];for(R=0;R<j.length;R++){var I=j[R];I.style&&i.pushUnique(P,I.style)}for(R=0;R<P.length;R++)P[R](G)},y.sanitizeMargins=function(G){if(G&&G.margin){var R,j=G.width,P=G.height,I=G.margin,q=P-(I.t+I.b);j-(I.l+I.r)<0&&(R=(j-1)/(I.l+I.r),I.l=Math.floor(R*I.l),I.r=Math.floor(R*I.r)),q<0&&(R=(P-1)/(I.t+I.b),I.t=Math.floor(R*I.t),I.b=Math.floor(R*I.b))}},y.clearAutoMarginIds=function(G){G._fullLayout._pushmarginIds={}},y.allowAutoMargin=function(G,R){G._fullLayout._pushmarginIds[R]=1},y.autoMargin=function(G,R,j){var P=G._fullLayout,I=P.width,Z=P.height,q=P.margin,D=i.constrain(I-q.l-q.r,2,64),M=i.constrain(Z-q.t-q.b,2,64),H=Math.max(0,I-D),C=Math.max(0,Z-M),W=P._pushmargin,K=P._pushmarginIds;if(!1!==q.autoexpand){if(j){var J=j.pad;if(void 0===J&&(J=Math.min(12,q.l,q.r,q.t,q.b)),H){var Q=(j.l+j.r)/H;Q>1&&(j.l/=Q,j.r/=Q)}if(C){var ut=(j.t+j.b)/C;ut>1&&(j.t/=ut,j.b/=ut)}W[R]={l:{val:void 0!==j.xl?j.xl:j.x,size:j.l+J},r:{val:void 0!==j.xr?j.xr:j.x,size:j.r+J},b:{val:void 0!==j.yb?j.yb:j.y,size:j.b+J},t:{val:void 0!==j.yt?j.yt:j.y,size:j.t+J}},K[R]=1}else delete W[R],delete K[R];if(!P._replotting)return y.doAutoMargin(G)}},y.doAutoMargin=function(G){var R=G._fullLayout,j=R.width,P=R.height;R._size||(R._size={}),N(R);var I=R._size,Z=R.margin,q=i.extendFlat({},I),D=Z.l,M=Z.r,H=Z.t,C=Z.b,W=R._pushmargin,K=R._pushmarginIds;if(!1!==R.margin.autoexpand){for(var J in W)K[J]||delete W[J];for(var Q in W.base={l:{val:0,size:D},r:{val:1,size:M},t:{val:1,size:H},b:{val:0,size:C}},W){var ut=W[Q].l||{},ct=W[Q].b||{},gt=ut.val,vt=ut.size,xt=ct.val,Tt=ct.size;for(var zt in W){if(e(vt)&&W[zt].r){var Et=W[zt].r.val,At=W[zt].r.size;if(Et>gt){var lt=(vt*Et+(At-j)*gt)/(Et-gt),rt=(At*(1-gt)+(vt-j)*(1-Et))/(Et-gt);lt+rt>D+M&&(D=lt,M=rt)}}if(e(Tt)&&W[zt].t){var dt=W[zt].t.val,mt=W[zt].t.size;if(dt>xt){var Dt=(Tt*dt+(mt-P)*xt)/(dt-xt),bt=(mt*(1-xt)+(Tt-P)*(1-dt))/(dt-xt);Dt+bt>C+H&&(C=Dt,H=bt)}}}}}var $t,wt=i.constrain(j-Z.l-Z.r,2,64),Ot=i.constrain(P-Z.t-Z.b,2,64),It=Math.max(0,j-wt),St=Math.max(0,P-Ot);if(It){var Nt=(D+M)/It;Nt>1&&(D/=Nt,M/=Nt)}if(St){var Vt=(C+H)/St;Vt>1&&(C/=Vt,H/=Vt)}if(I.l=Math.round(D),I.r=Math.round(M),I.t=Math.round(H),I.b=Math.round(C),I.p=Math.round(Z.pad),I.w=Math.round(j)-I.l-I.r,I.h=Math.round(P)-I.t-I.b,!R._replotting&&y.didMarginChange(q,I)){"_redrawFromAutoMarginCount"in R?R._redrawFromAutoMarginCount++:R._redrawFromAutoMarginCount=1;var Ct=3*(1+Object.keys(K).length);if(R._redrawFromAutoMarginCount<Ct)return n.call("_doPlot",G);R._size=q,i.warn("Too many auto-margin redraws.")}$t=f.list(G,"",!0),["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Xt){for(var de=0;de<$t.length;de++){var Kt=$t[de][Xt];Kt&&Kt()}})};var z=["l","r","t","b","p","w","h"];function U(G,R,j){var P=!1,Z=i.syncOrAsync([y.previousPromises,function(){if(G._transitionData)return G._transitioning=!1,function(q){var D=Promise.resolve();if(!q)return D;for(;q.length;)D=D.then(q.shift());return D}(G._transitionData._interruptCallbacks)},j.prepareFn,y.rehover,function(){return G.emit("plotly_transitioning",[]),new Promise(function(q){G._transitioning=!0,R.duration>0&&(G._transitioningWithDuration=!0),G._transitionData._interruptCallbacks.push(function(){P=!0}),j.redraw&&G._transitionData._interruptCallbacks.push(function(){return n.call("redraw",G)}),G._transitionData._interruptCallbacks.push(function(){G.emit("plotly_transitioninterrupted",[])});var D=0,M=0;function H(){return D++,function(){var C;M++,P||M!==D||(C=q,!G._transitionData||(function(W){if(W)for(;W.length;)W.shift()}(G._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(j.redraw)return n.call("redraw",G)}).then(function(){G._transitioning=!1,G._transitioningWithDuration=!1,G.emit("plotly_transitioned",[])}).then(C)))}}j.runFn(H),setTimeout(H())})}],G);return Z&&Z.then||(Z=Promise.resolve()),Z.then(function(){return G})}y.didMarginChange=function(G,R){for(var j=0;j<z.length;j++){var P=z[j],I=G[P],Z=R[P];if(!e(I)||Math.abs(Z-I)>1)return!0}return!1},y.graphJson=function(G,R,j,P,I,Z){(I&&R&&!G._fullData||I&&!R&&!G._fullLayout)&&y.supplyDefaults(G);var D=I?G._fullLayout:G.layout,M=(G._transitionData||{})._frames;function H(K,J){if("function"==typeof K)return J?"_function_":null;if(i.isPlainObject(K)){var Q,ut={};return Object.keys(K).sort().forEach(function(ct){if(-1===["_","["].indexOf(ct.charAt(0)))if("function"!=typeof K[ct]){if("keepdata"===j){if("src"===ct.substr(ct.length-3))return}else if("keepstream"===j){if("string"==typeof(Q=K[ct+"src"])&&Q.indexOf(":")>0&&!i.isPlainObject(K.stream))return}else if("keepall"!==j&&"string"==typeof(Q=K[ct+"src"])&&Q.indexOf(":")>0)return;ut[ct]=H(K[ct],J)}else J&&(ut[ct]="_function")}),ut}return Array.isArray(K)?K.map(function(ct){return H(ct,J)}):i.isTypedArray(K)?i.simpleMap(K,i.identity):i.isJSDate(K)?i.ms2DateTimeLocal(+K):K}var C={data:((I?G._fullData:G.data)||[]).map(function(K){var J=H(K);return R&&delete J.fit,J})};if(!R&&(C.layout=H(D),I)){var W=D._size;C.layout.computed={margin:{b:W.b,l:W.l,r:W.r,t:W.t}}}return M&&(C.frames=H(M)),Z&&(C.config=H(G._context,!0)),"object"===P?C:JSON.stringify(C)},y.modifyFrames=function(G,R){var j,P,I,Z=G._transitionData._frames,q=G._transitionData._frameHash;for(j=0;j<R.length;j++)switch((P=R[j]).type){case"replace":var D=(Z[P.index]||{}).name,M=(I=P.value).name;Z[P.index]=q[M]=I,M!==D&&(delete q[D],q[M]=I);break;case"insert":q[(I=P.value).name]=I,Z.splice(P.index,0,I);break;case"delete":delete q[(I=Z[P.index]).name],Z.splice(P.index,1)}return Promise.resolve()},y.computeFrame=function(G,R){var j,P,I,Z,q=G._transitionData._frameHash;if(!R)throw new Error("computeFrame must be given a string frame name");var D=q[R.toString()];if(!D)return!1;for(var M=[D],H=[D.name];D.baseframe&&(D=q[D.baseframe.toString()])&&-1===H.indexOf(D.name);)M.push(D),H.push(D.name);for(var C={};D=M.pop();)if(D.layout&&(C.layout=y.extendLayout(C.layout,D.layout)),D.data){if(C.data||(C.data=[]),!(P=D.traces))for(P=[],j=0;j<D.data.length;j++)P[j]=j;for(C.traces||(C.traces=[]),j=0;j<D.data.length;j++)null!=(I=P[j])&&(-1===(Z=C.traces.indexOf(I))&&(C.traces[Z=C.data.length]=I),C.data[Z]=y.extendTrace(C.data[Z],D.data[j]))}return C},y.recomputeFrameHash=function(G){for(var R=G._transitionData._frameHash={},j=G._transitionData._frames,P=0;P<j.length;P++){var I=j[P];I&&I.name&&(R[I.name]=I)}},y.extendObjectWithContainers=function(G,R,j){var P,I,Z,q,D,M,H,C=i.extendDeepNoArrays({},R||{}),W=i.expandObjectPaths(C),K={};if(j&&j.length)for(Z=0;Z<j.length;Z++)void 0===(I=(P=i.nestedProperty(W,j[Z])).get())?i.nestedProperty(K,j[Z]).set(null):(P.set(null),i.nestedProperty(K,j[Z]).set(I));if(G=i.extendDeepNoArrays(G||{},W),j&&j.length)for(Z=0;Z<j.length;Z++)if(M=i.nestedProperty(K,j[Z]).get()){for(H=(D=i.nestedProperty(G,j[Z])).get(),Array.isArray(H)||D.set(H=[]),q=0;q<M.length;q++){var J=M[q];H[q]=null===J?null:y.extendObjectWithContainers(H[q],J)}D.set(H)}return G},y.dataArrayContainers=["transforms","dimensions"],y.layoutArrayContainers=n.layoutArrayContainers,y.extendTrace=function(G,R){return y.extendObjectWithContainers(G,R,y.dataArrayContainers)},y.extendLayout=function(G,R){return y.extendObjectWithContainers(G,R,y.layoutArrayContainers)},y.transition=function(G,R,j,P,I,Z){var q={redraw:I.redraw},D={},M=[];return q.prepareFn=function(){for(var H=Array.isArray(R)?R.length:0,C=P.slice(0,H),W=0;W<C.length;W++){var K=C[W],J=G._fullData[K]._module;if(J){if(J.animatable){var Q=J.basePlotModule.name;D[Q]||(D[Q]=[]),D[Q].push(K)}G.data[C[W]]=y.extendTrace(G.data[C[W]],R[W])}}var ut=i.expandObjectPaths(i.extendDeepNoArrays({},j)),ct=/^[xy]axis[0-9]*$/;for(var gt in ut)ct.test(gt)&&delete ut[gt].range;y.extendLayout(G.layout,ut),delete G.calcdata,y.supplyDefaults(G),y.doCalcdata(G);var vt=i.expandObjectPaths(j);if(vt){var xt=G._fullLayout._plots;for(var Tt in xt){var zt=xt[Tt],Et=zt.xaxis,At=zt.yaxis,lt=Et.range.slice(),rt=At.range.slice(),dt=null,mt=null,Dt=null,bt=null;Array.isArray(vt[Et._name+".range"])?dt=vt[Et._name+".range"].slice():Array.isArray((vt[Et._name]||{}).range)&&(dt=vt[Et._name].range.slice()),Array.isArray(vt[At._name+".range"])?mt=vt[At._name+".range"].slice():Array.isArray((vt[At._name]||{}).range)&&(mt=vt[At._name].range.slice()),lt&&dt&&(Et.r2l(lt[0])!==Et.r2l(dt[0])||Et.r2l(lt[1])!==Et.r2l(dt[1]))&&(Dt={xr0:lt,xr1:dt}),rt&&mt&&(At.r2l(rt[0])!==At.r2l(mt[0])||At.r2l(rt[1])!==At.r2l(mt[1]))&&(bt={yr0:rt,yr1:mt}),(Dt||bt)&&M.push(i.extendFlat({plotinfo:zt},Dt,bt))}}return Promise.resolve()},q.runFn=function(H){var C,W,K=G._fullLayout._basePlotModules,J=M.length;if(j)for(W=0;W<K.length;W++)K[W].transitionAxes&&K[W].transitionAxes(G,M,Z,H);for(var Q in J?((C=i.extendFlat({},Z)).duration=0,delete D.cartesian):C=Z,D){var ut=D[Q];G._fullData[ut[0]]._module.basePlotModule.plot(G,ut,C,H)}},U(G,Z,q)},y.transitionFromReact=function(G,R,j,P){var I=G._fullLayout,Z=I.transition,q={},D=[];return q.prepareFn=function(){var M=I._plots;for(var H in q.redraw=!1,"some"===R.anim&&(q.redraw=!0),"some"===j.anim&&(q.redraw=!0),M){var C=M[H],W=C.xaxis,K=C.yaxis,J=P[W._name].range.slice(),Q=P[K._name].range.slice(),ut=W.range.slice(),ct=K.range.slice();W.setScale(),K.setScale();var gt=null,vt=null;W.r2l(J[0])===W.r2l(ut[0])&&W.r2l(J[1])===W.r2l(ut[1])||(gt={xr0:J,xr1:ut}),K.r2l(Q[0])===K.r2l(ct[0])&&K.r2l(Q[1])===K.r2l(ct[1])||(vt={yr0:Q,yr1:ct}),(gt||vt)&&D.push(i.extendFlat({plotinfo:C},gt,vt))}return Promise.resolve()},q.runFn=function(M){for(var H,C,W,K=G._fullData,J=G._fullLayout._basePlotModules,Q=[],ut=0;ut<K.length;ut++)Q.push(ut);function ct(){if(G._fullLayout)for(var vt=0;vt<J.length;vt++)J[vt].transitionAxes&&J[vt].transitionAxes(G,D,H,M)}function gt(){if(G._fullLayout)for(var vt=0;vt<J.length;vt++)J[vt].plot(G,W,C,M)}D.length&&R.anim?"traces first"===Z.ordering?(H=i.extendFlat({},Z,{duration:0}),W=Q,C=Z,setTimeout(ct,Z.duration),gt()):(H=Z,W=null,C=i.extendFlat({},Z,{duration:0}),setTimeout(gt,H.duration),ct()):D.length?(H=Z,ct()):R.anim&&(W=Q,C=Z,gt())},U(G,Z,q)},y.doCalcdata=function(G,R){var j,P,I,Z,q=f.list(G),D=G._fullData,M=G._fullLayout,H=new Array(D.length),C=(G.calcdata||[]).slice();for(G.calcdata=H,M._numBoxes=0,M._numViolins=0,M._violinScaleGroupStats={},G._hmpixcount=0,G._hmlumcount=0,M._piecolormap={},M._sunburstcolormap={},M._treemapcolormap={},M._iciclecolormap={},M._funnelareacolormap={},I=0;I<D.length;I++)Array.isArray(R)&&-1===R.indexOf(I)&&(H[I]=C[I]);for(I=0;I<D.length;I++)(j=D[I])._arrayAttrs=s.findArrayAttributes(j),j._extremes={};var W=M._subplots.polar||[];for(I=0;I<W.length;I++)q.push(M[W[I]].radialaxis,M[W[I]].angularaxis);for(var K in M._colorAxes){var J=M[K];!1!==J.cauto&&(delete J.cmin,delete J.cmax)}var Q=!1;function ut(vt){if(P=(j=D[vt])._module,!0===j.visible&&j.transforms){if(P&&P.calc){var xt=P.calc(G,j);xt[0]&&xt[0].t&&xt[0].t._scene&&delete xt[0].t._scene.dirty}for(Z=0;Z<j.transforms.length;Z++){var Tt=j.transforms[Z];(P=A[Tt.type])&&P.calcTransform&&(j._hasCalcTransform=!0,Q=!0,P.calcTransform(G,j,Tt))}}}function ct(vt,xt){if(!!(P=(j=D[vt])._module).isContainer===xt){var Tt=[];if(!0===j.visible&&0!==j._length){delete j._indexToPoints;var zt=j.transforms||[];for(Z=zt.length-1;Z>=0;Z--)if(zt[Z].enabled){j._indexToPoints=zt[Z]._indexToPoints;break}P&&P.calc&&(Tt=P.calc(G,j))}Array.isArray(Tt)&&Tt[0]||(Tt=[{x:d,y:d}]),Tt[0].t||(Tt[0].t={}),Tt[0].trace=j,H[vt]=Tt}}for($(q,D,M),I=0;I<D.length;I++)ct(I,!0);for(I=0;I<D.length;I++)ut(I);for(Q&&$(q,D,M),I=0;I<D.length;I++)ct(I,!0);for(I=0;I<D.length;I++)ct(I,!1);ot(G);var gt=function(vt,xt){var Tt,zt,Et,At,lt,rt=[];function dt(le,nt,it){var Lt=nt._id.charAt(0);if("histogram2dcontour"===le){var Pt=nt._counterAxes[0],Bt=f.getFromId(xt,Pt),Rt="x"===Lt||"x"===Pt&&"category"===Bt.type,jt="y"===Lt||"y"===Pt&&"category"===Bt.type;return function(Ut,ee){return 0===Ut||0===ee||Rt&&Ut===it[ee].length-1||jt&&ee===it.length-1?-1:("y"===Lt?ee:Ut)-1}}return function(Ut,ee){return"y"===Lt?ee:Ut}}var mt={min:function(le){return i.aggNums(Math.min,null,le)},max:function(le){return i.aggNums(Math.max,null,le)},sum:function(le){return i.aggNums(function(nt,it){return nt+it},null,le)},total:function(le){return i.aggNums(function(nt,it){return nt+it},null,le)},mean:function(le){return i.mean(le)},median:function(le){return i.median(le)}};for(Tt=0;Tt<vt.length;Tt++){var Dt=vt[Tt];if("category"===Dt.type){var bt=Dt.categoryorder.match(Y);if(bt){var wt=bt[1],Ot=bt[2],It=Dt._id.charAt(0),St="x"===It,Nt=[];for(zt=0;zt<Dt._categories.length;zt++)Nt.push([Dt._categories[zt],[]]);for(zt=0;zt<Dt._traceIndices.length;zt++){var Vt=Dt._traceIndices[zt],Ct=xt._fullData[Vt];if(!0===Ct.visible){var Gt=Ct.type;n.traceIs(Ct,"histogram")&&(delete Ct._xautoBinFinished,delete Ct._yautoBinFinished);var $t="splom"===Gt,Xt="scattergl"===Gt,de=xt.calcdata[Vt];for(Et=0;Et<de.length;Et++){var Kt,kt,Mt=de[Et];if($t){var qt=Ct._axesDim[Dt._id];if(!St){var ce=Ct._diag[qt][0];ce&&(Dt=xt._fullLayout[f.id2name(ce)])}var Te=Mt.trace.dimensions[qt].values;for(At=0;At<Te.length;At++)for(Kt=Dt._categoriesMap[Te[At]],lt=0;lt<Mt.trace.dimensions.length;lt++)lt!==qt&&Nt[Kt][1].push(Mt.trace.dimensions[lt].values[At])}else if(Xt){for(At=0;At<Mt.t.x.length;At++)St?(Kt=Mt.t.x[At],kt=Mt.t.y[At]):(Kt=Mt.t.y[At],kt=Mt.t.x[At]),Nt[Kt][1].push(kt);Mt.t&&Mt.t._scene&&delete Mt.t._scene.dirty}else if(Mt.hasOwnProperty("z")){var xe=dt(Ct.type,Dt,kt=Mt.z);for(At=0;At<kt.length;At++)for(lt=0;lt<kt[At].length;lt++)(Kt=xe(lt,At))+1&&Nt[Kt][1].push(kt[At][lt])}else for(void 0===(Kt=Mt.p)&&(Kt=Mt[It]),void 0===(kt=Mt.s)&&(kt=Mt.v),void 0===kt&&(kt=St?Mt.y:Mt.x),Array.isArray(kt)||(kt=void 0===kt?[]:[kt]),At=0;At<kt.length;At++)Nt[Kt][1].push(kt[At])}}}Dt._categoriesValue=Nt;var ye=[];for(zt=0;zt<Nt.length;zt++)ye.push([Nt[zt][0],mt[wt](Nt[zt][1])]);ye.sort(function(le,nt){return le[1]-nt[1]}),Dt._categoriesAggregatedValue=ye,Dt._initialCategories=ye.map(function(le){return le[0]}),"descending"===Ot&&Dt._initialCategories.reverse(),rt=rt.concat(Dt.sortByInitialCategories())}}}return rt}(q,G);if(gt.length){for(M._numBoxes=0,M._numViolins=0,I=0;I<gt.length;I++)ct(gt[I],!0);for(I=0;I<gt.length;I++)ct(gt[I],!1);ot(G)}n.getComponentMethod("fx","calc")(G),n.getComponentMethod("errorbars","calc")(G)};var Y=/(total|sum|min|max|mean|median) (ascending|descending)/;function $(G,R,j){var P={};function I(M){M.clearCalc(),"multicategory"===M.type&&M.setupMultiCategory(R),P[M._id]=1}i.simpleMap(G,I);for(var Z=j._axisMatchGroups||[],q=0;q<Z.length;q++)for(var D in Z[q])P[D]||I(j[f.id2name(D)])}function ot(G){var R,j,P,I=G._fullLayout,Z=I._visibleModules,q={};for(j=0;j<Z.length;j++){var D=Z[j],M=D.crossTraceCalc;if(M){var H=D.basePlotModule.name;q[H]?i.pushUnique(q[H],M):q[H]=[M]}}for(P in q){var C=q[P],W=I._subplots[P];if(Array.isArray(W))for(R=0;R<W.length;R++){var K=W[R],J="cartesian"===P?I._plots[K]:I[K];for(j=0;j<C.length;j++)C[j](G,J,K)}else for(j=0;j<C.length;j++)C[j](G)}}y.rehover=function(G){G._fullLayout._rehover&&G._fullLayout._rehover()},y.redrag=function(G){G._fullLayout._redrag&&G._fullLayout._redrag()},y.generalUpdatePerTraceModule=function(G,R,j,P){var I,Z=R.traceHash,q={};for(I=0;I<j.length;I++){var D=j[I],M=D[0].trace;M.visible&&(q[M.type]=q[M.type]||[],q[M.type].push(D))}for(var H in Z)if(!q[H]){var C=Z[H][0];C[0].trace.visible=!1,q[H]=[C]}for(var W in q){var K=q[W];K[0][0].trace._module.plot(G,R,i.filterVisible(K),P)}R.traceHash=q},y.plotBasePlot=function(G,R,j,P,I){var Z=n.getModule(G),q=w(R.calcdata,Z)[0];Z.plot(R,q,P,I)},y.cleanBasePlot=function(G,R,j,P,I){var Z=I._has&&I._has(G),q=j._has&&j._has(G);Z&&!q&&I["_"+G+"layer"].selectAll("g.trace").remove()}},{"../components/color":102,"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plot_api/plot_template":268,"../plots/get_data":312,"../registry":318,"./animation_attributes":273,"./attributes":275,"./cartesian/axis_ids":283,"./cartesian/handle_outline":290,"./command":308,"./font_attributes":310,"./frame_attributes":311,"./layout_attributes":314,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],317:[function(c,tt,B){"use strict";function l(o){var e=o.description?" "+o.description:"",n=o.keys||[];if(n.length>0){for(var s=[],a=0;a<n.length;a++)s[a]="`"+n[a]+"`";e+="Finally, the template string has access to ",e=1===n.length?"variable "+s[0]:"variables "+s.slice(0,-1).join(", ")+" and "+s.slice(-1)+"."}return e}c("../constants/docs"),B.hovertemplateAttrs=function(o,e){o=o||{},l(e=e||{});var n={valType:"string",dflt:"",editType:o.editType||"none"};return!1!==o.arrayOk&&(n.arrayOk=!0),n},B.texttemplateAttrs=function(o,e){o=o||{},l(e=e||{});var n={valType:"string",dflt:"",editType:o.editType||"calc"};return!1!==o.arrayOk&&(n.arrayOk=!0),n}},{"../constants/docs":209}],318:[function(c,tt,B){"use strict";var t=c("./lib/loggers"),l=c("./lib/noop"),o=c("./lib/push_unique"),e=c("./lib/is_plain_object"),n=c("./lib/dom").addStyleRule,s=c("./lib/extend"),a=c("./plots/attributes"),i=c("./plots/layout_attributes"),r=s.extendFlat,d=s.extendDeepAll;function f(b){var k=b.name,L=b.categories,g=b.meta;if(B.modules[k])t.log("Type "+k+" already registered");else{B.subplotsRegistry[b.basePlotModule.name]||function(Y){var $=Y.name;if(B.subplotsRegistry[$])t.log("Plot type "+$+" already registered.");else for(var ot in w(Y),B.subplotsRegistry[$]=Y,B.componentsRegistry)y(ot,Y.name)}(b.basePlotModule);for(var S={},E=0;E<L.length;E++)S[L[E]]=!0,B.allCategories[L[E]]=!0;for(var v in B.modules[k]={_module:b,categories:S},g&&Object.keys(g).length&&(B.modules[k].meta=g),B.allTypes.push(k),B.componentsRegistry)x(v,k);b.layoutAttributes&&r(B.traceLayoutAttributes,b.layoutAttributes);var F=b.basePlotModule,N=F.name;if("mapbox"===N){var z=F.constants.styleRules;for(var U in z)n(".js-plotly-plot .plotly .mapboxgl-"+U,z[U])}"geo"!==N&&"mapbox"!==N||void 0===typeof window||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function h(b){if("string"!=typeof b.name)throw new Error("Component module *name* must be a string.");var k=b.name;for(var L in B.componentsRegistry[k]=b,b.layoutAttributes&&(b.layoutAttributes._isLinkedToArray&&o(B.layoutArrayContainers,k),w(b)),B.modules)x(k,L);for(var g in B.subplotsRegistry)y(k,g);for(var S in B.transformsRegistry)m(k,S);b.schema&&b.schema.layout&&d(i,b.schema.layout)}function p(b){if("string"!=typeof b.name)throw new Error("Transform module *name* must be a string.");var k="Transform module "+b.name,L="function"==typeof b.transform,g="function"==typeof b.calcTransform;if(!L&&!g)throw new Error(k+" is missing a *transform* or *calcTransform* method.");for(var S in L&&g&&t.log([k+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),e(b.attributes)||t.log(k+" registered without an *attributes* object."),"function"!=typeof b.supplyDefaults&&t.log(k+" registered without a *supplyDefaults* method."),B.transformsRegistry[b.name]=b,B.componentsRegistry)m(S,b.name)}function T(b){var k=b.name,L=k.split("-")[0],g=b.dictionary,S=b.format,E=g&&Object.keys(g).length,v=S&&Object.keys(S).length,F=B.localeRegistry,N=F[k];if(N||(F[k]=N={}),L!==k){var z=F[L];z||(F[L]=z={}),E&&z.dictionary===N.dictionary&&(z.dictionary=g),v&&z.format===N.format&&(z.format=S)}E&&(N.dictionary=g),v&&(N.format=S)}function w(b){if(b.layoutAttributes){var k=b.layoutAttributes._arrayAttrRegexps;if(k)for(var L=0;L<k.length;L++)o(B.layoutArrayRegexes,k[L])}}function x(b,k){var L=B.componentsRegistry[b].schema;if(L&&L.traces){var g=L.traces[k];g&&d(B.modules[k]._module.attributes,g)}}function m(b,k){var L=B.componentsRegistry[b].schema;if(L&&L.transforms){var g=L.transforms[k];g&&d(B.transformsRegistry[k].attributes,g)}}function y(b,k){var L=B.componentsRegistry[b].schema;if(L&&L.subplots){var g=B.subplotsRegistry[k],S=g.layoutAttributes,E="subplot"===g.attr?g.name:g.attr;Array.isArray(E)&&(E=E[0]);var v=L.subplots[E];S&&v&&d(S,v)}}function A(b){return"object"==typeof b&&(b=b.type),b}B.modules={},B.allCategories={},B.allTypes=[],B.subplotsRegistry={},B.transformsRegistry={},B.componentsRegistry={},B.layoutArrayContainers=[],B.layoutArrayRegexes=[],B.traceLayoutAttributes={},B.localeRegistry={},B.apiMethodRegistry={},B.collectableSubplotTypes=null,B.register=function(b){if(B.collectableSubplotTypes=null,!b)throw new Error("No argument passed to Plotly.register.");b&&!Array.isArray(b)&&(b=[b]);for(var k=0;k<b.length;k++){var L=b[k];if(!L)throw new Error("Invalid module was attempted to be registered!");switch(L.moduleType){case"trace":f(L);break;case"transform":p(L);break;case"component":h(L);break;case"locale":T(L);break;case"apiMethod":B.apiMethodRegistry[L.name]=L.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},B.getModule=function(b){var k=B.modules[A(b)];return!!k&&k._module},B.traceIs=function(b,k){if("various"===(b=A(b)))return!1;var L=B.modules[b];return L||(b&&t.log("Unrecognized trace type "+b+"."),L=B.modules[a.type.dflt]),!!L.categories[k]},B.getTransformIndices=function(b,k){for(var L=[],g=b.transforms||[],S=0;S<g.length;S++)g[S].type===k&&L.push(S);return L},B.hasTransform=function(b,k){for(var L=b.transforms||[],g=0;g<L.length;g++)if(L[g].type===k)return!0;return!1},B.getComponentMethod=function(b,k){var L=B.componentsRegistry[b];return L&&L[k]||l},B.call=function(){var b=arguments[0],k=[].slice.call(arguments,1);return B.apiMethodRegistry[b].apply(null,k)}},{"./lib/dom":224,"./lib/extend":226,"./lib/is_plain_object":233,"./lib/loggers":236,"./lib/noop":241,"./lib/push_unique":246,"./plots/attributes":275,"./plots/layout_attributes":314}],319:[function(c,tt,B){"use strict";var t=c("../registry"),l=c("../lib"),o=l.extendFlat,e=l.extendDeep;function n(s){var a;switch(s){case"themes__thumb":a={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":a={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:a={}}return a}tt.exports=function(s,a){var i,f=s.layout,h=e([],s.data),p=e({},f,n(a.tileClass)),T=s._context||{};if(a.width&&(p.width=a.width),a.height&&(p.height=a.height),"thumbnail"===a.tileClass||"themes__thumb"===a.tileClass){p.annotations=[];var w=Object.keys(p);for(i=0;i<w.length;i++)["xaxis","yaxis","zaxis"].indexOf(w[i].slice(0,5))>-1&&(p[w[i]].title={text:""});for(i=0;i<h.length;i++){var x=h[i];x.showscale=!1,x.marker&&(x.marker.showscale=!1),t.traceIs(x,"pie-like")&&(x.textposition="none")}}if(Array.isArray(a.annotations))for(i=0;i<a.annotations.length;i++)p.annotations.push(a.annotations[i]);var m=Object.keys(p).filter(function(L){return L.match(/^scene\d*$/)});if(m.length){var y={};for("thumbnail"===a.tileClass&&(y={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),i=0;i<m.length;i++){var A=p[m[i]];A.xaxis||(A.xaxis={}),A.yaxis||(A.yaxis={}),A.zaxis||(A.zaxis={}),o(A.xaxis,y),o(A.yaxis,y),o(A.zaxis,y),A._scene=null}}var b=document.createElement("div");a.tileClass&&(b.className=a.tileClass);var k={gd:b,td:b,layout:p,data:h,config:{staticPlot:void 0===a.staticPlot||a.staticPlot,plotGlPixelRatio:void 0===a.plotGlPixelRatio?2:a.plotGlPixelRatio,displaylogo:a.displaylogo||!1,showLink:a.showLink||!1,showTips:a.showTips||!1,mapboxAccessToken:T.mapboxAccessToken}};return"transparent"!==a.setBackground&&(k.config.setBackground=a.setBackground||"opaque"),k.gd.defaultLayout=n(a.tileClass),k}},{"../lib":232,"../registry":318}],320:[function(c,tt,B){"use strict";var t=c("../lib"),l=c("../plot_api/to_image"),o=c("./filesaver"),e=c("./helpers");tt.exports=function(n,s){var a;return t.isPlainObject(n)||(a=t.getGraphDiv(n)),(s=s||{}).format=s.format||"png",s.width=s.width||null,s.height=s.height||null,s.imageDataOnly=!0,new Promise(function(i,r){a&&a._snapshotInProgress&&r(new Error("Snapshotting already in progress.")),t.isIE()&&"svg"!==s.format&&r(new Error(e.MSG_IE_BAD_FORMAT)),a&&(a._snapshotInProgress=!0);var d=l(n,s),f=s.filename||n.fn||"newplot";f+="."+s.format.replace("-","."),d.then(function(h){return a&&(a._snapshotInProgress=!1),o(h,f,s.format)}).then(function(h){i(h)}).catch(function(h){a&&(a._snapshotInProgress=!1),r(h)})})}},{"../lib":232,"../plot_api/to_image":271,"./filesaver":321,"./helpers":322}],321:[function(c,tt,B){"use strict";var t=c("../lib"),l=c("./helpers");tt.exports=function(o,e,n){var s=document.createElement("a"),a="download"in s;return new Promise(function(i,r){var d,f;return t.isIE()?(d=l.createBlob(o,"svg"),window.navigator.msSaveBlob(d,e),d=null,i(e)):a?(d=l.createBlob(o,n),f=l.createObjectURL(d),s.href=f,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),l.revokeObjectURL(f),d=null,i(e)):t.isSafari()?(l.octetStream(("svg"===n?",":";base64,")+encodeURIComponent(o)),i(e)):void r(new Error("download error"))})}},{"../lib":232,"./helpers":322}],322:[function(c,tt,B){"use strict";var t=c("../registry");B.getDelay=function(o){return o._has&&(o._has("gl3d")||o._has("gl2d")||o._has("mapbox"))?500:0},B.getRedrawFunc=function(o){return function(){t.getComponentMethod("colorbar","draw")(o)}},B.encodeSVG=function(o){return"data:image/svg+xml,"+encodeURIComponent(o)},B.encodeJSON=function(o){return"data:application/json,"+encodeURIComponent(o)};var l=window.URL||window.webkitURL;B.createObjectURL=function(o){return l.createObjectURL(o)},B.revokeObjectURL=function(o){return l.revokeObjectURL(o)},B.createBlob=function(o,e){if("svg"===e)return new window.Blob([o],{type:"image/svg+xml;charset=utf-8"});if("full-json"===e)return new window.Blob([o],{type:"application/json;charset=utf-8"});var n=function(s){for(var a=s.length,i=new ArrayBuffer(a),r=new Uint8Array(i),d=0;d<a;d++)r[d]=s.charCodeAt(d);return i}(window.atob(o));return new window.Blob([n],{type:"image/"+e})},B.octetStream=function(o){document.location.href="data:application/octet-stream"+o},B.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,B.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":318}],323:[function(c,tt,B){"use strict";var t=c("./helpers"),l={getDelay:t.getDelay,getRedrawFunc:t.getRedrawFunc,clone:c("./cloneplot"),toSVG:c("./tosvg"),svgToImg:c("./svgtoimg"),toImage:c("./toimage"),downloadImage:c("./download")};tt.exports=l},{"./cloneplot":319,"./download":320,"./helpers":322,"./svgtoimg":324,"./toimage":325,"./tosvg":326}],324:[function(c,tt,B){"use strict";var t=c("../lib"),l=c("events").EventEmitter,o=c("./helpers");tt.exports=function(e){var n=e.emitter||new l,s=new Promise(function(a,i){var r=window.Image,d=e.svg,f=e.format||"png";if(t.isIE()&&"svg"!==f){var h=new Error(o.MSG_IE_BAD_FORMAT);return i(h),e.promise?s:n.emit("error",h)}var p,T,w=e.canvas,x=e.scale||1,A=x*(e.width||300),b=x*(e.height||150),k=w.getContext("2d",{willReadFrequently:!0}),L=new r;"svg"===f||t.isSafari()?T=o.encodeSVG(d):(p=o.createBlob(d,"svg"),T=o.createObjectURL(p)),w.width=A,w.height=b,L.onload=function(){var g;switch(p=null,o.revokeObjectURL(T),"svg"!==f&&k.drawImage(L,0,0,A,b),f){case"jpeg":g=w.toDataURL("image/jpeg");break;case"png":g=w.toDataURL("image/png");break;case"webp":g=w.toDataURL("image/webp");break;case"svg":g=T;break;default:var S="Image format is not jpeg, png, svg or webp.";if(i(new Error(S)),!e.promise)return n.emit("error",S)}a(g),e.promise||n.emit("success",g)},L.onerror=function(g){if(p=null,o.revokeObjectURL(T),i(g),!e.promise)return n.emit("error",g)},L.src=T});return e.promise?s:n}},{"../lib":232,"./helpers":322,events:12}],325:[function(c,tt,B){"use strict";var t=c("events").EventEmitter,l=c("../registry"),o=c("../lib"),e=c("./helpers"),n=c("./cloneplot"),s=c("./tosvg"),a=c("./svgtoimg");tt.exports=function(i,r){var d=new t,f=n(i,{format:"png"}),h=f.gd;h.style.position="absolute",h.style.left="-5000px",document.body.appendChild(h);var p=e.getRedrawFunc(h);return l.call("_doPlot",h,f.data,f.layout,f.config).then(p).then(function(){var T=e.getDelay(h._fullLayout);setTimeout(function(){var w=s(h),x=document.createElement("canvas");x.id=o.randstr(),(d=a({format:r.format,width:h._fullLayout.width,height:h._fullLayout.height,canvas:x,emitter:d,svg:w})).clean=function(){h&&document.body.removeChild(h)}},T)}).catch(function(T){d.emit("error",T)}),d}},{"../lib":232,"../registry":318,"./cloneplot":319,"./helpers":322,"./svgtoimg":324,"./tosvg":326,events:12}],326:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../lib"),o=c("../components/drawing"),e=c("../components/color"),n=c("../constants/xmlns_namespaces"),s=/"/g,a=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");tt.exports=function(i,r,d){var f,h=i._fullLayout,p=h._paper,T=h._toppaper,w=h.width,x=h.height;p.insert("rect",":first-child").call(o.setRect,0,0,w,x).call(e.fill,h.paper_bgcolor);var m=h._basePlotModules||[];for(f=0;f<m.length;f++){var y=m[f];y.toSVG&&y.toSVG(i)}if(T){var A=T.node().childNodes,b=Array.prototype.slice.call(A);for(f=0;f<b.length;f++){var k=b[f];k.childNodes.length&&p.node().appendChild(k)}}h._draggers&&h._draggers.remove(),p.node().style.background="",p.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var g=t.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){g.style({visibility:null,display:null});var S=this.style.fontFamily;S&&-1!==S.indexOf('"')&&g.style("font-family",S.replace(s,"TOBESTRIPPED"))}else g.remove()}),p.selectAll(".gradient_filled,.pattern_filled").each(function(){var g=t.select(this),S=this.style.fill;S&&-1!==S.indexOf("url(")&&g.style("fill",S.replace(s,"TOBESTRIPPED"));var E=this.style.stroke;E&&-1!==E.indexOf("url(")&&g.style("stroke",E.replace(s,"TOBESTRIPPED"))}),"pdf"!==r&&"eps"!==r||p.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),p.node().setAttributeNS(n.xmlns,"xmlns",n.svg),p.node().setAttributeNS(n.xmlns,"xmlns:xlink",n.xlink),"svg"===r&&d&&(p.attr("width",d*w),p.attr("height",d*x),p.attr("viewBox","0 0 "+w+" "+x));var g,S,E,L=(new window.XMLSerializer).serializeToString(p.node());return g=L,S=t.select("body").append("div").style({display:"none"}).html(""),E=g.replace(/(&[^;]*;)/gi,function(v){return"&lt;"===v?"&#60;":"&rt;"===v?"&#62;":-1!==v.indexOf("<")||-1!==v.indexOf(">")?"":S.html(v).text()}),S.remove(),L=(L=(L=E).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(a,"'"),l.isIE()&&(L=(L=(L=L.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),L}},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],327:[function(c,tt,B){"use strict";var t=c("../../lib");tt.exports=function(l,o){for(var e=0;e<l.length;e++)l[e].i=e;t.mergeArray(o.text,l,"tx"),t.mergeArray(o.hovertext,l,"htx");var n=o.marker;if(n){t.mergeArray(n.opacity,l,"mo",!0),t.mergeArray(n.color,l,"mc");var s=n.line;s&&(t.mergeArray(s.color,l,"mlc"),t.mergeArrayCastPositive(s.width,l,"mlw"))}}},{"../../lib":232}],328:[function(c,tt,B){"use strict";var t=c("../scatter/attributes"),l=c("../../plots/cartesian/axis_format_attributes").axisHoverFormat,o=c("../../plots/template_attributes").hovertemplateAttrs,e=c("../../plots/template_attributes").texttemplateAttrs,n=c("../../components/colorscale/attributes"),s=c("../../plots/font_attributes"),a=c("./constants"),i=c("../../components/drawing/attributes").pattern,r=c("../../lib/extend").extendFlat,d=s({editType:"calc",arrayOk:!0,colorEditType:"style"}),f=r({},t.marker.line.width,{dflt:0}),h=r({width:f,editType:"calc"},n("marker.line")),p=r({line:h,editType:"calc"},n("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:i});tt.exports={x:t.x,x0:t.x0,dx:t.dx,y:t.y,y0:t.y0,dy:t.dy,xperiod:t.xperiod,yperiod:t.yperiod,xperiod0:t.xperiod0,yperiod0:t.yperiod0,xperiodalignment:t.xperiodalignment,yperiodalignment:t.yperiodalignment,xhoverformat:l("x"),yhoverformat:l("y"),text:t.text,texttemplate:e({editType:"plot"},{keys:a.eventDataKeys}),hovertext:t.hovertext,hovertemplate:o({},{keys:a.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:r({},d,{}),insidetextfont:r({},d,{}),outsidetextfont:r({},d,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:r({},t.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:p,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:t.selected.marker.opacity,color:t.selected.marker.color,editType:"style"},textfont:t.selected.textfont,editType:"style"},unselected:{marker:{opacity:t.unselected.marker.opacity,color:t.unselected.marker.color,editType:"style"},textfont:t.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorscale/attributes":109,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":310,"../../plots/template_attributes":317,"../scatter/attributes":358,"./constants":330}],329:[function(c,tt,B){"use strict";var t=c("../../plots/cartesian/axes"),l=c("../../plots/cartesian/align_period"),o=c("../../components/colorscale/helpers").hasColorscale,e=c("../../components/colorscale/calc"),n=c("./arrays_to_calcdata"),s=c("../scatter/calc_selection");tt.exports=function(a,i){var r,d,f,h,p,T,w=t.getFromId(a,i.xaxis||"x"),x=t.getFromId(a,i.yaxis||"y"),m={msUTC:!(!i.base&&0!==i.base)};"h"===i.orientation?(r=w.makeCalcdata(i,"x",m),f=x.makeCalcdata(i,"y"),h=l(i,x,"y",f),p=!!i.yperiodalignment,T="y"):(r=x.makeCalcdata(i,"y",m),f=w.makeCalcdata(i,"x"),h=l(i,w,"x",f),p=!!i.xperiodalignment,T="x"),d=h.vals;for(var y=Math.min(d.length,r.length),A=new Array(y),b=0;b<y;b++)A[b]={p:d[b],s:r[b]},p&&(A[b].orig_p=f[b],A[b][T+"End"]=h.ends[b],A[b][T+"Start"]=h.starts[b]),i.ids&&(A[b].id=String(i.ids[b]));return o(i,"marker")&&e(a,i,{vals:i.marker.color,containerStr:"marker",cLetter:"c"}),o(i,"marker.line")&&e(a,i,{vals:i.marker.line.color,containerStr:"marker.line",cLetter:"c"}),n(A,i),s(A,i),A}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"../scatter/calc_selection":360,"./arrays_to_calcdata":327}],330:[function(c,tt,B){"use strict";tt.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},{}],331:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("../../lib").isArrayOrTypedArray,o=c("../../constants/numerical").BADNUM,e=c("../../registry"),n=c("../../plots/cartesian/axes"),s=c("../../plots/cartesian/constraints").getAxisGroup,a=c("./sieve.js");function i(y,A,b,k,L){if(k.length){var g,S,E,v;switch(function(F,N){var z,U;for(z=0;z<N.length;z++){var Y,$=N[z],ot=$[0].trace,G="funnel"===ot.type?ot._base:ot.base,R="h"===ot.orientation?ot.xcalendar:ot.ycalendar,j="category"===F.type||"multicategory"===F.type?function(){return null}:F.d2c;if(l(G)){for(U=0;U<Math.min(G.length,$.length);U++)Y=j(G[U],0,R),t(Y)?($[U].b=+Y,$[U].hasB=1):$[U].b=0;for(;U<$.length;U++)$[U].b=0}else{Y=j(G,0,R);var P=t(Y);for(Y=P?Y:0,U=0;U<$.length;U++)$[U].b=Y,P&&($[U].hasB=1)}}}(b,k),L.mode){case"overlay":r(A,b,k,L);break;case"group":for(g=[],S=[],E=0;E<k.length;E++)void 0===(v=k[E])[0].trace.offset?S.push(v):g.push(v);S.length&&(F=y,z=b,$=new a(S,{posAxis:N=A,sepNegVal:!1,overlapNoMerge:!(Y=L).norm}),function(ot,G,R,j){for(var P=ot._fullLayout,q=R.minDiff,D=R.traces,M=D.length,H=R.positions.length!==R.distinctPositions.length,C=q*(1-j.gap),W=s(P,G._id)+D[0][0].trace.orientation,K=P._alignmentOpts[W]||{},J=0;J<M;J++){var Q,ut,ct=D[J],gt=ct[0].trace,xt=Object.keys((K[gt.alignmentgroup]||{}).offsetGroups||{}).length,Tt=(Q=xt?C/xt:H?C/M:C)*(1-(j.groupgap||0));ut=xt?((2*gt._offsetIndex+1-xt)*Q-Tt)/2:H?((2*J+1-M)*Q-Tt)/2:-Tt/2;var zt=ct[0].t;zt.barwidth=Tt,zt.poffset=ut,zt.bargroupwidth=C,zt.bardelta=q}R.binWidth=D[0][0].t.barwidth/100,f(R),h(G,R),p(G,R,H)}(F,N,$,Y),function(ot,G){for(var R=ot.traces,j=0;j<R.length;j++){var P=R[j];if(void 0===P[0].trace.base)for(var I=new a([P],{posAxis:G,sepNegVal:!0,overlapNoMerge:!0}),Z=0;Z<P.length;Z++){var q=P[Z];if(q.p!==o){var D=I.put(q.p,q.b+q.s);D&&(q.b=D)}}}}($,N),Y.norm?(w($),x(z,$,Y)):T(z,$)),g.length&&r(A,b,g,L);break;case"stack":case"relative":for(g=[],S=[],E=0;E<k.length;E++)void 0===(v=k[E])[0].trace.base?S.push(v):g.push(v);S.length&&function(F,N,z,U,Y){var $=new a(U,{posAxis:N,sepNegVal:"relative"===Y.mode,overlapNoMerge:!(Y.norm||"stack"===Y.mode||"relative"===Y.mode)});d(N,$,Y),function(P,I,Z){var q,D,M,H,C,W,K=m(P),J=I.traces;for(H=0;H<J.length;H++)if("funnel"===(D=(q=J[H])[0].trace).type)for(C=0;C<q.length;C++)(W=q[C]).s!==o&&I.put(W.p,-.5*W.s);for(H=0;H<J.length;H++){M="funnel"===(D=(q=J[H])[0].trace).type;var Q=[];for(C=0;C<q.length;C++)if((W=q[C]).s!==o){var ut,ct=I.put(W.p,ut=M?W.s:W.s+W.b),gt=ct+ut;W.b=ct,W[K]=gt,Z.norm||(Q.push(gt),W.hasB&&Q.push(ct))}Z.norm||(D._extremes[P._id]=n.findExtremes(P,Q,{tozero:!0,padded:!0}))}}(z,$,Y);for(var ot=0;ot<U.length;ot++)for(var G=U[ot],R=0;R<G.length;R++){var j=G[R];j.s!==o&&j.b+j.s===$.get(j.p,j.s)&&(j._outmost=!0)}Y.norm&&x(z,$,Y)}(0,A,b,S,L),g.length&&r(A,b,g,L)}!function(F,N){var z,U,Y,$=m(N),ot={},G=1/0,R=-1/0;for(z=0;z<F.length;z++)for(Y=F[z],U=0;U<Y.length;U++){var j=Y[U].p;t(j)&&(G=Math.min(G,j),R=Math.max(R,j))}var P=1e4/(R-G),I=ot.round=function(W){return String(Math.round(P*(W-G)))};for(z=0;z<F.length;z++){(Y=F[z])[0].t.extents=ot;var Z=Y[0].t.poffset,q=Array.isArray(Z);for(U=0;U<Y.length;U++){var D=Y[U],M=D[$]-D.w/2;if(t(M)){var H=D[$]+D.w/2,C=I(D.p);ot[C]=ot[C]?[Math.min(M,ot[C][0]),Math.max(H,ot[C][1])]:[M,H]}D.p0=D.p+(q?Z[U]:Z),D.p1=D.p0+D.w,D.s0=D.b,D.s1=D.s0+D.s}}}(k,A)}var F,N,z,Y,$}function r(y,A,b,k){for(var L=0;L<b.length;L++){var S=new a([b[L]],{posAxis:y,sepNegVal:!1,overlapNoMerge:!k.norm});d(y,S,k),k.norm?(w(S),x(A,S,k)):T(A,S)}}function d(y,A,b){for(var k=A.minDiff,L=A.traces,g=k*(1-b.gap),S=g*(1-(b.groupgap||0)),E=-S/2,v=0;v<L.length;v++){var F=L[v][0].t;F.barwidth=S,F.poffset=E,F.bargroupwidth=g,F.bardelta=k}A.binWidth=L[0][0].t.barwidth/100,f(A),h(y,A),p(y,A)}function f(y){var A,b,k=y.traces;for(A=0;A<k.length;A++){var L,g=k[A],S=g[0],E=S.trace,v=S.t,F=E._offset||E.offset,N=v.poffset;if(l(F)){for(L=Array.prototype.slice.call(F,0,g.length),b=0;b<L.length;b++)t(L[b])||(L[b]=N);for(b=L.length;b<g.length;b++)L.push(N);v.poffset=L}else void 0!==F&&(v.poffset=F);var z=E._width||E.width,U=v.barwidth;if(l(z)){var Y=Array.prototype.slice.call(z,0,g.length);for(b=0;b<Y.length;b++)t(Y[b])||(Y[b]=U);for(b=Y.length;b<g.length;b++)Y.push(U);if(v.barwidth=Y,void 0===F){for(L=[],b=0;b<g.length;b++)L.push(N+(U-Y[b])/2);v.poffset=L}}else void 0!==z&&(v.barwidth=z,void 0===F&&(v.poffset=N+(U-z)/2))}}function h(y,A){for(var b=A.traces,k=m(y),L=0;L<b.length;L++)for(var g=b[L],S=g[0].t,E=S.poffset,v=Array.isArray(E),F=S.barwidth,N=Array.isArray(F),z=0;z<g.length;z++){var U=g[z],Y=U.w=N?F[z]:F;U[k]=U.p+(v?E[z]:E)+Y/2}}function p(y,A,b){var k=A.traces,L=A.minDiff/2;n.minDtick(y,A.minDiff,A.distinctPositions[0],b);for(var g=0;g<k.length;g++){var S,E,v,F,N=k[g],z=N[0],U=z.trace,Y=[];for(F=0;F<N.length;F++)E=(S=N[F]).p-L,Y.push(E,v=S.p+L);if(U.width||U.offset){var $=z.t,ot=$.poffset,G=$.barwidth,R=Array.isArray(ot),j=Array.isArray(G);for(F=0;F<N.length;F++)v=(E=(S=N[F]).p+(R?ot[F]:ot))+(j?G[F]:G),Y.push(E,v)}U._extremes[y._id]=n.findExtremes(y,Y,{padded:!1})}}function T(y,A){for(var b=A.traces,k=m(y),L=0;L<b.length;L++){for(var g=b[L],S=g[0].trace,E=[],v=!1,F=0;F<g.length;F++){var N=g[F],z=N.b,U=z+N.s;N[k]=U,E.push(U),N.hasB&&E.push(z),N.hasB&&N.b||(v=!0)}S._extremes[y._id]=n.findExtremes(y,E,{tozero:v,padded:!0})}}function w(y){for(var A=y.traces,b=0;b<A.length;b++)for(var k=A[b],L=0;L<k.length;L++){var g=k[L];g.s!==o&&y.put(g.p,g.b+g.s)}}function x(y,A,b){var k=A.traces,L=m(y),g="fraction"===b.norm?1:100,S=g/1e9,E=y.l2c(y.c2l(0)),v="stack"===b.mode?g:E;function F(Z){return t(y.c2l(Z))&&(Z<E-S||Z>v+S||!t(E))}for(var N=0;N<k.length;N++){for(var z=k[N],U=z[0].trace,Y=[],$=!1,ot=!1,G=0;G<z.length;G++){var R=z[G];if(R.s!==o){var j=Math.abs(g/A.get(R.p,R.s));R.b*=j,R.s*=j;var P=R.b,I=P+R.s;R[L]=I,Y.push(I),ot=ot||F(I),R.hasB&&(Y.push(P),ot=ot||F(P)),R.hasB&&R.b||($=!0)}}U._extremes[y._id]=n.findExtremes(y,Y,{tozero:$,padded:ot})}}function m(y){return y._id.charAt(0)}tt.exports={crossTraceCalc:function(y,A){for(var b=A.xaxis,k=A.yaxis,L=y._fullLayout,g=y._fullData,S=y.calcdata,E=[],v=[],F=0;F<g.length;F++){var N=g[F];if(!0===N.visible&&e.traceIs(N,"bar")&&N.xaxis===b._id&&N.yaxis===k._id&&("h"===N.orientation?E.push(S[F]):v.push(S[F]),N._computePh))for(var z=y.calcdata[F],U=0;U<z.length;U++)"function"==typeof z[U].ph0&&(z[U].ph0=z[U].ph0()),"function"==typeof z[U].ph1&&(z[U].ph1=z[U].ph1())}var Y={xCat:"category"===b.type||"multicategory"===b.type,yCat:"category"===k.type||"multicategory"===k.type,mode:L.barmode,norm:L.barnorm,gap:L.bargap,groupgap:L.bargroupgap};i(y,b,k,v,Y),i(y,k,b,E,Y)},setGroupPositions:i}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../plots/cartesian/constraints":287,"../../registry":318,"./sieve.js":341,"fast-isnumeric":17}],332:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../components/color"),o=c("../../registry"),e=c("../scatter/xy_defaults"),n=c("../scatter/period_defaults"),s=c("./style_defaults"),a=c("../../plots/cartesian/constraints").getAxisGroup,i=c("./attributes"),r=t.coerceFont;function d(h,p,T,w){var x=p.orientation,y=a(T,p[{v:"x",h:"y"}[x]+"axis"])+x,A=T._alignmentOpts||{},b=w("alignmentgroup"),k=A[y];k||(k=A[y]={});var L=k[b];L?L.traces.push(p):L=k[b]={traces:[p],alignmentIndex:Object.keys(k).length,offsetGroups:{}};var g=w("offsetgroup"),S=L.offsetGroups,E=S[g];g&&(E||(E=S[g]={offsetIndex:Object.keys(S).length}),p._offsetIndex=E.offsetIndex)}function f(h,p,T,w,x,m){var y=!1!==(m=m||{}).moduleHasSelected,A=!1!==m.moduleHasUnselected,b=!1!==m.moduleHasConstrain,k=!1!==m.moduleHasCliponaxis,L=!1!==m.moduleHasTextangle,g=!1!==m.moduleHasInsideanchor,S=!!m.hasPathbar,E=Array.isArray(x)||"auto"===x,v=E||"inside"===x,F=E||"outside"===x;if(v||F){var N=r(w,"textfont",T.font),z=t.extendFlat({},N),U=!(h.textfont&&h.textfont.color);if(U&&delete z.color,r(w,"insidetextfont",z),S){var Y=t.extendFlat({},N);U&&delete Y.color,r(w,"pathbar.textfont",Y)}F&&r(w,"outsidetextfont",N),y&&w("selected.textfont.color"),A&&w("unselected.textfont.color"),b&&w("constraintext"),k&&w("cliponaxis"),L&&w("textangle"),w("texttemplate")}v&&g&&w("insidetextanchor")}tt.exports={supplyDefaults:function(h,p,T,w){function x(b,k){return t.coerce(h,p,i,b,k)}if(e(h,p,w,x)){n(h,p,w,x),x("xhoverformat"),x("yhoverformat"),x("orientation",p.x&&!p.y?"h":"v"),x("base"),x("offset"),x("width"),x("text"),x("hovertext"),x("hovertemplate");var m=x("textposition");f(h,0,w,x,m,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s(h,p,x,T,w);var y=(p.marker.line||{}).color,A=o.getComponentMethod("errorbars","supplyDefaults");A(h,p,y||l.defaultLine,{axis:"y"}),A(h,p,y||l.defaultLine,{axis:"x",inherit:"y"}),t.coerceSelectionMarkerOpacity(p,x)}else p.visible=!1},crossTraceDefaults:function(h,p){var T;function w(m){return t.coerce(T._input,T,i,m)}if("group"===p.barmode)for(var x=0;x<h.length;x++)"bar"===(T=h[x]).type&&d(0,T,p,w)},handleGroupingDefaults:d,handleText:f}},{"../../components/color":102,"../../lib":232,"../../plots/cartesian/constraints":287,"../../registry":318,"../scatter/period_defaults":378,"../scatter/xy_defaults":385,"./attributes":328,"./style_defaults":343}],333:[function(c,tt,B){"use strict";tt.exports=function(t,l,o){return t.x="xVal"in l?l.xVal:l.x,t.y="yVal"in l?l.yVal:l.y,l.xa&&(t.xaxis=l.xa),l.ya&&(t.yaxis=l.ya),"h"===o.orientation?(t.label=t.y,t.value=t.x):(t.label=t.x,t.value=t.y),t}},{}],334:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("tinycolor2"),o=c("../../lib").isArrayOrTypedArray;B.coerceString=function(e,n,s){if("string"==typeof n){if(n||!e.noBlank)return n}else if(("number"==typeof n||!0===n)&&!e.strict)return String(n);return void 0!==s?s:e.dflt},B.coerceNumber=function(e,n,s){if(t(n)){n=+n;var a=e.min,i=e.max;if(!(void 0!==a&&n<a||void 0!==i&&n>i))return n}return void 0!==s?s:e.dflt},B.coerceColor=function(e,n,s){return l(n).isValid()?n:void 0!==s?s:e.dflt},B.coerceEnumerated=function(e,n,s){return e.coerceNumber&&(n=+n),-1!==e.values.indexOf(n)?n:void 0!==s?s:e.dflt},B.getValue=function(e,n){var s;return Array.isArray(e)?n<e.length&&(s=e[n]):s=e,s},B.getLineWidth=function(e,n){return 0<n.mlw?n.mlw:o(e.marker.line.width)?0:e.marker.line.width}},{"../../lib":232,"fast-isnumeric":17,tinycolor2:67}],335:[function(c,tt,B){"use strict";var t=c("../../components/fx"),l=c("../../registry"),o=c("../../components/color"),e=c("../../lib").fillText,n=c("./helpers").getLineWidth,s=c("../../plots/cartesian/axes").hoverLabelText,a=c("../../constants/numerical").BADNUM;function i(d,f,h,p,T){var w,x,m,y,A,b,k,L=d.cd,g=L[0].trace,S=L[0].t,E="closest"===p,v="waterfall"===g.type,F=d.maxHoverDistance,N=d.maxSpikeDistance;"h"===g.orientation?(w=h,x=f,m="y",y="x",A=q,b=I):(w=f,x=h,m="x",y="y",b=q,A=I);var z=g[m+"period"],U=E||z;function Y(Q){return ot(Q,-1)}function $(Q){return ot(Q,1)}function ot(Q,ut){return Q[m]+ut*Q.w/2}function G(Q){return Q[m+"End"]-Q[m+"Start"]}var R=E?Y:z?function(Q){return Q.p-G(Q)/2}:function(Q){return Math.min(Y(Q),Q.p-S.bardelta/2)},j=E?$:z?function(Q){return Q.p+G(Q)/2}:function(Q){return Math.max($(Q),Q.p+S.bardelta/2)};function P(Q,ut,ct){return T.finiteRange&&(ct=0),t.inbox(Q-w,ut-w,ct+Math.min(1,Math.abs(ut-Q)/k)-1)}function I(Q){return P(R(Q),j(Q),F)}function Z(Q){var ut=Q[y];if(v){var ct=Math.abs(Q.rawS)||0;x>0?ut+=ct:x<0&&(ut-=ct)}return ut}function q(Q){var ut=x,ct=Q.b,gt=Z(Q);return t.inbox(ct-ut,gt-ut,F+(gt-ut)/(gt-ct)-1)}var D=d[m+"a"],M=d[y+"a"];k=Math.abs(D.r2c(D.range[1])-D.r2c(D.range[0]));var Q,ut,ct,gt,H=t.getDistanceFunction(p,A,b,function(Q){return(A(Q)+b(Q))/2});if(t.getClosest(L,H,d),!1!==d.index&&L[d.index].p!==a){U||(R=function(Q){return Math.min(Y(Q),Q.p-S.bargroupwidth/2)},j=function(Q){return Math.max($(Q),Q.p+S.bargroupwidth/2)});var C=L[d.index],W=g.base?C.b+C.s:C.s;d[y+"0"]=d[y+"1"]=M.c2p(C[y],!0),d[y+"LabelVal"]=W;var K=S.extents[S.extents.round(C.p)];return d[m+"0"]=D.c2p(E?R(C):K[0],!0),d[m+"1"]=D.c2p(E?j(C):K[1],!0),d[m+"LabelVal"]=void 0!==C.orig_p?C.orig_p:C.p,d.labelLabel=s(D,d[m+"LabelVal"],g[m+"hoverformat"]),d.valueLabel=s(M,d[y+"LabelVal"],g[y+"hoverformat"]),d.baseLabel=s(M,C.b,g[y+"hoverformat"]),d.spikeDistance=(ut=x,ct=(Q=C).b,gt=Z(Q),(t.inbox(ct-ut,gt-ut,N+(gt-ut)/(gt-ct)-1)+function(Q){return P(Y(Q),$(Q),N)}(C))/2),d[m+"Spike"]=D.c2p(C.p,!0),e(C,g,d),d.hovertemplate=g.hovertemplate,d}}function r(d,f){var h=f.mcc||d.marker.color,p=f.mlcc||d.marker.line.color,T=n(d,f);return o.opacity(h)?h:o.opacity(p)&&T?p:void 0}tt.exports={hoverPoints:function(d,f,h,p,T){var w=i(d,f,h,p,T);if(w){var x=w.cd,m=x[0].trace,y=x[w.index];return w.color=r(m,y),l.getComponentMethod("errorbars","hoverInfo")(y,m,w),[w]}},hoverOnBars:i,getTraceColor:r}},{"../../components/color":102,"../../components/fx":142,"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./helpers":334}],336:[function(c,tt,B){"use strict";tt.exports={attributes:c("./attributes"),layoutAttributes:c("./layout_attributes"),supplyDefaults:c("./defaults").supplyDefaults,crossTraceDefaults:c("./defaults").crossTraceDefaults,supplyLayoutDefaults:c("./layout_defaults"),calc:c("./calc"),crossTraceCalc:c("./cross_trace_calc").crossTraceCalc,colorbar:c("../scatter/marker_colorbar"),arraysToCalcdata:c("./arrays_to_calcdata"),plot:c("./plot").plot,style:c("./style").style,styleOnSelect:c("./style").styleOnSelect,hoverPoints:c("./hover").hoverPoints,eventData:c("./event_data"),selectPoints:c("./select"),moduleType:"trace",name:"bar",basePlotModule:c("../../plots/cartesian"),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},{"../../plots/cartesian":293,"../scatter/marker_colorbar":376,"./arrays_to_calcdata":327,"./attributes":328,"./calc":329,"./cross_trace_calc":331,"./defaults":332,"./event_data":333,"./hover":335,"./layout_attributes":337,"./layout_defaults":338,"./plot":339,"./select":340,"./style":342}],337:[function(c,tt,B){"use strict";tt.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],338:[function(c,tt,B){"use strict";var t=c("../../registry"),l=c("../../plots/cartesian/axes"),o=c("../../lib"),e=c("./layout_attributes");tt.exports=function(n,s,a){function i(m,y){return o.coerce(n,s,e,m,y)}for(var r=!1,d=!1,f=!1,h={},p=i("barmode"),T=0;T<a.length;T++){var w=a[T];if(t.traceIs(w,"bar")&&w.visible){if(r=!0,"group"===p){var x=w.xaxis+w.yaxis;h[x]&&(f=!0),h[x]=!0}w.visible&&"histogram"===w.type&&"category"!==l.getFromId({_fullLayout:s},w["v"===w.orientation?"xaxis":"yaxis"]).type&&(d=!0)}}r?("overlay"!==p&&i("barnorm"),i("bargap",d&&!f?0:.2),i("bargroupgap")):delete s.barmode}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./layout_attributes":337}],339:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("fast-isnumeric"),o=c("../../lib"),e=c("../../lib/svg_text_utils"),n=c("../../components/color"),s=c("../../components/drawing"),a=c("../../registry"),i=c("../../plots/cartesian/axes").tickText,r=c("./uniform_text"),d=r.recordMinTextSize,f=r.clearMinTextSize,h=c("./style"),p=c("./helpers"),T=c("./constants"),w=c("./attributes"),x=w.text,m=w.textposition,y=c("../../components/fx/helpers").appendArrayPointValue,A=T.TEXTPAD;function b(N){return N.id}function L(N,z){return N<z?1:-1}function g(N,z,U,Y){var $;return!z.uniformtext.mode&&S(U)?(Y&&($=Y()),N.transition().duration(U.duration).ease(U.easing).each("end",function(){$&&$()}).each("interrupt",function(){$&&$()})):N}function S(N){return N&&N.duration>0}function E(N){return"auto"===N?0:N}function v(N,z){var U=Math.PI/180*z,Y=Math.abs(Math.sin(U)),$=Math.abs(Math.cos(U));return{x:N.width*$+N.height*Y,y:N.width*Y+N.height*$}}function F(N,z,U,Y,$,ot){var G=!!ot.isHorizontal,R=!!ot.constrained,j=ot.angle||0,P=ot.anchor||"end",I="end"===P,Z="start"===P,q=((ot.leftToRight||0)+1)/2,D=1-q,M=$.width,H=$.height,C=Math.abs(z-N),W=Math.abs(Y-U),K=C>2*A&&W>2*A?A:0;C-=2*K,W-=2*K;var J=E(j);"auto"!==j||M<=C&&H<=W||!(M>C||H>W)||(M>W||H>C)&&M<H==C<W||(J+=90);var Q=v($,J),ut=1;R&&(ut=Math.min(1,C/Q.x,W/Q.y));var ct=$.left*D+$.right*q,gt=($.top+$.bottom)/2,vt=(N+A)*D+(z-A)*q,xt=(U+Y)/2,Tt=0,zt=0;if(Z||I){var Et=(G?Q.x:Q.y)/2,At=G?L(N,z):L(U,Y);G?Z?(vt=N+At*K,Tt=-At*Et):(vt=z-At*K,Tt=At*Et):Z?(xt=U+At*K,zt=-At*Et):(xt=Y-At*K,zt=At*Et)}return{textX:ct,textY:gt,targetX:vt,targetY:xt,anchorX:Tt,anchorY:zt,scale:ut,rotate:J}}tt.exports={plot:function(N,z,U,Y,$,ot){var G=z.xaxis,R=z.yaxis,j=N._fullLayout;$||($={mode:j.barmode,norm:j.barmode,gap:j.bargap,groupgap:j.bargroupgap},f("bar",j));var P=o.makeTraceGroups(Y,U,"trace bars").each(function(I){var Z=t.select(this),q=I[0].trace,H="bar"===q.type||"funnel"===q.type,C=0;"waterfall"===q.type&&q.connector.visible&&"between"===q.connector.mode&&(C=q.connector.line.width/2);var W="h"===q.orientation,K=S($),J=o.ensureSingle(Z,"g","points"),Q=function k(N){if(N.ids)return b}(q),ut=J.selectAll("g.point").data(o.identity,Q);ut.enter().append("g").classed("point",!0),ut.exit().remove(),ut.each(function(gt,vt){var xt,Tt,St,Nt,Vt,Ct,Gt,$t,Xt,de,zt=t.select(this),Et=(Nt=G,Vt=R,$t=[],de=(Ct=W)?Vt:Nt,(Gt=[])[0]=(Xt=Ct?Nt:Vt).c2p((St=gt).s0,!0),$t[0]=de.c2p(St.p0,!0),Gt[1]=Xt.c2p(St.s1,!0),$t[1]=de.c2p(St.p1,!0),Ct?[Gt,$t]:[$t,Gt]),At=Et[0][0],lt=Et[0][1],rt=Et[1][0],dt=Et[1][1],mt=0==(W?lt-At:dt-rt);if(mt&&H&&p.getLineWidth(q,gt)&&(mt=!1),mt||(mt=!(l(At)&&l(lt)&&l(rt)&&l(dt))),gt.isBlank=mt,mt&&(W?lt=At:dt=rt),C&&!mt&&(W?(At-=L(At,lt)*C,lt+=L(At,lt)*C):(rt-=L(rt,dt)*C,dt+=L(rt,dt)*C)),"waterfall"===q.type){if(!mt){var Dt=q[gt.dir].marker;xt=Dt.line.width,Tt=Dt.color}}else xt=p.getLineWidth(q,gt),Tt=gt.mc||q.marker.color;function bt(St){var Nt=t.round(xt/2%1,2);return 0===$.gap&&0===$.groupgap?t.round(Math.round(St)-Nt,2):St}if(!N._context.staticPlot){var wt=n.opacity(Tt)<1||xt>.01?bt:function(St,Nt,Vt){return Vt&&St===Nt?St:Math.abs(St-Nt)>=2?bt(St):St>Nt?Math.ceil(St):Math.floor(St)};At=wt(At,lt,W),lt=wt(lt,At,W),rt=wt(rt,dt,!W),dt=wt(dt,rt,!W)}var Ot=g(o.ensureSingle(zt,"path"),j,$,ot);if(Ot.style("vector-effect","non-scaling-stroke").attr("d",isNaN((lt-At)*(dt-rt))||mt&&N._context.staticPlot?"M0,0Z":"M"+At+","+rt+"V"+dt+"H"+lt+"V"+rt+"Z").call(s.setClipUrl,z.layerClipId,N),!j.uniformtext.mode&&K){var It=s.makePointStyleFns(q);s.singlePointStyle(gt,Ot,q,It,N)}(function(St,Nt,Vt,Ct,Gt,$t,Xt,de,Kt,kt,Mt){var qt,ce=Nt.xaxis,Te=Nt.yaxis,Oe=St._fullLayout;function xe(Ie,Re,Ze){return o.ensureSingle(Ie,"text").text(Re).attr({class:"bartext bartext-"+qt,"text-anchor":"middle","data-notex":1}).call(s.font,Ze).call(e.convertToTspans,St)}var Re,Ze,We,Be,be,me,ye=Ct[0].trace,le="h"===ye.orientation,nt=(Ze=Gt,We=ce,Be=Te,be=(me=(Re=Ct)[0].trace).texttemplate?function(Me,ze,Ce,Ve,Xe){var Qe=ze[0].trace,rn=o.castOption(Qe,Ce,"texttemplate");if(!rn)return"";var ln,on,cn,dn,$e="histogram"===Qe.type,mn="waterfall"===Qe.type,kn="funnel"===Qe.type,Ue="h"===Qe.orientation;function fn(Ne){return i(dn,dn.c2l(Ne),!0).text}Ue?(ln="y",on=Xe,cn="x",dn=Ve):(ln="x",on=Ve,cn="y",dn=Xe);var sn=ze[Ce],Ge={};Ge.label=sn.p,Ge.labelLabel=Ge[ln+"Label"]=i(on,on.c2l(sn.p),!0).text;var hn=o.castOption(Qe,sn.i,"text");(0===hn||hn)&&(Ge.text=hn),Ge.value=sn.s,Ge.valueLabel=Ge[cn+"Label"]=fn(sn.s);var Ke={};y(Ke,Qe,sn.i),($e||void 0===Ke.x)&&(Ke.x=Ue?Ge.value:Ge.label),($e||void 0===Ke.y)&&(Ke.y=Ue?Ge.label:Ge.value),($e||void 0===Ke.xLabel)&&(Ke.xLabel=Ue?Ge.valueLabel:Ge.labelLabel),($e||void 0===Ke.yLabel)&&(Ke.yLabel=Ue?Ge.labelLabel:Ge.valueLabel),mn&&(Ge.delta=+sn.rawS||sn.s,Ge.deltaLabel=fn(Ge.delta),Ge.final=sn.v,Ge.finalLabel=fn(Ge.final),Ge.initial=Ge.final-Ge.delta,Ge.initialLabel=fn(Ge.initial)),kn&&(Ge.value=sn.s,Ge.valueLabel=fn(Ge.value),Ge.percentInitial=sn.begR,Ge.percentInitialLabel=o.formatPercent(sn.begR),Ge.percentPrevious=sn.difR,Ge.percentPreviousLabel=o.formatPercent(sn.difR),Ge.percentTotal=sn.sumR,Ge.percenTotalLabel=o.formatPercent(sn.sumR));var qe=o.castOption(Qe,sn.i,"customdata");return qe&&(Ge.customdata=qe),o.texttemplateString(rn,Ge,Me._d3locale,Ke,Ge,Qe._meta||{})}(Oe,Re,Ze,We,Be):me.textinfo?function(Me,ze,Ce,Ve){var Xe=Me[0].trace,Qe="h"===Xe.orientation,rn="waterfall"===Xe.type,ln="funnel"===Xe.type;function on(qe){return i(Qe?Ce:Ve,+qe,!0).text}var cn,$e=Me[ze],mn=Xe.textinfo.split("+"),kn=[],Ue=function(qe){return-1!==mn.indexOf(qe)};if(Ue("label")&&kn.push(i(Qe?Ve:Ce,Me[ze].p,!0).text),Ue("text")&&(0===(cn=o.castOption(Xe,$e.i,"text"))||cn)&&kn.push(cn),rn){var sn=+$e.rawS||$e.s,Ge=$e.v,bn=Ge-sn;Ue("initial")&&kn.push(on(bn)),Ue("delta")&&kn.push(on(sn)),Ue("final")&&kn.push(on(Ge))}if(ln){Ue("value")&&kn.push(on($e.s));var hn=0;Ue("percent initial")&&hn++,Ue("percent previous")&&hn++,Ue("percent total")&&hn++;var Ke=hn>1;Ue("percent initial")&&(cn=o.formatPercent($e.begR),Ke&&(cn+=" of initial"),kn.push(cn)),Ue("percent previous")&&(cn=o.formatPercent($e.difR),Ke&&(cn+=" of previous"),kn.push(cn)),Ue("percent total")&&(cn=o.formatPercent($e.sumR),Ke&&(cn+=" of total"),kn.push(cn))}return kn.join("<br>")}(Re,Ze,We,Be):p.getValue(me.text,Ze),p.coerceString(x,be));qt=function(Ie,Re){var Ze=p.getValue(Ie.textposition,Re);return p.coerceEnumerated(m,Ze)}(ye,Gt);var Lt=Ct[Gt],Pt=!("stack"===kt.mode||"relative"===kt.mode)||Lt._outmost;if(nt&&"none"!==qt&&(!Lt.isBlank&&$t!==Xt&&de!==Kt||"auto"!==qt&&"inside"!==qt)){var Bt=Oe.font,Rt=h.getBarColor(Ct[Gt],ye),jt=h.getInsideTextFont(ye,Gt,Bt,Rt),Ut=h.getOutsideTextFont(ye,Gt,Bt),ee=Vt.datum();le?"log"===ce.type&&ee.s0<=0&&($t=ce.range[0]<ce.range[1]?0:ce._length):"log"===Te.type&&ee.s0<=0&&(de=Te.range[0]<Te.range[1]?Te._length:0);var ie,fe,Ae,re,ve,Pe=Math.abs(Xt-$t)-2*A,se=Math.abs(Kt-de)-2*A;if("outside"===qt&&(Pt||Lt.hasB||(qt="inside")),"auto"===qt&&(Pt?(qt="inside",ie=xe(Vt,nt,ve=o.ensureUniformFontSize(St,jt)),re=(fe=s.bBox(ie.node())).height,(Ae=fe.width)>0&&re>0&&(Ae<=Pe&&re<=se||Ae<=se&&re<=Pe||(le?Pe>=Ae*(se/re):se>=re*(Pe/Ae)))?qt="inside":(qt="outside",ie.remove(),ie=null)):qt="inside"),!ie){var ge=(ie=xe(Vt,nt,ve=o.ensureUniformFontSize(St,"outside"===qt?Ut:jt))).attr("transform");if(ie.attr("transform",""),Ae=(fe=s.bBox(ie.node())).width,re=fe.height,ie.attr("transform",ge),Ae<=0||re<=0)return void ie.remove()}var ke,Fe=ye.textangle;ke="outside"===qt?function(Ie,Re,Ze,We,Be,be){var me,Me=!!be.isHorizontal,ze=!!be.constrained,Ce=be.angle||0,Ve=Be.width,Xe=Be.height,Qe=Math.abs(Re-Ie),rn=Math.abs(We-Ze);me=Me?rn>2*A?A:0:Qe>2*A?A:0;var ln=1;ze&&(ln=Me?Math.min(1,rn/Xe):Math.min(1,Qe/Ve));var on=E(Ce),cn=v(Be,on),dn=(Me?cn.x:cn.y)/2,$e=(Be.left+Be.right)/2,mn=(Be.top+Be.bottom)/2,kn=(Ie+Re)/2,Ue=(Ze+We)/2,fn=0,sn=0,Ge=Me?L(Re,Ie):L(Ze,We);return Me?(kn=Re-Ge*me,fn=Ge*dn):(Ue=We+Ge*me,sn=-Ge*dn),{textX:$e,textY:mn,targetX:kn,targetY:Ue,anchorX:fn,anchorY:sn,scale:ln,rotate:on}}($t,Xt,de,Kt,fe,{isHorizontal:le,constrained:"both"===ye.constraintext||"outside"===ye.constraintext,angle:Fe}):F($t,Xt,de,Kt,fe,{isHorizontal:le,constrained:"both"===ye.constraintext||"inside"===ye.constraintext,angle:Fe,anchor:ye.insidetextanchor}),ke.fontSize=ve.size,d("histogram"===ye.type?"bar":ye.type,ke,Oe),Lt.transform=ke,g(ie,Oe,kt,Mt).attr("transform",o.getTextTransform(ke))}else Vt.select("text").remove()})(N,z,zt,I,vt,At,lt,rt,dt,$,ot),z.layerClipId&&s.hideOutsideRangePoint(gt,zt.select("text"),G,R,q.xcalendar,q.ycalendar)}),s.setClipUrl(Z,!1===q.cliponaxis?null:z.layerClipId,N)});a.getComponentMethod("errorbars","plot")(N,P,z,$)},toMoveInsideBar:F}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx/helpers":138,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":318,"./attributes":328,"./constants":330,"./helpers":334,"./style":342,"./uniform_text":344,"@plotly/d3":11,"fast-isnumeric":17}],340:[function(c,tt,B){"use strict";function t(l,o,e,n,s){var a=o.c2p(n?l.s0:l.p0,!0),i=o.c2p(n?l.s1:l.p1,!0),r=e.c2p(n?l.p0:l.s0,!0),d=e.c2p(n?l.p1:l.s1,!0);return s?[(a+i)/2,(r+d)/2]:n?[i,(r+d)/2]:[(a+i)/2,d]}tt.exports=function(l,o){var e,n=l.cd,s=l.xaxis,a=l.yaxis,i=n[0].trace,r="funnel"===i.type,d="h"===i.orientation,f=[];if(!1===o)for(e=0;e<n.length;e++)n[e].selected=0;else for(e=0;e<n.length;e++){var h=n[e],p="ct"in h?h.ct:t(h,s,a,d,r);o.contains(p,!1,e,l)?(f.push({pointNumber:e,x:s.c2d(h.x),y:a.c2d(h.y)}),h.selected=1):h.selected=0}return f}},{}],341:[function(c,tt,B){"use strict";tt.exports=o;var t=c("../../lib").distinctVals,l=c("../../constants/numerical").BADNUM;function o(e,n){this.traces=e,this.sepNegVal=n.sepNegVal,this.overlapNoMerge=n.overlapNoMerge;for(var s=1/0,a=[],i=0;i<e.length;i++){for(var r=e[i],d=0;d<r.length;d++){var f=r[d];f.p!==l&&a.push(f.p)}r[0]&&r[0].width1&&(s=Math.min(r[0].width1,s))}this.positions=a;var h=t(a);this.distinctPositions=h.vals,this.minDiff=1===h.vals.length&&s!==1/0?s:Math.min(h.minDiff,s);var p=(n.posAxis||{}).type;"category"!==p&&"multicategory"!==p||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}o.prototype.put=function(e,n){var s=this.getLabel(e,n),a=this.bins[s]||0;return this.bins[s]=a+n,a},o.prototype.get=function(e,n){var s=this.getLabel(e,n);return this.bins[s]||0},o.prototype.getLabel=function(e,n){return(n<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?e:Math.round(e/this.binWidth))}},{"../../constants/numerical":212,"../../lib":232}],342:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../../components/color"),o=c("../../components/drawing"),e=c("../../lib"),n=c("../../registry"),s=c("./uniform_text").resizeText,a=c("./attributes"),i=a.textfont,r=a.insidetextfont,d=a.outsidetextfont,f=c("./helpers");function h(b,k,L){o.pointStyle(b.selectAll("path"),k,L),p(b,k,L)}function p(b,k,L){b.selectAll("text").each(function(g){var S=t.select(this),E=e.ensureUniformFontSize(L,T(S,g,k,L));o.font(S,E)})}function T(b,k,L,g){var S=g._fullLayout.font,E=L.textfont;if(b.classed("bartext-inside")){var v=A(k,L);E=x(L,k.i,S,v)}else b.classed("bartext-outside")&&(E=m(L,k.i,S));return E}function w(b,k,L){return y(i,b.textfont,k,L)}function x(b,k,L,g){var S=w(b,k,L);return(void 0===b._input.textfont||void 0===b._input.textfont.color||Array.isArray(b.textfont.color)&&void 0===b.textfont.color[k])&&(S={color:l.contrast(g),family:S.family,size:S.size}),y(r,b.insidetextfont,k,S)}function m(b,k,L){var g=w(b,k,L);return y(d,b.outsidetextfont,k,g)}function y(b,k,L,g){var S=f.getValue((k=k||{}).family,L),E=f.getValue(k.size,L),v=f.getValue(k.color,L);return{family:f.coerceString(b.family,S,g.family),size:f.coerceNumber(b.size,E,g.size),color:f.coerceColor(b.color,v,g.color)}}function A(b,k){return"waterfall"===k.type?k[b.dir].marker.color:b.mcc||b.mc||k.marker.color}tt.exports={style:function(b){var k=t.select(b).selectAll("g.barlayer").selectAll("g.trace");s(b,k,"bar");var L=k.size(),g=b._fullLayout;k.style("opacity",function(S){return S[0].trace.opacity}).each(function(S){("stack"===g.barmode&&L>1||0===g.bargap&&0===g.bargroupgap&&!S[0].trace.marker.line.width)&&t.select(this).attr("shape-rendering","crispEdges")}),k.selectAll("g.points").each(function(S){h(t.select(this),S[0].trace,b)}),n.getComponentMethod("errorbars","style")(k)},styleTextPoints:p,styleOnSelect:function(b,k,L){var S,E,v,F,N,z,g=k[0].trace;g.selectedpoints?(E=g,v=b,o.selectedPointStyle((S=L).selectAll("path"),E),F=S.selectAll("text"),N=E,z=v,F.each(function(U){var Y,$=t.select(this);if(U.selected){Y=e.ensureUniformFontSize(z,T($,U,N,z));var ot=N.selected.textfont&&N.selected.textfont.color;ot&&(Y.color=ot),o.font($,Y)}else o.selectedTextStyle($,N)})):(h(L,g,b),n.getComponentMethod("errorbars","style")(L))},getInsideTextFont:x,getOutsideTextFont:m,getBarColor:A,resizeText:s}},{"../../components/color":102,"../../components/drawing":124,"../../lib":232,"../../registry":318,"./attributes":328,"./helpers":334,"./uniform_text":344,"@plotly/d3":11}],343:[function(c,tt,B){"use strict";var t=c("../../components/color"),l=c("../../components/colorscale/helpers").hasColorscale,o=c("../../components/colorscale/defaults"),e=c("../../lib").coercePattern;tt.exports=function(n,s,a,i,r){var d=a("marker.color",i),f=l(n,"marker");f&&o(n,s,r,a,{prefix:"marker.",cLetter:"c"}),a("marker.line.color",t.defaultLine),l(n,"marker.line")&&o(n,s,r,a,{prefix:"marker.line.",cLetter:"c"}),a("marker.line.width"),a("marker.opacity"),e(a,"marker.pattern",d,f),a("selected.marker.color"),a("unselected.marker.color")}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],344:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../../lib");function o(e){return"_"+e+"Text_minsize"}tt.exports={recordMinTextSize:function(e,n,s){if(s.uniformtext.mode){var a=o(e),i=s.uniformtext.minsize,r=n.scale*n.fontSize;n.hide=r<i,s[a]=s[a]||1/0,n.hide||(s[a]=Math.min(s[a],Math.max(r,i)))}},clearMinTextSize:function(e,n){n[o(e)]=void 0},resizeText:function(e,n,s){var a=e._fullLayout,i=a["_"+s+"Text_minsize"];if(i){var r,d="hide"===a.uniformtext.mode;switch(s){case"funnelarea":case"pie":case"sunburst":r="g.slice";break;case"treemap":case"icicle":r="g.slice, g.pathbar";break;default:r="g.points > g.point"}n.selectAll(r).each(function(f){var h=f.transform;h&&(h.scale=d&&h.hide?0:i/h.fontSize,t.select(this).select("text").attr("transform",l.getTextTransform(h)))})}}}},{"../../lib":232,"@plotly/d3":11}],345:[function(c,tt,B){"use strict";var t=c("../../plots/attributes"),l=c("../../plots/domain").attributes,o=c("../../plots/font_attributes"),e=c("../../components/color/attributes"),n=c("../../plots/template_attributes").hovertemplateAttrs,s=c("../../plots/template_attributes").texttemplateAttrs,a=c("../../lib/extend").extendFlat,i=o({editType:"plot",arrayOk:!0,colorEditType:"plot"});tt.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:e.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:a({},t.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:n({},{keys:["label","color","value","percent","text"]}),texttemplate:s({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:a({},i,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:a({},i,{}),outsidetextfont:a({},i,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:a({},i,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:l({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:a({},i,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},{"../../components/color/attributes":101,"../../lib/extend":226,"../../plots/attributes":275,"../../plots/domain":309,"../../plots/font_attributes":310,"../../plots/template_attributes":317}],346:[function(c,tt,B){"use strict";var t=c("../../plots/plots");B.name="pie",B.plot=function(l,o,e,n){t.plotBasePlot(B.name,l,o,e,n)},B.clean=function(l,o,e,n){t.cleanBasePlot(B.name,l,o,e,n)}},{"../../plots/plots":316}],347:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("tinycolor2"),o=c("../../components/color"),e={};function n(a){return function(i,r){return!!i&&!!(i=l(i)).isValid()&&(i=o.addOpacity(i,i.getAlpha()),a[r]||(a[r]=i),i)}}function s(a,i){var r,d=JSON.stringify(a),f=i[d];if(!f){for(f=a.slice(),r=0;r<a.length;r++)f.push(l(a[r]).lighten(20).toHexString());for(r=0;r<a.length;r++)f.push(l(a[r]).darken(20).toHexString());i[d]=f}return f}tt.exports={calc:function(a,i){var r,d,f=[],h=a._fullLayout,p=h.hiddenlabels||[],T=i.labels,w=i.marker.colors||[],x=i.values,m=i._length,y=i._hasValues&&m;if(i.dlabel)for(T=new Array(m),r=0;r<m;r++)T[r]=String(i.label0+r*i.dlabel);var A={},b=n(h["_"+i.type+"colormap"]),k=0,L=!1;for(r=0;r<m;r++){var g,S,E;if(y){if(!t(g=x[r]))continue;g=+g}else g=1;void 0!==(S=T[r])&&""!==S||(S=r);var v=A[S=String(S)];void 0===v?(A[S]=f.length,(E=-1!==p.indexOf(S))||(k+=g),f.push({v:g,label:S,color:b(w[r],S),i:r,pts:[r],hidden:E})):(L=!0,(d=f[v]).v+=g,d.pts.push(r),d.hidden||(k+=g),!1===d.color&&w[r]&&(d.color=b(w[r],S)))}return f=f.filter(function(F){return F.v>=0}),("funnelarea"===i.type?L:i.sort)&&f.sort(function(F,N){return N.v-F.v}),f[0]&&(f[0].vTotal=k),f},crossTraceCalc:function(a,i){var r=(i||{}).type;r||(r="pie");var d=a._fullLayout,f=a.calcdata,h=d[r+"colorway"],p=d["_"+r+"colormap"];d["extend"+r+"colors"]&&(h=s(h,e));for(var T=0,w=0;w<f.length;w++){var x=f[w];if(x[0].trace.type===r)for(var m=0;m<x.length;m++){var y=x[m];!1===y.color&&(p[y.label]?y.color=p[y.label]:(p[y.label]=y.color=h[T%h.length],T++))}}},makePullColorFn:n,generateExtendedColors:s}},{"../../components/color":102,"fast-isnumeric":17,tinycolor2:67}],348:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("../../lib"),o=c("./attributes"),e=c("../../plots/domain").defaults,n=c("../bar/defaults").handleText;function s(a,i){var r=Array.isArray(a),d=l.isArrayOrTypedArray(i),f=Math.min(r?a.length:1/0,d?i.length:1/0);if(isFinite(f)||(f=0),f&&d){for(var h,p=0;p<f;p++){var T=i[p];if(t(T)&&T>0){h=!0;break}}h||(f=0)}return{hasLabels:r,hasValues:d,len:f}}tt.exports={handleLabelsAndValues:s,supplyDefaults:function(a,i,r,d){function f(b,k){return l.coerce(a,i,o,b,k)}var h=s(f("labels"),f("values")),p=h.len;if(i._hasLabels=h.hasLabels,i._hasValues=h.hasValues,!i._hasLabels&&i._hasValues&&(f("label0"),f("dlabel")),p){i._length=p,f("marker.line.width")&&f("marker.line.color"),f("marker.colors"),f("scalegroup");var T,w=f("text"),x=f("texttemplate");if(x||(T=f("textinfo",Array.isArray(w)?"text+percent":"percent")),f("hovertext"),f("hovertemplate"),x||T&&"none"!==T){var m=f("textposition");n(a,i,d,f,m,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(m)||"auto"===m||"outside"===m)&&f("automargin"),("inside"===m||"auto"===m||Array.isArray(m))&&f("insidetextorientation")}e(i,d,f);var y=f("hole");if(f("title.text")){var A=f("title.position",y?"middle center":"top center");y||"middle center"!==A||(i.title.position="top center"),l.coerceFont(f,"title.font",d.font)}f("sort"),f("direction"),f("rotation"),f("pull")}else i.visible=!1}}},{"../../lib":232,"../../plots/domain":309,"../bar/defaults":332,"./attributes":345,"fast-isnumeric":17}],349:[function(c,tt,B){"use strict";var t=c("../../components/fx/helpers").appendArrayMultiPointValues;tt.exports=function(l,o){var e={curveNumber:o.index,pointNumbers:l.pts,data:o._input,fullData:o,label:l.label,color:l.color,value:l.v,percent:l.percent,text:l.text,bbox:l.bbox,v:l.v};return 1===l.pts.length&&(e.pointNumber=e.i=l.pts[0]),t(e,o,l.pts),"funnelarea"===o.type&&(delete e.v,delete e.i),e}},{"../../components/fx/helpers":138}],350:[function(c,tt,B){"use strict";var t=c("../../lib");function l(o){return-1!==o.indexOf("e")?o.replace(/[.]?0+e/,"e"):-1!==o.indexOf(".")?o.replace(/[.]?0+$/,""):o}B.formatPiePercent=function(o,e){var n=l((100*o).toPrecision(3));return t.numSeparate(n,e)+"%"},B.formatPieValue=function(o,e){var n=l(o.toPrecision(10));return t.numSeparate(n,e)},B.getFirstFilled=function(o,e){if(Array.isArray(o))for(var n=0;n<e.length;n++){var s=o[e[n]];if(s||0===s||""===s)return s}},B.castOption=function(o,e){return Array.isArray(o)?B.getFirstFilled(o,e):o||void 0},B.getRotationAngle=function(o){return("auto"===o?0:o)*Math.PI/180}},{"../../lib":232}],351:[function(c,tt,B){"use strict";tt.exports={attributes:c("./attributes"),supplyDefaults:c("./defaults").supplyDefaults,supplyLayoutDefaults:c("./layout_defaults"),layoutAttributes:c("./layout_attributes"),calc:c("./calc").calc,crossTraceCalc:c("./calc").crossTraceCalc,plot:c("./plot").plot,style:c("./style"),styleOne:c("./style_one"),moduleType:"trace",name:"pie",basePlotModule:c("./base_plot"),categories:["pie-like","pie","showLegend"],meta:{}}},{"./attributes":345,"./base_plot":346,"./calc":347,"./defaults":348,"./layout_attributes":352,"./layout_defaults":353,"./plot":354,"./style":355,"./style_one":356}],352:[function(c,tt,B){"use strict";tt.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},{}],353:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("./layout_attributes");tt.exports=function(o,e){function n(s,a){return t.coerce(o,e,l,s,a)}n("hiddenlabels"),n("piecolorway",e.colorway),n("extendpiecolors")}},{"../../lib":232,"./layout_attributes":352}],354:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../../plots/plots"),o=c("../../components/fx"),e=c("../../components/color"),n=c("../../components/drawing"),s=c("../../lib"),a=s.strScale,i=s.strTranslate,r=c("../../lib/svg_text_utils"),d=c("../bar/uniform_text"),f=d.recordMinTextSize,h=d.clearMinTextSize,p=c("../bar/constants").TEXTPAD,T=c("./helpers"),w=c("./event_data"),x=c("../../lib").isValidTextValue;function m(R,j,P){var I=P[0],Z=I.cx,q=I.cy,D=I.trace,M="funnelarea"===D.type;"_hasHoverLabel"in D||(D._hasHoverLabel=!1),"_hasHoverEvent"in D||(D._hasHoverEvent=!1),R.on("mouseover",function(H){var C=j._fullLayout,W=j._fullData[D.index];if(!j._dragging&&!1!==C.hovermode){var K=W.hoverinfo;if(Array.isArray(K)&&(K=o.castHoverinfo({hoverinfo:[T.castOption(K,H.pts)],_module:D._module},C,0)),"all"===K&&(K="label+text+value+percent+name"),W.hovertemplate||"none"!==K&&"skip"!==K&&K){var J=H.rInscribed||0,Q=Z+H.pxmid[0]*(1-J),ut=q+H.pxmid[1]*(1-J),ct=C.separators,gt=[];if(K&&-1!==K.indexOf("label")&&gt.push(H.label),H.text=T.castOption(W.hovertext||W.text,H.pts),K&&-1!==K.indexOf("text")){var vt=H.text;s.isValidTextValue(vt)&&gt.push(vt)}H.value=H.v,H.valueLabel=T.formatPieValue(H.v,ct),K&&-1!==K.indexOf("value")&&gt.push(H.valueLabel),H.percent=H.v/I.vTotal,H.percentLabel=T.formatPiePercent(H.percent,ct),K&&-1!==K.indexOf("percent")&&gt.push(H.percentLabel);var xt=W.hoverlabel,Tt=xt.font,zt=[];o.loneHover({trace:D,x0:Q-J*I.r,x1:Q+J*I.r,y:ut,_x0:M?Z+H.TL[0]:Q-J*I.r,_x1:M?Z+H.TR[0]:Q+J*I.r,_y0:M?q+H.TL[1]:ut-J*I.r,_y1:M?q+H.BL[1]:ut+J*I.r,text:gt.join("<br>"),name:W.hovertemplate||-1!==K.indexOf("name")?W.name:void 0,idealAlign:H.pxmid[0]<0?"left":"right",color:T.castOption(xt.bgcolor,H.pts)||H.color,borderColor:T.castOption(xt.bordercolor,H.pts),fontFamily:T.castOption(Tt.family,H.pts),fontSize:T.castOption(Tt.size,H.pts),fontColor:T.castOption(Tt.color,H.pts),nameLength:T.castOption(xt.namelength,H.pts),textAlign:T.castOption(xt.align,H.pts),hovertemplate:T.castOption(W.hovertemplate,H.pts),hovertemplateLabels:H,eventData:[w(H,W)]},{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:j,inOut_bbox:zt}),H.bbox=zt[0],D._hasHoverLabel=!0}D._hasHoverEvent=!0,j.emit("plotly_hover",{points:[w(H,W)],event:t.event})}}),R.on("mouseout",function(H){var C=j._fullLayout,W=j._fullData[D.index],K=t.select(this).datum();D._hasHoverEvent&&(H.originalEvent=t.event,j.emit("plotly_unhover",{points:[w(K,W)],event:t.event}),D._hasHoverEvent=!1),D._hasHoverLabel&&(o.loneUnhover(C._hoverlayer.node()),D._hasHoverLabel=!1)}),R.on("click",function(H){j._dragging||!1===j._fullLayout.hovermode||(j._hoverdata=[w(H,j._fullData[D.index])],o.click(j,t.event))})}function y(R,j,P){var I=T.castOption(R.insidetextfont.color,j.pts);!I&&R._input.textfont&&(I=T.castOption(R._input.textfont.color,j.pts));var Z=T.castOption(R.insidetextfont.family,j.pts)||T.castOption(R.textfont.family,j.pts)||P.family,q=T.castOption(R.insidetextfont.size,j.pts)||T.castOption(R.textfont.size,j.pts)||P.size;return{color:I||e.contrast(j.color),family:Z,size:q}}function A(R,j){for(var P,I,Z=0;Z<R.length;Z++)if((I=(P=R[Z][0]).trace).title.text){var q=I.title.text;I._meta&&(q=s.templateString(q,I._meta));var D=n.tester.append("text").attr("data-notex",1).text(q).call(n.font,I.title.font).call(r.convertToTspans,j),M=n.bBox(D.node(),!0);P.titleBox={width:M.width,height:M.height},D.remove()}}function b(R,j,P){var I=P.r||j.rpx1,Z=j.rInscribed;if(j.startangle===j.stopangle)return{rCenter:1-Z,scale:0,rotate:0,textPosAngle:0};var q,D=j.ring,M=1===D&&Math.abs(j.startangle-j.stopangle)===2*Math.PI,H=j.halfangle,C=j.midangle,W=P.trace.insidetextorientation,K="horizontal"===W,J="tangential"===W,Q="radial"===W,ut="auto"===W,ct=[];if(!ut){var gt,vt=function(lt,rt){if(It=(bt=j).stopangle,(Ot=bt.startangle)>(wt=lt)&&wt>It||Ot<wt&&wt<It){var dt=Math.abs(lt-j.startangle),mt=Math.abs(lt-j.stopangle),Dt=dt<mt?dt:mt;(q="tan"===rt?L(R,I,D,Dt,0):k(R,I,D,Dt,Math.PI/2)).textPosAngle=lt,ct.push(q)}var bt,wt,Ot,It};if(K||J){for(gt=4;gt>=-4;gt-=2)vt(Math.PI*gt,"tan");for(gt=4;gt>=-4;gt-=2)vt(Math.PI*(gt+1),"tan")}if(K||Q){for(gt=4;gt>=-4;gt-=2)vt(Math.PI*(gt+1.5),"rad");for(gt=4;gt>=-4;gt-=2)vt(Math.PI*(gt+.5),"rad")}}if(M||ut||K){var xt=Math.sqrt(R.width*R.width+R.height*R.height);if((q={scale:Z*I*2/xt,rCenter:1-Z,rotate:0}).textPosAngle=(j.startangle+j.stopangle)/2,q.scale>=1)return q;ct.push(q)}(ut||Q)&&((q=k(R,I,D,H,C)).textPosAngle=(j.startangle+j.stopangle)/2,ct.push(q)),(ut||J)&&((q=L(R,I,D,H,C)).textPosAngle=(j.startangle+j.stopangle)/2,ct.push(q));for(var Tt=0,zt=0,Et=0;Et<ct.length;Et++){var At=ct[Et].scale;if(zt<At&&(zt=At,Tt=Et),!ut&&zt>=1)break}return ct[Tt]}function k(R,j,P,I,Z){j=Math.max(0,j-2*p);var q=R.width/R.height,D=E(q,I,j,P);return{scale:2*D/R.height,rCenter:g(q,D/j),rotate:S(Z)}}function L(R,j,P,I,Z){j=Math.max(0,j-2*p);var q=R.height/R.width,D=E(q,I,j,P);return{scale:2*D/R.width,rCenter:g(q,D/j),rotate:S(Z+Math.PI/2)}}function g(R,j){return Math.cos(j)-R*j}function S(R){return(180/Math.PI*R+720)%180-90}function E(R,j,P,I){var Z=R+1/(2*Math.tan(j));return P*Math.min(1/(Math.sqrt(Z*Z+.5)+Z),I/(Math.sqrt(R*R+I/2)+R))}function v(R,j){return R.v!==j.vTotal||j.trace.hole?Math.min(1/(1+1/Math.sin(R.halfangle)),R.ring/2):1}function F(R,j){var P=j.pxmid[0],I=j.pxmid[1],Z=R.width/2,q=R.height/2;return P<0&&(Z*=-1),I<0&&(q*=-1),{scale:1,rCenter:1,rotate:0,x:Z+Math.abs(q)*(Z>0?1:-1)/2,y:q/(1+P*P/(I*I)),outside:!0}}function N(R,j){var P,I,Z,q=R.trace,D={x:R.cx,y:R.cy},M={tx:0,ty:0};M.ty+=q.title.font.size,Z=U(q),-1!==q.title.position.indexOf("top")?(D.y-=(1+Z)*R.r,M.ty-=R.titleBox.height):-1!==q.title.position.indexOf("bottom")&&(D.y+=(1+Z)*R.r);var C,W=R.r/(void 0===(C=R.trace.aspectratio)?1:C),K=j.w*(q.domain.x[1]-q.domain.x[0])/2;return-1!==q.title.position.indexOf("left")?(K+=W,D.x-=(1+Z)*W,M.tx+=R.titleBox.width/2):-1!==q.title.position.indexOf("center")?K*=2:-1!==q.title.position.indexOf("right")&&(K+=W,D.x+=(1+Z)*W,M.tx-=R.titleBox.width/2),P=K/R.titleBox.width,I=z(R,j)/R.titleBox.height,{x:D.x,y:D.y,scale:Math.min(P,I),tx:M.tx,ty:M.ty}}function z(R,j){var P=R.trace;return Math.min(R.titleBox.height,j.h*(P.domain.y[1]-P.domain.y[0])/2)}function U(R){var j,P=R.pull;if(!P)return 0;if(Array.isArray(P))for(P=0,j=0;j<R.pull.length;j++)R.pull[j]>P&&(P=R.pull[j]);return P}function Y(R,j){for(var P=[],I=0;I<R.length;I++){var Z=R[I][0],q=Z.trace,D=q.domain,M=j.w*(D.x[1]-D.x[0]),H=j.h*(D.y[1]-D.y[0]);q.title.text&&"middle center"!==q.title.position&&(H-=z(Z,j));var W=H/2;"funnelarea"!==q.type||q.scalegroup||(W/=q.aspectratio),Z.r=Math.min(M/2,W)/(1+U(q)),Z.cx=j.l+j.w*(q.domain.x[1]+q.domain.x[0])/2,Z.cy=j.t+j.h*(1-q.domain.y[0])-H/2,q.title.text&&-1!==q.title.position.indexOf("bottom")&&(Z.cy-=z(Z,j)),q.scalegroup&&-1===P.indexOf(q.scalegroup)&&P.push(q.scalegroup)}!function(K,J){for(var Q,ut,ct,gt=0;gt<J.length;gt++){var vt=1/0,xt=J[gt];for(ut=0;ut<K.length;ut++)if((ct=(Q=K[ut][0]).trace).scalegroup===xt){var Tt;if("pie"===ct.type)Tt=Q.r*Q.r;else if("funnelarea"===ct.type){var zt,Et;ct.aspectratio>1?Et=(zt=Q.r)/ct.aspectratio:zt=(Et=Q.r)*ct.aspectratio,Tt=(zt*=(1+ct.baseratio)/2)*Et}vt=Math.min(vt,Tt/Q.vTotal)}for(ut=0;ut<K.length;ut++)if((ct=(Q=K[ut][0]).trace).scalegroup===xt){var At=vt*Q.vTotal;"funnelarea"===ct.type&&(At/=(1+ct.baseratio)/2,At/=ct.aspectratio),Q.r=Math.sqrt(At)}}}(R,P)}function $(R,j){return[R*Math.sin(j),-R*Math.cos(j)]}function ot(R,j,P){var Tt,I=R._fullLayout,Z=P.trace,q=Z.texttemplate,D=Z.textinfo;if(!q&&D&&"none"!==D){var M,H=D.split("+"),C=function(Tt){return-1!==H.indexOf(Tt)},W=C("label"),K=C("text"),J=C("value"),Q=C("percent"),ut=I.separators;if(M=W?[j.label]:[],K){var ct=T.getFirstFilled(Z.text,j.pts);x(ct)&&M.push(ct)}J&&M.push(T.formatPieValue(j.v,ut)),Q&&M.push(T.formatPiePercent(j.v/P.vTotal,ut)),j.text=M.join("<br>")}if(q){var gt=s.castOption(Z,j.i,"texttemplate");if(gt){var vt={label:(Tt=j).label,value:Tt.v,valueLabel:T.formatPieValue(Tt.v,I.separators),percent:Tt.v/P.vTotal,percentLabel:T.formatPiePercent(Tt.v/P.vTotal,I.separators),color:Tt.color,text:Tt.text,customdata:s.castOption(Z,Tt.i,"customdata")},xt=T.getFirstFilled(Z.text,j.pts);(x(xt)||""===xt)&&(vt.text=xt),j.text=s.texttemplateString(gt,vt,R._fullLayout._d3locale,vt,Z._meta||{})}else j.text=""}}function G(R,j){var P=R.rotate*Math.PI/180,I=Math.cos(P),Z=Math.sin(P),q=(j.left+j.right)/2,D=(j.top+j.bottom)/2;R.textX=q*I-D*Z,R.textY=q*Z+D*I,R.noCenter=!0}tt.exports={plot:function(R,j){var P=R._fullLayout,I=P._size;h("pie",P),A(j,R),Y(j,I);var Z=s.makeTraceGroups(P._pielayer,j,"trace").each(function(q){var D=t.select(this),M=q[0],H=M.trace;(function(C){var W,K,J,Q=C[0],ut=Q.r,ct=Q.trace,gt=T.getRotationAngle(ct.rotation),vt=2*Math.PI/Q.vTotal,xt="px0",Tt="px1";if("counterclockwise"===ct.direction){for(W=0;W<C.length&&C[W].hidden;W++);if(W===C.length)return;gt+=vt*C[W].v,vt*=-1,xt="px1",Tt="px0"}for(J=$(ut,gt),W=0;W<C.length;W++)(K=C[W]).hidden||(K[xt]=J,K.startangle=gt,K.pxmid=$(ut,gt+=vt*K.v/2),K.midangle=gt,J=$(ut,gt+=vt*K.v/2),K.stopangle=gt,K[Tt]=J,K.largeArc=K.v>Q.vTotal/2?1:0,K.halfangle=Math.PI*Math.min(K.v/Q.vTotal,.5),K.ring=1-ct.hole,K.rInscribed=v(K,Q))})(q),D.attr("stroke-linejoin","round"),D.each(function(){var C=t.select(this).selectAll("g.slice").data(q);C.enter().append("g").classed("slice",!0),C.exit().remove();var W=[[[],[]],[[],[]]],K=!1;C.each(function(Tt,zt){if(Tt.hidden)t.select(this).selectAll("path,g").remove();else{Tt.pointNumber=Tt.i,Tt.curveNumber=H.index,W[Tt.pxmid[1]<0?0:1][Tt.pxmid[0]<0?0:1].push(Tt);var Et=M.cx,At=M.cy,lt=t.select(this),rt=lt.selectAll("path.surface").data([Tt]);if(rt.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),lt.call(m,R,q),H.pull){var dt=+T.castOption(H.pull,Tt.pts)||0;dt>0&&(Et+=dt*Tt.pxmid[0],At+=dt*Tt.pxmid[1])}Tt.cxFinal=Et,Tt.cyFinal=At;var mt=H.hole;if(Tt.v===M.vTotal){var Dt="M"+(Et+Tt.px0[0])+","+(At+Tt.px0[1])+St(Tt.px0,Tt.pxmid,!0,1)+St(Tt.pxmid,Tt.px0,!0,1)+"Z";rt.attr("d",mt?"M"+(Et+mt*Tt.px0[0])+","+(At+mt*Tt.px0[1])+St(Tt.px0,Tt.pxmid,!1,mt)+St(Tt.pxmid,Tt.px0,!1,mt)+"Z"+Dt:Dt)}else{var bt=St(Tt.px0,Tt.px1,!0,1);if(mt){var wt=1-mt;rt.attr("d","M"+(Et+mt*Tt.px1[0])+","+(At+mt*Tt.px1[1])+St(Tt.px1,Tt.px0,!1,mt)+"l"+wt*Tt.px0[0]+","+wt*Tt.px0[1]+bt+"Z")}else rt.attr("d","M"+Et+","+At+"l"+Tt.px0[0]+","+Tt.px0[1]+bt+"Z")}ot(R,Tt,M);var Ot=T.castOption(H.textposition,Tt.pts),It=lt.selectAll("g.slicetext").data(Tt.text&&"none"!==Ot?[0]:[]);It.enter().append("g").classed("slicetext",!0),It.exit().remove(),It.each(function(){var kt,Mt,qt,Nt=s.ensureSingle(t.select(this),"text","",function(kt){kt.attr("data-notex",1)}),Vt=s.ensureUniformFontSize(R,"outside"===Ot?(qt=P.font,{color:T.castOption((kt=H).outsidetextfont.color,(Mt=Tt).pts)||T.castOption(kt.textfont.color,Mt.pts)||qt.color,family:T.castOption(kt.outsidetextfont.family,Mt.pts)||T.castOption(kt.textfont.family,Mt.pts)||qt.family,size:T.castOption(kt.outsidetextfont.size,Mt.pts)||T.castOption(kt.textfont.size,Mt.pts)||qt.size}):y(H,Tt,P.font));Nt.text(Tt.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(n.font,Vt).call(r.convertToTspans,R);var Ct,Gt=n.bBox(Nt.node());if("outside"===Ot)Ct=F(Gt,Tt);else if(Ct=b(Gt,Tt,M),"auto"===Ot&&Ct.scale<1){var $t=s.ensureUniformFontSize(R,H.outsidetextfont);Nt.call(n.font,$t),Ct=F(Gt=n.bBox(Nt.node()),Tt)}var Xt=Ct.textPosAngle,de=void 0===Xt?Tt.pxmid:$(M.r,Xt);if(Ct.targetX=Et+de[0]*Ct.rCenter+(Ct.x||0),Ct.targetY=At+de[1]*Ct.rCenter+(Ct.y||0),G(Ct,Gt),Ct.outside){var Kt=Ct.targetY;Tt.yLabelMin=Kt-Gt.height/2,Tt.yLabelMid=Kt,Tt.yLabelMax=Kt+Gt.height/2,Tt.labelExtraX=0,Tt.labelExtraY=0,K=!0}Ct.fontSize=Vt.size,f(H.type,Ct,P),q[zt].transform=Ct,Nt.attr("transform",s.getTextTransform(Ct))})}function St(Nt,Vt,Ct,Gt){return"a"+Gt*M.r+","+Gt*M.r+" 0 "+Tt.largeArc+(Ct?" 1 ":" 0 ")+Gt*(Vt[0]-Nt[0])+","+Gt*(Vt[1]-Nt[1])}});var zt,J=t.select(this).selectAll("g.titletext").data(H.title.text?[0]:[]);if(J.enter().append("g").classed("titletext",!0),J.exit().remove(),J.each(function(){var Tt,At,lt,zt=s.ensureSingle(t.select(this),"text","",function(At){At.attr("data-notex",1)}),Et=H.title.text;H._meta&&(Et=s.templateString(Et,H._meta)),zt.text(Et).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(n.font,H.title.font).call(r.convertToTspans,R),Tt="middle center"===H.title.position?(At=M,lt=Math.sqrt(At.titleBox.width*At.titleBox.width+At.titleBox.height*At.titleBox.height),{x:At.cx,y:At.cy,scale:At.trace.hole*At.r*2/lt,tx:0,ty:-At.titleBox.height/2+At.trace.title.font.size}):N(M,I),zt.attr("transform",i(Tt.x,Tt.y)+a(Math.min(1,Tt.scale))+i(Tt.tx,Tt.ty))}),K&&function(Tt,zt){var Et,At,lt,rt,dt,mt,Dt,bt,wt,Ot,It,St,Nt;function Vt(Xt,de){return Xt.pxmid[1]-de.pxmid[1]}function Ct(Xt,de){return de.pxmid[1]-Xt.pxmid[1]}function Gt(Xt,de){de||(de={});var Kt,kt,Mt,qt,ce=de.labelExtraY+(At?de.yLabelMax:de.yLabelMin),Te=At?Xt.yLabelMin:Xt.yLabelMax,Oe=At?Xt.yLabelMax:Xt.yLabelMin,xe=Xt.cyFinal+dt(Xt.px0[1],Xt.px1[1]),ye=ce-Te;if(ye*Dt>0&&(Xt.labelExtraY=ye),Array.isArray(zt.pull))for(kt=0;kt<Ot.length;kt++)(Mt=Ot[kt])===Xt||(T.castOption(zt.pull,Xt.pts)||0)>=(T.castOption(zt.pull,Mt.pts)||0)||((Xt.pxmid[1]-Mt.pxmid[1])*Dt>0?(ye=Mt.cyFinal+dt(Mt.px0[1],Mt.px1[1])-Te-Xt.labelExtraY)*Dt>0&&(Xt.labelExtraY+=ye):(Oe+Xt.labelExtraY-xe)*Dt>0&&(Kt=3*mt*Math.abs(kt-Ot.indexOf(Xt)),(qt=Mt.cxFinal+rt(Mt.px0[0],Mt.px1[0])+Kt-(Xt.cxFinal+Xt.pxmid[0])-Xt.labelExtraX)*mt>0&&(Xt.labelExtraX+=qt)))}for(At=0;At<2;At++)for(lt=At?Vt:Ct,dt=At?Math.max:Math.min,Dt=At?1:-1,Et=0;Et<2;Et++){for(rt=Et?Math.max:Math.min,mt=Et?1:-1,(bt=Tt[At][Et]).sort(lt),Ot=(wt=Tt[1-At][Et]).concat(bt),St=[],It=0;It<bt.length;It++)void 0!==bt[It].yLabelMid&&St.push(bt[It]);for(Nt=!1,It=0;At&&It<wt.length;It++)if(void 0!==wt[It].yLabelMid){Nt=wt[It];break}for(It=0;It<St.length;It++){var $t=It&&St[It-1];Nt&&!It&&($t=Nt),Gt(St[It],$t)}}}(W,H),zt=H,C.each(function(Et){var At=t.select(this);if(Et.labelExtraX||Et.labelExtraY){var lt=At.select("g.slicetext text");Et.transform.targetX+=Et.labelExtraX,Et.transform.targetY+=Et.labelExtraY,lt.attr("transform",s.getTextTransform(Et.transform));var rt=Et.cxFinal+Et.pxmid[0],dt="M"+rt+","+(Et.cyFinal+Et.pxmid[1]),mt=(Et.yLabelMax-Et.yLabelMin)*(Et.pxmid[0]<0?-1:1)/4;if(Et.labelExtraX){var Dt=Et.labelExtraX*Et.pxmid[1]/Et.pxmid[0],bt=Et.yLabelMid+Et.labelExtraY-(Et.cyFinal+Et.pxmid[1]);Math.abs(Dt)>Math.abs(bt)?dt+="l"+bt*Et.pxmid[0]/Et.pxmid[1]+","+bt+"H"+(rt+Et.labelExtraX+mt):dt+="l"+Et.labelExtraX+","+Dt+"v"+(bt-Dt)+"h"+mt}else dt+="V"+(Et.yLabelMid+Et.labelExtraY)+"h"+mt;s.ensureSingle(At,"path","textline").call(e.stroke,zt.outsidetextfont.color).attr({"stroke-width":Math.min(2,zt.outsidetextfont.size/8),d:dt,fill:"none"})}else At.select("path.textline").remove()}),K&&H.automargin){var Q=n.bBox(D.node()),ut=H.domain,vt=(I.w*(ut.x[1]-ut.x[0])*.5-M.r)/I.w,xt=(I.h*(ut.y[1]-ut.y[0])*.5-M.r)/I.h;l.autoMargin(R,"pie."+H.uid+".automargin",{xl:ut.x[0]-vt,xr:ut.x[1]+vt,yb:ut.y[0]-xt,yt:ut.y[1]+xt,l:Math.max(M.cx-M.r-Q.left,0),r:Math.max(Q.right-(M.cx+M.r),0),b:Math.max(Q.bottom-(M.cy+M.r),0),t:Math.max(M.cy-M.r-Q.top,0),pad:5})}})});setTimeout(function(){Z.selectAll("tspan").each(function(){var q=t.select(this);q.attr("dy")&&q.attr("dy",q.attr("dy"))})},0)},formatSliceLabel:ot,transformInsideText:b,determineInsideTextFont:y,positionTitleOutside:N,prerenderTitles:A,layoutAreas:Y,attachFxHandlers:m,computeTransform:G}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx":142,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../bar/constants":330,"../bar/uniform_text":344,"./event_data":349,"./helpers":350,"@plotly/d3":11}],355:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("./style_one"),o=c("../bar/uniform_text").resizeText;tt.exports=function(e){var n=e._fullLayout._pielayer.selectAll(".trace");o(e,n,"pie"),n.each(function(s){var a=s[0].trace,i=t.select(this);i.style({opacity:a.opacity}),i.selectAll("path.surface").each(function(r){t.select(this).call(l,r,a)})})}},{"../bar/uniform_text":344,"./style_one":356,"@plotly/d3":11}],356:[function(c,tt,B){"use strict";var t=c("../../components/color"),l=c("./helpers").castOption;tt.exports=function(o,e,n){var s=n.marker.line,a=l(s.color,e.pts)||t.defaultLine,i=l(s.width,e.pts)||0;o.style("stroke-width",i).call(t.fill,e.color).call(t.stroke,a)}},{"../../components/color":102,"./helpers":350}],357:[function(c,tt,B){"use strict";var t=c("../../lib");tt.exports=function(l,o){for(var e=0;e<l.length;e++)l[e].i=e;t.mergeArray(o.text,l,"tx"),t.mergeArray(o.texttemplate,l,"txt"),t.mergeArray(o.hovertext,l,"htx"),t.mergeArray(o.customdata,l,"data"),t.mergeArray(o.textposition,l,"tp"),o.textfont&&(t.mergeArrayCastPositive(o.textfont.size,l,"ts"),t.mergeArray(o.textfont.color,l,"tc"),t.mergeArray(o.textfont.family,l,"tf"));var n=o.marker;if(n){t.mergeArrayCastPositive(n.size,l,"ms"),t.mergeArrayCastPositive(n.opacity,l,"mo"),t.mergeArray(n.symbol,l,"mx"),t.mergeArray(n.color,l,"mc");var s=n.line;n.line&&(t.mergeArray(s.color,l,"mlc"),t.mergeArrayCastPositive(s.width,l,"mlw"));var a=n.gradient;a&&"none"!==a.type&&(t.mergeArray(a.type,l,"mgt"),t.mergeArray(a.color,l,"mgc"))}}},{"../../lib":232}],358:[function(c,tt,B){"use strict";var t=c("../../plots/cartesian/axis_format_attributes").axisHoverFormat,l=c("../../plots/template_attributes").texttemplateAttrs,o=c("../../plots/template_attributes").hovertemplateAttrs,e=c("../../components/colorscale/attributes"),n=c("../../plots/font_attributes"),s=c("../../components/drawing/attributes").dash,a=c("../../components/drawing/attributes").pattern,i=c("../../components/drawing"),r=c("./constants"),d=c("../../lib/extend").extendFlat;tt.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:t("x"),yhoverformat:t("y"),stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:l({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:o({},{keys:r.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:d({},s,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:a,marker:d({symbol:{valType:"enumerated",values:i.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:d({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},e("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},e("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:n({editType:"calc",colorEditType:"style",arrayOk:!0})}},{"../../components/colorscale/attributes":109,"../../components/drawing":124,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":310,"../../plots/template_attributes":317,"./constants":362}],359:[function(c,tt,B){"use strict";var t=c("fast-isnumeric"),l=c("../../lib"),o=c("../../plots/cartesian/axes"),e=c("../../plots/cartesian/align_period"),n=c("../../constants/numerical").BADNUM,s=c("./subtypes"),a=c("./colorscale_calc"),i=c("./arrays_to_calcdata"),r=c("./calc_selection");function d(w,x,m,y,A,b,k){var L=x._length,g=w._fullLayout,S=m._id,E=y._id,v=g._firstScatter[p(x)]===x.uid,F=(T(x,g,m,y)||{}).orientation,N=x.fill;m._minDtick=0,y._minDtick=0;var z={padded:!0},U={padded:!0};k&&(z.ppad=U.ppad=k);var Y=L<2||A[0]!==A[L-1]||b[0]!==b[L-1];Y&&("tozerox"===N||"tonextx"===N&&(v||"h"===F))?z.tozero=!0:(x.error_y||{}).visible||"tonexty"!==N&&"tozeroy"!==N&&(s.hasMarkers(x)||s.hasText(x))||(z.padded=!1,z.ppad=0),Y&&("tozeroy"===N||"tonexty"===N&&(v||"v"===F))?U.tozero=!0:"tonextx"!==N&&"tozerox"!==N||(U.padded=!1),S&&(x._extremes[S]=o.findExtremes(m,A,z)),E&&(x._extremes[E]=o.findExtremes(y,b,U))}function f(w,x){if(s.hasMarkers(w)){var m,y=w.marker,A=1.6*(w.marker.sizeref||1);if(m="area"===w.marker.sizemode?function(S){return Math.max(Math.sqrt((S||0)/A),3)}:function(S){return Math.max((S||0)/A,3)},l.isArrayOrTypedArray(y.size)){var b={type:"linear"};o.setConvert(b);for(var k=b.makeCalcdata(w.marker,"size"),L=new Array(x),g=0;g<x;g++)L[g]=m(k[g]);return L}return m(y.size)}}function h(w,x){var m=p(x),y=w._firstScatter;y[m]||(y[m]=x.uid)}function p(w){var x=w.stackgroup;return w.xaxis+w.yaxis+w.type+(x?"-"+x:"")}function T(w,x,m,y){var A=w.stackgroup;if(A){var b=x._scatterStackOpts[m._id+y._id][A],k="v"===b.orientation?y:m;return"linear"===k.type||"log"===k.type?b:void 0}}tt.exports={calc:function(w,x){var m,y,A,b,k,L,g=w._fullLayout,S=o.getFromId(w,x.xaxis||"x"),E=o.getFromId(w,x.yaxis||"y"),v=S.makeCalcdata(x,"x"),F=E.makeCalcdata(x,"y"),N=e(x,S,"x",v),z=e(x,E,"y",F),U=N.vals,Y=z.vals,$=x._length,ot=new Array($),G=x.ids,R=T(x,g,S,E),j=!1;h(g,x);var P,I="x",Z="y";R?(l.pushUnique(R.traceIndices,x._expandedIndex),(m="v"===R.orientation)?(Z="s",P="x"):(I="s",P="y"),k="interpolate"===R.stackgaps):d(w,x,S,E,U,Y,f(x,$));var q=!!x.xperiodalignment,D=!!x.yperiodalignment;for(y=0;y<$;y++){var M=ot[y]={},H=t(U[y]),C=t(Y[y]);H&&C?(M[I]=U[y],M[Z]=Y[y],q&&(M.orig_x=v[y],M.xEnd=N.ends[y],M.xStart=N.starts[y]),D&&(M.orig_y=F[y],M.yEnd=z.ends[y],M.yStart=z.starts[y])):R&&(m?H:C)?(M[P]=m?U[y]:Y[y],M.gap=!0,k?(M.s=n,j=!0):M.s=0):M[I]=M[Z]=n,G&&(M.id=String(G[y]))}if(i(ot,x),a(w,x),r(ot,x),R){for(y=0;y<ot.length;)ot[y][P]===n?ot.splice(y,1):y++;if(l.sort(ot,function(Q,ut){return Q[P]-ut[P]||Q.i-ut.i}),j){for(y=0;y<ot.length-1&&ot[y].gap;)y++;for((L=ot[y].s)||(L=ot[y].s=0),A=0;A<y;A++)ot[A].s=L;for(b=ot.length-1;b>y&&ot[b].gap;)b--;for(L=ot[b].s,A=ot.length-1;A>b;A--)ot[A].s=L;for(;y<b;)if(ot[++y].gap){for(A=y+1;ot[A].gap;)A++;for(var W=ot[y-1][P],K=ot[y-1].s,J=(ot[A].s-K)/(ot[A][P]-W);y<A;)ot[y].s=K+(ot[y][P]-W)*J,y++}}}return ot},calcMarkerSize:f,calcAxisExpansion:d,setFirstScatter:h,getStackOpts:T}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"./arrays_to_calcdata":357,"./calc_selection":360,"./colorscale_calc":361,"./subtypes":383,"fast-isnumeric":17}],360:[function(c,tt,B){"use strict";var t=c("../../lib");tt.exports=function(l,o){t.isArrayOrTypedArray(o.selectedpoints)&&t.tagSelected(l,o)}},{"../../lib":232}],361:[function(c,tt,B){"use strict";var t=c("../../components/colorscale/helpers").hasColorscale,l=c("../../components/colorscale/calc"),o=c("./subtypes");tt.exports=function(e,n){o.hasLines(n)&&t(n,"line")&&l(e,n,{vals:n.line.color,containerStr:"line",cLetter:"c"}),o.hasMarkers(n)&&(t(n,"marker")&&l(e,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),t(n,"marker.line")&&l(e,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"./subtypes":383}],362:[function(c,tt,B){"use strict";tt.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],363:[function(c,tt,B){"use strict";var t=c("./calc");function l(o,e,n,s,a,i,r){a[s]=!0;var h,p,w,x,m,d={i:null,gap:!0,s:0};if(d[r]=n,o.splice(e,0,d),e&&n===o[e-1][r]){var f=o[e-1];d.s=f.s,d.i=f.i,d.gap=f.gap}else i&&(d.s=(w=r,x=(h=o)[(p=e)-1],(m=h[p+1])?x?x.s+(m.s-x.s)*(n-x[w])/(m[w]-x[w]):m.s:x.s));e||(o[0].t=o[1].t,o[0].trace=o[1].trace,delete o[1].t,delete o[1].trace)}tt.exports=function(o,e){var n=e.xaxis,s=e.yaxis,i=o._fullLayout._scatterStackOpts[n._id+s._id];if(i){var r,d,f,h,p,T,w,x,m,y,A,b,k,L,g,S=o.calcdata;for(var E in i){var v=(y=i[E]).traceIndices;if(v.length){for(A="interpolate"===y.stackgaps,b=y.groupnorm,"v"===y.orientation?(k="x",L="y"):(k="y",L="x"),g=new Array(v.length),r=0;r<g.length;r++)g[r]=!1;T=S[v[0]];var F=new Array(T.length);for(r=0;r<T.length;r++)F[r]=T[r][k];for(r=1;r<v.length;r++){for(p=S[v[r]],d=f=0;d<p.length;d++){for(w=p[d][k];w>F[f]&&f<F.length;f++)l(p,d,F[f],r,g,A,k),d++;if(w!==F[f]){for(h=0;h<r;h++)l(S[v[h]],f,w,h,g,A,k);F.splice(f,0,w)}f++}for(;f<F.length;f++)l(p,d,F[f],r,g,A,k),d++}var N=F.length;for(d=0;d<T.length;d++){for(x=T[d][L]=T[d].s,r=1;r<v.length;r++)(p=S[v[r]])[0].trace._rawLength=p[0].trace._length,p[0].trace._length=N,p[d][L]=x+=p[d].s;if(b)for(m=("fraction"===b?x:x/100)||1,r=0;r<v.length;r++){var z=S[v[r]][d];z[L]/=m,z.sNorm=z.s/m}}for(r=0;r<v.length;r++){var U=(p=S[v[r]])[0].trace,Y=t.calcMarkerSize(U,U._rawLength),$=Array.isArray(Y);if(Y&&g[r]||$){var ot=Y;for(Y=new Array(N),d=0;d<N;d++)Y[d]=p[d].gap?0:$?ot[p[d].i]:ot}var G=new Array(N),R=new Array(N);for(d=0;d<N;d++)G[d]=p[d].x,R[d]=p[d].y;t.calcAxisExpansion(o,U,n,s,G,R,Y),p[0].t.orientation=y.orientation}}}}}},{"./calc":359}],364:[function(c,tt,B){"use strict";tt.exports=function(t){for(var l=0;l<t.length;l++){var o=t[l];if("scatter"===o.type){var e=o.fill;if("none"!==e&&"toself"!==e&&(o.opacity=void 0,"tonexty"===e||"tonextx"===e))for(var n=l-1;n>=0;n--){var s=t[n];if("scatter"===s.type&&s.xaxis===o.xaxis&&s.yaxis===o.yaxis){s.opacity=void 0;break}}}}}},{}],365:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../registry"),o=c("./attributes"),e=c("./constants"),n=c("./subtypes"),s=c("./xy_defaults"),a=c("./period_defaults"),i=c("./stack_defaults"),r=c("./marker_defaults"),d=c("./line_defaults"),f=c("./line_shape_defaults"),h=c("./text_defaults"),p=c("./fillcolor_defaults"),T=c("../../lib").coercePattern;tt.exports=function(w,x,m,y){function A(F,N){return t.coerce(w,x,o,F,N)}var b=s(w,x,y,A);if(b||(x.visible=!1),x.visible){a(w,x,y,A),A("xhoverformat"),A("yhoverformat");var k=i(w,x,y,A),L=!k&&b<e.PTS_LINESONLY?"lines+markers":"lines";A("text"),A("hovertext"),A("mode",L),n.hasLines(x)&&(d(w,x,m,y,A),f(w,x,A),A("connectgaps"),A("line.simplify")),n.hasMarkers(x)&&r(w,x,m,y,A,{gradient:!0}),n.hasText(x)&&(A("texttemplate"),h(w,x,y,A));var g=[];(n.hasMarkers(x)||n.hasText(x))&&(A("cliponaxis"),A("marker.maxdisplayed"),g.push("points")),A("fill",k?k.fillDflt:"none"),"none"!==x.fill&&(p(w,x,m,A),n.hasLines(x)||f(w,x,A),T(A,"fillpattern",x.fillcolor,!1));var S=(x.line||{}).color,E=(x.marker||{}).color;"tonext"!==x.fill&&"toself"!==x.fill||g.push("fills"),A("hoveron",g.join("+")||"points"),"fills"!==x.hoveron&&A("hovertemplate");var v=l.getComponentMethod("errorbars","supplyDefaults");v(w,x,S||E||m,{axis:"y"}),v(w,x,S||E||m,{axis:"x",inherit:"y"}),t.coerceSelectionMarkerOpacity(x,A)}}},{"../../lib":232,"../../registry":318,"./attributes":358,"./constants":362,"./fillcolor_defaults":366,"./line_defaults":371,"./line_shape_defaults":373,"./marker_defaults":377,"./period_defaults":378,"./stack_defaults":381,"./subtypes":383,"./text_defaults":384,"./xy_defaults":385}],366:[function(c,tt,B){"use strict";var t=c("../../components/color"),l=c("../../lib").isArrayOrTypedArray;tt.exports=function(o,e,n,s){var a=!1;if(e.marker){var i=e.marker.color,r=(e.marker.line||{}).color;i&&!l(i)?a=i:r&&!l(r)&&(a=r)}s("fillcolor",t.addOpacity((e.line||{}).color||a||n,.5))}},{"../../components/color":102,"../../lib":232}],367:[function(c,tt,B){"use strict";var t=c("../../plots/cartesian/axes");tt.exports=function(l,o,e){var n={},s={_fullLayout:e},a=t.getFromTrace(s,o,"x"),i=t.getFromTrace(s,o,"y");return n.xLabel=t.tickText(a,a.c2l(l.x),!0).text,n.yLabel=t.tickText(i,i.c2l(l.y),!0).text,n}},{"../../plots/cartesian/axes":279}],368:[function(c,tt,B){"use strict";var t=c("../../components/color"),l=c("./subtypes");tt.exports=function(o,e){var n,s;if("lines"===o.mode)return(n=o.line.color)&&t.opacity(n)?n:o.fillcolor;if("none"===o.mode)return o.fill?o.fillcolor:"";var a=e.mcc||(o.marker||{}).color,i=e.mlcc||((o.marker||{}).line||{}).color;return(s=a&&t.opacity(a)?a:i&&t.opacity(i)&&(e.mlw||((o.marker||{}).line||{}).width)?i:"")?t.opacity(s)<.3?t.addOpacity(s,.3):s:(n=(o.line||{}).color)&&t.opacity(n)&&l.hasLines(o)&&o.line.width?n:o.fillcolor}},{"../../components/color":102,"./subtypes":383}],369:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../components/fx"),o=c("../../registry"),e=c("./get_trace_color"),n=c("../../components/color"),s=t.fillText;tt.exports=function(a,i,r,d){var f=a.cd,h=f[0].trace,p=a.xa,T=a.ya,w=p.c2p(i),x=T.c2p(r),m=[w,x],y=h.hoveron||"",A=-1!==h.mode.indexOf("markers")?3:.5,b=!!h.xperiodalignment,k=!!h.yperiodalignment;if(-1!==y.indexOf("points")){var L=function(ct){var gt=Math.max(A,ct.mrc||0),vt=p.c2p(ct.x)-w,xt=T.c2p(ct.y)-x;return Math.max(Math.sqrt(vt*vt+xt*xt)-gt,1-A/gt)},g=l.getDistanceFunction(d,function(ct){if(b){var gt=p.c2p(ct.xStart),vt=p.c2p(ct.xEnd);return w>=Math.min(gt,vt)&&w<=Math.max(gt,vt)?0:1/0}var xt=Math.max(3,ct.mrc||0),Tt=1-1/xt,zt=Math.abs(p.c2p(ct.x)-w);return zt<xt?Tt*zt/xt:zt-xt+Tt},function(ct){if(k){var gt=T.c2p(ct.yStart),vt=T.c2p(ct.yEnd);return x>=Math.min(gt,vt)&&x<=Math.max(gt,vt)?0:1/0}var xt=Math.max(3,ct.mrc||0),Tt=1-1/xt,zt=Math.abs(T.c2p(ct.y)-x);return zt<xt?Tt*zt/xt:zt-xt+Tt},L);if(l.getClosest(f,g,a),!1!==a.index){var S=f[a.index],E=p.c2p(S.x,!0),v=T.c2p(S.y,!0),F=S.mrc||1;a.index=S.i;var N=f[0].t.orientation,z=N&&(S.sNorm||S.s),U="h"===N?z:void 0!==S.orig_x?S.orig_x:S.x,Y="v"===N?z:void 0!==S.orig_y?S.orig_y:S.y;return t.extendFlat(a,{color:e(h,S),x0:E-F,x1:E+F,xLabelVal:U,y0:v-F,y1:v+F,yLabelVal:Y,spikeDistance:L(S),hovertemplate:h.hovertemplate}),s(S,h,a),o.getComponentMethod("errorbars","hoverInfo")(S,h,a),[a]}}if(-1!==y.indexOf("fills")&&h._polygons){var $,ot,G,R,j,P,Z,q,D=h._polygons,M=[],H=!1,C=1/0,W=-1/0,K=1/0,J=-1/0;for($=0;$<D.length;$++)(G=D[$]).contains(m)&&(H=!H,M.push(G),K=Math.min(K,G.ymin),J=Math.max(J,G.ymax));if(H){var Q=((K=Math.max(K,0))+(J=Math.min(J,T._length)))/2;for($=0;$<M.length;$++)for(R=M[$].pts,ot=1;ot<R.length;ot++)(Z=R[ot-1][1])>Q!=(q=R[ot][1])>=Q&&(P=R[ot-1][0],q-Z&&(j=P+(R[ot][0]-P)*(Q-Z)/(q-Z),C=Math.min(C,j),W=Math.max(W,j)));C=Math.max(C,0),W=Math.min(W,p._length);var ut=n.defaultLine;return n.opacity(h.fillcolor)?ut=h.fillcolor:n.opacity((h.line||{}).color)&&(ut=h.line.color),t.extendFlat(a,{distance:a.maxHoverDistance,x0:C,x1:W,y0:Q,y1:Q,color:ut,hovertemplate:!1}),delete a.index,a.text=h.text&&!Array.isArray(h.text)?String(h.text):h.name,[a]}}}},{"../../components/color":102,"../../components/fx":142,"../../lib":232,"../../registry":318,"./get_trace_color":368}],370:[function(c,tt,B){"use strict";var t=c("./subtypes");tt.exports={hasLines:t.hasLines,hasMarkers:t.hasMarkers,hasText:t.hasText,isBubble:t.isBubble,attributes:c("./attributes"),supplyDefaults:c("./defaults"),crossTraceDefaults:c("./cross_trace_defaults"),calc:c("./calc").calc,crossTraceCalc:c("./cross_trace_calc"),arraysToCalcdata:c("./arrays_to_calcdata"),plot:c("./plot"),colorbar:c("./marker_colorbar"),formatLabels:c("./format_labels"),style:c("./style").style,styleOnSelect:c("./style").styleOnSelect,hoverPoints:c("./hover"),selectPoints:c("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:c("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":293,"./arrays_to_calcdata":357,"./attributes":358,"./calc":359,"./cross_trace_calc":363,"./cross_trace_defaults":364,"./defaults":365,"./format_labels":367,"./hover":369,"./marker_colorbar":376,"./plot":379,"./select":380,"./style":382,"./subtypes":383}],371:[function(c,tt,B){"use strict";var t=c("../../lib").isArrayOrTypedArray,l=c("../../components/colorscale/helpers").hasColorscale,o=c("../../components/colorscale/defaults");tt.exports=function(e,n,s,a,i,r){var d=(e.marker||{}).color;i("line.color",s),l(e,"line")?o(e,n,a,i,{prefix:"line.",cLetter:"c"}):i("line.color",!t(d)&&d||s),i("line.width"),(r||{}).noDash||i("line.dash")}},{"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],372:[function(c,tt,B){"use strict";var t=c("../../constants/numerical"),l=t.BADNUM,o=t.LOG_CLIP,e=o+.5,n=o-.5,s=c("../../lib"),a=s.segmentsIntersect,i=s.constrain,r=c("./constants");tt.exports=function(d,f){var h,p,T,w,x,m,y,A,b,k,L,g,S,E,v,F,N,z,U=f.xaxis,Y=f.yaxis,$="log"===U.type,ot="log"===Y.type,G=U._length,R=Y._length,j=f.connectGaps,P=f.baseTolerance,I=f.shape,Z="linear"===I,q=f.fill&&"none"!==f.fill,D=[],M=r.minTolerance,H=d.length,C=new Array(H),W=0;function K(Ct){var Gt=d[Ct];if(!Gt)return!1;var $t=f.linearized?U.l2p(Gt.x):U.c2p(Gt.x),Xt=f.linearized?Y.l2p(Gt.y):Y.c2p(Gt.y);if($t===l){if($&&($t=U.c2p(Gt.x,!0)),$t===l)return!1;ot&&Xt===l&&($t*=Math.abs(U._m*R*(U._m>0?e:n)/(Y._m*G*(Y._m>0?e:n)))),$t*=1e3}if(Xt===l){if(ot&&(Xt=Y.c2p(Gt.y,!0)),Xt===l)return!1;Xt*=1e3}return[$t,Xt]}function J(Ct,Gt,$t,Xt){var de=$t-Ct,Kt=Xt-Gt,kt=.5-Ct,Mt=.5-Gt,qt=de*de+Kt*Kt,ce=de*kt+Kt*Mt;if(ce>0&&ce<qt){var Te=kt*Kt-Mt*de;if(Te*Te<qt)return!0}}function Q(Ct,Gt){var $t=Ct[0]/G,Xt=Ct[1]/R,de=Math.max(0,-$t,$t-1,-Xt,Xt-1);return de&&void 0!==N&&J($t,Xt,N,z)&&(de=0),de&&Gt&&J($t,Xt,Gt[0]/G,Gt[1]/R)&&(de=0),(1+r.toleranceGrowth*de)*P}function ut(Ct,Gt){var $t=Ct[0]-Gt[0],Xt=Ct[1]-Gt[1];return Math.sqrt($t*$t+Xt*Xt)}var ct,gt,vt,xt,Tt,zt,Et,At=r.maxScreensAway,lt=-G*At,rt=G*(1+At),dt=-R*At,mt=R*(1+At),Dt=[[lt,dt,rt,dt],[rt,dt,rt,mt],[rt,mt,lt,mt],[lt,mt,lt,dt]];function bt(Ct){if(Ct[0]<lt||Ct[0]>rt||Ct[1]<dt||Ct[1]>mt)return[i(Ct[0],lt,rt),i(Ct[1],dt,mt)]}function wt(Ct,Gt){return Ct[0]===Gt[0]&&(Ct[0]===lt||Ct[0]===rt)||Ct[1]===Gt[1]&&(Ct[1]===dt||Ct[1]===mt)||void 0}function Ot(Ct,Gt,$t){return function(Xt,de){var Kt=bt(Xt),kt=bt(de),Mt=[];if(Kt&&kt&&wt(Kt,kt))return Mt;Kt&&Mt.push(Kt),kt&&Mt.push(kt);var qt=2*s.constrain((Xt[Ct]+de[Ct])/2,Gt,$t)-((Kt||Xt)[Ct]+(kt||de)[Ct]);return qt&&((Kt&&kt?qt>0==Kt[Ct]>kt[Ct]?Kt:kt:Kt||kt)[Ct]+=qt),Mt}}function It(Ct){var Gt=Ct[0],$t=Ct[1],Xt=Gt===C[W-1][0],de=$t===C[W-1][1];if(!Xt||!de)if(W>1){var Kt=Gt===C[W-2][0],kt=$t===C[W-2][1];Xt&&(Gt===lt||Gt===rt)&&Kt?kt?W--:C[W-1]=Ct:de&&($t===dt||$t===mt)&&kt?Kt?W--:C[W-1]=Ct:C[W++]=Ct}else C[W++]=Ct}function St(Ct){C[W-1][0]!==Ct[0]&&C[W-1][1]!==Ct[1]&&It([vt,xt]),It(Ct),Tt=null,vt=xt=0}function Nt(Ct){if(N=Ct[0]/G,z=Ct[1]/R,gt=Ct[1]<dt?dt:Ct[1]>mt?mt:0,(ct=Ct[0]<lt?lt:Ct[0]>rt?rt:0)||gt){if(W)if(Tt){var Gt=Et(Tt,Ct);Gt.length>1&&(St(Gt[0]),C[W++]=Gt[1])}else zt=Et(C[W-1],Ct)[0],C[W++]=zt;else C[W++]=[ct||Ct[0],gt||Ct[1]];var $t=C[W-1];ct&&gt&&($t[0]!==ct||$t[1]!==gt)?(Tt&&(vt!==ct&&xt!==gt?It(vt&&xt?(Kt=(de=Ct)[0]-(Xt=Tt)[0],kt=(de[1]-Xt[1])/Kt,(Xt[1]*de[0]-de[1]*Xt[0])/Kt>0?[kt>0?lt:rt,mt]:[kt>0?rt:lt,dt]):[vt||ct,xt||gt]):vt&&xt&&It([vt,xt])),It([ct,gt])):vt-ct&&xt-gt&&It([ct||vt,gt||xt]),Tt=Ct,vt=ct,xt=gt}else Tt&&St(Et(Tt,Ct)[0]),C[W++]=Ct;var Xt,de,Kt,kt}for("linear"===I||"spline"===I?Et=function(Ct,Gt){for(var $t=[],Xt=0,de=0;de<4;de++){var Kt=Dt[de],kt=a(Ct[0],Ct[1],Gt[0],Gt[1],Kt[0],Kt[1],Kt[2],Kt[3]);kt&&(!Xt||Math.abs(kt.x-$t[0][0])>1||Math.abs(kt.y-$t[0][1])>1)&&(kt=[kt.x,kt.y],Xt&&ut(kt,Ct)<ut($t[0],Ct)?$t.unshift(kt):$t.push(kt),Xt++)}return $t}:"hv"===I||"vh"===I?Et=function(Ct,Gt){var $t=[],Xt=bt(Ct),de=bt(Gt);return Xt&&de&&wt(Xt,de)||(Xt&&$t.push(Xt),de&&$t.push(de)),$t}:"hvh"===I?Et=Ot(0,lt,rt):"vhv"===I&&(Et=Ot(1,dt,mt)),h=0;h<H;h++)if(p=K(h)){for(W=0,Tt=null,Nt(p),h++;h<H;h++){if(!(w=K(h))){if(j)continue;break}if(Z&&f.simplify){var Vt=K(h+1);if(k=ut(w,p),q&&(0===W||W===H-1)||!(k<Q(w,Vt)*M)){for(A=[(w[0]-p[0])/k,(w[1]-p[1])/k],x=p,L=k,g=E=v=0,y=!1,T=w,h++;h<d.length;h++){if(m=Vt,Vt=K(h+1),!m){if(j)continue;break}if(F=(b=[m[0]-p[0],m[1]-p[1]])[0]*A[1]-b[1]*A[0],E=Math.min(E,F),(v=Math.max(v,F))-E>Q(m,Vt))break;T=m,(S=b[0]*A[0]+b[1]*A[1])>L?(L=S,w=m,y=!1):S<g&&(g=S,x=m,y=!0)}if(y?(Nt(w),T!==x&&Nt(x)):(x!==p&&Nt(x),T!==w&&Nt(w)),Nt(T),h>=d.length||!m)break;Nt(m),p=m}}else Nt(w)}Tt&&It([vt||Tt[0],xt||Tt[1]]),D.push(C.slice(0,W))}return D}},{"../../constants/numerical":212,"../../lib":232,"./constants":362}],373:[function(c,tt,B){"use strict";tt.exports=function(t,l,o){"spline"===o("line.shape")&&o("line.smoothing")}},{}],374:[function(c,tt,B){"use strict";var t={tonextx:1,tonexty:1,tonext:1};tt.exports=function(l,o,e){var n,s,a,i,r,d={},f=!1,h=-1,p=0,T=-1;for(s=0;s<e.length;s++)(a=(n=e[s][0].trace).stackgroup||"")?a in d?r=d[a]:(r=d[a]=p,p++):n.fill in t&&T>=0?r=T:(r=T=p,p++),r<h&&(f=!0),n._groupIndex=h=r;var w=e.slice();f&&w.sort(function(m,y){var A=m[0].trace,b=y[0].trace;return A._groupIndex-b._groupIndex||A.index-b.index});var x={};for(s=0;s<w.length;s++)a=(n=w[s][0].trace).stackgroup||"",!0===n.visible?(n._nexttrace=null,n.fill in t&&(n._prevtrace=(i=x[a])||null,i&&(i._nexttrace=n)),n._ownfill=n.fill&&("tozero"===n.fill.substr(0,6)||"toself"===n.fill||"to"===n.fill.substr(0,2)&&!n._prevtrace),x[a]=n):n._prevtrace=n._nexttrace=n._ownfill=null;return w}},{}],375:[function(c,tt,B){"use strict";var t=c("fast-isnumeric");tt.exports=function(l,o){o||(o=2);var e=l.marker,n=e.sizeref||1,s=e.sizemin||0,a="area"===e.sizemode?function(i){return Math.sqrt(i/n)}:function(i){return i/n};return function(i){var r=a(i/o);return t(r)&&r>0?Math.max(r,s):0}}},{"fast-isnumeric":17}],376:[function(c,tt,B){"use strict";tt.exports={container:"marker",min:"cmin",max:"cmax"}},{}],377:[function(c,tt,B){"use strict";var t=c("../../components/color"),l=c("../../components/colorscale/helpers").hasColorscale,o=c("../../components/colorscale/defaults"),e=c("./subtypes");tt.exports=function(n,s,a,i,r,d){var f=e.isBubble(n),h=(n.line||{}).color;d=d||{},h&&(a=h),r("marker.symbol"),r("marker.opacity",f?.7:1),r("marker.size"),r("marker.color",a),l(n,"marker")&&o(n,s,i,r,{prefix:"marker.",cLetter:"c"}),d.noSelect||(r("selected.marker.color"),r("unselected.marker.color"),r("selected.marker.size"),r("unselected.marker.size")),d.noLine||(r("marker.line.color",h&&!Array.isArray(h)&&s.marker.color!==h?h:f?t.background:t.defaultLine),l(n,"marker.line")&&o(n,s,i,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width",f?1:0)),f&&(r("marker.sizeref"),r("marker.sizemin"),r("marker.sizemode")),d.gradient&&"none"!==r("marker.gradient.type")&&r("marker.gradient.color")}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"./subtypes":383}],378:[function(c,tt,B){"use strict";var t=c("../../lib").dateTick0,l=c("../../constants/numerical").ONEWEEK;function o(e,n){return t(n,e%l==0?1:0)}tt.exports=function(e,n,s,a,i){if(i||(i={x:!0,y:!0}),i.x){var r=a("xperiod");r&&(a("xperiod0",o(r,n.xcalendar)),a("xperiodalignment"))}if(i.y){var d=a("yperiod");d&&(a("yperiod0",o(d,n.ycalendar)),a("yperiodalignment"))}}},{"../../constants/numerical":212,"../../lib":232}],379:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../../registry"),o=c("../../lib"),e=o.ensureSingle,n=o.identity,s=c("../../components/drawing"),a=c("./subtypes"),i=c("./line_points"),r=c("./link_traces"),d=c("../../lib/polygon").tester;function f(h,p,T,w,x,m,y){var A;!function(rt,dt,mt,Dt,bt){var wt=mt.xaxis,Ot=mt.yaxis,It=t.extent(o.simpleMap(wt.range,wt.r2c)),St=t.extent(o.simpleMap(Ot.range,Ot.r2c)),Nt=Dt[0].trace;if(a.hasMarkers(Nt)){var Vt=Nt.marker.maxdisplayed;if(0!==Vt){var Ct=Dt.filter(function(de){return de.x>=It[0]&&de.x<=It[1]&&de.y>=St[0]&&de.y<=St[1]}),Gt=Math.ceil(Ct.length/Vt),$t=0;bt.forEach(function(de,Kt){var kt=de[0].trace;a.hasMarkers(kt)&&kt.marker.maxdisplayed>0&&Kt<dt&&$t++});var Xt=Math.round($t*Gt/3+Math.floor($t/3)*Gt/7.1);Dt.forEach(function(de){delete de.vis}),Ct.forEach(function(de,Kt){0===Math.round((Kt+Xt)%Gt)&&(de.vis=!0)})}}}(0,p,T,w,x);var b=!!y&&y.duration>0;function k(rt){return b?rt.transition():rt}var L=T.xaxis,g=T.yaxis,S=w[0].trace,E=S.line,v=t.select(m),F=e(v,"g","errorbars"),N=e(v,"g","lines"),z=e(v,"g","points"),U=e(v,"g","text");if(l.getComponentMethod("errorbars","plot")(h,F,T,y),!0===S.visible){var Y,$;k(v).style("opacity",S.opacity);var ot=S.fill.charAt(S.fill.length-1);"x"!==ot&&"y"!==ot&&(ot=""),w[0][T.isRangePlot?"nodeRangePlot3":"node3"]=v;var G,R,j="",P=[],I=S._prevtrace;I&&(j=I._prevRevpath||"",$=I._nextFill,P=I._polygons);var Z,q,D,M,H,C,W,K="",J="",Q=[],ut=o.noop;if(Y=S._ownFill,a.hasLines(S)||"none"!==S.fill){for($&&$.datum(w),-1!==["hv","vh","hvh","vhv"].indexOf(E.shape)?(Z=s.steps(E.shape),q=s.steps(E.shape.split("").reverse().join(""))):Z=q="spline"===E.shape?function(rt){var dt=rt[rt.length-1];return rt.length>1&&rt[0][0]===dt[0]&&rt[0][1]===dt[1]?s.smoothclosed(rt.slice(1),E.smoothing):s.smoothopen(rt,E.smoothing)}:function(rt){return"M"+rt.join("L")},D=function(rt){return q(rt.reverse())},Q=i(w,{xaxis:L,yaxis:g,connectGaps:S.connectgaps,baseTolerance:Math.max(E.width||1,3)/4,shape:E.shape,simplify:E.simplify,fill:S.fill}),W=S._polygons=new Array(Q.length),A=0;A<Q.length;A++)S._polygons[A]=d(Q[A]);Q.length&&(M=Q[0][0],C=(H=Q[Q.length-1])[H.length-1]),ut=function(rt){return function(dt){if(G=Z(dt),R=D(dt),K?ot?(K+="L"+G.substr(1),J=R+"L"+J.substr(1)):(K+="Z"+G,J=R+"Z"+J):(K=G,J=R),a.hasLines(S)&&dt.length>1){var mt=t.select(this);if(mt.datum(w),rt)k(mt.style("opacity",0).attr("d",G).call(s.lineGroupStyle)).style("opacity",1);else{var Dt=k(mt);Dt.attr("d",G),s.singleLineStyle(w,Dt)}}}}}var ct=N.selectAll(".js-line").data(Q);k(ct.exit()).style("opacity",0).remove(),ct.each(ut(!1)),ct.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(s.lineGroupStyle).each(ut(!0)),s.setClipUrl(ct,T.layerClipId,h),Q.length?(Y?(Y.datum(w),M&&C&&(ot?("y"===ot?M[1]=C[1]=g.c2p(0,!0):"x"===ot&&(M[0]=C[0]=L.c2p(0,!0)),k(Y).attr("d","M"+C+"L"+M+"L"+K.substr(1)).call(s.singleFillStyle,h)):k(Y).attr("d",K+"Z").call(s.singleFillStyle,h))):$&&("tonext"===S.fill.substr(0,6)&&K&&j?("tonext"===S.fill?k($).attr("d",K+"Z"+j+"Z").call(s.singleFillStyle,h):k($).attr("d",K+"L"+j.substr(1)+"Z").call(s.singleFillStyle,h),S._polygons=S._polygons.concat(P)):(vt($),S._polygons=null)),S._prevRevpath=J,S._prevPolygons=W):(Y?vt(Y):$&&vt($),S._polygons=S._prevRevpath=S._prevPolygons=null),z.datum(w),U.datum(w),function(rt,dt,mt){var Dt,bt=mt[0].trace,wt=a.hasMarkers(bt),Ot=a.hasText(bt),It=function At(rt){if(rt.ids)return Et}(bt),St=lt,Nt=lt;if(wt||Ot){var Vt=n,Ct=bt.stackgroup,Gt=Ct&&"infer zero"===h._fullLayout._scatterStackOpts[L._id+g._id][Ct].stackgaps;bt.marker.maxdisplayed||bt._needsCull?Vt=Gt?Tt:xt:Ct&&!Gt&&(Vt=zt),wt&&(St=Vt),Ot&&(Nt=Vt)}var $t,Xt=(Dt=rt.selectAll("path.point").data(St,It)).enter().append("path").classed("point",!0);b&&Xt.call(s.pointStyle,bt,h).call(s.translatePoints,L,g).style("opacity",0).transition().style("opacity",1),Dt.order(),wt&&($t=s.makePointStyleFns(bt)),Dt.each(function(de){var Kt=t.select(this),kt=k(Kt);s.translatePoint(de,kt,L,g)?(s.singlePointStyle(de,kt,bt,$t,h),T.layerClipId&&s.hideOutsideRangePoint(de,kt,L,g,bt.xcalendar,bt.ycalendar),bt.customdata&&Kt.classed("plotly-customdata",null!=de.data)):kt.remove()}),b?Dt.exit().transition().style("opacity",0).remove():Dt.exit().remove(),(Dt=dt.selectAll("g").data(Nt,It)).enter().append("g").classed("textpoint",!0).append("text"),Dt.order(),Dt.each(function(de){var Kt=t.select(this),kt=k(Kt.select("text"));s.translatePoint(de,kt,L,g)?T.layerClipId&&s.hideOutsideRangePoint(de,Kt,L,g,bt.xcalendar,bt.ycalendar):Kt.remove()}),Dt.selectAll("text").call(s.textPointStyle,bt,h).each(function(de){var Kt=L.c2p(de.x),kt=g.c2p(de.y);t.select(this).selectAll("tspan.line").each(function(){k(t.select(this)).attr({x:Kt,y:kt})})}),Dt.exit().remove()}(z,U,w);var gt=!1===S.cliponaxis?null:T.layerClipId;s.setClipUrl(z,gt,h),s.setClipUrl(U,gt,h)}function vt(rt){k(rt).attr("d","M0,0Z")}function xt(rt){return rt.filter(function(dt){return!dt.gap&&dt.vis})}function Tt(rt){return rt.filter(function(dt){return dt.vis})}function zt(rt){return rt.filter(function(dt){return!dt.gap})}function Et(rt){return rt.id}function lt(){return!1}}tt.exports=function(h,p,T,w,x,m){var y,A,g,E,b=!x,k=!!x&&x.duration>0,L=r(h,p,T);(y=w.selectAll("g.trace").data(L,function(g){return g[0].trace.uid})).enter().append("g").attr("class",function(g){return"trace scatter trace"+g[0].trace.uid}).style("stroke-miterlimit",2),y.order(),g=h,E=p,y.each(function(v){var F=e(t.select(this),"g","fills");s.setClipUrl(F,E.layerClipId,g);var N=v[0].trace,z=[];N._ownfill&&z.push("_ownFill"),N._nexttrace&&z.push("_nextFill");var U=F.selectAll("g").data(z,n);U.enter().append("g"),U.exit().each(function(Y){N[Y]=null}).remove(),U.order().each(function(Y){N[Y]=e(t.select(this),"path","js-fill")})}),k?(m&&(A=m()),t.transition().duration(x.duration).ease(x.easing).each("end",function(){A&&A()}).each("interrupt",function(){A&&A()}).each(function(){w.selectAll("g.trace").each(function(g,S){f(h,S,p,g,L,this,x)})})):y.each(function(g,S){f(h,S,p,g,L,this,x)}),b&&y.exit().remove(),w.selectAll("path:not([d])").remove()}},{"../../components/drawing":124,"../../lib":232,"../../lib/polygon":244,"../../registry":318,"./line_points":372,"./link_traces":374,"./subtypes":383,"@plotly/d3":11}],380:[function(c,tt,B){"use strict";var t=c("./subtypes");tt.exports=function(l,o){var e,n,s,a,i=l.cd,r=l.xaxis,d=l.yaxis,f=[],h=i[0].trace;if(!t.hasMarkers(h)&&!t.hasText(h))return[];if(!1===o)for(e=0;e<i.length;e++)i[e].selected=0;else for(e=0;e<i.length;e++)s=r.c2p((n=i[e]).x),a=d.c2p(n.y),null!==n.i&&o.contains([s,a],!1,e,l)?(f.push({pointNumber:n.i,x:r.c2d(n.x),y:d.c2d(n.y)}),n.selected=1):n.selected=0;return f}},{"./subtypes":383}],381:[function(c,tt,B){"use strict";var t=["orientation","groupnorm","stackgaps"];tt.exports=function(l,o,e,n){var s=e._scatterStackOpts,a=n("stackgroup");if(a){var i=o.xaxis+o.yaxis,r=s[i];r||(r=s[i]={});var d=r[a],f=!1;d?d.traces.push(o):(d=r[a]={traceIndices:[],traces:[o]},f=!0);for(var h={orientation:o.x&&!o.y?"h":"v"},p=0;p<t.length;p++){var T=t[p],w=T+"Found";if(!d[w]){var x=void 0!==l[T],m="orientation"===T;if((x||f)&&(d[T]=n(T,h[T]),m&&(d.fillDflt="h"===d[T]?"tonextx":"tonexty"),x&&(d[w]=!0,!f&&(delete d.traces[0][T],m))))for(var y=0;y<d.traces.length-1;y++){var A=d.traces[y];A._input.fill!==A.fill&&(A.fill=d.fillDflt)}}}return d}}},{}],382:[function(c,tt,B){"use strict";var t=c("@plotly/d3"),l=c("../../components/drawing"),o=c("../../registry");function e(s,a,i){l.pointStyle(s.selectAll("path.point"),a,i)}function n(s,a,i){l.textPointStyle(s.selectAll("text"),a,i)}tt.exports={style:function(s){var a=t.select(s).selectAll("g.trace.scatter");a.style("opacity",function(i){return i[0].trace.opacity}),a.selectAll("g.points").each(function(i){e(t.select(this),i.trace||i[0].trace,s)}),a.selectAll("g.text").each(function(i){n(t.select(this),i.trace||i[0].trace,s)}),a.selectAll("g.trace path.js-line").call(l.lineGroupStyle),a.selectAll("g.trace path.js-fill").call(l.fillGroupStyle,s),o.getComponentMethod("errorbars","style")(a)},stylePoints:e,styleText:n,styleOnSelect:function(s,a,i){var r=a[0].trace;r.selectedpoints?(l.selectedPointStyle(i.selectAll("path.point"),r),l.selectedTextStyle(i.selectAll("text"),r)):(e(i,r,s),n(i,r,s))}}},{"../../components/drawing":124,"../../registry":318,"@plotly/d3":11}],383:[function(c,tt,B){"use strict";var t=c("../../lib");tt.exports={hasLines:function(l){return l.visible&&l.mode&&-1!==l.mode.indexOf("lines")},hasMarkers:function(l){return l.visible&&(l.mode&&-1!==l.mode.indexOf("markers")||"splom"===l.type)},hasText:function(l){return l.visible&&l.mode&&-1!==l.mode.indexOf("text")},isBubble:function(l){return t.isPlainObject(l.marker)&&t.isArrayOrTypedArray(l.marker.size)}}},{"../../lib":232}],384:[function(c,tt,B){"use strict";var t=c("../../lib");tt.exports=function(l,o,e,n,s){s=s||{},n("textposition"),t.coerceFont(n,"textfont",e.font),s.noSelect||(n("selected.textfont.color"),n("unselected.textfont.color"))}},{"../../lib":232}],385:[function(c,tt,B){"use strict";var t=c("../../lib"),l=c("../../registry");tt.exports=function(o,e,n,s){var a,i=s("x"),r=s("y");if(l.getComponentMethod("calendars","handleTraceDefaults")(o,e,["x","y"],n),i){var d=t.minRowLength(i);r?a=Math.min(d,t.minRowLength(r)):(a=d,s("y0"),s("dy"))}else{if(!r)return 0;a=t.minRowLength(r),s("x0"),s("dx")}return e._length=a,a}},{"../../lib":232,"../../registry":318}],386:[function(c,tt,B){"use strict";var t=c("../plots/cartesian/axes"),l=c("../lib"),o=c("../plot_api/plot_schema"),e=c("./helpers").pointsAccessorFunction,n=c("../constants/numerical").BADNUM;B.moduleType="transform",B.name="aggregate";var s=B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},a=s.aggregations;function i(h,p,T,w){if(w.enabled){for(var x=w.target,m=l.nestedProperty(p,x),y=m.get(),A=function(L,g){var E=g.d2c,v=g.c2d;switch(L.func){case"count":return r;case"first":return d;case"last":return f;case"sum":return function(F,N){for(var z=0,U=0;U<N.length;U++){var Y=E(F[N[U]]);Y!==n&&(z+=Y)}return v(z)};case"avg":return function(F,N){for(var z=0,U=0,Y=0;Y<N.length;Y++){var $=E(F[N[Y]]);$!==n&&(z+=$,U++)}return U?v(z/U):n};case"min":return function(F,N){for(var z=1/0,U=0;U<N.length;U++){var Y=E(F[N[U]]);Y!==n&&(z=Math.min(z,Y))}return z===1/0?n:v(z)};case"max":return function(F,N){for(var z=-1/0,U=0;U<N.length;U++){var Y=E(F[N[U]]);Y!==n&&(z=Math.max(z,Y))}return z===-1/0?n:v(z)};case"range":return function(F,N){for(var z=1/0,U=-1/0,Y=0;Y<N.length;Y++){var $=E(F[N[Y]]);$!==n&&(z=Math.min(z,$),U=Math.max(U,$))}return U===-1/0||z===1/0?n:v(U-z)};case"change":return function(F,N){var z=E(F[N[0]]),U=E(F[N[N.length-1]]);return z===n||U===n?n:v(U-z)};case"median":return function(F,N){for(var z=[],U=0;U<N.length;U++){var Y=E(F[N[U]]);Y!==n&&z.push(Y)}if(!z.length)return n;z.sort(l.sorterAsc);var $=(z.length-1)/2;return v((z[Math.floor($)]+z[Math.ceil($)])/2)};case"mode":return function(F,N){for(var z={},U=0,Y=n,$=0;$<N.length;$++){var ot=E(F[N[$]]);if(ot!==n){var G=z[ot]=(z[ot]||0)+1;G>U&&(U=G,Y=ot)}}return U?v(Y):n};case"rms":return function(F,N){for(var z=0,U=0,Y=0;Y<N.length;Y++){var $=E(F[N[Y]]);$!==n&&(z+=$*$,U++)}return U?v(Math.sqrt(z/U)):n};case"stddev":return function(F,N){var z,U=0,Y=0,$=1,ot=n;for(z=0;z<N.length&&ot===n;z++)ot=E(F[N[z]]);if(ot===n)return n;for(;z<N.length;z++){var G=E(F[N[z]]);if(G!==n){var R=G-ot;U+=R,Y+=R*R,$++}}var j="sample"===L.funcmode?$-1:$;return j?Math.sqrt((Y-U*U/$)/j):0}}}(w,t.getDataConversions(h,p,x,y)),b=new Array(T.length),k=0;k<T.length;k++)b[k]=A(y,T[k]);m.set(b),"count"===w.func&&l.pushUnique(p._arrayAttrs,x)}}function r(h,p){return p.length}function d(h,p){return h[p[0]]}function f(h,p){return h[p[p.length-1]]}B.supplyDefaults=function(h,p){var T,w={};function x(v,F){return l.coerce(h,w,s,v,F)}if(!x("enabled"))return w;var m=o.findArrayAttributes(p),y={};for(T=0;T<m.length;T++)y[m[T]]=1;var A=x("groups");if(!Array.isArray(A)){if(!y[A])return w.enabled=!1,w;y[A]=0}var b,k=h.aggregations||[],L=w.aggregations=new Array(k.length);function g(v,F){return l.coerce(k[T],b,a,v,F)}for(T=0;T<k.length;T++){b={_index:T};var S=g("target"),E=g("func");g("enabled")&&S&&(y[S]||"count"===E&&void 0===y[S])?("stddev"===E&&g("funcmode"),y[S]=0,L[T]=b):L[T]={enabled:!1,_index:T}}for(T=0;T<m.length;T++)y[m[T]]&&L.push({target:m[T],func:a.func.dflt,enabled:!0,_index:-1});return w},B.calcTransform=function(h,p,T){if(T.enabled){var w=T.groups,x=l.getTargetArray(p,{target:w});if(x){var m,y,A,k={},L={},g=[],S=e(p.transforms,T),E=x.length;for(p._length&&(E=Math.min(E,p._length)),m=0;m<E;m++)void 0===(A=k[y=x[m]])?(k[y]=g.length,g.push([m]),L[k[y]]=S(m)):(g[A].push(m),L[k[y]]=(L[k[y]]||[]).concat(S(m)));T._indexToPoints=L;var v=T.aggregations;for(m=0;m<v.length;m++)i(h,p,g,v[m]);"string"==typeof w&&i(h,p,g,{target:w,func:"first",enabled:!0}),p._length=g.length}}}},{"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plots/cartesian/axes":279,"./helpers":389}],387:[function(c,tt,B){"use strict";var t=c("../lib"),l=c("../registry"),o=c("../plots/cartesian/axes"),e=c("./helpers").pointsAccessorFunction,n=c("../constants/filter_ops"),s=n.COMPARISON_OPS,a=n.INTERVAL_OPS,i=n.SET_OPS;B.moduleType="transform",B.name="filter",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(s).concat(a).concat(i),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},B.supplyDefaults=function(r){var d={};function f(T,w){return t.coerce(r,d,B.attributes,T,w)}if(f("enabled")){var h=f("target");if(t.isArrayOrTypedArray(h)&&0===h.length)return d.enabled=!1,d;f("preservegaps"),f("operation"),f("value");var p=l.getComponentMethod("calendars","handleDefaults");p(r,d,"valuecalendar",null),p(r,d,"targetcalendar",null)}return d},B.calcTransform=function(r,d,f){if(f.enabled){var h=t.getTargetArray(d,f);if(h){var p=f.target,T=h.length;d._length&&(T=Math.min(T,d._length));var w=f.targetcalendar,x=d._arrayAttrs,m=f.preservegaps;if("string"==typeof p){var y=t.nestedProperty(d,p+"calendar").get();y&&(w=y)}var A,b,k=function(N,z,U){var Y=N.operation,$=N.value,ot=Array.isArray($);function G(I){return-1!==I.indexOf(Y)}var R,j=function(I){return z(I,0,N.valuecalendar)},P=function(I){return z(I,0,U)};switch(G(s)?R=j(ot?$[0]:$):G(a)?R=ot?[j($[0]),j($[1])]:[j($),j($)]:G(i)&&(R=ot?$.map(j):[j($)]),Y){case"=":return function(I){return P(I)===R};case"!=":return function(I){return P(I)!==R};case"<":return function(I){return P(I)<R};case"<=":return function(I){return P(I)<=R};case">":return function(I){return P(I)>R};case">=":return function(I){return P(I)>=R};case"[]":return function(I){var Z=P(I);return Z>=R[0]&&Z<=R[1]};case"()":return function(I){var Z=P(I);return Z>R[0]&&Z<R[1]};case"[)":return function(I){var Z=P(I);return Z>=R[0]&&Z<R[1]};case"(]":return function(I){var Z=P(I);return Z>R[0]&&Z<=R[1]};case"][":return function(I){var Z=P(I);return Z<=R[0]||Z>=R[1]};case")(":return function(I){var Z=P(I);return Z<R[0]||Z>R[1]};case"](":return function(I){var Z=P(I);return Z<=R[0]||Z>R[1]};case")[":return function(I){var Z=P(I);return Z<R[0]||Z>=R[1]};case"{}":return function(I){return-1!==R.indexOf(P(I))};case"}{":return function(I){return-1===R.indexOf(P(I))}}}(f,o.getDataToCoordFunc(r,d,p,h),w),L={},g={},S=0;m?(A=function(N){L[N.astr]=t.extendDeep([],N.get()),N.set(new Array(T))},b=function(N,z){var U=L[N.astr][z];N.get()[z]=U}):(A=function(N){L[N.astr]=t.extendDeep([],N.get()),N.set([])},b=function(N,z){var U=L[N.astr][z];N.get().push(U)}),F(A);for(var E=e(d.transforms,f),v=0;v<T;v++)k(h[v])?(F(b,v),g[S++]=E(v)):m&&S++;f._indexToPoints=g,d._length=S}}function F(N,z){for(var U=0;U<x.length;U++)N(t.nestedProperty(d,x[U]),z)}}},{"../constants/filter_ops":210,"../lib":232,"../plots/cartesian/axes":279,"../registry":318,"./helpers":389}],388:[function(c,tt,B){"use strict";var t=c("../lib"),l=c("../plot_api/plot_schema"),o=c("../plots/plots"),e=c("./helpers").pointsAccessorFunction;function n(s,a){var i,r,d,f,h,p,T,w,x,m,y=a.transform,A=a.transformIndex,b=s.transforms[A].groups,k=e(s.transforms,y);if(!t.isArrayOrTypedArray(b)||0===b.length)return[s];var L=t.filterUnique(b),g=new Array(L.length),S=b.length,E=l.findArrayAttributes(s),v=y.styles||[],F={};for(i=0;i<v.length;i++)F[v[i].target]=v[i].value;y.styles&&(m=t.keyedContainer(y,"styles","target","value.name"));var N={},z={};for(i=0;i<L.length;i++){N[p=L[i]]=i,z[p]=0,(T=g[i]=t.extendDeepNoArrays({},s))._group=p,T.transforms[A]._indexToPoints={};var U=null;for(m&&(U=m.get(p)),T.name=U||""===U?U:t.templateString(y.nameformat,{trace:s.name,group:p}),w=T.transforms,T.transforms=[],r=0;r<w.length;r++)T.transforms[r]=t.extendDeepNoArrays({},w[r]);for(r=0;r<E.length;r++)t.nestedProperty(T,E[r]).set([])}for(d=0;d<E.length;d++){for(f=E[d],r=0,x=[];r<L.length;r++)x[r]=t.nestedProperty(g[r],f).get();for(h=t.nestedProperty(s,f).get(),r=0;r<S;r++)x[N[b[r]]].push(h[r])}for(r=0;r<S;r++)(T=g[N[b[r]]]).transforms[A]._indexToPoints[z[b[r]]]=k(r),z[b[r]]++;for(i=0;i<L.length;i++)p=L[i],o.clearExpandedTraceDefaultColors(T=g[i]),T=t.extendDeepNoArrays(T,F[p]||{});return g}B.moduleType="transform",B.name="groupby",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},B.supplyDefaults=function(s,a,i){var r,d={};function f(x,m){return t.coerce(s,d,B.attributes,x,m)}if(!f("enabled"))return d;f("groups"),f("nameformat",i._dataLength>1?"%{group} (%{trace})":"%{group}");var h=s.styles,p=d.styles=[];if(h)for(r=0;r<h.length;r++){var T=p[r]={};t.coerce(h[r],p[r],B.attributes.styles,"target");var w=t.coerce(h[r],p[r],B.attributes.styles,"value");t.isPlainObject(w)?T.value=t.extendDeep({},w):w&&delete T.value}return d},B.transform=function(s,a){var i,r,d,f=[];for(r=0;r<s.length;r++)for(i=n(s[r],a),d=0;d<i.length;d++)f.push(i[d]);return f}},{"../lib":232,"../plot_api/plot_schema":267,"../plots/plots":316,"./helpers":389}],389:[function(c,tt,B){"use strict";B.pointsAccessorFunction=function(t,l){for(var o,e,n=0;n<t.length&&(o=t[n])!==l;n++)o._indexToPoints&&!1!==o.enabled&&(e=o._indexToPoints);return e?function(s){return e[s]}:function(s){return[s]}}},{}],390:[function(c,tt,B){"use strict";var t=c("../lib"),l=c("../plots/cartesian/axes"),o=c("./helpers").pointsAccessorFunction,e=c("../constants/numerical").BADNUM;B.moduleType="transform",B.name="sort",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},B.supplyDefaults=function(n){var s={};function a(i,r){return t.coerce(n,s,B.attributes,i,r)}return a("enabled")&&(a("target"),a("order")),s},B.calcTransform=function(n,s,a){if(a.enabled){var i=t.getTargetArray(s,a);if(i){var r=a.target,d=i.length;s._length&&(d=Math.min(d,s._length));var f,h,p=s._arrayAttrs,T=function(b,k,L,g){var S,E=new Array(g),v=new Array(g);for(S=0;S<g;S++)E[S]={v:k[S],i:S};for(E.sort(function(F,N){switch(F.order){case"ascending":return function(z,U){var Y=N(z.v),$=N(U.v);return Y===e?1:$===e?-1:Y-$};case"descending":return function(z,U){var Y=N(z.v),$=N(U.v);return Y===e?1:$===e?-1:$-Y}}}(b,L)),S=0;S<g;S++)v[S]=E[S].i;return v}(a,i,l.getDataToCoordFunc(n,s,r,i),d),w=o(s.transforms,a),x={};for(f=0;f<p.length;f++){var m=t.nestedProperty(s,p[f]),y=m.get(),A=new Array(d);for(h=0;h<d;h++)A[h]=y[T[h]];m.set(A)}for(h=0;h<d;h++)x[h]=w(T[h]);a._indexToPoints=x,s._length=d}}}},{"../constants/numerical":212,"../lib":232,"../plots/cartesian/axes":279,"./helpers":389}],391:[function(c,tt,B){"use strict";B.version="2.12.0"},{}]},{},[8])(8)});